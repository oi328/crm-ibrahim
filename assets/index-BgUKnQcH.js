const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CompanyInfoPage-iPOpKrnU.js","assets/SaveButton-CbANjftk.js","assets/SubscriptionPage-BhEsbfjQ.js","assets/ModulesPage-B-vX98IM.js","assets/DepartmentsPage-CEkQ0Ikb.js","assets/VisibilityPage-C30QYqCq.js"])))=>i.map(i=>d[i]);
function PZ(e,t){for(var a=0;a<t.length;a++){const r=t[a];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(r,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();var rze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Q4={exports:{}},Cg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v7;function LZ(){if(v7)return Cg;v7=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(r,n,i){var l=null;if(i!==void 0&&(l=""+i),n.key!==void 0&&(l=""+n.key),"key"in n){i={};for(var o in n)o!=="key"&&(i[o]=n[o])}else i=n;return n=i.ref,{$$typeof:e,type:r,key:l,ref:n!==void 0?n:null,props:i}}return Cg.Fragment=t,Cg.jsx=a,Cg.jsxs=a,Cg}var b7;function OZ(){return b7||(b7=1,Q4.exports=LZ()),Q4.exports}var s=OZ(),J4={exports:{}},Ja={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y7;function RZ(){if(y7)return Ja;y7=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function x(X){return X===null||typeof X!="object"?null:(X=f&&X[f]||X["@@iterator"],typeof X=="function"?X:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function b(X,ce,D){this.props=X,this.context=ce,this.refs=g,this.updater=D||p}b.prototype.isReactComponent={},b.prototype.setState=function(X,ce){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,ce,"setState")},b.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function j(){}j.prototype=b.prototype;function N(X,ce,D){this.props=X,this.context=ce,this.refs=g,this.updater=D||p}var S=N.prototype=new j;S.constructor=N,v(S,b.prototype),S.isPureReactComponent=!0;var k=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function M(X,ce,D,Q,H,J){return D=J.ref,{$$typeof:e,type:X,key:ce,ref:D!==void 0?D:null,props:J}}function L(X,ce){return M(X.type,ce,void 0,void 0,void 0,X.props)}function U(X){return typeof X=="object"&&X!==null&&X.$$typeof===e}function z(X){var ce={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(D){return ce[D]})}var O=/\/+/g;function B(X,ce){return typeof X=="object"&&X!==null&&X.key!=null?z(""+X.key):ce.toString(36)}function E(){}function R(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(E,E):(X.status="pending",X.then(function(ce){X.status==="pending"&&(X.status="fulfilled",X.value=ce)},function(ce){X.status==="pending"&&(X.status="rejected",X.reason=ce)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function q(X,ce,D,Q,H){var J=typeof X;(J==="undefined"||J==="boolean")&&(X=null);var ae=!1;if(X===null)ae=!0;else switch(J){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(X.$$typeof){case e:case t:ae=!0;break;case u:return ae=X._init,q(ae(X._payload),ce,D,Q,H)}}if(ae)return H=H(X),ae=Q===""?"."+B(X,0):Q,k(H)?(D="",ae!=null&&(D=ae.replace(O,"$&/")+"/"),q(H,ce,D,"",function(Y){return Y})):H!=null&&(U(H)&&(H=L(H,D+(H.key==null||X&&X.key===H.key?"":(""+H.key).replace(O,"$&/")+"/")+ae)),ce.push(H)),1;ae=0;var ie=Q===""?".":Q+":";if(k(X))for(var le=0;le<X.length;le++)Q=X[le],J=ie+B(Q,le),ae+=q(Q,ce,D,J,H);else if(le=x(X),typeof le=="function")for(X=le.call(X),le=0;!(Q=X.next()).done;)Q=Q.value,J=ie+B(Q,le++),ae+=q(Q,ce,D,J,H);else if(J==="object"){if(typeof X.then=="function")return q(R(X),ce,D,Q,H);throw ce=String(X),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return ae}function I(X,ce,D){if(X==null)return X;var Q=[],H=0;return q(X,Q,"","",function(J){return ce.call(D,J,H++)}),Q}function G(X){if(X._status===-1){var ce=X._result;ce=ce(),ce.then(function(D){(X._status===0||X._status===-1)&&(X._status=1,X._result=D)},function(D){(X._status===0||X._status===-1)&&(X._status=2,X._result=D)}),X._status===-1&&(X._status=0,X._result=ce)}if(X._status===1)return X._result.default;throw X._result}var re=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)};function te(){}return Ja.Children={map:I,forEach:function(X,ce,D){I(X,function(){ce.apply(this,arguments)},D)},count:function(X){var ce=0;return I(X,function(){ce++}),ce},toArray:function(X){return I(X,function(ce){return ce})||[]},only:function(X){if(!U(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},Ja.Component=b,Ja.Fragment=a,Ja.Profiler=n,Ja.PureComponent=N,Ja.StrictMode=r,Ja.Suspense=c,Ja.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ja.__COMPILER_RUNTIME={__proto__:null,c:function(X){return A.H.useMemoCache(X)}},Ja.cache=function(X){return function(){return X.apply(null,arguments)}},Ja.cloneElement=function(X,ce,D){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var Q=v({},X.props),H=X.key,J=void 0;if(ce!=null)for(ae in ce.ref!==void 0&&(J=void 0),ce.key!==void 0&&(H=""+ce.key),ce)!_.call(ce,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&ce.ref===void 0||(Q[ae]=ce[ae]);var ae=arguments.length-2;if(ae===1)Q.children=D;else if(1<ae){for(var ie=Array(ae),le=0;le<ae;le++)ie[le]=arguments[le+2];Q.children=ie}return M(X.type,H,void 0,void 0,J,Q)},Ja.createContext=function(X){return X={$$typeof:l,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:i,_context:X},X},Ja.createElement=function(X,ce,D){var Q,H={},J=null;if(ce!=null)for(Q in ce.key!==void 0&&(J=""+ce.key),ce)_.call(ce,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(H[Q]=ce[Q]);var ae=arguments.length-2;if(ae===1)H.children=D;else if(1<ae){for(var ie=Array(ae),le=0;le<ae;le++)ie[le]=arguments[le+2];H.children=ie}if(X&&X.defaultProps)for(Q in ae=X.defaultProps,ae)H[Q]===void 0&&(H[Q]=ae[Q]);return M(X,J,void 0,void 0,null,H)},Ja.createRef=function(){return{current:null}},Ja.forwardRef=function(X){return{$$typeof:o,render:X}},Ja.isValidElement=U,Ja.lazy=function(X){return{$$typeof:u,_payload:{_status:-1,_result:X},_init:G}},Ja.memo=function(X,ce){return{$$typeof:d,type:X,compare:ce===void 0?null:ce}},Ja.startTransition=function(X){var ce=A.T,D={};A.T=D;try{var Q=X(),H=A.S;H!==null&&H(D,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(te,re)}catch(J){re(J)}finally{A.T=ce}},Ja.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ja.use=function(X){return A.H.use(X)},Ja.useActionState=function(X,ce,D){return A.H.useActionState(X,ce,D)},Ja.useCallback=function(X,ce){return A.H.useCallback(X,ce)},Ja.useContext=function(X){return A.H.useContext(X)},Ja.useDebugValue=function(){},Ja.useDeferredValue=function(X,ce){return A.H.useDeferredValue(X,ce)},Ja.useEffect=function(X,ce,D){var Q=A.H;if(typeof D=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(X,ce)},Ja.useId=function(){return A.H.useId()},Ja.useImperativeHandle=function(X,ce,D){return A.H.useImperativeHandle(X,ce,D)},Ja.useInsertionEffect=function(X,ce){return A.H.useInsertionEffect(X,ce)},Ja.useLayoutEffect=function(X,ce){return A.H.useLayoutEffect(X,ce)},Ja.useMemo=function(X,ce){return A.H.useMemo(X,ce)},Ja.useOptimistic=function(X,ce){return A.H.useOptimistic(X,ce)},Ja.useReducer=function(X,ce,D){return A.H.useReducer(X,ce,D)},Ja.useRef=function(X){return A.H.useRef(X)},Ja.useState=function(X){return A.H.useState(X)},Ja.useSyncExternalStore=function(X,ce,D){return A.H.useSyncExternalStore(X,ce,D)},Ja.useTransition=function(){return A.H.useTransition()},Ja.version="19.1.1",Ja}var w7;function vx(){return w7||(w7=1,J4.exports=RZ()),J4.exports}var w=vx();const In=vh(w),FZ=PZ({__proto__:null,default:In},[w]);var Z4={exports:{}},Ag={},e5={exports:{}},t5={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j7;function IZ(){return j7||(j7=1,(function(e){function t(I,G){var re=I.length;I.push(G);e:for(;0<re;){var te=re-1>>>1,X=I[te];if(0<n(X,G))I[te]=G,I[re]=X,re=te;else break e}}function a(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var G=I[0],re=I.pop();if(re!==G){I[0]=re;e:for(var te=0,X=I.length,ce=X>>>1;te<ce;){var D=2*(te+1)-1,Q=I[D],H=D+1,J=I[H];if(0>n(Q,re))H<X&&0>n(J,Q)?(I[te]=J,I[H]=re,te=H):(I[te]=Q,I[D]=re,te=D);else if(H<X&&0>n(J,re))I[te]=J,I[H]=re,te=H;else break e}}return G}function n(I,G){var re=I.sortIndex-G.sortIndex;return re!==0?re:I.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,f=null,x=3,p=!1,v=!1,g=!1,b=!1,j=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function k(I){for(var G=a(d);G!==null;){if(G.callback===null)r(d);else if(G.startTime<=I)r(d),G.sortIndex=G.expirationTime,t(c,G);else break;G=a(d)}}function A(I){if(g=!1,k(I),!v)if(a(c)!==null)v=!0,_||(_=!0,B());else{var G=a(d);G!==null&&q(A,G.startTime-I)}}var _=!1,M=-1,L=5,U=-1;function z(){return b?!0:!(e.unstable_now()-U<L)}function O(){if(b=!1,_){var I=e.unstable_now();U=I;var G=!0;try{e:{v=!1,g&&(g=!1,N(M),M=-1),p=!0;var re=x;try{t:{for(k(I),f=a(c);f!==null&&!(f.expirationTime>I&&z());){var te=f.callback;if(typeof te=="function"){f.callback=null,x=f.priorityLevel;var X=te(f.expirationTime<=I);if(I=e.unstable_now(),typeof X=="function"){f.callback=X,k(I),G=!0;break t}f===a(c)&&r(c),k(I)}else r(c);f=a(c)}if(f!==null)G=!0;else{var ce=a(d);ce!==null&&q(A,ce.startTime-I),G=!1}}break e}finally{f=null,x=re,p=!1}G=void 0}}finally{G?B():_=!1}}}var B;if(typeof S=="function")B=function(){S(O)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,R=E.port2;E.port1.onmessage=O,B=function(){R.postMessage(null)}}else B=function(){j(O,0)};function q(I,G){M=j(function(){I(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(I){switch(x){case 1:case 2:case 3:var G=3;break;default:G=x}var re=x;x=G;try{return I()}finally{x=re}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(I,G){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var re=x;x=I;try{return G()}finally{x=re}},e.unstable_scheduleCallback=function(I,G,re){var te=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?te+re:te):re=te,I){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=re+X,I={id:u++,callback:G,priorityLevel:I,startTime:re,expirationTime:X,sortIndex:-1},re>te?(I.sortIndex=re,t(d,I),a(c)===null&&I===a(d)&&(g?(N(M),M=-1):g=!0,q(A,re-te))):(I.sortIndex=X,t(c,I),v||p||(v=!0,_||(_=!0,B()))),I},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(I){var G=x;return function(){var re=x;x=G;try{return I.apply(this,arguments)}finally{x=re}}}})(t5)),t5}var N7;function BZ(){return N7||(N7=1,e5.exports=IZ()),e5.exports}var a5={exports:{}},Ki={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S7;function $Z(){if(S7)return Ki;S7=1;var e=vx();function t(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)d+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},n=Symbol.for("react.portal");function i(c,d,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:f==null?null:""+f,children:c,containerInfo:d,implementation:u}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ki.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ki.createPortal=function(c,d){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return i(c,d,null,u)},Ki.flushSync=function(c){var d=l.T,u=r.p;try{if(l.T=null,r.p=2,c)return c()}finally{l.T=d,r.p=u,r.d.f()}},Ki.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},Ki.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Ki.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var u=d.as,f=o(u,d.crossOrigin),x=typeof d.integrity=="string"?d.integrity:void 0,p=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;u==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:f,integrity:x,fetchPriority:p}):u==="script"&&r.d.X(c,{crossOrigin:f,integrity:x,fetchPriority:p,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ki.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var u=o(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:u,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},Ki.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var u=d.as,f=o(u,d.crossOrigin);r.d.L(c,u,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ki.preloadModule=function(c,d){if(typeof c=="string")if(d){var u=o(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:u,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},Ki.requestFormReset=function(c){r.d.r(c)},Ki.unstable_batchedUpdates=function(c,d){return c(d)},Ki.useFormState=function(c,d,u){return l.H.useFormState(c,d,u)},Ki.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ki.version="19.1.1",Ki}var k7;function d$(){if(k7)return a5.exports;k7=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),a5.exports=$Z(),a5.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C7;function UZ(){if(C7)return Ag;C7=1;var e=BZ(),t=vx(),a=d$();function r(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function i(h){var m=h,y=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,(m.flags&4098)!==0&&(y=m.return),h=m.return;while(h)}return m.tag===3?y:null}function l(h){if(h.tag===13){var m=h.memoizedState;if(m===null&&(h=h.alternate,h!==null&&(m=h.memoizedState)),m!==null)return m.dehydrated}return null}function o(h){if(i(h)!==h)throw Error(r(188))}function c(h){var m=h.alternate;if(!m){if(m=i(h),m===null)throw Error(r(188));return m!==h?null:h}for(var y=h,C=m;;){var P=y.return;if(P===null)break;var V=P.alternate;if(V===null){if(C=P.return,C!==null){y=C;continue}break}if(P.child===V.child){for(V=P.child;V;){if(V===y)return o(P),h;if(V===C)return o(P),m;V=V.sibling}throw Error(r(188))}if(y.return!==C.return)y=P,C=V;else{for(var ue=!1,be=P.child;be;){if(be===y){ue=!0,y=P,C=V;break}if(be===C){ue=!0,C=P,y=V;break}be=be.sibling}if(!ue){for(be=V.child;be;){if(be===y){ue=!0,y=V,C=P;break}if(be===C){ue=!0,C=V,y=P;break}be=be.sibling}if(!ue)throw Error(r(189))}}if(y.alternate!==C)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?h:m}function d(h){var m=h.tag;if(m===5||m===26||m===27||m===6)return h;for(h=h.child;h!==null;){if(m=d(h),m!==null)return m;h=h.sibling}return null}var u=Object.assign,f=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),S=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function B(h){return h===null||typeof h!="object"?null:(h=O&&h[O]||h["@@iterator"],typeof h=="function"?h:null)}var E=Symbol.for("react.client.reference");function R(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===E?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case v:return"Fragment";case b:return"Profiler";case g:return"StrictMode";case A:return"Suspense";case _:return"SuspenseList";case U:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case p:return"Portal";case S:return(h.displayName||"Context")+".Provider";case N:return(h._context.displayName||"Context")+".Consumer";case k:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case M:return m=h.displayName||null,m!==null?m:R(h.type)||"Memo";case L:m=h._payload,h=h._init;try{return R(h(m))}catch{}}return null}var q=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},te=[],X=-1;function ce(h){return{current:h}}function D(h){0>X||(h.current=te[X],te[X]=null,X--)}function Q(h,m){X++,te[X]=h.current,h.current=m}var H=ce(null),J=ce(null),ae=ce(null),ie=ce(null);function le(h,m){switch(Q(ae,m),Q(J,h),Q(H,null),m.nodeType){case 9:case 11:h=(h=m.documentElement)&&(h=h.namespaceURI)?qE(h):0;break;default:if(h=m.tagName,m=m.namespaceURI)m=qE(m),h=GE(m,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}D(H),Q(H,h)}function Y(){D(H),D(J),D(ae)}function oe(h){h.memoizedState!==null&&Q(ie,h);var m=H.current,y=GE(m,h.type);m!==y&&(Q(J,h),Q(H,y))}function xe(h){J.current===h&&(D(H),D(J)),ie.current===h&&(D(ie),wg._currentValue=re)}var W=Object.prototype.hasOwnProperty,he=e.unstable_scheduleCallback,fe=e.unstable_cancelCallback,de=e.unstable_shouldYield,Oe=e.unstable_requestPaint,Fe=e.unstable_now,Ee=e.unstable_getCurrentPriorityLevel,se=e.unstable_ImmediatePriority,_e=e.unstable_UserBlockingPriority,je=e.unstable_NormalPriority,rt=e.unstable_LowPriority,ft=e.unstable_IdlePriority,Bt=e.log,Je=e.unstable_setDisableYieldValue,$e=null,ze=null;function Ze(h){if(typeof Bt=="function"&&Je(h),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode($e,h)}catch{}}var dt=Math.clz32?Math.clz32:Dt,At=Math.log,kt=Math.LN2;function Dt(h){return h>>>=0,h===0?32:31-(At(h)/kt|0)|0}var zt=256,qt=4194304;function Te(h){var m=h&42;if(m!==0)return m;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function $t(h,m,y){var C=h.pendingLanes;if(C===0)return 0;var P=0,V=h.suspendedLanes,ue=h.pingedLanes;h=h.warmLanes;var be=C&134217727;return be!==0?(C=be&~V,C!==0?P=Te(C):(ue&=be,ue!==0?P=Te(ue):y||(y=be&~h,y!==0&&(P=Te(y))))):(be=C&~V,be!==0?P=Te(be):ue!==0?P=Te(ue):y||(y=C&~h,y!==0&&(P=Te(y)))),P===0?0:m!==0&&m!==P&&(m&V)===0&&(V=P&-P,y=m&-m,V>=y||V===32&&(y&4194048)!==0)?m:P}function We(h,m){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&m)===0}function Ut(h,m){switch(h){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vt(){var h=zt;return zt<<=1,(zt&4194048)===0&&(zt=256),h}function fa(){var h=qt;return qt<<=1,(qt&62914560)===0&&(qt=4194304),h}function Ka(h){for(var m=[],y=0;31>y;y++)m.push(h);return m}function Oa(h,m){h.pendingLanes|=m,m!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function oa(h,m,y,C,P,V){var ue=h.pendingLanes;h.pendingLanes=y,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=y,h.entangledLanes&=y,h.errorRecoveryDisabledLanes&=y,h.shellSuspendCounter=0;var be=h.entanglements,Ie=h.expirationTimes,ot=h.hiddenUpdates;for(y=ue&~y;0<y;){var Ct=31-dt(y),Pt=1<<Ct;be[Ct]=0,Ie[Ct]=-1;var ct=ot[Ct];if(ct!==null)for(ot[Ct]=null,Ct=0;Ct<ct.length;Ct++){var ht=ct[Ct];ht!==null&&(ht.lane&=-536870913)}y&=~Pt}C!==0&&Ba(h,C,0),V!==0&&P===0&&h.tag!==0&&(h.suspendedLanes|=V&~(ue&~m))}function Ba(h,m,y){h.pendingLanes|=m,h.suspendedLanes&=~m;var C=31-dt(m);h.entangledLanes|=m,h.entanglements[C]=h.entanglements[C]|1073741824|y&4194090}function Be(h,m){var y=h.entangledLanes|=m;for(h=h.entanglements;y;){var C=31-dt(y),P=1<<C;P&m|h[C]&m&&(h[C]|=m),y&=~P}}function st(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function Nt(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function yt(){var h=G.p;return h!==0?h:(h=window.event,h===void 0?32:h7(h.type))}function ta(h,m){var y=G.p;try{return G.p=h,m()}finally{G.p=y}}var Aa=Math.random().toString(36).slice(2),lr="__reactFiber$"+Aa,qa="__reactProps$"+Aa,er="__reactContainer$"+Aa,Ta="__reactEvents$"+Aa,Cr="__reactListeners$"+Aa,ee="__reactHandles$"+Aa,ke="__reactResources$"+Aa,ye="__reactMarker$"+Aa;function Ne(h){delete h[lr],delete h[qa],delete h[Ta],delete h[Cr],delete h[ee]}function Ae(h){var m=h[lr];if(m)return m;for(var y=h.parentNode;y;){if(m=y[er]||y[lr]){if(y=m.alternate,m.child!==null||y!==null&&y.child!==null)for(h=QE(h);h!==null;){if(y=h[lr])return y;h=QE(h)}return m}h=y,y=h.parentNode}return null}function De(h){if(h=h[lr]||h[er]){var m=h.tag;if(m===5||m===6||m===13||m===26||m===27||m===3)return h}return null}function Ye(h){var m=h.tag;if(m===5||m===26||m===27||m===6)return h.stateNode;throw Error(r(33))}function ut(h){var m=h[ke];return m||(m=h[ke]={hoistableStyles:new Map,hoistableScripts:new Map}),m}function Ke(h){h[ye]=!0}var et=new Set,at={};function vt(h,m){Lt(h,m),Lt(h+"Capture",m)}function Lt(h,m){for(at[h]=m,h=0;h<m.length;h++)et.add(m[h])}var Xt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ce={},Ve={};function Ht(h){return W.call(Ve,h)?!0:W.call(Ce,h)?!1:Xt.test(h)?Ve[h]=!0:(Ce[h]=!0,!1)}function ma(h,m,y){if(Ht(m))if(y===null)h.removeAttribute(m);else{switch(typeof y){case"undefined":case"function":case"symbol":h.removeAttribute(m);return;case"boolean":var C=m.toLowerCase().slice(0,5);if(C!=="data-"&&C!=="aria-"){h.removeAttribute(m);return}}h.setAttribute(m,""+y)}}function va(h,m,y){if(y===null)h.removeAttribute(m);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(m);return}h.setAttribute(m,""+y)}}function Ha(h,m,y,C){if(C===null)h.removeAttribute(y);else{switch(typeof C){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(y);return}h.setAttributeNS(m,y,""+C)}}var Ws,Rr;function Un(h){if(Ws===void 0)try{throw Error()}catch(y){var m=y.stack.trim().match(/\n( *(at )?)/);Ws=m&&m[1]||"",Rr=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ws+h+Rr}var oi=!1;function Fl(h,m){if(!h||oi)return"";oi=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(m){var Pt=function(){throw Error()};if(Object.defineProperty(Pt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Pt,[])}catch(ht){var ct=ht}Reflect.construct(h,[],Pt)}else{try{Pt.call()}catch(ht){ct=ht}h.call(Pt.prototype)}}else{try{throw Error()}catch(ht){ct=ht}(Pt=h())&&typeof Pt.catch=="function"&&Pt.catch(function(){})}}catch(ht){if(ht&&ct&&typeof ht.stack=="string")return[ht.stack,ct.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var P=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");P&&P.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var V=C.DetermineComponentFrameRoot(),ue=V[0],be=V[1];if(ue&&be){var Ie=ue.split(`
`),ot=be.split(`
`);for(P=C=0;C<Ie.length&&!Ie[C].includes("DetermineComponentFrameRoot");)C++;for(;P<ot.length&&!ot[P].includes("DetermineComponentFrameRoot");)P++;if(C===Ie.length||P===ot.length)for(C=Ie.length-1,P=ot.length-1;1<=C&&0<=P&&Ie[C]!==ot[P];)P--;for(;1<=C&&0<=P;C--,P--)if(Ie[C]!==ot[P]){if(C!==1||P!==1)do if(C--,P--,0>P||Ie[C]!==ot[P]){var Ct=`
`+Ie[C].replace(" at new "," at ");return h.displayName&&Ct.includes("<anonymous>")&&(Ct=Ct.replace("<anonymous>",h.displayName)),Ct}while(1<=C&&0<=P);break}}}finally{oi=!1,Error.prepareStackTrace=y}return(y=h?h.displayName||h.name:"")?Un(y):""}function Tn(h){switch(h.tag){case 26:case 27:case 5:return Un(h.type);case 16:return Un("Lazy");case 13:return Un("Suspense");case 19:return Un("SuspenseList");case 0:case 15:return Fl(h.type,!1);case 11:return Fl(h.type.render,!1);case 1:return Fl(h.type,!0);case 31:return Un("Activity");default:return""}}function cu(h){try{var m="";do m+=Tn(h),h=h.return;while(h);return m}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}function hr(h){switch(typeof h){case"bigint":case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function yd(h){var m=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function du(h){var m=yd(h)?"checked":"value",y=Object.getOwnPropertyDescriptor(h.constructor.prototype,m),C=""+h[m];if(!h.hasOwnProperty(m)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var P=y.get,V=y.set;return Object.defineProperty(h,m,{configurable:!0,get:function(){return P.call(this)},set:function(ue){C=""+ue,V.call(this,ue)}}),Object.defineProperty(h,m,{enumerable:y.enumerable}),{getValue:function(){return C},setValue:function(ue){C=""+ue},stopTracking:function(){h._valueTracker=null,delete h[m]}}}}function zn(h){h._valueTracker||(h._valueTracker=du(h))}function Hn(h){if(!h)return!1;var m=h._valueTracker;if(!m)return!0;var y=m.getValue(),C="";return h&&(C=yd(h)?h.checked?"true":"false":h.value),h=C,h!==y?(m.setValue(h),!0):!1}function ci(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}var Tc=/[\n"\\]/g;function fr(h){return h.replace(Tc,function(m){return"\\"+m.charCodeAt(0).toString(16)+" "})}function Ec(h,m,y,C,P,V,ue,be){h.name="",ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"?h.type=ue:h.removeAttribute("type"),m!=null?ue==="number"?(m===0&&h.value===""||h.value!=m)&&(h.value=""+hr(m)):h.value!==""+hr(m)&&(h.value=""+hr(m)):ue!=="submit"&&ue!=="reset"||h.removeAttribute("value"),m!=null?uu(h,ue,hr(m)):y!=null?uu(h,ue,hr(y)):C!=null&&h.removeAttribute("value"),P==null&&V!=null&&(h.defaultChecked=!!V),P!=null&&(h.checked=P&&typeof P!="function"&&typeof P!="symbol"),be!=null&&typeof be!="function"&&typeof be!="symbol"&&typeof be!="boolean"?h.name=""+hr(be):h.removeAttribute("name")}function Th(h,m,y,C,P,V,ue,be){if(V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(h.type=V),m!=null||y!=null){if(!(V!=="submit"&&V!=="reset"||m!=null))return;y=y!=null?""+hr(y):"",m=m!=null?""+hr(m):y,be||m===h.value||(h.value=m),h.defaultValue=m}C=C??P,C=typeof C!="function"&&typeof C!="symbol"&&!!C,h.checked=be?h.checked:!!C,h.defaultChecked=!!C,ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"&&(h.name=ue)}function uu(h,m,y){m==="number"&&ci(h.ownerDocument)===h||h.defaultValue===""+y||(h.defaultValue=""+y)}function oo(h,m,y,C){if(h=h.options,m){m={};for(var P=0;P<y.length;P++)m["$"+y[P]]=!0;for(y=0;y<h.length;y++)P=m.hasOwnProperty("$"+h[y].value),h[y].selected!==P&&(h[y].selected=P),P&&C&&(h[y].defaultSelected=!0)}else{for(y=""+hr(y),m=null,P=0;P<h.length;P++){if(h[P].value===y){h[P].selected=!0,C&&(h[P].defaultSelected=!0);return}m!==null||h[P].disabled||(m=h[P])}m!==null&&(m.selected=!0)}}function sn(h,m,y){if(m!=null&&(m=""+hr(m),m!==h.value&&(h.value=m),y==null)){h.defaultValue!==m&&(h.defaultValue=m);return}h.defaultValue=y!=null?""+hr(y):""}function Io(h,m,y,C){if(m==null){if(C!=null){if(y!=null)throw Error(r(92));if(q(C)){if(1<C.length)throw Error(r(93));C=C[0]}y=C}y==null&&(y=""),m=y}y=hr(m),h.defaultValue=y,C=h.textContent,C===y&&C!==""&&C!==null&&(h.value=C)}function Ai(h,m){if(m){var y=h.firstChild;if(y&&y===h.lastChild&&y.nodeType===3){y.nodeValue=m;return}}h.textContent=m}var Bo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Re(h,m,y){var C=m.indexOf("--")===0;y==null||typeof y=="boolean"||y===""?C?h.setProperty(m,""):m==="float"?h.cssFloat="":h[m]="":C?h.setProperty(m,y):typeof y!="number"||y===0||Bo.has(m)?m==="float"?h.cssFloat=y:h[m]=(""+y).trim():h[m]=y+"px"}function gt(h,m,y){if(m!=null&&typeof m!="object")throw Error(r(62));if(h=h.style,y!=null){for(var C in y)!y.hasOwnProperty(C)||m!=null&&m.hasOwnProperty(C)||(C.indexOf("--")===0?h.setProperty(C,""):C==="float"?h.cssFloat="":h[C]="");for(var P in m)C=m[P],m.hasOwnProperty(P)&&y[P]!==C&&Re(h,P,C)}else for(var V in m)m.hasOwnProperty(V)&&Re(h,V,m[V])}function Zt(h){if(h.indexOf("-")===-1)return!1;switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mr(h){return vr.test(""+h)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":h}var Zr=null;function En(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Qa=null,vs=null;function ra(h){var m=De(h);if(m&&(h=m.stateNode)){var y=h[qa]||null;e:switch(h=m.stateNode,m.type){case"input":if(Ec(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name),m=y.name,y.type==="radio"&&m!=null){for(y=h;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll('input[name="'+fr(""+m)+'"][type="radio"]'),m=0;m<y.length;m++){var C=y[m];if(C!==h&&C.form===h.form){var P=C[qa]||null;if(!P)throw Error(r(90));Ec(C,P.value,P.defaultValue,P.defaultValue,P.checked,P.defaultChecked,P.type,P.name)}}for(m=0;m<y.length;m++)C=y[m],C.form===h.form&&Hn(C)}break e;case"textarea":sn(h,y.value,y.defaultValue);break e;case"select":m=y.value,m!=null&&oo(h,!!y.multiple,m,!1)}}}var co=!1;function es(h,m,y){if(co)return h(m,y);co=!0;try{var C=h(m);return C}finally{if(co=!1,(Qa!==null||vs!==null)&&(Yb(),Qa&&(m=Qa,h=vs,vs=Qa=null,ra(m),h)))for(m=0;m<h.length;m++)ra(h[m])}}function Ar(h,m){var y=h.stateNode;if(y===null)return null;var C=y[qa]||null;if(C===null)return null;y=C[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(h=h.type,C=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!C;break e;default:h=!1}if(h)return null;if(y&&typeof y!="function")throw Error(r(231,m,typeof y));return y}var bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nn=!1;if(bs)try{var ln={};Object.defineProperty(ln,"passive",{get:function(){nn=!0}}),window.addEventListener("test",ln,ln),window.removeEventListener("test",ln,ln)}catch{nn=!1}var di=null,uo=null,_i=null;function Il(){if(_i)return _i;var h,m=uo,y=m.length,C,P="value"in di?di.value:di.textContent,V=P.length;for(h=0;h<y&&m[h]===P[h];h++);var ue=y-h;for(C=1;C<=ue&&m[y-C]===P[V-C];C++);return _i=P.slice(h,1<C?1-C:void 0)}function Vi(h){var m=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&m===13&&(h=13)):h=m,h===10&&(h=13),32<=h||h===13?h:0}function vl(){return!0}function $o(){return!1}function on(h){function m(y,C,P,V,ue){this._reactName=y,this._targetInst=P,this.type=C,this.nativeEvent=V,this.target=ue,this.currentTarget=null;for(var be in h)h.hasOwnProperty(be)&&(y=h[be],this[be]=y?y(V):V[be]);return this.isDefaultPrevented=(V.defaultPrevented!=null?V.defaultPrevented:V.returnValue===!1)?vl:$o,this.isPropagationStopped=$o,this}return u(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=vl)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=vl)},persist:function(){},isPersistent:vl}),m}var ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wd=on(ho),fo=u({},ho,{view:0,detail:0}),hu=on(fo),fu,jd,Dc,Uo=u({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sa,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Dc&&(Dc&&h.type==="mousemove"?(fu=h.screenX-Dc.screenX,jd=h.screenY-Dc.screenY):jd=fu=0,Dc=h),fu)},movementY:function(h){return"movementY"in h?h.movementY:jd}}),Qf=on(Uo),zm=u({},Uo,{dataTransfer:0}),Mc=on(zm),Pc=u({},fo,{relatedTarget:0}),Eh=on(Pc),Hm=u({},ho,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=on(Hm),Vm=u({},ho,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),K=on(Vm),me=u({},ho,{data:0}),Le=on(me),Ue={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},St={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ot(h){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(h):(h=St[h])?!!m[h]:!1}function sa(){return Ot}var xa=u({},fo,{key:function(h){if(h.key){var m=Ue[h.key]||h.key;if(m!=="Unidentified")return m}return h.type==="keypress"?(h=Vi(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?Qe[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sa,charCode:function(h){return h.type==="keypress"?Vi(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?Vi(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),Ea=on(xa),$a=u({},Uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),br=on($a),cs=u({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sa}),qs=on(cs),qr=u({},ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),cn=on(qr),Gs=u({},Uo,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),Vn=on(Gs),Bl=u({},ho,{newState:0,oldState:0}),Wi=on(Bl),Wm=[9,13,27,32],Nd=bs&&"CompositionEvent"in window,mo=null;bs&&"documentMode"in document&&(mo=document.documentMode);var Sd=bs&&"TextEvent"in window&&!mo,kd=bs&&(!Nd||mo&&8<mo&&11>=mo),Cd=" ",Ad=!1;function Wn(h,m){switch(h){case"keyup":return Wm.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _d(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var $l=!1;function Jf(h,m){switch(h){case"compositionend":return _d(m);case"keypress":return m.which!==32?null:(Ad=!0,Cd);case"textInput":return h=m.data,h===Cd&&Ad?null:h;default:return null}}function Zf(h,m){if($l)return h==="compositionend"||!Nd&&Wn(h,m)?(h=Il(),_i=uo=di=null,$l=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return kd&&m.locale!=="ko"?null:m.data;default:return null}}var ys={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zo(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m==="input"?!!ys[h.type]:m==="textarea"}function pu(h,m,y,C){Qa?vs?vs.push(C):vs=[C]:Qa=C,m=ty(m,"onChange"),0<m.length&&(y=new wd("onChange","change",null,y,C),h.push({event:y,listeners:m}))}var Td=null,ui=null;function xu(h){UE(h,0)}function Ed(h){var m=Ye(h);if(Hn(m))return h}function Dh(h,m){if(h==="change")return m}var Lc=!1;if(bs){var Oc;if(bs){var Ti="oninput"in document;if(!Ti){var qi=document.createElement("div");qi.setAttribute("oninput","return;"),Ti=typeof qi.oninput=="function"}Oc=Ti}else Oc=!1;Lc=Oc&&(!document.documentMode||9<document.documentMode)}function Rc(){Td&&(Td.detachEvent("onpropertychange",Ho),ui=Td=null)}function Ho(h){if(h.propertyName==="value"&&Ed(ui)){var m=[];pu(m,ui,h,En(h)),es(xu,m)}}function Dd(h,m,y){h==="focusin"?(Rc(),Td=m,ui=y,Td.attachEvent("onpropertychange",Ho)):h==="focusout"&&Rc()}function e0(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return Ed(ui)}function Mh(h,m){if(h==="click")return Ed(m)}function Fs(h,m){if(h==="input"||h==="change")return Ed(m)}function qm(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var ws=typeof Object.is=="function"?Object.is:qm;function Gi(h,m){if(ws(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var y=Object.keys(h),C=Object.keys(m);if(y.length!==C.length)return!1;for(C=0;C<y.length;C++){var P=y[C];if(!W.call(m,P)||!ws(h[P],m[P]))return!1}return!0}function Ph(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function Lh(h,m){var y=Ph(h);h=0;for(var C;y;){if(y.nodeType===3){if(C=h+y.textContent.length,h<=m&&C>=m)return{node:y,offset:m-h};h=C}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=Ph(y)}}function Oh(h,m){return h&&m?h===m?!0:h&&h.nodeType===3?!1:m&&m.nodeType===3?Oh(h,m.parentNode):"contains"in h?h.contains(m):h.compareDocumentPosition?!!(h.compareDocumentPosition(m)&16):!1:!1}function Rh(h){h=h!=null&&h.ownerDocument!=null&&h.ownerDocument.defaultView!=null?h.ownerDocument.defaultView:window;for(var m=ci(h.document);m instanceof h.HTMLIFrameElement;){try{var y=typeof m.contentWindow.location.href=="string"}catch{y=!1}if(y)h=m.contentWindow;else break;m=ci(h.document)}return m}function Vo(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m&&(m==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||m==="textarea"||h.contentEditable==="true")}var Md=bs&&"documentMode"in document&&11>=document.documentMode,bl=null,Fc=null,Ul=null,Ic=!1;function yl(h,m,y){var C=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;Ic||bl==null||bl!==ci(C)||(C=bl,"selectionStart"in C&&Vo(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),Ul&&Gi(Ul,C)||(Ul=C,C=ty(Fc,"onSelect"),0<C.length&&(m=new wd("onSelect","select",null,m,y),h.push({event:m,listeners:C}),m.target=bl)))}function hi(h,m){var y={};return y[h.toLowerCase()]=m.toLowerCase(),y["Webkit"+h]="webkit"+m,y["Moz"+h]="moz"+m,y}var or={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionrun:hi("Transition","TransitionRun"),transitionstart:hi("Transition","TransitionStart"),transitioncancel:hi("Transition","TransitionCancel"),transitionend:hi("Transition","TransitionEnd")},Pr={},js={};bs&&(js=document.createElement("div").style,"AnimationEvent"in window||(delete or.animationend.animation,delete or.animationiteration.animation,delete or.animationstart.animation),"TransitionEvent"in window||delete or.transitionend.transition);function ts(h){if(Pr[h])return Pr[h];if(!or[h])return h;var m=or[h],y;for(y in m)if(m.hasOwnProperty(y)&&y in js)return Pr[h]=m[y];return h}var Wo=ts("animationend"),Fh=ts("animationiteration"),gu=ts("animationstart"),Gm=ts("transitionrun"),gb=ts("transitionstart"),vb=ts("transitioncancel"),Ux=ts("transitionend"),zx=new Map,Km="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Km.push("scrollEnd");function zl(h,m){zx.set(h,m),vt(m,[h])}var Ih=new WeakMap;function wl(h,m){if(typeof h=="object"&&h!==null){var y=Ih.get(h);return y!==void 0?y:(m={value:h,source:m,stack:cu(m)},Ih.set(h,m),m)}return{value:h,source:m,stack:cu(m)}}var jl=[],vu=0,Ym=0;function t0(){for(var h=vu,m=Ym=vu=0;m<h;){var y=jl[m];jl[m++]=null;var C=jl[m];jl[m++]=null;var P=jl[m];jl[m++]=null;var V=jl[m];if(jl[m++]=null,C!==null&&P!==null){var ue=C.pending;ue===null?P.next=P:(P.next=ue.next,ue.next=P),C.pending=P}V!==0&&Qm(y,P,V)}}function a0(h,m,y,C){jl[vu++]=h,jl[vu++]=m,jl[vu++]=y,jl[vu++]=C,Ym|=C,h.lanes|=C,h=h.alternate,h!==null&&(h.lanes|=C)}function Xm(h,m,y,C){return a0(h,m,y,C),yu(h)}function bu(h,m){return a0(h,null,null,m),yu(h)}function Qm(h,m,y){h.lanes|=y;var C=h.alternate;C!==null&&(C.lanes|=y);for(var P=!1,V=h.return;V!==null;)V.childLanes|=y,C=V.alternate,C!==null&&(C.childLanes|=y),V.tag===22&&(h=V.stateNode,h===null||h._visibility&1||(P=!0)),h=V,V=V.return;return h.tag===3?(V=h.stateNode,P&&m!==null&&(P=31-dt(y),h=V.hiddenUpdates,C=h[P],C===null?h[P]=[m]:C.push(m),m.lane=y|536870912),V):null}function yu(h){if(50<fg)throw fg=0,w4=null,Error(r(185));for(var m=h.return;m!==null;)h=m,m=h.return;return h.tag===3?h.stateNode:null}var Dn={};function Hl(h,m,y,C){this.tag=h,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(h,m,y,C){return new Hl(h,m,y,C)}function Bh(h){return h=h.prototype,!(!h||!h.isReactComponent)}function qo(h,m){var y=h.alternate;return y===null?(y=fi(h.tag,m,h.key,h.mode),y.elementType=h.elementType,y.type=h.type,y.stateNode=h.stateNode,y.alternate=h,h.alternate=y):(y.pendingProps=m,y.type=h.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=h.flags&65011712,y.childLanes=h.childLanes,y.lanes=h.lanes,y.child=h.child,y.memoizedProps=h.memoizedProps,y.memoizedState=h.memoizedState,y.updateQueue=h.updateQueue,m=h.dependencies,y.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},y.sibling=h.sibling,y.index=h.index,y.ref=h.ref,y.refCleanup=h.refCleanup,y}function r0(h,m){h.flags&=65011714;var y=h.alternate;return y===null?(h.childLanes=0,h.lanes=m,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=y.childLanes,h.lanes=y.lanes,h.child=y.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=y.memoizedProps,h.memoizedState=y.memoizedState,h.updateQueue=y.updateQueue,h.type=y.type,m=y.dependencies,h.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),h}function wu(h,m,y,C,P,V){var ue=0;if(C=h,typeof h=="function")Bh(h)&&(ue=1);else if(typeof h=="string")ue=yZ(h,y,H.current)?26:h==="html"||h==="head"||h==="body"?27:5;else e:switch(h){case U:return h=fi(31,y,m,P),h.elementType=U,h.lanes=V,h;case v:return Bc(y.children,P,V,m);case g:ue=8,P|=24;break;case b:return h=fi(12,y,m,P|2),h.elementType=b,h.lanes=V,h;case A:return h=fi(13,y,m,P),h.elementType=A,h.lanes=V,h;case _:return h=fi(19,y,m,P),h.elementType=_,h.lanes=V,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case j:case S:ue=10;break e;case N:ue=9;break e;case k:ue=11;break e;case M:ue=14;break e;case L:ue=16,C=null;break e}ue=29,y=Error(r(130,h===null?"null":typeof h,"")),C=null}return m=fi(ue,y,m,P),m.elementType=h,m.type=C,m.lanes=V,m}function Bc(h,m,y,C){return h=fi(7,h,C,m),h.lanes=y,h}function Jm(h,m,y){return h=fi(6,h,null,m),h.lanes=y,h}function s0(h,m,y){return m=fi(4,h.children!==null?h.children:[],h.key,m),m.lanes=y,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}var Pd=[],$c=0,$h=null,Zm=0,Vl=[],Nl=0,ju=null,Uc=1,zc="";function Nu(h,m){Pd[$c++]=Zm,Pd[$c++]=$h,$h=h,Zm=m}function bb(h,m,y){Vl[Nl++]=Uc,Vl[Nl++]=zc,Vl[Nl++]=ju,ju=h;var C=Uc;h=zc;var P=32-dt(C)-1;C&=~(1<<P),y+=1;var V=32-dt(m)+P;if(30<V){var ue=P-P%5;V=(C&(1<<ue)-1).toString(32),C>>=ue,P-=ue,Uc=1<<32-dt(m)+P|y<<P|C,zc=V+h}else Uc=1<<V|y<<P|C,zc=h}function n0(h){h.return!==null&&(Nu(h,1),bb(h,1,0))}function i0(h){for(;h===$h;)$h=Pd[--$c],Pd[$c]=null,Zm=Pd[--$c],Pd[$c]=null;for(;h===ju;)ju=Vl[--Nl],Vl[Nl]=null,zc=Vl[--Nl],Vl[Nl]=null,Uc=Vl[--Nl],Vl[Nl]=null}var dn=null,Ns=null,jr=!1,Ld=null,Go=!1,Hx=Error(r(519));function Su(h){var m=Error(r(418,""));throw Uh(wl(m,h)),Hx}function yb(h){var m=h.stateNode,y=h.type,C=h.memoizedProps;switch(m[lr]=h,m[qa]=C,y){case"dialog":dr("cancel",m),dr("close",m);break;case"iframe":case"object":case"embed":dr("load",m);break;case"video":case"audio":for(y=0;y<pg.length;y++)dr(pg[y],m);break;case"source":dr("error",m);break;case"img":case"image":case"link":dr("error",m),dr("load",m);break;case"details":dr("toggle",m);break;case"input":dr("invalid",m),Th(m,C.value,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name,!0),zn(m);break;case"select":dr("invalid",m);break;case"textarea":dr("invalid",m),Io(m,C.value,C.defaultValue,C.children),zn(m)}y=C.children,typeof y!="string"&&typeof y!="number"&&typeof y!="bigint"||m.textContent===""+y||C.suppressHydrationWarning===!0||WE(m.textContent,y)?(C.popover!=null&&(dr("beforetoggle",m),dr("toggle",m)),C.onScroll!=null&&dr("scroll",m),C.onScrollEnd!=null&&dr("scrollend",m),C.onClick!=null&&(m.onclick=ay),m=!0):m=!1,m||Su(h)}function Hc(h){for(dn=h.return;dn;)switch(dn.tag){case 5:case 13:Go=!1;return;case 27:case 3:Go=!0;return;default:dn=dn.return}}function Ei(h){if(h!==dn)return!1;if(!jr)return Hc(h),jr=!0,!1;var m=h.tag,y;if((y=m!==3&&m!==27)&&((y=m===5)&&(y=h.type,y=!(y!=="form"&&y!=="button")||F4(h.type,h.memoizedProps)),y=!y),y&&Ns&&Su(h),Hc(h),m===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));e:{for(h=h.nextSibling,m=0;h;){if(h.nodeType===8)if(y=h.data,y==="/$"){if(m===0){Ns=Qc(h.nextSibling);break e}m--}else y!=="$"&&y!=="$!"&&y!=="$?"||m++;h=h.nextSibling}Ns=null}}else m===27?(m=Ns,rf(h.type)?(h=U4,U4=null,Ns=h):Ns=m):Ns=dn?Qc(h.stateNode.nextSibling):null;return!0}function Sl(){Ns=dn=null,jr=!1}function wb(){var h=Ld;return h!==null&&(ql===null?ql=h:ql.push.apply(ql,h),Ld=null),h}function Uh(h){Ld===null?Ld=[h]:Ld.push(h)}var Ko=ce(null),Mn=null,Vc=null;function Od(h,m,y){Q(Ko,m._currentValue),m._currentValue=y}function Yo(h){h._currentValue=Ko.current,D(Ko)}function ep(h,m,y){for(;h!==null;){var C=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,C!==null&&(C.childLanes|=m)):C!==null&&(C.childLanes&m)!==m&&(C.childLanes|=m),h===y)break;h=h.return}}function tp(h,m,y,C){var P=h.child;for(P!==null&&(P.return=h);P!==null;){var V=P.dependencies;if(V!==null){var ue=P.child;V=V.firstContext;e:for(;V!==null;){var be=V;V=P;for(var Ie=0;Ie<m.length;Ie++)if(be.context===m[Ie]){V.lanes|=y,be=V.alternate,be!==null&&(be.lanes|=y),ep(V.return,y,h),C||(ue=null);break e}V=be.next}}else if(P.tag===18){if(ue=P.return,ue===null)throw Error(r(341));ue.lanes|=y,V=ue.alternate,V!==null&&(V.lanes|=y),ep(ue,y,h),ue=null}else ue=P.child;if(ue!==null)ue.return=P;else for(ue=P;ue!==null;){if(ue===h){ue=null;break}if(P=ue.sibling,P!==null){P.return=ue.return,ue=P;break}ue=ue.return}P=ue}}function zh(h,m,y,C){h=null;for(var P=m,V=!1;P!==null;){if(!V){if((P.flags&524288)!==0)V=!0;else if((P.flags&262144)!==0)break}if(P.tag===10){var ue=P.alternate;if(ue===null)throw Error(r(387));if(ue=ue.memoizedProps,ue!==null){var be=P.type;ws(P.pendingProps.value,ue.value)||(h!==null?h.push(be):h=[be])}}else if(P===ie.current){if(ue=P.alternate,ue===null)throw Error(r(387));ue.memoizedState.memoizedState!==P.memoizedState.memoizedState&&(h!==null?h.push(wg):h=[wg])}P=P.return}h!==null&&tp(m,h,y,C),m.flags|=262144}function ap(h){for(h=h.firstContext;h!==null;){if(!ws(h.context._currentValue,h.memoizedValue))return!0;h=h.next}return!1}function Xo(h){Mn=h,Vc=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function un(h){return rp(Mn,h)}function Rd(h,m){return Mn===null&&Xo(h),rp(h,m)}function rp(h,m){var y=m._currentValue;if(m={context:m,memoizedValue:y,next:null},Vc===null){if(h===null)throw Error(r(308));Vc=m,h.dependencies={lanes:0,firstContext:m},h.flags|=524288}else Vc=Vc.next=m;return y}var qN=typeof AbortController<"u"?AbortController:function(){var h=[],m=this.signal={aborted:!1,addEventListener:function(y,C){h.push(C)}};this.abort=function(){m.aborted=!0,h.forEach(function(y){return y()})}},jb=e.unstable_scheduleCallback,GN=e.unstable_NormalPriority,hn={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vx(){return{controller:new qN,data:new Map,refCount:0}}function l0(h){h.refCount--,h.refCount===0&&jb(GN,function(){h.controller.abort()})}var o0=null,Wx=0,ku=0,Wc=null;function KN(h,m){if(o0===null){var y=o0=[];Wx=0,ku=_4(),Wc={status:"pending",value:void 0,then:function(C){y.push(C)}}}return Wx++,m.then(Nb,Nb),m}function Nb(){if(--Wx===0&&o0!==null){Wc!==null&&(Wc.status="fulfilled");var h=o0;o0=null,ku=0,Wc=null;for(var m=0;m<h.length;m++)(0,h[m])()}}function Sb(h,m){var y=[],C={status:"pending",value:null,reason:null,then:function(P){y.push(P)}};return h.then(function(){C.status="fulfilled",C.value=m;for(var P=0;P<y.length;P++)(0,y[P])(m)},function(P){for(C.status="rejected",C.reason=P,P=0;P<y.length;P++)(0,y[P])(void 0)}),C}var T=I.S;I.S=function(h,m){typeof m=="object"&&m!==null&&typeof m.then=="function"&&KN(h,m),T!==null&&T(h,m)};var F=ce(null);function Z(){var h=F.current;return h!==null?h:is.pooledCache}function ne(h,m){m===null?Q(F,F.current):Q(F,m.pool)}function pe(){var h=Z();return h===null?null:{parent:hn._currentValue,pool:h}}var ge=Error(r(460)),ve=Error(r(474)),we=Error(r(542)),Se={then:function(){}};function Pe(h){return h=h.status,h==="fulfilled"||h==="rejected"}function He(){}function lt(h,m,y){switch(y=h[y],y===void 0?h.push(m):y!==m&&(m.then(He,He),m=y),m.status){case"fulfilled":return m.value;case"rejected":throw h=m.reason,tt(h),h;default:if(typeof m.status=="string")m.then(He,He);else{if(h=is,h!==null&&100<h.shellSuspendCounter)throw Error(r(482));h=m,h.status="pending",h.then(function(C){if(m.status==="pending"){var P=m;P.status="fulfilled",P.value=C}},function(C){if(m.status==="pending"){var P=m;P.status="rejected",P.reason=C}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw h=m.reason,tt(h),h}throw Me=m,ge}}var Me=null;function Ge(){if(Me===null)throw Error(r(459));var h=Me;return Me=null,h}function tt(h){if(h===ge||h===we)throw Error(r(483))}var xt=!1;function it(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wt(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function bt(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function Ft(h,m,y){var C=h.updateQueue;if(C===null)return null;if(C=C.shared,(Ir&2)!==0){var P=C.pending;return P===null?m.next=m:(m.next=P.next,P.next=m),C.pending=m,m=yu(h),Qm(h,null,y),m}return a0(h,C,m,y),yu(h)}function Mt(h,m,y){if(m=m.updateQueue,m!==null&&(m=m.shared,(y&4194048)!==0)){var C=m.lanes;C&=h.pendingLanes,y|=C,m.lanes=y,Be(h,y)}}function pa(h,m){var y=h.updateQueue,C=h.alternate;if(C!==null&&(C=C.updateQueue,y===C)){var P=null,V=null;if(y=y.firstBaseUpdate,y!==null){do{var ue={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};V===null?P=V=ue:V=V.next=ue,y=y.next}while(y!==null);V===null?P=V=m:V=V.next=m}else P=V=m;y={baseState:C.baseState,firstBaseUpdate:P,lastBaseUpdate:V,shared:C.shared,callbacks:C.callbacks},h.updateQueue=y;return}h=y.lastBaseUpdate,h===null?y.firstBaseUpdate=m:h.next=m,y.lastBaseUpdate=m}var aa=!1;function Ra(){if(aa){var h=Wc;if(h!==null)throw h}}function na(h,m,y,C){aa=!1;var P=h.updateQueue;xt=!1;var V=P.firstBaseUpdate,ue=P.lastBaseUpdate,be=P.shared.pending;if(be!==null){P.shared.pending=null;var Ie=be,ot=Ie.next;Ie.next=null,ue===null?V=ot:ue.next=ot,ue=Ie;var Ct=h.alternate;Ct!==null&&(Ct=Ct.updateQueue,be=Ct.lastBaseUpdate,be!==ue&&(be===null?Ct.firstBaseUpdate=ot:be.next=ot,Ct.lastBaseUpdate=Ie))}if(V!==null){var Pt=P.baseState;ue=0,Ct=ot=Ie=null,be=V;do{var ct=be.lane&-536870913,ht=ct!==be.lane;if(ht?(wr&ct)===ct:(C&ct)===ct){ct!==0&&ct===ku&&(aa=!0),Ct!==null&&(Ct=Ct.next={lane:0,tag:be.tag,payload:be.payload,callback:null,next:null});e:{var Ma=h,Sa=be;ct=m;var Yr=y;switch(Sa.tag){case 1:if(Ma=Sa.payload,typeof Ma=="function"){Pt=Ma.call(Yr,Pt,ct);break e}Pt=Ma;break e;case 3:Ma.flags=Ma.flags&-65537|128;case 0:if(Ma=Sa.payload,ct=typeof Ma=="function"?Ma.call(Yr,Pt,ct):Ma,ct==null)break e;Pt=u({},Pt,ct);break e;case 2:xt=!0}}ct=be.callback,ct!==null&&(h.flags|=64,ht&&(h.flags|=8192),ht=P.callbacks,ht===null?P.callbacks=[ct]:ht.push(ct))}else ht={lane:ct,tag:be.tag,payload:be.payload,callback:be.callback,next:null},Ct===null?(ot=Ct=ht,Ie=Pt):Ct=Ct.next=ht,ue|=ct;if(be=be.next,be===null){if(be=P.shared.pending,be===null)break;ht=be,be=ht.next,ht.next=null,P.lastBaseUpdate=ht,P.shared.pending=null}}while(!0);Ct===null&&(Ie=Pt),P.baseState=Ie,P.firstBaseUpdate=ot,P.lastBaseUpdate=Ct,V===null&&(P.shared.lanes=0),Zh|=ue,h.lanes=ue,h.memoizedState=Pt}}function sr(h,m){if(typeof h!="function")throw Error(r(191,h));h.call(m)}function Ks(h,m){var y=h.callbacks;if(y!==null)for(h.callbacks=null,h=0;h<y.length;h++)sr(y[h],m)}var Da=ce(null),ia=ce(0);function Qt(h,m){h=Pu,Q(ia,h),Q(Da,m),Pu=h|m.baseLanes}function ds(){Q(ia,Pu),Q(Da,Da.current)}function Fa(){Pu=ia.current,D(Da),D(ia)}var Ga=0,ca=null,Ua=null,mr=null,as=!1,Is=!1,Bs=!1,Ss=0,tr=0,pr=null,ks=0;function Na(){throw Error(r(321))}function fn(h,m){if(m===null)return!1;for(var y=0;y<m.length&&y<h.length;y++)if(!ws(h[y],m[y]))return!1;return!0}function kl(h,m,y,C,P,V){return Ga=V,ca=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,I.H=h===null||h.memoizedState===null?kT:CT,Bs=!1,V=y(C,P),Bs=!1,Is&&(V=Di(m,y,C,P)),Cs(h),V}function Cs(h){I.H=Rb;var m=Ua!==null&&Ua.next!==null;if(Ga=0,mr=Ua=ca=null,as=!1,tr=0,pr=null,m)throw Error(r(300));h===null||pi||(h=h.dependencies,h!==null&&ap(h)&&(pi=!0))}function Di(h,m,y,C){ca=h;var P=0;do{if(Is&&(pr=null),tr=0,Is=!1,25<=P)throw Error(r(301));if(P+=1,mr=Ua=null,h.updateQueue!=null){var V=h.updateQueue;V.lastEffect=null,V.events=null,V.stores=null,V.memoCache!=null&&(V.memoCache.index=0)}I.H=DJ,V=m(y,C)}while(Is);return V}function Fr(){var h=I.H,m=h.useState()[0];return m=typeof m.then=="function"?Gn(m):m,h=h.useState()[0],(Ua!==null?Ua.memoizedState:null)!==h&&(ca.flags|=1024),m}function $s(){var h=Ss!==0;return Ss=0,h}function Mi(h,m,y){m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~y}function qn(h){if(as){for(h=h.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}as=!1}Ga=0,mr=Ua=ca=null,Is=!1,tr=Ss=0,pr=null}function Gr(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?ca.memoizedState=mr=h:mr=mr.next=h,mr}function yr(){if(Ua===null){var h=ca.alternate;h=h!==null?h.memoizedState:null}else h=Ua.next;var m=mr===null?ca.memoizedState:mr.next;if(m!==null)mr=m,Ua=h;else{if(h===null)throw ca.alternate===null?Error(r(467)):Error(r(310));Ua=h,h={memoizedState:Ua.memoizedState,baseState:Ua.baseState,baseQueue:Ua.baseQueue,queue:Ua.queue,next:null},mr===null?ca.memoizedState=mr=h:mr=mr.next=h}return mr}function mi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gn(h){var m=tr;return tr+=1,pr===null&&(pr=[]),h=lt(pr,h,m),m=ca,(mr===null?m.memoizedState:mr.next)===null&&(m=m.alternate,I.H=m===null||m.memoizedState===null?kT:CT),h}function Lr(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return Gn(h);if(h.$$typeof===S)return un(h)}throw Error(r(438,String(h)))}function Pi(h){var m=null,y=ca.updateQueue;if(y!==null&&(m=y.memoCache),m==null){var C=ca.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(m={data:C.data.map(function(P){return P.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),y===null&&(y=mi(),ca.updateQueue=y),y.memoCache=m,y=m.data[m.index],y===void 0)for(y=m.data[m.index]=Array(h),C=0;C<h;C++)y[C]=z;return m.index++,y}function mn(h,m){return typeof m=="function"?m(h):m}function Qo(h){var m=yr();return po(m,Ua,h)}function po(h,m,y){var C=h.queue;if(C===null)throw Error(r(311));C.lastRenderedReducer=y;var P=h.baseQueue,V=C.pending;if(V!==null){if(P!==null){var ue=P.next;P.next=V.next,V.next=ue}m.baseQueue=P=V,C.pending=null}if(V=h.baseState,P===null)h.memoizedState=V;else{m=P.next;var be=ue=null,Ie=null,ot=m,Ct=!1;do{var Pt=ot.lane&-536870913;if(Pt!==ot.lane?(wr&Pt)===Pt:(Ga&Pt)===Pt){var ct=ot.revertLane;if(ct===0)Ie!==null&&(Ie=Ie.next={lane:0,revertLane:0,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),Pt===ku&&(Ct=!0);else if((Ga&ct)===ct){ot=ot.next,ct===ku&&(Ct=!0);continue}else Pt={lane:0,revertLane:ot.revertLane,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null},Ie===null?(be=Ie=Pt,ue=V):Ie=Ie.next=Pt,ca.lanes|=ct,Zh|=ct;Pt=ot.action,Bs&&y(V,Pt),V=ot.hasEagerState?ot.eagerState:y(V,Pt)}else ct={lane:Pt,revertLane:ot.revertLane,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null},Ie===null?(be=Ie=ct,ue=V):Ie=Ie.next=ct,ca.lanes|=Pt,Zh|=Pt;ot=ot.next}while(ot!==null&&ot!==m);if(Ie===null?ue=V:Ie.next=be,!ws(V,h.memoizedState)&&(pi=!0,Ct&&(y=Wc,y!==null)))throw y;h.memoizedState=V,h.baseState=ue,h.baseQueue=Ie,C.lastRenderedState=V}return P===null&&(C.lanes=0),[h.memoizedState,C.dispatch]}function pn(h){var m=yr(),y=m.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=h;var C=y.dispatch,P=y.pending,V=m.memoizedState;if(P!==null){y.pending=null;var ue=P=P.next;do V=h(V,ue.action),ue=ue.next;while(ue!==P);ws(V,m.memoizedState)||(pi=!0),m.memoizedState=V,m.baseQueue===null&&(m.baseState=V),y.lastRenderedState=V}return[V,C]}function c0(h,m,y){var C=ca,P=yr(),V=jr;if(V){if(y===void 0)throw Error(r(407));y=y()}else y=m();var ue=!ws((Ua||P).memoizedState,y);ue&&(P.memoizedState=y,pi=!0),P=P.queue;var be=Hh.bind(null,C,P,h);if(qh(2048,8,be,[h]),P.getSnapshot!==m||ue||mr!==null&&mr.memoizedState.tag&1){if(C.flags|=2048,Gc(9,f0(),d0.bind(null,C,P,y,m),null),is===null)throw Error(r(349));V||(Ga&124)!==0||sp(C,m,y)}return y}function sp(h,m,y){h.flags|=16384,h={getSnapshot:m,value:y},m=ca.updateQueue,m===null?(m=mi(),ca.updateQueue=m,m.stores=[h]):(y=m.stores,y===null?m.stores=[h]:y.push(h))}function d0(h,m,y,C){m.value=y,m.getSnapshot=C,kb(m)&&Cb(h)}function Hh(h,m,y){return y(function(){kb(m)&&Cb(h)})}function kb(h){var m=h.getSnapshot;h=h.value;try{var y=m();return!ws(h,y)}catch{return!0}}function Cb(h){var m=bu(h,2);m!==null&&wo(m,h,2)}function u0(h){var m=Gr();if(typeof h=="function"){var y=h;if(h=y(),Bs){Ze(!0);try{y()}finally{Ze(!1)}}}return m.memoizedState=m.baseState=h,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:h},m}function qc(h,m,y,C){return h.baseState=y,po(h,Ua,typeof C=="function"?C:mn)}function YN(h,m,y,C,P){if(Ob(h))throw Error(r(485));if(h=m.action,h!==null){var V={payload:P,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ue){V.listeners.push(ue)}};I.T!==null?y(!0):V.isTransition=!1,C(V),y=m.pending,y===null?(V.next=m.pending=V,Ab(m,V)):(V.next=y.next,m.pending=y.next=V)}}function Ab(h,m){var y=m.action,C=m.payload,P=h.state;if(m.isTransition){var V=I.T,ue={};I.T=ue;try{var be=y(P,C),Ie=I.S;Ie!==null&&Ie(ue,be),_b(h,m,be)}catch(ot){Vh(h,m,ot)}finally{I.T=V}}else try{V=y(P,C),_b(h,m,V)}catch(ot){Vh(h,m,ot)}}function _b(h,m,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(C){qx(h,m,C)},function(C){return Vh(h,m,C)}):qx(h,m,y)}function qx(h,m,y){m.status="fulfilled",m.value=y,Gx(m),h.state=y,m=h.pending,m!==null&&(y=m.next,y===m?h.pending=null:(y=y.next,m.next=y,Ab(h,y)))}function Vh(h,m,y){var C=h.pending;if(h.pending=null,C!==null){C=C.next;do m.status="rejected",m.reason=y,Gx(m),m=m.next;while(m!==C)}h.action=null}function Gx(h){h=h.listeners;for(var m=0;m<h.length;m++)(0,h[m])()}function Kx(h,m){return m}function h0(h,m){if(jr){var y=is.formState;if(y!==null){e:{var C=ca;if(jr){if(Ns){t:{for(var P=Ns,V=Go;P.nodeType!==8;){if(!V){P=null;break t}if(P=Qc(P.nextSibling),P===null){P=null;break t}}V=P.data,P=V==="F!"||V==="F"?P:null}if(P){Ns=Qc(P.nextSibling),C=P.data==="F!";break e}}Su(C)}C=!1}C&&(m=y[0])}}return y=Gr(),y.memoizedState=y.baseState=m,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kx,lastRenderedState:m},y.queue=C,y=jT.bind(null,ca,C),C.dispatch=y,C=u0(!1),V=XN.bind(null,ca,!1,C.queue),C=Gr(),P={state:m,dispatch:null,action:h,pending:null},C.queue=P,y=YN.bind(null,ca,P,V,y),P.dispatch=y,C.memoizedState=h,[m,y,!1]}function np(h){var m=yr();return Wh(m,Ua,h)}function Wh(h,m,y){if(m=po(h,m,Kx)[0],h=Qo(mn)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var C=Gn(m)}catch(ue){throw ue===ge?we:ue}else C=m;m=yr();var P=m.queue,V=P.dispatch;return y!==m.memoizedState&&(ca.flags|=2048,Gc(9,f0(),Tb.bind(null,P,y),null)),[C,V,h]}function Tb(h,m){h.action=m}function Eb(h){var m=yr(),y=Ua;if(y!==null)return Wh(m,y,h);yr(),m=m.memoizedState,y=yr();var C=y.queue.dispatch;return y.memoizedState=h,[m,C,!1]}function Gc(h,m,y,C){return h={tag:h,create:y,deps:C,inst:m,next:null},m=ca.updateQueue,m===null&&(m=mi(),ca.updateQueue=m),y=m.lastEffect,y===null?m.lastEffect=h.next=h:(C=y.next,y.next=h,h.next=C,m.lastEffect=h),h}function f0(){return{destroy:void 0,resource:void 0}}function ip(){return yr().memoizedState}function xo(h,m,y,C){var P=Gr();C=C===void 0?null:C,ca.flags|=h,P.memoizedState=Gc(1|m,f0(),y,C)}function qh(h,m,y,C){var P=yr();C=C===void 0?null:C;var V=P.memoizedState.inst;Ua!==null&&C!==null&&fn(C,Ua.memoizedState.deps)?P.memoizedState=Gc(m,V,y,C):(ca.flags|=h,P.memoizedState=Gc(1|m,V,y,C))}function Yx(h,m){xo(8390656,8,h,m)}function Db(h,m){qh(2048,8,h,m)}function Xx(h,m){return qh(4,2,h,m)}function Cu(h,m){return qh(4,4,h,m)}function Mb(h,m){if(typeof m=="function"){h=h();var y=m(h);return function(){typeof y=="function"?y():m(null)}}if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function Qx(h,m,y){y=y!=null?y.concat([h]):null,qh(4,4,Mb.bind(null,m,h),y)}function Jx(){}function Zx(h,m){var y=yr();m=m===void 0?null:m;var C=y.memoizedState;return m!==null&&fn(m,C[1])?C[0]:(y.memoizedState=[h,m],h)}function Pb(h,m){var y=yr();m=m===void 0?null:m;var C=y.memoizedState;if(m!==null&&fn(m,C[1]))return C[0];if(C=h(),Bs){Ze(!0);try{h()}finally{Ze(!1)}}return y.memoizedState=[C,m],C}function Au(h,m,y){return y===void 0||(Ga&1073741824)!==0?h.memoizedState=m:(h.memoizedState=y,h=vE(),ca.lanes|=h,Zh|=h,y)}function lp(h,m,y,C){return ws(y,m)?y:Da.current!==null?(h=Au(h,y,C),ws(h,m)||(pi=!0),h):(Ga&42)===0?(pi=!0,h.memoizedState=y):(h=vE(),ca.lanes|=h,Zh|=h,m)}function m0(h,m,y,C,P){var V=G.p;G.p=V!==0&&8>V?V:8;var ue=I.T,be={};I.T=be,XN(h,!1,m,y);try{var Ie=P(),ot=I.S;if(ot!==null&&ot(be,Ie),Ie!==null&&typeof Ie=="object"&&typeof Ie.then=="function"){var Ct=Sb(Ie,C);rg(h,m,Ct,yo(h))}else rg(h,m,C,yo(h))}catch(Pt){rg(h,m,{then:function(){},status:"rejected",reason:Pt},yo())}finally{G.p=V,I.T=ue}}function Kc(){}function Jo(h,m,y,C){if(h.tag!==5)throw Error(r(476));var P=Yc(h).queue;m0(h,P,m,re,y===null?Kc:function(){return p0(h),y(C)})}function Yc(h){var m=h.memoizedState;if(m!==null)return m;m={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:re},next:null};var y={};return m.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:y},next:null},h.memoizedState=m,h=h.alternate,h!==null&&(h.memoizedState=m),m}function p0(h){var m=Yc(h).next.queue;rg(h,m,{},yo())}function x0(){return un(wg)}function eg(){return yr().memoizedState}function Lb(){return yr().memoizedState}function tg(h){for(var m=h.return;m!==null;){switch(m.tag){case 24:case 3:var y=yo();h=bt(y);var C=Ft(m,h,y);C!==null&&(wo(C,m,y),Mt(C,m,y)),m={cache:Vx()},h.payload=m;return}m=m.return}}function ag(h,m,y){var C=yo();y={lane:C,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null},Ob(h)?NT(m,y):(y=Xm(h,m,y,C),y!==null&&(wo(y,h,C),ST(y,m,C)))}function jT(h,m,y){var C=yo();rg(h,m,y,C)}function rg(h,m,y,C){var P={lane:C,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null};if(Ob(h))NT(m,P);else{var V=h.alternate;if(h.lanes===0&&(V===null||V.lanes===0)&&(V=m.lastRenderedReducer,V!==null))try{var ue=m.lastRenderedState,be=V(ue,y);if(P.hasEagerState=!0,P.eagerState=be,ws(be,ue))return a0(h,m,P,0),is===null&&t0(),!1}catch{}finally{}if(y=Xm(h,m,P,C),y!==null)return wo(y,h,C),ST(y,m,C),!0}return!1}function XN(h,m,y,C){if(C={lane:2,revertLane:_4(),action:C,hasEagerState:!1,eagerState:null,next:null},Ob(h)){if(m)throw Error(r(479))}else m=Xm(h,y,C,2),m!==null&&wo(m,h,2)}function Ob(h){var m=h.alternate;return h===ca||m!==null&&m===ca}function NT(h,m){Is=as=!0;var y=h.pending;y===null?m.next=m:(m.next=y.next,y.next=m),h.pending=m}function ST(h,m,y){if((y&4194048)!==0){var C=m.lanes;C&=h.pendingLanes,y|=C,m.lanes=y,Be(h,y)}}var Rb={readContext:un,use:Lr,useCallback:Na,useContext:Na,useEffect:Na,useImperativeHandle:Na,useLayoutEffect:Na,useInsertionEffect:Na,useMemo:Na,useReducer:Na,useRef:Na,useState:Na,useDebugValue:Na,useDeferredValue:Na,useTransition:Na,useSyncExternalStore:Na,useId:Na,useHostTransitionStatus:Na,useFormState:Na,useActionState:Na,useOptimistic:Na,useMemoCache:Na,useCacheRefresh:Na},kT={readContext:un,use:Lr,useCallback:function(h,m){return Gr().memoizedState=[h,m===void 0?null:m],h},useContext:un,useEffect:Yx,useImperativeHandle:function(h,m,y){y=y!=null?y.concat([h]):null,xo(4194308,4,Mb.bind(null,m,h),y)},useLayoutEffect:function(h,m){return xo(4194308,4,h,m)},useInsertionEffect:function(h,m){xo(4,2,h,m)},useMemo:function(h,m){var y=Gr();m=m===void 0?null:m;var C=h();if(Bs){Ze(!0);try{h()}finally{Ze(!1)}}return y.memoizedState=[C,m],C},useReducer:function(h,m,y){var C=Gr();if(y!==void 0){var P=y(m);if(Bs){Ze(!0);try{y(m)}finally{Ze(!1)}}}else P=m;return C.memoizedState=C.baseState=P,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:P},C.queue=h,h=h.dispatch=ag.bind(null,ca,h),[C.memoizedState,h]},useRef:function(h){var m=Gr();return h={current:h},m.memoizedState=h},useState:function(h){h=u0(h);var m=h.queue,y=jT.bind(null,ca,m);return m.dispatch=y,[h.memoizedState,y]},useDebugValue:Jx,useDeferredValue:function(h,m){var y=Gr();return Au(y,h,m)},useTransition:function(){var h=u0(!1);return h=m0.bind(null,ca,h.queue,!0,!1),Gr().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,m,y){var C=ca,P=Gr();if(jr){if(y===void 0)throw Error(r(407));y=y()}else{if(y=m(),is===null)throw Error(r(349));(wr&124)!==0||sp(C,m,y)}P.memoizedState=y;var V={value:y,getSnapshot:m};return P.queue=V,Yx(Hh.bind(null,C,V,h),[h]),C.flags|=2048,Gc(9,f0(),d0.bind(null,C,V,y,m),null),y},useId:function(){var h=Gr(),m=is.identifierPrefix;if(jr){var y=zc,C=Uc;y=(C&~(1<<32-dt(C)-1)).toString(32)+y,m=""+m+"R"+y,y=Ss++,0<y&&(m+="H"+y.toString(32)),m+=""}else y=ks++,m=""+m+"r"+y.toString(32)+"";return h.memoizedState=m},useHostTransitionStatus:x0,useFormState:h0,useActionState:h0,useOptimistic:function(h){var m=Gr();m.memoizedState=m.baseState=h;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=y,m=XN.bind(null,ca,!0,y),y.dispatch=m,[h,m]},useMemoCache:Pi,useCacheRefresh:function(){return Gr().memoizedState=tg.bind(null,ca)}},CT={readContext:un,use:Lr,useCallback:Zx,useContext:un,useEffect:Db,useImperativeHandle:Qx,useInsertionEffect:Xx,useLayoutEffect:Cu,useMemo:Pb,useReducer:Qo,useRef:ip,useState:function(){return Qo(mn)},useDebugValue:Jx,useDeferredValue:function(h,m){var y=yr();return lp(y,Ua.memoizedState,h,m)},useTransition:function(){var h=Qo(mn)[0],m=yr().memoizedState;return[typeof h=="boolean"?h:Gn(h),m]},useSyncExternalStore:c0,useId:eg,useHostTransitionStatus:x0,useFormState:np,useActionState:np,useOptimistic:function(h,m){var y=yr();return qc(y,Ua,h,m)},useMemoCache:Pi,useCacheRefresh:Lb},DJ={readContext:un,use:Lr,useCallback:Zx,useContext:un,useEffect:Db,useImperativeHandle:Qx,useInsertionEffect:Xx,useLayoutEffect:Cu,useMemo:Pb,useReducer:pn,useRef:ip,useState:function(){return pn(mn)},useDebugValue:Jx,useDeferredValue:function(h,m){var y=yr();return Ua===null?Au(y,h,m):lp(y,Ua.memoizedState,h,m)},useTransition:function(){var h=pn(mn)[0],m=yr().memoizedState;return[typeof h=="boolean"?h:Gn(h),m]},useSyncExternalStore:c0,useId:eg,useHostTransitionStatus:x0,useFormState:Eb,useActionState:Eb,useOptimistic:function(h,m){var y=yr();return Ua!==null?qc(y,Ua,h,m):(y.baseState=h,[h,y.queue.dispatch])},useMemoCache:Pi,useCacheRefresh:Lb},op=null,sg=0;function Fb(h){var m=sg;return sg+=1,op===null&&(op=[]),lt(op,h,m)}function ng(h,m){m=m.props.ref,h.ref=m!==void 0?m:null}function Ib(h,m){throw m.$$typeof===f?Error(r(525)):(h=Object.prototype.toString.call(m),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h)))}function AT(h){var m=h._init;return m(h._payload)}function _T(h){function m(Xe,qe){if(h){var nt=Xe.deletions;nt===null?(Xe.deletions=[qe],Xe.flags|=16):nt.push(qe)}}function y(Xe,qe){if(!h)return null;for(;qe!==null;)m(Xe,qe),qe=qe.sibling;return null}function C(Xe){for(var qe=new Map;Xe!==null;)Xe.key!==null?qe.set(Xe.key,Xe):qe.set(Xe.index,Xe),Xe=Xe.sibling;return qe}function P(Xe,qe){return Xe=qo(Xe,qe),Xe.index=0,Xe.sibling=null,Xe}function V(Xe,qe,nt){return Xe.index=nt,h?(nt=Xe.alternate,nt!==null?(nt=nt.index,nt<qe?(Xe.flags|=67108866,qe):nt):(Xe.flags|=67108866,qe)):(Xe.flags|=1048576,qe)}function ue(Xe){return h&&Xe.alternate===null&&(Xe.flags|=67108866),Xe}function be(Xe,qe,nt,Tt){return qe===null||qe.tag!==6?(qe=Jm(nt,Xe.mode,Tt),qe.return=Xe,qe):(qe=P(qe,nt),qe.return=Xe,qe)}function Ie(Xe,qe,nt,Tt){var ua=nt.type;return ua===v?Ct(Xe,qe,nt.props.children,Tt,nt.key):qe!==null&&(qe.elementType===ua||typeof ua=="object"&&ua!==null&&ua.$$typeof===L&&AT(ua)===qe.type)?(qe=P(qe,nt.props),ng(qe,nt),qe.return=Xe,qe):(qe=wu(nt.type,nt.key,nt.props,null,Xe.mode,Tt),ng(qe,nt),qe.return=Xe,qe)}function ot(Xe,qe,nt,Tt){return qe===null||qe.tag!==4||qe.stateNode.containerInfo!==nt.containerInfo||qe.stateNode.implementation!==nt.implementation?(qe=s0(nt,Xe.mode,Tt),qe.return=Xe,qe):(qe=P(qe,nt.children||[]),qe.return=Xe,qe)}function Ct(Xe,qe,nt,Tt,ua){return qe===null||qe.tag!==7?(qe=Bc(nt,Xe.mode,Tt,ua),qe.return=Xe,qe):(qe=P(qe,nt),qe.return=Xe,qe)}function Pt(Xe,qe,nt){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return qe=Jm(""+qe,Xe.mode,nt),qe.return=Xe,qe;if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case x:return nt=wu(qe.type,qe.key,qe.props,null,Xe.mode,nt),ng(nt,qe),nt.return=Xe,nt;case p:return qe=s0(qe,Xe.mode,nt),qe.return=Xe,qe;case L:var Tt=qe._init;return qe=Tt(qe._payload),Pt(Xe,qe,nt)}if(q(qe)||B(qe))return qe=Bc(qe,Xe.mode,nt,null),qe.return=Xe,qe;if(typeof qe.then=="function")return Pt(Xe,Fb(qe),nt);if(qe.$$typeof===S)return Pt(Xe,Rd(Xe,qe),nt);Ib(Xe,qe)}return null}function ct(Xe,qe,nt,Tt){var ua=qe!==null?qe.key:null;if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return ua!==null?null:be(Xe,qe,""+nt,Tt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case x:return nt.key===ua?Ie(Xe,qe,nt,Tt):null;case p:return nt.key===ua?ot(Xe,qe,nt,Tt):null;case L:return ua=nt._init,nt=ua(nt._payload),ct(Xe,qe,nt,Tt)}if(q(nt)||B(nt))return ua!==null?null:Ct(Xe,qe,nt,Tt,null);if(typeof nt.then=="function")return ct(Xe,qe,Fb(nt),Tt);if(nt.$$typeof===S)return ct(Xe,qe,Rd(Xe,nt),Tt);Ib(Xe,nt)}return null}function ht(Xe,qe,nt,Tt,ua){if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number"||typeof Tt=="bigint")return Xe=Xe.get(nt)||null,be(qe,Xe,""+Tt,ua);if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case x:return Xe=Xe.get(Tt.key===null?nt:Tt.key)||null,Ie(qe,Xe,Tt,ua);case p:return Xe=Xe.get(Tt.key===null?nt:Tt.key)||null,ot(qe,Xe,Tt,ua);case L:var nr=Tt._init;return Tt=nr(Tt._payload),ht(Xe,qe,nt,Tt,ua)}if(q(Tt)||B(Tt))return Xe=Xe.get(nt)||null,Ct(qe,Xe,Tt,ua,null);if(typeof Tt.then=="function")return ht(Xe,qe,nt,Fb(Tt),ua);if(Tt.$$typeof===S)return ht(Xe,qe,nt,Rd(qe,Tt),ua);Ib(qe,Tt)}return null}function Ma(Xe,qe,nt,Tt){for(var ua=null,nr=null,ba=qe,ka=qe=0,gi=null;ba!==null&&ka<nt.length;ka++){ba.index>ka?(gi=ba,ba=null):gi=ba.sibling;var _r=ct(Xe,ba,nt[ka],Tt);if(_r===null){ba===null&&(ba=gi);break}h&&ba&&_r.alternate===null&&m(Xe,ba),qe=V(_r,qe,ka),nr===null?ua=_r:nr.sibling=_r,nr=_r,ba=gi}if(ka===nt.length)return y(Xe,ba),jr&&Nu(Xe,ka),ua;if(ba===null){for(;ka<nt.length;ka++)ba=Pt(Xe,nt[ka],Tt),ba!==null&&(qe=V(ba,qe,ka),nr===null?ua=ba:nr.sibling=ba,nr=ba);return jr&&Nu(Xe,ka),ua}for(ba=C(ba);ka<nt.length;ka++)gi=ht(ba,Xe,ka,nt[ka],Tt),gi!==null&&(h&&gi.alternate!==null&&ba.delete(gi.key===null?ka:gi.key),qe=V(gi,qe,ka),nr===null?ua=gi:nr.sibling=gi,nr=gi);return h&&ba.forEach(function(cf){return m(Xe,cf)}),jr&&Nu(Xe,ka),ua}function Sa(Xe,qe,nt,Tt){if(nt==null)throw Error(r(151));for(var ua=null,nr=null,ba=qe,ka=qe=0,gi=null,_r=nt.next();ba!==null&&!_r.done;ka++,_r=nt.next()){ba.index>ka?(gi=ba,ba=null):gi=ba.sibling;var cf=ct(Xe,ba,_r.value,Tt);if(cf===null){ba===null&&(ba=gi);break}h&&ba&&cf.alternate===null&&m(Xe,ba),qe=V(cf,qe,ka),nr===null?ua=cf:nr.sibling=cf,nr=cf,ba=gi}if(_r.done)return y(Xe,ba),jr&&Nu(Xe,ka),ua;if(ba===null){for(;!_r.done;ka++,_r=nt.next())_r=Pt(Xe,_r.value,Tt),_r!==null&&(qe=V(_r,qe,ka),nr===null?ua=_r:nr.sibling=_r,nr=_r);return jr&&Nu(Xe,ka),ua}for(ba=C(ba);!_r.done;ka++,_r=nt.next())_r=ht(ba,Xe,ka,_r.value,Tt),_r!==null&&(h&&_r.alternate!==null&&ba.delete(_r.key===null?ka:_r.key),qe=V(_r,qe,ka),nr===null?ua=_r:nr.sibling=_r,nr=_r);return h&&ba.forEach(function(MZ){return m(Xe,MZ)}),jr&&Nu(Xe,ka),ua}function Yr(Xe,qe,nt,Tt){if(typeof nt=="object"&&nt!==null&&nt.type===v&&nt.key===null&&(nt=nt.props.children),typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case x:e:{for(var ua=nt.key;qe!==null;){if(qe.key===ua){if(ua=nt.type,ua===v){if(qe.tag===7){y(Xe,qe.sibling),Tt=P(qe,nt.props.children),Tt.return=Xe,Xe=Tt;break e}}else if(qe.elementType===ua||typeof ua=="object"&&ua!==null&&ua.$$typeof===L&&AT(ua)===qe.type){y(Xe,qe.sibling),Tt=P(qe,nt.props),ng(Tt,nt),Tt.return=Xe,Xe=Tt;break e}y(Xe,qe);break}else m(Xe,qe);qe=qe.sibling}nt.type===v?(Tt=Bc(nt.props.children,Xe.mode,Tt,nt.key),Tt.return=Xe,Xe=Tt):(Tt=wu(nt.type,nt.key,nt.props,null,Xe.mode,Tt),ng(Tt,nt),Tt.return=Xe,Xe=Tt)}return ue(Xe);case p:e:{for(ua=nt.key;qe!==null;){if(qe.key===ua)if(qe.tag===4&&qe.stateNode.containerInfo===nt.containerInfo&&qe.stateNode.implementation===nt.implementation){y(Xe,qe.sibling),Tt=P(qe,nt.children||[]),Tt.return=Xe,Xe=Tt;break e}else{y(Xe,qe);break}else m(Xe,qe);qe=qe.sibling}Tt=s0(nt,Xe.mode,Tt),Tt.return=Xe,Xe=Tt}return ue(Xe);case L:return ua=nt._init,nt=ua(nt._payload),Yr(Xe,qe,nt,Tt)}if(q(nt))return Ma(Xe,qe,nt,Tt);if(B(nt)){if(ua=B(nt),typeof ua!="function")throw Error(r(150));return nt=ua.call(nt),Sa(Xe,qe,nt,Tt)}if(typeof nt.then=="function")return Yr(Xe,qe,Fb(nt),Tt);if(nt.$$typeof===S)return Yr(Xe,qe,Rd(Xe,nt),Tt);Ib(Xe,nt)}return typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint"?(nt=""+nt,qe!==null&&qe.tag===6?(y(Xe,qe.sibling),Tt=P(qe,nt),Tt.return=Xe,Xe=Tt):(y(Xe,qe),Tt=Jm(nt,Xe.mode,Tt),Tt.return=Xe,Xe=Tt),ue(Xe)):y(Xe,qe)}return function(Xe,qe,nt,Tt){try{sg=0;var ua=Yr(Xe,qe,nt,Tt);return op=null,ua}catch(ba){if(ba===ge||ba===we)throw ba;var nr=fi(29,ba,null,Xe.mode);return nr.lanes=Tt,nr.return=Xe,nr}finally{}}}var cp=_T(!0),TT=_T(!1),Zo=ce(null),Fd=null;function Gh(h){var m=h.alternate;Q(Kn,Kn.current&1),Q(Zo,h),Fd===null&&(m===null||Da.current!==null||m.memoizedState!==null)&&(Fd=h)}function ET(h){if(h.tag===22){if(Q(Kn,Kn.current),Q(Zo,h),Fd===null){var m=h.alternate;m!==null&&m.memoizedState!==null&&(Fd=h)}}else Kh()}function Kh(){Q(Kn,Kn.current),Q(Zo,Zo.current)}function _u(h){D(Zo),Fd===h&&(Fd=null),D(Kn)}var Kn=ce(0);function Bb(h){for(var m=h;m!==null;){if(m.tag===13){var y=m.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||$4(y)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function QN(h,m,y,C){m=h.memoizedState,y=y(C,m),y=y==null?m:u({},m,y),h.memoizedState=y,h.lanes===0&&(h.updateQueue.baseState=y)}var JN={enqueueSetState:function(h,m,y){h=h._reactInternals;var C=yo(),P=bt(C);P.payload=m,y!=null&&(P.callback=y),m=Ft(h,P,C),m!==null&&(wo(m,h,C),Mt(m,h,C))},enqueueReplaceState:function(h,m,y){h=h._reactInternals;var C=yo(),P=bt(C);P.tag=1,P.payload=m,y!=null&&(P.callback=y),m=Ft(h,P,C),m!==null&&(wo(m,h,C),Mt(m,h,C))},enqueueForceUpdate:function(h,m){h=h._reactInternals;var y=yo(),C=bt(y);C.tag=2,m!=null&&(C.callback=m),m=Ft(h,C,y),m!==null&&(wo(m,h,y),Mt(m,h,y))}};function DT(h,m,y,C,P,V,ue){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(C,V,ue):m.prototype&&m.prototype.isPureReactComponent?!Gi(y,C)||!Gi(P,V):!0}function MT(h,m,y,C){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(y,C),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(y,C),m.state!==h&&JN.enqueueReplaceState(m,m.state,null)}function g0(h,m){var y=m;if("ref"in m){y={};for(var C in m)C!=="ref"&&(y[C]=m[C])}if(h=h.defaultProps){y===m&&(y=u({},y));for(var P in h)y[P]===void 0&&(y[P]=h[P])}return y}var $b=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)};function PT(h){$b(h)}function LT(h){console.error(h)}function OT(h){$b(h)}function Ub(h,m){try{var y=h.onUncaughtError;y(m.value,{componentStack:m.stack})}catch(C){setTimeout(function(){throw C})}}function RT(h,m,y){try{var C=h.onCaughtError;C(y.value,{componentStack:y.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(P){setTimeout(function(){throw P})}}function ZN(h,m,y){return y=bt(y),y.tag=3,y.payload={element:null},y.callback=function(){Ub(h,m)},y}function FT(h){return h=bt(h),h.tag=3,h}function IT(h,m,y,C){var P=y.type.getDerivedStateFromError;if(typeof P=="function"){var V=C.value;h.payload=function(){return P(V)},h.callback=function(){RT(m,y,C)}}var ue=y.stateNode;ue!==null&&typeof ue.componentDidCatch=="function"&&(h.callback=function(){RT(m,y,C),typeof P!="function"&&(ef===null?ef=new Set([this]):ef.add(this));var be=C.stack;this.componentDidCatch(C.value,{componentStack:be!==null?be:""})})}function MJ(h,m,y,C,P){if(y.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(m=y.alternate,m!==null&&zh(m,y,P,!0),y=Zo.current,y!==null){switch(y.tag){case 13:return Fd===null?N4():y.alternate===null&&Ys===0&&(Ys=3),y.flags&=-257,y.flags|=65536,y.lanes=P,C===Se?y.flags|=16384:(m=y.updateQueue,m===null?y.updateQueue=new Set([C]):m.add(C),k4(h,C,P)),!1;case 22:return y.flags|=65536,C===Se?y.flags|=16384:(m=y.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([C])},y.updateQueue=m):(y=m.retryQueue,y===null?m.retryQueue=new Set([C]):y.add(C)),k4(h,C,P)),!1}throw Error(r(435,y.tag))}return k4(h,C,P),N4(),!1}if(jr)return m=Zo.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=P,C!==Hx&&(h=Error(r(422),{cause:C}),Uh(wl(h,y)))):(C!==Hx&&(m=Error(r(423),{cause:C}),Uh(wl(m,y))),h=h.current.alternate,h.flags|=65536,P&=-P,h.lanes|=P,C=wl(C,y),P=ZN(h.stateNode,C,P),pa(h,P),Ys!==4&&(Ys=2)),!1;var V=Error(r(520),{cause:C});if(V=wl(V,y),hg===null?hg=[V]:hg.push(V),Ys!==4&&(Ys=2),m===null)return!0;C=wl(C,y),y=m;do{switch(y.tag){case 3:return y.flags|=65536,h=P&-P,y.lanes|=h,h=ZN(y.stateNode,C,h),pa(y,h),!1;case 1:if(m=y.type,V=y.stateNode,(y.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(ef===null||!ef.has(V))))return y.flags|=65536,P&=-P,y.lanes|=P,P=FT(P),IT(P,h,y,C),pa(y,P),!1}y=y.return}while(y!==null);return!1}var BT=Error(r(461)),pi=!1;function Li(h,m,y,C){m.child=h===null?TT(m,null,y,C):cp(m,h.child,y,C)}function $T(h,m,y,C,P){y=y.render;var V=m.ref;if("ref"in C){var ue={};for(var be in C)be!=="ref"&&(ue[be]=C[be])}else ue=C;return Xo(m),C=kl(h,m,y,ue,V,P),be=$s(),h!==null&&!pi?(Mi(h,m,P),Tu(h,m,P)):(jr&&be&&n0(m),m.flags|=1,Li(h,m,C,P),m.child)}function UT(h,m,y,C,P){if(h===null){var V=y.type;return typeof V=="function"&&!Bh(V)&&V.defaultProps===void 0&&y.compare===null?(m.tag=15,m.type=V,zT(h,m,V,C,P)):(h=wu(y.type,null,C,m,m.mode,P),h.ref=m.ref,h.return=m,m.child=h)}if(V=h.child,!l4(h,P)){var ue=V.memoizedProps;if(y=y.compare,y=y!==null?y:Gi,y(ue,C)&&h.ref===m.ref)return Tu(h,m,P)}return m.flags|=1,h=qo(V,C),h.ref=m.ref,h.return=m,m.child=h}function zT(h,m,y,C,P){if(h!==null){var V=h.memoizedProps;if(Gi(V,C)&&h.ref===m.ref)if(pi=!1,m.pendingProps=C=V,l4(h,P))(h.flags&131072)!==0&&(pi=!0);else return m.lanes=h.lanes,Tu(h,m,P)}return e4(h,m,y,C,P)}function HT(h,m,y){var C=m.pendingProps,P=C.children,V=h!==null?h.memoizedState:null;if(C.mode==="hidden"){if((m.flags&128)!==0){if(C=V!==null?V.baseLanes|y:y,h!==null){for(P=m.child=h.child,V=0;P!==null;)V=V|P.lanes|P.childLanes,P=P.sibling;m.childLanes=V&~C}else m.childLanes=0,m.child=null;return VT(h,m,C,y)}if((y&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},h!==null&&ne(m,V!==null?V.cachePool:null),V!==null?Qt(m,V):ds(),ET(m);else return m.lanes=m.childLanes=536870912,VT(h,m,V!==null?V.baseLanes|y:y,y)}else V!==null?(ne(m,V.cachePool),Qt(m,V),Kh(),m.memoizedState=null):(h!==null&&ne(m,null),ds(),Kh());return Li(h,m,P,y),m.child}function VT(h,m,y,C){var P=Z();return P=P===null?null:{parent:hn._currentValue,pool:P},m.memoizedState={baseLanes:y,cachePool:P},h!==null&&ne(m,null),ds(),ET(m),h!==null&&zh(h,m,C,!0),null}function zb(h,m){var y=m.ref;if(y===null)h!==null&&h.ref!==null&&(m.flags|=4194816);else{if(typeof y!="function"&&typeof y!="object")throw Error(r(284));(h===null||h.ref!==y)&&(m.flags|=4194816)}}function e4(h,m,y,C,P){return Xo(m),y=kl(h,m,y,C,void 0,P),C=$s(),h!==null&&!pi?(Mi(h,m,P),Tu(h,m,P)):(jr&&C&&n0(m),m.flags|=1,Li(h,m,y,P),m.child)}function WT(h,m,y,C,P,V){return Xo(m),m.updateQueue=null,y=Di(m,C,y,P),Cs(h),C=$s(),h!==null&&!pi?(Mi(h,m,V),Tu(h,m,V)):(jr&&C&&n0(m),m.flags|=1,Li(h,m,y,V),m.child)}function qT(h,m,y,C,P){if(Xo(m),m.stateNode===null){var V=Dn,ue=y.contextType;typeof ue=="object"&&ue!==null&&(V=un(ue)),V=new y(C,V),m.memoizedState=V.state!==null&&V.state!==void 0?V.state:null,V.updater=JN,m.stateNode=V,V._reactInternals=m,V=m.stateNode,V.props=C,V.state=m.memoizedState,V.refs={},it(m),ue=y.contextType,V.context=typeof ue=="object"&&ue!==null?un(ue):Dn,V.state=m.memoizedState,ue=y.getDerivedStateFromProps,typeof ue=="function"&&(QN(m,y,ue,C),V.state=m.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof V.getSnapshotBeforeUpdate=="function"||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(ue=V.state,typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount(),ue!==V.state&&JN.enqueueReplaceState(V,V.state,null),na(m,C,V,P),Ra(),V.state=m.memoizedState),typeof V.componentDidMount=="function"&&(m.flags|=4194308),C=!0}else if(h===null){V=m.stateNode;var be=m.memoizedProps,Ie=g0(y,be);V.props=Ie;var ot=V.context,Ct=y.contextType;ue=Dn,typeof Ct=="object"&&Ct!==null&&(ue=un(Ct));var Pt=y.getDerivedStateFromProps;Ct=typeof Pt=="function"||typeof V.getSnapshotBeforeUpdate=="function",be=m.pendingProps!==be,Ct||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(be||ot!==ue)&&MT(m,V,C,ue),xt=!1;var ct=m.memoizedState;V.state=ct,na(m,C,V,P),Ra(),ot=m.memoizedState,be||ct!==ot||xt?(typeof Pt=="function"&&(QN(m,y,Pt,C),ot=m.memoizedState),(Ie=xt||DT(m,y,Ie,C,ct,ot,ue))?(Ct||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(m.flags|=4194308)):(typeof V.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=C,m.memoizedState=ot),V.props=C,V.state=ot,V.context=ue,C=Ie):(typeof V.componentDidMount=="function"&&(m.flags|=4194308),C=!1)}else{V=m.stateNode,wt(h,m),ue=m.memoizedProps,Ct=g0(y,ue),V.props=Ct,Pt=m.pendingProps,ct=V.context,ot=y.contextType,Ie=Dn,typeof ot=="object"&&ot!==null&&(Ie=un(ot)),be=y.getDerivedStateFromProps,(ot=typeof be=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(ue!==Pt||ct!==Ie)&&MT(m,V,C,Ie),xt=!1,ct=m.memoizedState,V.state=ct,na(m,C,V,P),Ra();var ht=m.memoizedState;ue!==Pt||ct!==ht||xt||h!==null&&h.dependencies!==null&&ap(h.dependencies)?(typeof be=="function"&&(QN(m,y,be,C),ht=m.memoizedState),(Ct=xt||DT(m,y,Ct,C,ct,ht,Ie)||h!==null&&h.dependencies!==null&&ap(h.dependencies))?(ot||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(C,ht,Ie),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(C,ht,Ie)),typeof V.componentDidUpdate=="function"&&(m.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof V.componentDidUpdate!="function"||ue===h.memoizedProps&&ct===h.memoizedState||(m.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||ue===h.memoizedProps&&ct===h.memoizedState||(m.flags|=1024),m.memoizedProps=C,m.memoizedState=ht),V.props=C,V.state=ht,V.context=Ie,C=Ct):(typeof V.componentDidUpdate!="function"||ue===h.memoizedProps&&ct===h.memoizedState||(m.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||ue===h.memoizedProps&&ct===h.memoizedState||(m.flags|=1024),C=!1)}return V=C,zb(h,m),C=(m.flags&128)!==0,V||C?(V=m.stateNode,y=C&&typeof y.getDerivedStateFromError!="function"?null:V.render(),m.flags|=1,h!==null&&C?(m.child=cp(m,h.child,null,P),m.child=cp(m,null,y,P)):Li(h,m,y,P),m.memoizedState=V.state,h=m.child):h=Tu(h,m,P),h}function GT(h,m,y,C){return Sl(),m.flags|=256,Li(h,m,y,C),m.child}var t4={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function a4(h){return{baseLanes:h,cachePool:pe()}}function r4(h,m,y){return h=h!==null?h.childLanes&~y:0,m&&(h|=ec),h}function KT(h,m,y){var C=m.pendingProps,P=!1,V=(m.flags&128)!==0,ue;if((ue=V)||(ue=h!==null&&h.memoizedState===null?!1:(Kn.current&2)!==0),ue&&(P=!0,m.flags&=-129),ue=(m.flags&32)!==0,m.flags&=-33,h===null){if(jr){if(P?Gh(m):Kh(),jr){var be=Ns,Ie;if(Ie=be){e:{for(Ie=be,be=Go;Ie.nodeType!==8;){if(!be){be=null;break e}if(Ie=Qc(Ie.nextSibling),Ie===null){be=null;break e}}be=Ie}be!==null?(m.memoizedState={dehydrated:be,treeContext:ju!==null?{id:Uc,overflow:zc}:null,retryLane:536870912,hydrationErrors:null},Ie=fi(18,null,null,0),Ie.stateNode=be,Ie.return=m,m.child=Ie,dn=m,Ns=null,Ie=!0):Ie=!1}Ie||Su(m)}if(be=m.memoizedState,be!==null&&(be=be.dehydrated,be!==null))return $4(be)?m.lanes=32:m.lanes=536870912,null;_u(m)}return be=C.children,C=C.fallback,P?(Kh(),P=m.mode,be=Hb({mode:"hidden",children:be},P),C=Bc(C,P,y,null),be.return=m,C.return=m,be.sibling=C,m.child=be,P=m.child,P.memoizedState=a4(y),P.childLanes=r4(h,ue,y),m.memoizedState=t4,C):(Gh(m),s4(m,be))}if(Ie=h.memoizedState,Ie!==null&&(be=Ie.dehydrated,be!==null)){if(V)m.flags&256?(Gh(m),m.flags&=-257,m=n4(h,m,y)):m.memoizedState!==null?(Kh(),m.child=h.child,m.flags|=128,m=null):(Kh(),P=C.fallback,be=m.mode,C=Hb({mode:"visible",children:C.children},be),P=Bc(P,be,y,null),P.flags|=2,C.return=m,P.return=m,C.sibling=P,m.child=C,cp(m,h.child,null,y),C=m.child,C.memoizedState=a4(y),C.childLanes=r4(h,ue,y),m.memoizedState=t4,m=P);else if(Gh(m),$4(be)){if(ue=be.nextSibling&&be.nextSibling.dataset,ue)var ot=ue.dgst;ue=ot,C=Error(r(419)),C.stack="",C.digest=ue,Uh({value:C,source:null,stack:null}),m=n4(h,m,y)}else if(pi||zh(h,m,y,!1),ue=(y&h.childLanes)!==0,pi||ue){if(ue=is,ue!==null&&(C=y&-y,C=(C&42)!==0?1:st(C),C=(C&(ue.suspendedLanes|y))!==0?0:C,C!==0&&C!==Ie.retryLane))throw Ie.retryLane=C,bu(h,C),wo(ue,h,C),BT;be.data==="$?"||N4(),m=n4(h,m,y)}else be.data==="$?"?(m.flags|=192,m.child=h.child,m=null):(h=Ie.treeContext,Ns=Qc(be.nextSibling),dn=m,jr=!0,Ld=null,Go=!1,h!==null&&(Vl[Nl++]=Uc,Vl[Nl++]=zc,Vl[Nl++]=ju,Uc=h.id,zc=h.overflow,ju=m),m=s4(m,C.children),m.flags|=4096);return m}return P?(Kh(),P=C.fallback,be=m.mode,Ie=h.child,ot=Ie.sibling,C=qo(Ie,{mode:"hidden",children:C.children}),C.subtreeFlags=Ie.subtreeFlags&65011712,ot!==null?P=qo(ot,P):(P=Bc(P,be,y,null),P.flags|=2),P.return=m,C.return=m,C.sibling=P,m.child=C,C=P,P=m.child,be=h.child.memoizedState,be===null?be=a4(y):(Ie=be.cachePool,Ie!==null?(ot=hn._currentValue,Ie=Ie.parent!==ot?{parent:ot,pool:ot}:Ie):Ie=pe(),be={baseLanes:be.baseLanes|y,cachePool:Ie}),P.memoizedState=be,P.childLanes=r4(h,ue,y),m.memoizedState=t4,C):(Gh(m),y=h.child,h=y.sibling,y=qo(y,{mode:"visible",children:C.children}),y.return=m,y.sibling=null,h!==null&&(ue=m.deletions,ue===null?(m.deletions=[h],m.flags|=16):ue.push(h)),m.child=y,m.memoizedState=null,y)}function s4(h,m){return m=Hb({mode:"visible",children:m},h.mode),m.return=h,h.child=m}function Hb(h,m){return h=fi(22,h,null,m),h.lanes=0,h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},h}function n4(h,m,y){return cp(m,h.child,null,y),h=s4(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function YT(h,m,y){h.lanes|=m;var C=h.alternate;C!==null&&(C.lanes|=m),ep(h.return,m,y)}function i4(h,m,y,C,P){var V=h.memoizedState;V===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:C,tail:y,tailMode:P}:(V.isBackwards=m,V.rendering=null,V.renderingStartTime=0,V.last=C,V.tail=y,V.tailMode=P)}function XT(h,m,y){var C=m.pendingProps,P=C.revealOrder,V=C.tail;if(Li(h,m,C.children,y),C=Kn.current,(C&2)!==0)C=C&1|2,m.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&YT(h,y,m);else if(h.tag===19)YT(h,y,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}C&=1}switch(Q(Kn,C),P){case"forwards":for(y=m.child,P=null;y!==null;)h=y.alternate,h!==null&&Bb(h)===null&&(P=y),y=y.sibling;y=P,y===null?(P=m.child,m.child=null):(P=y.sibling,y.sibling=null),i4(m,!1,P,y,V);break;case"backwards":for(y=null,P=m.child,m.child=null;P!==null;){if(h=P.alternate,h!==null&&Bb(h)===null){m.child=P;break}h=P.sibling,P.sibling=y,y=P,P=h}i4(m,!0,y,null,V);break;case"together":i4(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Tu(h,m,y){if(h!==null&&(m.dependencies=h.dependencies),Zh|=m.lanes,(y&m.childLanes)===0)if(h!==null){if(zh(h,m,y,!1),(y&m.childLanes)===0)return null}else return null;if(h!==null&&m.child!==h.child)throw Error(r(153));if(m.child!==null){for(h=m.child,y=qo(h,h.pendingProps),m.child=y,y.return=m;h.sibling!==null;)h=h.sibling,y=y.sibling=qo(h,h.pendingProps),y.return=m;y.sibling=null}return m.child}function l4(h,m){return(h.lanes&m)!==0?!0:(h=h.dependencies,!!(h!==null&&ap(h)))}function PJ(h,m,y){switch(m.tag){case 3:le(m,m.stateNode.containerInfo),Od(m,hn,h.memoizedState.cache),Sl();break;case 27:case 5:oe(m);break;case 4:le(m,m.stateNode.containerInfo);break;case 10:Od(m,m.type,m.memoizedProps.value);break;case 13:var C=m.memoizedState;if(C!==null)return C.dehydrated!==null?(Gh(m),m.flags|=128,null):(y&m.child.childLanes)!==0?KT(h,m,y):(Gh(m),h=Tu(h,m,y),h!==null?h.sibling:null);Gh(m);break;case 19:var P=(h.flags&128)!==0;if(C=(y&m.childLanes)!==0,C||(zh(h,m,y,!1),C=(y&m.childLanes)!==0),P){if(C)return XT(h,m,y);m.flags|=128}if(P=m.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),Q(Kn,Kn.current),C)break;return null;case 22:case 23:return m.lanes=0,HT(h,m,y);case 24:Od(m,hn,h.memoizedState.cache)}return Tu(h,m,y)}function QT(h,m,y){if(h!==null)if(h.memoizedProps!==m.pendingProps)pi=!0;else{if(!l4(h,y)&&(m.flags&128)===0)return pi=!1,PJ(h,m,y);pi=(h.flags&131072)!==0}else pi=!1,jr&&(m.flags&1048576)!==0&&bb(m,Zm,m.index);switch(m.lanes=0,m.tag){case 16:e:{h=m.pendingProps;var C=m.elementType,P=C._init;if(C=P(C._payload),m.type=C,typeof C=="function")Bh(C)?(h=g0(C,h),m.tag=1,m=qT(null,m,C,h,y)):(m.tag=0,m=e4(null,m,C,h,y));else{if(C!=null){if(P=C.$$typeof,P===k){m.tag=11,m=$T(null,m,C,h,y);break e}else if(P===M){m.tag=14,m=UT(null,m,C,h,y);break e}}throw m=R(C)||C,Error(r(306,m,""))}}return m;case 0:return e4(h,m,m.type,m.pendingProps,y);case 1:return C=m.type,P=g0(C,m.pendingProps),qT(h,m,C,P,y);case 3:e:{if(le(m,m.stateNode.containerInfo),h===null)throw Error(r(387));C=m.pendingProps;var V=m.memoizedState;P=V.element,wt(h,m),na(m,C,null,y);var ue=m.memoizedState;if(C=ue.cache,Od(m,hn,C),C!==V.cache&&tp(m,[hn],y,!0),Ra(),C=ue.element,V.isDehydrated)if(V={element:C,isDehydrated:!1,cache:ue.cache},m.updateQueue.baseState=V,m.memoizedState=V,m.flags&256){m=GT(h,m,C,y);break e}else if(C!==P){P=wl(Error(r(424)),m),Uh(P),m=GT(h,m,C,y);break e}else{switch(h=m.stateNode.containerInfo,h.nodeType){case 9:h=h.body;break;default:h=h.nodeName==="HTML"?h.ownerDocument.body:h}for(Ns=Qc(h.firstChild),dn=m,jr=!0,Ld=null,Go=!0,y=TT(m,null,C,y),m.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling}else{if(Sl(),C===P){m=Tu(h,m,y);break e}Li(h,m,C,y)}m=m.child}return m;case 26:return zb(h,m),h===null?(y=t7(m.type,null,m.pendingProps,null))?m.memoizedState=y:jr||(y=m.type,h=m.pendingProps,C=ry(ae.current).createElement(y),C[lr]=m,C[qa]=h,Ri(C,y,h),Ke(C),m.stateNode=C):m.memoizedState=t7(m.type,h.memoizedProps,m.pendingProps,h.memoizedState),null;case 27:return oe(m),h===null&&jr&&(C=m.stateNode=JE(m.type,m.pendingProps,ae.current),dn=m,Go=!0,P=Ns,rf(m.type)?(U4=P,Ns=Qc(C.firstChild)):Ns=P),Li(h,m,m.pendingProps.children,y),zb(h,m),h===null&&(m.flags|=4194304),m.child;case 5:return h===null&&jr&&((P=C=Ns)&&(C=lZ(C,m.type,m.pendingProps,Go),C!==null?(m.stateNode=C,dn=m,Ns=Qc(C.firstChild),Go=!1,P=!0):P=!1),P||Su(m)),oe(m),P=m.type,V=m.pendingProps,ue=h!==null?h.memoizedProps:null,C=V.children,F4(P,V)?C=null:ue!==null&&F4(P,ue)&&(m.flags|=32),m.memoizedState!==null&&(P=kl(h,m,Fr,null,null,y),wg._currentValue=P),zb(h,m),Li(h,m,C,y),m.child;case 6:return h===null&&jr&&((h=y=Ns)&&(y=oZ(y,m.pendingProps,Go),y!==null?(m.stateNode=y,dn=m,Ns=null,h=!0):h=!1),h||Su(m)),null;case 13:return KT(h,m,y);case 4:return le(m,m.stateNode.containerInfo),C=m.pendingProps,h===null?m.child=cp(m,null,C,y):Li(h,m,C,y),m.child;case 11:return $T(h,m,m.type,m.pendingProps,y);case 7:return Li(h,m,m.pendingProps,y),m.child;case 8:return Li(h,m,m.pendingProps.children,y),m.child;case 12:return Li(h,m,m.pendingProps.children,y),m.child;case 10:return C=m.pendingProps,Od(m,m.type,C.value),Li(h,m,C.children,y),m.child;case 9:return P=m.type._context,C=m.pendingProps.children,Xo(m),P=un(P),C=C(P),m.flags|=1,Li(h,m,C,y),m.child;case 14:return UT(h,m,m.type,m.pendingProps,y);case 15:return zT(h,m,m.type,m.pendingProps,y);case 19:return XT(h,m,y);case 31:return C=m.pendingProps,y=m.mode,C={mode:C.mode,children:C.children},h===null?(y=Hb(C,y),y.ref=m.ref,m.child=y,y.return=m,m=y):(y=qo(h.child,C),y.ref=m.ref,m.child=y,y.return=m,m=y),m;case 22:return HT(h,m,y);case 24:return Xo(m),C=un(hn),h===null?(P=Z(),P===null&&(P=is,V=Vx(),P.pooledCache=V,V.refCount++,V!==null&&(P.pooledCacheLanes|=y),P=V),m.memoizedState={parent:C,cache:P},it(m),Od(m,hn,P)):((h.lanes&y)!==0&&(wt(h,m),na(m,null,null,y),Ra()),P=h.memoizedState,V=m.memoizedState,P.parent!==C?(P={parent:C,cache:C},m.memoizedState=P,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=P),Od(m,hn,C)):(C=V.cache,Od(m,hn,C),C!==P.cache&&tp(m,[hn],y,!0))),Li(h,m,m.pendingProps.children,y),m.child;case 29:throw m.pendingProps}throw Error(r(156,m.tag))}function Eu(h){h.flags|=4}function JT(h,m){if(m.type!=="stylesheet"||(m.state.loading&4)!==0)h.flags&=-16777217;else if(h.flags|=16777216,!i7(m)){if(m=Zo.current,m!==null&&((wr&4194048)===wr?Fd!==null:(wr&62914560)!==wr&&(wr&536870912)===0||m!==Fd))throw Me=Se,ve;h.flags|=8192}}function Vb(h,m){m!==null&&(h.flags|=4),h.flags&16384&&(m=h.tag!==22?fa():536870912,h.lanes|=m,fp|=m)}function ig(h,m){if(!jr)switch(h.tailMode){case"hidden":m=h.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?h.tail=null:y.sibling=null;break;case"collapsed":y=h.tail;for(var C=null;y!==null;)y.alternate!==null&&(C=y),y=y.sibling;C===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:C.sibling=null}}function Us(h){var m=h.alternate!==null&&h.alternate.child===h.child,y=0,C=0;if(m)for(var P=h.child;P!==null;)y|=P.lanes|P.childLanes,C|=P.subtreeFlags&65011712,C|=P.flags&65011712,P.return=h,P=P.sibling;else for(P=h.child;P!==null;)y|=P.lanes|P.childLanes,C|=P.subtreeFlags,C|=P.flags,P.return=h,P=P.sibling;return h.subtreeFlags|=C,h.childLanes=y,m}function LJ(h,m,y){var C=m.pendingProps;switch(i0(m),m.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Us(m),null;case 1:return Us(m),null;case 3:return y=m.stateNode,C=null,h!==null&&(C=h.memoizedState.cache),m.memoizedState.cache!==C&&(m.flags|=2048),Yo(hn),Y(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(h===null||h.child===null)&&(Ei(m)?Eu(m):h===null||h.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,wb())),Us(m),null;case 26:return y=m.memoizedState,h===null?(Eu(m),y!==null?(Us(m),JT(m,y)):(Us(m),m.flags&=-16777217)):y?y!==h.memoizedState?(Eu(m),Us(m),JT(m,y)):(Us(m),m.flags&=-16777217):(h.memoizedProps!==C&&Eu(m),Us(m),m.flags&=-16777217),null;case 27:xe(m),y=ae.current;var P=m.type;if(h!==null&&m.stateNode!=null)h.memoizedProps!==C&&Eu(m);else{if(!C){if(m.stateNode===null)throw Error(r(166));return Us(m),null}h=H.current,Ei(m)?yb(m):(h=JE(P,C,y),m.stateNode=h,Eu(m))}return Us(m),null;case 5:if(xe(m),y=m.type,h!==null&&m.stateNode!=null)h.memoizedProps!==C&&Eu(m);else{if(!C){if(m.stateNode===null)throw Error(r(166));return Us(m),null}if(h=H.current,Ei(m))yb(m);else{switch(P=ry(ae.current),h){case 1:h=P.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:h=P.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":h=P.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":h=P.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":h=P.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof C.is=="string"?P.createElement("select",{is:C.is}):P.createElement("select"),C.multiple?h.multiple=!0:C.size&&(h.size=C.size);break;default:h=typeof C.is=="string"?P.createElement(y,{is:C.is}):P.createElement(y)}}h[lr]=m,h[qa]=C;e:for(P=m.child;P!==null;){if(P.tag===5||P.tag===6)h.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===m)break e;for(;P.sibling===null;){if(P.return===null||P.return===m)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}m.stateNode=h;e:switch(Ri(h,y,C),y){case"button":case"input":case"select":case"textarea":h=!!C.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Eu(m)}}return Us(m),m.flags&=-16777217,null;case 6:if(h&&m.stateNode!=null)h.memoizedProps!==C&&Eu(m);else{if(typeof C!="string"&&m.stateNode===null)throw Error(r(166));if(h=ae.current,Ei(m)){if(h=m.stateNode,y=m.memoizedProps,C=null,P=dn,P!==null)switch(P.tag){case 27:case 5:C=P.memoizedProps}h[lr]=m,h=!!(h.nodeValue===y||C!==null&&C.suppressHydrationWarning===!0||WE(h.nodeValue,y)),h||Su(m)}else h=ry(h).createTextNode(C),h[lr]=m,m.stateNode=h}return Us(m),null;case 13:if(C=m.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(P=Ei(m),C!==null&&C.dehydrated!==null){if(h===null){if(!P)throw Error(r(318));if(P=m.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(r(317));P[lr]=m}else Sl(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Us(m),P=!1}else P=wb(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=P),P=!0;if(!P)return m.flags&256?(_u(m),m):(_u(m),null)}if(_u(m),(m.flags&128)!==0)return m.lanes=y,m;if(y=C!==null,h=h!==null&&h.memoizedState!==null,y){C=m.child,P=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(P=C.alternate.memoizedState.cachePool.pool);var V=null;C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(V=C.memoizedState.cachePool.pool),V!==P&&(C.flags|=2048)}return y!==h&&y&&(m.child.flags|=8192),Vb(m,m.updateQueue),Us(m),null;case 4:return Y(),h===null&&M4(m.stateNode.containerInfo),Us(m),null;case 10:return Yo(m.type),Us(m),null;case 19:if(D(Kn),P=m.memoizedState,P===null)return Us(m),null;if(C=(m.flags&128)!==0,V=P.rendering,V===null)if(C)ig(P,!1);else{if(Ys!==0||h!==null&&(h.flags&128)!==0)for(h=m.child;h!==null;){if(V=Bb(h),V!==null){for(m.flags|=128,ig(P,!1),h=V.updateQueue,m.updateQueue=h,Vb(m,h),m.subtreeFlags=0,h=y,y=m.child;y!==null;)r0(y,h),y=y.sibling;return Q(Kn,Kn.current&1|2),m.child}h=h.sibling}P.tail!==null&&Fe()>Gb&&(m.flags|=128,C=!0,ig(P,!1),m.lanes=4194304)}else{if(!C)if(h=Bb(V),h!==null){if(m.flags|=128,C=!0,h=h.updateQueue,m.updateQueue=h,Vb(m,h),ig(P,!0),P.tail===null&&P.tailMode==="hidden"&&!V.alternate&&!jr)return Us(m),null}else 2*Fe()-P.renderingStartTime>Gb&&y!==536870912&&(m.flags|=128,C=!0,ig(P,!1),m.lanes=4194304);P.isBackwards?(V.sibling=m.child,m.child=V):(h=P.last,h!==null?h.sibling=V:m.child=V,P.last=V)}return P.tail!==null?(m=P.tail,P.rendering=m,P.tail=m.sibling,P.renderingStartTime=Fe(),m.sibling=null,h=Kn.current,Q(Kn,C?h&1|2:h&1),m):(Us(m),null);case 22:case 23:return _u(m),Fa(),C=m.memoizedState!==null,h!==null?h.memoizedState!==null!==C&&(m.flags|=8192):C&&(m.flags|=8192),C?(y&536870912)!==0&&(m.flags&128)===0&&(Us(m),m.subtreeFlags&6&&(m.flags|=8192)):Us(m),y=m.updateQueue,y!==null&&Vb(m,y.retryQueue),y=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),C=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(C=m.memoizedState.cachePool.pool),C!==y&&(m.flags|=2048),h!==null&&D(F),null;case 24:return y=null,h!==null&&(y=h.memoizedState.cache),m.memoizedState.cache!==y&&(m.flags|=2048),Yo(hn),Us(m),null;case 25:return null;case 30:return null}throw Error(r(156,m.tag))}function OJ(h,m){switch(i0(m),m.tag){case 1:return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return Yo(hn),Y(),h=m.flags,(h&65536)!==0&&(h&128)===0?(m.flags=h&-65537|128,m):null;case 26:case 27:case 5:return xe(m),null;case 13:if(_u(m),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(r(340));Sl()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return D(Kn),null;case 4:return Y(),null;case 10:return Yo(m.type),null;case 22:case 23:return _u(m),Fa(),h!==null&&D(F),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 24:return Yo(hn),null;case 25:return null;default:return null}}function ZT(h,m){switch(i0(m),m.tag){case 3:Yo(hn),Y();break;case 26:case 27:case 5:xe(m);break;case 4:Y();break;case 13:_u(m);break;case 19:D(Kn);break;case 10:Yo(m.type);break;case 22:case 23:_u(m),Fa(),h!==null&&D(F);break;case 24:Yo(hn)}}function lg(h,m){try{var y=m.updateQueue,C=y!==null?y.lastEffect:null;if(C!==null){var P=C.next;y=P;do{if((y.tag&h)===h){C=void 0;var V=y.create,ue=y.inst;C=V(),ue.destroy=C}y=y.next}while(y!==P)}}catch(be){rs(m,m.return,be)}}function Yh(h,m,y){try{var C=m.updateQueue,P=C!==null?C.lastEffect:null;if(P!==null){var V=P.next;C=V;do{if((C.tag&h)===h){var ue=C.inst,be=ue.destroy;if(be!==void 0){ue.destroy=void 0,P=m;var Ie=y,ot=be;try{ot()}catch(Ct){rs(P,Ie,Ct)}}}C=C.next}while(C!==V)}}catch(Ct){rs(m,m.return,Ct)}}function eE(h){var m=h.updateQueue;if(m!==null){var y=h.stateNode;try{Ks(m,y)}catch(C){rs(h,h.return,C)}}}function tE(h,m,y){y.props=g0(h.type,h.memoizedProps),y.state=h.memoizedState;try{y.componentWillUnmount()}catch(C){rs(h,m,C)}}function og(h,m){try{var y=h.ref;if(y!==null){switch(h.tag){case 26:case 27:case 5:var C=h.stateNode;break;case 30:C=h.stateNode;break;default:C=h.stateNode}typeof y=="function"?h.refCleanup=y(C):y.current=C}}catch(P){rs(h,m,P)}}function Id(h,m){var y=h.ref,C=h.refCleanup;if(y!==null)if(typeof C=="function")try{C()}catch(P){rs(h,m,P)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(P){rs(h,m,P)}else y.current=null}function aE(h){var m=h.type,y=h.memoizedProps,C=h.stateNode;try{e:switch(m){case"button":case"input":case"select":case"textarea":y.autoFocus&&C.focus();break e;case"img":y.src?C.src=y.src:y.srcSet&&(C.srcset=y.srcSet)}}catch(P){rs(h,h.return,P)}}function o4(h,m,y){try{var C=h.stateNode;aZ(C,h.type,y,m),C[qa]=m}catch(P){rs(h,h.return,P)}}function rE(h){return h.tag===5||h.tag===3||h.tag===26||h.tag===27&&rf(h.type)||h.tag===4}function c4(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||rE(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.tag===27&&rf(h.type)||h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function d4(h,m,y){var C=h.tag;if(C===5||C===6)h=h.stateNode,m?(y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y).insertBefore(h,m):(m=y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y,m.appendChild(h),y=y._reactRootContainer,y!=null||m.onclick!==null||(m.onclick=ay));else if(C!==4&&(C===27&&rf(h.type)&&(y=h.stateNode,m=null),h=h.child,h!==null))for(d4(h,m,y),h=h.sibling;h!==null;)d4(h,m,y),h=h.sibling}function Wb(h,m,y){var C=h.tag;if(C===5||C===6)h=h.stateNode,m?y.insertBefore(h,m):y.appendChild(h);else if(C!==4&&(C===27&&rf(h.type)&&(y=h.stateNode),h=h.child,h!==null))for(Wb(h,m,y),h=h.sibling;h!==null;)Wb(h,m,y),h=h.sibling}function sE(h){var m=h.stateNode,y=h.memoizedProps;try{for(var C=h.type,P=m.attributes;P.length;)m.removeAttributeNode(P[0]);Ri(m,C,y),m[lr]=h,m[qa]=y}catch(V){rs(h,h.return,V)}}var Du=!1,xn=!1,u4=!1,nE=typeof WeakSet=="function"?WeakSet:Set,xi=null;function RJ(h,m){if(h=h.containerInfo,O4=cy,h=Rh(h),Vo(h)){if("selectionStart"in h)var y={start:h.selectionStart,end:h.selectionEnd};else e:{y=(y=h.ownerDocument)&&y.defaultView||window;var C=y.getSelection&&y.getSelection();if(C&&C.rangeCount!==0){y=C.anchorNode;var P=C.anchorOffset,V=C.focusNode;C=C.focusOffset;try{y.nodeType,V.nodeType}catch{y=null;break e}var ue=0,be=-1,Ie=-1,ot=0,Ct=0,Pt=h,ct=null;t:for(;;){for(var ht;Pt!==y||P!==0&&Pt.nodeType!==3||(be=ue+P),Pt!==V||C!==0&&Pt.nodeType!==3||(Ie=ue+C),Pt.nodeType===3&&(ue+=Pt.nodeValue.length),(ht=Pt.firstChild)!==null;)ct=Pt,Pt=ht;for(;;){if(Pt===h)break t;if(ct===y&&++ot===P&&(be=ue),ct===V&&++Ct===C&&(Ie=ue),(ht=Pt.nextSibling)!==null)break;Pt=ct,ct=Pt.parentNode}Pt=ht}y=be===-1||Ie===-1?null:{start:be,end:Ie}}else y=null}y=y||{start:0,end:0}}else y=null;for(R4={focusedElem:h,selectionRange:y},cy=!1,xi=m;xi!==null;)if(m=xi,h=m.child,(m.subtreeFlags&1024)!==0&&h!==null)h.return=m,xi=h;else for(;xi!==null;){switch(m=xi,V=m.alternate,h=m.flags,m.tag){case 0:break;case 11:case 15:break;case 1:if((h&1024)!==0&&V!==null){h=void 0,y=m,P=V.memoizedProps,V=V.memoizedState,C=y.stateNode;try{var Ma=g0(y.type,P,y.elementType===y.type);h=C.getSnapshotBeforeUpdate(Ma,V),C.__reactInternalSnapshotBeforeUpdate=h}catch(Sa){rs(y,y.return,Sa)}}break;case 3:if((h&1024)!==0){if(h=m.stateNode.containerInfo,y=h.nodeType,y===9)B4(h);else if(y===1)switch(h.nodeName){case"HEAD":case"HTML":case"BODY":B4(h);break;default:h.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(r(163))}if(h=m.sibling,h!==null){h.return=m.return,xi=h;break}xi=m.return}}function iE(h,m,y){var C=y.flags;switch(y.tag){case 0:case 11:case 15:Xh(h,y),C&4&&lg(5,y);break;case 1:if(Xh(h,y),C&4)if(h=y.stateNode,m===null)try{h.componentDidMount()}catch(ue){rs(y,y.return,ue)}else{var P=g0(y.type,m.memoizedProps);m=m.memoizedState;try{h.componentDidUpdate(P,m,h.__reactInternalSnapshotBeforeUpdate)}catch(ue){rs(y,y.return,ue)}}C&64&&eE(y),C&512&&og(y,y.return);break;case 3:if(Xh(h,y),C&64&&(h=y.updateQueue,h!==null)){if(m=null,y.child!==null)switch(y.child.tag){case 27:case 5:m=y.child.stateNode;break;case 1:m=y.child.stateNode}try{Ks(h,m)}catch(ue){rs(y,y.return,ue)}}break;case 27:m===null&&C&4&&sE(y);case 26:case 5:Xh(h,y),m===null&&C&4&&aE(y),C&512&&og(y,y.return);break;case 12:Xh(h,y);break;case 13:Xh(h,y),C&4&&cE(h,y),C&64&&(h=y.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&(y=WJ.bind(null,y),cZ(h,y))));break;case 22:if(C=y.memoizedState!==null||Du,!C){m=m!==null&&m.memoizedState!==null||xn,P=Du;var V=xn;Du=C,(xn=m)&&!V?Qh(h,y,(y.subtreeFlags&8772)!==0):Xh(h,y),Du=P,xn=V}break;case 30:break;default:Xh(h,y)}}function lE(h){var m=h.alternate;m!==null&&(h.alternate=null,lE(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&Ne(m)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}var As=null,Wl=!1;function Mu(h,m,y){for(y=y.child;y!==null;)oE(h,m,y),y=y.sibling}function oE(h,m,y){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount($e,y)}catch{}switch(y.tag){case 26:xn||Id(y,m),Mu(h,m,y),y.memoizedState?y.memoizedState.count--:y.stateNode&&(y=y.stateNode,y.parentNode.removeChild(y));break;case 27:xn||Id(y,m);var C=As,P=Wl;rf(y.type)&&(As=y.stateNode,Wl=!1),Mu(h,m,y),gg(y.stateNode),As=C,Wl=P;break;case 5:xn||Id(y,m);case 6:if(C=As,P=Wl,As=null,Mu(h,m,y),As=C,Wl=P,As!==null)if(Wl)try{(As.nodeType===9?As.body:As.nodeName==="HTML"?As.ownerDocument.body:As).removeChild(y.stateNode)}catch(V){rs(y,m,V)}else try{As.removeChild(y.stateNode)}catch(V){rs(y,m,V)}break;case 18:As!==null&&(Wl?(h=As,XE(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,y.stateNode),kg(h)):XE(As,y.stateNode));break;case 4:C=As,P=Wl,As=y.stateNode.containerInfo,Wl=!0,Mu(h,m,y),As=C,Wl=P;break;case 0:case 11:case 14:case 15:xn||Yh(2,y,m),xn||Yh(4,y,m),Mu(h,m,y);break;case 1:xn||(Id(y,m),C=y.stateNode,typeof C.componentWillUnmount=="function"&&tE(y,m,C)),Mu(h,m,y);break;case 21:Mu(h,m,y);break;case 22:xn=(C=xn)||y.memoizedState!==null,Mu(h,m,y),xn=C;break;default:Mu(h,m,y)}}function cE(h,m){if(m.memoizedState===null&&(h=m.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{kg(h)}catch(y){rs(m,m.return,y)}}function FJ(h){switch(h.tag){case 13:case 19:var m=h.stateNode;return m===null&&(m=h.stateNode=new nE),m;case 22:return h=h.stateNode,m=h._retryCache,m===null&&(m=h._retryCache=new nE),m;default:throw Error(r(435,h.tag))}}function h4(h,m){var y=FJ(h);m.forEach(function(C){var P=qJ.bind(null,h,C);y.has(C)||(y.add(C),C.then(P,P))})}function go(h,m){var y=m.deletions;if(y!==null)for(var C=0;C<y.length;C++){var P=y[C],V=h,ue=m,be=ue;e:for(;be!==null;){switch(be.tag){case 27:if(rf(be.type)){As=be.stateNode,Wl=!1;break e}break;case 5:As=be.stateNode,Wl=!1;break e;case 3:case 4:As=be.stateNode.containerInfo,Wl=!0;break e}be=be.return}if(As===null)throw Error(r(160));oE(V,ue,P),As=null,Wl=!1,V=P.alternate,V!==null&&(V.return=null),P.return=null}if(m.subtreeFlags&13878)for(m=m.child;m!==null;)dE(m,h),m=m.sibling}var Xc=null;function dE(h,m){var y=h.alternate,C=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:go(m,h),vo(h),C&4&&(Yh(3,h,h.return),lg(3,h),Yh(5,h,h.return));break;case 1:go(m,h),vo(h),C&512&&(xn||y===null||Id(y,y.return)),C&64&&Du&&(h=h.updateQueue,h!==null&&(C=h.callbacks,C!==null&&(y=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=y===null?C:y.concat(C))));break;case 26:var P=Xc;if(go(m,h),vo(h),C&512&&(xn||y===null||Id(y,y.return)),C&4){var V=y!==null?y.memoizedState:null;if(C=h.memoizedState,y===null)if(C===null)if(h.stateNode===null){e:{C=h.type,y=h.memoizedProps,P=P.ownerDocument||P;t:switch(C){case"title":V=P.getElementsByTagName("title")[0],(!V||V[ye]||V[lr]||V.namespaceURI==="http://www.w3.org/2000/svg"||V.hasAttribute("itemprop"))&&(V=P.createElement(C),P.head.insertBefore(V,P.querySelector("head > title"))),Ri(V,C,y),V[lr]=h,Ke(V),C=V;break e;case"link":var ue=s7("link","href",P).get(C+(y.href||""));if(ue){for(var be=0;be<ue.length;be++)if(V=ue[be],V.getAttribute("href")===(y.href==null||y.href===""?null:y.href)&&V.getAttribute("rel")===(y.rel==null?null:y.rel)&&V.getAttribute("title")===(y.title==null?null:y.title)&&V.getAttribute("crossorigin")===(y.crossOrigin==null?null:y.crossOrigin)){ue.splice(be,1);break t}}V=P.createElement(C),Ri(V,C,y),P.head.appendChild(V);break;case"meta":if(ue=s7("meta","content",P).get(C+(y.content||""))){for(be=0;be<ue.length;be++)if(V=ue[be],V.getAttribute("content")===(y.content==null?null:""+y.content)&&V.getAttribute("name")===(y.name==null?null:y.name)&&V.getAttribute("property")===(y.property==null?null:y.property)&&V.getAttribute("http-equiv")===(y.httpEquiv==null?null:y.httpEquiv)&&V.getAttribute("charset")===(y.charSet==null?null:y.charSet)){ue.splice(be,1);break t}}V=P.createElement(C),Ri(V,C,y),P.head.appendChild(V);break;default:throw Error(r(468,C))}V[lr]=h,Ke(V),C=V}h.stateNode=C}else n7(P,h.type,h.stateNode);else h.stateNode=r7(P,C,h.memoizedProps);else V!==C?(V===null?y.stateNode!==null&&(y=y.stateNode,y.parentNode.removeChild(y)):V.count--,C===null?n7(P,h.type,h.stateNode):r7(P,C,h.memoizedProps)):C===null&&h.stateNode!==null&&o4(h,h.memoizedProps,y.memoizedProps)}break;case 27:go(m,h),vo(h),C&512&&(xn||y===null||Id(y,y.return)),y!==null&&C&4&&o4(h,h.memoizedProps,y.memoizedProps);break;case 5:if(go(m,h),vo(h),C&512&&(xn||y===null||Id(y,y.return)),h.flags&32){P=h.stateNode;try{Ai(P,"")}catch(ht){rs(h,h.return,ht)}}C&4&&h.stateNode!=null&&(P=h.memoizedProps,o4(h,P,y!==null?y.memoizedProps:P)),C&1024&&(u4=!0);break;case 6:if(go(m,h),vo(h),C&4){if(h.stateNode===null)throw Error(r(162));C=h.memoizedProps,y=h.stateNode;try{y.nodeValue=C}catch(ht){rs(h,h.return,ht)}}break;case 3:if(iy=null,P=Xc,Xc=sy(m.containerInfo),go(m,h),Xc=P,vo(h),C&4&&y!==null&&y.memoizedState.isDehydrated)try{kg(m.containerInfo)}catch(ht){rs(h,h.return,ht)}u4&&(u4=!1,uE(h));break;case 4:C=Xc,Xc=sy(h.stateNode.containerInfo),go(m,h),vo(h),Xc=C;break;case 12:go(m,h),vo(h);break;case 13:go(m,h),vo(h),h.child.flags&8192&&h.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(v4=Fe()),C&4&&(C=h.updateQueue,C!==null&&(h.updateQueue=null,h4(h,C)));break;case 22:P=h.memoizedState!==null;var Ie=y!==null&&y.memoizedState!==null,ot=Du,Ct=xn;if(Du=ot||P,xn=Ct||Ie,go(m,h),xn=Ct,Du=ot,vo(h),C&8192)e:for(m=h.stateNode,m._visibility=P?m._visibility&-2:m._visibility|1,P&&(y===null||Ie||Du||xn||v0(h)),y=null,m=h;;){if(m.tag===5||m.tag===26){if(y===null){Ie=y=m;try{if(V=Ie.stateNode,P)ue=V.style,typeof ue.setProperty=="function"?ue.setProperty("display","none","important"):ue.display="none";else{be=Ie.stateNode;var Pt=Ie.memoizedProps.style,ct=Pt!=null&&Pt.hasOwnProperty("display")?Pt.display:null;be.style.display=ct==null||typeof ct=="boolean"?"":(""+ct).trim()}}catch(ht){rs(Ie,Ie.return,ht)}}}else if(m.tag===6){if(y===null){Ie=m;try{Ie.stateNode.nodeValue=P?"":Ie.memoizedProps}catch(ht){rs(Ie,Ie.return,ht)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===h)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break e;for(;m.sibling===null;){if(m.return===null||m.return===h)break e;y===m&&(y=null),m=m.return}y===m&&(y=null),m.sibling.return=m.return,m=m.sibling}C&4&&(C=h.updateQueue,C!==null&&(y=C.retryQueue,y!==null&&(C.retryQueue=null,h4(h,y))));break;case 19:go(m,h),vo(h),C&4&&(C=h.updateQueue,C!==null&&(h.updateQueue=null,h4(h,C)));break;case 30:break;case 21:break;default:go(m,h),vo(h)}}function vo(h){var m=h.flags;if(m&2){try{for(var y,C=h.return;C!==null;){if(rE(C)){y=C;break}C=C.return}if(y==null)throw Error(r(160));switch(y.tag){case 27:var P=y.stateNode,V=c4(h);Wb(h,V,P);break;case 5:var ue=y.stateNode;y.flags&32&&(Ai(ue,""),y.flags&=-33);var be=c4(h);Wb(h,be,ue);break;case 3:case 4:var Ie=y.stateNode.containerInfo,ot=c4(h);d4(h,ot,Ie);break;default:throw Error(r(161))}}catch(Ct){rs(h,h.return,Ct)}h.flags&=-3}m&4096&&(h.flags&=-4097)}function uE(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var m=h;uE(m),m.tag===5&&m.flags&1024&&m.stateNode.reset(),h=h.sibling}}function Xh(h,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)iE(h,m.alternate,m),m=m.sibling}function v0(h){for(h=h.child;h!==null;){var m=h;switch(m.tag){case 0:case 11:case 14:case 15:Yh(4,m,m.return),v0(m);break;case 1:Id(m,m.return);var y=m.stateNode;typeof y.componentWillUnmount=="function"&&tE(m,m.return,y),v0(m);break;case 27:gg(m.stateNode);case 26:case 5:Id(m,m.return),v0(m);break;case 22:m.memoizedState===null&&v0(m);break;case 30:v0(m);break;default:v0(m)}h=h.sibling}}function Qh(h,m,y){for(y=y&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var C=m.alternate,P=h,V=m,ue=V.flags;switch(V.tag){case 0:case 11:case 15:Qh(P,V,y),lg(4,V);break;case 1:if(Qh(P,V,y),C=V,P=C.stateNode,typeof P.componentDidMount=="function")try{P.componentDidMount()}catch(ot){rs(C,C.return,ot)}if(C=V,P=C.updateQueue,P!==null){var be=C.stateNode;try{var Ie=P.shared.hiddenCallbacks;if(Ie!==null)for(P.shared.hiddenCallbacks=null,P=0;P<Ie.length;P++)sr(Ie[P],be)}catch(ot){rs(C,C.return,ot)}}y&&ue&64&&eE(V),og(V,V.return);break;case 27:sE(V);case 26:case 5:Qh(P,V,y),y&&C===null&&ue&4&&aE(V),og(V,V.return);break;case 12:Qh(P,V,y);break;case 13:Qh(P,V,y),y&&ue&4&&cE(P,V);break;case 22:V.memoizedState===null&&Qh(P,V,y),og(V,V.return);break;case 30:break;default:Qh(P,V,y)}m=m.sibling}}function f4(h,m){var y=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),h=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(h=m.memoizedState.cachePool.pool),h!==y&&(h!=null&&h.refCount++,y!=null&&l0(y))}function m4(h,m){h=null,m.alternate!==null&&(h=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==h&&(m.refCount++,h!=null&&l0(h))}function Bd(h,m,y,C){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)hE(h,m,y,C),m=m.sibling}function hE(h,m,y,C){var P=m.flags;switch(m.tag){case 0:case 11:case 15:Bd(h,m,y,C),P&2048&&lg(9,m);break;case 1:Bd(h,m,y,C);break;case 3:Bd(h,m,y,C),P&2048&&(h=null,m.alternate!==null&&(h=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==h&&(m.refCount++,h!=null&&l0(h)));break;case 12:if(P&2048){Bd(h,m,y,C),h=m.stateNode;try{var V=m.memoizedProps,ue=V.id,be=V.onPostCommit;typeof be=="function"&&be(ue,m.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(Ie){rs(m,m.return,Ie)}}else Bd(h,m,y,C);break;case 13:Bd(h,m,y,C);break;case 23:break;case 22:V=m.stateNode,ue=m.alternate,m.memoizedState!==null?V._visibility&2?Bd(h,m,y,C):cg(h,m):V._visibility&2?Bd(h,m,y,C):(V._visibility|=2,dp(h,m,y,C,(m.subtreeFlags&10256)!==0)),P&2048&&f4(ue,m);break;case 24:Bd(h,m,y,C),P&2048&&m4(m.alternate,m);break;default:Bd(h,m,y,C)}}function dp(h,m,y,C,P){for(P=P&&(m.subtreeFlags&10256)!==0,m=m.child;m!==null;){var V=h,ue=m,be=y,Ie=C,ot=ue.flags;switch(ue.tag){case 0:case 11:case 15:dp(V,ue,be,Ie,P),lg(8,ue);break;case 23:break;case 22:var Ct=ue.stateNode;ue.memoizedState!==null?Ct._visibility&2?dp(V,ue,be,Ie,P):cg(V,ue):(Ct._visibility|=2,dp(V,ue,be,Ie,P)),P&&ot&2048&&f4(ue.alternate,ue);break;case 24:dp(V,ue,be,Ie,P),P&&ot&2048&&m4(ue.alternate,ue);break;default:dp(V,ue,be,Ie,P)}m=m.sibling}}function cg(h,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var y=h,C=m,P=C.flags;switch(C.tag){case 22:cg(y,C),P&2048&&f4(C.alternate,C);break;case 24:cg(y,C),P&2048&&m4(C.alternate,C);break;default:cg(y,C)}m=m.sibling}}var dg=8192;function up(h){if(h.subtreeFlags&dg)for(h=h.child;h!==null;)fE(h),h=h.sibling}function fE(h){switch(h.tag){case 26:up(h),h.flags&dg&&h.memoizedState!==null&&jZ(Xc,h.memoizedState,h.memoizedProps);break;case 5:up(h);break;case 3:case 4:var m=Xc;Xc=sy(h.stateNode.containerInfo),up(h),Xc=m;break;case 22:h.memoizedState===null&&(m=h.alternate,m!==null&&m.memoizedState!==null?(m=dg,dg=16777216,up(h),dg=m):up(h));break;default:up(h)}}function mE(h){var m=h.alternate;if(m!==null&&(h=m.child,h!==null)){m.child=null;do m=h.sibling,h.sibling=null,h=m;while(h!==null)}}function ug(h){var m=h.deletions;if((h.flags&16)!==0){if(m!==null)for(var y=0;y<m.length;y++){var C=m[y];xi=C,xE(C,h)}mE(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)pE(h),h=h.sibling}function pE(h){switch(h.tag){case 0:case 11:case 15:ug(h),h.flags&2048&&Yh(9,h,h.return);break;case 3:ug(h);break;case 12:ug(h);break;case 22:var m=h.stateNode;h.memoizedState!==null&&m._visibility&2&&(h.return===null||h.return.tag!==13)?(m._visibility&=-3,qb(h)):ug(h);break;default:ug(h)}}function qb(h){var m=h.deletions;if((h.flags&16)!==0){if(m!==null)for(var y=0;y<m.length;y++){var C=m[y];xi=C,xE(C,h)}mE(h)}for(h=h.child;h!==null;){switch(m=h,m.tag){case 0:case 11:case 15:Yh(8,m,m.return),qb(m);break;case 22:y=m.stateNode,y._visibility&2&&(y._visibility&=-3,qb(m));break;default:qb(m)}h=h.sibling}}function xE(h,m){for(;xi!==null;){var y=xi;switch(y.tag){case 0:case 11:case 15:Yh(8,y,m);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var C=y.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:l0(y.memoizedState.cache)}if(C=y.child,C!==null)C.return=y,xi=C;else e:for(y=h;xi!==null;){C=xi;var P=C.sibling,V=C.return;if(lE(C),C===y){xi=null;break e}if(P!==null){P.return=V,xi=P;break e}xi=V}}}var IJ={getCacheForType:function(h){var m=un(hn),y=m.data.get(h);return y===void 0&&(y=h(),m.data.set(h,y)),y}},BJ=typeof WeakMap=="function"?WeakMap:Map,Ir=0,is=null,cr=null,wr=0,Br=0,bo=null,Jh=!1,hp=!1,p4=!1,Pu=0,Ys=0,Zh=0,b0=0,x4=0,ec=0,fp=0,hg=null,ql=null,g4=!1,v4=0,Gb=1/0,Kb=null,ef=null,Oi=0,tf=null,mp=null,pp=0,b4=0,y4=null,gE=null,fg=0,w4=null;function yo(){if((Ir&2)!==0&&wr!==0)return wr&-wr;if(I.T!==null){var h=ku;return h!==0?h:_4()}return yt()}function vE(){ec===0&&(ec=(wr&536870912)===0||jr?Vt():536870912);var h=Zo.current;return h!==null&&(h.flags|=32),ec}function wo(h,m,y){(h===is&&(Br===2||Br===9)||h.cancelPendingCommit!==null)&&(xp(h,0),af(h,wr,ec,!1)),Oa(h,y),((Ir&2)===0||h!==is)&&(h===is&&((Ir&2)===0&&(b0|=y),Ys===4&&af(h,wr,ec,!1)),$d(h))}function bE(h,m,y){if((Ir&6)!==0)throw Error(r(327));var C=!y&&(m&124)===0&&(m&h.expiredLanes)===0||We(h,m),P=C?zJ(h,m):S4(h,m,!0),V=C;do{if(P===0){hp&&!C&&af(h,m,0,!1);break}else{if(y=h.current.alternate,V&&!$J(y)){P=S4(h,m,!1),V=!1;continue}if(P===2){if(V=m,h.errorRecoveryDisabledLanes&V)var ue=0;else ue=h.pendingLanes&-536870913,ue=ue!==0?ue:ue&536870912?536870912:0;if(ue!==0){m=ue;e:{var be=h;P=hg;var Ie=be.current.memoizedState.isDehydrated;if(Ie&&(xp(be,ue).flags|=256),ue=S4(be,ue,!1),ue!==2){if(p4&&!Ie){be.errorRecoveryDisabledLanes|=V,b0|=V,P=4;break e}V=ql,ql=P,V!==null&&(ql===null?ql=V:ql.push.apply(ql,V))}P=ue}if(V=!1,P!==2)continue}}if(P===1){xp(h,0),af(h,m,0,!0);break}e:{switch(C=h,V=P,V){case 0:case 1:throw Error(r(345));case 4:if((m&4194048)!==m)break;case 6:af(C,m,ec,!Jh);break e;case 2:ql=null;break;case 3:case 5:break;default:throw Error(r(329))}if((m&62914560)===m&&(P=v4+300-Fe(),10<P)){if(af(C,m,ec,!Jh),$t(C,0,!0)!==0)break e;C.timeoutHandle=KE(yE.bind(null,C,y,ql,Kb,g4,m,ec,b0,fp,Jh,V,2,-0,0),P);break e}yE(C,y,ql,Kb,g4,m,ec,b0,fp,Jh,V,0,-0,0)}}break}while(!0);$d(h)}function yE(h,m,y,C,P,V,ue,be,Ie,ot,Ct,Pt,ct,ht){if(h.timeoutHandle=-1,Pt=m.subtreeFlags,(Pt&8192||(Pt&16785408)===16785408)&&(yg={stylesheets:null,count:0,unsuspend:wZ},fE(m),Pt=NZ(),Pt!==null)){h.cancelPendingCommit=Pt(AE.bind(null,h,m,V,y,C,P,ue,be,Ie,Ct,1,ct,ht)),af(h,V,ue,!ot);return}AE(h,m,V,y,C,P,ue,be,Ie)}function $J(h){for(var m=h;;){var y=m.tag;if((y===0||y===11||y===15)&&m.flags&16384&&(y=m.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var C=0;C<y.length;C++){var P=y[C],V=P.getSnapshot;P=P.value;try{if(!ws(V(),P))return!1}catch{return!1}}if(y=m.child,m.subtreeFlags&16384&&y!==null)y.return=m,m=y;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function af(h,m,y,C){m&=~x4,m&=~b0,h.suspendedLanes|=m,h.pingedLanes&=~m,C&&(h.warmLanes|=m),C=h.expirationTimes;for(var P=m;0<P;){var V=31-dt(P),ue=1<<V;C[V]=-1,P&=~ue}y!==0&&Ba(h,y,m)}function Yb(){return(Ir&6)===0?(mg(0),!1):!0}function j4(){if(cr!==null){if(Br===0)var h=cr.return;else h=cr,Vc=Mn=null,qn(h),op=null,sg=0,h=cr;for(;h!==null;)ZT(h.alternate,h),h=h.return;cr=null}}function xp(h,m){var y=h.timeoutHandle;y!==-1&&(h.timeoutHandle=-1,sZ(y)),y=h.cancelPendingCommit,y!==null&&(h.cancelPendingCommit=null,y()),j4(),is=h,cr=y=qo(h.current,null),wr=m,Br=0,bo=null,Jh=!1,hp=We(h,m),p4=!1,fp=ec=x4=b0=Zh=Ys=0,ql=hg=null,g4=!1,(m&8)!==0&&(m|=m&32);var C=h.entangledLanes;if(C!==0)for(h=h.entanglements,C&=m;0<C;){var P=31-dt(C),V=1<<P;m|=h[P],C&=~V}return Pu=m,t0(),y}function wE(h,m){ca=null,I.H=Rb,m===ge||m===we?(m=Ge(),Br=3):m===ve?(m=Ge(),Br=4):Br=m===BT?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,bo=m,cr===null&&(Ys=1,Ub(h,wl(m,h.current)))}function jE(){var h=I.H;return I.H=Rb,h===null?Rb:h}function NE(){var h=I.A;return I.A=IJ,h}function N4(){Ys=4,Jh||(wr&4194048)!==wr&&Zo.current!==null||(hp=!0),(Zh&134217727)===0&&(b0&134217727)===0||is===null||af(is,wr,ec,!1)}function S4(h,m,y){var C=Ir;Ir|=2;var P=jE(),V=NE();(is!==h||wr!==m)&&(Kb=null,xp(h,m)),m=!1;var ue=Ys;e:do try{if(Br!==0&&cr!==null){var be=cr,Ie=bo;switch(Br){case 8:j4(),ue=6;break e;case 3:case 2:case 9:case 6:Zo.current===null&&(m=!0);var ot=Br;if(Br=0,bo=null,gp(h,be,Ie,ot),y&&hp){ue=0;break e}break;default:ot=Br,Br=0,bo=null,gp(h,be,Ie,ot)}}UJ(),ue=Ys;break}catch(Ct){wE(h,Ct)}while(!0);return m&&h.shellSuspendCounter++,Vc=Mn=null,Ir=C,I.H=P,I.A=V,cr===null&&(is=null,wr=0,t0()),ue}function UJ(){for(;cr!==null;)SE(cr)}function zJ(h,m){var y=Ir;Ir|=2;var C=jE(),P=NE();is!==h||wr!==m?(Kb=null,Gb=Fe()+500,xp(h,m)):hp=We(h,m);e:do try{if(Br!==0&&cr!==null){m=cr;var V=bo;t:switch(Br){case 1:Br=0,bo=null,gp(h,m,V,1);break;case 2:case 9:if(Pe(V)){Br=0,bo=null,kE(m);break}m=function(){Br!==2&&Br!==9||is!==h||(Br=7),$d(h)},V.then(m,m);break e;case 3:Br=7;break e;case 4:Br=5;break e;case 7:Pe(V)?(Br=0,bo=null,kE(m)):(Br=0,bo=null,gp(h,m,V,7));break;case 5:var ue=null;switch(cr.tag){case 26:ue=cr.memoizedState;case 5:case 27:var be=cr;if(!ue||i7(ue)){Br=0,bo=null;var Ie=be.sibling;if(Ie!==null)cr=Ie;else{var ot=be.return;ot!==null?(cr=ot,Xb(ot)):cr=null}break t}}Br=0,bo=null,gp(h,m,V,5);break;case 6:Br=0,bo=null,gp(h,m,V,6);break;case 8:j4(),Ys=6;break e;default:throw Error(r(462))}}HJ();break}catch(Ct){wE(h,Ct)}while(!0);return Vc=Mn=null,I.H=C,I.A=P,Ir=y,cr!==null?0:(is=null,wr=0,t0(),Ys)}function HJ(){for(;cr!==null&&!de();)SE(cr)}function SE(h){var m=QT(h.alternate,h,Pu);h.memoizedProps=h.pendingProps,m===null?Xb(h):cr=m}function kE(h){var m=h,y=m.alternate;switch(m.tag){case 15:case 0:m=WT(y,m,m.pendingProps,m.type,void 0,wr);break;case 11:m=WT(y,m,m.pendingProps,m.type.render,m.ref,wr);break;case 5:qn(m);default:ZT(y,m),m=cr=r0(m,Pu),m=QT(y,m,Pu)}h.memoizedProps=h.pendingProps,m===null?Xb(h):cr=m}function gp(h,m,y,C){Vc=Mn=null,qn(m),op=null,sg=0;var P=m.return;try{if(MJ(h,P,m,y,wr)){Ys=1,Ub(h,wl(y,h.current)),cr=null;return}}catch(V){if(P!==null)throw cr=P,V;Ys=1,Ub(h,wl(y,h.current)),cr=null;return}m.flags&32768?(jr||C===1?h=!0:hp||(wr&536870912)!==0?h=!1:(Jh=h=!0,(C===2||C===9||C===3||C===6)&&(C=Zo.current,C!==null&&C.tag===13&&(C.flags|=16384))),CE(m,h)):Xb(m)}function Xb(h){var m=h;do{if((m.flags&32768)!==0){CE(m,Jh);return}h=m.return;var y=LJ(m.alternate,m,Pu);if(y!==null){cr=y;return}if(m=m.sibling,m!==null){cr=m;return}cr=m=h}while(m!==null);Ys===0&&(Ys=5)}function CE(h,m){do{var y=OJ(h.alternate,h);if(y!==null){y.flags&=32767,cr=y;return}if(y=h.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!m&&(h=h.sibling,h!==null)){cr=h;return}cr=h=y}while(h!==null);Ys=6,cr=null}function AE(h,m,y,C,P,V,ue,be,Ie){h.cancelPendingCommit=null;do Qb();while(Oi!==0);if((Ir&6)!==0)throw Error(r(327));if(m!==null){if(m===h.current)throw Error(r(177));if(V=m.lanes|m.childLanes,V|=Ym,oa(h,y,V,ue,be,Ie),h===is&&(cr=is=null,wr=0),mp=m,tf=h,pp=y,b4=V,y4=P,gE=C,(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,GJ(je,function(){return ME(),null})):(h.callbackNode=null,h.callbackPriority=0),C=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||C){C=I.T,I.T=null,P=G.p,G.p=2,ue=Ir,Ir|=4;try{RJ(h,m,y)}finally{Ir=ue,G.p=P,I.T=C}}Oi=1,_E(),TE(),EE()}}function _E(){if(Oi===1){Oi=0;var h=tf,m=mp,y=(m.flags&13878)!==0;if((m.subtreeFlags&13878)!==0||y){y=I.T,I.T=null;var C=G.p;G.p=2;var P=Ir;Ir|=4;try{dE(m,h);var V=R4,ue=Rh(h.containerInfo),be=V.focusedElem,Ie=V.selectionRange;if(ue!==be&&be&&be.ownerDocument&&Oh(be.ownerDocument.documentElement,be)){if(Ie!==null&&Vo(be)){var ot=Ie.start,Ct=Ie.end;if(Ct===void 0&&(Ct=ot),"selectionStart"in be)be.selectionStart=ot,be.selectionEnd=Math.min(Ct,be.value.length);else{var Pt=be.ownerDocument||document,ct=Pt&&Pt.defaultView||window;if(ct.getSelection){var ht=ct.getSelection(),Ma=be.textContent.length,Sa=Math.min(Ie.start,Ma),Yr=Ie.end===void 0?Sa:Math.min(Ie.end,Ma);!ht.extend&&Sa>Yr&&(ue=Yr,Yr=Sa,Sa=ue);var Xe=Lh(be,Sa),qe=Lh(be,Yr);if(Xe&&qe&&(ht.rangeCount!==1||ht.anchorNode!==Xe.node||ht.anchorOffset!==Xe.offset||ht.focusNode!==qe.node||ht.focusOffset!==qe.offset)){var nt=Pt.createRange();nt.setStart(Xe.node,Xe.offset),ht.removeAllRanges(),Sa>Yr?(ht.addRange(nt),ht.extend(qe.node,qe.offset)):(nt.setEnd(qe.node,qe.offset),ht.addRange(nt))}}}}for(Pt=[],ht=be;ht=ht.parentNode;)ht.nodeType===1&&Pt.push({element:ht,left:ht.scrollLeft,top:ht.scrollTop});for(typeof be.focus=="function"&&be.focus(),be=0;be<Pt.length;be++){var Tt=Pt[be];Tt.element.scrollLeft=Tt.left,Tt.element.scrollTop=Tt.top}}cy=!!O4,R4=O4=null}finally{Ir=P,G.p=C,I.T=y}}h.current=m,Oi=2}}function TE(){if(Oi===2){Oi=0;var h=tf,m=mp,y=(m.flags&8772)!==0;if((m.subtreeFlags&8772)!==0||y){y=I.T,I.T=null;var C=G.p;G.p=2;var P=Ir;Ir|=4;try{iE(h,m.alternate,m)}finally{Ir=P,G.p=C,I.T=y}}Oi=3}}function EE(){if(Oi===4||Oi===3){Oi=0,Oe();var h=tf,m=mp,y=pp,C=gE;(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?Oi=5:(Oi=0,mp=tf=null,DE(h,h.pendingLanes));var P=h.pendingLanes;if(P===0&&(ef=null),Nt(y),m=m.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot($e,m,void 0,(m.current.flags&128)===128)}catch{}if(C!==null){m=I.T,P=G.p,G.p=2,I.T=null;try{for(var V=h.onRecoverableError,ue=0;ue<C.length;ue++){var be=C[ue];V(be.value,{componentStack:be.stack})}}finally{I.T=m,G.p=P}}(pp&3)!==0&&Qb(),$d(h),P=h.pendingLanes,(y&4194090)!==0&&(P&42)!==0?h===w4?fg++:(fg=0,w4=h):fg=0,mg(0)}}function DE(h,m){(h.pooledCacheLanes&=m)===0&&(m=h.pooledCache,m!=null&&(h.pooledCache=null,l0(m)))}function Qb(h){return _E(),TE(),EE(),ME()}function ME(){if(Oi!==5)return!1;var h=tf,m=b4;b4=0;var y=Nt(pp),C=I.T,P=G.p;try{G.p=32>y?32:y,I.T=null,y=y4,y4=null;var V=tf,ue=pp;if(Oi=0,mp=tf=null,pp=0,(Ir&6)!==0)throw Error(r(331));var be=Ir;if(Ir|=4,pE(V.current),hE(V,V.current,ue,y),Ir=be,mg(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot($e,V)}catch{}return!0}finally{G.p=P,I.T=C,DE(h,m)}}function PE(h,m,y){m=wl(y,m),m=ZN(h.stateNode,m,2),h=Ft(h,m,2),h!==null&&(Oa(h,2),$d(h))}function rs(h,m,y){if(h.tag===3)PE(h,h,y);else for(;m!==null;){if(m.tag===3){PE(m,h,y);break}else if(m.tag===1){var C=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(ef===null||!ef.has(C))){h=wl(y,h),y=FT(2),C=Ft(m,y,2),C!==null&&(IT(y,C,m,h),Oa(C,2),$d(C));break}}m=m.return}}function k4(h,m,y){var C=h.pingCache;if(C===null){C=h.pingCache=new BJ;var P=new Set;C.set(m,P)}else P=C.get(m),P===void 0&&(P=new Set,C.set(m,P));P.has(y)||(p4=!0,P.add(y),h=VJ.bind(null,h,m,y),m.then(h,h))}function VJ(h,m,y){var C=h.pingCache;C!==null&&C.delete(m),h.pingedLanes|=h.suspendedLanes&y,h.warmLanes&=~y,is===h&&(wr&y)===y&&(Ys===4||Ys===3&&(wr&62914560)===wr&&300>Fe()-v4?(Ir&2)===0&&xp(h,0):x4|=y,fp===wr&&(fp=0)),$d(h)}function LE(h,m){m===0&&(m=fa()),h=bu(h,m),h!==null&&(Oa(h,m),$d(h))}function WJ(h){var m=h.memoizedState,y=0;m!==null&&(y=m.retryLane),LE(h,y)}function qJ(h,m){var y=0;switch(h.tag){case 13:var C=h.stateNode,P=h.memoizedState;P!==null&&(y=P.retryLane);break;case 19:C=h.stateNode;break;case 22:C=h.stateNode._retryCache;break;default:throw Error(r(314))}C!==null&&C.delete(m),LE(h,y)}function GJ(h,m){return he(h,m)}var Jb=null,vp=null,C4=!1,Zb=!1,A4=!1,y0=0;function $d(h){h!==vp&&h.next===null&&(vp===null?Jb=vp=h:vp=vp.next=h),Zb=!0,C4||(C4=!0,YJ())}function mg(h,m){if(!A4&&Zb){A4=!0;do for(var y=!1,C=Jb;C!==null;){if(h!==0){var P=C.pendingLanes;if(P===0)var V=0;else{var ue=C.suspendedLanes,be=C.pingedLanes;V=(1<<31-dt(42|h)+1)-1,V&=P&~(ue&~be),V=V&201326741?V&201326741|1:V?V|2:0}V!==0&&(y=!0,IE(C,V))}else V=wr,V=$t(C,C===is?V:0,C.cancelPendingCommit!==null||C.timeoutHandle!==-1),(V&3)===0||We(C,V)||(y=!0,IE(C,V));C=C.next}while(y);A4=!1}}function KJ(){OE()}function OE(){Zb=C4=!1;var h=0;y0!==0&&(rZ()&&(h=y0),y0=0);for(var m=Fe(),y=null,C=Jb;C!==null;){var P=C.next,V=RE(C,m);V===0?(C.next=null,y===null?Jb=P:y.next=P,P===null&&(vp=y)):(y=C,(h!==0||(V&3)!==0)&&(Zb=!0)),C=P}mg(h)}function RE(h,m){for(var y=h.suspendedLanes,C=h.pingedLanes,P=h.expirationTimes,V=h.pendingLanes&-62914561;0<V;){var ue=31-dt(V),be=1<<ue,Ie=P[ue];Ie===-1?((be&y)===0||(be&C)!==0)&&(P[ue]=Ut(be,m)):Ie<=m&&(h.expiredLanes|=be),V&=~be}if(m=is,y=wr,y=$t(h,h===m?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),C=h.callbackNode,y===0||h===m&&(Br===2||Br===9)||h.cancelPendingCommit!==null)return C!==null&&C!==null&&fe(C),h.callbackNode=null,h.callbackPriority=0;if((y&3)===0||We(h,y)){if(m=y&-y,m===h.callbackPriority)return m;switch(C!==null&&fe(C),Nt(y)){case 2:case 8:y=_e;break;case 32:y=je;break;case 268435456:y=ft;break;default:y=je}return C=FE.bind(null,h),y=he(y,C),h.callbackPriority=m,h.callbackNode=y,m}return C!==null&&C!==null&&fe(C),h.callbackPriority=2,h.callbackNode=null,2}function FE(h,m){if(Oi!==0&&Oi!==5)return h.callbackNode=null,h.callbackPriority=0,null;var y=h.callbackNode;if(Qb()&&h.callbackNode!==y)return null;var C=wr;return C=$t(h,h===is?C:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),C===0?null:(bE(h,C,m),RE(h,Fe()),h.callbackNode!=null&&h.callbackNode===y?FE.bind(null,h):null)}function IE(h,m){if(Qb())return null;bE(h,m,!0)}function YJ(){nZ(function(){(Ir&6)!==0?he(se,KJ):OE()})}function _4(){return y0===0&&(y0=Vt()),y0}function BE(h){return h==null||typeof h=="symbol"||typeof h=="boolean"?null:typeof h=="function"?h:Mr(""+h)}function $E(h,m){var y=m.ownerDocument.createElement("input");return y.name=m.name,y.value=m.value,h.id&&y.setAttribute("form",h.id),m.parentNode.insertBefore(y,m),h=new FormData(h),y.parentNode.removeChild(y),h}function XJ(h,m,y,C,P){if(m==="submit"&&y&&y.stateNode===P){var V=BE((P[qa]||null).action),ue=C.submitter;ue&&(m=(m=ue[qa]||null)?BE(m.formAction):ue.getAttribute("formAction"),m!==null&&(V=m,ue=null));var be=new wd("action","action",null,C,P);h.push({event:be,listeners:[{instance:null,listener:function(){if(C.defaultPrevented){if(y0!==0){var Ie=ue?$E(P,ue):new FormData(P);Jo(y,{pending:!0,data:Ie,method:P.method,action:V},null,Ie)}}else typeof V=="function"&&(be.preventDefault(),Ie=ue?$E(P,ue):new FormData(P),Jo(y,{pending:!0,data:Ie,method:P.method,action:V},V,Ie))},currentTarget:P}]})}}for(var T4=0;T4<Km.length;T4++){var E4=Km[T4],QJ=E4.toLowerCase(),JJ=E4[0].toUpperCase()+E4.slice(1);zl(QJ,"on"+JJ)}zl(Wo,"onAnimationEnd"),zl(Fh,"onAnimationIteration"),zl(gu,"onAnimationStart"),zl("dblclick","onDoubleClick"),zl("focusin","onFocus"),zl("focusout","onBlur"),zl(Gm,"onTransitionRun"),zl(gb,"onTransitionStart"),zl(vb,"onTransitionCancel"),zl(Ux,"onTransitionEnd"),Lt("onMouseEnter",["mouseout","mouseover"]),Lt("onMouseLeave",["mouseout","mouseover"]),Lt("onPointerEnter",["pointerout","pointerover"]),Lt("onPointerLeave",["pointerout","pointerover"]),vt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vt("onBeforeInput",["compositionend","keypress","textInput","paste"]),vt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZJ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pg));function UE(h,m){m=(m&4)!==0;for(var y=0;y<h.length;y++){var C=h[y],P=C.event;C=C.listeners;e:{var V=void 0;if(m)for(var ue=C.length-1;0<=ue;ue--){var be=C[ue],Ie=be.instance,ot=be.currentTarget;if(be=be.listener,Ie!==V&&P.isPropagationStopped())break e;V=be,P.currentTarget=ot;try{V(P)}catch(Ct){$b(Ct)}P.currentTarget=null,V=Ie}else for(ue=0;ue<C.length;ue++){if(be=C[ue],Ie=be.instance,ot=be.currentTarget,be=be.listener,Ie!==V&&P.isPropagationStopped())break e;V=be,P.currentTarget=ot;try{V(P)}catch(Ct){$b(Ct)}P.currentTarget=null,V=Ie}}}}function dr(h,m){var y=m[Ta];y===void 0&&(y=m[Ta]=new Set);var C=h+"__bubble";y.has(C)||(zE(m,h,2,!1),y.add(C))}function D4(h,m,y){var C=0;m&&(C|=4),zE(y,h,C,m)}var ey="_reactListening"+Math.random().toString(36).slice(2);function M4(h){if(!h[ey]){h[ey]=!0,et.forEach(function(y){y!=="selectionchange"&&(ZJ.has(y)||D4(y,!1,h),D4(y,!0,h))});var m=h.nodeType===9?h:h.ownerDocument;m===null||m[ey]||(m[ey]=!0,D4("selectionchange",!1,m))}}function zE(h,m,y,C){switch(h7(m)){case 2:var P=CZ;break;case 8:P=AZ;break;default:P=q4}y=P.bind(null,m,y,h),P=void 0,!nn||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(P=!0),C?P!==void 0?h.addEventListener(m,y,{capture:!0,passive:P}):h.addEventListener(m,y,!0):P!==void 0?h.addEventListener(m,y,{passive:P}):h.addEventListener(m,y,!1)}function P4(h,m,y,C,P){var V=C;if((m&1)===0&&(m&2)===0&&C!==null)e:for(;;){if(C===null)return;var ue=C.tag;if(ue===3||ue===4){var be=C.stateNode.containerInfo;if(be===P)break;if(ue===4)for(ue=C.return;ue!==null;){var Ie=ue.tag;if((Ie===3||Ie===4)&&ue.stateNode.containerInfo===P)return;ue=ue.return}for(;be!==null;){if(ue=Ae(be),ue===null)return;if(Ie=ue.tag,Ie===5||Ie===6||Ie===26||Ie===27){C=V=ue;continue e}be=be.parentNode}}C=C.return}es(function(){var ot=V,Ct=En(y),Pt=[];e:{var ct=zx.get(h);if(ct!==void 0){var ht=wd,Ma=h;switch(h){case"keypress":if(Vi(y)===0)break e;case"keydown":case"keyup":ht=Ea;break;case"focusin":Ma="focus",ht=Eh;break;case"focusout":Ma="blur",ht=Eh;break;case"beforeblur":case"afterblur":ht=Eh;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=Qf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=Mc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=qs;break;case Wo:case Fh:case gu:ht=mu;break;case Ux:ht=cn;break;case"scroll":case"scrollend":ht=hu;break;case"wheel":ht=Vn;break;case"copy":case"cut":case"paste":ht=K;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=br;break;case"toggle":case"beforetoggle":ht=Wi}var Sa=(m&4)!==0,Yr=!Sa&&(h==="scroll"||h==="scrollend"),Xe=Sa?ct!==null?ct+"Capture":null:ct;Sa=[];for(var qe=ot,nt;qe!==null;){var Tt=qe;if(nt=Tt.stateNode,Tt=Tt.tag,Tt!==5&&Tt!==26&&Tt!==27||nt===null||Xe===null||(Tt=Ar(qe,Xe),Tt!=null&&Sa.push(xg(qe,Tt,nt))),Yr)break;qe=qe.return}0<Sa.length&&(ct=new ht(ct,Ma,null,y,Ct),Pt.push({event:ct,listeners:Sa}))}}if((m&7)===0){e:{if(ct=h==="mouseover"||h==="pointerover",ht=h==="mouseout"||h==="pointerout",ct&&y!==Zr&&(Ma=y.relatedTarget||y.fromElement)&&(Ae(Ma)||Ma[er]))break e;if((ht||ct)&&(ct=Ct.window===Ct?Ct:(ct=Ct.ownerDocument)?ct.defaultView||ct.parentWindow:window,ht?(Ma=y.relatedTarget||y.toElement,ht=ot,Ma=Ma?Ae(Ma):null,Ma!==null&&(Yr=i(Ma),Sa=Ma.tag,Ma!==Yr||Sa!==5&&Sa!==27&&Sa!==6)&&(Ma=null)):(ht=null,Ma=ot),ht!==Ma)){if(Sa=Qf,Tt="onMouseLeave",Xe="onMouseEnter",qe="mouse",(h==="pointerout"||h==="pointerover")&&(Sa=br,Tt="onPointerLeave",Xe="onPointerEnter",qe="pointer"),Yr=ht==null?ct:Ye(ht),nt=Ma==null?ct:Ye(Ma),ct=new Sa(Tt,qe+"leave",ht,y,Ct),ct.target=Yr,ct.relatedTarget=nt,Tt=null,Ae(Ct)===ot&&(Sa=new Sa(Xe,qe+"enter",Ma,y,Ct),Sa.target=nt,Sa.relatedTarget=Yr,Tt=Sa),Yr=Tt,ht&&Ma)t:{for(Sa=ht,Xe=Ma,qe=0,nt=Sa;nt;nt=bp(nt))qe++;for(nt=0,Tt=Xe;Tt;Tt=bp(Tt))nt++;for(;0<qe-nt;)Sa=bp(Sa),qe--;for(;0<nt-qe;)Xe=bp(Xe),nt--;for(;qe--;){if(Sa===Xe||Xe!==null&&Sa===Xe.alternate)break t;Sa=bp(Sa),Xe=bp(Xe)}Sa=null}else Sa=null;ht!==null&&HE(Pt,ct,ht,Sa,!1),Ma!==null&&Yr!==null&&HE(Pt,Yr,Ma,Sa,!0)}}e:{if(ct=ot?Ye(ot):window,ht=ct.nodeName&&ct.nodeName.toLowerCase(),ht==="select"||ht==="input"&&ct.type==="file")var ua=Dh;else if(zo(ct))if(Lc)ua=Fs;else{ua=e0;var nr=Dd}else ht=ct.nodeName,!ht||ht.toLowerCase()!=="input"||ct.type!=="checkbox"&&ct.type!=="radio"?ot&&Zt(ot.elementType)&&(ua=Dh):ua=Mh;if(ua&&(ua=ua(h,ot))){pu(Pt,ua,y,Ct);break e}nr&&nr(h,ct,ot),h==="focusout"&&ot&&ct.type==="number"&&ot.memoizedProps.value!=null&&uu(ct,"number",ct.value)}switch(nr=ot?Ye(ot):window,h){case"focusin":(zo(nr)||nr.contentEditable==="true")&&(bl=nr,Fc=ot,Ul=null);break;case"focusout":Ul=Fc=bl=null;break;case"mousedown":Ic=!0;break;case"contextmenu":case"mouseup":case"dragend":Ic=!1,yl(Pt,y,Ct);break;case"selectionchange":if(Md)break;case"keydown":case"keyup":yl(Pt,y,Ct)}var ba;if(Nd)e:{switch(h){case"compositionstart":var ka="onCompositionStart";break e;case"compositionend":ka="onCompositionEnd";break e;case"compositionupdate":ka="onCompositionUpdate";break e}ka=void 0}else $l?Wn(h,y)&&(ka="onCompositionEnd"):h==="keydown"&&y.keyCode===229&&(ka="onCompositionStart");ka&&(kd&&y.locale!=="ko"&&($l||ka!=="onCompositionStart"?ka==="onCompositionEnd"&&$l&&(ba=Il()):(di=Ct,uo="value"in di?di.value:di.textContent,$l=!0)),nr=ty(ot,ka),0<nr.length&&(ka=new Le(ka,h,null,y,Ct),Pt.push({event:ka,listeners:nr}),ba?ka.data=ba:(ba=_d(y),ba!==null&&(ka.data=ba)))),(ba=Sd?Jf(h,y):Zf(h,y))&&(ka=ty(ot,"onBeforeInput"),0<ka.length&&(nr=new Le("onBeforeInput","beforeinput",null,y,Ct),Pt.push({event:nr,listeners:ka}),nr.data=ba)),XJ(Pt,h,ot,y,Ct)}UE(Pt,m)})}function xg(h,m,y){return{instance:h,listener:m,currentTarget:y}}function ty(h,m){for(var y=m+"Capture",C=[];h!==null;){var P=h,V=P.stateNode;if(P=P.tag,P!==5&&P!==26&&P!==27||V===null||(P=Ar(h,y),P!=null&&C.unshift(xg(h,P,V)),P=Ar(h,m),P!=null&&C.push(xg(h,P,V))),h.tag===3)return C;h=h.return}return[]}function bp(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5&&h.tag!==27);return h||null}function HE(h,m,y,C,P){for(var V=m._reactName,ue=[];y!==null&&y!==C;){var be=y,Ie=be.alternate,ot=be.stateNode;if(be=be.tag,Ie!==null&&Ie===C)break;be!==5&&be!==26&&be!==27||ot===null||(Ie=ot,P?(ot=Ar(y,V),ot!=null&&ue.unshift(xg(y,ot,Ie))):P||(ot=Ar(y,V),ot!=null&&ue.push(xg(y,ot,Ie)))),y=y.return}ue.length!==0&&h.push({event:m,listeners:ue})}var eZ=/\r\n?/g,tZ=/\u0000|\uFFFD/g;function VE(h){return(typeof h=="string"?h:""+h).replace(eZ,`
`).replace(tZ,"")}function WE(h,m){return m=VE(m),VE(h)===m}function ay(){}function Kr(h,m,y,C,P,V){switch(y){case"children":typeof C=="string"?m==="body"||m==="textarea"&&C===""||Ai(h,C):(typeof C=="number"||typeof C=="bigint")&&m!=="body"&&Ai(h,""+C);break;case"className":va(h,"class",C);break;case"tabIndex":va(h,"tabindex",C);break;case"dir":case"role":case"viewBox":case"width":case"height":va(h,y,C);break;case"style":gt(h,C,V);break;case"data":if(m!=="object"){va(h,"data",C);break}case"src":case"href":if(C===""&&(m!=="a"||y!=="href")){h.removeAttribute(y);break}if(C==null||typeof C=="function"||typeof C=="symbol"||typeof C=="boolean"){h.removeAttribute(y);break}C=Mr(""+C),h.setAttribute(y,C);break;case"action":case"formAction":if(typeof C=="function"){h.setAttribute(y,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof V=="function"&&(y==="formAction"?(m!=="input"&&Kr(h,m,"name",P.name,P,null),Kr(h,m,"formEncType",P.formEncType,P,null),Kr(h,m,"formMethod",P.formMethod,P,null),Kr(h,m,"formTarget",P.formTarget,P,null)):(Kr(h,m,"encType",P.encType,P,null),Kr(h,m,"method",P.method,P,null),Kr(h,m,"target",P.target,P,null)));if(C==null||typeof C=="symbol"||typeof C=="boolean"){h.removeAttribute(y);break}C=Mr(""+C),h.setAttribute(y,C);break;case"onClick":C!=null&&(h.onclick=ay);break;case"onScroll":C!=null&&dr("scroll",h);break;case"onScrollEnd":C!=null&&dr("scrollend",h);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(r(61));if(y=C.__html,y!=null){if(P.children!=null)throw Error(r(60));h.innerHTML=y}}break;case"multiple":h.multiple=C&&typeof C!="function"&&typeof C!="symbol";break;case"muted":h.muted=C&&typeof C!="function"&&typeof C!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(C==null||typeof C=="function"||typeof C=="boolean"||typeof C=="symbol"){h.removeAttribute("xlink:href");break}y=Mr(""+C),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",y);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":C!=null&&typeof C!="function"&&typeof C!="symbol"?h.setAttribute(y,""+C):h.removeAttribute(y);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":C&&typeof C!="function"&&typeof C!="symbol"?h.setAttribute(y,""):h.removeAttribute(y);break;case"capture":case"download":C===!0?h.setAttribute(y,""):C!==!1&&C!=null&&typeof C!="function"&&typeof C!="symbol"?h.setAttribute(y,C):h.removeAttribute(y);break;case"cols":case"rows":case"size":case"span":C!=null&&typeof C!="function"&&typeof C!="symbol"&&!isNaN(C)&&1<=C?h.setAttribute(y,C):h.removeAttribute(y);break;case"rowSpan":case"start":C==null||typeof C=="function"||typeof C=="symbol"||isNaN(C)?h.removeAttribute(y):h.setAttribute(y,C);break;case"popover":dr("beforetoggle",h),dr("toggle",h),ma(h,"popover",C);break;case"xlinkActuate":Ha(h,"http://www.w3.org/1999/xlink","xlink:actuate",C);break;case"xlinkArcrole":Ha(h,"http://www.w3.org/1999/xlink","xlink:arcrole",C);break;case"xlinkRole":Ha(h,"http://www.w3.org/1999/xlink","xlink:role",C);break;case"xlinkShow":Ha(h,"http://www.w3.org/1999/xlink","xlink:show",C);break;case"xlinkTitle":Ha(h,"http://www.w3.org/1999/xlink","xlink:title",C);break;case"xlinkType":Ha(h,"http://www.w3.org/1999/xlink","xlink:type",C);break;case"xmlBase":Ha(h,"http://www.w3.org/XML/1998/namespace","xml:base",C);break;case"xmlLang":Ha(h,"http://www.w3.org/XML/1998/namespace","xml:lang",C);break;case"xmlSpace":Ha(h,"http://www.w3.org/XML/1998/namespace","xml:space",C);break;case"is":ma(h,"is",C);break;case"innerText":case"textContent":break;default:(!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(y=Wt.get(y)||y,ma(h,y,C))}}function L4(h,m,y,C,P,V){switch(y){case"style":gt(h,C,V);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(r(61));if(y=C.__html,y!=null){if(P.children!=null)throw Error(r(60));h.innerHTML=y}}break;case"children":typeof C=="string"?Ai(h,C):(typeof C=="number"||typeof C=="bigint")&&Ai(h,""+C);break;case"onScroll":C!=null&&dr("scroll",h);break;case"onScrollEnd":C!=null&&dr("scrollend",h);break;case"onClick":C!=null&&(h.onclick=ay);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!at.hasOwnProperty(y))e:{if(y[0]==="o"&&y[1]==="n"&&(P=y.endsWith("Capture"),m=y.slice(2,P?y.length-7:void 0),V=h[qa]||null,V=V!=null?V[y]:null,typeof V=="function"&&h.removeEventListener(m,V,P),typeof C=="function")){typeof V!="function"&&V!==null&&(y in h?h[y]=null:h.hasAttribute(y)&&h.removeAttribute(y)),h.addEventListener(m,C,P);break e}y in h?h[y]=C:C===!0?h.setAttribute(y,""):ma(h,y,C)}}}function Ri(h,m,y){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dr("error",h),dr("load",h);var C=!1,P=!1,V;for(V in y)if(y.hasOwnProperty(V)){var ue=y[V];if(ue!=null)switch(V){case"src":C=!0;break;case"srcSet":P=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,m));default:Kr(h,m,V,ue,y,null)}}P&&Kr(h,m,"srcSet",y.srcSet,y,null),C&&Kr(h,m,"src",y.src,y,null);return;case"input":dr("invalid",h);var be=V=ue=P=null,Ie=null,ot=null;for(C in y)if(y.hasOwnProperty(C)){var Ct=y[C];if(Ct!=null)switch(C){case"name":P=Ct;break;case"type":ue=Ct;break;case"checked":Ie=Ct;break;case"defaultChecked":ot=Ct;break;case"value":V=Ct;break;case"defaultValue":be=Ct;break;case"children":case"dangerouslySetInnerHTML":if(Ct!=null)throw Error(r(137,m));break;default:Kr(h,m,C,Ct,y,null)}}Th(h,V,be,Ie,ot,ue,P,!1),zn(h);return;case"select":dr("invalid",h),C=ue=V=null;for(P in y)if(y.hasOwnProperty(P)&&(be=y[P],be!=null))switch(P){case"value":V=be;break;case"defaultValue":ue=be;break;case"multiple":C=be;default:Kr(h,m,P,be,y,null)}m=V,y=ue,h.multiple=!!C,m!=null?oo(h,!!C,m,!1):y!=null&&oo(h,!!C,y,!0);return;case"textarea":dr("invalid",h),V=P=C=null;for(ue in y)if(y.hasOwnProperty(ue)&&(be=y[ue],be!=null))switch(ue){case"value":C=be;break;case"defaultValue":P=be;break;case"children":V=be;break;case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(91));break;default:Kr(h,m,ue,be,y,null)}Io(h,C,P,V),zn(h);return;case"option":for(Ie in y)if(y.hasOwnProperty(Ie)&&(C=y[Ie],C!=null))switch(Ie){case"selected":h.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:Kr(h,m,Ie,C,y,null)}return;case"dialog":dr("beforetoggle",h),dr("toggle",h),dr("cancel",h),dr("close",h);break;case"iframe":case"object":dr("load",h);break;case"video":case"audio":for(C=0;C<pg.length;C++)dr(pg[C],h);break;case"image":dr("error",h),dr("load",h);break;case"details":dr("toggle",h);break;case"embed":case"source":case"link":dr("error",h),dr("load",h);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ot in y)if(y.hasOwnProperty(ot)&&(C=y[ot],C!=null))switch(ot){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,m));default:Kr(h,m,ot,C,y,null)}return;default:if(Zt(m)){for(Ct in y)y.hasOwnProperty(Ct)&&(C=y[Ct],C!==void 0&&L4(h,m,Ct,C,y,void 0));return}}for(be in y)y.hasOwnProperty(be)&&(C=y[be],C!=null&&Kr(h,m,be,C,y,null))}function aZ(h,m,y,C){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var P=null,V=null,ue=null,be=null,Ie=null,ot=null,Ct=null;for(ht in y){var Pt=y[ht];if(y.hasOwnProperty(ht)&&Pt!=null)switch(ht){case"checked":break;case"value":break;case"defaultValue":Ie=Pt;default:C.hasOwnProperty(ht)||Kr(h,m,ht,null,C,Pt)}}for(var ct in C){var ht=C[ct];if(Pt=y[ct],C.hasOwnProperty(ct)&&(ht!=null||Pt!=null))switch(ct){case"type":V=ht;break;case"name":P=ht;break;case"checked":ot=ht;break;case"defaultChecked":Ct=ht;break;case"value":ue=ht;break;case"defaultValue":be=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(r(137,m));break;default:ht!==Pt&&Kr(h,m,ct,ht,C,Pt)}}Ec(h,ue,be,Ie,ot,Ct,V,P);return;case"select":ht=ue=be=ct=null;for(V in y)if(Ie=y[V],y.hasOwnProperty(V)&&Ie!=null)switch(V){case"value":break;case"multiple":ht=Ie;default:C.hasOwnProperty(V)||Kr(h,m,V,null,C,Ie)}for(P in C)if(V=C[P],Ie=y[P],C.hasOwnProperty(P)&&(V!=null||Ie!=null))switch(P){case"value":ct=V;break;case"defaultValue":be=V;break;case"multiple":ue=V;default:V!==Ie&&Kr(h,m,P,V,C,Ie)}m=be,y=ue,C=ht,ct!=null?oo(h,!!y,ct,!1):!!C!=!!y&&(m!=null?oo(h,!!y,m,!0):oo(h,!!y,y?[]:"",!1));return;case"textarea":ht=ct=null;for(be in y)if(P=y[be],y.hasOwnProperty(be)&&P!=null&&!C.hasOwnProperty(be))switch(be){case"value":break;case"children":break;default:Kr(h,m,be,null,C,P)}for(ue in C)if(P=C[ue],V=y[ue],C.hasOwnProperty(ue)&&(P!=null||V!=null))switch(ue){case"value":ct=P;break;case"defaultValue":ht=P;break;case"children":break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:P!==V&&Kr(h,m,ue,P,C,V)}sn(h,ct,ht);return;case"option":for(var Ma in y)if(ct=y[Ma],y.hasOwnProperty(Ma)&&ct!=null&&!C.hasOwnProperty(Ma))switch(Ma){case"selected":h.selected=!1;break;default:Kr(h,m,Ma,null,C,ct)}for(Ie in C)if(ct=C[Ie],ht=y[Ie],C.hasOwnProperty(Ie)&&ct!==ht&&(ct!=null||ht!=null))switch(Ie){case"selected":h.selected=ct&&typeof ct!="function"&&typeof ct!="symbol";break;default:Kr(h,m,Ie,ct,C,ht)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Sa in y)ct=y[Sa],y.hasOwnProperty(Sa)&&ct!=null&&!C.hasOwnProperty(Sa)&&Kr(h,m,Sa,null,C,ct);for(ot in C)if(ct=C[ot],ht=y[ot],C.hasOwnProperty(ot)&&ct!==ht&&(ct!=null||ht!=null))switch(ot){case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(r(137,m));break;default:Kr(h,m,ot,ct,C,ht)}return;default:if(Zt(m)){for(var Yr in y)ct=y[Yr],y.hasOwnProperty(Yr)&&ct!==void 0&&!C.hasOwnProperty(Yr)&&L4(h,m,Yr,void 0,C,ct);for(Ct in C)ct=C[Ct],ht=y[Ct],!C.hasOwnProperty(Ct)||ct===ht||ct===void 0&&ht===void 0||L4(h,m,Ct,ct,C,ht);return}}for(var Xe in y)ct=y[Xe],y.hasOwnProperty(Xe)&&ct!=null&&!C.hasOwnProperty(Xe)&&Kr(h,m,Xe,null,C,ct);for(Pt in C)ct=C[Pt],ht=y[Pt],!C.hasOwnProperty(Pt)||ct===ht||ct==null&&ht==null||Kr(h,m,Pt,ct,C,ht)}var O4=null,R4=null;function ry(h){return h.nodeType===9?h:h.ownerDocument}function qE(h){switch(h){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function GE(h,m){if(h===0)switch(m){case"svg":return 1;case"math":return 2;default:return 0}return h===1&&m==="foreignObject"?0:h}function F4(h,m){return h==="textarea"||h==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.children=="bigint"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var I4=null;function rZ(){var h=window.event;return h&&h.type==="popstate"?h===I4?!1:(I4=h,!0):(I4=null,!1)}var KE=typeof setTimeout=="function"?setTimeout:void 0,sZ=typeof clearTimeout=="function"?clearTimeout:void 0,YE=typeof Promise=="function"?Promise:void 0,nZ=typeof queueMicrotask=="function"?queueMicrotask:typeof YE<"u"?function(h){return YE.resolve(null).then(h).catch(iZ)}:KE;function iZ(h){setTimeout(function(){throw h})}function rf(h){return h==="head"}function XE(h,m){var y=m,C=0,P=0;do{var V=y.nextSibling;if(h.removeChild(y),V&&V.nodeType===8)if(y=V.data,y==="/$"){if(0<C&&8>C){y=C;var ue=h.ownerDocument;if(y&1&&gg(ue.documentElement),y&2&&gg(ue.body),y&4)for(y=ue.head,gg(y),ue=y.firstChild;ue;){var be=ue.nextSibling,Ie=ue.nodeName;ue[ye]||Ie==="SCRIPT"||Ie==="STYLE"||Ie==="LINK"&&ue.rel.toLowerCase()==="stylesheet"||y.removeChild(ue),ue=be}}if(P===0){h.removeChild(V),kg(m);return}P--}else y==="$"||y==="$?"||y==="$!"?P++:C=y.charCodeAt(0)-48;else C=0;y=V}while(y);kg(m)}function B4(h){var m=h.firstChild;for(m&&m.nodeType===10&&(m=m.nextSibling);m;){var y=m;switch(m=m.nextSibling,y.nodeName){case"HTML":case"HEAD":case"BODY":B4(y),Ne(y);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(y.rel.toLowerCase()==="stylesheet")continue}h.removeChild(y)}}function lZ(h,m,y,C){for(;h.nodeType===1;){var P=y;if(h.nodeName.toLowerCase()!==m.toLowerCase()){if(!C&&(h.nodeName!=="INPUT"||h.type!=="hidden"))break}else if(C){if(!h[ye])switch(m){case"meta":if(!h.hasAttribute("itemprop"))break;return h;case"link":if(V=h.getAttribute("rel"),V==="stylesheet"&&h.hasAttribute("data-precedence"))break;if(V!==P.rel||h.getAttribute("href")!==(P.href==null||P.href===""?null:P.href)||h.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin)||h.getAttribute("title")!==(P.title==null?null:P.title))break;return h;case"style":if(h.hasAttribute("data-precedence"))break;return h;case"script":if(V=h.getAttribute("src"),(V!==(P.src==null?null:P.src)||h.getAttribute("type")!==(P.type==null?null:P.type)||h.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin))&&V&&h.hasAttribute("async")&&!h.hasAttribute("itemprop"))break;return h;default:return h}}else if(m==="input"&&h.type==="hidden"){var V=P.name==null?null:""+P.name;if(P.type==="hidden"&&h.getAttribute("name")===V)return h}else return h;if(h=Qc(h.nextSibling),h===null)break}return null}function oZ(h,m,y){if(m==="")return null;for(;h.nodeType!==3;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!y||(h=Qc(h.nextSibling),h===null))return null;return h}function $4(h){return h.data==="$!"||h.data==="$?"&&h.ownerDocument.readyState==="complete"}function cZ(h,m){var y=h.ownerDocument;if(h.data!=="$?"||y.readyState==="complete")m();else{var C=function(){m(),y.removeEventListener("DOMContentLoaded",C)};y.addEventListener("DOMContentLoaded",C),h._reactRetry=C}}function Qc(h){for(;h!=null;h=h.nextSibling){var m=h.nodeType;if(m===1||m===3)break;if(m===8){if(m=h.data,m==="$"||m==="$!"||m==="$?"||m==="F!"||m==="F")break;if(m==="/$")return null}}return h}var U4=null;function QE(h){h=h.previousSibling;for(var m=0;h;){if(h.nodeType===8){var y=h.data;if(y==="$"||y==="$!"||y==="$?"){if(m===0)return h;m--}else y==="/$"&&m++}h=h.previousSibling}return null}function JE(h,m,y){switch(m=ry(y),h){case"html":if(h=m.documentElement,!h)throw Error(r(452));return h;case"head":if(h=m.head,!h)throw Error(r(453));return h;case"body":if(h=m.body,!h)throw Error(r(454));return h;default:throw Error(r(451))}}function gg(h){for(var m=h.attributes;m.length;)h.removeAttributeNode(m[0]);Ne(h)}var tc=new Map,ZE=new Set;function sy(h){return typeof h.getRootNode=="function"?h.getRootNode():h.nodeType===9?h:h.ownerDocument}var Lu=G.d;G.d={f:dZ,r:uZ,D:hZ,C:fZ,L:mZ,m:pZ,X:gZ,S:xZ,M:vZ};function dZ(){var h=Lu.f(),m=Yb();return h||m}function uZ(h){var m=De(h);m!==null&&m.tag===5&&m.type==="form"?p0(m):Lu.r(h)}var yp=typeof document>"u"?null:document;function e7(h,m,y){var C=yp;if(C&&typeof m=="string"&&m){var P=fr(m);P='link[rel="'+h+'"][href="'+P+'"]',typeof y=="string"&&(P+='[crossorigin="'+y+'"]'),ZE.has(P)||(ZE.add(P),h={rel:h,crossOrigin:y,href:m},C.querySelector(P)===null&&(m=C.createElement("link"),Ri(m,"link",h),Ke(m),C.head.appendChild(m)))}}function hZ(h){Lu.D(h),e7("dns-prefetch",h,null)}function fZ(h,m){Lu.C(h,m),e7("preconnect",h,m)}function mZ(h,m,y){Lu.L(h,m,y);var C=yp;if(C&&h&&m){var P='link[rel="preload"][as="'+fr(m)+'"]';m==="image"&&y&&y.imageSrcSet?(P+='[imagesrcset="'+fr(y.imageSrcSet)+'"]',typeof y.imageSizes=="string"&&(P+='[imagesizes="'+fr(y.imageSizes)+'"]')):P+='[href="'+fr(h)+'"]';var V=P;switch(m){case"style":V=wp(h);break;case"script":V=jp(h)}tc.has(V)||(h=u({rel:"preload",href:m==="image"&&y&&y.imageSrcSet?void 0:h,as:m},y),tc.set(V,h),C.querySelector(P)!==null||m==="style"&&C.querySelector(vg(V))||m==="script"&&C.querySelector(bg(V))||(m=C.createElement("link"),Ri(m,"link",h),Ke(m),C.head.appendChild(m)))}}function pZ(h,m){Lu.m(h,m);var y=yp;if(y&&h){var C=m&&typeof m.as=="string"?m.as:"script",P='link[rel="modulepreload"][as="'+fr(C)+'"][href="'+fr(h)+'"]',V=P;switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":V=jp(h)}if(!tc.has(V)&&(h=u({rel:"modulepreload",href:h},m),tc.set(V,h),y.querySelector(P)===null)){switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(y.querySelector(bg(V)))return}C=y.createElement("link"),Ri(C,"link",h),Ke(C),y.head.appendChild(C)}}}function xZ(h,m,y){Lu.S(h,m,y);var C=yp;if(C&&h){var P=ut(C).hoistableStyles,V=wp(h);m=m||"default";var ue=P.get(V);if(!ue){var be={loading:0,preload:null};if(ue=C.querySelector(vg(V)))be.loading=5;else{h=u({rel:"stylesheet",href:h,"data-precedence":m},y),(y=tc.get(V))&&z4(h,y);var Ie=ue=C.createElement("link");Ke(Ie),Ri(Ie,"link",h),Ie._p=new Promise(function(ot,Ct){Ie.onload=ot,Ie.onerror=Ct}),Ie.addEventListener("load",function(){be.loading|=1}),Ie.addEventListener("error",function(){be.loading|=2}),be.loading|=4,ny(ue,m,C)}ue={type:"stylesheet",instance:ue,count:1,state:be},P.set(V,ue)}}}function gZ(h,m){Lu.X(h,m);var y=yp;if(y&&h){var C=ut(y).hoistableScripts,P=jp(h),V=C.get(P);V||(V=y.querySelector(bg(P)),V||(h=u({src:h,async:!0},m),(m=tc.get(P))&&H4(h,m),V=y.createElement("script"),Ke(V),Ri(V,"link",h),y.head.appendChild(V)),V={type:"script",instance:V,count:1,state:null},C.set(P,V))}}function vZ(h,m){Lu.M(h,m);var y=yp;if(y&&h){var C=ut(y).hoistableScripts,P=jp(h),V=C.get(P);V||(V=y.querySelector(bg(P)),V||(h=u({src:h,async:!0,type:"module"},m),(m=tc.get(P))&&H4(h,m),V=y.createElement("script"),Ke(V),Ri(V,"link",h),y.head.appendChild(V)),V={type:"script",instance:V,count:1,state:null},C.set(P,V))}}function t7(h,m,y,C){var P=(P=ae.current)?sy(P):null;if(!P)throw Error(r(446));switch(h){case"meta":case"title":return null;case"style":return typeof y.precedence=="string"&&typeof y.href=="string"?(m=wp(y.href),y=ut(P).hoistableStyles,C=y.get(m),C||(C={type:"style",instance:null,count:0,state:null},y.set(m,C)),C):{type:"void",instance:null,count:0,state:null};case"link":if(y.rel==="stylesheet"&&typeof y.href=="string"&&typeof y.precedence=="string"){h=wp(y.href);var V=ut(P).hoistableStyles,ue=V.get(h);if(ue||(P=P.ownerDocument||P,ue={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},V.set(h,ue),(V=P.querySelector(vg(h)))&&!V._p&&(ue.instance=V,ue.state.loading=5),tc.has(h)||(y={rel:"preload",as:"style",href:y.href,crossOrigin:y.crossOrigin,integrity:y.integrity,media:y.media,hrefLang:y.hrefLang,referrerPolicy:y.referrerPolicy},tc.set(h,y),V||bZ(P,h,y,ue.state))),m&&C===null)throw Error(r(528,""));return ue}if(m&&C!==null)throw Error(r(529,""));return null;case"script":return m=y.async,y=y.src,typeof y=="string"&&m&&typeof m!="function"&&typeof m!="symbol"?(m=jp(y),y=ut(P).hoistableScripts,C=y.get(m),C||(C={type:"script",instance:null,count:0,state:null},y.set(m,C)),C):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,h))}}function wp(h){return'href="'+fr(h)+'"'}function vg(h){return'link[rel="stylesheet"]['+h+"]"}function a7(h){return u({},h,{"data-precedence":h.precedence,precedence:null})}function bZ(h,m,y,C){h.querySelector('link[rel="preload"][as="style"]['+m+"]")?C.loading=1:(m=h.createElement("link"),C.preload=m,m.addEventListener("load",function(){return C.loading|=1}),m.addEventListener("error",function(){return C.loading|=2}),Ri(m,"link",y),Ke(m),h.head.appendChild(m))}function jp(h){return'[src="'+fr(h)+'"]'}function bg(h){return"script[async]"+h}function r7(h,m,y){if(m.count++,m.instance===null)switch(m.type){case"style":var C=h.querySelector('style[data-href~="'+fr(y.href)+'"]');if(C)return m.instance=C,Ke(C),C;var P=u({},y,{"data-href":y.href,"data-precedence":y.precedence,href:null,precedence:null});return C=(h.ownerDocument||h).createElement("style"),Ke(C),Ri(C,"style",P),ny(C,y.precedence,h),m.instance=C;case"stylesheet":P=wp(y.href);var V=h.querySelector(vg(P));if(V)return m.state.loading|=4,m.instance=V,Ke(V),V;C=a7(y),(P=tc.get(P))&&z4(C,P),V=(h.ownerDocument||h).createElement("link"),Ke(V);var ue=V;return ue._p=new Promise(function(be,Ie){ue.onload=be,ue.onerror=Ie}),Ri(V,"link",C),m.state.loading|=4,ny(V,y.precedence,h),m.instance=V;case"script":return V=jp(y.src),(P=h.querySelector(bg(V)))?(m.instance=P,Ke(P),P):(C=y,(P=tc.get(V))&&(C=u({},y),H4(C,P)),h=h.ownerDocument||h,P=h.createElement("script"),Ke(P),Ri(P,"link",C),h.head.appendChild(P),m.instance=P);case"void":return null;default:throw Error(r(443,m.type))}else m.type==="stylesheet"&&(m.state.loading&4)===0&&(C=m.instance,m.state.loading|=4,ny(C,y.precedence,h));return m.instance}function ny(h,m,y){for(var C=y.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),P=C.length?C[C.length-1]:null,V=P,ue=0;ue<C.length;ue++){var be=C[ue];if(be.dataset.precedence===m)V=be;else if(V!==P)break}V?V.parentNode.insertBefore(h,V.nextSibling):(m=y.nodeType===9?y.head:y,m.insertBefore(h,m.firstChild))}function z4(h,m){h.crossOrigin==null&&(h.crossOrigin=m.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=m.referrerPolicy),h.title==null&&(h.title=m.title)}function H4(h,m){h.crossOrigin==null&&(h.crossOrigin=m.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=m.referrerPolicy),h.integrity==null&&(h.integrity=m.integrity)}var iy=null;function s7(h,m,y){if(iy===null){var C=new Map,P=iy=new Map;P.set(y,C)}else P=iy,C=P.get(y),C||(C=new Map,P.set(y,C));if(C.has(h))return C;for(C.set(h,null),y=y.getElementsByTagName(h),P=0;P<y.length;P++){var V=y[P];if(!(V[ye]||V[lr]||h==="link"&&V.getAttribute("rel")==="stylesheet")&&V.namespaceURI!=="http://www.w3.org/2000/svg"){var ue=V.getAttribute(m)||"";ue=h+ue;var be=C.get(ue);be?be.push(V):C.set(ue,[V])}}return C}function n7(h,m,y){h=h.ownerDocument||h,h.head.insertBefore(y,m==="title"?h.querySelector("head > title"):null)}function yZ(h,m,y){if(y===1||m.itemProp!=null)return!1;switch(h){case"meta":case"title":return!0;case"style":if(typeof m.precedence!="string"||typeof m.href!="string"||m.href==="")break;return!0;case"link":if(typeof m.rel!="string"||typeof m.href!="string"||m.href===""||m.onLoad||m.onError)break;switch(m.rel){case"stylesheet":return h=m.disabled,typeof m.precedence=="string"&&h==null;default:return!0}case"script":if(m.async&&typeof m.async!="function"&&typeof m.async!="symbol"&&!m.onLoad&&!m.onError&&m.src&&typeof m.src=="string")return!0}return!1}function i7(h){return!(h.type==="stylesheet"&&(h.state.loading&3)===0)}var yg=null;function wZ(){}function jZ(h,m,y){if(yg===null)throw Error(r(475));var C=yg;if(m.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var P=wp(y.href),V=h.querySelector(vg(P));if(V){h=V._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(C.count++,C=ly.bind(C),h.then(C,C)),m.state.loading|=4,m.instance=V,Ke(V);return}V=h.ownerDocument||h,y=a7(y),(P=tc.get(P))&&z4(y,P),V=V.createElement("link"),Ke(V);var ue=V;ue._p=new Promise(function(be,Ie){ue.onload=be,ue.onerror=Ie}),Ri(V,"link",y),m.instance=V}C.stylesheets===null&&(C.stylesheets=new Map),C.stylesheets.set(m,h),(h=m.state.preload)&&(m.state.loading&3)===0&&(C.count++,m=ly.bind(C),h.addEventListener("load",m),h.addEventListener("error",m))}}function NZ(){if(yg===null)throw Error(r(475));var h=yg;return h.stylesheets&&h.count===0&&V4(h,h.stylesheets),0<h.count?function(m){var y=setTimeout(function(){if(h.stylesheets&&V4(h,h.stylesheets),h.unsuspend){var C=h.unsuspend;h.unsuspend=null,C()}},6e4);return h.unsuspend=m,function(){h.unsuspend=null,clearTimeout(y)}}:null}function ly(){if(this.count--,this.count===0){if(this.stylesheets)V4(this,this.stylesheets);else if(this.unsuspend){var h=this.unsuspend;this.unsuspend=null,h()}}}var oy=null;function V4(h,m){h.stylesheets=null,h.unsuspend!==null&&(h.count++,oy=new Map,m.forEach(SZ,h),oy=null,ly.call(h))}function SZ(h,m){if(!(m.state.loading&4)){var y=oy.get(h);if(y)var C=y.get(null);else{y=new Map,oy.set(h,y);for(var P=h.querySelectorAll("link[data-precedence],style[data-precedence]"),V=0;V<P.length;V++){var ue=P[V];(ue.nodeName==="LINK"||ue.getAttribute("media")!=="not all")&&(y.set(ue.dataset.precedence,ue),C=ue)}C&&y.set(null,C)}P=m.instance,ue=P.getAttribute("data-precedence"),V=y.get(ue)||C,V===C&&y.set(null,P),y.set(ue,P),this.count++,C=ly.bind(this),P.addEventListener("load",C),P.addEventListener("error",C),V?V.parentNode.insertBefore(P,V.nextSibling):(h=h.nodeType===9?h.head:h,h.insertBefore(P,h.firstChild)),m.state.loading|=4}}var wg={$$typeof:S,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function kZ(h,m,y,C,P,V,ue,be){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ka(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ka(0),this.hiddenUpdates=Ka(null),this.identifierPrefix=C,this.onUncaughtError=P,this.onCaughtError=V,this.onRecoverableError=ue,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=be,this.incompleteTransitions=new Map}function l7(h,m,y,C,P,V,ue,be,Ie,ot,Ct,Pt){return h=new kZ(h,m,y,ue,be,Ie,ot,Pt),m=1,V===!0&&(m|=24),V=fi(3,null,null,m),h.current=V,V.stateNode=h,m=Vx(),m.refCount++,h.pooledCache=m,m.refCount++,V.memoizedState={element:C,isDehydrated:y,cache:m},it(V),h}function o7(h){return h?(h=Dn,h):Dn}function c7(h,m,y,C,P,V){P=o7(P),C.context===null?C.context=P:C.pendingContext=P,C=bt(m),C.payload={element:y},V=V===void 0?null:V,V!==null&&(C.callback=V),y=Ft(h,C,m),y!==null&&(wo(y,h,m),Mt(y,h,m))}function d7(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var y=h.retryLane;h.retryLane=y!==0&&y<m?y:m}}function W4(h,m){d7(h,m),(h=h.alternate)&&d7(h,m)}function u7(h){if(h.tag===13){var m=bu(h,67108864);m!==null&&wo(m,h,67108864),W4(h,67108864)}}var cy=!0;function CZ(h,m,y,C){var P=I.T;I.T=null;var V=G.p;try{G.p=2,q4(h,m,y,C)}finally{G.p=V,I.T=P}}function AZ(h,m,y,C){var P=I.T;I.T=null;var V=G.p;try{G.p=8,q4(h,m,y,C)}finally{G.p=V,I.T=P}}function q4(h,m,y,C){if(cy){var P=G4(C);if(P===null)P4(h,m,C,dy,y),f7(h,C);else if(TZ(P,h,m,y,C))C.stopPropagation();else if(f7(h,C),m&4&&-1<_Z.indexOf(h)){for(;P!==null;){var V=De(P);if(V!==null)switch(V.tag){case 3:if(V=V.stateNode,V.current.memoizedState.isDehydrated){var ue=Te(V.pendingLanes);if(ue!==0){var be=V;for(be.pendingLanes|=2,be.entangledLanes|=2;ue;){var Ie=1<<31-dt(ue);be.entanglements[1]|=Ie,ue&=~Ie}$d(V),(Ir&6)===0&&(Gb=Fe()+500,mg(0))}}break;case 13:be=bu(V,2),be!==null&&wo(be,V,2),Yb(),W4(V,2)}if(V=G4(C),V===null&&P4(h,m,C,dy,y),V===P)break;P=V}P!==null&&C.stopPropagation()}else P4(h,m,C,null,y)}}function G4(h){return h=En(h),K4(h)}var dy=null;function K4(h){if(dy=null,h=Ae(h),h!==null){var m=i(h);if(m===null)h=null;else{var y=m.tag;if(y===13){if(h=l(m),h!==null)return h;h=null}else if(y===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;h=null}else m!==h&&(h=null)}}return dy=h,null}function h7(h){switch(h){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ee()){case se:return 2;case _e:return 8;case je:case rt:return 32;case ft:return 268435456;default:return 32}default:return 32}}var Y4=!1,sf=null,nf=null,lf=null,jg=new Map,Ng=new Map,of=[],_Z="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f7(h,m){switch(h){case"focusin":case"focusout":sf=null;break;case"dragenter":case"dragleave":nf=null;break;case"mouseover":case"mouseout":lf=null;break;case"pointerover":case"pointerout":jg.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ng.delete(m.pointerId)}}function Sg(h,m,y,C,P,V){return h===null||h.nativeEvent!==V?(h={blockedOn:m,domEventName:y,eventSystemFlags:C,nativeEvent:V,targetContainers:[P]},m!==null&&(m=De(m),m!==null&&u7(m)),h):(h.eventSystemFlags|=C,m=h.targetContainers,P!==null&&m.indexOf(P)===-1&&m.push(P),h)}function TZ(h,m,y,C,P){switch(m){case"focusin":return sf=Sg(sf,h,m,y,C,P),!0;case"dragenter":return nf=Sg(nf,h,m,y,C,P),!0;case"mouseover":return lf=Sg(lf,h,m,y,C,P),!0;case"pointerover":var V=P.pointerId;return jg.set(V,Sg(jg.get(V)||null,h,m,y,C,P)),!0;case"gotpointercapture":return V=P.pointerId,Ng.set(V,Sg(Ng.get(V)||null,h,m,y,C,P)),!0}return!1}function m7(h){var m=Ae(h.target);if(m!==null){var y=i(m);if(y!==null){if(m=y.tag,m===13){if(m=l(y),m!==null){h.blockedOn=m,ta(h.priority,function(){if(y.tag===13){var C=yo();C=st(C);var P=bu(y,C);P!==null&&wo(P,y,C),W4(y,C)}});return}}else if(m===3&&y.stateNode.current.memoizedState.isDehydrated){h.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}h.blockedOn=null}function uy(h){if(h.blockedOn!==null)return!1;for(var m=h.targetContainers;0<m.length;){var y=G4(h.nativeEvent);if(y===null){y=h.nativeEvent;var C=new y.constructor(y.type,y);Zr=C,y.target.dispatchEvent(C),Zr=null}else return m=De(y),m!==null&&u7(m),h.blockedOn=y,!1;m.shift()}return!0}function p7(h,m,y){uy(h)&&y.delete(m)}function EZ(){Y4=!1,sf!==null&&uy(sf)&&(sf=null),nf!==null&&uy(nf)&&(nf=null),lf!==null&&uy(lf)&&(lf=null),jg.forEach(p7),Ng.forEach(p7)}function hy(h,m){h.blockedOn===m&&(h.blockedOn=null,Y4||(Y4=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,EZ)))}var fy=null;function x7(h){fy!==h&&(fy=h,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){fy===h&&(fy=null);for(var m=0;m<h.length;m+=3){var y=h[m],C=h[m+1],P=h[m+2];if(typeof C!="function"){if(K4(C||y)===null)continue;break}var V=De(y);V!==null&&(h.splice(m,3),m-=3,Jo(V,{pending:!0,data:P,method:y.method,action:C},C,P))}}))}function kg(h){function m(Ie){return hy(Ie,h)}sf!==null&&hy(sf,h),nf!==null&&hy(nf,h),lf!==null&&hy(lf,h),jg.forEach(m),Ng.forEach(m);for(var y=0;y<of.length;y++){var C=of[y];C.blockedOn===h&&(C.blockedOn=null)}for(;0<of.length&&(y=of[0],y.blockedOn===null);)m7(y),y.blockedOn===null&&of.shift();if(y=(h.ownerDocument||h).$$reactFormReplay,y!=null)for(C=0;C<y.length;C+=3){var P=y[C],V=y[C+1],ue=P[qa]||null;if(typeof V=="function")ue||x7(y);else if(ue){var be=null;if(V&&V.hasAttribute("formAction")){if(P=V,ue=V[qa]||null)be=ue.formAction;else if(K4(P)!==null)continue}else be=ue.action;typeof be=="function"?y[C+1]=be:(y.splice(C,3),C-=3),x7(y)}}}function X4(h){this._internalRoot=h}my.prototype.render=X4.prototype.render=function(h){var m=this._internalRoot;if(m===null)throw Error(r(409));var y=m.current,C=yo();c7(y,C,h,m,null,null)},my.prototype.unmount=X4.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var m=h.containerInfo;c7(h.current,2,null,h,null,null),Yb(),m[er]=null}};function my(h){this._internalRoot=h}my.prototype.unstable_scheduleHydration=function(h){if(h){var m=yt();h={blockedOn:null,target:h,priority:m};for(var y=0;y<of.length&&m!==0&&m<of[y].priority;y++);of.splice(y,0,h),y===0&&m7(h)}};var g7=t.version;if(g7!=="19.1.1")throw Error(r(527,g7,"19.1.1"));G.findDOMNode=function(h){var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=c(m),h=h!==null?d(h):null,h=h===null?null:h.stateNode,h};var DZ={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var py=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!py.isDisabled&&py.supportsFiber)try{$e=py.inject(DZ),ze=py}catch{}}return Ag.createRoot=function(h,m){if(!n(h))throw Error(r(299));var y=!1,C="",P=PT,V=LT,ue=OT,be=null;return m!=null&&(m.unstable_strictMode===!0&&(y=!0),m.identifierPrefix!==void 0&&(C=m.identifierPrefix),m.onUncaughtError!==void 0&&(P=m.onUncaughtError),m.onCaughtError!==void 0&&(V=m.onCaughtError),m.onRecoverableError!==void 0&&(ue=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(be=m.unstable_transitionCallbacks)),m=l7(h,1,!1,null,null,y,C,P,V,ue,be,null),h[er]=m.current,M4(h),new X4(m)},Ag.hydrateRoot=function(h,m,y){if(!n(h))throw Error(r(299));var C=!1,P="",V=PT,ue=LT,be=OT,Ie=null,ot=null;return y!=null&&(y.unstable_strictMode===!0&&(C=!0),y.identifierPrefix!==void 0&&(P=y.identifierPrefix),y.onUncaughtError!==void 0&&(V=y.onUncaughtError),y.onCaughtError!==void 0&&(ue=y.onCaughtError),y.onRecoverableError!==void 0&&(be=y.onRecoverableError),y.unstable_transitionCallbacks!==void 0&&(Ie=y.unstable_transitionCallbacks),y.formState!==void 0&&(ot=y.formState)),m=l7(h,1,!0,m,y??null,C,P,V,ue,be,Ie,ot),m.context=o7(null),y=m.current,C=yo(),C=st(C),P=bt(C),P.callback=null,Ft(y,P,C),y=C,m.current.lanes=y,Oa(m,y),$d(m),h[er]=m.current,M4(h),new my(m)},Ag.version="19.1.1",Ag}var A7;function zZ(){if(A7)return Z4.exports;A7=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Z4.exports=UZ(),Z4.exports}var HZ=zZ(),wj=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},VZ={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},WZ=class{#e=VZ;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},pk=new WZ;function qZ(e){setTimeout(e,0)}var jj=typeof window>"u"||"Deno"in globalThis;function ad(){}function GZ(e,t){return typeof e=="function"?e(t):e}function KZ(e){return typeof e=="number"&&e>=0&&e!==1/0}function YZ(e,t){return Math.max(e+(t||0)-Date.now(),0)}function xk(e,t){return typeof e=="function"?e(t):e}function XZ(e,t){return typeof e=="function"?e(t):e}function _7(e,t){const{type:a="all",exact:r,fetchStatus:n,predicate:i,queryKey:l,stale:o}=e;if(l){if(r){if(t.queryHash!==I6(l,t.options))return!1}else if(!F1(t.queryKey,l))return!1}if(a!=="all"){const c=t.isActive();if(a==="active"&&!c||a==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||n&&n!==t.state.fetchStatus||i&&!i(t))}function T7(e,t){const{exact:a,status:r,predicate:n,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(a){if(R1(t.options.mutationKey)!==R1(i))return!1}else if(!F1(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||n&&!n(t))}function I6(e,t){return(t?.queryKeyHashFn||R1)(e)}function R1(e){return JSON.stringify(e,(t,a)=>gk(a)?Object.keys(a).sort().reduce((r,n)=>(r[n]=a[n],r),{}):a)}function F1(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(a=>F1(e[a],t[a])):!1}var QZ=Object.prototype.hasOwnProperty;function u$(e,t){if(e===t)return e;const a=E7(e)&&E7(t);if(!a&&!(gk(e)&&gk(t)))return t;const n=(a?e:Object.keys(e)).length,i=a?t:Object.keys(t),l=i.length,o=a?new Array(l):{};let c=0;for(let d=0;d<l;d++){const u=a?d:i[d],f=e[u],x=t[u];if(f===x){o[u]=f,(a?d<n:QZ.call(e,u))&&c++;continue}if(f===null||x===null||typeof f!="object"||typeof x!="object"){o[u]=x;continue}const p=u$(f,x);o[u]=p,p===f&&c++}return n===l&&c===n?e:o}function E7(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function gk(e){if(!D7(e))return!1;const t=e.constructor;if(t===void 0)return!0;const a=t.prototype;return!(!D7(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function D7(e){return Object.prototype.toString.call(e)==="[object Object]"}function JZ(e){return new Promise(t=>{pk.setTimeout(t,e)})}function ZZ(e,t,a){return typeof a.structuralSharing=="function"?a.structuralSharing(e,t):a.structuralSharing!==!1?u$(e,t):t}function eee(e,t,a=0){const r=[...e,t];return a&&r.length>a?r.slice(1):r}function tee(e,t,a=0){const r=[t,...e];return a&&r.length>a?r.slice(0,-1):r}var B6=Symbol();function h$(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===B6?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var aee=class extends wj{#e;#t;#a;constructor(){super(),this.#a=e=>{if(!jj&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#a)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#a=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},f$=new aee;function ree(){let e,t;const a=new Promise((n,i)=>{e=n,t=i});a.status="pending",a.catch(()=>{});function r(n){Object.assign(a,n),delete a.resolve,delete a.reject}return a.resolve=n=>{r({status:"fulfilled",value:n}),e(n)},a.reject=n=>{r({status:"rejected",reason:n}),t(n)},a}var see=qZ;function nee(){let e=[],t=0,a=o=>{o()},r=o=>{o()},n=see;const i=o=>{t?e.push(o):n(()=>{a(o)})},l=()=>{const o=e;e=[],o.length&&n(()=>{r(()=>{o.forEach(c=>{a(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||l()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{a=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{n=o}}}var _l=nee(),iee=class extends wj{#e=!0;#t;#a;constructor(){super(),this.#a=e=>{if(!jj&&window.addEventListener){const t=()=>e(!0),a=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#a)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#a=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(a=>{a(e)}))}isOnline(){return this.#e}},U2=new iee;function lee(e){return Math.min(1e3*2**e,3e4)}function m$(e){return(e??"online")==="online"?U2.isOnline():!0}var vk=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function p$(e){let t=!1,a=0,r;const n=ree(),i=()=>n.status!=="pending",l=g=>{if(!i()){const b=new vk(g);x(b),e.onCancel?.(b)}},o=()=>{t=!0},c=()=>{t=!1},d=()=>f$.isFocused()&&(e.networkMode==="always"||U2.isOnline())&&e.canRun(),u=()=>m$(e.networkMode)&&e.canRun(),f=g=>{i()||(r?.(),n.resolve(g))},x=g=>{i()||(r?.(),n.reject(g))},p=()=>new Promise(g=>{r=b=>{(i()||d())&&g(b)},e.onPause?.()}).then(()=>{r=void 0,i()||e.onContinue?.()}),v=()=>{if(i())return;let g;const b=a===0?e.initialPromise:void 0;try{g=b??e.fn()}catch(j){g=Promise.reject(j)}Promise.resolve(g).then(f).catch(j=>{if(i())return;const N=e.retry??(jj?0:3),S=e.retryDelay??lee,k=typeof S=="function"?S(a,j):S,A=N===!0||typeof N=="number"&&a<N||typeof N=="function"&&N(a,j);if(t||!A){x(j);return}a++,e.onFail?.(a,j),JZ(k).then(()=>d()?void 0:p()).then(()=>{t?x(j):v()})})};return{promise:n,status:()=>n.status,cancel:l,continue:()=>(r?.(),n),cancelRetry:o,continueRetry:c,canStart:u,start:()=>(u()?v():p().then(v),n)}}var x$=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),KZ(this.gcTime)&&(this.#e=pk.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(jj?1/0:300*1e3))}clearGcTimeout(){this.#e&&(pk.clearTimeout(this.#e),this.#e=void 0)}},oee=class extends x${#e;#t;#a;#s;#r;#i;#l;constructor(e){super(),this.#l=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#a=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=M7(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=M7(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#a.remove(this)}setData(e,t){const a=ZZ(this.state.data,e,this.options);return this.#n({data:a,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),a}setState(e,t){this.#n({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(ad).catch(ad):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>XZ(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===B6||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>xk(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!YZ(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#a.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#l?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#a.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#n({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const o=this.observers.find(c=>c.options.queryFn);o&&this.setOptions(o.options)}const a=new AbortController,r=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#l=!0,a.signal)})},n=()=>{const o=h$(this.options,t),d=(()=>{const u={client:this.#s,queryKey:this.queryKey,meta:this.meta};return r(u),u})();return this.#l=!1,this.options.persister?this.options.persister(o,d,this):o(d)},l=(()=>{const o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:n};return r(o),o})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#n({type:"fetch",meta:l.fetchOptions?.meta}),this.#r=p$({initialPromise:t?.initialPromise,fn:l.fetchFn,onCancel:o=>{o instanceof vk&&o.revert&&this.setState({...this.#t,fetchStatus:"idle"}),a.abort()},onFail:(o,c)=>{this.#n({type:"failed",failureCount:o,error:c})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const o=await this.#r.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#a.config.onSuccess?.(o,this),this.#a.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof vk){if(o.silent)return this.#r.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#n({type:"error",error:o}),this.#a.config.onError?.(o,this),this.#a.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#n(e){const t=a=>{switch(e.type){case"failed":return{...a,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...cee(a.data,this.options),fetchMeta:e.meta??null};case"success":const r={...a,data:e.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const n=e.error;return{...a,error:n,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...e.state}}};this.state=t(this.state),_l.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),this.#a.notify({query:this,type:"updated",action:e})})}};function cee(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:m$(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function M7(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,a=t!==void 0,r=a?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:a?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}function P7(e){return{onFetch:(t,a)=>{const r=t.options,n=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let u=!1;const f=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},x=h$(t.options,t.fetchOptions),p=async(v,g,b)=>{if(u)return Promise.reject();if(g==null&&v.pages.length)return Promise.resolve(v);const N=(()=>{const _={client:t.client,queryKey:t.queryKey,pageParam:g,direction:b?"backward":"forward",meta:t.options.meta};return f(_),_})(),S=await x(N),{maxPages:k}=t.options,A=b?tee:eee;return{pages:A(v.pages,S,k),pageParams:A(v.pageParams,g,k)}};if(n&&i.length){const v=n==="backward",g=v?dee:L7,b={pages:i,pageParams:l},j=g(r,b);o=await p(b,j,v)}else{const v=e??i.length;do{const g=c===0?l[0]??r.initialPageParam:L7(r,o);if(c>0&&g==null)break;o=await p(o,g),c++}while(c<v)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},a):t.fetchFn=d}}}function L7(e,{pages:t,pageParams:a}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,a[r],a):void 0}function dee(e,{pages:t,pageParams:a}){return t.length>0?e.getPreviousPageParam?.(t[0],t,a[0],a):void 0}var uee=class extends x${#e;#t;#a;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#a=e.mutationCache,this.#t=[],this.state=e.state||hee(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#a.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#a.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#a.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=p$({fn:()=>this.options.mutationFn?this.options.mutationFn(e,a):Promise.reject(new Error("No mutationFn found")),onFail:(i,l)=>{this.#r({type:"failed",failureCount:i,error:l})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#a.canRun(this)});const r=this.state.status==="pending",n=!this.#s.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:n}),await this.#a.config.onMutate?.(e,this,a);const l=await this.options.onMutate?.(e,a);l!==this.state.context&&this.#r({type:"pending",context:l,variables:e,isPaused:n})}const i=await this.#s.start();return await this.#a.config.onSuccess?.(i,e,this.state.context,this,a),await this.options.onSuccess?.(i,e,this.state.context,a),await this.#a.config.onSettled?.(i,null,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(i,null,e,this.state.context,a),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#a.config.onError?.(i,e,this.state.context,this,a),await this.options.onError?.(i,e,this.state.context,a),await this.#a.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(void 0,i,e,this.state.context,a),i}finally{this.#r({type:"error",error:i})}}finally{this.#a.runNext(this)}}#r(e){const t=a=>{switch(e.type){case"failed":return{...a,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...a,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:e.error,failureCount:a.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),_l.batch(()=>{this.#t.forEach(a=>{a.onMutationUpdate(e)}),this.#a.notify({mutation:this,type:"updated",action:e})})}};function hee(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fee=class extends wj{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#a=0}#e;#t;#a;build(e,t,a){const r=new uee({client:e,mutationCache:this,mutationId:++this.#a,options:e.defaultMutationOptions(t),state:a});return this.add(r),r}add(e){this.#e.add(e);const t=xy(e);if(typeof t=="string"){const a=this.#t.get(t);a?a.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=xy(e);if(typeof t=="string"){const a=this.#t.get(t);if(a)if(a.length>1){const r=a.indexOf(e);r!==-1&&a.splice(r,1)}else a[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=xy(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(n=>n.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=xy(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){_l.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(a=>T7(t,a))}findAll(e={}){return this.getAll().filter(t=>T7(e,t))}notify(e){_l.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return _l.batch(()=>Promise.all(e.map(t=>t.continue().catch(ad))))}};function xy(e){return e.options.scope?.id}var mee=class extends wj{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,a){const r=t.queryKey,n=t.queryHash??I6(r,t);let i=this.get(n);return i||(i=new oee({client:e,queryKey:r,queryHash:n,options:e.defaultQueryOptions(t),state:a,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){_l.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(a=>_7(t,a))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(a=>_7(e,a)):t}notify(e){_l.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){_l.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){_l.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},pee=class{#e;#t;#a;#s;#r;#i;#l;#n;constructor(e={}){this.#e=e.queryCache||new mee,this.#t=e.mutationCache||new fee,this.#a=e.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=f$.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#n=U2.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#n?.(),this.#n=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),a=this.#e.build(this,t),r=a.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&a.isStaleByTime(xk(t.staleTime,a))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:a})=>{const r=a.data;return[t,r]})}setQueryData(e,t,a){const r=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(r.queryHash)?.state.data,l=GZ(t,i);if(l!==void 0)return this.#e.build(this,r).setData(l,{...a,manual:!0})}setQueriesData(e,t,a){return _l.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,a)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;_l.batch(()=>{t.findAll(e).forEach(a=>{t.remove(a)})})}resetQueries(e,t){const a=this.#e;return _l.batch(()=>(a.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const a={revert:!0,...t},r=_l.batch(()=>this.#e.findAll(e).map(n=>n.cancel(a)));return Promise.all(r).then(ad).catch(ad)}invalidateQueries(e,t={}){return _l.batch(()=>(this.#e.findAll(e).forEach(a=>{a.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const a={...t,cancelRefetch:t.cancelRefetch??!0},r=_l.batch(()=>this.#e.findAll(e).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,a);return a.throwOnError||(i=i.catch(ad)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ad)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const a=this.#e.build(this,t);return a.isStaleByTime(xk(t.staleTime,a))?a.fetch(t):Promise.resolve(a.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ad).catch(ad)}fetchInfiniteQuery(e){return e.behavior=P7(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ad).catch(ad)}ensureInfiniteQueryData(e){return e.behavior=P7(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return U2.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#a}setDefaultOptions(e){this.#a=e}setQueryDefaults(e,t){this.#s.set(R1(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],a={};return t.forEach(r=>{F1(e,r.queryKey)&&Object.assign(a,r.defaultOptions)}),a}setMutationDefaults(e,t){this.#r.set(R1(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],a={};return t.forEach(r=>{F1(e,r.mutationKey)&&Object.assign(a,r.defaultOptions)}),a}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#a.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=I6(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===B6&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#a.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},xee=w.createContext(void 0),gee=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(xee.Provider,{value:e,children:t}));/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var O7="popstate";function vee(e={}){function t(n,i){let{pathname:l="/",search:o="",hash:c=""}=Am(n.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),bk("",{pathname:l,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function a(n,i){let l=n.document.querySelector("base"),o="";if(l&&l.getAttribute("href")){let c=n.location.href,d=c.indexOf("#");o=d===-1?c:c.slice(0,d)}return o+"#"+(typeof i=="string"?i:I1(i))}function r(n,i){bc(n.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return yee(t,a,r,e)}function Ps(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bee(){return Math.random().toString(36).substring(2,10)}function R7(e,t){return{usr:e.state,key:e.key,idx:t}}function bk(e,t,a=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Am(t):t,state:a,key:t&&t.key||r||bee()}}function I1({pathname:e="/",search:t="",hash:a=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function Am(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function yee(e,t,a,r={}){let{window:n=document.defaultView,v5Compat:i=!1}=r,l=n.history,o="POP",c=null,d=u();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function u(){return(l.state||{idx:null}).idx}function f(){o="POP";let b=u(),j=b==null?null:b-d;d=b,c&&c({action:o,location:g.location,delta:j})}function x(b,j){o="PUSH";let N=bk(g.location,b,j);a&&a(N,b),d=u()+1;let S=R7(N,d),k=g.createHref(N);try{l.pushState(S,"",k)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;n.location.assign(k)}i&&c&&c({action:o,location:g.location,delta:1})}function p(b,j){o="REPLACE";let N=bk(g.location,b,j);a&&a(N,b),d=u();let S=R7(N,d),k=g.createHref(N);l.replaceState(S,"",k),i&&c&&c({action:o,location:g.location,delta:0})}function v(b){return wee(b)}let g={get action(){return o},get location(){return e(n,l)},listen(b){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(O7,f),c=b,()=>{n.removeEventListener(O7,f),c=null}},createHref(b){return t(n,b)},createURL:v,encodeLocation(b){let j=v(b);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:p,go(b){return l.go(b)}};return g}function wee(e,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Ps(a,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:I1(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=a+r),new URL(r,a)}function g$(e,t,a="/"){return jee(e,t,a,!1)}function jee(e,t,a,r){let n=typeof t=="string"?Am(t):t,i=oh(n.pathname||"/",a);if(i==null)return null;let l=v$(e);Nee(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=Lee(i);o=Mee(l[c],d,r)}return o}function v$(e,t=[],a=[],r="",n=!1){let i=(l,o,c=n,d)=>{let u={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(r)&&c)return;Ps(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length)}let f=Ju([r,u.relativePath]),x=a.concat(u);l.children&&l.children.length>0&&(Ps(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),v$(l.children,t,x,f,c)),!(l.path==null&&!l.index)&&t.push({path:f,score:Eee(f,l.index),routesMeta:x})};return e.forEach((l,o)=>{if(l.path===""||!l.path?.includes("?"))i(l,o);else for(let c of b$(l.path))i(l,o,!0,c)}),t}function b$(e){let t=e.split("/");if(t.length===0)return[];let[a,...r]=t,n=a.endsWith("?"),i=a.replace(/\?$/,"");if(r.length===0)return n?[i,""]:[i];let l=b$(r.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),n&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Nee(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:Dee(t.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}var See=/^:[\w-]+$/,kee=3,Cee=2,Aee=1,_ee=10,Tee=-2,F7=e=>e==="*";function Eee(e,t){let a=e.split("/"),r=a.length;return a.some(F7)&&(r+=Tee),t&&(r+=Cee),a.filter(n=>!F7(n)).reduce((n,i)=>n+(See.test(i)?kee:i===""?Aee:_ee),r)}function Dee(e,t){return e.length===t.length&&e.slice(0,-1).every((r,n)=>r===t[n])?e[e.length-1]-t[t.length-1]:0}function Mee(e,t,a=!1){let{routesMeta:r}=e,n={},i="/",l=[];for(let o=0;o<r.length;++o){let c=r[o],d=o===r.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=z2({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),x=c.route;if(!f&&d&&a&&!r[r.length-1].route.index&&(f=z2({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(n,f.params),l.push({params:n,pathname:Ju([i,f.pathname]),pathnameBase:Iee(Ju([i,f.pathnameBase])),route:x}),f.pathnameBase!=="/"&&(i=Ju([i,f.pathnameBase]))}return l}function z2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,r]=Pee(e.path,e.caseSensitive,e.end),n=t.match(a);if(!n)return null;let i=n[0],l=i.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:r.reduce((d,{paramName:u,isOptional:f},x)=>{if(u==="*"){let v=o[x]||"";l=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const p=o[x];return f&&!p?d[u]=void 0:d[u]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:e}}function Pee(e,t=!1,a=!0){bc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),r]}function Lee(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bc(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function oh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,r=e.charAt(a);return r&&r!=="/"?null:e.slice(a)||"/"}function Oee(e,t="/"){let{pathname:a,search:r="",hash:n=""}=typeof e=="string"?Am(e):e;return{pathname:a?a.startsWith("/")?a:Ree(a,t):t,search:Bee(r),hash:$ee(n)}}function Ree(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function r5(e,t,a,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fee(e){return e.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function $6(e){let t=Fee(e);return t.map((a,r)=>r===t.length-1?a.pathname:a.pathnameBase)}function U6(e,t,a,r=!1){let n;typeof e=="string"?n=Am(e):(n={...e},Ps(!n.pathname||!n.pathname.includes("?"),r5("?","pathname","search",n)),Ps(!n.pathname||!n.pathname.includes("#"),r5("#","pathname","hash",n)),Ps(!n.search||!n.search.includes("#"),r5("#","search","hash",n)));let i=e===""||n.pathname==="",l=i?"/":n.pathname,o;if(l==null)o=a;else{let f=t.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),f-=1;n.pathname=x.join("/")}o=f>=0?t[f]:"/"}let c=Oee(n,o),d=l&&l!=="/"&&l.endsWith("/"),u=(i||l===".")&&a.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var Ju=e=>e.join("/").replace(/\/\/+/g,"/"),Iee=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Bee=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$ee=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Uee(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var y$=["POST","PUT","PATCH","DELETE"];new Set(y$);var zee=["GET",...y$];new Set(zee);var bx=w.createContext(null);bx.displayName="DataRouter";var Nj=w.createContext(null);Nj.displayName="DataRouterState";w.createContext(!1);var w$=w.createContext({isTransitioning:!1});w$.displayName="ViewTransition";var Hee=w.createContext(new Map);Hee.displayName="Fetchers";var Vee=w.createContext(null);Vee.displayName="Await";var pd=w.createContext(null);pd.displayName="Navigation";var Dv=w.createContext(null);Dv.displayName="Location";var kc=w.createContext({outlet:null,matches:[],isDataRoute:!1});kc.displayName="Route";var z6=w.createContext(null);z6.displayName="RouteError";function Wee(e,{relative:t}={}){Ps(yx(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:r}=w.useContext(pd),{hash:n,pathname:i,search:l}=Mv(e,{relative:t}),o=i;return a!=="/"&&(o=i==="/"?a:Ju([a,i])),r.createHref({pathname:o,search:l,hash:n})}function yx(){return w.useContext(Dv)!=null}function Cc(){return Ps(yx(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Dv).location}var j$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function N$(e){w.useContext(pd).static||w.useLayoutEffect(e)}function ti(){let{isDataRoute:e}=w.useContext(kc);return e?lte():qee()}function qee(){Ps(yx(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(bx),{basename:t,navigator:a}=w.useContext(pd),{matches:r}=w.useContext(kc),{pathname:n}=Cc(),i=JSON.stringify($6(r)),l=w.useRef(!1);return N$(()=>{l.current=!0}),w.useCallback((c,d={})=>{if(bc(l.current,j$),!l.current)return;if(typeof c=="number"){a.go(c);return}let u=U6(c,JSON.parse(i),n,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Ju([t,u.pathname])),(d.replace?a.replace:a.push)(u,d.state,d)},[t,a,i,n,e])}var Gee=w.createContext(null);function Kee(e){let t=w.useContext(kc).outlet;return w.useMemo(()=>t&&w.createElement(Gee.Provider,{value:e},t),[t,e])}function Yee(){let{matches:e}=w.useContext(kc),t=e[e.length-1];return t?t.params:{}}function Mv(e,{relative:t}={}){let{matches:a}=w.useContext(kc),{pathname:r}=Cc(),n=JSON.stringify($6(a));return w.useMemo(()=>U6(e,JSON.parse(n),r,t==="path"),[e,n,r,t])}function Xee(e,t){return S$(e,t)}function S$(e,t,a,r,n){Ps(yx(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=w.useContext(pd),{matches:l}=w.useContext(kc),o=l[l.length-1],c=o?o.params:{},d=o?o.pathname:"/",u=o?o.pathnameBase:"/",f=o&&o.route;{let N=f&&f.path||"";k$(d,!f||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let x=Cc(),p;if(t){let N=typeof t=="string"?Am(t):t;Ps(u==="/"||N.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${N.pathname}" was given in the \`location\` prop.`),p=N}else p=x;let v=p.pathname||"/",g=v;if(u!=="/"){let N=u.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(N.length).join("/")}let b=g$(e,{pathname:g});bc(f||b!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),bc(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=tte(b&&b.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:Ju([u,i.encodeLocation?i.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:Ju([u,i.encodeLocation?i.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),l,a,r,n);return t&&j?w.createElement(Dv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},j):j}function Qee(){let e=ite(),t=Uee(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:i},"ErrorBoundary")," or"," ",w.createElement("code",{style:i},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),a?w.createElement("pre",{style:n},a):null,l)}var Jee=w.createElement(Qee,null),Zee=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(kc.Provider,{value:this.props.routeContext},w.createElement(z6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ete({routeContext:e,match:t,children:a}){let r=w.useContext(bx);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(kc.Provider,{value:e},a)}function tte(e,t=[],a=null,r=null,n=null){if(e==null){if(!a)return null;if(a.errors)e=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let i=e,l=a?.errors;if(l!=null){let d=i.findIndex(u=>u.route.id&&l?.[u.route.id]!==void 0);Ps(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,c=-1;if(a)for(let d=0;d<i.length;d++){let u=i[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:f,errors:x}=a,p=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!x||x[u.route.id]===void 0);if(u.route.lazy||p){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,u,f)=>{let x,p=!1,v=null,g=null;a&&(x=l&&u.route.id?l[u.route.id]:void 0,v=u.route.errorElement||Jee,o&&(c<0&&f===0?(k$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,g=null):c===f&&(p=!0,g=u.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,f+1)),j=()=>{let N;return x?N=v:p?N=g:u.route.Component?N=w.createElement(u.route.Component,null):u.route.element?N=u.route.element:N=d,w.createElement(ete,{match:u,routeContext:{outlet:d,matches:b,isDataRoute:a!=null},children:N})};return a&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?w.createElement(Zee,{location:a.location,revalidation:a.revalidation,component:v,error:x,children:j(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:r}):j()},null)}function H6(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ate(e){let t=w.useContext(bx);return Ps(t,H6(e)),t}function rte(e){let t=w.useContext(Nj);return Ps(t,H6(e)),t}function ste(e){let t=w.useContext(kc);return Ps(t,H6(e)),t}function V6(e){let t=ste(e),a=t.matches[t.matches.length-1];return Ps(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}function nte(){return V6("useRouteId")}function ite(){let e=w.useContext(z6),t=rte("useRouteError"),a=V6("useRouteError");return e!==void 0?e:t.errors?.[a]}function lte(){let{router:e}=ate("useNavigate"),t=V6("useNavigate"),a=w.useRef(!1);return N$(()=>{a.current=!0}),w.useCallback(async(n,i={})=>{bc(a.current,j$),a.current&&(typeof n=="number"?e.navigate(n):await e.navigate(n,{fromRouteId:t,...i}))},[e,t])}var I7={};function k$(e,t,a){!t&&!I7[e]&&(I7[e]=!0,bc(!1,a))}w.memo(ote);function ote({routes:e,future:t,state:a,unstable_onError:r}){return S$(e,void 0,a,r,t)}function s5({to:e,replace:t,state:a,relative:r}){Ps(yx(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=w.useContext(pd);bc(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=w.useContext(kc),{pathname:l}=Cc(),o=ti(),c=U6(e,$6(i),l,r==="path"),d=JSON.stringify(c);return w.useEffect(()=>{o(JSON.parse(d),{replace:t,state:a,relative:r})},[o,d,r,t,a]),null}function Sj(e){return Kee(e.context)}function _t(e){Ps(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cte({basename:e="/",children:t=null,location:a,navigationType:r="POP",navigator:n,static:i=!1}){Ps(!yx(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),o=w.useMemo(()=>({basename:l,navigator:n,static:i,future:{}}),[l,n,i]);typeof a=="string"&&(a=Am(a));let{pathname:c="/",search:d="",hash:u="",state:f=null,key:x="default"}=a,p=w.useMemo(()=>{let v=oh(c,l);return v==null?null:{location:{pathname:v,search:d,hash:u,state:f,key:x},navigationType:r}},[l,c,d,u,f,x,r]);return bc(p!=null,`<Router basename="${l}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:w.createElement(pd.Provider,{value:o},w.createElement(Dv.Provider,{children:t,value:p}))}function dte({children:e,location:t}){return Xee(yk(e),t)}function yk(e,t=[]){let a=[];return w.Children.forEach(e,(r,n)=>{if(!w.isValidElement(r))return;let i=[...t,n];if(r.type===w.Fragment){a.push.apply(a,yk(r.props.children,i));return}Ps(r.type===_t,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ps(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=yk(r.props.children,i)),a.push(l)}),a}var C2="get",A2="application/x-www-form-urlencoded";function kj(e){return e!=null&&typeof e.tagName=="string"}function ute(e){return kj(e)&&e.tagName.toLowerCase()==="button"}function hte(e){return kj(e)&&e.tagName.toLowerCase()==="form"}function fte(e){return kj(e)&&e.tagName.toLowerCase()==="input"}function mte(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pte(e,t){return e.button===0&&(!t||t==="_self")&&!mte(e)}var gy=null;function xte(){if(gy===null)try{new FormData(document.createElement("form"),0),gy=!1}catch{gy=!0}return gy}var gte=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function n5(e){return e!=null&&!gte.has(e)?(bc(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${A2}"`),null):e}function vte(e,t){let a,r,n,i,l;if(hte(e)){let o=e.getAttribute("action");r=o?oh(o,t):null,a=e.getAttribute("method")||C2,n=n5(e.getAttribute("enctype"))||A2,i=new FormData(e)}else if(ute(e)||fte(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(r=c?oh(c,t):null,a=e.getAttribute("formmethod")||o.getAttribute("method")||C2,n=n5(e.getAttribute("formenctype"))||n5(o.getAttribute("enctype"))||A2,i=new FormData(o,e),!xte()){let{name:d,type:u,value:f}=e;if(u==="image"){let x=d?`${d}.`:"";i.append(`${x}x`,"0"),i.append(`${x}y`,"0")}else d&&i.append(d,f)}}else{if(kj(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=C2,r=null,n=A2,l=e}return i&&n==="text/plain"&&(l=i,i=void 0),{action:r,method:a.toLowerCase(),encType:n,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function W6(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bte(e,t,a){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${a}`:t&&oh(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${a}`,r}async function yte(e,t){if(e.id in t)return t[e.id];try{let a=await import(e.module);return t[e.id]=a,a}catch(a){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wte(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function jte(e,t,a){let r=await Promise.all(e.map(async n=>{let i=t.routes[n.route.id];if(i){let l=await yte(i,a);return l.links?l.links():[]}return[]}));return Cte(r.flat(1).filter(wte).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function B7(e,t,a,r,n,i){let l=(c,d)=>a[d]?c.route.id!==a[d].route.id:!0,o=(c,d)=>a[d].pathname!==c.pathname||a[d].route.path?.endsWith("*")&&a[d].params["*"]!==c.params["*"];return i==="assets"?t.filter((c,d)=>l(c,d)||o(c,d)):i==="data"?t.filter((c,d)=>{let u=r.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(l(c,d)||o(c,d))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Nte(e,t,{includeHydrateFallback:a}={}){return Ste(e.map(r=>{let n=t.routes[r.route.id];if(!n)return[];let i=[n.module];return n.clientActionModule&&(i=i.concat(n.clientActionModule)),n.clientLoaderModule&&(i=i.concat(n.clientLoaderModule)),a&&n.hydrateFallbackModule&&(i=i.concat(n.hydrateFallbackModule)),n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function Ste(e){return[...new Set(e)]}function kte(e){let t={},a=Object.keys(e).sort();for(let r of a)t[r]=e[r];return t}function Cte(e,t){let a=new Set;return new Set(t),e.reduce((r,n)=>{let i=JSON.stringify(kte(n));return a.has(i)||(a.add(i),r.push({key:i,link:n})),r},[])}function C$(){let e=w.useContext(bx);return W6(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ate(){let e=w.useContext(Nj);return W6(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var q6=w.createContext(void 0);q6.displayName="FrameworkContext";function A$(){let e=w.useContext(q6);return W6(e,"You must render this element inside a <HydratedRouter> element"),e}function _te(e,t){let a=w.useContext(q6),[r,n]=w.useState(!1),[i,l]=w.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:f}=t,x=w.useRef(null);w.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let g=j=>{j.forEach(N=>{l(N.isIntersecting)})},b=new IntersectionObserver(g,{threshold:.5});return x.current&&b.observe(x.current),()=>{b.disconnect()}}},[e]),w.useEffect(()=>{if(r){let g=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(g)}}},[r]);let p=()=>{n(!0)},v=()=>{n(!1),l(!1)};return a?e!=="intent"?[i,x,{}]:[i,x,{onFocus:_g(o,p),onBlur:_g(c,v),onMouseEnter:_g(d,p),onMouseLeave:_g(u,v),onTouchStart:_g(f,p)}]:[!1,x,{}]}function _g(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function Tte({page:e,...t}){let{router:a}=C$(),r=w.useMemo(()=>g$(a.routes,e,a.basename),[a.routes,e,a.basename]);return r?w.createElement(Dte,{page:e,matches:r,...t}):null}function Ete(e){let{manifest:t,routeModules:a}=A$(),[r,n]=w.useState([]);return w.useEffect(()=>{let i=!1;return jte(e,t,a).then(l=>{i||n(l)}),()=>{i=!0}},[e,t,a]),r}function Dte({page:e,matches:t,...a}){let r=Cc(),{manifest:n,routeModules:i}=A$(),{basename:l}=C$(),{loaderData:o,matches:c}=Ate(),d=w.useMemo(()=>B7(e,t,c,n,r,"data"),[e,t,c,n,r]),u=w.useMemo(()=>B7(e,t,c,n,r,"assets"),[e,t,c,n,r]),f=w.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,g=!1;if(t.forEach(j=>{let N=n.routes[j.route.id];!N||!N.hasLoader||(!d.some(S=>S.route.id===j.route.id)&&j.route.id in o&&i[j.route.id]?.shouldRevalidate||N.hasClientLoader?g=!0:v.add(j.route.id))}),v.size===0)return[];let b=bte(e,l,"data");return g&&v.size>0&&b.searchParams.set("_routes",t.filter(j=>v.has(j.route.id)).map(j=>j.route.id).join(",")),[b.pathname+b.search]},[l,o,r,n,d,t,e,i]),x=w.useMemo(()=>Nte(u,n),[u,n]),p=Ete(u);return w.createElement(w.Fragment,null,f.map(v=>w.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...a})),x.map(v=>w.createElement("link",{key:v,rel:"modulepreload",href:v,...a})),p.map(({key:v,link:g})=>w.createElement("link",{key:v,nonce:a.nonce,...g})))}function Mte(...e){return t=>{e.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var _$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_$&&(window.__reactRouterVersion="7.9.3")}catch{}function Pte({basename:e,children:t,window:a}){let r=w.useRef();r.current==null&&(r.current=vee({window:a,v5Compat:!0}));let n=r.current,[i,l]=w.useState({action:n.action,location:n.location}),o=w.useCallback(c=>{w.startTransition(()=>l(c))},[l]);return w.useLayoutEffect(()=>n.listen(o),[n,o]),w.createElement(cte,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:n})}var T$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xr=w.forwardRef(function({onClick:t,discover:a="render",prefetch:r="none",relative:n,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:u,viewTransition:f,...x},p){let{basename:v}=w.useContext(pd),g=typeof d=="string"&&T$.test(d),b,j=!1;if(typeof d=="string"&&g&&(b=d,_$))try{let U=new URL(window.location.href),z=d.startsWith("//")?new URL(U.protocol+d):new URL(d),O=oh(z.pathname,v);z.origin===U.origin&&O!=null?d=O+z.search+z.hash:j=!0}catch{bc(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=Wee(d,{relative:n}),[S,k,A]=_te(r,x),_=Rte(d,{replace:l,state:o,target:c,preventScrollReset:u,relative:n,viewTransition:f});function M(U){t&&t(U),U.defaultPrevented||_(U)}let L=w.createElement("a",{...x,...A,href:b||N,onClick:j||i?t:M,ref:Mte(p,k),target:c,"data-discover":!g&&a==="render"?"true":void 0});return S&&!g?w.createElement(w.Fragment,null,L,w.createElement(Tte,{page:N})):L});xr.displayName="Link";var It=w.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:r="",end:n=!1,style:i,to:l,viewTransition:o,children:c,...d},u){let f=Mv(l,{relative:d.relative}),x=Cc(),p=w.useContext(Nj),{navigator:v,basename:g}=w.useContext(pd),b=p!=null&&Ute(f)&&o===!0,j=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,N=x.pathname,S=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;a||(N=N.toLowerCase(),S=S?S.toLowerCase():null,j=j.toLowerCase()),S&&g&&(S=oh(S,g)||S);const k=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let A=N===j||!n&&N.startsWith(j)&&N.charAt(k)==="/",_=S!=null&&(S===j||!n&&S.startsWith(j)&&S.charAt(j.length)==="/"),M={isActive:A,isPending:_,isTransitioning:b},L=A?t:void 0,U;typeof r=="function"?U=r(M):U=[r,A?"active":null,_?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let z=typeof i=="function"?i(M):i;return w.createElement(xr,{...d,"aria-current":L,className:U,ref:u,style:z,to:l,viewTransition:o},typeof c=="function"?c(M):c)});It.displayName="NavLink";var Lte=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:a,reloadDocument:r,replace:n,state:i,method:l=C2,action:o,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:f,...x},p)=>{let v=Bte(),g=$te(o,{relative:d}),b=l.toLowerCase()==="get"?"get":"post",j=typeof o=="string"&&T$.test(o),N=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let k=S.nativeEvent.submitter,A=k?.getAttribute("formmethod")||l;v(k||S.currentTarget,{fetcherKey:t,method:A,navigate:a,replace:n,state:i,relative:d,preventScrollReset:u,viewTransition:f})};return w.createElement("form",{ref:p,method:b,action:g,onSubmit:r?c:N,...x,"data-discover":!j&&e==="render"?"true":void 0})});Lte.displayName="Form";function Ote(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E$(e){let t=w.useContext(bx);return Ps(t,Ote(e)),t}function Rte(e,{target:t,replace:a,state:r,preventScrollReset:n,relative:i,viewTransition:l}={}){let o=ti(),c=Cc(),d=Mv(e,{relative:i});return w.useCallback(u=>{if(pte(u,t)){u.preventDefault();let f=a!==void 0?a:I1(c)===I1(d);o(e,{replace:f,state:r,preventScrollReset:n,relative:i,viewTransition:l})}},[c,o,d,a,r,t,e,n,i,l])}var Fte=0,Ite=()=>`__${String(++Fte)}__`;function Bte(){let{router:e}=E$("useSubmit"),{basename:t}=w.useContext(pd),a=nte();return w.useCallback(async(r,n={})=>{let{action:i,method:l,encType:o,formData:c,body:d}=vte(r,t);if(n.navigate===!1){let u=n.fetcherKey||Ite();await e.fetch(u,a,n.action||i,{preventScrollReset:n.preventScrollReset,formData:c,body:d,formMethod:n.method||l,formEncType:n.encType||o,flushSync:n.flushSync})}else await e.navigate(n.action||i,{preventScrollReset:n.preventScrollReset,formData:c,body:d,formMethod:n.method||l,formEncType:n.encType||o,replace:n.replace,state:n.state,fromRouteId:a,flushSync:n.flushSync,viewTransition:n.viewTransition})},[e,t,a])}function $te(e,{relative:t}={}){let{basename:a}=w.useContext(pd),r=w.useContext(kc);Ps(r,"useFormAction must be used inside a RouteContext");let[n]=r.matches.slice(-1),i={...Mv(e||".",{relative:t})},l=Cc();if(e==null){i.search=l.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(u=>u==="")){o.delete("index"),c.filter(f=>f).forEach(f=>o.append("index",f));let u=o.toString();i.search=u?`?${u}`:""}}return(!e||e===".")&&n.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(i.pathname=i.pathname==="/"?a:Ju([a,i.pathname])),I1(i)}function Ute(e,{relative:t}={}){let a=w.useContext(w$);Ps(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=E$("useViewTransitionState"),n=Mv(e,{relative:t});if(!a.isTransitioning)return!1;let i=oh(a.currentLocation.pathname,r)||a.currentLocation.pathname,l=oh(a.nextLocation.pathname,r)||a.nextLocation.pathname;return z2(n.pathname,l)!=null||z2(n.pathname,i)!=null}var Cj=d$();const zte=(e,t,a,r)=>{const n=[a,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(n,"warn","react-i18next::",!0);H0(n[0])&&(n[0]=`react-i18next:: ${n[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...n):console?.warn&&console.warn(...n)},$7={},wk=(e,t,a,r)=>{H0(a)&&$7[a]||(H0(a)&&($7[a]=new Date),zte(e,t,a,r))},D$=(e,t)=>()=>{if(e.isInitialized)t();else{const a=()=>{setTimeout(()=>{e.off("initialized",a)},0),t()};e.on("initialized",a)}},jk=(e,t,a)=>{e.loadNamespaces(t,D$(e,a))},U7=(e,t,a,r)=>{if(H0(a)&&(a=[a]),e.options.preload&&e.options.preload.indexOf(t)>-1)return jk(e,a,r);a.forEach(n=>{e.options.ns.indexOf(n)<0&&e.options.ns.push(n)}),e.loadLanguages(t,D$(e,r))},Hte=(e,t,a={})=>!t.languages||!t.languages.length?(wk(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:a.lng,precheck:(r,n)=>{if(a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!n(r.isLanguageChangingTo,e))return!1}}),H0=e=>typeof e=="string",Vte=e=>typeof e=="object"&&e!==null,Wte=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,qte={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Gte=e=>qte[e],Kte=e=>e.replace(Wte,Gte);let Nk={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Kte};const Yte=(e={})=>{Nk={...Nk,...e}},Xte=()=>Nk;let M$;const Qte=e=>{M$=e},Jte=()=>M$,Zte={type:"3rdParty",init(e){Yte(e.options.react),Qte(e)}},P$=w.createContext();class eae{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(a=>{this.usedNamespaces[a]||(this.usedNamespaces[a]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const tae=(e,t)=>{const a=w.useRef();return w.useEffect(()=>{a.current=e},[e,t]),a.current},L$=(e,t,a,r)=>e.getFixedT(t,a,r),aae=(e,t,a,r)=>w.useCallback(L$(e,t,a,r),[e,t,a,r]),Et=(e,t={})=>{const{i18n:a}=t,{i18n:r,defaultNS:n}=w.useContext(P$)||{},i=a||r||Jte();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new eae),!i){wk(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const k=(_,M)=>H0(M)?M:Vte(M)&&H0(M.defaultValue)?M.defaultValue:Array.isArray(_)?_[_.length-1]:_,A=[k,{},!1];return A.t=k,A.i18n={},A.ready=!1,A}i.options.react?.wait&&wk(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...Xte(),...i.options.react,...t},{useSuspense:o,keyPrefix:c}=l;let d=n||i.options?.defaultNS;d=H0(d)?[d]:d||["translation"],i.reportNamespaces.addUsedNamespaces?.(d);const u=(i.isInitialized||i.initializedStoreOnce)&&d.every(k=>Hte(k,i,l)),f=aae(i,t.lng||null,l.nsMode==="fallback"?d:d[0],c),x=()=>f,p=()=>L$(i,t.lng||null,l.nsMode==="fallback"?d:d[0],c),[v,g]=w.useState(x);let b=d.join();t.lng&&(b=`${t.lng}${b}`);const j=tae(b),N=w.useRef(!0);w.useEffect(()=>{const{bindI18n:k,bindI18nStore:A}=l;N.current=!0,!u&&!o&&(t.lng?U7(i,t.lng,d,()=>{N.current&&g(p)}):jk(i,d,()=>{N.current&&g(p)})),u&&j&&j!==b&&N.current&&g(p);const _=()=>{N.current&&g(p)};return k&&i?.on(k,_),A&&i?.store.on(A,_),()=>{N.current=!1,i&&k&&k?.split(" ").forEach(M=>i.off(M,_)),A&&i&&A.split(" ").forEach(M=>i.store.off(M,_))}},[i,b]),w.useEffect(()=>{N.current&&u&&g(x)},[i,c,u]);const S=[v,i,u];if(S.t=v,S.i18n=i,S.ready=u,u||!u&&!o)return S;throw new Promise(k=>{t.lng?U7(i,t.lng,d,()=>k()):jk(i,d,()=>k())})};function rae({i18n:e,defaultNS:t,children:a}){const r=w.useMemo(()=>({i18n:e,defaultNS:t}),[e,t]);return w.createElement(P$.Provider,{value:r},a)}const sae="modulepreload",nae=function(e){return"/besouhoula/"+e},z7={},yi=function(t,a,r){let n=Promise.resolve();if(a&&a.length>0){let c=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=l?.nonce||l?.getAttribute("nonce");n=c(a.map(d=>{if(d=nae(d),d in z7)return;z7[d]=!0;const u=d.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const x=document.createElement("link");if(x.rel=u?"stylesheet":sae,u||(x.as="script"),x.crossOrigin="",x.href=d,o&&x.setAttribute("nonce",o),document.head.appendChild(x),u)return new Promise((p,v)=>{x.addEventListener("load",p),x.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return n.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Pv(e){return e+.5|0}const vf=(e,t,a)=>Math.max(Math.min(e,a),t);function Zg(e){return vf(Pv(e*2.55),0,255)}function kf(e){return vf(Pv(e*255),0,255)}function $u(e){return vf(Pv(e/2.55)/100,0,1)}function H7(e){return vf(Pv(e*100),0,100)}const ac={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Sk=[..."0123456789ABCDEF"],iae=e=>Sk[e&15],lae=e=>Sk[(e&240)>>4]+Sk[e&15],vy=e=>(e&240)>>4===(e&15),oae=e=>vy(e.r)&&vy(e.g)&&vy(e.b)&&vy(e.a);function cae(e){var t=e.length,a;return e[0]==="#"&&(t===4||t===5?a={r:255&ac[e[1]]*17,g:255&ac[e[2]]*17,b:255&ac[e[3]]*17,a:t===5?ac[e[4]]*17:255}:(t===7||t===9)&&(a={r:ac[e[1]]<<4|ac[e[2]],g:ac[e[3]]<<4|ac[e[4]],b:ac[e[5]]<<4|ac[e[6]],a:t===9?ac[e[7]]<<4|ac[e[8]]:255})),a}const dae=(e,t)=>e<255?t(e):"";function uae(e){var t=oae(e)?iae:lae;return e?"#"+t(e.r)+t(e.g)+t(e.b)+dae(e.a,t):void 0}const hae=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function O$(e,t,a){const r=t*Math.min(a,1-a),n=(i,l=(i+e/30)%12)=>a-r*Math.max(Math.min(l-3,9-l,1),-1);return[n(0),n(8),n(4)]}function fae(e,t,a){const r=(n,i=(n+e/60)%6)=>a-a*t*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function mae(e,t,a){const r=O$(e,1,.5);let n;for(t+a>1&&(n=1/(t+a),t*=n,a*=n),n=0;n<3;n++)r[n]*=1-t-a,r[n]+=t;return r}function pae(e,t,a,r,n){return e===n?(t-a)/r+(t<a?6:0):t===n?(a-e)/r+2:(e-t)/r+4}function G6(e){const a=e.r/255,r=e.g/255,n=e.b/255,i=Math.max(a,r,n),l=Math.min(a,r,n),o=(i+l)/2;let c,d,u;return i!==l&&(u=i-l,d=o>.5?u/(2-i-l):u/(i+l),c=pae(a,r,n,u,i),c=c*60+.5),[c|0,d||0,o]}function K6(e,t,a,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,a,r)).map(kf)}function Y6(e,t,a){return K6(O$,e,t,a)}function xae(e,t,a){return K6(mae,e,t,a)}function gae(e,t,a){return K6(fae,e,t,a)}function R$(e){return(e%360+360)%360}function vae(e){const t=hae.exec(e);let a=255,r;if(!t)return;t[5]!==r&&(a=t[6]?Zg(+t[5]):kf(+t[5]));const n=R$(+t[2]),i=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?r=xae(n,i,l):t[1]==="hsv"?r=gae(n,i,l):r=Y6(n,i,l),{r:r[0],g:r[1],b:r[2],a}}function bae(e,t){var a=G6(e);a[0]=R$(a[0]+t),a=Y6(a),e.r=a[0],e.g=a[1],e.b=a[2]}function yae(e){if(!e)return;const t=G6(e),a=t[0],r=H7(t[1]),n=H7(t[2]);return e.a<255?`hsla(${a}, ${r}%, ${n}%, ${$u(e.a)})`:`hsl(${a}, ${r}%, ${n}%)`}const V7={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},W7={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function wae(){const e={},t=Object.keys(W7),a=Object.keys(V7);let r,n,i,l,o;for(r=0;r<t.length;r++){for(l=o=t[r],n=0;n<a.length;n++)i=a[n],o=o.replace(i,V7[i]);i=parseInt(W7[l],16),e[o]=[i>>16&255,i>>8&255,i&255]}return e}let by;function jae(e){by||(by=wae(),by.transparent=[0,0,0,0]);const t=by[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Nae=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Sae(e){const t=Nae.exec(e);let a=255,r,n,i;if(t){if(t[7]!==r){const l=+t[7];a=t[8]?Zg(l):vf(l*255,0,255)}return r=+t[1],n=+t[3],i=+t[5],r=255&(t[2]?Zg(r):vf(r,0,255)),n=255&(t[4]?Zg(n):vf(n,0,255)),i=255&(t[6]?Zg(i):vf(i,0,255)),{r,g:n,b:i,a}}}function kae(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${$u(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const i5=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Np=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Cae(e,t,a){const r=Np($u(e.r)),n=Np($u(e.g)),i=Np($u(e.b));return{r:kf(i5(r+a*(Np($u(t.r))-r))),g:kf(i5(n+a*(Np($u(t.g))-n))),b:kf(i5(i+a*(Np($u(t.b))-i))),a:e.a+a*(t.a-e.a)}}function yy(e,t,a){if(e){let r=G6(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*a,t===0?360:1)),r=Y6(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function F$(e,t){return e&&Object.assign(t||{},e)}function q7(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=kf(e[3]))):(t=F$(e,{r:0,g:0,b:0,a:1}),t.a=kf(t.a)),t}function Aae(e){return e.charAt(0)==="r"?Sae(e):vae(e)}let I$=class kk{constructor(t){if(t instanceof kk)return t;const a=typeof t;let r;a==="object"?r=q7(t):a==="string"&&(r=cae(t)||jae(t)||Aae(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=F$(this._rgb);return t&&(t.a=$u(t.a)),t}set rgb(t){this._rgb=q7(t)}rgbString(){return this._valid?kae(this._rgb):void 0}hexString(){return this._valid?uae(this._rgb):void 0}hslString(){return this._valid?yae(this._rgb):void 0}mix(t,a){if(t){const r=this.rgb,n=t.rgb;let i;const l=a===i?.5:a,o=2*l-1,c=r.a-n.a,d=((o*c===-1?o:(o+c)/(1+o*c))+1)/2;i=1-d,r.r=255&d*r.r+i*n.r+.5,r.g=255&d*r.g+i*n.g+.5,r.b=255&d*r.b+i*n.b+.5,r.a=l*r.a+(1-l)*n.a,this.rgb=r}return this}interpolate(t,a){return t&&(this._rgb=Cae(this._rgb,t._rgb,a)),this}clone(){return new kk(this.rgb)}alpha(t){return this._rgb.a=kf(t),this}clearer(t){const a=this._rgb;return a.a*=1-t,this}greyscale(){const t=this._rgb,a=Pv(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=a,this}opaquer(t){const a=this._rgb;return a.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return yy(this._rgb,2,t),this}darken(t){return yy(this._rgb,2,-t),this}saturate(t){return yy(this._rgb,1,t),this}desaturate(t){return yy(this._rgb,1,-t),this}rotate(t){return bae(this._rgb,t),this}};/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ou(){}const _ae=(()=>{let e=0;return()=>e++})();function ur(e){return e==null}function Ts(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function gr(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Zs(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function ko(e,t){return Zs(e)?e:t}function Wa(e,t){return typeof e>"u"?t:e}const Tae=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,B$=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function ls(e,t,a){if(e&&typeof e.call=="function")return e.apply(a,t)}function zr(e,t,a,r){let n,i,l;if(Ts(e))for(i=e.length,n=0;n<i;n++)t.call(a,e[n],n);else if(gr(e))for(l=Object.keys(e),i=l.length,n=0;n<i;n++)t.call(a,e[l[n]],l[n])}function H2(e,t){let a,r,n,i;if(!e||!t||e.length!==t.length)return!1;for(a=0,r=e.length;a<r;++a)if(n=e[a],i=t[a],n.datasetIndex!==i.datasetIndex||n.index!==i.index)return!1;return!0}function V2(e){if(Ts(e))return e.map(V2);if(gr(e)){const t=Object.create(null),a=Object.keys(e),r=a.length;let n=0;for(;n<r;++n)t[a[n]]=V2(e[a[n]]);return t}return e}function $$(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Eae(e,t,a,r){if(!$$(e))return;const n=t[e],i=a[e];gr(n)&&gr(i)?B1(n,i,r):t[e]=V2(i)}function B1(e,t,a){const r=Ts(t)?t:[t],n=r.length;if(!gr(e))return e;a=a||{};const i=a.merger||Eae;let l;for(let o=0;o<n;++o){if(l=r[o],!gr(l))continue;const c=Object.keys(l);for(let d=0,u=c.length;d<u;++d)i(c[d],e,l,a)}return e}function c1(e,t){return B1(e,t,{merger:Dae})}function Dae(e,t,a){if(!$$(e))return;const r=t[e],n=a[e];gr(r)&&gr(n)?c1(r,n):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=V2(n))}const G7={"":e=>e,x:e=>e.x,y:e=>e.y};function Mae(e){const t=e.split("."),a=[];let r="";for(const n of t)r+=n,r.endsWith("\\")?r=r.slice(0,-1)+".":(a.push(r),r="");return a}function Pae(e){const t=Mae(e);return a=>{for(const r of t){if(r==="")break;a=a&&a[r]}return a}}function Tf(e,t){return(G7[t]||(G7[t]=Pae(t)))(e)}function X6(e){return e.charAt(0).toUpperCase()+e.slice(1)}const $1=e=>typeof e<"u",Ef=e=>typeof e=="function",K7=(e,t)=>{if(e.size!==t.size)return!1;for(const a of e)if(!t.has(a))return!1;return!0};function Lae(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Er=Math.PI,ms=2*Er,Oae=ms+Er,W2=Number.POSITIVE_INFINITY,Rae=Er/180,Nn=Er/2,w0=Er/4,Y7=Er*2/3,bf=Math.log10,Zd=Math.sign;function d1(e,t,a){return Math.abs(e-t)<a}function X7(e){const t=Math.round(e);e=d1(e,t,e/1e3)?t:e;const a=Math.pow(10,Math.floor(bf(e))),r=e/a;return(r<=1?1:r<=2?2:r<=5?5:10)*a}function Fae(e){const t=[],a=Math.sqrt(e);let r;for(r=1;r<a;r++)e%r===0&&(t.push(r),t.push(e/r));return a===(a|0)&&t.push(a),t.sort((n,i)=>n-i).pop(),t}function Iae(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function ex(e){return!Iae(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Bae(e,t){const a=Math.round(e);return a-t<=e&&a+t>=e}function U$(e,t,a){let r,n,i;for(r=0,n=e.length;r<n;r++)i=e[r][a],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function nd(e){return e*(Er/180)}function Q6(e){return e*(180/Er)}function Q7(e){if(!Zs(e))return;let t=1,a=0;for(;Math.round(e*t)/t!==e;)t*=10,a++;return a}function z$(e,t){const a=t.x-e.x,r=t.y-e.y,n=Math.sqrt(a*a+r*r);let i=Math.atan2(r,a);return i<-.5*Er&&(i+=ms),{angle:i,distance:n}}function Ck(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function $ae(e,t){return(e-t+Oae)%ms-Er}function rl(e){return(e%ms+ms)%ms}function U1(e,t,a,r){const n=rl(e),i=rl(t),l=rl(a),o=rl(i-n),c=rl(l-n),d=rl(n-i),u=rl(n-l);return n===i||n===l||r&&i===l||o>c&&d<u}function ji(e,t,a){return Math.max(t,Math.min(a,e))}function Uae(e){return ji(e,-32768,32767)}function Wu(e,t,a,r=1e-6){return e>=Math.min(t,a)-r&&e<=Math.max(t,a)+r}function J6(e,t,a){a=a||(l=>e[l]<t);let r=e.length-1,n=0,i;for(;r-n>1;)i=n+r>>1,a(i)?n=i:r=i;return{lo:n,hi:r}}const qu=(e,t,a,r)=>J6(e,a,r?n=>{const i=e[n][t];return i<a||i===a&&e[n+1][t]===a}:n=>e[n][t]<a),zae=(e,t,a)=>J6(e,a,r=>e[r][t]>=a);function Hae(e,t,a){let r=0,n=e.length;for(;r<n&&e[r]<t;)r++;for(;n>r&&e[n-1]>a;)n--;return r>0||n<e.length?e.slice(r,n):e}const H$=["push","pop","shift","splice","unshift"];function Vae(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),H$.forEach(a=>{const r="_onData"+X6(a),n=e[a];Object.defineProperty(e,a,{configurable:!0,enumerable:!1,value(...i){const l=n.apply(this,i);return e._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...i)}),l}})})}function J7(e,t){const a=e._chartjs;if(!a)return;const r=a.listeners,n=r.indexOf(t);n!==-1&&r.splice(n,1),!(r.length>0)&&(H$.forEach(i=>{delete e[i]}),delete e._chartjs)}function V$(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const W$=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function q$(e,t){let a=[],r=!1;return function(...n){a=n,r||(r=!0,W$.call(window,()=>{r=!1,e.apply(t,a)}))}}function Wae(e,t){let a;return function(...r){return t?(clearTimeout(a),a=setTimeout(e,t,r)):e.apply(this,r),t}}const Z6=e=>e==="start"?"left":e==="end"?"right":"center",el=(e,t,a)=>e==="start"?t:e==="end"?a:(t+a)/2,qae=(e,t,a,r)=>e===(r?"left":"right")?a:e==="center"?(t+a)/2:t;function G$(e,t,a){const r=t.length;let n=0,i=r;if(e._sorted){const{iScale:l,vScale:o,_parsed:c}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=l.axis,{min:f,max:x,minDefined:p,maxDefined:v}=l.getUserBounds();if(p){if(n=Math.min(qu(c,u,f).lo,a?r:qu(t,u,l.getPixelForValue(f)).lo),d){const g=c.slice(0,n+1).reverse().findIndex(b=>!ur(b[o.axis]));n-=Math.max(0,g)}n=ji(n,0,r-1)}if(v){let g=Math.max(qu(c,l.axis,x,!0).hi+1,a?0:qu(t,u,l.getPixelForValue(x),!0).hi+1);if(d){const b=c.slice(g-1).findIndex(j=>!ur(j[o.axis]));g+=Math.max(0,b)}i=ji(g,n,r)-n}else i=r-n}return{start:n,count:i}}function K$(e){const{xScale:t,yScale:a,_scaleRanges:r}=e,n={xmin:t.min,xmax:t.max,ymin:a.min,ymax:a.max};if(!r)return e._scaleRanges=n,!0;const i=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==a.min||r.ymax!==a.max;return Object.assign(r,n),i}const wy=e=>e===0||e===1,Z7=(e,t,a)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*ms/a)),eD=(e,t,a)=>Math.pow(2,-10*e)*Math.sin((e-t)*ms/a)+1,u1={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Nn)+1,easeOutSine:e=>Math.sin(e*Nn),easeInOutSine:e=>-.5*(Math.cos(Er*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>wy(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>wy(e)?e:Z7(e,.075,.3),easeOutElastic:e=>wy(e)?e:eD(e,.075,.3),easeInOutElastic(e){return wy(e)?e:e<.5?.5*Z7(e*2,.1125,.45):.5+.5*eD(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-u1.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?u1.easeInBounce(e*2)*.5:u1.easeOutBounce(e*2-1)*.5+.5};function eA(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function tD(e){return eA(e)?e:new I$(e)}function l5(e){return eA(e)?e:new I$(e).saturate(.5).darken(.1).hexString()}const Gae=["x","y","borderWidth","radius","tension"],Kae=["color","borderColor","backgroundColor"];function Yae(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Kae},numbers:{type:"number",properties:Gae}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Xae(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const aD=new Map;function Qae(e,t){t=t||{};const a=e+JSON.stringify(t);let r=aD.get(a);return r||(r=new Intl.NumberFormat(e,t),aD.set(a,r)),r}function Lv(e,t,a){return Qae(t,a).format(e)}const Y$={values(e){return Ts(e)?e:""+e},numeric(e,t,a){if(e===0)return"0";const r=this.chart.options.locale;let n,i=e;if(a.length>1){const d=Math.max(Math.abs(a[0].value),Math.abs(a[a.length-1].value));(d<1e-4||d>1e15)&&(n="scientific"),i=Jae(e,a)}const l=bf(Math.abs(i)),o=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),c={notation:n,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(c,this.options.ticks.format),Lv(e,r,c)},logarithmic(e,t,a){if(e===0)return"0";const r=a[t].significand||e/Math.pow(10,Math.floor(bf(e)));return[1,2,3,5,10,15].includes(r)||t>.8*a.length?Y$.numeric.call(this,e,t,a):""}};function Jae(e,t){let a=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(a)>=1&&e!==Math.floor(e)&&(a=e-Math.floor(e)),a}var Aj={formatters:Y$};function Zae(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,a)=>a.lineWidth,tickColor:(t,a)=>a.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Aj.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const lm=Object.create(null),Ak=Object.create(null);function h1(e,t){if(!t)return e;const a=t.split(".");for(let r=0,n=a.length;r<n;++r){const i=a[r];e=e[i]||(e[i]=Object.create(null))}return e}function o5(e,t,a){return typeof t=="string"?B1(h1(e,t),a):B1(h1(e,""),t)}class ere{constructor(t,a){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,n)=>l5(n.backgroundColor),this.hoverBorderColor=(r,n)=>l5(n.borderColor),this.hoverColor=(r,n)=>l5(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(a)}set(t,a){return o5(this,t,a)}get(t){return h1(this,t)}describe(t,a){return o5(Ak,t,a)}override(t,a){return o5(lm,t,a)}route(t,a,r,n){const i=h1(this,t),l=h1(this,r),o="_"+a;Object.defineProperties(i,{[o]:{value:i[a],writable:!0},[a]:{enumerable:!0,get(){const c=this[o],d=l[n];return gr(c)?Object.assign({},d,c):Wa(c,d)},set(c){this[o]=c}}})}apply(t){t.forEach(a=>a(this))}}var Es=new ere({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Yae,Xae,Zae]);function tre(e){return!e||ur(e.size)||ur(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function q2(e,t,a,r,n){let i=t[n];return i||(i=t[n]=e.measureText(n).width,a.push(n)),i>r&&(r=i),r}function are(e,t,a,r){r=r||{};let n=r.data=r.data||{},i=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(n=r.data={},i=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let l=0;const o=a.length;let c,d,u,f,x;for(c=0;c<o;c++)if(f=a[c],f!=null&&!Ts(f))l=q2(e,n,i,l,f);else if(Ts(f))for(d=0,u=f.length;d<u;d++)x=f[d],x!=null&&!Ts(x)&&(l=q2(e,n,i,l,x));e.restore();const p=i.length/2;if(p>a.length){for(c=0;c<p;c++)delete n[i[c]];i.splice(0,p)}return l}function j0(e,t,a){const r=e.currentDevicePixelRatio,n=a!==0?Math.max(a/2,.5):0;return Math.round((t-n)*r)/r+n}function rD(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function _k(e,t,a,r){X$(e,t,a,r,null)}function X$(e,t,a,r,n){let i,l,o,c,d,u,f,x;const p=t.pointStyle,v=t.rotation,g=t.radius;let b=(v||0)*Rae;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(a,r),e.rotate(b),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),p){default:n?e.ellipse(a,r,n/2,g,0,0,ms):e.arc(a,r,g,0,ms),e.closePath();break;case"triangle":u=n?n/2:g,e.moveTo(a+Math.sin(b)*u,r-Math.cos(b)*g),b+=Y7,e.lineTo(a+Math.sin(b)*u,r-Math.cos(b)*g),b+=Y7,e.lineTo(a+Math.sin(b)*u,r-Math.cos(b)*g),e.closePath();break;case"rectRounded":d=g*.516,c=g-d,l=Math.cos(b+w0)*c,f=Math.cos(b+w0)*(n?n/2-d:c),o=Math.sin(b+w0)*c,x=Math.sin(b+w0)*(n?n/2-d:c),e.arc(a-f,r-o,d,b-Er,b-Nn),e.arc(a+x,r-l,d,b-Nn,b),e.arc(a+f,r+o,d,b,b+Nn),e.arc(a-x,r+l,d,b+Nn,b+Er),e.closePath();break;case"rect":if(!v){c=Math.SQRT1_2*g,u=n?n/2:c,e.rect(a-u,r-c,2*u,2*c);break}b+=w0;case"rectRot":f=Math.cos(b)*(n?n/2:g),l=Math.cos(b)*g,o=Math.sin(b)*g,x=Math.sin(b)*(n?n/2:g),e.moveTo(a-f,r-o),e.lineTo(a+x,r-l),e.lineTo(a+f,r+o),e.lineTo(a-x,r+l),e.closePath();break;case"crossRot":b+=w0;case"cross":f=Math.cos(b)*(n?n/2:g),l=Math.cos(b)*g,o=Math.sin(b)*g,x=Math.sin(b)*(n?n/2:g),e.moveTo(a-f,r-o),e.lineTo(a+f,r+o),e.moveTo(a+x,r-l),e.lineTo(a-x,r+l);break;case"star":f=Math.cos(b)*(n?n/2:g),l=Math.cos(b)*g,o=Math.sin(b)*g,x=Math.sin(b)*(n?n/2:g),e.moveTo(a-f,r-o),e.lineTo(a+f,r+o),e.moveTo(a+x,r-l),e.lineTo(a-x,r+l),b+=w0,f=Math.cos(b)*(n?n/2:g),l=Math.cos(b)*g,o=Math.sin(b)*g,x=Math.sin(b)*(n?n/2:g),e.moveTo(a-f,r-o),e.lineTo(a+f,r+o),e.moveTo(a+x,r-l),e.lineTo(a-x,r+l);break;case"line":l=n?n/2:Math.cos(b)*g,o=Math.sin(b)*g,e.moveTo(a-l,r-o),e.lineTo(a+l,r+o);break;case"dash":e.moveTo(a,r),e.lineTo(a+Math.cos(b)*(n?n/2:g),r+Math.sin(b)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Gu(e,t,a){return a=a||.5,!t||e&&e.x>t.left-a&&e.x<t.right+a&&e.y>t.top-a&&e.y<t.bottom+a}function _j(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Tj(e){e.restore()}function rre(e,t,a,r,n){if(!t)return e.lineTo(a.x,a.y);if(n==="middle"){const i=(t.x+a.x)/2;e.lineTo(i,t.y),e.lineTo(i,a.y)}else n==="after"!=!!r?e.lineTo(t.x,a.y):e.lineTo(a.x,t.y);e.lineTo(a.x,a.y)}function sre(e,t,a,r){if(!t)return e.lineTo(a.x,a.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?a.cp2x:a.cp1x,r?a.cp2y:a.cp1y,a.x,a.y)}function nre(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ur(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function ire(e,t,a,r,n){if(n.strikethrough||n.underline){const i=e.measureText(r),l=t-i.actualBoundingBoxLeft,o=t+i.actualBoundingBoxRight,c=a-i.actualBoundingBoxAscent,d=a+i.actualBoundingBoxDescent,u=n.strikethrough?(c+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=n.decorationWidth||2,e.moveTo(l,u),e.lineTo(o,u),e.stroke()}}function lre(e,t){const a=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=a}function om(e,t,a,r,n,i={}){const l=Ts(t)?t:[t],o=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(e.save(),e.font=n.string,nre(e,i),c=0;c<l.length;++c)d=l[c],i.backdrop&&lre(e,i.backdrop),o&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),ur(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(d,a,r,i.maxWidth)),e.fillText(d,a,r,i.maxWidth),ire(e,a,r,d,i),r+=Number(n.lineHeight);e.restore()}function z1(e,t){const{x:a,y:r,w:n,h:i,radius:l}=t;e.arc(a+l.topLeft,r+l.topLeft,l.topLeft,1.5*Er,Er,!0),e.lineTo(a,r+i-l.bottomLeft),e.arc(a+l.bottomLeft,r+i-l.bottomLeft,l.bottomLeft,Er,Nn,!0),e.lineTo(a+n-l.bottomRight,r+i),e.arc(a+n-l.bottomRight,r+i-l.bottomRight,l.bottomRight,Nn,0,!0),e.lineTo(a+n,r+l.topRight),e.arc(a+n-l.topRight,r+l.topRight,l.topRight,0,-Nn,!0),e.lineTo(a+l.topLeft,r)}const ore=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,cre=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function dre(e,t){const a=(""+e).match(ore);if(!a||a[1]==="normal")return t*1.2;switch(e=+a[2],a[3]){case"px":return e;case"%":e/=100;break}return t*e}const ure=e=>+e||0;function tA(e,t){const a={},r=gr(t),n=r?Object.keys(t):t,i=gr(e)?r?l=>Wa(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of n)a[l]=ure(i(l));return a}function Q$(e){return tA(e,{top:"y",right:"x",bottom:"y",left:"x"})}function V0(e){return tA(e,["topLeft","topRight","bottomLeft","bottomRight"])}function hl(e){const t=Q$(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Jn(e,t){e=e||{},t=t||Es.font;let a=Wa(e.size,t.size);typeof a=="string"&&(a=parseInt(a,10));let r=Wa(e.style,t.style);r&&!(""+r).match(cre)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const n={family:Wa(e.family,t.family),lineHeight:dre(Wa(e.lineHeight,t.lineHeight),a),size:a,style:r,weight:Wa(e.weight,t.weight),string:""};return n.string=tre(n),n}function e1(e,t,a,r){let n,i,l;for(n=0,i=e.length;n<i;++n)if(l=e[n],l!==void 0&&l!==void 0)return l}function hre(e,t,a){const{min:r,max:n}=e,i=B$(t,(n-r)/2),l=(o,c)=>a&&o===0?0:o+c;return{min:l(r,-Math.abs(i)),max:l(n,i)}}function Uf(e,t){return Object.assign(Object.create(e),t)}function aA(e,t=[""],a,r,n=()=>e[0]){const i=a||e;typeof r>"u"&&(r=tU("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:r,_getTarget:n,override:o=>aA([o,...e],t,i,r)};return new Proxy(l,{deleteProperty(o,c){return delete o[c],delete o._keys,delete e[0][c],!0},get(o,c){return Z$(o,c,()=>yre(c,t,e,o))},getOwnPropertyDescriptor(o,c){return Reflect.getOwnPropertyDescriptor(o._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(o,c){return nD(o).includes(c)},ownKeys(o){return nD(o)},set(o,c,d){const u=o._storage||(o._storage=n());return o[c]=u[c]=d,delete o._keys,!0}})}function tx(e,t,a,r){const n={_cacheable:!1,_proxy:e,_context:t,_subProxy:a,_stack:new Set,_descriptors:J$(e,r),setContext:i=>tx(e,i,a,r),override:i=>tx(e.override(i),t,a,r)};return new Proxy(n,{deleteProperty(i,l){return delete i[l],delete e[l],!0},get(i,l,o){return Z$(i,l,()=>mre(i,l,o))},getOwnPropertyDescriptor(i,l){return i._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(i,l,o){return e[l]=o,delete i[l],!0}})}function J$(e,t={scriptable:!0,indexable:!0}){const{_scriptable:a=t.scriptable,_indexable:r=t.indexable,_allKeys:n=t.allKeys}=e;return{allKeys:n,scriptable:a,indexable:r,isScriptable:Ef(a)?a:()=>a,isIndexable:Ef(r)?r:()=>r}}const fre=(e,t)=>e?e+X6(t):t,rA=(e,t)=>gr(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Z$(e,t,a){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=a();return e[t]=r,r}function mre(e,t,a){const{_proxy:r,_context:n,_subProxy:i,_descriptors:l}=e;let o=r[t];return Ef(o)&&l.isScriptable(t)&&(o=pre(t,o,e,a)),Ts(o)&&o.length&&(o=xre(t,o,e,l.isIndexable)),rA(t,o)&&(o=tx(o,n,i&&i[t],l)),o}function pre(e,t,a,r){const{_proxy:n,_context:i,_subProxy:l,_stack:o}=a;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let c=t(i,l||r);return o.delete(e),rA(e,c)&&(c=sA(n._scopes,n,e,c)),c}function xre(e,t,a,r){const{_proxy:n,_context:i,_subProxy:l,_descriptors:o}=a;if(typeof i.index<"u"&&r(e))return t[i.index%t.length];if(gr(t[0])){const c=t,d=n._scopes.filter(u=>u!==c);t=[];for(const u of c){const f=sA(d,n,e,u);t.push(tx(f,i,l&&l[e],o))}}return t}function eU(e,t,a){return Ef(e)?e(t,a):e}const gre=(e,t)=>e===!0?t:typeof e=="string"?Tf(t,e):void 0;function vre(e,t,a,r,n){for(const i of t){const l=gre(a,i);if(l){e.add(l);const o=eU(l._fallback,a,n);if(typeof o<"u"&&o!==a&&o!==r)return o}else if(l===!1&&typeof r<"u"&&a!==r)return null}return!1}function sA(e,t,a,r){const n=t._rootScopes,i=eU(t._fallback,a,r),l=[...e,...n],o=new Set;o.add(r);let c=sD(o,l,a,i||a,r);return c===null||typeof i<"u"&&i!==a&&(c=sD(o,l,i,c,r),c===null)?!1:aA(Array.from(o),[""],n,i,()=>bre(t,a,r))}function sD(e,t,a,r,n){for(;a;)a=vre(e,t,a,r,n);return a}function bre(e,t,a){const r=e._getTarget();t in r||(r[t]={});const n=r[t];return Ts(n)&&gr(a)?a:n||{}}function yre(e,t,a,r){let n;for(const i of t)if(n=tU(fre(i,e),a),typeof n<"u")return rA(e,n)?sA(a,r,e,n):n}function tU(e,t){for(const a of t){if(!a)continue;const r=a[e];if(typeof r<"u")return r}}function nD(e){let t=e._keys;return t||(t=e._keys=wre(e._scopes)),t}function wre(e){const t=new Set;for(const a of e)for(const r of Object.keys(a).filter(n=>!n.startsWith("_")))t.add(r);return Array.from(t)}function aU(e,t,a,r){const{iScale:n}=e,{key:i="r"}=this._parsing,l=new Array(r);let o,c,d,u;for(o=0,c=r;o<c;++o)d=o+a,u=t[d],l[o]={r:n.parse(Tf(u,i),d)};return l}const jre=Number.EPSILON||1e-14,ax=(e,t)=>t<e.length&&!e[t].skip&&e[t],rU=e=>e==="x"?"y":"x";function Nre(e,t,a,r){const n=e.skip?t:e,i=t,l=a.skip?t:a,o=Ck(i,n),c=Ck(l,i);let d=o/(o+c),u=c/(o+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const f=r*d,x=r*u;return{previous:{x:i.x-f*(l.x-n.x),y:i.y-f*(l.y-n.y)},next:{x:i.x+x*(l.x-n.x),y:i.y+x*(l.y-n.y)}}}function Sre(e,t,a){const r=e.length;let n,i,l,o,c,d=ax(e,0);for(let u=0;u<r-1;++u)if(c=d,d=ax(e,u+1),!(!c||!d)){if(d1(t[u],0,jre)){a[u]=a[u+1]=0;continue}n=a[u]/t[u],i=a[u+1]/t[u],o=Math.pow(n,2)+Math.pow(i,2),!(o<=9)&&(l=3/Math.sqrt(o),a[u]=n*l*t[u],a[u+1]=i*l*t[u])}}function kre(e,t,a="x"){const r=rU(a),n=e.length;let i,l,o,c=ax(e,0);for(let d=0;d<n;++d){if(l=o,o=c,c=ax(e,d+1),!o)continue;const u=o[a],f=o[r];l&&(i=(u-l[a])/3,o[`cp1${a}`]=u-i,o[`cp1${r}`]=f-i*t[d]),c&&(i=(c[a]-u)/3,o[`cp2${a}`]=u+i,o[`cp2${r}`]=f+i*t[d])}}function Cre(e,t="x"){const a=rU(t),r=e.length,n=Array(r).fill(0),i=Array(r);let l,o,c,d=ax(e,0);for(l=0;l<r;++l)if(o=c,c=d,d=ax(e,l+1),!!c){if(d){const u=d[t]-c[t];n[l]=u!==0?(d[a]-c[a])/u:0}i[l]=o?d?Zd(n[l-1])!==Zd(n[l])?0:(n[l-1]+n[l])/2:n[l-1]:n[l]}Sre(e,n,i),kre(e,i,t)}function jy(e,t,a){return Math.max(Math.min(e,a),t)}function Are(e,t){let a,r,n,i,l,o=Gu(e[0],t);for(a=0,r=e.length;a<r;++a)l=i,i=o,o=a<r-1&&Gu(e[a+1],t),i&&(n=e[a],l&&(n.cp1x=jy(n.cp1x,t.left,t.right),n.cp1y=jy(n.cp1y,t.top,t.bottom)),o&&(n.cp2x=jy(n.cp2x,t.left,t.right),n.cp2y=jy(n.cp2y,t.top,t.bottom)))}function _re(e,t,a,r,n){let i,l,o,c;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")Cre(e,n);else{let d=r?e[e.length-1]:e[0];for(i=0,l=e.length;i<l;++i)o=e[i],c=Nre(d,o,e[Math.min(i+1,l-(r?0:1))%l],t.tension),o.cp1x=c.previous.x,o.cp1y=c.previous.y,o.cp2x=c.next.x,o.cp2y=c.next.y,d=o}t.capBezierPoints&&Are(e,a)}function nA(){return typeof window<"u"&&typeof document<"u"}function iA(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function G2(e,t,a){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[a])):r=e,r}const Ej=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Tre(e,t){return Ej(e).getPropertyValue(t)}const Ere=["top","right","bottom","left"];function W0(e,t,a){const r={};a=a?"-"+a:"";for(let n=0;n<4;n++){const i=Ere[n];r[i]=parseFloat(e[t+"-"+i+a])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Dre=(e,t,a)=>(e>0||t>0)&&(!a||!a.shadowRoot);function Mre(e,t){const a=e.touches,r=a&&a.length?a[0]:e,{offsetX:n,offsetY:i}=r;let l=!1,o,c;if(Dre(n,i,e.target))o=n,c=i;else{const d=t.getBoundingClientRect();o=r.clientX-d.left,c=r.clientY-d.top,l=!0}return{x:o,y:c,box:l}}function A0(e,t){if("native"in e)return e;const{canvas:a,currentDevicePixelRatio:r}=t,n=Ej(a),i=n.boxSizing==="border-box",l=W0(n,"padding"),o=W0(n,"border","width"),{x:c,y:d,box:u}=Mre(e,a),f=l.left+(u&&o.left),x=l.top+(u&&o.top);let{width:p,height:v}=t;return i&&(p-=l.width+o.width,v-=l.height+o.height),{x:Math.round((c-f)/p*a.width/r),y:Math.round((d-x)/v*a.height/r)}}function Pre(e,t,a){let r,n;if(t===void 0||a===void 0){const i=e&&iA(e);if(!i)t=e.clientWidth,a=e.clientHeight;else{const l=i.getBoundingClientRect(),o=Ej(i),c=W0(o,"border","width"),d=W0(o,"padding");t=l.width-d.width-c.width,a=l.height-d.height-c.height,r=G2(o.maxWidth,i,"clientWidth"),n=G2(o.maxHeight,i,"clientHeight")}}return{width:t,height:a,maxWidth:r||W2,maxHeight:n||W2}}const Ny=e=>Math.round(e*10)/10;function Lre(e,t,a,r){const n=Ej(e),i=W0(n,"margin"),l=G2(n.maxWidth,e,"clientWidth")||W2,o=G2(n.maxHeight,e,"clientHeight")||W2,c=Pre(e,t,a);let{width:d,height:u}=c;if(n.boxSizing==="content-box"){const x=W0(n,"border","width"),p=W0(n,"padding");d-=p.width+x.width,u-=p.height+x.height}return d=Math.max(0,d-i.width),u=Math.max(0,r?d/r:u-i.height),d=Ny(Math.min(d,l,c.maxWidth)),u=Ny(Math.min(u,o,c.maxHeight)),d&&!u&&(u=Ny(d/2)),(t!==void 0||a!==void 0)&&r&&c.height&&u>c.height&&(u=c.height,d=Ny(Math.floor(u*r))),{width:d,height:u}}function iD(e,t,a){const r=t||1,n=Math.floor(e.height*r),i=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(a||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||l.height!==n||l.width!==i?(e.currentDevicePixelRatio=r,l.height=n,l.width=i,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Ore=(function(){let e=!1;try{const t={get passive(){return e=!0,!1}};nA()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e})();function lD(e,t){const a=Tre(e,t),r=a&&a.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function _0(e,t,a,r){return{x:e.x+a*(t.x-e.x),y:e.y+a*(t.y-e.y)}}function Rre(e,t,a,r){return{x:e.x+a*(t.x-e.x),y:r==="middle"?a<.5?e.y:t.y:r==="after"?a<1?e.y:t.y:a>0?t.y:e.y}}function Fre(e,t,a,r){const n={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},l=_0(e,n,a),o=_0(n,i,a),c=_0(i,t,a),d=_0(l,o,a),u=_0(o,c,a);return _0(d,u,a)}const Ire=function(e,t){return{x(a){return e+e+t-a},setWidth(a){t=a},textAlign(a){return a==="center"?a:a==="right"?"left":"right"},xPlus(a,r){return a-r},leftForLtr(a,r){return a-r}}},Bre=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Wp(e,t,a){return e?Ire(t,a):Bre()}function sU(e,t){let a,r;(t==="ltr"||t==="rtl")&&(a=e.canvas.style,r=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",t,"important"),e.prevTextDirection=r)}function nU(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function iU(e){return e==="angle"?{between:U1,compare:$ae,normalize:rl}:{between:Wu,compare:(t,a)=>t-a,normalize:t=>t}}function oD({start:e,end:t,count:a,loop:r,style:n}){return{start:e%a,end:t%a,loop:r&&(t-e+1)%a===0,style:n}}function $re(e,t,a){const{property:r,start:n,end:i}=a,{between:l,normalize:o}=iU(r),c=t.length;let{start:d,end:u,loop:f}=e,x,p;if(f){for(d+=c,u+=c,x=0,p=c;x<p&&l(o(t[d%c][r]),n,i);++x)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:f,style:e.style}}function lU(e,t,a){if(!a)return[e];const{property:r,start:n,end:i}=a,l=t.length,{compare:o,between:c,normalize:d}=iU(r),{start:u,end:f,loop:x,style:p}=$re(e,t,a),v=[];let g=!1,b=null,j,N,S;const k=()=>c(n,S,j)&&o(n,S)!==0,A=()=>o(i,j)===0||c(i,S,j),_=()=>g||k(),M=()=>!g||A();for(let L=u,U=u;L<=f;++L)N=t[L%l],!N.skip&&(j=d(N[r]),j!==S&&(g=c(j,n,i),b===null&&_()&&(b=o(j,n)===0?L:U),b!==null&&M()&&(v.push(oD({start:b,end:L,loop:x,count:l,style:p})),b=null),U=L,S=j));return b!==null&&v.push(oD({start:b,end:f,loop:x,count:l,style:p})),v}function oU(e,t){const a=[],r=e.segments;for(let n=0;n<r.length;n++){const i=lU(r[n],e.points,t);i.length&&a.push(...i)}return a}function Ure(e,t,a,r){let n=0,i=t-1;if(a&&!r)for(;n<t&&!e[n].skip;)n++;for(;n<t&&e[n].skip;)n++;for(n%=t,a&&(i+=n);i>n&&e[i%t].skip;)i--;return i%=t,{start:n,end:i}}function zre(e,t,a,r){const n=e.length,i=[];let l=t,o=e[t],c;for(c=t+1;c<=a;++c){const d=e[c%n];d.skip||d.stop?o.skip||(r=!1,i.push({start:t%n,end:(c-1)%n,loop:r}),t=l=d.stop?c:null):(l=c,o.skip&&(t=c)),o=d}return l!==null&&i.push({start:t%n,end:l%n,loop:r}),i}function Hre(e,t){const a=e.points,r=e.options.spanGaps,n=a.length;if(!n)return[];const i=!!e._loop,{start:l,end:o}=Ure(a,n,i,r);if(r===!0)return cD(e,[{start:l,end:o,loop:i}],a,t);const c=o<l?o+n:o,d=!!e._fullLoop&&l===0&&o===n-1;return cD(e,zre(a,l,c,d),a,t)}function cD(e,t,a,r){return!r||!r.setContext||!a?t:Vre(e,t,a,r)}function Vre(e,t,a,r){const n=e._chart.getContext(),i=dD(e.options),{_datasetIndex:l,options:{spanGaps:o}}=e,c=a.length,d=[];let u=i,f=t[0].start,x=f;function p(v,g,b,j){const N=o?-1:1;if(v!==g){for(v+=c;a[v%c].skip;)v-=N;for(;a[g%c].skip;)g+=N;v%c!==g%c&&(d.push({start:v%c,end:g%c,loop:b,style:j}),u=j,f=g%c)}}for(const v of t){f=o?f:v.start;let g=a[f%c],b;for(x=f+1;x<=v.end;x++){const j=a[x%c];b=dD(r.setContext(Uf(n,{type:"segment",p0:g,p1:j,p0DataIndex:(x-1)%c,p1DataIndex:x%c,datasetIndex:l}))),Wre(b,u)&&p(f,x-1,v.loop,u),g=j,u=b}f<x-1&&p(f,x-1,v.loop,u)}return d}function dD(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Wre(e,t){if(!t)return!1;const a=[],r=function(n,i){return eA(i)?(a.includes(i)||a.push(i),a.indexOf(i)):i};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function Sy(e,t,a){return e.options.clip?e[a]:t[a]}function qre(e,t){const{xScale:a,yScale:r}=e;return a&&r?{left:Sy(a,t,"left"),right:Sy(a,t,"right"),top:Sy(r,t,"top"),bottom:Sy(r,t,"bottom")}:t}function cU(e,t){const a=t._clip;if(a.disabled)return!1;const r=qre(t,e.chartArea);return{left:a.left===!1?0:r.left-(a.left===!0?0:a.left),right:a.right===!1?e.width:r.right+(a.right===!0?0:a.right),top:a.top===!1?0:r.top-(a.top===!0?0:a.top),bottom:a.bottom===!1?e.height:r.bottom+(a.bottom===!0?0:a.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Gre{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,a,r,n){const i=a.listeners[n],l=a.duration;i.forEach(o=>o({chart:t,initial:a.initial,numSteps:l,currentStep:Math.min(r-a.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=W$.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let a=0;this._charts.forEach((r,n)=>{if(!r.running||!r.items.length)return;const i=r.items;let l=i.length-1,o=!1,c;for(;l>=0;--l)c=i[l],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(t),o=!0):(i[l]=i[i.length-1],i.pop());o&&(n.draw(),this._notify(n,r,t,"progress")),i.length||(r.running=!1,this._notify(n,r,t,"complete"),r.initial=!1),a+=i.length}),this._lastDate=t,a===0&&(this._running=!1)}_getAnims(t){const a=this._charts;let r=a.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},a.set(t,r)),r}listen(t,a,r){this._getAnims(t).listeners[a].push(r)}add(t,a){!a||!a.length||this._getAnims(t).items.push(...a)}has(t){return this._getAnims(t).items.length>0}start(t){const a=this._charts.get(t);a&&(a.running=!0,a.start=Date.now(),a.duration=a.items.reduce((r,n)=>Math.max(r,n._duration),0),this._refresh())}running(t){if(!this._running)return!1;const a=this._charts.get(t);return!(!a||!a.running||!a.items.length)}stop(t){const a=this._charts.get(t);if(!a||!a.items.length)return;const r=a.items;let n=r.length-1;for(;n>=0;--n)r[n].cancel();a.items=[],this._notify(t,a,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Iu=new Gre;const uD="transparent",Kre={boolean(e,t,a){return a>.5?t:e},color(e,t,a){const r=tD(e||uD),n=r.valid&&tD(t||uD);return n&&n.valid?n.mix(r,a).hexString():t},number(e,t,a){return e+(t-e)*a}};class Yre{constructor(t,a,r,n){const i=a[r];n=e1([t.to,n,i,t.from]);const l=e1([t.from,i,n]);this._active=!0,this._fn=t.fn||Kre[t.type||typeof l],this._easing=u1[t.easing]||u1.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=a,this._prop=r,this._from=l,this._to=n,this._promises=void 0}active(){return this._active}update(t,a,r){if(this._active){this._notify(!1);const n=this._target[this._prop],i=r-this._start,l=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=e1([t.to,a,n,t.from]),this._from=e1([t.from,n,a])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const a=t-this._start,r=this._duration,n=this._prop,i=this._from,l=this._loop,o=this._to;let c;if(this._active=i!==o&&(l||a<r),!this._active){this._target[n]=o,this._notify(!0);return}if(a<0){this._target[n]=i;return}c=a/r%2,c=l&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[n]=this._fn(i,o,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((a,r)=>{t.push({res:a,rej:r})})}_notify(t){const a=t?"res":"rej",r=this._promises||[];for(let n=0;n<r.length;n++)r[n][a]()}}class dU{constructor(t,a){this._chart=t,this._properties=new Map,this.configure(a)}configure(t){if(!gr(t))return;const a=Object.keys(Es.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(n=>{const i=t[n];if(!gr(i))return;const l={};for(const o of a)l[o]=i[o];(Ts(i.properties)&&i.properties||[n]).forEach(o=>{(o===n||!r.has(o))&&r.set(o,l)})})}_animateOptions(t,a){const r=a.options,n=Qre(t,r);if(!n)return[];const i=this._createAnimations(n,r);return r.$shared&&Xre(t.options.$animations,r).then(()=>{t.options=r},()=>{}),i}_createAnimations(t,a){const r=this._properties,n=[],i=t.$animations||(t.$animations={}),l=Object.keys(a),o=Date.now();let c;for(c=l.length-1;c>=0;--c){const d=l[c];if(d.charAt(0)==="$")continue;if(d==="options"){n.push(...this._animateOptions(t,a));continue}const u=a[d];let f=i[d];const x=r.get(d);if(f)if(x&&f.active()){f.update(x,u,o);continue}else f.cancel();if(!x||!x.duration){t[d]=u;continue}i[d]=f=new Yre(x,t,d,u),n.push(f)}return n}update(t,a){if(this._properties.size===0){Object.assign(t,a);return}const r=this._createAnimations(t,a);if(r.length)return Iu.add(this._chart,r),!0}}function Xre(e,t){const a=[],r=Object.keys(t);for(let n=0;n<r.length;n++){const i=e[r[n]];i&&i.active()&&a.push(i.wait())}return Promise.all(a)}function Qre(e,t){if(!t)return;let a=e.options;if(!a){e.options=t;return}return a.$shared&&(e.options=a=Object.assign({},a,{$shared:!1,$animations:{}})),a}function hD(e,t){const a=e&&e.options||{},r=a.reverse,n=a.min===void 0?t:0,i=a.max===void 0?t:0;return{start:r?i:n,end:r?n:i}}function Jre(e,t,a){if(a===!1)return!1;const r=hD(e,a),n=hD(t,a);return{top:n.end,right:r.end,bottom:n.start,left:r.start}}function Zre(e){let t,a,r,n;return gr(e)?(t=e.top,a=e.right,r=e.bottom,n=e.left):t=a=r=n=e,{top:t,right:a,bottom:r,left:n,disabled:e===!1}}function uU(e,t){const a=[],r=e._getSortedDatasetMetas(t);let n,i;for(n=0,i=r.length;n<i;++n)a.push(r[n].index);return a}function fD(e,t,a,r={}){const n=e.keys,i=r.mode==="single";let l,o,c,d;if(t===null)return;let u=!1;for(l=0,o=n.length;l<o;++l){if(c=+n[l],c===a){if(u=!0,r.all)continue;break}d=e.values[c],Zs(d)&&(i||t===0||Zd(t)===Zd(d))&&(t+=d)}return!u&&!r.all?0:t}function ese(e,t){const{iScale:a,vScale:r}=t,n=a.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",l=Object.keys(e),o=new Array(l.length);let c,d,u;for(c=0,d=l.length;c<d;++c)u=l[c],o[c]={[n]:u,[i]:e[u]};return o}function c5(e,t){const a=e&&e.options.stacked;return a||a===void 0&&t.stack!==void 0}function tse(e,t,a){return`${e.id}.${t.id}.${a.stack||a.type}`}function ase(e){const{min:t,max:a,minDefined:r,maxDefined:n}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:n?a:Number.POSITIVE_INFINITY}}function rse(e,t,a){const r=e[t]||(e[t]={});return r[a]||(r[a]={})}function mD(e,t,a,r){for(const n of t.getMatchingVisibleMetas(r).reverse()){const i=e[n.index];if(a&&i>0||!a&&i<0)return n.index}return null}function pD(e,t){const{chart:a,_cachedMeta:r}=e,n=a._stacks||(a._stacks={}),{iScale:i,vScale:l,index:o}=r,c=i.axis,d=l.axis,u=tse(i,l,r),f=t.length;let x;for(let p=0;p<f;++p){const v=t[p],{[c]:g,[d]:b}=v,j=v._stacks||(v._stacks={});x=j[d]=rse(n,u,g),x[o]=b,x._top=mD(x,l,!0,r.type),x._bottom=mD(x,l,!1,r.type);const N=x._visualValues||(x._visualValues={});N[o]=b}}function d5(e,t){const a=e.scales;return Object.keys(a).filter(r=>a[r].axis===t).shift()}function sse(e,t){return Uf(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function nse(e,t,a){return Uf(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:a,index:t,mode:"default",type:"data"})}function Tg(e,t){const a=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const n of t){const i=n._stacks;if(!i||i[r]===void 0||i[r][a]===void 0)return;delete i[r][a],i[r]._visualValues!==void 0&&i[r]._visualValues[a]!==void 0&&delete i[r]._visualValues[a]}}}const u5=e=>e==="reset"||e==="none",xD=(e,t)=>t?e:Object.assign({},e),ise=(e,t,a)=>e&&!t.hidden&&t._stacked&&{keys:uU(a,!0),values:null};class zf{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,a){this.chart=t,this._ctx=t.ctx,this.index=a,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=c5(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Tg(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,a=this._cachedMeta,r=this.getDataset(),n=(f,x,p,v)=>f==="x"?x:f==="r"?v:p,i=a.xAxisID=Wa(r.xAxisID,d5(t,"x")),l=a.yAxisID=Wa(r.yAxisID,d5(t,"y")),o=a.rAxisID=Wa(r.rAxisID,d5(t,"r")),c=a.indexAxis,d=a.iAxisID=n(c,i,l,o),u=a.vAxisID=n(c,l,i,o);a.xScale=this.getScaleForId(i),a.yScale=this.getScaleForId(l),a.rScale=this.getScaleForId(o),a.iScale=this.getScaleForId(d),a.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const a=this._cachedMeta;return t===a.iScale?a.vScale:a.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&J7(this._data,this),t._stacked&&Tg(t)}_dataCheck(){const t=this.getDataset(),a=t.data||(t.data=[]),r=this._data;if(gr(a)){const n=this._cachedMeta;this._data=ese(a,n)}else if(r!==a){if(r){J7(r,this);const n=this._cachedMeta;Tg(n),n._parsed=[]}a&&Object.isExtensible(a)&&Vae(a,this),this._syncList=[],this._data=a}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const a=this._cachedMeta,r=this.getDataset();let n=!1;this._dataCheck();const i=a._stacked;a._stacked=c5(a.vScale,a),a.stack!==r.stack&&(n=!0,Tg(a),a.stack=r.stack),this._resyncElements(t),(n||i!==a._stacked)&&(pD(this,a._parsed),a._stacked=c5(a.vScale,a))}configure(){const t=this.chart.config,a=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),a,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,a){const{_cachedMeta:r,_data:n}=this,{iScale:i,_stacked:l}=r,o=i.axis;let c=t===0&&a===n.length?!0:r._sorted,d=t>0&&r._parsed[t-1],u,f,x;if(this._parsing===!1)r._parsed=n,r._sorted=!0,x=n;else{Ts(n[t])?x=this.parseArrayData(r,n,t,a):gr(n[t])?x=this.parseObjectData(r,n,t,a):x=this.parsePrimitiveData(r,n,t,a);const p=()=>f[o]===null||d&&f[o]<d[o];for(u=0;u<a;++u)r._parsed[u+t]=f=x[u],c&&(p()&&(c=!1),d=f);r._sorted=c}l&&pD(this,x)}parsePrimitiveData(t,a,r,n){const{iScale:i,vScale:l}=t,o=i.axis,c=l.axis,d=i.getLabels(),u=i===l,f=new Array(n);let x,p,v;for(x=0,p=n;x<p;++x)v=x+r,f[x]={[o]:u||i.parse(d[v],v),[c]:l.parse(a[v],v)};return f}parseArrayData(t,a,r,n){const{xScale:i,yScale:l}=t,o=new Array(n);let c,d,u,f;for(c=0,d=n;c<d;++c)u=c+r,f=a[u],o[c]={x:i.parse(f[0],u),y:l.parse(f[1],u)};return o}parseObjectData(t,a,r,n){const{xScale:i,yScale:l}=t,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=new Array(n);let u,f,x,p;for(u=0,f=n;u<f;++u)x=u+r,p=a[x],d[u]={x:i.parse(Tf(p,o),x),y:l.parse(Tf(p,c),x)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,a,r){const n=this.chart,i=this._cachedMeta,l=a[t.axis],o={keys:uU(n,!0),values:a._stacks[t.axis]._visualValues};return fD(o,l,i.index,{mode:r})}updateRangeFromParsed(t,a,r,n){const i=r[a.axis];let l=i===null?NaN:i;const o=n&&r._stacks[a.axis];n&&o&&(n.values=o,l=fD(n,i,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,a){const r=this._cachedMeta,n=r._parsed,i=r._sorted&&t===r.iScale,l=n.length,o=this._getOtherScale(t),c=ise(a,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=ase(o);let x,p;function v(){p=n[x];const g=p[o.axis];return!Zs(p[t.axis])||u>g||f<g}for(x=0;x<l&&!(!v()&&(this.updateRangeFromParsed(d,t,p,c),i));++x);if(i){for(x=l-1;x>=0;--x)if(!v()){this.updateRangeFromParsed(d,t,p,c);break}}return d}getAllParsedValues(t){const a=this._cachedMeta._parsed,r=[];let n,i,l;for(n=0,i=a.length;n<i;++n)l=a[n][t.axis],Zs(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const a=this._cachedMeta,r=a.iScale,n=a.vScale,i=this.getParsed(t);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:n?""+n.getLabelForValue(i[n.axis]):""}}_update(t){const a=this._cachedMeta;this.update(t||"default"),a._clip=Zre(Wa(this.options.clip,Jre(a.xScale,a.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,a=this.chart,r=this._cachedMeta,n=r.data||[],i=a.chartArea,l=[],o=this._drawStart||0,c=this._drawCount||n.length-o,d=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(t,i,o,c),u=o;u<o+c;++u){const f=n[u];f.hidden||(f.active&&d?l.push(f):f.draw(t,i))}for(u=0;u<l.length;++u)l[u].draw(t,i)}getStyle(t,a){const r=a?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,a,r){const n=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];i=l.$context||(l.$context=nse(this.getContext(),t,l)),i.parsed=this.getParsed(t),i.raw=n.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=sse(this.chart.getContext(),this.index)),i.dataset=n,i.index=i.datasetIndex=this.index;return i.active=!!a,i.mode=r,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,a){return this._resolveElementOptions(this.dataElementType.id,a,t)}_resolveElementOptions(t,a="default",r){const n=a==="active",i=this._cachedDataOpts,l=t+"-"+a,o=i[l],c=this.enableOptionSharing&&$1(r);if(o)return xD(o,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,t),f=n?[`${t}Hover`,"hover",t,""]:[t,""],x=d.getOptionScopes(this.getDataset(),u),p=Object.keys(Es.elements[t]),v=()=>this.getContext(r,n,a),g=d.resolveNamedOptions(x,p,v,f);return g.$shared&&(g.$shared=c,i[l]=Object.freeze(xD(g,c))),g}_resolveAnimations(t,a,r){const n=this.chart,i=this._cachedDataOpts,l=`animation-${a}`,o=i[l];if(o)return o;let c;if(n.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,a),x=u.getOptionScopes(this.getDataset(),f);c=u.createResolver(x,this.getContext(t,r,a))}const d=new dU(n,c&&c.animations);return c&&c._cacheable&&(i[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,a){return!a||u5(t)||this.chart._animationsDisabled}_getSharedOptions(t,a){const r=this.resolveDataElementOptions(t,a),n=this._sharedOptions,i=this.getSharedOptions(r),l=this.includeOptions(a,i)||i!==n;return this.updateSharedOptions(i,a,r),{sharedOptions:i,includeOptions:l}}updateElement(t,a,r,n){u5(n)?Object.assign(t,r):this._resolveAnimations(a,n).update(t,r)}updateSharedOptions(t,a,r){t&&!u5(a)&&this._resolveAnimations(void 0,a).update(t,r)}_setStyle(t,a,r,n){t.active=n;const i=this.getStyle(a,n);this._resolveAnimations(a,r,n).update(t,{options:!n&&this.getSharedOptions(i)||i})}removeHoverStyle(t,a,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,a,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const a=this._data,r=this._cachedMeta.data;for(const[o,c,d]of this._syncList)this[o](c,d);this._syncList=[];const n=r.length,i=a.length,l=Math.min(i,n);l&&this.parse(0,l),i>n?this._insertElements(n,i-n,t):i<n&&this._removeElements(i,n-i)}_insertElements(t,a,r=!0){const n=this._cachedMeta,i=n.data,l=t+a;let o;const c=d=>{for(d.length+=a,o=d.length-1;o>=l;o--)d[o]=d[o-a]};for(c(i),o=t;o<l;++o)i[o]=new this.dataElementType;this._parsing&&c(n._parsed),this.parse(t,a),r&&this.updateElements(i,t,a,"reset")}updateElements(t,a,r,n){}_removeElements(t,a){const r=this._cachedMeta;if(this._parsing){const n=r._parsed.splice(t,a);r._stacked&&Tg(r,n)}r.data.splice(t,a)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[a,r,n]=t;this[a](r,n)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,a){a&&this._sync(["_removeElements",t,a]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function lse(e,t){if(!e._cache.$bar){const a=e.getMatchingVisibleMetas(t);let r=[];for(let n=0,i=a.length;n<i;n++)r=r.concat(a[n].controller.getAllParsedValues(e));e._cache.$bar=V$(r.sort((n,i)=>n-i))}return e._cache.$bar}function ose(e){const t=e.iScale,a=lse(t,e.type);let r=t._length,n,i,l,o;const c=()=>{l===32767||l===-32768||($1(o)&&(r=Math.min(r,Math.abs(l-o)||r)),o=l)};for(n=0,i=a.length;n<i;++n)l=t.getPixelForValue(a[n]),c();for(o=void 0,n=0,i=t.ticks.length;n<i;++n)l=t.getPixelForTick(n),c();return r}function cse(e,t,a,r){const n=a.barThickness;let i,l;return ur(n)?(i=t.min*a.categoryPercentage,l=a.barPercentage):(i=n*r,l=1),{chunk:i/r,ratio:l,start:t.pixels[e]-i/2}}function dse(e,t,a,r){const n=t.pixels,i=n[e];let l=e>0?n[e-1]:null,o=e<n.length-1?n[e+1]:null;const c=a.categoryPercentage;l===null&&(l=i-(o===null?t.end-t.start:o-i)),o===null&&(o=i+i-l);const d=i-(i-Math.min(l,o))/2*c;return{chunk:Math.abs(o-l)/2*c/r,ratio:a.barPercentage,start:d}}function use(e,t,a,r){const n=a.parse(e[0],r),i=a.parse(e[1],r),l=Math.min(n,i),o=Math.max(n,i);let c=l,d=o;Math.abs(l)>Math.abs(o)&&(c=o,d=l),t[a.axis]=d,t._custom={barStart:c,barEnd:d,start:n,end:i,min:l,max:o}}function hU(e,t,a,r){return Ts(e)?use(e,t,a,r):t[a.axis]=a.parse(e,r),t}function gD(e,t,a,r){const n=e.iScale,i=e.vScale,l=n.getLabels(),o=n===i,c=[];let d,u,f,x;for(d=a,u=a+r;d<u;++d)x=t[d],f={},f[n.axis]=o||n.parse(l[d],d),c.push(hU(x,f,i,d));return c}function h5(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function hse(e,t,a){return e!==0?Zd(e):(t.isHorizontal()?1:-1)*(t.min>=a?1:-1)}function fse(e){let t,a,r,n,i;return e.horizontal?(t=e.base>e.x,a="left",r="right"):(t=e.base<e.y,a="bottom",r="top"),t?(n="end",i="start"):(n="start",i="end"),{start:a,end:r,reverse:t,top:n,bottom:i}}function mse(e,t,a,r){let n=t.borderSkipped;const i={};if(!n){e.borderSkipped=i;return}if(n===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:o,reverse:c,top:d,bottom:u}=fse(e);n==="middle"&&a&&(e.enableBorderRadius=!0,(a._top||0)===r?n=d:(a._bottom||0)===r?n=u:(i[vD(u,l,o,c)]=!0,n=d)),i[vD(n,l,o,c)]=!0,e.borderSkipped=i}function vD(e,t,a,r){return r?(e=pse(e,t,a),e=bD(e,a,t)):e=bD(e,t,a),e}function pse(e,t,a){return e===t?a:e===a?t:e}function bD(e,t,a){return e==="start"?t:e==="end"?a:e}function xse(e,{inflateAmount:t},a){e.inflateAmount=t==="auto"?a===1?.33:0:t}class fU extends zf{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,a,r,n){return gD(t,a,r,n)}parseArrayData(t,a,r,n){return gD(t,a,r,n)}parseObjectData(t,a,r,n){const{iScale:i,vScale:l}=t,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=i.axis==="x"?o:c,u=l.axis==="x"?o:c,f=[];let x,p,v,g;for(x=r,p=r+n;x<p;++x)g=a[x],v={},v[i.axis]=i.parse(Tf(g,d),x),f.push(hU(Tf(g,u),v,l,x));return f}updateRangeFromParsed(t,a,r,n){super.updateRangeFromParsed(t,a,r,n);const i=r._custom;i&&a===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const a=this._cachedMeta,{iScale:r,vScale:n}=a,i=this.getParsed(t),l=i._custom,o=h5(l)?"["+l.start+", "+l.end+"]":""+n.getLabelForValue(i[n.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const a=this._cachedMeta;this.updateElements(a.data,0,a.data.length,t)}updateElements(t,a,r,n){const i=n==="reset",{index:l,_cachedMeta:{vScale:o}}=this,c=o.getBasePixel(),d=o.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:x}=this._getSharedOptions(a,n);for(let p=a;p<a+r;p++){const v=this.getParsed(p),g=i||ur(v[o.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),b=this._calculateBarIndexPixels(p,u),j=(v._stacks||{})[o.axis],N={horizontal:d,base:g.base,enableBorderRadius:!j||h5(v._custom)||l===j._top||l===j._bottom,x:d?g.head:b.center,y:d?b.center:g.head,height:d?b.size:Math.abs(g.size),width:d?Math.abs(g.size):b.size};x&&(N.options=f||this.resolveDataElementOptions(p,t[p].active?"active":n));const S=N.options||t[p].options;mse(N,S,j,l),xse(N,S,u.ratio),this.updateElement(t[p],p,N,n)}}_getStacks(t,a){const{iScale:r}=this._cachedMeta,n=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=r.options.stacked,l=[],o=this._cachedMeta.controller.getParsed(a),c=o&&o[r.axis],d=u=>{const f=u._parsed.find(p=>p[r.axis]===c),x=f&&f[u.vScale.axis];if(ur(x)||isNaN(x))return!0};for(const u of n)if(!(a!==void 0&&d(u))&&((i===!1||l.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&l.push(u.stack),u.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,a=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===a).shift()}_getAxis(){const t={},a=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[Wa(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,a)]=!0;return Object.keys(t)}_getStackIndex(t,a,r){const n=this._getStacks(t,r),i=a!==void 0?n.indexOf(a):-1;return i===-1?n.length-1:i}_getRuler(){const t=this.options,a=this._cachedMeta,r=a.iScale,n=[];let i,l;for(i=0,l=a.data.length;i<l;++i)n.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const o=t.barThickness;return{min:o||ose(a),pixels:n,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:a,_stacked:r,index:n},options:{base:i,minBarLength:l}}=this,o=i||0,c=this.getParsed(t),d=c._custom,u=h5(d);let f=c[a.axis],x=0,p=r?this.applyStack(a,c,r):f,v,g;p!==f&&(x=p-f,p=f),u&&(f=d.barStart,p=d.barEnd-d.barStart,f!==0&&Zd(f)!==Zd(d.barEnd)&&(x=0),x+=f);const b=!ur(i)&&!u?i:x;let j=a.getPixelForValue(b);if(this.chart.getDataVisibility(t)?v=a.getPixelForValue(x+p):v=j,g=v-j,Math.abs(g)<l){g=hse(g,a,o)*l,f===o&&(j-=g/2);const N=a.getPixelForDecimal(0),S=a.getPixelForDecimal(1),k=Math.min(N,S),A=Math.max(N,S);j=Math.max(Math.min(j,A),k),v=j+g,r&&!u&&(c._stacks[a.axis]._visualValues[n]=a.getValueForPixel(v)-a.getValueForPixel(j))}if(j===a.getPixelForValue(o)){const N=Zd(g)*a.getLineWidthForValue(o)/2;j+=N,g-=N}return{size:g,base:j,head:v,center:v+g/2}}_calculateBarIndexPixels(t,a){const r=a.scale,n=this.options,i=n.skipNull,l=Wa(n.maxBarThickness,1/0);let o,c;const d=this._getAxisCount();if(a.grouped){const u=i?this._getStackCount(t):a.stackCount,f=n.barThickness==="flex"?dse(t,a,n,u*d):cse(t,a,n,u*d),x=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(Wa(x,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0)+p;o=f.start+f.chunk*v+f.chunk/2,c=Math.min(l,f.chunk*f.ratio)}else o=r.getPixelForValue(this.getParsed(t)[r.axis],t),c=Math.min(l,a.min*a.ratio);return{base:o-c/2,head:o+c/2,center:o,size:c}}draw(){const t=this._cachedMeta,a=t.vScale,r=t.data,n=r.length;let i=0;for(;i<n;++i)this.getParsed(i)[a.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}class gse extends zf{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,a,r,n){const i=super.parsePrimitiveData(t,a,r,n);for(let l=0;l<i.length;l++)i[l]._custom=this.resolveDataElementOptions(l+r).radius;return i}parseArrayData(t,a,r,n){const i=super.parseArrayData(t,a,r,n);for(let l=0;l<i.length;l++){const o=a[r+l];i[l]._custom=Wa(o[2],this.resolveDataElementOptions(l+r).radius)}return i}parseObjectData(t,a,r,n){const i=super.parseObjectData(t,a,r,n);for(let l=0;l<i.length;l++){const o=a[r+l];i[l]._custom=Wa(o&&o.r&&+o.r,this.resolveDataElementOptions(l+r).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let a=0;for(let r=t.length-1;r>=0;--r)a=Math.max(a,t[r].size(this.resolveDataElementOptions(r))/2);return a>0&&a}getLabelAndValue(t){const a=this._cachedMeta,r=this.chart.data.labels||[],{xScale:n,yScale:i}=a,l=this.getParsed(t),o=n.getLabelForValue(l.x),c=i.getLabelForValue(l.y),d=l._custom;return{label:r[t]||"",value:"("+o+", "+c+(d?", "+d:"")+")"}}update(t){const a=this._cachedMeta.data;this.updateElements(a,0,a.length,t)}updateElements(t,a,r,n){const i=n==="reset",{iScale:l,vScale:o}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(a,n),u=l.axis,f=o.axis;for(let x=a;x<a+r;x++){const p=t[x],v=!i&&this.getParsed(x),g={},b=g[u]=i?l.getPixelForDecimal(.5):l.getPixelForValue(v[u]),j=g[f]=i?o.getBasePixel():o.getPixelForValue(v[f]);g.skip=isNaN(b)||isNaN(j),d&&(g.options=c||this.resolveDataElementOptions(x,p.active?"active":n),i&&(g.options.radius=0)),this.updateElement(p,x,g,n)}}resolveDataElementOptions(t,a){const r=this.getParsed(t);let n=super.resolveDataElementOptions(t,a);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const i=n.radius;return a!=="active"&&(n.radius=0),n.radius+=Wa(r&&r._custom,i),n}}function vse(e,t,a){let r=1,n=1,i=0,l=0;if(t<ms){const o=e,c=o+t,d=Math.cos(o),u=Math.sin(o),f=Math.cos(c),x=Math.sin(c),p=(S,k,A)=>U1(S,o,c,!0)?1:Math.max(k,k*a,A,A*a),v=(S,k,A)=>U1(S,o,c,!0)?-1:Math.min(k,k*a,A,A*a),g=p(0,d,f),b=p(Nn,u,x),j=v(Er,d,f),N=v(Er+Nn,u,x);r=(g-j)/2,n=(b-N)/2,i=-(g+j)/2,l=-(b+N)/2}return{ratioX:r,ratioY:n,offsetX:i,offsetY:l}}class Dj extends zf{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const a=t.data;if(a.labels.length&&a.datasets.length){const{labels:{pointStyle:r,color:n}}=t.legend.options;return a.labels.map((i,l)=>{const c=t.getDatasetMeta(0).controller.getStyle(l);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:n,lineWidth:c.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,a,r){r.chart.toggleDataVisibility(a.index),r.chart.update()}}}};constructor(t,a){super(t,a),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,a){const r=this.getDataset().data,n=this._cachedMeta;if(this._parsing===!1)n._parsed=r;else{let i=c=>+r[c];if(gr(r[t])){const{key:c="value"}=this._parsing;i=d=>+Tf(r[d],c)}let l,o;for(l=t,o=t+a;l<o;++l)n._parsed[l]=i(l)}}_getRotation(){return nd(this.options.rotation-90)}_getCircumference(){return nd(this.options.circumference)}_getRotationExtents(){let t=ms,a=-ms;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const n=this.chart.getDatasetMeta(r).controller,i=n._getRotation(),l=n._getCircumference();t=Math.min(t,i),a=Math.max(a,i+l)}return{rotation:t,circumference:a-t}}update(t){const a=this.chart,{chartArea:r}=a,n=this._cachedMeta,i=n.data,l=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(r.width,r.height)-l)/2,0),c=Math.min(Tae(this.options.cutout,o),1),d=this._getRingWeight(this.index),{circumference:u,rotation:f}=this._getRotationExtents(),{ratioX:x,ratioY:p,offsetX:v,offsetY:g}=vse(f,u,c),b=(r.width-l)/x,j=(r.height-l)/p,N=Math.max(Math.min(b,j)/2,0),S=B$(this.options.radius,N),k=Math.max(S*c,0),A=(S-k)/this._getVisibleDatasetWeightTotal();this.offsetX=v*S,this.offsetY=g*S,n.total=this.calculateTotal(),this.outerRadius=S-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*d,0),this.updateElements(i,0,i.length,t)}_circumference(t,a){const r=this.options,n=this._cachedMeta,i=this._getCircumference();return a&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||n._parsed[t]===null||n.data[t].hidden?0:this.calculateCircumference(n._parsed[t]*i/ms)}updateElements(t,a,r,n){const i=n==="reset",l=this.chart,o=l.chartArea,d=l.options.animation,u=(o.left+o.right)/2,f=(o.top+o.bottom)/2,x=i&&d.animateScale,p=x?0:this.innerRadius,v=x?0:this.outerRadius,{sharedOptions:g,includeOptions:b}=this._getSharedOptions(a,n);let j=this._getRotation(),N;for(N=0;N<a;++N)j+=this._circumference(N,i);for(N=a;N<a+r;++N){const S=this._circumference(N,i),k=t[N],A={x:u+this.offsetX,y:f+this.offsetY,startAngle:j,endAngle:j+S,circumference:S,outerRadius:v,innerRadius:p};b&&(A.options=g||this.resolveDataElementOptions(N,k.active?"active":n)),j+=S,this.updateElement(k,N,A,n)}}calculateTotal(){const t=this._cachedMeta,a=t.data;let r=0,n;for(n=0;n<a.length;n++){const i=t._parsed[n];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(n)&&!a[n].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(t){const a=this._cachedMeta.total;return a>0&&!isNaN(t)?ms*(Math.abs(t)/a):0}getLabelAndValue(t){const a=this._cachedMeta,r=this.chart,n=r.data.labels||[],i=Lv(a._parsed[t],r.options.locale);return{label:n[t]||"",value:i}}getMaxBorderWidth(t){let a=0;const r=this.chart;let n,i,l,o,c;if(!t){for(n=0,i=r.data.datasets.length;n<i;++n)if(r.isDatasetVisible(n)){l=r.getDatasetMeta(n),t=l.data,o=l.controller;break}}if(!t)return 0;for(n=0,i=t.length;n<i;++n)c=o.resolveDataElementOptions(n),c.borderAlign!=="inner"&&(a=Math.max(a,c.borderWidth||0,c.hoverBorderWidth||0));return a}getMaxOffset(t){let a=0;for(let r=0,n=t.length;r<n;++r){const i=this.resolveDataElementOptions(r);a=Math.max(a,i.offset||0,i.hoverOffset||0)}return a}_getRingWeightOffset(t){let a=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(a+=this._getRingWeight(r));return a}_getRingWeight(t){return Math.max(Wa(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class mU extends zf{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const a=this._cachedMeta,{dataset:r,data:n=[],_dataset:i}=a,l=this.chart._animationsDisabled;let{start:o,count:c}=G$(a,n,l);this._drawStart=o,this._drawCount=c,K$(a)&&(o=0,c=n.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=n;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!l,options:d},t),this.updateElements(n,o,c,t)}updateElements(t,a,r,n){const i=n==="reset",{iScale:l,vScale:o,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(a,n),x=l.axis,p=o.axis,{spanGaps:v,segment:g}=this.options,b=ex(v)?v:Number.POSITIVE_INFINITY,j=this.chart._animationsDisabled||i||n==="none",N=a+r,S=t.length;let k=a>0&&this.getParsed(a-1);for(let A=0;A<S;++A){const _=t[A],M=j?_:{};if(A<a||A>=N){M.skip=!0;continue}const L=this.getParsed(A),U=ur(L[p]),z=M[x]=l.getPixelForValue(L[x],A),O=M[p]=i||U?o.getBasePixel():o.getPixelForValue(c?this.applyStack(o,L,c):L[p],A);M.skip=isNaN(z)||isNaN(O)||U,M.stop=A>0&&Math.abs(L[x]-k[x])>b,g&&(M.parsed=L,M.raw=d.data[A]),f&&(M.options=u||this.resolveDataElementOptions(A,_.active?"active":n)),j||this.updateElement(_,A,M,n),k=L}}getMaxOverflow(){const t=this._cachedMeta,a=t.dataset,r=a.options&&a.options.borderWidth||0,n=t.data||[];if(!n.length)return r;const i=n[0].size(this.resolveDataElementOptions(0)),l=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,i,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class pU extends zf{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const a=t.data;if(a.labels.length&&a.datasets.length){const{labels:{pointStyle:r,color:n}}=t.legend.options;return a.labels.map((i,l)=>{const c=t.getDatasetMeta(0).controller.getStyle(l);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:n,lineWidth:c.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,a,r){r.chart.toggleDataVisibility(a.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,a){super(t,a),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const a=this._cachedMeta,r=this.chart,n=r.data.labels||[],i=Lv(a._parsed[t].r,r.options.locale);return{label:n[t]||"",value:i}}parseObjectData(t,a,r,n){return aU.bind(this)(t,a,r,n)}update(t){const a=this._cachedMeta.data;this._updateRadius(),this.updateElements(a,0,a.length,t)}getMinMax(){const t=this._cachedMeta,a={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<a.min&&(a.min=i),i>a.max&&(a.max=i))}),a}_updateRadius(){const t=this.chart,a=t.chartArea,r=t.options,n=Math.min(a.right-a.left,a.bottom-a.top),i=Math.max(n/2,0),l=Math.max(r.cutoutPercentage?i/100*r.cutoutPercentage:1,0),o=(i-l)/t.getVisibleDatasetCount();this.outerRadius=i-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,a,r,n){const i=n==="reset",l=this.chart,c=l.options.animation,d=this._cachedMeta.rScale,u=d.xCenter,f=d.yCenter,x=d.getIndexAngle(0)-.5*Er;let p=x,v;const g=360/this.countVisibleElements();for(v=0;v<a;++v)p+=this._computeAngle(v,n,g);for(v=a;v<a+r;v++){const b=t[v];let j=p,N=p+this._computeAngle(v,n,g),S=l.getDataVisibility(v)?d.getDistanceFromCenterForValue(this.getParsed(v).r):0;p=N,i&&(c.animateScale&&(S=0),c.animateRotate&&(j=N=x));const k={x:u,y:f,innerRadius:0,outerRadius:S,startAngle:j,endAngle:N,options:this.resolveDataElementOptions(v,b.active?"active":n)};this.updateElement(b,v,k,n)}}countVisibleElements(){const t=this._cachedMeta;let a=0;return t.data.forEach((r,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&a++}),a}_computeAngle(t,a,r){return this.chart.getDataVisibility(t)?nd(this.resolveDataElementOptions(t,a).angle||r):0}}class xU extends Dj{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class bse extends zf{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const a=this._cachedMeta.vScale,r=this.getParsed(t);return{label:a.getLabels()[t],value:""+a.getLabelForValue(r[a.axis])}}parseObjectData(t,a,r,n){return aU.bind(this)(t,a,r,n)}update(t){const a=this._cachedMeta,r=a.dataset,n=a.data||[],i=a.iScale.getLabels();if(r.points=n,t!=="resize"){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0);const o={_loop:!0,_fullLoop:i.length===n.length,options:l};this.updateElement(r,void 0,o,t)}this.updateElements(n,0,n.length,t)}updateElements(t,a,r,n){const i=this._cachedMeta.rScale,l=n==="reset";for(let o=a;o<a+r;o++){const c=t[o],d=this.resolveDataElementOptions(o,c.active?"active":n),u=i.getPointPositionForValue(o,this.getParsed(o).r),f=l?i.xCenter:u.x,x=l?i.yCenter:u.y,p={x:f,y:x,angle:u.angle,skip:isNaN(f)||isNaN(x),options:d};this.updateElement(c,o,p,n)}}}class yse extends zf{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const a=this._cachedMeta,r=this.chart.data.labels||[],{xScale:n,yScale:i}=a,l=this.getParsed(t),o=n.getLabelForValue(l.x),c=i.getLabelForValue(l.y);return{label:r[t]||"",value:"("+o+", "+c+")"}}update(t){const a=this._cachedMeta,{data:r=[]}=a,n=this.chart._animationsDisabled;let{start:i,count:l}=G$(a,r,n);if(this._drawStart=i,this._drawCount=l,K$(a)&&(i=0,l=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:c}=a;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!c._decimated,o.points=r;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(o,void 0,{animated:!n,options:d},t)}else this.datasetElementType&&(delete a.dataset,this.datasetElementType=!1);this.updateElements(r,i,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,a,r,n){const i=n==="reset",{iScale:l,vScale:o,_stacked:c,_dataset:d}=this._cachedMeta,u=this.resolveDataElementOptions(a,n),f=this.getSharedOptions(u),x=this.includeOptions(n,f),p=l.axis,v=o.axis,{spanGaps:g,segment:b}=this.options,j=ex(g)?g:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||i||n==="none";let S=a>0&&this.getParsed(a-1);for(let k=a;k<a+r;++k){const A=t[k],_=this.getParsed(k),M=N?A:{},L=ur(_[v]),U=M[p]=l.getPixelForValue(_[p],k),z=M[v]=i||L?o.getBasePixel():o.getPixelForValue(c?this.applyStack(o,_,c):_[v],k);M.skip=isNaN(U)||isNaN(z)||L,M.stop=k>0&&Math.abs(_[p]-S[p])>j,b&&(M.parsed=_,M.raw=d.data[k]),x&&(M.options=f||this.resolveDataElementOptions(k,A.active?"active":n)),N||this.updateElement(A,k,M,n),S=_}this.updateSharedOptions(f,n,u)}getMaxOverflow(){const t=this._cachedMeta,a=t.data||[];if(!this.options.showLine){let o=0;for(let c=a.length-1;c>=0;--c)o=Math.max(o,a[c].size(this.resolveDataElementOptions(c))/2);return o>0&&o}const r=t.dataset,n=r.options&&r.options.borderWidth||0;if(!a.length)return n;const i=a[0].size(this.resolveDataElementOptions(0)),l=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,i,l)/2}}var wse=Object.freeze({__proto__:null,BarController:fU,BubbleController:gse,DoughnutController:Dj,LineController:mU,PieController:xU,PolarAreaController:pU,RadarController:bse,ScatterController:yse});function N0(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class lA{static override(t){Object.assign(lA.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return N0()}parse(){return N0()}format(){return N0()}add(){return N0()}diff(){return N0()}startOf(){return N0()}endOf(){return N0()}}var jse={_date:lA};function Nse(e,t,a,r){const{controller:n,data:i,_sorted:l}=e,o=n._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&t!=="r"&&l&&i.length){const d=o._reversePixels?zae:qu;if(r){if(n._sharedOptions){const u=i[0],f=typeof u.getRange=="function"&&u.getRange(t);if(f){const x=d(i,t,a-f),p=d(i,t,a+f);return{lo:x.lo,hi:p.hi}}}}else{const u=d(i,t,a);if(c){const{vScale:f}=n._cachedMeta,{_parsed:x}=e,p=x.slice(0,u.lo+1).reverse().findIndex(g=>!ur(g[f.axis]));u.lo-=Math.max(0,p);const v=x.slice(u.hi).findIndex(g=>!ur(g[f.axis]));u.hi+=Math.max(0,v)}return u}}return{lo:0,hi:i.length-1}}function Mj(e,t,a,r,n){const i=e.getSortedVisibleDatasetMetas(),l=a[t];for(let o=0,c=i.length;o<c;++o){const{index:d,data:u}=i[o],{lo:f,hi:x}=Nse(i[o],t,l,n);for(let p=f;p<=x;++p){const v=u[p];v.skip||r(v,d,p)}}}function Sse(e){const t=e.indexOf("x")!==-1,a=e.indexOf("y")!==-1;return function(r,n){const i=t?Math.abs(r.x-n.x):0,l=a?Math.abs(r.y-n.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(l,2))}}function f5(e,t,a,r,n){const i=[];return!n&&!e.isPointInArea(t)||Mj(e,a,t,function(o,c,d){!n&&!Gu(o,e.chartArea,0)||o.inRange(t.x,t.y,r)&&i.push({element:o,datasetIndex:c,index:d})},!0),i}function kse(e,t,a,r){let n=[];function i(l,o,c){const{startAngle:d,endAngle:u}=l.getProps(["startAngle","endAngle"],r),{angle:f}=z$(l,{x:t.x,y:t.y});U1(f,d,u)&&n.push({element:l,datasetIndex:o,index:c})}return Mj(e,a,t,i),n}function Cse(e,t,a,r,n,i){let l=[];const o=Sse(a);let c=Number.POSITIVE_INFINITY;function d(u,f,x){const p=u.inRange(t.x,t.y,n);if(r&&!p)return;const v=u.getCenterPoint(n);if(!(!!i||e.isPointInArea(v))&&!p)return;const b=o(t,v);b<c?(l=[{element:u,datasetIndex:f,index:x}],c=b):b===c&&l.push({element:u,datasetIndex:f,index:x})}return Mj(e,a,t,d),l}function m5(e,t,a,r,n,i){return!i&&!e.isPointInArea(t)?[]:a==="r"&&!r?kse(e,t,a,n):Cse(e,t,a,r,n,i)}function yD(e,t,a,r,n){const i=[],l=a==="x"?"inXRange":"inYRange";let o=!1;return Mj(e,a,t,(c,d,u)=>{c[l]&&c[l](t[a],n)&&(i.push({element:c,datasetIndex:d,index:u}),o=o||c.inRange(t.x,t.y,n))}),r&&!o?[]:i}var Ase={modes:{index(e,t,a,r){const n=A0(t,e),i=a.axis||"x",l=a.includeInvisible||!1,o=a.intersect?f5(e,n,i,r,l):m5(e,n,i,!1,r,l),c=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const u=o[0].index,f=d.data[u];f&&!f.skip&&c.push({element:f,datasetIndex:d.index,index:u})}),c):[]},dataset(e,t,a,r){const n=A0(t,e),i=a.axis||"xy",l=a.includeInvisible||!1;let o=a.intersect?f5(e,n,i,r,l):m5(e,n,i,!1,r,l);if(o.length>0){const c=o[0].datasetIndex,d=e.getDatasetMeta(c).data;o=[];for(let u=0;u<d.length;++u)o.push({element:d[u],datasetIndex:c,index:u})}return o},point(e,t,a,r){const n=A0(t,e),i=a.axis||"xy",l=a.includeInvisible||!1;return f5(e,n,i,r,l)},nearest(e,t,a,r){const n=A0(t,e),i=a.axis||"xy",l=a.includeInvisible||!1;return m5(e,n,i,a.intersect,r,l)},x(e,t,a,r){const n=A0(t,e);return yD(e,n,"x",a.intersect,r)},y(e,t,a,r){const n=A0(t,e);return yD(e,n,"y",a.intersect,r)}}};const gU=["left","top","right","bottom"];function Eg(e,t){return e.filter(a=>a.pos===t)}function wD(e,t){return e.filter(a=>gU.indexOf(a.pos)===-1&&a.box.axis===t)}function Dg(e,t){return e.sort((a,r)=>{const n=t?r:a,i=t?a:r;return n.weight===i.weight?n.index-i.index:n.weight-i.weight})}function _se(e){const t=[];let a,r,n,i,l,o;for(a=0,r=(e||[]).length;a<r;++a)n=e[a],{position:i,options:{stack:l,stackWeight:o=1}}=n,t.push({index:a,box:n,pos:i,horizontal:n.isHorizontal(),weight:n.weight,stack:l&&i+l,stackWeight:o});return t}function Tse(e){const t={};for(const a of e){const{stack:r,pos:n,stackWeight:i}=a;if(!r||!gU.includes(n))continue;const l=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=i}return t}function Ese(e,t){const a=Tse(e),{vBoxMaxWidth:r,hBoxMaxHeight:n}=t;let i,l,o;for(i=0,l=e.length;i<l;++i){o=e[i];const{fullSize:c}=o.box,d=a[o.stack],u=d&&o.stackWeight/d.weight;o.horizontal?(o.width=u?u*r:c&&t.availableWidth,o.height=n):(o.width=r,o.height=u?u*n:c&&t.availableHeight)}return a}function Dse(e){const t=_se(e),a=Dg(t.filter(d=>d.box.fullSize),!0),r=Dg(Eg(t,"left"),!0),n=Dg(Eg(t,"right")),i=Dg(Eg(t,"top"),!0),l=Dg(Eg(t,"bottom")),o=wD(t,"x"),c=wD(t,"y");return{fullSize:a,leftAndTop:r.concat(i),rightAndBottom:n.concat(c).concat(l).concat(o),chartArea:Eg(t,"chartArea"),vertical:r.concat(n).concat(c),horizontal:i.concat(l).concat(o)}}function jD(e,t,a,r){return Math.max(e[a],t[a])+Math.max(e[r],t[r])}function vU(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Mse(e,t,a,r){const{pos:n,box:i}=a,l=e.maxPadding;if(!gr(n)){a.size&&(e[n]-=a.size);const f=r[a.stack]||{size:0,count:1};f.size=Math.max(f.size,a.horizontal?i.height:i.width),a.size=f.size/f.count,e[n]+=a.size}i.getPadding&&vU(l,i.getPadding());const o=Math.max(0,t.outerWidth-jD(l,e,"left","right")),c=Math.max(0,t.outerHeight-jD(l,e,"top","bottom")),d=o!==e.w,u=c!==e.h;return e.w=o,e.h=c,a.horizontal?{same:d,other:u}:{same:u,other:d}}function Pse(e){const t=e.maxPadding;function a(r){const n=Math.max(t[r]-e[r],0);return e[r]+=n,n}e.y+=a("top"),e.x+=a("left"),a("right"),a("bottom")}function Lse(e,t){const a=t.maxPadding;function r(n){const i={left:0,top:0,right:0,bottom:0};return n.forEach(l=>{i[l]=Math.max(t[l],a[l])}),i}return r(e?["left","right"]:["top","bottom"])}function t1(e,t,a,r){const n=[];let i,l,o,c,d,u;for(i=0,l=e.length,d=0;i<l;++i){o=e[i],c=o.box,c.update(o.width||t.w,o.height||t.h,Lse(o.horizontal,t));const{same:f,other:x}=Mse(t,a,o,r);d|=f&&n.length,u=u||x,c.fullSize||n.push(o)}return d&&t1(n,t,a,r)||u}function ky(e,t,a,r,n){e.top=a,e.left=t,e.right=t+r,e.bottom=a+n,e.width=r,e.height=n}function ND(e,t,a,r){const n=a.padding;let{x:i,y:l}=t;for(const o of e){const c=o.box,d=r[o.stack]||{placed:0,weight:1},u=o.stackWeight/d.weight||1;if(o.horizontal){const f=t.w*u,x=d.size||c.height;$1(d.start)&&(l=d.start),c.fullSize?ky(c,n.left,l,a.outerWidth-n.right-n.left,x):ky(c,t.left+d.placed,l,f,x),d.start=l,d.placed+=f,l=c.bottom}else{const f=t.h*u,x=d.size||c.width;$1(d.start)&&(i=d.start),c.fullSize?ky(c,i,n.top,x,a.outerHeight-n.bottom-n.top):ky(c,i,t.top+d.placed,x,f),d.start=i,d.placed+=f,i=c.right}}t.x=i,t.y=l}var cl={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(a){t.draw(a)}}]},e.boxes.push(t)},removeBox(e,t){const a=e.boxes?e.boxes.indexOf(t):-1;a!==-1&&e.boxes.splice(a,1)},configure(e,t,a){t.fullSize=a.fullSize,t.position=a.position,t.weight=a.weight},update(e,t,a,r){if(!e)return;const n=hl(e.options.layout.padding),i=Math.max(t-n.width,0),l=Math.max(a-n.height,0),o=Dse(e.boxes),c=o.vertical,d=o.horizontal;zr(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=c.reduce((g,b)=>b.box.options&&b.box.options.display===!1?g:g+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:a,padding:n,availableWidth:i,availableHeight:l,vBoxMaxWidth:i/2/u,hBoxMaxHeight:l/2}),x=Object.assign({},n);vU(x,hl(r));const p=Object.assign({maxPadding:x,w:i,h:l,x:n.left,y:n.top},n),v=Ese(c.concat(d),f);t1(o.fullSize,p,f,v),t1(c,p,f,v),t1(d,p,f,v)&&t1(c,p,f,v),Pse(p),ND(o.leftAndTop,p,f,v),p.x+=p.w,p.y+=p.h,ND(o.rightAndBottom,p,f,v),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},zr(o.chartArea,g=>{const b=g.box;Object.assign(b,e.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class bU{acquireContext(t,a){}releaseContext(t){return!1}addEventListener(t,a,r){}removeEventListener(t,a,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,a,r,n){return a=Math.max(0,a||t.width),r=r||t.height,{width:a,height:Math.max(0,n?Math.floor(a/n):r)}}isAttached(t){return!0}updateConfig(t){}}class Ose extends bU{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const _2="$chartjs",Rse={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},SD=e=>e===null||e==="";function Fse(e,t){const a=e.style,r=e.getAttribute("height"),n=e.getAttribute("width");if(e[_2]={initial:{height:r,width:n,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",a.boxSizing=a.boxSizing||"border-box",SD(n)){const i=lD(e,"width");i!==void 0&&(e.width=i)}if(SD(r))if(e.style.height==="")e.height=e.width/(t||2);else{const i=lD(e,"height");i!==void 0&&(e.height=i)}return e}const yU=Ore?{passive:!0}:!1;function Ise(e,t,a){e&&e.addEventListener(t,a,yU)}function Bse(e,t,a){e&&e.canvas&&e.canvas.removeEventListener(t,a,yU)}function $se(e,t){const a=Rse[e.type]||e.type,{x:r,y:n}=A0(e,t);return{type:a,chart:t,native:e,x:r!==void 0?r:null,y:n!==void 0?n:null}}function K2(e,t){for(const a of e)if(a===t||a.contains(t))return!0}function Use(e,t,a){const r=e.canvas,n=new MutationObserver(i=>{let l=!1;for(const o of i)l=l||K2(o.addedNodes,r),l=l&&!K2(o.removedNodes,r);l&&a()});return n.observe(document,{childList:!0,subtree:!0}),n}function zse(e,t,a){const r=e.canvas,n=new MutationObserver(i=>{let l=!1;for(const o of i)l=l||K2(o.removedNodes,r),l=l&&!K2(o.addedNodes,r);l&&a()});return n.observe(document,{childList:!0,subtree:!0}),n}const H1=new Map;let kD=0;function wU(){const e=window.devicePixelRatio;e!==kD&&(kD=e,H1.forEach((t,a)=>{a.currentDevicePixelRatio!==e&&t()}))}function Hse(e,t){H1.size||window.addEventListener("resize",wU),H1.set(e,t)}function Vse(e){H1.delete(e),H1.size||window.removeEventListener("resize",wU)}function Wse(e,t,a){const r=e.canvas,n=r&&iA(r);if(!n)return;const i=q$((o,c)=>{const d=n.clientWidth;a(o,c),d<n.clientWidth&&a()},window),l=new ResizeObserver(o=>{const c=o[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||i(d,u)});return l.observe(n),Hse(e,i),l}function p5(e,t,a){a&&a.disconnect(),t==="resize"&&Vse(e)}function qse(e,t,a){const r=e.canvas,n=q$(i=>{e.ctx!==null&&a($se(i,e))},e);return Ise(r,t,n),n}class Gse extends bU{acquireContext(t,a){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(Fse(t,a),r):null}releaseContext(t){const a=t.canvas;if(!a[_2])return!1;const r=a[_2].initial;["height","width"].forEach(i=>{const l=r[i];ur(l)?a.removeAttribute(i):a.setAttribute(i,l)});const n=r.style||{};return Object.keys(n).forEach(i=>{a.style[i]=n[i]}),a.width=a.width,delete a[_2],!0}addEventListener(t,a,r){this.removeEventListener(t,a);const n=t.$proxies||(t.$proxies={}),l={attach:Use,detach:zse,resize:Wse}[a]||qse;n[a]=l(t,a,r)}removeEventListener(t,a){const r=t.$proxies||(t.$proxies={}),n=r[a];if(!n)return;({attach:p5,detach:p5,resize:p5}[a]||Bse)(t,a,n),r[a]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,a,r,n){return Lre(t,a,r,n)}isAttached(t){const a=t&&iA(t);return!!(a&&a.isConnected)}}function Kse(e){return!nA()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Ose:Gse}let bh=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:a,y:r}=this.getProps(["x","y"],t);return{x:a,y:r}}hasValue(){return ex(this.x)&&ex(this.y)}getProps(t,a){const r=this.$animations;if(!a||!r)return this;const n={};return t.forEach(i=>{n[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),n}};function Yse(e,t){const a=e.options.ticks,r=Xse(e),n=Math.min(a.maxTicksLimit||r,r),i=a.major.enabled?Jse(t):[],l=i.length,o=i[0],c=i[l-1],d=[];if(l>n)return Zse(t,d,i,l/n),d;const u=Qse(i,t,n);if(l>0){let f,x;const p=l>1?Math.round((c-o)/(l-1)):null;for(Cy(t,d,u,ur(p)?0:o-p,o),f=0,x=l-1;f<x;f++)Cy(t,d,u,i[f],i[f+1]);return Cy(t,d,u,c,ur(p)?t.length:c+p),d}return Cy(t,d,u),d}function Xse(e){const t=e.options.offset,a=e._tickSize(),r=e._length/a+(t?0:1),n=e._maxLength/a;return Math.floor(Math.min(r,n))}function Qse(e,t,a){const r=ene(e),n=t.length/a;if(!r)return Math.max(n,1);const i=Fae(r);for(let l=0,o=i.length-1;l<o;l++){const c=i[l];if(c>n)return c}return Math.max(n,1)}function Jse(e){const t=[];let a,r;for(a=0,r=e.length;a<r;a++)e[a].major&&t.push(a);return t}function Zse(e,t,a,r){let n=0,i=a[0],l;for(r=Math.ceil(r),l=0;l<e.length;l++)l===i&&(t.push(e[l]),n++,i=a[n*r])}function Cy(e,t,a,r,n){const i=Wa(r,0),l=Math.min(Wa(n,e.length),e.length);let o=0,c,d,u;for(a=Math.ceil(a),n&&(c=n-r,a=c/Math.floor(c/a)),u=i;u<0;)o++,u=Math.round(i+o*a);for(d=Math.max(i,0);d<l;d++)d===u&&(t.push(e[d]),o++,u=Math.round(i+o*a))}function ene(e){const t=e.length;let a,r;if(t<2)return!1;for(r=e[0],a=1;a<t;++a)if(e[a]-e[a-1]!==r)return!1;return r}const tne=e=>e==="left"?"right":e==="right"?"left":e,CD=(e,t,a)=>t==="top"||t==="left"?e[t]+a:e[t]-a,AD=(e,t)=>Math.min(t||e,e);function _D(e,t){const a=[],r=e.length/t,n=e.length;let i=0;for(;i<n;i+=r)a.push(e[Math.floor(i)]);return a}function ane(e,t,a){const r=e.ticks.length,n=Math.min(t,r-1),i=e._startPixel,l=e._endPixel,o=1e-6;let c=e.getPixelForTick(n),d;if(!(a&&(r===1?d=Math.max(c-i,l-c):t===0?d=(e.getPixelForTick(1)-c)/2:d=(c-e.getPixelForTick(n-1))/2,c+=n<t?d:-d,c<i-o||c>l+o)))return c}function rne(e,t){zr(e,a=>{const r=a.gc,n=r.length/2;let i;if(n>t){for(i=0;i<n;++i)delete a.data[r[i]];r.splice(0,n)}})}function Mg(e){return e.drawTicks?e.tickLength:0}function TD(e,t){if(!e.display)return 0;const a=Jn(e.font,t),r=hl(e.padding);return(Ts(e.text)?e.text.length:1)*a.lineHeight+r.height}function sne(e,t){return Uf(e,{scale:t,type:"scale"})}function nne(e,t,a){return Uf(e,{tick:a,index:t,type:"tick"})}function ine(e,t,a){let r=Z6(e);return(a&&t!=="right"||!a&&t==="right")&&(r=tne(r)),r}function lne(e,t,a,r){const{top:n,left:i,bottom:l,right:o,chart:c}=e,{chartArea:d,scales:u}=c;let f=0,x,p,v;const g=l-n,b=o-i;if(e.isHorizontal()){if(p=el(r,i,o),gr(a)){const j=Object.keys(a)[0],N=a[j];v=u[j].getPixelForValue(N)+g-t}else a==="center"?v=(d.bottom+d.top)/2+g-t:v=CD(e,a,t);x=o-i}else{if(gr(a)){const j=Object.keys(a)[0],N=a[j];p=u[j].getPixelForValue(N)-b+t}else a==="center"?p=(d.left+d.right)/2-b+t:p=CD(e,a,t);v=el(r,l,n),f=a==="left"?-Nn:Nn}return{titleX:p,titleY:v,maxWidth:x,rotation:f}}class _m extends bh{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,a){return t}getUserBounds(){let{_userMin:t,_userMax:a,_suggestedMin:r,_suggestedMax:n}=this;return t=ko(t,Number.POSITIVE_INFINITY),a=ko(a,Number.NEGATIVE_INFINITY),r=ko(r,Number.POSITIVE_INFINITY),n=ko(n,Number.NEGATIVE_INFINITY),{min:ko(t,r),max:ko(a,n),minDefined:Zs(t),maxDefined:Zs(a)}}getMinMax(t){let{min:a,max:r,minDefined:n,maxDefined:i}=this.getUserBounds(),l;if(n&&i)return{min:a,max:r};const o=this.getMatchingVisibleMetas();for(let c=0,d=o.length;c<d;++c)l=o[c].controller.getMinMax(this,t),n||(a=Math.min(a,l.min)),i||(r=Math.max(r,l.max));return a=i&&a>r?r:a,r=n&&a>r?a:r,{min:ko(a,ko(r,a)),max:ko(r,ko(a,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ls(this.options.beforeUpdate,[this])}update(t,a,r){const{beginAtZero:n,grace:i,ticks:l}=this.options,o=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=a,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=hre(this,i,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=o<this.ticks.length;this._convertTicksToLabels(c?_D(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=Yse(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,a,r;this.isHorizontal()?(a=this.left,r=this.right):(a=this.top,r=this.bottom,t=!t),this._startPixel=a,this._endPixel=r,this._reversePixels=t,this._length=r-a,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ls(this.options.afterUpdate,[this])}beforeSetDimensions(){ls(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ls(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ls(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ls(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const a=this.options.ticks;let r,n,i;for(r=0,n=t.length;r<n;r++)i=t[r],i.label=ls(a.callback,[i.value,r,t],this)}afterTickToLabelConversion(){ls(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ls(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,a=t.ticks,r=AD(this.ticks.length,t.ticks.maxTicksLimit),n=a.minRotation||0,i=a.maxRotation;let l=n,o,c,d;if(!this._isVisible()||!a.display||n>=i||r<=1||!this.isHorizontal()){this.labelRotation=n;return}const u=this._getLabelSizes(),f=u.widest.width,x=u.highest.height,p=ji(this.chart.width-f,0,this.maxWidth);o=t.offset?this.maxWidth/r:p/(r-1),f+6>o&&(o=p/(r-(t.offset?.5:1)),c=this.maxHeight-Mg(t.grid)-a.padding-TD(t.title,this.chart.options.font),d=Math.sqrt(f*f+x*x),l=Q6(Math.min(Math.asin(ji((u.highest.height+6)/o,-1,1)),Math.asin(ji(c/d,-1,1))-Math.asin(ji(x/d,-1,1)))),l=Math.max(n,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){ls(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ls(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:a,options:{ticks:r,title:n,grid:i}}=this,l=this._isVisible(),o=this.isHorizontal();if(l){const c=TD(n,a.options.font);if(o?(t.width=this.maxWidth,t.height=Mg(i)+c):(t.height=this.maxHeight,t.width=Mg(i)+c),r.display&&this.ticks.length){const{first:d,last:u,widest:f,highest:x}=this._getLabelSizes(),p=r.padding*2,v=nd(this.labelRotation),g=Math.cos(v),b=Math.sin(v);if(o){const j=r.mirror?0:b*f.width+g*x.height;t.height=Math.min(this.maxHeight,t.height+j+p)}else{const j=r.mirror?0:g*f.width+b*x.height;t.width=Math.min(this.maxWidth,t.width+j+p)}this._calculatePadding(d,u,b,g)}}this._handleMargins(),o?(this.width=this._length=a.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=a.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,a,r,n){const{ticks:{align:i,padding:l},position:o}=this.options,c=this.labelRotation!==0,d=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,p=0;c?d?(x=n*t.width,p=r*a.height):(x=r*t.height,p=n*a.width):i==="start"?p=a.width:i==="end"?x=t.width:i!=="inner"&&(x=t.width/2,p=a.width/2),this.paddingLeft=Math.max((x-u+l)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-f+l)*this.width/(this.width-f),0)}else{let u=a.height/2,f=t.height/2;i==="start"?(u=0,f=t.height):i==="end"&&(u=a.height,f=0),this.paddingTop=u+l,this.paddingBottom=f+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ls(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:a}=this.options;return a==="top"||a==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let a,r;for(a=0,r=t.length;a<r;a++)ur(t[a].label)&&(t.splice(a,1),r--,a--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const a=this.options.ticks.sampleSize;let r=this.ticks;a<r.length&&(r=_D(r,a)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,a,r){const{ctx:n,_longestTextCache:i}=this,l=[],o=[],c=Math.floor(a/AD(a,r));let d=0,u=0,f,x,p,v,g,b,j,N,S,k,A;for(f=0;f<a;f+=c){if(v=t[f].label,g=this._resolveTickFontOptions(f),n.font=b=g.string,j=i[b]=i[b]||{data:{},gc:[]},N=g.lineHeight,S=k=0,!ur(v)&&!Ts(v))S=q2(n,j.data,j.gc,S,v),k=N;else if(Ts(v))for(x=0,p=v.length;x<p;++x)A=v[x],!ur(A)&&!Ts(A)&&(S=q2(n,j.data,j.gc,S,A),k+=N);l.push(S),o.push(k),d=Math.max(S,d),u=Math.max(k,u)}rne(i,a);const _=l.indexOf(d),M=o.indexOf(u),L=U=>({width:l[U]||0,height:o[U]||0});return{first:L(0),last:L(a-1),widest:L(_),highest:L(M),widths:l,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,a){return NaN}getValueForPixel(t){}getPixelForTick(t){const a=this.ticks;return t<0||t>a.length-1?null:this.getPixelForValue(a[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const a=this._startPixel+t*this._length;return Uae(this._alignToPixels?j0(this.chart,a,0):a)}getDecimalForPixel(t){const a=(t-this._startPixel)/this._length;return this._reversePixels?1-a:a}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:a}=this;return t<0&&a<0?a:t>0&&a>0?t:0}getContext(t){const a=this.ticks||[];if(t>=0&&t<a.length){const r=a[t];return r.$context||(r.$context=nne(this.getContext(),t,r))}return this.$context||(this.$context=sne(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,a=nd(this.labelRotation),r=Math.abs(Math.cos(a)),n=Math.abs(Math.sin(a)),i=this._getLabelSizes(),l=t.autoSkipPadding||0,o=i?i.widest.width+l:0,c=i?i.highest.height+l:0;return this.isHorizontal()?c*r>o*n?o/r:c/n:c*n<o*r?c/r:o/n}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const a=this.axis,r=this.chart,n=this.options,{grid:i,position:l,border:o}=n,c=i.offset,d=this.isHorizontal(),f=this.ticks.length+(c?1:0),x=Mg(i),p=[],v=o.setContext(this.getContext()),g=v.display?v.width:0,b=g/2,j=function(I){return j0(r,I,g)};let N,S,k,A,_,M,L,U,z,O,B,E;if(l==="top")N=j(this.bottom),M=this.bottom-x,U=N-b,O=j(t.top)+b,E=t.bottom;else if(l==="bottom")N=j(this.top),O=t.top,E=j(t.bottom)-b,M=N+b,U=this.top+x;else if(l==="left")N=j(this.right),_=this.right-x,L=N-b,z=j(t.left)+b,B=t.right;else if(l==="right")N=j(this.left),z=t.left,B=j(t.right)-b,_=N+b,L=this.left+x;else if(a==="x"){if(l==="center")N=j((t.top+t.bottom)/2+.5);else if(gr(l)){const I=Object.keys(l)[0],G=l[I];N=j(this.chart.scales[I].getPixelForValue(G))}O=t.top,E=t.bottom,M=N+b,U=M+x}else if(a==="y"){if(l==="center")N=j((t.left+t.right)/2);else if(gr(l)){const I=Object.keys(l)[0],G=l[I];N=j(this.chart.scales[I].getPixelForValue(G))}_=N-b,L=_-x,z=t.left,B=t.right}const R=Wa(n.ticks.maxTicksLimit,f),q=Math.max(1,Math.ceil(f/R));for(S=0;S<f;S+=q){const I=this.getContext(S),G=i.setContext(I),re=o.setContext(I),te=G.lineWidth,X=G.color,ce=re.dash||[],D=re.dashOffset,Q=G.tickWidth,H=G.tickColor,J=G.tickBorderDash||[],ae=G.tickBorderDashOffset;k=ane(this,S,c),k!==void 0&&(A=j0(r,k,te),d?_=L=z=B=A:M=U=O=E=A,p.push({tx1:_,ty1:M,tx2:L,ty2:U,x1:z,y1:O,x2:B,y2:E,width:te,color:X,borderDash:ce,borderDashOffset:D,tickWidth:Q,tickColor:H,tickBorderDash:J,tickBorderDashOffset:ae}))}return this._ticksLength=f,this._borderValue=N,p}_computeLabelItems(t){const a=this.axis,r=this.options,{position:n,ticks:i}=r,l=this.isHorizontal(),o=this.ticks,{align:c,crossAlign:d,padding:u,mirror:f}=i,x=Mg(r.grid),p=x+u,v=f?-u:p,g=-nd(this.labelRotation),b=[];let j,N,S,k,A,_,M,L,U,z,O,B,E="middle";if(n==="top")_=this.bottom-v,M=this._getXAxisLabelAlignment();else if(n==="bottom")_=this.top+v,M=this._getXAxisLabelAlignment();else if(n==="left"){const q=this._getYAxisLabelAlignment(x);M=q.textAlign,A=q.x}else if(n==="right"){const q=this._getYAxisLabelAlignment(x);M=q.textAlign,A=q.x}else if(a==="x"){if(n==="center")_=(t.top+t.bottom)/2+p;else if(gr(n)){const q=Object.keys(n)[0],I=n[q];_=this.chart.scales[q].getPixelForValue(I)+p}M=this._getXAxisLabelAlignment()}else if(a==="y"){if(n==="center")A=(t.left+t.right)/2-p;else if(gr(n)){const q=Object.keys(n)[0],I=n[q];A=this.chart.scales[q].getPixelForValue(I)}M=this._getYAxisLabelAlignment(x).textAlign}a==="y"&&(c==="start"?E="top":c==="end"&&(E="bottom"));const R=this._getLabelSizes();for(j=0,N=o.length;j<N;++j){S=o[j],k=S.label;const q=i.setContext(this.getContext(j));L=this.getPixelForTick(j)+i.labelOffset,U=this._resolveTickFontOptions(j),z=U.lineHeight,O=Ts(k)?k.length:1;const I=O/2,G=q.color,re=q.textStrokeColor,te=q.textStrokeWidth;let X=M;l?(A=L,M==="inner"&&(j===N-1?X=this.options.reverse?"left":"right":j===0?X=this.options.reverse?"right":"left":X="center"),n==="top"?d==="near"||g!==0?B=-O*z+z/2:d==="center"?B=-R.highest.height/2-I*z+z:B=-R.highest.height+z/2:d==="near"||g!==0?B=z/2:d==="center"?B=R.highest.height/2-I*z:B=R.highest.height-O*z,f&&(B*=-1),g!==0&&!q.showLabelBackdrop&&(A+=z/2*Math.sin(g))):(_=L,B=(1-O)*z/2);let ce;if(q.showLabelBackdrop){const D=hl(q.backdropPadding),Q=R.heights[j],H=R.widths[j];let J=B-D.top,ae=0-D.left;switch(E){case"middle":J-=Q/2;break;case"bottom":J-=Q;break}switch(M){case"center":ae-=H/2;break;case"right":ae-=H;break;case"inner":j===N-1?ae-=H:j>0&&(ae-=H/2);break}ce={left:ae,top:J,width:H+D.width,height:Q+D.height,color:q.backdropColor}}b.push({label:k,font:U,textOffset:B,options:{rotation:g,color:G,strokeColor:re,strokeWidth:te,textAlign:X,textBaseline:E,translation:[A,_],backdrop:ce}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:a}=this.options;if(-nd(this.labelRotation))return t==="top"?"left":"right";let n="center";return a.align==="start"?n="left":a.align==="end"?n="right":a.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:a,ticks:{crossAlign:r,mirror:n,padding:i}}=this.options,l=this._getLabelSizes(),o=t+i,c=l.widest.width;let d,u;return a==="left"?n?(u=this.right+i,r==="near"?d="left":r==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-o,r==="near"?d="right":r==="center"?(d="center",u-=c/2):(d="left",u=this.left)):a==="right"?n?(u=this.left+i,r==="near"?d="right":r==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+o,r==="near"?d="left":r==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,a=this.options.position;if(a==="left"||a==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(a==="top"||a==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:a},left:r,top:n,width:i,height:l}=this;a&&(t.save(),t.fillStyle=a,t.fillRect(r,n,i,l),t.restore())}getLineWidthForValue(t){const a=this.options.grid;if(!this._isVisible()||!a.display)return 0;const n=this.ticks.findIndex(i=>i.value===t);return n>=0?a.setContext(this.getContext(n)).lineWidth:0}drawGrid(t){const a=this.options.grid,r=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,l;const o=(c,d,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(a.display)for(i=0,l=n.length;i<l;++i){const c=n[i];a.drawOnChartArea&&o({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),a.drawTicks&&o({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:a,options:{border:r,grid:n}}=this,i=r.setContext(this.getContext()),l=r.display?i.width:0;if(!l)return;const o=n.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,f,x;this.isHorizontal()?(d=j0(t,this.left,l)-l/2,u=j0(t,this.right,o)+o/2,f=x=c):(f=j0(t,this.top,l)-l/2,x=j0(t,this.bottom,o)+o/2,d=u=c),a.save(),a.lineWidth=i.width,a.strokeStyle=i.color,a.beginPath(),a.moveTo(d,f),a.lineTo(u,x),a.stroke(),a.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,n=this._computeLabelArea();n&&_j(r,n);const i=this.getLabelItems(t);for(const l of i){const o=l.options,c=l.font,d=l.label,u=l.textOffset;om(r,d,0,u,c,o)}n&&Tj(r)}drawTitle(){const{ctx:t,options:{position:a,title:r,reverse:n}}=this;if(!r.display)return;const i=Jn(r.font),l=hl(r.padding),o=r.align;let c=i.lineHeight/2;a==="bottom"||a==="center"||gr(a)?(c+=l.bottom,Ts(r.text)&&(c+=i.lineHeight*(r.text.length-1))):c+=l.top;const{titleX:d,titleY:u,maxWidth:f,rotation:x}=lne(this,c,a,o);om(t,r.text,0,0,i,{color:r.color,maxWidth:f,rotation:x,textAlign:ine(o,a,n),textBaseline:"middle",translation:[d,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,a=t.ticks&&t.ticks.z||0,r=Wa(t.grid&&t.grid.z,-1),n=Wa(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==_m.prototype.draw?[{z:a,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:a,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const a=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",n=[];let i,l;for(i=0,l=a.length;i<l;++i){const o=a[i];o[r]===this.id&&(!t||o.type===t)&&n.push(o)}return n}_resolveTickFontOptions(t){const a=this.options.ticks.setContext(this.getContext(t));return Jn(a.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Ay{constructor(t,a,r){this.type=t,this.scope=a,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const a=Object.getPrototypeOf(t);let r;dne(a)&&(r=this.register(a));const n=this.items,i=t.id,l=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in n||(n[i]=t,one(t,l,r),this.override&&Es.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const a=this.items,r=t.id,n=this.scope;r in a&&delete a[r],n&&r in Es[n]&&(delete Es[n][r],this.override&&delete lm[r])}}function one(e,t,a){const r=B1(Object.create(null),[a?Es.get(a):{},Es.get(t),e.defaults]);Es.set(t,r),e.defaultRoutes&&cne(t,e.defaultRoutes),e.descriptors&&Es.describe(t,e.descriptors)}function cne(e,t){Object.keys(t).forEach(a=>{const r=a.split("."),n=r.pop(),i=[e].concat(r).join("."),l=t[a].split("."),o=l.pop(),c=l.join(".");Es.route(i,n,c,o)})}function dne(e){return"id"in e&&"defaults"in e}class une{constructor(){this.controllers=new Ay(zf,"datasets",!0),this.elements=new Ay(bh,"elements"),this.plugins=new Ay(Object,"plugins"),this.scales=new Ay(_m,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,a,r){[...a].forEach(n=>{const i=r||this._getRegistryForType(n);r||i.isForType(n)||i===this.plugins&&n.id?this._exec(t,i,n):zr(n,l=>{const o=r||this._getRegistryForType(l);this._exec(t,o,l)})})}_exec(t,a,r){const n=X6(t);ls(r["before"+n],[],r),a[t](r),ls(r["after"+n],[],r)}_getRegistryForType(t){for(let a=0;a<this._typedRegistries.length;a++){const r=this._typedRegistries[a];if(r.isForType(t))return r}return this.plugins}_get(t,a,r){const n=a.get(t);if(n===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return n}}var Kd=new une;class hne{constructor(){this._init=[]}notify(t,a,r,n){a==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=n?this._descriptors(t).filter(n):this._descriptors(t),l=this._notify(i,t,a,r);return a==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,a,r,n){n=n||{};for(const i of t){const l=i.plugin,o=l[r],c=[a,n,i.options];if(ls(o,c,l)===!1&&n.cancelable)return!1}return!0}invalidate(){ur(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const a=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),a}_createDescriptors(t,a){const r=t&&t.config,n=Wa(r.options&&r.options.plugins,{}),i=fne(r);return n===!1&&!a?[]:pne(t,i,n,a)}_notifyStateChanges(t){const a=this._oldCache||[],r=this._cache,n=(i,l)=>i.filter(o=>!l.some(c=>o.plugin.id===c.plugin.id));this._notify(n(a,r),t,"stop"),this._notify(n(r,a),t,"start")}}function fne(e){const t={},a=[],r=Object.keys(Kd.plugins.items);for(let i=0;i<r.length;i++)a.push(Kd.getPlugin(r[i]));const n=e.plugins||[];for(let i=0;i<n.length;i++){const l=n[i];a.indexOf(l)===-1&&(a.push(l),t[l.id]=!0)}return{plugins:a,localIds:t}}function mne(e,t){return!t&&e===!1?null:e===!0?{}:e}function pne(e,{plugins:t,localIds:a},r,n){const i=[],l=e.getContext();for(const o of t){const c=o.id,d=mne(r[c],n);d!==null&&i.push({plugin:o,options:xne(e.config,{plugin:o,local:a[c]},d,l)})}return i}function xne(e,{plugin:t,local:a},r,n){const i=e.pluginScopeKeys(t),l=e.getOptionScopes(r,i);return a&&t.defaults&&l.push(t.defaults),e.createResolver(l,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Tk(e,t){const a=Es.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||a.indexAxis||"x"}function gne(e,t){let a=e;return e==="_index_"?a=t:e==="_value_"&&(a=t==="x"?"y":"x"),a}function vne(e,t){return e===t?"_index_":"_value_"}function ED(e){if(e==="x"||e==="y"||e==="r")return e}function bne(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Ek(e,...t){if(ED(e))return e;for(const a of t){const r=a.axis||bne(a.position)||e.length>1&&ED(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function DD(e,t,a){if(a[t+"AxisID"]===e)return{axis:t}}function yne(e,t){if(t.data&&t.data.datasets){const a=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(a.length)return DD(e,"x",a[0])||DD(e,"y",a[0])}return{}}function wne(e,t){const a=lm[e.type]||{scales:{}},r=t.scales||{},n=Tk(e.type,t),i=Object.create(null);return Object.keys(r).forEach(l=>{const o=r[l];if(!gr(o))return console.error(`Invalid scale configuration for scale: ${l}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const c=Ek(l,o,yne(l,e),Es.scales[o.type]),d=vne(c,n),u=a.scales||{};i[l]=c1(Object.create(null),[{axis:c},o,u[c],u[d]])}),e.data.datasets.forEach(l=>{const o=l.type||e.type,c=l.indexAxis||Tk(o,t),u=(lm[o]||{}).scales||{};Object.keys(u).forEach(f=>{const x=gne(f,c),p=l[x+"AxisID"]||x;i[p]=i[p]||Object.create(null),c1(i[p],[{axis:x},r[p],u[f]])})}),Object.keys(i).forEach(l=>{const o=i[l];c1(o,[Es.scales[o.type],Es.scale])}),i}function jU(e){const t=e.options||(e.options={});t.plugins=Wa(t.plugins,{}),t.scales=wne(e,t)}function NU(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function jne(e){return e=e||{},e.data=NU(e.data),jU(e),e}const MD=new Map,SU=new Set;function _y(e,t){let a=MD.get(e);return a||(a=t(),MD.set(e,a),SU.add(a)),a}const Pg=(e,t,a)=>{const r=Tf(t,a);r!==void 0&&e.add(r)};class Nne{constructor(t){this._config=jne(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=NU(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),jU(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return _y(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,a){return _y(`${t}.transition.${a}`,()=>[[`datasets.${t}.transitions.${a}`,`transitions.${a}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,a){return _y(`${t}-${a}`,()=>[[`datasets.${t}.elements.${a}`,`datasets.${t}`,`elements.${a}`,""]])}pluginScopeKeys(t){const a=t.id,r=this.type;return _y(`${r}-plugin-${a}`,()=>[[`plugins.${a}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,a){const r=this._scopeCache;let n=r.get(t);return(!n||a)&&(n=new Map,r.set(t,n)),n}getOptionScopes(t,a,r){const{options:n,type:i}=this,l=this._cachedScopes(t,r),o=l.get(a);if(o)return o;const c=new Set;a.forEach(u=>{t&&(c.add(t),u.forEach(f=>Pg(c,t,f))),u.forEach(f=>Pg(c,n,f)),u.forEach(f=>Pg(c,lm[i]||{},f)),u.forEach(f=>Pg(c,Es,f)),u.forEach(f=>Pg(c,Ak,f))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),SU.has(a)&&l.set(a,d),d}chartOptionScopes(){const{options:t,type:a}=this;return[t,lm[a]||{},Es.datasets[a]||{},{type:a},Es,Ak]}resolveNamedOptions(t,a,r,n=[""]){const i={$shared:!0},{resolver:l,subPrefixes:o}=PD(this._resolverCache,t,n);let c=l;if(kne(l,a)){i.$shared=!1,r=Ef(r)?r():r;const d=this.createResolver(t,r,o);c=tx(l,r,d)}for(const d of a)i[d]=c[d];return i}createResolver(t,a,r=[""],n){const{resolver:i}=PD(this._resolverCache,t,r);return gr(a)?tx(i,a,void 0,n):i}}function PD(e,t,a){let r=e.get(t);r||(r=new Map,e.set(t,r));const n=a.join();let i=r.get(n);return i||(i={resolver:aA(t,a),subPrefixes:a.filter(o=>!o.toLowerCase().includes("hover"))},r.set(n,i)),i}const Sne=e=>gr(e)&&Object.getOwnPropertyNames(e).some(t=>Ef(e[t]));function kne(e,t){const{isScriptable:a,isIndexable:r}=J$(e);for(const n of t){const i=a(n),l=r(n),o=(l||i)&&e[n];if(i&&(Ef(o)||Sne(o))||l&&Ts(o))return!0}return!1}var Cne="4.5.0";const Ane=["top","bottom","left","right","chartArea"];function LD(e,t){return e==="top"||e==="bottom"||Ane.indexOf(e)===-1&&t==="x"}function OD(e,t){return function(a,r){return a[e]===r[e]?a[t]-r[t]:a[e]-r[e]}}function RD(e){const t=e.chart,a=t.options.animation;t.notifyPlugins("afterRender"),ls(a&&a.onComplete,[e],t)}function _ne(e){const t=e.chart,a=t.options.animation;ls(a&&a.onProgress,[e],t)}function kU(e){return nA()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const T2={},FD=e=>{const t=kU(e);return Object.values(T2).filter(a=>a.canvas===t).pop()};function Tne(e,t,a){const r=Object.keys(e);for(const n of r){const i=+n;if(i>=t){const l=e[n];delete e[n],(a>0||i>t)&&(e[i+a]=l)}}}function Ene(e,t,a,r){return!a||e.type==="mouseout"?null:r?t:e}let Nr=class{static defaults=Es;static instances=T2;static overrides=lm;static registry=Kd;static version=Cne;static getChart=FD;static register(...t){Kd.add(...t),ID()}static unregister(...t){Kd.remove(...t),ID()}constructor(t,a){const r=this.config=new Nne(a),n=kU(t),i=FD(n);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Kse(n)),this.platform.updateConfig(r);const o=this.platform.acquireContext(n,l.aspectRatio),c=o&&o.canvas,d=c&&c.height,u=c&&c.width;if(this.id=_ae(),this.ctx=o,this.canvas=c,this.width=u,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new hne,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Wae(f=>this.update(f),l.resizeDelay||0),this._dataChanges=[],T2[this.id]=this,!o||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Iu.listen(this,"complete",RD),Iu.listen(this,"progress",_ne),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:a},width:r,height:n,_aspectRatio:i}=this;return ur(t)?a&&i?i:n?r/n:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Kd}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():iD(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return rD(this.canvas,this.ctx),this}stop(){return Iu.stop(this),this}resize(t,a){Iu.running(this)?this._resizeBeforeDraw={width:t,height:a}:this._resize(t,a)}_resize(t,a){const r=this.options,n=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(n,t,a,i),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,iD(this,o,!0)&&(this.notifyPlugins("resize",{size:l}),ls(r.onResize,[this,l],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const a=this.options.scales||{};zr(a,(r,n)=>{r.id=n})}buildOrUpdateScales(){const t=this.options,a=t.scales,r=this.scales,n=Object.keys(r).reduce((l,o)=>(l[o]=!1,l),{});let i=[];a&&(i=i.concat(Object.keys(a).map(l=>{const o=a[l],c=Ek(l,o),d=c==="r",u=c==="x";return{options:o,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),zr(i,l=>{const o=l.options,c=o.id,d=Ek(c,o),u=Wa(o.type,l.dtype);(o.position===void 0||LD(o.position,d)!==LD(l.dposition))&&(o.position=l.dposition),n[c]=!0;let f=null;if(c in r&&r[c].type===u)f=r[c];else{const x=Kd.getScale(u);f=new x({id:c,type:u,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(o,t)}),zr(n,(l,o)=>{l||delete r[o]}),zr(r,l=>{cl.configure(this,l,l.options),cl.addBox(this,l)})}_updateMetasets(){const t=this._metasets,a=this.data.datasets.length,r=t.length;if(t.sort((n,i)=>n.index-i.index),r>a){for(let n=a;n<r;++n)this._destroyDatasetMeta(n);t.splice(a,r-a)}this._sortedMetasets=t.slice(0).sort(OD("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:a}}=this;t.length>a.length&&delete this._stacks,t.forEach((r,n)=>{a.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const t=[],a=this.data.datasets;let r,n;for(this._removeUnreferencedMetasets(),r=0,n=a.length;r<n;r++){const i=a[r];let l=this.getDatasetMeta(r);const o=i.type||this.config.type;if(l.type&&l.type!==o&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=o,l.indexAxis=i.indexAxis||Tk(o,this.options),l.order=i.order||0,l.index=r,l.label=""+i.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const c=Kd.getController(o),{datasetElementType:d,dataElementType:u}=Es.datasets[o];Object.assign(c,{dataElementType:Kd.getElement(u),datasetElementType:d&&Kd.getElement(d)}),l.controller=new c(this,r),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){zr(this.data.datasets,(t,a)=>{this.getDatasetMeta(a).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const a=this.config;a.update();const r=this._options=a.createResolver(a.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:f}=this.getDatasetMeta(d),x=!n&&i.indexOf(f)===-1;f.buildOrUpdateElements(x),l=Math.max(+f.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),n||zr(i,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(OD("z","_idx"));const{_active:o,_lastEvent:c}=this;c?this._eventHandler(c,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){zr(this.scales,t=>{cl.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,a=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!K7(a,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,a=this._getUniformDataChanges()||[];for(const{method:r,start:n,count:i}of a){const l=r==="_removeElements"?-i:i;Tne(t,n,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const a=this.data.datasets.length,r=i=>new Set(t.filter(l=>l[0]===i).map((l,o)=>o+","+l.splice(1).join(","))),n=r(0);for(let i=1;i<a;i++)if(!K7(n,r(i)))return;return Array.from(n).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;cl.update(this,this.width,this.height,t);const a=this.chartArea,r=a.width<=0||a.height<=0;this._layers=[],zr(this.boxes,n=>{r&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,i)=>{n._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let a=0,r=this.data.datasets.length;a<r;++a)this.getDatasetMeta(a).controller.configure();for(let a=0,r=this.data.datasets.length;a<r;++a)this._updateDataset(a,Ef(t)?t({datasetIndex:a}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,a){const r=this.getDatasetMeta(t),n={meta:r,index:t,mode:a,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(r.controller._update(a),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Iu.has(this)?this.attached&&!Iu.running(this)&&Iu.start(this):(this.draw(),RD({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const a=this._layers;for(t=0;t<a.length&&a[t].z<=0;++t)a[t].draw(this.chartArea);for(this._drawDatasets();t<a.length;++t)a[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const a=this._sortedMetasets,r=[];let n,i;for(n=0,i=a.length;n<i;++n){const l=a[n];(!t||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let a=t.length-1;a>=0;--a)this._drawDataset(t[a]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const a=this.ctx,r={meta:t,index:t.index,cancelable:!0},n=cU(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(n&&_j(a,n),t.controller.draw(),n&&Tj(a),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return Gu(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,a,r,n){const i=Ase.modes[a];return typeof i=="function"?i(this,t,r,n):[]}getDatasetMeta(t){const a=this.data.datasets[t],r=this._metasets;let n=r.filter(i=>i&&i._dataset===a).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:a&&a.order||0,index:t,_dataset:a,_parsed:[],_sorted:!1},r.push(n)),n}getContext(){return this.$context||(this.$context=Uf(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const a=this.data.datasets[t];if(!a)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!a.hidden}setDatasetVisibility(t,a){const r=this.getDatasetMeta(t);r.hidden=!a}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,a,r){const n=r?"show":"hide",i=this.getDatasetMeta(t),l=i.controller._resolveAnimations(void 0,n);$1(a)?(i.data[a].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),l.update(i,{visible:r}),this.update(o=>o.datasetIndex===t?n:void 0))}hide(t,a){this._updateVisibility(t,a,!1)}show(t,a){this._updateVisibility(t,a,!0)}_destroyDatasetMeta(t){const a=this._metasets[t];a&&a.controller&&a.controller._destroy(),delete this._metasets[t]}_stop(){let t,a;for(this.stop(),Iu.remove(this),t=0,a=this.data.datasets.length;t<a;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:a}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),rD(t,a),this.platform.releaseContext(a),this.canvas=null,this.ctx=null),delete T2[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,a=this.platform,r=(i,l)=>{a.addEventListener(this,i,l),t[i]=l},n=(i,l,o)=>{i.offsetX=l,i.offsetY=o,this._eventHandler(i)};zr(this.options.events,i=>r(i,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,a=this.platform,r=(c,d)=>{a.addEventListener(this,c,d),t[c]=d},n=(c,d)=>{t[c]&&(a.removeEventListener(this,c,d),delete t[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let l;const o=()=>{n("attach",o),this.attached=!0,this.resize(),r("resize",i),r("detach",l)};l=()=>{this.attached=!1,n("resize",i),this._stop(),this._resize(0,0),r("attach",o)},a.isAttached(this.canvas)?o():l()}unbindEvents(){zr(this._listeners,(t,a)=>{this.platform.removeEventListener(this,a,t)}),this._listeners={},zr(this._responsiveListeners,(t,a)=>{this.platform.removeEventListener(this,a,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,a,r){const n=r?"set":"remove";let i,l,o,c;for(a==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+n+"DatasetHoverStyle"]()),o=0,c=t.length;o<c;++o){l=t[o];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[n+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const a=this._active||[],r=t.map(({datasetIndex:i,index:l})=>{const o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[l],index:l}});!H2(r,a)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,a))}notifyPlugins(t,a,r){return this._plugins.notify(this,t,a,r)}isPluginEnabled(t){return this._plugins._cache.filter(a=>a.plugin.id===t).length===1}_updateHoverStyles(t,a,r){const n=this.options.hover,i=(c,d)=>c.filter(u=>!d.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),l=i(a,t),o=r?t:i(t,a);l.length&&this.updateHoverStyle(l,n.mode,!1),o.length&&n.mode&&this.updateHoverStyle(o,n.mode,!0)}_eventHandler(t,a){const r={event:t,replay:a,cancelable:!0,inChartArea:this.isPointInArea(t)},n=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,n)===!1)return;const i=this._handleEvent(t,a,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,n),(i||r.changed)&&this.render(),this}_handleEvent(t,a,r){const{_active:n=[],options:i}=this,l=a,o=this._getActiveElements(t,n,r,l),c=Lae(t),d=Ene(t,this._lastEvent,r,c);r&&(this._lastEvent=null,ls(i.onHover,[t,o,this],this),c&&ls(i.onClick,[t,o,this],this));const u=!H2(o,n);return(u||a)&&(this._active=o,this._updateHoverStyles(o,n,a)),this._lastEvent=d,u}_getActiveElements(t,a,r,n){if(t.type==="mouseout")return[];if(!r)return a;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,n)}};function ID(){return zr(Nr.instances,e=>e._plugins.invalidate())}function Dne(e,t,a){const{startAngle:r,x:n,y:i,outerRadius:l,innerRadius:o,options:c}=t,{borderWidth:d,borderJoinStyle:u}=c,f=Math.min(d/l,rl(r-a));if(e.beginPath(),e.arc(n,i,l-d/2,r+f/2,a-f/2),o>0){const x=Math.min(d/o,rl(r-a));e.arc(n,i,o+d/2,a-x/2,r+x/2,!0)}else{const x=Math.min(d/2,l*rl(r-a));if(u==="round")e.arc(n,i,x,a-Er/2,r+Er/2,!0);else if(u==="bevel"){const p=2*x*x,v=-p*Math.cos(a+Er/2)+n,g=-p*Math.sin(a+Er/2)+i,b=p*Math.cos(r+Er/2)+n,j=p*Math.sin(r+Er/2)+i;e.lineTo(v,g),e.lineTo(b,j)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function Mne(e,t,a){const{startAngle:r,pixelMargin:n,x:i,y:l,outerRadius:o,innerRadius:c}=t;let d=n/o;e.beginPath(),e.arc(i,l,o,r-d,a+d),c>n?(d=n/c,e.arc(i,l,c,a+d,r-d,!0)):e.arc(i,l,n,a+Nn,r-Nn),e.closePath(),e.clip()}function Pne(e){return tA(e,["outerStart","outerEnd","innerStart","innerEnd"])}function Lne(e,t,a,r){const n=Pne(e.options.borderRadius),i=(a-t)/2,l=Math.min(i,r*t/2),o=c=>{const d=(a-Math.min(i,c))*r/2;return ji(c,0,Math.min(i,d))};return{outerStart:o(n.outerStart),outerEnd:o(n.outerEnd),innerStart:ji(n.innerStart,0,l),innerEnd:ji(n.innerEnd,0,l)}}function Sp(e,t,a,r){return{x:a+e*Math.cos(t),y:r+e*Math.sin(t)}}function Y2(e,t,a,r,n,i){const{x:l,y:o,startAngle:c,pixelMargin:d,innerRadius:u}=t,f=Math.max(t.outerRadius+r+a-d,0),x=u>0?u+r+a+d:0;let p=0;const v=n-c;if(r){const q=u>0?u-r:0,I=f>0?f-r:0,G=(q+I)/2,re=G!==0?v*G/(G+r):v;p=(v-re)/2}const g=Math.max(.001,v*f-a/Er)/f,b=(v-g)/2,j=c+b+p,N=n-b-p,{outerStart:S,outerEnd:k,innerStart:A,innerEnd:_}=Lne(t,x,f,N-j),M=f-S,L=f-k,U=j+S/M,z=N-k/L,O=x+A,B=x+_,E=j+A/O,R=N-_/B;if(e.beginPath(),i){const q=(U+z)/2;if(e.arc(l,o,f,U,q),e.arc(l,o,f,q,z),k>0){const te=Sp(L,z,l,o);e.arc(te.x,te.y,k,z,N+Nn)}const I=Sp(B,N,l,o);if(e.lineTo(I.x,I.y),_>0){const te=Sp(B,R,l,o);e.arc(te.x,te.y,_,N+Nn,R+Math.PI)}const G=(N-_/x+(j+A/x))/2;if(e.arc(l,o,x,N-_/x,G,!0),e.arc(l,o,x,G,j+A/x,!0),A>0){const te=Sp(O,E,l,o);e.arc(te.x,te.y,A,E+Math.PI,j-Nn)}const re=Sp(M,j,l,o);if(e.lineTo(re.x,re.y),S>0){const te=Sp(M,U,l,o);e.arc(te.x,te.y,S,j-Nn,U)}}else{e.moveTo(l,o);const q=Math.cos(U)*f+l,I=Math.sin(U)*f+o;e.lineTo(q,I);const G=Math.cos(z)*f+l,re=Math.sin(z)*f+o;e.lineTo(G,re)}e.closePath()}function One(e,t,a,r,n){const{fullCircles:i,startAngle:l,circumference:o}=t;let c=t.endAngle;if(i){Y2(e,t,a,r,c,n);for(let d=0;d<i;++d)e.fill();isNaN(o)||(c=l+(o%ms||ms))}return Y2(e,t,a,r,c,n),e.fill(),c}function Rne(e,t,a,r,n){const{fullCircles:i,startAngle:l,circumference:o,options:c}=t,{borderWidth:d,borderJoinStyle:u,borderDash:f,borderDashOffset:x,borderRadius:p}=c,v=c.borderAlign==="inner";if(!d)return;e.setLineDash(f||[]),e.lineDashOffset=x,v?(e.lineWidth=d*2,e.lineJoin=u||"round"):(e.lineWidth=d,e.lineJoin=u||"bevel");let g=t.endAngle;if(i){Y2(e,t,a,r,g,n);for(let b=0;b<i;++b)e.stroke();isNaN(o)||(g=l+(o%ms||ms))}v&&Mne(e,t,g),c.selfJoin&&g-l>=Er&&p===0&&u!=="miter"&&Dne(e,t,g),i||(Y2(e,t,a,r,g,n),e.stroke())}class Tm extends bh{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,a,r){const n=this.getProps(["x","y"],r),{angle:i,distance:l}=z$(n,{x:t,y:a}),{startAngle:o,endAngle:c,innerRadius:d,outerRadius:u,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),x=(this.options.spacing+this.options.borderWidth)/2,p=Wa(f,c-o),v=U1(i,o,c)&&o!==c,g=p>=ms||v,b=Wu(l,d+x,u+x);return g&&b}getCenterPoint(t){const{x:a,y:r,startAngle:n,endAngle:i,innerRadius:l,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:d}=this.options,u=(n+i)/2,f=(l+o+d+c)/2;return{x:a+Math.cos(u)*f,y:r+Math.sin(u)*f}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:a,circumference:r}=this,n=(a.offset||0)/4,i=(a.spacing||0)/2,l=a.circular;if(this.pixelMargin=a.borderAlign==="inner"?.33:0,this.fullCircles=r>ms?Math.floor(r/ms):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const o=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(o)*n,Math.sin(o)*n);const c=1-Math.sin(Math.min(Er,r||0)),d=n*c;t.fillStyle=a.backgroundColor,t.strokeStyle=a.borderColor,One(t,this,d,i,l),Rne(t,this,d,i,l),t.restore()}}function CU(e,t,a=t){e.lineCap=Wa(a.borderCapStyle,t.borderCapStyle),e.setLineDash(Wa(a.borderDash,t.borderDash)),e.lineDashOffset=Wa(a.borderDashOffset,t.borderDashOffset),e.lineJoin=Wa(a.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Wa(a.borderWidth,t.borderWidth),e.strokeStyle=Wa(a.borderColor,t.borderColor)}function Fne(e,t,a){e.lineTo(a.x,a.y)}function Ine(e){return e.stepped?rre:e.tension||e.cubicInterpolationMode==="monotone"?sre:Fne}function AU(e,t,a={}){const r=e.length,{start:n=0,end:i=r-1}=a,{start:l,end:o}=t,c=Math.max(n,l),d=Math.min(i,o),u=n<l&&i<l||n>o&&i>o;return{count:r,start:c,loop:t.loop,ilen:d<c&&!u?r+d-c:d-c}}function Bne(e,t,a,r){const{points:n,options:i}=t,{count:l,start:o,loop:c,ilen:d}=AU(n,a,r),u=Ine(i);let{move:f=!0,reverse:x}=r||{},p,v,g;for(p=0;p<=d;++p)v=n[(o+(x?d-p:p))%l],!v.skip&&(f?(e.moveTo(v.x,v.y),f=!1):u(e,g,v,x,i.stepped),g=v);return c&&(v=n[(o+(x?d:0))%l],u(e,g,v,x,i.stepped)),!!c}function $ne(e,t,a,r){const n=t.points,{count:i,start:l,ilen:o}=AU(n,a,r),{move:c=!0,reverse:d}=r||{};let u=0,f=0,x,p,v,g,b,j;const N=k=>(l+(d?o-k:k))%i,S=()=>{g!==b&&(e.lineTo(u,b),e.lineTo(u,g),e.lineTo(u,j))};for(c&&(p=n[N(0)],e.moveTo(p.x,p.y)),x=0;x<=o;++x){if(p=n[N(x)],p.skip)continue;const k=p.x,A=p.y,_=k|0;_===v?(A<g?g=A:A>b&&(b=A),u=(f*u+k)/++f):(S(),e.lineTo(k,A),v=_,f=0,g=b=A),j=A}S()}function Dk(e){const t=e.options,a=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!a?$ne:Bne}function Une(e){return e.stepped?Rre:e.tension||e.cubicInterpolationMode==="monotone"?Fre:_0}function zne(e,t,a,r){let n=t._path;n||(n=t._path=new Path2D,t.path(n,a,r)&&n.closePath()),CU(e,t.options),e.stroke(n)}function Hne(e,t,a,r){const{segments:n,options:i}=t,l=Dk(t);for(const o of n)CU(e,i,o.style),e.beginPath(),l(e,t,o,{start:a,end:a+r-1})&&e.closePath(),e.stroke()}const Vne=typeof Path2D=="function";function Wne(e,t,a,r){Vne&&!t.options.segment?zne(e,t,a,r):Hne(e,t,a,r)}class ai extends bh{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,a){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const n=r.spanGaps?this._loop:this._fullLoop;_re(this._points,r,t,n,a),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Hre(this,this.options.segment))}first(){const t=this.segments,a=this.points;return t.length&&a[t[0].start]}last(){const t=this.segments,a=this.points,r=t.length;return r&&a[t[r-1].end]}interpolate(t,a){const r=this.options,n=t[a],i=this.points,l=oU(this,{property:a,start:n,end:n});if(!l.length)return;const o=[],c=Une(r);let d,u;for(d=0,u=l.length;d<u;++d){const{start:f,end:x}=l[d],p=i[f],v=i[x];if(p===v){o.push(p);continue}const g=Math.abs((n-p[a])/(v[a]-p[a])),b=c(p,v,g,r.stepped);b[a]=t[a],o.push(b)}return o.length===1?o[0]:o}pathSegment(t,a,r){return Dk(this)(t,this,a,r)}path(t,a,r){const n=this.segments,i=Dk(this);let l=this._loop;a=a||0,r=r||this.points.length-a;for(const o of n)l&=i(t,this,o,{start:a,end:a+r-1});return!!l}draw(t,a,r,n){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),Wne(t,this,r,n),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function BD(e,t,a,r){const n=e.options,{[a]:i}=e.getProps([a],r);return Math.abs(t-i)<n.radius+n.hitRadius}class pl extends bh{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,a,r){const n=this.options,{x:i,y:l}=this.getProps(["x","y"],r);return Math.pow(t-i,2)+Math.pow(a-l,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(t,a){return BD(this,t,"x",a)}inYRange(t,a){return BD(this,t,"y",a)}getCenterPoint(t){const{x:a,y:r}=this.getProps(["x","y"],t);return{x:a,y:r}}size(t){t=t||this.options||{};let a=t.radius||0;a=Math.max(a,a&&t.hoverRadius||0);const r=a&&t.borderWidth||0;return(a+r)*2}draw(t,a){const r=this.options;this.skip||r.radius<.1||!Gu(this,a,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,_k(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function _U(e,t){const{x:a,y:r,base:n,width:i,height:l}=e.getProps(["x","y","base","width","height"],t);let o,c,d,u,f;return e.horizontal?(f=l/2,o=Math.min(a,n),c=Math.max(a,n),d=r-f,u=r+f):(f=i/2,o=a-f,c=a+f,d=Math.min(r,n),u=Math.max(r,n)),{left:o,top:d,right:c,bottom:u}}function yf(e,t,a,r){return e?0:ji(t,a,r)}function qne(e,t,a){const r=e.options.borderWidth,n=e.borderSkipped,i=Q$(r);return{t:yf(n.top,i.top,0,a),r:yf(n.right,i.right,0,t),b:yf(n.bottom,i.bottom,0,a),l:yf(n.left,i.left,0,t)}}function Gne(e,t,a){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),n=e.options.borderRadius,i=V0(n),l=Math.min(t,a),o=e.borderSkipped,c=r||gr(n);return{topLeft:yf(!c||o.top||o.left,i.topLeft,0,l),topRight:yf(!c||o.top||o.right,i.topRight,0,l),bottomLeft:yf(!c||o.bottom||o.left,i.bottomLeft,0,l),bottomRight:yf(!c||o.bottom||o.right,i.bottomRight,0,l)}}function Kne(e){const t=_U(e),a=t.right-t.left,r=t.bottom-t.top,n=qne(e,a/2,r/2),i=Gne(e,a/2,r/2);return{outer:{x:t.left,y:t.top,w:a,h:r,radius:i},inner:{x:t.left+n.l,y:t.top+n.t,w:a-n.l-n.r,h:r-n.t-n.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,i.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(n.b,n.r))}}}}function x5(e,t,a,r){const n=t===null,i=a===null,o=e&&!(n&&i)&&_U(e,r);return o&&(n||Wu(t,o.left,o.right))&&(i||Wu(a,o.top,o.bottom))}function Yne(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function Xne(e,t){e.rect(t.x,t.y,t.w,t.h)}function g5(e,t,a={}){const r=e.x!==a.x?-t:0,n=e.y!==a.y?-t:0,i=(e.x+e.w!==a.x+a.w?t:0)-r,l=(e.y+e.h!==a.y+a.h?t:0)-n;return{x:e.x+r,y:e.y+n,w:e.w+i,h:e.h+l,radius:e.radius}}class $n extends bh{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:a,options:{borderColor:r,backgroundColor:n}}=this,{inner:i,outer:l}=Kne(this),o=Yne(l.radius)?z1:Xne;t.save(),(l.w!==i.w||l.h!==i.h)&&(t.beginPath(),o(t,g5(l,a,i)),t.clip(),o(t,g5(i,-a,l)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),o(t,g5(i,a)),t.fillStyle=n,t.fill(),t.restore()}inRange(t,a,r){return x5(this,t,a,r)}inXRange(t,a){return x5(this,t,null,a)}inYRange(t,a){return x5(this,null,t,a)}getCenterPoint(t){const{x:a,y:r,base:n,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(a+n)/2:a,y:i?r:(r+n)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var Qne=Object.freeze({__proto__:null,ArcElement:Tm,BarElement:$n,LineElement:ai,PointElement:pl});const Mk=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],$D=Mk.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function TU(e){return Mk[e%Mk.length]}function EU(e){return $D[e%$D.length]}function Jne(e,t){return e.borderColor=TU(t),e.backgroundColor=EU(t),++t}function Zne(e,t){return e.backgroundColor=e.data.map(()=>TU(t++)),t}function eie(e,t){return e.backgroundColor=e.data.map(()=>EU(t++)),t}function tie(e){let t=0;return(a,r)=>{const n=e.getDatasetMeta(r).controller;n instanceof Dj?t=Zne(a,t):n instanceof pU?t=eie(a,t):n&&(t=Jne(a,t))}}function UD(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function aie(e){return e&&(e.borderColor||e.backgroundColor)}function rie(){return Es.borderColor!=="rgba(0,0,0,0.1)"||Es.backgroundColor!=="rgba(0,0,0,0.1)"}var sie={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,a){if(!a.enabled)return;const{data:{datasets:r},options:n}=e.config,{elements:i}=n,l=UD(r)||aie(n)||i&&UD(i)||rie();if(!a.forceOverride&&l)return;const o=tie(e);r.forEach(o)}};function nie(e,t,a,r,n){const i=n.samples||r;if(i>=a)return e.slice(t,t+a);const l=[],o=(a-2)/(i-2);let c=0;const d=t+a-1;let u=t,f,x,p,v,g;for(l[c++]=e[u],f=0;f<i-2;f++){let b=0,j=0,N;const S=Math.floor((f+1)*o)+1+t,k=Math.min(Math.floor((f+2)*o)+1,a)+t,A=k-S;for(N=S;N<k;N++)b+=e[N].x,j+=e[N].y;b/=A,j/=A;const _=Math.floor(f*o)+1+t,M=Math.min(Math.floor((f+1)*o)+1,a)+t,{x:L,y:U}=e[u];for(p=v=-1,N=_;N<M;N++)v=.5*Math.abs((L-b)*(e[N].y-U)-(L-e[N].x)*(j-U)),v>p&&(p=v,x=e[N],g=N);l[c++]=x,u=g}return l[c++]=e[d],l}function iie(e,t,a,r){let n=0,i=0,l,o,c,d,u,f,x,p,v,g;const b=[],j=t+a-1,N=e[t].x,k=e[j].x-N;for(l=t;l<t+a;++l){o=e[l],c=(o.x-N)/k*r,d=o.y;const A=c|0;if(A===u)d<v?(v=d,f=l):d>g&&(g=d,x=l),n=(i*n+o.x)/++i;else{const _=l-1;if(!ur(f)&&!ur(x)){const M=Math.min(f,x),L=Math.max(f,x);M!==p&&M!==_&&b.push({...e[M],x:n}),L!==p&&L!==_&&b.push({...e[L],x:n})}l>0&&_!==p&&b.push(e[_]),b.push(o),u=A,i=0,v=g=d,f=x=p=l}}return b}function DU(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function zD(e){e.data.datasets.forEach(t=>{DU(t)})}function lie(e,t){const a=t.length;let r=0,n;const{iScale:i}=e,{min:l,max:o,minDefined:c,maxDefined:d}=i.getUserBounds();return c&&(r=ji(qu(t,i.axis,l).lo,0,a-1)),d?n=ji(qu(t,i.axis,o).hi+1,r,a)-r:n=a-r,{start:r,count:n}}var oie={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,a)=>{if(!a.enabled){zD(e);return}const r=e.width;e.data.datasets.forEach((n,i)=>{const{_data:l,indexAxis:o}=n,c=e.getDatasetMeta(i),d=l||n.data;if(e1([o,e.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const u=e.scales[c.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:f,count:x}=lie(c,d);const p=a.threshold||4*r;if(x<=p){DU(n);return}ur(l)&&(n._data=d,delete n.data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let v;switch(a.algorithm){case"lttb":v=nie(d,f,x,r,a);break;case"min-max":v=iie(d,f,x,r);break;default:throw new Error(`Unsupported decimation algorithm '${a.algorithm}'`)}n._decimated=v})},destroy(e){zD(e)}};function cie(e,t,a){const r=e.segments,n=e.points,i=t.points,l=[];for(const o of r){let{start:c,end:d}=o;d=Pj(c,d,n);const u=Pk(a,n[c],n[d],o.loop);if(!t.segments){l.push({source:o,target:u,start:n[c],end:n[d]});continue}const f=oU(t,u);for(const x of f){const p=Pk(a,i[x.start],i[x.end],x.loop),v=lU(o,n,p);for(const g of v)l.push({source:g,target:x,start:{[a]:HD(u,p,"start",Math.max)},end:{[a]:HD(u,p,"end",Math.min)}})}}return l}function Pk(e,t,a,r){if(r)return;let n=t[e],i=a[e];return e==="angle"&&(n=rl(n),i=rl(i)),{property:e,start:n,end:i}}function die(e,t){const{x:a=null,y:r=null}=e||{},n=t.points,i=[];return t.segments.forEach(({start:l,end:o})=>{o=Pj(l,o,n);const c=n[l],d=n[o];r!==null?(i.push({x:c.x,y:r}),i.push({x:d.x,y:r})):a!==null&&(i.push({x:a,y:c.y}),i.push({x:a,y:d.y}))}),i}function Pj(e,t,a){for(;t>e;t--){const r=a[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function HD(e,t,a,r){return e&&t?r(e[a],t[a]):e?e[a]:t?t[a]:0}function MU(e,t){let a=[],r=!1;return Ts(e)?(r=!0,a=e):a=die(e,t),a.length?new ai({points:a,options:{tension:0},_loop:r,_fullLoop:r}):null}function VD(e){return e&&e.fill!==!1}function uie(e,t,a){let n=e[t].fill;const i=[t];let l;if(!a)return n;for(;n!==!1&&i.indexOf(n)===-1;){if(!Zs(n))return n;if(l=e[n],!l)return!1;if(l.visible)return n;i.push(n),n=l.fill}return!1}function hie(e,t,a){const r=xie(e);if(gr(r))return isNaN(r.value)?!1:r;let n=parseFloat(r);return Zs(n)&&Math.floor(n)===n?fie(r[0],t,n,a):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function fie(e,t,a,r){return(e==="-"||e==="+")&&(a=t+a),a===t||a<0||a>=r?!1:a}function mie(e,t){let a=null;return e==="start"?a=t.bottom:e==="end"?a=t.top:gr(e)?a=t.getPixelForValue(e.value):t.getBasePixel&&(a=t.getBasePixel()),a}function pie(e,t,a){let r;return e==="start"?r=a:e==="end"?r=t.options.reverse?t.min:t.max:gr(e)?r=e.value:r=t.getBaseValue(),r}function xie(e){const t=e.options,a=t.fill;let r=Wa(a&&a.target,a);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function gie(e){const{scale:t,index:a,line:r}=e,n=[],i=r.segments,l=r.points,o=vie(t,a);o.push(MU({x:null,y:t.bottom},r));for(let c=0;c<i.length;c++){const d=i[c];for(let u=d.start;u<=d.end;u++)bie(n,l[u],o)}return new ai({points:n,options:{}})}function vie(e,t){const a=[],r=e.getMatchingVisibleMetas("line");for(let n=0;n<r.length;n++){const i=r[n];if(i.index===t)break;i.hidden||a.unshift(i.dataset)}return a}function bie(e,t,a){const r=[];for(let n=0;n<a.length;n++){const i=a[n],{first:l,last:o,point:c}=yie(i,t,"x");if(!(!c||l&&o)){if(l)r.unshift(c);else if(e.push(c),!o)break}}e.push(...r)}function yie(e,t,a){const r=e.interpolate(t,a);if(!r)return{};const n=r[a],i=e.segments,l=e.points;let o=!1,c=!1;for(let d=0;d<i.length;d++){const u=i[d],f=l[u.start][a],x=l[u.end][a];if(Wu(n,f,x)){o=n===f,c=n===x;break}}return{first:o,last:c,point:r}}class PU{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,a,r){const{x:n,y:i,radius:l}=this;return a=a||{start:0,end:ms},t.arc(n,i,l,a.end,a.start,!0),!r.bounds}interpolate(t){const{x:a,y:r,radius:n}=this,i=t.angle;return{x:a+Math.cos(i)*n,y:r+Math.sin(i)*n,angle:i}}}function wie(e){const{chart:t,fill:a,line:r}=e;if(Zs(a))return jie(t,a);if(a==="stack")return gie(e);if(a==="shape")return!0;const n=Nie(e);return n instanceof PU?n:MU(n,r)}function jie(e,t){const a=e.getDatasetMeta(t);return a&&e.isDatasetVisible(t)?a.dataset:null}function Nie(e){return(e.scale||{}).getPointPositionForValue?kie(e):Sie(e)}function Sie(e){const{scale:t={},fill:a}=e,r=mie(a,t);if(Zs(r)){const n=t.isHorizontal();return{x:n?r:null,y:n?null:r}}return null}function kie(e){const{scale:t,fill:a}=e,r=t.options,n=t.getLabels().length,i=r.reverse?t.max:t.min,l=pie(a,t,i),o=[];if(r.grid.circular){const c=t.getPointPositionForValue(0,i);return new PU({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(l)})}for(let c=0;c<n;++c)o.push(t.getPointPositionForValue(c,l));return o}function v5(e,t,a){const r=wie(t),{chart:n,index:i,line:l,scale:o,axis:c}=t,d=l.options,u=d.fill,f=d.backgroundColor,{above:x=f,below:p=f}=u||{},v=n.getDatasetMeta(i),g=cU(n,v);r&&l.points.length&&(_j(e,a),Cie(e,{line:l,target:r,above:x,below:p,area:a,scale:o,axis:c,clip:g}),Tj(e))}function Cie(e,t){const{line:a,target:r,above:n,below:i,area:l,scale:o,clip:c}=t,d=a._loop?"angle":t.axis;e.save();let u=i;i!==n&&(d==="x"?(WD(e,r,l.top),b5(e,{line:a,target:r,color:n,scale:o,property:d,clip:c}),e.restore(),e.save(),WD(e,r,l.bottom)):d==="y"&&(qD(e,r,l.left),b5(e,{line:a,target:r,color:i,scale:o,property:d,clip:c}),e.restore(),e.save(),qD(e,r,l.right),u=n)),b5(e,{line:a,target:r,color:u,scale:o,property:d,clip:c}),e.restore()}function WD(e,t,a){const{segments:r,points:n}=t;let i=!0,l=!1;e.beginPath();for(const o of r){const{start:c,end:d}=o,u=n[c],f=n[Pj(c,d,n)];i?(e.moveTo(u.x,u.y),i=!1):(e.lineTo(u.x,a),e.lineTo(u.x,u.y)),l=!!t.pathSegment(e,o,{move:l}),l?e.closePath():e.lineTo(f.x,a)}e.lineTo(t.first().x,a),e.closePath(),e.clip()}function qD(e,t,a){const{segments:r,points:n}=t;let i=!0,l=!1;e.beginPath();for(const o of r){const{start:c,end:d}=o,u=n[c],f=n[Pj(c,d,n)];i?(e.moveTo(u.x,u.y),i=!1):(e.lineTo(a,u.y),e.lineTo(u.x,u.y)),l=!!t.pathSegment(e,o,{move:l}),l?e.closePath():e.lineTo(a,f.y)}e.lineTo(a,t.first().y),e.closePath(),e.clip()}function b5(e,t){const{line:a,target:r,property:n,color:i,scale:l,clip:o}=t,c=cie(a,r,n);for(const{source:d,target:u,start:f,end:x}of c){const{style:{backgroundColor:p=i}={}}=d,v=r!==!0;e.save(),e.fillStyle=p,Aie(e,l,o,v&&Pk(n,f,x)),e.beginPath();const g=!!a.pathSegment(e,d);let b;if(v){g?e.closePath():GD(e,r,x,n);const j=!!r.pathSegment(e,u,{move:g,reverse:!0});b=g&&j,b||GD(e,r,f,n)}e.closePath(),e.fill(b?"evenodd":"nonzero"),e.restore()}}function Aie(e,t,a,r){const n=t.chart.chartArea,{property:i,start:l,end:o}=r||{};if(i==="x"||i==="y"){let c,d,u,f;i==="x"?(c=l,d=n.top,u=o,f=n.bottom):(c=n.left,d=l,u=n.right,f=o),e.beginPath(),a&&(c=Math.max(c,a.left),u=Math.min(u,a.right),d=Math.max(d,a.top),f=Math.min(f,a.bottom)),e.rect(c,d,u-c,f-d),e.clip()}}function GD(e,t,a,r){const n=t.interpolate(a,r);n&&e.lineTo(n.x,n.y)}var _ie={id:"filler",afterDatasetsUpdate(e,t,a){const r=(e.data.datasets||[]).length,n=[];let i,l,o,c;for(l=0;l<r;++l)i=e.getDatasetMeta(l),o=i.dataset,c=null,o&&o.options&&o instanceof ai&&(c={visible:e.isDatasetVisible(l),index:l,fill:hie(o,l,r),chart:e,axis:i.controller.options.indexAxis,scale:i.vScale,line:o}),i.$filler=c,n.push(c);for(l=0;l<r;++l)c=n[l],!(!c||c.fill===!1)&&(c.fill=uie(n,l,a.propagate))},beforeDraw(e,t,a){const r=a.drawTime==="beforeDraw",n=e.getSortedVisibleDatasetMetas(),i=e.chartArea;for(let l=n.length-1;l>=0;--l){const o=n[l].$filler;o&&(o.line.updateControlPoints(i,o.axis),r&&o.fill&&v5(e.ctx,o,i))}},beforeDatasetsDraw(e,t,a){if(a.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let n=r.length-1;n>=0;--n){const i=r[n].$filler;VD(i)&&v5(e.ctx,i,e.chartArea)}},beforeDatasetDraw(e,t,a){const r=t.meta.$filler;!VD(r)||a.drawTime!=="beforeDatasetDraw"||v5(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const KD=(e,t)=>{let{boxHeight:a=t,boxWidth:r=t}=e;return e.usePointStyle&&(a=Math.min(a,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:a,itemHeight:Math.max(t,a)}},Tie=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class YD extends bh{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,a,r){this.maxWidth=t,this.maxHeight=a,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let a=ls(t.generateLabels,[this.chart],this)||[];t.filter&&(a=a.filter(r=>t.filter(r,this.chart.data))),t.sort&&(a=a.sort((r,n)=>t.sort(r,n,this.chart.data))),this.options.reverse&&a.reverse(),this.legendItems=a}fit(){const{options:t,ctx:a}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,n=Jn(r.font),i=n.size,l=this._computeTitleHeight(),{boxWidth:o,itemHeight:c}=KD(r,i);let d,u;a.font=n.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(l,i,o,c)+10):(u=this.maxHeight,d=this._fitCols(l,n,o,c)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,a,r,n){const{ctx:i,maxWidth:l,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=n+o;let f=t;i.textAlign="left",i.textBaseline="middle";let x=-1,p=-u;return this.legendItems.forEach((v,g)=>{const b=r+a/2+i.measureText(v.text).width;(g===0||d[d.length-1]+b+2*o>l)&&(f+=u,d[d.length-(g>0?0:1)]=0,p+=u,x++),c[g]={left:0,top:p,row:x,width:b,height:n},d[d.length-1]+=b+o}),f}_fitCols(t,a,r,n){const{ctx:i,maxHeight:l,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=l-t;let f=o,x=0,p=0,v=0,g=0;return this.legendItems.forEach((b,j)=>{const{itemWidth:N,itemHeight:S}=Eie(r,a,i,b,n);j>0&&p+S+2*o>u&&(f+=x+o,d.push({width:x,height:p}),v+=x+o,g++,x=p=0),c[j]={left:v,top:p,col:g,width:N,height:S},x=Math.max(x,N),p+=S+o}),f+=x,d.push({width:x,height:p}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:a,options:{align:r,labels:{padding:n},rtl:i}}=this,l=Wp(i,this.left,this.width);if(this.isHorizontal()){let o=0,c=el(r,this.left+n,this.right-this.lineWidths[o]);for(const d of a)o!==d.row&&(o=d.row,c=el(r,this.left+n,this.right-this.lineWidths[o])),d.top+=this.top+t+n,d.left=l.leftForLtr(l.x(c),d.width),c+=d.width+n}else{let o=0,c=el(r,this.top+t+n,this.bottom-this.columnSizes[o].height);for(const d of a)d.col!==o&&(o=d.col,c=el(r,this.top+t+n,this.bottom-this.columnSizes[o].height)),d.top=c,d.left+=this.left+n,d.left=l.leftForLtr(l.x(d.left),d.width),c+=d.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;_j(t,this),this._draw(),Tj(t)}}_draw(){const{options:t,columnSizes:a,lineWidths:r,ctx:n}=this,{align:i,labels:l}=t,o=Es.color,c=Wp(t.rtl,this.left,this.width),d=Jn(l.font),{padding:u}=l,f=d.size,x=f/2;let p;this.drawTitle(),n.textAlign=c.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=d.string;const{boxWidth:v,boxHeight:g,itemHeight:b}=KD(l,f),j=function(_,M,L){if(isNaN(v)||v<=0||isNaN(g)||g<0)return;n.save();const U=Wa(L.lineWidth,1);if(n.fillStyle=Wa(L.fillStyle,o),n.lineCap=Wa(L.lineCap,"butt"),n.lineDashOffset=Wa(L.lineDashOffset,0),n.lineJoin=Wa(L.lineJoin,"miter"),n.lineWidth=U,n.strokeStyle=Wa(L.strokeStyle,o),n.setLineDash(Wa(L.lineDash,[])),l.usePointStyle){const z={radius:g*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:U},O=c.xPlus(_,v/2),B=M+x;X$(n,z,O,B,l.pointStyleWidth&&v)}else{const z=M+Math.max((f-g)/2,0),O=c.leftForLtr(_,v),B=V0(L.borderRadius);n.beginPath(),Object.values(B).some(E=>E!==0)?z1(n,{x:O,y:z,w:v,h:g,radius:B}):n.rect(O,z,v,g),n.fill(),U!==0&&n.stroke()}n.restore()},N=function(_,M,L){om(n,L.text,_,M+b/2,d,{strikethrough:L.hidden,textAlign:c.textAlign(L.textAlign)})},S=this.isHorizontal(),k=this._computeTitleHeight();S?p={x:el(i,this.left+u,this.right-r[0]),y:this.top+u+k,line:0}:p={x:this.left+u,y:el(i,this.top+k+u,this.bottom-a[0].height),line:0},sU(this.ctx,t.textDirection);const A=b+u;this.legendItems.forEach((_,M)=>{n.strokeStyle=_.fontColor,n.fillStyle=_.fontColor;const L=n.measureText(_.text).width,U=c.textAlign(_.textAlign||(_.textAlign=l.textAlign)),z=v+x+L;let O=p.x,B=p.y;c.setWidth(this.width),S?M>0&&O+z+u>this.right&&(B=p.y+=A,p.line++,O=p.x=el(i,this.left+u,this.right-r[p.line])):M>0&&B+A>this.bottom&&(O=p.x=O+a[p.line].width+u,p.line++,B=p.y=el(i,this.top+k+u,this.bottom-a[p.line].height));const E=c.x(O);if(j(E,B,_),O=qae(U,O+v+x,S?O+z:this.right,t.rtl),N(c.x(O),B,_),S)p.x+=z+u;else if(typeof _.text!="string"){const R=d.lineHeight;p.y+=LU(_,R)+u}else p.y+=A}),nU(this.ctx,t.textDirection)}drawTitle(){const t=this.options,a=t.title,r=Jn(a.font),n=hl(a.padding);if(!a.display)return;const i=Wp(t.rtl,this.left,this.width),l=this.ctx,o=a.position,c=r.size/2,d=n.top+c;let u,f=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),u=this.top+d,f=el(t.align,f,this.right-x);else{const v=this.columnSizes.reduce((g,b)=>Math.max(g,b.height),0);u=d+el(t.align,this.top,this.bottom-v-t.labels.padding-this._computeTitleHeight())}const p=el(o,f,f+x);l.textAlign=i.textAlign(Z6(o)),l.textBaseline="middle",l.strokeStyle=a.color,l.fillStyle=a.color,l.font=r.string,om(l,a.text,p,u,r)}_computeTitleHeight(){const t=this.options.title,a=Jn(t.font),r=hl(t.padding);return t.display?a.lineHeight+r.height:0}_getLegendItemAt(t,a){let r,n,i;if(Wu(t,this.left,this.right)&&Wu(a,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(n=i[r],Wu(t,n.left,n.left+n.width)&&Wu(a,n.top,n.top+n.height))return this.legendItems[r]}return null}handleEvent(t){const a=this.options;if(!Pie(t.type,a))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const n=this._hoveredItem,i=Tie(n,r);n&&!i&&ls(a.onLeave,[t,n,this],this),this._hoveredItem=r,r&&!i&&ls(a.onHover,[t,r,this],this)}else r&&ls(a.onClick,[t,r,this],this)}}function Eie(e,t,a,r,n){const i=Die(r,e,t,a),l=Mie(n,r,t.lineHeight);return{itemWidth:i,itemHeight:l}}function Die(e,t,a,r){let n=e.text;return n&&typeof n!="string"&&(n=n.reduce((i,l)=>i.length>l.length?i:l)),t+a.size/2+r.measureText(n).width}function Mie(e,t,a){let r=e;return typeof t.text!="string"&&(r=LU(t,a)),r}function LU(e,t){const a=e.text?e.text.length:0;return t*a}function Pie(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var an={id:"legend",_element:YD,start(e,t,a){const r=e.legend=new YD({ctx:e.ctx,options:a,chart:e});cl.configure(e,r,a),cl.addBox(e,r)},stop(e){cl.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,a){const r=e.legend;cl.configure(e,r,a),r.options=a},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,a){const r=t.datasetIndex,n=a.chart;n.isDatasetVisible(r)?(n.hide(r),t.hidden=!0):(n.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:a,pointStyle:r,textAlign:n,color:i,useBorderRadius:l,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(a?0:void 0),u=hl(d.borderWidth);return{text:t[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:n||d.textAlign,borderRadius:l&&(o||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class oA extends bh{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,a){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=a;const n=Ts(r.text)?r.text.length:1;this._padding=hl(r.padding);const i=n*Jn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:a,left:r,bottom:n,right:i,options:l}=this,o=l.align;let c=0,d,u,f;return this.isHorizontal()?(u=el(o,r,i),f=a+t,d=i-r):(l.position==="left"?(u=r+t,f=el(o,n,a),c=Er*-.5):(u=i-t,f=el(o,a,n),c=Er*.5),d=n-a),{titleX:u,titleY:f,maxWidth:d,rotation:c}}draw(){const t=this.ctx,a=this.options;if(!a.display)return;const r=Jn(a.font),i=r.lineHeight/2+this._padding.top,{titleX:l,titleY:o,maxWidth:c,rotation:d}=this._drawArgs(i);om(t,a.text,0,0,r,{color:a.color,maxWidth:c,rotation:d,textAlign:Z6(a.align),textBaseline:"middle",translation:[l,o]})}}function Lie(e,t){const a=new oA({ctx:e.ctx,options:t,chart:e});cl.configure(e,a,t),cl.addBox(e,a),e.titleBlock=a}var wx={id:"title",_element:oA,start(e,t,a){Lie(e,a)},stop(e){const t=e.titleBlock;cl.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,a){const r=e.titleBlock;cl.configure(e,r,a),r.options=a},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ty=new WeakMap;var Oie={id:"subtitle",start(e,t,a){const r=new oA({ctx:e.ctx,options:a,chart:e});cl.configure(e,r,a),cl.addBox(e,r),Ty.set(e,r)},stop(e){cl.removeBox(e,Ty.get(e)),Ty.delete(e)},beforeUpdate(e,t,a){const r=Ty.get(e);cl.configure(e,r,a),r.options=a},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const a1={average(e){if(!e.length)return!1;let t,a,r=new Set,n=0,i=0;for(t=0,a=e.length;t<a;++t){const o=e[t].element;if(o&&o.hasValue()){const c=o.tooltipPosition();r.add(c.x),n+=c.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((o,c)=>o+c)/r.size,y:n/i}},nearest(e,t){if(!e.length)return!1;let a=t.x,r=t.y,n=Number.POSITIVE_INFINITY,i,l,o;for(i=0,l=e.length;i<l;++i){const c=e[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=Ck(t,d);u<n&&(n=u,o=c)}}if(o){const c=o.tooltipPosition();a=c.x,r=c.y}return{x:a,y:r}}};function Vd(e,t){return t&&(Ts(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Bu(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Rie(e,t){const{element:a,datasetIndex:r,index:n}=t,i=e.getDatasetMeta(r).controller,{label:l,value:o}=i.getLabelAndValue(n);return{chart:e,label:l,parsed:i.getParsed(n),raw:e.data.datasets[r].data[n],formattedValue:o,dataset:i.getDataset(),dataIndex:n,datasetIndex:r,element:a}}function XD(e,t){const a=e.chart.ctx,{body:r,footer:n,title:i}=e,{boxWidth:l,boxHeight:o}=t,c=Jn(t.bodyFont),d=Jn(t.titleFont),u=Jn(t.footerFont),f=i.length,x=n.length,p=r.length,v=hl(t.padding);let g=v.height,b=0,j=r.reduce((k,A)=>k+A.before.length+A.lines.length+A.after.length,0);if(j+=e.beforeBody.length+e.afterBody.length,f&&(g+=f*d.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),j){const k=t.displayColors?Math.max(o,c.lineHeight):c.lineHeight;g+=p*k+(j-p)*c.lineHeight+(j-1)*t.bodySpacing}x&&(g+=t.footerMarginTop+x*u.lineHeight+(x-1)*t.footerSpacing);let N=0;const S=function(k){b=Math.max(b,a.measureText(k).width+N)};return a.save(),a.font=d.string,zr(e.title,S),a.font=c.string,zr(e.beforeBody.concat(e.afterBody),S),N=t.displayColors?l+2+t.boxPadding:0,zr(r,k=>{zr(k.before,S),zr(k.lines,S),zr(k.after,S)}),N=0,a.font=u.string,zr(e.footer,S),a.restore(),b+=v.width,{width:b,height:g}}function Fie(e,t){const{y:a,height:r}=t;return a<r/2?"top":a>e.height-r/2?"bottom":"center"}function Iie(e,t,a,r){const{x:n,width:i}=r,l=a.caretSize+a.caretPadding;if(e==="left"&&n+i+l>t.width||e==="right"&&n-i-l<0)return!0}function Bie(e,t,a,r){const{x:n,width:i}=a,{width:l,chartArea:{left:o,right:c}}=e;let d="center";return r==="center"?d=n<=(o+c)/2?"left":"right":n<=i/2?d="left":n>=l-i/2&&(d="right"),Iie(d,e,t,a)&&(d="center"),d}function QD(e,t,a){const r=a.yAlign||t.yAlign||Fie(e,a);return{xAlign:a.xAlign||t.xAlign||Bie(e,t,a,r),yAlign:r}}function $ie(e,t){let{x:a,width:r}=e;return t==="right"?a-=r:t==="center"&&(a-=r/2),a}function Uie(e,t,a){let{y:r,height:n}=e;return t==="top"?r+=a:t==="bottom"?r-=n+a:r-=n/2,r}function JD(e,t,a,r){const{caretSize:n,caretPadding:i,cornerRadius:l}=e,{xAlign:o,yAlign:c}=a,d=n+i,{topLeft:u,topRight:f,bottomLeft:x,bottomRight:p}=V0(l);let v=$ie(t,o);const g=Uie(t,c,d);return c==="center"?o==="left"?v+=d:o==="right"&&(v-=d):o==="left"?v-=Math.max(u,x)+n:o==="right"&&(v+=Math.max(f,p)+n),{x:ji(v,0,r.width-t.width),y:ji(g,0,r.height-t.height)}}function Ey(e,t,a){const r=hl(a.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function ZD(e){return Vd([],Bu(e))}function zie(e,t,a){return Uf(e,{tooltip:t,tooltipItems:a,type:"tooltip"})}function eM(e,t){const a=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return a?e.override(a):e}const OU={beforeTitle:Ou,title(e){if(e.length>0){const t=e[0],a=t.chart.data.labels,r=a?a.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return a[t.dataIndex]}return""},afterTitle:Ou,beforeBody:Ou,beforeLabel:Ou,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const a=e.formattedValue;return ur(a)||(t+=a),t},labelColor(e){const a=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:a.borderColor,backgroundColor:a.backgroundColor,borderWidth:a.borderWidth,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const a=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:a.pointStyle,rotation:a.rotation}},afterLabel:Ou,afterBody:Ou,beforeFooter:Ou,footer:Ou,afterFooter:Ou};function Gl(e,t,a,r){const n=e[t].call(a,r);return typeof n>"u"?OU[t].call(a,r):n}let tM=class extends bh{static positioners=a1;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const a=this.chart,r=this.options.setContext(this.getContext()),n=r.enabled&&a.options.animation&&r.animations,i=new dU(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=zie(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,a){const{callbacks:r}=a,n=Gl(r,"beforeTitle",this,t),i=Gl(r,"title",this,t),l=Gl(r,"afterTitle",this,t);let o=[];return o=Vd(o,Bu(n)),o=Vd(o,Bu(i)),o=Vd(o,Bu(l)),o}getBeforeBody(t,a){return ZD(Gl(a.callbacks,"beforeBody",this,t))}getBody(t,a){const{callbacks:r}=a,n=[];return zr(t,i=>{const l={before:[],lines:[],after:[]},o=eM(r,i);Vd(l.before,Bu(Gl(o,"beforeLabel",this,i))),Vd(l.lines,Gl(o,"label",this,i)),Vd(l.after,Bu(Gl(o,"afterLabel",this,i))),n.push(l)}),n}getAfterBody(t,a){return ZD(Gl(a.callbacks,"afterBody",this,t))}getFooter(t,a){const{callbacks:r}=a,n=Gl(r,"beforeFooter",this,t),i=Gl(r,"footer",this,t),l=Gl(r,"afterFooter",this,t);let o=[];return o=Vd(o,Bu(n)),o=Vd(o,Bu(i)),o=Vd(o,Bu(l)),o}_createItems(t){const a=this._active,r=this.chart.data,n=[],i=[],l=[];let o=[],c,d;for(c=0,d=a.length;c<d;++c)o.push(Rie(this.chart,a[c]));return t.filter&&(o=o.filter((u,f,x)=>t.filter(u,f,x,r))),t.itemSort&&(o=o.sort((u,f)=>t.itemSort(u,f,r))),zr(o,u=>{const f=eM(t.callbacks,u);n.push(Gl(f,"labelColor",this,u)),i.push(Gl(f,"labelPointStyle",this,u)),l.push(Gl(f,"labelTextColor",this,u))}),this.labelColors=n,this.labelPointStyles=i,this.labelTextColors=l,this.dataPoints=o,o}update(t,a){const r=this.options.setContext(this.getContext()),n=this._active;let i,l=[];if(!n.length)this.opacity!==0&&(i={opacity:0});else{const o=a1[r.position].call(this,n,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const c=this._size=XD(this,r),d=Object.assign({},o,c),u=QD(this.chart,r,d),f=JD(r,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:o.x,caretY:o.y}}this._tooltipItems=l,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:a})}drawCaret(t,a,r,n){const i=this.getCaretPosition(t,r,n);a.lineTo(i.x1,i.y1),a.lineTo(i.x2,i.y2),a.lineTo(i.x3,i.y3)}getCaretPosition(t,a,r){const{xAlign:n,yAlign:i}=this,{caretSize:l,cornerRadius:o}=r,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=V0(o),{x,y:p}=t,{width:v,height:g}=a;let b,j,N,S,k,A;return i==="center"?(k=p+g/2,n==="left"?(b=x,j=b-l,S=k+l,A=k-l):(b=x+v,j=b+l,S=k-l,A=k+l),N=b):(n==="left"?j=x+Math.max(c,u)+l:n==="right"?j=x+v-Math.max(d,f)-l:j=this.caretX,i==="top"?(S=p,k=S-l,b=j-l,N=j+l):(S=p+g,k=S+l,b=j+l,N=j-l),A=S),{x1:b,x2:j,x3:N,y1:S,y2:k,y3:A}}drawTitle(t,a,r){const n=this.title,i=n.length;let l,o,c;if(i){const d=Wp(r.rtl,this.x,this.width);for(t.x=Ey(this,r.titleAlign,r),a.textAlign=d.textAlign(r.titleAlign),a.textBaseline="middle",l=Jn(r.titleFont),o=r.titleSpacing,a.fillStyle=r.titleColor,a.font=l.string,c=0;c<i;++c)a.fillText(n[c],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+o,c+1===i&&(t.y+=r.titleMarginBottom-o)}}_drawColorBox(t,a,r,n,i){const l=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:c,boxWidth:d}=i,u=Jn(i.bodyFont),f=Ey(this,"left",i),x=n.x(f),p=c<u.lineHeight?(u.lineHeight-c)/2:0,v=a.y+p;if(i.usePointStyle){const g={radius:Math.min(d,c)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},b=n.leftForLtr(x,d)+d/2,j=v+c/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,_k(t,g,b,j),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,_k(t,g,b,j)}else{t.lineWidth=gr(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const g=n.leftForLtr(x,d),b=n.leftForLtr(n.xPlus(x,1),d-2),j=V0(l.borderRadius);Object.values(j).some(N=>N!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,z1(t,{x:g,y:v,w:d,h:c,radius:j}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),z1(t,{x:b,y:v+1,w:d-2,h:c-2,radius:j}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(g,v,d,c),t.strokeRect(g,v,d,c),t.fillStyle=l.backgroundColor,t.fillRect(b,v+1,d-2,c-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,a,r){const{body:n}=this,{bodySpacing:i,bodyAlign:l,displayColors:o,boxHeight:c,boxWidth:d,boxPadding:u}=r,f=Jn(r.bodyFont);let x=f.lineHeight,p=0;const v=Wp(r.rtl,this.x,this.width),g=function(L){a.fillText(L,v.x(t.x+p),t.y+x/2),t.y+=x+i},b=v.textAlign(l);let j,N,S,k,A,_,M;for(a.textAlign=l,a.textBaseline="middle",a.font=f.string,t.x=Ey(this,b,r),a.fillStyle=r.bodyColor,zr(this.beforeBody,g),p=o&&b!=="right"?l==="center"?d/2+u:d+2+u:0,k=0,_=n.length;k<_;++k){for(j=n[k],N=this.labelTextColors[k],a.fillStyle=N,zr(j.before,g),S=j.lines,o&&S.length&&(this._drawColorBox(a,t,k,v,r),x=Math.max(f.lineHeight,c)),A=0,M=S.length;A<M;++A)g(S[A]),x=f.lineHeight;zr(j.after,g)}p=0,x=f.lineHeight,zr(this.afterBody,g),t.y-=i}drawFooter(t,a,r){const n=this.footer,i=n.length;let l,o;if(i){const c=Wp(r.rtl,this.x,this.width);for(t.x=Ey(this,r.footerAlign,r),t.y+=r.footerMarginTop,a.textAlign=c.textAlign(r.footerAlign),a.textBaseline="middle",l=Jn(r.footerFont),a.fillStyle=r.footerColor,a.font=l.string,o=0;o<i;++o)a.fillText(n[o],c.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+r.footerSpacing}}drawBackground(t,a,r,n){const{xAlign:i,yAlign:l}=this,{x:o,y:c}=t,{width:d,height:u}=r,{topLeft:f,topRight:x,bottomLeft:p,bottomRight:v}=V0(n.cornerRadius);a.fillStyle=n.backgroundColor,a.strokeStyle=n.borderColor,a.lineWidth=n.borderWidth,a.beginPath(),a.moveTo(o+f,c),l==="top"&&this.drawCaret(t,a,r,n),a.lineTo(o+d-x,c),a.quadraticCurveTo(o+d,c,o+d,c+x),l==="center"&&i==="right"&&this.drawCaret(t,a,r,n),a.lineTo(o+d,c+u-v),a.quadraticCurveTo(o+d,c+u,o+d-v,c+u),l==="bottom"&&this.drawCaret(t,a,r,n),a.lineTo(o+p,c+u),a.quadraticCurveTo(o,c+u,o,c+u-p),l==="center"&&i==="left"&&this.drawCaret(t,a,r,n),a.lineTo(o,c+f),a.quadraticCurveTo(o,c,o+f,c),a.closePath(),a.fill(),n.borderWidth>0&&a.stroke()}_updateAnimationTarget(t){const a=this.chart,r=this.$animations,n=r&&r.x,i=r&&r.y;if(n||i){const l=a1[t.position].call(this,this._active,this._eventPosition);if(!l)return;const o=this._size=XD(this,t),c=Object.assign({},l,this._size),d=QD(a,t,c),u=JD(t,c,d,a);(n._to!==u.x||i._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=o.width,this.height=o.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const a=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(a);const n={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=hl(a.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;a.enabled&&o&&(t.save(),t.globalAlpha=r,this.drawBackground(i,t,n,a),sU(t,a.textDirection),i.y+=l.top,this.drawTitle(i,t,a),this.drawBody(i,t,a),this.drawFooter(i,t,a),nU(t,a.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,a){const r=this._active,n=t.map(({datasetIndex:o,index:c})=>{const d=this.chart.getDatasetMeta(o);if(!d)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:d.data[c],index:c}}),i=!H2(r,n),l=this._positionChanged(n,a);(i||l)&&(this._active=n,this._eventPosition=a,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,a,r=!0){if(a&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,i=this._active||[],l=this._getActiveElements(t,i,a,r),o=this._positionChanged(l,t),c=a||!H2(l,i)||o;return c&&(this._active=l,(n.enabled||n.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,a))),c}_getActiveElements(t,a,r,n){const i=this.options;if(t.type==="mouseout")return[];if(!n)return a.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,i.mode,i,r);return i.reverse&&l.reverse(),l}_positionChanged(t,a){const{caretX:r,caretY:n,options:i}=this,l=a1[i.position].call(this,t,a);return l!==!1&&(r!==l.x||n!==l.y)}};var rn={id:"tooltip",_element:tM,positioners:a1,afterInit(e,t,a){a&&(e.tooltip=new tM({chart:e,options:a}))},beforeUpdate(e,t,a){e.tooltip&&e.tooltip.initialize(a)},reset(e,t,a){e.tooltip&&e.tooltip.initialize(a)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const a={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...a,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",a)}},afterEvent(e,t){if(e.tooltip){const a=t.replay;e.tooltip.handleEvent(t.event,a,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:OU},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Hie=Object.freeze({__proto__:null,Colors:sie,Decimation:oie,Filler:_ie,Legend:an,SubTitle:Oie,Title:wx,Tooltip:rn});const Vie=(e,t,a,r)=>(typeof t=="string"?(a=e.push(t)-1,r.unshift({index:a,label:t})):isNaN(t)&&(a=null),a);function Wie(e,t,a,r){const n=e.indexOf(t);if(n===-1)return Vie(e,t,a,r);const i=e.lastIndexOf(t);return n!==i?a:n}const qie=(e,t)=>e===null?null:ji(Math.round(e),0,t);function aM(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Cn extends _m{static id="category";static defaults={ticks:{callback:aM}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const a=this._addedLabels;if(a.length){const r=this.getLabels();for(const{index:n,label:i}of a)r[n]===i&&r.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,a){if(ur(t))return null;const r=this.getLabels();return a=isFinite(a)&&r[a]===t?a:Wie(r,t,Wa(a,t),this._addedLabels),qie(a,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:a}=this.getUserBounds();let{min:r,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),a||(n=this.getLabels().length-1)),this.min=r,this.max=n}buildTicks(){const t=this.min,a=this.max,r=this.options.offset,n=[];let i=this.getLabels();i=t===0&&a===i.length-1?i:i.slice(t,a+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=t;l<=a;l++)n.push({value:l});return n}getLabelForValue(t){return aM.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const a=this.ticks;return t<0||t>a.length-1?null:this.getPixelForValue(a[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Gie(e,t){const a=[],{bounds:n,step:i,min:l,max:o,precision:c,count:d,maxTicks:u,maxDigits:f,includeBounds:x}=e,p=i||1,v=u-1,{min:g,max:b}=t,j=!ur(l),N=!ur(o),S=!ur(d),k=(b-g)/(f+1);let A=X7((b-g)/v/p)*p,_,M,L,U;if(A<1e-14&&!j&&!N)return[{value:g},{value:b}];U=Math.ceil(b/A)-Math.floor(g/A),U>v&&(A=X7(U*A/v/p)*p),ur(c)||(_=Math.pow(10,c),A=Math.ceil(A*_)/_),n==="ticks"?(M=Math.floor(g/A)*A,L=Math.ceil(b/A)*A):(M=g,L=b),j&&N&&i&&Bae((o-l)/i,A/1e3)?(U=Math.round(Math.min((o-l)/A,u)),A=(o-l)/U,M=l,L=o):S?(M=j?l:M,L=N?o:L,U=d-1,A=(L-M)/U):(U=(L-M)/A,d1(U,Math.round(U),A/1e3)?U=Math.round(U):U=Math.ceil(U));const z=Math.max(Q7(A),Q7(M));_=Math.pow(10,ur(c)?z:c),M=Math.round(M*_)/_,L=Math.round(L*_)/_;let O=0;for(j&&(x&&M!==l?(a.push({value:l}),M<l&&O++,d1(Math.round((M+O*A)*_)/_,l,rM(l,k,e))&&O++):M<l&&O++);O<U;++O){const B=Math.round((M+O*A)*_)/_;if(N&&B>o)break;a.push({value:B})}return N&&x&&L!==o?a.length&&d1(a[a.length-1].value,o,rM(o,k,e))?a[a.length-1].value=o:a.push({value:o}):(!N||L===o)&&a.push({value:L}),a}function rM(e,t,{horizontal:a,minRotation:r}){const n=nd(r),i=(a?Math.sin(n):Math.cos(n))||.001,l=.75*t*(""+e).length;return Math.min(t/i,l)}class X2 extends _m{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,a){return ur(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:a,maxDefined:r}=this.getUserBounds();let{min:n,max:i}=this;const l=c=>n=a?n:c,o=c=>i=r?i:c;if(t){const c=Zd(n),d=Zd(i);c<0&&d<0?o(0):c>0&&d>0&&l(0)}if(n===i){let c=i===0?1:Math.abs(i*.05);o(i+c),t||l(n-c)}this.min=n,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:a,stepSize:r}=t,n;return r?(n=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),a=a||11),a&&(n=Math.min(a,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,a=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const n={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:a.precision,step:a.stepSize,count:a.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:a.minRotation||0,includeBounds:a.includeBounds!==!1},i=this._range||this,l=Gie(n,i);return t.bounds==="ticks"&&U$(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let a=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const n=(r-a)/Math.max(t.length-1,1)/2;a-=n,r+=n}this._startValue=a,this._endValue=r,this._valueRange=r-a}getLabelForValue(t){return Lv(t,this.chart.options.locale,this.options.ticks.format)}}class An extends X2{static id="linear";static defaults={ticks:{callback:Aj.formatters.numeric}};determineDataLimits(){const{min:t,max:a}=this.getMinMax(!0);this.min=Zs(t)?t:0,this.max=Zs(a)?a:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),a=t?this.width:this.height,r=nd(this.options.ticks.minRotation),n=(t?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(a/Math.min(40,i.lineHeight/n))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const V1=e=>Math.floor(bf(e)),S0=(e,t)=>Math.pow(10,V1(e)+t);function sM(e){return e/Math.pow(10,V1(e))===1}function nM(e,t,a){const r=Math.pow(10,a),n=Math.floor(e/r);return Math.ceil(t/r)-n}function Kie(e,t){const a=t-e;let r=V1(a);for(;nM(e,t,r)>10;)r++;for(;nM(e,t,r)<10;)r--;return Math.min(r,V1(e))}function Yie(e,{min:t,max:a}){t=ko(e.min,t);const r=[],n=V1(t);let i=Kie(t,a),l=i<0?Math.pow(10,Math.abs(i)):1;const o=Math.pow(10,i),c=n>i?Math.pow(10,n):0,d=Math.round((t-c)*l)/l,u=Math.floor((t-c)/o/10)*o*10;let f=Math.floor((d-u)/Math.pow(10,i)),x=ko(e.min,Math.round((c+u+f*Math.pow(10,i))*l)/l);for(;x<a;)r.push({value:x,major:sM(x),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(i++,f=2,l=i>=0?1:l),x=Math.round((c+u+f*Math.pow(10,i))*l)/l;const p=ko(e.max,x);return r.push({value:p,major:sM(p),significand:f}),r}class Xie extends _m{static id="logarithmic";static defaults={ticks:{callback:Aj.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,a){const r=X2.prototype.parse.apply(this,[t,a]);if(r===0){this._zero=!0;return}return Zs(r)&&r>0?r:null}determineDataLimits(){const{min:t,max:a}=this.getMinMax(!0);this.min=Zs(t)?Math.max(0,t):null,this.max=Zs(a)?Math.max(0,a):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Zs(this._userMin)&&(this.min=t===S0(this.min,0)?S0(this.min,-1):S0(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:a}=this.getUserBounds();let r=this.min,n=this.max;const i=o=>r=t?r:o,l=o=>n=a?n:o;r===n&&(r<=0?(i(1),l(10)):(i(S0(r,-1)),l(S0(n,1)))),r<=0&&i(S0(n,-1)),n<=0&&l(S0(r,1)),this.min=r,this.max=n}buildTicks(){const t=this.options,a={min:this._userMin,max:this._userMax},r=Yie(a,this);return t.bounds==="ticks"&&U$(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return t===void 0?"0":Lv(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=bf(t),this._valueRange=bf(this.max)-bf(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(bf(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const a=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+a*this._valueRange)}}function Lk(e){const t=e.ticks;if(t.display&&e.display){const a=hl(t.backdropPadding);return Wa(t.font&&t.font.size,Es.font.size)+a.height}return 0}function Qie(e,t,a){return a=Ts(a)?a:[a],{w:are(e,t.string,a),h:a.length*t.lineHeight}}function iM(e,t,a,r,n){return e===r||e===n?{start:t-a/2,end:t+a/2}:e<r||e>n?{start:t-a,end:t}:{start:t,end:t+a}}function Jie(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},a=Object.assign({},t),r=[],n=[],i=e._pointLabels.length,l=e.options.pointLabels,o=l.centerPointLabels?Er/i:0;for(let c=0;c<i;c++){const d=l.setContext(e.getPointLabelContext(c));n[c]=d.padding;const u=e.getPointPosition(c,e.drawingArea+n[c],o),f=Jn(d.font),x=Qie(e.ctx,f,e._pointLabels[c]);r[c]=x;const p=rl(e.getIndexAngle(c)+o),v=Math.round(Q6(p)),g=iM(v,u.x,x.w,0,180),b=iM(v,u.y,x.h,90,270);Zie(a,t,p,g,b)}e.setCenterPoint(t.l-a.l,a.r-t.r,t.t-a.t,a.b-t.b),e._pointLabelItems=ale(e,r,n)}function Zie(e,t,a,r,n){const i=Math.abs(Math.sin(a)),l=Math.abs(Math.cos(a));let o=0,c=0;r.start<t.l?(o=(t.l-r.start)/i,e.l=Math.min(e.l,t.l-o)):r.end>t.r&&(o=(r.end-t.r)/i,e.r=Math.max(e.r,t.r+o)),n.start<t.t?(c=(t.t-n.start)/l,e.t=Math.min(e.t,t.t-c)):n.end>t.b&&(c=(n.end-t.b)/l,e.b=Math.max(e.b,t.b+c))}function ele(e,t,a){const r=e.drawingArea,{extra:n,additionalAngle:i,padding:l,size:o}=a,c=e.getPointPosition(t,r+n+l,i),d=Math.round(Q6(rl(c.angle+Nn))),u=nle(c.y,o.h,d),f=rle(d),x=sle(c.x,o.w,f);return{visible:!0,x:c.x,y:u,textAlign:f,left:x,top:u,right:x+o.w,bottom:u+o.h}}function tle(e,t){if(!t)return!0;const{left:a,top:r,right:n,bottom:i}=e;return!(Gu({x:a,y:r},t)||Gu({x:a,y:i},t)||Gu({x:n,y:r},t)||Gu({x:n,y:i},t))}function ale(e,t,a){const r=[],n=e._pointLabels.length,i=e.options,{centerPointLabels:l,display:o}=i.pointLabels,c={extra:Lk(i)/2,additionalAngle:l?Er/n:0};let d;for(let u=0;u<n;u++){c.padding=a[u],c.size=t[u];const f=ele(e,u,c);r.push(f),o==="auto"&&(f.visible=tle(f,d),f.visible&&(d=f))}return r}function rle(e){return e===0||e===180?"center":e<180?"left":"right"}function sle(e,t,a){return a==="right"?e-=t:a==="center"&&(e-=t/2),e}function nle(e,t,a){return a===90||a===270?e-=t/2:(a>270||a<90)&&(e-=t),e}function ile(e,t,a){const{left:r,top:n,right:i,bottom:l}=a,{backdropColor:o}=t;if(!ur(o)){const c=V0(t.borderRadius),d=hl(t.backdropPadding);e.fillStyle=o;const u=r-d.left,f=n-d.top,x=i-r+d.width,p=l-n+d.height;Object.values(c).some(v=>v!==0)?(e.beginPath(),z1(e,{x:u,y:f,w:x,h:p,radius:c}),e.fill()):e.fillRect(u,f,x,p)}}function lle(e,t){const{ctx:a,options:{pointLabels:r}}=e;for(let n=t-1;n>=0;n--){const i=e._pointLabelItems[n];if(!i.visible)continue;const l=r.setContext(e.getPointLabelContext(n));ile(a,l,i);const o=Jn(l.font),{x:c,y:d,textAlign:u}=i;om(a,e._pointLabels[n],c,d+o.lineHeight/2,o,{color:l.color,textAlign:u,textBaseline:"middle"})}}function RU(e,t,a,r){const{ctx:n}=e;if(a)n.arc(e.xCenter,e.yCenter,t,0,ms);else{let i=e.getPointPosition(0,t);n.moveTo(i.x,i.y);for(let l=1;l<r;l++)i=e.getPointPosition(l,t),n.lineTo(i.x,i.y)}}function ole(e,t,a,r,n){const i=e.ctx,l=t.circular,{color:o,lineWidth:c}=t;!l&&!r||!o||!c||a<0||(i.save(),i.strokeStyle=o,i.lineWidth=c,i.setLineDash(n.dash||[]),i.lineDashOffset=n.dashOffset,i.beginPath(),RU(e,a,l,r),i.closePath(),i.stroke(),i.restore())}function cle(e,t,a){return Uf(e,{label:a,index:t,type:"pointLabel"})}class dle extends X2{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Aj.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=hl(Lk(this.options)/2),a=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+a/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(a,r)/2)}determineDataLimits(){const{min:t,max:a}=this.getMinMax(!1);this.min=Zs(t)&&!isNaN(t)?t:0,this.max=Zs(a)&&!isNaN(a)?a:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Lk(this.options))}generateTickLabels(t){X2.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((a,r)=>{const n=ls(this.options.pointLabels.callback,[a,r],this);return n||n===0?n:""}).filter((a,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?Jie(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,a,r,n){this.xCenter+=Math.floor((t-a)/2),this.yCenter+=Math.floor((r-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,a,r,n))}getIndexAngle(t){const a=ms/(this._pointLabels.length||1),r=this.options.startAngle||0;return rl(t*a+nd(r))}getDistanceFromCenterForValue(t){if(ur(t))return NaN;const a=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*a:(t-this.min)*a}getValueForDistanceFromCenter(t){if(ur(t))return NaN;const a=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-a:this.min+a}getPointLabelContext(t){const a=this._pointLabels||[];if(t>=0&&t<a.length){const r=a[t];return cle(this.getContext(),t,r)}}getPointPosition(t,a,r=0){const n=this.getIndexAngle(t)-Nn+r;return{x:Math.cos(n)*a+this.xCenter,y:Math.sin(n)*a+this.yCenter,angle:n}}getPointPositionForValue(t,a){return this.getPointPosition(t,this.getDistanceFromCenterForValue(a))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:a,top:r,right:n,bottom:i}=this._pointLabelItems[t];return{left:a,top:r,right:n,bottom:i}}drawBackground(){const{backgroundColor:t,grid:{circular:a}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),RU(this,this.getDistanceFromCenterForValue(this._endValue),a,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,a=this.options,{angleLines:r,grid:n,border:i}=a,l=this._pointLabels.length;let o,c,d;if(a.pointLabels.display&&lle(this,l),n.display&&this.ticks.forEach((u,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);const x=this.getContext(f),p=n.setContext(x),v=i.setContext(x);ole(this,p,c,l,v)}}),r.display){for(t.save(),o=l-1;o>=0;o--){const u=r.setContext(this.getPointLabelContext(o)),{color:f,lineWidth:x}=u;!x||!f||(t.lineWidth=x,t.strokeStyle=f,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(a.reverse?this.min:this.max),d=this.getPointPosition(o,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,a=this.options,r=a.ticks;if(!r.display)return;const n=this.getIndexAngle(0);let i,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(n),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((o,c)=>{if(c===0&&this.min>=0&&!a.reverse)return;const d=r.setContext(this.getContext(c)),u=Jn(d.font);if(i=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){t.font=u.string,l=t.measureText(o.label).width,t.fillStyle=d.backdropColor;const f=hl(d.backdropPadding);t.fillRect(-l/2-f.left,-i-u.size/2-f.top,l+f.width,u.size+f.height)}om(t,o.label,0,-i,u,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}const Lj={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ql=Object.keys(Lj);function lM(e,t){return e-t}function oM(e,t){if(ur(t))return null;const a=e._adapter,{parser:r,round:n,isoWeekday:i}=e._parseOpts;let l=t;return typeof r=="function"&&(l=r(l)),Zs(l)||(l=typeof r=="string"?a.parse(l,r):a.parse(l)),l===null?null:(n&&(l=n==="week"&&(ex(i)||i===!0)?a.startOf(l,"isoWeek",i):a.startOf(l,n)),+l)}function cM(e,t,a,r){const n=Ql.length;for(let i=Ql.indexOf(e);i<n-1;++i){const l=Lj[Ql[i]],o=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((a-t)/(o*l.size))<=r)return Ql[i]}return Ql[n-1]}function ule(e,t,a,r,n){for(let i=Ql.length-1;i>=Ql.indexOf(a);i--){const l=Ql[i];if(Lj[l].common&&e._adapter.diff(n,r,l)>=t-1)return l}return Ql[a?Ql.indexOf(a):0]}function hle(e){for(let t=Ql.indexOf(e)+1,a=Ql.length;t<a;++t)if(Lj[Ql[t]].common)return Ql[t]}function dM(e,t,a){if(!a)e[t]=!0;else if(a.length){const{lo:r,hi:n}=J6(a,t),i=a[r]>=t?a[r]:a[n];e[i]=!0}}function fle(e,t,a,r){const n=e._adapter,i=+n.startOf(t[0].value,r),l=t[t.length-1].value;let o,c;for(o=i;o<=l;o=+n.add(o,1,r))c=a[o],c>=0&&(t[c].major=!0);return t}function uM(e,t,a){const r=[],n={},i=t.length;let l,o;for(l=0;l<i;++l)o=t[l],n[o]=l,r.push({value:o,major:!1});return i===0||!a?r:fle(e,r,n,a)}class Ok extends _m{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,a={}){const r=t.time||(t.time={}),n=this._adapter=new jse._date(t.adapters.date);n.init(a),c1(r.displayFormats,n.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=a.normalized}parse(t,a){return t===void 0?null:oM(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,a=this._adapter,r=t.time.unit||"day";let{min:n,max:i,minDefined:l,maxDefined:o}=this.getUserBounds();function c(d){!l&&!isNaN(d.min)&&(n=Math.min(n,d.min)),!o&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!l||!o)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),n=Zs(n)&&!isNaN(n)?n:+a.startOf(Date.now(),r),i=Zs(i)&&!isNaN(i)?i:+a.endOf(Date.now(),r)+1,this.min=Math.min(n,i-1),this.max=Math.max(n+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let a=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(a=t[0],r=t[t.length-1]),{min:a,max:r}}buildTicks(){const t=this.options,a=t.time,r=t.ticks,n=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const i=this.min,l=this.max,o=Hae(n,i,l);return this._unit=a.unit||(r.autoSkip?cM(a.minUnit,this.min,this.max,this._getLabelCapacity(i)):ule(this,o.length,a.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:hle(this._unit),this.initOffsets(n),t.reverse&&o.reverse(),uM(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let a=0,r=0,n,i;this.options.offset&&t.length&&(n=this.getDecimalForValue(t[0]),t.length===1?a=1-n:a=(this.getDecimalForValue(t[1])-n)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?r=i:r=(i-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;a=ji(a,0,l),r=ji(r,0,l),this._offsets={start:a,end:r,factor:1/(a+1+r)}}_generate(){const t=this._adapter,a=this.min,r=this.max,n=this.options,i=n.time,l=i.unit||cM(i.minUnit,a,r,this._getLabelCapacity(a)),o=Wa(n.ticks.stepSize,1),c=l==="week"?i.isoWeekday:!1,d=ex(c)||c===!0,u={};let f=a,x,p;if(d&&(f=+t.startOf(f,"isoWeek",c)),f=+t.startOf(f,d?"day":l),t.diff(r,a,l)>1e5*o)throw new Error(a+" and "+r+" are too far apart with stepSize of "+o+" "+l);const v=n.ticks.source==="data"&&this.getDataTimestamps();for(x=f,p=0;x<r;x=+t.add(x,o,l),p++)dM(u,x,v);return(x===r||n.bounds==="ticks"||p===1)&&dM(u,x,v),Object.keys(u).sort(lM).map(g=>+g)}getLabelForValue(t){const a=this._adapter,r=this.options.time;return r.tooltipFormat?a.format(t,r.tooltipFormat):a.format(t,r.displayFormats.datetime)}format(t,a){const n=this.options.time.displayFormats,i=this._unit,l=a||n[i];return this._adapter.format(t,l)}_tickFormatFunction(t,a,r,n){const i=this.options,l=i.ticks.callback;if(l)return ls(l,[t,a,r],this);const o=i.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&o[c],f=d&&o[d],x=r[a],p=d&&f&&x&&x.major;return this._adapter.format(t,n||(p?f:u))}generateTickLabels(t){let a,r,n;for(a=0,r=t.length;a<r;++a)n=t[a],n.label=this._tickFormatFunction(n.value,a,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const a=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((a.start+r)*a.factor)}getValueForPixel(t){const a=this._offsets,r=this.getDecimalForPixel(t)/a.factor-a.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const a=this.options.ticks,r=this.ctx.measureText(t).width,n=nd(this.isHorizontal()?a.maxRotation:a.minRotation),i=Math.cos(n),l=Math.sin(n),o=this._resolveTickFontOptions(0).size;return{w:r*i+o*l,h:r*l+o*i}}_getLabelCapacity(t){const a=this.options.time,r=a.displayFormats,n=r[a.unit]||r.millisecond,i=this._tickFormatFunction(t,0,uM(this,[t],this._majorUnit),n),l=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return o>0?o:1}getDataTimestamps(){let t=this._cache.data||[],a,r;if(t.length)return t;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(a=0,r=n.length;a<r;++a)t=t.concat(n[a].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let a,r;if(t.length)return t;const n=this.getLabels();for(a=0,r=n.length;a<r;++a)t.push(oM(this,n[a]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return V$(t.sort(lM))}}function Dy(e,t,a){let r=0,n=e.length-1,i,l,o,c;a?(t>=e[r].pos&&t<=e[n].pos&&({lo:r,hi:n}=qu(e,"pos",t)),{pos:i,time:o}=e[r],{pos:l,time:c}=e[n]):(t>=e[r].time&&t<=e[n].time&&({lo:r,hi:n}=qu(e,"time",t)),{time:i,pos:o}=e[r],{time:l,pos:c}=e[n]);const d=l-i;return d?o+(c-o)*(t-i)/d:o}class mle extends Ok{static id="timeseries";static defaults=Ok.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),a=this._table=this.buildLookupTable(t);this._minPos=Dy(a,this.min),this._tableRange=Dy(a,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:a,max:r}=this,n=[],i=[];let l,o,c,d,u;for(l=0,o=t.length;l<o;++l)d=t[l],d>=a&&d<=r&&n.push(d);if(n.length<2)return[{time:a,pos:0},{time:r,pos:1}];for(l=0,o=n.length;l<o;++l)u=n[l+1],c=n[l-1],d=n[l],Math.round((u+c)/2)!==d&&i.push({time:d,pos:l/(o-1)});return i}_generate(){const t=this.min,a=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(a)||r.length===1)&&r.push(a),r.sort((n,i)=>n-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const a=this.getDataTimestamps(),r=this.getLabelTimestamps();return a.length&&r.length?t=this.normalize(a.concat(r)):t=a.length?a:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Dy(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const a=this._offsets,r=this.getDecimalForPixel(t)/a.factor-a.end;return Dy(this._table,r*this._tableRange+this._minPos,!0)}}var ple=Object.freeze({__proto__:null,CategoryScale:Cn,LinearScale:An,LogarithmicScale:Xie,RadialLinearScale:dle,TimeScale:Ok,TimeSeriesScale:mle});const xle=[wse,Qne,Hie,ple],FU="label";function hM(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function gle(e,t){const a=e.options;a&&t&&Object.assign(a,t)}function IU(e,t){e.labels=t}function BU(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:FU;const r=[];e.datasets=t.map(n=>{const i=e.datasets.find(l=>l[a]===n[a]);return!i||!n.data||r.includes(i)?{...n}:(r.push(i),Object.assign(i,n),i)})}function vle(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:FU;const a={labels:[],datasets:[]};return IU(a,e.labels),BU(a,e.datasets,t),a}function ble(e,t){const{height:a=150,width:r=300,redraw:n=!1,datasetIdKey:i,type:l,data:o,options:c,plugins:d=[],fallbackContent:u,updateMode:f,...x}=e,p=w.useRef(null),v=w.useRef(null),g=()=>{p.current&&(v.current=new Nr(p.current,{type:l,data:vle(o,i),options:c&&{...c},plugins:d}),hM(t,v.current))},b=()=>{hM(t,null),v.current&&(v.current.destroy(),v.current=null)};return w.useEffect(()=>{!n&&v.current&&c&&gle(v.current,c)},[n,c]),w.useEffect(()=>{!n&&v.current&&IU(v.current.config.data,o.labels)},[n,o.labels]),w.useEffect(()=>{!n&&v.current&&o.datasets&&BU(v.current.config.data,o.datasets,i)},[n,o.datasets]),w.useEffect(()=>{v.current&&(n?(b(),setTimeout(g)):v.current.update(f))},[n,c,o.labels,o.datasets,f]),w.useEffect(()=>{v.current&&(b(),setTimeout(g))},[l]),w.useEffect(()=>(g(),()=>b()),[]),In.createElement("canvas",{ref:p,role:"img",height:a,width:r,...x},u)}const yle=w.forwardRef(ble);function Oj(e,t){return Nr.register(t),w.forwardRef((a,r)=>In.createElement(yle,{...a,ref:r,type:e}))}const no=Oj("line",mU),Ls=Oj("bar",fU),Rj=Oj("doughnut",Dj),$U=Oj("pie",xU);Nr.register(Tm,rn,an);const Zn=({percentage:e=2,segments:t=[],centerValue:a,centerValueSuffix:r,centerLabel:n,size:i=160,centerLabelPosition:l="below",subLabel:o,primaryColor:c,secondaryColor:d,cutout:u="70%",spacing:f=0,borderRadius:x=0,centerValueClass:p,centerLabelClass:v,subLabelClass:g,innerTrack:b=!0,innerTrackRadius:j="92%",innerTrackCutout:N="86%",innerTrackColor:S,animateCenterCountUp:k=!1,centerValueDuration:A=700})=>{const _=document.documentElement.classList.contains("dark"),M=t&&t.length>0?{labels:t.map(z=>z.label),datasets:[{data:t.map(z=>z.value),backgroundColor:t.map(z=>z.color),borderColor:_?"#111827":"#ffffff",borderWidth:_?1:0,cutout:u,hoverOffset:6,spacing:2,borderRadius:x}]}:{labels:["Completed","Remaining"],datasets:[...b?[{data:[100],backgroundColor:[S||(_?"#3f4a5a":"#cbd5e1")],borderColor:_?"#111827":"#ffffff",borderWidth:0,hoverOffset:0,spacing:0,radius:j,cutout:N}]:[],{data:[e,100-e],backgroundColor:[c||"#2dd4bf",d||(_?"#475569":"#e5e7eb")],borderColor:_?"#111827":"#ffffff",borderWidth:0,cutout:u,hoverOffset:6,spacing:f,borderRadius:x,radius:"100%"}]},L={responsive:!0,maintainAspectRatio:!1,devicePixelRatio:2,plugins:{legend:{display:!1},tooltip:{callbacks:{label:z=>{const O=z.parsed,B=z.dataset.data.reduce((R,q)=>R+q,0),E=B?Math.round(O/B*100):0;return`${z.label}: ${O} (${E}%)`}}}},animation:{animateRotate:!0,animateScale:!0}};function U({value:z,duration:O}){const[B,E]=In.useState(z),R=In.useRef(z);return In.useEffect(()=>{if(typeof z!="number"){E(z);return}const q=typeof R.current=="number"?R.current:0,I=z;R.current=I;const G=performance.now(),re=te=>{const X=Math.min(1,(te-G)/O),ce=Math.round(q+(I-q)*X);E(ce),X<1&&requestAnimationFrame(re)};requestAnimationFrame(re)},[z,O]),s.jsx("span",{children:B})}return s.jsxs("div",{className:"relative flex items-center justify-center",children:[s.jsx("div",{style:{width:i,height:i},children:s.jsx(Rj,{data:M,options:L})}),(a!==void 0||n)&&s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[n&&l==="above"&&s.jsx("div",{className:"text-xs text-[var(--muted-text)] mb-1",children:n}),a!==void 0&&s.jsxs("div",{className:p||"text-2xl font-bold flex items-baseline gap-1",children:[k&&typeof a=="number"?s.jsx(U,{value:a,duration:A}):s.jsx("span",{children:a}),r&&s.jsx("span",{className:"text-xs opacity-70",children:r})]}),n&&l!=="above"&&s.jsx("div",{className:v||"text-xs text-[var(--muted-text)] mt-1",children:n}),o&&s.jsx("div",{className:g||"text-[10px] text-[var(--muted-text)] mt-0.5",children:o})]})]})};var UU={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fM=In.createContext&&In.createContext(UU),wle=["attr","size","title"];function jle(e,t){if(e==null)return{};var a=Nle(e,t),r,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nle(e,t){if(e==null)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}function Q2(){return Q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Q2.apply(this,arguments)}function mM(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function J2(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?mM(Object(a),!0).forEach(function(r){Sle(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):mM(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Sle(e,t,a){return t=kle(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function kle(e){var t=Cle(e,"string");return typeof t=="symbol"?t:t+""}function Cle(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zU(e){return e&&e.map((t,a)=>In.createElement(t.tag,J2({key:a},t.attr),zU(t.child)))}function Yt(e){return t=>In.createElement(Ale,Q2({attr:J2({},e.attr)},t),zU(e.child))}function Ale(e){var t=a=>{var{attr:r,size:n,title:i}=e,l=jle(e,wle),o=n||a.size||"1em",c;return a.className&&(c=a.className),e.className&&(c=(c?c+" ":"")+e.className),In.createElement("svg",Q2({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,r,l,{className:c,style:J2(J2({color:e.color||a.color},a.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&In.createElement("title",null,i),e.children)};return fM!==void 0?In.createElement(fM.Consumer,null,a=>t(a)):t(UU)}function cA(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 13H8V21H2V13ZM16 8H22V21H16V8ZM9 3H15V21H9V3ZM4 15V19H6V15H4ZM11 5V19H13V5H11ZM18 10V19H20V10H18Z"},child:[]}]})(e)}function _le(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9 1V3H15V1H17V3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3H7V1H9ZM20 10H4V19H20V10ZM15.0355 11.136L16.4497 12.5503L11.5 17.5L7.96447 13.9645L9.37868 12.5503L11.5 14.6716L15.0355 11.136ZM7 5H4V8H20V5H17V6H15V5H9V6H7V5Z"},child:[]}]})(e)}function HU(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 3V19H21V21H3V3H5ZM20.2929 6.29289L21.7071 7.70711L16 13.4142L13 10.415L8.70711 14.7071L7.29289 13.2929L13 7.58579L16 10.585L20.2929 6.29289Z"},child:[]}]})(e)}function VU(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9 2.4578V4.58152C6.06817 5.76829 4 8.64262 4 12C4 16.4183 7.58172 20 12 20C15.3574 20 18.2317 17.9318 19.4185 15H21.5422C20.2679 19.0571 16.4776 22 12 22C6.47715 22 2 17.5228 2 12C2 7.52236 4.94289 3.73207 9 2.4578ZM12 2C17.5228 2 22 6.47715 22 12C22 12.3375 21.9833 12.6711 21.9506 13H11V2.04938C11.3289 2.01672 11.6625 2 12 2ZM13 4.06189V11H19.9381C19.4869 7.38128 16.6187 4.51314 13 4.06189Z"},child:[]}]})(e)}function Tle(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20.0833 15.1999L21.2854 15.9212C21.5221 16.0633 21.5989 16.3704 21.4569 16.6072C21.4146 16.6776 21.3557 16.7365 21.2854 16.7787L12.5144 22.0412C12.1977 22.2313 11.8021 22.2313 11.4854 22.0412L2.71451 16.7787C2.47772 16.6366 2.40093 16.3295 2.54301 16.0927C2.58523 16.0223 2.64413 15.9634 2.71451 15.9212L3.9166 15.1999L11.9999 20.0499L20.0833 15.1999ZM20.0833 10.4999L21.2854 11.2212C21.5221 11.3633 21.5989 11.6704 21.4569 11.9072C21.4146 11.9776 21.3557 12.0365 21.2854 12.0787L11.9999 17.6499L2.71451 12.0787C2.47772 11.9366 2.40093 11.6295 2.54301 11.3927C2.58523 11.3223 2.64413 11.2634 2.71451 11.2212L3.9166 10.4999L11.9999 15.3499L20.0833 10.4999ZM12.5144 1.30864L21.2854 6.5712C21.5221 6.71327 21.5989 7.0204 21.4569 7.25719C21.4146 7.32757 21.3557 7.38647 21.2854 7.42869L11.9999 12.9999L2.71451 7.42869C2.47772 7.28662 2.40093 6.97949 2.54301 6.7427C2.58523 6.67232 2.64413 6.61343 2.71451 6.5712L11.4854 1.30864C11.8021 1.11864 12.1977 1.11864 12.5144 1.30864ZM11.9999 3.33233L5.88723 6.99995L11.9999 10.6676L18.1126 6.99995L11.9999 3.33233Z"},child:[]}]})(e)}function Ele(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"},child:[]}]})(e)}function WU(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13.2 12L16 16H13.6L12 13.7143L10.4 16H8L10.8 12L8 8H10.4L12 10.2857L13.6 8H15V4H5V20H19V8H16L13.2 12ZM3 2.9918C3 2.44405 3.44749 2 3.9985 2H16L20.9997 7L21 20.9925C21 21.5489 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5447 3 21.0082V2.9918Z"},child:[]}]})(e)}function qU(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 16H8V8H12C14.2091 8 16 9.79086 16 12C16 14.2091 14.2091 16 12 16ZM10 10V14H12C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10H10ZM15 4H5V20H19V8H15V4ZM3 2.9918C3 2.44405 3.44749 2 3.9985 2H16L20.9997 7L21 20.9925C21 21.5489 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5447 3 21.0082V2.9918Z"},child:[]}]})(e)}function Dle(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM4.5 6.5C3.67157 6.5 3 5.82843 3 5C3 4.17157 3.67157 3.5 4.5 3.5C5.32843 3.5 6 4.17157 6 5C6 5.82843 5.32843 6.5 4.5 6.5ZM4.5 13.5C3.67157 13.5 3 12.8284 3 12C3 11.1716 3.67157 10.5 4.5 10.5C5.32843 10.5 6 11.1716 6 12C6 12.8284 5.32843 13.5 4.5 13.5ZM4.5 20.4C3.67157 20.4 3 19.7284 3 18.9C3 18.0716 3.67157 17.4 4.5 17.4C5.32843 17.4 6 18.0716 6 18.9C6 19.7284 5.32843 20.4 4.5 20.4ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(e)}function Mle(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 10V14H19V10H13ZM11 10H5V14H11V10ZM13 19H19V16H13V19ZM11 19V16H5V19H11ZM13 5V8H19V5H13ZM11 5H5V8H11V5ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3Z"},child:[]}]})(e)}function Ple(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.9997 10.5865L16.9495 5.63672L18.3637 7.05093L13.4139 12.0007L18.3637 16.9504L16.9495 18.3646L11.9997 13.4149L7.04996 18.3646L5.63574 16.9504L10.5855 12.0007L5.63574 7.05093L7.04996 5.63672L11.9997 10.5865Z"},child:[]}]})(e)}function y5(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 19H21V21H3V19ZM13 13.1716L19.0711 7.1005L20.4853 8.51472L12 17L3.51472 8.51472L4.92893 7.1005L11 13.1716V2H13V13.1716Z"},child:[]}]})(e)}function Lle(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 4V6H20L15 13.5V22H9V13.5L4 6H3V4H21ZM6.4037 6L11 12.8944V20H13V12.8944L17.5963 6H6.4037Z"},child:[]}]})(e)}function dA(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5.46257 4.43262C7.21556 2.91688 9.5007 2 12 2C17.5228 2 22 6.47715 22 12C22 14.1361 21.3302 16.1158 20.1892 17.7406L17 12H20C20 7.58172 16.4183 4 12 4C9.84982 4 7.89777 4.84827 6.46023 6.22842L5.46257 4.43262ZM18.5374 19.5674C16.7844 21.0831 14.4993 22 12 22C6.47715 22 2 17.5228 2 12C2 9.86386 2.66979 7.88416 3.8108 6.25944L7 12H4C4 16.4183 7.58172 20 12 20C14.1502 20 16.1022 19.1517 17.5398 17.7716L18.5374 19.5674Z"},child:[]}]})(e)}function Ole(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18.031 16.6168L22.3137 20.8995L20.8995 22.3137L16.6168 18.031C15.0769 19.263 13.124 20 11 20C6.032 20 2 15.968 2 11C2 6.032 6.032 2 11 2C15.968 2 20 6.032 20 11C20 13.124 19.263 15.0769 18.031 16.6168ZM16.0247 15.8748C17.2475 14.6146 18 12.8956 18 11C18 7.1325 14.8675 4 11 4C7.1325 4 4 7.1325 4 11C4 14.8675 7.1325 18 11 18C12.8956 18 14.6146 17.2475 15.8748 16.0247L16.0247 15.8748Z"},child:[]}]})(e)}function Rle(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM13 12H17V14H11V7H13V12Z"},child:[]}]})(e)}function pM(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 19H21V21H3V19ZM13 5.82843V17H11V5.82843L4.92893 11.8995L3.51472 10.4853L12 2L20.4853 10.4853L19.0711 11.8995L13 5.82843Z"},child:[]}]})(e)}function Fle(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 14V16C8.68629 16 6 18.6863 6 22H4C4 17.5817 7.58172 14 12 14ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11ZM14.5946 18.8115C14.5327 18.5511 14.5 18.2794 14.5 18C14.5 17.7207 14.5327 17.449 14.5945 17.1886L13.6029 16.6161L14.6029 14.884L15.5952 15.4569C15.9883 15.0851 16.4676 14.8034 17 14.6449V13.5H19V14.6449C19.5324 14.8034 20.0116 15.0851 20.4047 15.4569L21.3971 14.8839L22.3972 16.616L21.4055 17.1885C21.4673 17.449 21.5 17.7207 21.5 18C21.5 18.2793 21.4673 18.551 21.4055 18.8114L22.3972 19.3839L21.3972 21.116L20.4048 20.543C20.0117 20.9149 19.5325 21.1966 19.0001 21.355V22.5H17.0001V21.3551C16.4677 21.1967 15.9884 20.915 15.5953 20.5431L14.603 21.1161L13.6029 19.384L14.5946 18.8115ZM18 19.5C18.8284 19.5 19.5 18.8284 19.5 18C19.5 17.1716 18.8284 16.5 18 16.5C17.1716 16.5 16.5 17.1716 16.5 18C16.5 18.8284 17.1716 19.5 18 19.5Z"},child:[]}]})(e)}function Ile(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 14V16C8.68629 16 6 18.6863 6 22H4C4 17.5817 7.58172 14 12 14ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11ZM18 21.5L15.0611 23.0451L15.6224 19.7725L13.2447 17.4549L16.5305 16.9775L18 14L19.4695 16.9775L22.7553 17.4549L20.3776 19.7725L20.9389 23.0451L18 21.5Z"},child:[]}]})(e)}const Ble={primary:"#2563eb",secondary:"#64748b",success:"#16a34a",danger:"#dc2626",warning:"#f59e0b"},$le={heading:"ui-sans-serif, system-ui, Segoe UI",body:"ui-sans-serif, system-ui, Segoe UI"},GU=w.createContext({theme:"dark",setTheme:()=>{}}),Ule=({children:e})=>{const[t,a]=w.useState(()=>{try{const r=localStorage.getItem("systemPrefs");if(r){const i=JSON.parse(r);if(i&&(i.theme==="light"||i.theme==="dark"))return i.theme}return localStorage.getItem("theme")==="light"?"light":"dark"}catch{return"dark"}});return w.useEffect(()=>{const r=document.documentElement;t==="dark"?(r.classList.add("dark"),r.classList.remove("light")):(r.classList.remove("dark"),r.classList.add("light"));try{localStorage.setItem("theme",t);const n=localStorage.getItem("systemPrefs"),i=n?JSON.parse(n):{};i.theme=t,localStorage.setItem("systemPrefs",JSON.stringify(i))}catch{}},[t]),w.useEffect(()=>{try{const r=localStorage.getItem("systemPrefs");if(r){const n=JSON.parse(r),i=document.documentElement;if(n&&n.density){i.classList.remove("density-compact","density-comfortable","density-default");const l=`density-${n.density}`;i.classList.add(l)}n&&n.direction&&(document.dir=n.direction==="rtl"?"rtl":"ltr")}}catch{}},[]),s.jsx(GU.Provider,{value:{theme:t,setTheme:a,palette:Ble,fonts:$le},children:e})},xl=()=>w.useContext(GU);function zle({users:e=[]}){const{t,i18n:a}=Et(),r=a.language||"en",{theme:n}=xl(),i=n==="light",[l,o]=w.useState(!1),c=3,d=60,u=`
    .scrollbar-thin-blue { scrollbar-width: thin; scrollbar-color: #94a3b8 transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar { width: 8px; }
    .scrollbar-thin-blue::-webkit-scrollbar-track { background: transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar-thumb { background-color: #94a3b8; border-radius: 9999px; }
    .scrollbar-thin-blue:hover::-webkit-scrollbar-thumb { background-color: #64748b; }
    .dark .scrollbar-thin-blue { scrollbar-color: #2563eb transparent; }
    .dark .scrollbar-thin-blue::-webkit-scrollbar-thumb { background-color: #2563eb; }
    .dark .scrollbar-thin-blue:hover::-webkit-scrollbar-thumb { background-color: #1d4ed8; }
  `,f=w.useRef(null),x=w.useRef(null),p=w.useRef(null),[v,g]=w.useState(null);w.useEffect(()=>{const M=()=>{const L=f.current?.clientHeight||0,U=x.current?.clientHeight||0,z=p.current?.clientHeight||0,O=Math.max(L-U-z,0);g(O||null)};return M(),window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]);const b=[{name:r==="ar"?" ":"Ibrahim Ahmed",active:!0,lastSeen:new Date,role:r==="ar"?"":"Manager",avatar:""},{name:r==="ar"?" ":"Adam Mohamed",active:!1,lastSeen:new Date(Date.now()-12300*1e3),role:r==="ar"?"":"Developer",avatar:""},{name:r==="ar"?" ":"Sara Ali",active:!0,lastSeen:new Date(Date.now()-900*1e3),role:r==="ar"?"":"Designer",avatar:""},{name:r==="ar"?" ":"Mohamed Hassan",active:!1,lastSeen:new Date(Date.now()-1565*60*1e3),role:r==="ar"?"":"Analyst",avatar:""},{name:r==="ar"?" ":"Fatima Khaled",active:!0,lastSeen:new Date(Date.now()-300*1e3),role:r==="ar"?"":"Marketer",avatar:""},{name:r==="ar"?" ":"Zeinab Hossam",active:!0,lastSeen:new Date(Date.now()-420*1e3),role:r==="ar"?" ":"Marketing Manager",avatar:""},{name:r==="ar"?" ":"Karim Salah",active:!1,lastSeen:new Date(Date.now()-10800*1e3),role:r==="ar"?" ":"Security Developer",avatar:""},{name:r==="ar"?" ":"Hoda Abdullah",active:!0,lastSeen:new Date(Date.now()-1200*1e3),role:r==="ar"?" ":"Graphic Designer",avatar:""},{name:r==="ar"?" ":"Tarek Fouad",active:!0,lastSeen:new Date(Date.now()-120*1e3),role:r==="ar"?" DevOps":"DevOps Engineer",avatar:""},{name:r==="ar"?" ":"Rana Samir",active:!1,lastSeen:new Date(Date.now()-14400*1e3),role:r==="ar"?" ":"Content Writer",avatar:""},{name:r==="ar"?" ":"Hossam Eldeen",active:!0,lastSeen:new Date(Date.now()-600*1e3),role:r==="ar"?" ":"Mobile Developer",avatar:""},{name:r==="ar"?" ":"Mariam Adel",active:!1,lastSeen:new Date(Date.now()-300*60*1e3),role:r==="ar"?"":"Accountant",avatar:""},{name:r==="ar"?" ":"Khaled Waleed",active:!0,lastSeen:new Date(Date.now()-1500*1e3),role:r==="ar"?"  ":"HR Manager",avatar:""},{name:r==="ar"?" ":"Dina Mohamed",active:!0,lastSeen:new Date(Date.now()-360*1e3),role:r==="ar"?"  ":"Database Developer",avatar:""},{name:r==="ar"?" ":"Abdulrahman Ahmed",active:!1,lastSeen:new Date(Date.now()-9e3*1e3),role:r==="ar"?" ":"Network Engineer",avatar:""}],j=e.length?e:b,N=()=>{o(!0),setTimeout(()=>o(!1),1e3)},S=M=>{try{return new Intl.DateTimeFormat(r,{hour:"2-digit",minute:"2-digit",hour12:!1}).format(M)}catch{const L=U=>String(U).padStart(2,"0");return`${L(M.getHours())}:${L(M.getMinutes())}`}},k=M=>{const L=Date.now()-M.getTime(),U=Math.floor(L/6e4),z=Math.floor(U/60),O=U%60;return r==="ar"?z<=0?` ${O} `:` ${z}  ${O} `:z<=0?`${O} min ago`:`${z}h ${O}m ago`},A=j.filter(M=>M.active).length,_=j.length;return s.jsxs("div",{ref:f,className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden h-full flex flex-col",children:[s.jsx("div",{ref:x,className:"bg-gradient-to-r from-blue-50 to-purple-100 p-3 text-[var(--content-text)] border-b border-gray-200 flex-shrink-0 dark:bg-gradient-to-r dark:from-blue-500 dark:to-purple-600 dark:text-white dark:border-transparent",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gray-100 rounded-lg dark:bg-white/20",children:s.jsx(Ile,{className:"text-2xl"})}),s.jsxs("div",{children:[s.jsxs("div",{className:`flex items-center ${r==="ar"?"flex-row-reverse":""} gap-2`,children:[s.jsx("span",{"aria-hidden":!0,className:"inline-block w-1 h-4 rounded bg-blue-400/70 dark:bg-white/80"}),s.jsx("h3",{className:"text-lg font-bold",children:t("Active Users")})]}),s.jsxs("p",{className:"text-gray-500 dark:text-blue-100 text-sm",children:[A," ",r==="ar"?" ":"active of"," ",_," ",r==="ar"?"":"users"]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{onClick:N,className:`p-2 bg-gray-100 hover:bg-gray-200 dark:bg-white/20 dark:hover:bg-white/30 rounded-lg transition-all duration-200 hover:scale-105 ${l?"animate-spin":""}`,title:t("Refresh"),children:s.jsx(dA,{className:"text-lg"})})})]})}),s.jsx("style",{children:u}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsx("div",{className:"h-full overflow-y-auto overflow-x-hidden scrollbar-thin-blue",style:{maxHeight:Array.isArray(j)&&j.length<=3?Math.min(j.length,3)*d:v||c*d},children:s.jsx("div",{className:"p-2 space-y-2",children:j.map((M,L)=>s.jsxs("div",{className:`grid grid-cols-[auto,1fr,auto] items-center gap-2 p-2 rounded-lg border ${i?M.active?"bg-emerald-50 border-white":"bg-red-50 border-white":"dark:bg-gray-700 dark:border-gray-600/50"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-blue-200 to-purple-300 dark:from-blue-400 dark:to-purple-500 rounded-full flex items-center justify-center text-[var(--content-text)] dark:text-white text-sm font-bold shadow dark:shadow-lg",children:M.avatar||M.name.charAt(0)}),s.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white dark:border-gray-700 ${M.active?"bg-emerald-500":"bg-red-500"}`,children:s.jsx(Ele,{className:"w-full h-full"})})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:`font-semibold truncate max-w-[14rem] ${i?M.active?"text-emerald-900":"text-red-900":"dark:text-gray-200"}`,children:M.name})}),s.jsxs("div",{className:`flex items-center gap-1 text-sm ${i?M.active?"text-emerald-800":"text-red-800":"dark:text-gray-400"}`,children:[s.jsx(Fle,{className:`text-xs ${i?M.active?"text-emerald-600":"text-red-600":""}`}),s.jsx("span",{className:"truncate max-w-[12rem]",children:M.role})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"flex items-center gap-2",children:M.active?s.jsx("span",{className:"px-2 py-1 bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300 text-xs rounded-full font-medium",children:r==="ar"?"":"Online"}):s.jsx("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 text-xs rounded-full font-medium",children:r==="ar"?"":"Offline"})}),s.jsxs("div",{className:`flex items-center gap-2 text-xs ${i?M.active?"text-emerald-800":"text-red-800":"dark:text-gray-300"} mt-0.5`,children:[s.jsx(Rle,{className:`text-xs ${i?M.active?"text-emerald-600":"text-red-600":""}`}),s.jsx("span",{children:S(M.lastSeen)})]}),s.jsx("div",{className:`text-[11px] mt-0.5 ${i?M.active?"text-emerald-700":"text-red-700":"dark:text-gray-400"}`,children:k(M.lastSeen)})]})]},L))})})}),s.jsx("div",{ref:p,className:`px-3 py-2 border-t flex-shrink-0 ${i?"bg-[var(--lm-muted-surface)] border-white":"dark:bg-gray-700 dark:border-gray-600"}`,children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded-full"}),s.jsxs("span",{className:"text-black font-bold dark:text-gray-300",children:[A," ",r==="ar"?"":"Active"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsxs("span",{className:"text-black font-bold dark:text-gray-300",children:[_-A," ",r==="ar"?" ":"Inactive"]})]})]}),s.jsxs("div",{className:"text-black font-semibold dark:text-gray-400",children:[r==="ar"?" :":"Last updated:"," ",S(new Date)]})]})})]})}function Hle({segments:e,employee:t,dateFrom:a,dateTo:r}){const{t:n,i18n:i}=Et(),[l,o]=w.useState(!0),c=i.language||"en",d=c==="ar",{theme:u}=xl(),f=u==="light",x=[{name:c==="ar"?" ":"Summer Promo",status:"onTrack",owner:"Osama Sales",lastActivity:"2025-01-10",openRate:32,clickRate:4.1,conversionRate:5.2},{name:c==="ar"?" ":"Winback Series",status:"atRisk",owner:"Youssef Hemeda",lastActivity:"2025-01-08",openRate:18,clickRate:2.3,conversionRate:2.1},{name:c==="ar"?" ":"Product Launch",status:"paused",owner:"Ahmed Ibrahim",lastActivity:"2025-01-06",openRate:0,clickRate:0,conversionRate:0},{name:c==="ar"?" ":"Market Expansion",status:"onTrack",owner:"Ahmed Ibrahim",lastActivity:"2025-01-05",openRate:25,clickRate:3.2,conversionRate:4},{name:c==="ar"?" ":"Upgrade Drive",status:"atRisk",owner:"Osama Sales",lastActivity:"2025-01-03",openRate:14,clickRate:1.8,conversionRate:1.5}],p=E=>{if(!a&&!r)return!0;const R=new Date(E);if(isNaN(R))return!0;const q=new Date(R.getFullYear(),R.getMonth(),R.getDate());if(a){const I=new Date(a);if(I.setHours(0,0,0,0),q<I)return!1}if(r){const I=new Date(r);if(I.setHours(0,0,0,0),q>I)return!1}return!0},v=x.filter(E=>(!t||E.owner===t)&&p(E.lastActivity)),g={onTrack:v.filter(E=>E.status==="onTrack").length,atRisk:v.filter(E=>E.status==="atRisk").length,paused:v.filter(E=>E.status==="paused").length},b=[{label:n("On Track"),value:g.onTrack,color:"#22c55e"},{label:n("At Risk"),value:g.atRisk,color:"#f59e0b"},{label:n("Paused"),value:g.paused,color:"#ef4444"}],j=l?b:b.filter(E=>E.label!==n("Paused")),N=g.onTrack+g.atRisk,S=v.filter(E=>E.status!=="paused"),k=S.length?Math.round(S.reduce((E,R)=>E+R.openRate,0)/S.length):0,A=S.length?Number((S.reduce((E,R)=>E+R.clickRate,0)/S.length).toFixed(1)):0,_=S.length?Number((S.reduce((E,R)=>E+R.conversionRate,0)/S.length).toFixed(1)):0,M=E=>E==="onTrack"?"bg-emerald-500":E==="atRisk"?"bg-amber-500":"bg-red-500",L=E=>n(E==="onTrack"?"On Track":E==="atRisk"?"At Risk":"Paused"),U=E=>f?E==="onTrack"?"bg-emerald-200 text-emerald-800 border border-emerald-300":E==="atRisk"?"bg-amber-200 text-amber-800 border border-amber-300":"bg-red-200 text-red-800 border border-red-300":E==="onTrack"?"bg-emerald-900/30 text-emerald-300":E==="atRisk"?"bg-amber-900/30 text-amber-300":"bg-red-900/30 text-red-300",z=E=>{try{return new Intl.DateTimeFormat(c==="ar"?"ar-EG":"en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(E))}catch{return E}},O=!a&&!r?n("Last 30 Days"):a&&r?c==="ar"?` ${z(a)}  ${z(r)}`:`From ${z(a)} To ${z(r)}`:a?c==="ar"?` ${z(a)}`:`From ${z(a)}`:c==="ar"?` ${z(r)}`:`To ${z(r)}`;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[s.jsxs("div",{className:`flex items-center ${d?"flex-row-reverse":""} gap-2`,children:[s.jsx("span",{"aria-hidden":!0,className:"inline-block w-1 h-4 rounded bg-blue-500"}),s.jsx("h3",{className:`${f?"text-black":"dark:text-gray-100"} text-lg md:text-xl font-bold`,children:n("Active Campaigns")})]}),s.jsx("span",{className:`${f?"text-blue-700 font-bold":"dark:text-blue-200"} text-sm`,children:O})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-4",children:[s.jsxs("div",{className:`${f?"p-4 rounded-xl bg-[var(--lm-muted-surface)] border border-[var(--lm-border)] shadow-md":"p-3 rounded-lg dark:bg-blue-900"}`,children:[s.jsx("div",{className:f?"text-sm font-medium text-black":"text-xs text-gray-600 dark:text-gray-300",children:n("Avg. Open Rate")}),s.jsxs("div",{className:f?"text-2xl font-bold text-black":"text-lg font-semibold dark:text-gray-100",children:[k,"%"]})]}),s.jsxs("div",{className:`${f?"p-4 rounded-xl bg-[var(--lm-muted-surface)] border border-[var(--lm-border)] shadow-md":"p-3 rounded-lg dark:bg-blue-900"}`,children:[s.jsx("div",{className:f?"text-sm font-medium text-black":"text-xs text-gray-600 dark:text-gray-300",children:n("Avg. Click Rate")}),s.jsxs("div",{className:f?"text-2xl font-bold text-black":"text-lg font-semibold dark:text-gray-100",children:[A,"%"]})]}),s.jsxs("div",{className:`${f?"p-4 rounded-xl bg-[var(--lm-muted-surface)] border border-[var(--lm-border)] shadow-md":"p-3 rounded-lg dark:bg-blue-900"}`,children:[s.jsx("div",{className:f?"text-sm font-medium text-black":"text-xs text-gray-600 dark:text-gray-300",children:n("Conversion Rate")}),s.jsxs("div",{className:f?"text-2xl font-bold text-black":"text-lg font-semibold dark:text-gray-100",children:[_,"%"]})]})]}),s.jsxs("div",{className:"flex flex-col items-start gap-3 md:gap-4",children:[s.jsxs("div",{className:`flex ${d?"flex-row-reverse":"flex-row"} items-start gap-3 md:gap-4 w-full`,children:[s.jsx("div",{className:"shrink-0 self-start",children:s.jsx(Zn,{segments:j,centerValue:N,centerLabel:n("Total Active"),size:125})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:`${f?"text-black":"dark:text-gray-100"} text-sm font-semibold`,children:n("Active Campaigns Overview")}),s.jsx("button",{type:"button",onClick:()=>o(E=>!E),className:`${f?"btn-reset text-xs px-2 py-1":"text-xs px-2 py-1 rounded border border-blue-700 text-gray-200 hover:bg-blue-800"}`,children:n(l?"Hide Paused":"Show Paused")})]}),s.jsx("div",{className:"space-y-2 mb-4",children:j.map((E,R)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:E.color}}),s.jsx("span",{className:`${f?"text-sm text-black":"text-sm dark:text-gray-300"}`,children:E.label}),s.jsx("span",{className:`${f?"text-sm font-medium text-black":"text-sm font-medium dark:text-gray-100"}`,children:E.value})]},R))})]})]}),s.jsxs("div",{className:"w-full",children:[s.jsx("h4",{className:`${f?"text-black":"dark:text-gray-100"} text-sm font-semibold mt-3`,children:n("Top Campaigns")}),s.jsx("style",{children:`
    .scrollbar-thin-blue { scrollbar-width: thin; scrollbar-color: #2563eb transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar { height: 6px; }
    .scrollbar-thin-blue::-webkit-scrollbar-track { background: transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar-thumb { background-color: #2563eb; border-radius: 9999px; }
    .scrollbar-thin-blue:hover::-webkit-scrollbar-thumb { background-color: #1d4ed8; }
  `}),s.jsx("div",{className:"flex flex-row flex-nowrap gap-3 w-full items-stretch overflow-x-auto overflow-y-hidden pr-1 snap-x snap-mandatory scrollbar-thin-blue",children:v.map((E,R)=>s.jsxs("div",{className:`${f?"flex flex-col p-3 rounded-xl bg-white border border-[var(--lm-border)] shadow-sm hover:shadow-md":"flex flex-col p-3 rounded-xl border dark:border-blue-700 bg-transparent dark:bg-transparent shadow-sm hover:shadow-md"} transition-shadow duration-200 h-full min-h-[120px] flex-shrink-0 w-fit max-w-[200px] md:max-w-[220px] snap-start`,children:[s.jsxs("div",{className:"flex flex-col items-start gap-1 min-w-0",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 min-w-0",children:[s.jsx("span",{className:`inline-block w-3 h-3 rounded-full ${M(E.status)}`}),s.jsx("span",{className:`${f?"text-sm font-medium text-gray-900":"text-sm font-medium dark:text-gray-200"} whitespace-normal break-words`,children:E.name})]}),s.jsx("span",{className:`text-[10px] md:text-xs px-2 py-0.5 rounded-full font-medium ${U(E.status)}`,children:L(E.status)})]}),s.jsxs("div",{className:`${f?"mt-2 flex flex-col gap-1 text-xs md:text-sm text-gray-800":"mt-2 flex flex-col gap-1 text-xs md:text-sm text-[var(--muted-text)]"}`,children:[s.jsxs("div",{className:f?"text-black":"",children:[n("Open Rate"),": ",E.openRate,"%"]}),s.jsxs("div",{className:f?"text-black":"",children:[n("Click Rate"),": ",E.clickRate,"%"]}),s.jsxs("div",{className:f?"text-black":"",children:[n("Conversion Rate"),": ",E.conversionRate,"%"]})]})]},R))})]})]})]})}function w5(e){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function My(e){return Yt({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(e)}function Zu(e){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(e)}function Vle(e){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(e)}function KU(e){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(e)}function Wle(e){return Yt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 432c-101.69 0-184-82.29-184-184 0-101.69 82.29-184 184-184 101.69 0 184 82.29 184 184 0 101.69-82.29 184-184 184zm0-312c-70.69 0-128 57.31-128 128s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm0 192c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"},child:[]}]})(e)}function W1(e){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function xM(e){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function qle(e){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function Gle(e){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function gM(e){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function vM(e){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(e)}function Kle(e){return Yt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm121.2 231.8l-143 141.8c-4.7 4.7-12.3 4.6-17-.1l-82.6-83.3c-4.7-4.7-4.6-12.3.1-17L99.1 285c4.7-4.7 12.3-4.6 17 .1l46 46.4 106-105.2c4.7-4.7 12.3-4.6 17 .1l28.2 28.4c4.7 4.8 4.6 12.3-.1 17z"},child:[]}]})(e)}function Yle(e){return Yt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function bM(e){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function Xle(e){return Yt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(e)}function Qle(e){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function Jle(e){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64V160h160v256zm224 0H288V160h160v256z"},child:[]}]})(e)}function Rk(e){return Yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(e)}function Zle(e){return Yt({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(e)}function eh(e){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function wf(e){return Yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function Cf(e){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function dd(e){return Yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function eoe(e){return Yt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function YU(e){return Yt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function toe(e){return Yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"},child:[]}]})(e)}function aoe(e){return Yt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(e)}function roe(e){return Yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M218.17 424.14c-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34c-6.37 12.78-25.03 11.37-29.48-2.09L144 386.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.75-16.19 54.06-9.7 66 14.16 1.89 3.78 5.49 5.95 9.36 6.26v-82.12l128-127.09V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24v-40l-128-.11c-16.12-.31-30.58-9.28-37.83-23.75zM384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1zm-96 225.06V416h68.99l161.68-162.78-67.88-67.88L288 346.96zm280.54-179.63l-31.87-31.87c-9.94-9.94-26.07-9.94-36.01 0l-27.25 27.25 67.88 67.88 27.25-27.25c9.95-9.94 9.95-26.07 0-36.01z"},child:[]}]})(e)}function Z2(e){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function soe(e){return Yt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(e)}function noe(e){return Yt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM144 32h96c8.8 0 16 7.2 16 16s-7.2 16-16 16h-96c-8.8 0-16-7.2-16-16s7.2-16 16-16zm48 128c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H102.4C90 416 80 407.4 80 396.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z"},child:[]}]})(e)}function yM(e){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function ioe(e){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function j5(e){return Yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M160 448c-25.6 0-51.2-22.4-64-32-64-44.8-83.2-60.8-96-70.4V480c0 17.67 14.33 32 32 32h256c17.67 0 32-14.33 32-32V345.6c-12.8 9.6-32 25.6-96 70.4-12.8 9.6-38.4 32-64 32zm128-192H32c-17.67 0-32 14.33-32 32v16c25.6 19.2 22.4 19.2 115.2 86.4 9.6 6.4 28.8 25.6 44.8 25.6s35.2-19.2 44.8-22.4c92.8-67.2 89.6-67.2 115.2-86.4V288c0-17.67-14.33-32-32-32zm256-96H224c-17.67 0-32 14.33-32 32v32h96c33.21 0 60.59 25.42 63.71 57.82l.29-.22V416h192c17.67 0 32-14.33 32-32V192c0-17.67-14.33-32-32-32zm-32 128h-64v-64h64v64zm-352-96c0-35.29 28.71-64 64-64h224V32c0-17.67-14.33-32-32-32H96C78.33 0 64 14.33 64 32v192h96v-32z"},child:[]}]})(e)}function XU(e){return Yt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function th(e){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function zu(e){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function loe(e){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(e)}function ooe(e){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function rx(e){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function QU(e){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(e)}function wM(e){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function coe(e){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function ru(e){return Yt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function doe(e){return Yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z"},child:[]}]})(e)}function uoe(e){return Yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128 0-70.8 57.3-128 128-128 70.8 0 128 57.3 128 128 0 70.8-57.3 128-128 128z"},child:[]}]})(e)}function Fk(e){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function sx(e){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function hoe(e){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"},child:[]}]})(e)}function Ik(e){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(e)}function jM(e){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 256H152V152.9c0-39.6 31.7-72.5 71.3-72.9 40-.4 72.7 32.1 72.7 72v16c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24v-16C376 68 307.5-.3 223.5 0 139.5.3 72 69.5 72 153.5V256H48c-26.5 0-48 21.5-48 48v160c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function foe(e){return Yt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"},child:[]}]})(e)}function moe(e){return Yt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h274.9c-2.4-6.8-3.4-14-2.6-21.3l6.8-60.9 1.2-11.1 7.9-7.9 77.3-77.3c-24.5-27.7-60-45.5-99.9-45.5zm45.3 145.3l-6.8 61c-1.1 10.2 7.5 18.8 17.6 17.6l60.9-6.8 137.9-137.9-71.7-71.7-137.9 137.8zM633 268.9L595.1 231c-9.3-9.3-24.5-9.3-33.8 0l-37.8 37.8-4.1 4.1 71.8 71.7 41.8-41.8c9.3-9.4 9.3-24.5 0-33.9z"},child:[]}]})(e)}function JU(e){return Yt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function poe(e){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(e)}function ew(e){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function tw(e){return Yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(e)}Nr.register(Cn,An,$n,ai,pl,Tm,wx,rn,an);const xoe=({selectedEmployee:e,dateFrom:t,dateTo:a})=>{const{t:r,i18n:n}=Et(),i=n.language||"en",{theme:l}=xl(),o=l==="light",[c,d]=w.useState("count"),[u,f]=w.useState("bar"),[x,p]=w.useState("sum"),[v,g]=w.useState("2025"),[b,j]=w.useState(""),[N,S]=w.useState(!1),[k,A]=w.useState({employee:"",dateFrom:"",dateTo:"",valueMin:"",valueMax:"",stage:"",leadName:""}),_=[{date:"2025-01-01",employee:"Osama Sales",leadName:"Ahmed Ali",stage:"New",value:5e3,prorated:1e3},{date:"2025-01-02",employee:"Youssef Hemeda",leadName:"Sara Mohamed",stage:"Qualified",value:7500,prorated:3750},{date:"2025-01-03",employee:"Ahmed Ibrahim",leadName:"Omar Hassan",stage:"Proposal",value:12e3,prorated:9e3},{date:"2025-01-04",employee:"Noura",leadName:"Fatima Ahmed",stage:"Negotiation",value:8500,prorated:6800},{date:"2025-01-05",employee:"Ali",leadName:"Khaled Mahmoud",stage:"Closed Won",value:15e3,prorated:15e3},{date:"2025-01-06",employee:"Osama Sales",leadName:"Mona Saleh",stage:"Closed Lost",value:6e3,prorated:0},{date:"2025-01-07",employee:"Youssef Hemeda",leadName:"Tamer Farouk",stage:"New",value:4500,prorated:900},{date:"2025-01-08",employee:"Ahmed Ibrahim",leadName:"Layla Nasser",stage:"Qualified",value:9e3,prorated:4500},{date:"2025-01-09",employee:"Noura",leadName:"Youssef Ali",stage:"Proposal",value:11e3,prorated:8250},{date:"2025-01-10",employee:"Ali",leadName:"Dina Mostafa",stage:"Negotiation",value:13500,prorated:10800}],M=["New","Qualified","Proposal","Negotiation","Closed Won","Closed Lost"],L=["Osama Sales","Youssef Hemeda","Ahmed Ibrahim","Noura","Ali"],U=ae=>{const ie=new Date(ae);return ie.setFullYear(parseInt(v)),ie.toLocaleDateString()},z=w.useMemo(()=>_.filter(ae=>{const ie=!b||ae.stage.toLowerCase().includes(b.toLowerCase())||ae.leadName.toLowerCase().includes(b.toLowerCase()),le=k.employee||e,Y=!le||ae.employee===le,oe=!k.stage||ae.stage===k.stage,xe=!k.leadName||ae.leadName.toLowerCase().includes(k.leadName.toLowerCase()),W=!k.valueMin||ae.value>=parseFloat(k.valueMin),he=!k.valueMax||ae.value<=parseFloat(k.valueMax),fe=k.dateFrom||t,de=k.dateTo||a,Oe=!fe||ae.date>=fe,Fe=!de||ae.date<=de;return ie&&Y&&oe&&xe&&W&&he&&Oe&&Fe}),[_,b,k,e,t,a]),O=w.useMemo(()=>{const ae={};return M.forEach(ie=>{if(ae[ie]=z.filter(le=>le.stage===ie).reduce((le,Y)=>{const oe=c==="count"?1:c==="value"?Y.value:Y.prorated;return x==="sum"||x==="avg"?le+oe:x==="min"?Math.min(le,oe):x==="max"?Math.max(le,oe):le+oe},x==="min"?1/0:x==="max"?-1/0:0),x==="avg"){const le=z.filter(Y=>Y.stage===ie).length;ae[ie]=le>0?ae[ie]/le:0}}),ae},[z,c,x,M]),B={labels:M,datasets:[{label:r(c),data:M.map(ae=>O[ae]||0),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1}]},E={labels:z.map(ae=>U(ae.date)),datasets:[{label:r(c),data:z.map(ae=>c==="count"?1:c==="value"?ae.value:ae.prorated),borderColor:"rgba(59, 130, 246, 1)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4}]},R={labels:M,datasets:[{data:M.map(ae=>O[ae]||0),backgroundColor:["rgba(239, 68, 68, 0.8)","rgba(245, 158, 11, 0.8)","rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(139, 92, 246, 0.8)","rgba(236, 72, 153, 0.8)"]}]};typeof document<"u"&&document.documentElement.classList.contains("dark");const q=o?"#0f172a":"#e5e7eb",I=c==="count"?i==="ar"?"  ":"No. of Leads":c==="value"?i==="ar"?" ":"Deal Value":i==="ar"?" ":"Prorated Revenue",G=x==="sum"?i==="ar"?"":"Sum":x==="avg"?i==="ar"?"":"Average":x==="min"?i==="ar"?"":"Minimum":i==="ar"?"":"Maximum",re=i==="ar"?"":"Stage",te=`${I} (${G})`,X=i==="ar"?"":"Date",ce=I,D={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:q}},title:{display:!0,text:`${r("Pipeline Analysis")} - ${r(c)} (${r("by Stage")})`,color:q,font:{size:14,weight:"bold"}}},scales:{x:{grid:{display:!1},ticks:{color:q,font:{size:13,weight:600}},title:{display:!0,text:re,color:q,font:{size:13,weight:600}}},y:{beginAtZero:!0,grid:{display:!1},ticks:{color:q,font:{size:13,weight:600}},title:{display:!0,text:te,color:q,font:{size:13,weight:600}}}}},Q={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:q}},title:{display:!0,text:`${r("Pipeline Analysis")} - ${r(c)} (${r("Over Time")})`,color:q,font:{size:14,weight:"bold"}}},scales:{x:{grid:{display:!1},ticks:{color:q,font:{size:13,weight:600}},title:{display:!0,text:X,color:q,font:{size:13,weight:600}}},y:{grid:{display:!1},ticks:{color:q,font:{size:13,weight:600}},title:{display:!0,text:ce,color:q,font:{size:13,weight:600}}}}},H=w.useMemo(()=>M.map(ae=>{const ie=L.map(Y=>{const oe=z.filter(W=>W.stage===ae&&W.employee===Y),xe=oe.reduce((W,he)=>{const fe=c==="count"?1:c==="value"?he.value:he.prorated;return x==="sum"||x==="avg"?W+fe:x==="min"?Math.min(W,fe):x==="max"?Math.max(W,fe):W+fe},x==="min"?1/0:x==="max"?-1/0:0);return x==="avg"&&oe.length>0?xe/oe.length:oe.length===0&&(x==="min"||x==="max")?0:xe}),le=ie.reduce((Y,oe)=>Y+oe,0);return{stage:ae,values:ie,total:le}}),[z,c,x,M,L]),J=w.useMemo(()=>z,[z]);return s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3 justify-end",children:[s.jsx("span",{className:`${o?"text-blue-700 font-semibold":"dark:text-gray-300"} text-sm`,children:u==="bar"?i==="ar"?"  ":"Bar Chart":u==="line"?i==="ar"?"  ":"Line Chart":u==="pie"?i==="ar"?"  ":"Pie Chart":u==="pivot"?i==="ar"?" ":"Pivot Table":i==="ar"?"":"List"}),s.jsxs("div",{className:"flex items-center gap-2 p-1 bg-gray-100 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:()=>f("bar"),title:r("Bar"),"aria-label":r("Bar"),className:`group relative flex items-center justify-center px-3 py-2 rounded-md transition-all duration-300 ease-in-out ${u==="bar"?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-600 hover:text-blue-600 dark:hover:text-blue-400 hover:scale-105"} border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-500`,children:s.jsx(cA,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>f("line"),title:r("Line"),"aria-label":r("Line"),className:`group relative flex items-center justify-center px-3 py-2 rounded-md transition-all duration-300 ease-in-out ${u==="line"?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg shadow-purple-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-gray-600 hover:text-purple-600 dark:hover:text-purple-400 hover:scale-105"} border border-gray-200 dark:border-gray-600 hover:border-purple-300 dark:hover:border-purple-500`,children:s.jsx(HU,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>f("pie"),title:r("Pie"),"aria-label":r("Pie"),className:`group relative flex items-center justify-center px-3 py-2 rounded-md transition-all duration-300 ease-in-out ${u==="pie"?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg shadow-orange-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-orange-50 dark:hover:bg-gray-600 hover:text-orange-600 dark:hover:text-orange-400 hover:scale-105"} border border-gray-200 dark:border-gray-600 hover:border-orange-300 dark:hover:border-orange-500`,children:s.jsx(VU,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>f("pivot"),title:r("Pivot"),"aria-label":r("Pivot"),className:`group relative flex items-center justify-center px-3 py-2 rounded-md transition-all duration-300 ease-in-out ${u==="pivot"?"bg-gradient-to-r from-teal-500 to-teal-600 text-white shadow-lg shadow-teal-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-teal-50 dark:hover:bg-gray-600 hover:text-teal-600 dark:hover:text-teal-400 hover:scale-105"} border border-gray-200 dark:border-gray-600 hover:border-teal-300 dark:hover:border-teal-500`,children:s.jsx(Mle,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>f("list"),title:r("List"),"aria-label":r("List"),className:`group relative flex items-center justify-center px-3 py-2 rounded-md transition-all duration-300 ease-in-out ${u==="list"?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg shadow-green-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-green-50 dark:hover:bg-gray-600 hover:text-green-600 dark:hover:text-green-400 hover:scale-105"} border border-gray-200 dark:border-gray-600 hover:border-green-300 dark:hover:border-green-500`,children:s.jsx(Dle,{className:"w-4 h-4"})})]})]}),!1,u==="bar"&&s.jsx("div",{className:"w-full h-72",children:s.jsx(Ls,{options:D,data:B})}),u==="line"&&s.jsx("div",{className:"w-full h-72",children:s.jsx(no,{options:Q,data:E})}),u==="pie"&&s.jsx("div",{className:"w-full h-72",children:s.jsx($U,{options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:q}},title:{display:!0,text:`${r("Pipeline Analysis")} - ${r(c)} (${r("by Stage")})`,color:q}}},data:R})}),u==="pivot"&&s.jsx("div",{className:"w-full overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm border border-gray-200 dark:border-gray-700 rounded-md",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700",children:r("Stage")}),L.map((ae,ie)=>s.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700",children:ae},ie)),s.jsxs("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700",children:[r("Total")," (",r(x),")"]})]})}),s.jsx("tbody",{children:H.map((ae,ie)=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[s.jsx("td",{className:`px-3 py-2 font-medium ${o?"text-black":"dark:text-white"}`,children:ae.stage}),ae.values.map((le,Y)=>s.jsx("td",{className:`px-3 py-2 ${o?"text-black":"dark:text-gray-300"}`,children:le},Y)),s.jsx("td",{className:`px-3 py-2 font-semibold ${o?"text-black":"dark:text-gray-100"}`,children:Math.round(ae.total*100)/100})]},ie))})]})}),u==="list"&&s.jsx("div",{className:"w-full overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm border border-gray-200 dark:border-gray-700 rounded-md",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700",children:r("Date")}),s.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700",children:r("Employee")}),s.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700",children:r("Lead name")}),s.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700",children:r("Stage name")}),s.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700",children:r("Value")}),s.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700",children:r("Prorated Revenue")})]})}),s.jsx("tbody",{children:J.map((ae,ie)=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[s.jsx("td",{className:`px-3 py-2 ${o?"text-black":"dark:text-gray-300"}`,children:U(ae.date)}),s.jsx("td",{className:`px-3 py-2 ${o?"text-black":"dark:text-gray-300"}`,children:ae.employee}),s.jsx("td",{className:`px-3 py-2 ${o?"text-black":"dark:text-gray-300"}`,children:ae.leadName}),s.jsx("td",{className:`px-3 py-2 ${o?"text-black":"dark:text-gray-300"}`,children:ae.stage}),s.jsx("td",{className:`px-3 py-2 ${o?"text-black":"dark:text-gray-300"}`,children:ae.value}),s.jsx("td",{className:`px-3 py-2 ${o?"text-black":"dark:text-gray-300"}`,children:ae.prorated})]},ie))})]})})]})},uA=({isOpen:e,onClose:t,onSave:a,lead:r,inline:n=!1})=>{const{t:i,i18n:l}=Et(),[o,c]=w.useState({type:"call",title:"",description:"",date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().slice(0,5),status:"pending",priority:"medium",assignedTo:"",notes:"",meetingType:"introduction",meetingLocation:"indoor",showSchedule:!1,answerStatus:"answer",selectedQuickOption:null});if(!e)return null;const d=l.language==="ar",u=[{value:"call",label:d?"":"Call",icon:th,color:"bg-blue-500"},{value:"follow_up",label:d?"":"Follow up",icon:Rk,color:"bg-teal-500"},{value:"meeting",label:d?"":"Meeting",icon:W1,color:"bg-purple-500"}],f=[{value:"introduction",label:d?" ":"Introduction Meeting"},{value:"follow_up",label:d?" ":"Follow-up Meeting"},{value:"presentation",label:d?" ":"Presentation Meeting"},{value:"negotiation",label:d?" ":"Negotiation Meeting"}],x=[{value:"indoor",label:d?"":"Indoor"},{value:"outdoor",label:d?"":"Outdoor"},{value:"online",label:d?" ":"Online"},{value:"client_office",label:d?" ":"Client Office"}],p=k=>{const{name:A,value:_,type:M,checked:L}=k.target;c(U=>({...U,[A]:M==="checkbox"?L:_}))},v=k=>{const A=new Date;let _;switch(k){case"after_1_hour":_=new Date(A.getTime()+3600*1e3);break;case"after_2_hours":_=new Date(A.getTime()+7200*1e3);break;case"tomorrow":_=new Date(A),_.setDate(_.getDate()+1),_.setHours(9,0,0,0);break;case"next_week":_=new Date(A),_.setDate(_.getDate()+7),_.setHours(9,0,0,0);break;default:return}c(M=>({...M,date:_.toISOString().split("T")[0],time:_.toTimeString().slice(0,5),selectedQuickOption:k}))},g=k=>{k.preventDefault();const A={...o,id:Date.now(),leadId:r?.id,leadName:r?.name,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};a(A),console.log(d?"  :":"Adding new action:",A),c({type:"call",title:"",description:"",date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().slice(0,5),status:"pending",priority:"medium",assignedTo:"",notes:"",meetingType:"introduction",meetingLocation:"indoor",showSchedule:!1,answerStatus:"answer",selectedQuickOption:null}),t()};u.find(k=>k.value===o.type)?.icon;const j=n?"relative p-0":"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-0 sm:p-6",N=n?"bg-gray-800 sm:rounded-lg shadow-xl w-full h-auto max-h-[85vh] overflow-y-auto":"bg-gray-800 sm:rounded-lg shadow-xl w-full sm:max-w-2xl max-h-[85vh] h-auto overflow-y-auto m-0 sm:m-4";w.useEffect(()=>{if(!n&&e){const k=document.body.style.overflow;return document.body.style.overflow="hidden",window.scrollTo({top:0,behavior:"smooth"}),()=>{document.body.style.overflow=k}}},[n,e]);const S=s.jsx("div",{className:j,children:s.jsxs("div",{className:N,children:[s.jsxs("div",{className:"flex items-center justify-between p-8 border-b border-gray-700",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("h2",{className:"text-xl font-semibold text-white",children:d?" ":"Add Action"})}),!n&&s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-300 transition-colors",children:s.jsx(ru,{className:"text-lg"})})})]}),s.jsx("div",{className:"px-8 pt-6",children:s.jsx("p",{className:"text-gray-400 text-sm",children:d?"    ":"Select action type and schedule details"})}),s.jsxs("form",{onSubmit:g,className:"p-8 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:d?" ":"Select type"}),s.jsx("select",{name:"type",value:o.type,onChange:p,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white",children:u.map(k=>s.jsx("option",{value:k.value,children:k.label},k.value))})]}),o.type&&s.jsx("div",{className:`flex ${d?"justify-start":"justify-end"}`,children:s.jsx("button",{type:"button",onClick:()=>c(k=>({...k,answerStatus:k.answerStatus==="answer"?"no_answer":"answer"})),className:`flex items-center gap-3 px-6 py-4 rounded-xl transition-all font-medium backdrop-blur-md bg-white/10 hover:bg-white/20 shadow-2xl shadow-black/30 hover:shadow-black/50 border ${o.answerStatus==="answer"?"text-green-300 hover:text-green-200 shadow-green-500/20 border-green-400/40":"text-red-300 hover:text-red-200 shadow-red-500/20 border-red-400/40"}`,children:o.answerStatus==="answer"?s.jsxs(s.Fragment,{children:[s.jsx(uoe,{className:"text-lg text-green-400"}),s.jsx("span",{children:d?"":"Answer"})]}):s.jsxs(s.Fragment,{children:[s.jsx(doe,{className:"text-lg text-red-400"}),s.jsx("span",{children:d?"  ":"No Answer"})]})})}),o.type==="meeting"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:d?" ":"Meeting Type"}),s.jsx("select",{name:"meetingType",value:o.meetingType,onChange:p,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white",children:f.map(k=>s.jsx("option",{value:k.value,children:k.label},k.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:d?" ":"Meeting Location"}),s.jsx("select",{name:"meetingLocation",value:o.meetingLocation,onChange:p,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white",children:x.map(k=>s.jsx("option",{value:k.value,children:k.label},k.value))})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text",children:d?" ":"Schedule Date"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"relative",children:s.jsx("input",{type:"datetime-local",name:"date",value:`${o.date}T${o.time}`,onChange:k=>{const[A,_]=k.target.value.split("T");c(M=>({...M,date:A,time:_}))},className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white text-sm pr-12",placeholder:"05/12/2025 23:58:53"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("button",{type:"button",onClick:()=>v("after_1_hour"),className:`px-4 py-2 text-sm rounded-lg border-2 transition-colors ${o.selectedQuickOption==="after_1_hour"?"bg-teal-600 text-white border-teal-500 ring-2 ring-teal-400/40":"bg-gray-700 text-gray-300 border-gray-500 hover:bg-gray-600"}`,children:d?" ":"After 1 hour"}),s.jsx("button",{type:"button",onClick:()=>v("after_2_hours"),className:`px-4 py-2 text-sm rounded-lg border-2 transition-colors ${o.selectedQuickOption==="after_2_hours"?"bg-teal-600 text-white border-teal-500 ring-2 ring-teal-400/40":"bg-gray-700 text-gray-300 border-gray-500 hover:bg-gray-600"}`,children:d?" ":"After 2 hours"})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("button",{type:"button",onClick:()=>v("tomorrow"),className:`px-4 py-2 text-sm rounded-lg border-2 transition-colors ${o.selectedQuickOption==="tomorrow"?"bg-teal-600 text-white border-teal-500 ring-2 ring-teal-400/40":"bg-gray-700 text-gray-300 border-gray-500 hover:bg-gray-600"}`,children:d?"":"Tomorrow"}),s.jsx("button",{type:"button",onClick:()=>v("next_week"),className:`px-4 py-2 text-sm rounded-lg border-2 transition-colors ${o.selectedQuickOption==="next_week"?"bg-teal-600 text-white border-teal-500 ring-2 ring-teal-400/40":"bg-gray-700 text-gray-300 border-gray-500 hover:bg-gray-600"}`,children:d?" ":"Next Week"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",id:"showSchedule",name:"showSchedule",checked:o.showSchedule,onChange:p,className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"showSchedule",className:"text-sm text-gray-300",children:d?" ":"Show my schedule"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:d?" *":"Comment *"}),s.jsx("textarea",{name:"notes",value:o.notes,onChange:p,placeholder:d?"  .      ...":"Write your comment here. Unlimited words are allowed...",rows:"4",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white placeholder-gray-400 resize-none",required:!0})]}),s.jsxs("div",{className:"flex justify-between gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 text-gray-300 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors",children:d?"":"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-md transition-colors",children:d?" ":"Save Action"})]})]})]})});return n?S:Cj.createPortal(S,document.body)},goe=({isOpen:e,onClose:t,onSave:a,lead:r})=>{const[n,i]=w.useState({fullName:"",mobile:"",email:"",company:"",location:"",status:"New",priority:"Medium",source:"Website",assignedTo:"Unassigned",estimatedValue:"",probability:"50",notes:""});w.useEffect(()=>{r&&i({fullName:r.fullName||"",mobile:r.mobile||"",email:r.email||"",company:r.company||"",location:r.location||"",status:r.status||"New",priority:r.priority||"Medium",source:r.source||"Website",assignedTo:r.assignedTo||"Unassigned",estimatedValue:r.estimatedValue||"",probability:r.probability||"50",notes:r.notes||""})},[r]);const l=c=>{const{name:d,value:u}=c.target;i(f=>({...f,[d]:u}))},o=c=>{c.preventDefault();const d={...r,...n,lastModified:new Date().toLocaleDateString("ar-EG")};a(d),t()};return!e||!r?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white sm:rounded-lg shadow-xl w-full h-screen sm:max-w-4xl sm:max-h-[90vh] sm:h-auto sm:mx-4 mx-0 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[s.jsx(ew,{className:"mr-2 text-blue-600"}),"   "]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",title:"",children:s.jsx(ru,{size:20})})]}),s.jsxs("form",{onSubmit:o,className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:" "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(ew,{className:"inline mr-1"}),"  *"]}),s.jsx("input",{type:"text",name:"fullName",value:n.fullName,onChange:l,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  "})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(th,{className:"inline mr-1"}),"  *"]}),s.jsx("input",{type:"tel",name:"mobile",value:n.mobile,onChange:l,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  "})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Cf,{className:"inline mr-1"})," "]}),s.jsx("input",{type:"email",name:"email",value:n.email,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  "})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(KU,{className:"inline mr-1"}),""]}),s.jsx("input",{type:"text",name:"company",value:n.company,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  "})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(XU,{className:"inline mr-1"}),""]}),s.jsx("input",{type:"text",name:"location",value:n.location,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:" "})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"  "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),s.jsxs("select",{name:"status",value:n.status,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"New",children:""}),s.jsx("option",{value:"Contacted",children:" "}),s.jsx("option",{value:"Qualified",children:""}),s.jsx("option",{value:"Proposal",children:""}),s.jsx("option",{value:"Negotiation",children:""}),s.jsx("option",{value:"Closed Won",children:" - "}),s.jsx("option",{value:"Closed Lost",children:" - "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),s.jsxs("select",{name:"priority",value:n.priority,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"Low",children:""}),s.jsx("option",{value:"Medium",children:""}),s.jsx("option",{value:"High",children:""}),s.jsx("option",{value:"Urgent",children:""})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),s.jsxs("select",{name:"source",value:n.source,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"Website",children:" "}),s.jsx("option",{value:"Social Media",children:"  "}),s.jsx("option",{value:"Referral",children:""}),s.jsx("option",{value:"Cold Call",children:" "}),s.jsx("option",{value:"Email Campaign",children:"  "}),s.jsx("option",{value:"Event",children:""}),s.jsx("option",{value:"Other",children:""})]})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:" "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),s.jsxs("select",{name:"assignedTo",value:n.assignedTo,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"Unassigned",children:" "}),s.jsx("option",{value:"Ahmed Ali",children:" "}),s.jsx("option",{value:"Sara Mohamed",children:" "}),s.jsx("option",{value:"Omar Hassan",children:" "}),s.jsx("option",{value:"Fatima Ibrahim",children:" "})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Zle,{className:"inline mr-1"})," "]}),s.jsx("input",{type:"number",name:"estimatedValue",value:n.estimatedValue,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  "})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (%)"}),s.jsx("input",{type:"number",name:"probability",value:n.probability,onChange:l,min:"0",max:"100",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:" "})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),s.jsx("textarea",{name:"notes",value:n.notes,onChange:l,rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"   ..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:""}),s.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(ooe,{className:"mr-2"})," "]})]})]})]})})},Ov=()=>{const[e,t]=w.useState([]),[a,r]=w.useState([]),n=o=>Array.isArray(o)?o.length===0?[]:typeof o[0]=="string"?o.map(d=>({name:d,nameAr:"",color:"#3b82f6",icon:""})):o.map(d=>({name:d.name||String(d),nameAr:d.nameAr||"",color:d.color||"#3b82f6",icon:d.icon||""})):[],i=()=>{try{const o=JSON.parse(localStorage.getItem("crmStages")||"[]"),c=n(o);return t(c),c}catch{return t([]),[]}},l=()=>{try{const o=JSON.parse(localStorage.getItem("crmStatuses")||"[]"),c=n(o);return r(c),c}catch{return r([]),[]}};return w.useEffect(()=>{i(),l();const o=c=>{c.key==="crmStages"?i():c.key==="crmStatuses"&&l()};return window.addEventListener("storage",o),()=>{window.removeEventListener("storage",o)}},[]),{stages:e,statuses:a,loadStages:i,loadStatuses:l}},Rv=({lead:e,isOpen:t,onClose:a,isArabic:r=!1,theme:n="light"})=>{const[i,l]=w.useState("overview"),[o,c]=w.useState(""),[d,u]=w.useState("all"),[f,x]=w.useState("all"),[p,v]=w.useState("date"),[g,b]=w.useState("timeline"),[j,N]=w.useState([]),[S,k]=w.useState(!1),[A,_]=w.useState(!1),[M,L]=w.useState([{id:1,type:"call",title:"   ",description:"    ",date:"2024-01-15",time:"10:30",status:"completed",priority:"high",assignee:" ",duration:"25 "},{id:2,type:"email",title:"  ",description:"     ",date:"2024-01-14",time:"14:15",status:"completed",priority:"medium",assignee:" ",duration:null},{id:3,type:"meeting",title:"   ",description:"    ",date:"2024-01-16",time:"11:00",status:"scheduled",priority:"high",assignee:" ",duration:"60 "},{id:4,type:"note",title:" ",description:"     ",date:"2024-01-13",time:"16:45",status:"completed",priority:"low",assignee:" ",duration:null},{id:5,type:"task",title:"  ",description:"    ",date:"2024-01-17",time:"09:00",status:"pending",priority:"medium",assignee:" ",duration:"120 "}]);if(!t)return null;const U=D=>{console.log("  :",D),L(Q=>[{...D,assignee:D.assignedTo||D.assignee||" "},...Q]),k(!1)},z={name:e?.fullName||e?.leadName||e?.name||" ",phone:e?.mobile||e?.phone||"+966512345698",email:e?.email||"lead28@example.com",company:e?.company||"   ",location:e?.location||"Not specified",source:e?.source||"referral",createdDate:e?.createdDate||"Not specified",status:e?.status||"qualified",priority:e?.priority||"high",stage:e?.stage||(r?"":"New")},{stages:O}=Ov(),B=String(z.stage).toLowerCase(),E=(Array.isArray(O)?O:[]).find(D=>{const Q=typeof D=="string"?D:D?.name,H=typeof D=="string"?"":D?.nameAr;return String(Q||"").toLowerCase()===B||String(H||"").toLowerCase()===B}),R=E?typeof E!="string"&&typeof E.color=="string"?E.color.trim().startsWith("#")?{backgroundColor:E.color}:{background:`var(--stage-${E.color}-swatch, ${E.color})`}:{}:{},q=`px-3 py-1 text-white text-sm rounded-full font-medium${E?"":" bg-blue-500"}`,I=M.filter(D=>{const Q=D.title.toLowerCase().includes(o.toLowerCase())||D.description.toLowerCase().includes(o.toLowerCase()),H=d==="all"||D.status===d,J=f==="all"||D.type===f;return Q&&H&&J}).sort((D,Q)=>{switch(p){case"date":const H=new Date(`${D.date}T${D.time||"00:00"}`);return new Date(`${Q.date}T${Q.time||"00:00"}`)-H;case"priority":const ae={high:3,medium:2,low:1};return ae[Q.priority]-ae[D.priority];case"status":return D.status.localeCompare(Q.status);default:return 0}}),G={total:M.length,completed:M.filter(D=>D.status==="completed").length,pending:M.filter(D=>D.status==="pending").length,scheduled:M.filter(D=>D.status==="scheduled").length},re=D=>{switch(D){case"call":return s.jsx(th,{className:"text-blue-400"});case"email":return s.jsx(Cf,{className:"text-green-400"});case"meeting":return s.jsx(W1,{className:"text-purple-400"});case"note":return s.jsx(wf,{className:"text-yellow-400"});case"task":return s.jsx(yM,{className:"text-orange-400"});default:return s.jsx(Qle,{className:"text-gray-400"})}},te=D=>{switch(D){case"completed":return"bg-green-500";case"pending":return"bg-orange-500";case"scheduled":return"bg-blue-500";default:return"bg-gray-500"}},X=D=>{switch(D){case"high":return"text-red-400 border-red-400";case"medium":return"text-yellow-400 border-yellow-400";case"low":return"text-green-400 border-green-400";default:return"text-gray-400 border-gray-400"}},ce=[{id:"overview",label:"Overview"},{id:"all-actions",label:"All Actions"},{id:"communication",label:"Communication"}];return Cj.createPortal(s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-0",children:[s.jsxs("div",{className:"bg-slate-800 text-white w-full sm:max-w-5xl max-h-[85vh] h-auto sm:rounded-3xl overflow-y-auto shadow-2xl p-3 sm:p-4",children:[s.jsx("div",{className:"bg-slate-800 p-6 border-b border-slate-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[s.jsx("div",{className:"w-16 h-16 bg-slate-600 rounded-full flex items-center justify-center",children:s.jsx(ew,{className:"text-2xl text-slate-300"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:z.name}),s.jsx("p",{className:"text-slate-300 text-sm mb-1",children:z.phone}),s.jsx("p",{className:"text-slate-400 text-sm",children:z.email})]})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 w-[180px] sm:w-[210px]",children:[S&&s.jsx("button",{onClick:()=>k(!1),title:r?" ":"Back to Preview",className:"btn-icon",children:s.jsx(dd,{className:"text-sm"})}),!S&&s.jsx("button",{onClick:()=>k(!0),"aria-label":r?" ":"Add Action",title:r?" ":"Add Action",className:"btn-icon",children:s.jsx(zu,{className:"text-sm"})}),s.jsx("button",{onClick:()=>{},"aria-label":r?"":"Assign",title:r?"":"Assign",className:"btn-icon",children:s.jsx(foe,{className:"text-sm"})}),s.jsx("button",{onClick:()=>_(!0),"aria-label":r?" ":"Edit Lead",title:r?" ":"Edit Lead",className:"btn-icon",children:s.jsx(wf,{className:"text-sm"})}),s.jsx("button",{onClick:a,"aria-label":r?"":"Close",className:"btn-icon",children:s.jsx(ru,{className:"text-lg"})})]}),s.jsx("div",{className:"w-full h-px"}),s.jsxs("div",{className:"flex space-x-6 rtl:space-x-reverse",children:[s.jsx("span",{className:"px-3 py-1 bg-emerald-500 text-white text-sm rounded-full font-medium",children:"qualified"}),s.jsx("span",{className:"px-3 py-1 bg-orange-500 text-white text-sm rounded-full font-medium",children:"high"}),s.jsx("span",{className:q,style:R,children:z.stage})]})]})]})}),s.jsx(goe,{isOpen:A,onClose:()=>_(!1),onSave:D=>{},lead:e}),S&&s.jsx("div",{className:"px-6",children:s.jsx(uA,{isOpen:S,onClose:()=>k(!1),onSave:U,lead:e,inline:!0})}),s.jsx("div",{className:`bg-slate-800 px-6 border-b border-slate-700 ${S?"hidden":""}`,children:s.jsx("div",{className:"flex justify-between w-full",children:ce.map(D=>s.jsx("button",{onClick:()=>l(D.id),className:`flex-1 py-4 px-4 text-sm font-medium border-b-2 transition-all duration-200 text-center ${i===D.id?"border-emerald-400 text-white bg-emerald-500/20 rounded-t-lg shadow-lg shadow-emerald-500/10 font-semibold":"border-transparent text-slate-400 hover:text-white hover:border-slate-500 hover:bg-slate-700/30"}`,children:D.label},D.id))})}),s.jsxs("div",{className:`flex-1 overflow-y-auto p-6 bg-slate-800 ${S?"hidden":""}`,children:[i==="overview"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3 border-b border-slate-700 pb-2 text-left",children:"Current Status"}),s.jsxs("div",{className:"flex justify-start items-center gap-16 mb-6",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"relative w-24 h-24 rounded-full mb-2 bg-[conic-gradient(#34d399_0_12%,_#334155_12%)]",children:s.jsx("div",{className:"absolute inset-2 rounded-full bg-slate-700 border border-slate-600 flex items-center justify-center",children:s.jsx("span",{className:"text-2xl font-bold text-white",children:"3"})})}),s.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Total Actions"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"relative w-24 h-24 rounded-full mb-2 bg-[conic-gradient(#10b981_0_100%)]",children:s.jsx("div",{className:"absolute inset-2 rounded-full bg-slate-700 border border-emerald-400 flex items-center justify-center",children:s.jsx("span",{className:"text-2xl font-bold text-white",children:"2"})})}),s.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Completed"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"relative w-24 h-24 rounded-full mb-2 bg-[conic-gradient(#f59e0b_0_100%)]",children:s.jsx("div",{className:"absolute inset-2 rounded-full bg-slate-700 border border-orange-400 flex items-center justify-center",children:s.jsx("span",{className:"text-2xl font-bold text-white",children:"1"})})}),s.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Pending"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4 border-b border-slate-700 pb-2",children:"Lead Information"}),s.jsxs("div",{className:"space-y-4 bg-slate-700 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-slate-300 text-sm",children:"Company:"}),s.jsx("span",{className:"text-white text-sm font-medium text-right",children:z.company})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-slate-300 text-sm",children:"Location:"}),s.jsx("span",{className:"text-white text-sm",children:z.location})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-slate-300 text-sm",children:"Source:"}),s.jsx("span",{className:"text-white text-sm",children:z.source})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-slate-300 text-sm",children:"Created Date:"}),s.jsx("span",{className:"text-white text-sm",children:z.createdDate})]})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-white font-semibold mb-3 border-b border-slate-700 pb-2",children:"Quick Actions"}),s.jsxs("div",{className:"flex items-center justify-between gap-4 rtl:flex-row-reverse",children:[s.jsxs("button",{onClick:()=>k(!0),className:"bg-emerald-500 hover:bg-emerald-600 text-white py-3 px-5 rounded-full font-medium transition-colors flex items-center justify-center gap-3",children:[s.jsx("span",{className:"w-6 h-6 rounded-full bg-emerald-400 flex items-center justify-center",children:s.jsx(zu,{className:"text-xs"})}),s.jsx("span",{children:"+ Add New Action"})]}),s.jsxs("button",{className:"bg-slate-700 hover:bg-slate-600 text-slate-200 py-3 px-5 rounded-full font-medium transition-colors flex items-center justify-center gap-3 border border-slate-600",children:[s.jsx("span",{className:"w-6 h-6 rounded-full bg-slate-600 flex items-center justify-center",children:s.jsx(wf,{className:"text-xs"})}),s.jsx("span",{children:"Edit Lead"})]})]})]})})]}),i==="all-actions"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{className:"bg-slate-700 p-5 rounded-xl text-center border border-slate-600",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:G.total}),s.jsx("div",{className:"text-sm text-slate-400",children:" "})]}),s.jsxs("div",{className:"bg-slate-700 p-5 rounded-xl text-center border border-slate-600",children:[s.jsx("div",{className:"text-2xl font-bold text-green-400",children:G.completed}),s.jsx("div",{className:"text-sm text-slate-400",children:""})]}),s.jsxs("div",{className:"bg-slate-700 p-5 rounded-xl text-center border border-slate-600",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-400",children:G.pending}),s.jsx("div",{className:"text-sm text-slate-400",children:""})]}),s.jsxs("div",{className:"bg-slate-700 p-5 rounded-xl text-center border border-slate-600",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-400",children:G.scheduled}),s.jsx("div",{className:"text-sm text-slate-400",children:""})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-white font-semibold",children:"Actions"}),s.jsxs("button",{onClick:()=>k(!0),className:"bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2",children:[s.jsx(zu,{}),"  "]})]}),s.jsx("div",{className:"bg-slate-700 p-4 rounded-lg space-y-3 mb-2",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-center",children:[s.jsxs("div",{className:"flex-1 relative w-full",children:[s.jsx(rx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),s.jsx("input",{type:"text",placeholder:"  ...",value:o,onChange:D=>c(D.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-600 border border-slate-500 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-emerald-400"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Z2,{className:"text-slate-400"}),s.jsxs("select",{value:d,onChange:D=>u(D.target.value),className:"bg-slate-600 border border-slate-500 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-emerald-400",children:[s.jsx("option",{value:"all",children:" "}),s.jsx("option",{value:"completed",children:""}),s.jsx("option",{value:"pending",children:""}),s.jsx("option",{value:"scheduled",children:""})]}),s.jsxs("select",{value:f,onChange:D=>x(D.target.value),className:"bg-slate-600 border border-slate-500 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-emerald-400",children:[s.jsx("option",{value:"all",children:" "}),s.jsx("option",{value:"call",children:""}),s.jsx("option",{value:"email",children:""}),s.jsx("option",{value:"meeting",children:""}),s.jsx("option",{value:"task",children:""}),s.jsx("option",{value:"note",children:""})]})]})]})}),s.jsx("div",{className:"space-y-4",children:I.length===0?s.jsxs("div",{className:"text-center py-12 bg-slate-700 rounded-lg",children:[s.jsx(yM,{className:"mx-auto text-4xl text-slate-500 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-slate-300 mb-2",children:"  "}),s.jsx("p",{className:"text-slate-400 mb-4",children:o||d!=="all"||f!=="all"?"         ":"     "}),s.jsxs("button",{onClick:()=>k(!0),className:"bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[s.jsx(zu,{className:"inline mr-2"}),"  "]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:I.map(D=>s.jsx("div",{className:`bg-slate-700 border border-slate-600 rounded-xl p-5 transition-all hover:bg-slate-600 ${j.includes(D.id)?"border-emerald-400 bg-emerald-500/5":"border-slate-600"}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-slate-600 rounded-xl flex items-center justify-center",children:re(D.type)}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-white font-medium mb-1",children:D.title}),s.jsx("p",{className:"text-slate-400 text-sm mb-2",children:D.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-slate-300",children:[s.jsxs("span",{children:[" ",D.date]}),s.jsxs("span",{children:[" ",D.time]}),s.jsxs("span",{children:[" ",D.assignee]}),D.duration&&s.jsxs("span",{children:[" ",D.duration]})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs text-white ${te(D.status)}`,children:[D.status==="completed"&&"",D.status==="pending"&&"",D.status==="scheduled"&&""]}),s.jsxs("span",{className:`px-2 py-1 rounded border text-xs ${X(D.priority)}`,children:[D.priority==="high"&&"",D.priority==="medium"&&"",D.priority==="low"&&""]})]})]})}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:"p-2 text-slate-400 hover:text-white hover:bg-slate-600 rounded transition-colors",children:s.jsx(dd,{})}),s.jsx("button",{className:"p-2 text-slate-400 hover:text-white hover:bg-slate-600 rounded transition-colors",children:s.jsx(wf,{})})]})]})},D.id))})})]}),i==="communication"&&s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100 shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[s.jsx("div",{className:"bg-blue-500 p-2 rounded-xl mr-3",children:s.jsx(Rk,{className:"text-white text-sm"})}),r?"  ":"Client Communication",s.jsx("span",{className:"ml-3 bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"3"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"p-2 text-gray-500 hover:text-blue-500 transition-colors",children:s.jsx(rx,{})}),s.jsx("button",{className:"p-2 text-gray-500 hover:text-blue-500 transition-colors",children:s.jsx(Z2,{})})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("button",{onClick:()=>window.open(`https://wa.me/${e?.phone}`,"_blank"),className:"flex flex-col items-center justify-center p-4 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[s.jsx(Zu,{className:"text-2xl mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:r?"":"WhatsApp"})]}),s.jsxs("button",{onClick:()=>window.open(`mailto:${e?.email}`,"_blank"),className:"flex flex-col items-center justify-center p-4 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[s.jsx(Cf,{className:"text-2xl mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:r?" ":"Email"})]}),s.jsxs("button",{onClick:()=>window.open(`tel:${e?.phone}`,"_blank"),className:"flex flex-col items-center justify-center p-4 bg-purple-500 text-white rounded-xl hover:bg-purple-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[s.jsx(th,{className:"text-2xl mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:r?"":"Call"})]}),s.jsxs("button",{onClick:()=>window.open("https://meet.google.com/new","_blank"),className:"flex flex-col items-center justify-center p-4 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[s.jsx(tw,{className:"text-2xl mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Google Meet"})]})]}),s.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:r?":":"Filter:"}),s.jsx("button",{className:"px-3 py-1 bg-blue-100 text-blue-600 rounded-full text-xs hover:bg-blue-200 transition-colors",children:r?"":"All"}),s.jsx("button",{className:"px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-xs hover:bg-gray-200 transition-colors",children:"WhatsApp"}),s.jsx("button",{className:"px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-xs hover:bg-gray-200 transition-colors",children:"Email"}),s.jsx("button",{className:"px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-xs hover:bg-gray-200 transition-colors",children:r?"":"Calls"}),s.jsx("button",{className:"px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-xs hover:bg-gray-200 transition-colors",children:r?" ":"Unread"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("input",{type:"text",placeholder:r?"  ...":"Search conversations...",className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})})]})}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-700",children:r?" ":"Communication Timeline"}),s.jsxs("button",{onClick:()=>alert(r?"   ":"New message will be added"),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center space-x-2",children:[s.jsx(zu,{className:"text-sm"}),s.jsx("span",{className:"text-sm",children:r?" ":"Add Message"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-xl border-l-4 border-green-500 hover:shadow-md transition-shadow cursor-pointer",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center mr-3 shadow-md",children:s.jsx(Zu,{className:"text-white text-sm"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-gray-800",children:e?.name||(r?" ":"Mohamed Ali")}),s.jsx("p",{className:"text-xs text-gray-500",children:r?"   ":"WhatsApp Message  Incoming"})]})]}),s.jsx("p",{className:"text-sm text-gray-700 bg-white p-3 rounded-lg shadow-sm",children:r?"     .         ":"Hello, thank you for the proposal. Can we schedule a meeting to discuss the project details and pricing?"}),s.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[s.jsx("button",{className:"text-xs text-blue-500 hover:underline",children:r?"":"Reply"}),s.jsx("button",{className:"text-xs text-gray-500 hover:underline",children:r?"":"Copy"}),s.jsx("button",{className:"text-xs text-purple-500 hover:underline",children:r?" ":"Create Follow-up"})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 ml-4 text-center",children:[s.jsx("div",{className:"bg-green-500 text-white px-2 py-1 rounded-full mb-1",children:"10:30 AM"}),s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mx-auto animate-pulse"})]})]})}),s.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl border-l-4 border-blue-500 hover:shadow-md transition-shadow cursor-pointer",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center mr-3 shadow-md",children:s.jsx(Cf,{className:"text-white text-sm"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-gray-800",children:r?"":"You"}),s.jsx("p",{className:"text-xs text-gray-500",children:r?"   ":"Email  Outgoing"})]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[s.jsx("h6",{className:"font-medium text-gray-800 mb-1",children:r?":   ":"Subject: Updated Financial Proposal"}),s.jsx("p",{className:"text-sm text-gray-700",children:r?"       .       . : __.pdf":"Updated financial proposal sent with requested modifications. Please review and respond at your earliest convenience. Attachment: updated_quote.pdf"})]}),s.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[s.jsx("button",{className:"text-xs text-blue-500 hover:underline",children:r?" ":"Resend"}),s.jsx("button",{className:"text-xs text-gray-500 hover:underline",children:r?"":"Copy"}),s.jsx("button",{className:"text-xs text-green-500 hover:underline",children:r?" ":"Delivered"})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 ml-4 text-center",children:[s.jsx("div",{className:"bg-blue-500 text-white px-2 py-1 rounded-full mb-1",children:"9:15 AM"}),s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mx-auto"})]})]})}),s.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-purple-100 rounded-xl border-l-4 border-purple-500 hover:shadow-md transition-shadow cursor-pointer",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-full flex items-center justify-center mr-3 shadow-md",children:s.jsx(th,{className:"text-white text-sm"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-gray-800",children:r?" ":"Phone Call"}),s.jsx("p",{className:"text-xs text-gray-500",children:r?"   15 ":"Outgoing Call  15 minutes"})]})]}),s.jsx("p",{className:"text-sm text-gray-700 bg-white p-3 rounded-lg shadow-sm",children:r?"   .        .     .":"Successful call with client. Discussed all important points and clarified project details. Client is interested and wants to proceed."}),s.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[s.jsx("button",{className:"text-xs text-purple-500 hover:underline",children:r?" ":"Call Again"}),s.jsx("button",{className:"text-xs text-gray-500 hover:underline",children:r?" ":"Add Note"}),s.jsx("button",{className:"text-xs text-green-500 hover:underline",children:r?" ":"Schedule Follow-up"})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 ml-4 text-center",children:[s.jsx("div",{className:"bg-purple-500 text-white px-2 py-1 rounded-full mb-1",children:"Yesterday"}),s.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full mx-auto"})]})]})}),s.jsx("div",{className:"p-4 bg-gradient-to-r from-red-50 to-red-100 rounded-xl border-l-4 border-red-500 hover:shadow-md transition-shadow cursor-pointer",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-full flex items-center justify-center mr-3 shadow-md",children:s.jsx(tw,{className:"text-white text-sm"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-gray-800",children:r?" Google Meet":"Google Meet Session"}),s.jsx("p",{className:"text-xs text-gray-500",children:r?"   45 ":"Video Meeting  45 minutes"})]})]}),s.jsx("p",{className:"text-sm text-gray-700 bg-white p-3 rounded-lg shadow-sm",children:r?"   -      .      .    3 .":"Successful video meeting - Comprehensive project presentation to client and their team. All technical and financial details clarified. Response expected within 3 days."}),s.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[s.jsx("button",{className:"text-xs text-red-500 hover:underline",children:r?"  ":"Schedule New Meeting"}),s.jsx("button",{className:"text-xs text-gray-500 hover:underline",children:r?" ":"Share Recording"}),s.jsx("button",{className:"text-xs text-blue-500 hover:underline",children:r?" ":"Send Summary"})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 ml-4 text-center",children:[s.jsx("div",{className:"bg-red-500 text-white px-2 py-1 rounded-full mb-1",children:"2 days ago"}),s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mx-auto"})]})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-700 mb-4",children:r?"  ":"Compose New Message"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r?"":"Channel"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{children:"WhatsApp"}),s.jsx("option",{children:"Email"}),s.jsx("option",{children:"SMS"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r?"":"Template"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{children:r?" ":"Custom Message"}),s.jsx("option",{children:r?"  ":"Quote Follow-up"}),s.jsx("option",{children:r?" ":"Appointment Confirmation"}),s.jsx("option",{children:r?" ":"Document Request"}),s.jsx("option",{children:r?"  ":"Post-call Thank You"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r?" ()":"Subject (for Email)"}),s.jsx("input",{type:"text",placeholder:r?" ...":"Message subject...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r?" ":"Message Content"}),s.jsx("textarea",{rows:"4",placeholder:r?"  ...   {}  {_}  ":"Type your message here... You can use {name} and {quote_number} as dynamic variables",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",className:"mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:r?" ":"Schedule Send"})]}),s.jsx("input",{type:"datetime-local",className:"px-3 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:r?" ":"Save Draft"}),s.jsx("button",{onClick:()=>alert(r?"   !":"Message sent successfully!"),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:r?"":"Send"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-4 rounded-xl border border-green-200",children:[s.jsx("h5",{className:"font-medium text-green-800 mb-2",children:r?"  ":"Best Response Channel"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:"WhatsApp"}),s.jsx("p",{className:"text-sm text-green-600",children:r?"85%  ":"85% Response Rate"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-xl border border-blue-200",children:[s.jsx("h5",{className:"font-medium text-blue-800 mb-2",children:r?"  ":"Avg Response Time"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"2.5h"}),s.jsx("p",{className:"text-sm text-blue-600",children:r?"  15%":"15% Improvement"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-4 rounded-xl border border-purple-200",children:[s.jsx("h5",{className:"font-medium text-purple-800 mb-2",children:r?"  ":"This Week Activity"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"12"}),s.jsx("p",{className:"text-sm text-purple-600",children:r?" ":"New Interactions"})]})]})]}),i!=="overview"&&i!=="all-actions"&&i!=="communication"&&s.jsx("div",{className:"text-center py-12",children:s.jsxs("p",{className:"text-slate-400",children:["Content for ",i," tab will be implemented here."]})})]})]}),!1]}),document.body)},voe=({employee:e,dateFrom:t,dateTo:a})=>{const{t:r,i18n:n}=Et(),[i,l]=w.useState(null),[o,c]=w.useState(!1),{theme:d}=xl(),u=d==="light",f=`
    .scrollbar-thin-blue { scrollbar-width: thin; scrollbar-color: #2563eb transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar { width: 8px; }
    .scrollbar-thin-blue::-webkit-scrollbar-track { background: transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar-thumb { background-color: #2563eb; border-radius: 9999px; }
    .scrollbar-thin-blue:hover::-webkit-scrollbar-thumb { background-color: #1d4ed8; }
  `,p=[{id:1,employeeName:" ",leadName:" ",comment:"       ",timestamp:" 5 ",type:"follow_up",priority:"high"},{id:2,employeeName:" ",leadName:" ",comment:"     ",timestamp:" 15 ",type:"proposal",priority:"medium"},{id:3,employeeName:" ",leadName:" ",comment:"       ",timestamp:" 30 ",type:"inquiry",priority:"low"},{id:4,employeeName:" ",leadName:" ",comment:"       ",timestamp:" ",type:"support",priority:"medium"},{id:5,employeeName:" ",leadName:" ",comment:"     3   ",timestamp:" ",type:"meeting",priority:"high"},{id:6,employeeName:" ",leadName:" ",comment:"       ",timestamp:" 3 ",type:"follow_up",priority:"low"},{id:7,employeeName:" ",leadName:" ",comment:"       ",timestamp:" 4 ",type:"proposal",priority:"high"},{id:8,employeeName:" ",leadName:" ",comment:"       ",timestamp:" 5 ",type:"inquiry",priority:"medium"},{id:9,employeeName:" ",leadName:" ",comment:"      ",timestamp:" 6 ",type:"support",priority:"low"},{id:10,employeeName:" ",leadName:" ",comment:"       ",timestamp:" 7 ",type:"meeting",priority:"high"}].map((S,k)=>({...S,createdAt:new Date(Date.now()-(k+1)*20*60*1e3).toISOString()})),v=S=>{if(!t&&!a)return!0;const k=new Date(S);if(isNaN(k))return!0;const A=new Date(k.getFullYear(),k.getMonth(),k.getDate());if(t){const _=new Date(t);if(_.setHours(0,0,0,0),A<_)return!1}if(a){const _=new Date(a);if(_.setHours(0,0,0,0),A>_)return!1}return!0},g=p.filter(S=>(!e||S.employeeName===e)&&v(S.createdAt)),b=S=>{if(u)return"border-white bg-[var(--lm-muted-surface)]";switch(S){case"high":return"dark:bg-red-900/20 dark:border-red-700";case"medium":return"dark:bg-yellow-900/20 dark:border-yellow-700";case"low":return"dark:bg-green-900/20 dark:border-green-700";default:return"dark:bg-gray-800 dark:border-gray-600"}},j=S=>{switch(S){case"high":return"bg-red-500";case"medium":return"bg-yellow-500";case"low":return"bg-green-500";default:return"bg-gray-500"}},N=S=>{switch(S){case"follow_up":return s.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})});case"proposal":return s.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z"})});case"inquiry":return s.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})});case"support":return s.jsx("svg",{className:"w-4 h-4 text-orange-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})});case"meeting":return s.jsx("svg",{className:"w-4 h-4 text-indigo-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})});default:return s.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}};return s.jsxs(s.Fragment,{children:[s.jsx("style",{children:f}),s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto scrollbar-thin-blue",children:g.map(S=>s.jsxs("div",{className:`p-3 rounded-lg border ${b(S.priority)} hover:shadow-md transition-shadow`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[N(S.type),s.jsx("div",{className:`w-2 h-2 rounded-full ${j(S.priority)}`})]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:S.timestamp})]}),s.jsxs("div",{className:"space-y-2 mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:`text-xs font-medium ${u?"text-gray-700":"text-gray-400"}`,children:[r("Employee"),":"]}),s.jsx("span",{className:`text-sm font-medium ${u?"text-gray-900":"text-gray-200"}`,children:S.employeeName})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:`text-xs font-medium ${u?"text-gray-700":"text-gray-400"}`,children:[r("Lead"),":"]}),s.jsx("span",{className:`text-sm font-medium ${u?"text-gray-900":"text-gray-200"}`,children:S.leadName})]})]}),s.jsx("div",{className:"mt-2 p-2 bg-[var(--lm-surface)] dark:bg-gray-700 rounded text-sm text-gray-700 dark:text-gray-300",children:S.comment}),s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r("Priority"),": ",r(S.priority)]}),s.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r("Type"),": ",r(S.type)]})]}),s.jsx("button",{className:"px-3 py-1 text-xs bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors",onClick:()=>{l({fullName:S.leadName}),c(!0)},children:r("View Lead")})]})]},S.id))}),s.jsx(Rv,{isOpen:o,lead:i,onClose:()=>c(!1),isArabic:n.language==="ar"})]})},boe=({employee:e,dateFrom:t,dateTo:a})=>{const{t:r,i18n:n}=Et(),{theme:i}=xl(),l=i==="light",[o,c]=w.useState(null),[d,u]=w.useState(!1),f=`
    .scrollbar-thin-blue { scrollbar-width: thin; scrollbar-color: #2563eb transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar { width: 8px; }
    .scrollbar-thin-blue::-webkit-scrollbar-track { background: transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar-thumb { background-color: #2563eb; border-radius: 9999px; }
    .scrollbar-thin-blue:hover::-webkit-scrollbar-thumb { background-color: #1d4ed8; }
  `,p=[{id:1,employeeName:" ",leadName:" ",phoneNumber:"+966 50 123 4567",callType:"outgoing",duration:"15:30",timestamp:" 5 ",status:"answered",notes:"       "},{id:2,employeeName:" ",leadName:" ",phoneNumber:"+966 55 234 5678",callType:"incoming",duration:"08:45",timestamp:" 12 ",status:"answered",notes:"   "},{id:3,employeeName:" ",leadName:" ",phoneNumber:"+966 50 345 6789",callType:"outgoing",duration:"22:15",timestamp:" 25 ",status:"answered",notes:"      "},{id:4,employeeName:" ",leadName:" ",phoneNumber:"+966 55 456 7890",callType:"missed",duration:"00:00",timestamp:" ",status:"missed",notes:"    "},{id:5,employeeName:" ",leadName:" ",phoneNumber:"+966 50 567 8901",callType:"incoming",duration:"18:20",timestamp:" ",status:"answered",notes:"    -   "},{id:6,employeeName:" ",leadName:" ",phoneNumber:"+966 50 678 9012",callType:"outgoing",duration:"12:45",timestamp:" 3 ",status:"answered",notes:"      "},{id:7,employeeName:" ",leadName:" ",phoneNumber:"+966 55 789 0123",callType:"incoming",duration:"25:30",timestamp:" 4 ",status:"answered",notes:"     "},{id:8,employeeName:" ",leadName:" ",phoneNumber:"+966 50 890 1234",callType:"missed",duration:"00:00",timestamp:" 5 ",status:"missed",notes:"      "},{id:9,employeeName:" ",leadName:" ",phoneNumber:"+966 55 901 2345",callType:"outgoing",duration:"19:15",timestamp:" 6 ",status:"answered",notes:"      "},{id:10,employeeName:" ",leadName:" ",phoneNumber:"+966 50 012 3456",callType:"incoming",duration:"14:20",timestamp:" 7 ",status:"answered",notes:"      "}].map((N,S)=>({...N,createdAt:new Date(Date.now()-(S+1)*15*60*1e3).toISOString()})),v=N=>{if(!t&&!a)return!0;const S=new Date(N);if(isNaN(S))return!0;const k=new Date(S.getFullYear(),S.getMonth(),S.getDate());if(t){const A=new Date(t);if(A.setHours(0,0,0,0),k<A)return!1}if(a){const A=new Date(a);if(A.setHours(0,0,0,0),k>A)return!1}return!0},g=p.filter(N=>(!e||N.employeeName===e)&&v(N.createdAt)),b=N=>{switch(N){case"outgoing":return s.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});case"incoming":return s.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M2 5a2 2 0 012-2h12a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm3.293 1.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L7.586 11H5a1 1 0 110-2h2.586l-1.293-1.293a1 1 0 010-1.414zM11 5a1 1 0 011 1v2.586l1.293-1.293a1 1 0 011.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L10 8.586V6a1 1 0 011-1z",clipRule:"evenodd"})});case"missed":return s.jsx("svg",{className:"w-4 h-4 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})});default:return null}},j=N=>{switch(N){case"outgoing":return r("Outgoing");case"incoming":return r("Incoming");case"missed":return r("Missed");default:return N}};return s.jsxs(s.Fragment,{children:[s.jsx("style",{children:f}),s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto scrollbar-thin-blue",children:g.map(N=>s.jsxs("div",{className:`p-3 rounded-lg border hover:shadow-md transition-shadow ${l?N.callType==="missed"?"bg-red-50 border-white":N.callType==="outgoing"?"bg-emerald-50 border-white":"bg-blue-50 border-white":"dark:bg-gray-800 dark:border-gray-700"}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[b(N.callType),s.jsx("span",{className:"text-sm font-semibold text-gray-800 dark:text-gray-300",children:j(N.callType)})]}),s.jsx("span",{className:`text-xs ${l?"text-gray-800":"dark:text-gray-400"}`,children:N.timestamp})]}),s.jsxs("div",{className:"space-y-1 mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:`text-xs font-semibold ${l?"text-gray-700":"dark:text-gray-400"}`,children:[r("Employee"),":"]}),s.jsx("span",{className:`text-sm ${l?"text-gray-900":"dark:text-gray-200"}`,children:N.employeeName})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:`text-xs font-semibold ${l?"text-gray-700":"dark:text-gray-400"}`,children:[r("Lead"),":"]}),s.jsx("span",{className:`text-sm ${l?"text-gray-900":"dark:text-gray-200"}`,children:N.leadName})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:`text-xs font-semibold ${l?"text-gray-700":"dark:text-gray-400"}`,children:[r("Phone"),":"]}),s.jsx("span",{className:`text-sm ${l?"text-gray-900":"dark:text-gray-200"}`,children:N.phoneNumber})]}),N.duration!=="00:00"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:`text-xs font-semibold ${l?"text-gray-700":"dark:text-gray-400"}`,children:[r("Duration"),":"]}),s.jsx("span",{className:`text-sm ${l?"text-gray-900":"dark:text-gray-200"}`,children:N.duration})]})]}),N.notes&&s.jsxs("div",{className:"mt-2 p-2 bg-[var(--lm-surface)] dark:bg-gray-700 rounded text-xs text-gray-600 dark:text-gray-300",children:[s.jsxs("span",{className:"font-medium",children:[r("Notes"),":"]})," ",N.notes]}),s.jsx("div",{className:"mt-2 flex justify-end",children:s.jsx("button",{className:"px-3 py-1 text-xs bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors",onClick:()=>{c({fullName:N.leadName,mobile:N.phoneNumber}),u(!0)},children:r("View Lead")})})]},N.id))}),s.jsx(Rv,{isOpen:d,lead:o,onClose:()=>u(!1),isArabic:n.language==="ar"})]})},ZU=({lead:e,position:t,onAction:a,isRtl:r,onMouseEnter:n,onMouseLeave:i,innerRef:l})=>{const o=[{id:"view",icon:dd,label:r?"":"View",color:"text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20"},{id:"call",icon:th,label:r?"":"Call",color:"text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20"},{id:"whatsapp",icon:Zu,label:r?"":"WhatsApp",color:"text-green-500 hover:bg-green-50 dark:hover:bg-green-900/20"},{id:"email",icon:Cf,label:r?"":"Email",color:"text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/20"},{id:"video",icon:tw,label:r?"":"Video",color:"text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20"},{id:"convert",icon:JU,label:r?" ":"Convert",color:"text-teal-600 hover:bg-teal-50 dark:hover:bg-teal-900/20"},{id:"delete",icon:sx,label:r?"":"Delete",color:"text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20"}];return s.jsx("div",{className:"fixed z-[9999]",style:{left:`${t.x}px`,top:`${t.y}px`,transform:"translate(-50%, -100%)",pointerEvents:"none",userSelect:"none"},children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-600 p-3 min-w-[220px] max-w-[280px]",style:{pointerEvents:"auto"},ref:l,onMouseEnter:n,onMouseLeave:i,children:[s.jsxs("div",{className:"px-2 py-2 border-b border-gray-200 dark:border-gray-600 mb-3",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:e?.name||e?.leadName||""}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e?.email||e?.phone||e?.mobile||""})]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:o.map(c=>{const d=c.icon;return s.jsxs("button",{onClick:u=>{u.preventDefault(),u.stopPropagation(),a(c.id)},className:`flex flex-col items-center justify-center p-3 rounded-lg transition-all duration-200 ${c.color} hover:scale-105 hover:shadow-md cursor-pointer`,title:c.label,children:[s.jsx(d,{className:"w-4 h-4 mb-1"}),s.jsx("span",{className:"text-xs font-medium",children:c.label})]},c.id)})}),s.jsx("div",{className:"absolute w-0 h-0 border-l-[6px] border-r-[6px] border-t-[6px] border-transparent border-t-white dark:border-t-gray-800",style:{bottom:"-6px",left:"50%",transform:"translateX(-50%)"}})]})})},yoe=({dateFrom:e,dateTo:t,selectedEmployee:a})=>{const{t:r,i18n:n}=Et(),{theme:i}=xl(),l="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='48' height='48' viewBox='0 0 24 24'><rect x='2' y='4' width='12' height='16' rx='3' fill='%23ffffff'/><rect x='2' y='4' width='12' height='4' rx='2' fill='%234285F4'/><rect x='2' y='4' width='4' height='16' rx='2' fill='%2334A853'/><rect x='10' y='4' width='4' height='16' rx='2' fill='%23FBBC05'/><rect x='2' y='16' width='12' height='4' rx='2' fill='%23EA4335'/><polygon points='14,9 22,5 22,19 14,15' fill='%2334A853'/></svg>",o=`
    .scrollbar-thin-blue { scrollbar-width: thin; scrollbar-color: #2563eb transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar { height: 6px; }
    .scrollbar-thin-blue::-webkit-scrollbar-track { background: transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar-thumb { background-color: #2563eb; border-radius: 9999px; }
    .scrollbar-thin-blue:hover::-webkit-scrollbar-thumb { background-color: #1d4ed8; }
  `,c="userActionsByDate",d=()=>{try{return JSON.parse(localStorage.getItem(c)||"{}")}catch{return{}}},u=xe=>{try{localStorage.setItem(c,JSON.stringify(xe))}catch{}},[f,x]=w.useState(!1),p=xe=>{try{const W=d(),he=xe?.date||new Date().toISOString().slice(0,10),fe=(xe?.title||"").trim()||(xe?.notes?String(xe.notes).slice(0,60):`${xe?.type||"action"}`);W[he]=[...W[he]||[],fe],u(W)}finally{x(!1)}},[v,g]=w.useState(null),[b,j]=w.useState(!1),[N,S]=w.useState(!1),[k,A]=w.useState(null),[_,M]=w.useState(null),[L,U]=w.useState({x:0,y:0}),[z,O]=w.useState(!1),B=w.useRef(null),E=w.useRef(null);w.useEffect(()=>{if(N){const xe=document.body.style.overflow;return document.body.style.overflow="hidden",window.scrollTo({top:0,behavior:"smooth"}),()=>{document.body.style.overflow=xe}}},[N]);const R=w.useMemo(()=>{try{const xe=localStorage.getItem("leadsData");if(!xe)return[];const W=JSON.parse(xe),he=Array.isArray(W)?W:[];return a?he.filter(fe=>(fe.assignedTo||fe.employee||"").trim()===a):he}catch(xe){return console.warn("Failed to parse leadsData from localStorage in DelayLeads.",xe?.message),[]}},[a]),q=[{id:"DL-1001",name:"Ahmed Ali",email:"ahmed@example.com",phone:"0501234567",company:"Alpha Co",status:"new",priority:"high",source:"Website",createdAt:new Date(Date.now()-360*3600*1e3).toISOString(),lastContact:new Date(Date.now()-216*3600*1e3).toISOString(),notes:"   "},{id:"DL-1002",name:"Sara Mohamed",email:"sara@example.com",phone:"0559876543",company:"Beta Ltd",status:"in-progress",priority:"medium",source:"Facebook Ads",createdAt:new Date(Date.now()-504*3600*1e3).toISOString(),lastContact:new Date(Date.now()-288*3600*1e3).toISOString(),notes:"     "},{id:"DL-1003",name:"Hassan Youssef",email:"hassan@example.com",phone:"0563332211",company:"Gamma Inc",status:"qualified",priority:"low",source:"Referral",createdAt:new Date(Date.now()-720*3600*1e3).toISOString(),lastContact:new Date(Date.now()-480*3600*1e3).toISOString(),notes:"    "}],I=R.length>0?R:q,G=w.useMemo(()=>{try{const xe=JSON.parse(localStorage.getItem("crmStages")||"[]");return Array.isArray(xe)&&xe.length>0?xe.map(W=>typeof W=="string"?W:W?.name).filter(Boolean):["new","qualified","in-progress","converted","lost"]}catch{return["new","qualified","in-progress","converted","lost"]}},[]),re=7,te=xe=>{const W=(xe?.notes||"").toLowerCase();return W.includes("meeting")||W.includes("")?"followUpAfterMeeting":W.includes("reschedule")||W.includes("")?"rescheduleMeeting":W.includes("no answer")||W.includes(" ")?"noAnswer1stCall":"followUp"},X=xe=>{if(!["new","qualified","in-progress"].includes(xe?.status))return!1;const he=xe?.lastContact||xe?.createdAt,fe=new Date(he);return isNaN(fe)?!1:Math.floor((new Date-fe)/(1e3*60*60*24))>re},ce=w.useMemo(()=>I.filter(X).map(W=>({id:W.id,name:W.name,email:W.email,phone:W.phone,company:W.company,status:W.status,priority:W.priority,source:W.source,createdAt:W.createdAt,lastContact:W.lastContact,notes:W.notes,leadName:W.name,mobile:W.phone?`(${String(W.phone).slice(0,3)}*****)`:"",actionDate:W.lastContact||W.createdAt,lastComment:W.notes||"",category:te(W)})),[I]),D=xe=>{try{const W=new Date(xe);return new Intl.DateTimeFormat(n.language==="ar"?"ar-EG":"en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).format(W)}catch{return xe||""}},Q=xe=>{const W=String(xe||"").toLowerCase(),he=W==="new"?r("New"):W==="qualified"?r("Qualified"):W==="in-progress"?r("In Progress"):W==="converted"?r("Converted"):W==="lost"?r("Lost"):xe||"-";if(le){const de=W==="new"?"new":W==="qualified"?"qualified":W==="in-progress"?"in-progress":W==="converted"?"converted":W==="lost"?"lost":"new";return s.jsx("span",{className:`stage-badge ${de}`,children:he})}const fe=W==="new"?"dark:bg-blue-900/30 dark:text-blue-200":W==="qualified"?"dark:bg-emerald-900/30 dark:text-emerald-200":W==="in-progress"?"dark:bg-amber-900/30 dark:text-amber-200":W==="converted"?"dark:bg-purple-900/30 dark:text-purple-200":W==="lost"?"dark:bg-red-900/30 dark:text-red-200":"dark:bg-gray-900/30 dark:text-gray-200";return s.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded ${fe}`,children:he})},H=xe=>{if(!e&&!t)return!0;const W=new Date(xe);if(isNaN(W))return!0;const he=new Date(W.getFullYear(),W.getMonth(),W.getDate());if(e){const fe=new Date(e);if(fe.setHours(0,0,0,0),he<fe)return!1}if(t){const fe=new Date(t);if(fe.setHours(0,0,0,0),he>fe)return!1}return!0},J=w.useMemo(()=>{const xe=Object.fromEntries(G.map(he=>[he,0]));return ce.filter(he=>H(he.stageDate)).forEach(he=>{const fe=String(he?.status||"").toLowerCase(),de=G.find(Oe=>String(Oe).toLowerCase()===fe);de&&(xe[de]=(xe[de]||0)+1)}),xe},[ce,e,t,G]),ae=w.useMemo(()=>{const xe=ce.filter(W=>H(W.actionDate));return v?xe.filter(W=>String(W?.status||"").toLowerCase()===String(v).toLowerCase()):xe},[ce,v,e,t]),ie=ae.length>5,le=i==="light",Y=le?"bg-gray-100":"bg-gray-900",oe=le?"text-gray-800":"text-gray-100";return w.useEffect(()=>{const xe=W=>{z&&(B.current&&B.current.contains(W.target)||E.current&&E.current.contains(W.target)||(O(!1),M(null),E.current=null))};return document.addEventListener("mousedown",xe),()=>document.removeEventListener("mousedown",xe)},[z]),s.jsxs("div",{className:`p-4 ${Y} h-full overflow-auto rounded-lg shadow-md border ${le?"border-gray-200":"border-gray-700"} ${oe}`,children:[s.jsxs("div",{className:`flex items-center ${n.language==="ar"?"flex-row-reverse":""} gap-2 mb-2`,children:[s.jsx("span",{"aria-hidden":!0,className:"inline-block w-1 h-5 rounded bg-blue-500"}),s.jsx("h3",{className:"text-xl font-semibold",children:r("Delay Leads")})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4 text-sm",children:(()=>{const xe=G.map(W=>({key:W,label:W,count:J[W]||0}));return s.jsxs(s.Fragment,{children:[xe.slice(0,2).map(W=>s.jsxs("button",{onClick:()=>g(W.key),className:`px-3 py-2 text-xs sm:px-2 sm:py-1 sm:text-sm rounded ${v===W.key?"bg-blue-600 text-white":le?"text-gray-600 hover:bg-gray-100":"text-gray-300 hover:bg-gray-700"}`,children:[s.jsx("span",{children:W.label}),s.jsx("span",{className:"ml-1",children:W.count})]},W.key)),!b&&xe.length>2&&s.jsxs("button",{onClick:()=>j(!0),className:`px-3 py-2 text-xs sm:px-2 sm:py-1 sm:text-sm rounded border-2 border-dashed ${le?"border-blue-300 bg-blue-50 text-blue-600":"border-blue-600 bg-blue-900/20 text-blue-400"}`,children:[s.jsxs("span",{className:"hidden sm:inline",children:[r("Show More")," (",xe.length-2,")"]}),s.jsxs("span",{className:"sm:hidden",children:["+",xe.length-2]})]}),b&&xe.slice(2).map(W=>s.jsxs("button",{onClick:()=>g(W.key),className:`px-3 py-2 text-xs sm:px-2 sm:py-1 sm:text-sm rounded ${v===W.key?"bg-blue-600 text-white":le?"text-gray-600 hover:bg-gray-100":"text-gray-300 hover:bg-gray-700"}`,children:[s.jsx("span",{children:W.label}),s.jsx("span",{className:"ml-1",children:W.count})]},W.key)),v&&s.jsx("button",{onClick:()=>g(null),className:`px-3 py-2 text-xs sm:px-2 sm:py-1 sm:text-sm rounded ${le?"text-gray-600 hover:bg-gray-100":"text-gray-300 hover:bg-gray-700"}`,children:r("Show All")}),b&&s.jsxs("button",{onClick:()=>j(!1),className:`px-3 py-2 text-xs sm:px-2 sm:py-1 sm:text-sm rounded border-2 border-dashed ${le?"border-gray-300 bg-gray-50 text-gray-600":"border-gray-600 bg-gray-800 text-gray-400"}`,children:[s.jsx("span",{className:"hidden sm:inline",children:r("Show Less")}),s.jsx("span",{className:"sm:hidden",children:""})]})]})})()}),s.jsx("style",{children:o}),s.jsxs("div",{className:`overflow-x-auto scrollbar-thin-blue ${ie?"max-h-80 overflow-y-auto":""}`,children:[s.jsx("div",{className:"sm:hidden",children:ae.map((xe,W)=>s.jsxs("div",{className:`p-3 mb-2 rounded-lg border ${le?"bg-white border-gray-200":"bg-gray-800 border-gray-700"} cursor-default`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:xe.leadName}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:xe.mobile}),s.jsx("div",{className:"mt-1",children:Q(xe.status)})]}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:D(xe.actionDate)})]}),s.jsx("div",{className:"text-sm mb-3",children:xe.lastComment}),s.jsxs("div",{className:"flex items-center justify-end gap-2 flex-nowrap",children:[s.jsx("button",{title:r("Preview"),onClick:he=>{he.stopPropagation(),A(xe),S(!0)},className:`inline-flex items-center justify-center w-8 h-8 rounded-md border ${le?"border-gray-300 text-gray-700 hover:bg-gray-50":"border-gray-600 text-gray-200 hover:bg-gray-900/30"}`,children:s.jsx(dd,{size:16})}),s.jsx("button",{title:r("Add Action"),onClick:he=>{he.stopPropagation(),A(xe),x(!0)},className:`inline-flex items-center justify-center w-8 h-8 rounded-md border ${le?"border-gray-300 text-gray-700 hover:bg-gray-50":"border-gray-600 text-gray-200 hover:bg-gray-900/30"}`,children:s.jsx(zu,{size:16})}),s.jsx("button",{title:r("Call"),onClick:he=>{he.stopPropagation();const fe=xe.phone||xe.mobile||"",de=String(fe).replace(/[^0-9]/g,"");de&&window.open(`tel:${de}`)},className:`inline-flex items-center justify-center w-8 h-8 rounded-md border ${le?"border-gray-300 hover:bg-gray-50 text-blue-600":"border-gray-600 hover:bg-gray-900/30 text-blue-400"}`,children:s.jsx(th,{size:16})}),s.jsx("button",{title:"WhatsApp",onClick:he=>{he.stopPropagation();const fe=xe.phone||xe.mobile||"",de=String(fe).replace(/[^0-9]/g,"");de&&window.open(`https://wa.me/${de}`)},className:`inline-flex items-center justify-center w-8 h-8 rounded-md border ${le?"border-gray-300 hover:bg-gray-50 text-green-600":"border-gray-600 hover:bg-gray-900/30 text-green-400"}`,children:s.jsx(Zu,{size:16})}),s.jsx("button",{title:r("Email"),onClick:he=>{he.stopPropagation(),xe.email&&window.open(`mailto:${xe.email}`)},className:`inline-flex items-center justify-center w-8 h-8 rounded-md border ${le?"border-gray-300 text-gray-700 hover:bg-gray-50":"border-gray-600 text-gray-200 hover:bg-gray-900/30"}`,children:s.jsx(Cf,{size:16})}),s.jsx("button",{title:"Google Meet",onClick:he=>{he.stopPropagation(),window.open("https://meet.google.com/","_blank")},className:`inline-flex items-center justify-center w-8 h-8 rounded-md border ${le?"border-gray-300 hover:bg-gray-50":"border-gray-600 hover:bg-gray-900/30"}`,children:s.jsx("img",{src:l,alt:"Meet",className:"w-4 h-4"})})]})]},W))}),s.jsx("div",{className:"hidden sm:block",children:s.jsxs("table",{className:"delay-table w-full min-w-max text-sm text-left",children:[s.jsx("thead",{className:`text-xs uppercase sticky top-0 ${le?"bg-gray-50":"bg-gray-800"}`,children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3",children:r("Lead Name")}),s.jsx("th",{scope:"col",className:`px-6 py-3 border-l ${le?"border-gray-200":"border-gray-700"}`,children:r("Mobile")}),s.jsx("th",{scope:"col",className:`px-6 py-3 border-l ${le?"border-gray-200":"border-gray-700"}`,children:r("Actions")}),s.jsx("th",{scope:"col",className:`px-6 py-3 border-l ${le?"border-gray-200":"border-gray-700"}`,children:r("Stage")}),s.jsx("th",{scope:"col",className:`px-6 py-3 border-l ${le?"border-gray-200":"border-gray-700"}`,children:r("Last Comment")}),s.jsx("th",{scope:"col",className:`px-6 py-3 border-l ${le?"border-gray-200":"border-gray-700"}`,children:r("Action Date")})]})}),s.jsx("tbody",{children:ae.map((xe,W)=>s.jsxs("tr",{className:`border-b ${le?"bg-white border-gray-200":"bg-gray-800 border-gray-700"} hover:bg-gray-50 dark:hover:bg-gray-700`,children:[s.jsx("td",{className:"px-6 py-4 cell-divider",children:xe.leadName}),s.jsx("td",{className:`px-6 py-4 border-l cell-divider ${le?"border-gray-200":"border-gray-700"}`,children:xe.mobile}),s.jsx("td",{className:`px-6 py-4 border-l cell-divider ${le?"border-gray-200":"border-gray-700"}`,children:s.jsxs("div",{className:"flex items-center gap-2 flex-nowrap",children:[s.jsx("button",{title:r("Preview"),onClick:he=>{he.stopPropagation(),A(xe),S(!0)},className:`action-btn inline-flex items-center justify-center w-8 h-8 rounded-md ${le?"":"border border-gray-600 text-gray-200 hover:bg-gray-900/30"}`,children:s.jsx(dd,{size:16})}),s.jsx("button",{title:r("Add Action"),onClick:he=>{he.stopPropagation(),A(xe),x(!0)},className:`action-btn inline-flex items-center justify-center w-8 h-8 rounded-md ${le?"":"border border-gray-600 text-gray-200 hover:bg-gray-900/30"}`,children:s.jsx(zu,{size:16})}),s.jsx("button",{title:r("Call"),onClick:he=>{he.stopPropagation();const fe=xe.phone||xe.mobile||"",de=String(fe).replace(/[^0-9]/g,"");de&&window.open(`tel:${de}`)},className:`action-btn icon-blue inline-flex items-center justify-center w-8 h-8 rounded-md ${le?"":"border border-gray-600 hover:bg-gray-900/30 text-blue-400"}`,children:s.jsx(th,{size:16})}),s.jsx("button",{title:"WhatsApp",onClick:he=>{he.stopPropagation();const fe=xe.phone||xe.mobile||"",de=String(fe).replace(/[^0-9]/g,"");de&&window.open(`https://wa.me/${de}`)},className:`action-btn icon-green inline-flex items-center justify-center w-8 h-8 rounded-md ${le?"":"border border-gray-600 hover:bg-gray-900/30 text-green-400"}`,children:s.jsx(Zu,{size:16})}),s.jsx("button",{title:r("Email"),onClick:he=>{he.stopPropagation(),xe.email&&window.open(`mailto:${xe.email}`)},className:`action-btn inline-flex items-center justify-center w-8 h-8 rounded-md ${le?"":"border border-gray-600 text-gray-200 hover:bg-gray-900/30"}`,children:s.jsx(Cf,{size:16})}),s.jsx("button",{title:"Google Meet",onClick:he=>{he.stopPropagation(),window.open("https://meet.google.com/","_blank")},className:`action-btn inline-flex items-center justify-center w-8 h-8 rounded-md ${le?"":"border border-gray-600 hover:bg-gray-900/30"}`,children:s.jsx("img",{src:l,alt:"Meet",className:"w-4 h-4"})})]})}),s.jsx("td",{className:`px-6 py-4 border-l cell-divider ${le?"stage-cell":""} ${le?"border-gray-200":"border-gray-700"}`,children:Q(xe.status)}),s.jsx("td",{className:`px-6 py-4 border-l ${le?"border-gray-200":"border-gray-700"}`,children:xe.lastComment}),s.jsx("td",{className:`px-6 py-4 border-l ${le?"border-gray-200":"border-gray-700"}`,children:D(xe.actionDate)})]},W))})]})})]}),N&&s.jsx(Rv,{isOpen:N,onClose:()=>{S(!1),A(null)},lead:k,isArabic:n.language==="ar",theme:i}),f&&s.jsx(uA,{isOpen:!0,onClose:()=>x(!1),onSave:p,lead:k})]})};Nr.register(Cn,An,$n,pl,ai,wx,rn,an);const woe=({data:e,chartType:t="bar",filters:a={},legendLabel:r="Sales"})=>{const{t:n,i18n:i}=Et(),l=i.language||"en",{theme:o}=xl(),c=o==="light",d=l==="ar"?"":"Months",u=l==="ar"?"  ":"No. of Leads",[f,x]=w.useState([]),[p,v]=w.useState(0),[g,b]=w.useState(!1),[j,N]=w.useState(""),[S,k]=w.useState({employee:"",stage:"",leadName:"",dateFrom:"",dateTo:"",valueMin:"",valueMax:""});n("New"),n("Contacted"),n("Qualified"),n("Proposal"),n("Negotiation"),n("Closed Won"),n("Closed Lost");const A={monthly:[{label:n("January"),value:120,converted:45,lost:25,inProgress:50,employee:" ",stage:"qualified",leadName:" ",date:"2024-01-15"},{label:n("February"),value:98,converted:38,lost:20,inProgress:40,employee:" ",stage:"contacted",leadName:" ",date:"2024-02-10"},{label:n("March"),value:145,converted:55,lost:30,inProgress:60,employee:" ",stage:"proposal",leadName:" ",date:"2024-03-20"},{label:n("April"),value:167,converted:62,lost:35,inProgress:70,employee:" ",stage:"new",leadName:" ",date:"2024-04-05"},{label:n("May"),value:134,converted:48,lost:28,inProgress:58,employee:" ",stage:"negotiation",leadName:" ",date:"2024-05-12"},{label:n("June"),value:189,converted:71,lost:40,inProgress:78,employee:" ",stage:"closed_won",leadName:" ",date:"2024-06-18"},{label:n("July"),value:175,converted:68,lost:36,inProgress:71,employee:" ",stage:"qualified",leadName:" ",date:"2024-07-14"},{label:n("August"),value:160,converted:63,lost:31,inProgress:66,employee:" ",stage:"proposal",leadName:" ",date:"2024-08-09"},{label:n("September"),value:142,converted:56,lost:29,inProgress:57,employee:" ",stage:"contacted",leadName:" ",date:"2024-09-21"},{label:n("October"),value:153,converted:60,lost:30,inProgress:63,employee:" ",stage:"negotiation",leadName:" ",date:"2024-10-11"},{label:n("November"),value:171,converted:67,lost:34,inProgress:70,employee:" ",stage:"qualified",leadName:" ",date:"2024-11-16"},{label:n("December"),value:196,converted:74,lost:41,inProgress:81,employee:" ",stage:"closed_won",leadName:" ",date:"2024-12-19"}],weekly:[{label:n("Week 1"),value:45,converted:18,lost:8,inProgress:19},{label:n("Week 2"),value:52,converted:22,lost:10,inProgress:20},{label:n("Week 3"),value:38,converted:15,lost:7,inProgress:16},{label:n("Week 4"),value:61,converted:25,lost:12,inProgress:24}],bySource:[{label:n("Website"),value:245,converted:98,lost:47,inProgress:100},{label:n("Social Media"),value:189,converted:76,lost:38,inProgress:75},{label:n("Email Campaign"),value:156,converted:62,lost:31,inProgress:63},{label:n("Referral"),value:134,converted:54,lost:27,inProgress:53},{label:n("Direct"),value:98,converted:39,lost:20,inProgress:39}],byStatus:[{label:n("New"),value:234,color:"#3B82F6"},{label:n("Contacted"),value:189,color:"#10B981"},{label:n("Qualified"),value:145,color:"#F59E0B"},{label:n("Proposal"),value:98,color:"#8B5CF6"},{label:n("Negotiation"),value:67,color:"#EF4444"},{label:n("Closed Won"),value:156,color:"#059669"},{label:n("Closed Lost"),value:89,color:"#DC2626"}]},_=B=>{let E=B;j&&(E=E.filter(G=>G.label?.toLowerCase().includes(j.toLowerCase())||G.leadName?.toLowerCase().includes(j.toLowerCase())||G.employee?.toLowerCase().includes(j.toLowerCase())));const R=a?.employee||S.employee,q=a?.dateFrom||S.dateFrom,I=a?.dateTo||S.dateTo;return R&&(E=E.filter(G=>G.employee===R)),S.stage&&(E=E.filter(G=>G.stage===S.stage)),S.leadName&&(E=E.filter(G=>G.leadName?.toLowerCase().includes(S.leadName.toLowerCase()))),q&&(E=E.filter(G=>{const re=new Date(G.date),te=new Date(q);return re>=te})),I&&(E=E.filter(G=>{const re=new Date(G.date),te=new Date(I);return re<=te})),S.valueMin&&(E=E.filter(G=>G.value>=parseFloat(S.valueMin))),S.valueMax&&(E=E.filter(G=>G.value<=parseFloat(S.valueMax))),E};w.useEffect(()=>{const B=e||A[a.dataType||"monthly"],E=_(B);x(E),v(t==="pie"||t==="doughnut"?E.reduce((R,q)=>R+q.value,0):Math.max(...E.map(R=>R.value))*1.2)},[e,a,t,j,S]);const M=()=>{const B=f.map(I=>I.label),E=f.map(I=>I.value||0),R={labels:B,datasets:[{label:n(r),data:E,backgroundColor:"rgba(59, 130, 246, 0.7)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1,borderSkipped:!1,borderRadius:6,maxBarThickness:36}]},q={responsive:!0,maintainAspectRatio:!1,devicePixelRatio:2,plugins:{legend:{position:"top",display:!0,labels:{usePointStyle:!0,boxWidth:8,color:c?"#0f172a":void 0}},tooltip:{enabled:!0}},scales:{x:{grid:{display:!1},ticks:{maxRotation:0,minRotation:0,color:c?"#0f172a":void 0},title:{display:!0,text:d,color:c?"#0f172a":void 0,font:{size:13,weight:600}}},y:{beginAtZero:!0,grid:{display:!0},ticks:{precision:0,color:c?"#0f172a":void 0},title:{display:!0,text:u,color:c?"#0f172a":void 0,font:{size:13,weight:600}}}}};return s.jsx("div",{className:"w-full h-48 px-2",children:s.jsx(Ls,{data:R,options:q})})},L=()=>{const B=f.map(re=>re.label),E=f.map(re=>re.converted||0),R=f.map(re=>re.inProgress||0),q=f.map(re=>re.lost||0),I={labels:B,datasets:[{label:n("Converted"),data:E,backgroundColor:"#22c55e",stack:"status"},{label:n("In Progress"),data:R,backgroundColor:"#eab308",stack:"status"},{label:n("Lost"),data:q,backgroundColor:"#ef4444",stack:"status"}]},G={responsive:!0,maintainAspectRatio:!1,devicePixelRatio:2,plugins:{legend:{position:"top",labels:{usePointStyle:!0,boxWidth:8,color:c?"#0f172a":void 0}},tooltip:{enabled:!0}},scales:{x:{stacked:!0,grid:{display:!1},ticks:{maxRotation:0,minRotation:0,color:c?"#0f172a":void 0},title:{display:!0,text:d,color:c?"#0f172a":void 0,font:{size:13,weight:600}}},y:{stacked:!0,beginAtZero:!0,grid:{display:!0},ticks:{precision:0,color:c?"#0f172a":void 0},title:{display:!0,text:u,color:c?"#0f172a":void 0,font:{size:13,weight:600}}}}};return s.jsx("div",{className:"w-full h-48 px-2",children:s.jsx(Ls,{data:I,options:G})})},U=()=>{const B=f.map(I=>I.label),E=f.map(I=>I.value||0),R={labels:B,datasets:[{label:n(r),data:E,borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.15)",tension:.35,pointRadius:3,pointBackgroundColor:"#3B82F6",fill:!0}]},q={responsive:!0,maintainAspectRatio:!1,devicePixelRatio:2,plugins:{legend:{position:"top",display:!0,labels:{usePointStyle:!0,boxWidth:8,color:c?"#0f172a":void 0}},tooltip:{enabled:!0}},scales:{x:{grid:{display:!1},ticks:{maxRotation:0,minRotation:0,color:c?"#0f172a":void 0},title:{display:!0,text:d,color:c?"#0f172a":void 0,font:{size:13,weight:600}}},y:{beginAtZero:!0,grid:{display:!0},ticks:{precision:0,color:c?"#0f172a":void 0},title:{display:!0,text:u,color:c?"#0f172a":void 0,font:{size:13,weight:600}}}}};return s.jsx("div",{className:"w-full h-48 px-2",children:s.jsx(no,{data:R,options:q})})},z=()=>{const B=f.reduce((q,I)=>q+(I.value||0),0),E=["#2563eb","#06b6d4","#22c55e","#a3e635","#f59e0b","#f97316","#ef4444","#f43f5e","#a78bfa","#8b5cf6"],R=f.map((q,I)=>({label:q.label,value:q.value||0,color:E[I%E.length]}));return s.jsxs("div",{className:"flex items-center justify-center h-48",children:[s.jsx(Zn,{segments:R,centerValue:B,centerLabel:n("Total Leads"),size:192}),s.jsx("div",{className:"ml-6 space-y-2",children:R.map((q,I)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:q.color}}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:q.label}),s.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:q.value})]},I))})]})},O=()=>{switch(t){case"bar":return M();case"stackedBar":return L();case"line":return U();case"pie":return z();default:return M()}};return s.jsx("div",{className:"w-full",children:O()})},Py=({title:e,value:t,change:a,changeType:r,icon:n,color:i,compact:l=!1})=>{const{theme:o}=xl(),c=o==="light",d=()=>r==="positive"?"text-green-600 dark:text-green-400":r==="negative"?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400",u=()=>r==="positive"?"":r==="negative"?"":"";return s.jsxs("div",{className:`bg-[var(--panel-bg)] ${l?"p-2":"p-4"} rounded-lg shadow-md border border-[var(--panel-border)] h-full flex flex-col justify-between`,children:[s.jsxs("div",{className:`flex items-center justify-between ${l?"mb-0.5":"mb-2"}`,children:[s.jsx("div",{className:`rounded-lg ${l?"p-1":"p-2"} ${i}`,children:s.jsx("span",{className:`text-white ${l?"text-sm":"text-lg"}`,children:n})}),s.jsxs("div",{className:`${l?"text-xs":"text-sm"} font-medium ${d()}`,children:[u()," ",a]})]}),s.jsx("h4",{className:`${l?"text-xs":"text-sm"} font-semibold ${c?"text-[var(--content-text)]":"dark:text-gray-100"} ${l?"mb-0":"mb-1"}`,children:e}),s.jsx("p",{className:`${l?"text-lg":"text-2xl"} font-bold ${c?"text-[var(--text-primary)]":"dark:text-gray-100"}`,children:t})]})};function joe(e){return(e||[]).map(t=>typeof t=="string"?{value:t,label:t}:{value:t.value,label:t.label??String(t.value)})}function rr({options:e,value:t,onChange:a,placeholder:r,className:n="",disabled:i=!1,children:l}){const{i18n:o}=Et(),c=o.language==="ar",d=w.useMemo(()=>{if(!e&&l){const A=[];return In.Children.forEach(l,_=>{if(!(!_||typeof _!="object")&&_.type==="option"){const M=_.props?.value??(Array.isArray(_.props?.children)?_.props.children.join(" "):_.props?.children),L=Array.isArray(_.props?.children)?_.props.children.join(" "):_.props?.children;A.push({value:String(M??L??""),label:String(L??M??"")})}}),A}return joe(e)},[e,l]),[u,f]=w.useState(!1),[x,p]=w.useState(""),v=w.useRef(null),g=w.useRef(null),b=w.useRef(null),[j,N]=w.useState({}),S=w.useMemo(()=>{const A=(x||"").toLowerCase();return A?d.filter(_=>(_.label||"").toLowerCase().includes(A)):d},[d,x]),k=w.useMemo(()=>{const A=d.find(_=>_.value===t);return A?A.label:""},[d,t]);return w.useEffect(()=>{const A=_=>{if(!v.current)return;const M=v.current.contains(_.target),L=g.current&&g.current.contains(_.target);!M&&!L&&f(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]),w.useEffect(()=>{const A=()=>{if(!u||!v.current)return;const M=v.current.getBoundingClientRect();N({position:"fixed",left:`${M.left}px`,top:`${M.bottom+4}px`,width:`${M.width}px`,zIndex:9999})};if(A(),!u)return;const _=()=>A();return window.addEventListener("resize",_),window.addEventListener("scroll",_,!0),()=>{window.removeEventListener("resize",_),window.removeEventListener("scroll",_,!0)}},[u]),w.useEffect(()=>{if(u&&b.current)try{b.current.focus({preventScroll:!0})}catch{b.current.focus()}},[u]),s.jsxs("div",{ref:v,className:`relative ${i?"opacity-60 pointer-events-none":""}`,children:[s.jsxs("button",{type:"button",className:`input w-full flex items-center justify-between ${n}`,onClick:()=>f(A=>!A),"aria-haspopup":"listbox","aria-expanded":u,children:[s.jsx("span",{className:`truncate ${k?"":"text-[var(--muted-text)]"}`,children:k||(r??(c?"...":"Select..."))}),s.jsx("svg",{className:"w-4 h-4 opacity-80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),u&&Cj.createPortal(s.jsxs("div",{ref:g,style:j,className:"rounded-md border border-base-300 bg-[var(--content-bg)] shadow-xl",children:[s.jsx("div",{className:"p-2 border-b border-base-300",children:s.jsx("input",{className:"input input-sm w-full",placeholder:c?" ...":"Type to search...",value:x,onChange:A=>p(A.target.value),ref:b})}),s.jsxs("ul",{role:"listbox",className:"max-h-44 overflow-auto py-1",children:[S.length===0&&s.jsx("li",{className:"px-3 py-2 text-sm text-[var(--muted-text)]",children:c?"  ":"No results"}),S.map(A=>s.jsx("li",{role:"option","aria-selected":A.value===t,className:`px-3 py-2 text-sm cursor-pointer hover:bg-[var(--table-row-hover)] ${A.value===t?"bg-[var(--table-row-hover)]":""}`,onClick:()=>{a&&a(A.value),f(!1),p("")},children:A.label},A.value))]})]}),document.body)]})}const Noe=()=>{const{t:e,i18n:t}=Et(),{theme:a}=xl(),r=a==="light",[n,i]=w.useState(""),[l,o]=w.useState(""),[c,d]=w.useState(""),[u,f]=w.useState(""),[x,p]=w.useState(!1),[v,g]=w.useState(!1),[b,j]=w.useState(!1),[N,S]=w.useState(!1),[k,A]=w.useState("Count"),[_,M]=w.useState("active"),[L,U]=w.useState("2025"),[z,O]=w.useState([]),B=x?2:b?3:2,[E,R]=w.useState(0),q=w.useRef(null),I=w.useRef(null),[G,re]=w.useState(null);w.useEffect(()=>{const de=()=>{q.current&&re(q.current.clientHeight)};return requestAnimationFrame(de),window.addEventListener("resize",de),()=>window.removeEventListener("resize",de)},[]);const te=de=>{const Oe=(de||"").toLowerCase();return Oe.includes("convert")?"":Oe.includes("progress")?"":Oe.includes("lost")?"":Oe.includes("new")?"":Oe.includes("qual")?"":""},X=de=>{const Oe=(de||"").toLowerCase();return Oe.includes("convert")?"#10b981":Oe.includes("progress")?"#f59e0b":Oe.includes("lost")?"#ef4444":Oe.includes("new")?"#3b82f6":Oe.includes("qual")?"#8b5cf6":"#3b82f6"},[ce,D]=w.useState("bar"),[Q,H]=w.useState("monthly"),[J,ae]=w.useState("all"),[ie,le]=w.useState("all"),Y={Count:[{label:"April 2025",value:25,color:"bg-blue-500"},{label:"May 2025",value:28,color:"bg-blue-500"},{label:"June 2025",value:15,color:"bg-blue-500"},{label:"July 2025",value:20,color:"bg-blue-500"},{label:"August 2025",value:42,color:"bg-blue-500"},{label:"September 2025",value:90,color:"bg-blue-500"}],"Days to Assign":[{label:"April 2025",value:3.2,color:"bg-green-500"},{label:"May 2025",value:2.8,color:"bg-green-500"},{label:"June 2025",value:4.1,color:"bg-green-500"},{label:"July 2025",value:3.7,color:"bg-green-500"},{label:"August 2025",value:2.5,color:"bg-green-500"},{label:"September 2025",value:1.8,color:"bg-green-500"}],"Expected Revenue":[{label:"April 2025",value:125e3,color:"bg-purple-500"},{label:"May 2025",value:145e3,color:"bg-purple-500"},{label:"June 2025",value:98e3,color:"bg-purple-500"},{label:"July 2025",value:112e3,color:"bg-purple-500"},{label:"August 2025",value:189e3,color:"bg-purple-500"},{label:"September 2025",value:234e3,color:"bg-purple-500"}]},oe=()=>Y[k]||Y.Count,xe=()=>oe().map(Oe=>({...Oe,label:Oe.label.replace(/\b\d{4}\b/,L)}));w.useEffect(()=>{const de=()=>p(window.innerWidth<640);return de(),window.addEventListener("resize",de),()=>window.removeEventListener("resize",de)},[]),w.useEffect(()=>{const de=()=>j(window.innerWidth>=1024);return de(),window.addEventListener("resize",de),()=>window.removeEventListener("resize",de)},[]),w.useEffect(()=>{try{const de=JSON.parse(localStorage.getItem("crmStages")||"[]"),Oe=Array.isArray(de)?typeof de[0]=="string"?de.map(Fe=>({name:Fe,color:X(Fe),icon:te(Fe)})):de.map(Fe=>({name:Fe.name||String(Fe),color:Fe.color||X(Fe.name||String(Fe)),icon:Fe.icon||te(Fe.name||String(Fe))})):[];O(Oe)}catch{O([])}},[]);const W={blue:{container:"border-blue-400 dark:border-blue-500 bg-gradient-to-br from-blue-100 via-blue-200 to-blue-300 dark:from-blue-800 dark:via-blue-700 dark:to-blue-600 shadow-blue-300/50 dark:shadow-blue-500/25",containerLight:"border-blue-400 bg-gradient-to-br from-blue-100/60 via-blue-100/40 to-blue-100/30 backdrop-blur-sm shadow-blue-300/30",containerDark:"border-blue-500 bg-gradient-to-br from-blue-800 via-blue-700 to-blue-600 shadow-blue-500/25",patternFrom:"from-blue-200",patternTo:"to-blue-300",patternFromLight:"from-blue-200/40",patternToLight:"to-blue-300/30",iconBg:"bg-blue-600 dark:bg-blue-500",iconBgLight:"bg-blue-600/80",iconBgDark:"bg-blue-500"},green:{container:"border-green-400 dark:border-green-500 bg-gradient-to-br from-green-100 via-green-200 to-green-300 dark:from-green-800 dark:via-green-700 dark:to-green-600 shadow-green-300/50 dark:shadow-green-500/25",containerLight:"border-green-400 bg-gradient-to-br from-green-100/60 via-green-100/40 to-green-100/30 backdrop-blur-sm shadow-green-300/30",containerDark:"border-green-500 bg-gradient-to-br from-green-800 via-green-700 to-green-600 shadow-green-500/25",patternFrom:"from-green-200",patternTo:"to-green-300",patternFromLight:"from-green-200/40",patternToLight:"to-green-300/30",iconBg:"bg-green-600 dark:bg-green-500",iconBgLight:"bg-green-600/80",iconBgDark:"bg-green-500",badgeLightBg:"bg-green-100/60",badgeLightText:"text-green-700",badgeLightBorder:"border-green-300"},yellow:{container:"border-yellow-400 dark:border-yellow-500 bg-gradient-to-br from-yellow-100 via-yellow-200 to-yellow-300 dark:from-yellow-800 dark:via-yellow-700 dark:to-yellow-600 shadow-yellow-300/50 dark:shadow-yellow-500/25",containerLight:"border-yellow-400 bg-gradient-to-br from-yellow-100/60 via-yellow-100/40 to-yellow-100/30 backdrop-blur-sm shadow-yellow-300/30",containerDark:"border-yellow-500 bg-gradient-to-br from-yellow-800 via-yellow-700 to-yellow-600 shadow-yellow-500/25",patternFrom:"from-yellow-200",patternTo:"to-yellow-300",patternFromLight:"from-yellow-200/40",patternToLight:"to-yellow-300/30",iconBg:"bg-yellow-600 dark:bg-yellow-500",iconBgLight:"bg-yellow-600/80",iconBgDark:"bg-yellow-500",badgeLightBg:"bg-yellow-100/60",badgeLightText:"text-yellow-700",badgeLightBorder:"border-yellow-300"},red:{container:"border-red-400 dark:border-red-500 bg-gradient-to-br from-red-100 via-red-200 to-red-300 dark:from-red-800 dark:via-red-700 dark:to-red-600 shadow-red-300/50 dark:shadow-red-500/25",containerLight:"border-red-400 bg-gradient-to-br from-red-100/60 via-red-100/40 to-red-100/30 backdrop-blur-sm shadow-red-300/30",containerDark:"border-red-500 bg-gradient-to-br from-red-800 via-red-700 to-red-600 shadow-red-500/25",patternFrom:"from-red-200",patternTo:"to-red-300",patternFromLight:"from-red-200/40",patternToLight:"to-red-300/30",iconBg:"bg-red-600 dark:bg-red-500",iconBgLight:"bg-red-600/80",iconBgDark:"bg-red-500",badgeLightBg:"bg-red-100/60",badgeLightText:"text-red-700",badgeLightBorder:"border-red-300"},purple:{container:"border-purple-400 dark:border-purple-500 bg-gradient-to-br from-purple-100 via-purple-200 to-purple-300 dark:from-purple-800 dark:via-purple-700 dark:to-purple-600 shadow-purple-300/50 dark:shadow-purple-500/25",containerLight:"border-purple-400 bg-gradient-to-br from-purple-100/60 via-purple-100/40 to-purple-100/30 backdrop-blur-sm shadow-purple-300/30",containerDark:"border-purple-500 bg-gradient-to-br from-purple-800 via-purple-700 to-purple-600 shadow-purple-500/25",patternFrom:"from-purple-200",patternTo:"to-purple-300",patternFromLight:"from-purple-200/40",patternToLight:"to-purple-300/30",iconBg:"bg-purple-600 dark:bg-purple-500",iconBgLight:"bg-purple-600/80",iconBgDark:"bg-purple-500",badgeLightBg:"bg-purple-100/60",badgeLightText:"text-purple-700",badgeLightBorder:"border-purple-300"}},he=w.useMemo(()=>{const de=je=>{try{const rt=localStorage.getItem(je);return rt?JSON.parse(rt):[]}catch{return[]}},Oe=[...de("leadsData"),...de("leads")],Fe=new Map;Oe.forEach(je=>{Fe.set(je?.id??Math.random(),je)});const Ee=Array.from(Fe.values()),se=(u||c||"").trim(),_e=je=>{if(!n&&!l)return!0;const rt=je?.lastContact||je?.createdAt,ft=new Date(rt);if(isNaN(ft))return!0;const Bt=new Date(ft.getFullYear(),ft.getMonth(),ft.getDate());if(n){const Je=new Date(n);if(Je.setHours(0,0,0,0),Bt<Je)return!1}if(l){const Je=new Date(l);if(Je.setHours(0,0,0,0),Bt>Je)return!1}return!0};return Ee.filter(je=>(!se||(je.assignedTo||je.employee||"").trim()===se)&&_e(je))},[E,u,c,n,l]);w.useEffect(()=>{const de=()=>{R(Oe=>Oe+1)};return window.addEventListener("storage",de),window.addEventListener("leadsDataUpdated",de),R(Oe=>Oe+1),()=>{window.removeEventListener("storage",de),window.removeEventListener("leadsDataUpdated",de)}},[]);const fe=w.useMemo(()=>{const de=he.length,Oe=he.filter(_e=>_e.stage==="new"||_e.status==="new").length,Fe=he.filter(_e=>_e.isDuplicate).length,Ee=he.filter(_e=>_e.stage==="in-progress"||_e.status==="in-progress").length,se=he.filter(_e=>_e.source==="direct"||_e.source==="cold-call").length;return{total:de,new:Oe,duplicate:Fe,pending:Ee,coldCall:se}},[he]);return fe.total.toLocaleString(),`${e("of all system leads")}`,fe.duplicate.toLocaleString(),`${fe.total>0?(fe.duplicate/fe.total*100).toFixed(1):0}${e("of all system leads")}`,fe.new.toLocaleString(),`${fe.total>0?(fe.new/fe.total*100).toFixed(1):0}${e("of all system leads")}`,fe.coldCall.toLocaleString(),`${fe.total>0?(fe.coldCall/fe.total*100).toFixed(1):0}${e("of all system leads")}`,fe.pending.toLocaleString(),`${fe.total>0?(fe.pending/fe.total*100).toFixed(1):0}${e("of all system leads")}`,s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mt-4 mb-6",children:s.jsxs("div",{className:`relative inline-flex items-center ${t.language==="ar"?"flex-row-reverse":""} gap-2`,children:[s.jsx("span",{"aria-hidden":!0,className:"inline-block w-1.5 h-6 rounded bg-blue-500"}),s.jsx("h1",{className:"page-title text-2xl font-bold text-primary",children:e("Dashboard")}),s.jsx("span",{"aria-hidden":!0,className:"absolute block h-[2px] rounded bg-gradient-to-r from-blue-500 via-purple-500 to-transparent",style:{width:"calc(100% + 8px)",left:t.language==="ar"?"auto":"-4px",right:t.language==="ar"?"-4px":"auto",bottom:"-6px"}})]})}),s.jsxs("section",{className:"p-4 rounded-xl shadow-lg glass-panel filter-card w-full mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-gray-200 dark:border-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-600 rounded-lg",children:s.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.707A1 1 0 013 7V4z"})})}),s.jsx("h3",{className:`text-lg font-bold ${r?"text-black":"text-white"}`,children:e("Filter Options")})]}),s.jsxs("button",{onClick:()=>{d(""),f(""),i(""),o("")},className:"btn-reset flex items-center gap-2 font-medium transform hover:scale-105 transition-all duration-200 focus:outline-none",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e("Reset")]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:`flex items-center gap-2 text-sm font-medium ${r?"text-gray-900":"text-white"}`,children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e("Manager")]}),s.jsxs(rr,{value:c,onChange:d,placeholder:e("Select Manager"),className:"w-full lm-input",children:[s.jsx("option",{value:"Manager 1",children:"Manager 1"}),s.jsx("option",{value:"Manager 2",children:"Manager 2"}),s.jsx("option",{value:"Manager 3",children:"Manager 3"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:`flex items-center gap-2 text-sm font-medium ${r?"text-gray-900":"text-white"}`,children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e("Employees")]}),s.jsxs(rr,{value:u,onChange:f,placeholder:e("Select Employee"),className:"w-full lm-input",children:[s.jsx("option",{value:"Employee 1",children:"Employee 1"}),s.jsx("option",{value:"Employee 2",children:"Employee 2"}),s.jsx("option",{value:"Employee 3",children:"Employee 3"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:`flex items-center gap-2 text-sm font-medium ${r?"text-gray-900":"text-white"}`,children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e("From Date")]}),s.jsx("input",{type:"date",value:n,onChange:de=>i(de.target.value),max:l||void 0,lang:t.language==="ar"?"ar-EG":"en-US",dir:t.language==="ar"?"rtl":"ltr",placeholder:e("Date Input Placeholder"),className:"lm-input w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:`flex items-center gap-2 text-sm font-medium ${r?"text-gray-900":"text-white"}`,children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e("To Date")]}),s.jsx("input",{type:"date",value:l,onChange:de=>o(de.target.value),min:n||void 0,lang:t.language==="ar"?"ar-EG":"en-US",dir:t.language==="ar"?"rtl":"ltr",placeholder:e("Date Input Placeholder"),className:"lm-input w-full"})]})]})]}),s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h2",{className:`text-2xl font-bold ${r?"text-gray-900":"bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent"}`,children:e("Quick Numbers")})]}),z.length>B?s.jsx("button",{onClick:()=>{x?g(de=>!de):b?S(de=>!de):g(de=>!de)},className:"btn btn-primary",children:e((x?v:b?N:v)?"Show Less":"Show More")}):null]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6 mb-16",children:(()=>{const de=he.filter(je=>je.stage==="new"||je.status==="new").length,Oe=he.filter(je=>je.isDuplicate||je.duplicateStatus==="duplicate").length,Fe=he.filter(je=>je.stage==="in-progress"||je.status==="in-progress"||je.status==="pending").length,Ee=he.filter(je=>je.callType==="follow-up"||je.stage==="follow-up"||je.status==="follow-up").length,se=s.jsxs("div",{className:`relative overflow-hidden rounded-2xl p-4 group ${r?"border-2 border-blue-400 bg-gradient-to-br from-blue-100/60 via-blue-100/40 to-blue-100/30 backdrop-blur-sm shadow-blue-300/30":"border-2 border-blue-500 bg-gradient-to-br from-blue-800 via-blue-700 to-blue-600 shadow-blue-500/25"} shadow-2xl hover:shadow-3xl transform hover:scale-[1.02] hover:-translate-y-1 transition-all duration-500`,children:[s.jsxs("div",{className:"absolute inset-0 opacity-15",children:[s.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${r?"from-blue-200/40 to-blue-300/30":"from-blue-200 to-blue-300"} rounded-full transform translate-x-16 -translate-y-16 group-hover:scale-125 transition-transform duration-700`}),s.jsx("div",{className:`absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr ${r?"from-blue-200/40 to-blue-300/30":"from-blue-200 to-blue-300"} rounded-full transform -translate-x-12 translate-y-12 group-hover:scale-110 transition-transform duration-500`})]}),s.jsx("div",{className:"relative z-20",children:s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1 pr-2",children:[s.jsx("span",{className:`text-sm font-bold uppercase tracking-wider mb-2 block ${r?"text-gray-900":"text-gray-300"}`,children:e("Total Leads")}),s.jsx("div",{className:`text-3xl font-black mb-2 tracking-tight ${r?"text-black":"text-white"}`,children:he.length})]}),s.jsx("div",{className:`flex items-center justify-center w-12 h-12 ${r?"bg-blue-600/80":"bg-blue-500"} rounded-2xl shadow-xl group-hover:scale-110 group-hover:rotate-6 transition-all duration-500 border-2 border-white/30`,children:s.jsx("span",{className:"text-4xl text-white",children:""})})]})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/15 to-transparent -skew-x-12 transform -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out"})]},"__fixed_total__"),_e=[{key:"__fixed_new__",title:e("New"),count:de,percent:he.length>0?Math.round(de/he.length*100):0,icon:"",color:"green",borderClass:"border-green-400 dark:border-green-500"},{key:"__fixed_duplicate__",title:e("Duplicate"),count:Oe,percent:he.length>0?Math.round(Oe/he.length*100):0,icon:"",color:"red",borderClass:"border-red-400 dark:border-red-500"},{key:"__fixed_pending__",title:e("Pending"),count:Fe,percent:he.length>0?Math.round(Fe/he.length*100):0,icon:"",color:"yellow",borderClass:"border-yellow-400 dark:border-yellow-500"},{key:"__fixed_followup__",title:e("Follow-up"),count:Ee,percent:he.length>0?Math.round(Ee/he.length*100):0,icon:"",color:"purple",borderClass:"border-purple-400 dark:border-purple-500"}].map(({key:je,title:rt,count:ft,percent:Bt,icon:Je,color:$e,borderClass:ze})=>{const Ze=W[$e];return s.jsxs("div",{className:`relative overflow-hidden rounded-2xl p-4 group ${r?Ze.containerLight:Ze.containerDark} border-2 shadow-2xl hover:shadow-3xl transform hover:scale-[1.02] hover:-translate-y-1 transition-all duration-500`,children:[s.jsxs("div",{className:"absolute inset-0 opacity-15",children:[s.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${r?Ze.patternFromLight:Ze.patternFrom} ${r?Ze.patternToLight:Ze.patternTo} rounded-full transform translate-x-16 -translate-y-16 group-hover:scale-125 transition-transform duration-700`}),s.jsx("div",{className:`absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr ${r?Ze.patternFromLight:Ze.patternFrom} ${r?Ze.patternToLight:Ze.patternTo} rounded-full transform -translate-x-12 translate-y-12 group-hover:scale-110 transition-transform duration-500`})]}),s.jsxs("div",{className:"relative z-20",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1 pr-2",children:[s.jsx("span",{className:`text-sm font-bold uppercase tracking-wider mb-2 block ${r?"text-gray-900":"text-gray-300"}`,children:rt}),s.jsx("div",{className:`text-3xl font-black mb-1 tracking-tight ${r?"text-black":"text-white"}`,children:ft}),s.jsxs("div",{className:`${r?"text-base font-bold bg-[var(--lm-muted-surface)] text-[var(--lm-subtext)] inline-flex items-center gap-2 px-2 py-1 rounded-lg border border-[var(--lm-border)]":"text-base font-bold text-gray-700 dark:text-gray-300 bg-white/50 dark:bg-gray-700/50 inline-flex items-center gap-2 px-2 py-1 rounded-lg border border-gray-200 dark:border-gray-600"}`,children:[s.jsx("span",{children:""}),s.jsxs("span",{children:[Bt,"%"]})]})]}),s.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-2xl shadow-xl group-hover:scale-110 group-hover:rotate-6 transition-all duration-500 border-2 border-white/30 ${r?Ze.iconBgLight:Ze.iconBgDark}`,children:s.jsx("span",{className:"text-4xl text-white",children:Je})})]}),s.jsxs("div",{className:`${r?`text-base font-semibold px-3 py-2 rounded-xl border ${Ze.badgeLightBg} ${Ze.badgeLightText} ${Ze.badgeLightBorder}`:"text-base text-gray-600 dark:text-gray-400 font-semibold bg-gray-100/80 dark:bg-gray-700/80 px-3 py-2 rounded-xl backdrop-blur-sm border border-gray-200 dark:border-gray-600"}`,children:[e("Stage share of total"),": ",Bt,"%"]})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/15 to-transparent -skew-x-12 transform -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out"})]},je)});return[se,..._e]})()}),s.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-12 mt-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(yoe,{dateFrom:n,dateTo:l,selectedEmployee:u||c})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx("div",{className:"p-4 glass-panel h-full overflow-auto rounded-lg shadow-md",children:s.jsxs("div",{className:"best-section-wrapper",children:[s.jsxs("div",{className:`flex items-center ${t.language==="ar"?"flex-row-reverse":""} gap-2 mb-3`,children:[s.jsx("span",{"aria-hidden":!0,className:"inline-block w-1 h-5 rounded bg-blue-500"}),s.jsx("h3",{className:"text-xl font-semibold text-primary",children:e("The Best")})]}),s.jsx("p",{className:`text-sm mb-4 ${r?"text-gray-700 font-medium":"text-gray-400"}`,children:e("Your top agents for the number of actions.")}),(()=>{const[de,Oe]=w.useState("all"),Ee={all:[{id:1,name:e("Youssef Hemeda"),avatar:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32'><rect width='100%' height='100%' fill='%239ca3af'/><text x='50%' y='58%' font-family='system-ui,Segoe UI,Arial' font-size='18' fill='white' text-anchor='middle'>Y</text></svg>",score:3329,isCrowned:!0},{id:2,name:e("Osama Sales"),avatar:"",score:1968,isCrowned:!1},{id:3,name:e("Engaz CRM Demo"),avatar:"",score:1661,isCrowned:!1}],today:[{id:1,name:e("Osama Sales"),avatar:"",score:245,isCrowned:!0},{id:2,name:e("Youssef Hemeda"),avatar:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32'><rect width='100%' height='100%' fill='%239ca3af'/><text x='50%' y='58%' font-family='system-ui,Segoe UI,Arial' font-size='18' fill='white' text-anchor='middle'>Y</text></svg>",score:187,isCrowned:!1},{id:3,name:e("Ahmed Ibrahim"),avatar:"",score:142,isCrowned:!1}],weekly:[{id:1,name:e("Youssef Hemeda"),avatar:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32'><rect width='100%' height='100%' fill='%239ca3af'/><text x='50%' y='58%' font-family='system-ui,Segoe UI,Arial' font-size='18' fill='white' text-anchor='middle'>Y</text></svg>",score:1245,isCrowned:!0},{id:2,name:e("Engaz CRM Demo"),avatar:"",score:876,isCrowned:!1},{id:3,name:e("Osama Sales"),avatar:"",score:654,isCrowned:!1}],monthly:[{id:1,name:e("Youssef Hemeda"),avatar:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32'><rect width='100%' height='100%' fill='%239ca3af'/><text x='50%' y='58%' font-family='system-ui,Segoe UI,Arial' font-size='18' fill='white' text-anchor='middle'>Y</text></svg>",score:3329,isCrowned:!0},{id:2,name:e("Osama Sales"),avatar:"",score:1968,isCrowned:!1},{id:3,name:e("Engaz CRM Demo"),avatar:"",score:1661,isCrowned:!1}]}[de],se=Ee[0];return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-800/30 p-3 rounded-lg flex items-center justify-between mb-4 border border-white dark:border-yellow-700",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[s.jsxs("div",{className:"relative",children:[se.avatar?s.jsx("img",{className:"w-10 h-10 rounded-full",src:se.avatar,alt:se.name}):s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm",children:se.name.split(" ").map(_e=>_e[0]).join("").toUpperCase()}),s.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-yellow-400 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs",children:""})})]}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"font-semibold text-slate-900 dark:text-gray-100 truncate",children:se.name}),s.jsxs("p",{className:"text-sm font-semibold text-slate-900 dark:text-gray-300",children:[se.score.toLocaleString()," ",e("actions")]})]})]}),s.jsx("div",{className:"text-2xl",children:""})]}),s.jsx("div",{className:"flex gap-1 mb-4 bg-gray-100 dark:bg-gray-700 p-1 rounded-lg",children:[{key:"all",label:e("All Time")},{key:"monthly",label:e("Monthly")},{key:"weekly",label:e("Weekly")},{key:"today",label:e("Today")}].map(({key:_e,label:je})=>s.jsx("button",{onClick:()=>Oe(_e),className:`flex-1 px-2 py-1 text-xs rounded-md transition-all ${de===_e?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"}`,children:je},_e))}),s.jsx("div",{className:"space-y-3",children:Ee.map((_e,je)=>s.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-lg ${r?"bg-[var(--lm-muted-surface)] border border-[var(--lm-border)] hover:bg-[var(--lm-surface)]":"bg-gray-800 border border-gray-700 hover:bg-gray-700"} transition-colors`,children:[s.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-gray-200 dark:bg-gray-600 text-xs font-bold text-gray-700 dark:text-gray-300",children:je+1}),s.jsxs("div",{className:"relative",children:[_e.avatar?s.jsx("img",{className:"w-8 h-8 rounded-full",src:_e.avatar,alt:_e.name}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-xs",children:_e.name.split(" ").map(rt=>rt[0]).join("").toUpperCase()}),_e.isCrowned&&s.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-yellow-400 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs",children:""})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`font-semibold truncate text-sm ${r?"text-slate-900":"text-white"}`,children:_e.name}),s.jsxs("p",{className:`text-xs ${r?"text-slate-700":"text-gray-300"}`,children:[_e.score.toLocaleString()," ",e("actions")]})]})]},_e.id))})]})})()]})})})]}),s.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-12",children:[s.jsxs("div",{className:"p-4 glass-panel rounded-lg shadow-md",children:[s.jsxs("div",{className:`flex items-center ${t.language==="ar"?"flex-row-reverse":""} gap-2 mb-4`,children:[s.jsx("span",{"aria-hidden":!0,className:"inline-block w-1 h-5 rounded bg-blue-500"}),s.jsx("h3",{className:"text-2xl font-bold text-primary",children:e("Last Comments")})]}),s.jsx(voe,{employee:u||c,dateFrom:n,dateTo:l})]}),s.jsxs("div",{className:"p-4 glass-panel rounded-lg shadow-md",children:[s.jsxs("div",{className:`flex items-center ${t.language==="ar"?"flex-row-reverse":""} gap-2 mb-4`,children:[s.jsx("span",{"aria-hidden":!0,className:"inline-block w-1 h-5 rounded bg-blue-500"}),s.jsx("h3",{className:"text-2xl font-bold text-primary",children:e("Recent Phone Calls")})]}),s.jsx(boe,{employee:u||c,dateFrom:n,dateTo:l})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 mb-10 items-stretch",children:[s.jsx("div",{ref:I,className:"p-3 glass-panel rounded-lg shadow-md h-full lg:col-span-4",style:G?{maxHeight:`${G}px`}:void 0,children:s.jsx(zle,{})}),s.jsxs("div",{ref:q,className:"p-3 glass-panel rounded-lg shadow-md lg:col-span-3 h-full flex flex-col min-h-0",children:[s.jsxs("div",{className:`flex items-center ${t.language==="ar"?"flex-row-reverse":""} gap-2 mb-2`,children:[s.jsx("span",{"aria-hidden":!0,className:"inline-block w-1 h-4 rounded bg-blue-500"}),s.jsx("h3",{className:"text-lg font-bold text-primary",children:e("Leads Status")})]}),s.jsxs("div",{className:"flex-1 min-h-0 grid grid-rows-4 gap-2",children:[s.jsx(Py,{title:e("Total Leads"),value:"16,766",change:"+12.5%",changeType:"positive",icon:"",color:"bg-blue-500",compact:!0}),s.jsx(Py,{title:e("Conversion Rate"),value:"24.3%",change:"+3.2%",changeType:"positive",icon:"",color:"bg-green-500",compact:!0}),s.jsx(Py,{title:e("Avg Response Time"),value:"2.4h",change:"-15min",changeType:"positive",icon:"",color:"bg-purple-500",compact:!0}),s.jsx(Py,{title:e("Hot Leads"),value:"253",change:"+18",changeType:"positive",icon:"",color:"bg-red-500",compact:!0})]})]}),s.jsx("div",{className:"p-3 glass-panel rounded-lg shadow-md lg:col-span-5 h-full",children:s.jsx(Hle,{employee:u||c,dateFrom:n,dateTo:l})})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4 mb-12",children:s.jsxs("div",{className:"col-span-1 p-4 glass-panel rounded-lg shadow-md",children:[s.jsxs("div",{className:`flex items-center ${t.language==="ar"?"flex-row-reverse":""} gap-2 mb-3`,children:[s.jsx("span",{"aria-hidden":!0,className:"inline-block w-1 h-5 rounded bg-blue-500"}),s.jsx("h3",{className:"text-2xl font-bold text-primary",children:e("Leads Analysis")})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3 justify-end",children:[s.jsx("span",{className:`${r?"text-blue-700 font-semibold":"dark:text-gray-300"} text-sm`,children:ce==="bar"?t.language==="ar"?"  ":"Bar Chart":ce==="stackedBar"?t.language==="ar"?"   ":"Stacked Bar Chart":ce==="line"?t.language==="ar"?"  ":"Line Chart":t.language==="ar"?"  ":"Pie Chart"}),s.jsxs("div",{className:"flex items-center gap-2 p-1 bg-gray-100 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[s.jsxs("button",{onClick:()=>D("bar"),className:`
                      group relative flex items-center justify-center px-3 py-2 rounded-md transition-all duration-300 ease-in-out
                      ${ce==="bar"?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-600 hover:text-blue-600 dark:hover:text-blue-400 hover:scale-105"}
                      border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-500
                    `,title:t.language==="ar"?"  ":"Bar Chart",children:[s.jsx(cA,{className:"w-4 h-4"}),ce==="bar"&&s.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-blue-500 rounded-full"})]}),s.jsxs("button",{onClick:()=>D("stackedBar"),className:`
                      group relative flex items-center justify-center px-3 py-2 rounded-md transition-all duration-300 ease-in-out
                      ${ce==="stackedBar"?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg shadow-green-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-green-50 dark:hover:bg-gray-600 hover:text-green-600 dark:hover:text-green-400 hover:scale-105"}
                      border border-gray-200 dark:border-gray-600 hover:border-green-300 dark:hover:border-green-500
                    `,title:t.language==="ar"?"   ":"Stacked Bar Chart",children:[s.jsx(Tle,{className:"w-4 h-4"}),ce==="stackedBar"&&s.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-green-500 rounded-full"})]}),s.jsxs("button",{onClick:()=>D("line"),className:`
                      group relative flex items-center justify-center px-3 py-2 rounded-md transition-all duration-300 ease-in-out
                      ${ce==="line"?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg shadow-purple-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-gray-600 hover:text-purple-600 dark:hover:text-purple-400 hover:scale-105"}
                      border border-gray-200 dark:border-gray-600 hover:border-purple-300 dark:hover:border-purple-500
                    `,title:t.language==="ar"?"  ":"Line Chart",children:[s.jsx(HU,{className:"w-4 h-4"}),ce==="line"&&s.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-purple-500 rounded-full"})]}),s.jsxs("button",{onClick:()=>D("pie"),className:`
                      group relative flex items-center justify-center px-3 py-2 rounded-md transition-all duration-300 ease-in-out
                      ${ce==="pie"?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg shadow-orange-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-orange-50 dark:hover:bg-gray-600 hover:text-orange-600 dark:hover:text-orange-400 hover:scale-105"}
                      border border-gray-200 dark:border-gray-600 hover:border-orange-300 dark:hover:border-orange-500
                    `,title:t.language==="ar"?"  ":"Pie Chart",children:[s.jsx(VU,{className:"w-4 h-4"}),ce==="pie"&&s.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-orange-500 rounded-full"})]})]})]}),s.jsx("div",{className:"h-auto",children:s.jsx(woe,{data:xe(),chartType:ce,filters:{dataType:"monthly",status:_,year:L,employee:u||c,dateFrom:n,dateTo:l}})})]})}),s.jsx("section",{className:"grid grid-cols-1 gap-4 mt-4",children:s.jsx("div",{className:"lg:col-span-3",children:s.jsxs("div",{className:"p-4 glass-panel h-full overflow-auto rounded-lg shadow-md",children:[s.jsxs("div",{className:`flex items-center ${t.language==="ar"?"flex-row-reverse":""} gap-2 mb-4`,children:[s.jsx("span",{"aria-hidden":!0,className:"inline-block w-1 h-5 rounded bg-blue-500"}),s.jsx("h3",{className:"text-2xl font-bold text-primary",children:e("Pipeline Analysis")})]}),s.jsx(xoe,{selectedEmployee:u||c,dateFrom:n,dateTo:l})]})})})]})};function ez(e,t){return function(){return e.apply(t,arguments)}}const{toString:Soe}=Object.prototype,{getPrototypeOf:hA}=Object,{iterator:Fj,toStringTag:tz}=Symbol,Ij=(e=>t=>{const a=Soe.call(t);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),xd=e=>(e=e.toLowerCase(),t=>Ij(t)===e),Bj=e=>t=>typeof t===e,{isArray:jx}=Array,nx=Bj("undefined");function Fv(e){return e!==null&&!nx(e)&&e.constructor!==null&&!nx(e.constructor)&&to(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const az=xd("ArrayBuffer");function koe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&az(e.buffer),t}const Coe=Bj("string"),to=Bj("function"),rz=Bj("number"),Iv=e=>e!==null&&typeof e=="object",Aoe=e=>e===!0||e===!1,E2=e=>{if(Ij(e)!=="object")return!1;const t=hA(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(tz in e)&&!(Fj in e)},_oe=e=>{if(!Iv(e)||Fv(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Toe=xd("Date"),Eoe=xd("File"),Doe=xd("Blob"),Moe=xd("FileList"),Poe=e=>Iv(e)&&to(e.pipe),Loe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||to(e.append)&&((t=Ij(e))==="formdata"||t==="object"&&to(e.toString)&&e.toString()==="[object FormData]"))},Ooe=xd("URLSearchParams"),[Roe,Foe,Ioe,Boe]=["ReadableStream","Request","Response","Headers"].map(xd),$oe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bv(e,t,{allOwnKeys:a=!1}={}){if(e===null||typeof e>"u")return;let r,n;if(typeof e!="object"&&(e=[e]),jx(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{if(Fv(e))return;const i=a?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let o;for(r=0;r<l;r++)o=i[r],t.call(null,e[o],o,e)}}function sz(e,t){if(Fv(e))return null;t=t.toLowerCase();const a=Object.keys(e);let r=a.length,n;for(;r-- >0;)if(n=a[r],t===n.toLowerCase())return n;return null}const O0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,nz=e=>!nx(e)&&e!==O0;function Bk(){const{caseless:e,skipUndefined:t}=nz(this)&&this||{},a={},r=(n,i)=>{const l=e&&sz(a,i)||i;E2(a[l])&&E2(n)?a[l]=Bk(a[l],n):E2(n)?a[l]=Bk({},n):jx(n)?a[l]=n.slice():(!t||!nx(n))&&(a[l]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Bv(arguments[n],r);return a}const Uoe=(e,t,a,{allOwnKeys:r}={})=>(Bv(t,(n,i)=>{a&&to(n)?e[i]=ez(n,a):e[i]=n},{allOwnKeys:r}),e),zoe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Hoe=(e,t,a,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},Voe=(e,t,a,r)=>{let n,i,l;const o={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)l=n[i],(!r||r(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=a!==!1&&hA(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},Woe=(e,t,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=t.length;const r=e.indexOf(t,a);return r!==-1&&r===a},qoe=e=>{if(!e)return null;if(jx(e))return e;let t=e.length;if(!rz(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},Goe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&hA(Uint8Array)),Koe=(e,t)=>{const r=(e&&e[Fj]).call(e);let n;for(;(n=r.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},Yoe=(e,t)=>{let a;const r=[];for(;(a=e.exec(t))!==null;)r.push(a);return r},Xoe=xd("HTMLFormElement"),Qoe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,n){return r.toUpperCase()+n}),NM=(({hasOwnProperty:e})=>(t,a)=>e.call(t,a))(Object.prototype),Joe=xd("RegExp"),iz=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),r={};Bv(a,(n,i)=>{let l;(l=t(n,i,e))!==!1&&(r[i]=l||n)}),Object.defineProperties(e,r)},Zoe=e=>{iz(e,(t,a)=>{if(to(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=e[a];if(to(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},ece=(e,t)=>{const a={},r=n=>{n.forEach(i=>{a[i]=!0})};return jx(e)?r(e):r(String(e).split(t)),a},tce=()=>{},ace=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function rce(e){return!!(e&&to(e.append)&&e[tz]==="FormData"&&e[Fj])}const sce=e=>{const t=new Array(10),a=(r,n)=>{if(Iv(r)){if(t.indexOf(r)>=0)return;if(Fv(r))return r;if(!("toJSON"in r)){t[n]=r;const i=jx(r)?[]:{};return Bv(r,(l,o)=>{const c=a(l,n+1);!nx(c)&&(i[o]=c)}),t[n]=void 0,i}}return r};return a(e,0)},nce=xd("AsyncFunction"),ice=e=>e&&(Iv(e)||to(e))&&to(e.then)&&to(e.catch),lz=((e,t)=>e?setImmediate:t?((a,r)=>(O0.addEventListener("message",({source:n,data:i})=>{n===O0&&i===a&&r.length&&r.shift()()},!1),n=>{r.push(n),O0.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",to(O0.postMessage)),lce=typeof queueMicrotask<"u"?queueMicrotask.bind(O0):typeof process<"u"&&process.nextTick||lz,oce=e=>e!=null&&to(e[Fj]),mt={isArray:jx,isArrayBuffer:az,isBuffer:Fv,isFormData:Loe,isArrayBufferView:koe,isString:Coe,isNumber:rz,isBoolean:Aoe,isObject:Iv,isPlainObject:E2,isEmptyObject:_oe,isReadableStream:Roe,isRequest:Foe,isResponse:Ioe,isHeaders:Boe,isUndefined:nx,isDate:Toe,isFile:Eoe,isBlob:Doe,isRegExp:Joe,isFunction:to,isStream:Poe,isURLSearchParams:Ooe,isTypedArray:Goe,isFileList:Moe,forEach:Bv,merge:Bk,extend:Uoe,trim:$oe,stripBOM:zoe,inherits:Hoe,toFlatObject:Voe,kindOf:Ij,kindOfTest:xd,endsWith:Woe,toArray:qoe,forEachEntry:Koe,matchAll:Yoe,isHTMLForm:Xoe,hasOwnProperty:NM,hasOwnProp:NM,reduceDescriptors:iz,freezeMethods:Zoe,toObjectSet:ece,toCamelCase:Qoe,noop:tce,toFiniteNumber:ace,findKey:sz,global:O0,isContextDefined:nz,isSpecCompliantForm:rce,toJSONObject:sce,isAsyncFn:nce,isThenable:ice,setImmediate:lz,asap:lce,isIterable:oce};function Ya(e,t,a,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}mt.inherits(Ya,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:mt.toJSONObject(this.config),code:this.code,status:this.status}}});const oz=Ya.prototype,cz={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{cz[e]={value:e}});Object.defineProperties(Ya,cz);Object.defineProperty(oz,"isAxiosError",{value:!0});Ya.from=(e,t,a,r,n,i)=>{const l=Object.create(oz);mt.toFlatObject(e,l,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Ya.call(l,o,c,a,r,n),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const cce=null;function $k(e){return mt.isPlainObject(e)||mt.isArray(e)}function dz(e){return mt.endsWith(e,"[]")?e.slice(0,-2):e}function SM(e,t,a){return e?e.concat(t).map(function(n,i){return n=dz(n),!a&&i?"["+n+"]":n}).join(a?".":""):t}function dce(e){return mt.isArray(e)&&!e.some($k)}const uce=mt.toFlatObject(mt,{},null,function(t){return/^is[A-Z]/.test(t)});function $j(e,t,a){if(!mt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,a=mt.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,b){return!mt.isUndefined(b[g])});const r=a.metaTokens,n=a.visitor||u,i=a.dots,l=a.indexes,c=(a.Blob||typeof Blob<"u"&&Blob)&&mt.isSpecCompliantForm(t);if(!mt.isFunction(n))throw new TypeError("visitor must be a function");function d(v){if(v===null)return"";if(mt.isDate(v))return v.toISOString();if(mt.isBoolean(v))return v.toString();if(!c&&mt.isBlob(v))throw new Ya("Blob is not supported. Use a Buffer instead.");return mt.isArrayBuffer(v)||mt.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function u(v,g,b){let j=v;if(v&&!b&&typeof v=="object"){if(mt.endsWith(g,"{}"))g=r?g:g.slice(0,-2),v=JSON.stringify(v);else if(mt.isArray(v)&&dce(v)||(mt.isFileList(v)||mt.endsWith(g,"[]"))&&(j=mt.toArray(v)))return g=dz(g),j.forEach(function(S,k){!(mt.isUndefined(S)||S===null)&&t.append(l===!0?SM([g],k,i):l===null?g:g+"[]",d(S))}),!1}return $k(v)?!0:(t.append(SM(b,g,i),d(v)),!1)}const f=[],x=Object.assign(uce,{defaultVisitor:u,convertValue:d,isVisitable:$k});function p(v,g){if(!mt.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(v),mt.forEach(v,function(j,N){(!(mt.isUndefined(j)||j===null)&&n.call(t,j,mt.isString(N)?N.trim():N,g,x))===!0&&p(j,g?g.concat(N):[N])}),f.pop()}}if(!mt.isObject(e))throw new TypeError("data must be an object");return p(e),t}function kM(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function fA(e,t){this._pairs=[],e&&$j(e,this,t)}const uz=fA.prototype;uz.append=function(t,a){this._pairs.push([t,a])};uz.toString=function(t){const a=t?function(r){return t.call(this,r,kM)}:kM;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function hce(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function hz(e,t,a){if(!t)return e;const r=a&&a.encode||hce;mt.isFunction(a)&&(a={serialize:a});const n=a&&a.serialize;let i;if(n?i=n(t,a):i=mt.isURLSearchParams(t)?t.toString():new fA(t,a).toString(r),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class CM{constructor(){this.handlers=[]}use(t,a,r){return this.handlers.push({fulfilled:t,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){mt.forEach(this.handlers,function(r){r!==null&&t(r)})}}const fz={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fce=typeof URLSearchParams<"u"?URLSearchParams:fA,mce=typeof FormData<"u"?FormData:null,pce=typeof Blob<"u"?Blob:null,xce={isBrowser:!0,classes:{URLSearchParams:fce,FormData:mce,Blob:pce},protocols:["http","https","file","blob","url","data"]},mA=typeof window<"u"&&typeof document<"u",Uk=typeof navigator=="object"&&navigator||void 0,gce=mA&&(!Uk||["ReactNative","NativeScript","NS"].indexOf(Uk.product)<0),vce=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bce=mA&&window.location.href||"http://localhost",yce=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mA,hasStandardBrowserEnv:gce,hasStandardBrowserWebWorkerEnv:vce,navigator:Uk,origin:bce},Symbol.toStringTag,{value:"Module"})),ll={...yce,...xce};function wce(e,t){return $j(e,new ll.classes.URLSearchParams,{visitor:function(a,r,n,i){return ll.isNode&&mt.isBuffer(a)?(this.append(r,a.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function jce(e){return mt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Nce(e){const t={},a=Object.keys(e);let r;const n=a.length;let i;for(r=0;r<n;r++)i=a[r],t[i]=e[i];return t}function mz(e){function t(a,r,n,i){let l=a[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=a.length;return l=!l&&mt.isArray(n)?n.length:l,c?(mt.hasOwnProp(n,l)?n[l]=[n[l],r]:n[l]=r,!o):((!n[l]||!mt.isObject(n[l]))&&(n[l]=[]),t(a,r,n[l],i)&&mt.isArray(n[l])&&(n[l]=Nce(n[l])),!o)}if(mt.isFormData(e)&&mt.isFunction(e.entries)){const a={};return mt.forEachEntry(e,(r,n)=>{t(jce(r),n,a,0)}),a}return null}function Sce(e,t,a){if(mt.isString(e))try{return(t||JSON.parse)(e),mt.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(e)}const $v={transitional:fz,adapter:["xhr","http","fetch"],transformRequest:[function(t,a){const r=a.getContentType()||"",n=r.indexOf("application/json")>-1,i=mt.isObject(t);if(i&&mt.isHTMLForm(t)&&(t=new FormData(t)),mt.isFormData(t))return n?JSON.stringify(mz(t)):t;if(mt.isArrayBuffer(t)||mt.isBuffer(t)||mt.isStream(t)||mt.isFile(t)||mt.isBlob(t)||mt.isReadableStream(t))return t;if(mt.isArrayBufferView(t))return t.buffer;if(mt.isURLSearchParams(t))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return wce(t,this.formSerializer).toString();if((o=mt.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return $j(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||n?(a.setContentType("application/json",!1),Sce(t)):t}],transformResponse:[function(t){const a=this.transitional||$v.transitional,r=a&&a.forcedJSONParsing,n=this.responseType==="json";if(mt.isResponse(t)||mt.isReadableStream(t))return t;if(t&&mt.isString(t)&&(r&&!this.responseType||n)){const l=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?Ya.from(o,Ya.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ll.classes.FormData,Blob:ll.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};mt.forEach(["delete","get","head","post","put","patch"],e=>{$v.headers[e]={}});const kce=mt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cce=e=>{const t={};let a,r,n;return e&&e.split(`
`).forEach(function(l){n=l.indexOf(":"),a=l.substring(0,n).trim().toLowerCase(),r=l.substring(n+1).trim(),!(!a||t[a]&&kce[a])&&(a==="set-cookie"?t[a]?t[a].push(r):t[a]=[r]:t[a]=t[a]?t[a]+", "+r:r)}),t},AM=Symbol("internals");function Lg(e){return e&&String(e).trim().toLowerCase()}function D2(e){return e===!1||e==null?e:mt.isArray(e)?e.map(D2):String(e)}function Ace(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(e);)t[r[1]]=r[2];return t}const _ce=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function N5(e,t,a,r,n){if(mt.isFunction(r))return r.call(this,t,a);if(n&&(t=a),!!mt.isString(t)){if(mt.isString(r))return t.indexOf(r)!==-1;if(mt.isRegExp(r))return r.test(t)}}function Tce(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,a,r)=>a.toUpperCase()+r)}function Ece(e,t){const a=mt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+a,{value:function(n,i,l){return this[r].call(this,t,n,i,l)},configurable:!0})})}let ao=class{constructor(t){t&&this.set(t)}set(t,a,r){const n=this;function i(o,c,d){const u=Lg(c);if(!u)throw new Error("header name must be a non-empty string");const f=mt.findKey(n,u);(!f||n[f]===void 0||d===!0||d===void 0&&n[f]!==!1)&&(n[f||c]=D2(o))}const l=(o,c)=>mt.forEach(o,(d,u)=>i(d,u,c));if(mt.isPlainObject(t)||t instanceof this.constructor)l(t,a);else if(mt.isString(t)&&(t=t.trim())&&!_ce(t))l(Cce(t),a);else if(mt.isObject(t)&&mt.isIterable(t)){let o={},c,d;for(const u of t){if(!mt.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?mt.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}l(o,a)}else t!=null&&i(a,t,r);return this}get(t,a){if(t=Lg(t),t){const r=mt.findKey(this,t);if(r){const n=this[r];if(!a)return n;if(a===!0)return Ace(n);if(mt.isFunction(a))return a.call(this,n,r);if(mt.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=Lg(t),t){const r=mt.findKey(this,t);return!!(r&&this[r]!==void 0&&(!a||N5(this,this[r],r,a)))}return!1}delete(t,a){const r=this;let n=!1;function i(l){if(l=Lg(l),l){const o=mt.findKey(r,l);o&&(!a||N5(r,r[o],o,a))&&(delete r[o],n=!0)}}return mt.isArray(t)?t.forEach(i):i(t),n}clear(t){const a=Object.keys(this);let r=a.length,n=!1;for(;r--;){const i=a[r];(!t||N5(this,this[i],i,t,!0))&&(delete this[i],n=!0)}return n}normalize(t){const a=this,r={};return mt.forEach(this,(n,i)=>{const l=mt.findKey(r,i);if(l){a[l]=D2(n),delete a[i];return}const o=t?Tce(i):String(i).trim();o!==i&&delete a[i],a[o]=D2(n),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return mt.forEach(this,(r,n)=>{r!=null&&r!==!1&&(a[n]=t&&mt.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const r=new this(t);return a.forEach(n=>r.set(n)),r}static accessor(t){const r=(this[AM]=this[AM]={accessors:{}}).accessors,n=this.prototype;function i(l){const o=Lg(l);r[o]||(Ece(n,l),r[o]=!0)}return mt.isArray(t)?t.forEach(i):i(t),this}};ao.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);mt.reduceDescriptors(ao.prototype,({value:e},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[a]=r}}});mt.freezeMethods(ao);function S5(e,t){const a=this||$v,r=t||a,n=ao.from(r.headers);let i=r.data;return mt.forEach(e,function(o){i=o.call(a,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function pz(e){return!!(e&&e.__CANCEL__)}function Nx(e,t,a){Ya.call(this,e??"canceled",Ya.ERR_CANCELED,t,a),this.name="CanceledError"}mt.inherits(Nx,Ya,{__CANCEL__:!0});function xz(e,t,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?e(a):t(new Ya("Request failed with status code "+a.status,[Ya.ERR_BAD_REQUEST,Ya.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function Dce(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Mce(e,t){e=e||10;const a=new Array(e),r=new Array(e);let n=0,i=0,l;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=r[i];l||(l=d),a[n]=c,r[n]=d;let f=i,x=0;for(;f!==n;)x+=a[f++],f=f%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),d-l<t)return;const p=u&&d-u;return p?Math.round(x*1e3/p):void 0}}function Pce(e,t){let a=0,r=1e3/t,n,i;const l=(d,u=Date.now())=>{a=u,n=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),f=u-a;f>=r?l(d,u):(n=d,i||(i=setTimeout(()=>{i=null,l(n)},r-f)))},()=>n&&l(n)]}const aw=(e,t,a=3)=>{let r=0;const n=Mce(50,250);return Pce(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-r,d=n(c),u=l<=o;r=l;const f={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-l)/d:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(f)},a)},_M=(e,t)=>{const a=e!=null;return[r=>t[0]({lengthComputable:a,total:e,loaded:r}),t[1]]},TM=e=>(...t)=>mt.asap(()=>e(...t)),Lce=ll.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,ll.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(ll.origin),ll.navigator&&/(msie|trident)/i.test(ll.navigator.userAgent)):()=>!0,Oce=ll.hasStandardBrowserEnv?{write(e,t,a,r,n,i){const l=[e+"="+encodeURIComponent(t)];mt.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),mt.isString(r)&&l.push("path="+r),mt.isString(n)&&l.push("domain="+n),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Rce(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Fce(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function gz(e,t,a){let r=!Rce(t);return e&&(r||a==!1)?Fce(e,t):t}const EM=e=>e instanceof ao?{...e}:e;function cm(e,t){t=t||{};const a={};function r(d,u,f,x){return mt.isPlainObject(d)&&mt.isPlainObject(u)?mt.merge.call({caseless:x},d,u):mt.isPlainObject(u)?mt.merge({},u):mt.isArray(u)?u.slice():u}function n(d,u,f,x){if(mt.isUndefined(u)){if(!mt.isUndefined(d))return r(void 0,d,f,x)}else return r(d,u,f,x)}function i(d,u){if(!mt.isUndefined(u))return r(void 0,u)}function l(d,u){if(mt.isUndefined(u)){if(!mt.isUndefined(d))return r(void 0,d)}else return r(void 0,u)}function o(d,u,f){if(f in t)return r(d,u);if(f in e)return r(void 0,d)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(d,u,f)=>n(EM(d),EM(u),f,!0)};return mt.forEach(Object.keys({...e,...t}),function(u){const f=c[u]||n,x=f(e[u],t[u],u);mt.isUndefined(x)&&f!==o||(a[u]=x)}),a}const vz=e=>{const t=cm({},e);let{data:a,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:i,headers:l,auth:o}=t;if(t.headers=l=ao.from(l),t.url=hz(gz(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),mt.isFormData(a)){if(ll.hasStandardBrowserEnv||ll.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(mt.isFunction(a.getHeaders)){const c=a.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,f])=>{d.includes(u.toLowerCase())&&l.set(u,f)})}}if(ll.hasStandardBrowserEnv&&(r&&mt.isFunction(r)&&(r=r(t)),r||r!==!1&&Lce(t.url))){const c=n&&i&&Oce.read(i);c&&l.set(n,c)}return t},Ice=typeof XMLHttpRequest<"u",Bce=Ice&&function(e){return new Promise(function(a,r){const n=vz(e);let i=n.data;const l=ao.from(n.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=n,u,f,x,p,v;function g(){p&&p(),v&&v(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(n.method.toUpperCase(),n.url,!0),b.timeout=n.timeout;function j(){if(!b)return;const S=ao.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),A={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:S,config:e,request:b};xz(function(M){a(M),g()},function(M){r(M),g()},A),b=null}"onloadend"in b?b.onloadend=j:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(j)},b.onabort=function(){b&&(r(new Ya("Request aborted",Ya.ECONNABORTED,e,b)),b=null)},b.onerror=function(k){const A=k&&k.message?k.message:"Network Error",_=new Ya(A,Ya.ERR_NETWORK,e,b);_.event=k||null,r(_),b=null},b.ontimeout=function(){let k=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const A=n.transitional||fz;n.timeoutErrorMessage&&(k=n.timeoutErrorMessage),r(new Ya(k,A.clarifyTimeoutError?Ya.ETIMEDOUT:Ya.ECONNABORTED,e,b)),b=null},i===void 0&&l.setContentType(null),"setRequestHeader"in b&&mt.forEach(l.toJSON(),function(k,A){b.setRequestHeader(A,k)}),mt.isUndefined(n.withCredentials)||(b.withCredentials=!!n.withCredentials),o&&o!=="json"&&(b.responseType=n.responseType),d&&([x,v]=aw(d,!0),b.addEventListener("progress",x)),c&&b.upload&&([f,p]=aw(c),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",p)),(n.cancelToken||n.signal)&&(u=S=>{b&&(r(!S||S.type?new Nx(null,e,b):S),b.abort(),b=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const N=Dce(n.url);if(N&&ll.protocols.indexOf(N)===-1){r(new Ya("Unsupported protocol "+N+":",Ya.ERR_BAD_REQUEST,e));return}b.send(i||null)})},$ce=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let r=new AbortController,n;const i=function(d){if(!n){n=!0,o();const u=d instanceof Error?d:this.reason;r.abort(u instanceof Ya?u:new Nx(u instanceof Error?u.message:u))}};let l=t&&setTimeout(()=>{l=null,i(new Ya(`timeout ${t} of ms exceeded`,Ya.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>mt.asap(o),c}},Uce=function*(e,t){let a=e.byteLength;if(a<t){yield e;return}let r=0,n;for(;r<a;)n=r+t,yield e.slice(r,n),r=n},zce=async function*(e,t){for await(const a of Hce(e))yield*Uce(a,t)},Hce=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:a,value:r}=await t.read();if(a)break;yield r}}finally{await t.cancel()}},DM=(e,t,a,r)=>{const n=zce(e,t);let i=0,l,o=c=>{l||(l=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await n.next();if(d){o(),c.close();return}let f=u.byteLength;if(a){let x=i+=f;a(x)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),n.return()}},{highWaterMark:2})},MM=64*1024,{isFunction:Ly}=mt,Vce=(({Request:e,Response:t})=>({Request:e,Response:t}))(mt.global),{ReadableStream:PM,TextEncoder:LM}=mt.global,OM=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Wce=e=>{e=mt.merge.call({skipUndefined:!0},Vce,e);const{fetch:t,Request:a,Response:r}=e,n=t?Ly(t):typeof fetch=="function",i=Ly(a),l=Ly(r);if(!n)return!1;const o=n&&Ly(PM),c=n&&(typeof LM=="function"?(v=>g=>v.encode(g))(new LM):async v=>new Uint8Array(await new a(v).arrayBuffer())),d=i&&o&&OM(()=>{let v=!1;const g=new a(ll.origin,{body:new PM,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!g}),u=l&&o&&OM(()=>mt.isReadableStream(new r("").body)),f={stream:u&&(v=>v.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!f[v]&&(f[v]=(g,b)=>{let j=g&&g[v];if(j)return j.call(g);throw new Ya(`Response type '${v}' is not supported`,Ya.ERR_NOT_SUPPORT,b)})});const x=async v=>{if(v==null)return 0;if(mt.isBlob(v))return v.size;if(mt.isSpecCompliantForm(v))return(await new a(ll.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(mt.isArrayBufferView(v)||mt.isArrayBuffer(v))return v.byteLength;if(mt.isURLSearchParams(v)&&(v=v+""),mt.isString(v))return(await c(v)).byteLength},p=async(v,g)=>{const b=mt.toFiniteNumber(v.getContentLength());return b??x(g)};return async v=>{let{url:g,method:b,data:j,signal:N,cancelToken:S,timeout:k,onDownloadProgress:A,onUploadProgress:_,responseType:M,headers:L,withCredentials:U="same-origin",fetchOptions:z}=vz(v),O=t||fetch;M=M?(M+"").toLowerCase():"text";let B=$ce([N,S&&S.toAbortSignal()],k),E=null;const R=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let q;try{if(_&&d&&b!=="get"&&b!=="head"&&(q=await p(L,j))!==0){let ce=new a(g,{method:"POST",body:j,duplex:"half"}),D;if(mt.isFormData(j)&&(D=ce.headers.get("content-type"))&&L.setContentType(D),ce.body){const[Q,H]=_M(q,aw(TM(_)));j=DM(ce.body,MM,Q,H)}}mt.isString(U)||(U=U?"include":"omit");const I=i&&"credentials"in a.prototype,G={...z,signal:B,method:b.toUpperCase(),headers:L.normalize().toJSON(),body:j,duplex:"half",credentials:I?U:void 0};E=i&&new a(g,G);let re=await(i?O(E,z):O(g,G));const te=u&&(M==="stream"||M==="response");if(u&&(A||te&&R)){const ce={};["status","statusText","headers"].forEach(J=>{ce[J]=re[J]});const D=mt.toFiniteNumber(re.headers.get("content-length")),[Q,H]=A&&_M(D,aw(TM(A),!0))||[];re=new r(DM(re.body,MM,Q,()=>{H&&H(),R&&R()}),ce)}M=M||"text";let X=await f[mt.findKey(f,M)||"text"](re,v);return!te&&R&&R(),await new Promise((ce,D)=>{xz(ce,D,{data:X,headers:ao.from(re.headers),status:re.status,statusText:re.statusText,config:v,request:E})})}catch(I){throw R&&R(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new Ya("Network Error",Ya.ERR_NETWORK,v,E),{cause:I.cause||I}):Ya.from(I,I&&I.code,v,E)}}},qce=new Map,bz=e=>{let t=e?e.env:{};const{fetch:a,Request:r,Response:n}=t,i=[r,n,a];let l=i.length,o=l,c,d,u=qce;for(;o--;)c=i[o],d=u.get(c),d===void 0&&u.set(c,d=o?new Map:Wce(t)),u=d;return d};bz();const zk={http:cce,xhr:Bce,fetch:{get:bz}};mt.forEach(zk,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const RM=e=>`- ${e}`,Gce=e=>mt.isFunction(e)||e===null||e===!1,yz={getAdapter:(e,t)=>{e=mt.isArray(e)?e:[e];const{length:a}=e;let r,n;const i={};for(let l=0;l<a;l++){r=e[l];let o;if(n=r,!Gce(r)&&(n=zk[(o=String(r)).toLowerCase()],n===void 0))throw new Ya(`Unknown adapter '${o}'`);if(n&&(mt.isFunction(n)||(n=n.get(t))))break;i[o||"#"+l]=n}if(!n){const l=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=a?l.length>1?`since :
`+l.map(RM).join(`
`):" "+RM(l[0]):"as no adapter specified";throw new Ya("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:zk};function k5(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Nx(null,e)}function FM(e){return k5(e),e.headers=ao.from(e.headers),e.data=S5.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),yz.getAdapter(e.adapter||$v.adapter,e)(e).then(function(r){return k5(e),r.data=S5.call(e,e.transformResponse,r),r.headers=ao.from(r.headers),r},function(r){return pz(r)||(k5(e),r&&r.response&&(r.response.data=S5.call(e,e.transformResponse,r.response),r.response.headers=ao.from(r.response.headers))),Promise.reject(r)})}const wz="1.12.2",Uj={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Uj[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const IM={};Uj.transitional=function(t,a,r){function n(i,l){return"[Axios v"+wz+"] Transitional option '"+i+"'"+l+(r?". "+r:"")}return(i,l,o)=>{if(t===!1)throw new Ya(n(l," has been removed"+(a?" in "+a:"")),Ya.ERR_DEPRECATED);return a&&!IM[l]&&(IM[l]=!0,console.warn(n(l," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(i,l,o):!0}};Uj.spelling=function(t){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Kce(e,t,a){if(typeof e!="object")throw new Ya("options must be an object",Ya.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let n=r.length;for(;n-- >0;){const i=r[n],l=t[i];if(l){const o=e[i],c=o===void 0||l(o,i,e);if(c!==!0)throw new Ya("option "+i+" must be "+c,Ya.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Ya("Unknown option "+i,Ya.ERR_BAD_OPTION)}}const M2={assertOptions:Kce,validators:Uj},Ud=M2.validators;let q0=class{constructor(t){this.defaults=t||{},this.interceptors={request:new CM,response:new CM}}async request(t,a){try{return await this._request(t,a)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=cm(this.defaults,a);const{transitional:r,paramsSerializer:n,headers:i}=a;r!==void 0&&M2.assertOptions(r,{silentJSONParsing:Ud.transitional(Ud.boolean),forcedJSONParsing:Ud.transitional(Ud.boolean),clarifyTimeoutError:Ud.transitional(Ud.boolean)},!1),n!=null&&(mt.isFunction(n)?a.paramsSerializer={serialize:n}:M2.assertOptions(n,{encode:Ud.function,serialize:Ud.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),M2.assertOptions(a,{baseUrl:Ud.spelling("baseURL"),withXsrfToken:Ud.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let l=i&&mt.merge(i.common,i[a.method]);i&&mt.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),a.headers=ao.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(a)===!1||(c=c&&g.synchronous,o.unshift(g.fulfilled,g.rejected))});const d=[];this.interceptors.response.forEach(function(g){d.push(g.fulfilled,g.rejected)});let u,f=0,x;if(!c){const v=[FM.bind(this),void 0];for(v.unshift(...o),v.push(...d),x=v.length,u=Promise.resolve(a);f<x;)u=u.then(v[f++],v[f++]);return u}x=o.length;let p=a;for(;f<x;){const v=o[f++],g=o[f++];try{p=v(p)}catch(b){g.call(this,b);break}}try{u=FM.call(this,p)}catch(v){return Promise.reject(v)}for(f=0,x=d.length;f<x;)u=u.then(d[f++],d[f++]);return u}getUri(t){t=cm(this.defaults,t);const a=gz(t.baseURL,t.url,t.allowAbsoluteUrls);return hz(a,t.params,t.paramsSerializer)}};mt.forEach(["delete","get","head","options"],function(t){q0.prototype[t]=function(a,r){return this.request(cm(r||{},{method:t,url:a,data:(r||{}).data}))}});mt.forEach(["post","put","patch"],function(t){function a(r){return function(i,l,o){return this.request(cm(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}q0.prototype[t]=a(),q0.prototype[t+"Form"]=a(!0)});let Yce=class jz{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(i){a=i});const r=this;this.promise.then(n=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](n);r._listeners=null}),this.promise.then=n=>{let i;const l=new Promise(o=>{r.subscribe(o),i=o}).then(n);return l.cancel=function(){r.unsubscribe(i)},l},t(function(i,l,o){r.reason||(r.reason=new Nx(i,l,o),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const t=new AbortController,a=r=>{t.abort(r)};return this.subscribe(a),t.signal.unsubscribe=()=>this.unsubscribe(a),t.signal}static source(){let t;return{token:new jz(function(n){t=n}),cancel:t}}};function Xce(e){return function(a){return e.apply(null,a)}}function Qce(e){return mt.isObject(e)&&e.isAxiosError===!0}const Hk={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hk).forEach(([e,t])=>{Hk[t]=e});function Nz(e){const t=new q0(e),a=ez(q0.prototype.request,t);return mt.extend(a,q0.prototype,t,{allOwnKeys:!0}),mt.extend(a,t,null,{allOwnKeys:!0}),a.create=function(n){return Nz(cm(e,n))},a}const kn=Nz($v);kn.Axios=q0;kn.CanceledError=Nx;kn.CancelToken=Yce;kn.isCancel=pz;kn.VERSION=wz;kn.toFormData=$j;kn.AxiosError=Ya;kn.Cancel=kn.CanceledError;kn.all=function(t){return Promise.all(t)};kn.spread=Xce;kn.isAxiosError=Qce;kn.mergeConfig=cm;kn.AxiosHeaders=ao;kn.formToJSON=e=>mz(mt.isHTMLForm(e)?new FormData(e):e);kn.getAdapter=yz.getAdapter;kn.HttpStatusCode=Hk;kn.default=kn;const{Axios:cze,AxiosError:dze,CanceledError:uze,isCancel:hze,CancelToken:fze,VERSION:mze,all:pze,Cancel:xze,isAxiosError:gze,spread:vze,toFormData:bze,AxiosHeaders:yze,HttpStatusCode:wze,formToJSON:jze,getAdapter:Nze,mergeConfig:Sze}=kn,Jce={},Zce=typeof import.meta<"u"&&Jce?"http://localhost:8787":"/",ga=kn.create({baseURL:Zce});ga.interceptors.request.use(e=>{try{const t=window.localStorage.getItem("token");t&&(e.headers=e.headers||{},e.headers.Authorization=`Bearer ${t}`)}catch{}return e});ga.interceptors.response.use(e=>e,e=>{try{if(e?.response?.status===401){window.localStorage.removeItem("token");const a=new CustomEvent("app:toast",{detail:{type:"error",message:"Authentication required"}});window.dispatchEvent(a),typeof window<"u"&&(window.location.hash="#/login")}else{const a=e?.response?.data?.message||e?.message||"Request failed",r=new CustomEvent("app:toast",{detail:{type:"error",message:a}});window.dispatchEvent(r)}}catch{}return Promise.reject(e)});function ede(e,t,a){return t.startsWith("/api/users")?e==="GET"?/\/api\/users\/.+/.test(t)?{id:1,name:"Demo User",email:"demo@example.com",role:"admin"}:[{id:1,name:"Demo User",role:"admin"},{id:2,name:"Agent 1",role:"agent"}]:{ok:!0}:t.startsWith("/api/customers")?e==="GET"?/\/api\/customers\/.+/.test(t)?{id:101,name:"Acme Corp",phone:"+201234567890"}:[{id:101,name:"Acme Corp",phone:"+201234567890"},{id:102,name:"Globex",phone:"+201112223334"}]:{ok:!0}:t.startsWith("/api/visits")?e==="GET"?/\/api\/visits\/.+/.test(t)?{id:201,customerId:101,date:"2025-01-01",notes:"Site visit"}:[{id:201,customerId:101,date:"2025-01-01",notes:"Site visit"},{id:202,customerId:102,date:"2025-01-02",notes:"Follow-up"}]:{ok:!0}:t.startsWith("/api/tasks")?e==="GET"?/\/api\/tasks\/.+/.test(t)?{id:301,title:"Call customer",status:"open",assigneeId:1}:[{id:301,title:"Call customer",status:"open",assigneeId:1},{id:302,title:"Prepare quotation",status:"in_progress",assigneeId:2}]:{ok:!0}:t.startsWith("/api/reports")?{summary:{leads:120,deals:35,revenue:25e4},activities:[{id:1,action:"login",user:"Demo User"}]}:t.startsWith("/api/login")?{token:"demo-token"}:t.startsWith("/api/company-info")?{user:{id:1,name:"Demo User",role:"admin"},company:{id:1,name:"Demo Company"},activeModules:["leads","campaigns","settings"],subscription:{status:"active"}}:{ok:!0}}{const e=t=>async(a,r)=>({data:ede(t,a)});ga.get=e("GET"),ga.post=e("POST"),ga.put=e("PUT"),ga.delete=e("DELETE")}const tde=async(e,t)=>{const a=await ga.post("/api/login",{email:e,password:t}),r=a?.data?.data?.token||a?.data?.token;r&&window.localStorage.setItem("token",r);const n=new CustomEvent("app:toast",{detail:{type:"success",message:"Logged in"}});return window.dispatchEvent(n),r},ade=async()=>{try{await ga.post("/api/logout")}catch{}window.localStorage.removeItem("token");const e=new CustomEvent("app:toast",{detail:{type:"success",message:"Logged out"}});window.dispatchEvent(e)},rde=async()=>{const e=await ga.get("/api/company-info");return e?.data?.data||e?.data};function sde(){try{const e=typeof navigator<"u"?navigator:{},t=typeof screen<"u"?screen:{},a=[e.userAgent||"-",e.platform||"-",e.language||"-",(t.width||"-")+"x"+(t.height||"-")].join("|");let r=0;for(let n=0;n<a.length;n++)r=(r<<5)-r+a.charCodeAt(n),r|=0;return"dev-"+Math.abs(r).toString(36)}catch{return"dev-unknown"}}function nde(){const e=typeof navigator<"u"&&navigator.userAgent||"";return/iPhone|iPad|iPod/i.test(e)?"iOS Device":/Android/i.test(e)?"Android Device":/Macintosh/i.test(e)?"Mac":/Windows/i.test(e)?"Windows PC":/Linux/i.test(e)?"Linux PC":"Unknown Device"}function ide(){const e=typeof navigator<"u"&&navigator.userAgent||"";return/Chrome\//i.test(e)&&!/Edg\//i.test(e)?"Chrome":/Safari\//i.test(e)&&!/Chrome\//i.test(e)?"Safari":/Edg\//i.test(e)?"Edge":/Firefox\//i.test(e)?"Firefox":"Unknown"}function lde(){const e=sde(),t=nde(),a=ide(),r=typeof navigator<"u"&&navigator.platform||"unknown",n=typeof navigator<"u"&&navigator.userAgent||"",i=typeof screen<"u"?`${screen.width||"-"}x${screen.height||"-"}`:"-";return{deviceId:e,device:t,browser:a,platform:r,userAgent:n,resolution:i,ip:"N/A",at:new Date().toISOString()}}function ode(e){try{const t=window.localStorage.getItem(`user_devices_${e}`);return t?JSON.parse(t):[]}catch{return[]}}function cde(e,t){if(!(!e||!t))try{const a=`user_devices_${e}`,r=ode(e),i=r.some(l=>l.deviceId===t.deviceId)?r.map(l=>l.deviceId===t.deviceId?{...t}:l):[t,...r];window.localStorage.setItem(a,JSON.stringify(i))}catch{}}const Sz=w.createContext(null);function dde({children:e}){const[t,a]=w.useState({id:1,name:"Demo User",role:"admin"}),[r,n]=w.useState({id:1,name:"Demo Company"}),[i,l]=w.useState({status:"active",end_date:null}),[o,c]=w.useState(["leads","campaigns","settings"]),[d,u]=w.useState(!0),f=w.useMemo(()=>{if(!i||String(i.status||"").toLowerCase()!=="active")return!1;const N=i.end_date?new Date(i.end_date):null;return N?N.getTime()>=Date.now():!0},[i]),x=w.useCallback(j=>{j&&(a(j.user||{id:1,name:"Demo User",role:"admin"}),n(j.company||{id:1,name:"Demo Company"}),l(j.subscription||{status:"active",end_date:null}),c(Array.isArray(j.activeModules)?j.activeModules:["leads","campaigns","settings"]))},[]),p=w.useCallback(async()=>{const j=await rde();return x(j),j},[x]),v=w.useCallback(async(j,N)=>{const S=await tde(j,N),k=await p();try{const A=k?.user?.id||j,_=lde();cde(A,_)}catch{}return S},[p]),g=w.useCallback(j=>j?o.includes(j):!1,[o]),b=w.useMemo(()=>({user:t,company:r,subscription:i,activeModules:o,isSubscriptionActive:f,setProfile:x,fetchCompanyInfo:p,login:v,canAccess:g,bootstrapped:d}),[t,r,i,o,f,x,p,v,g]);return w.useEffect(()=>{u(!0)},[]),s.jsx(Sz.Provider,{value:b,children:e})}function zj(){const e=w.useContext(Sz);if(!e)throw new Error("useAppState must be used within AppStateProvider");return e}function ude(){const e=ti(),{login:t}=zj(),[a,r]=w.useState(""),[n,i]=w.useState(""),[l,o]=w.useState(null),[c,d]=w.useState(!1),u=async f=>{f.preventDefault(),o(null),d(!0);try{const x=(a||"").trim(),p=(n||"").trim();await t(x,p),e("/dashboard")}catch{o("Invalid credentials")}finally{d(!1)}};return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-sky-200 via-cyan-200 to-teal-300 dark:from-slate-900 dark:via-cyan-900/80 dark:to-teal-900 p-4",children:s.jsxs("form",{onSubmit:u,className:"w-full max-w-sm p-8 rounded-3xl bg-white/30 dark:bg-gray-800/30 backdrop-blur-md border border-white/40 shadow-lg space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4 text-center",children:"Login"}),s.jsx("input",{type:"email",value:a,onChange:f=>r(f.target.value),placeholder:"Email",required:!0,autoFocus:!0,className:"w-full p-3 rounded-xl border border-gray-300 dark:border-gray-700 bg-white/60 dark:bg-gray-700/50 text-gray-900 dark:text-white placeholder-gray-600 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-400"}),s.jsx("input",{type:"password",value:n,onChange:f=>i(f.target.value),placeholder:"Password",required:!0,className:"w-full p-3 rounded-xl border border-gray-300 dark:border-gray-700 bg-white/60 dark:bg-gray-700/50 text-gray-900 dark:text-white placeholder-gray-600 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-400"}),s.jsx("button",{type:"submit",disabled:c,className:"w-full p-3 rounded-xl bg-cyan-500 text-white font-semibold shadow-md hover:bg-cyan-600 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all",children:c?"Loading":"Login"}),l&&s.jsx("p",{className:"text-red-600 text-sm text-center",children:l})]})})}const C5={name:"",phone:"",email:"",type:"Individual",country:"",city:"",addressLine:"",companyName:"",taxNumber:"",contacts:[],tags:[],notes:"",assignedSalesRep:""},BM=[{id:"CUST-001",name:" ",phone:"+201234567890",email:"ahmed@example.com",type:"Individual",country:"Egypt",city:"Cairo",addressLine:"Nasr City",companyName:"",taxNumber:"",contacts:[],tags:["VIP","Hot"],notes:"   ",assignedSalesRep:"Ibrahim",createdAt:new Date(Date.now()-864e5).toISOString()},{id:"CUST-002",name:"Techno LLC",phone:"+971555123456",email:"sales@techno.com",type:"Company",country:"UAE",city:"Dubai",addressLine:"Business Bay",companyName:"Techno LLC",taxNumber:"TRN-12345",contacts:[{name:"Sara Ali",phone:"+971555234567",email:"sara@techno.com"}],tags:["B2B"],notes:"    ",assignedSalesRep:"Adam",createdAt:new Date(Date.now()-36e5).toISOString()},{id:"CUST-003",name:"John Doe",phone:"+12025550123",email:"john.doe@example.com",type:"Individual",country:"USA",city:"New York",addressLine:"5th Avenue",companyName:"",taxNumber:"",contacts:[],tags:["Priority"],notes:"  ",assignedSalesRep:"Noura",createdAt:new Date().toISOString()}],hde=()=>{const[e,t]=w.useState([]),[a,r]=w.useState(!1),[n,i]=w.useState(""),[l,o]=w.useState(C5),[c,d]=w.useState(null),[u,f]=w.useState(!1),[x,p]=w.useState(""),[v,g]=w.useState(""),[b,j]=w.useState(""),[N,S]=w.useState(""),[k,A]=w.useState(""),_=async()=>{try{r(!0),i("");const{data:q}=await ga.get("/api/customers",{params:{q:x,type:v||void 0,assignedSalesRep:b||void 0,dateFrom:N||void 0,dateTo:k||void 0,limit:50}}),I=q?.data?.items||[];t(Array.isArray(I)&&I.length>0?I:BM)}catch{i("Failed to load customers"),t(BM)}finally{r(!1)}};w.useEffect(()=>{_()},[]),w.useEffect(()=>{const q=setTimeout(()=>{_()},300);return()=>clearTimeout(q)},[x,v,b,N,k]);const M=()=>{o(C5),d(null),f(!1)},L=async q=>{q?.preventDefault?.();try{r(!0),i("");const I={...l,tags:Array.isArray(l.tags)?l.tags:String(l.tags||"").split(",").map(G=>G.trim()).filter(Boolean),contacts:Array.isArray(l.contacts)?l.contacts:[]};c?await ga.put(`/api/customers/${c}`,I):await ga.post("/api/customers",I),await _(),M()}catch{i("Failed to save customer")}finally{r(!1)}},U=q=>{d(q.id),o({name:q.name||"",phone:q.phone||"",email:q.email||"",type:q.type||"Individual",country:q.country||"",city:q.city||"",addressLine:q.addressLine||"",companyName:q.companyName||"",taxNumber:q.taxNumber||"",contacts:q.contacts||[],tags:q.tags||[],notes:q.notes||"",assignedSalesRep:q.assignedSalesRep||q.assignedTo||""}),f(!0)},z=async q=>{try{r(!0),await ga.delete(`/api/customers/${q}`),await _()}catch{i("Failed to delete customer")}finally{r(!1)}},O=async q=>{try{r(!0),await ga.post(`/api/customers/${q}/restore`),await _()}catch{i("Failed to restore customer")}finally{r(!1)}},B=()=>{o(q=>({...q,contacts:[...q.contacts||[],{name:"",phone:"",email:""}]}))},E=(q,I,G)=>{o(re=>{const te=[...re.contacts||[]];return te[q]={...te[q],[I]:G},{...re,contacts:te}})},R=q=>{o(I=>{const G=[...I.contacts||[]];return G.splice(q,1),{...I,contacts:G}})};return s.jsxs("div",{className:"space-y-4 bg-[var(--content-bg)] text-[var(--content-text)] overflow-x-hidden overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Customers"}),s.jsx("div",{children:s.jsx("button",{className:"btn btn-primary",onClick:()=>{f(!0),d(null),o(C5)},children:"Add Customer"})})]}),s.jsxs("section",{className:"nova-card glass-neon p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[s.jsx("input",{className:"input w-full min-w-0",placeholder:"Search name/phone/email",value:x,onChange:q=>p(q.target.value)}),s.jsxs("select",{className:"input w-full min-w-0",value:v,onChange:q=>g(q.target.value),children:[s.jsx("option",{value:"",children:"All Types"}),s.jsx("option",{value:"Individual",children:"Individual"}),s.jsx("option",{value:"Company",children:"Company"})]}),s.jsx("input",{className:"input w-full min-w-0",placeholder:"Assigned Sales Rep",value:b,onChange:q=>j(q.target.value)}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("input",{type:"date",className:"input w-full min-w-0",value:N,onChange:q=>S(q.target.value)}),s.jsx("input",{type:"date",className:"input w-full min-w-0",value:k,onChange:q=>A(q.target.value)})]})]}),s.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:s.jsx("button",{className:"btn",onClick:()=>{p(""),g(""),j(""),S(""),A(""),_()},children:"Reset"})})]}),u&&s.jsx("section",{className:"nova-card glass-neon p-4",children:s.jsxs("form",{onSubmit:L,className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Customer Name *"}),s.jsx("input",{className:"input",value:l.name,onChange:q=>o({...l,name:q.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Phone *"}),s.jsx("input",{className:"input",value:l.phone,onChange:q=>o({...l,phone:q.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Email"}),s.jsx("input",{className:"input",value:l.email,onChange:q=>o({...l,email:q.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Customer Type"}),s.jsxs("select",{className:"input",value:l.type,onChange:q=>o({...l,type:q.target.value}),children:[s.jsx("option",{children:"Individual"}),s.jsx("option",{children:"Company"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Country"}),s.jsx("input",{className:"input",value:l.country,onChange:q=>o({...l,country:q.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"City"}),s.jsx("input",{className:"input",value:l.city,onChange:q=>o({...l,city:q.target.value})})]}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("label",{className:"label",children:"Address Line"}),s.jsx("input",{className:"input",value:l.addressLine,onChange:q=>o({...l,addressLine:q.target.value})})]}),l.type==="Company"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Company Name *"}),s.jsx("input",{className:"input",value:l.companyName,onChange:q=>o({...l,companyName:q.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Tax Number"}),s.jsx("input",{className:"input",value:l.taxNumber,onChange:q=>o({...l,taxNumber:q.target.value})})]}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"label",children:"Contacts"}),s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:B,children:"Add Contact"})]}),(l.contacts||[]).length===0&&s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"No contacts"}),(l.contacts||[]).map((q,I)=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 mb-2",children:[s.jsx("input",{className:"input",placeholder:"Contact Name",value:q.name,onChange:G=>E(I,"name",G.target.value)}),s.jsx("input",{className:"input",placeholder:"Contact Phone",value:q.phone,onChange:G=>E(I,"phone",G.target.value)}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{className:"input",placeholder:"Contact Email",value:q.email,onChange:G=>E(I,"email",G.target.value)}),s.jsx("button",{type:"button",className:"btn",onClick:()=>R(I),children:"Remove"})]})]},I))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Tags (comma-separated)"}),s.jsx("input",{className:"input",value:Array.isArray(l.tags)?l.tags.join(", "):l.tags,onChange:q=>o({...l,tags:q.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Assigned Sales Rep"}),s.jsx("input",{className:"input",value:l.assignedSalesRep,onChange:q=>o({...l,assignedSalesRep:q.target.value})})]}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("label",{className:"label",children:"Notes"}),s.jsx("textarea",{className:"input",rows:3,value:l.notes,onChange:q=>o({...l,notes:q.target.value})})]}),s.jsxs("div",{className:"lg:col-span-2 flex gap-2",children:[s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a,children:c?"Save Changes":"Create Customer"}),s.jsx("button",{type:"button",className:"btn",onClick:M,children:"Cancel"})]}),n&&s.jsx("div",{className:"lg:col-span-2 text-red-500 text-sm",children:n})]})}),s.jsx("section",{className:"nova-card glass-neon p-4",children:s.jsx("div",{className:"overflow-auto -mx-4",children:s.jsxs("table",{className:"nova-table w-full text-sm min-w-[1000px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left bg-[var(--table-header-bg)]",children:[s.jsx("th",{className:"py-2 px-3",children:"Name"}),s.jsx("th",{className:"py-2 px-3",children:"Type"}),s.jsx("th",{className:"py-2 px-3",children:"Contact"}),s.jsx("th",{className:"py-2 px-3",children:"Company"}),s.jsx("th",{className:"py-2 px-3",children:"Tags"}),s.jsx("th",{className:"py-2 px-3",children:"Assigned Rep"}),s.jsx("th",{className:"py-2 px-3",children:"Created"}),s.jsx("th",{className:"py-2 px-3",children:"Actions"})]})}),s.jsxs("tbody",{children:[a&&s.jsx("tr",{children:s.jsx("td",{className:"py-3 px-3",colSpan:8,children:"Loading..."})}),!a&&e.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"py-3 px-3",colSpan:8,children:"No customers"})}),!a&&e.map(q=>s.jsxs("tr",{className:"border-t border-[var(--table-row-border)] odd:bg-[var(--table-row-bg)]",children:[s.jsxs("td",{className:"py-2 px-3",children:[s.jsx("div",{className:"font-medium",children:q.name}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:q.email}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:q.phone})]}),s.jsx("td",{className:"py-2 px-3",children:q.type||""}),s.jsx("td",{className:"py-2 px-3",children:Array.isArray(q.contacts)&&q.contacts.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-xs",children:q.contacts[0].name}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:q.contacts[0].phone}),q.contacts[0].email&&s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:q.contacts[0].email})]}):q.email||q.phone?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-xs",children:q.email||""}),q.phone&&s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:q.phone})]}):q.city?`${q.city}, ${q.country}`:q.country||""}),s.jsx("td",{className:"py-2 px-3",children:q.companyName||""}),s.jsx("td",{className:"py-2 px-3",children:Array.isArray(q.tags)?q.tags.join(", "):""}),s.jsx("td",{className:"py-2 px-3",children:q.assignedSalesRep||q.assignedTo||""}),s.jsx("td",{className:"py-2 px-3 text-xs",children:new Date(q.createdAt).toLocaleString()}),s.jsx("td",{className:"py-2 px-3",children:s.jsxs("div",{className:"flex gap-2",children:[!q.deletedAt&&s.jsx("button",{className:"btn btn-secondary",onClick:()=>U(q),children:"Edit"}),!q.deletedAt&&s.jsx("button",{className:"btn",onClick:()=>z(q.id),children:"Delete"}),q.deletedAt&&s.jsx("button",{className:"btn btn-secondary",onClick:()=>O(q.id),children:"Restore"})]})})]},q.id))]})]})})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var rw={};rw.version="0.18.5";var kz=1252,fde=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],pA={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},xA=function(e){fde.indexOf(e)!=-1&&(kz=pA[0]=e)};function mde(){xA(1252)}var id=function(e){xA(e)};function gA(){id(1200),mde()}function $M(e){for(var t=[],a=0,r=e.length;a<r;++a)t[a]=e.charCodeAt(a);return t}function pde(e){for(var t=[],a=0;a<e.length>>1;++a)t[a]=String.fromCharCode(e.charCodeAt(2*a)+(e.charCodeAt(2*a+1)<<8));return t.join("")}function Cz(e){for(var t=[],a=0;a<e.length>>1;++a)t[a]=String.fromCharCode(e.charCodeAt(2*a+1)+(e.charCodeAt(2*a)<<8));return t.join("")}var r1=function(e){var t=e.charCodeAt(0),a=e.charCodeAt(1);return t==255&&a==254?pde(e.slice(2)):t==254&&a==255?Cz(e.slice(2)):t==65279?e.slice(1):e},Oy=function(t){return String.fromCharCode(t)},UM=function(t){return String.fromCharCode(t)},q1,jf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function G1(e){for(var t="",a=0,r=0,n=0,i=0,l=0,o=0,c=0,d=0;d<e.length;)a=e.charCodeAt(d++),i=a>>2,r=e.charCodeAt(d++),l=(a&3)<<4|r>>4,n=e.charCodeAt(d++),o=(r&15)<<2|n>>6,c=n&63,isNaN(r)?o=c=64:isNaN(n)&&(c=64),t+=jf.charAt(i)+jf.charAt(l)+jf.charAt(o)+jf.charAt(c);return t}function Oo(e){var t="",a=0,r=0,n=0,i=0,l=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=jf.indexOf(e.charAt(d++)),l=jf.indexOf(e.charAt(d++)),a=i<<2|l>>4,t+=String.fromCharCode(a),o=jf.indexOf(e.charAt(d++)),r=(l&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(r)),c=jf.indexOf(e.charAt(d++)),n=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(n));return t}var ar=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),yh=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,a){return a?new Buffer(t,a):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Df(e){return ar?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function zM(e){return ar?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Eo=function(t){return ar?yh(t,"binary"):t.split("").map(function(a){return a.charCodeAt(0)&255})};function Hj(e){if(typeof ArrayBuffer>"u")return Eo(e);for(var t=new ArrayBuffer(e.length),a=new Uint8Array(t),r=0;r!=e.length;++r)a[r]=e.charCodeAt(r)&255;return t}function Hf(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],a=0;a<e.length;++a)t[a]=String.fromCharCode(e[a]);return t.join("")}function xde(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function vA(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return vA(new Uint8Array(e));for(var t=new Array(e.length),a=0;a<e.length;++a)t[a]=e[a];return t}var wi=ar?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:yh(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,a=0;for(t=0;t<e.length;++t)a+=e[t].length;var r=new Uint8Array(a),n=0;for(t=0,a=0;t<e.length;a+=n,++t)if(n=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],a);else{if(typeof e[t]=="string")throw"wtf";r.set(new Uint8Array(e[t]),a)}return r}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function gde(e){for(var t=[],a=0,r=e.length+250,n=Df(e.length+255),i=0;i<e.length;++i){var l=e.charCodeAt(i);if(l<128)n[a++]=l;else if(l<2048)n[a++]=192|l>>6&31,n[a++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var o=e.charCodeAt(++i)&1023;n[a++]=240|l>>8&7,n[a++]=128|l>>2&63,n[a++]=128|o>>6&15|(l&3)<<4,n[a++]=128|o&63}else n[a++]=224|l>>12&15,n[a++]=128|l>>6&63,n[a++]=128|l&63;a>r&&(t.push(n.slice(0,a)),a=0,n=Df(65535),r=65530)}return t.push(n.slice(0,a)),wi(t)}var Pl=/\u0000/g,s1=/[\u0001-\u0006]/g;function qp(e){for(var t="",a=e.length-1;a>=0;)t+=e.charAt(a--);return t}function ld(e,t){var a=""+e;return a.length>=t?a:Js("0",t-a.length)+a}function bA(e,t){var a=""+e;return a.length>=t?a:Js(" ",t-a.length)+a}function sw(e,t){var a=""+e;return a.length>=t?a:a+Js(" ",t-a.length)}function vde(e,t){var a=""+Math.round(e);return a.length>=t?a:Js("0",t-a.length)+a}function bde(e,t){var a=""+e;return a.length>=t?a:Js("0",t-a.length)+a}var HM=Math.pow(2,32);function kp(e,t){if(e>HM||e<-HM)return vde(e,t);var a=Math.round(e);return bde(a,t)}function nw(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var VM=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],A5=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function yde(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Ca={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},WM={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},wde={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function iw(e,t,a){for(var r=e<0?-1:1,n=e*r,i=0,l=1,o=0,c=1,d=0,u=0,f=Math.floor(n);d<t&&(f=Math.floor(n),o=f*l+i,u=f*d+c,!(n-f<5e-8));)n=1/(n-f),i=l,l=o,c=d,d=u;if(u>t&&(d>t?(u=c,o=i):(u=d,o=l)),!a)return[0,r*o,u];var x=Math.floor(r*o/u);return[x,r*o-x*u,u]}function R0(e,t,a){if(e>2958465||e<0)return null;var r=e|0,n=Math.floor(86400*(e-r)),i=0,l=[],o={D:r,T:n,u:86400*(e-r)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++n==86400&&(o.T=n=0,++r,++o.D)),r===60)l=a?[1317,10,29]:[1900,2,29],i=3;else if(r===0)l=a?[1317,8,29]:[1900,1,0],i=6;else{r>60&&--r;var c=new Date(1900,0,1);c.setDate(c.getDate()+r-1),l=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),r<60&&(i=(i+6)%7),a&&(i=Ade(c,l))}return o.y=l[0],o.m=l[1],o.d=l[2],o.S=n%60,n=Math.floor(n/60),o.M=n%60,n=Math.floor(n/60),o.H=n,o.q=i,o}var Az=new Date(1899,11,31,0,0,0),jde=Az.getTime(),Nde=new Date(1900,2,1,0,0,0);function _z(e,t){var a=e.getTime();return t?a-=1461*24*60*60*1e3:e>=Nde&&(a+=1440*60*1e3),(a-(jde+(e.getTimezoneOffset()-Az.getTimezoneOffset())*6e4))/(1440*60*1e3)}function yA(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Sde(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function kde(e){var t=e<0?12:11,a=yA(e.toFixed(12));return a.length<=t||(a=e.toPrecision(10),a.length<=t)?a:e.toExponential(5)}function Cde(e){var t=yA(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function K1(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),a;return t>=-4&&t<=-1?a=e.toPrecision(10+t):Math.abs(t)<=9?a=kde(e):t===10?a=e.toFixed(10).substr(0,12):a=Cde(e),yA(Sde(a.toUpperCase()))}function dm(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):K1(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return yc(14,_z(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Ade(e,t){t[0]-=581;var a=e.getDay();return e<60&&(a=(a+6)%7),a}function _de(e,t,a,r){var n="",i=0,l=0,o=a.y,c,d=0;switch(e){case 98:o=a.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,d=2;break;default:c=o%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=a.m,d=t.length;break;case 3:return A5[a.m-1][1];case 5:return A5[a.m-1][0];default:return A5[a.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=a.d,d=t.length;break;case 3:return VM[a.q][0];default:return VM[a.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(a.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=a.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=a.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return a.u===0&&(t=="s"||t=="ss")?ld(a.S,t.length):(r>=2?l=r===3?1e3:100:l=r===1?10:1,i=Math.round(l*(a.S+a.u)),i>=60*l&&(i=0),t==="s"?i===0?"0":""+i/l:(n=ld(i,2+r),t==="ss"?n.substr(0,2):"."+n.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=a.D*24+a.H;break;case"[m]":case"[mm]":c=(a.D*24+a.H)*60+a.M;break;case"[s]":case"[ss]":c=((a.D*24+a.H)*60+a.M)*60+Math.round(a.S+a.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=o,d=1;break}var u=d>0?ld(c,d):"";return u}function Nf(e){var t=3;if(e.length<=t)return e;for(var a=e.length%t,r=e.substr(0,a);a!=e.length;a+=t)r+=(r.length>0?",":"")+e.substr(a,t);return r}var Tz=/%/g;function Tde(e,t,a){var r=t.replace(Tz,""),n=t.length-r.length;return ah(e,r,a*Math.pow(10,2*n))+Js("%",n)}function Ede(e,t,a){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return ah(e,t.substr(0,r),a/Math.pow(10,3*(t.length-r)))}function Ez(e,t){var a,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Ez(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),a=(t/Math.pow(10,i)).toPrecision(r+1+(n+i)%n),a.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(a.indexOf(".")===-1?a=a.charAt(0)+"."+a.substr(1)+"E+"+(l-a.length+i):a+="E+"+(l-i);a.substr(0,2)==="0.";)a=a.charAt(0)+a.substr(2,n)+"."+a.substr(2+n),a=a.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,d,u){return c+d+u.substr(0,(n+i)%n)+"."+u.substr(i)+"E"})}else a=t.toExponential(r);return e.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),e.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}var Dz=/# (\?+)( ?)\/( ?)(\d+)/;function Dde(e,t,a){var r=parseInt(e[4],10),n=Math.round(t*r),i=Math.floor(n/r),l=n-i*r,o=r;return a+(i===0?"":""+i)+" "+(l===0?Js(" ",e[1].length+1+e[4].length):bA(l,e[1].length)+e[2]+"/"+e[3]+ld(o,e[4].length))}function Mde(e,t,a){return a+(t===0?"":""+t)+Js(" ",e[1].length+2+e[4].length)}var Mz=/^#*0*\.([0#]+)/,Pz=/\).*[0#]/,Lz=/\(###\) ###\\?-####/;function Cl(e){for(var t="",a,r=0;r!=e.length;++r)switch(a=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(a)}return t}function qM(e,t){var a=Math.pow(10,t);return""+Math.round(e*a)/a}function GM(e,t){var a=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(a*r)).length?0:Math.round(a*r)}function Pde(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Lde(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function lc(e,t,a){if(e.charCodeAt(0)===40&&!t.match(Pz)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?lc("n",r,a):"("+lc("n",r,-a)+")"}if(t.charCodeAt(t.length-1)===44)return Ede(e,t,a);if(t.indexOf("%")!==-1)return Tde(e,t,a);if(t.indexOf("E")!==-1)return Ez(t,a);if(t.charCodeAt(0)===36)return"$"+lc(e,t.substr(t.charAt(1)==" "?2:1),a);var n,i,l,o,c=Math.abs(a),d=a<0?"-":"";if(t.match(/^00+$/))return d+kp(c,t.length);if(t.match(/^[#?]+$/))return n=kp(a,0),n==="0"&&(n=""),n.length>t.length?n:Cl(t.substr(0,t.length-n.length))+n;if(i=t.match(Dz))return Dde(i,c,d);if(t.match(/^#+0+$/))return d+kp(c,t.length-t.indexOf("0"));if(i=t.match(Mz))return n=qM(a,i[1].length).replace(/^([^\.]+)$/,"$1."+Cl(i[1])).replace(/\.$/,"."+Cl(i[1])).replace(/\.(\d*)$/,function(v,g){return"."+g+Js("0",Cl(i[1]).length-g.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+qM(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Nf(kp(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+lc(e,t,-a):Nf(""+(Math.floor(a)+Pde(a,i[1].length)))+"."+ld(GM(a,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return lc(e,t.replace(/^#,#*,/,""),a);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=qp(lc(e,t.replace(/[\\-]/g,""),a)),l=0,qp(qp(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return l<n.length?n.charAt(l++):v==="0"?"0":""}));if(t.match(Lz))return n=lc(e,"##########",a),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=iw(c,Math.pow(10,l)-1,!1),n=""+d,u=ah("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+i[2]+"/"+i[3],u=sw(o[2],l),u.length<i[4].length&&(u=Cl(i[4].substr(i[4].length-u.length))+u),n+=u,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=iw(c,Math.pow(10,l)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?bA(o[1],l)+i[2]+"/"+i[3]+sw(o[2],l):Js(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=kp(a,0),t.length<=n.length?n:Cl(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){n=""+a.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var f=t.indexOf(".")-l,x=t.length-n.length-f;return Cl(t.substr(0,f)+n+t.substr(t.length-x))}if(i=t.match(/^00,000\.([#0]*0)$/))return l=GM(a,i[1].length),a<0?"-"+lc(e,t,-a):Nf(Lde(a)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?ld(0,3-v.length):"")+v})+"."+ld(l,i[1].length);switch(t){case"###,##0.00":return lc(e,"#,##0.00",a);case"###,###":case"##,###":case"#,###":var p=Nf(kp(c,0));return p!=="0"?d+p:"";case"###,###.00":return lc(e,"###,##0.00",a).replace(/^0\./,".");case"#,###.00":return lc(e,"#,##0.00",a).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Ode(e,t,a){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return ah(e,t.substr(0,r),a/Math.pow(10,3*(t.length-r)))}function Rde(e,t,a){var r=t.replace(Tz,""),n=t.length-r.length;return ah(e,r,a*Math.pow(10,2*n))+Js("%",n)}function Oz(e,t){var a,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Oz(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),a=(t/Math.pow(10,i)).toPrecision(r+1+(n+i)%n),!a.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);a.indexOf(".")===-1?a=a.charAt(0)+"."+a.substr(1)+"E+"+(l-a.length+i):a+="E+"+(l-i),a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,d,u){return c+d+u.substr(0,(n+i)%n)+"."+u.substr(i)+"E"})}else a=t.toExponential(r);return e.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),e.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}function Wd(e,t,a){if(e.charCodeAt(0)===40&&!t.match(Pz)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?Wd("n",r,a):"("+Wd("n",r,-a)+")"}if(t.charCodeAt(t.length-1)===44)return Ode(e,t,a);if(t.indexOf("%")!==-1)return Rde(e,t,a);if(t.indexOf("E")!==-1)return Oz(t,a);if(t.charCodeAt(0)===36)return"$"+Wd(e,t.substr(t.charAt(1)==" "?2:1),a);var n,i,l,o,c=Math.abs(a),d=a<0?"-":"";if(t.match(/^00+$/))return d+ld(c,t.length);if(t.match(/^[#?]+$/))return n=""+a,a===0&&(n=""),n.length>t.length?n:Cl(t.substr(0,t.length-n.length))+n;if(i=t.match(Dz))return Mde(i,c,d);if(t.match(/^#+0+$/))return d+ld(c,t.length-t.indexOf("0"));if(i=t.match(Mz))return n=(""+a).replace(/^([^\.]+)$/,"$1."+Cl(i[1])).replace(/\.$/,"."+Cl(i[1])),n=n.replace(/\.(\d*)$/,function(v,g){return"."+g+Js("0",Cl(i[1]).length-g.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Nf(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+Wd(e,t,-a):Nf(""+a)+"."+Js("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Wd(e,t.replace(/^#,#*,/,""),a);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=qp(Wd(e,t.replace(/[\\-]/g,""),a)),l=0,qp(qp(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return l<n.length?n.charAt(l++):v==="0"?"0":""}));if(t.match(Lz))return n=Wd(e,"##########",a),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=iw(c,Math.pow(10,l)-1,!1),n=""+d,u=ah("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+i[2]+"/"+i[3],u=sw(o[2],l),u.length<i[4].length&&(u=Cl(i[4].substr(i[4].length-u.length))+u),n+=u,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=iw(c,Math.pow(10,l)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?bA(o[1],l)+i[2]+"/"+i[3]+sw(o[2],l):Js(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=""+a,t.length<=n.length?n:Cl(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0]+)\.([#0]+)$/)){n=""+a.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var f=t.indexOf(".")-l,x=t.length-n.length-f;return Cl(t.substr(0,f)+n+t.substr(t.length-x))}if(i=t.match(/^00,000\.([#0]*0)$/))return a<0?"-"+Wd(e,t,-a):Nf(""+a).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?ld(0,3-v.length):"")+v})+"."+ld(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=Nf(""+c);return p!=="0"?d+p:"";default:if(t.match(/\.[0#?]*$/))return Wd(e,t.slice(0,t.lastIndexOf(".")),a)+Cl(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ah(e,t,a){return(a|0)===a?Wd(e,t,a):lc(e,t,a)}function Fde(e){for(var t=[],a=!1,r=0,n=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:a=!a;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(n,r-n),n=r+1}if(t[t.length]=e.substr(n),a===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Rz=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Sx(e){for(var t=0,a="",r="";t<e.length;)switch(a=e.charAt(t)){case"G":nw(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(r=a;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(Rz))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(a=e.charAt(++t))>-1||a=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===a;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Ide(e,t,a,r){for(var n=[],i="",l=0,o="",c="t",d,u,f,x="H";l<e.length;)switch(o=e.charAt(l)){case"G":if(!nw(e,l))throw new Error("unrecognized character "+o+" in "+e);n[n.length]={t:"G",v:"General"},l+=7;break;case'"':for(i="";(f=e.charCodeAt(++l))!==34&&l<e.length;)i+=String.fromCharCode(f);n[n.length]={t:"t",v:i},++l;break;case"\\":var p=e.charAt(++l),v=p==="("||p===")"?p:"t";n[n.length]={t:v,v:p},++l;break;case"_":n[n.length]={t:"t",v:" "},l+=2;break;case"@":n[n.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(d==null&&(d=R0(t,a,e.charAt(l+1)==="2"),d==null))return"";n[n.length]={t:"X",v:e.substr(l,2)},c=o,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=R0(t,a),d==null))return"";for(i=o;++l<e.length&&e.charAt(l).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=x),n[n.length]={t:o,v:i},c=o;break;case"A":case"a":case"":var g={t:o,v:o};if(d==null&&(d=R0(t,a)),e.substr(l,3).toUpperCase()==="A/P"?(d!=null&&(g.v=d.H>=12?"P":"A"),g.t="T",x="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(d!=null&&(g.v=d.H>=12?"PM":"AM"),g.t="T",l+=5,x="h"):e.substr(l,5).toUpperCase()==="/"?(d!=null&&(g.v=d.H>=12?"":""),g.t="T",l+=5,x="h"):(g.t="t",++l),d==null&&g.t==="T")return"";n[n.length]=g,c=o;break;case"[":for(i=o;e.charAt(l++)!=="]"&&l<e.length;)i+=e.charAt(l);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Rz)){if(d==null&&(d=R0(t,a),d==null))return"";n[n.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Sx(e)||(n[n.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=o;++l<e.length&&(o=e.charAt(l))==="0";)i+=o;n[n.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++l<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(l))>-1;)i+=o;n[n.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++l)===o;)i+=o;n[n.length]={t:o,v:i},c=o;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":n[n.length]={t:r===1?"t":o,v:o},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)i+=e.charAt(l);n[n.length]={t:"D",v:i};break;case" ":n[n.length]={t:o,v:o},++l;break;case"$":n[n.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);n[n.length]={t:"t",v:o},++l;break}var b=0,j=0,N;for(l=n.length-1,c="t";l>=0;--l)switch(n[l].t){case"h":case"H":n[l].t=x,c="h",b<1&&(b=1);break;case"s":(N=n[l].v.match(/\.0+$/))&&(j=Math.max(j,N[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":c=n[l].t;break;case"m":c==="s"&&(n[l].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&n[l].v.match(/[Hh]/)&&(b=1),b<2&&n[l].v.match(/[Mm]/)&&(b=2),b<3&&n[l].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var S="",k;for(l=0;l<n.length;++l)switch(n[l].t){case"t":case"T":case" ":case"D":break;case"X":n[l].v="",n[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[l].v=_de(n[l].t.charCodeAt(0),n[l].v,d,j),n[l].t="t";break;case"n":case"?":for(k=l+1;n[k]!=null&&((o=n[k].t)==="?"||o==="D"||(o===" "||o==="t")&&n[k+1]!=null&&(n[k+1].t==="?"||n[k+1].t==="t"&&n[k+1].v==="/")||n[l].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(n[k].v==="/"||n[k].v===" "&&n[k+1]!=null&&n[k+1].t=="?"));)n[l].v+=n[k].v,n[k]={v:"",t:";"},++k;S+=n[l].v,l=k-1;break;case"G":n[l].t="t",n[l].v=dm(t,a);break}var A="",_,M;if(S.length>0){S.charCodeAt(0)==40?(_=t<0&&S.charCodeAt(0)===45?-t:t,M=ah("n",S,_)):(_=t<0&&r>1?-t:t,M=ah("n",S,_),_<0&&n[0]&&n[0].t=="t"&&(M=M.substr(1),n[0].v="-"+n[0].v)),k=M.length-1;var L=n.length;for(l=0;l<n.length;++l)if(n[l]!=null&&n[l].t!="t"&&n[l].v.indexOf(".")>-1){L=l;break}var U=n.length;if(L===n.length&&M.indexOf("E")===-1){for(l=n.length-1;l>=0;--l)n[l]==null||"n?".indexOf(n[l].t)===-1||(k>=n[l].v.length-1?(k-=n[l].v.length,n[l].v=M.substr(k+1,n[l].v.length)):k<0?n[l].v="":(n[l].v=M.substr(0,k+1),k=-1),n[l].t="t",U=l);k>=0&&U<n.length&&(n[U].v=M.substr(0,k+1)+n[U].v)}else if(L!==n.length&&M.indexOf("E")===-1){for(k=M.indexOf(".")-1,l=L;l>=0;--l)if(!(n[l]==null||"n?".indexOf(n[l].t)===-1)){for(u=n[l].v.indexOf(".")>-1&&l===L?n[l].v.indexOf(".")-1:n[l].v.length-1,A=n[l].v.substr(u+1);u>=0;--u)k>=0&&(n[l].v.charAt(u)==="0"||n[l].v.charAt(u)==="#")&&(A=M.charAt(k--)+A);n[l].v=A,n[l].t="t",U=l}for(k>=0&&U<n.length&&(n[U].v=M.substr(0,k+1)+n[U].v),k=M.indexOf(".")+1,l=L;l<n.length;++l)if(!(n[l]==null||"n?(".indexOf(n[l].t)===-1&&l!==L)){for(u=n[l].v.indexOf(".")>-1&&l===L?n[l].v.indexOf(".")+1:0,A=n[l].v.substr(0,u);u<n[l].v.length;++u)k<M.length&&(A+=M.charAt(k++));n[l].v=A,n[l].t="t",U=l}}}for(l=0;l<n.length;++l)n[l]!=null&&"n?".indexOf(n[l].t)>-1&&(_=r>1&&t<0&&l>0&&n[l-1].v==="-"?-t:t,n[l].v=ah(n[l].t,n[l].v,_),n[l].t="t");var z="";for(l=0;l!==n.length;++l)n[l]!=null&&(z+=n[l].v);return z}var KM=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function YM(e,t){if(t==null)return!1;var a=parseFloat(t[2]);switch(t[1]){case"=":if(e==a)return!0;break;case">":if(e>a)return!0;break;case"<":if(e<a)return!0;break;case"<>":if(e!=a)return!0;break;case">=":if(e>=a)return!0;break;case"<=":if(e<=a)return!0;break}return!1}function Bde(e,t){var a=Fde(e),r=a.length,n=a[r-1].indexOf("@");if(r<4&&n>-1&&--r,a.length>4)throw new Error("cannot find right format for |"+a.join("|")+"|");if(typeof t!="number")return[4,a.length===4||n>-1?a[a.length-1]:"@"];switch(a.length){case 1:a=n>-1?["General","General","General",a[0]]:[a[0],a[0],a[0],"@"];break;case 2:a=n>-1?[a[0],a[0],a[0],a[1]]:[a[0],a[1],a[0],"@"];break;case 3:a=n>-1?[a[0],a[1],a[0],a[2]]:[a[0],a[1],a[2],"@"];break}var i=t>0?a[0]:t<0?a[1]:a[2];if(a[0].indexOf("[")===-1&&a[1].indexOf("[")===-1)return[r,i];if(a[0].match(/\[[=<>]/)!=null||a[1].match(/\[[=<>]/)!=null){var l=a[0].match(KM),o=a[1].match(KM);return YM(t,l)?[r,a[0]]:YM(t,o)?[r,a[1]]:[r,a[l!=null&&o!=null?2:1]]}return[r,i]}function yc(e,t,a){a==null&&(a={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&a.dateNF?r=a.dateNF:r=e;break;case"number":e==14&&a.dateNF?r=a.dateNF:r=(a.table!=null?a.table:Ca)[e],r==null&&(r=a.table&&a.table[WM[e]]||Ca[WM[e]]),r==null&&(r=wde[e]||"General");break}if(nw(r,0))return dm(t,a);t instanceof Date&&(t=_z(t,a.date1904));var n=Bde(r,t);if(nw(n[1]))return dm(t,a);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Ide(n[1],t,a,n[0])}function rh(e,t){if(typeof t!="number"){t=+t||-1;for(var a=0;a<392;++a){if(Ca[a]==null){t<0&&(t=a);continue}if(Ca[a]==e){t=a;break}}t<0&&(t=391)}return Ca[t]=e,t}function Vj(e){for(var t=0;t!=392;++t)e[t]!==void 0&&rh(e[t],t)}function kx(){Ca=yde()}var $de={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Fz=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Ude(e){var t=typeof e=="number"?Ca[e]:e;return t=t.replace(Fz,"(\\d+)"),new RegExp("^"+t+"$")}function zde(e,t,a){var r=-1,n=-1,i=-1,l=-1,o=-1,c=-1;(t.match(Fz)||[]).forEach(function(f,x){var p=parseInt(a[x+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=p;break;case"d":i=p;break;case"h":l=p;break;case"s":c=p;break;case"m":l>=0?o=p:n=p;break}}),c>=0&&o==-1&&n>=0&&(o=n,n=-1);var d=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return l==-1&&o==-1&&c==-1?d:r==-1&&n==-1&&i==-1?u:d+"T"+u}var Hde=(function(){var e={};e.version="1.2.0";function t(){for(var M=0,L=new Array(256),U=0;U!=256;++U)M=U,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,L[U]=M;return typeof Int32Array<"u"?new Int32Array(L):L}var a=t();function r(M){var L=0,U=0,z=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(z=0;z!=256;++z)O[z]=M[z];for(z=0;z!=256;++z)for(U=M[z],L=256+z;L<4096;L+=256)U=O[L]=U>>>8^M[U&255];var B=[];for(z=1;z!=16;++z)B[z-1]=typeof Int32Array<"u"?O.subarray(z*256,z*256+256):O.slice(z*256,z*256+256);return B}var n=r(a),i=n[0],l=n[1],o=n[2],c=n[3],d=n[4],u=n[5],f=n[6],x=n[7],p=n[8],v=n[9],g=n[10],b=n[11],j=n[12],N=n[13],S=n[14];function k(M,L){for(var U=L^-1,z=0,O=M.length;z<O;)U=U>>>8^a[(U^M.charCodeAt(z++))&255];return~U}function A(M,L){for(var U=L^-1,z=M.length-15,O=0;O<z;)U=S[M[O++]^U&255]^N[M[O++]^U>>8&255]^j[M[O++]^U>>16&255]^b[M[O++]^U>>>24]^g[M[O++]]^v[M[O++]]^p[M[O++]]^x[M[O++]]^f[M[O++]]^u[M[O++]]^d[M[O++]]^c[M[O++]]^o[M[O++]]^l[M[O++]]^i[M[O++]]^a[M[O++]];for(z+=15;O<z;)U=U>>>8^a[(U^M[O++])&255];return~U}function _(M,L){for(var U=L^-1,z=0,O=M.length,B=0,E=0;z<O;)B=M.charCodeAt(z++),B<128?U=U>>>8^a[(U^B)&255]:B<2048?(U=U>>>8^a[(U^(192|B>>6&31))&255],U=U>>>8^a[(U^(128|B&63))&255]):B>=55296&&B<57344?(B=(B&1023)+64,E=M.charCodeAt(z++)&1023,U=U>>>8^a[(U^(240|B>>8&7))&255],U=U>>>8^a[(U^(128|B>>2&63))&255],U=U>>>8^a[(U^(128|E>>6&15|(B&3)<<4))&255],U=U>>>8^a[(U^(128|E&63))&255]):(U=U>>>8^a[(U^(224|B>>12&15))&255],U=U>>>8^a[(U^(128|B>>6&63))&255],U=U>>>8^a[(U^(128|B&63))&255]);return~U}return e.table=a,e.bstr=k,e.buf=A,e.str=_,e})(),ya=(function(){var t={};t.version="1.2.1";function a(ee,ke){for(var ye=ee.split("/"),Ne=ke.split("/"),Ae=0,De=0,Ye=Math.min(ye.length,Ne.length);Ae<Ye;++Ae){if(De=ye[Ae].length-Ne[Ae].length)return De;if(ye[Ae]!=Ne[Ae])return ye[Ae]<Ne[Ae]?-1:1}return ye.length-Ne.length}function r(ee){if(ee.charAt(ee.length-1)=="/")return ee.slice(0,-1).indexOf("/")===-1?ee:r(ee.slice(0,-1));var ke=ee.lastIndexOf("/");return ke===-1?ee:ee.slice(0,ke+1)}function n(ee){if(ee.charAt(ee.length-1)=="/")return n(ee.slice(0,-1));var ke=ee.lastIndexOf("/");return ke===-1?ee:ee.slice(ke+1)}function i(ee,ke){typeof ke=="string"&&(ke=new Date(ke));var ye=ke.getHours();ye=ye<<6|ke.getMinutes(),ye=ye<<5|ke.getSeconds()>>>1,ee.write_shift(2,ye);var Ne=ke.getFullYear()-1980;Ne=Ne<<4|ke.getMonth()+1,Ne=Ne<<5|ke.getDate(),ee.write_shift(2,Ne)}function l(ee){var ke=ee.read_shift(2)&65535,ye=ee.read_shift(2)&65535,Ne=new Date,Ae=ye&31;ye>>>=5;var De=ye&15;ye>>>=4,Ne.setMilliseconds(0),Ne.setFullYear(ye+1980),Ne.setMonth(De-1),Ne.setDate(Ae);var Ye=ke&31;ke>>>=5;var ut=ke&63;return ke>>>=6,Ne.setHours(ke),Ne.setMinutes(ut),Ne.setSeconds(Ye<<1),Ne}function o(ee){Ui(ee,0);for(var ke={},ye=0;ee.l<=ee.length-4;){var Ne=ee.read_shift(2),Ae=ee.read_shift(2),De=ee.l+Ae,Ye={};switch(Ne){case 21589:ye=ee.read_shift(1),ye&1&&(Ye.mtime=ee.read_shift(4)),Ae>5&&(ye&2&&(Ye.atime=ee.read_shift(4)),ye&4&&(Ye.ctime=ee.read_shift(4))),Ye.mtime&&(Ye.mt=new Date(Ye.mtime*1e3));break}ee.l=De,ke[Ne]=Ye}return ke}var c;function d(){return c||(c={})}function u(ee,ke){if(ee[0]==80&&ee[1]==75)return fa(ee,ke);if((ee[0]|32)==109&&(ee[1]|32)==105)return ta(ee,ke);if(ee.length<512)throw new Error("CFB file size "+ee.length+" < 512");var ye=3,Ne=512,Ae=0,De=0,Ye=0,ut=0,Ke=0,et=[],at=ee.slice(0,512);Ui(at,0);var vt=f(at);switch(ye=vt[0],ye){case 3:Ne=512;break;case 4:Ne=4096;break;case 0:if(vt[1]==0)return fa(ee,ke);default:throw new Error("Major Version: Expected 3 or 4 saw "+ye)}Ne!==512&&(at=ee.slice(0,Ne),Ui(at,28));var Lt=ee.slice(0,Ne);x(at,ye);var Xt=at.read_shift(4,"i");if(ye===3&&Xt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Xt);at.l+=4,Ye=at.read_shift(4,"i"),at.l+=4,at.chk("00100000","Mini Stream Cutoff Size: "),ut=at.read_shift(4,"i"),Ae=at.read_shift(4,"i"),Ke=at.read_shift(4,"i"),De=at.read_shift(4,"i");for(var Ce=-1,Ve=0;Ve<109&&(Ce=at.read_shift(4,"i"),!(Ce<0));++Ve)et[Ve]=Ce;var Ht=p(ee,Ne);b(Ke,De,Ht,Ne,et);var ma=N(Ht,Ye,et,Ne);ma[Ye].name="!Directory",Ae>0&&ut!==E&&(ma[ut].name="!MiniFAT"),ma[et[0]].name="!FAT",ma.fat_addrs=et,ma.ssz=Ne;var va={},Ha=[],Ws=[],Rr=[];S(Ye,ma,Ht,Ha,Ae,va,Ws,ut),v(Ws,Rr,Ha),Ha.shift();var Un={FileIndex:Ws,FullPaths:Rr};return ke&&ke.raw&&(Un.raw={header:Lt,sectors:Ht}),Un}function f(ee){if(ee[ee.l]==80&&ee[ee.l+1]==75)return[0,0];ee.chk(R,"Header Signature: "),ee.l+=16;var ke=ee.read_shift(2,"u");return[ee.read_shift(2,"u"),ke]}function x(ee,ke){var ye=9;switch(ee.l+=2,ye=ee.read_shift(2)){case 9:if(ke!=3)throw new Error("Sector Shift: Expected 9 saw "+ye);break;case 12:if(ke!=4)throw new Error("Sector Shift: Expected 12 saw "+ye);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ye)}ee.chk("0600","Mini Sector Shift: "),ee.chk("000000000000","Reserved: ")}function p(ee,ke){for(var ye=Math.ceil(ee.length/ke)-1,Ne=[],Ae=1;Ae<ye;++Ae)Ne[Ae-1]=ee.slice(Ae*ke,(Ae+1)*ke);return Ne[ye-1]=ee.slice(ye*ke),Ne}function v(ee,ke,ye){for(var Ne=0,Ae=0,De=0,Ye=0,ut=0,Ke=ye.length,et=[],at=[];Ne<Ke;++Ne)et[Ne]=at[Ne]=Ne,ke[Ne]=ye[Ne];for(;ut<at.length;++ut)Ne=at[ut],Ae=ee[Ne].L,De=ee[Ne].R,Ye=ee[Ne].C,et[Ne]===Ne&&(Ae!==-1&&et[Ae]!==Ae&&(et[Ne]=et[Ae]),De!==-1&&et[De]!==De&&(et[Ne]=et[De])),Ye!==-1&&(et[Ye]=Ne),Ae!==-1&&Ne!=et[Ne]&&(et[Ae]=et[Ne],at.lastIndexOf(Ae)<ut&&at.push(Ae)),De!==-1&&Ne!=et[Ne]&&(et[De]=et[Ne],at.lastIndexOf(De)<ut&&at.push(De));for(Ne=1;Ne<Ke;++Ne)et[Ne]===Ne&&(De!==-1&&et[De]!==De?et[Ne]=et[De]:Ae!==-1&&et[Ae]!==Ae&&(et[Ne]=et[Ae]));for(Ne=1;Ne<Ke;++Ne)if(ee[Ne].type!==0){if(ut=Ne,ut!=et[ut])do ut=et[ut],ke[Ne]=ke[ut]+"/"+ke[Ne];while(ut!==0&&et[ut]!==-1&&ut!=et[ut]);et[Ne]=-1}for(ke[0]+="/",Ne=1;Ne<Ke;++Ne)ee[Ne].type!==2&&(ke[Ne]+="/")}function g(ee,ke,ye){for(var Ne=ee.start,Ae=ee.size,De=[],Ye=Ne;ye&&Ae>0&&Ye>=0;)De.push(ke.slice(Ye*B,Ye*B+B)),Ae-=B,Ye=L0(ye,Ye*4);return De.length===0?jt(0):wi(De).slice(0,ee.size)}function b(ee,ke,ye,Ne,Ae){var De=E;if(ee===E){if(ke!==0)throw new Error("DIFAT chain shorter than expected")}else if(ee!==-1){var Ye=ye[ee],ut=(Ne>>>2)-1;if(!Ye)return;for(var Ke=0;Ke<ut&&(De=L0(Ye,Ke*4))!==E;++Ke)Ae.push(De);b(L0(Ye,Ne-4),ke-1,ye,Ne,Ae)}}function j(ee,ke,ye,Ne,Ae){var De=[],Ye=[];Ae||(Ae=[]);var ut=Ne-1,Ke=0,et=0;for(Ke=ke;Ke>=0;){Ae[Ke]=!0,De[De.length]=Ke,Ye.push(ee[Ke]);var at=ye[Math.floor(Ke*4/Ne)];if(et=Ke*4&ut,Ne<4+et)throw new Error("FAT boundary crossed: "+Ke+" 4 "+Ne);if(!ee[at])break;Ke=L0(ee[at],et)}return{nodes:De,data:lP([Ye])}}function N(ee,ke,ye,Ne){var Ae=ee.length,De=[],Ye=[],ut=[],Ke=[],et=Ne-1,at=0,vt=0,Lt=0,Xt=0;for(at=0;at<Ae;++at)if(ut=[],Lt=at+ke,Lt>=Ae&&(Lt-=Ae),!Ye[Lt]){Ke=[];var Ce=[];for(vt=Lt;vt>=0;){Ce[vt]=!0,Ye[vt]=!0,ut[ut.length]=vt,Ke.push(ee[vt]);var Ve=ye[Math.floor(vt*4/Ne)];if(Xt=vt*4&et,Ne<4+Xt)throw new Error("FAT boundary crossed: "+vt+" 4 "+Ne);if(!ee[Ve]||(vt=L0(ee[Ve],Xt),Ce[vt]))break}De[Lt]={nodes:ut,data:lP([Ke])}}return De}function S(ee,ke,ye,Ne,Ae,De,Ye,ut){for(var Ke=0,et=Ne.length?2:0,at=ke[ee].data,vt=0,Lt=0,Xt;vt<at.length;vt+=128){var Ce=at.slice(vt,vt+128);Ui(Ce,64),Lt=Ce.read_shift(2),Xt=AA(Ce,0,Lt-et),Ne.push(Xt);var Ve={name:Xt,type:Ce.read_shift(1),color:Ce.read_shift(1),L:Ce.read_shift(4,"i"),R:Ce.read_shift(4,"i"),C:Ce.read_shift(4,"i"),clsid:Ce.read_shift(16),state:Ce.read_shift(4,"i"),start:0,size:0},Ht=Ce.read_shift(2)+Ce.read_shift(2)+Ce.read_shift(2)+Ce.read_shift(2);Ht!==0&&(Ve.ct=k(Ce,Ce.l-8));var ma=Ce.read_shift(2)+Ce.read_shift(2)+Ce.read_shift(2)+Ce.read_shift(2);ma!==0&&(Ve.mt=k(Ce,Ce.l-8)),Ve.start=Ce.read_shift(4,"i"),Ve.size=Ce.read_shift(4,"i"),Ve.size<0&&Ve.start<0&&(Ve.size=Ve.type=0,Ve.start=E,Ve.name=""),Ve.type===5?(Ke=Ve.start,Ae>0&&Ke!==E&&(ke[Ke].name="!StreamData")):Ve.size>=4096?(Ve.storage="fat",ke[Ve.start]===void 0&&(ke[Ve.start]=j(ye,Ve.start,ke.fat_addrs,ke.ssz)),ke[Ve.start].name=Ve.name,Ve.content=ke[Ve.start].data.slice(0,Ve.size)):(Ve.storage="minifat",Ve.size<0?Ve.size=0:Ke!==E&&Ve.start!==E&&ke[Ke]&&(Ve.content=g(Ve,ke[Ke].data,(ke[ut]||{}).data))),Ve.content&&Ui(Ve.content,0),De[Xt]=Ve,Ye.push(Ve)}}function k(ee,ke){return new Date((_o(ee,ke+4)/1e7*Math.pow(2,32)+_o(ee,ke)/1e7-11644473600)*1e3)}function A(ee,ke){return d(),u(c.readFileSync(ee),ke)}function _(ee,ke){var ye=ke&&ke.type;switch(ye||ar&&Buffer.isBuffer(ee)&&(ye="buffer"),ye||"base64"){case"file":return A(ee,ke);case"base64":return u(Eo(Oo(ee)),ke);case"binary":return u(Eo(ee),ke)}return u(ee,ke)}function M(ee,ke){var ye=ke||{},Ne=ye.root||"Root Entry";if(ee.FullPaths||(ee.FullPaths=[]),ee.FileIndex||(ee.FileIndex=[]),ee.FullPaths.length!==ee.FileIndex.length)throw new Error("inconsistent CFB structure");ee.FullPaths.length===0&&(ee.FullPaths[0]=Ne+"/",ee.FileIndex[0]={name:Ne,type:5}),ye.CLSID&&(ee.FileIndex[0].clsid=ye.CLSID),L(ee)}function L(ee){var ke="Sh33tJ5";if(!ya.find(ee,"/"+ke)){var ye=jt(4);ye[0]=55,ye[1]=ye[3]=50,ye[2]=54,ee.FileIndex.push({name:ke,type:2,content:ye,size:4,L:69,R:69,C:69}),ee.FullPaths.push(ee.FullPaths[0]+ke),U(ee)}}function U(ee,ke){M(ee);for(var ye=!1,Ne=!1,Ae=ee.FullPaths.length-1;Ae>=0;--Ae){var De=ee.FileIndex[Ae];switch(De.type){case 0:Ne?ye=!0:(ee.FileIndex.pop(),ee.FullPaths.pop());break;case 1:case 2:case 5:Ne=!0,isNaN(De.R*De.L*De.C)&&(ye=!0),De.R>-1&&De.L>-1&&De.R==De.L&&(ye=!0);break;default:ye=!0;break}}if(!(!ye&&!ke)){var Ye=new Date(1987,1,19),ut=0,Ke=Object.create?Object.create(null):{},et=[];for(Ae=0;Ae<ee.FullPaths.length;++Ae)Ke[ee.FullPaths[Ae]]=!0,ee.FileIndex[Ae].type!==0&&et.push([ee.FullPaths[Ae],ee.FileIndex[Ae]]);for(Ae=0;Ae<et.length;++Ae){var at=r(et[Ae][0]);Ne=Ke[at],Ne||(et.push([at,{name:n(at).replace("/",""),type:1,clsid:I,ct:Ye,mt:Ye,content:null}]),Ke[at]=!0)}for(et.sort(function(Xt,Ce){return a(Xt[0],Ce[0])}),ee.FullPaths=[],ee.FileIndex=[],Ae=0;Ae<et.length;++Ae)ee.FullPaths[Ae]=et[Ae][0],ee.FileIndex[Ae]=et[Ae][1];for(Ae=0;Ae<et.length;++Ae){var vt=ee.FileIndex[Ae],Lt=ee.FullPaths[Ae];if(vt.name=n(Lt).replace("/",""),vt.L=vt.R=vt.C=-(vt.color=1),vt.size=vt.content?vt.content.length:0,vt.start=0,vt.clsid=vt.clsid||I,Ae===0)vt.C=et.length>1?1:-1,vt.size=0,vt.type=5;else if(Lt.slice(-1)=="/"){for(ut=Ae+1;ut<et.length&&r(ee.FullPaths[ut])!=Lt;++ut);for(vt.C=ut>=et.length?-1:ut,ut=Ae+1;ut<et.length&&r(ee.FullPaths[ut])!=r(Lt);++ut);vt.R=ut>=et.length?-1:ut,vt.type=1}else r(ee.FullPaths[Ae+1]||"")==r(Lt)&&(vt.R=Ae+1),vt.type=2}}}function z(ee,ke){var ye=ke||{};if(ye.fileType=="mad")return Aa(ee,ye);switch(U(ee),ye.fileType){case"zip":return Oa(ee,ye)}var Ne=(function(Xt){for(var Ce=0,Ve=0,Ht=0;Ht<Xt.FileIndex.length;++Ht){var ma=Xt.FileIndex[Ht];if(ma.content){var va=ma.content.length;va>0&&(va<4096?Ce+=va+63>>6:Ve+=va+511>>9)}}for(var Ha=Xt.FullPaths.length+3>>2,Ws=Ce+7>>3,Rr=Ce+127>>7,Un=Ws+Ve+Ha+Rr,oi=Un+127>>7,Fl=oi<=109?0:Math.ceil((oi-109)/127);Un+oi+Fl+127>>7>oi;)Fl=++oi<=109?0:Math.ceil((oi-109)/127);var Tn=[1,Fl,oi,Rr,Ha,Ve,Ce,0];return Xt.FileIndex[0].size=Ce<<6,Tn[7]=(Xt.FileIndex[0].start=Tn[0]+Tn[1]+Tn[2]+Tn[3]+Tn[4]+Tn[5])+(Tn[6]+7>>3),Tn})(ee),Ae=jt(Ne[7]<<9),De=0,Ye=0;{for(De=0;De<8;++De)Ae.write_shift(1,q[De]);for(De=0;De<8;++De)Ae.write_shift(2,0);for(Ae.write_shift(2,62),Ae.write_shift(2,3),Ae.write_shift(2,65534),Ae.write_shift(2,9),Ae.write_shift(2,6),De=0;De<3;++De)Ae.write_shift(2,0);for(Ae.write_shift(4,0),Ae.write_shift(4,Ne[2]),Ae.write_shift(4,Ne[0]+Ne[1]+Ne[2]+Ne[3]-1),Ae.write_shift(4,0),Ae.write_shift(4,4096),Ae.write_shift(4,Ne[3]?Ne[0]+Ne[1]+Ne[2]-1:E),Ae.write_shift(4,Ne[3]),Ae.write_shift(-4,Ne[1]?Ne[0]-1:E),Ae.write_shift(4,Ne[1]),De=0;De<109;++De)Ae.write_shift(-4,De<Ne[2]?Ne[1]+De:-1)}if(Ne[1])for(Ye=0;Ye<Ne[1];++Ye){for(;De<236+Ye*127;++De)Ae.write_shift(-4,De<Ne[2]?Ne[1]+De:-1);Ae.write_shift(-4,Ye===Ne[1]-1?E:Ye+1)}var ut=function(Xt){for(Ye+=Xt;De<Ye-1;++De)Ae.write_shift(-4,De+1);Xt&&(++De,Ae.write_shift(-4,E))};for(Ye=De=0,Ye+=Ne[1];De<Ye;++De)Ae.write_shift(-4,G.DIFSECT);for(Ye+=Ne[2];De<Ye;++De)Ae.write_shift(-4,G.FATSECT);ut(Ne[3]),ut(Ne[4]);for(var Ke=0,et=0,at=ee.FileIndex[0];Ke<ee.FileIndex.length;++Ke)at=ee.FileIndex[Ke],at.content&&(et=at.content.length,!(et<4096)&&(at.start=Ye,ut(et+511>>9)));for(ut(Ne[6]+7>>3);Ae.l&511;)Ae.write_shift(-4,G.ENDOFCHAIN);for(Ye=De=0,Ke=0;Ke<ee.FileIndex.length;++Ke)at=ee.FileIndex[Ke],at.content&&(et=at.content.length,!(!et||et>=4096)&&(at.start=Ye,ut(et+63>>6)));for(;Ae.l&511;)Ae.write_shift(-4,G.ENDOFCHAIN);for(De=0;De<Ne[4]<<2;++De){var vt=ee.FullPaths[De];if(!vt||vt.length===0){for(Ke=0;Ke<17;++Ke)Ae.write_shift(4,0);for(Ke=0;Ke<3;++Ke)Ae.write_shift(4,-1);for(Ke=0;Ke<12;++Ke)Ae.write_shift(4,0);continue}at=ee.FileIndex[De],De===0&&(at.start=at.size?at.start-1:E);var Lt=De===0&&ye.root||at.name;if(et=2*(Lt.length+1),Ae.write_shift(64,Lt,"utf16le"),Ae.write_shift(2,et),Ae.write_shift(1,at.type),Ae.write_shift(1,at.color),Ae.write_shift(-4,at.L),Ae.write_shift(-4,at.R),Ae.write_shift(-4,at.C),at.clsid)Ae.write_shift(16,at.clsid,"hex");else for(Ke=0;Ke<4;++Ke)Ae.write_shift(4,0);Ae.write_shift(4,at.state||0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,at.start),Ae.write_shift(4,at.size),Ae.write_shift(4,0)}for(De=1;De<ee.FileIndex.length;++De)if(at=ee.FileIndex[De],at.size>=4096)if(Ae.l=at.start+1<<9,ar&&Buffer.isBuffer(at.content))at.content.copy(Ae,Ae.l,0,at.size),Ae.l+=at.size+511&-512;else{for(Ke=0;Ke<at.size;++Ke)Ae.write_shift(1,at.content[Ke]);for(;Ke&511;++Ke)Ae.write_shift(1,0)}for(De=1;De<ee.FileIndex.length;++De)if(at=ee.FileIndex[De],at.size>0&&at.size<4096)if(ar&&Buffer.isBuffer(at.content))at.content.copy(Ae,Ae.l,0,at.size),Ae.l+=at.size+63&-64;else{for(Ke=0;Ke<at.size;++Ke)Ae.write_shift(1,at.content[Ke]);for(;Ke&63;++Ke)Ae.write_shift(1,0)}if(ar)Ae.l=Ae.length;else for(;Ae.l<Ae.length;)Ae.write_shift(1,0);return Ae}function O(ee,ke){var ye=ee.FullPaths.map(function(Ke){return Ke.toUpperCase()}),Ne=ye.map(function(Ke){var et=Ke.split("/");return et[et.length-(Ke.slice(-1)=="/"?2:1)]}),Ae=!1;ke.charCodeAt(0)===47?(Ae=!0,ke=ye[0].slice(0,-1)+ke):Ae=ke.indexOf("/")!==-1;var De=ke.toUpperCase(),Ye=Ae===!0?ye.indexOf(De):Ne.indexOf(De);if(Ye!==-1)return ee.FileIndex[Ye];var ut=!De.match(s1);for(De=De.replace(Pl,""),ut&&(De=De.replace(s1,"!")),Ye=0;Ye<ye.length;++Ye)if((ut?ye[Ye].replace(s1,"!"):ye[Ye]).replace(Pl,"")==De||(ut?Ne[Ye].replace(s1,"!"):Ne[Ye]).replace(Pl,"")==De)return ee.FileIndex[Ye];return null}var B=64,E=-2,R="d0cf11e0a1b11ae1",q=[208,207,17,224,161,177,26,225],I="00000000000000000000000000000000",G={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:E,FREESECT:-1,HEADER_SIGNATURE:R,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:I,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function re(ee,ke,ye){d();var Ne=z(ee,ye);c.writeFileSync(ke,Ne)}function te(ee){for(var ke=new Array(ee.length),ye=0;ye<ee.length;++ye)ke[ye]=String.fromCharCode(ee[ye]);return ke.join("")}function X(ee,ke){var ye=z(ee,ke);switch(ke&&ke.type||"buffer"){case"file":return d(),c.writeFileSync(ke.filename,ye),ye;case"binary":return typeof ye=="string"?ye:te(ye);case"base64":return G1(typeof ye=="string"?ye:te(ye));case"buffer":if(ar)return Buffer.isBuffer(ye)?ye:yh(ye);case"array":return typeof ye=="string"?Eo(ye):ye}return ye}var ce;function D(ee){try{var ke=ee.InflateRaw,ye=new ke;if(ye._processChunk(new Uint8Array([3,0]),ye._finishFlushFlag),ye.bytesRead)ce=ee;else throw new Error("zlib does not expose bytesRead")}catch(Ne){console.error("cannot use native zlib: "+(Ne.message||Ne))}}function Q(ee,ke){if(!ce)return Ut(ee,ke);var ye=ce.InflateRaw,Ne=new ye,Ae=Ne._processChunk(ee.slice(ee.l),Ne._finishFlushFlag);return ee.l+=Ne.bytesRead,Ae}function H(ee){return ce?ce.deflateRawSync(ee):At(ee)}var J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ie=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function le(ee){var ke=(ee<<1|ee<<11)&139536|(ee<<5|ee<<15)&558144;return(ke>>16|ke>>8|ke)&255}for(var Y=typeof Uint8Array<"u",oe=Y?new Uint8Array(256):[],xe=0;xe<256;++xe)oe[xe]=le(xe);function W(ee,ke){var ye=oe[ee&255];return ke<=8?ye>>>8-ke:(ye=ye<<8|oe[ee>>8&255],ke<=16?ye>>>16-ke:(ye=ye<<8|oe[ee>>16&255],ye>>>24-ke))}function he(ee,ke){var ye=ke&7,Ne=ke>>>3;return(ee[Ne]|(ye<=6?0:ee[Ne+1]<<8))>>>ye&3}function fe(ee,ke){var ye=ke&7,Ne=ke>>>3;return(ee[Ne]|(ye<=5?0:ee[Ne+1]<<8))>>>ye&7}function de(ee,ke){var ye=ke&7,Ne=ke>>>3;return(ee[Ne]|(ye<=4?0:ee[Ne+1]<<8))>>>ye&15}function Oe(ee,ke){var ye=ke&7,Ne=ke>>>3;return(ee[Ne]|(ye<=3?0:ee[Ne+1]<<8))>>>ye&31}function Fe(ee,ke){var ye=ke&7,Ne=ke>>>3;return(ee[Ne]|(ye<=1?0:ee[Ne+1]<<8))>>>ye&127}function Ee(ee,ke,ye){var Ne=ke&7,Ae=ke>>>3,De=(1<<ye)-1,Ye=ee[Ae]>>>Ne;return ye<8-Ne||(Ye|=ee[Ae+1]<<8-Ne,ye<16-Ne)||(Ye|=ee[Ae+2]<<16-Ne,ye<24-Ne)||(Ye|=ee[Ae+3]<<24-Ne),Ye&De}function se(ee,ke,ye){var Ne=ke&7,Ae=ke>>>3;return Ne<=5?ee[Ae]|=(ye&7)<<Ne:(ee[Ae]|=ye<<Ne&255,ee[Ae+1]=(ye&7)>>8-Ne),ke+3}function _e(ee,ke,ye){var Ne=ke&7,Ae=ke>>>3;return ye=(ye&1)<<Ne,ee[Ae]|=ye,ke+1}function je(ee,ke,ye){var Ne=ke&7,Ae=ke>>>3;return ye<<=Ne,ee[Ae]|=ye&255,ye>>>=8,ee[Ae+1]=ye,ke+8}function rt(ee,ke,ye){var Ne=ke&7,Ae=ke>>>3;return ye<<=Ne,ee[Ae]|=ye&255,ye>>>=8,ee[Ae+1]=ye&255,ee[Ae+2]=ye>>>8,ke+16}function ft(ee,ke){var ye=ee.length,Ne=2*ye>ke?2*ye:ke+5,Ae=0;if(ye>=ke)return ee;if(ar){var De=zM(Ne);if(ee.copy)ee.copy(De);else for(;Ae<ee.length;++Ae)De[Ae]=ee[Ae];return De}else if(Y){var Ye=new Uint8Array(Ne);if(Ye.set)Ye.set(ee);else for(;Ae<ye;++Ae)Ye[Ae]=ee[Ae];return Ye}return ee.length=Ne,ee}function Bt(ee){for(var ke=new Array(ee),ye=0;ye<ee;++ye)ke[ye]=0;return ke}function Je(ee,ke,ye){var Ne=1,Ae=0,De=0,Ye=0,ut=0,Ke=ee.length,et=Y?new Uint16Array(32):Bt(32);for(De=0;De<32;++De)et[De]=0;for(De=Ke;De<ye;++De)ee[De]=0;Ke=ee.length;var at=Y?new Uint16Array(Ke):Bt(Ke);for(De=0;De<Ke;++De)et[Ae=ee[De]]++,Ne<Ae&&(Ne=Ae),at[De]=0;for(et[0]=0,De=1;De<=Ne;++De)et[De+16]=ut=ut+et[De-1]<<1;for(De=0;De<Ke;++De)ut=ee[De],ut!=0&&(at[De]=et[ut+16]++);var vt=0;for(De=0;De<Ke;++De)if(vt=ee[De],vt!=0)for(ut=W(at[De],Ne)>>Ne-vt,Ye=(1<<Ne+4-vt)-1;Ye>=0;--Ye)ke[ut|Ye<<vt]=vt&15|De<<4;return Ne}var $e=Y?new Uint16Array(512):Bt(512),ze=Y?new Uint16Array(32):Bt(32);if(!Y){for(var Ze=0;Ze<512;++Ze)$e[Ze]=0;for(Ze=0;Ze<32;++Ze)ze[Ze]=0}(function(){for(var ee=[],ke=0;ke<32;ke++)ee.push(5);Je(ee,ze,32);var ye=[];for(ke=0;ke<=143;ke++)ye.push(8);for(;ke<=255;ke++)ye.push(9);for(;ke<=279;ke++)ye.push(7);for(;ke<=287;ke++)ye.push(8);Je(ye,$e,288)})();var dt=(function(){for(var ke=Y?new Uint8Array(32768):[],ye=0,Ne=0;ye<ie.length-1;++ye)for(;Ne<ie[ye+1];++Ne)ke[Ne]=ye;for(;Ne<32768;++Ne)ke[Ne]=29;var Ae=Y?new Uint8Array(259):[];for(ye=0,Ne=0;ye<ae.length-1;++ye)for(;Ne<ae[ye+1];++Ne)Ae[Ne]=ye;function De(ut,Ke){for(var et=0;et<ut.length;){var at=Math.min(65535,ut.length-et),vt=et+at==ut.length;for(Ke.write_shift(1,+vt),Ke.write_shift(2,at),Ke.write_shift(2,~at&65535);at-- >0;)Ke[Ke.l++]=ut[et++]}return Ke.l}function Ye(ut,Ke){for(var et=0,at=0,vt=Y?new Uint16Array(32768):[];at<ut.length;){var Lt=Math.min(65535,ut.length-at);if(Lt<10){for(et=se(Ke,et,+(at+Lt==ut.length)),et&7&&(et+=8-(et&7)),Ke.l=et/8|0,Ke.write_shift(2,Lt),Ke.write_shift(2,~Lt&65535);Lt-- >0;)Ke[Ke.l++]=ut[at++];et=Ke.l*8;continue}et=se(Ke,et,+(at+Lt==ut.length)+2);for(var Xt=0;Lt-- >0;){var Ce=ut[at];Xt=(Xt<<5^Ce)&32767;var Ve=-1,Ht=0;if((Ve=vt[Xt])&&(Ve|=at&-32768,Ve>at&&(Ve-=32768),Ve<at))for(;ut[Ve+Ht]==ut[at+Ht]&&Ht<250;)++Ht;if(Ht>2){Ce=Ae[Ht],Ce<=22?et=je(Ke,et,oe[Ce+1]>>1)-1:(je(Ke,et,3),et+=5,je(Ke,et,oe[Ce-23]>>5),et+=3);var ma=Ce<8?0:Ce-4>>2;ma>0&&(rt(Ke,et,Ht-ae[Ce]),et+=ma),Ce=ke[at-Ve],et=je(Ke,et,oe[Ce]>>3),et-=3;var va=Ce<4?0:Ce-2>>1;va>0&&(rt(Ke,et,at-Ve-ie[Ce]),et+=va);for(var Ha=0;Ha<Ht;++Ha)vt[Xt]=at&32767,Xt=(Xt<<5^ut[at])&32767,++at;Lt-=Ht-1}else Ce<=143?Ce=Ce+48:et=_e(Ke,et,1),et=je(Ke,et,oe[Ce]),vt[Xt]=at&32767,++at}et=je(Ke,et,0)-1}return Ke.l=(et+7)/8|0,Ke.l}return function(Ke,et){return Ke.length<8?De(Ke,et):Ye(Ke,et)}})();function At(ee){var ke=jt(50+Math.floor(ee.length*1.1)),ye=dt(ee,ke);return ke.slice(0,ye)}var kt=Y?new Uint16Array(32768):Bt(32768),Dt=Y?new Uint16Array(32768):Bt(32768),zt=Y?new Uint16Array(128):Bt(128),qt=1,Te=1;function $t(ee,ke){var ye=Oe(ee,ke)+257;ke+=5;var Ne=Oe(ee,ke)+1;ke+=5;var Ae=de(ee,ke)+4;ke+=4;for(var De=0,Ye=Y?new Uint8Array(19):Bt(19),ut=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ke=1,et=Y?new Uint8Array(8):Bt(8),at=Y?new Uint8Array(8):Bt(8),vt=Ye.length,Lt=0;Lt<Ae;++Lt)Ye[J[Lt]]=De=fe(ee,ke),Ke<De&&(Ke=De),et[De]++,ke+=3;var Xt=0;for(et[0]=0,Lt=1;Lt<=Ke;++Lt)at[Lt]=Xt=Xt+et[Lt-1]<<1;for(Lt=0;Lt<vt;++Lt)(Xt=Ye[Lt])!=0&&(ut[Lt]=at[Xt]++);var Ce=0;for(Lt=0;Lt<vt;++Lt)if(Ce=Ye[Lt],Ce!=0){Xt=oe[ut[Lt]]>>8-Ce;for(var Ve=(1<<7-Ce)-1;Ve>=0;--Ve)zt[Xt|Ve<<Ce]=Ce&7|Lt<<3}var Ht=[];for(Ke=1;Ht.length<ye+Ne;)switch(Xt=zt[Fe(ee,ke)],ke+=Xt&7,Xt>>>=3){case 16:for(De=3+he(ee,ke),ke+=2,Xt=Ht[Ht.length-1];De-- >0;)Ht.push(Xt);break;case 17:for(De=3+fe(ee,ke),ke+=3;De-- >0;)Ht.push(0);break;case 18:for(De=11+Fe(ee,ke),ke+=7;De-- >0;)Ht.push(0);break;default:Ht.push(Xt),Ke<Xt&&(Ke=Xt);break}var ma=Ht.slice(0,ye),va=Ht.slice(ye);for(Lt=ye;Lt<286;++Lt)ma[Lt]=0;for(Lt=Ne;Lt<30;++Lt)va[Lt]=0;return qt=Je(ma,kt,286),Te=Je(va,Dt,30),ke}function We(ee,ke){if(ee[0]==3&&!(ee[1]&3))return[Df(ke),2];for(var ye=0,Ne=0,Ae=zM(ke||1<<18),De=0,Ye=Ae.length>>>0,ut=0,Ke=0;(Ne&1)==0;){if(Ne=fe(ee,ye),ye+=3,Ne>>>1)Ne>>1==1?(ut=9,Ke=5):(ye=$t(ee,ye),ut=qt,Ke=Te);else{ye&7&&(ye+=8-(ye&7));var et=ee[ye>>>3]|ee[(ye>>>3)+1]<<8;if(ye+=32,et>0)for(!ke&&Ye<De+et&&(Ae=ft(Ae,De+et),Ye=Ae.length);et-- >0;)Ae[De++]=ee[ye>>>3],ye+=8;continue}for(;;){!ke&&Ye<De+32767&&(Ae=ft(Ae,De+32767),Ye=Ae.length);var at=Ee(ee,ye,ut),vt=Ne>>>1==1?$e[at]:kt[at];if(ye+=vt&15,vt>>>=4,(vt>>>8&255)===0)Ae[De++]=vt;else{if(vt==256)break;vt-=257;var Lt=vt<8?0:vt-4>>2;Lt>5&&(Lt=0);var Xt=De+ae[vt];Lt>0&&(Xt+=Ee(ee,ye,Lt),ye+=Lt),at=Ee(ee,ye,Ke),vt=Ne>>>1==1?ze[at]:Dt[at],ye+=vt&15,vt>>>=4;var Ce=vt<4?0:vt-2>>1,Ve=ie[vt];for(Ce>0&&(Ve+=Ee(ee,ye,Ce),ye+=Ce),!ke&&Ye<Xt&&(Ae=ft(Ae,Xt+100),Ye=Ae.length);De<Xt;)Ae[De]=Ae[De-Ve],++De}}}return ke?[Ae,ye+7>>>3]:[Ae.slice(0,De),ye+7>>>3]}function Ut(ee,ke){var ye=ee.slice(ee.l||0),Ne=We(ye,ke);return ee.l+=Ne[1],Ne[0]}function Vt(ee,ke){if(ee)typeof console<"u"&&console.error(ke);else throw new Error(ke)}function fa(ee,ke){var ye=ee;Ui(ye,0);var Ne=[],Ae=[],De={FileIndex:Ne,FullPaths:Ae};M(De,{root:ke.root});for(var Ye=ye.length-4;(ye[Ye]!=80||ye[Ye+1]!=75||ye[Ye+2]!=5||ye[Ye+3]!=6)&&Ye>=0;)--Ye;ye.l=Ye+4,ye.l+=4;var ut=ye.read_shift(2);ye.l+=6;var Ke=ye.read_shift(4);for(ye.l=Ke,Ye=0;Ye<ut;++Ye){ye.l+=20;var et=ye.read_shift(4),at=ye.read_shift(4),vt=ye.read_shift(2),Lt=ye.read_shift(2),Xt=ye.read_shift(2);ye.l+=8;var Ce=ye.read_shift(4),Ve=o(ye.slice(ye.l+vt,ye.l+vt+Lt));ye.l+=vt+Lt+Xt;var Ht=ye.l;ye.l=Ce+4,Ka(ye,et,at,De,Ve),ye.l=Ht}return De}function Ka(ee,ke,ye,Ne,Ae){ee.l+=2;var De=ee.read_shift(2),Ye=ee.read_shift(2),ut=l(ee);if(De&8257)throw new Error("Unsupported ZIP encryption");for(var Ke=ee.read_shift(4),et=ee.read_shift(4),at=ee.read_shift(4),vt=ee.read_shift(2),Lt=ee.read_shift(2),Xt="",Ce=0;Ce<vt;++Ce)Xt+=String.fromCharCode(ee[ee.l++]);if(Lt){var Ve=o(ee.slice(ee.l,ee.l+Lt));(Ve[21589]||{}).mt&&(ut=Ve[21589].mt),((Ae||{})[21589]||{}).mt&&(ut=Ae[21589].mt)}ee.l+=Lt;var Ht=ee.slice(ee.l,ee.l+et);switch(Ye){case 8:Ht=Q(ee,at);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ye)}var ma=!1;De&8&&(Ke=ee.read_shift(4),Ke==134695760&&(Ke=ee.read_shift(4),ma=!0),et=ee.read_shift(4),at=ee.read_shift(4)),et!=ke&&Vt(ma,"Bad compressed size: "+ke+" != "+et),at!=ye&&Vt(ma,"Bad uncompressed size: "+ye+" != "+at),qa(Ne,Xt,Ht,{unsafe:!0,mt:ut})}function Oa(ee,ke){var ye=ke||{},Ne=[],Ae=[],De=jt(1),Ye=ye.compression?8:0,ut=0,Ke=0,et=0,at=0,vt=0,Lt=ee.FullPaths[0],Xt=Lt,Ce=ee.FileIndex[0],Ve=[],Ht=0;for(Ke=1;Ke<ee.FullPaths.length;++Ke)if(Xt=ee.FullPaths[Ke].slice(Lt.length),Ce=ee.FileIndex[Ke],!(!Ce.size||!Ce.content||Xt=="Sh33tJ5")){var ma=at,va=jt(Xt.length);for(et=0;et<Xt.length;++et)va.write_shift(1,Xt.charCodeAt(et)&127);va=va.slice(0,va.l),Ve[vt]=Hde.buf(Ce.content,0);var Ha=Ce.content;Ye==8&&(Ha=H(Ha)),De=jt(30),De.write_shift(4,67324752),De.write_shift(2,20),De.write_shift(2,ut),De.write_shift(2,Ye),Ce.mt?i(De,Ce.mt):De.write_shift(4,0),De.write_shift(-4,Ve[vt]),De.write_shift(4,Ha.length),De.write_shift(4,Ce.content.length),De.write_shift(2,va.length),De.write_shift(2,0),at+=De.length,Ne.push(De),at+=va.length,Ne.push(va),at+=Ha.length,Ne.push(Ha),De=jt(46),De.write_shift(4,33639248),De.write_shift(2,0),De.write_shift(2,20),De.write_shift(2,ut),De.write_shift(2,Ye),De.write_shift(4,0),De.write_shift(-4,Ve[vt]),De.write_shift(4,Ha.length),De.write_shift(4,Ce.content.length),De.write_shift(2,va.length),De.write_shift(2,0),De.write_shift(2,0),De.write_shift(2,0),De.write_shift(2,0),De.write_shift(4,0),De.write_shift(4,ma),Ht+=De.l,Ae.push(De),Ht+=va.length,Ae.push(va),++vt}return De=jt(22),De.write_shift(4,101010256),De.write_shift(2,0),De.write_shift(2,0),De.write_shift(2,vt),De.write_shift(2,vt),De.write_shift(4,Ht),De.write_shift(4,at),De.write_shift(2,0),wi([wi(Ne),wi(Ae),De])}var oa={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ba(ee,ke){if(ee.ctype)return ee.ctype;var ye=ee.name||"",Ne=ye.match(/\.([^\.]+)$/);return Ne&&oa[Ne[1]]||ke&&(Ne=(ye=ke).match(/[\.\\]([^\.\\])+$/),Ne&&oa[Ne[1]])?oa[Ne[1]]:"application/octet-stream"}function Be(ee){for(var ke=G1(ee),ye=[],Ne=0;Ne<ke.length;Ne+=76)ye.push(ke.slice(Ne,Ne+76));return ye.join(`\r
`)+`\r
`}function st(ee){var ke=ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(et){var at=et.charCodeAt(0).toString(16).toUpperCase();return"="+(at.length==1?"0"+at:at)});ke=ke.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ke.charAt(0)==`
`&&(ke="=0D"+ke.slice(1)),ke=ke.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ye=[],Ne=ke.split(`\r
`),Ae=0;Ae<Ne.length;++Ae){var De=Ne[Ae];if(De.length==0){ye.push("");continue}for(var Ye=0;Ye<De.length;){var ut=76,Ke=De.slice(Ye,Ye+ut);Ke.charAt(ut-1)=="="?ut--:Ke.charAt(ut-2)=="="?ut-=2:Ke.charAt(ut-3)=="="&&(ut-=3),Ke=De.slice(Ye,Ye+ut),Ye+=ut,Ye<De.length&&(Ke+="="),ye.push(Ke)}}return ye.join(`\r
`)}function Nt(ee){for(var ke=[],ye=0;ye<ee.length;++ye){for(var Ne=ee[ye];ye<=ee.length&&Ne.charAt(Ne.length-1)=="=";)Ne=Ne.slice(0,Ne.length-1)+ee[++ye];ke.push(Ne)}for(var Ae=0;Ae<ke.length;++Ae)ke[Ae]=ke[Ae].replace(/[=][0-9A-Fa-f]{2}/g,function(De){return String.fromCharCode(parseInt(De.slice(1),16))});return Eo(ke.join(`\r
`))}function yt(ee,ke,ye){for(var Ne="",Ae="",De="",Ye,ut=0;ut<10;++ut){var Ke=ke[ut];if(!Ke||Ke.match(/^\s*$/))break;var et=Ke.match(/^(.*?):\s*([^\s].*)$/);if(et)switch(et[1].toLowerCase()){case"content-location":Ne=et[2].trim();break;case"content-type":De=et[2].trim();break;case"content-transfer-encoding":Ae=et[2].trim();break}}switch(++ut,Ae.toLowerCase()){case"base64":Ye=Eo(Oo(ke.slice(ut).join("")));break;case"quoted-printable":Ye=Nt(ke.slice(ut));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ae)}var at=qa(ee,Ne.slice(ye.length),Ye,{unsafe:!0});De&&(at.ctype=De)}function ta(ee,ke){if(te(ee.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ye=ke&&ke.root||"",Ne=(ar&&Buffer.isBuffer(ee)?ee.toString("binary"):te(ee)).split(`\r
`),Ae=0,De="";for(Ae=0;Ae<Ne.length;++Ae)if(De=Ne[Ae],!!/^Content-Location:/i.test(De)&&(De=De.slice(De.indexOf("file")),ye||(ye=De.slice(0,De.lastIndexOf("/")+1)),De.slice(0,ye.length)!=ye))for(;ye.length>0&&(ye=ye.slice(0,ye.length-1),ye=ye.slice(0,ye.lastIndexOf("/")+1),De.slice(0,ye.length)!=ye););var Ye=(Ne[1]||"").match(/boundary="(.*?)"/);if(!Ye)throw new Error("MAD cannot find boundary");var ut="--"+(Ye[1]||""),Ke=[],et=[],at={FileIndex:Ke,FullPaths:et};M(at);var vt,Lt=0;for(Ae=0;Ae<Ne.length;++Ae){var Xt=Ne[Ae];Xt!==ut&&Xt!==ut+"--"||(Lt++&&yt(at,Ne.slice(vt,Ae),ye),vt=Ae)}return at}function Aa(ee,ke){var ye=ke||{},Ne=ye.boundary||"SheetJS";Ne="------="+Ne;for(var Ae=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Ne.slice(2)+'"',"","",""],De=ee.FullPaths[0],Ye=De,ut=ee.FileIndex[0],Ke=1;Ke<ee.FullPaths.length;++Ke)if(Ye=ee.FullPaths[Ke].slice(De.length),ut=ee.FileIndex[Ke],!(!ut.size||!ut.content||Ye=="Sh33tJ5")){Ye=Ye.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ht){return"_x"+Ht.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ht){return"_u"+Ht.charCodeAt(0).toString(16)+"_"});for(var et=ut.content,at=ar&&Buffer.isBuffer(et)?et.toString("binary"):te(et),vt=0,Lt=Math.min(1024,at.length),Xt=0,Ce=0;Ce<=Lt;++Ce)(Xt=at.charCodeAt(Ce))>=32&&Xt<128&&++vt;var Ve=vt>=Lt*4/5;Ae.push(Ne),Ae.push("Content-Location: "+(ye.root||"file:///C:/SheetJS/")+Ye),Ae.push("Content-Transfer-Encoding: "+(Ve?"quoted-printable":"base64")),Ae.push("Content-Type: "+Ba(ut,Ye)),Ae.push(""),Ae.push(Ve?st(at):Be(at))}return Ae.push(Ne+`--\r
`),Ae.join(`\r
`)}function lr(ee){var ke={};return M(ke,ee),ke}function qa(ee,ke,ye,Ne){var Ae=Ne&&Ne.unsafe;Ae||M(ee);var De=!Ae&&ya.find(ee,ke);if(!De){var Ye=ee.FullPaths[0];ke.slice(0,Ye.length)==Ye?Ye=ke:(Ye.slice(-1)!="/"&&(Ye+="/"),Ye=(Ye+ke).replace("//","/")),De={name:n(ke),type:2},ee.FileIndex.push(De),ee.FullPaths.push(Ye),Ae||ya.utils.cfb_gc(ee)}return De.content=ye,De.size=ye?ye.length:0,Ne&&(Ne.CLSID&&(De.clsid=Ne.CLSID),Ne.mt&&(De.mt=Ne.mt),Ne.ct&&(De.ct=Ne.ct)),De}function er(ee,ke){M(ee);var ye=ya.find(ee,ke);if(ye){for(var Ne=0;Ne<ee.FileIndex.length;++Ne)if(ee.FileIndex[Ne]==ye)return ee.FileIndex.splice(Ne,1),ee.FullPaths.splice(Ne,1),!0}return!1}function Ta(ee,ke,ye){M(ee);var Ne=ya.find(ee,ke);if(Ne){for(var Ae=0;Ae<ee.FileIndex.length;++Ae)if(ee.FileIndex[Ae]==Ne)return ee.FileIndex[Ae].name=n(ye),ee.FullPaths[Ae]=ye,!0}return!1}function Cr(ee){U(ee,!0)}return t.find=O,t.read=_,t.parse=u,t.write=X,t.writeFile=re,t.utils={cfb_new:lr,cfb_add:qa,cfb_del:er,cfb_mov:Ta,cfb_gc:Cr,ReadShift:f1,CheckField:nH,prep_blob:Ui,bconcat:wi,use_zlib:D,_deflateRaw:At,_inflateRaw:Ut,consts:G},t})();function Vde(e){return typeof e=="string"?Hj(e):Array.isArray(e)?xde(e):e}function Uv(e,t,a){if(typeof Deno<"u"){if(a&&typeof t=="string")switch(a){case"utf8":t=new TextEncoder(a).encode(t);break;case"binary":t=Hj(t);break;default:throw new Error("Unsupported encoding "+a)}return Deno.writeFileSync(e,t)}var r=a=="utf8"?Yd(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,e);if(typeof Blob<"u"){var n=new Blob([Vde(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,e);if(typeof saveAs<"u")return saveAs(n,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=i,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Hf(t)),o.write(t),o.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Wde(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var a=t.read();return t.close(),a}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+e)}function tn(e){for(var t=Object.keys(e),a=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&a.push(t[r]);return a}function XM(e,t){for(var a=[],r=tn(e),n=0;n!==r.length;++n)a[e[r[n]][t]]==null&&(a[e[r[n]][t]]=r[n]);return a}function Wj(e){for(var t=[],a=tn(e),r=0;r!==a.length;++r)t[e[a[r]]]=a[r];return t}function qj(e){for(var t=[],a=tn(e),r=0;r!==a.length;++r)t[e[a[r]]]=parseInt(a[r],10);return t}function qde(e){for(var t=[],a=tn(e),r=0;r!==a.length;++r)t[e[a[r]]]==null&&(t[e[a[r]]]=[]),t[e[a[r]]].push(a[r]);return t}var lw=new Date(1899,11,30,0,0,0);function ei(e,t){var a=e.getTime(),r=lw.getTime()+(e.getTimezoneOffset()-lw.getTimezoneOffset())*6e4;return(a-r)/(1440*60*1e3)}var Iz=new Date,Gde=lw.getTime()+(Iz.getTimezoneOffset()-lw.getTimezoneOffset())*6e4,QM=Iz.getTimezoneOffset();function Gj(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Gde),t.getTimezoneOffset()!==QM&&t.setTime(t.getTime()+(t.getTimezoneOffset()-QM)*6e4),t}function Kde(e){var t=0,a=0,r=!1,n=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!n)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=n.length;++i)if(n[i]){switch(a=1,i>3&&(r=!0),n[i].slice(n[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+n[i].slice(n[i].length-1));case"D":a*=24;case"H":a*=60;case"M":if(r)a*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=a*parseInt(n[i],10)}return t}var JM=new Date("2017-02-19T19:06:09.000Z"),Bz=isNaN(JM.getFullYear())?new Date("2/19/17"):JM,Yde=Bz.getFullYear()==2017;function ps(e,t){var a=new Date(e);if(Yde)return t>0?a.setTime(a.getTime()+a.getTimezoneOffset()*60*1e3):t<0&&a.setTime(a.getTime()-a.getTimezoneOffset()*60*1e3),a;if(e instanceof Date)return e;if(Bz.getFullYear()==1917&&!isNaN(a.getFullYear())){var r=a.getFullYear();return e.indexOf(""+r)>-1||a.setFullYear(a.getFullYear()+100),a}var n=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function um(e,t){if(ar&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Yd(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Yd(Cz(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Yd(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Yd(new TextDecoder("utf-16be").decode(e.slice(2)))}var a={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return a[i]||i})}catch{}for(var r=[],n=0;n!=e.length;++n)r.push(String.fromCharCode(e[n]));return r.join("")}function xs(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=xs(e[a]));return t}function Js(e,t){for(var a="";a.length<t;)a+=e;return a}function od(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var a=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return a*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(n,i){return a=-a,i}),!isNaN(t=Number(r)))?t/a:t}var Xde=["january","february","march","april","may","june","july","august","september","october","november","december"];function ix(e){var t=new Date(e),a=new Date(NaN),r=t.getYear(),n=t.getMonth(),i=t.getDate();if(isNaN(i))return a;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&Xde.indexOf(l)==-1)return a}else if(l.match(/[a-z]/))return a;return r<0||r>8099?a:(n>0||i>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?a:t}var Qde=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(a,r,n){if(e||typeof r=="string")return a.split(r);for(var i=a.split(r),l=[i[0]],o=1;o<i.length;++o)l.push(n),l.push(i[o]);return l}})();function $z(e){return e?e.content&&e.type?um(e.content,!0):e.data?r1(e.data):e.asNodeBuffer&&ar?r1(e.asNodeBuffer().toString("binary")):e.asBinary?r1(e.asBinary()):e._data&&e._data.getContent?r1(um(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function Uz(e){if(!e)return null;if(e.data)return $M(e.data);if(e.asNodeBuffer&&ar)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?$M(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Jde(e){return e&&e.name.slice(-4)===".bin"?Uz(e):$z(e)}function hc(e,t){for(var a=e.FullPaths||tn(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),n=r.replace(/\\/g,"/"),i=0;i<a.length;++i){var l=a[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==l||n==l)return e.files?e.files[a[i]]:e.FileIndex[i]}return null}function wA(e,t){var a=hc(e,t);if(a==null)throw new Error("Cannot find file "+t+" in zip");return a}function Ln(e,t,a){if(!a)return Jde(wA(e,t));if(!t)return null;try{return Ln(e,t)}catch{return null}}function Do(e,t,a){if(!a)return $z(wA(e,t));if(!t)return null;try{return Do(e,t)}catch{return null}}function Zde(e,t,a){return Uz(wA(e,t))}function ZM(e){for(var t=e.FullPaths||tn(e.files),a=[],r=0;r<t.length;++r)t[r].slice(-1)!="/"&&a.push(t[r].replace(/^Root Entry[\/]/,""));return a.sort()}function Za(e,t,a){if(e.FullPaths){if(typeof a=="string"){var r;return ar?r=yh(a):r=gde(a),ya.utils.cfb_add(e,t,r)}ya.utils.cfb_add(e,t,a)}else e.file(t,a)}function jA(){return ya.utils.cfb_new()}function zz(e,t){switch(t.type){case"base64":return ya.read(e,{type:"base64"});case"binary":return ya.read(e,{type:"binary"});case"buffer":case"array":return ya.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function n1(e,t){if(e.charAt(0)=="/")return e.slice(1);var a=t.split("/");t.slice(-1)!="/"&&a.pop();for(var r=e.split("/");r.length!==0;){var n=r.shift();n===".."?a.pop():n!=="."&&a.push(n)}return a.join("/")}var _n=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,eue=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,eP=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,tue=/<[^>]*>/g,gl=_n.match(eP)?eP:tue,aue=/<\w*:/,rue=/<(\/?)\w+:/;function La(e,t,a){for(var r={},n=0,i=0;n!==e.length&&!((i=e.charCodeAt(n))===32||i===10||i===13);++n);if(t||(r[0]=e.slice(0,n)),n===e.length)return r;var l=e.match(eue),o=0,c="",d=0,u="",f="",x=1;if(l)for(d=0;d!=l.length;++d){for(f=l[d],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(u=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(x=(n=f.charCodeAt(i+1))==34||n==39?1:0,c=f.slice(i+1+x,f.length-x),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),r[u]=c,r[u.toLowerCase()]=c;else{var p=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(r[p]&&u.slice(o-3,o)=="ext")continue;r[p]=c,r[p.toLowerCase()]=c}}return r}function iu(e){return e.replace(rue,"<$1")}var Hz={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},NA=Wj(Hz),Sr=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function a(r){var n=r+"",i=n.indexOf("<![CDATA[");if(i==-1)return n.replace(e,function(o,c){return Hz[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,c){return String.fromCharCode(parseInt(c,16))});var l=n.indexOf("]]>");return a(n.slice(0,i))+n.slice(i+9,l)+a(n.slice(l+3))}})(),SA=/[&<>'"]/g,sue=/[\u0000-\u0008\u000b-\u001f]/g;function Wr(e){var t=e+"";return t.replace(SA,function(a){return NA[a]}).replace(sue,function(a){return"_x"+("000"+a.charCodeAt(0).toString(16)).slice(-4)+"_"})}function tP(e){return Wr(e).replace(/ /g,"_x0020_")}var Vz=/[\u0000-\u001f]/g;function kA(e){var t=e+"";return t.replace(SA,function(a){return NA[a]}).replace(/\n/g,"<br/>").replace(Vz,function(a){return"&#x"+("000"+a.charCodeAt(0).toString(16)).slice(-4)+";"})}function nue(e){var t=e+"";return t.replace(SA,function(a){return NA[a]}).replace(Vz,function(a){return"&#x"+a.charCodeAt(0).toString(16).toUpperCase()+";"})}var aP=(function(){var e=/&#(\d+);/g;function t(a,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(e,t)}})();function iue(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function hs(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function _5(e){for(var t="",a=0,r=0,n=0,i=0,l=0,o=0;a<e.length;){if(r=e.charCodeAt(a++),r<128){t+=String.fromCharCode(r);continue}if(n=e.charCodeAt(a++),r>191&&r<224){l=(r&31)<<6,l|=n&63,t+=String.fromCharCode(l);continue}if(i=e.charCodeAt(a++),r<240){t+=String.fromCharCode((r&15)<<12|(n&63)<<6|i&63);continue}l=e.charCodeAt(a++),o=((r&7)<<18|(n&63)<<12|(i&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function rP(e){var t=Df(2*e.length),a,r,n=1,i=0,l=0,o;for(r=0;r<e.length;r+=n)n=1,(o=e.charCodeAt(r))<128?a=o:o<224?(a=(o&31)*64+(e.charCodeAt(r+1)&63),n=2):o<240?(a=(o&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),n=3):(n=4,a=(o&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),a-=65536,l=55296+(a>>>10&1023),a=56320+(a&1023)),l!==0&&(t[i++]=l&255,t[i++]=l>>>8,l=0),t[i++]=a%256,t[i++]=a>>>8;return t.slice(0,i).toString("ucs2")}function sP(e){return yh(e,"binary").toString("utf8")}var Ry="foo bar baz",Qr=ar&&(sP(Ry)==_5(Ry)&&sP||rP(Ry)==_5(Ry)&&rP)||_5,Yd=ar?function(e){return yh(e,"utf8").toString("binary")}:function(e){for(var t=[],a=0,r=0,n=0;a<e.length;)switch(r=e.charCodeAt(a++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,n=e.charCodeAt(a++)-56320+(r<<10),t.push(String.fromCharCode(240+(n>>18&7))),t.push(String.fromCharCode(144+(n>>12&63))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},Y1=(function(){var e={};return function(a,r){var n=a+"|"+(r||"");return e[n]?e[n]:e[n]=new RegExp("<(?:\\w+:)?"+a+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+a+">",r||"")}})(),Wz=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(a){for(var r=a.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<e.length;++n)r=r.replace(e[n][0],e[n][1]);return r}})(),lue=(function(){var e={};return function(a){return e[a]!==void 0?e[a]:e[a]=new RegExp("<(?:vt:)?"+a+">([\\s\\S]*?)</(?:vt:)?"+a+">","g")}})(),oue=/<\/?(?:vt:)?variant>/g,cue=/<(?:vt:)([^>]*)>([\s\S]*)</;function nP(e,t){var a=La(e),r=e.match(lue(a.baseType))||[],n=[];if(r.length!=a.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+a.size);return n}return r.forEach(function(i){var l=i.replace(oue,"").match(cue);l&&n.push({v:Qr(l[2]),t:l[1]})}),n}var qz=/(^\s|\s$|\n)/;function zi(e,t){return"<"+e+(t.match(qz)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function X1(e){return tn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Gt(e,t,a){return"<"+e+(a!=null?X1(a):"")+(t!=null?(t.match(qz)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Vk(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(a){if(t)throw a}return""}function due(e,t){switch(typeof e){case"string":var a=Gt("vt:lpwstr",Wr(e));return a=a.replace(/&quot;/g,"_x0022_"),a;case"number":return Gt((e|0)==e?"vt:i4":"vt:r8",Wr(String(e)));case"boolean":return Gt("vt:bool",e?"true":"false")}if(e instanceof Date)return Gt("vt:filetime",Vk(e));throw new Error("Unable to serialize "+e)}function CA(e){if(ar&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Qr(Hf(vA(e)));throw new Error("Bad input format: expected Buffer or string")}var Q1=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Qn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Em=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ao={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function uue(e,t){for(var a=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),n=e[t+6]&15,i=5;i>=0;--i)n=n*256+e[t+i];return r==2047?n==0?a*(1/0):NaN:(r==0?r=-1022:(r-=1023,n+=Math.pow(2,52)),a*Math.pow(2,r-52)*n)}function hue(e,t,a){var r=(t<0||1/t==-1/0?1:0)<<7,n=0,i=0,l=r?-t:t;isFinite(l)?l==0?n=i=0:(n=Math.floor(Math.log(l)/Math.LN2),i=l*Math.pow(2,52-n),n<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?n=-1022:(i-=Math.pow(2,52),n+=1023)):(n=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[a+o]=i&255;e[a+6]=(n&15)<<4|i&15,e[a+7]=n>>4|r}var iP=function(e){for(var t=[],a=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var n=0,i=e[0][r].length;n<i;n+=a)t.push.apply(t,e[0][r].slice(n,n+a));return t},lP=ar?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:yh(t)})):iP(e)}:iP,oP=function(e,t,a){for(var r=[],n=t;n<a;n+=2)r.push(String.fromCharCode(Ku(e,n)));return r.join("").replace(Pl,"")},AA=ar?function(e,t,a){return Buffer.isBuffer(e)?e.toString("utf16le",t,a).replace(Pl,""):oP(e,t,a)}:oP,cP=function(e,t,a){for(var r=[],n=t;n<t+a;++n)r.push(("0"+e[n].toString(16)).slice(-2));return r.join("")},Gz=ar?function(e,t,a){return Buffer.isBuffer(e)?e.toString("hex",t,t+a):cP(e,t,a)}:cP,dP=function(e,t,a){for(var r=[],n=t;n<a;n++)r.push(String.fromCharCode(Op(e,n)));return r.join("")},zv=ar?function(t,a,r){return Buffer.isBuffer(t)?t.toString("utf8",a,r):dP(t,a,r)}:dP,Kz=function(e,t){var a=_o(e,t);return a>0?zv(e,t+4,t+4+a-1):""},Yz=Kz,Xz=function(e,t){var a=_o(e,t);return a>0?zv(e,t+4,t+4+a-1):""},Qz=Xz,Jz=function(e,t){var a=2*_o(e,t);return a>0?zv(e,t+4,t+4+a-1):""},Zz=Jz,eH=function(t,a){var r=_o(t,a);return r>0?AA(t,a+4,a+4+r):""},tH=eH,aH=function(e,t){var a=_o(e,t);return a>0?zv(e,t+4,t+4+a):""},rH=aH,sH=function(e,t){return uue(e,t)},ow=sH,_A=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};ar&&(Yz=function(t,a){if(!Buffer.isBuffer(t))return Kz(t,a);var r=t.readUInt32LE(a);return r>0?t.toString("utf8",a+4,a+4+r-1):""},Qz=function(t,a){if(!Buffer.isBuffer(t))return Xz(t,a);var r=t.readUInt32LE(a);return r>0?t.toString("utf8",a+4,a+4+r-1):""},Zz=function(t,a){if(!Buffer.isBuffer(t))return Jz(t,a);var r=2*t.readUInt32LE(a);return t.toString("utf16le",a+4,a+4+r-1)},tH=function(t,a){if(!Buffer.isBuffer(t))return eH(t,a);var r=t.readUInt32LE(a);return t.toString("utf16le",a+4,a+4+r)},rH=function(t,a){if(!Buffer.isBuffer(t))return aH(t,a);var r=t.readUInt32LE(a);return t.toString("utf8",a+4,a+4+r)},ow=function(t,a){return Buffer.isBuffer(t)?t.readDoubleLE(a):sH(t,a)},_A=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Op=function(e,t){return e[t]},Ku=function(e,t){return e[t+1]*256+e[t]},fue=function(e,t){var a=e[t+1]*256+e[t];return a<32768?a:(65535-a+1)*-1},_o=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},L0=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},mue=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function f1(e,t){var a="",r,n,i=[],l,o,c,d;switch(t){case"dbcs":if(d=this.l,ar&&Buffer.isBuffer(this))a=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)a+=String.fromCharCode(Ku(this,d)),d+=2;e*=2;break;case"utf8":a=zv(this,this.l,this.l+e);break;case"utf16le":e*=2,a=AA(this,this.l,this.l+e);break;case"wstr":return f1.call(this,e,"dbcs");case"lpstr-ansi":a=Yz(this,this.l),e=4+_o(this,this.l);break;case"lpstr-cp":a=Qz(this,this.l),e=4+_o(this,this.l);break;case"lpwstr":a=Zz(this,this.l),e=4+2*_o(this,this.l);break;case"lpp4":e=4+_o(this,this.l),a=tH(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+_o(this,this.l),a=rH(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,a="";(l=Op(this,this.l+e++))!==0;)i.push(Oy(l));a=i.join("");break;case"_wstr":for(e=0,a="";(l=Ku(this,this.l+e))!==0;)i.push(Oy(l)),e+=2;e+=2,a=i.join("");break;case"dbcs-cont":for(a="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return l=Op(this,d),this.l=d+1,o=f1.call(this,e-c,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Oy(Ku(this,d))),d+=2}a=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(a="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return l=Op(this,d),this.l=d+1,o=f1.call(this,e-c,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Oy(Op(this,d))),d+=1}a=i.join("");break;default:switch(e){case 1:return r=Op(this,this.l),this.l++,r;case 2:return r=(t==="i"?fue:Ku)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(r=(e>0?L0:mue)(this,this.l),this.l+=4,r):(n=_o(this,this.l),this.l+=4,n);case 8:case-8:if(t==="f")return e==8?n=ow(this,this.l):n=ow([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:a=Gz(this,this.l,e);break}}return this.l+=e,a}var pue=function(e,t,a){e[a]=t&255,e[a+1]=t>>>8&255,e[a+2]=t>>>16&255,e[a+3]=t>>>24&255},xue=function(e,t,a){e[a]=t&255,e[a+1]=t>>8&255,e[a+2]=t>>16&255,e[a+3]=t>>24&255},gue=function(e,t,a){e[a]=t&255,e[a+1]=t>>>8&255};function vue(e,t,a){var r=0,n=0;if(a==="dbcs"){for(n=0;n!=t.length;++n)gue(this,t.charCodeAt(n),this.l+2*n);r=2*t.length}else if(a==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=t.length;++n)this[this.l+n]=t.charCodeAt(n)&255;r=t.length}else if(a==="hex"){for(;n<e;++n)this[this.l++]=parseInt(t.slice(2*n,2*n+2),16)||0;return this}else if(a==="utf16le"){var i=Math.min(this.l+e,this.length);for(n=0;n<Math.min(t.length,e);++n){var l=t.charCodeAt(n);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,pue(this,t,this.l);break;case 8:if(r=8,a==="f"){hue(this,t,this.l);break}case 16:break;case-4:r=4,xue(this,t,this.l);break}return this.l+=r,this}function nH(e,t){var a=Gz(this,this.l,e.length>>1);if(a!==e)throw new Error(t+"Expected "+e+" saw "+a);this.l+=e.length>>1}function Ui(e,t){e.l=t,e.read_shift=f1,e.chk=nH,e.write_shift=vue}function fl(e,t){e.l+=t}function jt(e){var t=Df(e);return Ui(t,0),t}function wh(e,t,a){if(e){var r,n,i;Ui(e,e.l||0);for(var l=e.length,o=0,c=0;e.l<l;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var d=rv[o]||rv[65535];for(r=e.read_shift(1),i=r&127,n=1;n<4&&r&128;++n)i+=((r=e.read_shift(1))&127)<<7*n;c=e.l+i;var u=d.f&&d.f(e,i,a);if(e.l=c,t(u,d,o))return}}}function ro(){var e=[],t=ar?256:2048,a=function(d){var u=jt(d);return Ui(u,0),u},r=a(t),n=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},i=function(d){return r&&d<r.length-r.l?r:(n(),r=a(Math.max(d+1,t)))},l=function(){return n(),wi(e)},o=function(d){n(),r=d,r.l==null&&(r.l=r.length),i(t)};return{next:i,push:o,end:l,_bufs:e}}function Rt(e,t,a,r){var n=+t,i;if(!isNaN(n)){r||(r=rv[n].p||(a||[]).length||0),i=1+(n>=128?1:0)+1,r>=128&&++i,r>=16384&&++i,r>=2097152&&++i;var l=e.next(i);n<=127?l.write_shift(1,n):(l.write_shift(1,(n&127)+128),l.write_shift(1,n>>7));for(var o=0;o!=4;++o)if(r>=128)l.write_shift(1,(r&127)+128),r>>=7;else{l.write_shift(1,r);break}r>0&&_A(a)&&e.push(a)}}function m1(e,t,a){var r=xs(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!a||a.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function uP(e,t,a){var r=xs(e);return r.s=m1(r.s,t.s,a),r.e=m1(r.e,t.s,a),r}function p1(e,t){if(e.cRel&&e.c<0)for(e=xs(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=xs(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var a=_a(e);return!e.cRel&&e.cRel!=null&&(a=wue(a)),!e.rRel&&e.rRel!=null&&(a=bue(a)),a}function T5(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Hs(e.s.c)+":"+(e.e.cRel?"":"$")+Hs(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Sn(e.s.r)+":"+(e.e.rRel?"":"$")+Sn(e.e.r):p1(e.s,t.biff)+":"+p1(e.e,t.biff)}function TA(e){return parseInt(yue(e),10)-1}function Sn(e){return""+(e+1)}function bue(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function yue(e){return e.replace(/\$(\d+)$/,"$1")}function EA(e){for(var t=jue(e),a=0,r=0;r!==t.length;++r)a=26*a+t.charCodeAt(r)-64;return a-1}function Hs(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function wue(e){return e.replace(/^([A-Z])/,"$$$1")}function jue(e){return e.replace(/^\$([A-Z])/,"$1")}function Nue(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Vs(e){for(var t=0,a=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=48&&n<=57?t=10*t+(n-48):n>=65&&n<=90&&(a=26*a+(n-64))}return{c:a-1,r:t-1}}function _a(e){for(var t=e.c+1,a="";t;t=(t-1)/26|0)a=String.fromCharCode((t-1)%26+65)+a;return a+(e.r+1)}function so(e){var t=e.indexOf(":");return t==-1?{s:Vs(e),e:Vs(e)}:{s:Vs(e.slice(0,t)),e:Vs(e.slice(t+1))}}function Xa(e,t){return typeof t>"u"||typeof t=="number"?Xa(e.s,e.e):(typeof e!="string"&&(e=_a(e)),typeof t!="string"&&(t=_a(t)),e==t?e:e+":"+t)}function kr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},a=0,r=0,n=0,i=e.length;for(a=0;r<i&&!((n=e.charCodeAt(r)-64)<1||n>26);++r)a=26*a+n;for(t.s.c=--a,a=0;r<i&&!((n=e.charCodeAt(r)-48)<0||n>9);++r)a=10*a+n;if(t.s.r=--a,r===i||n!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,a=0;r!=i&&!((n=e.charCodeAt(r)-64)<1||n>26);++r)a=26*a+n;for(t.e.c=--a,a=0;r!=i&&!((n=e.charCodeAt(r)-48)<0||n>9);++r)a=10*a+n;return t.e.r=--a,t}function hP(e,t){var a=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=yc(e.z,a?ei(t):t)}catch{}try{return e.w=yc((e.XF||{}).numFmtId||(a?14:0),a?ei(t):t)}catch{return""+t}}function ch(e,t,a){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&a&&a.dateNF&&(e.z=a.dateNF),e.t=="e"?jh[e.v]||e.v:t==null?hP(e,e.v):hP(e,t))}function Vf(e,t){var a=t&&t.sheet?t.sheet:"Sheet1",r={};return r[a]=e,{SheetNames:[a],Sheets:r}}function iH(e,t,a){var r=a||{},n=e?Array.isArray(e):r.dense,i=e||(n?[]:{}),l=0,o=0;if(i&&r.origin!=null){if(typeof r.origin=="number")l=r.origin;else{var c=typeof r.origin=="string"?Vs(r.origin):r.origin;l=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=kr(i["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),l==-1&&(d.e.r=l=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var x=0;x!=t[f].length;++x)if(!(typeof t[f][x]>"u")){var p={v:t[f][x]},v=l+f,g=o+x;if(d.s.r>v&&(d.s.r=v),d.s.c>g&&(d.s.c=g),d.e.r<v&&(d.e.r=v),d.e.c<g&&(d.e.c=g),t[f][x]&&typeof t[f][x]=="object"&&!Array.isArray(t[f][x])&&!(t[f][x]instanceof Date))p=t[f][x];else if(Array.isArray(p.v)&&(p.f=t[f][x][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(r.nullError)p.t="e",p.v=0;else if(r.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=r.dateNF||Ca[14],r.cellDates?(p.t="d",p.w=yc(p.z,ei(p.v))):(p.t="n",p.v=ei(p.v),p.w=yc(p.z,p.v))):p.t="s";if(n)i[v]||(i[v]=[]),i[v][g]&&i[v][g].z&&(p.z=i[v][g].z),i[v][g]=p;else{var b=_a({c:g,r:v});i[b]&&i[b].z&&(p.z=i[b].z),i[b]=p}}}return d.s.c<1e7&&(i["!ref"]=Xa(d)),i}function Cx(e,t){return iH(null,e,t)}function Sue(e){return e.read_shift(4,"i")}function cd(e,t){return t||(t=jt(4)),t.write_shift(4,e),t}function ul(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Ni(e,t){var a=!1;return t==null&&(a=!0,t=jt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),a?t.slice(0,t.l):t}function kue(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Cue(e,t){return t||(t=jt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function DA(e,t){var a=e.l,r=e.read_shift(1),n=ul(e),i=[],l={t:n,h:n};if((r&1)!==0){for(var o=e.read_shift(4),c=0;c!=o;++c)i.push(kue(e));l.r=i}else l.r=[{ich:0,ifnt:0}];return e.l=a+t,l}function Aue(e,t){var a=!1;return t==null&&(a=!0,t=jt(15+4*e.t.length)),t.write_shift(1,0),Ni(e.t,t),a?t.slice(0,t.l):t}var _ue=DA;function Tue(e,t){var a=!1;return t==null&&(a=!0,t=jt(23+4*e.t.length)),t.write_shift(1,1),Ni(e.t,t),t.write_shift(4,1),Cue({},t),a?t.slice(0,t.l):t}function Ac(e){var t=e.read_shift(4),a=e.read_shift(2);return a+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:a}}function Dm(e,t){return t==null&&(t=jt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Mm(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Pm(e,t){return t==null&&(t=jt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Eue=ul,lH=Ni;function MA(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function cw(e,t){var a=!1;return t==null&&(a=!0,t=jt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),a?t.slice(0,t.l):t}var Due=ul,Wk=MA,PA=cw;function LA(e){var t=e.slice(e.l,e.l+4),a=t[0]&1,r=t[0]&2;e.l+=4;var n=r===0?ow([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):L0(t,0)>>2;return a?n/100:n}function oH(e,t){t==null&&(t=jt(4));var a=0,r=0,n=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?r=1:n==(n|0)&&n>=-536870912&&n<1<<29&&(r=1,a=1),r)t.write_shift(-4,((a?n:e)<<2)+(a+2));else throw new Error("unsupported RkNumber "+e)}function cH(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Mue(e,t){return t||(t=jt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Lm=cH,Ax=Mue;function ol(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function hm(e,t){return(t||jt(8)).write_shift(8,e,"f")}function Pue(e){var t={},a=e.read_shift(1),r=a>>>1,n=e.read_shift(1),i=e.read_shift(2,"i"),l=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=n;var d=G0[n];d&&(t.rgb=Z1(d));break;case 2:t.rgb=Z1([l,o,c]);break;case 3:t.theme=n;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function dw(e,t){if(t||(t=jt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var a=e.tint||0;if(a>0?a*=32767:a<0&&(a*=32768),t.write_shift(2,a),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var r=e.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}return t}function Lue(e){var t=e.read_shift(1);e.l++;var a={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return a}function Oue(e,t){t||(t=jt(2));var a=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,a),t.write_shift(1,0),t}function dH(e,t){var a={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return a[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Rue(e){return dH(e,1)}function Fue(e){return dH(e,2)}var OA=2,Yl=3,Fy=11,fP=12,uw=19,Iy=64,Iue=65,Bue=71,$ue=4108,Uue=4126,vi=80,uH=81,zue=[vi,uH],qk={1:{n:"CodePage",t:OA},2:{n:"Category",t:vi},3:{n:"PresentationFormat",t:vi},4:{n:"ByteCount",t:Yl},5:{n:"LineCount",t:Yl},6:{n:"ParagraphCount",t:Yl},7:{n:"SlideCount",t:Yl},8:{n:"NoteCount",t:Yl},9:{n:"HiddenCount",t:Yl},10:{n:"MultimediaClipCount",t:Yl},11:{n:"ScaleCrop",t:Fy},12:{n:"HeadingPairs",t:$ue},13:{n:"TitlesOfParts",t:Uue},14:{n:"Manager",t:vi},15:{n:"Company",t:vi},16:{n:"LinksUpToDate",t:Fy},17:{n:"CharacterCount",t:Yl},19:{n:"SharedDoc",t:Fy},22:{n:"HyperlinksChanged",t:Fy},23:{n:"AppVersion",t:Yl,p:"version"},24:{n:"DigSig",t:Iue},26:{n:"ContentType",t:vi},27:{n:"ContentStatus",t:vi},28:{n:"Language",t:vi},29:{n:"Version",t:vi},255:{},2147483648:{n:"Locale",t:uw},2147483651:{n:"Behavior",t:uw},1919054434:{}},Gk={1:{n:"CodePage",t:OA},2:{n:"Title",t:vi},3:{n:"Subject",t:vi},4:{n:"Author",t:vi},5:{n:"Keywords",t:vi},6:{n:"Comments",t:vi},7:{n:"Template",t:vi},8:{n:"LastAuthor",t:vi},9:{n:"RevNumber",t:vi},10:{n:"EditTime",t:Iy},11:{n:"LastPrinted",t:Iy},12:{n:"CreatedDate",t:Iy},13:{n:"ModifiedDate",t:Iy},14:{n:"PageCount",t:Yl},15:{n:"WordCount",t:Yl},16:{n:"CharCount",t:Yl},17:{n:"Thumbnail",t:Bue},18:{n:"Application",t:vi},19:{n:"DocSecurity",t:Yl},255:{},2147483648:{n:"Locale",t:uw},2147483651:{n:"Behavior",t:uw},1919054434:{}},mP={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Hue=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Vue(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Wue=Vue([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),G0=xs(Wue),jh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},hH={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Kk={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},By={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function RA(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function que(e){var t=RA();if(!e||!e.match)return t;var a={};if((e.match(gl)||[]).forEach(function(r){var n=La(r);switch(n[0].replace(aue,"<")){case"<?xml":break;case"<Types":t.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":a[n.Extension]=n.ContentType;break;case"<Override":t[Kk[n.ContentType]]!==void 0&&t[Kk[n.ContentType]].push(n.PartName);break}}),t.xmlns!==Qn.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=a,delete t.calcchains,t}function fH(e,t){var a=qde(Kk),r=[],n;r[r.length]=_n,r[r.length]=Gt("Types",null,{xmlns:Qn.CT,"xmlns:xsd":Qn.xsd,"xmlns:xsi":Qn.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Gt("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(n=e[c][0],r[r.length]=Gt("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:By[c][t.bookType]||By[c].xlsx}))},l=function(c){(e[c]||[]).forEach(function(d){r[r.length]=Gt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:By[c][t.bookType]||By[c].xlsx})})},o=function(c){(e[c]||[]).forEach(function(d){r[r.length]=Gt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:a[c][0]})})};return i("workbooks"),l("sheets"),l("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),l("metadata"),o("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var ir={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function J1(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function x1(e,t){var a={"!id":{}};if(!e)return a;t.charAt(0)!=="/"&&(t="/"+t);var r={};return(e.match(gl)||[]).forEach(function(n){var i=La(n);if(i[0]==="<Relationship"){var l={};l.Type=i.Type,l.Target=i.Target,l.Id=i.Id,i.TargetMode&&(l.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:n1(i.Target,t);a[o]=l,r[i.Id]=l}}),a["!id"]=r,a}function Gp(e){var t=[_n,Gt("Relationships",null,{xmlns:Qn.RELS})];return tn(e["!id"]).forEach(function(a){t[t.length]=Gt("Relationship",null,e["!id"][a])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Ur(e,t,a,r,n,i){if(n||(n={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,n.Id="rId"+t,n.Type=r,n.Target=a,[ir.HLINK,ir.XPATH,ir.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),e["!id"][n.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][n.Id]=n,e[("/"+n.Target).replace("//","/")]=n,t}var Gue="application/vnd.oasis.opendocument.spreadsheet";function Kue(e,t){for(var a=CA(e),r,n;r=Q1.exec(a);)switch(r[3]){case"manifest":break;case"file-entry":if(n=La(r[0],!1),n.path=="/"&&n.type!==Gue)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}function Yue(e){var t=[_n];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var a=0;a<e.length;++a)t.push('  <manifest:file-entry manifest:full-path="'+e[a][0]+'" manifest:media-type="'+e[a][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function pP(e,t,a){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(a||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Xue(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function Que(e){var t=[_n];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var a=0;a!=e.length;++a)t.push(pP(e[a][0],e[a][1])),t.push(Xue("",e[a][0]));return t.push(pP("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function mH(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+rw.version+"</meta:generator></office:meta></office:document-meta>"}var gc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Jue=(function(){for(var e=new Array(gc.length),t=0;t<gc.length;++t){var a=gc[t],r="(?:"+a[0].slice(0,a[0].indexOf(":"))+":)"+a[0].slice(a[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return e})();function pH(e){var t={};e=Qr(e);for(var a=0;a<gc.length;++a){var r=gc[a],n=e.match(Jue[a]);n!=null&&n.length>0&&(t[r[1]]=Sr(n[1])),r[2]==="date"&&t[r[1]]&&(t[r[1]]=ps(t[r[1]]))}return t}function E5(e,t,a,r,n){n[e]!=null||t==null||t===""||(n[e]=t,t=Wr(t),r[r.length]=a?Gt(e,t,a):zi(e,t))}function xH(e,t){var a=t||{},r=[_n,Gt("cp:coreProperties",null,{"xmlns:cp":Qn.CORE_PROPS,"xmlns:dc":Qn.dc,"xmlns:dcterms":Qn.dcterms,"xmlns:dcmitype":Qn.dcmitype,"xmlns:xsi":Qn.xsi})],n={};if(!e&&!a.Props)return r.join("");e&&(e.CreatedDate!=null&&E5("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:Vk(e.CreatedDate,a.WTF),{"xsi:type":"dcterms:W3CDTF"},r,n),e.ModifiedDate!=null&&E5("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:Vk(e.ModifiedDate,a.WTF),{"xsi:type":"dcterms:W3CDTF"},r,n));for(var i=0;i!=gc.length;++i){var l=gc[i],o=a.Props&&a.Props[l[1]]!=null?a.Props[l[1]]:e?e[l[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&E5(l[0],o,null,r,n)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var K0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],gH=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function vH(e,t,a,r){var n=[];if(typeof e=="string")n=nP(e,r);else for(var i=0;i<e.length;++i)n=n.concat(e[i].map(function(u){return{v:u}}));var l=typeof t=="string"?nP(t,r).map(function(u){return u.v}):t,o=0,c=0;if(l.length>0)for(var d=0;d!==n.length;d+=2){switch(c=+n[d+1].v,n[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":a.Worksheets=c,a.SheetNames=l.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":a.NamedRanges=c,a.DefinedNames=l.slice(o,o+c);break;case"Charts":case"Diagramme":a.Chartsheets=c,a.ChartNames=l.slice(o,o+c);break}o+=c}}function Zue(e,t,a){var r={};return t||(t={}),e=Qr(e),K0.forEach(function(n){var i=(e.match(Y1(n[0]))||[])[1];switch(n[2]){case"string":i&&(t[n[1]]=Sr(i));break;case"bool":t[n[1]]=i==="true";break;case"raw":var l=e.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));l&&l.length>0&&(r[n[1]]=l[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&vH(r.HeadingPairs,r.TitlesOfParts,t,a),t}function bH(e){var t=[],a=Gt;return e||(e={}),e.Application="SheetJS",t[t.length]=_n,t[t.length]=Gt("Properties",null,{xmlns:Qn.EXT_PROPS,"xmlns:vt":Qn.vt}),K0.forEach(function(r){if(e[r[1]]!==void 0){var n;switch(r[2]){case"string":n=Wr(String(e[r[1]]));break;case"bool":n=e[r[1]]?"true":"false";break}n!==void 0&&(t[t.length]=a(r[0],n))}}),t[t.length]=a("HeadingPairs",a("vt:vector",a("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+a("vt:variant",a("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=a("TitlesOfParts",a("vt:vector",e.SheetNames.map(function(r){return"<vt:lpstr>"+Wr(r)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var ehe=/<[^>]+>[^<]*/g;function the(e,t){var a={},r="",n=e.match(ehe);if(n)for(var i=0;i!=n.length;++i){var l=n[i],o=La(l);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Sr(o.name);break;case"</property>":r=null;break;default:if(l.indexOf("<vt:")===0){var c=l.split(">"),d=c[0].slice(4),u=c[1];switch(d){case"lpstr":case"bstr":case"lpwstr":a[r]=Sr(u);break;case"bool":a[r]=hs(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":a[r]=parseInt(u,10);break;case"r4":case"r8":case"decimal":a[r]=parseFloat(u);break;case"filetime":case"date":a[r]=ps(u);break;case"cy":case"error":a[r]=Sr(u);break;default:if(d.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",l,d,c)}}else if(l.slice(0,2)!=="</"){if(t.WTF)throw new Error(l)}}}return a}function yH(e){var t=[_n,Gt("Properties",null,{xmlns:Qn.CUST_PROPS,"xmlns:vt":Qn.vt})];if(!e)return t.join("");var a=1;return tn(e).forEach(function(n){++a,t[t.length]=Gt("property",due(e[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:a,name:Wr(n)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Yk={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},D5;function ahe(e,t,a){D5||(D5=Wj(Yk)),t=D5[t]||t,e[t]=a}function rhe(e,t){var a=[];return tn(Yk).map(function(r){for(var n=0;n<gc.length;++n)if(gc[n][1]==r)return gc[n];for(n=0;n<K0.length;++n)if(K0[n][1]==r)return K0[n];throw r}).forEach(function(r){if(e[r[1]]!=null){var n=t&&t.Props&&t.Props[r[1]]!=null?t.Props[r[1]]:e[r[1]];switch(r[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break}typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),a.push(zi(Yk[r[1]]||r[1],n))}}),Gt("DocumentProperties",a.join(""),{xmlns:Ao.o})}function she(e,t){var a=["Worksheets","SheetNames"],r="CustomDocumentProperties",n=[];return e&&tn(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var l=0;l<gc.length;++l)if(i==gc[l][1])return;for(l=0;l<K0.length;++l)if(i==K0[l][1])return;for(l=0;l<a.length;++l)if(i==a[l])return;var o=e[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),n.push(Gt(tP(i),o,{"dt:dt":c}))}}),t&&tn(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var l=t[i],o="string";typeof l=="number"?(o="float",l=String(l)):l===!0||l===!1?(o="boolean",l=l?"1":"0"):l instanceof Date?(o="dateTime.tz",l=l.toISOString()):l=String(l),n.push(Gt(tP(i),l,{"dt:dt":o}))}}),"<"+r+' xmlns="'+Ao.o+'">'+n.join("")+"</"+r+">"}function FA(e){var t=e.read_shift(4),a=e.read_shift(4);return new Date((a/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function nhe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,a=t.getTime()/1e3+11644473600,r=a%Math.pow(2,32),n=(a-r)/Math.pow(2,32);r*=1e7,n*=1e7;var i=r/Math.pow(2,32)|0;i>0&&(r=r%Math.pow(2,32),n+=i);var l=jt(8);return l.write_shift(4,r),l.write_shift(4,n),l}function wH(e,t,a){var r=e.l,n=e.read_shift(0,"lpstr-cp");if(a)for(;e.l-r&3;)++e.l;return n}function jH(e,t,a){var r=e.read_shift(0,"lpwstr");return r}function NH(e,t,a){return t===31?jH(e):wH(e,t,a)}function Xk(e,t,a){return NH(e,t,a===!1?0:4)}function ihe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return NH(e,t,0)}function lhe(e){for(var t=e.read_shift(4),a=[],r=0;r!=t;++r){var n=e.l;a[r]=e.read_shift(0,"lpwstr").replace(Pl,""),e.l-n&2&&(e.l+=2)}return a}function ohe(e){for(var t=e.read_shift(4),a=[],r=0;r!=t;++r)a[r]=e.read_shift(0,"lpstr-cp").replace(Pl,"");return a}function che(e){var t=e.l,a=hw(e,uH);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var r=hw(e,Yl);return[a,r]}function dhe(e){for(var t=e.read_shift(4),a=[],r=0;r<t/2;++r)a.push(che(e));return a}function xP(e,t){for(var a=e.read_shift(4),r={},n=0;n!=a;++n){var i=e.read_shift(4),l=e.read_shift(4);r[i]=e.read_shift(l,t===1200?"utf16le":"utf8").replace(Pl,"").replace(s1,"!"),t===1200&&l%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),r}function SH(e){var t=e.read_shift(4),a=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),a}function uhe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function hw(e,t,a){var r=e.read_shift(2),n,i=a||{};if(e.l+=2,t!==fP&&r!==t&&zue.indexOf(t)===-1&&!((t&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+t+" saw "+r);switch(t===fP?r:t){case 2:return n=e.read_shift(2,"i"),i.raw||(e.l+=2),n;case 3:return n=e.read_shift(4,"i"),n;case 11:return e.read_shift(4)!==0;case 19:return n=e.read_shift(4),n;case 30:return wH(e,r,4).replace(Pl,"");case 31:return jH(e);case 64:return FA(e);case 65:return SH(e);case 71:return uhe(e);case 80:return Xk(e,r,!i.raw).replace(Pl,"");case 81:return ihe(e,r).replace(Pl,"");case 4108:return dhe(e);case 4126:case 4127:return r==4127?lhe(e):ohe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}}function gP(e,t){var a=jt(4),r=jt(4);switch(a.write_shift(4,e==80?31:e),e){case 3:r.write_shift(-4,t);break;case 5:r=jt(8),r.write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=nhe(t);break;case 31:case 80:for(r=jt(4+2*(t.length+1)+(t.length%2?0:2)),r.write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return wi([a,r])}function vP(e,t){var a=e.l,r=e.read_shift(4),n=e.read_shift(4),i=[],l=0,o=0,c=-1,d={};for(l=0;l!=n;++l){var u=e.read_shift(4),f=e.read_shift(4);i[l]=[u,f+a]}i.sort(function(N,S){return N[1]-S[1]});var x={};for(l=0;l!=n;++l){if(e.l!==i[l][1]){var p=!0;if(l>0&&t)switch(t[i[l-1][0]].t){case 2:e.l+2===i[l][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[l][1]&&(e.l=i[l][1],p=!1);break;case 4108:e.l<=i[l][1]&&(e.l=i[l][1],p=!1);break}if((!t||l==0)&&e.l<=i[l][1]&&(p=!1,e.l=i[l][1]),p)throw new Error("Read Error: Expected address "+i[l][1]+" at "+e.l+" :"+l)}if(t){var v=t[i[l][0]];if(x[v.n]=hw(e,v.t,{raw:!0}),v.p==="version"&&(x[v.n]=String(x[v.n]>>16)+"."+("0000"+String(x[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(x[v.n]){case 0:x[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:id(o=x[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+x[v.n])}}else if(i[l][0]===1){if(o=x.CodePage=hw(e,OA),id(o),c!==-1){var g=e.l;e.l=i[c][1],d=xP(e,o),e.l=g}}else if(i[l][0]===0){if(o===0){c=l,e.l=i[l+1][1];continue}d=xP(e,o)}else{var b=d[i[l][0]],j;switch(e[e.l]){case 65:e.l+=4,j=SH(e);break;case 30:e.l+=4,j=Xk(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,j=Xk(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,j=e.read_shift(4,"i");break;case 19:e.l+=4,j=e.read_shift(4);break;case 5:e.l+=4,j=e.read_shift(8,"f");break;case 11:e.l+=4,j=gn(e,4);break;case 64:e.l+=4,j=ps(FA(e));break;default:throw new Error("unparsed value: "+e[e.l])}x[b]=j}}return e.l=a+r,x}var kH=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function hhe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function bP(e,t,a){var r=jt(8),n=[],i=[],l=8,o=0,c=jt(8),d=jt(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),n.push(d),l+=8+c.length,!t){d=jt(8),d.write_shift(4,0),n.unshift(d);var u=[jt(4)];for(u[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(c=jt(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=wi(u),i.unshift(c),l+=8+c.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(kH.indexOf(e[o][0])>-1||gH.indexOf(e[o][0])>-1)&&e[o][1]!=null){var x=e[o][1],p=0;if(t){p=+t[e[o][0]];var v=a[p];if(v.p=="version"&&typeof x=="string"){var g=x.split(".");x=(+g[0]<<16)+(+g[1]||0)}c=gP(v.t,x)}else{var b=hhe(x);b==-1&&(b=31,x=String(x)),c=gP(b,x)}i.push(c),d=jt(8),d.write_shift(4,t?p:2+o),n.push(d),l+=8+c.length}var j=8*(i.length+1);for(o=0;o<i.length;++o)n[o].write_shift(4,j),j+=i[o].length;return r.write_shift(4,l),r.write_shift(4,i.length),wi([r].concat(n).concat(i))}function yP(e,t,a){var r=e.content;if(!r)return{};Ui(r,0);var n,i,l,o,c=0;r.chk("feff","Byte Order: "),r.read_shift(2);var d=r.read_shift(4),u=r.read_shift(16);if(u!==ya.utils.consts.HEADER_CLSID&&u!==a)throw new Error("Bad PropertySet CLSID "+u);if(n=r.read_shift(4),n!==1&&n!==2)throw new Error("Unrecognized #Sets: "+n);if(i=r.read_shift(16),o=r.read_shift(4),n===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);n===2&&(l=r.read_shift(16),c=r.read_shift(4));var f=vP(r,t),x={SystemIdentifier:d};for(var p in f)x[p]=f[p];if(x.FMTID=i,n===1)return x;if(c-r.l==2&&(r.l+=2),r.l!==c)throw new Error("Length mismatch 2: "+r.l+" !== "+c);var v;try{v=vP(r,null)}catch{}for(p in v)x[p]=v[p];return x.FMTID=[i,l],x}function wP(e,t,a,r,n,i){var l=jt(n?68:48),o=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,ya.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,n?2:1),l.write_shift(16,t,"hex"),l.write_shift(4,n?68:48);var c=bP(e,a,r);if(o.push(c),n){var d=bP(n,null,null);l.write_shift(16,i,"hex"),l.write_shift(4,68+c.length),o.push(d)}return wi(o)}function df(e,t){return e.read_shift(t),null}function fhe(e,t){t||(t=jt(e));for(var a=0;a<e;++a)t.write_shift(1,0);return t}function mhe(e,t,a){for(var r=[],n=e.l+t;e.l<n;)r.push(a(e,n-e.l));if(n!==e.l)throw new Error("Slurp error");return r}function gn(e,t){return e.read_shift(t)===1}function Al(e,t){return t||(t=jt(2)),t.write_shift(2,+!!e),t}function On(e){return e.read_shift(2,"u")}function fc(e,t){return t||(t=jt(2)),t.write_shift(2,e),t}function CH(e,t){return mhe(e,t,On)}function phe(e){var t=e.read_shift(1),a=e.read_shift(1);return a===1?t:t===1}function AH(e,t,a){return a||(a=jt(2)),a.write_shift(1,t=="e"?+e:+!!e),a.write_shift(1,t=="e"?1:0),a}function Hv(e,t,a){var r=e.read_shift(a&&a.biff>=12?2:1),n="sbcs-cont";if(a&&a.biff>=8,!a||a.biff==8){var i=e.read_shift(1);i&&(n="dbcs-cont")}else a.biff==12&&(n="wstr");a.biff>=2&&a.biff<=5&&(n="cpstr");var l=r?e.read_shift(r,n):"";return l}function xhe(e){var t=e.read_shift(2),a=e.read_shift(1),r=a&4,n=a&8,i=1+(a&1),l=0,o,c={};n&&(l=e.read_shift(2)),r&&(o=e.read_shift(4));var d=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,d);return n&&(e.l+=4*l),r&&(e.l+=o),c.t=u,n||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function ghe(e){var t=e.t||"",a=jt(3);a.write_shift(2,t.length),a.write_shift(1,1);var r=jt(2*t.length);r.write_shift(2*t.length,t,"utf16le");var n=[a,r];return wi(n)}function fm(e,t,a){var r;if(a){if(a.biff>=2&&a.biff<=5)return e.read_shift(t,"cpstr");if(a.biff>=12)return e.read_shift(t,"dbcs-cont")}var n=e.read_shift(1);return n===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function Vv(e,t,a){var r=e.read_shift(a&&a.biff==2?1:2);return r===0?(e.l++,""):fm(e,r,a)}function Om(e,t,a){if(a.biff>5)return Vv(e,t,a);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,a.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function _H(e,t,a){return a||(a=jt(3+2*e.length)),a.write_shift(2,e.length),a.write_shift(1,1),a.write_shift(31,e,"utf16le"),a}function vhe(e){var t=e.read_shift(1);e.l++;var a=e.read_shift(2);return e.l+=2,[t,a]}function bhe(e){var t=e.read_shift(4),a=e.l,r=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),e.l=a);var n=e.read_shift((r?t-24:t)>>1,"utf16le").replace(Pl,"");return r&&(e.l+=24),n}function yhe(e){for(var t=e.read_shift(2),a="";t-- >0;)a+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var n=e.read_shift(4);if(n===0)return a+r.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var l=e.read_shift(i>>1,"utf16le").replace(Pl,"");return a+l}function whe(e,t){var a=e.read_shift(16);switch(a){case"e0c9ea79f9bace118c8200aa004ba90b":return bhe(e);case"0303000000000000c000000000000046":return yhe(e);default:throw new Error("Unsupported Moniker "+a)}}function $y(e){var t=e.read_shift(4),a=t>0?e.read_shift(t,"utf16le").replace(Pl,""):"";return a}function jP(e,t){t||(t=jt(6+e.length*2)),t.write_shift(4,1+e.length);for(var a=0;a<e.length;++a)t.write_shift(2,e.charCodeAt(a));return t.write_shift(2,0),t}function jhe(e,t){var a=e.l+t,r=e.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var n=e.read_shift(2);e.l+=2;var i,l,o,c,d="",u,f;n&16&&(i=$y(e,a-e.l)),n&128&&(l=$y(e,a-e.l)),(n&257)===257&&(o=$y(e,a-e.l)),(n&257)===1&&(c=whe(e,a-e.l)),n&8&&(d=$y(e,a-e.l)),n&32&&(u=e.read_shift(16)),n&64&&(f=FA(e)),e.l=a;var x=l||o||c||"";x&&d&&(x+="#"+d),x||(x="#"+d),n&2&&x.charAt(0)=="/"&&x.charAt(1)!="/"&&(x="file://"+x);var p={Target:x};return u&&(p.guid=u),f&&(p.time=f),i&&(p.Tooltip=i),p}function Nhe(e){var t=jt(512),a=0,r=e.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var n=r.indexOf("#"),i=n>-1?31:23;switch(r.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var l=[8,6815827,6619237,4849780,83];for(a=0;a<l.length;++a)t.write_shift(4,l[a]);if(i==28)r=r.slice(1),jP(r,t);else if(i&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<l.length;++a)t.write_shift(1,parseInt(l[a],16));var o=n>-1?r.slice(0,n):r;for(t.write_shift(4,2*(o.length+1)),a=0;a<o.length;++a)t.write_shift(2,o.charCodeAt(a));t.write_shift(2,0),i&8&&jP(n>-1?r.slice(n+1):"",t)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),a=0;a<l.length;++a)t.write_shift(1,parseInt(l[a],16));for(var c=0;r.slice(c*3,c*3+3)=="../"||r.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,r.length-3*c+1),a=0;a<r.length-3*c;++a)t.write_shift(1,r.charCodeAt(a+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),a=0;a<6;++a)t.write_shift(4,0)}return t.slice(0,t.l)}function TH(e){var t=e.read_shift(1),a=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1);return[t,a,r,n]}function EH(e,t){var a=TH(e);return a[3]=0,a}function lu(e){var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(2);return{r:t,c:a,ixfe:r}}function mm(e,t,a,r){return r||(r=jt(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,a||0),r}function She(e){var t=e.read_shift(2),a=e.read_shift(2);return e.l+=8,{type:t,flags:a}}function khe(e,t,a){return t===0?"":Om(e,t,a)}function Che(e,t,a){var r=a.biff>8?4:2,n=e.read_shift(r),i=e.read_shift(r,"i"),l=e.read_shift(r,"i");return[n,i,l]}function DH(e){var t=e.read_shift(2),a=LA(e);return[t,a]}function Ahe(e,t,a){e.l+=4,t-=4;var r=e.l+t,n=Hv(e,t,a),i=e.read_shift(2);if(r-=e.l,i!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+i);return e.l+=i,n}function Kj(e){var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{s:{c:r,r:t},e:{c:n,r:a}}}function MH(e,t){return t||(t=jt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function PH(e){var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(1),n=e.read_shift(1);return{s:{c:r,r:t},e:{c:n,r:a}}}var _he=PH;function LH(e){e.l+=4;var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[a,t,r]}function The(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Ehe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Yi(e){e.l+=2,e.l+=e.read_shift(2)}var Dhe={0:Yi,4:Yi,5:Yi,6:Yi,7:Ehe,8:Yi,9:Yi,10:Yi,11:Yi,12:Yi,13:The,14:Yi,15:Yi,16:Yi,17:Yi,18:Yi,19:Yi,20:Yi,21:LH};function Mhe(e,t){for(var a=e.l+t,r=[];e.l<a;){var n=e.read_shift(2);e.l-=2;try{r.push(Dhe[n](e,a-e.l))}catch{return e.l=a,r}}return e.l!=a&&(e.l=a),r}function Uy(e,t){var a={BIFFVer:0,dt:0};switch(a.BIFFVer=e.read_shift(2),t-=2,t>=2&&(a.dt=e.read_shift(2),e.l-=2),a.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+a.BIFFVer)}return e.read_shift(t),a}function IA(e,t,a){var r=1536,n=16;switch(a.bookType){case"biff8":break;case"biff5":r=1280,n=8;break;case"biff4":r=4,n=6;break;case"biff3":r=3,n=6;break;case"biff2":r=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=jt(n);return i.write_shift(2,r),i.write_shift(2,t),n>4&&i.write_shift(2,29282),n>6&&i.write_shift(2,1997),n>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Phe(e,t){return t===0||e.read_shift(2),1200}function Lhe(e,t,a){if(a.enc)return e.l+=t,"";var r=e.l,n=Om(e,0,a);return e.read_shift(t+r-e.l),n}function Ohe(e,t){var a=!t||t.biff==8,r=jt(a?112:54);for(r.write_shift(t.biff==8?2:1,7),a&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(a?0:536870912));r.l<r.length;)r.write_shift(1,a?0:32);return r}function Rhe(e,t,a){var r=a&&a.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function Fhe(e,t,a){var r=e.read_shift(4),n=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var l=Hv(e,0,a);return l.length===0&&(l="Sheet1"),{pos:r,hs:n,dt:i,name:l}}function Ihe(e,t){var a=!t||t.biff>=8?2:1,r=jt(8+a*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(a*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var n=r.slice(0,r.l);return n.l=r.l,n}function Bhe(e,t){for(var a=e.l+t,r=e.read_shift(4),n=e.read_shift(4),i=[],l=0;l!=n&&e.l<a;++l)i.push(xhe(e));return i.Count=r,i.Unique=n,i}function $he(e,t){var a=jt(8);a.write_shift(4,e.Count),a.write_shift(4,e.Unique);for(var r=[],n=0;n<e.length;++n)r[n]=ghe(e[n]);var i=wi([a].concat(r));return i.parts=[a.length].concat(r.map(function(l){return l.length})),i}function Uhe(e,t){var a={};return a.dsst=e.read_shift(2),e.l+=t-2,a}function zhe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var a=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,r&7&&(t.level=r&7),r&32&&(t.hidden=!0),r&64&&(t.hpt=a/20),t}function Hhe(e){var t=She(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var a=e.read_shift(4);return a!==0}function Vhe(e){return e.read_shift(2),e.read_shift(4)}function NP(e,t,a){var r=0;a&&a.biff==2||(r=e.read_shift(2));var n=e.read_shift(2);a&&a.biff==2&&(r=1-(n>>15),n&=32767);var i={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[i,n]}function Whe(e){var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),d=e.read_shift(2);return{Pos:[t,a],Dim:[r,n],Flags:i,CurTab:l,FirstTab:o,Selected:c,TabRatio:d}}function qhe(){var e=jt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Ghe(e,t,a){if(a&&a.biff>=2&&a.biff<5)return{};var r=e.read_shift(2);return{RTL:r&64}}function Khe(e){var t=jt(18),a=1718;return e&&e.RTL&&(a|=64),t.write_shift(2,a),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Yhe(){}function Xhe(e,t,a){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(a&&a.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return r.name=Hv(e,0,a),r}function Qhe(e,t){var a=e.name||"Arial",r=t&&t.biff==5,n=r?15+a.length:16+2*a.length,i=jt(n);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,a.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*a.length,a,r?"sbcs":"utf16le"),i}function Jhe(e){var t=lu(e);return t.isst=e.read_shift(4),t}function Zhe(e,t,a,r){var n=jt(10);return mm(e,t,r,n),n.write_shift(4,a),n}function efe(e,t,a){a.biffguess&&a.biff==2&&(a.biff=5);var r=e.l+t,n=lu(e);a.biff==2&&e.l++;var i=Vv(e,r-e.l,a);return n.val=i,n}function tfe(e,t,a,r,n){var i=!n||n.biff==8,l=jt(8+ +i+(1+i)*a.length);return mm(e,t,r,l),l.write_shift(2,a.length),i&&l.write_shift(1,1),l.write_shift((1+i)*a.length,a,i?"utf16le":"sbcs"),l}function afe(e,t,a){var r=e.read_shift(2),n=Om(e,0,a);return[r,n]}function rfe(e,t,a,r){var n=a&&a.biff==5;r||(r=jt(n?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(n?1:2,t.length),n||r.write_shift(1,1),r.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le");var i=r.length>r.l?r.slice(0,r.l):r;return i.l==null&&(i.l=i.length),i}var sfe=Om;function SP(e,t,a){var r=e.l+t,n=a.biff==8||!a.biff?4:2,i=e.read_shift(n),l=e.read_shift(n),o=e.read_shift(2),c=e.read_shift(2);return e.l=r,{s:{r:i,c:o},e:{r:l,c}}}function nfe(e,t){var a=t.biff==8||!t.biff?4:2,r=jt(2*a+6);return r.write_shift(a,e.s.r),r.write_shift(a,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}function ife(e){var t=e.read_shift(2),a=e.read_shift(2),r=DH(e);return{r:t,c:a,ixfe:r[0],rknum:r[1]}}function lfe(e,t){for(var a=e.l+t-2,r=e.read_shift(2),n=e.read_shift(2),i=[];e.l<a;)i.push(DH(e));if(e.l!==a)throw new Error("MulRK read error");var l=e.read_shift(2);if(i.length!=l-n+1)throw new Error("MulRK length mismatch");return{r,c:n,C:l,rkrec:i}}function ofe(e,t){for(var a=e.l+t-2,r=e.read_shift(2),n=e.read_shift(2),i=[];e.l<a;)i.push(e.read_shift(2));if(e.l!==a)throw new Error("MulBlank read error");var l=e.read_shift(2);if(i.length!=l-n+1)throw new Error("MulBlank length mismatch");return{r,c:n,C:l,ixfe:i}}function cfe(e,t,a,r){var n={},i=e.read_shift(4),l=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(2);return n.patternType=Hue[o>>26],r.cellStyles&&(n.alc=i&7,n.fWrap=i>>3&1,n.alcV=i>>4&7,n.fJustLast=i>>7&1,n.trot=i>>8&255,n.cIndent=i>>16&15,n.fShrinkToFit=i>>20&1,n.iReadOrder=i>>22&2,n.fAtrNum=i>>26&1,n.fAtrFnt=i>>27&1,n.fAtrAlc=i>>28&1,n.fAtrBdr=i>>29&1,n.fAtrPat=i>>30&1,n.fAtrProt=i>>31&1,n.dgLeft=l&15,n.dgRight=l>>4&15,n.dgTop=l>>8&15,n.dgBottom=l>>12&15,n.icvLeft=l>>16&127,n.icvRight=l>>23&127,n.grbitDiag=l>>30&3,n.icvTop=o&127,n.icvBottom=o>>7&127,n.icvDiag=o>>14&127,n.dgDiag=o>>21&15,n.icvFore=c&127,n.icvBack=c>>7&127,n.fsxButton=c>>14&1),n}function dfe(e,t,a){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,t-=6,r.data=cfe(e,t,r.fStyle,a),r}function kP(e,t,a,r){var n=a&&a.biff==5;r||(r=jt(n?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&n&&(i|=1024),r.write_shift(4,i),r.write_shift(4,0),n||r.write_shift(4,0),r.write_shift(2,0),r}function ufe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function hfe(e){var t=jt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function CP(e,t,a){var r=lu(e);(a.biff==2||t==9)&&++e.l;var n=phe(e);return r.val=n,r.t=n===!0||n===!1?"b":"e",r}function ffe(e,t,a,r,n,i){var l=jt(8);return mm(e,t,r,l),AH(a,i,l),l}function mfe(e,t,a){a.biffguess&&a.biff==2&&(a.biff=5);var r=lu(e),n=ol(e);return r.val=n,r}function pfe(e,t,a,r){var n=jt(14);return mm(e,t,r,n),hm(a,n),n}var AP=khe;function xfe(e,t,a){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);if(a.sbcch=i,i==1025||i==14849)return[i,n];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var l=fm(e,i),o=[];r>e.l;)o.push(Vv(e));return[i,n,l,o]}function _P(e,t,a){var r=e.read_shift(2),n,i={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return a.sbcch===14849&&(n=Ahe(e,t-2,a)),i.body=n||e.read_shift(t-2),typeof n=="string"&&(i.Name=n),i}var gfe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function TP(e,t,a){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(1),l=e.read_shift(1),o=e.read_shift(a&&a.biff==2?1:2),c=0;(!a||a.biff>=5)&&(a.biff!=5&&(e.l+=2),c=e.read_shift(2),a.biff==5&&(e.l+=2),e.l+=4);var d=fm(e,l,a);n&32&&(d=gfe[d.charCodeAt(0)]);var u=r-e.l;a&&a.biff==2&&--u;var f=r==e.l||o===0||!(u>0)?[]:Mxe(e,u,a,o);return{chKey:i,Name:d,itab:c,rgce:f}}function OH(e,t,a){if(a.biff<8)return vfe(e,t,a);for(var r=[],n=e.l+t,i=e.read_shift(a.biff>8?4:2);i--!==0;)r.push(Che(e,a.biff>8?12:6,a));if(e.l!=n)throw new Error("Bad ExternSheet: "+e.l+" != "+n);return r}function vfe(e,t,a){e[e.l+1]==3&&e[e.l]++;var r=Hv(e,t,a);return r.charCodeAt(0)==3?r.slice(1):r}function bfe(e,t,a){if(a.biff<8){e.l+=t;return}var r=e.read_shift(2),n=e.read_shift(2),i=fm(e,r,a),l=fm(e,n,a);return[i,l]}function yfe(e,t,a){var r=PH(e);e.l++;var n=e.read_shift(1);return t-=8,[Pxe(e,t,a),n,r]}function EP(e,t,a){var r=_he(e);switch(a.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,Exe(e,t,a)]}function wfe(e){var t=e.read_shift(4)!==0,a=e.read_shift(4)!==0,r=e.read_shift(4);return[t,a,r]}function jfe(e,t,a){if(!(a.biff<8)){var r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),o=Om(e,0,a);return a.biff<8&&e.read_shift(1),[{r,c:n},o,l,i]}}function Nfe(e,t,a){return jfe(e,t,a)}function Sfe(e,t){for(var a=[],r=e.read_shift(2);r--;)a.push(Kj(e));return a}function kfe(e){var t=jt(2+e.length*8);t.write_shift(2,e.length);for(var a=0;a<e.length;++a)MH(e[a],t);return t}function Cfe(e,t,a){if(a&&a.biff<8)return _fe(e,t,a);var r=LH(e),n=Mhe(e,t-22,r[1]);return{cmo:r,ft:n}}var Afe={8:function(e,t){var a=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var n=e.read_shift(1);return e.l+=n,e.l=a,{fmt:r}}};function _fe(e,t,a){e.l+=4;var r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var l=[];return l.push((Afe[r]||fl)(e,t,a)),{cmo:[n,r,i],ft:l}}function Tfe(e,t,a){var r=e.l,n="";try{e.l+=4;var i=(a.lastobj||{cmo:[0,0]}).cmo[1],l;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:l=vhe(e,6,a);var o=e.read_shift(2);e.read_shift(2),On(e,2);var c=e.read_shift(2);e.l+=c;for(var d=1;d<e.lens.length-1;++d){if(e.l-r!=e.lens[d])throw new Error("TxO: bad continue record");var u=e[e.l],f=fm(e,e.lens[d+1]-e.lens[d]-1);if(n+=f,n.length>=(u?o:2*o))break}if(n.length!==o&&n.length!==o*2)throw new Error("cchText: "+o+" != "+n.length);return e.l=r+t,{t:n}}catch{return e.l=r+t,{t:n}}}function Efe(e,t){var a=Kj(e);e.l+=16;var r=jhe(e,t-24);return[a,r]}function Dfe(e){var t=jt(24),a=Vs(e[0]);t.write_shift(2,a.r),t.write_shift(2,a.r),t.write_shift(2,a.c),t.write_shift(2,a.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)t.write_shift(1,parseInt(r[n],16));return wi([t,Nhe(e[1])])}function Mfe(e,t){e.read_shift(2);var a=Kj(e),r=e.read_shift((t-10)/2,"dbcs-cont");return r=r.replace(Pl,""),[a,r]}function Pfe(e){var t=e[1].Tooltip,a=jt(10+2*(t.length+1));a.write_shift(2,2048);var r=Vs(e[0]);a.write_shift(2,r.r),a.write_shift(2,r.r),a.write_shift(2,r.c),a.write_shift(2,r.c);for(var n=0;n<t.length;++n)a.write_shift(2,t.charCodeAt(n));return a.write_shift(2,0),a}function Lfe(e){var t=[0,0],a;return a=e.read_shift(2),t[0]=mP[a]||a,a=e.read_shift(2),t[1]=mP[a]||a,t}function Ofe(e){return e||(e=jt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Rfe(e){for(var t=e.read_shift(2),a=[];t-- >0;)a.push(EH(e));return a}function Ffe(e){for(var t=e.read_shift(2),a=[];t-- >0;)a.push(EH(e));return a}function Ife(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function RH(e,t,a){if(!a.cellStyles)return fl(e,t);var r=a&&a.biff>=12?4:2,n=e.read_shift(r),i=e.read_shift(r),l=e.read_shift(r),o=e.read_shift(r),c=e.read_shift(2);r==2&&(e.l+=2);var d={s:n,e:i,w:l,ixfe:o,flags:c};return(a.biff>=5||!a.biff)&&(d.level=c>>8&7),d}function Bfe(e,t){var a=jt(12);a.write_shift(2,t),a.write_shift(2,t),a.write_shift(2,e.width*256),a.write_shift(2,0);var r=0;return e.hidden&&(r|=1),a.write_shift(1,r),r=e.level||0,a.write_shift(1,r),a.write_shift(2,0),a}function $fe(e,t){var a={};return t<32||(e.l+=16,a.header=ol(e),a.footer=ol(e),e.l+=2),a}function Ufe(e,t,a){var r={area:!1};if(a.biff!=5)return e.l+=t,r;var n=e.read_shift(1);return e.l+=3,n&16&&(r.area=!0),r}function zfe(e){for(var t=jt(2*e),a=0;a<e;++a)t.write_shift(2,a+1);return t}var Hfe=lu,Vfe=CH,Wfe=Vv;function qfe(e){var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(4),n={fmt:t,env:a,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,n}function Gfe(e,t,a){a.biffguess&&a.biff==5&&(a.biff=2);var r=lu(e);++e.l;var n=Om(e,t-7,a);return r.t="str",r.val=n,r}function Kfe(e){var t=lu(e);++e.l;var a=ol(e);return t.t="n",t.val=a,t}function Yfe(e,t,a){var r=jt(15);return Kv(r,e,t),r.write_shift(8,a,"f"),r}function Xfe(e){var t=lu(e);++e.l;var a=e.read_shift(2);return t.t="n",t.val=a,t}function Qfe(e,t,a){var r=jt(9);return Kv(r,e,t),r.write_shift(2,a),r}function Jfe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function Zfe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function e0e(e,t,a){var r=e.l+t,n=lu(e),i=e.read_shift(2),l=fm(e,i,a);return e.l=r,n.t="str",n.val=l,n}var t0e=[2,3,48,49,131,139,140,245],Qk=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Wj({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function a(o,c){var d=[],u=Df(1);switch(c.type){case"base64":u=Eo(Oo(o));break;case"binary":u=Eo(o);break;case"buffer":case"array":u=o;break}Ui(u,0);var f=u.read_shift(1),x=!!(f&136),p=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,x=!0;break;case 49:p=!0,x=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,b=521;f==2&&(g=u.read_shift(2)),u.l+=3,f!=2&&(g=u.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(b=u.read_shift(2));var j=u.read_shift(2),N=c.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(N=e[u[u.l]]),u.l+=1,u.l+=2),v&&(u.l+=36);for(var S=[],k={},A=Math.min(u.length,f==2?521:b-10-(p?264:0)),_=v?32:11;u.l<A&&u[u.l]!=13;)switch(k={},k.name=q1.utils.decode(N,u.slice(u.l,u.l+_)).replace(/[\u0000\r\n].*$/g,""),u.l+=_,k.type=String.fromCharCode(u.read_shift(1)),f!=2&&!v&&(k.offset=u.read_shift(4)),k.len=u.read_shift(1),f==2&&(k.offset=u.read_shift(2)),k.dec=u.read_shift(1),k.name.length&&S.push(k),f!=2&&(u.l+=v?13:14),k.type){case"B":(!p||k.len!=8)&&c.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+k.type)}if(u[u.l]!==13&&(u.l=b-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=b;var M=0,L=0;for(d[0]=[],L=0;L!=S.length;++L)d[0][L]=S[L].name;for(;g-- >0;){if(u[u.l]===42){u.l+=j;continue}for(++u.l,d[++M]=[],L=0,L=0;L!=S.length;++L){var U=u.slice(u.l,u.l+S[L].len);u.l+=S[L].len,Ui(U,0);var z=q1.utils.decode(N,U);switch(S[L].type){case"C":z.trim().length&&(d[M][L]=z.replace(/\s+$/,""));break;case"D":z.length===8?d[M][L]=new Date(+z.slice(0,4),+z.slice(4,6)-1,+z.slice(6,8)):d[M][L]=z;break;case"F":d[M][L]=parseFloat(z.trim());break;case"+":case"I":d[M][L]=v?U.read_shift(-4,"i")^2147483648:U.read_shift(4,"i");break;case"L":switch(z.trim().toUpperCase()){case"Y":case"T":d[M][L]=!0;break;case"N":case"F":d[M][L]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+z+"|")}break;case"M":if(!x)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));d[M][L]="##MEMO##"+(v?parseInt(z.trim(),10):U.read_shift(4));break;case"N":z=z.replace(/\u0000/g,"").trim(),z&&z!="."&&(d[M][L]=+z||0);break;case"@":d[M][L]=new Date(U.read_shift(-8,"f")-621356832e5);break;case"T":d[M][L]=new Date((U.read_shift(4)-2440588)*864e5+U.read_shift(4));break;case"Y":d[M][L]=U.read_shift(4,"i")/1e4+U.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[M][L]=-U.read_shift(-8,"f");break;case"B":if(p&&S[L].len==8){d[M][L]=U.read_shift(8,"f");break}case"G":case"P":U.l+=S[L].len;break;case"0":if(S[L].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[L].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=S,d}function r(o,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=Cx(a(o,d),d);return u["!cols"]=d.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete d.DBF,u}function n(o,c){try{return Vf(r(o,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function l(o,c){var d=c||{};if(+d.codepage>=0&&id(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=ro(),f=pw(o,{header:1,raw:!0,cellDates:!0}),x=f[0],p=f.slice(1),v=o["!cols"]||[],g=0,b=0,j=0,N=1;for(g=0;g<x.length;++g){if(((v[g]||{}).DBF||{}).name){x[g]=v[g].DBF.name,++j;continue}if(x[g]!=null){if(++j,typeof x[g]=="number"&&(x[g]=x[g].toString(10)),typeof x[g]!="string")throw new Error("DBF Invalid column name "+x[g]+" |"+typeof x[g]+"|");if(x.indexOf(x[g])!==g){for(b=0;b<1024;++b)if(x.indexOf(x[g]+"_"+b)==-1){x[g]+="_"+b;break}}}}var S=kr(o["!ref"]),k=[],A=[],_=[];for(g=0;g<=S.e.c-S.s.c;++g){var M="",L="",U=0,z=[];for(b=0;b<p.length;++b)p[b][g]!=null&&z.push(p[b][g]);if(z.length==0||x[g]==null){k[g]="?";continue}for(b=0;b<z.length;++b){switch(typeof z[b]){case"number":L="B";break;case"string":L="C";break;case"boolean":L="L";break;case"object":L=z[b]instanceof Date?"D":"C";break;default:L="C"}U=Math.max(U,String(z[b]).length),M=M&&M!=L?"C":L}U>250&&(U=250),L=((v[g]||{}).DBF||{}).type,L=="C"&&v[g].DBF.len>U&&(U=v[g].DBF.len),M=="B"&&L=="N"&&(M="N",_[g]=v[g].DBF.dec,U=v[g].DBF.len),A[g]=M=="C"||L=="N"?U:i[M]||0,N+=A[g],k[g]=M}var O=u.next(32);for(O.write_shift(4,318902576),O.write_shift(4,p.length),O.write_shift(2,296+32*j),O.write_shift(2,N),g=0;g<4;++g)O.write_shift(4,0);for(O.write_shift(4,0|(+t[kz]||3)<<8),g=0,b=0;g<x.length;++g)if(x[g]!=null){var B=u.next(32),E=(x[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);B.write_shift(1,E,"sbcs"),B.write_shift(1,k[g]=="?"?"C":k[g],"sbcs"),B.write_shift(4,b),B.write_shift(1,A[g]||i[k[g]]||0),B.write_shift(1,_[g]||0),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(1,0),B.write_shift(4,0),B.write_shift(4,0),b+=A[g]||i[k[g]]||0}var R=u.next(264);for(R.write_shift(4,13),g=0;g<65;++g)R.write_shift(4,0);for(g=0;g<p.length;++g){var q=u.next(N);for(q.write_shift(1,0),b=0;b<x.length;++b)if(x[b]!=null)switch(k[b]){case"L":q.write_shift(1,p[g][b]==null?63:p[g][b]?84:70);break;case"B":q.write_shift(8,p[g][b]||0,"f");break;case"N":var I="0";for(typeof p[g][b]=="number"&&(I=p[g][b].toFixed(_[b]||0)),j=0;j<A[b]-I.length;++j)q.write_shift(1,32);q.write_shift(1,I,"sbcs");break;case"D":p[g][b]?(q.write_shift(4,("0000"+p[g][b].getFullYear()).slice(-4),"sbcs"),q.write_shift(2,("00"+(p[g][b].getMonth()+1)).slice(-2),"sbcs"),q.write_shift(2,("00"+p[g][b].getDate()).slice(-2),"sbcs")):q.write_shift(8,"00000000","sbcs");break;case"C":var G=String(p[g][b]!=null?p[g][b]:"").slice(0,A[b]);for(q.write_shift(1,G,"sbcs"),j=0;j<A[b]-G.length;++j)q.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:n,to_sheet:r,from_sheet:l}})(),FH=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+tn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),a=function(x,p){var v=e[p];return typeof v=="number"?UM(v):v},r=function(x,p,v){var g=p.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return g==59?x:UM(g)};e["|"]=254;function n(x,p){switch(p.type){case"base64":return i(Oo(x),p);case"binary":return i(x,p);case"buffer":return i(ar&&Buffer.isBuffer(x)?x.toString("binary"):Hf(x),p);case"array":return i(um(x),p)}throw new Error("Unrecognized type "+p.type)}function i(x,p){var v=x.split(/[\n\r]+/),g=-1,b=-1,j=0,N=0,S=[],k=[],A=null,_={},M=[],L=[],U=[],z=0,O;for(+p.codepage>=0&&id(+p.codepage);j!==v.length;++j){z=0;var B=v[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,a),E=B.replace(/;;/g,"\0").split(";").map(function(J){return J.replace(/\u0000/g,";")}),R=E[0],q;if(B.length>0)switch(R){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":E[1].charAt(0)=="P"&&k.push(B.slice(3).replace(/;;/g,";"));break;case"C":var I=!1,G=!1,re=!1,te=!1,X=-1,ce=-1;for(N=1;N<E.length;++N)switch(E[N].charAt(0)){case"A":break;case"X":b=parseInt(E[N].slice(1))-1,G=!0;break;case"Y":for(g=parseInt(E[N].slice(1))-1,G||(b=0),O=S.length;O<=g;++O)S[O]=[];break;case"K":q=E[N].slice(1),q.charAt(0)==='"'?q=q.slice(1,q.length-1):q==="TRUE"?q=!0:q==="FALSE"?q=!1:isNaN(od(q))?isNaN(ix(q).getDate())||(q=ps(q)):(q=od(q),A!==null&&Sx(A)&&(q=Gj(q))),I=!0;break;case"E":te=!0;var D=Kp(E[N].slice(1),{r:g,c:b});S[g][b]=[S[g][b],D];break;case"S":re=!0,S[g][b]=[S[g][b],"S5S"];break;case"G":break;case"R":X=parseInt(E[N].slice(1))-1;break;case"C":ce=parseInt(E[N].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+B)}if(I&&(S[g][b]&&S[g][b].length==2?S[g][b][0]=q:S[g][b]=q,A=null),re){if(te)throw new Error("SYLK shared formula cannot have own formula");var Q=X>-1&&S[X][ce];if(!Q||!Q[1])throw new Error("SYLK shared formula cannot find base");S[g][b][1]=tV(Q[1],{r:g-X,c:b-ce})}break;case"F":var H=0;for(N=1;N<E.length;++N)switch(E[N].charAt(0)){case"X":b=parseInt(E[N].slice(1))-1,++H;break;case"Y":for(g=parseInt(E[N].slice(1))-1,O=S.length;O<=g;++O)S[O]=[];break;case"M":z=parseInt(E[N].slice(1))/20;break;case"F":break;case"G":break;case"P":A=k[parseInt(E[N].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(U=E[N].slice(1).split(" "),O=parseInt(U[0],10);O<=parseInt(U[1],10);++O)z=parseInt(U[2],10),L[O-1]=z===0?{hidden:!0}:{wch:z},Mf(L[O-1]);break;case"C":b=parseInt(E[N].slice(1))-1,L[b]||(L[b]={});break;case"R":g=parseInt(E[N].slice(1))-1,M[g]||(M[g]={}),z>0?(M[g].hpt=z,M[g].hpx=ox(z)):z===0&&(M[g].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+B)}H<1&&(A=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+B)}}return M.length>0&&(_["!rows"]=M),L.length>0&&(_["!cols"]=L),p&&p.sheetRows&&(S=S.slice(0,p.sheetRows)),[S,_]}function l(x,p){var v=n(x,p),g=v[0],b=v[1],j=Cx(g,p);return tn(b).forEach(function(N){j[N]=b[N]}),j}function o(x,p){return Vf(l(x,p),p)}function c(x,p,v,g){var b="C;Y"+(v+1)+";X"+(g+1)+";K";switch(x.t){case"n":b+=x.v||0,x.f&&!x.F&&(b+=";E"+VA(x.f,{r:v,c:g}));break;case"b":b+=x.v?"TRUE":"FALSE";break;case"e":b+=x.w||x.v;break;case"d":b+='"'+(x.w||x.v)+'"';break;case"s":b+='"'+x.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function d(x,p){p.forEach(function(v,g){var b="F;W"+(g+1)+" "+(g+1)+" ";v.hidden?b+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=ev(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=tv(v.wpx)),typeof v.wch=="number"&&(b+=Math.round(v.wch))),b.charAt(b.length-1)!=" "&&x.push(b)})}function u(x,p){p.forEach(function(v,g){var b="F;";v.hidden?b+="M0;":v.hpt?b+="M"+20*v.hpt+";":v.hpx&&(b+="M"+20*av(v.hpx)+";"),b.length>2&&x.push(b+"R"+(g+1))})}function f(x,p){var v=["ID;PWXL;N;E"],g=[],b=kr(x["!ref"]),j,N=Array.isArray(x),S=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),x["!cols"]&&d(v,x["!cols"]),x["!rows"]&&u(v,x["!rows"]),v.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var k=b.s.r;k<=b.e.r;++k)for(var A=b.s.c;A<=b.e.c;++A){var _=_a({r:k,c:A});j=N?(x[k]||[])[A]:x[_],!(!j||j.v==null&&(!j.f||j.F))&&g.push(c(j,x,k,A))}return v.join(S)+S+g.join(S)+S+"E"+S}return{to_workbook:o,to_sheet:l,from_sheet:f}})(),IH=(function(){function e(i,l){switch(l.type){case"base64":return t(Oo(i),l);case"binary":return t(i,l);case"buffer":return t(ar&&Buffer.isBuffer(i)?i.toString("binary"):Hf(i),l);case"array":return t(um(i),l)}throw new Error("Unrecognized type "+l.type)}function t(i,l){for(var o=i.split(`
`),c=-1,d=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++c]=[],d=0;continue}if(!(c<0)){var x=o[u].trim().split(","),p=x[0],v=x[1];++u;for(var g=o[u]||"";(g.match(/["]/g)||[]).length&1&&u<o.length-1;)g+=`
`+o[++u];switch(g=g.trim(),+p){case-1:if(g==="BOT"){f[++c]=[],d=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[c][d]=!0:g==="FALSE"?f[c][d]=!1:isNaN(od(v))?isNaN(ix(v).getDate())?f[c][d]=v:f[c][d]=ps(v):f[c][d]=od(v),++d;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[c][d++]=g!==""?g:null;break}if(g==="EOD")break}}return l&&l.sheetRows&&(f=f.slice(0,l.sheetRows)),f}function a(i,l){return Cx(e(i,l),l)}function r(i,l){return Vf(a(i,l),l)}var n=(function(){var i=function(c,d,u,f,x){c.push(d),c.push(u+","+f),c.push('"'+x.replace(/"/g,'""')+'"')},l=function(c,d,u,f){c.push(d+","+u),c.push(d==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var d=[],u=kr(c["!ref"]),f,x=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,u.e.r-u.s.r+1,""),i(d,"TUPLES",0,u.e.c-u.s.c+1,""),i(d,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){l(d,-1,0,"BOT");for(var v=u.s.c;v<=u.e.c;++v){var g=_a({r:p,c:v});if(f=x?(c[p]||[])[v]:c[g],!f){l(d,1,0,"");continue}switch(f.t){case"n":var b=f.w;!b&&f.v!=null&&(b=f.v),b==null?f.f&&!f.F?l(d,1,0,"="+f.f):l(d,1,0,""):l(d,0,b,"V");break;case"b":l(d,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":l(d,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=yc(f.z||Ca[14],ei(ps(f.v)))),l(d,0,f.w,"V");break;default:l(d,1,0,"")}}}l(d,-1,0,"EOD");var j=`\r
`,N=d.join(j);return N}})();return{to_workbook:r,to_sheet:a,from_sheet:n}})(),BH=(function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function a(f,x){for(var p=f.split(`
`),v=-1,g=-1,b=0,j=[];b!==p.length;++b){var N=p[b].trim().split(":");if(N[0]==="cell"){var S=Vs(N[1]);if(j.length<=S.r)for(v=j.length;v<=S.r;++v)j[v]||(j[v]=[]);switch(v=S.r,g=S.c,N[2]){case"t":j[v][g]=e(N[3]);break;case"v":j[v][g]=+N[3];break;case"vtf":var k=N[N.length-1];case"vtc":switch(N[3]){case"nl":j[v][g]=!!+N[4];break;default:j[v][g]=+N[4];break}N[2]=="vtf"&&(j[v][g]=[j[v][g],k])}}}return x&&x.sheetRows&&(j=j.slice(0,x.sheetRows)),j}function r(f,x){return Cx(a(f,x),x)}function n(f,x){return Vf(r(f,x),x)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(f){if(!f||!f["!ref"])return"";for(var x=[],p=[],v,g="",b=so(f["!ref"]),j=Array.isArray(f),N=b.s.r;N<=b.e.r;++N)for(var S=b.s.c;S<=b.e.c;++S)if(g=_a({r:N,c:S}),v=j?(f[N]||[])[S]:f[g],!(!v||v.v==null||v.t==="z")){switch(p=["cell",g,"t"],v.t){case"s":case"str":p.push(t(v.v));break;case"n":v.f?(p[2]="vtf",p[3]="n",p[4]=v.v,p[5]=t(v.f)):(p[2]="v",p[3]=v.v);break;case"b":p[2]="vt"+(v.f?"f":"c"),p[3]="nl",p[4]=v.v?"1":"0",p[5]=t(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var k=ei(ps(v.v));p[2]="vtc",p[3]="nd",p[4]=""+k,p[5]=v.w||yc(v.z||Ca[14],k);break;case"e":continue}x.push(p.join(":"))}return x.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),x.push("valueformat:1:text-wiki"),x.join(`
`)}function u(f){return[i,l,o,l,d(f),c].join(`
`)}return{to_workbook:n,to_sheet:r,from_sheet:u}})(),lx=(function(){function e(u,f,x,p,v){v.raw?f[x][p]=u:u===""||(u==="TRUE"?f[x][p]=!0:u==="FALSE"?f[x][p]=!1:isNaN(od(u))?isNaN(ix(u).getDate())?f[x][p]=u:f[x][p]=ps(u):f[x][p]=od(u))}function t(u,f){var x=f||{},p=[];if(!u||u.length===0)return p;for(var v=u.split(/[\r\n]/),g=v.length-1;g>=0&&v[g].length===0;)--g;for(var b=10,j=0,N=0;N<=g;++N)j=v[N].indexOf(" "),j==-1?j=v[N].length:j++,b=Math.max(b,j);for(N=0;N<=g;++N){p[N]=[];var S=0;for(e(v[N].slice(0,b).trim(),p,N,S,x),S=1;S<=(v[N].length-b)/10+1;++S)e(v[N].slice(b+(S-1)*10,b+S*10).trim(),p,N,S,x)}return x.sheetRows&&(p=p.slice(0,x.sheetRows)),p}var a={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function n(u){for(var f={},x=!1,p=0,v=0;p<u.length;++p)(v=u.charCodeAt(p))==34?x=!x:!x&&v in a&&(f[v]=(f[v]||0)+1);v=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p]);if(!v.length){f=r;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p])}return v.sort(function(g,b){return g[0]-b[0]||r[g[1]]-r[b[1]]}),a[v.pop()[1]]||44}function i(u,f){var x=f||{},p="",v=x.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=n(u.slice(0,1024)):x&&x.FS?p=x.FS:p=n(u.slice(0,1024));var b=0,j=0,N=0,S=0,k=0,A=p.charCodeAt(0),_=!1,M=0,L=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var U=x.dateNF!=null?Ude(x.dateNF):null;function z(){var O=u.slice(S,k),B={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)B.t="z";else if(x.raw)B.t="s",B.v=O;else if(O.trim().length===0)B.t="s",B.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(B.t="s",B.v=O.slice(2,-1).replace(/""/g,'"')):xpe(O)?(B.t="n",B.f=O.slice(1)):(B.t="s",B.v=O);else if(O=="TRUE")B.t="b",B.v=!0;else if(O=="FALSE")B.t="b",B.v=!1;else if(!isNaN(N=od(O)))B.t="n",x.cellText!==!1&&(B.w=O),B.v=N;else if(!isNaN(ix(O).getDate())||U&&O.match(U)){B.z=x.dateNF||Ca[14];var E=0;U&&O.match(U)&&(O=zde(O,x.dateNF,O.match(U)||[]),E=1),x.cellDates?(B.t="d",B.v=ps(O,E)):(B.t="n",B.v=ei(ps(O,E))),x.cellText!==!1&&(B.w=yc(B.z,B.v instanceof Date?ei(B.v):B.v)),x.cellNF||delete B.z}else B.t="s",B.v=O;if(B.t=="z"||(x.dense?(v[b]||(v[b]=[]),v[b][j]=B):v[_a({c:j,r:b})]=B),S=k+1,L=u.charCodeAt(S),g.e.c<j&&(g.e.c=j),g.e.r<b&&(g.e.r=b),M==A)++j;else if(j=0,++b,x.sheetRows&&x.sheetRows<=b)return!0}e:for(;k<u.length;++k)switch(M=u.charCodeAt(k)){case 34:L===34&&(_=!_);break;case A:case 10:case 13:if(!_&&z())break e;break}return k-S>0&&z(),v["!ref"]=Xa(g),v}function l(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):Cx(t(u,f),f)}function o(u,f){var x="",p=f.type=="string"?[0,0,0,0]:ZA(u,f);switch(f.type){case"base64":x=Oo(u);break;case"binary":x=u;break;case"buffer":f.codepage==65001?x=u.toString("utf8"):f.codepage&&typeof q1<"u"||(x=ar&&Buffer.isBuffer(u)?u.toString("binary"):Hf(u));break;case"array":x=um(u);break;case"string":x=u;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?x=Qr(x.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?x=Qr(x):f.type=="binary"&&typeof q1<"u",x.slice(0,19)=="socialcalc:version:"?BH.to_sheet(f.type=="string"?x:Qr(x),f):l(x,f)}function c(u,f){return Vf(o(u,f),f)}function d(u){for(var f=[],x=kr(u["!ref"]),p,v=Array.isArray(u),g=x.s.r;g<=x.e.r;++g){for(var b=[],j=x.s.c;j<=x.e.c;++j){var N=_a({r:g,c:j});if(p=v?(u[g]||[])[j]:u[N],!p||p.v==null){b.push("          ");continue}for(var S=(p.w||(ch(p),p.w)||"").slice(0,10);S.length<10;)S+=" ";b.push(S+(j===0?" ":""))}f.push(b.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:d}})();function a0e(e,t){var a=t||{},r=!!a.WTF;a.WTF=!0;try{var n=FH.to_workbook(e,a);return a.WTF=r,n}catch(i){if(a.WTF=r,!i.message.match(/SYLK bad record ID/)&&r)throw i;return lx.to_workbook(e,t)}}var Y0=(function(){function e(D,Q,H){if(D){Ui(D,D.l||0);for(var J=H.Enum||X;D.l<D.length;){var ae=D.read_shift(2),ie=J[ae]||J[65535],le=D.read_shift(2),Y=D.l+le,oe=ie.f&&ie.f(D,le,H);if(D.l=Y,Q(oe,ie,ae))return}}}function t(D,Q){switch(Q.type){case"base64":return a(Eo(Oo(D)),Q);case"binary":return a(Eo(D),Q);case"buffer":case"array":return a(D,Q)}throw"Unsupported type "+Q.type}function a(D,Q){if(!D)return D;var H=Q||{},J=H.dense?[]:{},ae="Sheet1",ie="",le=0,Y={},oe=[],xe=[],W={s:{r:0,c:0},e:{r:0,c:0}},he=H.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)H.Enum=X,e(D,function(Fe,Ee,se){switch(se){case 0:H.vers=Fe,Fe>=4096&&(H.qpro=!0);break;case 6:W=Fe;break;case 204:Fe&&(ie=Fe);break;case 222:ie=Fe;break;case 15:case 51:H.qpro||(Fe[1].v=Fe[1].v.slice(1));case 13:case 14:case 16:se==14&&(Fe[2]&112)==112&&(Fe[2]&15)>1&&(Fe[2]&15)<15&&(Fe[1].z=H.dateNF||Ca[14],H.cellDates&&(Fe[1].t="d",Fe[1].v=Gj(Fe[1].v))),H.qpro&&Fe[3]>le&&(J["!ref"]=Xa(W),Y[ae]=J,oe.push(ae),J=H.dense?[]:{},W={s:{r:0,c:0},e:{r:0,c:0}},le=Fe[3],ae=ie||"Sheet"+(le+1),ie="");var _e=H.dense?(J[Fe[0].r]||[])[Fe[0].c]:J[_a(Fe[0])];if(_e){_e.t=Fe[1].t,_e.v=Fe[1].v,Fe[1].z!=null&&(_e.z=Fe[1].z),Fe[1].f!=null&&(_e.f=Fe[1].f);break}H.dense?(J[Fe[0].r]||(J[Fe[0].r]=[]),J[Fe[0].r][Fe[0].c]=Fe[1]):J[_a(Fe[0])]=Fe[1];break}},H);else if(D[2]==26||D[2]==14)H.Enum=ce,D[2]==14&&(H.qpro=!0,D.l=0),e(D,function(Fe,Ee,se){switch(se){case 204:ae=Fe;break;case 22:Fe[1].v=Fe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Fe[3]>le&&(J["!ref"]=Xa(W),Y[ae]=J,oe.push(ae),J=H.dense?[]:{},W={s:{r:0,c:0},e:{r:0,c:0}},le=Fe[3],ae="Sheet"+(le+1)),he>0&&Fe[0].r>=he)break;H.dense?(J[Fe[0].r]||(J[Fe[0].r]=[]),J[Fe[0].r][Fe[0].c]=Fe[1]):J[_a(Fe[0])]=Fe[1],W.e.c<Fe[0].c&&(W.e.c=Fe[0].c),W.e.r<Fe[0].r&&(W.e.r=Fe[0].r);break;case 27:Fe[14e3]&&(xe[Fe[14e3][0]]=Fe[14e3][1]);break;case 1537:xe[Fe[0]]=Fe[1],Fe[0]==le&&(ae=Fe[1]);break}},H);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(J["!ref"]=Xa(W),Y[ie||ae]=J,oe.push(ie||ae),!xe.length)return{SheetNames:oe,Sheets:Y};for(var fe={},de=[],Oe=0;Oe<xe.length;++Oe)Y[oe[Oe]]?(de.push(xe[Oe]||oe[Oe]),fe[xe[Oe]]=Y[xe[Oe]]||Y[oe[Oe]]):(de.push(xe[Oe]),fe[xe[Oe]]={"!ref":"A1"});return{SheetNames:de,Sheets:fe}}function r(D,Q){var H=Q||{};if(+H.codepage>=0&&id(+H.codepage),H.type=="string")throw new Error("Cannot write WK1 to JS string");var J=ro(),ae=kr(D["!ref"]),ie=Array.isArray(D),le=[];Kt(J,0,i(1030)),Kt(J,6,c(ae));for(var Y=Math.min(ae.e.r,8191),oe=ae.s.r;oe<=Y;++oe)for(var xe=Sn(oe),W=ae.s.c;W<=ae.e.c;++W){oe===ae.s.r&&(le[W]=Hs(W));var he=le[W]+xe,fe=ie?(D[oe]||[])[W]:D[he];if(!(!fe||fe.t=="z"))if(fe.t=="n")(fe.v|0)==fe.v&&fe.v>=-32768&&fe.v<=32767?Kt(J,13,p(oe,W,fe.v)):Kt(J,14,g(oe,W,fe.v));else{var de=ch(fe);Kt(J,15,f(oe,W,de.slice(0,239)))}}return Kt(J,1),J.end()}function n(D,Q){var H=Q||{};if(+H.codepage>=0&&id(+H.codepage),H.type=="string")throw new Error("Cannot write WK3 to JS string");var J=ro();Kt(J,0,l(D));for(var ae=0,ie=0;ae<D.SheetNames.length;++ae)(D.Sheets[D.SheetNames[ae]]||{})["!ref"]&&Kt(J,27,te(D.SheetNames[ae],ie++));var le=0;for(ae=0;ae<D.SheetNames.length;++ae){var Y=D.Sheets[D.SheetNames[ae]];if(!(!Y||!Y["!ref"])){for(var oe=kr(Y["!ref"]),xe=Array.isArray(Y),W=[],he=Math.min(oe.e.r,8191),fe=oe.s.r;fe<=he;++fe)for(var de=Sn(fe),Oe=oe.s.c;Oe<=oe.e.c;++Oe){fe===oe.s.r&&(W[Oe]=Hs(Oe));var Fe=W[Oe]+de,Ee=xe?(Y[fe]||[])[Oe]:Y[Fe];if(!(!Ee||Ee.t=="z"))if(Ee.t=="n")Kt(J,23,z(fe,Oe,le,Ee.v));else{var se=ch(Ee);Kt(J,22,M(fe,Oe,le,se.slice(0,239)))}}++le}}return Kt(J,1),J.end()}function i(D){var Q=jt(2);return Q.write_shift(2,D),Q}function l(D){var Q=jt(26);Q.write_shift(2,4096),Q.write_shift(2,4),Q.write_shift(4,0);for(var H=0,J=0,ae=0,ie=0;ie<D.SheetNames.length;++ie){var le=D.SheetNames[ie],Y=D.Sheets[le];if(!(!Y||!Y["!ref"])){++ae;var oe=so(Y["!ref"]);H<oe.e.r&&(H=oe.e.r),J<oe.e.c&&(J=oe.e.c)}}return H>8191&&(H=8191),Q.write_shift(2,H),Q.write_shift(1,ae),Q.write_shift(1,J),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(1,1),Q.write_shift(1,2),Q.write_shift(4,0),Q.write_shift(4,0),Q}function o(D,Q,H){var J={s:{c:0,r:0},e:{c:0,r:0}};return Q==8&&H.qpro?(J.s.c=D.read_shift(1),D.l++,J.s.r=D.read_shift(2),J.e.c=D.read_shift(1),D.l++,J.e.r=D.read_shift(2),J):(J.s.c=D.read_shift(2),J.s.r=D.read_shift(2),Q==12&&H.qpro&&(D.l+=2),J.e.c=D.read_shift(2),J.e.r=D.read_shift(2),Q==12&&H.qpro&&(D.l+=2),J.s.c==65535&&(J.s.c=J.e.c=J.s.r=J.e.r=0),J)}function c(D){var Q=jt(8);return Q.write_shift(2,D.s.c),Q.write_shift(2,D.s.r),Q.write_shift(2,D.e.c),Q.write_shift(2,D.e.r),Q}function d(D,Q,H){var J=[{c:0,r:0},{t:"n",v:0},0,0];return H.qpro&&H.vers!=20768?(J[0].c=D.read_shift(1),J[3]=D.read_shift(1),J[0].r=D.read_shift(2),D.l+=2):(J[2]=D.read_shift(1),J[0].c=D.read_shift(2),J[0].r=D.read_shift(2)),J}function u(D,Q,H){var J=D.l+Q,ae=d(D,Q,H);if(ae[1].t="s",H.vers==20768){D.l++;var ie=D.read_shift(1);return ae[1].v=D.read_shift(ie,"utf8"),ae}return H.qpro&&D.l++,ae[1].v=D.read_shift(J-D.l,"cstr"),ae}function f(D,Q,H){var J=jt(7+H.length);J.write_shift(1,255),J.write_shift(2,Q),J.write_shift(2,D),J.write_shift(1,39);for(var ae=0;ae<J.length;++ae){var ie=H.charCodeAt(ae);J.write_shift(1,ie>=128?95:ie)}return J.write_shift(1,0),J}function x(D,Q,H){var J=d(D,Q,H);return J[1].v=D.read_shift(2,"i"),J}function p(D,Q,H){var J=jt(7);return J.write_shift(1,255),J.write_shift(2,Q),J.write_shift(2,D),J.write_shift(2,H,"i"),J}function v(D,Q,H){var J=d(D,Q,H);return J[1].v=D.read_shift(8,"f"),J}function g(D,Q,H){var J=jt(13);return J.write_shift(1,255),J.write_shift(2,Q),J.write_shift(2,D),J.write_shift(8,H,"f"),J}function b(D,Q,H){var J=D.l+Q,ae=d(D,Q,H);if(ae[1].v=D.read_shift(8,"f"),H.qpro)D.l=J;else{var ie=D.read_shift(2);k(D.slice(D.l,D.l+ie),ae),D.l+=ie}return ae}function j(D,Q,H){var J=Q&32768;return Q&=-32769,Q=(J?D:0)+(Q>=8192?Q-16384:Q),(J?"":"$")+(H?Hs(Q):Sn(Q))}var N={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function k(D,Q){Ui(D,0);for(var H=[],J=0,ae="",ie="",le="",Y="";D.l<D.length;){var oe=D[D.l++];switch(oe){case 0:H.push(D.read_shift(8,"f"));break;case 1:ie=j(Q[0].c,D.read_shift(2),!0),ae=j(Q[0].r,D.read_shift(2),!1),H.push(ie+ae);break;case 2:{var xe=j(Q[0].c,D.read_shift(2),!0),W=j(Q[0].r,D.read_shift(2),!1);ie=j(Q[0].c,D.read_shift(2),!0),ae=j(Q[0].r,D.read_shift(2),!1),H.push(xe+W+":"+ie+ae)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:H.push("("+H.pop()+")");break;case 5:H.push(D.read_shift(2));break;case 6:{for(var he="";oe=D[D.l++];)he+=String.fromCharCode(oe);H.push('"'+he.replace(/"/g,'""')+'"')}break;case 8:H.push("-"+H.pop());break;case 23:H.push("+"+H.pop());break;case 22:H.push("NOT("+H.pop()+")");break;case 20:case 21:Y=H.pop(),le=H.pop(),H.push(["AND","OR"][oe-20]+"("+le+","+Y+")");break;default:if(oe<32&&S[oe])Y=H.pop(),le=H.pop(),H.push(le+S[oe]+Y);else if(N[oe]){if(J=N[oe][1],J==69&&(J=D[D.l++]),J>H.length){console.error("WK1 bad formula parse 0x"+oe.toString(16)+":|"+H.join("|")+"|");return}var fe=H.slice(-J);H.length-=J,H.push(N[oe][0]+"("+fe.join(",")+")")}else return oe<=7?console.error("WK1 invalid opcode "+oe.toString(16)):oe<=24?console.error("WK1 unsupported op "+oe.toString(16)):oe<=30?console.error("WK1 invalid opcode "+oe.toString(16)):oe<=115?console.error("WK1 unsupported function opcode "+oe.toString(16)):console.error("WK1 unrecognized opcode "+oe.toString(16))}}H.length==1?Q[1].f=""+H[0]:console.error("WK1 bad formula parse |"+H.join("|")+"|")}function A(D){var Q=[{c:0,r:0},{t:"n",v:0},0];return Q[0].r=D.read_shift(2),Q[3]=D[D.l++],Q[0].c=D[D.l++],Q}function _(D,Q){var H=A(D);return H[1].t="s",H[1].v=D.read_shift(Q-4,"cstr"),H}function M(D,Q,H,J){var ae=jt(6+J.length);ae.write_shift(2,D),ae.write_shift(1,H),ae.write_shift(1,Q),ae.write_shift(1,39);for(var ie=0;ie<J.length;++ie){var le=J.charCodeAt(ie);ae.write_shift(1,le>=128?95:le)}return ae.write_shift(1,0),ae}function L(D,Q){var H=A(D);H[1].v=D.read_shift(2);var J=H[1].v>>1;if(H[1].v&1)switch(J&7){case 0:J=(J>>3)*5e3;break;case 1:J=(J>>3)*500;break;case 2:J=(J>>3)/20;break;case 3:J=(J>>3)/200;break;case 4:J=(J>>3)/2e3;break;case 5:J=(J>>3)/2e4;break;case 6:J=(J>>3)/16;break;case 7:J=(J>>3)/64;break}return H[1].v=J,H}function U(D,Q){var H=A(D),J=D.read_shift(4),ae=D.read_shift(4),ie=D.read_shift(2);if(ie==65535)return J===0&&ae===3221225472?(H[1].t="e",H[1].v=15):J===0&&ae===3489660928?(H[1].t="e",H[1].v=42):H[1].v=0,H;var le=ie&32768;return ie=(ie&32767)-16446,H[1].v=(1-le*2)*(ae*Math.pow(2,ie+32)+J*Math.pow(2,ie)),H}function z(D,Q,H,J){var ae=jt(14);if(ae.write_shift(2,D),ae.write_shift(1,H),ae.write_shift(1,Q),J==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var ie=0,le=0,Y=0,oe=0;return J<0&&(ie=1,J=-J),le=Math.log2(J)|0,J/=Math.pow(2,le-31),oe=J>>>0,(oe&2147483648)==0&&(J/=2,++le,oe=J>>>0),J-=oe,oe|=2147483648,oe>>>=0,J*=Math.pow(2,32),Y=J>>>0,ae.write_shift(4,Y),ae.write_shift(4,oe),le+=16383+(ie?32768:0),ae.write_shift(2,le),ae}function O(D,Q){var H=U(D);return D.l+=Q-14,H}function B(D,Q){var H=A(D),J=D.read_shift(4);return H[1].v=J>>6,H}function E(D,Q){var H=A(D),J=D.read_shift(8,"f");return H[1].v=J,H}function R(D,Q){var H=E(D);return D.l+=Q-10,H}function q(D,Q){return D[D.l+Q-1]==0?D.read_shift(Q,"cstr"):""}function I(D,Q){var H=D[D.l++];H>Q-1&&(H=Q-1);for(var J="";J.length<H;)J+=String.fromCharCode(D[D.l++]);return J}function G(D,Q,H){if(!(!H.qpro||Q<21)){var J=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var ae=D.read_shift(Q-21,"cstr");return[J,ae]}}function re(D,Q){for(var H={},J=D.l+Q;D.l<J;){var ae=D.read_shift(2);if(ae==14e3){for(H[ae]=[0,""],H[ae][0]=D.read_shift(2);D[D.l];)H[ae][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return H}function te(D,Q){var H=jt(5+D.length);H.write_shift(2,14e3),H.write_shift(2,Q);for(var J=0;J<D.length;++J){var ae=D.charCodeAt(J);H[H.l++]=ae>127?95:ae}return H[H.l++]=0,H}var X={0:{n:"BOF",f:On},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:x},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:q},222:{n:"SHEETNAMELP",f:I},65535:{n:""}},ce={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:_},23:{n:"NUMBER17",f:U},24:{n:"NUMBER18",f:L},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:re},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:B},38:{n:"??"},39:{n:"NUMBER27",f:E},40:{n:"FORMULA28",f:R},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:q},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:G},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:n,to_workbook:t}})();function r0e(e){var t={},a=e.match(gl),r=0,n=!1;if(a)for(;r!=a.length;++r){var i=La(a[r]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=pA[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(i[0].charCodeAt(1)!==47&&!n)throw new Error("Unrecognized rich format "+i[0])}}return t}var s0e=(function(){var e=Y1("t"),t=Y1("rPr");function a(i){var l=i.match(e);if(!l)return{t:"s",v:""};var o={t:"s",v:Sr(l[1])},c=i.match(t);return c&&(o.s=r0e(c[1])),o}var r=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function(l){return l.replace(r,"").split(n).map(a).filter(function(o){return o.v})}})(),n0e=(function(){var t=/(\r\n|\n)/g;function a(n,i,l){var o=[];n.u&&o.push("text-decoration: underline;"),n.uval&&o.push("text-underline-style:"+n.uval+";"),n.sz&&o.push("font-size:"+n.sz+"pt;"),n.outline&&o.push("text-effect: outline;"),n.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),n.b&&(i.push("<b>"),l.push("</b>")),n.i&&(i.push("<i>"),l.push("</i>")),n.strike&&(i.push("<s>"),l.push("</s>"));var c=n.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),l.push("</"+c+">")),l.push("</span>"),n}function r(n){var i=[[],n.v,[]];return n.v?(n.s&&a(n.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(r).join("")}})(),i0e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,l0e=/<(?:\w+:)?r>/,o0e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function BA(e,t){var a=t?t.cellHTML:!0,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Sr(Qr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=Qr(e),a&&(r.h=kA(r.t))):e.match(l0e)&&(r.r=Qr(e),r.t=Sr(Qr((e.replace(o0e,"").match(i0e)||[]).join("").replace(gl,""))),a&&(r.h=n0e(s0e(r.r)))),r):{t:""}}var c0e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,d0e=/<(?:\w+:)?(?:si|sstItem)>/g,u0e=/<\/(?:\w+:)?(?:si|sstItem)>/;function h0e(e,t){var a=[],r="";if(!e)return a;var n=e.match(c0e);if(n){r=n[2].replace(d0e,"").split(u0e);for(var i=0;i!=r.length;++i){var l=BA(r[i].trim(),t);l!=null&&(a[a.length]=l)}n=La(n[1]),a.Count=n.count,a.Unique=n.uniqueCount}return a}var f0e=/^\s|\s$|[\t\n\r]/;function $H(e,t){if(!t.bookSST)return"";var a=[_n];a[a.length]=Gt("sst",null,{xmlns:Em[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(e[r]!=null){var n=e[r],i="<si>";n.r?i+=n.r:(i+="<t",n.t||(n.t=""),n.t.match(f0e)&&(i+=' xml:space="preserve"'),i+=">"+Wr(n.t)+"</t>"),i+="</si>",a[a.length]=i}return a.length>2&&(a[a.length]="</sst>",a[1]=a[1].replace("/>",">")),a.join("")}function m0e(e){return[e.read_shift(4),e.read_shift(4)]}function p0e(e,t){var a=[],r=!1;return wh(e,function(i,l,o){switch(o){case 159:a.Count=i[0],a.Unique=i[1];break;case 19:a.push(i);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(l.T,!r||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),a}function x0e(e,t){return t||(t=jt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var g0e=Aue;function v0e(e){var t=ro();Rt(t,159,x0e(e));for(var a=0;a<e.length;++a)Rt(t,19,g0e(e[a]));return Rt(t,160),t.end()}function UH(e){for(var t=[],a=e.split(""),r=0;r<a.length;++r)t[r]=a[r].charCodeAt(0);return t}function sh(e,t){var a={};return a.Major=e.read_shift(2),a.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),a}function b0e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=sh(e,4),t.U=sh(e,4),t.W=sh(e,4),t}function y0e(e){for(var t=e.read_shift(4),a=e.l+t-4,r={},n=e.read_shift(4),i=[];n-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=i,e.l!=a)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+a);return r}function w0e(e){var t=[];e.l+=4;for(var a=e.read_shift(4);a-- >0;)t.push(y0e(e));return t}function j0e(e){var t=[];e.l+=4;for(var a=e.read_shift(4);a-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function N0e(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=sh(e,4),t.U=sh(e,4),t.W=sh(e,4),t}function S0e(e){var t=N0e(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function zH(e,t){var a=e.l+t,r={};r.Flags=e.read_shift(4)&63,e.l+=4,r.AlgID=e.read_shift(4);var n=!1;switch(r.AlgID){case 26126:case 26127:case 26128:n=r.Flags==36;break;case 26625:n=r.Flags==4;break;case 0:n=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!n)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(a-e.l>>1,"utf16le"),e.l=a,r}function HH(e,t){var a={},r=e.l+t;return e.l+=4,a.Salt=e.slice(e.l,e.l+16),e.l+=16,a.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),a.VerifierHash=e.slice(e.l,r),e.l=r,a}function k0e(e){var t=sh(e);switch(t.Minor){case 2:return[t.Minor,C0e(e)];case 3:return[t.Minor,A0e()];case 4:return[t.Minor,_0e(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function C0e(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var a=e.read_shift(4),r=zH(e,a),n=HH(e,e.length-e.l);return{t:"Std",h:r,v:n}}function A0e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function _0e(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var a=e.read_shift(e.length-e.l,"utf8"),r={};return a.replace(gl,function(i){var l=La(i);switch(iu(l[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){r[o]=l[o]});break;case"<dataIntegrity":r.encryptedHmacKey=l.encryptedHmacKey,r.encryptedHmacValue=l.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=l.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(l);break;default:throw l[0]}}),r}function T0e(e,t){var a={},r=a.EncryptionVersionInfo=sh(e,4);if(t-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);a.Flags=e.read_shift(4),t-=4;var n=e.read_shift(4);return t-=4,a.EncryptionHeader=zH(e,n),t-=n,a.EncryptionVerifier=HH(e,t),a}function E0e(e){var t={},a=t.EncryptionVersionInfo=sh(e,4);if(a.Major!=1||a.Minor!=1)throw"unrecognized version code "+a.Major+" : "+a.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function $A(e){var t=0,a,r=UH(e),n=r.length+1,i,l,o,c,d;for(a=Df(n),a[0]=r.length,i=1;i!=n;++i)a[i]=r[i-1];for(i=n-1;i>=0;--i)l=a[i],o=(t&16384)===0?0:1,c=t<<1&32767,d=o|c,t=d^l;return t^52811}var VH=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],a=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(l){return(l/2|l*128)&255},n=function(l,o){return r(l^o)},i=function(l){for(var o=t[l.length-1],c=104,d=l.length-1;d>=0;--d)for(var u=l[d],f=0;f!=7;++f)u&64&&(o^=a[c]),u*=2,--c;return o};return function(l){for(var o=UH(l),c=i(o),d=o.length,u=Df(16),f=0;f!=16;++f)u[f]=0;var x,p,v;for((d&1)===1&&(x=c>>8,u[d]=n(e[0],x),--d,x=c&255,p=o[o.length-1],u[d]=n(p,x));d>0;)--d,x=c>>8,u[d]=n(o[d],x),--d,x=c&255,u[d]=n(o[d],x);for(d=15,v=15-o.length;v>0;)x=c>>8,u[d]=n(e[v],x),--d,--v,x=c&255,u[d]=n(o[d],x),--d,--v;return u}})(),D0e=function(e,t,a,r,n){n||(n=t),r||(r=VH(e));var i,l;for(i=0;i!=t.length;++i)l=t[i],l^=r[a],l=(l>>5|l<<3)&255,n[i]=l,++a;return[n,a,r]},M0e=function(e){var t=0,a=VH(e);return function(r){var n=D0e("",r,t,a);return t=n[1],n[0]}};function P0e(e,t,a,r){var n={key:On(e),verificationBytes:On(e)};return a.password&&(n.verifier=$A(a.password)),r.valid=n.verificationBytes===n.verifier,r.valid&&(r.insitu=M0e(a.password)),n}function L0e(e,t,a){var r=a||{};return r.Info=e.read_shift(2),e.l-=2,r.Info===1?r.Data=E0e(e):r.Data=T0e(e,t),r}function O0e(e,t,a){var r={Type:a.biff>=8?e.read_shift(2):0};return r.Type?L0e(e,t-2,r):P0e(e,a.biff>=8?t:t-2,a,r),r}var WH=(function(){function e(n,i){switch(i.type){case"base64":return t(Oo(n),i);case"binary":return t(n,i);case"buffer":return t(ar&&Buffer.isBuffer(n)?n.toString("binary"):Hf(n),i);case"array":return t(um(n),i)}throw new Error("Unrecognized type "+i.type)}function t(n,i){var l=i||{},o=l.dense?[]:{},c=n.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var x=/\\\w+\b/g,p=0,v,g=-1;v=x.exec(u);){switch(v[0]){case"\\cell":var b=u.slice(p,x.lastIndex-v[0].length);if(b[0]==" "&&(b=b.slice(1)),++g,b.length){var j={v:b,t:"s"};Array.isArray(o)?o[f][g]=j:o[_a({r:f,c:g})]=j}break}p=x.lastIndex}g>d.e.c&&(d.e.c=g)}),o["!ref"]=Xa(d),o}function a(n,i){return Vf(e(n,i),i)}function r(n){for(var i=["{\\rtf1\\ansi"],l=kr(n["!ref"]),o,c=Array.isArray(n),d=l.s.r;d<=l.e.r;++d){i.push("\\trowd\\trautofit1");for(var u=l.s.c;u<=l.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=l.s.c;u<=l.e.c;++u){var f=_a({r:d,c:u});o=c?(n[d]||[])[u]:n[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(ch(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:a,to_sheet:e,from_sheet:r}})();function R0e(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Z1(e){for(var t=0,a=1;t!=3;++t)a=a*256+(e[t]>255?255:e[t]<0?0:e[t]);return a.toString(16).toUpperCase().slice(1)}function F0e(e){var t=e[0]/255,a=e[1]/255,r=e[2]/255,n=Math.max(t,a,r),i=Math.min(t,a,r),l=n-i;if(l===0)return[0,0,t];var o=0,c=0,d=n+i;switch(c=l/(d>1?2-d:d),n){case t:o=((a-r)/l+6)%6;break;case a:o=(r-t)/l+2;break;case r:o=(t-a)/l+4;break}return[o/6,c,d/2]}function I0e(e){var t=e[0],a=e[1],r=e[2],n=a*2*(r<.5?r:1-r),i=r-n/2,l=[i,i,i],o=6*t,c;if(a!==0)switch(o|0){case 0:case 6:c=n*o,l[0]+=n,l[1]+=c;break;case 1:c=n*(2-o),l[0]+=c,l[1]+=n;break;case 2:c=n*(o-2),l[1]+=n,l[2]+=c;break;case 3:c=n*(4-o),l[1]+=c,l[2]+=n;break;case 4:c=n*(o-4),l[2]+=n,l[0]+=c;break;case 5:c=n*(6-o),l[2]+=c,l[0]+=n;break}for(var d=0;d!=3;++d)l[d]=Math.round(l[d]*255);return l}function fw(e,t){if(t===0)return e;var a=F0e(R0e(e));return t<0?a[2]=a[2]*(1+t):a[2]=1-(1-a[2])*(1-t),Z1(I0e(a))}var qH=6,B0e=15,$0e=1,nl=qH;function ev(e){return Math.floor((e+Math.round(128/nl)/256)*nl)}function tv(e){return Math.floor((e-5)/nl*100+.5)/100}function mw(e){return Math.round((e*nl+5)/nl*256)/256}function M5(e){return mw(tv(ev(e)))}function UA(e){var t=Math.abs(e-M5(e)),a=nl;if(t>.005)for(nl=$0e;nl<B0e;++nl)Math.abs(e-M5(e))<=t&&(t=Math.abs(e-M5(e)),a=nl);nl=a}function Mf(e){e.width?(e.wpx=ev(e.width),e.wch=tv(e.wpx),e.MDW=nl):e.wpx?(e.wch=tv(e.wpx),e.width=mw(e.wch),e.MDW=nl):typeof e.wch=="number"&&(e.width=mw(e.wch),e.wpx=ev(e.width),e.MDW=nl),e.customWidth&&delete e.customWidth}var U0e=96,GH=U0e;function av(e){return e*96/GH}function ox(e){return e*GH/96}var z0e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function H0e(e,t,a,r){t.Borders=[];var n={},i=!1;(e[0].match(gl)||[]).forEach(function(l){var o=La(l);switch(iu(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":n={},o.diagonalUp&&(n.diagonalUp=hs(o.diagonalUp)),o.diagonalDown&&(n.diagonalDown=hs(o.diagonalDown)),t.Borders.push(n);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function V0e(e,t,a,r){t.Fills=[];var n={},i=!1;(e[0].match(gl)||[]).forEach(function(l){var o=La(l);switch(iu(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":n={},t.Fills.push(n);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(n),n={};break;case"<patternFill":case"<patternFill>":o.patternType&&(n.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":n.bgColor||(n.bgColor={}),o.indexed&&(n.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(n.bgColor.theme=parseInt(o.theme,10)),o.tint&&(n.bgColor.tint=parseFloat(o.tint)),o.rgb&&(n.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":n.fgColor||(n.fgColor={}),o.theme&&(n.fgColor.theme=parseInt(o.theme,10)),o.tint&&(n.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(n.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function W0e(e,t,a,r){t.Fonts=[];var n={},i=!1;(e[0].match(gl)||[]).forEach(function(l){var o=La(l);switch(iu(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(n),n={};break;case"<name":o.val&&(n.name=Qr(o.val));break;case"<name/>":case"</name>":break;case"<b":n.bold=o.val?hs(o.val):1;break;case"<b/>":n.bold=1;break;case"<i":n.italic=o.val?hs(o.val):1;break;case"<i/>":n.italic=1;break;case"<u":switch(o.val){case"none":n.underline=0;break;case"single":n.underline=1;break;case"double":n.underline=2;break;case"singleAccounting":n.underline=33;break;case"doubleAccounting":n.underline=34;break}break;case"<u/>":n.underline=1;break;case"<strike":n.strike=o.val?hs(o.val):1;break;case"<strike/>":n.strike=1;break;case"<outline":n.outline=o.val?hs(o.val):1;break;case"<outline/>":n.outline=1;break;case"<shadow":n.shadow=o.val?hs(o.val):1;break;case"<shadow/>":n.shadow=1;break;case"<condense":n.condense=o.val?hs(o.val):1;break;case"<condense/>":n.condense=1;break;case"<extend":n.extend=o.val?hs(o.val):1;break;case"<extend/>":n.extend=1;break;case"<sz":o.val&&(n.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(n.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(n.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(n.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=pA[parseInt(o.val,10)];break;case"<color":if(n.color||(n.color={}),o.auto&&(n.color.auto=hs(o.auto)),o.rgb)n.color.rgb=o.rgb.slice(-6);else if(o.indexed){n.color.index=parseInt(o.indexed,10);var c=G0[n.color.index];n.color.index==81&&(c=G0[1]),c||(c=G0[1]),n.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(n.color.theme=parseInt(o.theme,10),o.tint&&(n.color.tint=parseFloat(o.tint)),o.theme&&a.themeElements&&a.themeElements.clrScheme&&(n.color.rgb=fw(a.themeElements.clrScheme[n.color.theme].rgb,n.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function q0e(e,t,a){t.NumberFmt=[];for(var r=tn(Ca),n=0;n<r.length;++n)t.NumberFmt[r[n]]=Ca[r[n]];var i=e[0].match(gl);if(i)for(n=0;n<i.length;++n){var l=La(i[n]);switch(iu(l[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Sr(Qr(l.formatCode)),c=parseInt(l.numFmtId,10);if(t.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=o}rh(o,c)}}break;case"</numFmt>":break;default:if(a.WTF)throw new Error("unrecognized "+l[0]+" in numFmts")}}}function G0e(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var r=a[0];r<=a[1];++r)e[r]!=null&&(t[t.length]=Gt("numFmt",null,{numFmtId:r,formatCode:Wr(e[r])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Gt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var zy=["numFmtId","fillId","fontId","borderId","xfId"],Hy=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function K0e(e,t,a){t.CellXf=[];var r,n=!1;(e[0].match(gl)||[]).forEach(function(i){var l=La(i),o=0;switch(iu(l[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=l,delete r[0],o=0;o<zy.length;++o)r[zy[o]]&&(r[zy[o]]=parseInt(r[zy[o]],10));for(o=0;o<Hy.length;++o)r[Hy[o]]&&(r[Hy[o]]=hs(r[Hy[o]]));if(t.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[o]){r.numFmtId=o;break}}t.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};l.vertical&&(c.vertical=l.vertical),l.horizontal&&(c.horizontal=l.horizontal),l.textRotation!=null&&(c.textRotation=l.textRotation),l.indent&&(c.indent=l.indent),l.wrapText&&(c.wrapText=hs(l.wrapText)),r.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(a&&a.WTF&&!n)throw new Error("unrecognized "+l[0]+" in cellXfs")}})}function Y0e(e){var t=[];return t[t.length]=Gt("cellXfs",null),e.forEach(function(a){t[t.length]=Gt("xf",null,a)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Gt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var X0e=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,a=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,d){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&q0e(f,u,d),(f=o.match(n))&&W0e(f,u,c,d),(f=o.match(r))&&V0e(f,u,c,d),(f=o.match(i))&&H0e(f,u,c,d),(f=o.match(a))&&K0e(f,u,d),u}})();function KH(e,t){var a=[_n,Gt("styleSheet",null,{xmlns:Em[0],"xmlns:vt":Qn.vt})],r;return e.SSF&&(r=G0e(e.SSF))!=null&&(a[a.length]=r),a[a.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',a[a.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',a[a.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',a[a.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=Y0e(t.cellXfs))&&(a[a.length]=r),a[a.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',a[a.length]='<dxfs count="0"/>',a[a.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',a.length>2&&(a[a.length]="</styleSheet>",a[1]=a[1].replace("/>",">")),a.join("")}function Q0e(e,t){var a=e.read_shift(2),r=ul(e);return[a,r]}function J0e(e,t,a){a||(a=jt(6+4*t.length)),a.write_shift(2,e),Ni(t,a);var r=a.length>a.l?a.slice(0,a.l):a;return a.l==null&&(a.l=a.length),r}function Z0e(e,t,a){var r={};r.sz=e.read_shift(2)/20;var n=Lue(e);n.fItalic&&(r.italic=1),n.fCondense&&(r.condense=1),n.fExtend&&(r.extend=1),n.fShadow&&(r.shadow=1),n.fOutline&&(r.outline=1),n.fStrikeout&&(r.strike=1);var i=e.read_shift(2);switch(i===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(r.underline=l);var o=e.read_shift(1);o>0&&(r.family=o);var c=e.read_shift(1);switch(c>0&&(r.charset=c),e.l++,r.color=Pue(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=ul(e),r}function eme(e,t){t||(t=jt(153)),t.write_shift(2,e.sz*20),Oue(e,t),t.write_shift(2,e.bold?700:400);var a=0;e.vertAlign=="superscript"?a=1:e.vertAlign=="subscript"&&(a=2),t.write_shift(2,a),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),dw(e.color,t);var r=0;return r=2,t.write_shift(1,r),Ni(e.name,t),t.length>t.l?t.slice(0,t.l):t}var tme=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],P5,ame=fl;function DP(e,t){t||(t=jt(84)),P5||(P5=Wj(tme));var a=P5[e.patternType];a==null&&(a=40),t.write_shift(4,a);var r=0;if(a!=40)for(dw({auto:1},t),dw({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function rme(e,t){var a=e.l+t,r=e.read_shift(2),n=e.read_shift(2);return e.l=a,{ixfe:r,numFmtId:n}}function YH(e,t,a){a||(a=jt(16)),a.write_shift(2,t||0),a.write_shift(2,e.numFmtId||0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(1,0),a.write_shift(1,0);var r=0;return a.write_shift(1,r),a.write_shift(1,0),a.write_shift(1,0),a.write_shift(1,0),a}function Og(e,t){return t||(t=jt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var sme=fl;function nme(e,t){return t||(t=jt(51)),t.write_shift(1,0),Og(null,t),Og(null,t),Og(null,t),Og(null,t),Og(null,t),t.length>t.l?t.slice(0,t.l):t}function ime(e,t){return t||(t=jt(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),cw(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function lme(e,t,a){var r=jt(2052);return r.write_shift(4,e),cw(t,r),cw(a,r),r.length>r.l?r.slice(0,r.l):r}function ome(e,t,a){var r={};r.NumberFmt=[];for(var n in Ca)r.NumberFmt[n]=Ca[n];r.CellXf=[],r.Fonts=[];var i=[],l=!1;return wh(e,function(c,d,u){switch(u){case 44:r.NumberFmt[c[0]]=c[1],rh(c[1],c[0]);break;case 43:r.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=fw(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&r.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:i.push(u),l=!0;break;case 38:i.pop(),l=!1;break;default:if(d.T>0)i.push(u);else if(d.T<0)i.pop();else if(!l||a.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}function cme(e,t){if(t){var a=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&++a}),a!=0&&(Rt(e,615,cd(a)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&Rt(e,44,J0e(n,t[n]))}),Rt(e,616))}}function dme(e){var t=1;Rt(e,611,cd(t)),Rt(e,43,eme({sz:12,color:{theme:1},name:"Calibri",family:2})),Rt(e,612)}function ume(e){var t=2;Rt(e,603,cd(t)),Rt(e,45,DP({patternType:"none"})),Rt(e,45,DP({patternType:"gray125"})),Rt(e,604)}function hme(e){var t=1;Rt(e,613,cd(t)),Rt(e,46,nme()),Rt(e,614)}function fme(e){var t=1;Rt(e,626,cd(t)),Rt(e,47,YH({numFmtId:0},65535)),Rt(e,627)}function mme(e,t){Rt(e,617,cd(t.length)),t.forEach(function(a){Rt(e,47,YH(a,0))}),Rt(e,618)}function pme(e){var t=1;Rt(e,619,cd(t)),Rt(e,48,ime({xfId:0,name:"Normal"})),Rt(e,620)}function xme(e){var t=0;Rt(e,505,cd(t)),Rt(e,506)}function gme(e){var t=0;Rt(e,508,lme(t,"TableStyleMedium9","PivotStyleMedium4")),Rt(e,509)}function vme(e,t){var a=ro();return Rt(a,278),cme(a,e.SSF),dme(a),ume(a),hme(a),fme(a),mme(a,t.cellXfs),pme(a),xme(a),gme(a),Rt(a,279),a.end()}var bme=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function yme(e,t,a){t.themeElements.clrScheme=[];var r={};(e[0].match(gl)||[]).forEach(function(n){var i=La(n);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=i.val;break;case"<a:sysClr":r.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[bme.indexOf(i[0])]=r,r={}):r.name=i[0].slice(3,i[0].length-1);break;default:if(a&&a.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function wme(){}function jme(){}var Nme=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Sme=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,kme=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Cme(e,t,a){t.themeElements={};var r;[["clrScheme",Nme,yme],["fontScheme",Sme,wme],["fmtScheme",kme,jme]].forEach(function(n){if(!(r=e.match(n[1])))throw new Error(n[0]+" not found in themeElements");n[2](r,t,a)})}var Ame=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function XH(e,t){(!e||e.length===0)&&(e=zA());var a,r={};if(!(a=e.match(Ame)))throw new Error("themeElements not found in theme");return Cme(a[0],r,t),r.raw=e,r}function zA(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var a=[_n];return a[a.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',a[a.length]="<a:themeElements>",a[a.length]='<a:clrScheme name="Office">',a[a.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',a[a.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',a[a.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',a[a.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',a[a.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',a[a.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',a[a.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',a[a.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',a[a.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',a[a.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',a[a.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',a[a.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',a[a.length]="</a:clrScheme>",a[a.length]='<a:fontScheme name="Office">',a[a.length]="<a:majorFont>",a[a.length]='<a:latin typeface="Cambria"/>',a[a.length]='<a:ea typeface=""/>',a[a.length]='<a:cs typeface=""/>',a[a.length]='<a:font script="Jpan" typeface=" "/>',a[a.length]='<a:font script="Hang" typeface=" "/>',a[a.length]='<a:font script="Hans" typeface=""/>',a[a.length]='<a:font script="Hant" typeface=""/>',a[a.length]='<a:font script="Arab" typeface="Times New Roman"/>',a[a.length]='<a:font script="Hebr" typeface="Times New Roman"/>',a[a.length]='<a:font script="Thai" typeface="Tahoma"/>',a[a.length]='<a:font script="Ethi" typeface="Nyala"/>',a[a.length]='<a:font script="Beng" typeface="Vrinda"/>',a[a.length]='<a:font script="Gujr" typeface="Shruti"/>',a[a.length]='<a:font script="Khmr" typeface="MoolBoran"/>',a[a.length]='<a:font script="Knda" typeface="Tunga"/>',a[a.length]='<a:font script="Guru" typeface="Raavi"/>',a[a.length]='<a:font script="Cans" typeface="Euphemia"/>',a[a.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',a[a.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',a[a.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',a[a.length]='<a:font script="Thaa" typeface="MV Boli"/>',a[a.length]='<a:font script="Deva" typeface="Mangal"/>',a[a.length]='<a:font script="Telu" typeface="Gautami"/>',a[a.length]='<a:font script="Taml" typeface="Latha"/>',a[a.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',a[a.length]='<a:font script="Orya" typeface="Kalinga"/>',a[a.length]='<a:font script="Mlym" typeface="Kartika"/>',a[a.length]='<a:font script="Laoo" typeface="DokChampa"/>',a[a.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',a[a.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',a[a.length]='<a:font script="Viet" typeface="Times New Roman"/>',a[a.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',a[a.length]='<a:font script="Geor" typeface="Sylfaen"/>',a[a.length]="</a:majorFont>",a[a.length]="<a:minorFont>",a[a.length]='<a:latin typeface="Calibri"/>',a[a.length]='<a:ea typeface=""/>',a[a.length]='<a:cs typeface=""/>',a[a.length]='<a:font script="Jpan" typeface=" "/>',a[a.length]='<a:font script="Hang" typeface=" "/>',a[a.length]='<a:font script="Hans" typeface=""/>',a[a.length]='<a:font script="Hant" typeface=""/>',a[a.length]='<a:font script="Arab" typeface="Arial"/>',a[a.length]='<a:font script="Hebr" typeface="Arial"/>',a[a.length]='<a:font script="Thai" typeface="Tahoma"/>',a[a.length]='<a:font script="Ethi" typeface="Nyala"/>',a[a.length]='<a:font script="Beng" typeface="Vrinda"/>',a[a.length]='<a:font script="Gujr" typeface="Shruti"/>',a[a.length]='<a:font script="Khmr" typeface="DaunPenh"/>',a[a.length]='<a:font script="Knda" typeface="Tunga"/>',a[a.length]='<a:font script="Guru" typeface="Raavi"/>',a[a.length]='<a:font script="Cans" typeface="Euphemia"/>',a[a.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',a[a.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',a[a.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',a[a.length]='<a:font script="Thaa" typeface="MV Boli"/>',a[a.length]='<a:font script="Deva" typeface="Mangal"/>',a[a.length]='<a:font script="Telu" typeface="Gautami"/>',a[a.length]='<a:font script="Taml" typeface="Latha"/>',a[a.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',a[a.length]='<a:font script="Orya" typeface="Kalinga"/>',a[a.length]='<a:font script="Mlym" typeface="Kartika"/>',a[a.length]='<a:font script="Laoo" typeface="DokChampa"/>',a[a.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',a[a.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',a[a.length]='<a:font script="Viet" typeface="Arial"/>',a[a.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',a[a.length]='<a:font script="Geor" typeface="Sylfaen"/>',a[a.length]="</a:minorFont>",a[a.length]="</a:fontScheme>",a[a.length]='<a:fmtScheme name="Office">',a[a.length]="<a:fillStyleLst>",a[a.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:lin ang="16200000" scaled="1"/>',a[a.length]="</a:gradFill>",a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:lin ang="16200000" scaled="0"/>',a[a.length]="</a:gradFill>",a[a.length]="</a:fillStyleLst>",a[a.length]="<a:lnStyleLst>",a[a.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]="</a:lnStyleLst>",a[a.length]="<a:effectStyleLst>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]="</a:effectStyle>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]="</a:effectStyle>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',a[a.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',a[a.length]="</a:effectStyle>",a[a.length]="</a:effectStyleLst>",a[a.length]="<a:bgFillStyleLst>",a[a.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',a[a.length]="</a:gradFill>",a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',a[a.length]="</a:gradFill>",a[a.length]="</a:bgFillStyleLst>",a[a.length]="</a:fmtScheme>",a[a.length]="</a:themeElements>",a[a.length]="<a:objectDefaults>",a[a.length]="<a:spDef>",a[a.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',a[a.length]="</a:spDef>",a[a.length]="<a:lnDef>",a[a.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',a[a.length]="</a:lnDef>",a[a.length]="</a:objectDefaults>",a[a.length]="<a:extraClrSchemeLst/>",a[a.length]="</a:theme>",a.join("")}function _me(e,t,a){var r=e.l+t,n=e.read_shift(4);if(n!==124226){if(!a.cellStyles){e.l=r;return}var i=e.slice(e.l);e.l=r;var l;try{l=zz(i,{type:"array"})}catch{return}var o=Do(l,"theme/theme/theme1.xml",!0);if(o)return XH(o,a)}}function Tme(e){return e.read_shift(4)}function Eme(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Dme(e,4);break;case 2:t.xclrValue=TH(e);break;case 3:t.xclrValue=Tme(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Dme(e,t){return fl(e,t)}function Mme(e,t){return fl(e,t)}function Pme(e){var t=e.read_shift(2),a=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=Eme(e);break;case 6:r[1]=Mme(e,a);break;case 14:case 15:r[1]=e.read_shift(a===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+a)}return r}function Lme(e,t){var a=e.l+t;e.l+=2;var r=e.read_shift(2);e.l+=2;for(var n=e.read_shift(2),i=[];n-- >0;)i.push(Pme(e,a-e.l));return{ixfe:r,ext:i}}function Ome(e,t){t.forEach(function(a){a[0]})}function Rme(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ul(e)}}function Fme(e){var t=jt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Ni(e.name,t),t.slice(0,t.l)}function Ime(e){for(var t=[],a=e.read_shift(4);a-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Bme(e){var t=jt(4+8*e.length);t.write_shift(4,e.length);for(var a=0;a<e.length;++a)t.write_shift(4,e[a][0]),t.write_shift(4,e[a][1]);return t}function $me(e,t){var a=jt(8+2*t.length);return a.write_shift(4,e),Ni(t,a),a.slice(0,a.l)}function Ume(e){return e.l+=4,e.read_shift(4)!=0}function zme(e,t){var a=jt(8);return a.write_shift(4,e),a.write_shift(4,1),a}function Hme(e,t,a){var r={Types:[],Cell:[],Value:[]},n=a||{},i=[],l=!1,o=2;return wh(e,function(c,d,u){switch(u){case 335:r.Types.push({name:c.name});break;case 51:c.forEach(function(f){o==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):o==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:i.push(u),l=!0;break;case 36:i.pop(),l=!1;break;default:if(!d.T){if(!l||n.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function Vme(){var e=ro();return Rt(e,332),Rt(e,334,cd(1)),Rt(e,335,Fme({name:"XLDAPR",version:12e4,flags:3496657072})),Rt(e,336),Rt(e,339,$me(1,"XLDAPR")),Rt(e,52),Rt(e,35,cd(514)),Rt(e,4096,cd(0)),Rt(e,4097,fc(1)),Rt(e,36),Rt(e,53),Rt(e,340),Rt(e,337,zme(1)),Rt(e,51,Bme([[1,0]])),Rt(e,338),Rt(e,333),e.end()}function Wme(e,t,a){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var n=!1,i=2,l;return e.replace(gl,function(o){var c=La(o);switch(iu(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<r.Types.length;++d)r.Types[d].name==c.name&&(l=r.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?r.Cell.push({type:r.Types[c.t-1].name,index:+c.v}):i==0&&r.Value.push({type:r.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<rvb":if(!l)break;l.offsets||(l.offsets=[]),l.offsets.push(+c.i);break;default:if(!n&&a.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),r}function QH(){var e=[_n];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function qme(e){var t=[];if(!e)return t;var a=1;return(e.match(gl)||[]).forEach(function(r){var n=La(r);switch(n[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?a=n.i:n.i=a,t.push(n);break}}),t}function Gme(e){var t={};t.i=e.read_shift(4);var a={};a.r=e.read_shift(4),a.c=e.read_shift(4),t.r=_a(a);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}function Kme(e,t,a){var r=[];return wh(e,function(i,l,o){switch(o){case 63:r.push(i);break;default:if(!l.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Yme(e,t,a,r){if(!e)return e;var n=r||{},i=!1;wh(e,function(o,c,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||n.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},n)}function Xme(e,t){if(!e)return"??";var a=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][a].Target}var Ip=1024;function JH(e,t){for(var a=[21600,21600],r=["m0,0l0",a[1],a[0],a[1],a[0],"0xe"].join(","),n=[Gt("xml",null,{"xmlns:v":Ao.v,"xmlns:o":Ao.o,"xmlns:x":Ao.x,"xmlns:mv":Ao.mv}).replace(/\/>/,">"),Gt("o:shapelayout",Gt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Gt("v:shapetype",[Gt("v:stroke",null,{joinstyle:"miter"}),Gt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:a.join(","),path:r})];Ip<e*1e3;)Ip+=1e3;return t.forEach(function(i){var l=Vs(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?Gt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Gt("v:fill",c,o),u={on:"t",obscured:"t"};++Ip,n=n.concat(["<v:shape"+X1({id:"_x0000_s"+Ip,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Gt("v:shadow",null,u),Gt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",zi("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),zi("x:AutoFill","False"),zi("x:Row",String(l.r)),zi("x:Column",String(l.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function MP(e,t,a,r){var n=Array.isArray(e),i;t.forEach(function(l){var o=Vs(l.ref);if(n?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[l.ref],!i){i={t:"z"},n?e[o.r][o.c]=i:e[l.ref]=i;var c=kr(e["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var d=Xa(c);d!==e["!ref"]&&(e["!ref"]=d)}i.c||(i.c=[]);var u={a:l.author,t:l.t,r:l.r,T:a};l.h&&(u.h=l.h);for(var f=i.c.length-1;f>=0;--f){if(!a&&i.c[f].T)return;a&&!i.c[f].T&&i.c.splice(f,1)}if(a&&r){for(f=0;f<r.length;++f)if(u.a==r[f].id){u.a=r[f].name||u.a;break}}i.c.push(u)})}function Qme(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var a=[],r=[],n=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);n&&n[1]&&n[1].split(/<\/\w*:?author>/).forEach(function(l){if(!(l===""||l.trim()==="")){var o=l.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&a.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(l){if(!(l===""||l.trim()==="")){var o=l.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=La(o[0]),d={author:c.authorId&&a[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},u=Vs(c.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=l.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),x=!!f&&!!f[1]&&BA(f[1])||{r:"",t:"",h:""};d.r=x.r,x.r=="<t></t>"&&(x.t=x.h=""),d.t=(x.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(d.h=x.h),r.push(d)}}}}),r}function ZH(e){var t=[_n,Gt("comments",null,{xmlns:Em[0]})],a=[];return t.push("<authors>"),e.forEach(function(r){r[1].forEach(function(n){var i=Wr(n.a);a.indexOf(i)==-1&&(a.push(i),t.push("<author>"+i+"</author>")),n.T&&n.ID&&a.indexOf("tc="+n.ID)==-1&&(a.push("tc="+n.ID),t.push("<author>tc="+n.ID+"</author>"))})}),a.length==0&&(a.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(r){var n=0,i=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?n=a.indexOf("tc="+r[1][0].ID):r[1].forEach(function(c){c.a&&(n=a.indexOf(Wr(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+r[0]+'" authorId="'+n+'"><text>'),i.length<=1)t.push(zi("t",Wr(i[0]||"")));else{for(var l=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)l+=`Reply:
    `+i[o]+`
`;t.push(zi("t",Wr(l)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Jme(e,t){var a=[],r=!1,n={},i=0;return e.replace(gl,function(o,c){var d=La(o);switch(iu(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":n={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":n.t!=null&&a.push(n);break;case"<text>":case"<text":i=c+o.length;break;case"</text>":n.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return o}),a}function Zme(e,t,a){var r=[_n,Gt("ThreadedComments",null,{xmlns:Qn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(n){var i="";(n[1]||[]).forEach(function(l,o){if(!l.T){delete l.ID;return}l.a&&t.indexOf(l.a)==-1&&t.push(l.a);var c={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+a.tcid++).slice(-12)+"}"};o==0?i=c.id:c.parentId=i,l.ID=c.id,l.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(l.a)).slice(-12)+"}"),r.push(Gt("threadedComment",zi("text",l.t||""),c))})}),r.push("</ThreadedComments>"),r.join("")}function epe(e,t){var a=[],r=!1;return e.replace(gl,function(i){var l=La(i);switch(iu(l[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":a.push({name:l.displayname,id:l.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return i}),a}function tpe(e){var t=[_n,Gt("personList",null,{xmlns:Qn.TCMNT,"xmlns:x":Em[0]}).replace(/[\/]>/,">")];return e.forEach(function(a,r){t.push(Gt("person",null,{displayName:a,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:a,providerId:"None"}))}),t.push("</personList>"),t.join("")}function ape(e){var t={};t.iauthor=e.read_shift(4);var a=Lm(e);return t.rfx=a.s,t.ref=_a(a.s),e.l+=16,t}function rpe(e,t){return t==null&&(t=jt(36)),t.write_shift(4,e[1].iauthor),Ax(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var spe=ul;function npe(e){return Ni(e.slice(0,54))}function ipe(e,t){var a=[],r=[],n={},i=!1;return wh(e,function(o,c,d){switch(d){case 632:r.push(o);break;case 635:n=o;break;case 637:n.t=o.t,n.h=o.h,n.r=o.r;break;case 636:if(n.author=r[n.iauthor],delete n.iauthor,t.sheetRows&&n.rfx&&t.sheetRows<=n.rfx.r)break;n.t||(n.t=""),delete n.rfx,a.push(n);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),a}function lpe(e){var t=ro(),a=[];return Rt(t,628),Rt(t,630),e.forEach(function(r){r[1].forEach(function(n){a.indexOf(n.a)>-1||(a.push(n.a.slice(0,54)),Rt(t,632,npe(n.a)))})}),Rt(t,631),Rt(t,633),e.forEach(function(r){r[1].forEach(function(n){n.iauthor=a.indexOf(n.a);var i={s:Vs(r[0]),e:Vs(r[0])};Rt(t,635,rpe([i,n])),n.t&&n.t.length>0&&Rt(t,637,Tue(n)),Rt(t,636),delete n.iauthor})}),Rt(t,634),Rt(t,629),t.end()}var ope="application/vnd.ms-office.vbaProject";function cpe(e){var t=ya.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(a,r){if(!(a.slice(-1)==="/"||!a.match(/_VBA_PROJECT_CUR/))){var n=a.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");ya.utils.cfb_add(t,n,e.FileIndex[r].content)}}),ya.write(t)}function dpe(e,t){t.FullPaths.forEach(function(a,r){if(r!=0){var n=a.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&ya.utils.cfb_add(e,n,t.FileIndex[r].content)}})}var eV=["xlsb","xlsm","xlam","biff8","xla"];function upe(){return{"!type":"dialog"}}function hpe(){return{"!type":"dialog"}}function fpe(){return{"!type":"macro"}}function mpe(){return{"!type":"macro"}}var Kp=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function a(r,n,i,l){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),l.length==0?o=!0:l.charAt(0)=="["&&(o=!0,l=l.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,u=l.length>0?parseInt(l,10)|0:0;return o?u+=t.c:--u,c?d+=t.r:--d,n+(o?"":"$")+Hs(u)+(c?"":"$")+Sn(d)}return function(n,i){return t=i,n.replace(e,a)}})(),HA=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,VA=(function(){return function(t,a){return t.replace(HA,function(r,n,i,l,o,c){var d=EA(l)-(i?0:a.c),u=TA(c)-(o?0:a.r),f=u==0?"":o?u+1:"["+u+"]",x=d==0?"":i?d+1:"["+d+"]";return n+"R"+f+"C"+x})}})();function tV(e,t){return e.replace(HA,function(a,r,n,i,l,o){return r+(n=="$"?n+i:Hs(EA(i)+t.c))+(l=="$"?l+o:Sn(TA(o)+t.r))})}function ppe(e,t,a){var r=so(t),n=r.s,i=Vs(a),l={r:i.r-n.r,c:i.c-n.c};return tV(e,l)}function xpe(e){return e.length!=1}function PP(e){return e.replace(/_xlfn\./g,"")}function Pn(e){e.l+=1}function Pf(e,t){var a=e.read_shift(2);return[a&16383,a>>14&1,a>>15&1]}function aV(e,t,a){var r=2;if(a){if(a.biff>=2&&a.biff<=5)return rV(e);a.biff==12&&(r=4)}var n=e.read_shift(r),i=e.read_shift(r),l=Pf(e),o=Pf(e);return{s:{r:n,c:l[0],cRel:l[1],rRel:l[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function rV(e){var t=Pf(e),a=Pf(e),r=e.read_shift(1),n=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:a[0],c:n,cRel:a[1],rRel:a[2]}}}function gpe(e,t,a){if(a.biff<8)return rV(e);var r=e.read_shift(a.biff==12?4:2),n=e.read_shift(a.biff==12?4:2),i=Pf(e),l=Pf(e);return{s:{r,c:i[0],cRel:i[1],rRel:i[2]},e:{r:n,c:l[0],cRel:l[1],rRel:l[2]}}}function sV(e,t,a){if(a&&a.biff>=2&&a.biff<=5)return vpe(e);var r=e.read_shift(a&&a.biff==12?4:2),n=Pf(e);return{r,c:n[0],cRel:n[1],rRel:n[2]}}function vpe(e){var t=Pf(e),a=e.read_shift(1);return{r:t[0],c:a,cRel:t[1],rRel:t[2]}}function bpe(e){var t=e.read_shift(2),a=e.read_shift(2);return{r:t,c:a&255,fQuoted:!!(a&16384),cRel:a>>15,rRel:a>>15}}function ype(e,t,a){var r=a&&a.biff?a.biff:8;if(r>=2&&r<=5)return wpe(e);var n=e.read_shift(r>=12?4:2),i=e.read_shift(2),l=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;n>524287;)n-=1048576;if(l==1)for(;i>8191;)i=i-16384;return{r:n,c:i,cRel:l,rRel:o}}function wpe(e){var t=e.read_shift(2),a=e.read_shift(1),r=(t&32768)>>15,n=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),n==1&&a>=128&&(a=a-256),{r:t,c:a,cRel:n,rRel:r}}function jpe(e,t,a){var r=(e[e.l++]&96)>>5,n=aV(e,a.biff>=2&&a.biff<=5?6:8,a);return[r,n]}function Npe(e,t,a){var r=(e[e.l++]&96)>>5,n=e.read_shift(2,"i"),i=8;if(a)switch(a.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var l=aV(e,i,a);return[r,n,l]}function Spe(e,t,a){var r=(e[e.l++]&96)>>5;return e.l+=a&&a.biff>8?12:a.biff<8?6:8,[r]}function kpe(e,t,a){var r=(e[e.l++]&96)>>5,n=e.read_shift(2),i=8;if(a)switch(a.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[r,n]}function Cpe(e,t,a){var r=(e[e.l++]&96)>>5,n=gpe(e,t-1,a);return[r,n]}function Ape(e,t,a){var r=(e[e.l++]&96)>>5;return e.l+=a.biff==2?6:a.biff==12?14:7,[r]}function LP(e){var t=e[e.l+1]&1,a=1;return e.l+=4,[t,a]}function _pe(e,t,a){e.l+=2;for(var r=e.read_shift(a&&a.biff==2?1:2),n=[],i=0;i<=r;++i)n.push(e.read_shift(a&&a.biff==2?1:2));return n}function Tpe(e,t,a){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(a&&a.biff==2?1:2)]}function Epe(e,t,a){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(a&&a.biff==2?1:2)]}function Dpe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Mpe(e,t,a){var r=e[e.l+1]&255?1:0;return e.l+=a&&a.biff==2?3:4,[r]}function nV(e){var t=e.read_shift(1),a=e.read_shift(1);return[t,a]}function Ppe(e){return e.read_shift(2),nV(e)}function Lpe(e){return e.read_shift(2),nV(e)}function Ope(e,t,a){var r=(e[e.l]&96)>>5;e.l+=1;var n=sV(e,0,a);return[r,n]}function Rpe(e,t,a){var r=(e[e.l]&96)>>5;e.l+=1;var n=ype(e,0,a);return[r,n]}function Fpe(e,t,a){var r=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(2);a&&a.biff==5&&(e.l+=12);var i=sV(e,0,a);return[r,n,i]}function Ipe(e,t,a){var r=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(a&&a.biff<=3?1:2);return[Uxe[n],oV[n],r]}function Bpe(e,t,a){var r=e[e.l++],n=e.read_shift(1),i=a&&a.biff<=3?[r==88?-1:0,e.read_shift(1)]:$pe(e);return[n,(i[0]===0?oV:$xe)[i[1]]]}function $pe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Upe(e,t,a){e.l+=a&&a.biff==2?3:4}function zpe(e,t,a){if(e.l++,a&&a.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),n=e.read_shift(a&&a.biff==2?1:2);return[r,n]}function Hpe(e){return e.l++,jh[e.read_shift(1)]}function Vpe(e){return e.l++,e.read_shift(2)}function Wpe(e){return e.l++,e.read_shift(1)!==0}function qpe(e){return e.l++,ol(e)}function Gpe(e,t,a){return e.l++,Hv(e,t-1,a)}function Kpe(e,t){var a=[e.read_shift(1)];if(t==12)switch(a[0]){case 2:a[0]=4;break;case 4:a[0]=16;break;case 0:a[0]=1;break;case 1:a[0]=2;break}switch(a[0]){case 4:a[1]=gn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:a[1]=jh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:a[1]=ol(e);break;case 2:a[1]=Om(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+a[0])}return a}function Ype(e,t,a){for(var r=e.read_shift(a.biff==12?4:2),n=[],i=0;i!=r;++i)n.push((a.biff==12?Lm:Kj)(e));return n}function Xpe(e,t,a){var r=0,n=0;a.biff==12?(r=e.read_shift(4),n=e.read_shift(4)):(n=1+e.read_shift(1),r=1+e.read_shift(2)),a.biff>=2&&a.biff<8&&(--r,--n==0&&(n=256));for(var i=0,l=[];i!=r&&(l[i]=[]);++i)for(var o=0;o!=n;++o)l[i][o]=Kpe(e,a.biff);return l}function Qpe(e,t,a){var r=e.read_shift(1)>>>5&3,n=!a||a.biff>=8?4:2,i=e.read_shift(n);switch(a.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,i]}function Jpe(e,t,a){if(a.biff==5)return Zpe(e);var r=e.read_shift(1)>>>5&3,n=e.read_shift(2),i=e.read_shift(4);return[r,n,i]}function Zpe(e){var t=e.read_shift(1)>>>5&3,a=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,a,r]}function exe(e,t,a){var r=e.read_shift(1)>>>5&3;e.l+=a&&a.biff==2?3:4;var n=e.read_shift(a&&a.biff==2?1:2);return[r,n]}function txe(e,t,a){var r=e.read_shift(1)>>>5&3,n=e.read_shift(a&&a.biff==2?1:2);return[r,n]}function axe(e,t,a){var r=e.read_shift(1)>>>5&3;return e.l+=4,a.biff<8&&e.l--,a.biff==12&&(e.l+=2),[r]}function rxe(e,t,a){var r=(e[e.l++]&96)>>5,n=e.read_shift(2),i=4;if(a)switch(a.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[r,n]}var sxe=fl,nxe=fl,ixe=fl;function Wv(e,t,a){return e.l+=2,[bpe(e)]}function WA(e){return e.l+=6,[]}var lxe=Wv,oxe=WA,cxe=WA,dxe=Wv;function iV(e){return e.l+=2,[On(e),e.read_shift(2)&1]}var uxe=Wv,hxe=iV,fxe=WA,mxe=Wv,pxe=Wv,xxe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function gxe(e){e.l+=2;var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(4),n=e.read_shift(2),i=e.read_shift(2),l=xxe[a>>2&31];return{ixti:t,coltype:a&3,rt:l,idx:r,c:n,C:i}}function vxe(e){return e.l+=2,[e.read_shift(4)]}function bxe(e,t,a){return e.l+=5,e.l+=2,e.l+=a.biff==2?1:4,["PTGSHEET"]}function yxe(e,t,a){return e.l+=a.biff==2?4:5,["PTGENDSHEET"]}function wxe(e){var t=e.read_shift(1)>>>5&3,a=e.read_shift(2);return[t,a]}function jxe(e){var t=e.read_shift(1)>>>5&3,a=e.read_shift(2);return[t,a]}function Nxe(e){return e.l+=4,[0,0]}var OP={1:{n:"PtgExp",f:zpe},2:{n:"PtgTbl",f:ixe},3:{n:"PtgAdd",f:Pn},4:{n:"PtgSub",f:Pn},5:{n:"PtgMul",f:Pn},6:{n:"PtgDiv",f:Pn},7:{n:"PtgPower",f:Pn},8:{n:"PtgConcat",f:Pn},9:{n:"PtgLt",f:Pn},10:{n:"PtgLe",f:Pn},11:{n:"PtgEq",f:Pn},12:{n:"PtgGe",f:Pn},13:{n:"PtgGt",f:Pn},14:{n:"PtgNe",f:Pn},15:{n:"PtgIsect",f:Pn},16:{n:"PtgUnion",f:Pn},17:{n:"PtgRange",f:Pn},18:{n:"PtgUplus",f:Pn},19:{n:"PtgUminus",f:Pn},20:{n:"PtgPercent",f:Pn},21:{n:"PtgParen",f:Pn},22:{n:"PtgMissArg",f:Pn},23:{n:"PtgStr",f:Gpe},26:{n:"PtgSheet",f:bxe},27:{n:"PtgEndSheet",f:yxe},28:{n:"PtgErr",f:Hpe},29:{n:"PtgBool",f:Wpe},30:{n:"PtgInt",f:Vpe},31:{n:"PtgNum",f:qpe},32:{n:"PtgArray",f:Ape},33:{n:"PtgFunc",f:Ipe},34:{n:"PtgFuncVar",f:Bpe},35:{n:"PtgName",f:Qpe},36:{n:"PtgRef",f:Ope},37:{n:"PtgArea",f:jpe},38:{n:"PtgMemArea",f:exe},39:{n:"PtgMemErr",f:sxe},40:{n:"PtgMemNoMem",f:nxe},41:{n:"PtgMemFunc",f:txe},42:{n:"PtgRefErr",f:axe},43:{n:"PtgAreaErr",f:Spe},44:{n:"PtgRefN",f:Rpe},45:{n:"PtgAreaN",f:Cpe},46:{n:"PtgMemAreaN",f:wxe},47:{n:"PtgMemNoMemN",f:jxe},57:{n:"PtgNameX",f:Jpe},58:{n:"PtgRef3d",f:Fpe},59:{n:"PtgArea3d",f:Npe},60:{n:"PtgRefErr3d",f:rxe},61:{n:"PtgAreaErr3d",f:kpe},255:{}},Sxe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},kxe={1:{n:"PtgElfLel",f:iV},2:{n:"PtgElfRw",f:mxe},3:{n:"PtgElfCol",f:lxe},6:{n:"PtgElfRwV",f:pxe},7:{n:"PtgElfColV",f:dxe},10:{n:"PtgElfRadical",f:uxe},11:{n:"PtgElfRadicalS",f:fxe},13:{n:"PtgElfColS",f:oxe},15:{n:"PtgElfColSV",f:cxe},16:{n:"PtgElfRadicalLel",f:hxe},25:{n:"PtgList",f:gxe},29:{n:"PtgSxName",f:vxe},255:{}},Cxe={0:{n:"PtgAttrNoop",f:Nxe},1:{n:"PtgAttrSemi",f:Mpe},2:{n:"PtgAttrIf",f:Epe},4:{n:"PtgAttrChoose",f:_pe},8:{n:"PtgAttrGoto",f:Tpe},16:{n:"PtgAttrSum",f:Upe},32:{n:"PtgAttrBaxcel",f:LP},33:{n:"PtgAttrBaxcel",f:LP},64:{n:"PtgAttrSpace",f:Ppe},65:{n:"PtgAttrSpaceSemi",f:Lpe},128:{n:"PtgAttrIfError",f:Dpe},255:{}};function qv(e,t,a,r){if(r.biff<8)return fl(e,t);for(var n=e.l+t,i=[],l=0;l!==a.length;++l)switch(a[l][0]){case"PtgArray":a[l][1]=Xpe(e,0,r),i.push(a[l][1]);break;case"PtgMemArea":a[l][2]=Ype(e,a[l][1],r),i.push(a[l][2]);break;case"PtgExp":r&&r.biff==12&&(a[l][1][1]=e.read_shift(4),i.push(a[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+a[l][0]}return t=n-e.l,t!==0&&i.push(fl(e,t)),i}function Gv(e,t,a){for(var r=e.l+t,n,i,l=[];r!=e.l;)t=r-e.l,i=e[e.l],n=OP[i]||OP[Sxe[i]],(i===24||i===25)&&(n=(i===24?kxe:Cxe)[e[e.l+1]]),!n||!n.f?fl(e,t):l.push([n.n,n.f(e,t,a)]);return l}function Axe(e){for(var t=[],a=0;a<e.length;++a){for(var r=e[a],n=[],i=0;i<r.length;++i){var l=r[i];if(l)switch(l[0]){case 2:n.push('"'+l[1].replace(/"/g,'""')+'"');break;default:n.push(l[1])}else n.push("")}t.push(n.join(","))}return t.join(";")}var _xe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Txe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function lV(e,t,a){if(!e)return"SH33TJSERR0";if(a.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(a.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var n="";if(a.biff>8)switch(e[r[0]][0]){case 357:return n=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?n:n+":"+e.SheetNames[r[2]];case 358:return a.SID!=null?e.SheetNames[a.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return n=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?n:n+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[r[0]][0][3]?(n=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?n:n+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function RP(e,t,a){var r=lV(e,t,a);return r=="#REF"?r:Txe(r,a)}function sl(e,t,a,r,n){var i=n&&n.biff||8,l={s:{c:0,r:0}},o=[],c,d,u,f=0,x=0,p,v="";if(!e[0]||!e[0][0])return"";for(var g=-1,b="",j=0,N=e[0].length;j<N;++j){var S=e[0][j];switch(S[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),d=o.pop(),g>=0){switch(e[0][g][1][0]){case 0:b=Js(" ",e[0][g][1][1]);break;case 1:b=Js("\r",e[0][g][1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}d=d+b,g=-1}o.push(d+_xe[S[0]]+c);break;case"PtgIsect":c=o.pop(),d=o.pop(),o.push(d+" "+c);break;case"PtgUnion":c=o.pop(),d=o.pop(),o.push(d+","+c);break;case"PtgRange":c=o.pop(),d=o.pop(),o.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=m1(S[1][1],l,n),o.push(p1(u,i));break;case"PtgRefN":u=a?m1(S[1][1],a,n):S[1][1],o.push(p1(u,i));break;case"PtgRef3d":f=S[1][1],u=m1(S[1][2],l,n),v=RP(r,f,n),o.push(v+"!"+p1(u,i));break;case"PtgFunc":case"PtgFuncVar":var k=S[1][0],A=S[1][1];k||(k=0),k&=127;var _=k==0?[]:o.slice(-k);o.length-=k,A==="User"&&(A=_.shift()),o.push(A+"("+_.join(",")+")");break;case"PtgBool":o.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(S[1]);break;case"PtgNum":o.push(String(S[1]));break;case"PtgStr":o.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(S[1]);break;case"PtgAreaN":p=uP(S[1][1],a?{s:a}:l,n),o.push(T5(p,n));break;case"PtgArea":p=uP(S[1][1],l,n),o.push(T5(p,n));break;case"PtgArea3d":f=S[1][1],p=S[1][2],v=RP(r,f,n),o.push(v+"!"+T5(p,n));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":x=S[1][2];var M=(r.names||[])[x-1]||(r[0]||[])[x],L=M?M.Name:"SH33TJSNAME"+String(x);L&&L.slice(0,6)=="_xlfn."&&!n.xlfn&&(L=L.slice(6)),o.push(L);break;case"PtgNameX":var U=S[1][1];x=S[1][2];var z;if(n.biff<=5)U<0&&(U=-U),r[U]&&(z=r[U][x]);else{var O="";if(((r[U]||[])[0]||[])[0]==14849||(((r[U]||[])[0]||[])[0]==1025?r[U][x]&&r[U][x].itab>0&&(O=r.SheetNames[r[U][x].itab-1]+"!"):O=r.SheetNames[x-1]+"!"),r[U]&&r[U][x])O+=r[U][x].Name;else if(r[0]&&r[0][x])O+=r[0][x].Name;else{var B=(lV(r,U,n)||"").split(";;");B[x-1]?O=B[x-1]:O+="SH33TJSERRX"}o.push(O);break}z||(z={Name:"SH33TJSERRY"}),o.push(z.Name);break;case"PtgParen":var E="(",R=")";if(g>=0){switch(b="",e[0][g][1][0]){case 2:E=Js(" ",e[0][g][1][1])+E;break;case 3:E=Js("\r",e[0][g][1][1])+E;break;case 4:R=Js(" ",e[0][g][1][1])+R;break;case 5:R=Js("\r",e[0][g][1][1])+R;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}o.push(E+o.pop()+R);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:S[1][1],r:S[1][0]};var q={c:a.c,r:a.r};if(r.sharedf[_a(u)]){var I=r.sharedf[_a(u)];o.push(sl(I,l,q,r,n))}else{var G=!1;for(c=0;c!=r.arrayf.length;++c)if(d=r.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){o.push(sl(d[1],l,q,r,n)),G=!0;break}G||o.push(S[1])}break;case"PtgArray":o.push("{"+Axe(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var re=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&g>=0&&re.indexOf(e[0][j][0])==-1){S=e[0][g];var te=!0;switch(S[1][0]){case 4:te=!1;case 0:b=Js(" ",S[1][1]);break;case 5:te=!1;case 1:b=Js("\r",S[1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}o.push((te?b:"")+o.pop()+(te?"":b)),g=-1}}if(o.length>1&&n.WTF)throw new Error("bad formula stack");return o[0]}function Exe(e,t,a){var r=e.l+t,n=a.biff==2?1:2,i,l=e.read_shift(n);if(l==65535)return[[],fl(e,t-2)];var o=Gv(e,l,a);return t!==l+n&&(i=qv(e,t-l-n,o,a)),e.l=r,[o,i]}function Dxe(e,t,a){var r=e.l+t,n=a.biff==2?1:2,i,l=e.read_shift(n);if(l==65535)return[[],fl(e,t-2)];var o=Gv(e,l,a);return t!==l+n&&(i=qv(e,t-l-n,o,a)),e.l=r,[o,i]}function Mxe(e,t,a,r){var n=e.l+t,i=Gv(e,r,a),l;return n!==e.l&&(l=qv(e,n-e.l,i,a)),[i,l]}function Pxe(e,t,a){var r=e.l+t,n,i=e.read_shift(2),l=Gv(e,i,a);return i==65535?[[],fl(e,t-2)]:(t!==i+2&&(n=qv(e,r-i-2,l,a)),[l,n])}function Lxe(e){var t;if(Ku(e,e.l+6)!==65535)return[ol(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Oxe(e){if(e==null){var t=jt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return hm(e);return hm(0)}function L5(e,t,a){var r=e.l+t,n=lu(e);a.biff==2&&++e.l;var i=Lxe(e),l=e.read_shift(1);a.biff!=2&&(e.read_shift(1),a.biff>=5&&e.read_shift(4));var o=Dxe(e,r-e.l,a);return{cell:n,val:i[0],formula:o,shared:l>>3&1,tt:i[1]}}function Rxe(e,t,a,r,n){var i=mm(t,a,n),l=Oxe(e.v),o=jt(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var d=jt(e.bf.length),u=0;u<e.bf.length;++u)d[u]=e.bf[u];var f=wi([i,l,o,d]);return f}function Yj(e,t,a){var r=e.read_shift(4),n=Gv(e,r,a),i=e.read_shift(4),l=i>0?qv(e,i,n,a):null;return[n,l]}var Fxe=Yj,Xj=Yj,Ixe=Yj,Bxe=Yj,$xe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},oV={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Uxe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function FP(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,a){return a.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function zxe(e){var t="of:="+e.replace(HA,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function O5(e){var t=e.split(":"),a=t[0].split(".")[0];return[a,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function Hxe(e){return e.replace(/\./,"!")}var g1={},Yp={},v1=typeof Map<"u";function qA(e,t,a){var r=0,n=e.length;if(a){if(v1?a.has(t):Object.prototype.hasOwnProperty.call(a,t)){for(var i=v1?a.get(t):a[t];r<i.length;++r)if(e[i[r]].t===t)return e.Count++,i[r]}}else for(;r<n;++r)if(e[r].t===t)return e.Count++,r;return e[n]={t},e.Count++,e.Unique++,a&&(v1?(a.has(t)||a.set(t,[]),a.get(t).push(n)):(Object.prototype.hasOwnProperty.call(a,t)||(a[t]=[]),a[t].push(n))),n}function Qj(e,t){var a={min:e+1,max:e+1},r=-1;return t.MDW&&(nl=t.MDW),t.width!=null?a.customWidth=1:t.wpx!=null?r=tv(t.wpx):t.wch!=null&&(r=t.wch),r>-1?(a.width=mw(r),a.customWidth=1):t.width!=null&&(a.width=t.width),t.hidden&&(a.hidden=!0),t.level!=null&&(a.outlineLevel=a.level=t.level),a}function X0(e,t){if(e){var a=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(a=[1,1,1,1,.5,.5]),e.left==null&&(e.left=a[0]),e.right==null&&(e.right=a[1]),e.top==null&&(e.top=a[2]),e.bottom==null&&(e.bottom=a[3]),e.header==null&&(e.header=a[4]),e.footer==null&&(e.footer=a[5])}}function Wf(e,t,a){var r=a.revssf[t.z!=null?t.z:"General"],n=60,i=e.length;if(r==null&&a.ssf){for(;n<392;++n)if(a.ssf[n]==null){rh(t.z,n),a.ssf[n]=t.z,a.revssf[t.z]=r=n;break}}for(n=0;n!=i;++n)if(e[n].numFmtId===r)return n;return e[i]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function cV(e,t,a,r,n,i){try{r.cellNF&&(e.z=Ca[t])}catch(o){if(r.WTF)throw o}if(!(e.t==="z"&&!r.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=ps(e.v)),(!r||r.cellText!==!1)&&e.t!=="z")try{if(Ca[t]==null&&rh($de[t]||"General",t),e.t==="e")e.w=e.w||jh[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=K1(e.v);else if(e.t==="d"){var l=ei(e.v);(l|0)===l?e.w=l.toString(10):e.w=K1(l)}else{if(e.v===void 0)return"";e.w=dm(e.v,Yp)}else e.t==="d"?e.w=yc(t,ei(e.v),Yp):e.w=yc(t,e.v,Yp)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&a!=null)try{e.s=i.Fills[a],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=fw(n.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=n.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=fw(n.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=n.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&i.Fills)throw o}}}function Vxe(e,t,a){if(e&&e["!ref"]){var r=kr(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+a+"): "+e["!ref"])}}function Wxe(e,t){var a=kr(t);a.s.r<=a.e.r&&a.s.c<=a.e.c&&a.s.r>=0&&a.s.c>=0&&(e["!ref"]=Xa(a))}var qxe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Gxe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Kxe=/<(?:\w:)?hyperlink [^>]*>/mg,Yxe=/"(\w*:\w*)"/,Xxe=/<(?:\w:)?col\b[^>]*[\/]?>/g,Qxe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Jxe=/<(?:\w:)?pageMargins[^>]*\/>/g,dV=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Zxe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,ege=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function tge(e,t,a,r,n,i,l){if(!e)return e;r||(r={"!id":{}});var o=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",u="",f=e.match(Gxe);f?(d=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):d=u=e;var x=d.match(dV);x?GA(x[0],o,n,a):(x=d.match(Zxe))&&rge(x[0],x[1]||"",o,n,a);var p=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var v=d.slice(p,p+50).match(Yxe);v&&Wxe(o,v[1])}var g=d.match(ege);g&&g[1]&&xge(g[1],n);var b=[];if(t.cellStyles){var j=d.match(Xxe);j&&uge(b,j)}f&&bge(f[1],o,t,c,i,l);var N=u.match(Qxe);N&&(o["!autofilter"]=fge(N[0]));var S=[],k=u.match(qxe);if(k)for(p=0;p!=k.length;++p)S[p]=kr(k[p].slice(k[p].indexOf('"')+1));var A=u.match(Kxe);A&&oge(o,A,r);var _=u.match(Jxe);if(_&&(o["!margins"]=cge(La(_[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=Xa(c)),t.sheetRows>0&&o["!ref"]){var M=kr(o["!ref"]);t.sheetRows<=+M.e.r&&(M.e.r=t.sheetRows-1,M.e.r>c.e.r&&(M.e.r=c.e.r),M.e.r<M.s.r&&(M.s.r=M.e.r),M.e.c>c.e.c&&(M.e.c=c.e.c),M.e.c<M.s.c&&(M.s.c=M.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Xa(M))}return b.length>0&&(o["!cols"]=b),S.length>0&&(o["!merges"]=S),o}function age(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',a=0;a!=e.length;++a)t+='<mergeCell ref="'+Xa(e[a])+'"/>';return t+"</mergeCells>"}function GA(e,t,a,r){var n=La(e);a.Sheets[r]||(a.Sheets[r]={}),n.codeName&&(a.Sheets[r].CodeName=Sr(Qr(n.codeName)))}function rge(e,t,a,r,n){GA(e.slice(0,e.indexOf(">")),a,r,n)}function sge(e,t,a,r,n){var i=!1,l={},o=null;if(r.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[a];try{t.Workbook&&(c=t.Workbook.Sheets[a].CodeName||c)}catch{}i=!0,l.codeName=Yd(Wr(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),o=(o||"")+Gt("outlinePr",null,d)}!i&&!o||(n[n.length]=Gt("sheetPr",o,l))}var nge=["objects","scenarios","selectLockedCells","selectUnlockedCells"],ige=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function lge(e){var t={sheet:1};return nge.forEach(function(a){e[a]!=null&&e[a]&&(t[a]="1")}),ige.forEach(function(a){e[a]!=null&&!e[a]&&(t[a]="0")}),e.password&&(t.password=$A(e.password).toString(16).toUpperCase()),Gt("sheetProtection",null,t)}function oge(e,t,a){for(var r=Array.isArray(e),n=0;n!=t.length;++n){var i=La(Qr(t[n]),!0);if(!i.ref)return;var l=((a||{})["!id"]||[])[i.id];l?(i.Target=l.Target,i.location&&(i.Target+="#"+Sr(i.location))):(i.Target="#"+Sr(i.location),l={Target:i.Target,TargetMode:"Internal"}),i.Rel=l,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=kr(i.ref),c=o.s.r;c<=o.e.r;++c)for(var d=o.s.c;d<=o.e.c;++d){var u=_a({c:d,r:c});r?(e[c]||(e[c]=[]),e[c][d]||(e[c][d]={t:"z",v:void 0}),e[c][d].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function cge(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(a){e[a]&&(t[a]=parseFloat(e[a]))}),t}function dge(e){return X0(e),Gt("pageMargins",null,e)}function uge(e,t){for(var a=!1,r=0;r!=t.length;++r){var n=La(t[r],!0);n.hidden&&(n.hidden=hs(n.hidden));var i=parseInt(n.min,10)-1,l=parseInt(n.max,10)-1;for(n.outlineLevel&&(n.level=+n.outlineLevel||0),delete n.min,delete n.max,n.width=+n.width,!a&&n.width&&(a=!0,UA(n.width)),Mf(n);i<=l;)e[i++]=xs(n)}}function hge(e,t){for(var a=["<cols>"],r,n=0;n!=t.length;++n)(r=t[n])&&(a[a.length]=Gt("col",null,Qj(n,r)));return a[a.length]="</cols>",a.join("")}function fge(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function mge(e,t,a,r){var n=typeof e.ref=="string"?e.ref:Xa(e.ref);a.Workbook||(a.Workbook={Sheets:[]}),a.Workbook.Names||(a.Workbook.Names=[]);var i=a.Workbook.Names,l=so(n);l.s.r==l.e.r&&(l.e.r=so(t["!ref"]).e.r,n=Xa(l));for(var o=0;o<i.length;++o){var c=i[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r){c.Ref="'"+a.SheetNames[r]+"'!"+n;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+a.SheetNames[r]+"'!"+n}),Gt("autoFilter",null,{ref:n})}var pge=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function xge(e,t){t.Views||(t.Views=[{}]),(e.match(pge)||[]).forEach(function(a,r){var n=La(a);t.Views[r]||(t.Views[r]={}),+n.zoomScale&&(t.Views[r].zoom=+n.zoomScale),hs(n.rightToLeft)&&(t.Views[r].RTL=!0)})}function gge(e,t,a,r){var n={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Gt("sheetViews",Gt("sheetView",null,n),{})}function vge(e,t,a,r){if(e.c&&a["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var n="",i=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":n=e.v?"1":"0";break;case"n":n=""+e.v;break;case"e":n=jh[e.v];break;case"d":r&&r.cellDates?n=ps(e.v,-1).toISOString():(e=xs(e),e.t="n",n=""+(e.v=ei(ps(e.v)))),typeof e.z>"u"&&(e.z=Ca[14]);break;default:n=e.v;break}var o=zi("v",Wr(n)),c={r:t},d=Wf(r.cellXfs,e,r);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=zi("v",""+qA(r.Strings,e.v,r.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=l),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=Gt("f",Wr(e.f),u)+(e.v!=null?o:"")}return e.l&&a["!links"].push([t,e.l]),e.D&&(c.cm=1),Gt("c",o,c)}var bge=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,a=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,n=/ref=["']([^"']*)["']/,i=Y1("v"),l=Y1("f");return function(c,d,u,f,x,p){for(var v=0,g="",b=[],j=[],N=0,S=0,k=0,A="",_,M,L=0,U=0,z,O,B=0,E=0,R=Array.isArray(p.CellXf),q,I=[],G=[],re=Array.isArray(d),te=[],X={},ce=!1,D=!!u.sheetStubs,Q=c.split(t),H=0,J=Q.length;H!=J;++H){g=Q[H].trim();var ae=g.length;if(ae!==0){var ie=0;e:for(v=0;v<ae;++v)switch(g[v]){case">":if(g[v-1]!="/"){++v;break e}if(u&&u.cellStyles){if(M=La(g.slice(ie,v),!0),L=M.r!=null?parseInt(M.r,10):L+1,U=-1,u.sheetRows&&u.sheetRows<L)continue;X={},ce=!1,M.ht&&(ce=!0,X.hpt=parseFloat(M.ht),X.hpx=ox(X.hpt)),M.hidden=="1"&&(ce=!0,X.hidden=!0),M.outlineLevel!=null&&(ce=!0,X.level=+M.outlineLevel),ce&&(te[L-1]=X)}break;case"<":ie=v;break}if(ie>=v)break;if(M=La(g.slice(ie,v),!0),L=M.r!=null?parseInt(M.r,10):L+1,U=-1,!(u.sheetRows&&u.sheetRows<L)){f.s.r>L-1&&(f.s.r=L-1),f.e.r<L-1&&(f.e.r=L-1),u&&u.cellStyles&&(X={},ce=!1,M.ht&&(ce=!0,X.hpt=parseFloat(M.ht),X.hpx=ox(X.hpt)),M.hidden=="1"&&(ce=!0,X.hidden=!0),M.outlineLevel!=null&&(ce=!0,X.level=+M.outlineLevel),ce&&(te[L-1]=X)),b=g.slice(v).split(e);for(var le=0;le!=b.length&&b[le].trim().charAt(0)=="<";++le);for(b=b.slice(le),v=0;v!=b.length;++v)if(g=b[v].trim(),g.length!==0){if(j=g.match(a),N=v,S=0,k=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,j!=null&&j.length===2){for(N=0,A=j[1],S=0;S!=A.length&&!((k=A.charCodeAt(S)-64)<1||k>26);++S)N=26*N+k;--N,U=N}else++U;for(S=0;S!=g.length&&g.charCodeAt(S)!==62;++S);if(++S,M=La(g.slice(0,S),!0),M.r||(M.r=_a({r:L-1,c:U})),A=g.slice(S),_={t:""},(j=A.match(i))!=null&&j[1]!==""&&(_.v=Sr(j[1])),u.cellFormula){if((j=A.match(l))!=null&&j[1]!==""){if(_.f=Sr(Qr(j[1])).replace(/\r\n/g,`
`),u.xlfn||(_.f=PP(_.f)),j[0].indexOf('t="array"')>-1)_.F=(A.match(n)||[])[1],_.F.indexOf(":")>-1&&I.push([kr(_.F),_.F]);else if(j[0].indexOf('t="shared"')>-1){O=La(j[0]);var Y=Sr(Qr(j[1]));u.xlfn||(Y=PP(Y)),G[parseInt(O.si,10)]=[O,Y,M.r]}}else(j=A.match(/<f[^>]*\/>/))&&(O=La(j[0]),G[O.si]&&(_.f=ppe(G[O.si][1],G[O.si][2],M.r)));var oe=Vs(M.r);for(S=0;S<I.length;++S)oe.r>=I[S][0].s.r&&oe.r<=I[S][0].e.r&&oe.c>=I[S][0].s.c&&oe.c<=I[S][0].e.c&&(_.F=I[S][1])}if(M.t==null&&_.v===void 0)if(_.f||_.F)_.v=0,_.t="n";else if(D)_.t="z";else continue;else _.t=M.t||"n";switch(f.s.c>U&&(f.s.c=U),f.e.c<U&&(f.e.c=U),_.t){case"n":if(_.v==""||_.v==null){if(!D)continue;_.t="z"}else _.v=parseFloat(_.v);break;case"s":if(typeof _.v>"u"){if(!D)continue;_.t="z"}else z=g1[parseInt(_.v,10)],_.v=z.t,_.r=z.r,u.cellHTML&&(_.h=z.h);break;case"str":_.t="s",_.v=_.v!=null?Qr(_.v):"",u.cellHTML&&(_.h=kA(_.v));break;case"inlineStr":j=A.match(r),_.t="s",j!=null&&(z=BA(j[1]))?(_.v=z.t,u.cellHTML&&(_.h=z.h)):_.v="";break;case"b":_.v=hs(_.v);break;case"d":u.cellDates?_.v=ps(_.v,1):(_.v=ei(ps(_.v,1)),_.t="n");break;case"e":(!u||u.cellText!==!1)&&(_.w=_.v),_.v=hH[_.v];break}if(B=E=0,q=null,R&&M.s!==void 0&&(q=p.CellXf[M.s],q!=null&&(q.numFmtId!=null&&(B=q.numFmtId),u.cellStyles&&q.fillId!=null&&(E=q.fillId))),cV(_,B,E,u,x,p),u.cellDates&&R&&_.t=="n"&&Sx(Ca[B])&&(_.t="d",_.v=Gj(_.v)),M.cm&&u.xlmeta){var xe=(u.xlmeta.Cell||[])[+M.cm-1];xe&&xe.type=="XLDAPR"&&(_.D=!0)}if(re){var W=Vs(M.r);d[W.r]||(d[W.r]=[]),d[W.r][W.c]=_}else d[M.r]=_}}}}te.length>0&&(d["!rows"]=te)}})();function yge(e,t,a,r){var n=[],i=[],l=kr(e["!ref"]),o="",c,d="",u=[],f=0,x=0,p=e["!rows"],v=Array.isArray(e),g={r:d},b,j=-1;for(x=l.s.c;x<=l.e.c;++x)u[x]=Hs(x);for(f=l.s.r;f<=l.e.r;++f){for(i=[],d=Sn(f),x=l.s.c;x<=l.e.c;++x){c=u[x]+d;var N=v?(e[f]||[])[x]:e[c];N!==void 0&&(o=vge(N,c,e,t))!=null&&i.push(o)}(i.length>0||p&&p[f])&&(g={r:d},p&&p[f]&&(b=p[f],b.hidden&&(g.hidden=1),j=-1,b.hpx?j=av(b.hpx):b.hpt&&(j=b.hpt),j>-1&&(g.ht=j,g.customHeight=1),b.level&&(g.outlineLevel=b.level)),n[n.length]=Gt("row",i.join(""),g))}if(p)for(;f<p.length;++f)p&&p[f]&&(g={r:f+1},b=p[f],b.hidden&&(g.hidden=1),j=-1,b.hpx?j=av(b.hpx):b.hpt&&(j=b.hpt),j>-1&&(g.ht=j,g.customHeight=1),b.level&&(g.outlineLevel=b.level),n[n.length]=Gt("row","",g));return n.join("")}function uV(e,t,a,r){var n=[_n,Gt("worksheet",null,{xmlns:Em[0],"xmlns:r":Qn.r})],i=a.SheetNames[e],l=0,o="",c=a.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",u=kr(d);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=Xa(u)}r||(r={}),c["!comments"]=[];var f=[];sge(c,a,e,t,n),n[n.length]=Gt("dimension",null,{ref:d}),n[n.length]=gge(c,t,e,a),t.sheetFormat&&(n[n.length]=Gt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(n[n.length]=hge(c,c["!cols"])),n[l=n.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=yge(c,t),o.length>0&&(n[n.length]=o)),n.length>l+1&&(n[n.length]="</sheetData>",n[l]=n[l].replace("/>",">")),c["!protect"]&&(n[n.length]=lge(c["!protect"])),c["!autofilter"]!=null&&(n[n.length]=mge(c["!autofilter"],c,a,e)),c["!merges"]!=null&&c["!merges"].length>0&&(n[n.length]=age(c["!merges"]));var x=-1,p,v=-1;return c["!links"].length>0&&(n[n.length]="<hyperlinks>",c["!links"].forEach(function(g){g[1].Target&&(p={ref:g[0]},g[1].Target.charAt(0)!="#"&&(v=Ur(r,-1,Wr(g[1].Target).replace(/#.*$/,""),ir.HLINK),p["r:id"]="rId"+v),(x=g[1].Target.indexOf("#"))>-1&&(p.location=Wr(g[1].Target.slice(x+1))),g[1].Tooltip&&(p.tooltip=Wr(g[1].Tooltip)),n[n.length]=Gt("hyperlink",null,p))}),n[n.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(n[n.length]=dge(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(n[n.length]=zi("ignoredErrors",Gt("ignoredError",null,{numberStoredAsText:1,sqref:d}))),f.length>0&&(v=Ur(r,-1,"../drawings/drawing"+(e+1)+".xml",ir.DRAW),n[n.length]=Gt("drawing",null,{"r:id":"rId"+v}),c["!drawing"]=f),c["!comments"].length>0&&(v=Ur(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",ir.VML),n[n.length]=Gt("legacyDrawing",null,{"r:id":"rId"+v}),c["!legacy"]=v),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function wge(e,t){var a={},r=e.l+t;a.r=e.read_shift(4),e.l+=4;var n=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=r,i&7&&(a.level=i&7),i&16&&(a.hidden=!0),i&32&&(a.hpt=n/20),a}function jge(e,t,a){var r=jt(145),n=(a["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var i=320;n.hpx?i=av(n.hpx)*20:n.hpt&&(i=n.hpt*20),r.write_shift(2,i),r.write_shift(1,0);var l=0;n.level&&(l|=n.level),n.hidden&&(l|=16),(n.hpx||n.hpt)&&(l|=32),r.write_shift(1,l),r.write_shift(1,0);var o=0,c=r.l;r.l+=4;for(var d={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var f=-1,x=-1,p=u<<10;p<u+1<<10;++p){d.c=p;var v=Array.isArray(a)?(a[d.r]||[])[d.c]:a[_a(d)];v&&(f<0&&(f=p),x=p)}f<0||(++o,r.write_shift(4,f),r.write_shift(4,x))}var g=r.l;return r.l=c,r.write_shift(4,o),r.l=g,r.length>r.l?r.slice(0,r.l):r}function Nge(e,t,a,r){var n=jge(r,a,t);(n.length>17||(t["!rows"]||[])[r])&&Rt(e,0,n)}var Sge=Lm,kge=Ax;function Cge(){}function Age(e,t){var a={},r=e[e.l];return++e.l,a.above=!(r&64),a.left=!(r&128),e.l+=18,a.name=Eue(e),a}function _ge(e,t,a){a==null&&(a=jt(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),a.write_shift(1,r);for(var n=1;n<3;++n)a.write_shift(1,0);return dw({auto:1},a),a.write_shift(-4,-1),a.write_shift(-4,-1),lH(e,a),a.slice(0,a.l)}function Tge(e){var t=Ac(e);return[t]}function Ege(e,t,a){return a==null&&(a=jt(8)),Dm(t,a)}function Dge(e){var t=Mm(e);return[t]}function Mge(e,t,a){return a==null&&(a=jt(4)),Pm(t,a)}function Pge(e){var t=Ac(e),a=e.read_shift(1);return[t,a,"b"]}function Lge(e,t,a){return a==null&&(a=jt(9)),Dm(t,a),a.write_shift(1,e.v?1:0),a}function Oge(e){var t=Mm(e),a=e.read_shift(1);return[t,a,"b"]}function Rge(e,t,a){return a==null&&(a=jt(5)),Pm(t,a),a.write_shift(1,e.v?1:0),a}function Fge(e){var t=Ac(e),a=e.read_shift(1);return[t,a,"e"]}function Ige(e,t,a){return a==null&&(a=jt(9)),Dm(t,a),a.write_shift(1,e.v),a}function Bge(e){var t=Mm(e),a=e.read_shift(1);return[t,a,"e"]}function $ge(e,t,a){return a==null&&(a=jt(8)),Pm(t,a),a.write_shift(1,e.v),a.write_shift(2,0),a.write_shift(1,0),a}function Uge(e){var t=Ac(e),a=e.read_shift(4);return[t,a,"s"]}function zge(e,t,a){return a==null&&(a=jt(12)),Dm(t,a),a.write_shift(4,t.v),a}function Hge(e){var t=Mm(e),a=e.read_shift(4);return[t,a,"s"]}function Vge(e,t,a){return a==null&&(a=jt(8)),Pm(t,a),a.write_shift(4,t.v),a}function Wge(e){var t=Ac(e),a=ol(e);return[t,a,"n"]}function qge(e,t,a){return a==null&&(a=jt(16)),Dm(t,a),hm(e.v,a),a}function hV(e){var t=Mm(e),a=ol(e);return[t,a,"n"]}function Gge(e,t,a){return a==null&&(a=jt(12)),Pm(t,a),hm(e.v,a),a}function Kge(e){var t=Ac(e),a=LA(e);return[t,a,"n"]}function Yge(e,t,a){return a==null&&(a=jt(12)),Dm(t,a),oH(e.v,a),a}function Xge(e){var t=Mm(e),a=LA(e);return[t,a,"n"]}function Qge(e,t,a){return a==null&&(a=jt(8)),Pm(t,a),oH(e.v,a),a}function Jge(e){var t=Ac(e),a=DA(e);return[t,a,"is"]}function Zge(e){var t=Ac(e),a=ul(e);return[t,a,"str"]}function e1e(e,t,a){return a==null&&(a=jt(12+4*e.v.length)),Dm(t,a),Ni(e.v,a),a.length>a.l?a.slice(0,a.l):a}function t1e(e){var t=Mm(e),a=ul(e);return[t,a,"str"]}function a1e(e,t,a){return a==null&&(a=jt(8+4*e.v.length)),Pm(t,a),Ni(e.v,a),a.length>a.l?a.slice(0,a.l):a}function r1e(e,t,a){var r=e.l+t,n=Ac(e);n.r=a["!row"];var i=e.read_shift(1),l=[n,i,"b"];if(a.cellFormula){e.l+=2;var o=Xj(e,r-e.l,a);l[3]=sl(o,null,n,a.supbooks,a)}else e.l=r;return l}function s1e(e,t,a){var r=e.l+t,n=Ac(e);n.r=a["!row"];var i=e.read_shift(1),l=[n,i,"e"];if(a.cellFormula){e.l+=2;var o=Xj(e,r-e.l,a);l[3]=sl(o,null,n,a.supbooks,a)}else e.l=r;return l}function n1e(e,t,a){var r=e.l+t,n=Ac(e);n.r=a["!row"];var i=ol(e),l=[n,i,"n"];if(a.cellFormula){e.l+=2;var o=Xj(e,r-e.l,a);l[3]=sl(o,null,n,a.supbooks,a)}else e.l=r;return l}function i1e(e,t,a){var r=e.l+t,n=Ac(e);n.r=a["!row"];var i=ul(e),l=[n,i,"str"];if(a.cellFormula){e.l+=2;var o=Xj(e,r-e.l,a);l[3]=sl(o,null,n,a.supbooks,a)}else e.l=r;return l}var l1e=Lm,o1e=Ax;function c1e(e,t){return t==null&&(t=jt(4)),t.write_shift(4,e),t}function d1e(e,t){var a=e.l+t,r=Lm(e),n=MA(e),i=ul(e),l=ul(e),o=ul(e);e.l=a;var c={rfx:r,relId:n,loc:i,display:o};return l&&(c.Tooltip=l),c}function u1e(e,t){var a=jt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Ax({s:Vs(e[0]),e:Vs(e[0])},a),PA("rId"+t,a);var r=e[1].Target.indexOf("#"),n=r==-1?"":e[1].Target.slice(r+1);return Ni(n||"",a),Ni(e[1].Tooltip||"",a),Ni("",a),a.slice(0,a.l)}function h1e(){}function f1e(e,t,a){var r=e.l+t,n=cH(e),i=e.read_shift(1),l=[n];if(l[2]=i,a.cellFormula){var o=Fxe(e,r-e.l,a);l[1]=o}else e.l=r;return l}function m1e(e,t,a){var r=e.l+t,n=Lm(e),i=[n];if(a.cellFormula){var l=Bxe(e,r-e.l,a);i[1]=l,e.l=r}else e.l=r;return i}function p1e(e,t,a){a==null&&(a=jt(18));var r=Qj(e,t);a.write_shift(-4,e),a.write_shift(-4,e),a.write_shift(4,(r.width||10)*256),a.write_shift(4,0);var n=0;return t.hidden&&(n|=1),typeof r.width=="number"&&(n|=2),t.level&&(n|=t.level<<8),a.write_shift(2,n),a}var fV=["left","right","top","bottom","header","footer"];function x1e(e){var t={};return fV.forEach(function(a){t[a]=ol(e)}),t}function g1e(e,t){return t==null&&(t=jt(48)),X0(e),fV.forEach(function(a){hm(e[a],t)}),t}function v1e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function b1e(e,t,a){a==null&&(a=jt(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),a.write_shift(2,r),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(1,0),a.write_shift(1,0),a.write_shift(2,0),a.write_shift(2,100),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(4,0),a}function y1e(e){var t=jt(24);return t.write_shift(4,4),t.write_shift(4,1),Ax(e,t),t}function w1e(e,t){return t==null&&(t=jt(66)),t.write_shift(2,e.password?$A(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(a){a[1]?t.write_shift(4,e[a[0]]!=null&&!e[a[0]]?1:0):t.write_shift(4,e[a[0]]!=null&&e[a[0]]?0:1)}),t}function j1e(){}function N1e(){}function S1e(e,t,a,r,n,i,l){if(!e)return e;var o=t||{};r||(r={"!id":{}});var c=o.dense?[]:{},d,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,x=!1,p,v,g,b,j,N,S,k,A,_=[];o.biff=12,o["!row"]=0;var M=0,L=!1,U=[],z={},O=o.supbooks||n.supbooks||[[]];if(O.sharedf=z,O.arrayf=U,O.SheetNames=n.SheetNames||n.Sheets.map(function(re){return re.name}),!o.supbooks&&(o.supbooks=O,n.Names))for(var B=0;B<n.Names.length;++B)O[0][B+1]=n.Names[B];var E=[],R=[],q=!1;rv[16]={n:"BrtShortReal",f:hV};var I;if(wh(e,function(te,X,ce){if(!x)switch(ce){case 148:d=te;break;case 0:p=te,o.sheetRows&&o.sheetRows<=p.r&&(x=!0),k=Sn(b=p.r),o["!row"]=p.r,(te.hidden||te.hpt||te.level!=null)&&(te.hpt&&(te.hpx=ox(te.hpt)),R[te.r]=te);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:te[2]},te[2]){case"n":v.v=te[1];break;case"s":S=g1[te[1]],v.v=S.t,v.r=S.r;break;case"b":v.v=!!te[1];break;case"e":v.v=te[1],o.cellText!==!1&&(v.w=jh[v.v]);break;case"str":v.t="s",v.v=te[1];break;case"is":v.t="s",v.v=te[1].t;break}if((g=l.CellXf[te[0].iStyleRef])&&cV(v,g.numFmtId,null,o,i,l),j=te[0].c==-1?j+1:te[0].c,o.dense?(c[b]||(c[b]=[]),c[b][j]=v):c[Hs(j)+k]=v,o.cellFormula){for(L=!1,M=0;M<U.length;++M){var D=U[M];p.r>=D[0].s.r&&p.r<=D[0].e.r&&j>=D[0].s.c&&j<=D[0].e.c&&(v.F=Xa(D[0]),L=!0)}!L&&te.length>3&&(v.f=te[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>j&&(u.s.c=j),u.e.r<p.r&&(u.e.r=p.r),u.e.c<j&&(u.e.c=j),o.cellDates&&g&&v.t=="n"&&Sx(Ca[g.numFmtId])){var Q=R0(v.v);Q&&(v.t="d",v.v=new Date(Q.y,Q.m-1,Q.d,Q.H,Q.M,Q.S,Q.u))}I&&(I.type=="XLDAPR"&&(v.D=!0),I=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;v={t:"z",v:void 0},j=te[0].c==-1?j+1:te[0].c,o.dense?(c[b]||(c[b]=[]),c[b][j]=v):c[Hs(j)+k]=v,u.s.r>p.r&&(u.s.r=p.r),u.s.c>j&&(u.s.c=j),u.e.r<p.r&&(u.e.r=p.r),u.e.c<j&&(u.e.c=j),I&&(I.type=="XLDAPR"&&(v.D=!0),I=void 0);break;case 176:_.push(te);break;case 49:I=((o.xlmeta||{}).Cell||[])[te-1];break;case 494:var H=r["!id"][te.relId];for(H?(te.Target=H.Target,te.loc&&(te.Target+="#"+te.loc),te.Rel=H):te.relId==""&&(te.Target="#"+te.loc),b=te.rfx.s.r;b<=te.rfx.e.r;++b)for(j=te.rfx.s.c;j<=te.rfx.e.c;++j)o.dense?(c[b]||(c[b]=[]),c[b][j]||(c[b][j]={t:"z",v:void 0}),c[b][j].l=te):(N=_a({c:j,r:b}),c[N]||(c[N]={t:"z",v:void 0}),c[N].l=te);break;case 426:if(!o.cellFormula)break;U.push(te),A=o.dense?c[b][j]:c[Hs(j)+k],A.f=sl(te[1],u,{r:p.r,c:j},O,o),A.F=Xa(te[0]);break;case 427:if(!o.cellFormula)break;z[_a(te[0].s)]=te[1],A=o.dense?c[b][j]:c[Hs(j)+k],A.f=sl(te[1],u,{r:p.r,c:j},O,o);break;case 60:if(!o.cellStyles)break;for(;te.e>=te.s;)E[te.e--]={width:te.w/256,hidden:!!(te.flags&1),level:te.level},q||(q=!0,UA(te.w/256)),Mf(E[te.e+1]);break;case 161:c["!autofilter"]={ref:Xa(te)};break;case 476:c["!margins"]=te;break;case 147:n.Sheets[a]||(n.Sheets[a]={}),te.name&&(n.Sheets[a].CodeName=te.name),(te.above||te.left)&&(c["!outline"]={above:te.above,left:te.left});break;case 137:n.Views||(n.Views=[{}]),n.Views[0]||(n.Views[0]={}),te.RTL&&(n.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!X.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+ce.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(u.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(c["!ref"]=Xa(d||u)),o.sheetRows&&c["!ref"]){var G=kr(c["!ref"]);o.sheetRows<=+G.e.r&&(G.e.r=o.sheetRows-1,G.e.r>u.e.r&&(G.e.r=u.e.r),G.e.r<G.s.r&&(G.s.r=G.e.r),G.e.c>u.e.c&&(G.e.c=u.e.c),G.e.c<G.s.c&&(G.s.c=G.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Xa(G))}return _.length>0&&(c["!merges"]=_),E.length>0&&(c["!cols"]=E),R.length>0&&(c["!rows"]=R),c}function k1e(e,t,a,r,n,i,l){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=xs(t),t.z=t.z||Ca[14],t.v=ei(ps(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var c={r:a,c:r};switch(c.s=Wf(n.cellXfs,t,n),t.l&&i["!links"].push([_a(c),t.l]),t.c&&i["!comments"].push([_a(c),t.c]),t.t){case"s":case"str":return n.bookSST?(o=qA(n.Strings,t.v,n.revStrings),c.t="s",c.v=o,l?Rt(e,18,Vge(t,c)):Rt(e,7,zge(t,c))):(c.t="str",l?Rt(e,17,a1e(t,c)):Rt(e,6,e1e(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?l?Rt(e,13,Qge(t,c)):Rt(e,2,Yge(t,c)):l?Rt(e,16,Gge(t,c)):Rt(e,5,qge(t,c)),!0;case"b":return c.t="b",l?Rt(e,15,Rge(t,c)):Rt(e,4,Lge(t,c)),!0;case"e":return c.t="e",l?Rt(e,14,$ge(t,c)):Rt(e,3,Ige(t,c)),!0}return l?Rt(e,12,Mge(t,c)):Rt(e,1,Ege(t,c)),!0}function C1e(e,t,a,r){var n=kr(t["!ref"]||"A1"),i,l="",o=[];Rt(e,145);var c=Array.isArray(t),d=n.e.r;t["!rows"]&&(d=Math.max(n.e.r,t["!rows"].length-1));for(var u=n.s.r;u<=d;++u){l=Sn(u),Nge(e,t,n,u);var f=!1;if(u<=n.e.r)for(var x=n.s.c;x<=n.e.c;++x){u===n.s.r&&(o[x]=Hs(x)),i=o[x]+l;var p=c?(t[u]||[])[x]:t[i];if(!p){f=!1;continue}f=k1e(e,p,u,x,r,t,f)}}Rt(e,146)}function A1e(e,t){!t||!t["!merges"]||(Rt(e,177,c1e(t["!merges"].length)),t["!merges"].forEach(function(a){Rt(e,176,o1e(a))}),Rt(e,178))}function _1e(e,t){!t||!t["!cols"]||(Rt(e,390),t["!cols"].forEach(function(a,r){a&&Rt(e,60,p1e(r,a))}),Rt(e,391))}function T1e(e,t){!t||!t["!ref"]||(Rt(e,648),Rt(e,649,y1e(kr(t["!ref"]))),Rt(e,650))}function E1e(e,t,a){t["!links"].forEach(function(r){if(r[1].Target){var n=Ur(a,-1,r[1].Target.replace(/#.*$/,""),ir.HLINK);Rt(e,494,u1e(r,n))}}),delete t["!links"]}function D1e(e,t,a,r){if(t["!comments"].length>0){var n=Ur(r,-1,"../drawings/vmlDrawing"+(a+1)+".vml",ir.VML);Rt(e,551,PA("rId"+n)),t["!legacy"]=n}}function M1e(e,t,a,r){if(t["!autofilter"]){var n=t["!autofilter"],i=typeof n.ref=="string"?n.ref:Xa(n.ref);a.Workbook||(a.Workbook={Sheets:[]}),a.Workbook.Names||(a.Workbook.Names=[]);var l=a.Workbook.Names,o=so(i);o.s.r==o.e.r&&(o.e.r=so(t["!ref"]).e.r,i=Xa(o));for(var c=0;c<l.length;++c){var d=l[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==r){d.Ref="'"+a.SheetNames[r]+"'!"+i;break}}c==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+a.SheetNames[r]+"'!"+i}),Rt(e,161,Ax(kr(i))),Rt(e,162)}}function P1e(e,t,a){Rt(e,133),Rt(e,137,b1e(t,a)),Rt(e,138),Rt(e,134)}function L1e(e,t){t["!protect"]&&Rt(e,535,w1e(t["!protect"]))}function O1e(e,t,a,r){var n=ro(),i=a.SheetNames[e],l=a.Sheets[i]||{},o=i;try{a&&a.Workbook&&(o=a.Workbook.Sheets[e].CodeName||o)}catch{}var c=kr(l["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Rt(n,129),(a.vbaraw||l["!outline"])&&Rt(n,147,_ge(o,l["!outline"])),Rt(n,148,kge(c)),P1e(n,l,a.Workbook),_1e(n,l),C1e(n,l,e,t),L1e(n,l),M1e(n,l,a,e),A1e(n,l),E1e(n,l,r),l["!margins"]&&Rt(n,476,g1e(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&T1e(n,l),D1e(n,l,e,r),Rt(n,130),n.end()}function R1e(e){var t=[],a=e.match(/^<c:numCache>/),r;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var l=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);l&&(t[+l[1]]=a?+l[2]:l[2])});var n=Sr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){r=i.replace(/<.*?>/g,"")}),[t,n,r]}function F1e(e,t,a,r,n,i){var l=i||{"!type":"chart"};if(!e)return i;var o=0,c=0,d="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var x=R1e(f);u.s.r=u.s.c=0,u.e.c=o,d=Hs(o),x[0].forEach(function(p,v){l[d+Sn(v)]={t:"n",v:p,z:x[1]},c=v}),u.e.r<c&&(u.e.r=c),++o}),o>0&&(l["!ref"]=Xa(u)),l}function I1e(e,t,a,r,n){if(!e)return e;r||(r={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},l,o=e.match(dV);return o&&GA(o[0],i,n,a),(l=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=l[1]),r["!id"][i["!rel"]]&&(i["!drawel"]=r["!id"][i["!rel"]]),i}function B1e(e,t){e.l+=10;var a=ul(e);return{name:a}}function $1e(e,t,a,r,n){if(!e)return e;r||(r={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},l=!1;return wh(e,function(c,d,u){switch(u){case 550:i["!rel"]=c;break;case 651:n.Sheets[a]||(n.Sheets[a]={}),c.name&&(n.Sheets[a].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!l||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),r["!id"][i["!rel"]]&&(i["!drawel"]=r["!id"][i["!rel"]]),i}var KA=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],U1e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],z1e=[],H1e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function IP(e,t){for(var a=0;a!=e.length;++a)for(var r=e[a],n=0;n!=t.length;++n){var i=t[n];if(r[i[0]]==null)r[i[0]]=i[1];else switch(i[2]){case"bool":typeof r[i[0]]=="string"&&(r[i[0]]=hs(r[i[0]]));break;case"int":typeof r[i[0]]=="string"&&(r[i[0]]=parseInt(r[i[0]],10));break}}}function BP(e,t){for(var a=0;a!=t.length;++a){var r=t[a];if(e[r[0]]==null)e[r[0]]=r[1];else switch(r[2]){case"bool":typeof e[r[0]]=="string"&&(e[r[0]]=hs(e[r[0]]));break;case"int":typeof e[r[0]]=="string"&&(e[r[0]]=parseInt(e[r[0]],10));break}}}function mV(e){BP(e.WBProps,KA),BP(e.CalcPr,H1e),IP(e.WBView,U1e),IP(e.Sheets,z1e),Yp.date1904=hs(e.WBProps.date1904)}function V1e(e){return!e.Workbook||!e.Workbook.WBProps?"false":hs(e.Workbook.WBProps.date1904)?"true":"false"}var W1e="][*?/\\".split("");function pV(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var a=!0;return W1e.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),a}function q1e(e,t,a){e.forEach(function(r,n){pV(r);for(var i=0;i<n;++i)if(r==e[i])throw new Error("Duplicate Sheet Name: "+r);if(a){var l=t&&t[n]&&t[n].CodeName||r;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function G1e(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];q1e(e.SheetNames,t,!!e.vbaraw);for(var a=0;a<e.SheetNames.length;++a)Vxe(e.Sheets[e.SheetNames[a]],e.SheetNames[a],a)}var K1e=/<\w+:workbook/;function Y1e(e,t){if(!e)throw new Error("Could not find file");var a={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,n="xmlns",i={},l=0;if(e.replace(gl,function(c,d){var u=La(c);switch(iu(u[0])){case"<?xml":break;case"<workbook":c.match(K1e)&&(n="xmlns"+c.match(/<(\w+):/)[1]),a.xmlns=u[n];break;case"</workbook>":break;case"<fileVersion":delete u[0],a.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":KA.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":a.WBProps[f[0]]=hs(u[f[0]]);break;case"int":a.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:a.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(a.WBProps.CodeName=Qr(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],a.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Sr(Qr(u.name)),delete u[0],a.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":i={},i.Name=Qr(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),hs(u.hidden||"0")&&(i.Hidden=!0),l=d+c.length;break;case"</definedName>":i.Ref=Sr(Qr(e.slice(l,d))),a.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],a.CalcPr=u;break;case"<calcPr/>":delete u[0],a.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return c}),Em.indexOf(a.xmlns)===-1)throw new Error("Unknown Namespace: "+a.xmlns);return mV(a),a}function xV(e){var t=[_n];t[t.length]=Gt("workbook",null,{xmlns:Em[0],"xmlns:r":Qn.r});var a=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(KA.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(r[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=Gt("workbookPr",null,r);var n=e.Workbook&&e.Workbook.Sheets||[],i=0;if(n&&n[0]&&n[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!n[i]||!n[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var l={name:Wr(e.SheetNames[i].slice(0,31))};if(l.sheetId=""+(i+1),l["r:id"]="rId"+(i+1),n[i])switch(n[i].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}t[t.length]=Gt("sheet",null,l)}return t[t.length]="</sheets>",a&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(t[t.length]=Gt("definedName",Wr(o.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function X1e(e,t){var a={};return a.Hidden=e.read_shift(4),a.iTabID=e.read_shift(4),a.strRelID=Wk(e),a.name=ul(e),a}function Q1e(e,t){return t||(t=jt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),PA(e.strRelID,t),Ni(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function J1e(e,t){var a={},r=e.read_shift(4);a.defaultThemeVersion=e.read_shift(4);var n=t>8?ul(e):"";return n.length>0&&(a.CodeName=n),a.autoCompressPictures=!!(r&65536),a.backupFile=!!(r&64),a.checkCompatibility=!!(r&4096),a.date1904=!!(r&1),a.filterPrivacy=!!(r&8),a.hidePivotFieldList=!!(r&1024),a.promptedSolutions=!!(r&16),a.publishItems=!!(r&2048),a.refreshAllConnections=!!(r&262144),a.saveExternalLinkValues=!!(r&128),a.showBorderUnselectedTables=!!(r&4),a.showInkAnnotation=!!(r&32),a.showObjects=["all","placeholders","none"][r>>13&3],a.showPivotChartFilter=!!(r&32768),a.updateLinks=["userSet","never","always"][r>>8&3],a}function Z1e(e,t){t||(t=jt(72));var a=0;return e&&e.filterPrivacy&&(a|=8),t.write_shift(4,a),t.write_shift(4,0),lH(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function eve(e,t){var a={};return e.read_shift(4),a.ArchID=e.read_shift(4),e.l+=t-8,a}function tve(e,t,a){var r=e.l+t;e.l+=4,e.l+=1;var n=e.read_shift(4),i=Due(e),l=Ixe(e,0,a),o=MA(e);e.l=r;var c={Name:i,Ptg:l};return n<268435455&&(c.Sheet=n),o&&(c.Comment=o),c}function ave(e,t){var a={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],n=!1;t||(t={}),t.biff=12;var i=[],l=[[]];return l.SheetNames=[],l.XTI=[],rv[16]={n:"BrtFRTArchID$",f:eve},wh(e,function(c,d,u){switch(u){case 156:l.SheetNames.push(c.name),a.Sheets.push(c);break;case 153:a.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=sl(c.Ptg,null,null,l,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:l[0].length?l.push([u,c]):l[0]=[u,c],l[l.length-1].XTI=[];break;case 362:l.length===0&&(l[0]=[],l[0].XTI=[]),l[l.length-1].XTI=l[l.length-1].XTI.concat(c),l.XTI=l.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(u),n=!0;break;case 36:r.pop(),n=!1;break;case 37:r.push(u),n=!0;break;case 38:r.pop(),n=!1;break;case 16:break;default:if(!d.T){if(!n||t.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),mV(a),a.Names=i,a.supbooks=l,a}function rve(e,t){Rt(e,143);for(var a=0;a!=t.SheetNames.length;++a){var r=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[a]&&t.Workbook.Sheets[a].Hidden||0,n={Hidden:r,iTabID:a+1,strRelID:"rId"+(a+1),name:t.SheetNames[a]};Rt(e,156,Q1e(n))}Rt(e,144)}function sve(e,t){t||(t=jt(127));for(var a=0;a!=4;++a)t.write_shift(4,0);return Ni("SheetJS",t),Ni(rw.version,t),Ni(rw.version,t),Ni("7262",t),t.length>t.l?t.slice(0,t.l):t}function nve(e,t){t||(t=jt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var a=120;return t.write_shift(1,a),t.length>t.l?t.slice(0,t.l):t}function ive(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var a=t.Workbook.Sheets,r=0,n=-1,i=-1;r<a.length;++r)!a[r]||!a[r].Hidden&&n==-1?n=r:a[r].Hidden==1&&i==-1&&(i=r);i>n||(Rt(e,135),Rt(e,158,nve(n)),Rt(e,136))}}function lve(e,t){var a=ro();return Rt(a,131),Rt(a,128,sve()),Rt(a,153,Z1e(e.Workbook&&e.Workbook.WBProps||null)),ive(a,e),rve(a,e),Rt(a,132),a.end()}function ove(e,t,a){return t.slice(-4)===".bin"?ave(e,a):Y1e(e,a)}function cve(e,t,a,r,n,i,l,o){return t.slice(-4)===".bin"?S1e(e,r,a,n,i,l,o):tge(e,r,a,n,i,l,o)}function dve(e,t,a,r,n,i,l,o){return t.slice(-4)===".bin"?$1e(e,r,a,n,i):I1e(e,r,a,n,i)}function uve(e,t,a,r,n,i,l,o){return t.slice(-4)===".bin"?fpe():mpe()}function hve(e,t,a,r,n,i,l,o){return t.slice(-4)===".bin"?upe():hpe()}function fve(e,t,a,r){return t.slice(-4)===".bin"?ome(e,a,r):X0e(e,a,r)}function mve(e,t,a){return XH(e,a)}function pve(e,t,a){return t.slice(-4)===".bin"?p0e(e,a):h0e(e,a)}function xve(e,t,a){return t.slice(-4)===".bin"?ipe(e,a):Qme(e,a)}function gve(e,t,a){return t.slice(-4)===".bin"?Kme(e):qme(e)}function vve(e,t,a,r){return a.slice(-4)===".bin"?Yme(e,t,a,r):void 0}function bve(e,t,a){return t.slice(-4)===".bin"?Hme(e,t,a):Wme(e,t,a)}function yve(e,t,a){return(t.slice(-4)===".bin"?lve:xV)(e)}function wve(e,t,a,r,n){return(t.slice(-4)===".bin"?O1e:uV)(e,a,r,n)}function jve(e,t,a){return(t.slice(-4)===".bin"?vme:KH)(e,a)}function Nve(e,t,a){return(t.slice(-4)===".bin"?v0e:$H)(e,a)}function Sve(e,t,a){return(t.slice(-4)===".bin"?lpe:ZH)(e)}function kve(e){return(e.slice(-4)===".bin"?Vme:QH)()}var gV=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,vV=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Jc(e,t){var a=e.split(/\s+/),r=[];if(r[0]=a[0],a.length===1)return r;var n=e.match(gV),i,l,o,c;if(n)for(c=0;c!=n.length;++c)i=n[c].match(vV),(l=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(l+1),r[o]=i[2].slice(1,i[2].length-1));return r}function Cve(e){var t=e.split(/\s+/),a={};if(t.length===1)return a;var r=e.match(gV),n,i,l,o;if(r)for(o=0;o!=r.length;++o)n=r[o].match(vV),(i=n[1].indexOf(":"))===-1?a[n[1]]=n[2].slice(1,n[2].length-1):(n[1].slice(0,6)==="xmlns:"?l="xmlns"+n[1].slice(6):l=n[1].slice(i+1),a[l]=n[2].slice(1,n[2].length-1));return a}var b1;function Ave(e,t){var a=b1[e]||Sr(e);return a==="General"?dm(t):yc(a,t)}function _ve(e,t,a,r){var n=r;switch((a[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":n=hs(r);break;case"i2":case"int":n=parseInt(r,10);break;case"r4":case"float":n=parseFloat(r);break;case"date":case"dateTime.tz":n=ps(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+a[0])}e[Sr(t)]=n}function Tve(e,t,a){if(e.t!=="z"){if(!a||a.cellText!==!1)try{e.t==="e"?e.w=e.w||jh[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=K1(e.v):e.w=dm(e.v):e.w=Ave(t||"General",e.v)}catch(i){if(a.WTF)throw i}try{var r=b1[t]||t||"General";if(a.cellNF&&(e.z=r),a.cellDates&&e.t=="n"&&Sx(r)){var n=R0(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}catch(i){if(a.WTF)throw i}}}function Eve(e,t,a){if(a.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=z0e[r.Pattern]||r.Pattern)}e[t.ID]=t}function Dve(e,t,a,r,n,i,l,o,c,d){var u="General",f=r.StyleID,x={};d=d||{};var p=[],v=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&l&&(f=l.StyleID);i[f]!==void 0&&(i[f].nf&&(u=i[f].nf),i[f].Interior&&p.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(a.Type){case"Boolean":r.t="b",r.v=hs(e);break;case"String":r.t="s",r.r=aP(Sr(e)),r.v=e.indexOf("<")>-1?Sr(t||e).replace(/<.*?>/g,""):r.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),r.v=(ps(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=Sr(e):r.v<60&&(r.v=r.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=hH[e],d.cellText!==!1&&(r.w=e);break;default:e==""&&t==""?r.t="z":(r.t="s",r.v=aP(t||e));break}if(Tve(r,u,d),d.cellFormula!==!1)if(r.Formula){var g=Sr(r.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),r.f=Kp(g,n),delete r.Formula,r.ArrayRange=="RC"?r.F=Kp("RC:RC",n):r.ArrayRange&&(r.F=Kp(r.ArrayRange,n),c.push([kr(r.F),r.F]))}else for(v=0;v<c.length;++v)n.r>=c[v][0].s.r&&n.r<=c[v][0].e.r&&n.c>=c[v][0].s.c&&n.c<=c[v][0].e.c&&(r.F=c[v][1]);d.cellStyles&&(p.forEach(function(b){!x.patternType&&b.patternType&&(x.patternType=b.patternType)}),r.s=x),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function Mve(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function R5(e,t){var a=t||{};kx();var r=r1(CA(e));(a.type=="binary"||a.type=="array"||a.type=="base64")&&(r=Qr(r));var n=r.slice(0,1024).toLowerCase(),i=!1;if(n=n.replace(/".*?"/g,""),(n.indexOf(">")&1023)>Math.min(n.indexOf(",")&1023,n.indexOf(";")&1023)){var l=xs(a);return l.type="string",lx.to_workbook(r,l)}if(n.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ee){n.indexOf("<"+Ee)>=0&&(i=!0)}),i)return gbe(r,a);b1={"General Number":"General","General Date":Ca[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Ca[15],"Short Date":Ca[14],"Long Time":Ca[19],"Medium Time":Ca[18],"Short Time":Ca[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Ca[2],Standard:Ca[4],Percent:Ca[10],Scientific:Ca[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],d,u={},f=[],x=a.dense?[]:{},p="",v={},g={},b=Jc('<Data ss:Type="String">'),j=0,N=0,S=0,k={s:{r:2e6,c:2e6},e:{r:0,c:0}},A={},_={},M="",L=0,U=[],z={},O={},B=0,E=[],R=[],q={},I=[],G,re=!1,te=[],X=[],ce={},D=0,Q=0,H={Sheets:[],WBProps:{date1904:!1}},J={};Q1.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var ae="";o=Q1.exec(r);)switch(o[3]=(ae=o[3]).toLowerCase()){case"data":if(ae=="data"){if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?Dve(r.slice(j,o.index),M,b,c[c.length-1][0]=="comment"?q:v,{c:N,r:S},A,I[N],g,te,a):(M="",b=Jc(o[0]),j=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(R.length>0&&(v.c=R),(!a.sheetRows||a.sheetRows>S)&&v.v!==void 0&&(a.dense?(x[S]||(x[S]=[]),x[S][N]=v):x[Hs(N)+Sn(S)]=v),v.HRef&&(v.l={Target:Sr(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(D=N+(parseInt(v.MergeAcross,10)|0),Q=S+(parseInt(v.MergeDown,10)|0),U.push({s:{c:N,r:S},e:{c:D,r:Q}})),!a.sheetStubs)v.MergeAcross?N=D+1:++N;else if(v.MergeAcross||v.MergeDown){for(var ie=N;ie<=D;++ie)for(var le=S;le<=Q;++le)(ie>N||le>S)&&(a.dense?(x[le]||(x[le]=[]),x[le][ie]={t:"z"}):x[Hs(ie)+Sn(le)]={t:"z"});N=D+1}else++N;else v=Cve(o[0]),v.Index&&(N=+v.Index-1),N<k.s.c&&(k.s.c=N),N>k.e.c&&(k.e.c=N),o[0].slice(-2)==="/>"&&++N,R=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(S<k.s.r&&(k.s.r=S),S>k.e.r&&(k.e.r=S),o[0].slice(-2)==="/>"&&(g=Jc(o[0]),g.Index&&(S=+g.Index-1)),N=0,++S):(g=Jc(o[0]),g.Index&&(S=+g.Index-1),ce={},(g.AutoFitHeight=="0"||g.Height)&&(ce.hpx=parseInt(g.Height,10),ce.hpt=av(ce.hpx),X[S]=ce),g.Hidden=="1"&&(ce.hidden=!0,X[S]=ce));break;case"worksheet":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"));f.push(p),k.s.r<=k.e.r&&k.s.c<=k.e.c&&(x["!ref"]=Xa(k),a.sheetRows&&a.sheetRows<=k.e.r&&(x["!fullref"]=x["!ref"],k.e.r=a.sheetRows-1,x["!ref"]=Xa(k))),U.length&&(x["!merges"]=U),I.length>0&&(x["!cols"]=I),X.length>0&&(x["!rows"]=X),u[p]=x}else k={s:{r:2e6,c:2e6},e:{r:0,c:0}},S=N=0,c.push([o[3],!1]),d=Jc(o[0]),p=Sr(d.Name),x=a.dense?[]:{},U=[],te=[],X=[],J={name:p,Hidden:0},H.Sheets.push(J);break;case"table":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),I=[],re=!1}break;case"style":o[1]==="/"?Eve(A,_,a):_=Jc(o[0]);break;case"numberformat":_.nf=Sr(Jc(o[0]).Format||"General"),b1[_.nf]&&(_.nf=b1[_.nf]);for(var Y=0;Y!=392&&Ca[Y]!=_.nf;++Y);if(Y==392){for(Y=57;Y!=392;++Y)if(Ca[Y]==null){rh(_.nf,Y);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(G=Jc(o[0]),G.Hidden&&(G.hidden=!0,delete G.Hidden),G.Width&&(G.wpx=parseInt(G.Width,10)),!re&&G.wpx>10){re=!0,nl=qH;for(var oe=0;oe<I.length;++oe)I[oe]&&Mf(I[oe])}re&&Mf(G),I[G.Index-1||I.length]=G;for(var xe=0;xe<+G.Span;++xe)I[I.length]=xs(G);break;case"namedrange":if(o[1]==="/")break;H.Names||(H.Names=[]);var W=La(o[0]),he={Name:W.Name,Ref:Kp(W.RefersTo.slice(1),{r:0,c:0})};H.Sheets.length>0&&(he.Sheet=H.Sheets.length-1),H.Names.push(he);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?M+=r.slice(L,o.index):L=o.index+o[0].length;break;case"interior":if(!a.cellStyles)break;_.Interior=Jc(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?ahe(z,ae,r.slice(B,o.index)):B=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"));Mve(q),R.push(q)}else c.push([o[3],!1]),d=Jc(o[0]),q={a:d.Author};break;case"autofilter":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var fe=Jc(o[0]);x["!autofilter"]={ref:Kp(fe.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return VP(r,a);var de=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:de=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:de=!1}break;case"excelworkbook":switch(o[3]){case"date1904":H.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:de=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:de=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(B,o.index)){case"SheetHidden":J.Hidden=1;break;case"SheetVeryHidden":J.Hidden=2;break}else B=o.index+o[0].length;break;case"header":x["!margins"]||X0(x["!margins"]={},"xlml"),isNaN(+La(o[0]).Margin)||(x["!margins"].header=+La(o[0]).Margin);break;case"footer":x["!margins"]||X0(x["!margins"]={},"xlml"),isNaN(+La(o[0]).Margin)||(x["!margins"].footer=+La(o[0]).Margin);break;case"pagemargins":var Oe=La(o[0]);x["!margins"]||X0(x["!margins"]={},"xlml"),isNaN(+Oe.Top)||(x["!margins"].top=+Oe.Top),isNaN(+Oe.Left)||(x["!margins"].left=+Oe.Left),isNaN(+Oe.Right)||(x["!margins"].right=+Oe.Right),isNaN(+Oe.Bottom)||(x["!margins"].bottom=+Oe.Bottom);break;case"displayrighttoleft":H.Views||(H.Views=[]),H.Views[0]||(H.Views[0]={}),H.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:de=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:de=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:de=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:de=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:de=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:de=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:de=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:de=!1}break;case"smarttags":break;default:de=!1;break}if(de||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?_ve(O,ae,E,r.slice(B,o.index)):(E=o,B=o.index+o[0].length);break}if(a.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var Fe={};return!a.bookSheets&&!a.bookProps&&(Fe.Sheets=u),Fe.SheetNames=f,Fe.Workbook=H,Fe.SSF=xs(Ca),Fe.Props=z,Fe.Custprops=O,Fe}function Jk(e,t){switch(QA(t=t||{}),t.type||"base64"){case"base64":return R5(Oo(e),t);case"binary":case"buffer":case"file":return R5(e,t);case"array":return R5(Hf(e),t)}}function Pve(e,t){var a=[];return e.Props&&a.push(rhe(e.Props,t)),e.Custprops&&a.push(she(e.Props,e.Custprops)),a.join("")}function Lve(){return""}function Ove(e,t){var a=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(r,n){var i=[];i.push(Gt("NumberFormat",null,{"ss:Format":Wr(Ca[r.numFmtId])}));var l={"ss:ID":"s"+(21+n)};a.push(Gt("Style",i.join(""),l))}),Gt("Styles",a.join(""))}function bV(e){return Gt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+VA(e.Ref,{r:0,c:0})})}function Rve(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,a=[],r=0;r<t.length;++r){var n=t[r];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||a.push(bV(n)))}return Gt("Names",a.join(""))}function Fve(e,t,a,r){if(!e||!((r||{}).Workbook||{}).Names)return"";for(var n=r.Workbook.Names,i=[],l=0;l<n.length;++l){var o=n[l];o.Sheet==a&&(o.Name.match(/^_xlfn\./)||i.push(bV(o)))}return i.join("")}function Ive(e,t,a,r){if(!e)return"";var n=[];if(e["!margins"]&&(n.push("<PageSetup>"),e["!margins"].header&&n.push(Gt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&n.push(Gt("Footer",null,{"x:Margin":e["!margins"].footer})),n.push(Gt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),n.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[a])if(r.Workbook.Sheets[a].Hidden)n.push(Gt("Visible",r.Workbook.Sheets[a].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<a&&!(r.Workbook.Sheets[i]&&!r.Workbook.Sheets[i].Hidden);++i);i==a&&n.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),e["!protect"]&&(n.push(zi("ProtectContents","True")),e["!protect"].objects&&n.push(zi("ProtectObjects","True")),e["!protect"].scenarios&&n.push(zi("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?n.push(zi("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&n.push(zi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&n.push("<"+l[1]+"/>")})),n.length==0?"":Gt("WorksheetOptions",n.join(""),{xmlns:Ao.x})}function Bve(e){return e.map(function(t){var a=iue(t.t||""),r=Gt("ss:Data",a,{xmlns:"http://www.w3.org/TR/REC-html40"});return Gt("Comment",r,{"ss:Author":t.a})}).join("")}function $ve(e,t,a,r,n,i,l){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+Wr(VA(e.f,l))),e.F&&e.F.slice(0,t.length)==t){var c=Vs(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==l.r?"":"["+(c.r-l.r)+"]")+"C"+(c.c==l.c?"":"["+(c.c-l.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=Wr(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=Wr(e.l.Tooltip))),a["!merges"])for(var d=a["!merges"],u=0;u!=d.length;++u)d[u].s.c!=l.c||d[u].s.r!=l.r||(d[u].e.c>d[u].s.c&&(o["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(o["ss:MergeDown"]=d[u].e.r-d[u].s.r));var f="",x="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":f="Number",x=String(e.v);break;case"b":f="Boolean",x=e.v?"1":"0";break;case"e":f="Error",x=jh[e.v];break;case"d":f="DateTime",x=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Ca[14]);break;case"s":f="String",x=nue(e.v||"");break}var p=Wf(r.cellXfs,e,r);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=l.c+1;var v=e.v!=null?x:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+v+"</Data>";return(e.c||[]).length>0&&(g+=Bve(e.c)),Gt("Cell",g,o)}function Uve(e,t){var a='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=ox(t.hpt)),t.hpx&&(a+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(a+=' ss:Hidden="1"')),a+">"}function zve(e,t,a,r){if(!e["!ref"])return"";var n=kr(e["!ref"]),i=e["!merges"]||[],l=0,o=[];e["!cols"]&&e["!cols"].forEach(function(b,j){Mf(b);var N=!!b.width,S=Qj(j,b),k={"ss:Index":j+1};N&&(k["ss:Width"]=ev(S.width)),b.hidden&&(k["ss:Hidden"]="1"),o.push(Gt("Column",null,k))});for(var c=Array.isArray(e),d=n.s.r;d<=n.e.r;++d){for(var u=[Uve(d,(e["!rows"]||[])[d])],f=n.s.c;f<=n.e.c;++f){var x=!1;for(l=0;l!=i.length;++l)if(!(i[l].s.c>f)&&!(i[l].s.r>d)&&!(i[l].e.c<f)&&!(i[l].e.r<d)){(i[l].s.c!=f||i[l].s.r!=d)&&(x=!0);break}if(!x){var p={r:d,c:f},v=_a(p),g=c?(e[d]||[])[f]:e[v];u.push($ve(g,v,e,t,a,r,p))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function Hve(e,t,a){var r=[],n=a.SheetNames[e],i=a.Sheets[n],l=i?Fve(i,t,e,a):"";return l.length>0&&r.push("<Names>"+l+"</Names>"),l=i?zve(i,t,e,a):"",l.length>0&&r.push("<Table>"+l+"</Table>"),r.push(Ive(i,t,e,a)),r.join("")}function Vve(e,t){t||(t={}),e.SSF||(e.SSF=xs(Ca)),e.SSF&&(kx(),Vj(e.SSF),t.revssf=qj(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Wf(t.cellXfs,{},{revssf:{General:0}}));var a=[];a.push(Pve(e,t)),a.push(Lve()),a.push(""),a.push("");for(var r=0;r<e.SheetNames.length;++r)a.push(Gt("Worksheet",Hve(r,t,e),{"ss:Name":Wr(e.SheetNames[r])}));return a[2]=Ove(e,t),a[3]=Rve(e),_n+Gt("Workbook",a.join(""),{xmlns:Ao.ss,"xmlns:o":Ao.o,"xmlns:x":Ao.x,"xmlns:ss":Ao.ss,"xmlns:dt":Ao.dt,"xmlns:html":Ao.html})}function Wve(e){var t={},a=e.content;if(a.l=28,t.AnsiUserType=a.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Rue(a),a.length-a.l<=4)return t;var r=a.read_shift(4);if(r==0||r>40||(a.l-=4,t.Reserved1=a.read_shift(0,"lpstr-ansi"),a.length-a.l<=4)||(r=a.read_shift(4),r!==1907505652)||(t.UnicodeClipboardFormat=Fue(a),r=a.read_shift(4),r==0||r>40))return t;a.l-=4,t.Reserved2=a.read_shift(0,"lpwstr")}var qve=[60,1084,2066,2165,2175];function Gve(e,t,a,r,n){var i=r,l=[],o=a.slice(a.l,a.l+i);if(n&&n.enc&&n.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:n.enc.insitu(o)}l.push(o),a.l+=i;for(var c=Ku(a,a.l),d=Zk[c],u=0;d!=null&&qve.indexOf(c)>-1;)i=Ku(a,a.l+2),u=a.l+4,c==2066?u+=4:(c==2165||c==2175)&&(u+=12),o=a.slice(u,a.l+4+i),l.push(o),a.l+=4+i,d=Zk[c=Ku(a,a.l)];var f=wi(l);Ui(f,0);var x=0;f.lens=[];for(var p=0;p<l.length;++p)f.lens.push(x),x+=l[p].length;if(f.length<r)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+r;return t.f(f,f.length,n)}function zd(e,t,a){if(e.t!=="z"&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Ca[r])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||jh[e.v]:r===0||r=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=K1(e.v):e.w=dm(e.v):e.w=yc(r,e.v,{date1904:!!a,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&r&&e.t=="n"&&Sx(Ca[r]||String(r))){var n=R0(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}}function Vy(e,t,a){return{v:e,ixfe:t,t:a}}function Kve(e,t){var a={opts:{}},r={},n=t.dense?[]:{},i={},l={},o=null,c=[],d="",u={},f,x="",p,v,g,b,j={},N=[],S,k,A=[],_=[],M={Sheets:[],WBProps:{date1904:!1},Views:[{}]},L={},U=function(At){return At<8?G0[At]:At<64&&_[At-8]||G0[At]},z=function(At,kt,Dt){var zt=kt.XF.data;if(!(!zt||!zt.patternType||!Dt||!Dt.cellStyles)){kt.s={},kt.s.patternType=zt.patternType;var qt;(qt=Z1(U(zt.icvFore)))&&(kt.s.fgColor={rgb:qt}),(qt=Z1(U(zt.icvBack)))&&(kt.s.bgColor={rgb:qt})}},O=function(At,kt,Dt){if(!(ce>1)&&!(Dt.sheetRows&&At.r>=Dt.sheetRows)){if(Dt.cellStyles&&kt.XF&&kt.XF.data&&z(At,kt,Dt),delete kt.ixfe,delete kt.XF,f=At,x=_a(At),(!l||!l.s||!l.e)&&(l={s:{r:0,c:0},e:{r:0,c:0}}),At.r<l.s.r&&(l.s.r=At.r),At.c<l.s.c&&(l.s.c=At.c),At.r+1>l.e.r&&(l.e.r=At.r+1),At.c+1>l.e.c&&(l.e.c=At.c+1),Dt.cellFormula&&kt.f){for(var zt=0;zt<N.length;++zt)if(!(N[zt][0].s.c>At.c||N[zt][0].s.r>At.r)&&!(N[zt][0].e.c<At.c||N[zt][0].e.r<At.r)){kt.F=Xa(N[zt][0]),(N[zt][0].s.c!=At.c||N[zt][0].s.r!=At.r)&&delete kt.f,kt.f&&(kt.f=""+sl(N[zt][1],l,At,te,B));break}}Dt.dense?(n[At.r]||(n[At.r]=[]),n[At.r][At.c]=kt):n[x]=kt}},B={enc:!1,sbcch:0,snames:[],sharedf:j,arrayf:N,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(B.password=t.password);var E,R=[],q=[],I=[],G=[],re=!1,te=[];te.SheetNames=B.snames,te.sharedf=B.sharedf,te.arrayf=B.arrayf,te.names=[],te.XTI=[];var X=0,ce=0,D=0,Q=[],H=[],J;B.codepage=1200,id(1200);for(var ae=!1;e.l<e.length-1;){var ie=e.l,le=e.read_shift(2);if(le===0&&X===10)break;var Y=e.l===e.length?0:e.read_shift(2),oe=Zk[le];if(oe&&oe.f){if(t.bookSheets&&X===133&&le!==133)break;if(X=le,oe.r===2||oe.r==12){var xe=e.read_shift(2);if(Y-=2,!B.enc&&xe!==le&&((xe&255)<<8|xe>>8)!==le)throw new Error("rt mismatch: "+xe+"!="+le);oe.r==12&&(e.l+=10,Y-=10)}var W={};if(le===10?W=oe.f(e,Y,B):W=Gve(le,oe,e,Y,B),ce==0&&[9,521,1033,2057].indexOf(X)===-1)continue;switch(le){case 34:a.opts.Date1904=M.WBProps.date1904=W;break;case 134:a.opts.WriteProtect=!0;break;case 47:if(B.enc||(e.l=0),B.enc=W,!t.password)throw new Error("File is password-protected");if(W.valid==null)throw new Error("Encryption scheme unsupported");if(!W.valid)throw new Error("Password is incorrect");break;case 92:B.lastuser=W;break;case 66:var he=Number(W);switch(he){case 21010:he=1200;break;case 32768:he=1e4;break;case 32769:he=1252;break}id(B.codepage=he),ae=!0;break;case 317:B.rrtabid=W;break;case 25:B.winlocked=W;break;case 439:a.opts.RefreshAll=W;break;case 12:a.opts.CalcCount=W;break;case 16:a.opts.CalcDelta=W;break;case 17:a.opts.CalcIter=W;break;case 13:a.opts.CalcMode=W;break;case 14:a.opts.CalcPrecision=W;break;case 95:a.opts.CalcSaveRecalc=W;break;case 15:B.CalcRefMode=W;break;case 2211:a.opts.FullCalc=W;break;case 129:W.fDialog&&(n["!type"]="dialog"),W.fBelow||((n["!outline"]||(n["!outline"]={})).above=!0),W.fRight||((n["!outline"]||(n["!outline"]={})).left=!0);break;case 224:A.push(W);break;case 430:te.push([W]),te[te.length-1].XTI=[];break;case 35:case 547:te[te.length-1].push(W);break;case 24:case 536:J={Name:W.Name,Ref:sl(W.rgce,l,null,te,B)},W.itab>0&&(J.Sheet=W.itab-1),te.names.push(J),te[0]||(te[0]=[],te[0].XTI=[]),te[te.length-1].push(W),W.Name=="_xlnm._FilterDatabase"&&W.itab>0&&W.rgce&&W.rgce[0]&&W.rgce[0][0]&&W.rgce[0][0][0]=="PtgArea3d"&&(H[W.itab-1]={ref:Xa(W.rgce[0][0][1][2])});break;case 22:B.ExternCount=W;break;case 23:te.length==0&&(te[0]=[],te[0].XTI=[]),te[te.length-1].XTI=te[te.length-1].XTI.concat(W),te.XTI=te.XTI.concat(W);break;case 2196:if(B.biff<8)break;J!=null&&(J.Comment=W[1]);break;case 18:n["!protect"]=W;break;case 19:W!==0&&B.WTF&&console.error("Password verifier: "+W);break;case 133:i[W.pos]=W,B.snames.push(W.name);break;case 10:{if(--ce)break;if(l.e){if(l.e.r>0&&l.e.c>0){if(l.e.r--,l.e.c--,n["!ref"]=Xa(l),t.sheetRows&&t.sheetRows<=l.e.r){var fe=l.e.r;l.e.r=t.sheetRows-1,n["!fullref"]=n["!ref"],n["!ref"]=Xa(l),l.e.r=fe}l.e.r++,l.e.c++}R.length>0&&(n["!merges"]=R),q.length>0&&(n["!objects"]=q),I.length>0&&(n["!cols"]=I),G.length>0&&(n["!rows"]=G),M.Sheets.push(L)}d===""?u=n:r[d]=n,n=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(B.biff===8&&(B.biff={9:2,521:3,1033:4}[le]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[W.BIFFVer]||8),B.biffguess=W.BIFFVer==0,W.BIFFVer==0&&W.dt==4096&&(B.biff=5,ae=!0,id(B.codepage=28591)),B.biff==8&&W.BIFFVer==0&&W.dt==16&&(B.biff=2),ce++)break;if(n=t.dense?[]:{},B.biff<8&&!ae&&(ae=!0,id(B.codepage=t.codepage||1252)),B.biff<5||W.BIFFVer==0&&W.dt==4096){d===""&&(d="Sheet1"),l={s:{r:0,c:0},e:{r:0,c:0}};var de={pos:e.l-Y,name:d};i[de.pos]=de,B.snames.push(d)}else d=(i[ie]||{name:""}).name;W.dt==32&&(n["!type"]="chart"),W.dt==64&&(n["!type"]="macro"),R=[],q=[],B.arrayf=N=[],I=[],G=[],re=!1,L={Hidden:(i[ie]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:n["!type"]=="chart"&&(t.dense?(n[W.r]||[])[W.c]:n[_a({c:W.c,r:W.r})])&&++W.c,S={ixfe:W.ixfe,XF:A[W.ixfe]||{},v:W.val,t:"n"},D>0&&(S.z=Q[S.ixfe>>8&63]),zd(S,t,a.opts.Date1904),O({c:W.c,r:W.r},S,t);break;case 5:case 517:S={ixfe:W.ixfe,XF:A[W.ixfe],v:W.val,t:W.t},D>0&&(S.z=Q[S.ixfe>>8&63]),zd(S,t,a.opts.Date1904),O({c:W.c,r:W.r},S,t);break;case 638:S={ixfe:W.ixfe,XF:A[W.ixfe],v:W.rknum,t:"n"},D>0&&(S.z=Q[S.ixfe>>8&63]),zd(S,t,a.opts.Date1904),O({c:W.c,r:W.r},S,t);break;case 189:for(var Oe=W.c;Oe<=W.C;++Oe){var Fe=W.rkrec[Oe-W.c][0];S={ixfe:Fe,XF:A[Fe],v:W.rkrec[Oe-W.c][1],t:"n"},D>0&&(S.z=Q[S.ixfe>>8&63]),zd(S,t,a.opts.Date1904),O({c:Oe,r:W.r},S,t)}break;case 6:case 518:case 1030:{if(W.val=="String"){o=W;break}if(S=Vy(W.val,W.cell.ixfe,W.tt),S.XF=A[S.ixfe],t.cellFormula){var Ee=W.formula;if(Ee&&Ee[0]&&Ee[0][0]&&Ee[0][0][0]=="PtgExp"){var se=Ee[0][0][1][0],_e=Ee[0][0][1][1],je=_a({r:se,c:_e});j[je]?S.f=""+sl(W.formula,l,W.cell,te,B):S.F=((t.dense?(n[se]||[])[_e]:n[je])||{}).F}else S.f=""+sl(W.formula,l,W.cell,te,B)}D>0&&(S.z=Q[S.ixfe>>8&63]),zd(S,t,a.opts.Date1904),O(W.cell,S,t),o=W}break;case 7:case 519:if(o)o.val=W,S=Vy(W,o.cell.ixfe,"s"),S.XF=A[S.ixfe],t.cellFormula&&(S.f=""+sl(o.formula,l,o.cell,te,B)),D>0&&(S.z=Q[S.ixfe>>8&63]),zd(S,t,a.opts.Date1904),O(o.cell,S,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{N.push(W);var rt=_a(W[0].s);if(p=t.dense?(n[W[0].s.r]||[])[W[0].s.c]:n[rt],t.cellFormula&&p){if(!o||!rt||!p)break;p.f=""+sl(W[1],l,W[0],te,B),p.F=Xa(W[0])}}break;case 1212:{if(!t.cellFormula)break;if(x){if(!o)break;j[_a(o.cell)]=W[0],p=t.dense?(n[o.cell.r]||[])[o.cell.c]:n[_a(o.cell)],(p||{}).f=""+sl(W[0],l,f,te,B)}}break;case 253:S=Vy(c[W.isst].t,W.ixfe,"s"),c[W.isst].h&&(S.h=c[W.isst].h),S.XF=A[S.ixfe],D>0&&(S.z=Q[S.ixfe>>8&63]),zd(S,t,a.opts.Date1904),O({c:W.c,r:W.r},S,t);break;case 513:t.sheetStubs&&(S={ixfe:W.ixfe,XF:A[W.ixfe],t:"z"},D>0&&(S.z=Q[S.ixfe>>8&63]),zd(S,t,a.opts.Date1904),O({c:W.c,r:W.r},S,t));break;case 190:if(t.sheetStubs)for(var ft=W.c;ft<=W.C;++ft){var Bt=W.ixfe[ft-W.c];S={ixfe:Bt,XF:A[Bt],t:"z"},D>0&&(S.z=Q[S.ixfe>>8&63]),zd(S,t,a.opts.Date1904),O({c:ft,r:W.r},S,t)}break;case 214:case 516:case 4:S=Vy(W.val,W.ixfe,"s"),S.XF=A[S.ixfe],D>0&&(S.z=Q[S.ixfe>>8&63]),zd(S,t,a.opts.Date1904),O({c:W.c,r:W.r},S,t);break;case 0:case 512:ce===1&&(l=W);break;case 252:c=W;break;case 1054:if(B.biff==4){Q[D++]=W[1];for(var Je=0;Je<D+163&&Ca[Je]!=W[1];++Je);Je>=163&&rh(W[1],D+163)}else rh(W[1],W[0]);break;case 30:{Q[D++]=W;for(var $e=0;$e<D+163&&Ca[$e]!=W;++$e);$e>=163&&rh(W,D+163)}break;case 229:R=R.concat(W);break;case 93:q[W.cmo[0]]=B.lastobj=W;break;case 438:B.lastobj.TxO=W;break;case 127:B.lastobj.ImData=W;break;case 440:for(b=W[0].s.r;b<=W[0].e.r;++b)for(g=W[0].s.c;g<=W[0].e.c;++g)p=t.dense?(n[b]||[])[g]:n[_a({c:g,r:b})],p&&(p.l=W[1]);break;case 2048:for(b=W[0].s.r;b<=W[0].e.r;++b)for(g=W[0].s.c;g<=W[0].e.c;++g)p=t.dense?(n[b]||[])[g]:n[_a({c:g,r:b})],p&&p.l&&(p.l.Tooltip=W[1]);break;case 28:{if(B.biff<=5&&B.biff>=2)break;p=t.dense?(n[W[0].r]||[])[W[0].c]:n[_a(W[0])];var ze=q[W[2]];p||(t.dense?(n[W[0].r]||(n[W[0].r]=[]),p=n[W[0].r][W[0].c]={t:"z"}):p=n[_a(W[0])]={t:"z"},l.e.r=Math.max(l.e.r,W[0].r),l.s.r=Math.min(l.s.r,W[0].r),l.e.c=Math.max(l.e.c,W[0].c),l.s.c=Math.min(l.s.c,W[0].c)),p.c||(p.c=[]),v={a:W[1],t:ze.TxO.t},p.c.push(v)}break;case 2173:Ome(A[W.ixfe],W.ext);break;case 125:{if(!B.cellStyles)break;for(;W.e>=W.s;)I[W.e--]={width:W.w/256,level:W.level||0,hidden:!!(W.flags&1)},re||(re=!0,UA(W.w/256)),Mf(I[W.e+1])}break;case 520:{var Ze={};W.level!=null&&(G[W.r]=Ze,Ze.level=W.level),W.hidden&&(G[W.r]=Ze,Ze.hidden=!0),W.hpt&&(G[W.r]=Ze,Ze.hpt=W.hpt,Ze.hpx=ox(W.hpt))}break;case 38:case 39:case 40:case 41:n["!margins"]||X0(n["!margins"]={}),n["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[le]]=W;break;case 161:n["!margins"]||X0(n["!margins"]={}),n["!margins"].header=W.header,n["!margins"].footer=W.footer;break;case 574:W.RTL&&(M.Views[0].RTL=!0);break;case 146:_=W;break;case 2198:E=W;break;case 140:k=W;break;case 442:d?L.CodeName=W||L.name:M.WBProps.CodeName=W||"ThisWorkbook";break}}else oe||console.error("Missing Info for XLS Record 0x"+le.toString(16)),e.l+=Y}return a.SheetNames=tn(i).sort(function(dt,At){return Number(dt)-Number(At)}).map(function(dt){return i[dt].name}),t.bookSheets||(a.Sheets=r),!a.SheetNames.length&&u["!ref"]?(a.SheetNames.push("Sheet1"),a.Sheets&&(a.Sheets.Sheet1=u)):a.Preamble=u,a.Sheets&&H.forEach(function(dt,At){a.Sheets[a.SheetNames[At]]["!autofilter"]=dt}),a.Strings=c,a.SSF=xs(Ca),B.enc&&(a.Encryption=B.enc),E&&(a.Themes=E),a.Metadata={},k!==void 0&&(a.Metadata.Country=k),te.names.length>0&&(M.Names=te.names),a.Workbook=M,a}var y1={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Yve(e,t,a){var r=ya.find(e,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var n=yP(r,qk,y1.DSI);for(var i in n)t[i]=n[i]}catch(d){if(a.WTF)throw d}var l=ya.find(e,"/!SummaryInformation");if(l&&l.size>0)try{var o=yP(l,Gk,y1.SI);for(var c in o)t[c]==null&&(t[c]=o[c])}catch(d){if(a.WTF)throw d}t.HeadingPairs&&t.TitlesOfParts&&(vH(t.HeadingPairs,t.TitlesOfParts,t,a),delete t.HeadingPairs,delete t.TitlesOfParts)}function Xve(e,t){var a=[],r=[],n=[],i=0,l,o=XM(qk,"n"),c=XM(Gk,"n");if(e.Props)for(l=tn(e.Props),i=0;i<l.length;++i)(Object.prototype.hasOwnProperty.call(o,l[i])?a:Object.prototype.hasOwnProperty.call(c,l[i])?r:n).push([l[i],e.Props[l[i]]]);if(e.Custprops)for(l=tn(e.Custprops),i=0;i<l.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},l[i])||(Object.prototype.hasOwnProperty.call(o,l[i])?a:Object.prototype.hasOwnProperty.call(c,l[i])?r:n).push([l[i],e.Custprops[l[i]]]);var d=[];for(i=0;i<n.length;++i)kH.indexOf(n[i][0])>-1||gH.indexOf(n[i][0])>-1||n[i][1]!=null&&d.push(n[i]);r.length&&ya.utils.cfb_add(t,"/SummaryInformation",wP(r,y1.SI,c,Gk)),(a.length||d.length)&&ya.utils.cfb_add(t,"/DocumentSummaryInformation",wP(a,y1.DSI,o,qk,d.length?d:null,y1.UDI))}function YA(e,t){t||(t={}),QA(t),gA(),t.codepage&&xA(t.codepage);var a,r;if(e.FullPaths){if(ya.find(e,"/encryption"))throw new Error("File is password-protected");a=ya.find(e,"!CompObj"),r=ya.find(e,"/Workbook")||ya.find(e,"/Book")}else{switch(t.type){case"base64":e=Eo(Oo(e));break;case"binary":e=Eo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ui(e,0),r={content:e}}var n,i;if(a&&Wve(a),t.bookProps&&!t.bookSheets)n={};else{var l=ar?"buffer":"array";if(r&&r.content)n=Kve(r.content,t);else if((i=ya.find(e,"PerfectOffice_MAIN"))&&i.content)n=Y0.to_workbook(i.content,(t.type=l,t));else if((i=ya.find(e,"NativeContent_MAIN"))&&i.content)n=Y0.to_workbook(i.content,(t.type=l,t));else throw(i=ya.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&ya.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(n.vbaraw=cpe(e))}var o={};return e.FullPaths&&Yve(e,o,t),n.Props=n.Custprops=o,t.bookFiles&&(n.cfb=e),n}function Qve(e,t){var a=t||{},r=ya.utils.cfb_new({root:"R"}),n="/Workbook";switch(a.bookType||"xls"){case"xls":a.bookType="biff8";case"xla":a.bookType||(a.bookType="xla");case"biff8":n="/Workbook",a.biff=8;break;case"biff5":n="/Book",a.biff=5;break;default:throw new Error("invalid type "+a.bookType+" for XLS CFB")}return ya.utils.cfb_add(r,n,yV(e,a)),a.biff==8&&(e.Props||e.Custprops)&&Xve(e,r),a.biff==8&&e.vbaraw&&dpe(r,ya.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),r}var rv={0:{f:wge},1:{f:Tge},2:{f:Kge},3:{f:Fge},4:{f:Pge},5:{f:Wge},6:{f:Zge},7:{f:Uge},8:{f:i1e},9:{f:n1e},10:{f:r1e},11:{f:s1e},12:{f:Dge},13:{f:Xge},14:{f:Bge},15:{f:Oge},16:{f:hV},17:{f:t1e},18:{f:Hge},19:{f:DA},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:tve},40:{},42:{},43:{f:Z0e},44:{f:Q0e},45:{f:ame},46:{f:sme},47:{f:rme},48:{},49:{f:Sue},50:{},51:{f:Ime},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:RH},62:{f:Jge},63:{f:Gme},64:{f:j1e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:fl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:v1e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Age},148:{f:Sge,p:16},151:{f:h1e},152:{},153:{f:J1e},154:{},155:{},156:{f:X1e},157:{},158:{},159:{T:1,f:m0e},160:{T:-1},161:{T:1,f:Lm},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:l1e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Rme},336:{T:-1},337:{f:Ume,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Wk},357:{},358:{},359:{},360:{T:1},361:{},362:{f:OH},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:f1e},427:{f:m1e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:x1e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Cge},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:d1e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Wk},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:spe},633:{T:1},634:{T:-1},635:{T:1,f:ape},636:{T:-1},637:{f:_ue},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:B1e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:N1e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Zk={6:{f:L5},10:{f:df},12:{f:On},13:{f:On},14:{f:gn},15:{f:gn},16:{f:ol},17:{f:gn},18:{f:gn},19:{f:On},20:{f:AP},21:{f:AP},23:{f:OH},24:{f:TP},25:{f:gn},26:{},27:{},28:{f:Nfe},29:{},34:{f:gn},35:{f:_P},38:{f:ol},39:{f:ol},40:{f:ol},41:{f:ol},42:{f:gn},43:{f:gn},47:{f:O0e},49:{f:Xhe},51:{f:On},60:{},61:{f:Whe},64:{f:gn},65:{f:Yhe},66:{f:On},77:{},80:{},81:{},82:{},85:{f:On},89:{},90:{},91:{},92:{f:Lhe},93:{f:Cfe},94:{},95:{f:gn},96:{},97:{},99:{f:gn},125:{f:RH},128:{f:ufe},129:{f:Rhe},130:{f:On},131:{f:gn},132:{f:gn},133:{f:Fhe},134:{},140:{f:Lfe},141:{f:On},144:{},146:{f:Ffe},151:{},152:{},153:{},154:{},155:{},156:{f:On},157:{},158:{},160:{f:Vfe},161:{f:$fe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:lfe},190:{f:ofe},193:{f:df},197:{},198:{},199:{},200:{},201:{},202:{f:gn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:On},220:{},221:{f:gn},222:{},224:{f:dfe},225:{f:Phe},226:{f:df},227:{},229:{f:Sfe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Bhe},253:{f:Jhe},255:{f:Uhe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:CH},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:gn},353:{f:df},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:xfe},431:{f:gn},432:{},433:{},434:{},437:{},438:{f:Tfe},439:{f:gn},440:{f:Efe},441:{},442:{f:Vv},443:{},444:{f:On},445:{},446:{},448:{f:df},449:{f:Vhe,r:2},450:{f:df},512:{f:SP},513:{f:Hfe},515:{f:mfe},516:{f:efe},517:{f:CP},519:{f:Wfe},520:{f:zhe},523:{},545:{f:EP},549:{f:NP},566:{},574:{f:Ghe},638:{f:ife},659:{},1048:{},1054:{f:afe},1084:{},1212:{f:yfe},2048:{f:Mfe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Uy},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:df},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Ife,r:12},2173:{f:Lme,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:gn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:bfe,r:12},2197:{},2198:{f:_me,r:12},2199:{},2200:{},2201:{},2202:{f:wfe,r:12},2203:{f:df},2204:{},2205:{},2206:{},2207:{},2211:{f:Hhe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:On},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Ufe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Rfe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:SP},1:{},2:{f:Xfe},3:{f:Kfe},4:{f:Gfe},5:{f:CP},7:{f:Jfe},8:{},9:{f:Uy},11:{},22:{f:On},30:{f:sfe},31:{},32:{},33:{f:EP},36:{},37:{f:NP},50:{f:Zfe},62:{},52:{},67:{},68:{f:On},69:{},86:{},126:{},127:{f:qfe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:e0e},223:{},234:{},354:{},421:{},518:{f:L5},521:{f:Uy},536:{f:TP},547:{f:_P},561:{},579:{},1030:{f:L5},1033:{f:Uy},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Kt(e,t,a,r){var n=t;if(!isNaN(n)){var i=r||(a||[]).length||0,l=e.next(4);l.write_shift(2,n),l.write_shift(2,i),i>0&&_A(a)&&e.push(a)}}function Jve(e,t,a,r){var n=(a||[]).length||0;if(n<=8224)return Kt(e,t,a,n);var i=t;if(!isNaN(i)){for(var l=a.parts||[],o=0,c=0,d=0;d+(l[o]||8224)<=8224;)d+=l[o]||8224,o++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,d),e.push(a.slice(c,c+d)),c+=d;c<n;){for(u=e.next(4),u.write_shift(2,60),d=0;d+(l[o]||8224)<=8224;)d+=l[o]||8224,o++;u.write_shift(2,d),e.push(a.slice(c,c+d)),c+=d}}}function Kv(e,t,a){return e||(e=jt(7)),e.write_shift(2,t),e.write_shift(2,a),e.write_shift(2,0),e.write_shift(1,0),e}function Zve(e,t,a,r){var n=jt(9);return Kv(n,e,t),AH(a,r||"b",n),n}function ebe(e,t,a){var r=jt(8+2*a.length);return Kv(r,e,t),r.write_shift(1,a.length),r.write_shift(a.length,a,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function tbe(e,t,a,r){if(t.v!=null)switch(t.t){case"d":case"n":var n=t.t=="d"?ei(ps(t.v)):t.v;n==(n|0)&&n>=0&&n<65536?Kt(e,2,Qfe(a,r,n)):Kt(e,3,Yfe(a,r,n));return;case"b":case"e":Kt(e,5,Zve(a,r,t.v,t.t));return;case"s":case"str":Kt(e,4,ebe(a,r,(t.v||"").slice(0,255)));return}Kt(e,1,Kv(null,a,r))}function abe(e,t,a,r){var n=Array.isArray(t),i=kr(t["!ref"]||"A1"),l,o="",c=[];if(i.e.c>255||i.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),l=Xa(i)}for(var d=i.s.r;d<=i.e.r;++d){o=Sn(d);for(var u=i.s.c;u<=i.e.c;++u){d===i.s.r&&(c[u]=Hs(u)),l=c[u]+o;var f=n?(t[d]||[])[u]:t[l];f&&tbe(e,f,d,u)}}}function rbe(e,t){for(var a=t||{},r=ro(),n=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==a.sheet&&(n=i);if(n==0&&a.sheet&&e.SheetNames[0]!=a.sheet)throw new Error("Sheet not found: "+a.sheet);return Kt(r,a.biff==4?1033:a.biff==3?521:9,IA(e,16,a)),abe(r,e.Sheets[e.SheetNames[n]],n,a),Kt(r,10),r.end()}function sbe(e,t,a){Kt(e,49,Qhe({sz:12,name:"Arial"},a))}function nbe(e,t,a){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&Kt(e,1054,rfe(n,t[n],a))})}function ibe(e,t){var a=jt(19);a.write_shift(4,2151),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,3),a.write_shift(1,1),a.write_shift(4,0),Kt(e,2151,a),a=jt(39),a.write_shift(4,2152),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,3),a.write_shift(1,0),a.write_shift(4,0),a.write_shift(2,1),a.write_shift(4,4),a.write_shift(2,0),MH(kr(t["!ref"]||"A1"),a),a.write_shift(4,4),Kt(e,2152,a)}function lbe(e,t){for(var a=0;a<16;++a)Kt(e,224,kP({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(r){Kt(e,224,kP(r,0,t))})}function obe(e,t){for(var a=0;a<t["!links"].length;++a){var r=t["!links"][a];Kt(e,440,Dfe(r)),r[1].Tooltip&&Kt(e,2048,Pfe(r))}delete t["!links"]}function cbe(e,t){if(t){var a=0;t.forEach(function(r,n){++a<=256&&r&&Kt(e,125,Bfe(Qj(n,r),n))})}}function dbe(e,t,a,r,n){var i=16+Wf(n.cellXfs,t,n);if(t.v==null&&!t.bf){Kt(e,513,mm(a,r,i));return}if(t.bf)Kt(e,6,Rxe(t,a,r,n,i));else switch(t.t){case"d":case"n":var l=t.t=="d"?ei(ps(t.v)):t.v;Kt(e,515,pfe(a,r,l,i));break;case"b":case"e":Kt(e,517,ffe(a,r,t.v,i,n,t.t));break;case"s":case"str":if(n.bookSST){var o=qA(n.Strings,t.v,n.revStrings);Kt(e,253,Zhe(a,r,o,i))}else Kt(e,516,tfe(a,r,(t.v||"").slice(0,255),i,n));break;default:Kt(e,513,mm(a,r,i))}}function ube(e,t,a){var r=ro(),n=a.SheetNames[e],i=a.Sheets[n]||{},l=(a||{}).Workbook||{},o=(l.Sheets||[])[e]||{},c=Array.isArray(i),d=t.biff==8,u,f="",x=[],p=kr(i["!ref"]||"A1"),v=d?65536:16384;if(p.e.c>255||p.e.r>=v){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,v-1)}Kt(r,2057,IA(a,16,t)),Kt(r,13,fc(1)),Kt(r,12,fc(100)),Kt(r,15,Al(!0)),Kt(r,17,Al(!1)),Kt(r,16,hm(.001)),Kt(r,95,Al(!0)),Kt(r,42,Al(!1)),Kt(r,43,Al(!1)),Kt(r,130,fc(1)),Kt(r,128,hfe()),Kt(r,131,Al(!1)),Kt(r,132,Al(!1)),d&&cbe(r,i["!cols"]),Kt(r,512,nfe(p,t)),d&&(i["!links"]=[]);for(var g=p.s.r;g<=p.e.r;++g){f=Sn(g);for(var b=p.s.c;b<=p.e.c;++b){g===p.s.r&&(x[b]=Hs(b)),u=x[b]+f;var j=c?(i[g]||[])[b]:i[u];j&&(dbe(r,j,g,b,t),d&&j.l&&i["!links"].push([u,j.l]))}}var N=o.CodeName||o.name||n;return d&&Kt(r,574,Khe((l.Views||[])[0])),d&&(i["!merges"]||[]).length&&Kt(r,229,kfe(i["!merges"])),d&&obe(r,i),Kt(r,442,_H(N)),d&&ibe(r,i),Kt(r,10),r.end()}function hbe(e,t,a){var r=ro(),n=(e||{}).Workbook||{},i=n.Sheets||[],l=n.WBProps||{},o=a.biff==8,c=a.biff==5;if(Kt(r,2057,IA(e,5,a)),a.bookType=="xla"&&Kt(r,135),Kt(r,225,o?fc(1200):null),Kt(r,193,fhe(2)),c&&Kt(r,191),c&&Kt(r,192),Kt(r,226),Kt(r,92,Ohe("SheetJS",a)),Kt(r,66,fc(o?1200:1252)),o&&Kt(r,353,fc(0)),o&&Kt(r,448),Kt(r,317,zfe(e.SheetNames.length)),o&&e.vbaraw&&Kt(r,211),o&&e.vbaraw){var d=l.CodeName||"ThisWorkbook";Kt(r,442,_H(d))}Kt(r,156,fc(17)),Kt(r,25,Al(!1)),Kt(r,18,Al(!1)),Kt(r,19,fc(0)),o&&Kt(r,431,Al(!1)),o&&Kt(r,444,fc(0)),Kt(r,61,qhe()),Kt(r,64,Al(!1)),Kt(r,141,fc(0)),Kt(r,34,Al(V1e(e)=="true")),Kt(r,14,Al(!0)),o&&Kt(r,439,Al(!1)),Kt(r,218,fc(0)),sbe(r,e,a),nbe(r,e.SSF,a),lbe(r,a),o&&Kt(r,352,Al(!1));var u=r.end(),f=ro();o&&Kt(f,140,Ofe()),o&&a.Strings&&Jve(f,252,$he(a.Strings)),Kt(f,10);var x=f.end(),p=ro(),v=0,g=0;for(g=0;g<e.SheetNames.length;++g)v+=(o?12:11)+(o?2:1)*e.SheetNames[g].length;var b=u.length+v+x.length;for(g=0;g<e.SheetNames.length;++g){var j=i[g]||{};Kt(p,133,Ihe({pos:b,hs:j.Hidden||0,dt:0,name:e.SheetNames[g]},a)),b+=t[g].length}var N=p.end();if(v!=N.length)throw new Error("BS8 "+v+" != "+N.length);var S=[];return u.length&&S.push(u),N.length&&S.push(N),x.length&&S.push(x),wi(S)}function fbe(e,t){var a=t||{},r=[];e&&!e.SSF&&(e.SSF=xs(Ca)),e&&e.SSF&&(kx(),Vj(e.SSF),a.revssf=qj(e.SSF),a.revssf[e.SSF[65535]]=0,a.ssf=e.SSF),a.Strings=[],a.Strings.Count=0,a.Strings.Unique=0,JA(a),a.cellXfs=[],Wf(a.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var n=0;n<e.SheetNames.length;++n)r[r.length]=ube(n,a,e);return r.unshift(hbe(e,r,a)),wi(r)}function yV(e,t){for(var a=0;a<=e.SheetNames.length;++a){var r=e.Sheets[e.SheetNames[a]];if(!(!r||!r["!ref"])){var n=so(r["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[a]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return fbe(e,t);case 4:case 3:case 2:return rbe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function $P(e,t){var a=t||{},r=a.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var n=e.match(/<table/i);if(!n)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),l=n.index,o=i&&i.index||e.length,c=Qde(e.slice(l,o),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,u=0,f=0,x=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(l=0;l<c.length;++l){var g=c[l].trim(),b=g.slice(0,3).toLowerCase();if(b=="<tr"){if(++d,a.sheetRows&&a.sheetRows<=d){--d;break}u=0;continue}if(!(b!="<td"&&b!="<th")){var j=g.split(/<\/t[dh]>/i);for(o=0;o<j.length;++o){var N=j[o].trim();if(N.match(/<t[dh]/i)){for(var S=N,k=0;S.charAt(0)=="<"&&(k=S.indexOf(">"))>-1;)S=S.slice(k+1);for(var A=0;A<v.length;++A){var _=v[A];_.s.c==u&&_.s.r<d&&d<=_.e.r&&(u=_.e.c+1,A=-1)}var M=La(N.slice(0,N.indexOf(">")));x=M.colspan?+M.colspan:1,((f=+M.rowspan)>1||x>1)&&v.push({s:{r:d,c:u},e:{r:d+(f||1)-1,c:u+x-1}});var L=M.t||M["data-t"]||"";if(!S.length){u+=x;continue}if(S=Wz(S),p.s.r>d&&(p.s.r=d),p.e.r<d&&(p.e.r=d),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!S.length){u+=x;continue}var U={t:"s",v:S};a.raw||!S.trim().length||L=="s"||(S==="TRUE"?U={t:"b",v:!0}:S==="FALSE"?U={t:"b",v:!1}:isNaN(od(S))?isNaN(ix(S).getDate())||(U={t:"d",v:ps(S)},a.cellDates||(U={t:"n",v:ei(U.v)}),U.z=a.dateNF||Ca[14]):U={t:"n",v:od(S)}),a.dense?(r[d]||(r[d]=[]),r[d][u]=U):r[_a({r:d,c:u})]=U,u+=x}}}}return r["!ref"]=Xa(p),v.length&&(r["!merges"]=v),r}function mbe(e,t,a,r){for(var n=e["!merges"]||[],i=[],l=t.s.c;l<=t.e.c;++l){for(var o=0,c=0,d=0;d<n.length;++d)if(!(n[d].s.r>a||n[d].s.c>l)&&!(n[d].e.r<a||n[d].e.c<l)){if(n[d].s.r<a||n[d].s.c<l){o=-1;break}o=n[d].e.r-n[d].s.r+1,c=n[d].e.c-n[d].s.c+1;break}if(!(o<0)){var u=_a({r:a,c:l}),f=r.dense?(e[a]||[])[l]:e[u],x=f&&f.v!=null&&(f.h||kA(f.w||(ch(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),c>1&&(p.colspan=c),r.editable?x='<span contenteditable="true">'+x+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(x='<a href="'+f.l.Target+'">'+x+"</a>")),p.id=(r.id||"sjs")+"-"+u,i.push(Gt("td",x,p))}}var v="<tr>";return v+i.join("")+"</tr>"}var pbe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',xbe="</body></html>";function gbe(e,t){var a=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!a||a.length==0)throw new Error("Invalid HTML: could not find <table>");if(a.length==1)return Vf($P(a[0],t),t);var r=a_();return a.forEach(function(n,i){r_(r,$P(n,t),"Sheet"+(i+1))}),r}function vbe(e,t,a){var r=[];return r.join("")+"<table"+(a&&a.id?' id="'+a.id+'"':"")+">"}function wV(e,t){var a=t||{},r=a.header!=null?a.header:pbe,n=a.footer!=null?a.footer:xbe,i=[r],l=so(e["!ref"]);a.dense=Array.isArray(e),i.push(vbe(e,l,a));for(var o=l.s.r;o<=l.e.r;++o)i.push(mbe(e,l,o,a));return i.push("</table>"+n),i.join("")}function jV(e,t,a){var r=a||{},n=0,i=0;if(r.origin!=null)if(typeof r.origin=="number")n=r.origin;else{var l=typeof r.origin=="string"?Vs(r.origin):r.origin;n=l.r,i=l.c}var o=t.getElementsByTagName("tr"),c=Math.min(r.sheetRows||1e7,o.length),d={s:{r:0,c:0},e:{r:n,c:i}};if(e["!ref"]){var u=so(e["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),n==-1&&(d.e.r=n=u.e.r+1)}var f=[],x=0,p=e["!rows"]||(e["!rows"]=[]),v=0,g=0,b=0,j=0,N=0,S=0;for(e["!cols"]||(e["!cols"]=[]);v<o.length&&g<c;++v){var k=o[v];if(UP(k)){if(r.display)continue;p[g]={hidden:!0}}var A=k.children;for(b=j=0;b<A.length;++b){var _=A[b];if(!(r.display&&UP(_))){var M=_.hasAttribute("data-v")?_.getAttribute("data-v"):_.hasAttribute("v")?_.getAttribute("v"):Wz(_.innerHTML),L=_.getAttribute("data-z")||_.getAttribute("z");for(x=0;x<f.length;++x){var U=f[x];U.s.c==j+i&&U.s.r<g+n&&g+n<=U.e.r&&(j=U.e.c+1-i,x=-1)}S=+_.getAttribute("colspan")||1,((N=+_.getAttribute("rowspan")||1)>1||S>1)&&f.push({s:{r:g+n,c:j+i},e:{r:g+n+(N||1)-1,c:j+i+(S||1)-1}});var z={t:"s",v:M},O=_.getAttribute("data-t")||_.getAttribute("t")||"";M!=null&&(M.length==0?z.t=O||"z":r.raw||M.trim().length==0||O=="s"||(M==="TRUE"?z={t:"b",v:!0}:M==="FALSE"?z={t:"b",v:!1}:isNaN(od(M))?isNaN(ix(M).getDate())||(z={t:"d",v:ps(M)},r.cellDates||(z={t:"n",v:ei(z.v)}),z.z=r.dateNF||Ca[14]):z={t:"n",v:od(M)})),z.z===void 0&&L!=null&&(z.z=L);var B="",E=_.getElementsByTagName("A");if(E&&E.length)for(var R=0;R<E.length&&!(E[R].hasAttribute("href")&&(B=E[R].getAttribute("href"),B.charAt(0)!="#"));++R);B&&B.charAt(0)!="#"&&(z.l={Target:B}),r.dense?(e[g+n]||(e[g+n]=[]),e[g+n][j+i]=z):e[_a({c:j+i,r:g+n})]=z,d.e.c<j+i&&(d.e.c=j+i),j+=S}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),d.e.r=Math.max(d.e.r,g-1+n),e["!ref"]=Xa(d),g>=c&&(e["!fullref"]=Xa((d.e.r=o.length-v+g-1+n,d))),e}function NV(e,t){var a=t||{},r=a.dense?[]:{};return jV(r,e,t)}function bbe(e,t){return Vf(NV(e,t),t)}function UP(e){var t="",a=ybe(e);return a&&(t=a(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function ybe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function wbe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,n){return Array(parseInt(n,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),a=Sr(t.replace(/<[^>]*>/g,""));return[a]}var zP={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function SV(e,t){var a=t||{},r=CA(e),n=[],i,l,o={name:""},c="",d=0,u,f,x={},p=[],v=a.dense?[]:{},g,b,j={value:""},N="",S=0,k=[],A=-1,_=-1,M={s:{r:1e6,c:1e7},e:{r:0,c:0}},L=0,U={},z=[],O={},B=0,E=0,R=[],q=1,I=1,G=[],re={Names:[]},te={},X=["",""],ce=[],D={},Q="",H=0,J=!1,ae=!1,ie=0;for(Q1.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=Q1.exec(r);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(M.e.c>=M.s.c&&M.e.r>=M.s.r?v["!ref"]=Xa(M):v["!ref"]="A1:A1",a.sheetRows>0&&a.sheetRows<=M.e.r&&(v["!fullref"]=v["!ref"],M.e.r=a.sheetRows-1,v["!ref"]=Xa(M)),z.length&&(v["!merges"]=z),R.length&&(v["!rows"]=R),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),x[u.name]=v,ae=!1):g[0].charAt(g[0].length-2)!=="/"&&(u=La(g[0],!1),A=_=-1,M.s.r=M.s.c=1e7,M.e.r=M.e.c=0,v=a.dense?[]:{},z=[],R=[],ae=!0);break;case"table-row-group":g[1]==="/"?--L:++L;break;case"table-row":case"":if(g[1]==="/"){A+=q,q=1;break}if(f=La(g[0],!1),f.?A=f.-1:A==-1&&(A=0),q=+f["number-rows-repeated"]||1,q<10)for(ie=0;ie<q;++ie)L>0&&(R[A+ie]={level:L});_=-1;break;case"covered-table-cell":g[1]!=="/"&&++_,a.sheetStubs&&(a.dense?(v[A]||(v[A]=[]),v[A][_]={t:"z"}):v[_a({r:A,c:_})]={t:"z"}),N="",k=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++_,j=La(g[0],!1),I=parseInt(j["number-columns-repeated"]||"1",10),b={t:"z",v:null},j.formula&&a.cellFormula!=!1&&(b.f=FP(Sr(j.formula))),(j.||j["value-type"])=="string"&&(b.t="s",b.v=Sr(j["string-value"]||""),a.dense?(v[A]||(v[A]=[]),v[A][_]=b):v[_a({r:A,c:_})]=b),_+=I-1;else if(g[1]!=="/"){++_,N="",S=0,k=[],I=1;var le=q?A+q-1:A;if(_>M.e.c&&(M.e.c=_),_<M.s.c&&(M.s.c=_),A<M.s.r&&(M.s.r=A),le>M.e.r&&(M.e.r=le),j=La(g[0],!1),ce=[],D={},b={t:j.||j["value-type"],v:null},a.cellFormula)if(j.formula&&(j.formula=Sr(j.formula)),j["number-matrix-columns-spanned"]&&j["number-matrix-rows-spanned"]&&(B=parseInt(j["number-matrix-rows-spanned"],10)||0,E=parseInt(j["number-matrix-columns-spanned"],10)||0,O={s:{r:A,c:_},e:{r:A+B-1,c:_+E-1}},b.F=Xa(O),G.push([O,b.F])),j.formula)b.f=FP(j.formula);else for(ie=0;ie<G.length;++ie)A>=G[ie][0].s.r&&A<=G[ie][0].e.r&&_>=G[ie][0].s.c&&_<=G[ie][0].e.c&&(b.F=G[ie][1]);switch((j["number-columns-spanned"]||j["number-rows-spanned"])&&(B=parseInt(j["number-rows-spanned"],10)||0,E=parseInt(j["number-columns-spanned"],10)||0,O={s:{r:A,c:_},e:{r:A+B-1,c:_+E-1}},z.push(O)),j["number-columns-repeated"]&&(I=parseInt(j["number-columns-repeated"],10)),b.t){case"boolean":b.t="b",b.v=hs(j["boolean-value"]);break;case"float":b.t="n",b.v=parseFloat(j.value);break;case"percentage":b.t="n",b.v=parseFloat(j.value);break;case"currency":b.t="n",b.v=parseFloat(j.value);break;case"date":b.t="d",b.v=ps(j["date-value"]),a.cellDates||(b.t="n",b.v=ei(b.v)),b.z="m/d/yy";break;case"time":b.t="n",b.v=Kde(j["time-value"])/86400,a.cellDates&&(b.t="d",b.v=Gj(b.v)),b.z="HH:MM:SS";break;case"number":b.t="n",b.v=parseFloat(j.);break;default:if(b.t==="string"||b.t==="text"||!b.t)b.t="s",j["string-value"]!=null&&(N=Sr(j["string-value"]),k=[]);else throw new Error("Unsupported value type "+b.t)}}else{if(J=!1,b.t==="s"&&(b.v=N||"",k.length&&(b.R=k),J=S==0),te.Target&&(b.l=te),ce.length>0&&(b.c=ce,ce=[]),N&&a.cellText!==!1&&(b.w=N),J&&(b.t="z",delete b.v),(!J||a.sheetStubs)&&!(a.sheetRows&&a.sheetRows<=A))for(var Y=0;Y<q;++Y){if(I=parseInt(j["number-columns-repeated"]||"1",10),a.dense)for(v[A+Y]||(v[A+Y]=[]),v[A+Y][_]=Y==0?b:xs(b);--I>0;)v[A+Y][_+I]=xs(b);else for(v[_a({r:A+Y,c:_})]=b;--I>0;)v[_a({r:A+Y,c:_+I})]=xs(b);M.e.c<=_&&(M.e.c=_)}I=parseInt(j["number-columns-repeated"]||"1",10),_+=I-1,I=0,b={},N="",k=[]}te={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((i=n.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&n.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((i=n.pop())[0]!==g[3])throw"Bad state: "+i;D.t=N,k.length&&(D.R=k),D.a=Q,ce.push(D)}else g[0].charAt(g[0].length-2)!=="/"&&n.push([g[3],!1]);Q="",H=0,N="",S=0,k=[];break;case"creator":g[1]==="/"?Q=r.slice(H,g.index):H=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((i=n.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&n.push([g[3],!1]);N="",S=0,k=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(U[o.name]=c,(i=n.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&(c="",o=La(g[0],!1),n.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(n[n.length-1][0]){case"time-style":case"date-style":l=La(g[0],!1),c+=zP[g[3]][l.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(n[n.length-1][0]){case"time-style":case"date-style":l=La(g[0],!1),c+=zP[g[3]][l.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(n[n.length-1][0]){case"number-style":case"date-style":case"time-style":c+=r.slice(d,g.index);break}else d=g.index+g[0].length;break;case"named-range":l=La(g[0],!1),X=O5(l["cell-range-address"]);var oe={Name:l.name,Ref:X[0]+"!"+X[1]};ae&&(oe.Sheet=p.length),re.Names.push(oe);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(n[n.length-1][0])>-1)break;if(g[1]==="/"&&(!j||!j["string-value"])){var xe=wbe(r.slice(S,g.index));N=(N.length>0?N+`
`:"")+xe[0]}else La(g[0],!1),S=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{X=O5(La(g[0])["target-range-address"]),x[X[0]]["!autofilter"]={ref:X[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(te=La(g[0],!1),!te.href)break;te.Target=Sr(te.href),delete te.href,te.Target.charAt(0)=="#"&&te.Target.indexOf(".")>-1?(X=O5(te.Target.slice(1)),te.Target="#"+X[0]+"!"+X[1]):te.Target.match(/^\.\.[\\\/]/)&&(te.Target=te.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(a.WTF)throw new Error(g)}}var W={Sheets:x,SheetNames:p,Workbook:re};return a.bookSheets&&delete W.Sheets,W}function HP(e,t){t=t||{},hc(e,"META-INF/manifest.xml")&&Kue(Ln(e,"META-INF/manifest.xml"),t);var a=Do(e,"content.xml");if(!a)throw new Error("Missing content.xml in ODS / UOF file");var r=SV(Qr(a),t);return hc(e,"meta.xml")&&(r.Props=pH(Ln(e,"meta.xml"))),r}function VP(e,t){return SV(e,t)}var jbe=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+X1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return _n+t}})(),WP=(function(){var e=function(i){return Wr(i).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,a=`          <table:covered-table-cell/>
`,r=function(i,l,o){var c=[];c.push('      <table:table table:name="'+Wr(l.SheetNames[o])+`" table:style-name="ta1">
`);var d=0,u=0,f=so(i["!ref"]||"A1"),x=i["!merges"]||[],p=0,v=Array.isArray(i);if(i["!cols"])for(u=0;u<=f.e.c;++u)c.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var g="",b=i["!rows"]||[];for(d=0;d<f.s.r;++d)g=b[d]?' table:style-name="ro'+b[d].ods+'"':"",c.push("        <table:table-row"+g+`></table:table-row>
`);for(;d<=f.e.r;++d){for(g=b[d]?' table:style-name="ro'+b[d].ods+'"':"",c.push("        <table:table-row"+g+`>
`),u=0;u<f.s.c;++u)c.push(t);for(;u<=f.e.c;++u){var j=!1,N={},S="";for(p=0;p!=x.length;++p)if(!(x[p].s.c>u)&&!(x[p].s.r>d)&&!(x[p].e.c<u)&&!(x[p].e.r<d)){(x[p].s.c!=u||x[p].s.r!=d)&&(j=!0),N["table:number-columns-spanned"]=x[p].e.c-x[p].s.c+1,N["table:number-rows-spanned"]=x[p].e.r-x[p].s.r+1;break}if(j){c.push(a);continue}var k=_a({r:d,c:u}),A=v?(i[d]||[])[u]:i[k];if(A&&A.f&&(N["table:formula"]=Wr(zxe(A.f)),A.F&&A.F.slice(0,k.length)==k)){var _=so(A.F);N["table:number-matrix-columns-spanned"]=_.e.c-_.s.c+1,N["table:number-matrix-rows-spanned"]=_.e.r-_.s.r+1}if(!A){c.push(t);continue}switch(A.t){case"b":S=A.v?"TRUE":"FALSE",N["office:value-type"]="boolean",N["office:boolean-value"]=A.v?"true":"false";break;case"n":S=A.w||String(A.v||0),N["office:value-type"]="float",N["office:value"]=A.v||0;break;case"s":case"str":S=A.v==null?"":A.v,N["office:value-type"]="string";break;case"d":S=A.w||ps(A.v).toISOString(),N["office:value-type"]="date",N["office:date-value"]=ps(A.v).toISOString(),N["table:style-name"]="ce1";break;default:c.push(t);continue}var M=e(S);if(A.l&&A.l.Target){var L=A.l.Target;L=L.charAt(0)=="#"?"#"+Hxe(L.slice(1)):L,L.charAt(0)!="#"&&!L.match(/^\w+:/)&&(L="../"+L),M=Gt("text:a",M,{"xlink:href":L.replace(/&/g,"&amp;")})}c.push("          "+Gt("table:table-cell",Gt("text:p",M,{}),N)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},n=function(i,l){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var f=d["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Mf(f),f.ods=o;var x=d["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+x+`"/>
`),i.push(`  </style:style>
`),++o}}});var c=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var f=d["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(l,o){var c=[_n],d=X1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=X1({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(mH().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),n(c,l),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=l.SheetNames.length;++f)c.push(r(l.Sheets[l.SheetNames[f]],l,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function kV(e,t){if(t.bookType=="fods")return WP(e,t);var a=jA(),r="",n=[],i=[];return r="mimetype",Za(a,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Za(a,r,WP(e,t)),n.push([r,"text/xml"]),i.push([r,"ContentFile"]),r="styles.xml",Za(a,r,jbe(e,t)),n.push([r,"text/xml"]),i.push([r,"StylesFile"]),r="meta.xml",Za(a,r,_n+mH()),n.push([r,"text/xml"]),i.push([r,"MetadataFile"]),r="manifest.rdf",Za(a,r,Que(i)),n.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Za(a,r,Yue(n)),a}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function pm(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function eC(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Qr(Hf(e))}function Nbe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Eo(Yd(e))}function Sbe(e,t){e:for(var a=0;a<=e.length-t.length;++a){for(var r=0;r<t.length;++r)if(e[a+r]!=t[r])continue e;return!0}return!1}function Lf(e){var t=e.reduce(function(n,i){return n+i.length},0),a=new Uint8Array(t),r=0;return e.forEach(function(n){a.set(n,r),r+=n.length}),a}function qP(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function kbe(e,t){for(var a=(e[t+15]&127)<<7|e[t+14]>>1,r=e[t+14]&1,n=t+13;n>=t;--n)r=r*256+e[n];return(e[t+15]&128?-r:r)*Math.pow(10,a-6176)}function Cbe(e,t,a){var r=Math.floor(a==0?0:Math.LOG10E*Math.log(Math.abs(a)))+6176-20,n=a/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(r&127)<<1;for(var i=0;n>=1;++i,n/=256)e[t+i]=n&255;e[t+15]|=a>=0?0:128}function sv(e,t){var a=t?t[0]:0,r=e[a]&127;e:if(e[a++]>=128&&(r|=(e[a]&127)<<7,e[a++]<128||(r|=(e[a]&127)<<14,e[a++]<128)||(r|=(e[a]&127)<<21,e[a++]<128)||(r+=(e[a]&127)*Math.pow(2,28),++a,e[a++]<128)||(r+=(e[a]&127)*Math.pow(2,35),++a,e[a++]<128)||(r+=(e[a]&127)*Math.pow(2,42),++a,e[a++]<128)))break e;return t&&(t[0]=a),r}function $r(e){var t=new Uint8Array(7);t[0]=e&127;var a=1;e:if(e>127){if(t[a-1]|=128,t[a]=e>>7&127,++a,e<=16383||(t[a-1]|=128,t[a]=e>>14&127,++a,e<=2097151)||(t[a-1]|=128,t[a]=e>>21&127,++a,e<=268435455)||(t[a-1]|=128,t[a]=e/256>>>21&127,++a,e<=34359738367)||(t[a-1]|=128,t[a]=e/65536>>>21&127,++a,e<=4398046511103))break e;t[a-1]|=128,t[a]=e/16777216>>>21&127,++a}return t.slice(0,a)}function en(e){var t=0,a=e[t]&127;e:if(e[t++]>=128){if(a|=(e[t]&127)<<7,e[t++]<128||(a|=(e[t]&127)<<14,e[t++]<128)||(a|=(e[t]&127)<<21,e[t++]<128))break e;a|=(e[t]&127)<<28}return a}function Tr(e){for(var t=[],a=[0];a[0]<e.length;){var r=a[0],n=sv(e,a),i=n&7;n=Math.floor(n/8);var l=0,o;if(n==0)break;switch(i){case 0:{for(var c=a[0];e[a[0]++]>=128;);o=e.slice(c,a[0])}break;case 5:l=4,o=e.slice(a[0],a[0]+l),a[0]+=l;break;case 1:l=8,o=e.slice(a[0],a[0]+l),a[0]+=l;break;case 2:l=sv(e,a),o=e.slice(a[0],a[0]+l),a[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(n," at offset ").concat(r))}var d={data:o,type:i};t[n]==null?t[n]=[d]:t[n].push(d)}return t}function Fi(e){var t=[];return e.forEach(function(a,r){a.forEach(function(n){n.data&&(t.push($r(r*8+n.type)),n.type==2&&t.push($r(n.data.length)),t.push(n.data))})}),Lf(t)}function XA(e,t){return e?.map(function(a){return t(a.data)})||[]}function oc(e){for(var t,a=[],r=[0];r[0]<e.length;){var n=sv(e,r),i=Tr(e.slice(r[0],r[0]+n));r[0]+=n;var l={id:en(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=Tr(o.data),d=en(c[3][0].data);l.messages.push({meta:c,data:e.slice(r[0],r[0]+d)}),r[0]+=d}),(t=i[3])!=null&&t[0]&&(l.merge=en(i[3][0].data)>>>0>0),a.push(l)}return a}function Cp(e){var t=[];return e.forEach(function(a){var r=[];r[1]=[{data:$r(a.id),type:0}],r[2]=[],a.merge!=null&&(r[3]=[{data:$r(+!!a.merge),type:0}]);var n=[];a.messages.forEach(function(l){n.push(l.data),l.meta[3]=[{type:0,data:$r(l.data.length)}],r[2].push({data:Fi(l.meta),type:2})});var i=Fi(r);t.push($r(i.length)),t.push(i),n.forEach(function(l){return t.push(l)})}),Lf(t)}function Abe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var a=[0],r=sv(t,a),n=[];a[0]<t.length;){var i=t[a[0]]&3;if(i==0){var l=t[a[0]++]>>2;if(l<60)++l;else{var o=l-59;l=t[a[0]],o>1&&(l|=t[a[0]+1]<<8),o>2&&(l|=t[a[0]+2]<<16),o>3&&(l|=t[a[0]+3]<<24),l>>>=0,l++,a[0]+=o}n.push(t.slice(a[0],a[0]+l)),a[0]+=l;continue}else{var c=0,d=0;if(i==1?(d=(t[a[0]]>>2&7)+4,c=(t[a[0]++]&224)<<3,c|=t[a[0]++]):(d=(t[a[0]++]>>2)+1,i==2?(c=t[a[0]]|t[a[0]+1]<<8,a[0]+=2):(c=(t[a[0]]|t[a[0]+1]<<8|t[a[0]+2]<<16|t[a[0]+3]<<24)>>>0,a[0]+=4)),n=[Lf(n)],c==0)throw new Error("Invalid offset 0");if(c>n[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(n.push(n[0].slice(-c)),d-=c;d>=n[n.length-1].length;)n.push(n[n.length-1]),d-=n[n.length-1].length;n.push(n[0].slice(-c,-c+d))}}var u=Lf(n);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function cc(e){for(var t=[],a=0;a<e.length;){var r=e[a++],n=e[a]|e[a+1]<<8|e[a+2]<<16;a+=3,t.push(Abe(r,e.slice(a,a+n))),a+=n}if(a!==e.length)throw new Error("data is not a valid framed stream!");return Lf(t)}function Ap(e){for(var t=[],a=0;a<e.length;){var r=Math.min(e.length-a,268435455),n=new Uint8Array(4);t.push(n);var i=$r(r),l=i.length;t.push(i),r<=60?(l++,t.push(new Uint8Array([r-1<<2]))):r<=256?(l+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(l+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(l+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(l+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(a,a+r)),l+=r,n[0]=0,n[1]=l&255,n[2]=l>>8&255,n[3]=l>>16&255,a+=r}return Lf(t)}function _be(e,t,a,r){var n=pm(e),i=n.getUint32(4,!0),l=(r>1?12:8)+qP(i&(r>1?3470:398))*4,o=-1,c=-1,d=NaN,u=new Date(2001,0,1);i&512&&(o=n.getUint32(l,!0),l+=4),l+=qP(i&(r>1?12288:4096))*4,i&16&&(c=n.getUint32(l,!0),l+=4),i&32&&(d=n.getFloat64(l,!0),l+=8),i&64&&(u.setTime(u.getTime()+n.getFloat64(l,!0)*1e3),l+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:d};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:d>0};break;case 7:f={t:"n",v:d/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:a[o]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(d))f={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function Tbe(e,t,a){var r=pm(e),n=r.getUint32(8,!0),i=12,l=-1,o=-1,c=NaN,d=NaN,u=new Date(2001,0,1);n&1&&(c=kbe(e,i),i+=16),n&2&&(d=r.getFloat64(i,!0),i+=8),n&4&&(u.setTime(u.getTime()+r.getFloat64(i,!0)*1e3),i+=8),n&8&&(o=r.getUint32(i,!0),i+=4),n&16&&(l=r.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:d>0};break;case 7:f={t:"n",v:d/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:a[l]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)))}return f}function F5(e,t){var a=new Uint8Array(32),r=pm(a),n=12,i=0;switch(a[0]=5,e.t){case"n":a[1]=2,Cbe(a,n,e.v),i|=1,n+=16;break;case"b":a[1]=6,r.setFloat64(n,e.v?1:0,!0),i|=2,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));a[1]=3,r.setUint32(n,t.indexOf(e.v),!0),i|=8,n+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,i,!0),a.slice(0,n)}function I5(e,t){var a=new Uint8Array(32),r=pm(a),n=12,i=0;switch(a[0]=3,e.t){case"n":a[2]=2,r.setFloat64(n,e.v,!0),i|=32,n+=8;break;case"b":a[2]=6,r.setFloat64(n,e.v?1:0,!0),i|=32,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));a[2]=3,r.setUint32(n,t.indexOf(e.v),!0),i|=16,n+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,i,!0),a.slice(0,n)}function Ebe(e,t,a){switch(e[0]){case 0:case 1:case 2:case 3:return _be(e,t,a,e[0]);case 5:return Tbe(e,t,a);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function al(e){var t=Tr(e);return sv(t[1][0].data)}function GP(e,t){var a=Tr(t.data),r=en(a[1][0].data),n=a[3],i=[];return(n||[]).forEach(function(l){var o=Tr(l.data),c=en(o[1][0].data)>>>0;switch(r){case 1:i[c]=eC(o[3][0].data);break;case 8:{var d=e[al(o[9][0].data)][0],u=Tr(d.data),f=e[al(u[1][0].data)][0],x=en(f.meta[1][0].data);if(x!=2001)throw new Error("2000 unexpected reference to ".concat(x));var p=Tr(f.data);i[c]=p[3].map(function(v){return eC(v.data)}).join("")}break}}),i}function Dbe(e,t){var a,r,n,i,l,o,c,d,u,f,x,p,v,g,b=Tr(e),j=en(b[1][0].data)>>>0,N=en(b[2][0].data)>>>0,S=((r=(a=b[8])==null?void 0:a[0])==null?void 0:r.data)&&en(b[8][0].data)>0||!1,k,A;if((i=(n=b[7])==null?void 0:n[0])!=null&&i.data&&t!=0)k=(o=(l=b[7])==null?void 0:l[0])==null?void 0:o.data,A=(d=(c=b[6])==null?void 0:c[0])==null?void 0:d.data;else if((f=(u=b[4])==null?void 0:u[0])!=null&&f.data&&t!=1)k=(p=(x=b[4])==null?void 0:x[0])==null?void 0:p.data,A=(g=(v=b[3])==null?void 0:v[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var _=S?4:1,M=pm(k),L=[],U=0;U<k.length/2;++U){var z=M.getUint16(U*2,!0);z<65535&&L.push([U,z])}if(L.length!=N)throw"Expected ".concat(N," cells, found ").concat(L.length);var O=[];for(U=0;U<L.length-1;++U)O[L[U][0]]=A.subarray(L[U][1]*_,L[U+1][1]*_);return L.length>=1&&(O[L[L.length-1][0]]=A.subarray(L[L.length-1][1]*_)),{R:j,cells:O}}function Mbe(e,t){var a,r=Tr(t.data),n=(a=r?.[7])!=null&&a[0]?en(r[7][0].data)>>>0>0?1:0:-1,i=XA(r[5],function(l){return Dbe(l,n)});return{nrows:en(r[4][0].data)>>>0,data:i.reduce(function(l,o){return l[o.R]||(l[o.R]=[]),o.cells.forEach(function(c,d){if(l[o.R][d])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(d));l[o.R][d]=c}),l},[])}}function Pbe(e,t,a){var r,n=Tr(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(en(n[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(n[6][0].data));if(i.e.c=(en(n[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(n[7][0].data));a["!ref"]=Xa(i);var l=Tr(n[4][0].data),o=GP(e,e[al(l[4][0].data)][0]),c=(r=l[17])!=null&&r[0]?GP(e,e[al(l[17][0].data)][0]):[],d=Tr(l[3][0].data),u=0;d[1].forEach(function(f){var x=Tr(f.data),p=e[al(x[2][0].data)][0],v=en(p.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var g=Mbe(e,p);g.data.forEach(function(b,j){b.forEach(function(N,S){var k=_a({r:u+j,c:S}),A=Ebe(N,o,c);A&&(a[k]=A)})}),u+=g.nrows})}function Lbe(e,t){var a=Tr(t.data),r={"!ref":"A1"},n=e[al(a[2][0].data)],i=en(n[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return Pbe(e,n[0],r),r}function Obe(e,t){var a,r=Tr(t.data),n={name:(a=r[1])!=null&&a[0]?eC(r[1][0].data):"",sheets:[]},i=XA(r[2],al);return i.forEach(function(l){e[l].forEach(function(o){var c=en(o.meta[1][0].data);c==6e3&&n.sheets.push(Lbe(e,o))})}),n}function Rbe(e,t){var a=a_(),r=Tr(t.data),n=XA(r[1],al);if(n.forEach(function(i){e[i].forEach(function(l){var o=en(l.meta[1][0].data);if(o==2){var c=Obe(e,l);c.sheets.forEach(function(d,u){r_(a,d,u==0?c.name:c.name+"_"+u,!0)})}})}),a.SheetNames.length==0)throw new Error("Empty NUMBERS file");return a}function B5(e){var t,a,r,n,i={},l=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var d;try{d=cc(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var u;try{u=oc(d)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){i[f.id]=f.messages,l.push(f.id)})}}),!l.length)throw new Error("File has no messages");var o=((n=(r=(a=(t=i?.[1])==null?void 0:t[0])==null?void 0:a.meta)==null?void 0:r[1])==null?void 0:n[0].data)&&en(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||l.forEach(function(c){i[c].forEach(function(d){var u=en(d.meta[1][0].data)>>>0;if(u==1)if(!o)o=d;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Rbe(i,o)}function Fbe(e,t,a){var r,n,i,l;if(!((r=e[6])!=null&&r[0])||!((n=e[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var o=((l=(i=e[8])==null?void 0:i[0])==null?void 0:l.data)&&en(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,d=pm(e[7][0].data),u=0,f=[],x=pm(e[4][0].data),p=0,v=[],g=0;g<t.length;++g){if(t[g]==null){d.setUint16(g*2,65535,!0),x.setUint16(g*2,65535);continue}d.setUint16(g*2,u,!0),x.setUint16(g*2,p,!0);var b,j;switch(typeof t[g]){case"string":b=F5({t:"s",v:t[g]},a),j=I5({t:"s",v:t[g]},a);break;case"number":b=F5({t:"n",v:t[g]},a),j=I5({t:"n",v:t[g]},a);break;case"boolean":b=F5({t:"b",v:t[g]},a),j=I5({t:"b",v:t[g]},a);break;default:throw new Error("Unsupported value "+t[g])}f.push(b),u+=b.length,v.push(j),p+=j.length,++c}for(e[2][0].data=$r(c);g<e[7][0].data.length/2;++g)d.setUint16(g*2,65535,!0),x.setUint16(g*2,65535,!0);return e[6][0].data=Lf(f),e[3][0].data=Lf(v),c}function Ibe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var a=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=so(a["!ref"]);r.s.r=r.s.c=0;var n=!1;r.e.c>9&&(n=!0,r.e.c=9),r.e.r>49&&(n=!0,r.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(Xa(r)));var i=pw(a,{range:r,header:1}),l=["~Sh33tJ5~"];i.forEach(function(Q){return Q.forEach(function(H){typeof H=="string"&&l.push(H)})});var o={},c=[],d=ya.read(t.numbers,{type:"base64"});d.FileIndex.map(function(Q,H){return[Q,d.FullPaths[H]]}).forEach(function(Q){var H=Q[0],J=Q[1];if(H.type==2&&H.name.match(/\.iwa/)){var ae=H.content,ie=cc(ae),le=oc(ie);le.forEach(function(Y){c.push(Y.id),o[Y.id]={deps:[],location:J,type:en(Y.messages[0].meta[1][0].data)}})}}),c.sort(function(Q,H){return Q-H});var u=c.filter(function(Q){return Q>1}).map(function(Q){return[Q,$r(Q)]});d.FileIndex.map(function(Q,H){return[Q,d.FullPaths[H]]}).forEach(function(Q){var H=Q[0];if(Q[1],!!H.name.match(/\.iwa/)){var J=oc(cc(H.content));J.forEach(function(ae){ae.messages.forEach(function(ie){u.forEach(function(le){ae.messages.some(function(Y){return en(Y.meta[1][0].data)!=11006&&Sbe(Y.data,le[1])})&&o[le[0]].deps.push(ae.id)})})})}});for(var f=ya.find(d,o[1].location),x=oc(cc(f.content)),p,v=0;v<x.length;++v){var g=x[v];g.id==1&&(p=g)}var b=al(Tr(p.messages[0].data)[1][0].data);for(f=ya.find(d,o[b].location),x=oc(cc(f.content)),v=0;v<x.length;++v)g=x[v],g.id==b&&(p=g);for(b=al(Tr(p.messages[0].data)[2][0].data),f=ya.find(d,o[b].location),x=oc(cc(f.content)),v=0;v<x.length;++v)g=x[v],g.id==b&&(p=g);for(b=al(Tr(p.messages[0].data)[2][0].data),f=ya.find(d,o[b].location),x=oc(cc(f.content)),v=0;v<x.length;++v)g=x[v],g.id==b&&(p=g);var j=Tr(p.messages[0].data);{j[6][0].data=$r(r.e.r+1),j[7][0].data=$r(r.e.c+1);var N=al(j[46][0].data),S=ya.find(d,o[N].location),k=oc(cc(S.content));{for(var A=0;A<k.length&&k[A].id!=N;++A);if(k[A].id!=N)throw"Bad ColumnRowUIDMapArchive";var _=Tr(k[A].messages[0].data);_[1]=[],_[2]=[],_[3]=[];for(var M=0;M<=r.e.c;++M){var L=[];L[1]=L[2]=[{type:0,data:$r(M+420690)}],_[1].push({type:2,data:Fi(L)}),_[2].push({type:0,data:$r(M)}),_[3].push({type:0,data:$r(M)})}_[4]=[],_[5]=[],_[6]=[];for(var U=0;U<=r.e.r;++U)L=[],L[1]=L[2]=[{type:0,data:$r(U+726270)}],_[4].push({type:2,data:Fi(L)}),_[5].push({type:0,data:$r(U)}),_[6].push({type:0,data:$r(U)});k[A].messages[0].data=Fi(_)}S.content=Ap(Cp(k)),S.size=S.content.length,delete j[46];var z=Tr(j[4][0].data);{z[7][0].data=$r(r.e.r+1);var O=Tr(z[1][0].data),B=al(O[2][0].data);S=ya.find(d,o[B].location),k=oc(cc(S.content));{if(k[0].id!=B)throw"Bad HeaderStorageBucket";var E=Tr(k[0].messages[0].data);for(U=0;U<i.length;++U){var R=Tr(E[2][0].data);R[1][0].data=$r(U),R[4][0].data=$r(i[U].length),E[2][U]={type:E[2][0].type,data:Fi(R)}}k[0].messages[0].data=Fi(E)}S.content=Ap(Cp(k)),S.size=S.content.length;var q=al(z[2][0].data);S=ya.find(d,o[q].location),k=oc(cc(S.content));{if(k[0].id!=q)throw"Bad HeaderStorageBucket";for(E=Tr(k[0].messages[0].data),M=0;M<=r.e.c;++M)R=Tr(E[2][0].data),R[1][0].data=$r(M),R[4][0].data=$r(r.e.r+1),E[2][M]={type:E[2][0].type,data:Fi(R)};k[0].messages[0].data=Fi(E)}S.content=Ap(Cp(k)),S.size=S.content.length;var I=al(z[4][0].data);(function(){for(var Q=ya.find(d,o[I].location),H=oc(cc(Q.content)),J,ae=0;ae<H.length;++ae){var ie=H[ae];ie.id==I&&(J=ie)}var le=Tr(J.messages[0].data);{le[3]=[];var Y=[];l.forEach(function(W,he){Y[1]=[{type:0,data:$r(he)}],Y[2]=[{type:0,data:$r(1)}],Y[3]=[{type:2,data:Nbe(W)}],le[3].push({type:2,data:Fi(Y)})})}J.messages[0].data=Fi(le);var oe=Cp(H),xe=Ap(oe);Q.content=xe,Q.size=Q.content.length})();var G=Tr(z[3][0].data);{var re=G[1][0];delete G[2];var te=Tr(re.data);{var X=al(te[2][0].data);(function(){for(var Q=ya.find(d,o[X].location),H=oc(cc(Q.content)),J,ae=0;ae<H.length;++ae){var ie=H[ae];ie.id==X&&(J=ie)}var le=Tr(J.messages[0].data);{delete le[6],delete G[7];var Y=new Uint8Array(le[5][0].data);le[5]=[];for(var oe=0,xe=0;xe<=r.e.r;++xe){var W=Tr(Y);oe+=Fbe(W,i[xe],l),W[1][0].data=$r(xe),le[5].push({data:Fi(W),type:2})}le[1]=[{type:0,data:$r(r.e.c+1)}],le[2]=[{type:0,data:$r(r.e.r+1)}],le[3]=[{type:0,data:$r(oe)}],le[4]=[{type:0,data:$r(r.e.r+1)}]}J.messages[0].data=Fi(le);var he=Cp(H),fe=Ap(he);Q.content=fe,Q.size=Q.content.length})()}re.data=Fi(te)}z[3][0].data=Fi(G)}j[4][0].data=Fi(z)}p.messages[0].data=Fi(j);var ce=Cp(x),D=Ap(ce);return f.content=D,f.size=f.content.length,d}function CV(e){return function(a){for(var r=0;r!=e.length;++r){var n=e[r];a[n[0]]===void 0&&(a[n[0]]=n[1]),n[2]==="n"&&(a[n[0]]=Number(a[n[0]]))}}}function QA(e){CV([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function JA(e){CV([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Bbe(e){return ir.WS.indexOf(e)>-1?"sheet":e==ir.CS?"chart":e==ir.DS?"dialog":e==ir.MS?"macro":e&&e.length?e:"sheet"}function $be(e,t){if(!e)return 0;try{e=t.map(function(r){return r.id||(r.id=r.strRelID),[r.name,e["!id"][r.id].Target,Bbe(e["!id"][r.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Ube(e,t,a,r,n,i,l,o,c,d,u,f){try{i[r]=x1(Do(e,a,!0),t);var x=Ln(e,t),p;switch(o){case"sheet":p=cve(x,t,n,c,i[r],d,u,f);break;case"chart":if(p=dve(x,t,n,c,i[r],d,u,f),!p||!p["!drawel"])break;var v=n1(p["!drawel"].Target,t),g=J1(v),b=Xme(Do(e,v,!0),x1(Do(e,g,!0),v)),j=n1(b,v),N=J1(j);p=F1e(Do(e,j,!0),j,c,x1(Do(e,N,!0),j),d,p);break;case"macro":p=uve(x,t,n,c,i[r],d,u,f);break;case"dialog":p=hve(x,t,n,c,i[r],d,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}l[r]=p;var S=[];i&&i[r]&&tn(i[r]).forEach(function(k){var A="";if(i[r][k].Type==ir.CMNT){A=n1(i[r][k].Target,t);var _=xve(Ln(e,A,!0),A,c);if(!_||!_.length)return;MP(p,_,!1)}i[r][k].Type==ir.TCMNT&&(A=n1(i[r][k].Target,t),S=S.concat(Jme(Ln(e,A,!0),c)))}),S&&S.length&&MP(p,S,!0,c.people||[])}catch(k){if(c.WTF)throw k}}function rc(e){return e.charAt(0)=="/"?e.slice(1):e}function AV(e,t){if(kx(),t=t||{},QA(t),hc(e,"META-INF/manifest.xml")||hc(e,"objectdata.xml"))return HP(e,t);if(hc(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof B5<"u"){if(e.FileIndex)return B5(e);var a=ya.utils.cfb_new();return ZM(e).forEach(function(R){Za(a,R,Zde(e,R))}),B5(a)}throw new Error("Unsupported NUMBERS file")}if(!hc(e,"[Content_Types].xml"))throw hc(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):hc(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=ZM(e),n=que(Do(e,"[Content_Types].xml")),i=!1,l,o;if(n.workbooks.length===0&&(o="xl/workbook.xml",Ln(e,o,!0)&&n.workbooks.push(o)),n.workbooks.length===0){if(o="xl/workbook.bin",!Ln(e,o,!0))throw new Error("Could not find workbook");n.workbooks.push(o),i=!0}n.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},d={};if(!t.bookSheets&&!t.bookProps){if(g1=[],n.sst)try{g1=pve(Ln(e,rc(n.sst)),n.sst,t)}catch(R){if(t.WTF)throw R}t.cellStyles&&n.themes.length&&(c=mve(Do(e,n.themes[0].replace(/^\//,""),!0)||"",n.themes[0],t)),n.style&&(d=fve(Ln(e,rc(n.style)),n.style,c,t))}n.links.map(function(R){try{var q=x1(Do(e,J1(rc(R))),R);return vve(Ln(e,rc(R)),q,R,t)}catch{}});var u=ove(Ln(e,rc(n.workbooks[0])),n.workbooks[0],t),f={},x="";n.coreprops.length&&(x=Ln(e,rc(n.coreprops[0]),!0),x&&(f=pH(x)),n.extprops.length!==0&&(x=Ln(e,rc(n.extprops[0]),!0),x&&Zue(x,f,t)));var p={};(!t.bookSheets||t.bookProps)&&n.custprops.length!==0&&(x=Do(e,rc(n.custprops[0]),!0),x&&(p=the(x,t)));var v={};if((t.bookSheets||t.bookProps)&&(u.Sheets?l=u.Sheets.map(function(q){return q.name}):f.Worksheets&&f.SheetNames.length>0&&(l=f.SheetNames),t.bookProps&&(v.Props=f,v.Custprops=p),t.bookSheets&&typeof l<"u"&&(v.SheetNames=l),t.bookSheets?v.SheetNames:t.bookProps))return v;l={};var g={};t.bookDeps&&n.calcchain&&(g=gve(Ln(e,rc(n.calcchain)),n.calcchain));var b=0,j={},N,S;{var k=u.Sheets;f.Worksheets=k.length,f.SheetNames=[];for(var A=0;A!=k.length;++A)f.SheetNames[A]=k[A].name}var _=i?"bin":"xml",M=n.workbooks[0].lastIndexOf("/"),L=(n.workbooks[0].slice(0,M+1)+"_rels/"+n.workbooks[0].slice(M+1)+".rels").replace(/^\//,"");hc(e,L)||(L="xl/_rels/workbook."+_+".rels");var U=x1(Do(e,L,!0),L.replace(/_rels.*/,"s5s"));(n.metadata||[]).length>=1&&(t.xlmeta=bve(Ln(e,rc(n.metadata[0])),n.metadata[0],t)),(n.people||[]).length>=1&&(t.people=epe(Ln(e,rc(n.people[0])),t)),U&&(U=$be(U,u.Sheets));var z=Ln(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(b=0;b!=f.Worksheets;++b){var O="sheet";if(U&&U[b]?(N="xl/"+U[b][1].replace(/[\/]?xl\//,""),hc(e,N)||(N=U[b][1]),hc(e,N)||(N=L.replace(/_rels\/.*$/,"")+U[b][1]),O=U[b][2]):(N="xl/worksheets/sheet"+(b+1-z)+"."+_,N=N.replace(/sheet0\./,"sheet.")),S=N.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(b!=t.sheets)continue e;break;case"string":if(f.SheetNames[b].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var B=!1,E=0;E!=t.sheets.length;++E)typeof t.sheets[E]=="number"&&t.sheets[E]==b&&(B=1),typeof t.sheets[E]=="string"&&t.sheets[E].toLowerCase()==f.SheetNames[b].toLowerCase()&&(B=1);if(!B)continue e}}Ube(e,N,S,f.SheetNames[b],b,j,l,O,t,u,c,d)}return v={Directory:n,Workbook:u,Props:f,Custprops:p,Deps:g,Sheets:l,SheetNames:f.SheetNames,Strings:g1,Styles:d,Themes:c,SSF:xs(Ca)},t&&t.bookFiles&&(e.files?(v.keys=r,v.files=e.files):(v.keys=[],v.files={},e.FullPaths.forEach(function(R,q){R=R.replace(/^Root Entry[\/]/,""),v.keys.push(R),v.files[R]=e.FileIndex[q]}))),t&&t.bookVBA&&(n.vba.length>0?v.vbaraw=Ln(e,rc(n.vba[0]),!0):n.defaults&&n.defaults.bin===ope&&(v.vbaraw=Ln(e,"xl/vbaProject.bin",!0))),v}function zbe(e,t){var a=t||{},r="Workbook",n=ya.find(e,r);try{if(r="/!DataSpaces/Version",n=ya.find(e,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(b0e(n.content),r="/!DataSpaces/DataSpaceMap",n=ya.find(e,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);var i=w0e(n.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",n=ya.find(e,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);var l=j0e(n.content);if(l.length!=1||l[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",n=ya.find(e,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);S0e(n.content)}catch{}if(r="/EncryptionInfo",n=ya.find(e,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=k0e(n.content);if(r="/EncryptedPackage",n=ya.find(e,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],n.content,a.password||"",a);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],n.content,a.password||"",a);throw new Error("File is password-protected")}function Hbe(e,t){return t.bookType=="ods"?kV(e,t):t.bookType=="numbers"?Ibe(e,t):t.bookType=="xlsb"?Vbe(e,t):Wbe(e,t)}function Vbe(e,t){Ip=1024,e&&!e.SSF&&(e.SSF=xs(Ca)),e&&e.SSF&&(kx(),Vj(e.SSF),t.revssf=qj(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,v1?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var a=t.bookType=="xlsb"?"bin":"xml",r=eV.indexOf(t.bookType)>-1,n=RA();JA(t=t||{});var i=jA(),l="",o=0;if(t.cellXfs=[],Wf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Za(i,l,xH(e.Props,t)),n.coreprops.push(l),Ur(t.rels,2,l,ir.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Za(i,l,bH(e.Props)),n.extprops.push(l),Ur(t.rels,3,l,ir.EXT_PROPS),e.Custprops!==e.Props&&tn(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Za(i,l,yH(e.Custprops)),n.custprops.push(l),Ur(t.rels,4,l,ir.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],x=(f||{})["!type"]||"sheet";switch(x){case"chart":default:l="xl/worksheets/sheet"+o+"."+a,Za(i,l,wve(o-1,l,t,e,u)),n.sheets.push(l),Ur(t.wbrels,-1,"worksheets/sheet"+o+"."+a,ir.WS[0])}if(f){var p=f["!comments"],v=!1,g="";p&&p.length>0&&(g="xl/comments"+o+"."+a,Za(i,g,Sve(p,g)),n.comments.push(g),Ur(u,-1,"../comments"+o+"."+a,ir.CMNT),v=!0),f["!legacy"]&&v&&Za(i,"xl/drawings/vmlDrawing"+o+".vml",JH(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&Za(i,J1(l),Gp(u))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+a,Za(i,l,Nve(t.Strings,l,t)),n.strs.push(l),Ur(t.wbrels,-1,"sharedStrings."+a,ir.SST)),l="xl/workbook."+a,Za(i,l,yve(e,l)),n.workbooks.push(l),Ur(t.rels,1,l,ir.WB),l="xl/theme/theme1.xml",Za(i,l,zA(e.Themes,t)),n.themes.push(l),Ur(t.wbrels,-1,"theme/theme1.xml",ir.THEME),l="xl/styles."+a,Za(i,l,jve(e,l,t)),n.styles.push(l),Ur(t.wbrels,-1,"styles."+a,ir.STY),e.vbaraw&&r&&(l="xl/vbaProject.bin",Za(i,l,e.vbaraw),n.vba.push(l),Ur(t.wbrels,-1,"vbaProject.bin",ir.VBA)),l="xl/metadata."+a,Za(i,l,kve(l)),n.metadata.push(l),Ur(t.wbrels,-1,"metadata."+a,ir.XLMETA),Za(i,"[Content_Types].xml",fH(n,t)),Za(i,"_rels/.rels",Gp(t.rels)),Za(i,"xl/_rels/workbook."+a+".rels",Gp(t.wbrels)),delete t.revssf,delete t.ssf,i}function Wbe(e,t){Ip=1024,e&&!e.SSF&&(e.SSF=xs(Ca)),e&&e.SSF&&(kx(),Vj(e.SSF),t.revssf=qj(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,v1?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var a="xml",r=eV.indexOf(t.bookType)>-1,n=RA();JA(t=t||{});var i=jA(),l="",o=0;if(t.cellXfs=[],Wf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Za(i,l,xH(e.Props,t)),n.coreprops.push(l),Ur(t.rels,2,l,ir.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Za(i,l,bH(e.Props)),n.extprops.push(l),Ur(t.rels,3,l,ir.EXT_PROPS),e.Custprops!==e.Props&&tn(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Za(i,l,yH(e.Custprops)),n.custprops.push(l),Ur(t.rels,4,l,ir.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},x=e.Sheets[e.SheetNames[o-1]],p=(x||{})["!type"]||"sheet";switch(p){case"chart":default:l="xl/worksheets/sheet"+o+"."+a,Za(i,l,uV(o-1,t,e,f)),n.sheets.push(l),Ur(t.wbrels,-1,"worksheets/sheet"+o+"."+a,ir.WS[0])}if(x){var v=x["!comments"],g=!1,b="";if(v&&v.length>0){var j=!1;v.forEach(function(N){N[1].forEach(function(S){S.T==!0&&(j=!0)})}),j&&(b="xl/threadedComments/threadedComment"+o+"."+a,Za(i,b,Zme(v,u,t)),n.threadedcomments.push(b),Ur(f,-1,"../threadedComments/threadedComment"+o+"."+a,ir.TCMNT)),b="xl/comments"+o+"."+a,Za(i,b,ZH(v)),n.comments.push(b),Ur(f,-1,"../comments"+o+"."+a,ir.CMNT),g=!0}x["!legacy"]&&g&&Za(i,"xl/drawings/vmlDrawing"+o+".vml",JH(o,x["!comments"])),delete x["!comments"],delete x["!legacy"]}f["!id"].rId1&&Za(i,J1(l),Gp(f))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+a,Za(i,l,$H(t.Strings,t)),n.strs.push(l),Ur(t.wbrels,-1,"sharedStrings."+a,ir.SST)),l="xl/workbook."+a,Za(i,l,xV(e)),n.workbooks.push(l),Ur(t.rels,1,l,ir.WB),l="xl/theme/theme1.xml",Za(i,l,zA(e.Themes,t)),n.themes.push(l),Ur(t.wbrels,-1,"theme/theme1.xml",ir.THEME),l="xl/styles."+a,Za(i,l,KH(e,t)),n.styles.push(l),Ur(t.wbrels,-1,"styles."+a,ir.STY),e.vbaraw&&r&&(l="xl/vbaProject.bin",Za(i,l,e.vbaraw),n.vba.push(l),Ur(t.wbrels,-1,"vbaProject.bin",ir.VBA)),l="xl/metadata."+a,Za(i,l,QH()),n.metadata.push(l),Ur(t.wbrels,-1,"metadata."+a,ir.XLMETA),u.length>1&&(l="xl/persons/person.xml",Za(i,l,tpe(u)),n.people.push(l),Ur(t.wbrels,-1,"persons/person.xml",ir.PEOPLE)),Za(i,"[Content_Types].xml",fH(n,t)),Za(i,"_rels/.rels",Gp(t.rels)),Za(i,"xl/_rels/workbook."+a+".rels",Gp(t.wbrels)),delete t.revssf,delete t.ssf,i}function ZA(e,t){var a="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":a=Oo(e.slice(0,12));break;case"binary":a=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3),a.charCodeAt(4),a.charCodeAt(5),a.charCodeAt(6),a.charCodeAt(7)]}function qbe(e,t){return ya.find(e,"EncryptedPackage")?zbe(e,t):YA(e,t)}function Gbe(e,t){var a,r=e,n=t||{};return n.type||(n.type=ar&&Buffer.isBuffer(e)?"buffer":"base64"),a=zz(r,n),AV(a,n)}function _V(e,t){var a=0;e:for(;a<e.length;)switch(e.charCodeAt(a)){case 10:case 13:case 32:++a;break;case 60:return Jk(e.slice(a),t);default:break e}return lx.to_workbook(e,t)}function Kbe(e,t){var a="",r=ZA(e,t);switch(t.type){case"base64":a=Oo(e);break;case"binary":a=e;break;case"buffer":a=e.toString("binary");break;case"array":a=um(e);break;default:throw new Error("Unrecognized type "+t.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(a=Qr(a)),t.type="binary",_V(a,t)}function Ybe(e,t){var a=e;return t.type=="base64"&&(a=Oo(a)),a=q1.utils.decode(1200,a.slice(2),"str"),t.type="binary",_V(a,t)}function Xbe(e){return e.match(/[^\x00-\x7F]/)?Yd(e):e}function $5(e,t,a,r){return r?(a.type="string",lx.to_workbook(e,a)):lx.to_workbook(t,a)}function xm(e,t){gA();var a=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return xm(new Uint8Array(e),(a=xs(a),a.type="array",a));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!a.type&&(a.type=typeof Deno<"u"?"buffer":"array");var r=e,n=[0,0,0,0],i=!1;if(a.cellStyles&&(a.cellNF=!0,a.sheetStubs=!0),Yp={},a.dateNF&&(Yp.dateNF=a.dateNF),a.type||(a.type=ar&&Buffer.isBuffer(e)?"buffer":"base64"),a.type=="file"&&(a.type=ar?"buffer":"binary",r=Wde(e),typeof Uint8Array<"u"&&!ar&&(a.type="array")),a.type=="string"&&(i=!0,a.type="binary",a.codepage=65001,r=Xbe(e)),a.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var l=new ArrayBuffer(3),o=new Uint8Array(l);if(o.foo="bar",!o.foo)return a=xs(a),a.type="array",xm(vA(r),a)}switch((n=ZA(r,a))[0]){case 208:if(n[1]===207&&n[2]===17&&n[3]===224&&n[4]===161&&n[5]===177&&n[6]===26&&n[7]===225)return qbe(ya.read(r,a),a);break;case 9:if(n[1]<=8)return YA(r,a);break;case 60:return Jk(r,a);case 73:if(n[1]===73&&n[2]===42&&n[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(n[1]===68)return a0e(r,a);break;case 84:if(n[1]===65&&n[2]===66&&n[3]===76)return IH.to_workbook(r,a);break;case 80:return n[1]===75&&n[2]<9&&n[3]<9?Gbe(r,a):$5(e,r,a,i);case 239:return n[3]===60?Jk(r,a):$5(e,r,a,i);case 255:if(n[1]===254)return Ybe(r,a);if(n[1]===0&&n[2]===2&&n[3]===0)return Y0.to_workbook(r,a);break;case 0:if(n[1]===0&&(n[2]>=2&&n[3]===0||n[2]===0&&(n[3]===8||n[3]===9)))return Y0.to_workbook(r,a);break;case 3:case 131:case 139:case 140:return Qk.to_workbook(r,a);case 123:if(n[1]===92&&n[2]===114&&n[3]===116)return WH.to_workbook(r,a);break;case 10:case 13:case 32:return Kbe(r,a);case 137:if(n[1]===80&&n[2]===78&&n[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return t0e.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?Qk.to_workbook(r,a):$5(e,r,a,i)}function TV(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Uv(t.file,ya.write(e,{type:ar?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return ya.write(e,t)}function Qbe(e,t){var a=xs(t||{}),r=Hbe(e,a);return Jbe(r,a)}function Jbe(e,t){var a={},r=ar?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(a.compression="DEFLATE"),t.password)a.type=r;else switch(t.type){case"base64":a.type="base64";break;case"binary":a.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":a.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var n=e.FullPaths?ya.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[a.type]||a.type,compression:!!t.compression}):e.generate(a);if(typeof Deno<"u"&&typeof n=="string"){if(t.type=="binary"||t.type=="base64")return n;n=new Uint8Array(Hj(n))}return t.password&&typeof encrypt_agile<"u"?TV(encrypt_agile(n,t.password),t):t.type==="file"?Uv(t.file,n):t.type=="string"?Qr(n):n}function Zbe(e,t){var a=t||{},r=Qve(e,a);return TV(r,a)}function qd(e,t,a){a||(a="");var r=a+e;switch(t.type){case"base64":return G1(Yd(r));case"binary":return Yd(r);case"string":return e;case"file":return Uv(t.file,r,"utf8");case"buffer":return ar?yh(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):qd(r,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function eye(e,t){switch(t.type){case"base64":return G1(e);case"binary":return e;case"string":return e;case"file":return Uv(t.file,e,"binary");case"buffer":return ar?yh(e,"binary"):e.split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Wy(e,t){switch(t.type){case"string":case"base64":case"binary":for(var a="",r=0;r<e.length;++r)a+=String.fromCharCode(e[r]);return t.type=="base64"?G1(a):t.type=="string"?Qr(a):a;case"file":return Uv(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function e_(e,t){gA(),G1e(e);var a=xs(t||{});if(a.cellStyles&&(a.cellNF=!0,a.sheetStubs=!0),a.type=="array"){a.type="binary";var r=e_(e,a);return a.type="array",Hj(r)}var n=0;if(a.sheet&&(typeof a.sheet=="number"?n=a.sheet:n=e.SheetNames.indexOf(a.sheet),!e.SheetNames[n]))throw new Error("Sheet not found: "+a.sheet+" : "+typeof a.sheet);switch(a.bookType||"xlsb"){case"xml":case"xlml":return qd(Vve(e,a),a);case"slk":case"sylk":return qd(FH.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"htm":case"html":return qd(wV(e.Sheets[e.SheetNames[n]],a),a);case"txt":return eye(EV(e.Sheets[e.SheetNames[n]],a),a);case"csv":return qd(t_(e.Sheets[e.SheetNames[n]],a),a,"\uFEFF");case"dif":return qd(IH.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"dbf":return Wy(Qk.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"prn":return qd(lx.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"rtf":return qd(WH.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"eth":return qd(BH.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"fods":return qd(kV(e,a),a);case"wk1":return Wy(Y0.sheet_to_wk1(e.Sheets[e.SheetNames[n]],a),a);case"wk3":return Wy(Y0.book_to_wk3(e,a),a);case"biff2":a.biff||(a.biff=2);case"biff3":a.biff||(a.biff=3);case"biff4":return a.biff||(a.biff=4),Wy(yV(e,a),a);case"biff5":a.biff||(a.biff=5);case"biff8":case"xla":case"xls":return a.biff||(a.biff=8),Zbe(e,a);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Qbe(e,a);default:throw new Error("Unrecognized bookType |"+a.bookType+"|")}}function tye(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},a=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();a.match(/^\.[a-z]+$/)&&(e.bookType=a.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function gs(e,t,a){var r={};return r.type="file",r.file=t,tye(r),e_(e,r)}function aye(e,t,a,r,n,i,l,o){var c=Sn(a),d=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,x=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(x,"__rowNum__",{value:a,enumerable:!1})}catch{x.__rowNum__=a}else x.__rowNum__=a;if(!l||e[a])for(var p=t.s.c;p<=t.e.c;++p){var v=l?e[a][p]:e[r[p]+c];if(v===void 0||v.t===void 0){if(d===void 0)continue;i[p]!=null&&(x[i[p]]=d);continue}var g=v.v;switch(v.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(i[p]!=null){if(g==null)if(v.t=="e"&&g===null)x[i[p]]=null;else if(d!==void 0)x[i[p]]=d;else if(u&&g===null)x[i[p]]=null;else continue;else x[i[p]]=u&&(v.t!=="n"||v.t==="n"&&o.rawNumbers!==!1)?g:ch(v,g,o);g!=null&&(f=!1)}}return{row:x,isempty:f}}function pw(e,t){if(e==null||e["!ref"]==null)return[];var a={t:"n",v:0},r=0,n=1,i=[],l=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},u=d.range!=null?d.range:e["!ref"];switch(d.header===1?r=1:d.header==="A"?r=2:Array.isArray(d.header)?r=3:d.header==null&&(r=0),typeof u){case"string":c=kr(u);break;case"number":c=kr(e["!ref"]),c.s.r=u;break;default:c=u}r>0&&(n=0);var f=Sn(c.s.r),x=[],p=[],v=0,g=0,b=Array.isArray(e),j=c.s.r,N=0,S={};b&&!e[j]&&(e[j]=[]);var k=d.skipHidden&&e["!cols"]||[],A=d.skipHidden&&e["!rows"]||[];for(N=c.s.c;N<=c.e.c;++N)if(!(k[N]||{}).hidden)switch(x[N]=Hs(N),a=b?e[j][N]:e[x[N]+f],r){case 1:i[N]=N-c.s.c;break;case 2:i[N]=x[N];break;case 3:i[N]=d.header[N-c.s.c];break;default:if(a==null&&(a={w:"__EMPTY",t:"s"}),o=l=ch(a,null,d),g=S[l]||0,!g)S[l]=1;else{do o=l+"_"+g++;while(S[o]);S[l]=g,S[o]=1}i[N]=o}for(j=c.s.r+n;j<=c.e.r;++j)if(!(A[j]||{}).hidden){var _=aye(e,c,j,x,r,i,b,d);(_.isempty===!1||(r===1?d.blankrows!==!1:d.blankrows))&&(p[v++]=_.row)}return p.length=v,p}var KP=/"/g;function rye(e,t,a,r,n,i,l,o){for(var c=!0,d=[],u="",f=Sn(a),x=t.s.c;x<=t.e.c;++x)if(r[x]){var p=o.dense?(e[a]||[])[x]:e[r[x]+f];if(p==null)u="";else if(p.v!=null){c=!1,u=""+(o.rawNumbers&&p.t=="n"?p.v:ch(p,null,o));for(var v=0,g=0;v!==u.length;++v)if((g=u.charCodeAt(v))===n||g===i||g===34||o.forceQuotes){u='"'+u.replace(KP,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(c=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(KP,'""')+'"')):u="";d.push(u)}return o.blankrows===!1&&c?null:d.join(l)}function t_(e,t){var a=[],r=t??{};if(e==null||e["!ref"]==null)return"";var n=kr(e["!ref"]),i=r.FS!==void 0?r.FS:",",l=i.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,c=o.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];r.dense=Array.isArray(e);for(var x=r.skipHidden&&e["!cols"]||[],p=r.skipHidden&&e["!rows"]||[],v=n.s.c;v<=n.e.c;++v)(x[v]||{}).hidden||(f[v]=Hs(v));for(var g=0,b=n.s.r;b<=n.e.r;++b)(p[b]||{}).hidden||(u=rye(e,n,b,f,l,c,i,r),u!=null&&(r.strip&&(u=u.replace(d,"")),(u||r.blankrows!==!1)&&a.push((g++?o:"")+u)));return delete r.dense,a.join("")}function EV(e,t){t||(t={}),t.FS="	",t.RS=`
`;var a=t_(e,t);return a}function sye(e){var t="",a,r="";if(e==null||e["!ref"]==null)return[];var n=kr(e["!ref"]),i="",l=[],o,c=[],d=Array.isArray(e);for(o=n.s.c;o<=n.e.c;++o)l[o]=Hs(o);for(var u=n.s.r;u<=n.e.r;++u)for(i=Sn(u),o=n.s.c;o<=n.e.c;++o)if(t=l[o]+i,a=d?(e[u]||[])[o]:e[t],r="",a!==void 0){if(a.F!=null){if(t=a.F,!a.f)continue;r=a.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(a.f!=null)r=a.f;else{if(a.t=="z")continue;if(a.t=="n"&&a.v!=null)r=""+a.v;else if(a.t=="b")r=a.v?"TRUE":"FALSE";else if(a.w!==void 0)r="'"+a.w;else{if(a.v===void 0)continue;a.t=="s"?r="'"+a.v:r=""+a.v}}c[c.length]=t+"="+r}return c}function DV(e,t,a){var r=a||{},n=+!r.skipHeader,i=e||{},l=0,o=0;if(i&&r.origin!=null)if(typeof r.origin=="number")l=r.origin;else{var c=typeof r.origin=="string"?Vs(r.origin):r.origin;l=c.r,o=c.c}var d,u={s:{c:0,r:0},e:{c:o,r:l+t.length-1+n}};if(i["!ref"]){var f=kr(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),l==-1&&(l=f.e.r+1,u.e.r=l+t.length-1+n)}else l==-1&&(l=0,u.e.r=t.length-1+n);var x=r.header||[],p=0;t.forEach(function(g,b){tn(g).forEach(function(j){(p=x.indexOf(j))==-1&&(x[p=x.length]=j);var N=g[j],S="z",k="",A=_a({c:o+p,r:l+b+n});d=nv(i,A),N&&typeof N=="object"&&!(N instanceof Date)?i[A]=N:(typeof N=="number"?S="n":typeof N=="boolean"?S="b":typeof N=="string"?S="s":N instanceof Date?(S="d",r.cellDates||(S="n",N=ei(N)),k=r.dateNF||Ca[14]):N===null&&r.nullError&&(S="e",N=0),d?(d.t=S,d.v=N,delete d.w,delete d.R,k&&(d.z=k)):i[A]=d={t:S,v:N},k&&(d.z=k))})}),u.e.c=Math.max(u.e.c,o+x.length-1);var v=Sn(l);if(n)for(p=0;p<x.length;++p)i[Hs(p+o)+v]={t:"s",v:x[p]};return i["!ref"]=Xa(u),i}function nye(e,t){return DV(null,e,t)}function nv(e,t,a){if(typeof t=="string"){if(Array.isArray(e)){var r=Vs(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?nv(e,_a(t)):nv(e,_a({r:t,c:a||0}))}function iye(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var a=e.SheetNames.indexOf(t);if(a>-1)return a;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function a_(){return{SheetNames:[],Sheets:{}}}function r_(e,t,a,r){var n=1;if(!a)for(;n<=65535&&e.SheetNames.indexOf(a="Sheet"+n)!=-1;++n,a=void 0);if(!a||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(a)>=0){var i=a.match(/(^.*?)(\d+)$/);n=i&&+i[2]||0;var l=i&&i[1]||a;for(++n;n<=65535&&e.SheetNames.indexOf(a=l+n)!=-1;++n);}if(pV(a),e.SheetNames.indexOf(a)>=0)throw new Error("Worksheet with name |"+a+"| already exists!");return e.SheetNames.push(a),e.Sheets[a]=t,a}function lye(e,t,a){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=iye(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),a){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+a)}e.Workbook.Sheets[r].Hidden=a}function oye(e,t){return e.z=t,e}function MV(e,t,a){return t?(e.l={Target:t},a&&(e.l.Tooltip=a)):delete e.l,e}function cye(e,t,a){return MV(e,"#"+t,a)}function dye(e,t,a){e.c||(e.c=[]),e.c.push({t,a:a||"SheetJS"})}function uye(e,t,a,r){for(var n=typeof t!="string"?t:kr(t),i=typeof t=="string"?t:Xa(t),l=n.s.r;l<=n.e.r;++l)for(var o=n.s.c;o<=n.e.c;++o){var c=nv(e,l,o);c.t="n",c.F=i,delete c.v,l==n.s.r&&o==n.s.c&&(c.f=a,r&&(c.D=!0))}return e}var Jt={encode_col:Hs,encode_row:Sn,encode_cell:_a,encode_range:Xa,decode_col:EA,decode_row:TA,split_cell:Nue,decode_cell:Vs,decode_range:so,format_cell:ch,sheet_add_aoa:iH,sheet_add_json:DV,sheet_add_dom:jV,aoa_to_sheet:Cx,json_to_sheet:nye,table_to_sheet:NV,table_to_book:bbe,sheet_to_csv:t_,sheet_to_txt:EV,sheet_to_json:pw,sheet_to_html:wV,sheet_to_formulae:sye,sheet_to_row_object_array:pw,sheet_get_cell:nv,book_new:a_,book_append_sheet:r_,book_set_sheet_visibility:lye,cell_set_number_format:oye,cell_set_hyperlink:MV,cell_set_internal_link:cye,cell_add_comment:dye,sheet_set_array_formula:uye,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const PV=Object.freeze(Object.defineProperty({__proto__:null,CFB:ya,parse_xlscfb:YA,parse_zip:AV,read:xm,utils:Jt,write:e_,writeFile:gs,writeFileSync:gs},Symbol.toStringTag,{value:"Module"})),hye=({isOpen:e,onClose:t,excelFile:a,setExcelFile:r,importing:n,importError:i,importSummary:l,onImport:o})=>{const{t:c,i18n:d}=Et(),u=()=>{const p=[{LEAD:" ",Email:"ahmed@example.com",Phone:"01234567890",Company:" ",Status:"new",Priority:"medium",Source:"website","Assigned To":" ","Created At":"2024-01-01","Last Contact":"2024-01-01","Estimated Value":"10000",Probability:"50",Notes:" "}],v=Jt.json_to_sheet(p),g=Jt.book_new();Jt.book_append_sheet(g,v,"Leads Template"),gs(g,"leads_template.xlsx")},f=p=>new Promise((v,g)=>{const b=new FileReader;b.onload=j=>{try{const N=new Uint8Array(j.target.result),S=xm(N,{type:"array"}),k=S.SheetNames[0],A=S.Sheets[k],_=Jt.sheet_to_json(A,{header:1});if(_.length===0){g(new Error(" "));return}const M=_[0].map(z=>z?.toString()?.toLowerCase()?.trim()),L=["lead","email","phone"],U=[];L.forEach(z=>{M.some(B=>B.includes(z)||B.includes("name")&&z==="lead"||B.includes("")&&z==="lead"||B.includes("")&&z==="email"||B.includes("")&&z==="phone")||U.push(z)}),U.length>0?g(new Error(`  : ${U.join(", ")}`)):v(!0)}catch{g(new Error("   "))}},b.readAsArrayBuffer(p)}),x=async p=>{if(p)try{await f(p),r(p)}catch(v){alert(v.message)}};return e?s.jsxs("div",{className:`fixed inset-0 z-[2000] ${d.language==="ar"?"rtl":"ltr"} flex items-center justify-center`,children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),s.jsxs("div",{className:"relative max-w-2xl w-full mx-4 rounded-2xl bg-white dark:bg-gray-800 shadow-2xl border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-9 h-9 flex items-center justify-center rounded-xl bg-blue-600 text-white shadow-md",children:s.jsx(eh,{className:"w-4 h-4"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:c("import.title")})]}),s.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":c("Close"),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:[s.jsx("path",{d:"M18 6L6 18"}),s.jsx("path",{d:"M6 6l12 12"})]})})]}),s.jsxs("div",{className:"px-6 py-6",children:[s.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(YU,{className:"w-5 h-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:c("template.downloadExcel")}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:c("template.downloadDescription")})]})]}),s.jsxs("button",{onClick:u,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-green-600 hover:bg-green-700 text-white text-sm font-medium transition-colors duration-200",children:[s.jsx(eh,{className:"w-3 h-3"}),c("template.downloadButton")]})]}),s.jsxs("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:[s.jsx("strong",{children:c("template.requiredFields")})," LEAD, Email, Phone"]})]}),s.jsxs("div",{className:"group relative flex flex-col items-center justify-center gap-3 p-6 rounded-2xl border-2 border-dashed border-blue-300 dark:border-blue-600 bg-white/70 dark:bg-gray-800/60 hover:bg-white dark:hover:bg-gray-800 transition-colors duration-300",onDragOver:p=>p.preventDefault(),onDrop:async p=>{p.preventDefault();const v=p.dataTransfer.files?.[0];v&&/\.xlsx$|\.xls$/i.test(v.name)&&await x(v)},children:[s.jsx("svg",{className:"w-10 h-10 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0l-3 3m3-3l3 3m7 4v12m0 0l-3-3m3 3l3-3"})}),s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 text-center",children:c("import.dropzone")}),s.jsx("input",{id:"modal-excel-file-input",type:"file",accept:".xlsx,.xls",onChange:async p=>{const v=p.target.files?.[0]||null;v?await x(v):r(null)},className:"hidden"}),s.jsx("button",{type:"button",onClick:()=>document.getElementById("modal-excel-file-input")?.click(),className:"px-4 py-2 rounded-md text-sm font-semibold bg-blue-50 text-blue-700 hover:bg-blue-100 dark:bg-gray-700 dark:text-gray-200",children:c("import.browseButton")}),a?s.jsx("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:c("import.selectedFile",{file:a.name})}):s.jsx("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:c("import.noFileSelected")})]}),s.jsxs("div",{className:"mt-5 flex flex-col sm:flex-row gap-3 sm:items-center",children:[s.jsxs("button",{onClick:o,disabled:!a||n,className:`inline-flex items-center gap-2 px-5 py-3 rounded-xl text-sm font-bold ${n?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white shadow-md transition-colors duration-300`,children:[s.jsx(eh,{className:"w-4 h-4"}),c(n?"import.importing":"import.importButton")]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:c("import.supportedFiles")})]}),i&&s.jsx("div",{className:"mt-4 px-4 py-3 rounded-lg bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800",children:c(i)}),l&&s.jsx("div",{className:"mt-4 px-4 py-3 rounded-lg bg-green-50 text-green-700 border border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800",children:c("import.summary",{count:l.added})}),s.jsx("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:c("import.supportedFields")})]}),s.jsx("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:s.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-sm",children:c("Close")})})]})]}):null},LV=({columns:e,visibleColumns:t,onColumnToggle:a,onResetColumns:r})=>{const{t:n}=Et(),[i,l]=w.useState(!1),[o,c]=w.useState(""),d=w.useRef(null);return w.useEffect(()=>{const u=f=>{d.current&&!d.current.contains(f.target)&&l(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[]),s.jsxs("div",{className:"relative",ref:d,children:[s.jsxs("button",{onClick:()=>l(!i),className:"inline-flex items-center gap-2 px-3 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-expanded":i,"aria-label":n("Display Options"),title:n("Display Options"),children:[s.jsx(Jle,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm font-medium",children:n("Display Options")})]}),i&&s.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-72 rounded-lg shadow-xl bg-[var(--panel-bg)] text-[var(--content-text)] ring-1 ring-[var(--panel-border)] z-50",children:s.jsxs("div",{className:"p-3 space-y-3",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm font-semibold",children:n("Show/Hide Columns")}),r&&s.jsxs("button",{type:"button",onClick:r,className:"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs bg-[var(--table-header-bg)] hover:bg-[var(--table-row-hover)] text-[var(--content-text)]",title:n("Reset Columns"),children:[s.jsx(hoe,{className:"h-3 w-3"}),n("Reset Columns")]})]}),s.jsx("input",{type:"text",value:o,onChange:u=>c(u.target.value),placeholder:n("Search columns..."),className:"w-full px-3 py-2 text-sm rounded-md border border-[var(--panel-border)] bg-[var(--panel-bg)] text-[var(--content-text)] focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("div",{className:"max-h-64 overflow-y-auto divide-y divide-[var(--divider)]",children:Object.keys(e).filter(u=>e[u].toLowerCase().includes(o.toLowerCase())).map(u=>s.jsxs("label",{className:"flex items-center gap-3 px-2 py-2 text-sm hover:bg-[var(--table-row-hover)] cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500",checked:t[u],onChange:()=>a(u)}),s.jsx("span",{children:e[u]})]},u))})]})})]})},fye=()=>{const{t:e,i18n:t}=Et(),{theme:a}=xl(),r=ti(),{stages:n,statuses:i}=Ov(),[l,o]=w.useState([]),[c,d]=w.useState([]),[u,f]=w.useState(""),[x,p]=w.useState("all"),[v,g]=w.useState("all"),[b,j]=w.useState("all"),[N,S]=w.useState("all"),[k,A]=w.useState("all"),[_,M]=w.useState("all"),[L,U]=w.useState("all"),[z,O]=w.useState("all"),[B,E]=w.useState(""),[R,q]=w.useState(""),[I,G]=w.useState(""),[re,te]=w.useState("all"),[X,ce]=w.useState(""),[D,Q]=w.useState("all"),[H,J]=w.useState("all"),[ae,ie]=w.useState(""),[le,Y]=w.useState(""),[oe,xe]=w.useState("all"),[W,he]=w.useState("all"),[fe,de]=w.useState("all"),[Oe,Fe]=w.useState("createdAt"),[Ee,se]=w.useState("desc"),[_e,je]=w.useState([]),[rt,ft]=w.useState(!1),[Bt,Je]=w.useState(null),[$e,ze]=w.useState(1),[Ze,dt]=w.useState(20),[At,kt]=w.useState(""),[Dt,zt]=w.useState(1),[qt,Te]=w.useState(1),[$t,We]=w.useState(!1),[Ut,Vt]=w.useState(null),[fa,Ka]=w.useState(null),[Oa,oa]=w.useState(!1),[Ba,Be]=w.useState(""),[st,Nt]=w.useState(null),[yt,ta]=w.useState(!1),[Aa,lr]=w.useState([]),qa=Cc();w.useEffect(()=>{try{const gt=new URLSearchParams(qa.search||"").get("stage");gt&&A(gt)}catch{}},[qa.search]);const[er,Ta]=w.useState(null),[Cr,ee]=w.useState({x:0,y:0}),[ke,ye]=w.useState(!1),Ne=w.useRef(null),[Ae,De]=w.useState(!1),Ye=w.useRef(null),ut=(Re=10)=>{const gt=l.reduce((es,Ar)=>Math.max(es,Number(Ar?.id)||0),0),Zt=n&&n.length>0?n.map(es=>typeof es=="string"?es:es?.name).filter(Boolean):["new","qualified","in-progress","converted","lost"],Wt=i&&i.length>0?i.map(es=>typeof es=="string"?es:es?.name).filter(Boolean):["new","qualified","in-progress","converted","lost"],vr=["high","medium","low"],Mr=["website","social-media","referral","email-campaign","direct"],Zr=[" "," ","Ahmed Ali"],En=[" ","Temporary Lead","Test Prospect","Lead Demo","Prospect Sample"],Qa=[" ","Temp Co.","Demo LLC","Sample Inc."," "],vs=new Date,ra=es=>{const Ar=es.getFullYear(),bs=String(es.getMonth()+1).padStart(2,"0"),nn=String(es.getDate()).padStart(2,"0");return`${Ar}-${bs}-${nn}`},co=Array.from({length:Re},(es,Ar)=>{const bs=gt+Ar+1,nn=String(Zt[Ar%Zt.length]),ln=String(Wt[Ar%Wt.length]),di=vr[Ar%vr.length],uo=Mr[Ar%Mr.length],_i=Zr[Ar%Zr.length],Il=`${En[Ar%En.length]} ${bs}`,Vi=`temp${bs}@example.com`,vl=`+9665${String(9e7+bs).slice(-8)}`,$o=new Date(vs);$o.setDate(vs.getDate()-(3+Ar%10));const on=new Date(vs);return on.setDate(vs.getDate()-(1+Ar%5)),{id:bs,name:Il,email:Vi,phone:vl,company:Qa[Ar%Qa.length],stage:nn,status:ln,priority:di,source:uo,assignedTo:_i,createdAt:ra($o),lastContact:ra(on),notes:"  ",estimatedValue:1e4+Ar*750,probability:Ar*11%101,isTemporary:!0}});o(es=>{const Ar=[...co,...es];return window.dispatchEvent(new CustomEvent("leadsDataUpdated")),Ar})},Ke=Re=>{const gt=(Re||"").toLowerCase();return gt.includes("convert")?"":gt.includes("progress")?"":gt.includes("lost")?"":gt.includes("new")?"":gt.includes("qual")?"":""};w.useEffect(()=>{const Re=gt=>{const Zt=(gt||"").toLowerCase();return Zt.includes("convert")?"#10b981":Zt.includes("progress")?"#f59e0b":Zt.includes("lost")?"#ef4444":Zt.includes("new")?"#3b82f6":Zt.includes("qual")?"#8b5cf6":"#3b82f6"};try{const gt=JSON.parse(localStorage.getItem("crmStages")||"[]"),Zt=Array.isArray(gt)?typeof gt[0]=="string"?gt.map(Wt=>({name:Wt,color:Re(Wt),icon:Ke(Wt)})):gt.map(Wt=>({name:Wt.name||String(Wt),color:Wt.color||Re(Wt.name||String(Wt)),icon:Wt.icon||Ke(Wt.name||String(Wt))})):[];Zt.length===0?lr([{name:"new",color:"#10b981",icon:""},{name:"qualified",color:"#3b82f6",icon:""},{name:"in-progress",color:"#f59e0b",icon:""},{name:"converted",color:"#059669",icon:""},{name:"lost",color:"#ef4444",icon:""}]):lr(Zt)}catch{lr([{name:"new",color:"#10b981",icon:""},{name:"qualified",color:"#3b82f6",icon:""},{name:"in-progress",color:"#f59e0b",icon:""},{name:"converted",color:"#059669",icon:""},{name:"lost",color:"#ef4444",icon:""}])}},[]);const et={lead:e("Lead"),contact:e("Contact"),source:e("Source"),project:e("Project"),sales:e("Sales"),lastComment:e("Last Comment"),stage:e("Stage"),expectedRevenue:e("Expected Revenue"),priority:e("Priority"),status:e("Status"),actions:e("Actions")},at=Re=>Re?.toString()?.toLowerCase()?.trim()?.replace(/\s+/g,""),vt={name:["name",""," ","lead","lead name"],email:["email",""," "],phone:["phone",""," ","contact"],company:["company",""],status:["status",""],priority:["priority",""],source:["source",""],assignedTo:["assignedto","assigned",""," ","salesperson"],createdAt:["createdat"," ","created"],lastContact:["lastcontact"," "],estimatedValue:["estimatedvalue"," ","value"],probability:["probability",""],notes:["notes",""]},Lt=(Re,gt)=>{const Zt=Object.keys(Re||{});for(const Wt of Zt){const vr=at(Wt);for(const Mr of gt)if(vr===at(Mr))return Re[Wt]}return""},Xt=async Re=>{const gt=await Re.arrayBuffer(),Zt=xm(gt,{type:"array"}),Wt=Zt.SheetNames[0],vr=Zt.Sheets[Wt],Mr=Jt.sheet_to_json(vr,{defval:""}),Zr=new Date().toISOString().slice(0,10);return Mr.map(Qa=>({id:Date.now()+Math.random(),name:String(Lt(Qa,vt.name)||"").trim(),email:String(Lt(Qa,vt.email)||"").trim(),phone:String(Lt(Qa,vt.phone)||"").trim(),company:String(Lt(Qa,vt.company)||"").trim(),status:String(Lt(Qa,vt.status)||"new").toLowerCase().trim(),priority:String(Lt(Qa,vt.priority)||"medium").toLowerCase().trim(),source:String(Lt(Qa,vt.source)||"import").trim(),assignedTo:String(Lt(Qa,vt.assignedTo)||"").trim(),createdAt:String(Lt(Qa,vt.createdAt)||Zr).trim(),lastContact:String(Lt(Qa,vt.lastContact)||Zr).trim(),estimatedValue:Number(Lt(Qa,vt.estimatedValue))||0,probability:Number(Lt(Qa,vt.probability))||0,notes:String(Lt(Qa,vt.notes)||"").trim()}))},Ce=async()=>{if(!fa){Be("import.selectFileError");return}oa(!0),Be(null),Nt(null);try{const Re=await Xt(fa);try{await fetch("/api/leads/bulk-import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({leads:Re})})}catch(gt){console.warn("API import endpoint not reachable, adding locally only.",gt?.message)}o(gt=>[...Re,...gt]),Ka(null),Nt({added:Re.length})}catch(Re){console.error(Re),Be("import.readFileError")}finally{oa(!1)}},[Ve,Ht]=w.useState({lead:!0,contact:!0,source:!0,project:!0,sales:!0,lastComment:!0,stage:!0,expectedRevenue:!0,priority:!0,status:!0,actions:!0}),ma=Re=>{Ht(gt=>({...gt,[Re]:!gt[Re]}))},va=()=>{const Re=Object.keys(et).reduce((gt,Zt)=>(gt[Zt]=!0,gt),{});Ht(Re)},Ha=Array.from({length:30},(Re,gt)=>{const Zt=gt+1,Wt=["new","in-progress","qualified","converted","lost"],vr=["high","medium","low"],Mr=["website","social-media","referral","email-campaign","direct"],Zr=[" "," ","Ahmed Ali"],En=[" "," Johnson"," ","Emma Wilson"," "],Qa=[" ","ABC Corporation"," ","Tech Solutions"," "],vs=Wt[gt%Wt.length],ra=vr[gt%vr.length],co=Mr[gt%Mr.length],es=Zr[gt%Zr.length],Ar=`${En[gt%En.length]} ${Zt}`,bs=`lead${Zt}@example.com`,nn=`+9665${String(12345670+Zt).slice(-8)}`,ln=`2024-01-${String(1+gt%28).padStart(2,"0")}`,di=`2024-01-${String(1+(gt+3)%28).padStart(2,"0")}`,uo=" ",_i=5e4+gt*1e3,Il=gt*7%101;return{id:Zt,name:Ar,email:bs,phone:nn,company:Qa[gt%Qa.length],stage:vs,status:vs,priority:ra,source:co,assignedTo:es,createdAt:ln,lastContact:di,notes:uo,estimatedValue:_i,probability:Il}});w.useEffect(()=>{try{const Re=localStorage.getItem("leadsData");if(Re){const gt=JSON.parse(Re);o(gt),d(gt),window.dispatchEvent(new CustomEvent("leadsDataUpdated"))}else o(Ha),d(Ha),localStorage.setItem("leadsData",JSON.stringify(Ha)),window.dispatchEvent(new CustomEvent("leadsDataUpdated"))}catch(Re){console.warn("Failed to load leadsData from localStorage, using sample.",Re?.message),o(Ha),d(Ha),window.dispatchEvent(new CustomEvent("leadsDataUpdated"))}},[]),w.useEffect(()=>{const Re=()=>{try{const Zt=JSON.parse(localStorage.getItem("leadsData")||"[]");o(Zt)}catch(Zt){console.warn("Failed to sync leadsData from localStorage.",Zt?.message)}},gt=Zt=>{Zt.key==="leadsData"&&Re()};return window.addEventListener("storage",gt),Re(),()=>{window.removeEventListener("storage",gt)}},[]),w.useEffect(()=>{try{localStorage.setItem("leadsData",JSON.stringify(l)),window.dispatchEvent(new CustomEvent("leadsDataUpdated"))}catch(Re){console.warn("Failed to save leadsData to localStorage.",Re?.message)}},[l]),w.useEffect(()=>{let Re=l.filter(gt=>{const Zt=gt.name.toLowerCase().includes(u.toLowerCase())||gt.email.toLowerCase().includes(u.toLowerCase())||gt.company.toLowerCase().includes(u.toLowerCase()),Wt=x==="all"||gt.status===x,vr=v==="all"||gt.source===v,Mr=b==="all"||gt.priority===b,Zr=N==="all"||gt.project===N,En=k==="all"||gt.stage===k,Qa=_==="all"||gt.manager===_,vs=L==="all"||gt.assignedTo===L,ra=z==="all"||gt.createdBy===z,co=re==="all"||gt.oldStage===re,es=D==="all"||gt.campaign===D,Ar=H==="all"||gt.country===H,bs=oe==="all"||gt.whatsappIntents===oe,nn=W==="all"||gt.callType===W,ln=fe==="all"||gt.duplicateStatus===fe,di=!B||gt.assignDate&&gt.assignDate.includes(B),uo=!R||gt.actionDate&&gt.actionDate.includes(R),_i=!I||gt.createdAt&&gt.createdAt.includes(I),Il=!X||gt.closedDate&&gt.closedDate.includes(X),Vi=!le||gt.email&&gt.email.toLowerCase().includes(le.toLowerCase()),vl=!ae||gt.expectedRevenue&&gt.expectedRevenue.toString().includes(ae);return Zt&&Wt&&vr&&Mr&&Zr&&En&&Qa&&vs&&ra&&co&&es&&Ar&&bs&&nn&&ln&&di&&uo&&_i&&Il&&Vi&&vl});Re.sort((gt,Zt)=>{let Wt=gt[Oe],vr=Zt[Oe];return(Oe==="createdAt"||Oe==="lastContact")&&(Wt=new Date(Wt),vr=new Date(vr)),Ee==="asc"?Wt>vr?1:-1:Wt<vr?1:-1}),d(Re),ze(1)},[l,u,x,v,b,Oe,Ee,N,k,_,L,z,B,R,I,re,X,D,H,ae,le,oe,W,fe]);const Ws=Re=>{switch(Re){case"new":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"qualified":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"in-progress":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"converted":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"lost":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},Rr=Re=>{switch(Re){case"high":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},Un=Re=>{switch(Re){case"Facebook":return"";case"Website":return"";case"Referral":return"";case"Campaign":return"";case"website":return"";case"social-media":return"";case"referral":return"";case"email-campaign":return"";case"direct":return"";default:return""}},oi=Re=>{Re.target.checked?je(Ai.map(gt=>gt.id)):je([])},Fl=Re=>{je(gt=>gt.includes(Re)?gt.filter(Zt=>Zt!==Re):[...gt,Re])},Tn=(Re,gt)=>{const Zt=gt.currentTarget.getBoundingClientRect();Ye.current=gt.currentTarget,Ta(Re),ee({x:Zt.left+Zt.width/2,y:Zt.top-10}),ye(!0)};w.useEffect(()=>{const Re=gt=>{ke&&(Ne.current&&Ne.current.contains(gt.target)||Ye.current&&Ye.current.contains(gt.target)||(ye(!1),Ta(null),Ye.current=null))};return document.addEventListener("mousedown",Re),()=>document.removeEventListener("mousedown",Re)},[ke]);const[cu,hr]=w.useState(""),[yd,du]=w.useState(""),[zn,Hn]=w.useState(null),{canAssignNow:ci}=(()=>{try{return{canAssignNow:require("../utils/rotation").canAssignNow}}catch{return{canAssignNow:()=>({ok:!0})}}})(),Tc=()=>{const Re=cu?.trim();if(!Re){Hn({key:"bulk.selectAssigneeError"});return}const gt=ci(new Date);if(!gt.ok){Hn({key:"bulk.assignBlocked",params:{reason:gt.reason}});return}o(Zt=>Zt.map(Wt=>_e.includes(Wt.id)?{...Wt,assignedTo:Re}:Wt)),Hn({key:"bulk.assignSuccess",params:{count:_e.length,target:Re}}),je([]),hr("")},fr=()=>{const Re=yd?.trim();if(!Re){Hn({key:"bulk.selectStatusError"});return}o(gt=>gt.map(Zt=>_e.includes(Zt.id)?{...Zt,status:Re}:Zt)),Hn({key:"bulk.statusUpdateSuccess",params:{count:_e.length,status:Re}}),je([]),du("")},Ec=()=>{const gt=l.filter(Wt=>_e.includes(Wt.id)).map(Wt=>({...Wt,deletedAt:new Date().toISOString()})),Zt=JSON.parse(localStorage.getItem("deletedLeads")||"[]");Zt.push(...gt),localStorage.setItem("deletedLeads",JSON.stringify(Zt)),o(Wt=>Wt.filter(vr=>!_e.includes(vr.id))),Hn({key:"bulk.deleteSuccess",params:{count:_e.length}}),je([])},Th=async()=>{const Re=l.filter(Wt=>_e.includes(Wt.id));if(Re.length===0)return;const gt=[],Zt=[];for(const Wt of Re){const vr=String(Wt?.name||Wt?.company||"").trim(),Mr=String(Wt?.phone||"").trim();if(!vr||!Mr||Mr.length<5){Zt.push(Wt);continue}const Zr=Array.isArray(Wt?.tags)?Wt.tags:Wt?.tags?String(Wt.tags).split(",").map(Qa=>Qa.trim()).filter(Boolean):Wt?.source?[String(Wt.source)]:[],En={name:vr,phone:Mr,email:String(Wt?.email||"").trim(),type:String(Wt?.type||(Wt?.company?"Company":"Individual")),companyName:Wt?.company||"",country:String(Wt?.country||"").trim(),city:String(Wt?.city||"").trim(),addressLine:String(Wt?.address||"").trim(),contacts:Wt?.company?[{name:String(Wt?.name||"").trim(),phone:String(Wt?.phone||"").trim(),email:String(Wt?.email||"").trim()}]:[],tags:Zr,notes:String(Wt?.notes||"").trim(),assignedSalesRep:String(Wt?.sales||Wt?.assignedTo||"").trim()};gt.push(En)}try{await Promise.all(gt.map(Wt=>ga.post("/api/customers",Wt))),Hn({key:"bulk.convertSuccess",params:{success:gt.length,failed:Zt.length}}),je([])}catch(Wt){console.error("bulk convert failed",Wt),Hn({key:"bulk.convertError"})}},uu=Re=>{const gt=l.find(Zt=>Zt.id===Re);if(gt){const Zt={...gt,deletedAt:new Date().toISOString()},Wt=JSON.parse(localStorage.getItem("deletedLeads")||"[]");Wt.push(Zt),localStorage.setItem("deletedLeads",JSON.stringify(Wt))}o(Zt=>Zt.filter(Wt=>Wt.id!==Re)),je(Zt=>Zt.filter(Wt=>Wt!==Re))},oo=async Re=>{try{const gt=String(Re?.name||Re?.company||"").trim(),Zt=String(Re?.phone||"").trim();if(!gt||!Zt||Zt.length<5){alert(t.language==="ar"?"  : / ":e("Cannot convert: missing name/phone"));return}const Wt=Array.isArray(Re?.tags)?Re.tags:Re?.tags?String(Re.tags).split(",").map(Mr=>Mr.trim()).filter(Boolean):Re?.source?[String(Re.source)]:[],vr={name:gt,phone:Zt,email:String(Re?.email||"").trim(),type:String(Re?.type||(Re?.company?"Company":"Individual")),companyName:Re?.company||"",country:String(Re?.country||"").trim(),city:String(Re?.city||"").trim(),addressLine:String(Re?.address||"").trim(),contacts:Re?.company?[{name:String(Re?.name||"").trim(),phone:String(Re?.phone||"").trim(),email:String(Re?.email||"").trim()}]:[],tags:Wt,notes:String(Re?.notes||"").trim(),assignedSalesRep:String(Re?.sales||Re?.assignedTo||"").trim()};await ga.post("/api/customers",vr),alert(t.language==="ar"?"     ":e("Lead converted to customer successfully"))}catch(gt){console.error("convert customer failed",gt),alert(t.language==="ar"?"   ":e("Failed to convert to customer"))}},sn=1e3,Io=($e-1)*Ze,Ai=c.slice(Io,Io+Ze),Bo=()=>{const Re=Math.max(1,Math.ceil(c.length/Ze)),gt=Math.max(1,Math.min(Number(Dt)||$e,Re)),Zt=Math.max(gt,Math.min(Number(qt)||gt,Re)),Wt=(gt-1)*Ze,vr=Math.min(Zt*Ze,c.length),Zr=c.slice(Wt,vr).map(ra=>({Name:ra.name,Email:ra.email,Phone:ra.phone,Company:ra.company,Status:e(ra.status),Priority:e(ra.priority),Source:e(ra.source),"Assigned To":ra.assignedTo,"Created At":new Date(ra.createdAt).toLocaleDateString(),"Last Contact":new Date(ra.lastContact).toLocaleDateString(),"Estimated Value":ra.estimatedValue})),En=Jt.json_to_sheet(Zr),Qa=Jt.book_new();Jt.book_append_sheet(Qa,En,"Leads");const vs=`leads_pages_${gt}-${Zt}.xlsx`;gs(Qa,vs)};return s.jsxs("div",{className:"p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-8 md:space-y-10 lg:space-y-12",children:[s.jsxs("div",{className:"flex w-full items-center justify-between gap-6 mb-4 lg:gap-0",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Lead Management")})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsxs("div",{className:"flex items-center gap-2 flex-nowrap justify-end",children:[s.jsxs("button",{onClick:()=>r("/leads/new"),className:"group relative inline-flex items-center gap-2 px-6 py-3 rounded-lg text-sm font-bold bg-gradient-to-br from-green-500 via-emerald-500 to-teal-600 hover:from-emerald-400 hover:via-green-500 hover:to-emerald-700 text-white border-2 border-emerald-300/30 shadow-[0_8px_30px_rgb(34,197,94,0.3)] hover:shadow-[0_20px_40px_rgb(34,197,94,0.6)] transition-all duration-300 ease-out hover:brightness-125 hover:scale-110 hover:-translate-y-1 focus:outline-none focus-visible:ring-4 focus-visible:ring-emerald-300/50 hover:ring-4 hover:ring-emerald-300/70 active:scale-95 active:translate-y-0 overflow-hidden",children:[s.jsx("span",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-100 pointer-events-none transition-all duration-300 bg-[linear-gradient(45deg,transparent_30%,rgba(255,255,255,0.5)_50%,transparent_70%)] animate-pulse"}),s.jsx("span",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-30 pointer-events-none transition-opacity duration-300 bg-gradient-to-r from-transparent via-white to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full group-hover:duration-700"}),s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v12M6 12h12"})}),s.jsx("span",{children:e("Add New Lead")})]}),s.jsxs("button",{onClick:()=>ta(!0),className:"group relative inline-flex items-center gap-2 px-6 py-3 rounded-lg text-sm font-bold bg-gradient-to-br from-blue-500 via-indigo-500 to-purple-600 hover:from-indigo-400 hover:via-blue-500 hover:to-indigo-700 text-white border-2 border-blue-300/30 shadow-[0_8px_30px_rgb(59,130,246,0.3)] hover:shadow-[0_20px_40px_rgb(59,130,246,0.6)] transition-all duration-300 ease-out hover:brightness-125 hover:scale-110 hover:-translate-y-1 focus:outline-none focus-visible:ring-4 focus-visible:ring-blue-300/50 hover:ring-4 hover:ring-blue-300/70 active:scale-95 active:translate-y-0 overflow-hidden",children:[s.jsx("span",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-100 pointer-events-none transition-all duration-300 bg-[linear-gradient(45deg,transparent_30%,rgba(255,255,255,0.5)_50%,transparent_70%)] animate-pulse"}),s.jsx("span",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-30 pointer-events-none transition-opacity duration-300 bg-gradient-to-r from-transparent via-white to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full group-hover:duration-700"}),s.jsxs("svg",{className:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M12 3v12"}),s.jsx("path",{d:"M8 11l4 4 4-4"}),s.jsx("path",{d:"M4 20h16"})]}),s.jsx("span",{children:e("Import Leads")})]}),s.jsxs("button",{onClick:()=>ut(15),className:"group relative inline-flex items-center gap-2 px-6 py-3 rounded-lg text-sm font-bold bg-gradient-to-br from-orange-500 via-amber-500 to-yellow-600 hover:from-amber-400 hover:via-orange-500 hover:to-amber-700 text-white border-2 border-orange-300/30 shadow-[0_8px_30px_rgb(245,158,11,0.3)] hover:shadow-[0_20px_40px_rgb(245,158,11,0.6)] transition-all duration-300 ease-out hover:brightness-125 hover:scale-110 hover:-translate-y-1 focus:outline-none focus-visible:ring-4 focus-visible:ring-orange-300/50 hover:ring-4 hover:ring-orange-300/70 active:scale-95 active:translate-y-0 overflow-hidden",children:[s.jsx("span",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-100 pointer-events-none transition-all duration-300 bg-[linear-gradient(45deg,transparent_30%,rgba(255,255,255,0.5)_50%,transparent_70%)] animate-pulse"}),s.jsx("span",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-30 pointer-events-none transition-opacity duration-300 bg-gradient-to-r from-transparent via-white to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full group-hover:duration-700"}),s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),s.jsx("span",{children:e("Add Demo Leads")})]})]})})]}),s.jsxs("section",{className:"p-4 rounded-xl shadow-lg glass-panel w-full mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-gray-200 dark:border-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-600 rounded-lg",children:s.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.707A1 1 0 013 7V4z"})})}),s.jsx("h3",{className:"text-lg font-bold text-primary",children:e("Filter Options")})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>De(!Ae),className:"btn btn-primary",children:[s.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${Ae?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),e(Ae?"Show Less":"Show More")]}),s.jsxs("button",{className:"btn btn-ghost",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e("Reset")]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("Search")]}),s.jsx("input",{type:"text",placeholder:e("Search leads..."),value:u,onChange:Re=>f(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Status")]}),s.jsxs("select",{value:x,onChange:Re=>p(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Status")}),i.map(Re=>s.jsxs("option",{value:Re.name,children:[Re.icon," ",t.language==="ar"&&Re.nameAr?Re.nameAr:Re.name]},Re.name))]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),e("Source")]}),s.jsxs("select",{value:v,onChange:Re=>g(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Sources")}),s.jsx("option",{value:"website",children:e("Website")}),s.jsx("option",{value:"social-media",children:e("Social Media")}),s.jsx("option",{value:"referral",children:e("Referrals")}),s.jsx("option",{value:"email-campaign",children:e("Email Campaign")}),s.jsx("option",{value:"direct",children:e("Direct")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Priority")]}),s.jsxs("select",{value:b,onChange:Re=>j(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Priority")}),s.jsx("option",{value:"high",children:e("High")}),s.jsx("option",{value:"medium",children:e("Medium")}),s.jsx("option",{value:"low",children:e("Low")})]})]})]}),Ae&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),e("Project")]}),s.jsxs("select",{value:N,onChange:Re=>S(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Projects")}),s.jsx("option",{value:"project-a",children:e("Project A")}),s.jsx("option",{value:"project-b",children:e("Project B")}),s.jsx("option",{value:"project-c",children:e("Project C")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e("Stage")]}),s.jsxs("select",{value:k,onChange:Re=>A(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Stages")}),n.map(Re=>s.jsxs("option",{value:Re.name,children:[Re.icon," ",t.language==="ar"&&Re.nameAr||Re.name]},Re.name))]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e("Manager")]}),s.jsxs("select",{value:_,onChange:Re=>M(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Managers")}),s.jsx("option",{value:"ibrahim",children:e("Ibrahim Ahmed")}),s.jsx("option",{value:"sara",children:e("Sara Nour")}),s.jsx("option",{value:"ahmed",children:e("Ahmed Ali")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-cyan-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e("Sales Person")]}),s.jsxs("select",{value:L,onChange:Re=>U(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Sales People")}),s.jsx("option",{value:" ",children:e("Ibrahim Ahmed")}),s.jsx("option",{value:" ",children:e("Sara Nour")}),s.jsx("option",{value:"Ahmed Ali",children:e("Ahmed Ali")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),e("Created By")]}),s.jsxs("select",{value:z,onChange:Re=>O(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Creators")}),s.jsx("option",{value:"system",children:e("System")}),s.jsx("option",{value:"admin",children:e("Admin")}),s.jsx("option",{value:"user",children:e("User")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e("Assign Date")]}),s.jsx("input",{type:"date",value:B,onChange:Re=>E(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Action Date")]}),s.jsx("input",{type:"date",value:R,onChange:Re=>q(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e("Creation Date")]}),s.jsx("input",{type:"date",value:I,onChange:Re=>G(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Old Stage")]}),s.jsxs("select",{value:re,onChange:Re=>te(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Old Stages")}),n.map(Re=>s.jsxs("option",{value:Re.name,children:[Re.icon," ",t.language==="ar"&&Re.nameAr||Re.name]},Re.name))]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),e("Closed Date")]}),s.jsx("input",{type:"date",value:X,onChange:Re=>ce(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"})}),e("Campaign")]}),s.jsxs("select",{value:D,onChange:Re=>Q(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Campaigns")}),s.jsx("option",{value:"summer-2024",children:e("Summer 2024")}),s.jsx("option",{value:"winter-2024",children:e("Winter 2024")}),s.jsx("option",{value:"spring-2025",children:e("Spring 2025")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Country")]}),s.jsxs("select",{value:H,onChange:Re=>J(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Countries")}),s.jsx("option",{value:"saudi-arabia",children:e("Saudi Arabia")}),s.jsx("option",{value:"uae",children:e("UAE")}),s.jsx("option",{value:"egypt",children:e("Egypt")}),s.jsx("option",{value:"jordan",children:e("Jordan")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),e("Expected Revenue")]}),s.jsx("input",{type:"number",placeholder:e("Min amount..."),value:ae,onChange:Re=>ie(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e("Email")]}),s.jsx("input",{type:"text",placeholder:e("Search by email..."),value:le,onChange:Re=>Y(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),e("WhatsApp Intents")]}),s.jsxs("select",{value:oe,onChange:Re=>xe(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Intents")}),s.jsx("option",{value:"inquiry",children:e("Inquiry")}),s.jsx("option",{value:"support",children:e("Support")}),s.jsx("option",{value:"purchase",children:e("Purchase")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e("Call Type")]}),s.jsxs("select",{value:W,onChange:Re=>he(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Call Types")}),s.jsx("option",{value:"inbound",children:e("Inbound")}),s.jsx("option",{value:"outbound",children:e("Outbound")}),s.jsx("option",{value:"follow-up",children:e("Follow-up")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),e("Duplicate Status")]}),s.jsxs("select",{value:fe,onChange:Re=>de(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Status")}),s.jsx("option",{value:"unique",children:e("Unique")}),s.jsx("option",{value:"duplicate",children:e("Duplicate")}),s.jsx("option",{value:"potential-duplicate",children:e("Potential Duplicate")})]})]})]})]})]}),s.jsx("div",{className:"h-10 md:h-12 lg:h-14","aria-hidden":"true"}),_e.length>0&&s.jsxs("div",{className:"glass-panel rounded-2xl shadow-lg p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-xl font-bold text-primary",children:[e("Bulk Actions")," (",_e.length," ",e("selected"),")"]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("button",{onClick:Ec,className:"btn btn-danger",children:[s.jsx(sx,{}),e("Delete")]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[s.jsx("label",{htmlFor:"bulk-status",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("Update Status")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("select",{id:"bulk-status",value:yd,onChange:Re=>du(Re.target.value),className:"flex-grow bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm p-2.5",children:[s.jsx("option",{value:"",children:e("Select Status")}),s.jsx("option",{value:"new",children:e("New")}),s.jsx("option",{value:"qualified",children:e("Qualified")}),s.jsx("option",{value:"in-progress",children:e("In Progress")}),s.jsx("option",{value:"converted",children:e("Converted")}),s.jsx("option",{value:"lost",children:e("Lost")})]}),s.jsx("button",{onClick:fr,className:"btn btn-primary",children:e("Apply Status")})]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[s.jsx("label",{htmlFor:"bulk-assign",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("Assign Owner")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("select",{id:"bulk-assign",value:cu,onChange:Re=>hr(Re.target.value),className:"flex-grow bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm p-2.5",children:[s.jsx("option",{value:"",children:e("Select Owner")}),Array.from(new Set(l.map(Re=>Re.assignedTo).filter(Boolean))).map(Re=>s.jsx("option",{value:Re,children:Re},Re))]}),s.jsx("button",{onClick:Tc,className:"px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition-transform transform hover:scale-105",children:e("Assign")})]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("Convert Selected to Customers")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:Th,className:"px-5 py-2.5 bg-teal-600 hover:bg-teal-700 text-white font-semibold rounded-lg shadow-md transition-transform transform hover:scale-105",children:e("Convert")}),_e.length>0&&s.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e("Selected"),": ",_e.length]})]})]})]}),zn&&s.jsx("div",{className:`mt-4 px-4 py-3 rounded-lg ${zn.key.includes("Error")?"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800":"bg-green-50 text-green-700 border border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800"}`,children:e(zn.key,zn.params)})]}),s.jsx("div",{className:"flex justify-end mt-6 mb-4",children:s.jsx(LV,{columns:et,visibleColumns:Ve,onColumnToggle:ma,onResetColumns:va})}),s.jsxs("div",{className:"glass-panel rounded-xl shadow-lg p-4 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-lg font-semibold text-primary flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a 2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e("Lead Stages")]}),s.jsx("button",{onClick:()=>A("all"),className:`btn ${k==="all"?"btn-primary":""}`,children:e("All Stages")})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(Re=>s.jsxs("button",{onClick:()=>A(Re.name),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 transform hover:scale-105 ${k===Re.name?"text-white shadow-lg scale-105":"bg-[var(--panel-bg)] text-[var(--app-text)] border border-[var(--panel-border)] hover:border-[var(--panel-border)] shadow-sm hover:shadow-md"}`,style:k===Re.name?{backgroundColor:Re.color||"#3B82F6"}:{},children:[s.jsx("span",{className:"text-lg",children:Re.icon}),s.jsx("span",{children:t.language==="ar"&&Re.nameAr||Re.name}),s.jsx("span",{className:`ml-1 px-2 py-0.5 text-xs rounded-full ${k===Re.name?"bg-white/20 text-white":"bg-[var(--panel-bg)] text-[var(--muted-text)] border border-[var(--panel-border)]"}`,children:c.filter(gt=>gt.stage===Re.name).length})]},Re.name))})]}),s.jsxs("div",{className:"glass-panel rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[s.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"checkbox-all-search",type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",checked:_e.length===Ai.length&&Ai.length>0,onChange:oi}),s.jsx("label",{htmlFor:"checkbox-all-search",className:"sr-only",children:"checkbox"})]})}),Ve.lead&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Lead")}),Ve.contact&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Contact")}),Ve.source&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Source")}),Ve.project&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Project")}),Ve.sales&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Sales")}),Ve.lastComment&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Last Comment")}),Ve.stage&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Stage")}),Ve.expectedRevenue&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Expected Revenue")}),Ve.priority&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Priority")}),Ve.status&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Status")}),Ve.actions&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Actions")})]})}),s.jsx("tbody",{children:Ai.map(Re=>s.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 cursor-pointer",onClick:gt=>Tn(Re,gt),children:[s.jsx("td",{className:"w-4 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:`checkbox-table-search-${Re.id}`,type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",checked:_e.includes(Re.id),onChange:()=>Fl(Re.id)}),s.jsx("label",{htmlFor:`checkbox-table-search-${Re.id}`,className:"sr-only",children:"checkbox"})]})}),Ve.lead&&s.jsx("th",{scope:"row",className:"flex items-center px-6 py-4 text-gray-900 whitespace-nowrap dark:text-white",children:s.jsx("div",{className:"pl-3",children:s.jsx("div",{className:"text-base font-semibold",children:Re.name})})}),Ve.contact&&s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"font-normal text-gray-500",children:Re.email}),s.jsx("div",{className:"font-normal text-gray-500",children:Re.phone})]}),Ve.source&&s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:Un(Re.source)}),s.jsx("span",{className:"text-sm",children:e(Re.source)})]})}),Ve.project&&s.jsx("td",{className:"px-6 py-4",children:Re.company}),Ve.sales&&s.jsx("td",{className:"px-6 py-4",children:Re.assignedTo}),Ve.lastComment&&s.jsx("td",{className:"px-6 py-4",children:Re.notes}),Ve.stage&&s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${Ws(Re.stage)}`,children:e(Re.stage)})}),Ve.expectedRevenue&&s.jsxs("td",{className:"px-6 py-4",children:["$",Re.estimatedValue.toLocaleString()]}),Ve.priority&&s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${Rr(Re.priority)}`,children:e(Re.priority)})}),Ve.status&&s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${Ws(Re.status)}`,children:e(Re.status)})}),Ve.actions&&s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>{Vt(Re),We(!0)},className:"text-blue-600 hover:text-blue-900 p-1",title:e("preview"),children:s.jsx(dd,{size:16})}),s.jsx("button",{onClick:()=>console.log("Call lead:",Re?.phone),className:"text-purple-600 hover:text-purple-900 p-1",title:"Call",children:s.jsx(th,{size:16})}),s.jsx("button",{onClick:()=>console.log("WhatsApp lead:",Re?.phone),className:"text-green-600 hover:text-green-900 p-1",title:"WhatsApp",children:s.jsx(Zu,{size:16})}),s.jsx("button",{onClick:()=>console.log("Email lead:",Re?.email),className:"text-gray-600 hover:text-gray-900 p-1",title:"Email",children:s.jsx(Cf,{size:16})}),s.jsx("button",{onClick:()=>console.log("Google Meet lead:",Re?.email),className:"text-red-600 hover:text-red-900 p-1",title:"Google Meet",children:s.jsx(tw,{size:16})}),s.jsx("button",{onClick:()=>oo(Re),className:"text-teal-600 hover:text-teal-900 p-1",title:e("Convert Customer"),children:s.jsx(JU,{size:16})}),_e.includes(Re.id)&&s.jsx("button",{onClick:()=>uu(Re.id),className:"text-red-600 hover:text-red-900 p-1",title:e("Delete"),children:s.jsx(sx,{size:16})})]})})]},Re.id))})]})}),Ai.length===0&&s.jsx("div",{className:"p-6 text-center text-gray-600 dark:text-gray-300",children:e("empty.noMoreCustomers")}),s.jsxs("nav",{className:"flex items-center justify-between p-4","aria-label":"Table navigation",children:[s.jsxs("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400",children:[e("Showing")," ",s.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[Io+1,"-",Math.min(Io+Ze,c.length)]})," ",e("of")," ",s.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:c.length})]}),s.jsxs("ul",{className:"inline-flex items-center -space-x-px gap-2",children:[s.jsx("li",{children:s.jsxs("button",{onClick:()=>ze(Re=>Math.max(Re-1,1)),disabled:$e===1,className:"block px-3 py-2 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50",children:[s.jsx("span",{className:"sr-only",children:e("Previous")}),s.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]})}),Array.from({length:Math.min(3,sn)},(Re,gt)=>gt+1).map(Re=>s.jsx("li",{children:s.jsx("button",{onClick:()=>ze(Re),className:`px-3 py-2 leading-tight ${$e===Re?"text-blue-600 border border-blue-300 bg-blue-50 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"}`,children:Re})},Re)),s.jsxs("li",{className:"flex items-center gap-2 ml-3",children:[s.jsx("input",{type:"number",min:1,max:sn,value:At,onChange:Re=>kt(Re.target.value),placeholder:e("Search"),className:"w-16 px-2 py-1 text-sm border rounded-md dark:bg-gray-800 dark:text-gray-200"}),s.jsx("button",{onClick:()=>{const Re=Math.max(1,Math.min(Number(At)||1,sn));ze(Re)},className:"px-2 py-1 text-sm bg-gray-100 hover:bg-gray-200 border rounded-md dark:bg-gray-700 dark:border-gray-600",children:s.jsx(rx,{className:"w-4 h-4"})})]}),s.jsxs("li",{className:"flex items-center gap-2 ml-3",children:[s.jsx("input",{type:"number",min:1,max:sn,value:Dt,onChange:Re=>zt(Re.target.value),placeholder:e("From"),className:"w-20 px-2 py-1 text-sm border rounded-md dark:bg-gray-800 dark:text-gray-200"}),s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:e("To")}),s.jsx("input",{type:"number",min:1,max:sn,value:qt,onChange:Re=>Te(Re.target.value),placeholder:e("To"),className:"w-20 px-2 py-1 text-sm border rounded-md dark:bg-gray-800 dark:text-gray-200"}),s.jsxs("button",{onClick:Bo,className:"px-3 py-1 text-sm bg-blue-600 text-white hover:bg-blue-700 border rounded-md dark:bg-blue-500 dark:border-blue-400 flex items-center gap-1",children:[s.jsx(eh,{className:"w-4 h-4"}),e("Export Data")]})]}),s.jsx("li",{children:s.jsxs("button",{onClick:()=>ze(Re=>Math.min(Re+1,sn)),disabled:$e===sn,className:"block px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50",children:[s.jsx("span",{className:"sr-only",children:e("Next")}),s.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})})]})]})]}),yt&&s.jsx(hye,{isOpen:yt,onClose:()=>ta(!1),excelFile:fa,setExcelFile:Ka,importing:Oa,importError:Ba,importSummary:st,onImport:Ce}),s.jsxs("button",{onClick:()=>r("/leads/new"),className:"fixed bottom-10 right-6 z-50 md:hidden p-4 bg-green-600 text-white rounded-full shadow-lg hover:bg-green-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500","aria-label":e("Add New Lead"),children:[s.jsx(zu,{className:"w-6 h-6"}),s.jsx("span",{className:"sr-only",children:e("Add New Lead")})]}),$t&&s.jsx(Rv,{isOpen:$t,onClose:()=>{We(!1),Vt(null)},lead:Ut,isArabic:t.language==="ar",theme:a}),ke&&er&&s.jsx(ZU,{lead:er,position:Cr,innerRef:Ne,onAction:Re=>{switch(ye(!1),Ta(null),Re){case"view":Vt(er),We(!0);break;case"call":window.open(`tel:${er.phone}`);break;case"whatsapp":window.open(`https://wa.me/${er.phone.replace(/[^0-9]/g,"")}`);break;case"email":window.open(`mailto:${er.email}`);break;case"video":console.log("Video call:",er);break;case"convert":oo(er);break;case"delete":if(window.confirm(e("Are you sure you want to delete this lead?"))){const gt={...er,deletedAt:new Date().toISOString()},Zt=JSON.parse(localStorage.getItem("deletedLeads")||"[]");Zt.push(gt),localStorage.setItem("deletedLeads",JSON.stringify(Zt)),o(Wt=>Wt.filter(vr=>vr.id!==er.id))}break}},isRtl:t.language==="ar"})]})},mye=({isOpen:e,onClose:t,lead:a,onRestore:r,onPermanentDelete:n,onView:i,position:l={x:0,y:0},theme:o="light",isArabic:c=!1})=>{if(!e||!a)return null;const d=o==="dark",u=d?"bg-gray-800":"bg-white",f=d?"border-gray-600":"border-gray-200",x=d?"text-gray-100":"text-gray-800",p=d?"hover:bg-gray-700":"hover:bg-gray-50",v=[{id:"view",title:c?" ":"View Details",icon:dd,color:"text-blue-600",onClick:()=>{i(a),t()}},{id:"restore",title:c?"":"Restore",icon:Ik,color:"text-green-600",onClick:()=>{r(a.id),t()}},{id:"delete",title:c?" ":"Permanent Delete",icon:Fk,color:"text-red-600",onClick:()=>{n(a.id),t()}}],g={position:"fixed",left:`${Math.min(l.x,window.innerWidth-320)}px`,top:`${Math.min(l.y+10,window.innerHeight-400)}px`,zIndex:1e3};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:t}),s.jsxs("div",{className:`${u} rounded-lg shadow-xl border ${f} w-80 max-w-sm`,style:g,children:[s.jsxs("div",{className:`flex items-center justify-between p-4 border-b ${f}`,children:[s.jsx("h3",{className:`text-lg font-semibold ${x}`,children:c?" ":"Available Actions"}),s.jsx("button",{onClick:t,className:`p-1 rounded-full ${p} ${x}`,children:s.jsx(ru,{size:16})})]}),s.jsx("div",{className:`p-4 border-b ${f}`,children:s.jsx("div",{className:`text-sm ${x}`,children:s.jsx("div",{className:"font-medium",children:a.name})})}),s.jsx("div",{className:"p-2",children:v.map(b=>s.jsxs("button",{onClick:b.onClick,className:`w-full flex items-center gap-3 p-3 rounded-lg ${p} transition-colors duration-200`,children:[s.jsx(b.icon,{className:`${b.color} text-lg`}),s.jsx("span",{className:`${x} font-medium`,children:b.title})]},b.id))})]})]})};function pye(){const{t:e,i18n:t}=Et(),{theme:a}=xl(),[r,n]=w.useState([]),[i,l]=w.useState([]),[o,c]=w.useState([]),[d,u]=w.useState(null),[f,x]=w.useState(!1),[p,v]=w.useState(!1),[g,b]=w.useState({x:0,y:0}),[j,N]=w.useState(!1),[S,k]=w.useState(null),[A]=w.useState({x:0,y:0}),_=w.useRef(null),[M,L]=w.useState(""),[U,z]=w.useState("all"),[O,B]=w.useState("all"),[E,R]=w.useState("all"),[q,I]=w.useState("all"),[G,re]=w.useState("all"),[te,X]=w.useState("all"),[ce,D]=w.useState("all"),[Q,H]=w.useState("all"),[J,ae]=w.useState(""),[ie,le]=w.useState(""),[Y,oe]=w.useState(""),[xe,W]=w.useState("all"),[he,fe]=w.useState(""),[de,Oe]=w.useState("all"),[Fe,Ee]=w.useState("all"),[se,_e]=w.useState(""),[je,rt]=w.useState(""),[ft,Bt]=w.useState("all"),[Je,$e]=w.useState("all"),[ze,Ze]=w.useState("all"),[dt,At]=w.useState(""),[kt,Dt]=w.useState(!1),[zt,qt]=w.useState("deletedAt"),[Te,$t]=w.useState("desc"),[We,Ut]=w.useState(1),[Vt]=w.useState(10),[fa,Ka]=w.useState(""),[Oa,oa]=w.useState(""),[Ba,Be]=w.useState(""),[st,Nt]=w.useState(null),yt=Cc();w.useEffect(()=>{try{const Ve=new URLSearchParams(yt.search||"").get("stage");Ve&&re(Ve)}catch(Ce){console.warn("Invalid stage param",Ce)}},[yt.search]);const ta={lead:e("Lead"),contact:e("Contact"),source:e("Source"),project:e("Project"),sales:e("Sales"),lastComment:e("Last Comment"),stage:e("Stage"),expectedRevenue:e("Expected Revenue"),priority:e("Priority"),status:e("Status"),deletedDate:e("Deleted Date"),actions:e("Actions")},[Aa,lr]=w.useState({lead:!0,contact:!0,source:!0,project:!0,sales:!0,lastComment:!0,stage:!0,expectedRevenue:!0,priority:!0,status:!0,deletedDate:!0,actions:!0}),[qa,er]=w.useState([]);w.useEffect(()=>{const Ce=()=>{try{const Ht=localStorage.getItem("crmStages");if(Ht){const ma=JSON.parse(Ht);er(ma)}else er([{name:"New",nameAr:"",icon:"",color:"#3B82F6"},{name:"Qualified",nameAr:"",icon:"",color:"#10B981"},{name:"In Progress",nameAr:" ",icon:"",color:"#F59E0B"},{name:"Converted",nameAr:" ",icon:"",color:"#8B5CF6"},{name:"Lost",nameAr:"",icon:"",color:"#EF4444"}])}catch(Ht){console.error("Failed to load stages:",Ht),er([])}};Ce();const Ve=Ht=>{Ht.key==="crmStages"&&Ce()};return window.addEventListener("storage",Ve),()=>window.removeEventListener("storage",Ve)},[]),w.useEffect(()=>{const Ce=localStorage.getItem("deletedLeads");Ce&&n(JSON.parse(Ce))},[]),w.useEffect(()=>{let Ce=[...r];M&&(Ce=Ce.filter(Ve=>Ve.name?.toLowerCase().includes(M.toLowerCase())||Ve.email?.toLowerCase().includes(M.toLowerCase())||Ve.phone?.includes(M)||Ve.company?.toLowerCase().includes(M.toLowerCase()))),U!=="all"&&(Ce=Ce.filter(Ve=>Ve.status===U)),O!=="all"&&(Ce=Ce.filter(Ve=>Ve.source===O)),E!=="all"&&(Ce=Ce.filter(Ve=>Ve.priority===E)),q!=="all"&&(Ce=Ce.filter(Ve=>Ve.company===q)),G!=="all"&&(Ce=Ce.filter(Ve=>Ve.stage===G)),te!=="all"&&(Ce=Ce.filter(Ve=>Ve.assignedTo===te)),ce!=="all"&&(Ce=Ce.filter(Ve=>Ve.assignedTo===ce)),Q!=="all"&&(Ce=Ce.filter(Ve=>Ve.createdBy===Q)),dt&&(Ce=Ce.filter(Ve=>{const Ht=new Date(Ve.deletedAt).toDateString(),ma=new Date(dt).toDateString();return Ht===ma})),je&&(Ce=Ce.filter(Ve=>Ve.email?.toLowerCase().includes(je.toLowerCase()))),se&&(Ce=Ce.filter(Ve=>Ve.estimatedValue>=parseFloat(se))),de!=="all"&&(Ce=Ce.filter(Ve=>Ve.campaign===de)),Fe!=="all"&&(Ce=Ce.filter(Ve=>Ve.country===Fe)),ft!=="all"&&(Ce=Ce.filter(Ve=>Ve.whatsappIntent===ft)),Je!=="all"&&(Ce=Ce.filter(Ve=>Ve.callType===Je)),ze!=="all"&&(Ce=Ce.filter(Ve=>Ve.duplicateStatus===ze)),J&&(Ce=Ce.filter(Ve=>{const Ht=new Date(Ve.assignedAt).toDateString(),ma=new Date(J).toDateString();return Ht===ma})),ie&&(Ce=Ce.filter(Ve=>{const Ht=new Date(Ve.lastActionAt).toDateString(),ma=new Date(ie).toDateString();return Ht===ma})),Y&&(Ce=Ce.filter(Ve=>{const Ht=new Date(Ve.createdAt).toDateString(),ma=new Date(Y).toDateString();return Ht===ma})),xe!=="all"&&(Ce=Ce.filter(Ve=>Ve.oldStage===xe)),he&&(Ce=Ce.filter(Ve=>{const Ht=new Date(Ve.closedAt).toDateString(),ma=new Date(he).toDateString();return Ht===ma})),Ce.sort((Ve,Ht)=>{let ma=Ve[zt],va=Ht[zt];return zt==="deletedAt"&&(ma=new Date(ma),va=new Date(va)),Te==="asc"?ma>va?1:-1:ma<va?1:-1}),l(Ce),Ut(1)},[r,M,U,O,E,q,G,te,ce,Q,dt,je,se,de,Fe,ft,Je,ze,J,ie,Y,xe,he,zt,Te]);const Ta=Math.ceil(i.length/Vt),Cr=(We-1)*Vt,ee=i.slice(Cr,Cr+Vt),ke=Ce=>({new:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",qualified:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300","in-progress":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",converted:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",lost:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"})[Ce]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",ye=Ce=>({high:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",low:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300"})[Ce]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",Ne=Ce=>({website:"","social-media":"",referral:"",email:"",phone:"",advertisement:""})[Ce]||"",Ae=()=>{o.length===ee.length?c([]):c(ee.map(Ce=>Ce.id))},De=Ce=>{c(Ve=>Ve.includes(Ce)?Ve.filter(Ht=>Ht!==Ce):[...Ve,Ce])},Ye=(Ce,Ve)=>{if(Ve.target.type==="checkbox")return;const Ht=Ve.currentTarget.getBoundingClientRect(),ma={x:Ht.left+Ht.width/2-160,y:Ht.bottom};u(Ce),b(ma),v(!0)},ut=Ce=>{lr(Ve=>({...Ve,[Ce]:!Ve[Ce]}))},Ke=()=>{const Ce=Object.keys(ta).reduce((Ve,Ht)=>(Ve[Ht]=!0,Ve),{});lr(Ce)},et=Ce=>{const Ve=r.find(Ht=>Ht.id===Ce);if(Ve){const{deletedAt:Ht,...ma}=Ve,va=JSON.parse(localStorage.getItem("leads")||"[]");va.push(ma),localStorage.setItem("leads",JSON.stringify(va)),localStorage.setItem("leadsData",JSON.stringify(va));try{window.dispatchEvent(new CustomEvent("leadsDataUpdated"))}catch{}const Ha=r.filter(Ws=>Ws.id!==Ce);n(Ha),localStorage.setItem("deletedLeads",JSON.stringify(Ha)),Nt({key:"Lead restored successfully",params:{}}),setTimeout(()=>Nt(null),3e3)}},at=Ce=>{if(window.confirm(e("Are you sure you want to permanently delete this lead? This action cannot be undone."))){const Ve=r.filter(Ht=>Ht.id!==Ce);n(Ve),localStorage.setItem("deletedLeads",JSON.stringify(Ve)),Nt({key:"Lead permanently deleted",params:{}}),setTimeout(()=>Nt(null),3e3)}},vt=()=>{const Ce=r.filter(Ve=>o.includes(Ve.id));if(Ce.length>0){const Ve=JSON.parse(localStorage.getItem("leads")||"[]"),Ht=Ce.map(({deletedAt:va,...Ha})=>Ha);Ve.push(...Ht),localStorage.setItem("leads",JSON.stringify(Ve)),localStorage.setItem("leadsData",JSON.stringify(Ve));try{window.dispatchEvent(new CustomEvent("leadsDataUpdated"))}catch{}const ma=r.filter(va=>!o.includes(va.id));n(ma),localStorage.setItem("deletedLeads",JSON.stringify(ma)),c([]),Nt({key:`${Ce.length} leads restored successfully`,params:{}}),setTimeout(()=>Nt(null),3e3)}},Lt=()=>{const Ce=Math.max(1,parseInt(Oa)||1),Ve=Math.min(Ta,parseInt(Ba)||Ta),Ht=(Ce-1)*Vt,ma=Ve*Vt,va=i.slice(Ht,ma),Ha=Jt.json_to_sheet(va.map(Rr=>({Name:Rr.name,Email:Rr.email,Phone:Rr.phone,Company:Rr.company,Source:Rr.source,Status:Rr.status,Priority:Rr.priority,Stage:Rr.stage,"Expected Revenue":Rr.estimatedValue,"Assigned To":Rr.assignedTo,"Deleted Date":new Date(Rr.deletedAt).toLocaleDateString(),Notes:Rr.notes}))),Ws=Jt.book_new();Jt.book_append_sheet(Ws,Ha,"Deleted Leads"),gs(Ws,`deleted_leads_${new Date().toISOString().split("T")[0]}.xlsx`)},Xt=()=>{L(""),z("all"),B("all"),R("all"),I("all"),re("all"),X("all"),D("all"),H("all"),ae(""),le(""),oe(""),W("all"),fe(""),Oe("all"),Ee("all"),_e(""),rt(""),Bt("all"),$e("all"),Ze("all"),At("")};return s.jsxs("div",{className:"p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-8 md:space-y-10 lg:space-y-12",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e("Recycle Bin")}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[e("Manage deleted leads")," (",i.length," ",e("leads"),")"]})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 mb-6 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:s.jsx("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})}),e("Filter Options")]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>Dt(!kt),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white font-medium rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[s.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${kt?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),e(kt?"Show Less":"Show More")]}),s.jsxs("button",{onClick:Xt,className:"flex items-center gap-2 px-6 py-3 bg-gray-500 hover:bg-gray-600 text-white font-medium rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e("Reset")]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("Search")]}),s.jsx("input",{type:"text",placeholder:e("Search leads..."),value:M,onChange:Ce=>L(Ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Status")]}),s.jsxs("select",{value:U,onChange:Ce=>z(Ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Status")}),s.jsx("option",{value:"new",children:e("New")}),s.jsx("option",{value:"qualified",children:e("Qualified")}),s.jsx("option",{value:"in-progress",children:e("In Progress")}),s.jsx("option",{value:"converted",children:e("Converted")}),s.jsx("option",{value:"lost",children:e("Lost")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),e("Source")]}),s.jsxs("select",{value:O,onChange:Ce=>B(Ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Sources")}),s.jsx("option",{value:"website",children:e("Website")}),s.jsx("option",{value:"social-media",children:e("Social Media")}),s.jsx("option",{value:"referral",children:e("Referrals")}),s.jsx("option",{value:"email-campaign",children:e("Email Campaign")}),s.jsx("option",{value:"direct",children:e("Direct")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Priority")]}),s.jsxs("select",{value:E,onChange:Ce=>R(Ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Priority")}),s.jsx("option",{value:"high",children:e("High")}),s.jsx("option",{value:"medium",children:e("Medium")}),s.jsx("option",{value:"low",children:e("Low")})]})]})]}),kt&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),e("Project")]}),s.jsxs("select",{value:q,onChange:Ce=>I(Ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Projects")}),s.jsx("option",{value:"project-a",children:e("Project A")}),s.jsx("option",{value:"project-b",children:e("Project B")}),s.jsx("option",{value:"project-c",children:e("Project C")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e("Stage")]}),s.jsxs("select",{value:G,onChange:Ce=>re(Ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Stages")}),qa.map(Ce=>s.jsxs("option",{value:Ce.name,children:[Ce.icon," ",t.language==="ar"&&Ce.nameAr||Ce.name]},Ce.name))]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e("Manager")]}),s.jsxs("select",{value:te,onChange:Ce=>X(Ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Managers")}),s.jsx("option",{value:"ibrahim",children:e("Ibrahim Ahmed")}),s.jsx("option",{value:"sara",children:e("Sara Nour")}),s.jsx("option",{value:"ahmed",children:e("Ahmed Ali")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-cyan-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e("Sales Person")]}),s.jsxs("select",{value:ce,onChange:Ce=>D(Ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Sales People")}),s.jsx("option",{value:" ",children:e("Ibrahim Ahmed")}),s.jsx("option",{value:" ",children:e("Sara Nour")}),s.jsx("option",{value:"Ahmed Ali",children:e("Ahmed Ali")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),e("Created By")]}),s.jsxs("select",{value:Q,onChange:Ce=>H(Ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Creators")}),s.jsx("option",{value:"system",children:e("System")}),s.jsx("option",{value:"admin",children:e("Admin")}),s.jsx("option",{value:"user",children:e("User")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e("Deleted Date")]}),s.jsx("input",{type:"date",value:dt,onChange:Ce=>At(Ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e("Email")]}),s.jsx("input",{type:"text",placeholder:e("Filter by email"),value:je,onChange:Ce=>rt(Ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),e("Expected Revenue")]}),s.jsx("input",{type:"number",placeholder:e("Minimum amount"),value:se,onChange:Ce=>_e(Ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"})}),e("Campaign")]}),s.jsxs("select",{value:de,onChange:Ce=>Oe(Ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Campaigns")}),s.jsx("option",{value:"summer-2024",children:e("Summer 2024")}),s.jsx("option",{value:"winter-2024",children:e("Winter 2024")}),s.jsx("option",{value:"spring-2025",children:e("Spring 2025")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Country")]}),s.jsxs("select",{value:Fe,onChange:Ce=>Ee(Ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Countries")}),s.jsx("option",{value:"saudi-arabia",children:e("Saudi Arabia")}),s.jsx("option",{value:"uae",children:e("UAE")}),s.jsx("option",{value:"egypt",children:e("Egypt")}),s.jsx("option",{value:"jordan",children:e("Jordan")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),e("WhatsApp Intents")]}),s.jsxs("select",{value:ft,onChange:Ce=>Bt(Ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Intents")}),s.jsx("option",{value:"inquiry",children:e("Inquiry")}),s.jsx("option",{value:"support",children:e("Support")}),s.jsx("option",{value:"purchase",children:e("Purchase")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e("Call Type")]}),s.jsxs("select",{value:Je,onChange:Ce=>$e(Ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Call Types")}),s.jsx("option",{value:"inbound",children:e("Inbound")}),s.jsx("option",{value:"outbound",children:e("Outbound")}),s.jsx("option",{value:"follow-up",children:e("Follow-up")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),e("Duplicate Status")]}),s.jsxs("select",{value:ze,onChange:Ce=>Ze(Ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Status")}),s.jsx("option",{value:"unique",children:e("Unique")}),s.jsx("option",{value:"duplicate",children:e("Duplicate")}),s.jsx("option",{value:"potential-duplicate",children:e("Potential Duplicate")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e("Assign Date")]}),s.jsx("input",{type:"date",value:J,onChange:Ce=>ae(Ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e("Action Date")]}),s.jsx("input",{type:"date",value:ie,onChange:Ce=>le(Ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),e("Creation Date")]}),s.jsx("input",{type:"date",value:Y,onChange:Ce=>oe(Ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Old Stage")]}),s.jsxs("select",{value:xe,onChange:Ce=>W(Ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Stages")}),qa.map(Ce=>s.jsx("option",{value:Ce.name,children:t.language==="ar"?Ce.nameAr:Ce.name},Ce.name))]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),e("Closed Date")]}),s.jsx("input",{type:"date",value:he,onChange:Ce=>fe(Ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]})]})]})]}),s.jsx("div",{className:"h-10 md:h-12 lg:h-14"}),s.jsxs("div",{className:"flex justify-between items-center mt-0 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:()=>{if(o.length===0){alert(e("Please select items to restore"));return}window.confirm(e("Are you sure you want to restore the selected leads?"))&&vt()},className:"flex items-center gap-3 px-10 py-5 my-6 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold text-lg rounded-2xl shadow-2xl hover:shadow-green-500/50 transition-all duration-500 transform hover:scale-110 hover:-translate-y-2 active:scale-95 border-4 border-green-300 hover:border-green-200 ring-4 ring-green-200/30 hover:ring-green-300/50",children:[s.jsx(Ik,{className:"text-xl"}),e("Restore All")]}),s.jsxs("button",{onClick:()=>{if(o.length===0){alert(e("Please select items to delete"));return}window.confirm(e("Are you sure you want to permanently delete the selected leads? This action cannot be undone."))&&(n(Ce=>Ce.filter(Ve=>!o.includes(Ve.id))),localStorage.setItem("deletedLeads",JSON.stringify(r.filter(Ce=>!o.includes(Ce.id)))),c([]))},className:"flex items-center gap-3 px-10 py-5 my-6 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold text-lg rounded-2xl shadow-2xl hover:shadow-red-500/50 transition-all duration-500 transform hover:scale-110 hover:-translate-y-2 active:scale-95 border-4 border-red-300 hover:border-red-200 ring-4 ring-red-200/30 hover:ring-red-300/50",children:[s.jsx(Fk,{className:"text-xl"}),e("Permanent Delete")]})]}),s.jsx(LV,{columns:ta,visibleColumns:Aa,onColumnToggle:ut,onResetColumns:Ke})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 mt-8 mb-0 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e("Deleted Lead Stages")]}),s.jsx("button",{onClick:()=>re("all"),className:`px-3 py-1.5 text-sm font-medium rounded-lg transition-all duration-200 ${G==="all"?"bg-blue-600 text-white shadow-md":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:e("All Stages")})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:qa.map(Ce=>s.jsxs("button",{onClick:()=>re(Ce.name),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 transform hover:scale-105 ${G===Ce.name?"text-white shadow-lg scale-105":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500 shadow-sm hover:shadow-md"}`,style:G===Ce.name?{backgroundColor:Ce.color||"#3B82F6"}:{},children:[s.jsx("span",{className:"text-lg",children:Ce.icon}),s.jsx("span",{children:t.language==="ar"&&Ce.nameAr||Ce.name}),s.jsx("span",{className:`ml-1 px-2 py-0.5 text-xs rounded-full ${G===Ce.name?"bg-white/20 text-white":"bg-gray-100 dark:bg-gray-600 text-gray-600 dark:text-gray-400"}`,children:i.filter(Ve=>Ve.stage===Ce.name).length})]},Ce.name))})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[s.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"checkbox-all-search",type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",checked:o.length===ee.length&&ee.length>0,onChange:Ae}),s.jsx("label",{htmlFor:"checkbox-all-search",className:"sr-only",children:"checkbox"})]})}),Aa.lead&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Lead")}),Aa.contact&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Contact")}),Aa.source&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Source")}),Aa.project&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Project")}),Aa.sales&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Sales")}),Aa.lastComment&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Last Comment")}),Aa.stage&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Stage")}),Aa.expectedRevenue&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Expected Revenue")}),Aa.priority&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Priority")}),Aa.status&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Status")}),Aa.deletedDate&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Deleted Date")}),Aa.actions&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Actions")})]})}),s.jsx("tbody",{children:ee.map(Ce=>s.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 cursor-pointer",onClick:Ve=>Ye(Ce,Ve),children:[s.jsx("td",{className:"w-4 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:`checkbox-table-search-${Ce.id}`,type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",checked:o.includes(Ce.id),onChange:()=>De(Ce.id)}),s.jsx("label",{htmlFor:`checkbox-table-search-${Ce.id}`,className:"sr-only",children:"checkbox"})]})}),Aa.lead&&s.jsx("th",{scope:"row",className:"flex items-center px-6 py-4 text-gray-900 whitespace-nowrap dark:text-white",children:s.jsx("div",{className:"pl-3",children:s.jsx("div",{className:"text-base font-semibold",children:Ce.name})})}),Aa.contact&&s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"font-normal text-gray-500",children:Ce.email}),s.jsx("div",{className:"font-normal text-gray-500",children:Ce.phone})]}),Aa.source&&s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:Ne(Ce.source)}),s.jsx("span",{className:"text-sm",children:e(Ce.source)})]})}),Aa.project&&s.jsx("td",{className:"px-6 py-4",children:Ce.company}),Aa.sales&&s.jsx("td",{className:"px-6 py-4",children:Ce.assignedTo}),Aa.lastComment&&s.jsx("td",{className:"px-6 py-4",children:Ce.notes}),Aa.stage&&s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${ke(Ce.stage)}`,children:e(Ce.stage)})}),Aa.expectedRevenue&&s.jsxs("td",{className:"px-6 py-4",children:["$",Ce.estimatedValue?.toLocaleString()]}),Aa.priority&&s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${ye(Ce.priority)}`,children:e(Ce.priority)})}),Aa.status&&s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${ke(Ce.status)}`,children:e(Ce.status)})}),Aa.deletedDate&&s.jsx("td",{className:"px-6 py-4",children:new Date(Ce.deletedAt).toLocaleDateString()}),Aa.actions&&s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),u(Ce),x(!0)},className:"text-blue-600 hover:text-blue-900 p-3",title:e("preview"),children:s.jsx(dd,{size:16})}),s.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),et(Ce.id)},className:"text-green-600 hover:text-green-900 p-3",title:e("Restore"),children:s.jsx(Ik,{size:16})}),s.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),at(Ce.id)},className:"text-red-600 hover:text-red-900 p-3",title:e("Permanent Delete"),children:s.jsx(Fk,{size:16})})]})})]},Ce.id))})]})}),ee.length===0&&s.jsx("div",{className:"p-6 text-center text-gray-600 dark:text-gray-300",children:e("No deleted leads found")}),Ta>1&&s.jsxs("nav",{className:"flex items-center justify-between p-4","aria-label":"Table navigation",children:[s.jsxs("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400",children:[e("Showing")," ",s.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[Cr+1,"-",Math.min(Cr+Vt,i.length)]})," ",e("of")," ",s.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:i.length})]}),s.jsxs("ul",{className:"inline-flex items-center -space-x-px gap-2",children:[s.jsx("li",{children:s.jsxs("button",{onClick:()=>Ut(Ce=>Math.max(Ce-1,1)),disabled:We===1,className:"block px-4 py-3 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50",children:[s.jsx("span",{className:"sr-only",children:e("Previous")}),s.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]})}),Array.from({length:Math.min(3,Ta)},(Ce,Ve)=>Ve+1).map(Ce=>s.jsx("li",{children:s.jsx("button",{onClick:()=>Ut(Ce),className:`px-4 py-3 leading-tight ${We===Ce?"text-blue-600 border border-blue-300 bg-blue-50 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"}`,children:Ce})},Ce)),s.jsxs("li",{className:"flex items-center gap-2 ml-3",children:[s.jsx("input",{type:"number",min:1,max:Ta,value:fa,onChange:Ce=>Ka(Ce.target.value),placeholder:e("Search"),className:"w-16 px-2 py-1 text-sm border rounded-md dark:bg-gray-800 dark:text-gray-200"}),s.jsx("button",{onClick:()=>{const Ce=Math.max(1,Math.min(Number(fa)||1,Ta));Ut(Ce)},className:"px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 border rounded-md dark:bg-gray-700 dark:border-gray-600",children:s.jsx(rx,{className:"w-4 h-4"})})]}),s.jsxs("li",{className:"flex items-center gap-2 ml-3",children:[s.jsx("input",{type:"number",min:1,max:Ta,value:Oa,onChange:Ce=>oa(Ce.target.value),placeholder:e("From"),className:"w-20 px-2 py-1 text-sm border rounded-md dark:bg-gray-800 dark:text-gray-200"}),s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:e("To")}),s.jsx("input",{type:"number",min:1,max:Ta,value:Ba,onChange:Ce=>Be(Ce.target.value),placeholder:e("To"),className:"w-20 px-2 py-1 text-sm border rounded-md dark:bg-gray-800 dark:text-gray-200"}),s.jsxs("button",{onClick:Lt,className:"px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 border rounded-md dark:bg-blue-500 dark:border-blue-400 flex items-center gap-1",children:[s.jsx(eh,{className:"w-4 h-4"}),e("Export Data")]})]}),s.jsx("li",{children:s.jsxs("button",{onClick:()=>Ut(Ce=>Math.min(Ce+1,Ta)),disabled:We===Ta,className:"block px-4 py-3 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50",children:[s.jsx("span",{className:"sr-only",children:e("Next")}),s.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})})]})]})]}),f&&s.jsx(Rv,{isOpen:f,onClose:()=>{x(!1),u(null)},lead:d,isArabic:t.language==="ar",theme:a}),p&&s.jsx(mye,{isOpen:p,onClose:()=>{v(!1),u(null)},lead:d,position:g,onRestore:et,onPermanentDelete:at,onView:Ce=>{u(Ce),x(!0)},theme:a,isArabic:t.language==="ar"}),j&&S&&s.jsx(ZU,{lead:S,position:A,innerRef:_,onAction:Ce=>{switch(N(!1),k(null),Ce){case"view":u(S),x(!0);break;case"restore":et(S.id);break;case"delete":at(S.id);break}},isRtl:t.language==="ar"})]})}const xye=[{iso2:"EG",nameAr:"",nameEn:"Egypt",dialCode:"+20",flag:""},{iso2:"SA",nameAr:"",nameEn:"Saudi Arabia",dialCode:"+966",flag:""},{iso2:"AE",nameAr:"",nameEn:"United Arab Emirates",dialCode:"+971",flag:""},{iso2:"KW",nameAr:"",nameEn:"Kuwait",dialCode:"+965",flag:""},{iso2:"QA",nameAr:"",nameEn:"Qatar",dialCode:"+974",flag:""},{iso2:"BH",nameAr:"",nameEn:"Bahrain",dialCode:"+973",flag:""},{iso2:"OM",nameAr:"",nameEn:"Oman",dialCode:"+968",flag:""},{iso2:"JO",nameAr:"",nameEn:"Jordan",dialCode:"+962",flag:""},{iso2:"LB",nameAr:"",nameEn:"Lebanon",dialCode:"+961",flag:""},{iso2:"SY",nameAr:"",nameEn:"Syria",dialCode:"+963",flag:""},{iso2:"IQ",nameAr:"",nameEn:"Iraq",dialCode:"+964",flag:""},{iso2:"PS",nameAr:"",nameEn:"Palestine",dialCode:"+970",flag:""},{iso2:"MA",nameAr:"",nameEn:"Morocco",dialCode:"+212",flag:""},{iso2:"DZ",nameAr:"",nameEn:"Algeria",dialCode:"+213",flag:""},{iso2:"TN",nameAr:"",nameEn:"Tunisia",dialCode:"+216",flag:""},{iso2:"LY",nameAr:"",nameEn:"Libya",dialCode:"+218",flag:""},{iso2:"SD",nameAr:"",nameEn:"Sudan",dialCode:"+249",flag:""},{iso2:"SO",nameAr:"",nameEn:"Somalia",dialCode:"+252",flag:""},{iso2:"DJ",nameAr:"",nameEn:"Djibouti",dialCode:"+253",flag:""},{iso2:"KM",nameAr:" ",nameEn:"Comoros",dialCode:"+269",flag:""},{iso2:"MR",nameAr:"",nameEn:"Mauritania",dialCode:"+222",flag:""},{iso2:"YE",nameAr:"",nameEn:"Yemen",dialCode:"+967",flag:""},{iso2:"US",nameAr:" ",nameEn:"United States",dialCode:"+1",flag:""},{iso2:"CA",nameAr:"",nameEn:"Canada",dialCode:"+1",flag:""},{iso2:"GB",nameAr:" ",nameEn:"United Kingdom",dialCode:"+44",flag:""},{iso2:"FR",nameAr:"",nameEn:"France",dialCode:"+33",flag:""},{iso2:"DE",nameAr:"",nameEn:"Germany",dialCode:"+49",flag:""},{iso2:"IT",nameAr:"",nameEn:"Italy",dialCode:"+39",flag:""},{iso2:"ES",nameAr:"",nameEn:"Spain",dialCode:"+34",flag:""},{iso2:"JP",nameAr:"",nameEn:"Japan",dialCode:"+81",flag:""},{iso2:"KR",nameAr:" ",nameEn:"South Korea",dialCode:"+82",flag:""},{iso2:"CN",nameAr:"",nameEn:"China",dialCode:"+86",flag:""},{iso2:"IN",nameAr:"",nameEn:"India",dialCode:"+91",flag:""},{iso2:"PK",nameAr:"",nameEn:"Pakistan",dialCode:"+92",flag:""},{iso2:"BD",nameAr:"",nameEn:"Bangladesh",dialCode:"+880",flag:""},{iso2:"ID",nameAr:"",nameEn:"Indonesia",dialCode:"+62",flag:""},{iso2:"PH",nameAr:"",nameEn:"Philippines",dialCode:"+63",flag:""},{iso2:"MY",nameAr:"",nameEn:"Malaysia",dialCode:"+60",flag:""},{iso2:"SG",nameAr:"",nameEn:"Singapore",dialCode:"+65",flag:""},{iso2:"TH",nameAr:"",nameEn:"Thailand",dialCode:"+66",flag:""},{iso2:"VN",nameAr:"",nameEn:"Vietnam",dialCode:"+84",flag:""},{iso2:"IR",nameAr:"",nameEn:"Iran",dialCode:"+98",flag:""},{iso2:"TR",nameAr:"",nameEn:"Turkey",dialCode:"+90",flag:""},{iso2:"RU",nameAr:"",nameEn:"Russia",dialCode:"+7",flag:""},{iso2:"UA",nameAr:"",nameEn:"Ukraine",dialCode:"+380",flag:""},{iso2:"AU",nameAr:"",nameEn:"Australia",dialCode:"+61",flag:""},{iso2:"NZ",nameAr:"",nameEn:"New Zealand",dialCode:"+64",flag:""},{iso2:"BR",nameAr:"",nameEn:"Brazil",dialCode:"+55",flag:""},{iso2:"MX",nameAr:"",nameEn:"Mexico",dialCode:"+52",flag:""},{iso2:"AR",nameAr:"",nameEn:"Argentina",dialCode:"+54",flag:""},{iso2:"ZA",nameAr:" ",nameEn:"South Africa",dialCode:"+27",flag:""},{iso2:"NG",nameAr:"",nameEn:"Nigeria",dialCode:"+234",flag:""},{iso2:"KE",nameAr:"",nameEn:"Kenya",dialCode:"+254",flag:""},{iso2:"ET",nameAr:"",nameEn:"Ethiopia",dialCode:"+251",flag:""},{iso2:"IL",nameAr:"",nameEn:"Israel",dialCode:"+972",flag:""},{iso2:"SE",nameAr:"",nameEn:"Sweden",dialCode:"+46",flag:""},{iso2:"NO",nameAr:"",nameEn:"Norway",dialCode:"+47",flag:""},{iso2:"DK",nameAr:"",nameEn:"Denmark",dialCode:"+45",flag:""},{iso2:"FI",nameAr:"",nameEn:"Finland",dialCode:"+358",flag:""},{iso2:"NL",nameAr:"",nameEn:"Netherlands",dialCode:"+31",flag:""},{iso2:"BE",nameAr:"",nameEn:"Belgium",dialCode:"+32",flag:""},{iso2:"CH",nameAr:"",nameEn:"Switzerland",dialCode:"+41",flag:""},{iso2:"AT",nameAr:"",nameEn:"Austria",dialCode:"+43",flag:""},{iso2:"PT",nameAr:"",nameEn:"Portugal",dialCode:"+351",flag:""},{iso2:"GR",nameAr:"",nameEn:"Greece",dialCode:"+30",flag:""},{iso2:"PL",nameAr:"",nameEn:"Poland",dialCode:"+48",flag:""},{iso2:"CZ",nameAr:"",nameEn:"Czech Republic",dialCode:"+420",flag:""},{iso2:"HU",nameAr:"",nameEn:"Hungary",dialCode:"+36",flag:""}],gye=()=>{const{t:e,i18n:t}=Et(),{theme:a}=xl(),r=a==="light",n=ti(),[i,l]=w.useState(""),[o,c]=w.useState(""),[d,u]=w.useState(""),[f,x]=w.useState(""),[p,v]=w.useState(""),[g,b]=w.useState(""),[j,N]=w.useState(""),[S,k]=w.useState([{code:"+20",number:""}]),[A,_]=w.useState(""),[M,L]=w.useState(""),{stages:U,statuses:z}=Ov(),[O,B]=w.useState(""),[E,R]=w.useState(""),[q,I]=w.useState(""),[G,re]=w.useState("medium"),[te,X]=w.useState(!1),[ce,D]=w.useState([]),Q=()=>{D(se=>[...se,{name:"",source:"",project:"",company:"",type:"",tags:"",expectedRevenue:"",mobileNumbers:[{code:S[0]?.code||"+20",number:""}],email:"",assignedTo:"",stage:"",status:"",priority:"medium",note:"",collapsed:!1}])},H=(se,_e,je)=>{D(rt=>rt.map((ft,Bt)=>Bt===se?{...ft,[_e]:je}:ft))},J=se=>{D(_e=>_e.map((je,rt)=>rt===se?{...je,mobileNumbers:[...je.mobileNumbers||[{code:"+20",number:""}],{code:je.mobileNumbers?.[0]?.code||"+20",number:""}]}:je))},ae=(se,_e,je,rt)=>{D(ft=>ft.map((Bt,Je)=>{if(Je!==se)return Bt;const ze=(Bt.mobileNumbers||[{code:"+20",number:""}]).map((Ze,dt)=>dt===_e?{...Ze,[je]:rt}:Ze);return{...Bt,mobileNumbers:ze}}))},ie=se=>{D(_e=>_e.map((je,rt)=>rt===se?{...je,collapsed:!je.collapsed}:je))},le=se=>{D(_e=>_e.filter((je,rt)=>rt!==se))},Y=()=>{k(se=>[...se,{code:se[0]?.code||"+20",number:""}])},oe=(se,_e,je)=>{k(rt=>rt.map((ft,Bt)=>Bt===se?{...ft,[_e]:je}:ft))},xe=r?"bg-white border-gray-200":"bg-blue-900/40 border-blue-800",W=r?"text-gray-700":"text-gray-200",he=r?"bg-white border-gray-300 focus:ring-blue-500 focus:border-blue-500":"bg-gray-900/50 border-gray-700 text-white focus:ring-blue-400 focus:border-blue-400",fe=i.trim().length>0&&o.trim().length>0&&d.trim().length>0&&String(j).trim().length>0&&S.length>0&&S.every(se=>se.number.trim().length>0)&&A.trim().length>0&&O.trim().length>0&&E!==""&&q!=="",de=se=>(se.name||"").trim().length>0&&(se.source||"").trim().length>0&&(se.project||"").trim().length>0&&String(se.expectedRevenue||"").trim().length>0&&Array.isArray(se.mobileNumbers)&&se.mobileNumbers.length>0&&se.mobileNumbers.every(_e=>(_e.number||"").trim().length>0)&&(se.email||"").trim().length>0&&(se.assignedTo||"").trim().length>0&&(se.stage||"")!==""&&(se.status||"")!=="",Oe=fe&&ce.every(de),Fe=({value:se,onChange:_e})=>s.jsx("select",{value:se,onChange:je=>_e(je.target.value),className:`w-20 rounded-md border px-2 py-2 ${he}`,children:xye.map(je=>s.jsxs("option",{value:je.dialCode,children:[je.flag," ",je.dialCode]},je.iso2+je.dialCode))}),Ee=()=>{const se=i.trim(),_e=[];if(se||_e.push(t.language==="ar"?"":e("Name")),o.trim()||_e.push(t.language==="ar"?"":e("Source")),d.trim()||_e.push(t.language==="ar"?"":e("Project")),j.trim()||_e.push(t.language==="ar"?" ":e("Expected Revenue")),(!S.length||!S.every(ze=>ze.number.trim()))&&_e.push(t.language==="ar"?" ":e("Mobile")),A.trim()||_e.push(t.language==="ar"?" ":e("Email")),O.trim()||_e.push(t.language==="ar"?"":e("Sales")),E||_e.push(t.language==="ar"?"":e("Stage")),q||_e.push(t.language==="ar"?"":e("Status")),_e.length>0){alert(t.language==="ar"?`     (  ):
- ${_e.join(`
- `)}`:`Please fill all fields (except notes):
- ${_e.join(`
- `)}`);return}const je=ce.map((ze,Ze)=>de(ze)?null:Ze+1).filter(Boolean);if(je.length){alert(t.language==="ar"?`    : ${je.join(", ")}
     (  ).`:`Some additional leads are incomplete: ${je.join(", ")}
Please fill all required fields (except notes).`);return}const rt=new Date().toISOString(),ft={id:Date.now(),name:se,email:A.trim()||"",phone:S.filter(ze=>ze.number.trim()).map(ze=>`${ze.code} ${ze.number}`).join(" / "),company:f.trim()||d.trim()||"",type:p||(f.trim()||d.trim()?"Company":"Individual"),tags:g.trim()||"",stage:E,status:q,priority:G,source:o,assignedTo:O.trim()||"",createdAt:rt,lastContact:rt,notes:M.trim()||"",estimatedValue:j,probability:0},Bt=ce.map((ze,Ze)=>({id:Date.now()+Ze+1,name:(ze.name||"").trim(),email:(ze.email||"").trim(),phone:(Array.isArray(ze.mobileNumbers)?ze.mobileNumbers:[]).filter(dt=>(dt.number||"").trim()).map(dt=>`${dt.code} ${dt.number}`).join(" / "),company:(ze.company||ze.project||"").trim(),type:ze.type||(ze.company||ze.project?"Company":"Individual"),tags:(ze.tags||"").trim(),stage:ze.stage||"",status:ze.status||"",priority:ze.priority||"medium",source:ze.source||"",assignedTo:(ze.assignedTo||"").trim(),createdAt:rt,lastContact:rt,notes:(ze.note||"").trim(),estimatedValue:ze.expectedRevenue||"",probability:0})),Je=JSON.parse(localStorage.getItem("leadsData")||"[]"),$e=[ft,...Bt,...Je];localStorage.setItem("leadsData",JSON.stringify($e)),window.dispatchEvent(new Event("leadsDataUpdated")),alert(t.language==="ar"?"   ":e("Lead added successfully")),n("/leads")};return s.jsxs("div",{className:"p-6 pb-24 bg-[var(--content-bg)] text-[var(--content-text)]",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:e("Add New Lead")}),s.jsxs("div",{className:`p-4 md:p-6 rounded-lg border ${xe}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:t.language==="ar"?" ":e("Primary Lead")}),s.jsx("button",{type:"button",onClick:()=>X(!te),className:`p-2 rounded-md ${r?"bg-gray-100 text-gray-700":"bg-gray-800 text-gray-200"} hover:opacity-90`,"aria-label":t.language==="ar"?te?"":"":e(te?"Expand":"Collapse"),children:te?s.jsx(gM,{className:"w-4 h-4"}):s.jsx(vM,{className:"w-4 h-4"})})]}),!te&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Name")}),s.jsx("input",{type:"text",value:i,onChange:se=>l(se.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`,placeholder:e("Enter name")})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Source")}),s.jsxs("select",{value:o,onChange:se=>c(se.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`,children:[s.jsx("option",{value:"",children:e("Select")}),s.jsx("option",{value:"social-media",children:"Facebook"}),s.jsx("option",{value:"website",children:"Website"}),s.jsx("option",{value:"referral",children:"Referral"}),s.jsx("option",{value:"email-campaign",children:"Campaign"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Project")}),s.jsx("input",{type:"text",value:d,onChange:se=>u(se.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`,placeholder:e("Project name")})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Type")}),s.jsxs("select",{value:p,onChange:se=>v(se.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`,children:[s.jsx("option",{value:"",children:e("Select")}),s.jsx("option",{value:"Company",children:e("Company")}),s.jsx("option",{value:"Individual",children:e("Individual")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Company")}),s.jsx("input",{type:"text",value:f,onChange:se=>x(se.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`,placeholder:e("Company")})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Expected Revenue")}),s.jsx("input",{type:"number",value:j,onChange:se=>N(se.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`,placeholder:e("Amount")})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Stage")}),s.jsxs("select",{value:E,onChange:se=>R(se.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`,children:[s.jsx("option",{value:"",children:e("Select")}),U.map(se=>s.jsxs("option",{value:se.name,children:[se.icon," ",t.language==="ar"&&se.nameAr||se.name]},se.name))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Priority")}),s.jsxs("select",{value:G,onChange:se=>re(se.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`,children:[s.jsx("option",{value:"low",children:e("Low")}),s.jsx("option",{value:"medium",children:e("Medium")}),s.jsx("option",{value:"high",children:e("High")})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Mobile")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Fe,{value:S[0]?.code,onChange:se=>oe(0,"code",se)}),s.jsx("input",{type:"tel",value:S[0]?.number,onChange:se=>oe(0,"number",se.target.value),className:`flex-1 rounded-md border px-3 py-2 ${he}`,placeholder:e("Mobile number")}),s.jsx("button",{type:"button",onClick:Y,className:`inline-flex items-center justify-center px-3 py-2 rounded-md border ${r?"bg-blue-50 border-blue-300 text-blue-700 hover:bg-blue-100":"bg-gray-800 border-gray-700 text-blue-300 hover:bg-gray-700"}`,"aria-label":e("Add another number"),title:e("Add another number"),children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),S.slice(1).map((se,_e)=>s.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[s.jsx(Fe,{value:se.code,onChange:je=>oe(_e+1,"code",je)}),s.jsx("input",{type:"tel",value:se.number,onChange:je=>oe(_e+1,"number",je.target.value),className:`flex-1 rounded-md border px-3 py-2 ${he}`,placeholder:e("Another mobile number")})]},_e))]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Email")}),s.jsx("input",{type:"email",value:A,onChange:se=>_(se.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`,placeholder:e("Email address")})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Tags")}),s.jsx("input",{type:"text",value:g,onChange:se=>b(se.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`,placeholder:t.language==="ar"?"   ":"Comma-separated tags"})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Sales")}),s.jsx("input",{type:"text",value:O,onChange:se=>B(se.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`,placeholder:e("Assigned to")})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Status")}),s.jsxs("select",{value:q,onChange:se=>I(se.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`,children:[s.jsx("option",{value:"",children:e("Select")}),z.map(se=>s.jsxs("option",{value:se.name,children:[se.icon," ",t.language==="ar"&&se.nameAr||se.name]},se.name))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Last Comment")}),s.jsx("textarea",{rows:4,value:M,onChange:se=>L(se.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`,placeholder:e("Write notes here")})]})]})]}),s.jsx("div",{className:"mt-6",children:ce.map((se,_e)=>s.jsxs("div",{className:`mt-3 rounded-lg border p-4 ${xe}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-medium",children:se.name?.trim()?se.name:t.language==="ar"?` #${_e+1}`:`Lead #${_e+1}`}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>ie(_e),className:`p-2 rounded-md ${r?"bg-gray-100 text-gray-700":"bg-gray-800 text-gray-200"} hover:opacity-90`,"aria-label":t.language==="ar"?se.collapsed?"":"":se.collapsed?e("Expand"):e("Collapse"),title:t.language==="ar"?se.collapsed?"":"":se.collapsed?e("Expand"):e("Collapse"),children:se.collapsed?s.jsx(gM,{className:"w-4 h-4"}):s.jsx(vM,{className:"w-4 h-4"})}),s.jsx("button",{type:"button",onClick:()=>le(_e),className:"px-3 py-1 rounded-md bg-red-600 text-white hover:bg-red-700",children:t.language==="ar"?"":e("Delete")})]})]}),!se.collapsed&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Name")}),s.jsx("input",{type:"text",value:se.name,onChange:je=>H(_e,"name",je.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Source")}),s.jsxs("select",{value:se.source,onChange:je=>H(_e,"source",je.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`,children:[s.jsx("option",{value:"",children:e("Select")}),s.jsx("option",{value:"social-media",children:"Facebook"}),s.jsx("option",{value:"website",children:"Website"}),s.jsx("option",{value:"referral",children:"Referral"}),s.jsx("option",{value:"email-campaign",children:"Campaign"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Project")}),s.jsx("input",{type:"text",value:se.project,onChange:je=>H(_e,"project",je.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Type")}),s.jsxs("select",{value:se.type||"",onChange:je=>H(_e,"type",je.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`,children:[s.jsx("option",{value:"",children:e("Select")}),s.jsx("option",{value:"Company",children:e("Company")}),s.jsx("option",{value:"Individual",children:e("Individual")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Company")}),s.jsx("input",{type:"text",value:se.company||"",onChange:je=>H(_e,"company",je.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Expected Revenue")}),s.jsx("input",{type:"number",value:se.expectedRevenue,onChange:je=>H(_e,"expectedRevenue",je.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Mobile")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Fe,{value:se.mobileNumbers?.[0]?.code||"+20",onChange:je=>ae(_e,0,"code",je)}),s.jsx("input",{type:"tel",value:se.mobileNumbers?.[0]?.number||"",onChange:je=>ae(_e,0,"number",je.target.value),className:`flex-1 rounded-md border px-3 py-2 ${he}`}),s.jsx("button",{type:"button",onClick:()=>J(_e),className:`inline-flex items-center justify-center px-3 py-2 rounded-md border ${r?"bg-blue-50 border-blue-300 text-blue-700 hover:bg-blue-100":"bg-gray-800 border-gray-700 text-blue-300 hover:bg-gray-700"}`,"aria-label":e("Add another number"),title:e("Add another number"),children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),(se.mobileNumbers||[]).slice(1).map((je,rt)=>s.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[s.jsx(Fe,{value:je.code,onChange:ft=>ae(_e,rt+1,"code",ft)}),s.jsx("input",{type:"tel",value:je.number,onChange:ft=>ae(_e,rt+1,"number",ft.target.value),className:`flex-1 rounded-md border px-3 py-2 ${he}`})]},rt))]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Email")}),s.jsx("input",{type:"email",value:se.email,onChange:je=>H(_e,"email",je.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Tags")}),s.jsx("input",{type:"text",value:se.tags||"",onChange:je=>H(_e,"tags",je.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Sales")}),s.jsx("input",{type:"text",value:se.assignedTo,onChange:je=>H(_e,"assignedTo",je.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Stage")}),s.jsxs("select",{value:se.stage,onChange:je=>H(_e,"stage",je.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`,children:[s.jsx("option",{value:"",children:e("Select")}),U.map(je=>s.jsxs("option",{value:je.name,children:[je.icon," ",t.language==="ar"&&je.nameAr||je.name]},je.name))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Priority")}),s.jsxs("select",{value:se.priority,onChange:je=>H(_e,"priority",je.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`,children:[s.jsx("option",{value:"low",children:e("Low")}),s.jsx("option",{value:"medium",children:e("Medium")}),s.jsx("option",{value:"high",children:e("High")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Status")}),s.jsxs("select",{value:se.status,onChange:je=>H(_e,"status",je.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`,children:[s.jsx("option",{value:"",children:e("Select")}),z.map(je=>s.jsxs("option",{value:je.name,children:[je.icon," ",t.language==="ar"&&je.nameAr||je.name]},je.name))]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${W}`,children:e("Last Comment")}),s.jsx("textarea",{rows:3,value:se.note,onChange:je=>H(_e,"note",je.target.value),className:`w-full rounded-md border px-3 py-2 ${he}`})]})]})]},_e))})]}),s.jsx("div",{className:`sticky bottom-0 left-0 right-0 z-50 border-t-2 ${r?"bg-white border-gray-300 shadow-2xl":"bg-gray-900 border-gray-600 shadow-2xl"} backdrop-blur-md mt-6`,children:s.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:`text-lg font-bold ${r?"text-purple-700":"text-cyan-300"}`,children:t.language==="ar"?" ":e("Additional Leads")}),s.jsx("button",{type:"button",onClick:Q,className:`inline-flex items-center justify-center p-2 rounded-md border-2 transition-all duration-200 ${r?"bg-blue-50 border-blue-400 text-blue-700 hover:bg-blue-100 hover:border-blue-500":"bg-gray-800 border-gray-600 text-blue-300 hover:bg-gray-700 hover:border-gray-500"} hover:opacity-95 hover:shadow-lg active:scale-95`,"aria-label":t.language==="ar"?" ":e("Add Lead"),title:t.language==="ar"?" ":e("Add Lead"),children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),s.jsx("div",{className:"inline-flex w-fit",children:s.jsx("button",{type:"button",onClick:Ee,disabled:!Oe,className:`inline-flex items-center gap-2 px-6 py-2 rounded-md font-bold transition-all duration-150 ease-out transform disabled:opacity-50 disabled:cursor-not-allowed disabled:pointer-events-none hover:opacity-95 hover:-translate-y-0.5 active:scale-95 focus:outline-none focus:ring-2 focus:ring-emerald-500/60 shadow-lg hover:shadow-xl ${r?"bg-green-600 hover:bg-green-700 active:bg-green-800 text-white border-2 border-green-500":"bg-emerald-700 hover:bg-emerald-800 active:bg-emerald-900 text-white border-2 border-emerald-600"}`,children:t.language==="ar"?" ":e("Confirm Add")})})]})})]})},Rm="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='128'%20height='128'%20viewBox='0%200%20128%20128'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%3e%3cdefs%3e%3clinearGradient%20id='brandGradient'%20x1='12'%20y1='12'%20x2='116'%20y2='116'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0%25'%20stop-color='%23ffffff'/%3e%3cstop%20offset='45%25'%20stop-color='%23c7d2fe'/%3e%3c!--%20indigo-200%20--%3e%3cstop%20offset='100%25'%20stop-color='%237c3aed'/%3e%3c!--%20violet-600%20--%3e%3c/linearGradient%3e%3c/defs%3e%3crect%20x='12'%20y='12'%20width='104'%20height='104'%20rx='18'%20stroke='url(%23brandGradient)'%20stroke-width='10'%20/%3e%3c!--%20Stylized%20B%20with%20an%20arrow%20to%20suggest%20simplicity/progress%20--%3e%3cpath%20d='M44%2032%20h24%20c14%200%2022%208%2022%2020%20c0%208%20-5%2014%20-12%2016%20c8%202%2014%208%2014%2018%20c0%2012%20-10%2020%20-24%2020%20H44%20V32%20Z'%20stroke='url(%23brandGradient)'%20stroke-width='10'/%3e%3cpath%20d='M24%2064%20H64'%20stroke='url(%23brandGradient)'%20stroke-width='10'/%3e%3cpath%20d='M64%2064%20l10%20-6%20l-4%206%20l4%206%20z'%20fill='url(%23brandGradient)'/%3e%3c/svg%3e",Kl=e=>{const t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",className:"w-5 h-5",style:{display:"block"}};switch(e){case"Dashboard":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("rect",{x:"4",y:"4",width:"6",height:"6",rx:"1"}),s.jsx("rect",{x:"14",y:"4",width:"6",height:"4",rx:"1"}),s.jsx("rect",{x:"14",y:"11",width:"6",height:"9",rx:"1"}),s.jsx("rect",{x:"4",y:"13",width:"6",height:"7",rx:"1"})]});case"Lead Management":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("circle",{cx:"12",cy:"8",r:"3"}),s.jsx("path",{d:"M6 21v-2a6 6 0 0112 0v2"})]});case"Inventory":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M3 7l9-4 9 4v10l-9 4-9-4V7"}),s.jsx("path",{d:"M3 7l9 4 9-4"})]});case"Marketing Modules":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M3 10v4l12 4V6L3 10z"}),s.jsx("path",{d:"M19 8v8"}),s.jsx("circle",{cx:"7",cy:"12",r:"2"})]});case"Customers":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("circle",{cx:"8",cy:"9",r:"2.5"}),s.jsx("circle",{cx:"16",cy:"9",r:"2.5"}),s.jsx("path",{d:"M3 20v-1a5 5 0 015-5h8a5 5 0 015 5v1"})]});case"Reports":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M5 20V10"}),s.jsx("path",{d:"M10 20V6"}),s.jsx("path",{d:"M15 20V13"}),s.jsx("path",{d:"M20 20V4"})]});case"User Management":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("circle",{cx:"12",cy:"8",r:"3"}),s.jsx("path",{d:"M4 20v-1a7 7 0 0116 0v1"})]});case"Support":return s.jsx("svg",{...t,"aria-hidden":"true",children:s.jsx("path",{d:"M21 12a9 9 0 10-18 0 3 3 0 003 3h1v3l4-3h6a3 3 0 003-3z"})});case"Settings":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("circle",{cx:"12",cy:"12",r:"2.5"}),s.jsx("path",{d:"M19.4 15a7.5 7.5 0 000-6l-2 .7-1-1.7 1.3-1.6a9 9 0 00-6 0L12 7 10.3 5.4a9 9 0 00-6 0L5.6 7 4.6 8.7l-2-.7a7.5 7.5 0 000 6l2-.7 1 1.7-1.3 1.6a9 9 0 006 0L12 17l1.7 1.6a9 9 0 006 0L18.4 17l1-1.7 2 .7z"})]});case"Recycle Bin":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2"}),s.jsx("path",{d:"M19 6v12a2 2 0 01-2 2H7a2 2 0 01-2-2V6"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"})]});case"Contact us":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("rect",{x:"4",y:"6",width:"16",height:"12",rx:"2"}),s.jsx("path",{d:"M4 8l8 6 8-6"})]});default:return s.jsx("svg",{...t,"aria-hidden":"true",children:s.jsx("circle",{cx:"12",cy:"12",r:"2.5"})})}},vye=e=>{const t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",className:"w-4 h-4",style:{display:"block"}};switch(e){case"Products":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M12 3l7 4-7 4-7-4 7-4"}),s.jsx("path",{d:"M5 7v7l7 4 7-4V7"})]});case"Items":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M6 6h12"}),s.jsx("path",{d:"M6 12h12"}),s.jsx("path",{d:"M6 18h12"}),s.jsx("circle",{cx:"3",cy:"6",r:"1"}),s.jsx("circle",{cx:"3",cy:"12",r:"1"}),s.jsx("circle",{cx:"3",cy:"18",r:"1"})]});case"Warehouse":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M3 7l9-4 9 4v10l-9 4-9-4V7"}),s.jsx("path",{d:"M7 10h10"}),s.jsx("path",{d:"M7 14h10"}),s.jsx("path",{d:"M7 18h10"})]});case"Suppliers":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("rect",{x:"3",y:"7",width:"12",height:"7",rx:"1"}),s.jsx("path",{d:"M15 10h3l2 3v1h-5v-4"}),s.jsx("circle",{cx:"7",cy:"18",r:"2"}),s.jsx("circle",{cx:"18",cy:"18",r:"2"})]});case"Stock Management":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("rect",{x:"6",y:"4",width:"12",height:"16",rx:"2"}),s.jsx("path",{d:"M9 9h6"}),s.jsx("path",{d:"M9 13h6"}),s.jsx("path",{d:"M9 17h6"})]});case"Transactions":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M5 8h10"}),s.jsx("path",{d:"M13 6l2 2-2 2"}),s.jsx("path",{d:"M19 16h-10"}),s.jsx("path",{d:"M11 14l-2 2 2 2"})]});case"Projects":return s.jsx("svg",{...t,"aria-hidden":"true",children:s.jsx("path",{d:"M3 7a2 2 0 012-2h4l2 2h6a2 2 0 012 2v7a2 2 0 01-2 2H5a2 2 0 01-2-2V7z"})});case"Properties":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M3 10l9-7 9 7"}),s.jsx("path",{d:"M5 10v9h14v-9"}),s.jsx("path",{d:"M10 19v-5h4v5"})]});case"Requests":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"14",rx:"2"}),s.jsx("path",{d:"M7 10h10"}),s.jsx("path",{d:"M7 7h10"})]});case"Buyer Requests":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("circle",{cx:"9",cy:"8",r:"2.5"}),s.jsx("path",{d:"M3 20v-1a6 6 0 016-6"}),s.jsx("path",{d:"M16 7v6"}),s.jsx("path",{d:"M13 10l3 3 3-3"})]});case"Seller Requests":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("circle",{cx:"9",cy:"8",r:"2.5"}),s.jsx("path",{d:"M3 20v-1a6 6 0 016-6"}),s.jsx("path",{d:"M16 13V7"}),s.jsx("path",{d:"M13 10l3-3 3 3"})]});case"Dev Companies":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("rect",{x:"4",y:"5",width:"6",height:"14",rx:"1"}),s.jsx("rect",{x:"12",y:"9",width:"8",height:"10",rx:"1"}),s.jsx("path",{d:"M6 7h2M6 10h2M6 13h2M6 16h2"}),s.jsx("path",{d:"M14 11h2M14 14h2M14 17h2"})]});default:return s.jsx("svg",{...t,"aria-hidden":"true",children:s.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2"})})}},bye=e=>{const t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",className:"w-4 h-4",style:{display:"block"}};switch(e){case"Dashboard":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("rect",{x:"4",y:"4",width:"6",height:"6",rx:"1"}),s.jsx("rect",{x:"14",y:"4",width:"6",height:"4",rx:"1"}),s.jsx("rect",{x:"14",y:"11",width:"6",height:"9",rx:"1"}),s.jsx("rect",{x:"4",y:"13",width:"6",height:"7",rx:"1"})]});case"Campaigns":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M4 5h10l6 4v6l-6 4H4V5z"}),s.jsx("circle",{cx:"8",cy:"12",r:"2"})]});case"Landing Pages":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("rect",{x:"4",y:"5",width:"16",height:"14",rx:"2"}),s.jsx("path",{d:"M4 9h16"}),s.jsx("path",{d:"M8 13h8"})]});case"Meta Integration":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M6 12c0-3 2-5 5-5s5 2 5 5-2 5-5 5-5-2-5-5z"}),s.jsx("path",{d:"M7 12c1-3 3-5 4-5 2 0 4 4 6 5"})]});case"Leads Performance":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M4 18V6"}),s.jsx("path",{d:"M8 18V10"}),s.jsx("path",{d:"M12 18V8"}),s.jsx("path",{d:"M16 18V13"}),s.jsx("path",{d:"M20 18V5"})]});case"Reports":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M5 20V10"}),s.jsx("path",{d:"M10 20V6"}),s.jsx("path",{d:"M15 20V13"}),s.jsx("path",{d:"M20 20V4"})]});default:return s.jsx("svg",{...t,"aria-hidden":"true",children:s.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2"})})}},yye=({isOpen:e,onClose:t=()=>{},className:a})=>{const{activeModules:r,user:n}=zj(),{theme:i}=xl(),{t:l,i18n:o}=Et(),c=Cc(),d=i==="light",u=(o.language||"").toLowerCase(),f=(typeof o.dir=="function"?o.dir(u)==="rtl":u.startsWith("ar"))||typeof document<"u"&&document.documentElement.dir==="rtl",[x,p]=w.useState(!1),v=c.pathname.startsWith("/inventory"),[g,b]=w.useState(()=>{try{if(typeof window<"u"&&window.localStorage){const ee=window.localStorage.getItem("leadMgmtOpen");if(ee==="true")return!0;if(ee==="false")return!1}}catch{}return!1}),j=c.pathname.startsWith("/leads")||c.pathname.startsWith("/recycle");w.useEffect(()=>{if(!j){b(!1);try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("leadMgmtOpen","false")}catch{}}},[c.pathname]),w.useEffect(()=>{if(j){b(!0);try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("leadMgmtOpen","true")}catch{}}},[j]);const N=c.pathname.startsWith("/marketing"),S=c.pathname.startsWith("/marketing/reports"),k=c.pathname.startsWith("/recycle"),[A,_]=w.useState(!1),[M,L]=w.useState(!1),[U,z]=w.useState(!1),[O,B]=w.useState(!1),[E,R]=w.useState(!1),[q,I]=w.useState(!1),[G,re]=w.useState(!1),[te,X]=w.useState(!1),[ce,D]=w.useState(!1),[Q,H]=w.useState(!1),[J,ae]=w.useState(!1),[ie,le]=w.useState(!1),Y=ee=>{re(ee==="profileCompany"),X(ee==="systemSettings"),D(ee==="companySetup"),H(ee==="notifications"),ae(ee==="billing"),le(ee==="dataMgmt")},oe=ee=>{Y(ee==="profileCompany"&&G||ee==="systemSettings"&&te||ee==="companySetup"&&ce||ee==="notifications"&&Q||ee==="billing"&&J||ee==="dataMgmt"&&ie?"":ee)},xe=c.pathname.startsWith("/customers")||c.pathname.startsWith("/sales")||c.pathname.startsWith("/support"),W=c.pathname.startsWith("/settings"),he=c.pathname.startsWith("/settings/integrations"),fe=c.pathname.startsWith("/settings/operations"),de=c.pathname.startsWith("/settings/profile"),Oe=c.pathname.startsWith("/settings/system"),Fe=c.pathname.startsWith("/settings/company-setup"),Ee=c.pathname.startsWith("/settings/notifications"),se=c.pathname.startsWith("/settings/billing"),_e=c.pathname.startsWith("/settings/data"),je=String(n?.role||"").toLowerCase(),rt=je.includes("admin")||je.includes("super admin")||je.includes("owner");c.pathname.startsWith("/reports")||c.pathname.startsWith("/marketing/reports");const ft=c.pathname.startsWith("/user-management"),Bt=c.pathname.startsWith("/support"),Je=c.pathname.startsWith("/reports"),$e=c.pathname.startsWith("/reports/sales"),[ze,Ze]=w.useState(()=>{try{if(typeof window<"u"&&window.localStorage){const ee=window.localStorage.getItem("marketingOpen");if(ee==="true")return!0;if(ee==="false")return!1}}catch{}return!1});w.useEffect(()=>{if(!N){Ze(!1);try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("marketingOpen","false")}catch{}}},[c.pathname]),w.useEffect(()=>{if(N){b(!1),p(!1),_(!1),L(!1),B(!1),R(!1),I(!1);try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("leadMgmtOpen","false")}catch{}}},[N]),w.useEffect(()=>{de?Y("profileCompany"):re(!1)},[de]),w.useEffect(()=>{Oe?Y("systemSettings"):X(!1)},[Oe]),w.useEffect(()=>{Fe?Y("companySetup"):D(!1)},[Fe]),w.useEffect(()=>{Ee?Y("notifications"):H(!1)},[Ee]),w.useEffect(()=>{se?Y("billing"):ae(!1)},[se]),w.useEffect(()=>{_e?Y("dataMgmt"):le(!1)},[_e]);const dt=g||x||ze||A||M||q||O;w.useEffect(()=>{if(Je){b(!1),p(!1),_(!1),B(!1),R(!1),I(!1),Ze(!1),kt(!1);try{typeof window<"u"&&window.localStorage&&(window.localStorage.setItem("leadMgmtOpen","false"),window.localStorage.setItem("marketingOpen","false"),window.localStorage.setItem("marketingReportsOpen","false"))}catch{}}},[Je]),w.useEffect(()=>{I(!!W)},[W]),w.useEffect(()=>{p(!!v)},[v]),w.useEffect(()=>{_(!!xe)},[xe]),w.useEffect(()=>{R(!!Bt)},[Bt]),w.useEffect(()=>{B(!!ft)},[ft]),w.useEffect(()=>{L(!!Je)},[Je]),w.useEffect(()=>{z(!!$e)},[$e]);const[At,kt]=w.useState(()=>{try{if(typeof window<"u"&&window.localStorage){const ee=window.localStorage.getItem("marketingReportsOpen");if(ee==="true")return!0;if(ee==="false")return!1}}catch{}return!1});w.useEffect(()=>{if(!S)try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("marketingReportsOpen",String(At))}catch{}},[S,At]);const{stages:Dt}=Ov(),zt=Array.isArray(Dt)?Dt.map(ee=>typeof ee=="string"?{name:ee,nameAr:"",color:"#3B82F6",icon:""}:ee):[],qt=(()=>{try{return new URLSearchParams(c.search||"").get("stage")||null}catch{return null}})(),[Te,$t]=w.useState(0),We=w.useMemo(()=>{try{const ee=localStorage.getItem("leadsData");if(!ee)return[];const ke=JSON.parse(ee);return Array.isArray(ke)?ke:[]}catch{return[]}},[Te]),Ut=w.useMemo(()=>{try{const ee=localStorage.getItem("deletedLeads");if(!ee)return[];const ke=JSON.parse(ee);return Array.isArray(ke)?ke:[]}catch{return[]}},[Te]),Vt=k?Ut:We;w.useEffect(()=>{const ee=()=>$t(ke=>ke+1);return window.addEventListener("storage",ee),window.addEventListener("leadsDataUpdated",ee),window.addEventListener("deletedLeadsUpdated",ee),$t(ke=>ke+1),()=>{window.removeEventListener("storage",ee),window.removeEventListener("leadsDataUpdated",ee),window.removeEventListener("deletedLeadsUpdated",ee)}},[]);const fa=ee=>typeof ee=="string"&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(ee),Ka=ee=>{try{let ke=ee.replace("#","");ke.length===3&&(ke=ke.split("").map(Ye=>Ye+Ye).join(""));const ye=parseInt(ke,16),Ne=ye>>16&255,Ae=ye>>8&255,De=ye&255;return{r:Ne,g:Ae,b:De}}catch{return{r:0,g:0,b:0}}},Oa=(ee,ke)=>{const{r:ye,g:Ne,b:Ae}=Ka(ee);return`rgba(${ye}, ${Ne}, ${Ae}, ${ke})`},oa={blue:{container:"border-blue-400 dark:border-blue-500 bg-gradient-to-br from-blue-100 via-blue-200 to-blue-300 dark:from-blue-800 dark:via-blue-700 dark:to-blue-600",iconBg:"bg-blue-600 dark:bg-blue-500"},green:{container:"border-green-400 dark:border-green-500 bg-gradient-to-br from-green-100 via-green-200 to-green-300 dark:from-green-800 dark:via-green-700 dark:to-green-600",iconBg:"bg-green-600 dark:bg-green-500"},yellow:{container:"border-yellow-400 dark:border-yellow-500 bg-gradient-to-br from-yellow-100 via-yellow-200 to-yellow-300 dark:from-yellow-800 dark:via-yellow-700 dark:to-yellow-600",iconBg:"bg-yellow-600 dark:bg-yellow-500"},red:{container:"border-red-400 dark:border-red-500 bg-gradient-to-br from-red-100 via-red-200 to-red-300 dark:from-red-800 dark:via-red-700 dark:to-red-600",iconBg:"bg-red-600 dark:bg-red-500"},purple:{container:"border-purple-400 dark:border-purple-500 bg-gradient-to-br from-purple-100 via-purple-200 to-purple-300 dark:from-purple-800 dark:via-purple-700 dark:to-purple-600",iconBg:"bg-purple-600 dark:bg-purple-500"},orange:{container:"border-orange-400 dark:border-orange-500 bg-gradient-to-br from-orange-100 via-orange-200 to-orange-300 dark:from-orange-800 dark:via-orange-700 dark:to-orange-600",iconBg:"bg-orange-600 dark:bg-orange-500"}},Ba=d?"bg-gray-100 border-gray-200 text-gray-800":"bg-gray-900 border-gray-800 text-gray-100",Be=d?"group flex items-center gap-3 px-4 py-1.5 rounded-md text-gray-700 hover:bg-blue-50 transition overflow-hidden":"group flex items-center gap-3 px-4 py-1.5 rounded-md text-gray-200 hover:bg-gray-800 transition overflow-hidden",st="flex-shrink-0 nova-icon flex items-center justify-center",Nt=d?`bg-blue-100 text-blue-700 ${f?"active-link-indicator":"border-l-4"} border-blue-500 font-medium shadow-[inset_0_1px_0_rgba(255,255,255,0.6)]`:`bg-gray-800 text-blue-400 ${f?"active-link-indicator":"border-l-4"} border-blue-500 font-medium`,yt=d?"text-gray-500 group-hover:text-blue-600":"text-gray-400 group-hover:text-blue-400",ta=u.startsWith("ar")?"":"Back",Aa=[{to:"/inventory/products",key:"Products"},{to:"/inventory/items",key:"Items"},{to:"/inventory/warehouse",key:"Warehouse"},{to:"/inventory/suppliers",key:"Suppliers"},{to:"/inventory/stock-management",key:"Stock Management"},{to:"/inventory/transactions",key:"Transactions"},{to:"/inventory/projects",key:"Projects"},{to:"/inventory/properties",key:"Properties"},{to:"/inventory/requests",key:"Requests"}],lr=[{to:"/marketing",key:"Dashboard"},{to:"/marketing/campaigns",key:"Campaigns"},{to:"/marketing/landing-pages",key:"Landing Pages"},{to:"/marketing/meta-integration",key:"Meta Integration"}],[qa,er]=w.useState(!1),[Ta,Cr]=w.useState(!1);return w.useEffect(()=>{er(!!he)},[he]),w.useEffect(()=>{Cr(!!fe)},[fe]),s.jsxs("aside",{id:"app-sidebar",className:`nova-sidebar group fixed inset-y-0 z-[130] md:z-[100] p-4 ${Ba} flex flex-col h-full relative overflow-x-hidden ${f?"right-0 border-l":"left-0 border-r"} ${e?"sidebar-open":""} ${a||""}`,children:[s.jsx("button",{type:"button","aria-label":f?" ":"Close sidebar",onClick:t,className:`md:hidden absolute top-3 ${f?"left-3":"right-3"} z-[140] h-10 w-10 grid place-items-center rounded-full border backdrop-blur-sm shadow-lg transition ${d?"bg-black/10 hover:bg-black/20 border-black/20":"bg-white/10 hover:bg-white/20 border-white/20"}`,children:s.jsx(Ple,{className:`${d?"text-gray-900":"text-white"} text-2xl`})}),s.jsxs("div",{className:"logo-brand flex items-center gap-1 mb-1 mt-0",children:[s.jsx("img",{src:Rm,alt:"Be Souhola",className:"w-11 h-11 flex-shrink-0",style:{backgroundColor:"transparent"}}),s.jsxs("div",{className:"flex flex-col leading-tight min-w-0",children:[s.jsx("span",{className:`sidebar-label whitespace-nowrap hidden md:block ${d?"text-[11px] text-[#0b2b4f]":"text-[10px] text-white"}`,children:"Make everything..."}),s.jsx("span",{className:"sidebar-label font-semibold text-base truncate bg-gradient-to-r from-white via-indigo-200 to-indigo-400 bg-clip-text text-transparent drop-shadow-sm",children:"Be Souhola"})]})]}),s.jsx("div",{className:"sidebar-brand-spacer h-0"}),s.jsxs("nav",{className:`flex-1 md:pt-0 overflow-y-hidden overflow-x-hidden mt-0 pb-16 ${x?"inventory-open":""}`,children:[!dt&&!N&&!Je&&s.jsxs(It,{to:"/dashboard",className:({isActive:ee})=>`${Be} ${ee?Nt:""}`,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:Kl("Dashboard")}),s.jsx("span",{className:"link-label",children:l("Dashboard")})]}),s.jsx("span",{className:"ml-auto nova-badge link-label",children:"1"})]}),!N&&!Je&&(!dt||g)&&r.includes("leads")&&s.jsxs("div",{className:"w-full",children:[g&&s.jsxs("div",{className:`sticky top-0 z-10 flex items-center ${f?"justify-start":"justify-between"} mb-2 ${d?"bg-gray-100":"bg-gray-900"} px-2 py-1`,children:[s.jsxs("button",{type:"button",onClick:()=>b(!1),className:`text-sm font-semibold ${d?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M15 18l-6-6 6-6"})}),s.jsx("span",{children:ta})]}),s.jsx("span",{className:"text-sm font-bold link-label",children:l("Lead Management")})]}),!g&&s.jsxs(It,{to:"/leads",onClick:()=>b(!0),className:({isActive:ee})=>`${Be} w-full justify-between`,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:Kl("Lead Management")}),s.jsx("span",{className:"link-label",children:l("Lead Management")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:g?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:g?"800px":"0",overflow:"hidden",opacity:g?1:0},children:[s.jsx(It,{to:"/leads",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:Kl("Lead Management")}),s.jsx("span",{className:"text-[15px] link-label",children:l("Leads")})]})}),s.jsx(It,{to:"/leads/new",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:Kl("Lead Management")}),s.jsx("span",{className:"text-[15px] link-label",children:l("Add New Lead")})]})}),s.jsx(It,{to:"/recycle",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:Kl("Recycle Bin")}),s.jsx("span",{className:"text-[15px] link-label",children:l("Recycle Bin")})]})}),s.jsx(It,{to:"/leads/stages-status",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Stages & Status")})]})}),s.jsxs("div",{className:`mt-1 ${f?"!pr-0":"!pl-0"}`,children:[s.jsx("div",{className:"py-1",children:s.jsx("span",{className:"text-sm font-semibold tracking-wide text-gray-700 dark:text-gray-200",children:l("Stages")})}),s.jsx("div",{className:`inline-block w-64 rounded-md ${d?"bg-blue-50 border border-blue-100":"bg-gray-800 border border-gray-700"} p-2`,children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs(It,{to:c.pathname.startsWith("/recycle")?"/recycle":"/leads",className:({isActive:ee})=>`block w-full relative overflow-hidden rounded-md border p-2 shadow-sm hover:shadow-md transition-all ${d?"bg-white/90":"bg-gray-900/60"} border-blue-400 dark:border-blue-500`,style:{...qt?{}:{borderColor:"#3B82F6"}},children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`${st} !w-6 !h-6 rounded-lg bg-blue-600 dark:bg-blue-500`,children:s.jsx("span",{className:"text-sm",children:""})}),s.jsx("span",{className:"text-sm font-semibold link-label",children:u.startsWith("ar")?"":"All Leads"})]}),s.jsx("div",{className:"text-xs font-bold bg-white/70 dark:bg-gray-700/70 px-2 py-0.5 rounded-md border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300",children:"100%"})]}),s.jsx("div",{className:"mt-1 text-lg font-black text-gray-900 dark:text-white",children:Vt.length})]}),zt&&zt.length>0?zt.map((ee,ke)=>{const ye=ee?.name||String(ee),Ne=u.startsWith("ar")&&ee?.nameAr||ye,De=`${c.pathname.startsWith("/recycle")?"/recycle":"/leads"}?stage=${encodeURIComponent(ye)}`,Ye=qt===ye,ut=Vt.filter(Ht=>(Ht.stage||Ht.status||"").toLowerCase()===ye.toLowerCase()).length,Ke=Vt.length,et=Ke>0?Math.round(ut/Ke*100):0,at=ee?.color||"#3B82F6",vt=fa(at),Lt=vt?{borderColor:at,background:`linear-gradient(to bottom right, ${Oa(at,.12)}, ${Oa(at,.24)})`}:void 0,Xt=vt?null:oa[at]||oa.blue,Ce=vt?"":Xt?.iconBg||"",Ve=Ye?{borderColor:at}:void 0;return s.jsxs(It,{to:De,className:({isActive:Ht})=>`block w-full relative overflow-hidden rounded-md border p-2 shadow-sm hover:shadow-md transform hover:scale-[1.01] transition-all ${d?"bg-white/90":"bg-gray-900/60"} ${Xt?.container||""}`,style:{...Lt||{},...Ve||{}},children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`${st} !w-6 !h-6 rounded-lg ${Ce}`,style:vt?{backgroundColor:at}:void 0,children:s.jsx("span",{className:"text-sm",children:ee?.icon||""})}),s.jsx("span",{className:"text-sm font-semibold link-label",children:Ne})]}),s.jsxs("div",{className:"text-xs font-bold bg-white/70 dark:bg-gray-700/70 px-2 py-0.5 rounded-md border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300",children:[et,"%"]})]}),s.jsx("div",{className:"mt-1 text-lg font-black text-gray-900 dark:text-white",children:ut})]},`stage-${ke}-${ye}`)}):s.jsx("div",{className:`text-xs ${d?"text-gray-500":"text-gray-400"} ${f?"!pr-10":"!pl-10"}`,children:l("No stages configured")})]})})]})]})]}),!N&&!Je&&(!dt||x)&&s.jsxs("div",{className:"w-full",children:[x?s.jsxs("div",{className:`sticky top-0 z-10 flex items-center justify-between mb-2 ${d?"bg-gray-100":"bg-gray-900"} px-2 py-1`,children:[s.jsx("span",{className:"text-sm font-bold link-label",children:l("Inventory")}),s.jsxs("button",{type:"button",onClick:()=>{p(!1),_(!1),I(!1),L(!1)},className:`ml-auto text-sm font-semibold ${d?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M15 18l-6-6 6-6"})}),s.jsx("span",{children:ta})]})]}):s.jsxs("button",{type:"button",onClick:()=>{p(!0),_(!1),I(!1),L(!1)},className:`${Be} w-full justify-between ${v?"active-parent":""}`,"aria-expanded":x,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:Kl("Inventory")}),s.jsx("span",{className:"link-label",children:l("Inventory")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:x?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsx("div",{className:`${f?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:x?"480px":"0",overflow:"hidden",opacity:x?1:0},children:Aa.map(ee=>s.jsx(It,{to:ee.to,className:({isActive:ke})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ke?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:vye(ee.key)}),s.jsx("span",{className:"text-[15px] link-label",children:l(ee.key)})]})},ee.to))})]}),!Je&&(!dt||ze)&&r.includes("campaigns")&&s.jsxs("div",{className:"w-full",children:[(N||ze)&&s.jsxs("div",{className:`sticky top-0 z-10 flex items-center justify-between mb-2 ${d?"bg-gray-100":"bg-gray-900"} px-2 py-1`,children:[s.jsx("span",{className:"text-sm font-bold link-label",children:l("Marketing Modules")}),s.jsxs("button",{type:"button",onClick:()=>{Ze(!1);try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("marketingOpen","false")}catch{}},className:`ml-auto text-sm font-semibold ${d?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M15 18l-6-6 6-6"})}),s.jsx("span",{children:ta})]})]}),!ze&&s.jsxs("button",{type:"button",onClick:ee=>{ee.preventDefault(),ee.stopPropagation(),Ze(ke=>{const ye=!ke;try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("marketingOpen",String(ye))}catch{}return ye})},className:`${Be} w-full justify-between ${N?"active-parent":""}`,"aria-expanded":ze,children:[s.jsxs("span",{className:"nova-icon-label min-w-0",children:[s.jsx("span",{className:`${st} ${yt}`,children:Kl("Marketing Modules")}),s.jsx("span",{className:"text-[15px] link-label whitespace-nowrap truncate",children:l("Marketing Modules")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:ze?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsx("div",{className:`${f?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:ze?"360px":"0",overflow:"hidden",opacity:ze?1:0},children:lr.map(ee=>s.jsx(It,{to:ee.to,end:ee.to==="/marketing",className:({isActive:ke})=>`${Be} ${f?"!pr-10":"!pl-10"} ${ke?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:bye(ee.key)}),s.jsx("span",{className:"text-[15px] link-label",children:l(ee.key)})]})},ee.to))})]}),!N&&!Je&&(!dt||A)&&s.jsxs("div",{className:"w-full",children:[A?s.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between mb-2 glass-header glass-neon px-2 py-1",children:[s.jsx("span",{className:"text-sm font-bold link-label",children:l("Customers")}),s.jsxs("button",{type:"button",onClick:()=>{_(!1),p(!1),I(!1),L(!1)},className:`ml-auto text-sm font-semibold ${d?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M15 18l-6-6 6-6"})}),s.jsx("span",{children:ta})]})]}):s.jsxs(It,{to:"/customers",onClick:()=>{_(!0),p(!1),I(!1),L(!1)},className:({isActive:ee})=>`${Be} w-full justify-between ${ee?`glass-neon border ${d?"border-blue-200":"border-blue-900"} active-parent`:""}`,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:Kl("Customers")}),s.jsx("span",{className:"link-label",children:l("Customers")})]}),s.jsx("span",{className:"ml-auto nova-badge link-label",children:"12"}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:A?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all glass-neon`,style:{maxHeight:A?"800px":"0",overflow:"hidden",opacity:A?1:0},children:[s.jsx(It,{to:"/customers",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:Kl("Customers")}),s.jsx("span",{className:"text-[15px] link-label",children:l("Customers")})]})}),s.jsx(It,{to:"/sales/opportunities",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Opportunities")})]})}),s.jsx(It,{to:"/sales/quotations",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Quotations")})]})}),s.jsx(It,{to:"/sales/orders",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Sales Orders")})]})}),s.jsx(It,{to:"/sales/invoices",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Invoices")})]})}),s.jsxs("div",{className:"w-full",children:[s.jsxs("button",{type:"button",onClick:()=>R(ee=>!ee),className:`${Be} w-full justify-between ${f?"!pr-0":"!pl-0"} ${Bt?"active-parent":""}`,"aria-expanded":E,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:Kl("Support")}),s.jsx("span",{className:"text-[15px] link-label",children:l("Support")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:E?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"!pr-0":"!pl-0"} space-y-0.5 transition-all`,style:{maxHeight:E?"600px":"0",overflow:"hidden",opacity:E?1:0},children:[s.jsx(It,{to:"/support",end:!0,className:({isActive:ee})=>`${Be} ${f?"!pr-10":"!pl-10"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Dashboard")})]})}),s.jsx(It,{to:"/support/tickets",className:({isActive:ee})=>`${Be} ${f?"!pr-10":"!pl-10"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Tickets")})]})}),s.jsx(It,{to:"/support/customers",className:({isActive:ee})=>`${Be} ${f?"!pr-10":"!pl-10"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Customers")})]})}),s.jsx(It,{to:"/support/sla",className:({isActive:ee})=>`${Be} ${f?"!pr-10":"!pl-10"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("SLA")})]})}),s.jsx(It,{to:"/support/reports",className:({isActive:ee})=>`${Be} ${f?"!pr-10":"!pl-10"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Reports")})]})}),s.jsx(It,{to:"/support/feedbacks",className:({isActive:ee})=>`${Be} ${f?"!pr-10":"!pl-10"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Feedbacks")})]})})]})]})]})]}),!N&&(!dt||M)&&s.jsxs("div",{className:"w-full",children:[M&&s.jsxs("div",{className:`sticky top-0 z-10 flex items-center justify-between mb-2 ${d?"bg-gray-100":"bg-gray-900"} px-2 py-1`,children:[s.jsx("span",{className:"text-sm font-bold link-label",children:l("Reports")}),s.jsxs("button",{type:"button",onClick:()=>L(!1),className:`ml-auto text-sm font-semibold ${d?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M15 18l-6-6 6-6"})}),s.jsx("span",{children:ta})]})]}),!M&&s.jsxs("button",{type:"button",onClick:()=>L(ee=>!ee),className:`${Be} w-full justify-between`,"aria-expanded":M,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:Kl("Reports")}),s.jsx("span",{className:"link-label",children:l("Reports")})]}),s.jsx("span",{className:"ml-auto nova-badge link-label",children:"8"}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:M?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:M?"800px":"0",overflow:"hidden",opacity:M?1:0},children:[s.jsx(It,{to:"/reports",end:!0,className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Reports Dashboard")})]})}),s.jsxs("div",{className:"w-full",children:[s.jsxs("button",{type:"button",onClick:()=>z(ee=>!ee),className:`${Be} w-full justify-between ${f?"!pr-0":"!pl-0"}`,"aria-expanded":U,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Sales Report")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:U?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"!pr-0":"!pl-0"} space-y-0.5 transition-all`,style:{maxHeight:U?"800px":"0",overflow:"hidden",opacity:U?1:0},children:[s.jsx(It,{to:"/reports/sales/activities",className:({isActive:ee})=>`${Be} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Sales Activities")})]})}),s.jsx(It,{to:"/reports/sales/pipeline",className:({isActive:ee})=>`${Be} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Leads pipeline")})]})}),s.jsx(It,{to:"/reports/sales/meetings",className:({isActive:ee})=>`${Be} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Meetings Report")})]})}),s.jsx(It,{to:"/reports/sales/reservations",className:({isActive:ee})=>`${Be} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Reservations")})]})}),s.jsx(It,{to:"/reports/sales/closed-deals",className:({isActive:ee})=>`${Be} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Closed Deals")})]})}),s.jsx(It,{to:"/reports/sales/rent",className:({isActive:ee})=>`${Be} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Rent")})]})}),s.jsx(It,{to:"/reports/sales/check-in",className:({isActive:ee})=>`${Be} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Check in Report")})]})}),s.jsx(It,{to:"/reports/sales/customers",className:({isActive:ee})=>`${Be} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Customers Report")})]})}),s.jsx(It,{to:"/reports/sales/imports",className:({isActive:ee})=>`${Be} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Import")})]})}),s.jsx(It,{to:"/reports/sales/exports",className:({isActive:ee})=>`${Be} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Export")})]})})]})]}),s.jsx(It,{to:"/reports/leads",className:({isActive:ee})=>`${Be} ${f?"!pr-10":"!pl-10"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Lead Report")})]})}),s.jsx(It,{to:"/reports/team",className:({isActive:ee})=>`${Be} ${f?"!pr-10":"!pl-10"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Team Report")})]})})]})]}),!N&&!Je&&(!dt||O)&&s.jsxs("div",{className:"w-full",children:[O?s.jsxs("div",{className:`sticky top-0 z-10 flex items-center justify-between mb-2 ${d?"bg-gray-100":"bg-gray-900"} px-2 py-1`,children:[s.jsx("span",{className:"text-sm font-bold link-label",children:l("User Management")}),s.jsxs("button",{type:"button",onClick:()=>{B(!1),b(!1),p(!1),Ze(!1),_(!1),I(!1),L(!1)},className:`ml-auto text-sm font-semibold ${d?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M15 18l-6-6 6-6"})}),s.jsx("span",{children:ta})]})]}):s.jsxs("button",{type:"button",onClick:()=>{B(!0),b(!1),p(!1),Ze(!1),_(!1),I(!1),L(!1)},className:`${Be} w-full justify-between ${ft?"active-parent":""}`,"aria-expanded":O,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:Kl("User Management")}),s.jsx("span",{className:"link-label",children:l("User Management")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:O?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:O?"480px":"0",overflow:"hidden",opacity:O?1:0},children:[s.jsx(It,{to:"/user-management/users",className:({isActive:ee})=>`${Be} ${f?"!pr-10":"!pl-10"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Users")})]})}),s.jsx(It,{to:"/user-management/teams",className:({isActive:ee})=>`${Be} ${f?"!pr-10":"!pl-10"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Teams")})]})}),s.jsx(It,{to:"/user-management/departments",className:({isActive:ee})=>`${Be} ${f?"!pr-10":"!pl-10"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Departments")})]})}),s.jsx(It,{to:"/user-management/roles",className:({isActive:ee})=>`${Be} ${f?"!pr-10":"!pl-10"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Roles")})]})}),s.jsx(It,{to:"/user-management/activity-logs",className:({isActive:ee})=>`${Be} ${f?"!pr-10":"!pl-10"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Activity Logs")})]})}),s.jsx(It,{to:"/user-management/access-logs",className:({isActive:ee})=>`${Be} ${f?"!pr-10":"!pl-10"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Access Logs")})]})})]})]})]}),!N&&!Je&&(!dt||q)&&r.includes("settings")&&s.jsxs("div",{className:"pt-2 w-full",children:[s.jsx("div",{className:`border-t ${d?"border-gray-200":"border-gray-800"} mb-3`}),q?s.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between mb-2 bg-indigo-50 dark:bg-indigo-900/40 px-3 py-1 rounded-md",children:[s.jsx("span",{className:"text-sm font-bold link-label",children:l("Settings")}),s.jsxs("button",{type:"button",onClick:()=>{I(!1),p(!1),_(!1),L(!1)},className:`ml-auto text-sm font-semibold ${d?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M15 18l-6-6 6-6"})}),s.jsx("span",{children:ta})]})]}):s.jsxs(It,{to:"/settings/profile",onClick:()=>{I(!0),p(!1),_(!1),L(!1)},className:({isActive:ee})=>`${Be} w-full justify-between ${W?"active-parent":""} bg-indigo-50 dark:bg-indigo-900/40 border border-indigo-200 dark:border-indigo-800`,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:Kl("Settings")}),s.jsx("span",{className:"link-label",children:l("Settings")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:q?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:q?"60vh":"0",overflow:q?"auto":"hidden",opacity:q?1:0},children:[s.jsxs("button",{type:"button",onClick:()=>oe("profileCompany"),className:`${Be} w-full justify-between`,"aria-expanded":G,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"link-label",children:l("Profile & Company")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:G?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:G?"300px":"0",overflow:"hidden",opacity:G?1:0},children:[s.jsx(It,{end:!0,to:"/settings/profile",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Profile Settings")})]})}),s.jsx(It,{to:"/settings/profile/company",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Company Settings")})]})}),s.jsx(It,{to:"/settings/profile/contact-info",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Contact Info Settings")})]})})]}),s.jsxs("button",{type:"button",onClick:()=>oe("systemSettings"),className:`${Be} w-full justify-between`,"aria-expanded":te,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"link-label",children:l("System Settings")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:te?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:te?"400px":"0",overflow:"hidden",opacity:te?1:0},children:[s.jsx(It,{to:"/settings/system/preferences",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("System Preferences")})]})}),s.jsx(It,{to:"/settings/system/modules",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Modules Settings")})]})}),s.jsx(It,{to:"/settings/system/security",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Security Settings")})]})}),s.jsx(It,{to:"/settings/system/custom-fields",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Custom Fields")})]})}),s.jsx(It,{to:"/settings/system/audit-logs",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Audit Logs")})]})})]}),s.jsxs("button",{type:"button",onClick:()=>oe("companySetup"),className:`${Be} w-full justify-between`,"aria-expanded":ce,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"link-label",children:l("Company Setup")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:ce?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:ce?"360px":"0",overflow:"hidden",opacity:ce?1:0},children:[s.jsx(It,{to:"/settings/company-setup/info",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Company Info")})]})}),s.jsx(It,{to:"/settings/company-setup/subscription",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Subscription")})]})}),s.jsx(It,{to:"/settings/company-setup/modules",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Enabled Modules")})]})}),s.jsx(It,{to:"/settings/company-setup/departments",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Departments")})]})}),s.jsx(It,{to:"/settings/company-setup/visibility",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Visibility")})]})})]}),s.jsxs("button",{type:"button",onClick:()=>oe("notifications"),className:`${Be} w-full justify-between`,"aria-expanded":Q,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsxs("span",{className:"link-label nova-multiline leading-tight",children:[s.jsx("span",{className:"block",children:l("Notifications")}),s.jsx("span",{className:"block",children:"&"}),s.jsx("span",{className:"block",children:l("Templates")})]})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:Q?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:Q?"360px":"0",overflow:"hidden",opacity:Q?1:0},children:[s.jsx(It,{end:!0,to:"/settings/notifications",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Notifications Settings")})]})}),s.jsx(It,{to:"/settings/notifications/sms-templates",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("SMS Templates")})]})}),s.jsx(It,{to:"/settings/notifications/email-templates",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Email Templates")})]})}),s.jsx(It,{to:"/settings/notifications/whatsapp-templates",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("WhatsApp Templates")})]})})]}),s.jsxs("button",{type:"button",onClick:()=>oe("billing"),className:`${Be} w-full justify-between`,"aria-expanded":J,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"link-label",children:l("Billing & Subscription")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:J?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:J?"320px":"0",overflow:"hidden",opacity:J?1:0},children:[rt&&s.jsx(It,{to:"/settings/billing/subscription",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Billing & Subscription")})]})}),s.jsx(It,{to:"/settings/billing/payment-history",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Payment History")})]})}),s.jsx(It,{to:"/settings/billing/plans-upgrade",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Plans & Upgrade")})]})})]}),s.jsxs("button",{type:"button",onClick:()=>er(ee=>!ee),className:`${Be} w-full justify-between`,"aria-expanded":qa,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"link-label",children:l("Integrations")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:qa?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:qa?"400px":"0",overflow:"hidden",opacity:qa?1:0},children:[s.jsx(It,{to:"/settings/integrations/api-keys",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("API Keys")})]})}),s.jsx(It,{to:"/settings/integrations/webhooks",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Webhooks")})]})}),s.jsx(It,{to:"/settings/integrations/whatsapp",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("WhatsApp Integration")})]})}),s.jsx(It,{to:"/settings/integrations/payment-gateway",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Payment Gateway Integration")})]})}),s.jsx(It,{to:"/settings/integrations/google-slack",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Google / Slack Integrations")})]})})]}),s.jsxs("button",{type:"button",onClick:()=>oe("dataMgmt"),className:`${Be} w-full justify-between`,"aria-expanded":ie,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"link-label",children:l("Data Management")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:ie?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:ie?"320px":"0",overflow:"hidden",opacity:ie?1:0},children:[s.jsx(It,{to:"/settings/data/import",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Import")})]})}),s.jsx(It,{to:"/settings/data/export",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Export")})]})}),s.jsx(It,{to:"/settings/data/backup",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Backup")})]})})]}),s.jsxs("button",{type:"button",onClick:()=>Cr(ee=>!ee),className:`${Be} w-full justify-between`,"aria-expanded":Ta,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"link-label",children:l("Configuration")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:Ta?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:Ta?"800px":"0",overflow:"hidden",opacity:Ta?1:0},children:[s.jsx(It,{to:"/settings/operations/scripting",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Scripting")})]})}),s.jsx(It,{to:"/settings/operations/eoi",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("EOI Settings")})]})}),s.jsx(It,{to:"/settings/operations/reservation",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Reservation Settings")})]})}),s.jsx(It,{to:"/settings/operations/rotation",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Rotation Settings")})]})}),s.jsx(It,{to:"/settings/operations/contracts",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Contracts Settings")})]})}),s.jsx(It,{to:"/settings/operations/buyer-request-reset",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Buyer Request Reset")})]})}),s.jsx(It,{to:"/settings/operations/matching",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Matching Settings")})]})}),s.jsx(It,{to:"/settings/operations/rent",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Rent Configuration")})]})}),s.jsx(It,{to:"/settings/operations/cil",className:({isActive:ee})=>`${Be} ${f?"!pr-0":"!pl-0"} ${ee?Nt:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("CIL Settings")})]})})]})]})]}),s.jsxs("div",{className:"mt-auto pt-2 w-full",children:[s.jsx("div",{className:`border-t ${d?"border-gray-200":"border-gray-800"} mb-3`}),s.jsx(It,{to:"/contact",className:({isActive:ee})=>`${Be} ${ee?Nt:""} bg-emerald-50 dark:bg-emerald-900/40 border border-emerald-200 dark:border-emerald-800`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${st} ${yt}`,children:Kl("Contact us")}),s.jsx("span",{className:"link-label",children:l("Contact us")})]})})]})]})};function wye({open:e=!1,onClose:t,className:a=""}){const{i18n:r}=Et();return r.language,s.jsx(s.Fragment,{children:s.jsx(yye,{className:`w-full md:w-[240px] md:max-w-none ${a}`,isOpen:e,onClose:t})})}const OV="userActionsByDate",jye=()=>{try{const e=localStorage.getItem(OV),t=e?JSON.parse(e):{},a={};return Object.keys(t).forEach(r=>{t[r]&&Array.isArray(t[r])&&(a[r]=t[r].filter(n=>{const i=String(n).toLowerCase();return i.includes("meeting")||i.includes("")||i.includes(" ")||i.includes(" ")||i.includes(" ")||i.includes(" ")}))}),a}catch{return{}}},YP=e=>{try{const t={};Object.keys(e).forEach(a=>{e[a]&&Array.isArray(e[a])&&(t[a]=e[a].filter(r=>{const n=String(r).toLowerCase();return n.includes("meeting")||n.includes("")||n.includes(" ")||n.includes(" ")||n.includes(" ")||n.includes(" ")}))}),localStorage.setItem(OV,JSON.stringify(t))}catch{}},Nye=(e,t)=>{const r=new Date(e,t,1).getDay(),n=new Date(e,t+1,0).getDate(),i=new Date(e,t,0).getDate(),l=[];for(let o=0;o<r;o++){const c=i-r+1+o;l.push({date:new Date(e,t-1,c),inMonth:!1})}for(let o=1;o<=n;o++)l.push({date:new Date(e,t,o),inMonth:!0});for(;l.length%7!==0;){const o=l[l.length-1].date,c=new Date(o);c.setDate(o.getDate()+1),l.push({date:c,inMonth:!1})}return l};function Sye({open:e,onClose:t,tone:a="light"}){const{t:r,i18n:n}=Et(),i=a==="light",[l]=w.useState(new Date),[o,c]=w.useState(new Date),[d,u]=w.useState(new Date),[f,x]=w.useState(null),[p,v]=w.useState({}),[g,b]=w.useState(!1),[j,N]=w.useState(!1),[S,k]=w.useState("selected"),[A,_]=w.useState(null),[M,L]=w.useState(520),U=$e=>{L(ze=>Math.max(380,Math.min(800,ze+$e)))},[z,O]=w.useState(""),[B,E]=w.useState(""),[R,q]=w.useState(""),[I,G]=w.useState(""),[re,te]=w.useState(""),[X,ce]=w.useState([]),[D,Q]=w.useState(!1),[H,J]=w.useState(null),ae=[r("All Managers"),"Manager 1","Manager 2","Manager 3"],ie=[r("All Employees"),"Employee 1","Employee 2","Employee 3"],le=()=>{try{const $e=JSON.parse(localStorage.getItem("crmStages")||"[]");if($e.length>0){const ze=$e.map(Ze=>Ze.name||String(Ze)).filter(Boolean);ce([r("All Stages"),...ze])}else ce([r("All Stages"),"New Lead","Contacted","Qualified","Proposal","Negotiation","Closed Won","Closed Lost"])}catch($e){console.error("Failed to load stages:",$e),ce([r("All Stages"),"New Lead","Contacted","Qualified","Proposal","Negotiation","Closed Won","Closed Lost"])}},Y=()=>{try{const $e=localStorage.getItem("leads");return $e?JSON.parse($e):[]}catch($e){return console.error("Failed to load leads:",$e),[]}},oe=$e=>Y().find(Ze=>Ze.id===$e)||null,xe=$e=>{const ze=oe($e);ze&&(J(ze),Q(!0))};w.useEffect(()=>{const $e=jye(),ze=zt=>{const qt=zt.getFullYear(),Te=String(zt.getMonth()+1).padStart(2,"0"),$t=String(zt.getDate()).padStart(2,"0");return`${qt}-${Te}-${$t}`},Ze=new Date(l);Ze.setDate(l.getDate()+1);const dt=new Date(l);dt.setDate(l.getDate()+3);const At=new Date(l);At.setDate(l.getDate()+7);const kt={[ze(Ze)]:[{id:"demo-1",type:"meeting",title:"    ",description:"   ",leadId:"lead_001",leadName:" ",leadPhone:"+966501234567",assignedTo:" ",status:"scheduled",priority:"high",location:" ",time:"10:00"}],[ze(dt)]:[{id:"demo-2",type:"call",title:"Follow-up Call",description:"Follow-up with client about proposal",leadId:"lead_002",leadName:"John Smith",leadPhone:"+1-555-0123",assignedTo:"Sarah Sales",status:"scheduled",priority:"medium",location:"Remote",time:"14:30"}],[ze(At)]:[{id:"demo-3",type:"meeting",title:"  ",description:"     ",leadId:"lead_003",leadName:" ",leadPhone:"+966509876543",assignedTo:" ",status:"scheduled",priority:"high",location:" ",time:"11:15"}]},Dt={...$e};Object.entries(kt).forEach(([zt,qt])=>{Dt[zt]=[...Dt[zt]||[],...qt]}),v(Dt),YP(Dt),le(),O(r("All Stages")),E(r("All Managers")),q(r("All Employees")),G(r("All Leads"))},[]),w.useEffect(()=>{O(r("All Stages")),E(r("All Managers")),q(r("All Employees")),G(r("All Leads")),le()},[n.language]);const W=o.getFullYear(),he=o.getMonth(),fe=w.useMemo(()=>Nye(W,he),[W,he]),de=$e=>{const ze=$e.getFullYear(),Ze=String($e.getMonth()+1).padStart(2,"0"),dt=String($e.getDate()).padStart(2,"0");return`${ze}-${Ze}-${dt}`},Oe=$e=>p[de($e)]||[],Fe=$e=>{const ze=new Date($e),Ze=ze.getDay();return ze.setDate(ze.getDate()-Ze),ze.setHours(0,0,0,0),ze},Ee=$e=>{const ze=new Date(Fe($e));return ze.setDate(ze.getDate()+6),ze.setHours(23,59,59,999),ze},se=$e=>new Date($e.getFullYear(),$e.getMonth(),1),_e=$e=>new Date($e.getFullYear(),$e.getMonth()+1,0),je=($e,ze)=>{const Ze=[],dt=new Date($e);for(;dt<=ze;)Ze.push(...Oe(dt)),dt.setDate(dt.getDate()+1);return Ze},rt=($e=10,ze=30)=>{try{const Ze=new Date,dt=new Date(Ze);dt.setDate(dt.getDate()+ze);const At=[];Object.entries(p||{}).forEach(([Dt,zt])=>{const qt=new Date(Dt);zt.forEach(Te=>{const $t=new Date(qt);if(Te&&Te.time){const[We,Ut]=String(Te.time).split(":");isNaN(We)||$t.setHours(parseInt(We,10)),isNaN(Ut)||$t.setMinutes(parseInt(Ut,10))}At.push({...Te,_dt:$t})})});let kt=At.filter(Dt=>Dt._dt>=Ze&&Dt._dt<=dt);if(R&&R!==r("All Employees")?kt=kt.filter(Dt=>Dt.assignedTo===R):B&&B!==r("All Managers")&&(kt=kt.filter(Dt=>Dt.assignedTo===B)),I&&I!==r("All Leads")&&(kt=kt.filter(Dt=>Dt.leadName===I)),re&&String(re).trim()){const Dt=String(re).trim().toLowerCase();kt=kt.filter(zt=>(zt.title||"").toLowerCase().includes(Dt)||(zt.description||"").toLowerCase().includes(Dt))}return kt.sort((Dt,zt)=>Dt._dt-zt._dt),kt.slice(0,$e)}catch{return[]}},ft=$e=>{let ze=[];if($e==="selected"||$e==="day")ze=Oe(d||l);else if($e==="week"){const Ze=Fe(l),dt=Ee(l);ze=je(Ze,dt)}else if($e==="month"){const Ze=se(o),dt=_e(o);ze=je(Ze,dt)}else $e==="upcoming"&&(ze=rt());if(R&&R!==r("All Employees")?ze=ze.filter(Ze=>typeof Ze!="string"&&Ze.assignedTo===R):B&&B!==r("All Managers")&&(ze=ze.filter(Ze=>typeof Ze!="string"&&Ze.assignedTo===B)),I&&I!==r("All Leads")&&(ze=ze.filter(Ze=>typeof Ze!="string"&&Ze.leadName===I)),re){const Ze=String(re).toLowerCase();ze=ze.filter(dt=>{const At=typeof dt=="string"?dt:[dt.title,dt.leadName,dt.assignedTo,dt.location].filter(Boolean).join(" ");return String(At).toLowerCase().includes(Ze)})}return ze},Bt=w.useMemo(()=>{let ze=Object.values(p).flat();R&&R!==r("All Employees")?ze=ze.filter(dt=>dt.assignedTo===R):B&&B!==r("All Managers")&&(ze=ze.filter(dt=>dt.assignedTo===B));const Ze=Array.from(new Set(ze.map(dt=>dt.leadName).filter(Boolean)));return[r("All Leads"),...Ze]},[p,R,B,n.language]),Je=$e=>{if($e.type!=="meeting")return;const ze=d?de(d):$e.date,dt=($e.title||"").trim()||($e.notes?String($e.notes).slice(0,60):`${$e.type} action`),At={...p,[ze]:[...p[ze]||[],dt]};v(At),YP(At),b(!1)};return e?s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-start justify-center pt-10",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px]",onClick:t,"aria-label":"Close calendar"}),s.jsxs("div",{className:`relative w-full h-screen sm:w-[90%] sm:max-w-4xl sm:h-auto sm:max-h-[90vh] overflow-y-auto rounded-none sm:rounded-xl border shadow-2xl ${i?"bg-white border-gray-200 text-gray-800":"bg-gray-900 border-gray-700 text-gray-100"}`,children:[s.jsx("button",{className:`absolute top-4 right-4 z-10 p-2 rounded-md transition-colors ${i?"hover:bg-gray-100 text-gray-500 hover:text-gray-700":"hover:bg-gray-800 text-gray-400 hover:text-gray-200"}`,onClick:t,"aria-label":"Close calendar",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"p-4 pt-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),s.jsxs("div",{children:[s.jsx("h2",{className:`text-base font-semibold ${i?"text-gray-900":"text-white"}`,children:"Calender"}),s.jsx("p",{className:`text-sm ${i?"text-gray-500":"text-gray-400"}`,children:"Select which columns you need to see lead table"})]})]}),s.jsxs("div",{className:`flex flex-col sm:flex-row items-center justify-between px-3 py-2 border-b gap-2 ${i?"bg-gray-50 border-gray-200":"bg-gray-800 border-gray-700"}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:`font-bold text-base ${i?"text-gray-800":"text-white"}`,children:o.toLocaleString(void 0,{month:"long",year:"numeric"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("select",{value:he,onChange:$e=>{const ze=parseInt($e.target.value,10);c(new Date(W,ze,1))},className:`px-2 py-1 text-xs rounded-md border ${i?"bg-white border-gray-300 text-gray-800":"bg-gray-700 border-gray-600 text-gray-200"}`,"aria-label":"Select month",children:Array.from({length:12}).map(($e,ze)=>s.jsx("option",{value:ze,children:new Date(2e3,ze,1).toLocaleString(void 0,{month:"long"})},ze))}),s.jsx("select",{value:W,onChange:$e=>{const ze=parseInt($e.target.value,10);c(new Date(ze,he,1))},className:`px-2 py-1 text-xs rounded-md border ${i?"bg-white border-gray-300 text-gray-800":"bg-gray-700 border-gray-600 text-gray-200"}`,"aria-label":"Select year",children:Array.from({length:21}).map(($e,ze)=>{const Ze=l.getFullYear()-10+ze;return s.jsx("option",{value:Ze,children:Ze},Ze)})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:`p-1 rounded-md ${i?"hover:bg-gray-200":"hover:bg-gray-700"}`,onClick:()=>c(new Date(W,he-1,1)),"aria-label":"Prev month",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:s.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),s.jsx("button",{className:`p-1 rounded-md ${i?"hover:bg-gray-200":"hover:bg-gray-700"}`,onClick:()=>c(new Date(W,he+1,1)),"aria-label":"Next month",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{className:`px-3 py-1 text-sm font-semibold rounded-md ${i?"bg-gray-200 hover:bg-gray-300":"bg-gray-700 hover:bg-gray-600"}`,onClick:()=>c(new Date),children:"Today"})})]}),s.jsxs("div",{className:"p-3",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("select",{value:z,onChange:$e=>O($e.target.value),className:`px-3 py-1 text-sm rounded-md border ${i?"bg-white border-gray-300 text-gray-700":"bg-gray-700 border-gray-600 text-gray-200"}`,children:X.map($e=>s.jsx("option",{value:$e,children:$e},$e))}),s.jsx("select",{value:B,onChange:$e=>E($e.target.value),className:`px-3 py-1 text-sm rounded-md border ${i?"bg-white border-gray-300 text-gray-700":"bg-gray-700 border-gray-600 text-gray-200"}`,children:ae.map($e=>s.jsx("option",{value:$e,children:$e},$e))}),s.jsx("select",{value:R,onChange:$e=>q($e.target.value),className:`px-3 py-1 text-sm rounded-md border ${i?"bg-white border-gray-300 text-gray-700":"bg-gray-700 border-gray-600 text-gray-200"}`,children:ie.map($e=>s.jsx("option",{value:$e,children:$e},$e))}),s.jsx("select",{value:I,onChange:$e=>G($e.target.value),className:`px-3 py-1 text-sm rounded-md border ${i?"bg-white border-gray-300 text-gray-700":"bg-gray-700 border-gray-600 text-gray-200"}`,children:Bt.map($e=>s.jsx("option",{value:$e,children:$e},$e))})]}),s.jsx("div",{className:"flex-1 md:flex-none",children:s.jsx("input",{type:"search",value:re,onChange:$e=>te($e.target.value),placeholder:"Search...",className:`w-full md:w-64 px-3 py-1 text-sm rounded-md border ${i?"bg-white border-gray-300 text-gray-700 placeholder-gray-400":"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-400"}`})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-stretch",children:[s.jsxs("div",{className:"min-h-[360px] flex flex-col",style:{height:M},children:[s.jsx("div",{className:"grid grid-cols-7 text-xs opacity-70 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map($e=>s.jsx("div",{className:"text-center py-1",children:$e},$e))}),s.jsx("div",{className:"grid grid-cols-7 gap-1 flex-1 overflow-y-auto",children:fe.map(({date:$e,inMonth:ze},Ze)=>{const dt=$e.toDateString()===l.toDateString(),At=d&&$e.toDateString()===d.toDateString();let kt=Oe($e);return R&&R!==r("All Employees")?kt=kt.filter(Dt=>Dt.assignedTo===R):B&&B!==r("All Managers")&&(kt=kt.filter(Dt=>Dt.assignedTo===B)),I&&I!==r("All Leads")&&(kt=kt.filter(Dt=>Dt.leadName===I)),s.jsx("div",{className:"relative group",children:s.jsxs("button",{onClick:()=>{u($e),k("selected")},onMouseEnter:()=>x($e),onMouseLeave:()=>x(null),className:`text-center rounded-lg border p-2 min-h-[70px] w-full transition-colors duration-150 ${ze?i?"bg-white border-gray-200 hover:bg-gray-100":"bg-gray-800 border-gray-700 hover:bg-gray-700":i?"bg-gray-50 border-gray-200 opacity-50":"bg-gray-900 border-gray-800 opacity-50"} ${dt?"ring-2 ring-indigo-500":""} ${At?"ring-2 ring-blue-500":""}`,children:[s.jsx("span",{className:"text-sm font-medium",children:$e.getDate()}),kt.length>0&&s.jsx("span",{className:`mt-1 inline-block w-2 h-2 rounded-full ${i?"bg-indigo-500":"bg-indigo-400"}`})]})},Ze)})})]}),s.jsxs("div",{className:"min-h-[360px] flex flex-col",style:{height:M},children:[s.jsxs("div",{className:`rounded-xl border ${i?"bg-white border-gray-200":"bg-gray-800 border-gray-700"} shadow-sm flex-1 flex flex-col overflow-hidden`,children:[s.jsxs("div",{className:`px-4 py-2 border-b flex items-center justify-between ${i?"border-gray-200":"border-gray-700"}`,children:[s.jsx("span",{className:"font-semibold text-sm",children:r("Actions")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex items-center gap-1",children:[{key:"selected",label:d&&d.toDateString()===l.toDateString()?r("Today"):r("Selected","Selected")},{key:"week",label:r("Week")},{key:"month",label:r("Month")},{key:"upcoming",label:r("Upcoming")}].map($e=>s.jsx("button",{className:`px-2 py-1 text-xs rounded-md border ${i?"border-gray-300":"border-gray-600"} ${S===$e.key?i?"bg-gray-200":"bg-gray-700":""}`,onClick:()=>k($e.key),children:$e.label},$e.key))}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{title:r("Decrease height"),className:`px-2 py-1 text-xs rounded-md border ${i?"border-gray-300 hover:bg-gray-100":"border-gray-600 hover:bg-gray-700"}`,onClick:()=>U(-40),children:""}),s.jsx("button",{title:r("Increase height"),className:`px-2 py-1 text-xs rounded-md border ${i?"border-gray-300 hover:bg-gray-100":"border-gray-600 hover:bg-gray-700"}`,onClick:()=>U(40),children:"+"})]})]})]}),s.jsxs("div",{className:"p-3 space-y-2 overflow-y-auto flex-1",children:[ft(S).map(($e,ze)=>{const Ze=typeof $e=="string"?$e:$e.title||"Action",dt=typeof $e=="string"?"medium":$e.priority||"medium",At=dt==="high"?i?"bg-red-100":"bg-red-900/30":dt==="medium"?i?"bg-yellow-100":"bg-yellow-900/30":i?"bg-emerald-100":"bg-emerald-900/30",kt=dt==="high"?i?"text-red-800":"text-red-300":dt==="medium"?i?"text-yellow-800":"text-yellow-300":i?"text-emerald-800":"text-emerald-300",Dt=typeof $e=="string"?"":$e.leadName?$e.leadName:"";return s.jsxs("button",{className:`w-full text-left flex items-center justify-between px-3 py-2 rounded-xl ${At} cursor-pointer`,onClick:()=>{typeof $e!="string"&&$e.leadId?xe($e.leadId):_($e)},children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${kt} bg-current`}),s.jsxs("div",{children:[s.jsx("div",{className:`text-sm font-medium ${kt}`,children:Ze}),Dt&&s.jsx("div",{className:"text-xs opacity-70",children:Dt})]})]}),s.jsx("span",{className:"text-white bg-gray-400/60 rounded-full w-5 h-5 flex items-center justify-center",children:""})]},ze)}),ft(S).length===0&&s.jsx("div",{className:`text-sm ${i?"text-gray-600":"text-gray-300"} opacity-70`,children:r("No actions for selected range.")})]})]}),s.jsxs("div",{className:`mt-3 rounded-xl border ${i?"bg-white border-gray-200":"bg-gray-800 border-gray-700"} shadow-sm`,children:[s.jsx("div",{className:`px-4 py-2 border-b font-semibold text-sm ${i?"border-gray-200":"border-gray-700"}`,children:r("Notifications")}),s.jsxs("div",{className:"p-3 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),s.jsx("span",{children:r("Reminder: Meeting in 15 min.")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),s.jsxs("span",{children:[r("New Lead assigned"),": John Smith"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500"}),s.jsx("span",{children:r("Update: Project status changed to In Progress")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-500"}),s.jsx("span",{children:r("New message received")})]})]})]})]})]})]}),g&&s.jsx(uA,{isOpen:!0,onClose:()=>b(!1),onSave:Je,lead:null}),A&&s.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>_(null)}),s.jsxs("div",{className:`relative w-[92%] sm:w-[480px] rounded-2xl border shadow-xl ${i?"bg-white border-gray-200 text-gray-800":"bg-gray-800 border-gray-700 text-gray-100"}`,children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"font-semibold text-sm",children:" "}),s.jsx("button",{className:`px-2 py-1 rounded-md text-xs ${i?"bg-gray-100 hover:bg-gray-200":"bg-gray-700 hover:bg-gray-600"}`,onClick:()=>_(null),children:""})]}),s.jsxs("div",{className:"px-4 py-3 space-y-2 text-sm",children:[s.jsx("div",{className:"font-medium",children:typeof A=="string"?A:A.title||"Action"}),typeof A!="string"&&s.jsxs(s.Fragment,{children:[A.description&&s.jsx("div",{className:"opacity-80",children:A.description}),s.jsxs("div",{className:"opacity-75",children:[" ",A.leadName||""," |  ",A.assignedTo||""]}),A.location&&s.jsxs("div",{className:"opacity-75",children:[" ",A.location]}),A.leadPhone&&s.jsxs("div",{className:"opacity-75",children:[" ",A.leadPhone]})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[typeof A!="string"&&A.leadId&&s.jsx("button",{className:"text-xs px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>xe(A.leadId),children:" "}),typeof A!="string"&&A.leadPhone&&s.jsx("button",{className:"text-xs px-2 py-1 bg-green-500 text-white rounded hover:bg-green-600",onClick:()=>window.open(`tel:${A.leadPhone}`,"_self"),children:""}),typeof A!="string"&&A.leadPhone&&s.jsx("button",{className:"text-xs px-2 py-1 bg-emerald-500 text-white rounded hover:bg-emerald-600",onClick:()=>window.open(`https://wa.me/${A.leadPhone.replace("+","")}`,"_blank"),children:""})]})]})]})]}),s.jsx(kye,{lead:H,isOpen:D,onClose:()=>Q(!1),isLight:i})]})]})]}):null}function kye({lead:e,isOpen:t,onClose:a,isLight:r}){return!t||!e?null:s.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:a}),s.jsx("div",{className:`relative w-full max-w-md mx-4 rounded-xl border shadow-2xl ${r?"bg-white border-gray-200 text-gray-800":"bg-gray-800 border-gray-700 text-gray-100"}`,children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:" "}),s.jsx("button",{onClick:a,className:`p-2 rounded-md transition-colors ${r?"hover:bg-gray-100 text-gray-500":"hover:bg-gray-700 text-gray-400"}`,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${r?"bg-gray-200 text-gray-600":"bg-gray-700 text-gray-300"}`,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:e.name}),s.jsx("p",{className:`text-sm ${r?"text-gray-600":"text-gray-400"}`,children:e.company||"Individual Client"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{className:`p-3 rounded-lg ${r?"bg-gray-50":"bg-gray-700"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-blue-500",children:s.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),s.jsx("span",{className:"text-sm font-medium",children:""})]}),s.jsx("p",{className:"text-sm",children:e.phone})]}),e.email&&s.jsxs("div",{className:`p-3 rounded-lg ${r?"bg-gray-50":"bg-gray-700"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-green-500",children:[s.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),s.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),s.jsx("span",{className:"text-sm font-medium",children:" "})]}),s.jsx("p",{className:"text-sm",children:e.email})]}),e.stage&&s.jsxs("div",{className:`p-3 rounded-lg ${r?"bg-gray-50":"bg-gray-700"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-purple-500",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-sm font-medium",children:""})]}),s.jsx("p",{className:"text-sm",children:e.stage})]}),e.source&&s.jsxs("div",{className:`p-3 rounded-lg ${r?"bg-gray-50":"bg-gray-700"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-orange-500",children:s.jsx("path",{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-sm font-medium",children:""})]}),s.jsx("p",{className:"text-sm",children:e.source})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsxs("button",{onClick:()=>window.open(`tel:${e.phone}`,"_self"),className:"flex-1 bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:s.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),""]}),s.jsxs("button",{onClick:()=>window.open(`https://wa.me/${e.phone.replace("+","")}`,"_blank"),className:"flex-1 bg-emerald-500 hover:bg-emerald-600 text-white py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),""]})]})]})]})})]})}const Cye=e=>{const t={className:"w-5 h-5"};switch(e){case"task":return s.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[s.jsx("path",{d:"M9 11l2 2 4-4"}),s.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2"})]});case"lead":return s.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[s.jsx("circle",{cx:"12",cy:"7",r:"4"}),s.jsx("path",{d:"M5.5 21a6.5 6.5 0 0113 0"})]});case"campaign":return s.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[s.jsx("path",{d:"M5 12h14"}),s.jsx("path",{d:"M7 9l3-3 3 3"}),s.jsx("path",{d:"M17 15l-3 3-3-3"})]});case"inventory":return s.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"14",rx:"2"}),s.jsx("path",{d:"M3 10h18"})]});case"comment":return s.jsx("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:s.jsx("path",{d:"M21 15a4 4 0 01-4 4H7l-4 4V7a4 4 0 014-4h10a4 4 0 014 4z"})});case"system":default:return s.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[s.jsx("path",{d:"M12 9v4"}),s.jsx("path",{d:"M12 17h.01"}),s.jsx("circle",{cx:"12",cy:"12",r:"9"})]})}},Aye=e=>{try{const t=Date.now()-Number(e||0),a=Math.floor(t/6e4);if(a<1)return"now";if(a<60)return`${a}m`;const r=Math.floor(a/60);return r<24?`${r}h`:`${Math.floor(r/24)}d`}catch{return""}};function _ye({data:e,onToggleRead:t,onArchive:a,onUnarchive:r}){const{t:n}=Et(),[i,l]=w.useState(!1),o=w.useMemo(()=>{switch(e?.type){case"task":return"text-green-600 dark:text-green-400";case"lead":return"text-blue-600 dark:text-blue-400";case"campaign":return"text-purple-600 dark:text-purple-400";case"inventory":return"text-amber-600 dark:text-amber-400";case"comment":return"text-pink-600 dark:text-pink-400";case"system":default:return"text-gray-600 dark:text-gray-300"}},[e?.type]),c=e?.read?"border-gray-200 dark:border-gray-800":"border-blue-300 dark:border-blue-700",d=e?.read?"bg-[var(--content-bg)]":"bg-blue-50/50 dark:bg-blue-900/10";return s.jsxs("div",{className:`rounded-md border ${c} ${d} p-3 sm:p-4 flex items-start gap-3`,children:[s.jsx("div",{className:`flex-shrink-0 mt-0.5 ${o}`,children:Cye(e?.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-medium truncate",children:e?.title||""}),e?.archived&&s.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-gray-200 dark:bg-gray-800 text-gray-600 dark:text-gray-300",children:n("Archived","Archived")}),!e?.read&&s.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-blue-600 text-white",children:n("New","New")})]}),s.jsx("p",{className:"text-sm opacity-80 truncate",children:e?.body||""}),s.jsxs("div",{className:"text-xs opacity-60 mt-0.5",children:[Aye(e?.createdAt),"  ",n(e?.source)||e?.source]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>l(u=>!u),className:"btn btn-xs btn-ghost text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700","aria-expanded":i,title:i?n("Collapse","Collapse"):n("Expand","Expand"),children:s.jsx("svg",{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})}),s.jsx("button",{onClick:t,className:"btn btn-xs",title:e?.read?n("Mark as unread","Mark as unread"):n("Mark as read","Mark as read"),children:e?.read?n("Unread","Unread"):n("Read","Read")}),e?.archived?s.jsx("button",{onClick:r,className:"btn btn-xs btn-outline",title:n("Unarchive","Unarchive"),children:n("Unarchive","Unarchive")}):s.jsx("button",{onClick:a,className:"btn btn-xs btn-outline",title:n("Archive","Archive"),children:n("Archive","Archive")})]})]}),i&&s.jsx("div",{className:"pt-3 mt-2 border-t border-gray-200 dark:border-gray-800 text-sm",children:s.jsx("div",{className:"opacity-90 whitespace-pre-wrap",children:e?.body||""})})]})]})}function XP(){const e=Date.now();return[{id:"n1",type:"task",title:"New task assigned",body:"Call client Ibrahim about contract details",createdAt:e-1e3*60*20,read:!1,archived:!1,source:"Tasks"},{id:"n2",type:"lead",title:"New lead imported",body:'Lead "Sara Ali" added from Meta campaign',createdAt:e-1e3*60*60*2,read:!1,archived:!1,source:"Leads"},{id:"n3",type:"campaign",title:"Campaign budget alert",body:"Google Ads daily budget reached 90%",createdAt:e-1e3*60*60*6,read:!0,archived:!1,source:"Marketing"},{id:"n4",type:"inventory",title:"Low stock threshold",body:'Item "SKU-AX12" is running low',createdAt:e-1e3*60*60*12,read:!1,archived:!1,source:"Inventory"},{id:"n5",type:"comment",title:"New comment on Task",body:"Omar: Please update the deadline to Friday",createdAt:e-1e3*60*60*26,read:!0,archived:!1,source:"Tasks"},{id:"n6",type:"system",title:"System updated",body:"CRM Ibrahim v1.2.3 deployed successfully",createdAt:e-1e3*60*60*48,read:!0,archived:!1,source:"System"},{id:"n7",type:"task",title:"Task deadline tomorrow",body:"Prepare product demo materials",createdAt:e-1e3*60*60*4,read:!1,archived:!1,source:"Tasks"},{id:"n8",type:"lead",title:"Lead status changed",body:'Lead "Mohamed" moved to Qualified',createdAt:e-1e3*60*10,read:!1,archived:!1,source:"Leads"}]}const Tye=[{value:"All",label:"All"},{value:"task",label:"Tasks"},{value:"lead",label:"Leads"},{value:"campaign",label:"Campaigns"},{value:"inventory",label:"Inventory"},{value:"comment",label:"Comments"},{value:"system",label:"System"}];function RV({embedded:e=!1}){const{t,i18n:a}=Et();a.language;const[r,n]=w.useState([]),[i,l]=w.useState("all"),[o,c]=w.useState(""),[d,u]=w.useState("All");w.useEffect(()=>{try{const N=localStorage.getItem("notificationsData");if(N){const S=JSON.parse(N);if(Array.isArray(S))n(S);else throw new Error("Invalid notifications")}else{const S=XP();n(S),localStorage.setItem("notificationsData",JSON.stringify(S))}}catch{const N=XP();n(N);try{localStorage.setItem("notificationsData",JSON.stringify(N))}catch{}}},[]);const f=w.useCallback(N=>{n(N);try{localStorage.setItem("notificationsData",JSON.stringify(N)),window.dispatchEvent(new Event("notificationsUpdated"))}catch{}},[]),x=w.useMemo(()=>{const N=o.trim().toLowerCase();return r.filter(S=>!(i==="unread"&&S.read||i==="archived"&&!S.archived||i!=="archived"&&S.archived||d!=="All"&&(S.type||"")!==d||N&&!`${S.title||""} ${S.body||""}`.toLowerCase().includes(N)))},[r,i,o,d]),p=w.useMemo(()=>r.filter(N=>!N.read&&!N.archived).length,[r]),v=()=>{const N=r.map(S=>({...S,read:!0}));f(N)},g=()=>{const N=r.filter(S=>!S.read);f(N)},b=N=>{const S=r.map(k=>k.id===N?{...k,read:!k.read}:k);f(S)},j=(N,S)=>{const k=r.map(A=>A.id===N?{...A,archived:S}:A);f(k)};return s.jsxs("div",{className:`space-y-6 ${e?"p-0":""}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"page-title text-xl font-semibold",children:t("Notifications","Notifications")}),s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 text-xs rounded-full bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",children:[p," ",t("Unread","Unread")]})]}),!e&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:v,className:"btn btn-sm",children:t("Mark all as read","Mark all as read")}),s.jsx("button",{type:"button",onClick:g,className:"btn btn-sm btn-outline",children:t("Clear read","Clear read")})]})]}),s.jsx("div",{className:"h-3","aria-hidden":"true"}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("button",{onClick:()=>l("all"),className:`px-3 py-1.5 text-sm rounded-md border transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 active:scale-[0.98] ${i==="all"?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-gray-50 dark:bg-transparent border-gray-300 dark:border-gray-700 text-gray-800 dark:text-[var(--content-text)] hover:bg-blue-50 dark:hover:bg-blue-900/10 hover:shadow"}`,children:t("All")}),s.jsx("button",{onClick:()=>l("unread"),className:`px-3 py-1.5 text-sm rounded-md border transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 active:scale-[0.98] ${i==="unread"?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-gray-50 dark:bg-transparent border-gray-300 dark:border-gray-700 text-gray-800 dark:text-[var(--content-text)] hover:bg-blue-50 dark:hover:bg-blue-900/10 hover:shadow"}`,children:t("Unread","Unread")}),s.jsx("button",{onClick:()=>l("archived"),className:`px-3 py-1.5 text-sm rounded-md border transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 active:scale-[0.98] ${i==="archived"?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-gray-50 dark:bg-transparent border-gray-300 dark:border-gray-700 text-gray-800 dark:text-[var(--content-text)] hover:bg-blue-50 dark:hover:bg-blue-900/10 hover:shadow"}`,children:t("Archived","Archived")})]}),s.jsxs("div",{className:"flex items-center gap-2 w-full",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx("input",{value:o,onChange:N=>c(N.target.value),placeholder:t("Search"),className:"w-full rounded-lg border px-3 py-2.5 pl-8 pr-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-800 border-gray-300 placeholder:text-gray-500 dark:bg-gray-800 dark:text-gray-100 dark:border-gray-700"}),s.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 opacity-70 text-gray-600 dark:text-gray-300",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[s.jsx("circle",{cx:"11",cy:"11",r:"6"}),s.jsx("path",{d:"M21 21l-4.5-4.5"})]})})]}),s.jsx("div",{className:"w-40",children:s.jsx(rr,{options:Tye,value:d,onChange:u,placeholder:t("All")})})]})]}),s.jsx("div",{className:"space-y-2",children:x.length===0?s.jsx("div",{className:"text-center py-16 border border-dashed rounded-md text-sm opacity-75",children:t("No notifications","No notifications")}):x.map(N=>s.jsx(_ye,{data:N,onToggleRead:()=>b(N.id),onArchive:()=>j(N.id,!0),onUnarchive:()=>j(N.id,!1)},N.id))})]})}function Eye(){return s.jsx(ea,{children:s.jsx(RV,{embedded:!1})})}function Dye({onClose:e,variant:t="modal"}){const{t:a,i18n:r}=Et(),n=r.language==="ar",{theme:i}=xl(),l=i==="light",[o,c]=w.useState("all"),[d,u]=w.useState(""),f=()=>{try{const x={filterField:o,query:d,ts:Date.now()};localStorage.setItem("globalSearch",JSON.stringify(x)),window.dispatchEvent(new CustomEvent("globalSearch",{detail:x}))}catch{}e&&e()};return t==="dropdown"?s.jsx("div",{className:`dropdown-panel absolute top-12 ${n?"left-0":"right-0"} w-80 rounded-xl ${l?"bg-white border border-gray-200 shadow-2xl":"backdrop-blur-md bg-gray-900/90 border border-gray-700 shadow-2xl"} z-50`,role:"dialog","aria-label":a("Search"),children:s.jsxs("div",{className:"px-4 py-3 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:`text-sm min-w-[70px] ${l?"text-gray-800":"text-gray-300"}`,children:n?"":"Filter"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:o,onChange:x=>c(x.target.value),className:`appearance-none w-56 px-3 py-2 rounded-lg border ${l?"border-gray-300 bg-white text-gray-900":"dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100"} ${n?"pl-8":"pr-8"} focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[s.jsx("option",{value:"all",children:n?"":"All"}),s.jsx("option",{value:"lead",children:n?"":"Lead"}),s.jsx("option",{value:"mobile",children:n?"":"Mobile"}),s.jsx("option",{value:"comment",children:n?"":"Comment"}),s.jsx("option",{value:"country",children:n?"":"Country"})]}),s.jsx("span",{className:`pointer-events-none absolute inset-y-0 ${n?"left-2":"right-2"} flex items-center opacity-60`,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:`text-sm min-w-[70px] ${l?"text-gray-800":"text-gray-300"}`,children:a("Search")}),s.jsx("input",{type:"text",value:d,onChange:x=>u(x.target.value),placeholder:n?" ...":"Type to search...",className:`w-56 px-3 py-2 rounded-lg border ${l?"border-gray-300 bg-white text-gray-900 placeholder:text-gray-500":"dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100"} focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),s.jsxs("div",{className:"pt-2 flex items-center justify-end gap-2 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:()=>{u(""),c("all");try{localStorage.removeItem("globalSearch"),window.dispatchEvent(new Event("globalSearchCleared"))}catch{}},className:`text-xs px-3 py-2 rounded-md border ${l?"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200":"dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700 dark:hover:bg-gray-700"}`,children:n?"":"Clear"}),s.jsx("button",{onClick:()=>{f(),e&&e()},className:"text-xs px-3 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 text-white",children:n?"":"Search"})]})]})}):s.jsxs("div",{className:"fixed inset-0 z-[100]","aria-label":a("Search"),children:[s.jsx("div",{className:"absolute inset-0 bg-transparent",onClick:e,"aria-label":n?" ":"Close search"}),s.jsxs("div",{className:`absolute top-14 ${n?"left-4":"right-4"} w-[90vw] max-w-md rounded-xl ${l?"bg-white border border-gray-200 shadow-2xl":"backdrop-blur-md bg-gray-900/90 border border-gray-700 shadow-2xl"}`,role:"dialog","aria-modal":"true",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[s.jsx("div",{className:`text-sm font-semibold ${l?"text-gray-900":""}`,children:a("Search")}),s.jsx("button",{onClick:e,className:`text-xs px-2 py-1 rounded-md border ${l?"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200":"dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700 dark:hover:bg-gray-700"}`,children:n?"":"Close"})]}),s.jsxs("div",{className:"px-4 py-3 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:`text-sm min-w-[70px] ${l?"text-gray-800":"text-gray-300"}`,children:n?"":"Filter"}),s.jsxs("select",{value:o,onChange:x=>c(x.target.value),className:`flex-1 px-3 py-2 rounded-lg border ${l?"border-gray-300 bg-white text-gray-900":"dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100"} focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[s.jsx("option",{value:"all",children:n?"":"All"}),s.jsx("option",{value:"lead",children:n?"":"Lead"}),s.jsx("option",{value:"mobile",children:n?"":"Mobile"}),s.jsx("option",{value:"comment",children:n?"":"Comment"}),s.jsx("option",{value:"country",children:n?"":"Country"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:`text-sm min-w-[70px] ${l?"text-gray-800":"text-gray-300"}`,children:a("Search")}),s.jsx("input",{type:"text",value:d,onChange:x=>u(x.target.value),placeholder:n?" ...":"Type to search...",className:`flex-1 px-3 py-2 rounded-lg border ${l?"border-gray-300 bg-white text-gray-900 placeholder:text-gray-500":"dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100"} focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),s.jsxs("div",{className:"pt-2 flex items-center justify-end gap-2 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:()=>{u("")},className:`text-xs px-3 py-2 rounded-md border ${l?"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200":"dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700 dark:hover:bg-gray-700"}`,children:n?"":"Clear"}),s.jsx("button",{onClick:f,className:"text-xs px-3 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 text-white",children:n?"":"Search"})]})]})]})]})}const QP="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='64' height='64'><rect width='100%' height='100%' fill='%239ca3af'/><text x='50%' y='54%' font-family='system-ui,Segoe UI,Arial' font-size='28' fill='white' text-anchor='middle'>I</text></svg>",Mye=({count:e})=>s.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[10px] font-semibold rounded-full bg-red-500 text-white",children:e}),Zc=({children:e,label:t,className:a,onClick:r,showLabel:n=!0})=>s.jsxs("button",{type:"button",className:a??"btn flex-col gap-1 px-3 py-2",title:t,"aria-label":t,onClick:r,children:[e,n&&s.jsx("span",{className:"text-[8px] leading-none opacity-75 font-medium max-[480px]:hidden",children:t})]});function Pye({isLight:e,text:t}){const[a,r]=w.useState(!1);return w.useEffect(()=>{const n=()=>r(window.matchMedia("(min-width: 768px)").matches);return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),s.jsx("div",{className:"flex items-center gap-3 max-[800px]:gap-2 max-[480px]:gap-1 max-[320px]:gap-1 pl-0 ml-0",style:{paddingInlineStart:0,marginInlineStart:0},children:s.jsx("span",{className:`text-sm max-[480px]:text-xs font-semibold whitespace-nowrap flex-shrink-0 min-w-fit max-w-[40vw] truncate ${e?"text-gray-800":"text-gray-300"}`,children:t})})}function Lye({onMobileToggle:e,mobileSidebarOpen:t,isSidebarExpanded:a}){const{theme:r,setTheme:n}=xl(),i=r==="light",{t:l,i18n:o}=Et(),c=o.language==="ar",d=ti(),{user:u}=zj(),[f,x]=w.useState(!1),[p,v]=w.useState(!1),[g,b]=w.useState(""),[j,N]=w.useState("All"),[S,k]=w.useState(!1),[A,_]=w.useState(!1),[M,L]=w.useState(!1),[U,z]=w.useState(!1),[O,B]=w.useState(0),[E,R]=w.useState(!1),[q,I]=w.useState(!1),G=w.useRef(null),re=w.useRef(null),te=w.useRef(null),X=w.useRef(null);w.useEffect(()=>{try{const W=localStorage.getItem("language")||localStorage.getItem("lang");W&&W!==o.language&&o.changeLanguage(W)}catch{}},[]);const[ce,D]=w.useState(!1),Q=()=>{try{const W=localStorage.getItem("notificationsData");if(!W)return 0;const he=JSON.parse(W);return Array.isArray(he)?he.filter(fe=>!fe.read&&!fe.archived).length:0}catch{return 0}};w.useEffect(()=>{const W=()=>B(Q());return W(),window.addEventListener("storage",W),window.addEventListener("notificationsUpdated",W),document.addEventListener("visibilitychange",W),()=>{window.removeEventListener("storage",W),window.removeEventListener("notificationsUpdated",W),document.removeEventListener("visibilitychange",W)}},[]),w.useEffect(()=>{const W=he=>{p&&G.current&&!G.current.contains(he.target)&&v(!1),q&&re.current&&!re.current.contains(he.target)&&I(!1),E&&te.current&&!te.current.contains(he.target)&&R(!1),U&&X.current&&!X.current.contains(he.target)&&z(!1)};return document.addEventListener("mousedown",W),document.addEventListener("touchstart",W),()=>{document.removeEventListener("mousedown",W),document.removeEventListener("touchstart",W)}},[p,q,E,U]);const H="inline-flex items-center justify-center p-2 rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500",J=i?"text-gray-600 hover:text-gray-800 backdrop-blur-md bg-white/20 hover:bg-white/40 border border-white/30 hover:border-white/50 shadow-lg hover:shadow-xl hover:scale-105 hover:-translate-y-0.5":"text-gray-400 hover:text-gray-200 backdrop-blur-md bg-gray-800/20 hover:bg-gray-700/40 border border-gray-600/30 hover:border-gray-500/50 shadow-lg hover:shadow-xl hover:scale-105 hover:-translate-y-0.5",ae=i?"bg-white/35 backdrop-blur-md border-white/30 shadow-sm":"bg-gray-900 border-gray-800",ie="flex flex-col items-center justify-center gap-1 p-2 rounded-lg border transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-400/40",le=i?"bg-purple-50 border-purple-200 hover:bg-purple-100 text-purple-700":"bg-purple-900/20 border-purple-600 hover:bg-purple-900/30 text-purple-300",Y=i?"bg-green-50 border-green-200 hover:bg-green-100 text-green-700":"bg-green-900/20 border-green-600 hover:bg-green-900/30 text-green-300",oe=i?"bg-orange-50 border-orange-200 hover:bg-orange-100 text-orange-700":"bg-orange-900/20 border-orange-600 hover:bg-orange-900/30 text-orange-300",xe=()=>{n(i?"dark":"light")};return s.jsxs(s.Fragment,{children:[s.jsx("header",{className:`main-header nova-topbar fixed top-0 z-[120] border-b ${ae}`,children:s.jsxs("div",{className:"header-inner relative w-full h-16 max-[320px]:h-14 flex items-center justify-between px-2 max-[480px]:px-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:()=>{typeof e=="function"&&e()},className:`md:hidden ${H} ${J} p-1.5`,"aria-label":t?"Close menu":"Open menu",children:t?s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 text-red-500",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}):s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:s.jsx("path",{d:"M3 12h18M3 6h18M3 18h18"})})}),s.jsx(Pye,{isLight:i,text:l("welcome_super_admin","Welcome, Super Admin!")})]}),s.jsxs("div",{className:"flex items-center gap-2 max-[768px]:gap-1.5 max-[480px]:gap-1",children:[s.jsxs("div",{className:"max-[768px]:hidden relative",ref:G,children:[s.jsx(Zc,{label:l("Search"),className:`${H} ${J} p-1.5 ${p?i?"ring-2 ring-blue-400 bg-white/40":"ring-2 ring-blue-500 bg-gray-800/40":""}`,onClick:()=>v(W=>!W),"aria-expanded":p,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 max-[480px]:w-3 max-[480px]:h-3",children:[s.jsx("circle",{cx:"11",cy:"11",r:"6"}),s.jsx("path",{d:"M21 21l-4.5-4.5"})]})}),p&&s.jsx(Dye,{onClose:()=>v(!1),variant:"dropdown"})]}),s.jsx("div",{children:s.jsx(Zc,{label:l("Calendar"),className:`${H} ${J} ${i?"":"text-white bg-gray-700/40 hover:bg-gray-600/50 border border-gray-500/50"}`,onClick:()=>D(!0),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5 max-[480px]:w-4 max-[480px]:h-4",children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),s.jsx("path",{d:"M3 10h18"}),s.jsx("path",{d:"M8 2v4M16 2v4"})]})})}),s.jsx("div",{className:"max-[768px]:hidden",children:s.jsx(Zc,{label:l("Theme"),className:`${H} ${J}`,onClick:xe,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5 max-[480px]:w-4 max-[480px]:h-4",children:[s.jsx("path",{d:"M12 3v1m0 16v1m8-9h-1M4 12H3m15.36-6.36l-.71.71M6.35 17.65l-.71.71m12.01 0l-.71-.71M6.35 6.35l-.71-.71"}),s.jsx("circle",{cx:"12",cy:"12",r:"5"})]})})}),s.jsx("div",{className:"max-[768px]:hidden",children:s.jsx(Zc,{label:l("Tasks"),className:`${H} ${J}`,onClick:()=>d("/tasks"),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("path",{d:"M9 11l2 2 4-4"}),s.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2"})]})})}),s.jsxs("div",{className:"relative",ref:re,children:[s.jsx(Zc,{label:l("Notifications"),className:`${H} ${J} ${q?i?"ring-2 ring-blue-400 bg-white/40":"ring-2 ring-blue-500 bg-gray-800/40":""}`,onClick:()=>I(W=>!W),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5 max-[480px]:w-4 max-[480px]:h-4",children:[s.jsx("path",{d:"M18 8a6 6 0 10-12 0v4l-2 2h16l-2-2V8"}),s.jsx("path",{d:"M13.73 21a2 2 0 01-3.46 0"})]})}),O>0&&s.jsx(Mye,{count:O}),q&&s.jsx("div",{className:`notifications-dropdown dropdown-panel absolute top-12 ${c?"left-0":"right-0"} w-[520px] max-w-[90vw] max-h-[70vh] overflow-auto backdrop-blur-md backdrop-saturate-150 ${i?"bg-white/95 border border-white/40 ring-1 ring-black/10":"bg-gray-900/95 border border-gray-600/40 ring-1 ring-white/10"} rounded-xl shadow-xl z-50`,role:"menu","aria-label":l("Notifications"),children:s.jsx("div",{className:"p-3",children:s.jsx(RV,{embedded:!0})})})]}),s.jsxs("div",{className:"max-[768px]:hidden relative",ref:te,children:[s.jsx(Zc,{label:l("Language"),className:`${H} ${J} ${E?i?"ring-2 ring-blue-400 bg-white/40":"ring-2 ring-blue-500 bg-gray-800/40":""}`,onClick:()=>R(W=>!W),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("circle",{cx:"12",cy:"12",r:"9"}),s.jsx("path",{d:"M3 12h18"}),s.jsx("path",{d:"M12 3v18"})]})}),E&&s.jsxs("div",{className:`dropdown-panel absolute top-12 ${c?"left-0":"right-0"} w-44 backdrop-blur-md ${i?"bg-white/80 border border-white/30":"bg-gray-900/80 border border-gray-600/30"} rounded-xl shadow-2xl z-50`,role:"menu","aria-label":l("Language"),children:[s.jsx("button",{className:"w-full text-center px-4 py-2 text-sm hover:bg-[var(--table-row-hover)]",onClick:()=>{o.changeLanguage("en");try{localStorage.setItem("language","en")}catch{}R(!1)},children:"English"}),s.jsx("button",{className:"w-full text-center px-4 py-2 text-sm hover:bg-[var(--table-row-hover)]",onClick:()=>{o.changeLanguage("ar");try{localStorage.setItem("language","ar")}catch{}R(!1)},children:""})]})]}),s.jsxs("div",{className:"relative",ref:X,children:[s.jsxs("button",{onClick:()=>z(!U),className:`flex items-center gap-2 px-3 py-2 rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 ${i?"backdrop-blur-md bg-white/20 hover:bg-white/40 border border-white/30 hover:border-white/50 shadow-lg hover:shadow-xl hover:scale-105 hover:-translate-y-0.5":"backdrop-blur-md bg-gray-800/20 hover:bg-gray-700/40 border border-gray-600/30 hover:border-gray-500/50 shadow-lg hover:shadow-xl hover:scale-105 hover:-translate-y-0.5"}`,children:[s.jsx("img",{src:QP,alt:"User",className:"w-8 h-8 rounded-full"}),s.jsxs("div",{className:"max-[880px]:hidden text-left",children:[s.jsx("div",{className:"text-sm font-semibold",children:l("Ibrahim")}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:l("Admin")})]})]}),U&&s.jsxs("div",{className:`dropdown-panel absolute top-12 ${c?"left-0":"right-0"} w-72 max-w-[92vw] ${i?"bg-white border border-gray-200":"bg-gray-900 border border-gray-700"} rounded-xl shadow-2xl z-50`,role:"menu","aria-label":l("Profile menu"),children:[s.jsx("div",{className:`absolute -top-2 ${c?"left-6":"right-6"} w-3 h-3 ${i?"bg-white border-t border-l border-gray-200":"bg-gray-900 border-t border-l border-gray-700"} rotate-45`}),s.jsxs("div",{className:"px-4 py-3 flex items-center gap-3",children:[s.jsx("img",{src:QP,alt:"User",className:"w-10 h-10 rounded-full"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-semibold truncate",children:u?.name||l("Administrator")}),s.jsx("div",{className:"text-xs text-[var(--muted-text)] truncate",children:u?.email||"admin@example.com"}),s.jsxs("button",{className:"mt-1 text-xs font-semibold text-blue-600 hover:text-blue-700",onClick:()=>{z(!1),d("/settings/profile")},children:[l("My Profile")," "]})]}),s.jsx("span",{className:"inline-flex items-center justify-center w-2 h-2 rounded-full bg-green-500","aria-hidden":!0})]}),s.jsx("div",{className:"h-px bg-[var(--divider)]"}),s.jsxs("button",{onClick:()=>{z(!1),d("/settings/system/security")},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-[var(--content-text)] hover:bg-[var(--table-row-hover)] transition-colors",role:"menuitem",children:[s.jsx("span",{className:"w-5 h-5 inline-flex items-center justify-center",children:""}),s.jsx("span",{children:l("Security Settings")})]}),s.jsxs("button",{onClick:()=>{z(!1),d("/user-management/access-logs")},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-[var(--content-text)] hover:bg-[var(--table-row-hover)] transition-colors",role:"menuitem",children:[s.jsx("span",{className:"w-5 h-5 inline-flex items-center justify-center",children:""}),s.jsx("span",{children:l("Linked Devices")})]}),s.jsxs("button",{onClick:()=>{z(!1),d("/settings/profile/company")},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-[var(--content-text)] hover:bg-[var(--table-row-hover)] transition-colors",role:"menuitem",children:[s.jsx("span",{className:"w-5 h-5 inline-flex items-center justify-center",children:""}),s.jsx("span",{children:l("Company Profile")})]}),s.jsx("div",{className:"h-px bg-[var(--divider)]"}),s.jsxs("button",{onClick:()=>{z(!1),d("/settings/profile")},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-[var(--content-text)] hover:bg-[var(--table-row-hover)] transition-colors",role:"menuitem",children:[s.jsx("span",{className:"w-5 h-5 inline-flex items-center justify-center",children:""}),s.jsx("span",{className:"flex-1",children:l("Change Profile Picture")})]}),s.jsxs("button",{onClick:()=>{z(!1),d("/settings/system/security")},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-[var(--content-text)] hover:bg-[var(--table-row-hover)] transition-colors",role:"menuitem",children:[s.jsx("span",{className:"w-5 h-5 inline-flex items-center justify-center",children:""}),s.jsx("span",{className:"flex-1",children:l("Change Password")})]}),s.jsx("div",{className:"h-px bg-[var(--divider)]"}),s.jsxs("button",{onClick:async()=>{z(!1),await ade(),d("/login")},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-[var(--content-text)] hover:bg-[var(--table-row-hover)] transition-colors",role:"menuitem",children:[s.jsx("span",{className:"w-5 h-5 inline-flex items-center justify-center",children:""}),s.jsx("span",{children:l("Logout")})]})]})]}),s.jsx("div",{className:"md:hidden",children:s.jsx(Zc,{label:l("More"),className:`${H} ${J}`,onClick:()=>L(!M),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("circle",{cx:"12",cy:"12",r:"1"}),s.jsx("circle",{cx:"19",cy:"12",r:"1"}),s.jsx("circle",{cx:"5",cy:"12",r:"1"})]})})})]})]})}),M&&s.jsx("div",{className:"md:hidden fixed inset-x-0 top-16 max-[320px]:top-14 z-40",children:s.jsx("div",{className:`py-2 px-3 border-b backdrop-blur-sm ${ae}`,children:s.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[s.jsx(Zc,{label:l("Search"),className:`${ie} ${le} p-1.5`,onClick:()=>v(W=>!W),"aria-expanded":p,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[s.jsx("circle",{cx:"11",cy:"11",r:"6"}),s.jsx("path",{d:"M21 21l-4.5-4.5"})]})}),s.jsx(Zc,{label:l("Tasks"),className:`${ie} ${Y}`,onClick:()=>{L(!1),d("/tasks")},children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}),s.jsx("path",{d:"M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"})]})}),s.jsx(Zc,{label:l("Language"),className:`${ie} ${oe}`,onClick:()=>{const W=o.language==="en"?"ar":"en";o.changeLanguage(W);try{localStorage.setItem("language",W)}catch{}},children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("circle",{cx:"12",cy:"12",r:"9"}),s.jsx("path",{d:"M3 12h18"}),s.jsx("path",{d:"M12 3v18"})]})}),s.jsx(Zc,{label:l("Theme"),className:`${ie} ${i?"bg-gray-100 border-gray-200 text-gray-600":"bg-gray-800 border-gray-700 text-gray-300"}`,onClick:xe,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("path",{d:"M12 3v1m0 16v1m8-9h-1M4 12H3m15.36-6.36l-.71.71M6.35 17.65l-.71.71m12.01 0l-.71-.71M6.35 6.35l-.71-.71"}),s.jsx("circle",{cx:"12",cy:"12",r:"5"})]})})]})})}),ce&&s.jsx(Sye,{open:ce,onClose:()=>D(!1)})]})}function ea({children:e}){const{i18n:t}=Et();t.language;const[a,r]=w.useState(!1),[n,i]=w.useState(()=>window.matchMedia("(max-width: 768px)").matches);return w.useEffect(()=>(window.matchMedia("(max-width: 768px)").matches&&a?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),()=>document.body.classList.remove("overflow-hidden")),[a]),w.useEffect(()=>{const l=window.matchMedia("(max-width: 768px)"),o=c=>i(c.matches);return l.addEventListener("change",o),i(l.matches),()=>l.removeEventListener("change",o)},[]),s.jsxs("div",{className:"app-glass-neon relative min-h-screen bg-[var(--app-bg)] text-[var(--app-text)] overflow-x-hidden",children:[s.jsx("div",{className:`${a&&n?"hidden md:block":""}`,children:s.jsx(Lye,{onMobileToggle:()=>{r(l=>!l)},mobileSidebarOpen:a})}),s.jsx(wye,{open:a,onClose:()=>r(!1)}),s.jsx("div",{className:`content-container relative z-[10] pt-0 min-h-screen w-full ${a&&n?"hidden md:block":""}`,children:s.jsx("main",{className:"flex-1 overflow-auto sidebar-scrollbar pt-1 px-0 pb-4 mt-0 ml-0",children:s.jsx("div",{className:"w-full",children:e??s.jsx(Sj,{})})})})]})}const Oye={BASE_URL:"/besouhoula/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE:"http://localhost:8787",VITE_DISABLE_SUBSCRIPTION:"1",VITE_GMAIL_CLIENT_ID:"502667518650-9q9le5f8qrqu1nmolb980ohta8grsd7c.apps.googleusercontent.com",VITE_GMAIL_REDIRECT_URI:"http://localhost:5176/crm-ibrahim/",VITE_GOOGLE_ADS_CLIENT_ID:"502667518650-9q9le5f8qrqu1nmolb980ohta8grsd7c.apps.googleusercontent.com",VITE_GOOGLE_ADS_REDIRECT_URI:"http://localhost:5176/crm-ibrahim/"};function Rye(){const{t:e}=Et(),t=ti(),[a,r]=w.useState([]),[n,i]=w.useState(!0),[l,o]=w.useState(""),[c,d]=w.useState(!1),[u,f]=w.useState(""),x=[{id:"OPP-001",customerId:"CUST-001",status:"New",amount:25e3,stage:"Qualification",expectedCloseDate:new Date(Date.now()+168*3600*1e3).toISOString(),createdAt:new Date(Date.now()-48*3600*1e3).toISOString()},{id:"OPP-002",customerId:"CUST-002",status:"In Progress",amount:78e3,stage:"Proposal",expectedCloseDate:new Date(Date.now()+336*3600*1e3).toISOString(),createdAt:new Date(Date.now()-24*3600*1e3).toISOString()},{id:"OPP-003",customerId:"CUST-003",status:"New",amount:12e3,stage:"Negotiation",expectedCloseDate:new Date(Date.now()+504*3600*1e3).toISOString(),createdAt:new Date().toISOString()}],[p,v]=w.useState([]),[g,b]=w.useState(""),[j,N]=w.useState(""),[S,k]=w.useState(""),[A,_]=w.useState(""),[M,L]=w.useState("New"),[U,z]=w.useState("Qualification"),[O,B]=w.useState(""),[E,R]=w.useState(""),[q,I]=w.useState(""),[G,re]=w.useState("Individual"),[te,X]=w.useState(""),[ce,D]=w.useState(""),[Q,H]=w.useState(""),[J,ae]=w.useState(""),[ie,le]=w.useState(!1),[Y,oe]=w.useState(!1);w.useEffect(()=>{let se=!0;return i(!0),o(""),ga.get("/api/customers/opportunities").then(_e=>{if(!se)return;const je=_e?.data?.data,rt=Array.isArray(je?.items)?je.items:[];r(rt.length>0?rt:x)}).catch(_e=>{if(!se)return;o(`Failed to load from ${typeof import.meta<"u"&&Oye&&"http://localhost:8787"||"/"}/api/customers/opportunities`),r(x)}).finally(()=>se&&i(!1)),()=>{se=!1}},[]),w.useEffect(()=>{let se=!0;return ga.get("/api/customers").then(_e=>{if(!se)return;const je=_e?.data?.data,rt=Array.isArray(je?.items)?je.items:[];v(rt)}).catch(()=>{}),()=>{se=!1}},[]);const xe=["New","In Progress","Won","Lost"],W=["Qualification","Proposal","Negotiation","Final"],he=()=>{b(""),N(""),k(""),_(""),L("New"),z("Qualification"),B("")},fe=se=>{if(se.preventDefault(),c)return;d(!0),o(""),f("");const _e={customerId:g||void 0,contact:j||void 0,amount:S?Number(S):void 0,expectedCloseDate:A||void 0,status:M,stage:U,notes:O||void 0};ga.post("/api/customers/opportunities",_e).then(je=>{const rt=je?.data?.data?.item;rt&&(r(ft=>[rt,...ft]),he(),f(e("Saved successfully")))}).catch(je=>{const rt={id:`local-${Date.now()}`,status:M,stage:U,amount:S?Number(S):void 0,customerId:g||void 0,expectedCloseDate:A||void 0,createdAt:new Date().toISOString()};r(ft=>[rt,...ft]),he(),f(e("Saved successfully"))}).finally(()=>d(!1))},[de,Oe]=w.useState(""),Fe=se=>{de||(Oe(se),ga.post("/api/customers/quotations",{opportunityId:se,items:[]}).then(()=>{t("/sales/quotations")}).catch(()=>{}).finally(()=>Oe("")))},Ee=se=>{if(se?.preventDefault?.(),!E.trim()||!q.trim()||ie)return;le(!0);const _e={name:E.trim(),phone:q.trim(),type:G||"Individual",companyName:ce||void 0,contacts:te?[te.trim()]:[],tags:Q?Q.split(",").map(je=>je.trim()).filter(Boolean):[],assignedSalesRep:J||void 0};ga.post("/api/customers",_e).then(je=>{const rt=je?.data?.data?.item;rt&&(v(ft=>[rt,...ft]),b(rt.id),R(""),I(""),re("Individual"),X(""),D(""),H(""),ae(""),oe(!1))}).catch(()=>{}).finally(()=>le(!1))};return s.jsxs(ea,{children:[s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-semibold",children:e("Opportunities")}),s.jsx("div",{className:"text-sm text-gray-500",children:e("Sales")})]}),s.jsxs("form",{onSubmit:fe,className:"mb-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Customer")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{value:g,onChange:se=>b(se.target.value),className:"flex-1 border rounded px-2 py-2",children:[s.jsx("option",{value:"",children:e("Select")}),p.map(se=>s.jsx("option",{value:se.id,children:se.name},se.id))]}),s.jsx("button",{onClick:()=>oe(!0),className:"px-3 py-2 rounded bg-indigo-600 text-white",type:"button",disabled:ie,title:e("Quick add"),children:ie?e("..."):"+"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Contact (B2B)")}),s.jsx("input",{value:j,onChange:se=>N(se.target.value),placeholder:e("Contact person"),className:"w-full border rounded px-2 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Amount")}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:S,onChange:se=>k(se.target.value),placeholder:e("Amount"),className:"w-full border rounded px-2 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Expected Close Date")}),s.jsx("input",{type:"date",value:A,onChange:se=>_(se.target.value),className:"w-full border rounded px-2 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Status")}),s.jsx("select",{value:M,onChange:se=>L(se.target.value),className:"w-full border rounded px-2 py-2",children:xe.map(se=>s.jsx("option",{value:se,children:e(se)},se))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Stage")}),s.jsx("select",{value:U,onChange:se=>z(se.target.value),className:"w-full border rounded px-2 py-2",children:W.map(se=>s.jsx("option",{value:se,children:e(se)},se))})]}),s.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Notes")}),s.jsx("textarea",{value:O,onChange:se=>B(se.target.value),placeholder:e("Optional"),className:"w-full border rounded px-2 py-2 min-h-[80px]"})]}),s.jsxs("div",{className:"md:col-span-2 lg:col-span-3 flex gap-2",children:[s.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 rounded bg-green-600 text-white",children:e("Add Opportunity")}),c&&s.jsx("span",{className:"text-gray-500 px-2",children:e("Saving...")})]})]}),l&&s.jsx("div",{className:"mb-3 p-3 rounded border border-red-300 bg-red-50 text-red-700",children:l}),u&&s.jsx("div",{className:"mb-3 p-3 rounded border border-green-300 bg-green-50 text-green-700",children:u}),n?s.jsx("div",{className:"text-gray-500",children:e("Loading...")}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b",children:[s.jsx("th",{className:"p-2",children:e("Customer")}),s.jsx("th",{className:"p-2",children:e("Status")}),s.jsx("th",{className:"p-2",children:e("Amount")}),s.jsx("th",{className:"p-2",children:e("Stage")}),s.jsx("th",{className:"p-2",children:e("Expected Close Date")}),s.jsx("th",{className:"p-2",children:e("Created")}),s.jsx("th",{className:"p-2",children:e("Actions")})]})}),s.jsx("tbody",{children:a.length===0?s.jsx("tr",{children:s.jsx("td",{className:"p-3 text-gray-500",colSpan:7,children:e("No data")})}):a.map(se=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"p-2",children:se.customerId||"-"}),s.jsx("td",{className:"p-2",children:se.status}),s.jsx("td",{className:"p-2",children:typeof se.amount=="number"?se.amount.toLocaleString():se.amount}),s.jsx("td",{className:"p-2",children:se.stage}),s.jsx("td",{className:"p-2",children:se.expectedCloseDate?new Date(se.expectedCloseDate).toLocaleDateString():"-"}),s.jsx("td",{className:"p-2",children:se.createdAt?new Date(se.createdAt).toLocaleString():"-"}),s.jsx("td",{className:"p-2",children:s.jsx("button",{className:"px-3 py-1 rounded bg-purple-600 text-white",title:e("Convert to Quotation"),onClick:()=>Fe(se.id),disabled:de===se.id,children:de===se.id?e("Saving..."):e("Convert to Quotation")})})]},se.id))})]})})]}),Y&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>oe(!1)}),s.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[420px] max-w-[95vw]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:e("Quick Add Customer")}),s.jsx("button",{className:"btn btn-glass",onClick:()=>oe(!1),children:e("Close")})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Name")}),s.jsx("input",{className:"input",value:E,onChange:se=>R(se.target.value),placeholder:e("Customer Name")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Phone")}),s.jsx("input",{className:"input",value:q,onChange:se=>I(se.target.value),placeholder:e("Phone")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Type")}),s.jsxs("select",{className:"input",value:G,onChange:se=>re(se.target.value),children:[s.jsx("option",{value:"Individual",children:e("Individual")}),s.jsx("option",{value:"Company",children:e("Company")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Contact")}),s.jsx("input",{className:"input",value:te,onChange:se=>X(se.target.value),placeholder:e("Contact person")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Company")}),s.jsx("input",{className:"input",value:ce,onChange:se=>D(se.target.value),placeholder:e("Company name")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Tags")}),s.jsx("input",{className:"input",value:Q,onChange:se=>H(se.target.value),placeholder:e("Comma separated")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Assigned Rep")}),s.jsx("input",{className:"input",value:J,onChange:se=>ae(se.target.value),placeholder:e("Sales representative")})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"btn",onClick:()=>oe(!1),children:e("Cancel")}),s.jsx("button",{className:"btn btn-primary",onClick:Ee,disabled:ie,children:e(ie?"Saving...":"Save")})]})]})]})]})]})}const Fye={BASE_URL:"/besouhoula/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE:"http://localhost:8787",VITE_DISABLE_SUBSCRIPTION:"1",VITE_GMAIL_CLIENT_ID:"502667518650-9q9le5f8qrqu1nmolb980ohta8grsd7c.apps.googleusercontent.com",VITE_GMAIL_REDIRECT_URI:"http://localhost:5176/crm-ibrahim/",VITE_GOOGLE_ADS_CLIENT_ID:"502667518650-9q9le5f8qrqu1nmolb980ohta8grsd7c.apps.googleusercontent.com",VITE_GOOGLE_ADS_REDIRECT_URI:"http://localhost:5176/crm-ibrahim/"};function Iye(){const{t:e}=Et(),[t,a]=w.useState([]),[r,n]=w.useState(!0),[i,l]=w.useState(""),[o,c]=w.useState(!1),[d,u]=w.useState(""),[f,x]=w.useState(""),[p,v]=w.useState([]),g=[{id:"QUO-1001",status:"Draft",subtotal:25e3,tax:3500,total:28500,opportunityId:"OPP-001",createdAt:new Date(Date.now()-36*3600*1e3).toISOString()},{id:"QUO-1002",status:"Sent",subtotal:78e3,tax:10920,total:88920,opportunityId:"OPP-002",createdAt:new Date(Date.now()-12*3600*1e3).toISOString()},{id:"QUO-1003",status:"Approved",subtotal:12e3,tax:1680,total:13680,opportunityId:"OPP-003",createdAt:new Date().toISOString()}],[b,j]=w.useState([]),[N,S]=w.useState(""),[k,A]=w.useState([{name:"",quantity:1,unitPrice:0,discount:0}]),[_,M]=w.useState(null),[L,U]=w.useState(""),[z,O]=w.useState(""),[B,E]=w.useState(.14),[R,q]=w.useState(!1),I=w.useMemo(()=>k.reduce((le,Y)=>le+(Number(Y.quantity)||0)*(Number(Y.unitPrice)||0)-(Number(Y.discount)||0),0),[k]),G=w.useMemo(()=>Math.round(I*Number(B||.14)*100)/100,[I,B]),re=w.useMemo(()=>Math.round((I+G)*100)/100,[I,G]);w.useEffect(()=>{let le=!0;return n(!0),l(""),ga.get("/api/customers/quotations").then(Y=>{if(!le)return;const oe=Y?.data?.data,xe=Array.isArray(oe?.items)?oe.items:[];a(xe.length>0?xe:g)}).catch(()=>{const Y=typeof import.meta<"u"&&Fye&&"http://localhost:8787"||"/";le&&(l(`Failed to load from ${Y}/api/customers/quotations`),a(g))}).finally(()=>le&&n(!1)),()=>{le=!1}},[]),w.useEffect(()=>{let le=!0;return ga.get("/api/customers/opportunities").then(Y=>{if(!le)return;const oe=Y?.data?.data,xe=Array.isArray(oe?.items)?oe.items:[];j(xe)}).catch(()=>{}),()=>{le=!1}},[]),w.useEffect(()=>{let le=!0;return ga.get("/api/settings").then(Y=>{if(!le)return;const oe=Y?.data?.data?.settings?.sales?.taxRate;typeof oe=="number"&&E(oe)}).catch(()=>{}),()=>{le=!1}},[]);const te=(le,Y)=>{A(oe=>oe.map((xe,W)=>W===le?{...xe,...Y}:xe))},X=()=>A(le=>[...le,{name:"",quantity:1,unitPrice:0,discount:0}]),ce=le=>A(Y=>Y.filter((oe,xe)=>xe!==le)),D=le=>{if(le.preventDefault(),o)return;c(!0),(async()=>{try{let oe;if(z){const he=await ga.post("/api/uploads/base64",{fileName:L||"attachment",dataUrl:z});oe=he?.data?.data?.url||he?.data?.url||he?.data?.data?.data?.url}const xe={opportunityId:N,items:k.map(he=>({name:he.name,quantity:Number(he.quantity)||0,unitPrice:Number(he.unitPrice)||0,discount:Number(he.discount)||0})),attachment:oe||void 0};return await ga.post("/api/customers/quotations",xe)}catch(oe){throw oe}})().then(oe=>{const xe=oe?.data?.data?.item;xe&&(a(W=>[xe,...W]),S(""),A([{name:"",quantity:1,unitPrice:0,discount:0}]),M(null),U(""),O(""),u(e("Saved successfully")),setTimeout(()=>u(""),3e3))}).catch(oe=>{const xe=oe?.response?.data?.message||"Failed to create";l(typeof xe=="string"?xe:"Failed to create")}).finally(()=>c(!1))},Q=le=>{ga.post(`/api/customers/quotations/${le}/send`).then(Y=>{const oe=Y?.data?.data?.item;oe&&(a(xe=>xe.map(W=>W.id===le?oe:W)),x(e("Sent successfully")),setTimeout(()=>x(""),3e3))}).catch(()=>{})},H=le=>{p.includes(le)||(v(Y=>[...Y,le]),ga.post(`/api/customers/quotations/${le}/convert-to-sales-order`).then(Y=>{const oe=Y?.data?.data?.salesOrder;oe?(x(s.jsxs("span",{children:[e("Converted to Sales Order"),": ",s.jsx("span",{className:"font-medium",children:oe.id||e("New Order")})," ",s.jsx("a",{href:"/sales/orders",className:"underline text-indigo-700 ml-1",children:e("View Sales Orders")})]})),setTimeout(()=>x(""),4e3)):(l(e("Conversion failed")),setTimeout(()=>l(""),4e3))}).catch(Y=>{const oe=Y?.response?.data?.message||e("Conversion failed");l(typeof oe=="string"?oe:e("Conversion failed")),setTimeout(()=>l(""),4e3)}).finally(()=>{v(Y=>Y.filter(oe=>oe!==le))}))},J=le=>{const Y=le.target.files&&le.target.files[0];if(!Y){M(null),U(""),O("");return}M(Y),U(Y.name);const oe=new FileReader;oe.onload=()=>{const xe=typeof oe.result=="string"?oe.result:"";O(xe)},oe.readAsDataURL(Y)},ae=()=>{M(null),U(""),O("")},ie=async()=>{try{q(!0),await ga.put("/api/settings/sales",{taxRate:B}),x(e("Tax rate updated")),setTimeout(()=>x(""),3e3)}catch{l(e("Failed to update tax rate")),setTimeout(()=>l(""),4e3)}finally{q(!1)}};return s.jsx(ea,{children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-semibold",children:e("Quotations")}),s.jsx("div",{className:"text-sm text-gray-500",children:e("Sales")})]}),d&&s.jsx("div",{className:"mb-3 p-3 rounded border border-green-300 bg-green-50 text-green-700",children:d}),f&&s.jsx("div",{className:"mb-3 p-3 rounded border border-blue-300 bg-blue-50 text-blue-700",children:f}),s.jsxs("form",{onSubmit:D,className:"mb-6 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Opportunity")}),s.jsxs("select",{value:N,onChange:le=>S(le.target.value),className:"w-full border rounded px-2 py-2",children:[s.jsx("option",{value:"",children:e("Select")}),b.map(le=>s.jsx("option",{value:le.id,children:le.name||le.id},le.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Attachment")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"file",onChange:J,className:"flex-1"}),L&&s.jsx("button",{type:"button",onClick:ae,className:"px-3 py-2 rounded bg-gray-200",children:e("Remove")})]}),L&&s.jsxs("div",{className:"mt-1 text-xs text-gray-600",children:[e("Selected file"),": ",L]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"font-medium",children:e("Items")}),s.jsx("button",{type:"button",onClick:X,className:"px-3 py-2 rounded bg-indigo-600 text-white",children:e("Add Item")})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b",children:[s.jsx("th",{className:"p-2",children:e("Product / Service")}),s.jsx("th",{className:"p-2",children:e("Quantity")}),s.jsx("th",{className:"p-2",children:e("Unit Price")}),s.jsx("th",{className:"p-2",children:e("Discount")}),s.jsx("th",{className:"p-2",children:e("Actions")})]})}),s.jsx("tbody",{children:k.map((le,Y)=>s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"p-2",children:s.jsx("input",{className:"w-full border rounded px-2 py-1",value:le.name,onChange:oe=>te(Y,{name:oe.target.value})})}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"number",min:"1",className:"w-full border rounded px-2 py-1",value:le.quantity,onChange:oe=>te(Y,{quantity:oe.target.value})})}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"number",min:"0",step:"0.01",className:"w-full border rounded px-2 py-1",value:le.unitPrice,onChange:oe=>te(Y,{unitPrice:oe.target.value})})}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"number",min:"0",step:"0.01",className:"w-full border rounded px-2 py-1",value:le.discount,onChange:oe=>te(Y,{discount:oe.target.value})})}),s.jsx("td",{className:"p-2",children:s.jsx("button",{type:"button",onClick:()=>ce(Y),className:"px-2 py-1 rounded bg-red-600 text-white",children:e("Remove")})})]},Y))})]})})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:[e("Subtotal"),": ",s.jsx("span",{className:"font-medium",children:I.toLocaleString()})]}),s.jsxs("div",{className:"text-sm text-gray-700",children:[e("Tax"),": ",s.jsx("span",{className:"font-medium",children:G.toLocaleString()})]}),s.jsxs("div",{className:"text-sm text-gray-700",children:[e("Total"),": ",s.jsx("span",{className:"font-medium",children:re.toLocaleString()})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-700",children:e("Tax Rate (%)")}),s.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",className:"w-24 border rounded px-2 py-1",value:Math.round(Number(B||0)*1e4)/100,onChange:le=>E(Number(le.target.value)>1?Number(le.target.value)/100:Number(le.target.value))}),s.jsx("button",{type:"button",disabled:R,onClick:ie,className:"px-3 py-2 rounded bg-gray-800 text-white",children:e(R?"Saving...":"Save")})]}),s.jsx("button",{type:"submit",disabled:o||!N||k.length===0,className:"px-4 py-2 rounded bg-green-600 text-white",children:e("Create Quotation")}),o&&s.jsx("span",{className:"text-gray-500",children:e("Saving...")})]})]}),i&&s.jsx("div",{className:"mb-3 p-3 rounded border border-red-300 bg-red-50 text-red-700",children:i}),r?s.jsx("div",{className:"text-gray-500",children:e("Loading...")}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b",children:[s.jsx("th",{className:"p-2",children:e("ID")}),s.jsx("th",{className:"p-2",children:e("Status")}),s.jsx("th",{className:"p-2",children:e("Subtotal")}),s.jsx("th",{className:"p-2",children:e("Tax")}),s.jsx("th",{className:"p-2",children:e("Total")}),s.jsx("th",{className:"p-2",children:e("Opportunity")}),s.jsx("th",{className:"p-2",children:e("Created")}),s.jsx("th",{className:"p-2",children:e("Actions")})]})}),s.jsx("tbody",{children:t.length===0?s.jsx("tr",{children:s.jsx("td",{className:"p-3 text-gray-500",colSpan:8,children:e("No data")})}):t.map(le=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"p-2",children:le.id}),s.jsx("td",{className:"p-2",children:le.status}),s.jsx("td",{className:"p-2",children:typeof le.subtotal=="number"?le.subtotal.toLocaleString():le.subtotal}),s.jsx("td",{className:"p-2",children:typeof le.tax=="number"?le.tax.toLocaleString():le.tax}),s.jsx("td",{className:"p-2 font-medium",children:typeof le.total=="number"?le.total.toLocaleString():le.total}),s.jsx("td",{className:"p-2",children:le.opportunityId||"-"}),s.jsx("td",{className:"p-2",children:le.createdAt?new Date(le.createdAt).toLocaleString():"-"}),s.jsx("td",{className:"p-2",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>Q(le.id),className:"px-3 py-1 rounded bg-blue-600 text-white",title:e("Send to Customer"),children:e("Send to Customer")}),s.jsx("button",{onClick:()=>H(le.id),disabled:p.includes(le.id),className:`px-3 py-1 rounded text-white ${p.includes(le.id)?"bg-purple-300 cursor-not-allowed":"bg-purple-600"}`,title:e("Convert to Sales Order"),children:p.includes(le.id)?e("Converting..."):e("Convert to Sales Order")})]})})]},le.id))})]})})]})})}const Bye={BASE_URL:"/besouhoula/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE:"http://localhost:8787",VITE_DISABLE_SUBSCRIPTION:"1",VITE_GMAIL_CLIENT_ID:"502667518650-9q9le5f8qrqu1nmolb980ohta8grsd7c.apps.googleusercontent.com",VITE_GMAIL_REDIRECT_URI:"http://localhost:5176/crm-ibrahim/",VITE_GOOGLE_ADS_CLIENT_ID:"502667518650-9q9le5f8qrqu1nmolb980ohta8grsd7c.apps.googleusercontent.com",VITE_GOOGLE_ADS_REDIRECT_URI:"http://localhost:5176/crm-ibrahim/"};function $ye(){const{t:e}=Et(),[t,a]=w.useState([]),[r,n]=w.useState(!0),[i,l]=w.useState(""),o=[{id:"SO-5001",status:"Draft",deliveryDate:new Date(Date.now()+240*3600*1e3).toISOString(),paymentTerms:"Net 30",shippingMethod:"Courier",attachments:[{name:"PO-5001.pdf"}],quotationId:"QUO-1001",customerId:"CUST-001",createdAt:new Date(Date.now()-24*3600*1e3).toISOString()},{id:"SO-5002",status:"Confirmed",deliveryDate:new Date(Date.now()+120*3600*1e3).toISOString(),paymentTerms:"Advance 50%",shippingMethod:"Pickup",attachments:[],quotationId:"QUO-1002",customerId:"CUST-002",createdAt:new Date(Date.now()-6*3600*1e3).toISOString()},{id:"SO-5003",status:"Delivered",deliveryDate:new Date(Date.now()+432*3600*1e3).toISOString(),paymentTerms:"Net 15",shippingMethod:"Freight",attachments:[{name:"DEL-5003.jpg"}],quotationId:"QUO-1003",customerId:"CUST-003",createdAt:new Date().toISOString()}],c=u=>{const f=Date.now(),x=u?.toLowerCase().includes("net 30")?30:u?.toLowerCase().includes("net 15")?15:u?.toLowerCase().includes("advance")?0:7;return new Date(f+x*24*3600*1e3).toISOString()},d=async u=>{try{const f={orderId:u.id,customerId:u.customerId,status:"Unpaid",issueDate:new Date().toISOString(),dueDate:c(u.paymentTerms),paymentTerms:u.paymentTerms,currency:"USD",amount:0};await ga.post("/api/customers/invoices",f),alert(`${e("Invoice generated for order")} ${u.id}`)}catch{alert(`${e("Failed to generate invoice. Showing preview only.")}`)}};return w.useEffect(()=>{let u=!0;return n(!0),l(""),ga.get("/api/customers/sales-orders").then(f=>{if(!u)return;const x=f?.data?.data||[],p=Array.isArray(x)?x:[];a(p.length>0?p:o)}).catch(()=>{const f=typeof import.meta<"u"&&Bye&&"http://localhost:8787"||"/";u&&(l(`Failed to load from ${f}/api/customers/sales-orders`),a(o))}).finally(()=>u&&n(!1)),()=>{u=!1}},[]),s.jsx(ea,{children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-semibold",children:e("Sales Orders")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xr,{to:"/sales/orders/new",className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] hover:bg-[var(--table-row-hover)]",children:e("Add Sales Order")}),s.jsx("div",{className:"text-sm text-gray-500",children:e("Sales")})]})]}),i&&s.jsx("div",{className:"mb-3 p-3 rounded border border-red-300 bg-red-50 text-red-700",children:i}),r?s.jsx("div",{className:"text-gray-500",children:e("Loading...")}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b",children:[s.jsx("th",{className:"p-2",children:e("ID")}),s.jsx("th",{className:"p-2",children:e("Status")}),s.jsx("th",{className:"p-2",children:e("Delivery Date")}),s.jsx("th",{className:"p-2",children:e("Payment Terms")}),s.jsx("th",{className:"p-2",children:e("Shipping Method")}),s.jsx("th",{className:"p-2",children:e("Attachments")}),s.jsx("th",{className:"p-2",children:e("Quotation")}),s.jsx("th",{className:"p-2",children:e("Customer")}),s.jsx("th",{className:"p-2",children:e("Created")}),s.jsx("th",{className:"p-2",children:e("Actions")})]})}),s.jsx("tbody",{children:t.length===0?s.jsx("tr",{children:s.jsx("td",{className:"p-3 text-gray-500",colSpan:10,children:e("No data")})}):t.map(u=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"p-2",children:u.id}),s.jsx("td",{className:"p-2",children:u.status}),s.jsx("td",{className:"p-2",children:u.deliveryDate?new Date(u.deliveryDate).toLocaleDateString():"-"}),s.jsx("td",{className:"p-2",children:u.paymentTerms||"-"}),s.jsx("td",{className:"p-2",children:u.shippingMethod||"-"}),s.jsx("td",{className:"p-2",children:Array.isArray(u.attachments)?`${u.attachments.length} ${e("file(s)")}`:"-"}),s.jsx("td",{className:"p-2",children:u.quotationId||"-"}),s.jsx("td",{className:"p-2",children:u.customerId||"-"}),s.jsx("td",{className:"p-2",children:u.createdAt?new Date(u.createdAt).toLocaleString():"-"}),s.jsx("td",{className:"p-2",children:s.jsx("button",{className:"btn btn-success btn-sm",onClick:()=>d(u),children:e("Generate Invoice")})})]},u.id))})]})})]})})}const Uye={BASE_URL:"/besouhoula/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE:"http://localhost:8787",VITE_DISABLE_SUBSCRIPTION:"1",VITE_GMAIL_CLIENT_ID:"502667518650-9q9le5f8qrqu1nmolb980ohta8grsd7c.apps.googleusercontent.com",VITE_GMAIL_REDIRECT_URI:"http://localhost:5176/crm-ibrahim/",VITE_GOOGLE_ADS_CLIENT_ID:"502667518650-9q9le5f8qrqu1nmolb980ohta8grsd7c.apps.googleusercontent.com",VITE_GOOGLE_ADS_REDIRECT_URI:"http://localhost:5176/crm-ibrahim/"};function zye(){const{t:e}=Et(),[t,a]=w.useState([]),[r,n]=w.useState(!0),[i,l]=w.useState(""),o=[{id:"INV-9001",status:"Pending",issueDate:new Date(Date.now()-48*3600*1e3).toISOString(),orderId:"SO-5001",customerId:"CUST-001",amount:4500,currency:"USD",paymentMethod:"Bank Transfer",attachments:[{name:"INV-9001.pdf"}],createdAt:new Date(Date.now()-24*3600*1e3).toISOString()},{id:"INV-9002",status:"Partial",issueDate:new Date(Date.now()-144*3600*1e3).toISOString(),orderId:"SO-5002",customerId:"CUST-002",amount:1200,currency:"EUR",paymentMethod:"Credit Card",attachments:[],createdAt:new Date(Date.now()-6*3600*1e3).toISOString()},{id:"INV-9003",status:"Paid",issueDate:new Date(Date.now()-336*3600*1e3).toISOString(),orderId:"SO-5003",customerId:"CUST-003",amount:800,currency:"USD",paymentMethod:"Cash",attachments:[{name:"receipt.jpg"}],createdAt:new Date().toISOString()}],c=u=>{try{window.print()}catch{alert(e("Print is unavailable in this environment"))}},d=async u=>{try{await ga.put(`/api/customers/invoices/${u.id}`,{status:"Paid"})}catch{}a(f=>f.map(x=>x.id===u.id?{...x,status:"Paid"}:x))};return w.useEffect(()=>{let u=!0;return n(!0),l(""),ga.get("/api/customers/invoices").then(f=>{if(!u)return;const x=f?.data?.data||[],p=Array.isArray(x)?x:[];a(p.length>0?p:o)}).catch(()=>{const f=typeof import.meta<"u"&&Uye&&"http://localhost:8787"||"/";u&&(l(`Failed to load from ${f}/api/customers/invoices`),a(o))}).finally(()=>u&&n(!1)),()=>{u=!1}},[]),s.jsx(ea,{children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-semibold",children:e("Invoices")}),s.jsx("div",{className:"text-sm text-gray-500",children:e("Sales")})]}),i&&s.jsx("div",{className:"mb-3 p-3 rounded border border-red-300 bg-red-50 text-red-700",children:i}),r?s.jsx("div",{className:"text-gray-500",children:e("Loading...")}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b",children:[s.jsx("th",{className:"p-2",children:e("Invoice No.")}),s.jsx("th",{className:"p-2",children:e("Invoice Date")}),s.jsx("th",{className:"p-2",children:e("Linked Sales Order")}),s.jsx("th",{className:"p-2",children:e("Total Amount")}),s.jsx("th",{className:"p-2",children:e("Payment Method")}),s.jsx("th",{className:"p-2",children:e("Payment Status")}),s.jsx("th",{className:"p-2",children:e("Attachment")}),s.jsx("th",{className:"p-2",children:e("Actions")})]})}),s.jsx("tbody",{children:t.length===0?s.jsx("tr",{children:s.jsx("td",{className:"p-3 text-gray-500",colSpan:8,children:e("No data")})}):t.map(u=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"p-2",children:u.id}),s.jsx("td",{className:"p-2",children:u.issueDate?new Date(u.issueDate).toLocaleDateString():"-"}),s.jsx("td",{className:"p-2",children:u.orderId||u.salesOrderId||"-"}),s.jsxs("td",{className:"p-2 font-medium",children:[typeof u.amount=="number"?u.amount.toLocaleString():u.amount," ",u.currency||""]}),s.jsx("td",{className:"p-2",children:u.paymentMethod||"-"}),s.jsx("td",{className:"p-2",children:u.status||u.paymentStatus||"-"}),s.jsx("td",{className:"p-2",children:Array.isArray(u.attachments)?`${u.attachments.length} ${e("file(s)")}`:"-"}),s.jsxs("td",{className:"p-2 space-x-2",children:[s.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>c(),children:e("Send / Print")}),s.jsx("button",{className:"btn btn-success btn-sm",onClick:()=>d(u),children:e("Mark as Paid")})]})]},u.id))})]})})]})})}const s_=w.createContext({});function n_(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const i_=typeof window<"u",FV=i_?w.useLayoutEffect:w.useEffect,Jj=w.createContext(null);function l_(e,t){e.indexOf(t)===-1&&e.push(t)}function o_(e,t){const a=e.indexOf(t);a>-1&&e.splice(a,1)}const dh=(e,t,a)=>a>t?t:a<e?e:a;let c_=()=>{};const uh={},IV=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function BV(e){return typeof e=="object"&&e!==null}const $V=e=>/^0[^.\s]+$/u.test(e);function d_(e){let t;return()=>(t===void 0&&(t=e()),t)}const vc=e=>e,Hye=(e,t)=>a=>t(e(a)),Yv=(...e)=>e.reduce(Hye),iv=(e,t,a)=>{const r=t-e;return r===0?1:(a-e)/r};class u_{constructor(){this.subscriptions=[]}add(t){return l_(this.subscriptions,t),()=>o_(this.subscriptions,t)}notify(t,a,r){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](t,a,r);else for(let i=0;i<n;i++){const l=this.subscriptions[i];l&&l(t,a,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const eu=e=>e*1e3,pc=e=>e/1e3;function UV(e,t){return t?e*(1e3/t):0}const zV=(e,t,a)=>(((1-3*a+3*t)*e+(3*a-6*t))*e+3*t)*e,Vye=1e-7,Wye=12;function qye(e,t,a,r,n){let i,l,o=0;do l=t+(a-t)/2,i=zV(l,r,n)-e,i>0?a=l:t=l;while(Math.abs(i)>Vye&&++o<Wye);return l}function Xv(e,t,a,r){if(e===t&&a===r)return vc;const n=i=>qye(i,0,1,e,a);return i=>i===0||i===1?i:zV(n(i),t,r)}const HV=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,VV=e=>t=>1-e(1-t),WV=Xv(.33,1.53,.69,.99),h_=VV(WV),qV=HV(h_),GV=e=>(e*=2)<1?.5*h_(e):.5*(2-Math.pow(2,-10*(e-1))),f_=e=>1-Math.sin(Math.acos(e)),KV=VV(f_),YV=HV(f_),Gye=Xv(.42,0,1,1),Kye=Xv(0,0,.58,1),XV=Xv(.42,0,.58,1),Yye=e=>Array.isArray(e)&&typeof e[0]!="number",QV=e=>Array.isArray(e)&&typeof e[0]=="number",Xye={linear:vc,easeIn:Gye,easeInOut:XV,easeOut:Kye,circIn:f_,circInOut:YV,circOut:KV,backIn:h_,backInOut:qV,backOut:WV,anticipate:GV},Qye=e=>typeof e=="string",JP=e=>{if(QV(e)){c_(e.length===4);const[t,a,r,n]=e;return Xv(t,a,r,n)}else if(Qye(e))return Xye[e];return e},qy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Jye(e,t){let a=new Set,r=new Set,n=!1,i=!1;const l=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(u){l.has(u)&&(d.schedule(u),e()),u(o)}const d={schedule:(u,f=!1,x=!1)=>{const v=x&&n?a:r;return f&&l.add(u),v.has(u)||v.add(u),u},cancel:u=>{r.delete(u),l.delete(u)},process:u=>{if(o=u,n){i=!0;return}n=!0,[a,r]=[r,a],a.forEach(c),a.clear(),n=!1,i&&(i=!1,d.process(u))}};return d}const Zye=40;function JV(e,t){let a=!1,r=!0;const n={delta:0,timestamp:0,isProcessing:!1},i=()=>a=!0,l=qy.reduce((S,k)=>(S[k]=Jye(i),S),{}),{setup:o,read:c,resolveKeyframes:d,preUpdate:u,update:f,preRender:x,render:p,postRender:v}=l,g=()=>{const S=uh.useManualTiming?n.timestamp:performance.now();a=!1,uh.useManualTiming||(n.delta=r?1e3/60:Math.max(Math.min(S-n.timestamp,Zye),1)),n.timestamp=S,n.isProcessing=!0,o.process(n),c.process(n),d.process(n),u.process(n),f.process(n),x.process(n),p.process(n),v.process(n),n.isProcessing=!1,a&&t&&(r=!1,e(g))},b=()=>{a=!0,r=!0,n.isProcessing||e(g)};return{schedule:qy.reduce((S,k)=>{const A=l[k];return S[k]=(_,M=!1,L=!1)=>(a||b(),A.schedule(_,M,L)),S},{}),cancel:S=>{for(let k=0;k<qy.length;k++)l[qy[k]].cancel(S)},state:n,steps:l}}const{schedule:Ds,cancel:Of,state:Bi,steps:U5}=JV(typeof requestAnimationFrame<"u"?requestAnimationFrame:vc,!0);let P2;function e2e(){P2=void 0}const Jl={now:()=>(P2===void 0&&Jl.set(Bi.isProcessing||uh.useManualTiming?Bi.timestamp:performance.now()),P2),set:e=>{P2=e,queueMicrotask(e2e)}},ZV=e=>t=>typeof t=="string"&&t.startsWith(e),m_=ZV("--"),t2e=ZV("var(--"),p_=e=>t2e(e)?a2e.test(e.split("/*")[0].trim()):!1,a2e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_x={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},lv={..._x,transform:e=>dh(0,1,e)},Gy={..._x,default:1},w1=e=>Math.round(e*1e5)/1e5,x_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function r2e(e){return e==null}const s2e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,g_=(e,t)=>a=>!!(typeof a=="string"&&s2e.test(a)&&a.startsWith(e)||t&&!r2e(a)&&Object.prototype.hasOwnProperty.call(a,t)),eW=(e,t,a)=>r=>{if(typeof r!="string")return r;const[n,i,l,o]=r.match(x_);return{[e]:parseFloat(n),[t]:parseFloat(i),[a]:parseFloat(l),alpha:o!==void 0?parseFloat(o):1}},n2e=e=>dh(0,255,e),z5={..._x,transform:e=>Math.round(n2e(e))},F0={test:g_("rgb","red"),parse:eW("red","green","blue"),transform:({red:e,green:t,blue:a,alpha:r=1})=>"rgba("+z5.transform(e)+", "+z5.transform(t)+", "+z5.transform(a)+", "+w1(lv.transform(r))+")"};function i2e(e){let t="",a="",r="",n="";return e.length>5?(t=e.substring(1,3),a=e.substring(3,5),r=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),a=e.substring(2,3),r=e.substring(3,4),n=e.substring(4,5),t+=t,a+=a,r+=r,n+=n),{red:parseInt(t,16),green:parseInt(a,16),blue:parseInt(r,16),alpha:n?parseInt(n,16)/255:1}}const tC={test:g_("#"),parse:i2e,transform:F0.transform},Qv=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ff=Qv("deg"),tu=Qv("%"),Pa=Qv("px"),l2e=Qv("vh"),o2e=Qv("vw"),ZP={...tu,parse:e=>tu.parse(e)/100,transform:e=>tu.transform(e*100)},Bp={test:g_("hsl","hue"),parse:eW("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:a,alpha:r=1})=>"hsla("+Math.round(e)+", "+tu.transform(w1(t))+", "+tu.transform(w1(a))+", "+w1(lv.transform(r))+")"},Rn={test:e=>F0.test(e)||tC.test(e)||Bp.test(e),parse:e=>F0.test(e)?F0.parse(e):Bp.test(e)?Bp.parse(e):tC.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?F0.transform(e):Bp.transform(e),getAnimatableNone:e=>{const t=Rn.parse(e);return t.alpha=0,Rn.transform(t)}},c2e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function d2e(e){return isNaN(e)&&typeof e=="string"&&(e.match(x_)?.length||0)+(e.match(c2e)?.length||0)>0}const tW="number",aW="color",u2e="var",h2e="var(",eL="${}",f2e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ov(e){const t=e.toString(),a=[],r={color:[],number:[],var:[]},n=[];let i=0;const o=t.replace(f2e,c=>(Rn.test(c)?(r.color.push(i),n.push(aW),a.push(Rn.parse(c))):c.startsWith(h2e)?(r.var.push(i),n.push(u2e),a.push(c)):(r.number.push(i),n.push(tW),a.push(parseFloat(c))),++i,eL)).split(eL);return{values:a,split:o,indexes:r,types:n}}function rW(e){return ov(e).values}function sW(e){const{split:t,types:a}=ov(e),r=t.length;return n=>{let i="";for(let l=0;l<r;l++)if(i+=t[l],n[l]!==void 0){const o=a[l];o===tW?i+=w1(n[l]):o===aW?i+=Rn.transform(n[l]):i+=n[l]}return i}}const m2e=e=>typeof e=="number"?0:Rn.test(e)?Rn.getAnimatableNone(e):e;function p2e(e){const t=rW(e);return sW(e)(t.map(m2e))}const Rf={test:d2e,parse:rW,createTransformer:sW,getAnimatableNone:p2e};function H5(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+(t-e)*6*a:a<1/2?t:a<2/3?e+(t-e)*(2/3-a)*6:e}function x2e({hue:e,saturation:t,lightness:a,alpha:r}){e/=360,t/=100,a/=100;let n=0,i=0,l=0;if(!t)n=i=l=a;else{const o=a<.5?a*(1+t):a+t-a*t,c=2*a-o;n=H5(c,o,e+1/3),i=H5(c,o,e),l=H5(c,o,e-1/3)}return{red:Math.round(n*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:r}}function xw(e,t){return a=>a>0?t:e}const zs=(e,t,a)=>e+(t-e)*a,V5=(e,t,a)=>{const r=e*e,n=a*(t*t-r)+r;return n<0?0:Math.sqrt(n)},g2e=[tC,F0,Bp],v2e=e=>g2e.find(t=>t.test(e));function tL(e){const t=v2e(e);if(!t)return!1;let a=t.parse(e);return t===Bp&&(a=x2e(a)),a}const aL=(e,t)=>{const a=tL(e),r=tL(t);if(!a||!r)return xw(e,t);const n={...a};return i=>(n.red=V5(a.red,r.red,i),n.green=V5(a.green,r.green,i),n.blue=V5(a.blue,r.blue,i),n.alpha=zs(a.alpha,r.alpha,i),F0.transform(n))},aC=new Set(["none","hidden"]);function b2e(e,t){return aC.has(e)?a=>a<=0?e:t:a=>a>=1?t:e}function y2e(e,t){return a=>zs(e,t,a)}function v_(e){return typeof e=="number"?y2e:typeof e=="string"?p_(e)?xw:Rn.test(e)?aL:N2e:Array.isArray(e)?nW:typeof e=="object"?Rn.test(e)?aL:w2e:xw}function nW(e,t){const a=[...e],r=a.length,n=e.map((i,l)=>v_(i)(i,t[l]));return i=>{for(let l=0;l<r;l++)a[l]=n[l](i);return a}}function w2e(e,t){const a={...e,...t},r={};for(const n in a)e[n]!==void 0&&t[n]!==void 0&&(r[n]=v_(e[n])(e[n],t[n]));return n=>{for(const i in r)a[i]=r[i](n);return a}}function j2e(e,t){const a=[],r={color:0,var:0,number:0};for(let n=0;n<t.values.length;n++){const i=t.types[n],l=e.indexes[i][r[i]],o=e.values[l]??0;a[n]=o,r[i]++}return a}const N2e=(e,t)=>{const a=Rf.createTransformer(t),r=ov(e),n=ov(t);return r.indexes.var.length===n.indexes.var.length&&r.indexes.color.length===n.indexes.color.length&&r.indexes.number.length>=n.indexes.number.length?aC.has(e)&&!n.values.length||aC.has(t)&&!r.values.length?b2e(e,t):Yv(nW(j2e(r,n),n.values),a):xw(e,t)};function iW(e,t,a){return typeof e=="number"&&typeof t=="number"&&typeof a=="number"?zs(e,t,a):v_(e)(e,t)}const S2e=e=>{const t=({timestamp:a})=>e(a);return{start:(a=!0)=>Ds.update(t,a),stop:()=>Of(t),now:()=>Bi.isProcessing?Bi.timestamp:Jl.now()}},lW=(e,t,a=10)=>{let r="";const n=Math.max(Math.round(t/a),2);for(let i=0;i<n;i++)r+=Math.round(e(i/(n-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},gw=2e4;function b_(e){let t=0;const a=50;let r=e.next(t);for(;!r.done&&t<gw;)t+=a,r=e.next(t);return t>=gw?1/0:t}function k2e(e,t=100,a){const r=a({...e,keyframes:[0,t]}),n=Math.min(b_(r),gw);return{type:"keyframes",ease:i=>r.next(n*i).value/t,duration:pc(n)}}const C2e=5;function oW(e,t,a){const r=Math.max(t-C2e,0);return UV(a-e(r),t-r)}const Qs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},W5=.001;function A2e({duration:e=Qs.duration,bounce:t=Qs.bounce,velocity:a=Qs.velocity,mass:r=Qs.mass}){let n,i,l=1-t;l=dh(Qs.minDamping,Qs.maxDamping,l),e=dh(Qs.minDuration,Qs.maxDuration,pc(e)),l<1?(n=d=>{const u=d*l,f=u*e,x=u-a,p=rC(d,l),v=Math.exp(-f);return W5-x/p*v},i=d=>{const f=d*l*e,x=f*a+a,p=Math.pow(l,2)*Math.pow(d,2)*e,v=Math.exp(-f),g=rC(Math.pow(d,2),l);return(-n(d)+W5>0?-1:1)*((x-p)*v)/g}):(n=d=>{const u=Math.exp(-d*e),f=(d-a)*e+1;return-W5+u*f},i=d=>{const u=Math.exp(-d*e),f=(a-d)*(e*e);return u*f});const o=5/e,c=T2e(n,i,o);if(e=eu(e),isNaN(c))return{stiffness:Qs.stiffness,damping:Qs.damping,duration:e};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:l*2*Math.sqrt(r*d),duration:e}}}const _2e=12;function T2e(e,t,a){let r=a;for(let n=1;n<_2e;n++)r=r-e(r)/t(r);return r}function rC(e,t){return e*Math.sqrt(1-t*t)}const E2e=["duration","bounce"],D2e=["stiffness","damping","mass"];function rL(e,t){return t.some(a=>e[a]!==void 0)}function M2e(e){let t={velocity:Qs.velocity,stiffness:Qs.stiffness,damping:Qs.damping,mass:Qs.mass,isResolvedFromDuration:!1,...e};if(!rL(e,D2e)&&rL(e,E2e))if(e.visualDuration){const a=e.visualDuration,r=2*Math.PI/(a*1.2),n=r*r,i=2*dh(.05,1,1-(e.bounce||0))*Math.sqrt(n);t={...t,mass:Qs.mass,stiffness:n,damping:i}}else{const a=A2e(e);t={...t,...a,mass:Qs.mass},t.isResolvedFromDuration=!0}return t}function vw(e=Qs.visualDuration,t=Qs.bounce){const a=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:n}=a;const i=a.keyframes[0],l=a.keyframes[a.keyframes.length-1],o={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:f,velocity:x,isResolvedFromDuration:p}=M2e({...a,velocity:-pc(a.velocity||0)}),v=x||0,g=d/(2*Math.sqrt(c*u)),b=l-i,j=pc(Math.sqrt(c/u)),N=Math.abs(b)<5;r||(r=N?Qs.restSpeed.granular:Qs.restSpeed.default),n||(n=N?Qs.restDelta.granular:Qs.restDelta.default);let S;if(g<1){const A=rC(j,g);S=_=>{const M=Math.exp(-g*j*_);return l-M*((v+g*j*b)/A*Math.sin(A*_)+b*Math.cos(A*_))}}else if(g===1)S=A=>l-Math.exp(-j*A)*(b+(v+j*b)*A);else{const A=j*Math.sqrt(g*g-1);S=_=>{const M=Math.exp(-g*j*_),L=Math.min(A*_,300);return l-M*((v+g*j*b)*Math.sinh(L)+A*b*Math.cosh(L))/A}}const k={calculatedDuration:p&&f||null,next:A=>{const _=S(A);if(p)o.done=A>=f;else{let M=A===0?v:0;g<1&&(M=A===0?eu(v):oW(S,A,_));const L=Math.abs(M)<=r,U=Math.abs(l-_)<=n;o.done=L&&U}return o.value=o.done?l:_,o},toString:()=>{const A=Math.min(b_(k),gw),_=lW(M=>k.next(A*M).value,A,30);return A+"ms "+_},toTransition:()=>{}};return k}vw.applyToOptions=e=>{const t=k2e(e,100,vw);return e.ease=t.ease,e.duration=eu(t.duration),e.type="keyframes",e};function sC({keyframes:e,velocity:t=0,power:a=.8,timeConstant:r=325,bounceDamping:n=10,bounceStiffness:i=500,modifyTarget:l,min:o,max:c,restDelta:d=.5,restSpeed:u}){const f=e[0],x={done:!1,value:f},p=L=>o!==void 0&&L<o||c!==void 0&&L>c,v=L=>o===void 0?c:c===void 0||Math.abs(o-L)<Math.abs(c-L)?o:c;let g=a*t;const b=f+g,j=l===void 0?b:l(b);j!==b&&(g=j-f);const N=L=>-g*Math.exp(-L/r),S=L=>j+N(L),k=L=>{const U=N(L),z=S(L);x.done=Math.abs(U)<=d,x.value=x.done?j:z};let A,_;const M=L=>{p(x.value)&&(A=L,_=vw({keyframes:[x.value,v(x.value)],velocity:oW(S,L,x.value),damping:n,stiffness:i,restDelta:d,restSpeed:u}))};return M(0),{calculatedDuration:null,next:L=>{let U=!1;return!_&&A===void 0&&(U=!0,k(L),M(L)),A!==void 0&&L>=A?_.next(L-A):(!U&&k(L),x)}}}function P2e(e,t,a){const r=[],n=a||uh.mix||iW,i=e.length-1;for(let l=0;l<i;l++){let o=n(e[l],e[l+1]);if(t){const c=Array.isArray(t)?t[l]||vc:t;o=Yv(c,o)}r.push(o)}return r}function L2e(e,t,{clamp:a=!0,ease:r,mixer:n}={}){const i=e.length;if(c_(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=P2e(t,r,n),c=o.length,d=u=>{if(l&&u<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const x=iv(e[f],e[f+1],u);return o[f](x)};return a?u=>d(dh(e[0],e[i-1],u)):d}function O2e(e,t){const a=e[e.length-1];for(let r=1;r<=t;r++){const n=iv(0,t,r);e.push(zs(a,1,n))}}function R2e(e){const t=[0];return O2e(t,e.length-1),t}function F2e(e,t){return e.map(a=>a*t)}function I2e(e,t){return e.map(()=>t||XV).splice(0,e.length-1)}function j1({duration:e=300,keyframes:t,times:a,ease:r="easeInOut"}){const n=Yye(r)?r.map(JP):JP(r),i={done:!1,value:t[0]},l=F2e(a&&a.length===t.length?a:R2e(t),e),o=L2e(l,t,{ease:Array.isArray(n)?n:I2e(t,n)});return{calculatedDuration:e,next:c=>(i.value=o(c),i.done=c>=e,i)}}const B2e=e=>e!==null;function y_(e,{repeat:t,repeatType:a="loop"},r,n=1){const i=e.filter(B2e),o=n<0||t&&a!=="loop"&&t%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const $2e={decay:sC,inertia:sC,tween:j1,keyframes:j1,spring:vw};function cW(e){typeof e.type=="string"&&(e.type=$2e[e.type])}class w_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,a){return this.finished.then(t,a)}}const U2e=e=>e/100;class j_ extends w_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:a}=this.options;a&&a.updatedAt!==Jl.now()&&this.tick(Jl.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;cW(t);const{type:a=j1,repeat:r=0,repeatDelay:n=0,repeatType:i,velocity:l=0}=t;let{keyframes:o}=t;const c=a||j1;c!==j1&&typeof o[0]!="number"&&(this.mixKeyframes=Yv(U2e,iW(o[0],o[1])),o=[0,100]);const d=c({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...o].reverse(),velocity:-l})),d.calculatedDuration===null&&(d.calculatedDuration=b_(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+n,this.totalDuration=this.resolvedDuration*(r+1)-n,this.generator=d}updateTime(t){const a=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(t,a=!1){const{generator:r,totalDuration:n,mixKeyframes:i,mirroredGenerator:l,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:u,repeat:f,repeatType:x,repeatDelay:p,type:v,onUpdate:g,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-n/this.speed,this.startTime)),a?this.currentTime=t:this.updateTime(t);const j=this.currentTime-d*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?j<0:j>n;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let S=this.currentTime,k=r;if(f){const L=Math.min(this.currentTime,n)/o;let U=Math.floor(L),z=L%1;!z&&L>=1&&(z=1),z===1&&U--,U=Math.min(U,f+1),!!(U%2)&&(x==="reverse"?(z=1-z,p&&(z-=p/o)):x==="mirror"&&(k=l)),S=dh(0,1,z)*o}const A=N?{done:!1,value:u[0]}:k.next(S);i&&(A.value=i(A.value));let{done:_}=A;!N&&c!==null&&(_=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return M&&v!==sC&&(A.value=y_(u,this.options,b,this.speed)),g&&g(A.value),M&&this.finish(),A}then(t,a){return this.finished.then(t,a)}get duration(){return pc(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+pc(t)}get time(){return pc(this.currentTime)}set time(t){t=eu(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Jl.now());const a=this.playbackSpeed!==t;this.playbackSpeed=t,a&&(this.time=pc(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=S2e,startTime:a}=this.options;this.driver||(this.driver=t(n=>this.tick(n))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=a??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Jl.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function z2e(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const I0=e=>e*180/Math.PI,nC=e=>{const t=I0(Math.atan2(e[1],e[0]));return iC(t)},H2e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:nC,rotateZ:nC,skewX:e=>I0(Math.atan(e[1])),skewY:e=>I0(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},iC=e=>(e=e%360,e<0&&(e+=360),e),sL=nC,nL=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),iL=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),V2e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:nL,scaleY:iL,scale:e=>(nL(e)+iL(e))/2,rotateX:e=>iC(I0(Math.atan2(e[6],e[5]))),rotateY:e=>iC(I0(Math.atan2(-e[2],e[0]))),rotateZ:sL,rotate:sL,skewX:e=>I0(Math.atan(e[4])),skewY:e=>I0(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function lC(e){return e.includes("scale")?1:0}function oC(e,t){if(!e||e==="none")return lC(t);const a=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,n;if(a)r=V2e,n=a;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=H2e,n=o}if(!n)return lC(t);const i=r[t],l=n[1].split(",").map(q2e);return typeof i=="function"?i(l):l[i]}const W2e=(e,t)=>{const{transform:a="none"}=getComputedStyle(e);return oC(a,t)};function q2e(e){return parseFloat(e.trim())}const Tx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ex=new Set(Tx),lL=e=>e===_x||e===Pa,G2e=new Set(["x","y","z"]),K2e=Tx.filter(e=>!G2e.has(e));function Y2e(e){const t=[];return K2e.forEach(a=>{const r=e.getValue(a);r!==void 0&&(t.push([a,r.get()]),r.set(a.startsWith("scale")?1:0))}),t}const Q0={width:({x:e},{paddingLeft:t="0",paddingRight:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),height:({y:e},{paddingTop:t="0",paddingBottom:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>oC(t,"x"),y:(e,{transform:t})=>oC(t,"y")};Q0.translateX=Q0.x;Q0.translateY=Q0.y;const J0=new Set;let cC=!1,dC=!1,uC=!1;function dW(){if(dC){const e=Array.from(J0).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),a=new Map;t.forEach(r=>{const n=Y2e(r);n.length&&(a.set(r,n),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const n=a.get(r);n&&n.forEach(([i,l])=>{r.getValue(i)?.set(l)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}dC=!1,cC=!1,J0.forEach(e=>e.complete(uC)),J0.clear()}function uW(){J0.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(dC=!0)})}function X2e(){uC=!0,uW(),dW(),uC=!1}class N_{constructor(t,a,r,n,i,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=a,this.name=r,this.motionValue=n,this.element=i,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(J0.add(this),cC||(cC=!0,Ds.read(uW),Ds.resolveKeyframes(dW))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:a,element:r,motionValue:n}=this;if(t[0]===null){const i=n?.get(),l=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&a){const o=r.readValue(a,l);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=l),n&&i===void 0&&n.set(t[0])}z2e(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),J0.delete(this)}cancel(){this.state==="scheduled"&&(J0.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Q2e=e=>e.startsWith("--");function J2e(e,t,a){Q2e(t)?e.style.setProperty(t,a):e.style[t]=a}const Z2e=d_(()=>window.ScrollTimeline!==void 0),ewe={};function twe(e,t){const a=d_(e);return()=>ewe[t]??a()}const hW=twe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),i1=([e,t,a,r])=>`cubic-bezier(${e}, ${t}, ${a}, ${r})`,oL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:i1([0,.65,.55,1]),circOut:i1([.55,0,1,.45]),backIn:i1([.31,.01,.66,-.59]),backOut:i1([.33,1.53,.69,.99])};function fW(e,t){if(e)return typeof e=="function"?hW()?lW(e,t):"ease-out":QV(e)?i1(e):Array.isArray(e)?e.map(a=>fW(a,t)||oL.easeOut):oL[e]}function awe(e,t,a,{delay:r=0,duration:n=300,repeat:i=0,repeatType:l="loop",ease:o="easeOut",times:c}={},d=void 0){const u={[t]:a};c&&(u.offset=c);const f=fW(o,n);Array.isArray(f)&&(u.easing=f);const x={delay:r,duration:n,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"};return d&&(x.pseudoElement=d),e.animate(u,x)}function mW(e){return typeof e=="function"&&"applyToOptions"in e}function rwe({type:e,...t}){return mW(e)&&hW()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class swe extends w_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:a,name:r,keyframes:n,pseudoElement:i,allowFlatten:l=!1,finalKeyframe:o,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=l,this.options=t,c_(typeof t.type!="string");const d=rwe(t);this.animation=awe(a,r,n,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=y_(n,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):J2e(a,r,u),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return pc(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+pc(t)}get time(){return pc(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=eu(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:a}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Z2e()?(this.animation.timeline=t,vc):a(this)}}const pW={anticipate:GV,backInOut:qV,circInOut:YV};function nwe(e){return e in pW}function iwe(e){typeof e.ease=="string"&&nwe(e.ease)&&(e.ease=pW[e.ease])}const cL=10;class lwe extends swe{constructor(t){iwe(t),cW(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:a,onUpdate:r,onComplete:n,element:i,...l}=this.options;if(!a)return;if(t!==void 0){a.set(t);return}const o=new j_({...l,autoplay:!1}),c=eu(this.finishedTime??this.time);a.setWithVelocity(o.sample(c-cL).value,o.sample(c).value,cL),o.stop()}}const dL=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Rf.test(e)||e==="0")&&!e.startsWith("url("));function owe(e){const t=e[0];if(e.length===1)return!0;for(let a=0;a<e.length;a++)if(e[a]!==t)return!0}function cwe(e,t,a,r){const n=e[0];if(n===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],l=dL(n,t),o=dL(i,t);return!l||!o?!1:owe(e)||(a==="spring"||mW(a))&&r}function hC(e){e.duration=0,e.type="keyframes"}const dwe=new Set(["opacity","clipPath","filter","transform"]),uwe=d_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function hwe(e){const{motionValue:t,name:a,repeatDelay:r,repeatType:n,damping:i,type:l}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return uwe()&&a&&dwe.has(a)&&(a!=="transform"||!d)&&!c&&!r&&n!=="mirror"&&i!==0&&l!=="inertia"}const fwe=40;class mwe extends w_{constructor({autoplay:t=!0,delay:a=0,type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:l="loop",keyframes:o,name:c,motionValue:d,element:u,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Jl.now();const x={autoplay:t,delay:a,type:r,repeat:n,repeatDelay:i,repeatType:l,name:c,motionValue:d,element:u,...f},p=u?.KeyframeResolver||N_;this.keyframeResolver=new p(o,(v,g,b)=>this.onKeyframesResolved(v,g,x,!b),c,d,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,a,r,n){this.keyframeResolver=void 0;const{name:i,type:l,velocity:o,delay:c,isHandoff:d,onUpdate:u}=r;this.resolvedAt=Jl.now(),cwe(t,i,l,o)||((uh.instantAnimations||!c)&&u?.(y_(t,r,a)),t[0]=t[t.length-1],hC(r),r.repeat=0);const x={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>fwe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...r,keyframes:t},p=!d&&hwe(x)?new lwe({...x,element:x.motionValue.owner.current}):new j_(x);p.finished.then(()=>this.notifyFinished()).catch(vc),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,a){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),X2e()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const pwe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xwe(e){const t=pwe.exec(e);if(!t)return[,];const[,a,r,n]=t;return[`--${a??r}`,n]}function xW(e,t,a=1){const[r,n]=xwe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const l=i.trim();return IV(l)?parseFloat(l):l}return p_(n)?xW(n,t,a+1):n}function S_(e,t){return e?.[t]??e?.default??e}const gW=new Set(["width","height","top","left","right","bottom",...Tx]),gwe={test:e=>e==="auto",parse:e=>e},vW=e=>t=>t.test(e),bW=[_x,Pa,tu,ff,o2e,l2e,gwe],uL=e=>bW.find(vW(e));function vwe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||$V(e):!0}const bwe=new Set(["brightness","contrast","saturate","opacity"]);function ywe(e){const[t,a]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=a.match(x_)||[];if(!r)return e;const n=a.replace(r,"");let i=bwe.has(t)?1:0;return r!==a&&(i*=100),t+"("+i+n+")"}const wwe=/\b([a-z-]*)\(.*?\)/gu,fC={...Rf,getAnimatableNone:e=>{const t=e.match(wwe);return t?t.map(ywe).join(" "):e}},hL={..._x,transform:Math.round},jwe={rotate:ff,rotateX:ff,rotateY:ff,rotateZ:ff,scale:Gy,scaleX:Gy,scaleY:Gy,scaleZ:Gy,skew:ff,skewX:ff,skewY:ff,distance:Pa,translateX:Pa,translateY:Pa,translateZ:Pa,x:Pa,y:Pa,z:Pa,perspective:Pa,transformPerspective:Pa,opacity:lv,originX:ZP,originY:ZP,originZ:Pa},k_={borderWidth:Pa,borderTopWidth:Pa,borderRightWidth:Pa,borderBottomWidth:Pa,borderLeftWidth:Pa,borderRadius:Pa,radius:Pa,borderTopLeftRadius:Pa,borderTopRightRadius:Pa,borderBottomRightRadius:Pa,borderBottomLeftRadius:Pa,width:Pa,maxWidth:Pa,height:Pa,maxHeight:Pa,top:Pa,right:Pa,bottom:Pa,left:Pa,padding:Pa,paddingTop:Pa,paddingRight:Pa,paddingBottom:Pa,paddingLeft:Pa,margin:Pa,marginTop:Pa,marginRight:Pa,marginBottom:Pa,marginLeft:Pa,backgroundPositionX:Pa,backgroundPositionY:Pa,...jwe,zIndex:hL,fillOpacity:lv,strokeOpacity:lv,numOctaves:hL},Nwe={...k_,color:Rn,backgroundColor:Rn,outlineColor:Rn,fill:Rn,stroke:Rn,borderColor:Rn,borderTopColor:Rn,borderRightColor:Rn,borderBottomColor:Rn,borderLeftColor:Rn,filter:fC,WebkitFilter:fC},yW=e=>Nwe[e];function wW(e,t){let a=yW(e);return a!==fC&&(a=Rf),a.getAnimatableNone?a.getAnimatableNone(t):void 0}const Swe=new Set(["auto","none","0"]);function kwe(e,t,a){let r=0,n;for(;r<e.length&&!n;){const i=e[r];typeof i=="string"&&!Swe.has(i)&&ov(i).values.length&&(n=e[r]),r++}if(n&&a)for(const i of t)e[i]=wW(a,n)}class Cwe extends N_{constructor(t,a,r,n,i){super(t,a,r,n,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:a,name:r}=this;if(!a||!a.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),p_(d))){const u=xW(d,a.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!gW.has(r)||t.length!==2)return;const[n,i]=t,l=uL(n),o=uL(i);if(l!==o)if(lL(l)&&lL(o))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else Q0[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:a}=this,r=[];for(let n=0;n<t.length;n++)(t[n]===null||vwe(t[n]))&&r.push(n);r.length&&kwe(t,r,a)}measureInitialState(){const{element:t,unresolvedKeyframes:a,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Q0[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a[0]=this.measuredOrigin;const n=a[a.length-1];n!==void 0&&t.getValue(r,n).jump(n,!1)}measureEndState(){const{element:t,name:a,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const n=t.getValue(a);n&&n.jump(this.measuredOrigin,!1);const i=r.length-1,l=r[i];r[i]=Q0[a](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,c])=>{t.getValue(o).set(c)}),this.resolveNoneKeyframes()}}function Awe(e,t,a){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const n=a?.[e]??r.querySelectorAll(e);return n?Array.from(n):[]}return Array.from(e)}const jW=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function NW(e){return BV(e)&&"offsetHeight"in e}const fL=30,_we=e=>!isNaN(parseFloat(e));class Twe{constructor(t,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const n=Jl.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=a.owner}setCurrent(t){this.current=t,this.updatedAt=Jl.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=_we(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,a){this.events[t]||(this.events[t]=new u_);const r=this.events[t].add(a);return t==="change"?()=>{r(),Ds.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,a){this.passiveEffect=t,this.stopPassiveEffect=a}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,a,r){this.set(a),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,a=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Jl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>fL)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,fL);return UV(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(t){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=t(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cx(e,t){return new Twe(e,t)}const{schedule:C_}=JV(queueMicrotask,!1),td={x:!1,y:!1};function SW(){return td.x||td.y}function Ewe(e){return e==="x"||e==="y"?td[e]?null:(td[e]=!0,()=>{td[e]=!1}):td.x||td.y?null:(td.x=td.y=!0,()=>{td.x=td.y=!1})}function kW(e,t){const a=Awe(e),r=new AbortController,n={passive:!0,...t,signal:r.signal};return[a,n,()=>r.abort()]}function mL(e){return!(e.pointerType==="touch"||SW())}function Dwe(e,t,a={}){const[r,n,i]=kW(e,a),l=o=>{if(!mL(o))return;const{target:c}=o,d=t(c,o);if(typeof d!="function"||!c)return;const u=f=>{mL(f)&&(d(f),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,n)};return r.forEach(o=>{o.addEventListener("pointerenter",l,n)}),i}const CW=(e,t)=>t?e===t?!0:CW(e,t.parentElement):!1,A_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Mwe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Pwe(e){return Mwe.has(e.tagName)||e.tabIndex!==-1}const L2=new WeakSet;function pL(e){return t=>{t.key==="Enter"&&e(t)}}function q5(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Lwe=(e,t)=>{const a=e.currentTarget;if(!a)return;const r=pL(()=>{if(L2.has(a))return;q5(a,"down");const n=pL(()=>{q5(a,"up")}),i=()=>q5(a,"cancel");a.addEventListener("keyup",n,t),a.addEventListener("blur",i,t)});a.addEventListener("keydown",r,t),a.addEventListener("blur",()=>a.removeEventListener("keydown",r),t)};function xL(e){return A_(e)&&!SW()}function Owe(e,t,a={}){const[r,n,i]=kW(e,a),l=o=>{const c=o.currentTarget;if(!xL(o))return;L2.add(c);const d=t(c,o),u=(p,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",x),L2.has(c)&&L2.delete(c),xL(p)&&typeof d=="function"&&d(p,{success:v})},f=p=>{u(p,c===window||c===document||a.useGlobalTarget||CW(c,p.target))},x=p=>{u(p,!1)};window.addEventListener("pointerup",f,n),window.addEventListener("pointercancel",x,n)};return r.forEach(o=>{(a.useGlobalTarget?window:o).addEventListener("pointerdown",l,n),NW(o)&&(o.addEventListener("focus",d=>Lwe(d,n)),!Pwe(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function AW(e){return BV(e)&&"ownerSVGElement"in e}function Rwe(e){return AW(e)&&e.tagName==="svg"}const dl=e=>!!(e&&e.getVelocity),Fwe=[...bW,Rn,Rf],Iwe=e=>Fwe.find(vW(e)),__=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function gL(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Bwe(...e){return t=>{let a=!1;const r=e.map(n=>{const i=gL(n,t);return!a&&typeof i=="function"&&(a=!0),i});if(a)return()=>{for(let n=0;n<r.length;n++){const i=r[n];typeof i=="function"?i():gL(e[n],null)}}}}function $we(...e){return w.useCallback(Bwe(...e),e)}class Uwe extends w.Component{getSnapshotBeforeUpdate(t){const a=this.props.childRef.current;if(a&&t.isPresent&&!this.props.isPresent){const r=a.offsetParent,n=NW(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=a.offsetHeight||0,i.width=a.offsetWidth||0,i.top=a.offsetTop,i.left=a.offsetLeft,i.right=n-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function zwe({children:e,isPresent:t,anchorX:a,root:r}){const n=w.useId(),i=w.useRef(null),l=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=w.useContext(__),c=$we(i,e?.ref);return w.useInsertionEffect(()=>{const{width:d,height:u,top:f,left:x,right:p}=l.current;if(t||!i.current||!d||!u)return;const v=a==="left"?`left: ${x}`:`right: ${p}`;i.current.dataset.motionPopId=n;const g=document.createElement("style");o&&(g.nonce=o);const b=r??document.head;return b.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${u}px !important;
            ${v}px !important;
            top: ${f}px !important;
          }
        `),()=>{b.contains(g)&&b.removeChild(g)}},[t]),s.jsx(Uwe,{isPresent:t,childRef:i,sizeRef:l,children:w.cloneElement(e,{ref:c})})}const Hwe=({children:e,initial:t,isPresent:a,onExitComplete:r,custom:n,presenceAffectsLayout:i,mode:l,anchorX:o,root:c})=>{const d=n_(Vwe),u=w.useId();let f=!0,x=w.useMemo(()=>(f=!1,{id:u,initial:t,isPresent:a,custom:n,onExitComplete:p=>{d.set(p,!0);for(const v of d.values())if(!v)return;r&&r()},register:p=>(d.set(p,!1),()=>d.delete(p))}),[a,d,r]);return i&&f&&(x={...x}),w.useMemo(()=>{d.forEach((p,v)=>d.set(v,!1))},[a]),w.useEffect(()=>{!a&&!d.size&&r&&r()},[a]),l==="popLayout"&&(e=s.jsx(zwe,{isPresent:a,anchorX:o,root:c,children:e})),s.jsx(Jj.Provider,{value:x,children:e})};function Vwe(){return new Map}function _W(e=!0){const t=w.useContext(Jj);if(t===null)return[!0,null];const{isPresent:a,onExitComplete:r,register:n}=t,i=w.useId();w.useEffect(()=>{if(e)return n(i)},[e]);const l=w.useCallback(()=>e&&r&&r(i),[i,r,e]);return!a&&r?[!1,l]:[!0]}const Ky=e=>e.key||"";function vL(e){const t=[];return w.Children.forEach(e,a=>{w.isValidElement(a)&&t.push(a)}),t}const Wwe=({children:e,custom:t,initial:a=!0,onExitComplete:r,presenceAffectsLayout:n=!0,mode:i="sync",propagate:l=!1,anchorX:o="left",root:c})=>{const[d,u]=_W(l),f=w.useMemo(()=>vL(e),[e]),x=l&&!d?[]:f.map(Ky),p=w.useRef(!0),v=w.useRef(f),g=n_(()=>new Map),[b,j]=w.useState(f),[N,S]=w.useState(f);FV(()=>{p.current=!1,v.current=f;for(let _=0;_<N.length;_++){const M=Ky(N[_]);x.includes(M)?g.delete(M):g.get(M)!==!0&&g.set(M,!1)}},[N,x.length,x.join("-")]);const k=[];if(f!==b){let _=[...f];for(let M=0;M<N.length;M++){const L=N[M],U=Ky(L);x.includes(U)||(_.splice(M,0,L),k.push(L))}return i==="wait"&&k.length&&(_=k),S(vL(_)),j(f),null}const{forceRender:A}=w.useContext(s_);return s.jsx(s.Fragment,{children:N.map(_=>{const M=Ky(_),L=l&&!d?!1:f===N||x.includes(M),U=()=>{if(g.has(M))g.set(M,!0);else return;let z=!0;g.forEach(O=>{O||(z=!1)}),z&&(A?.(),S(v.current),l&&u?.(),r&&r())};return s.jsx(Hwe,{isPresent:L,initial:!p.current||a?void 0:!1,custom:t,presenceAffectsLayout:n,mode:i,root:c,onExitComplete:L?void 0:U,anchorX:o,children:_},M)})})},TW=w.createContext({strict:!1}),bL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dx={};for(const e in bL)dx[e]={isEnabled:t=>bL[e].some(a=>!!t[a])};function qwe(e){for(const t in e)dx[t]={...dx[t],...e[t]}}const Gwe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bw(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Gwe.has(e)}let EW=e=>!bw(e);function Kwe(e){typeof e=="function"&&(EW=t=>t.startsWith("on")?!bw(t):e(t))}try{Kwe(require("@emotion/is-prop-valid").default)}catch{}function Ywe(e,t,a){const r={};for(const n in e)n==="values"&&typeof e.values=="object"||(EW(n)||a===!0&&bw(n)||!t&&!bw(n)||e.draggable&&n.startsWith("onDrag"))&&(r[n]=e[n]);return r}const Zj=w.createContext({});function eN(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function cv(e){return typeof e=="string"||Array.isArray(e)}const T_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],E_=["initial",...T_];function tN(e){return eN(e.animate)||E_.some(t=>cv(e[t]))}function DW(e){return!!(tN(e)||e.variants)}function Xwe(e,t){if(tN(e)){const{initial:a,animate:r}=e;return{initial:a===!1||cv(a)?a:void 0,animate:cv(r)?r:void 0}}return e.inherit!==!1?t:{}}function Qwe(e){const{initial:t,animate:a}=Xwe(e,w.useContext(Zj));return w.useMemo(()=>({initial:t,animate:a}),[yL(t),yL(a)])}function yL(e){return Array.isArray(e)?e.join(" "):e}const dv={};function Jwe(e){for(const t in e)dv[t]=e[t],m_(t)&&(dv[t].isCSSVariable=!0)}function MW(e,{layout:t,layoutId:a}){return Ex.has(e)||e.startsWith("origin")||(t||a!==void 0)&&(!!dv[e]||e==="opacity")}const Zwe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eje=Tx.length;function tje(e,t,a){let r="",n=!0;for(let i=0;i<eje;i++){const l=Tx[i],o=e[l];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(l.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||a){const d=jW(o,k_[l]);if(!c){n=!1;const u=Zwe[l]||l;r+=`${u}(${d}) `}a&&(t[l]=d)}}return r=r.trim(),a?r=a(t,n?"":r):n&&(r="none"),r}function D_(e,t,a){const{style:r,vars:n,transformOrigin:i}=e;let l=!1,o=!1;for(const c in t){const d=t[c];if(Ex.has(c)){l=!0;continue}else if(m_(c)){n[c]=d;continue}else{const u=jW(d,k_[c]);c.startsWith("origin")?(o=!0,i[c]=u):r[c]=u}}if(t.transform||(l||a?r.transform=tje(t,e.transform,a):r.transform&&(r.transform="none")),o){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;r.transformOrigin=`${c} ${d} ${u}`}}const M_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function PW(e,t,a){for(const r in t)!dl(t[r])&&!MW(r,a)&&(e[r]=t[r])}function aje({transformTemplate:e},t){return w.useMemo(()=>{const a=M_();return D_(a,t,e),Object.assign({},a.vars,a.style)},[t])}function rje(e,t){const a=e.style||{},r={};return PW(r,a,e),Object.assign(r,aje(e,t)),r}function sje(e,t){const a={},r=rje(e,t);return e.drag&&e.dragListener!==!1&&(a.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(a.tabIndex=0),a.style=r,a}const nje={offset:"stroke-dashoffset",array:"stroke-dasharray"},ije={offset:"strokeDashoffset",array:"strokeDasharray"};function lje(e,t,a=1,r=0,n=!0){e.pathLength=1;const i=n?nje:ije;e[i.offset]=Pa.transform(-r);const l=Pa.transform(t),o=Pa.transform(a);e[i.array]=`${l} ${o}`}function LW(e,{attrX:t,attrY:a,attrScale:r,pathLength:n,pathSpacing:i=1,pathOffset:l=0,...o},c,d,u){if(D_(e,o,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:x}=e;f.transform&&(x.transform=f.transform,delete f.transform),(x.transform||f.transformOrigin)&&(x.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),x.transform&&(x.transformBox=u?.transformBox??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),a!==void 0&&(f.y=a),r!==void 0&&(f.scale=r),n!==void 0&&lje(f,n,i,l,!1)}const OW=()=>({...M_(),attrs:{}}),RW=e=>typeof e=="string"&&e.toLowerCase()==="svg";function oje(e,t,a,r){const n=w.useMemo(()=>{const i=OW();return LW(i,t,RW(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};PW(i,e.style,e),n.style={...i,...n.style}}return n}const cje=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function P_(e){return typeof e!="string"||e.includes("-")?!1:!!(cje.indexOf(e)>-1||/[A-Z]/u.test(e))}function dje(e,t,a,{latestValues:r},n,i=!1){const o=(P_(e)?oje:sje)(t,r,n,e),c=Ywe(t,typeof e=="string",i),d=e!==w.Fragment?{...c,...o,ref:a}:{},{children:u}=t,f=w.useMemo(()=>dl(u)?u.get():u,[u]);return w.createElement(e,{...d,children:f})}function wL(e){const t=[{},{}];return e?.values.forEach((a,r)=>{t[0][r]=a.get(),t[1][r]=a.getVelocity()}),t}function L_(e,t,a,r){if(typeof t=="function"){const[n,i]=wL(r);t=t(a!==void 0?a:e.custom,n,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[n,i]=wL(r);t=t(a!==void 0?a:e.custom,n,i)}return t}function O2(e){return dl(e)?e.get():e}function uje({scrapeMotionValuesFromProps:e,createRenderState:t},a,r,n){return{latestValues:hje(a,r,n,e),renderState:t()}}function hje(e,t,a,r){const n={},i=r(e,{});for(const x in i)n[x]=O2(i[x]);let{initial:l,animate:o}=e;const c=tN(e),d=DW(e);t&&d&&!c&&e.inherit!==!1&&(l===void 0&&(l=t.initial),o===void 0&&(o=t.animate));let u=a?a.initial===!1:!1;u=u||l===!1;const f=u?o:l;if(f&&typeof f!="boolean"&&!eN(f)){const x=Array.isArray(f)?f:[f];for(let p=0;p<x.length;p++){const v=L_(e,x[p]);if(v){const{transitionEnd:g,transition:b,...j}=v;for(const N in j){let S=j[N];if(Array.isArray(S)){const k=u?S.length-1:0;S=S[k]}S!==null&&(n[N]=S)}for(const N in g)n[N]=g[N]}}}return n}const FW=e=>(t,a)=>{const r=w.useContext(Zj),n=w.useContext(Jj),i=()=>uje(e,t,r,n);return a?i():n_(i)};function O_(e,t,a){const{style:r}=e,n={};for(const i in r)(dl(r[i])||t.style&&dl(t.style[i])||MW(i,e)||a?.getValue(i)?.liveStyle!==void 0)&&(n[i]=r[i]);return n}const fje=FW({scrapeMotionValuesFromProps:O_,createRenderState:M_});function IW(e,t,a){const r=O_(e,t,a);for(const n in e)if(dl(e[n])||dl(t[n])){const i=Tx.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=e[n]}return r}const mje=FW({scrapeMotionValuesFromProps:IW,createRenderState:OW}),pje=Symbol.for("motionComponentSymbol");function $p(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function xje(e,t,a){return w.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),a&&(typeof a=="function"?a(r):$p(a)&&(a.current=r))},[t])}const R_=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gje="framerAppearId",BW="data-"+R_(gje),$W=w.createContext({});function vje(e,t,a,r,n){const{visualElement:i}=w.useContext(Zj),l=w.useContext(TW),o=w.useContext(Jj),c=w.useContext(__).reducedMotion,d=w.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:i,props:a,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,f=w.useContext($W);u&&!u.projection&&n&&(u.type==="html"||u.type==="svg")&&bje(d.current,a,n,f);const x=w.useRef(!1);w.useInsertionEffect(()=>{u&&x.current&&u.update(a,o)});const p=a[BW],v=w.useRef(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return FV(()=>{u&&(x.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),v.current&&u.animationState&&u.animationState.animateChanges())}),w.useEffect(()=>{u&&(!v.current&&u.animationState&&u.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),v.current=!1),u.enteringChildren=void 0)}),u}function bje(e,t,a,r){const{layoutId:n,layout:i,drag:l,dragConstraints:o,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new a(e.latestValues,t["data-framer-portal-id"]?void 0:UW(e.parent)),e.projection.setOptions({layoutId:n,layout:i,alwaysMeasureLayout:!!l||o&&$p(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:d})}function UW(e){if(e)return e.options.allowProjection!==!1?e.projection:UW(e.parent)}function G5(e,{forwardMotionProps:t=!1}={},a,r){a&&qwe(a);const n=P_(e)?mje:fje;function i(o,c){let d;const u={...w.useContext(__),...o,layoutId:yje(o)},{isStatic:f}=u,x=Qwe(o),p=n(o,f);if(!f&&i_){wje();const v=jje(u);d=v.MeasureLayout,x.visualElement=vje(e,p,u,r,v.ProjectionNode)}return s.jsxs(Zj.Provider,{value:x,children:[d&&x.visualElement?s.jsx(d,{visualElement:x.visualElement,...u}):null,dje(e,o,xje(p,x.visualElement,c),p,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=w.forwardRef(i);return l[pje]=e,l}function yje({layoutId:e}){const t=w.useContext(s_).id;return t&&e!==void 0?t+"-"+e:e}function wje(e,t){w.useContext(TW).strict}function jje(e){const{drag:t,layout:a}=dx;if(!t&&!a)return{};const r={...t,...a};return{MeasureLayout:t?.isEnabled(e)||a?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Nje(e,t){if(typeof Proxy>"u")return G5;const a=new Map,r=(i,l)=>G5(i,l,e,t),n=(i,l)=>r(i,l);return new Proxy(n,{get:(i,l)=>l==="create"?r:(a.has(l)||a.set(l,G5(l,void 0,e,t)),a.get(l))})}function zW({top:e,left:t,right:a,bottom:r}){return{x:{min:t,max:a},y:{min:e,max:r}}}function Sje({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function kje(e,t){if(!t)return e;const a=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:a.y,left:a.x,bottom:r.y,right:r.x}}function K5(e){return e===void 0||e===1}function mC({scale:e,scaleX:t,scaleY:a}){return!K5(e)||!K5(t)||!K5(a)}function T0(e){return mC(e)||HW(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function HW(e){return jL(e.x)||jL(e.y)}function jL(e){return e&&e!=="0%"}function yw(e,t,a){const r=e-a,n=t*r;return a+n}function NL(e,t,a,r,n){return n!==void 0&&(e=yw(e,n,r)),yw(e,a,r)+t}function pC(e,t=0,a=1,r,n){e.min=NL(e.min,t,a,r,n),e.max=NL(e.max,t,a,r,n)}function VW(e,{x:t,y:a}){pC(e.x,t.translate,t.scale,t.originPoint),pC(e.y,a.translate,a.scale,a.originPoint)}const SL=.999999999999,kL=1.0000000000001;function Cje(e,t,a,r=!1){const n=a.length;if(!n)return;t.x=t.y=1;let i,l;for(let o=0;o<n;o++){i=a[o],l=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&zp(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,VW(e,l)),r&&T0(i.latestValues)&&zp(e,i.latestValues))}t.x<kL&&t.x>SL&&(t.x=1),t.y<kL&&t.y>SL&&(t.y=1)}function Up(e,t){e.min=e.min+t,e.max=e.max+t}function CL(e,t,a,r,n=.5){const i=zs(e.min,e.max,n);pC(e,t,a,i,r)}function zp(e,t){CL(e.x,t.x,t.scaleX,t.scale,t.originX),CL(e.y,t.y,t.scaleY,t.scale,t.originY)}function WW(e,t){return zW(kje(e.getBoundingClientRect(),t))}function Aje(e,t,a){const r=WW(e,a),{scroll:n}=t;return n&&(Up(r.x,n.offset.x),Up(r.y,n.offset.y)),r}const AL=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hp=()=>({x:AL(),y:AL()}),_L=()=>({min:0,max:0}),bn=()=>({x:_L(),y:_L()}),xC={current:null},qW={current:!1};function _je(){if(qW.current=!0,!!i_)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>xC.current=e.matches;e.addEventListener("change",t),t()}else xC.current=!1}const Tje=new WeakMap;function Eje(e,t,a){for(const r in t){const n=t[r],i=a[r];if(dl(n))e.addValue(r,n);else if(dl(i))e.addValue(r,cx(n,{owner:e}));else if(i!==n)if(e.hasValue(r)){const l=e.getValue(r);l.liveStyle===!0?l.jump(n):l.hasAnimated||l.set(n)}else{const l=e.getStaticValue(r);e.addValue(r,cx(l!==void 0?l:n,{owner:e}))}}for(const r in a)t[r]===void 0&&e.removeValue(r);return t}const TL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Dje{scrapeMotionValuesFromProps(t,a,r){return{}}constructor({parent:t,props:a,presenceContext:r,reducedMotionConfig:n,blockInitialAnimation:i,visualState:l},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=N_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Jl.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Ds.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=l;this.latestValues=c,this.baseTarget={...c},this.initialValues=a.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=a,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=tN(a),this.isVariantNode=DW(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(a,{},this);for(const x in f){const p=f[x];c[x]!==void 0&&dl(p)&&p.set(c[x])}}mount(t){this.current=t,Tje.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,r)=>this.bindToMotionValue(r,a)),qW.current||_je(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xC.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Of(this.notifyUpdate),Of(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const a=this.features[t];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,a){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ex.has(t);r&&this.onBindTransform&&this.onBindTransform();const n=a.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Ds.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,a)),this.valueSubscriptions.set(t,()=>{n(),i&&i(),a.owner&&a.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in dx){const a=dx[t];if(!a)continue;const{isEnabled:r,Feature:n}=a;if(!this.features[t]&&n&&r(this.props)&&(this.features[t]=new n(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,a){this.latestValues[t]=a}update(t,a){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let r=0;r<TL.length;r++){const n=TL[r];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const i="on"+n,l=t[i];l&&(this.propEventSubscriptions[n]=this.on(n,l))}this.prevMotionValues=Eje(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(t),()=>a.variantChildren.delete(t)}addValue(t,a){const r=this.values.get(t);a!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,a),this.values.set(t,a),this.latestValues[t]=a.get())}removeValue(t){this.values.delete(t);const a=this.valueSubscriptions.get(t);a&&(a(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,a){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&a!==void 0&&(r=cx(a===null?void 0:a,{owner:this}),this.addValue(t,r)),r}readValue(t,a){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(IV(r)||$V(r))?r=parseFloat(r):!Iwe(r)&&Rf.test(a)&&(r=wW(t,a)),this.setBaseTarget(t,dl(r)?r.get():r)),dl(r)?r.get():r}setBaseTarget(t,a){this.baseTarget[t]=a}getBaseTarget(t){const{initial:a}=this.props;let r;if(typeof a=="string"||typeof a=="object"){const i=L_(this.props,a,this.presenceContext?.custom);i&&(r=i[t])}if(a&&r!==void 0)return r;const n=this.getBaseTargetFromProps(this.props,t);return n!==void 0&&!dl(n)?n:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,a){return this.events[t]||(this.events[t]=new u_),this.events[t].add(a)}notify(t,...a){this.events[t]&&this.events[t].notify(...a)}scheduleRenderMicrotask(){C_.render(this.render)}}class GW extends Dje{constructor(){super(...arguments),this.KeyframeResolver=Cwe}sortInstanceNodePosition(t,a){return t.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(t,a){return t.style?t.style[a]:void 0}removeValueFromRenderState(t,{vars:a,style:r}){delete a[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;dl(t)&&(this.childSubscription=t.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function KW(e,{style:t,vars:a},r,n){const i=e.style;let l;for(l in t)i[l]=t[l];n?.applyProjectionStyles(i,r);for(l in a)i.setProperty(l,a[l])}function Mje(e){return window.getComputedStyle(e)}class Pje extends GW{constructor(){super(...arguments),this.type="html",this.renderInstance=KW}readValueFromInstance(t,a){if(Ex.has(a))return this.projection?.isProjecting?lC(a):W2e(t,a);{const r=Mje(t),n=(m_(a)?r.getPropertyValue(a):r[a])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(t,{transformPagePoint:a}){return WW(t,a)}build(t,a,r){D_(t,a,r.transformTemplate)}scrapeMotionValuesFromProps(t,a,r){return O_(t,a,r)}}const YW=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Lje(e,t,a,r){KW(e,t,void 0,r);for(const n in t.attrs)e.setAttribute(YW.has(n)?n:R_(n),t.attrs[n])}class Oje extends GW{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bn}getBaseTargetFromProps(t,a){return t[a]}readValueFromInstance(t,a){if(Ex.has(a)){const r=yW(a);return r&&r.default||0}return a=YW.has(a)?a:R_(a),t.getAttribute(a)}scrapeMotionValuesFromProps(t,a,r){return IW(t,a,r)}build(t,a,r){LW(t,a,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,a,r,n){Lje(t,a,r,n)}mount(t){this.isSVGTag=RW(t.tagName),super.mount(t)}}const Rje=(e,t)=>P_(e)?new Oje(t):new Pje(t,{allowProjection:e!==w.Fragment});function Xp(e,t,a){const r=e.getProps();return L_(r,t,a!==void 0?a:r.custom,e)}const gC=e=>Array.isArray(e);function Fje(e,t,a){e.hasValue(t)?e.getValue(t).set(a):e.addValue(t,cx(a))}function Ije(e){return gC(e)?e[e.length-1]||0:e}function Bje(e,t){const a=Xp(e,t);let{transitionEnd:r={},transition:n={},...i}=a||{};i={...i,...r};for(const l in i){const o=Ije(i[l]);Fje(e,l,o)}}function $je(e){return!!(dl(e)&&e.add)}function vC(e,t){const a=e.getValue("willChange");if($je(a))return a.add(t);if(!a&&uh.WillChange){const r=new uh.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function XW(e){return e.props[BW]}const Uje=e=>e!==null;function zje(e,{repeat:t,repeatType:a="loop"},r){const n=e.filter(Uje),i=t&&a!=="loop"&&t%2===1?0:n.length-1;return n[i]}const Hje={type:"spring",stiffness:500,damping:25,restSpeed:10},Vje=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Wje={type:"keyframes",duration:.8},qje={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Gje=(e,{keyframes:t})=>t.length>2?Wje:Ex.has(e)?e.startsWith("scale")?Vje(t[1]):Hje:qje;function Kje({when:e,delay:t,delayChildren:a,staggerChildren:r,staggerDirection:n,repeat:i,repeatType:l,repeatDelay:o,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const F_=(e,t,a,r={},n,i)=>l=>{const o=S_(r,e)||{},c=o.delay||r.delay||0;let{elapsed:d=0}=r;d=d-eu(c);const u={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-d,onUpdate:x=>{t.set(x),o.onUpdate&&o.onUpdate(x)},onComplete:()=>{l(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:n};Kje(o)||Object.assign(u,Gje(e,u)),u.duration&&(u.duration=eu(u.duration)),u.repeatDelay&&(u.repeatDelay=eu(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(hC(u),u.delay===0&&(f=!0)),(uh.instantAnimations||uh.skipAnimations)&&(f=!0,hC(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!i&&t.get()!==void 0){const x=zje(u.keyframes,o);if(x!==void 0){Ds.update(()=>{u.onUpdate(x),u.onComplete()});return}}return o.isSync?new j_(u):new mwe(u)};function Yje({protectedKeys:e,needsAnimating:t},a){const r=e.hasOwnProperty(a)&&t[a]!==!0;return t[a]=!1,r}function QW(e,t,{delay:a=0,transitionOverride:r,type:n}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:l,...o}=t;r&&(i=r);const c=[],d=n&&e.animationState&&e.animationState.getState()[n];for(const u in o){const f=e.getValue(u,e.latestValues[u]??null),x=o[u];if(x===void 0||d&&Yje(d,u))continue;const p={delay:a,...S_(i||{},u)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(x)&&x===v&&!p.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const j=XW(e);if(j){const N=window.MotionHandoffAnimation(j,u,Ds);N!==null&&(p.startTime=N,g=!0)}}vC(e,u),f.start(F_(u,f,x,e.shouldReduceMotion&&gW.has(u)?{type:!1}:p,e,g));const b=f.animation;b&&c.push(b)}return l&&Promise.all(c).then(()=>{Ds.update(()=>{l&&Bje(e,l)})}),c}function JW(e,t,a,r=0,n=1){const i=Array.from(e).sort((d,u)=>d.sortNodePosition(u)).indexOf(t),l=e.size,o=(l-1)*r;return typeof a=="function"?a(i,l):n===1?i*r:o-i*r}function bC(e,t,a={}){const r=Xp(e,t,a.type==="exit"?e.presenceContext?.custom:void 0);let{transition:n=e.getDefaultTransition()||{}}=r||{};a.transitionOverride&&(n=a.transitionOverride);const i=r?()=>Promise.all(QW(e,r,a)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:f}=n;return Xje(e,t,c,d,u,f,a)}:()=>Promise.resolve(),{when:o}=n;if(o){const[c,d]=o==="beforeChildren"?[i,l]:[l,i];return c().then(()=>d())}else return Promise.all([i(),l(a.delay)])}function Xje(e,t,a=0,r=0,n=0,i=1,l){const o=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),o.push(bC(c,t,{...l,delay:a+(typeof r=="function"?0:r)+JW(e.variantChildren,c,r,n,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(o)}function Qje(e,t,a={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const n=t.map(i=>bC(e,i,a));r=Promise.all(n)}else if(typeof t=="string")r=bC(e,t,a);else{const n=typeof t=="function"?Xp(e,t,a.custom):t;r=Promise.all(QW(e,n,a))}return r.then(()=>{e.notify("AnimationComplete",t)})}function ZW(e,t){if(!Array.isArray(t))return!1;const a=t.length;if(a!==e.length)return!1;for(let r=0;r<a;r++)if(t[r]!==e[r])return!1;return!0}const Jje=E_.length;function eq(e){if(!e)return;if(!e.isControllingVariants){const a=e.parent?eq(e.parent)||{}:{};return e.props.initial!==void 0&&(a.initial=e.props.initial),a}const t={};for(let a=0;a<Jje;a++){const r=E_[a],n=e.props[r];(cv(n)||n===!1)&&(t[r]=n)}return t}const Zje=[...T_].reverse(),eNe=T_.length;function tNe(e){return t=>Promise.all(t.map(({animation:a,options:r})=>Qje(e,a,r)))}function aNe(e){let t=tNe(e),a=EL(),r=!0;const n=c=>(d,u)=>{const f=Xp(e,u,c==="exit"?e.presenceContext?.custom:void 0);if(f){const{transition:x,transitionEnd:p,...v}=f;d={...d,...v,...p}}return d};function i(c){t=c(e)}function l(c){const{props:d}=e,u=eq(e.parent)||{},f=[],x=new Set;let p={},v=1/0;for(let b=0;b<eNe;b++){const j=Zje[b],N=a[j],S=d[j]!==void 0?d[j]:u[j],k=cv(S),A=j===c?N.isActive:null;A===!1&&(v=b);let _=S===u[j]&&S!==d[j]&&k;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),N.protectedKeys={...p},!N.isActive&&A===null||!S&&!N.prevProp||eN(S)||typeof S=="boolean")continue;const M=rNe(N.prevProp,S);let L=M||j===c&&N.isActive&&!_&&k||b>v&&k,U=!1;const z=Array.isArray(S)?S:[S];let O=z.reduce(n(j),{});A===!1&&(O={});const{prevResolvedValues:B={}}=N,E={...B,...O},R=G=>{L=!0,x.has(G)&&(U=!0,x.delete(G)),N.needsAnimating[G]=!0;const re=e.getValue(G);re&&(re.liveStyle=!1)};for(const G in E){const re=O[G],te=B[G];if(p.hasOwnProperty(G))continue;let X=!1;gC(re)&&gC(te)?X=!ZW(re,te):X=re!==te,X?re!=null?R(G):x.add(G):re!==void 0&&x.has(G)?R(G):N.protectedKeys[G]=!0}N.prevProp=S,N.prevResolvedValues=O,N.isActive&&(p={...p,...O}),r&&e.blockInitialAnimation&&(L=!1);const q=_&&M;L&&(!q||U)&&f.push(...z.map(G=>{const re={type:j};if(typeof G=="string"&&r&&!q&&e.manuallyAnimateOnMount&&e.parent){const{parent:te}=e,X=Xp(te,G);if(te.enteringChildren&&X){const{delayChildren:ce}=X.transition||{};re.delay=JW(te.enteringChildren,e,ce)}}return{animation:G,options:re}}))}if(x.size){const b={};if(typeof d.initial!="boolean"){const j=Xp(e,Array.isArray(d.initial)?d.initial[0]:d.initial);j&&j.transition&&(b.transition=j.transition)}x.forEach(j=>{const N=e.getBaseTarget(j),S=e.getValue(j);S&&(S.liveStyle=!0),b[j]=N??null}),f.push({animation:b})}let g=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(f):Promise.resolve()}function o(c,d){if(a[c].isActive===d)return Promise.resolve();e.variantChildren?.forEach(f=>f.animationState?.setActive(c,d)),a[c].isActive=d;const u=l(c);for(const f in a)a[f].protectedKeys={};return u}return{animateChanges:l,setActive:o,setAnimateFunction:i,getState:()=>a,reset:()=>{a=EL()}}}function rNe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ZW(t,e):!1}function k0(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function EL(){return{animate:k0(!0),whileInView:k0(),whileHover:k0(),whileTap:k0(),whileDrag:k0(),whileFocus:k0(),exit:k0()}}class qf{constructor(t){this.isMounted=!1,this.node=t}update(){}}class sNe extends qf{constructor(t){super(t),t.animationState||(t.animationState=aNe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();eN(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:a}=this.node.prevProps||{};t!==a&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let nNe=0;class iNe extends qf{constructor(){super(...arguments),this.id=nNe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:a}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const n=this.node.animationState.setActive("exit",!t);a&&!t&&n.then(()=>{a(this.id)})}mount(){const{register:t,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const lNe={animation:{Feature:sNe},exit:{Feature:iNe}};function uv(e,t,a,r={passive:!0}){return e.addEventListener(t,a,r),()=>e.removeEventListener(t,a)}function Jv(e){return{point:{x:e.pageX,y:e.pageY}}}const oNe=e=>t=>A_(t)&&e(t,Jv(t));function N1(e,t,a,r){return uv(e,t,oNe(a),r)}const tq=1e-4,cNe=1-tq,dNe=1+tq,aq=.01,uNe=0-aq,hNe=0+aq;function Dl(e){return e.max-e.min}function fNe(e,t,a){return Math.abs(e-t)<=a}function DL(e,t,a,r=.5){e.origin=r,e.originPoint=zs(t.min,t.max,e.origin),e.scale=Dl(a)/Dl(t),e.translate=zs(a.min,a.max,e.origin)-e.originPoint,(e.scale>=cNe&&e.scale<=dNe||isNaN(e.scale))&&(e.scale=1),(e.translate>=uNe&&e.translate<=hNe||isNaN(e.translate))&&(e.translate=0)}function S1(e,t,a,r){DL(e.x,t.x,a.x,r?r.originX:void 0),DL(e.y,t.y,a.y,r?r.originY:void 0)}function ML(e,t,a){e.min=a.min+t.min,e.max=e.min+Dl(t)}function mNe(e,t,a){ML(e.x,t.x,a.x),ML(e.y,t.y,a.y)}function PL(e,t,a){e.min=t.min-a.min,e.max=e.min+Dl(t)}function k1(e,t,a){PL(e.x,t.x,a.x),PL(e.y,t.y,a.y)}function uc(e){return[e("x"),e("y")]}const rq=({current:e})=>e?e.ownerDocument.defaultView:null,LL=(e,t)=>Math.abs(e-t);function pNe(e,t){const a=LL(e.x,t.x),r=LL(e.y,t.y);return Math.sqrt(a**2+r**2)}class sq{constructor(t,a,{transformPagePoint:r,contextWindow:n=window,dragSnapToOrigin:i=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=X5(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=pNe(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!v)return;const{point:g}=x,{timestamp:b}=Bi;this.history.push({...g,timestamp:b});const{onStart:j,onMove:N}=this.handlers;p||(j&&j(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,x)},this.handlePointerMove=(x,p)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Y5(p,this.transformPagePoint),Ds.update(this.updatePoint,!0)},this.handlePointerUp=(x,p)=>{this.end();const{onEnd:v,onSessionEnd:g,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=X5(x.type==="pointercancel"?this.lastMoveEventInfo:Y5(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(x,j),g&&g(x,j)},!A_(t))return;this.dragSnapToOrigin=i,this.handlers=a,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=n||window;const o=Jv(t),c=Y5(o,this.transformPagePoint),{point:d}=c,{timestamp:u}=Bi;this.history=[{...d,timestamp:u}];const{onSessionStart:f}=a;f&&f(t,X5(c,this.history)),this.removeListeners=Yv(N1(this.contextWindow,"pointermove",this.handlePointerMove),N1(this.contextWindow,"pointerup",this.handlePointerUp),N1(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Of(this.updatePoint)}}function Y5(e,t){return t?{point:t(e.point)}:e}function OL(e,t){return{x:e.x-t.x,y:e.y-t.y}}function X5({point:e},t){return{point:e,delta:OL(e,nq(t)),offset:OL(e,xNe(t)),velocity:gNe(t,.1)}}function xNe(e){return e[0]}function nq(e){return e[e.length-1]}function gNe(e,t){if(e.length<2)return{x:0,y:0};let a=e.length-1,r=null;const n=nq(e);for(;a>=0&&(r=e[a],!(n.timestamp-r.timestamp>eu(t)));)a--;if(!r)return{x:0,y:0};const i=pc(n.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const l={x:(n.x-r.x)/i,y:(n.y-r.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function vNe(e,{min:t,max:a},r){return t!==void 0&&e<t?e=r?zs(t,e,r.min):Math.max(e,t):a!==void 0&&e>a&&(e=r?zs(a,e,r.max):Math.min(e,a)),e}function RL(e,t,a){return{min:t!==void 0?e.min+t:void 0,max:a!==void 0?e.max+a-(e.max-e.min):void 0}}function bNe(e,{top:t,left:a,bottom:r,right:n}){return{x:RL(e.x,a,n),y:RL(e.y,t,r)}}function FL(e,t){let a=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([a,r]=[r,a]),{min:a,max:r}}function yNe(e,t){return{x:FL(e.x,t.x),y:FL(e.y,t.y)}}function wNe(e,t){let a=.5;const r=Dl(e),n=Dl(t);return n>r?a=iv(t.min,t.max-r,e.min):r>n&&(a=iv(e.min,e.max-n,t.min)),dh(0,1,a)}function jNe(e,t){const a={};return t.min!==void 0&&(a.min=t.min-e.min),t.max!==void 0&&(a.max=t.max-e.min),a}const yC=.35;function NNe(e=yC){return e===!1?e=0:e===!0&&(e=yC),{x:IL(e,"left","right"),y:IL(e,"top","bottom")}}function IL(e,t,a){return{min:BL(e,t),max:BL(e,a)}}function BL(e,t){return typeof e=="number"?e:e[t]||0}const SNe=new WeakMap;class kNe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:a=!1,distanceThreshold:r}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(Jv(f).point)},l=(f,x)=>{const{drag:p,dragPropagation:v,onDragStart:g}=this.getProps();if(p&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ewe(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),uc(j=>{let N=this.getAxisMotionValue(j).get()||0;if(tu.test(N)){const{projection:S}=this.visualElement;if(S&&S.layout){const k=S.layout.layoutBox[j];k&&(N=Dl(k)*(parseFloat(N)/100))}}this.originPoint[j]=N}),g&&Ds.postRender(()=>g(f,x)),vC(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(f,x)=>{this.latestPointerEvent=f,this.latestPanInfo=x;const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:g,onDrag:b}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:j}=x;if(v&&this.currentDirection===null){this.currentDirection=CNe(j),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",x.point,j),this.updateAxis("y",x.point,j),this.visualElement.render(),b&&b(f,x)},c=(f,x)=>{this.latestPointerEvent=f,this.latestPanInfo=x,this.stop(f,x),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>uc(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new sq(t,{onSessionStart:i,onStart:l,onMove:o,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:rq(this.visualElement)})}stop(t,a){const r=t||this.latestPointerEvent,n=a||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!n||!r)return;const{velocity:l}=n;this.startAnimation(l);const{onDragEnd:o}=this.getProps();o&&Ds.postRender(()=>o(r,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:a}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(t,a,r){const{drag:n}=this.getProps();if(!r||!Yy(t,n,this.currentDirection))return;const i=this.getAxisMotionValue(t);let l=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(l=vNe(l,this.constraints[t],this.elastic[t])),i.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:a}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,n=this.constraints;t&&$p(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=bNe(r.layoutBox,t):this.constraints=!1,this.elastic=NNe(a),n!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&uc(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=jNe(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:a}=this.getProps();if(!t||!$p(t))return!1;const r=t.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const i=Aje(r,n.root,this.visualElement.getTransformPagePoint());let l=yNe(n.layout.layoutBox,i);if(a){const o=a(Sje(l));this.hasMutatedConstraints=!!o,o&&(l=zW(o))}return l}startAnimation(t){const{drag:a,dragMomentum:r,dragElastic:n,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},d=uc(u=>{if(!Yy(u,a,this.currentDirection))return;let f=c&&c[u]||{};l&&(f={min:0,max:0});const x=n?200:1e6,p=n?40:1e7,v={type:"inertia",velocity:r?t[u]:0,bounceStiffness:x,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,v)});return Promise.all(d).then(o)}startAxisValueAnimation(t,a){const r=this.getAxisMotionValue(t);return vC(this.visualElement,t),r.start(F_(t,r,0,a,this.visualElement,!1))}stopAnimation(){uc(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){uc(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const a=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),n=r[a];return n||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){uc(a=>{const{drag:r}=this.getProps();if(!Yy(a,r,this.currentDirection))return;const{projection:n}=this.visualElement,i=this.getAxisMotionValue(a);if(n&&n.layout){const{min:l,max:o}=n.layout.layoutBox[a];i.set(t[a]-zs(l,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:a}=this.getProps(),{projection:r}=this.visualElement;if(!$p(a)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};uc(l=>{const o=this.getAxisMotionValue(l);if(o&&this.constraints!==!1){const c=o.get();n[l]=wNe({min:c,max:c},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),uc(l=>{if(!Yy(l,t,null))return;const o=this.getAxisMotionValue(l),{min:c,max:d}=this.constraints[l];o.set(zs(c,d,n[l]))})}addListeners(){if(!this.visualElement.current)return;SNe.set(this.visualElement,this);const t=this.visualElement.current,a=N1(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();$p(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Ds.read(r);const l=uv(window,"resize",()=>this.scalePositionWithinConstraints()),o=n.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(uc(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=c[u].translate,f.set(f.get()+c[u].translate))}),this.visualElement.render())}));return()=>{l(),a(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:l=yC,dragMomentum:o=!0}=t;return{...t,drag:a,dragDirectionLock:r,dragPropagation:n,dragConstraints:i,dragElastic:l,dragMomentum:o}}}function Yy(e,t,a){return(t===!0||t===e)&&(a===null||a===e)}function CNe(e,t=10){let a=null;return Math.abs(e.y)>t?a="y":Math.abs(e.x)>t&&(a="x"),a}class ANe extends qf{constructor(t){super(t),this.removeGroupControls=vc,this.removeListeners=vc,this.controls=new kNe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vc}unmount(){this.removeGroupControls(),this.removeListeners()}}const $L=e=>(t,a)=>{e&&Ds.postRender(()=>e(t,a))};class _Ne extends qf{constructor(){super(...arguments),this.removePointerDownListener=vc}onPointerDown(t){this.session=new sq(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rq(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:a,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:$L(t),onStart:$L(a),onMove:r,onEnd:(i,l)=>{delete this.session,n&&Ds.postRender(()=>n(i,l))}}}mount(){this.removePointerDownListener=N1(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const R2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function UL(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Rg={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Pa.test(e))e=parseFloat(e);else return e;const a=UL(e,t.target.x),r=UL(e,t.target.y);return`${a}% ${r}%`}},TNe={correct:(e,{treeScale:t,projectionDelta:a})=>{const r=e,n=Rf.parse(e);if(n.length>5)return r;const i=Rf.createTransformer(e),l=typeof n[0]!="number"?1:0,o=a.x.scale*t.x,c=a.y.scale*t.y;n[0+l]/=o,n[1+l]/=c;const d=zs(o,c,.5);return typeof n[2+l]=="number"&&(n[2+l]/=d),typeof n[3+l]=="number"&&(n[3+l]/=d),i(n)}};let Q5=!1;class ENe extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r,layoutId:n}=this.props,{projection:i}=t;Jwe(DNe),i&&(a.group&&a.group.add(i),r&&r.register&&n&&r.register(i),Q5&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),R2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:a,visualElement:r,drag:n,isPresent:i}=this.props,{projection:l}=r;return l&&(l.isPresent=i,Q5=!0,n||t.layoutDependency!==a||a===void 0||t.isPresent!==i?l.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?l.promote():l.relegate()||Ds.postRender(()=>{const o=l.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),C_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r}=this.props,{projection:n}=t;Q5=!0,n&&(n.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function iq(e){const[t,a]=_W(),r=w.useContext(s_);return s.jsx(ENe,{...e,layoutGroup:r,switchLayoutGroup:w.useContext($W),isPresent:t,safeToRemove:a})}const DNe={borderRadius:{...Rg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rg,borderTopRightRadius:Rg,borderBottomLeftRadius:Rg,borderBottomRightRadius:Rg,boxShadow:TNe};function MNe(e,t,a){const r=dl(e)?e:cx(e);return r.start(F_("",r,t,a)),r.animation}const PNe=(e,t)=>e.depth-t.depth;class LNe{constructor(){this.children=[],this.isDirty=!1}add(t){l_(this.children,t),this.isDirty=!0}remove(t){o_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(PNe),this.isDirty=!1,this.children.forEach(t)}}function ONe(e,t){const a=Jl.now(),r=({timestamp:n})=>{const i=n-a;i>=t&&(Of(r),e(i-t))};return Ds.setup(r,!0),()=>Of(r)}const lq=["TopLeft","TopRight","BottomLeft","BottomRight"],RNe=lq.length,zL=e=>typeof e=="string"?parseFloat(e):e,HL=e=>typeof e=="number"||Pa.test(e);function FNe(e,t,a,r,n,i){n?(e.opacity=zs(0,a.opacity??1,INe(r)),e.opacityExit=zs(t.opacity??1,0,BNe(r))):i&&(e.opacity=zs(t.opacity??1,a.opacity??1,r));for(let l=0;l<RNe;l++){const o=`border${lq[l]}Radius`;let c=VL(t,o),d=VL(a,o);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||HL(c)===HL(d)?(e[o]=Math.max(zs(zL(c),zL(d),r),0),(tu.test(d)||tu.test(c))&&(e[o]+="%")):e[o]=d}(t.rotate||a.rotate)&&(e.rotate=zs(t.rotate||0,a.rotate||0,r))}function VL(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const INe=oq(0,.5,KV),BNe=oq(.5,.95,vc);function oq(e,t,a){return r=>r<e?0:r>t?1:a(iv(e,t,r))}function WL(e,t){e.min=t.min,e.max=t.max}function sc(e,t){WL(e.x,t.x),WL(e.y,t.y)}function qL(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function GL(e,t,a,r,n){return e-=t,e=yw(e,1/a,r),n!==void 0&&(e=yw(e,1/n,r)),e}function $Ne(e,t=0,a=1,r=.5,n,i=e,l=e){if(tu.test(t)&&(t=parseFloat(t),t=zs(l.min,l.max,t/100)-l.min),typeof t!="number")return;let o=zs(i.min,i.max,r);e===i&&(o-=t),e.min=GL(e.min,t,a,o,n),e.max=GL(e.max,t,a,o,n)}function KL(e,t,[a,r,n],i,l){$Ne(e,t[a],t[r],t[n],t.scale,i,l)}const UNe=["x","scaleX","originX"],zNe=["y","scaleY","originY"];function YL(e,t,a,r){KL(e.x,t,UNe,a?a.x:void 0,r?r.x:void 0),KL(e.y,t,zNe,a?a.y:void 0,r?r.y:void 0)}function XL(e){return e.translate===0&&e.scale===1}function cq(e){return XL(e.x)&&XL(e.y)}function QL(e,t){return e.min===t.min&&e.max===t.max}function HNe(e,t){return QL(e.x,t.x)&&QL(e.y,t.y)}function JL(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function dq(e,t){return JL(e.x,t.x)&&JL(e.y,t.y)}function ZL(e){return Dl(e.x)/Dl(e.y)}function eO(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class VNe{constructor(){this.members=[]}add(t){l_(this.members,t),t.scheduleRender()}remove(t){if(o_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(t){const a=this.members.findIndex(n=>t===n);if(a===0)return!1;let r;for(let n=a;n>=0;n--){const i=this.members[n];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,a){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,a&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:n}=t.options;n===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:a,resumingFrom:r}=t;a.onExitComplete&&a.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function WNe(e,t,a){let r="";const n=e.x.translate/t.x,i=e.y.translate/t.y,l=a?.z||0;if((n||i||l)&&(r=`translate3d(${n}px, ${i}px, ${l}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),a){const{transformPerspective:d,rotate:u,rotateX:f,rotateY:x,skewX:p,skewY:v}=a;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),f&&(r+=`rotateX(${f}deg) `),x&&(r+=`rotateY(${x}deg) `),p&&(r+=`skewX(${p}deg) `),v&&(r+=`skewY(${v}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(r+=`scale(${o}, ${c})`),r||"none"}const J5=["","X","Y","Z"],qNe=1e3;let GNe=0;function Z5(e,t,a,r){const{latestValues:n}=t;n[e]&&(a[e]=n[e],t.setStaticValue(e,0),r&&(r[e]=0))}function uq(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const a=XW(t);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:n,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(a,"transform",Ds,!(n||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&uq(r)}function hq({attachResizeListener:e,defaultParent:t,measureScroll:a,checkIsScrollRoot:r,resetTransform:n}){return class{constructor(l={},o=t?.()){this.id=GNe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(XNe),this.nodes.forEach(e4e),this.nodes.forEach(t4e),this.nodes.forEach(QNe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new LNe)}addEventListener(l,o){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new u_),this.eventHandlers.get(l).add(o)}notifyListeners(l,...o){const c=this.eventHandlers.get(l);c&&c.notify(...o)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=AW(l)&&!Rwe(l),this.instance=l;const{layoutId:o,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),e){let u,f=0;const x=()=>this.root.updateBlockedByResize=!1;Ds.read(()=>{f=window.innerWidth}),e(l,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,u&&u(),u=ONe(x,250),R2.hasAnimatedSinceResize&&(R2.hasAnimatedSinceResize=!1,this.nodes.forEach(rO)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&d&&(o||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:x,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||i4e,{onLayoutAnimationStart:g,onLayoutAnimationComplete:b}=d.getProps(),j=!this.targetLayout||!dq(this.targetLayout,p),N=!f&&x;if(this.options.layoutRoot||this.resumeFrom||N||f&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...S_(v,"layout"),onPlay:g,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(u,N)}else f||rO(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Of(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(a4e),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uq(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tO);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(aO);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ZNe),this.nodes.forEach(KNe),this.nodes.forEach(YNe)):this.nodes.forEach(aO),this.clearAllSnapshots();const o=Jl.now();Bi.delta=dh(0,1e3/60,o-Bi.timestamp),Bi.timestamp=o,Bi.isProcessing=!0,U5.update.process(Bi),U5.preRender.process(Bi),U5.render.process(Bi),Bi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,C_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(JNe),this.sharedNodes.forEach(r4e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ds.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ds.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dl(this.snapshot.measuredBox.x)&&!Dl(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(o=!1),o&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:c,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!n)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!cq(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;l&&this.instance&&(o||T0(this.latestValues)||u)&&(n(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return l&&(c=this.removeTransform(c)),l4e(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return bn();const o=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(o4e))){const{scroll:d}=this.root;d&&(Up(o.x,d.offset.x),Up(o.y,d.offset.y))}return o}removeElementScroll(l){const o=bn();if(sc(o,l),this.scroll?.wasRoot)return o;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:f}=d;d!==this.root&&u&&f.layoutScroll&&(u.wasRoot&&sc(o,l),Up(o.x,u.offset.x),Up(o.y,u.offset.y))}return o}applyTransform(l,o=!1){const c=bn();sc(c,l);for(let d=0;d<this.path.length;d++){const u=this.path[d];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&zp(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),T0(u.latestValues)&&zp(c,u.latestValues)}return T0(this.latestValues)&&zp(c,this.latestValues),c}removeTransform(l){const o=bn();sc(o,l);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!T0(d.latestValues))continue;mC(d.latestValues)&&d.updateSnapshot();const u=bn(),f=d.measurePageBox();sc(u,f),YL(o,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return T0(this.latestValues)&&YL(o,this.latestValues),o}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(l||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=Bi.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bn(),this.relativeTargetOrigin=bn(),k1(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),sc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=bn(),this.targetWithTransforms=bn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mNe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):sc(this.target,this.layout.layoutBox),VW(this.target,this.targetDelta)):sc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bn(),this.relativeTargetOrigin=bn(),k1(this.relativeTargetOrigin,this.target,x.target),sc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||mC(this.parent.latestValues)||HW(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),o=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Bi.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;sc(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,x=this.treeScale.y;Cje(this.layoutCorrected,this.treeScale,this.path,o),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=bn());const{target:p}=l;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qL(this.prevProjectionDelta.x,this.projectionDelta.x),qL(this.prevProjectionDelta.y,this.projectionDelta.y)),S1(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==x||!eO(this.projectionDelta.x,this.prevProjectionDelta.x)||!eO(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hp(),this.projectionDelta=Hp(),this.projectionDeltaWithTransform=Hp()}setAnimationOrigin(l,o=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},f=Hp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const x=bn(),p=c?c.source:void 0,v=this.layout?this.layout.source:void 0,g=p!==v,b=this.getStack(),j=!b||b.members.length<=1,N=!!(g&&!j&&this.options.crossfade===!0&&!this.path.some(n4e));this.animationProgress=0;let S;this.mixTargetDelta=k=>{const A=k/1e3;sO(f.x,l.x,A),sO(f.y,l.y,A),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(k1(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),s4e(this.relativeTarget,this.relativeTargetOrigin,x,A),S&&HNe(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=bn()),sc(S,this.relativeTarget)),g&&(this.animationValues=u,FNe(u,d,this.latestValues,A,N,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Of(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ds.update(()=>{R2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=cx(0)),this.currentAnimation=MNe(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),l.onUpdate&&l.onUpdate(o)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qNe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:o,target:c,layout:d,latestValues:u}=l;if(!(!o||!c||!d)){if(this!==l&&this.layout&&d&&fq(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||bn();const f=Dl(this.layout.layoutBox.x);c.x.min=l.target.x.min,c.x.max=c.x.min+f;const x=Dl(this.layout.layoutBox.y);c.y.min=l.target.y.min,c.y.max=c.y.min+x}sc(o,c),zp(o,u),S1(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(l,o){this.sharedNodes.has(l)||this.sharedNodes.set(l,new VNe),this.sharedNodes.get(l).add(o);const d=o.options.initialPromotionConfig;o.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(o):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:o,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),l&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let o=!1;const{latestValues:c}=l;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const d={};c.z&&Z5("z",l,d,this.animationValues);for(let u=0;u<J5.length;u++)Z5(`rotate${J5[u]}`,l,d,this.animationValues),Z5(`skew${J5[u]}`,l,d,this.animationValues);l.render();for(const u in d)l.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);l.scheduleRender()}applyProjectionStyles(l,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=O2(o?.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=O2(o?.pointerEvents)||""),this.hasProjected&&!T0(this.latestValues)&&(l.transform=c?c({},""):"none",this.hasProjected=!1);return}l.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let f=WNe(this.projectionDeltaWithTransform,this.treeScale,u);c&&(f=c(u,f)),l.transform=f;const{x,y:p}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${p.origin*100}% 0`,d.animationValues?l.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:l.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const v in dv){if(u[v]===void 0)continue;const{correct:g,applyTo:b,isCSSVariable:j}=dv[v],N=f==="none"?u[v]:g(u[v],d);if(b){const S=b.length;for(let k=0;k<S;k++)l[b[k]]=N}else j?this.options.visualElement.renderState.vars[v]=N:l[v]=N}this.options.layoutId&&(l.pointerEvents=d===this?O2(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(tO),this.root.sharedNodes.clear()}}}function KNe(e){e.updateLayout()}function YNe(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:r}=e.layout,{animationType:n}=e.options,i=t.source!==e.layout.source;n==="size"?uc(u=>{const f=i?t.measuredBox[u]:t.layoutBox[u],x=Dl(f);f.min=a[u].min,f.max=f.min+x}):fq(n,t.layoutBox,a)&&uc(u=>{const f=i?t.measuredBox[u]:t.layoutBox[u],x=Dl(a[u]);f.max=f.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+x)});const l=Hp();S1(l,a,t.layoutBox);const o=Hp();i?S1(o,e.applyTransform(r,!0),t.measuredBox):S1(o,a,t.layoutBox);const c=!cq(l);let d=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:f,layout:x}=u;if(f&&x){const p=bn();k1(p,t.layoutBox,f.layoutBox);const v=bn();k1(v,a,x.layoutBox),dq(p,v)||(d=!0),u.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=p,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:o,layoutDelta:l,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function XNe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function QNe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function JNe(e){e.clearSnapshot()}function tO(e){e.clearMeasurements()}function aO(e){e.isLayoutDirty=!1}function ZNe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function rO(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function e4e(e){e.resolveTargetDelta()}function t4e(e){e.calcProjection()}function a4e(e){e.resetSkewAndRotation()}function r4e(e){e.removeLeadSnapshot()}function sO(e,t,a){e.translate=zs(t.translate,0,a),e.scale=zs(t.scale,1,a),e.origin=t.origin,e.originPoint=t.originPoint}function nO(e,t,a,r){e.min=zs(t.min,a.min,r),e.max=zs(t.max,a.max,r)}function s4e(e,t,a,r){nO(e.x,t.x,a.x,r),nO(e.y,t.y,a.y,r)}function n4e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const i4e={duration:.45,ease:[.4,0,.1,1]},iO=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),lO=iO("applewebkit/")&&!iO("chrome/")?Math.round:vc;function oO(e){e.min=lO(e.min),e.max=lO(e.max)}function l4e(e){oO(e.x),oO(e.y)}function fq(e,t,a){return e==="position"||e==="preserve-aspect"&&!fNe(ZL(t),ZL(a),.2)}function o4e(e){return e!==e.root&&e.scroll?.wasRoot}const c4e=hq({attachResizeListener:(e,t)=>uv(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),e3={current:void 0},mq=hq({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!e3.current){const e=new c4e({});e.mount(window),e.setOptions({layoutScroll:!0}),e3.current=e}return e3.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),d4e={pan:{Feature:_Ne},drag:{Feature:ANe,ProjectionNode:mq,MeasureLayout:iq}};function cO(e,t,a){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",a==="Start");const n="onHover"+a,i=r[n];i&&Ds.postRender(()=>i(t,Jv(t)))}class u4e extends qf{mount(){const{current:t}=this.node;t&&(this.unmount=Dwe(t,(a,r)=>(cO(this.node,r,"Start"),n=>cO(this.node,n,"End"))))}unmount(){}}class h4e extends qf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yv(uv(this.node.current,"focus",()=>this.onFocus()),uv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function dO(e,t,a){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",a==="Start");const n="onTap"+(a==="End"?"":a),i=r[n];i&&Ds.postRender(()=>i(t,Jv(t)))}class f4e extends qf{mount(){const{current:t}=this.node;t&&(this.unmount=Owe(t,(a,r)=>(dO(this.node,r,"Start"),(n,{success:i})=>dO(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wC=new WeakMap,t3=new WeakMap,m4e=e=>{const t=wC.get(e.target);t&&t(e)},p4e=e=>{e.forEach(m4e)};function x4e({root:e,...t}){const a=e||document;t3.has(a)||t3.set(a,{});const r=t3.get(a),n=JSON.stringify(t);return r[n]||(r[n]=new IntersectionObserver(p4e,{root:e,...t})),r[n]}function g4e(e,t,a){const r=x4e(t);return wC.set(e,a),r.observe(e),()=>{wC.delete(e),r.unobserve(e)}}const v4e={some:0,all:1};class b4e extends qf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:a,margin:r,amount:n="some",once:i}=t,l={root:a?a.current:void 0,rootMargin:r,threshold:typeof n=="number"?n:v4e[n]},o=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),x=d?u:f;x&&x(c)};return g4e(this.node.current,l,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:a}=this.node;["amount","margin","root"].some(y4e(t,a))&&this.startObserver()}unmount(){}}function y4e({viewport:e={}},{viewport:t={}}={}){return a=>e[a]!==t[a]}const w4e={inView:{Feature:b4e},tap:{Feature:f4e},focus:{Feature:h4e},hover:{Feature:u4e}},j4e={layout:{ProjectionNode:mq,MeasureLayout:iq}},N4e={...lNe,...w4e,...d4e,...j4e},nh=Nje(N4e,Rje);function S4e(){const{t:e,i18n:t}=Et();(t.language||"").toLowerCase();const[a,r]=w.useState(!1),[n,i]=w.useState([]),[l,o]=w.useState(""),[c,d]=w.useState("this_month");w.useEffect(()=>{(async()=>{try{r(!0);const _=await ga.get("/api/tickets",{params:{limit:500}}),M=Array.isArray(_.data?.items)?_.data.items:Array.isArray(_.data)?_.data:[];i(M)}catch(_){console.warn("support_dashboard_load_failed",_),o(e("Failed to load tickets"))}finally{r(!1)}})()},[]);const u=w.useMemo(()=>{const A=new Date,_=new Date(A);_.setDate(A.getDate()-A.getDay());const M=new Date(A.getFullYear(),A.getMonth(),1),L=new Date(A.getFullYear(),A.getMonth()-1,1),U=new Date(A.getFullYear(),A.getMonth(),0),z=O=>{const B=new Date(O);return c==="this_week"?B>=_:c==="this_month"?B>=M:c==="last_month"?B>=L&&B<=U:!0};return n.filter(O=>O.createdAt&&z(O.createdAt))},[n,c]),f=w.useMemo(()=>{const A=new Date,_=new Date(A);_.setDate(A.getDate()-A.getDay()),new Date(A.getFullYear(),A.getMonth(),1);const M=new Date(A.getFullYear(),A.getMonth()-1,1),L=new Date(A.getFullYear(),A.getMonth(),0);let U,z;if(c==="this_week")z=_,U=new Date(_),U.setDate(U.getDate()-7);else if(c==="this_month")U=M,z=L;else if(c==="last_month"){const O=new Date(A.getFullYear(),A.getMonth()-2,1),B=new Date(A.getFullYear(),A.getMonth()-1,0);U=O,z=B}else return[];return n.filter(O=>O.createdAt&&new Date(O.createdAt)>=U&&new Date(O.createdAt)<=z)},[n,c]),x=A=>{const _=A.length,M=ie=>A.filter(le=>String(le.status)===String(ie)).length,L=M("Open"),U=M("In Progress"),z=M("Escalated"),O=M("Closed"),B=A.filter(ie=>ie.slaDeadline&&(!ie.status||ie.status!=="Closed")&&new Date(ie.slaDeadline)<new Date).length,E=A.filter(ie=>ie.status==="Closed"&&ie.updatedAt&&ie.createdAt),R=E.length>0?Math.round(E.reduce((ie,le)=>{const Y=(new Date(le.updatedAt)-new Date(le.createdAt))/36e5;return ie+Math.max(0,Y)},0)/E.length):80,q=_>0?Math.round(O/_*100):0,G=Object.fromEntries(["Low","Medium","High","Urgent"].map(ie=>[ie,A.filter(le=>le.priority===ie).length])),te=Object.fromEntries(["Email","Phone","Customer Portal","WhatsApp","Social Media"].map(ie=>[ie,A.filter(le=>le.channel===ie).length])),ce=Object.fromEntries(["Complaint","Inquiry","Request"].map(ie=>[ie,A.filter(le=>le.type===ie).length])),D=A.filter(ie=>ie.status==="Closed"),Q=D.filter(ie=>ie.slaDeadline&&ie.updatedAt&&new Date(ie.updatedAt)<=new Date(ie.slaDeadline)).length,H=D.length>0?Math.round(Q/D.length*100):92,J=new Map;A.forEach(ie=>{const le=ie.assignedAgent||e("Unassigned"),Y=J.get(le)||{name:le,closed:0,total:0};Y.total+=1,ie.status==="Closed"&&(Y.closed+=1),J.set(le,Y)});const ae=Array.from(J.values()).map(ie=>({agent:ie.name,ticketsClosed:ie.closed,avgResponse:"",satisfaction:""}));return{total:_,open:L,inProgress:U,escalated:z,closed:O,overdue:B,avgResolutionHours:R,resolutionRate:q,priorityCounts:G,channelCounts:te,typeCounts:ce,slaOnTimePct:H,teamRows:ae}},p=w.useMemo(()=>x(u),[u]),v=w.useMemo(()=>x(f),[f]),g=(A,_)=>!_||_===0?A?100:0:Math.round((A-_)/_*100),b=(A,_=()=>!0,M=8)=>{if(!A.length)return new Array(M).fill(0);const L=A.map(E=>new Date(E.createdAt)).sort((E,R)=>E-R),U=L[0],O=L[L.length-1]-U||1,B=new Array(M).fill(0);return A.forEach(E=>{if(!_(E))return;const R=new Date(E.createdAt),q=Math.min(M-1,Math.max(0,Math.floor((R-U)/O*M)));B[q]+=1}),B.every(E=>E===0)?new Array(M).fill(0).map((E,R)=>R||0):B},j=w.useMemo(()=>b(u),[u]),N=w.useMemo(()=>b(u,A=>A.status==="Open"),[u]),S=w.useMemo(()=>b(u,A=>A.status==="Closed"),[u]),k=w.useMemo(()=>{const A=Object.values(p.channelCounts||{});return Math.max(1,...A.length?A:[1])},[p]);return s.jsxs(ea,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-bold",children:e("Customer Service Dashboard")}),s.jsx("div",{className:"flex items-center gap-2 text-sm",children:s.jsxs("select",{value:c,onChange:A=>d(A.target.value),className:"px-3 py-1 rounded glass-panel bg-transparent",children:[s.jsx("option",{value:"this_month",children:e("This Month")}),s.jsx("option",{value:"this_week",children:e("This Week")}),s.jsx("option",{value:"last_month",children:e("Last Month")}),s.jsx("option",{value:"all",children:e("All")})]})})]}),s.jsx(Wwe,{mode:"wait",children:s.jsxs(nh.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.22},children:[a?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 mb-4",children:Array.from({length:6}).map((A,_)=>s.jsxs("div",{className:"glass-panel p-3",children:[s.jsx("div",{className:"skeleton-line h-3 w-24 mb-2"}),s.jsx("div",{className:"skeleton-line h-6 w-16"})]},_))}):s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 mb-4",children:[s.jsx(Fg,{title:e("Total Tickets"),value:p.total,delta:g(p.total,v.total),series:j,color:"emerald"}),s.jsx(Fg,{title:e("Open"),value:p.open,delta:g(p.open,v.open),series:N,color:"emerald",dotColor:"amber"}),s.jsx(C4e,{overdue:p.overdue}),s.jsx(Fg,{title:e("Average Resolution Time"),value:p.avgResolutionHours,suffix:"h",delta:g(p.avgResolutionHours,v.avgResolutionHours),series:S,color:"emerald"}),s.jsx(Fg,{title:e("Resolution Rate"),value:p.resolutionRate,suffix:"%",delta:g(p.resolutionRate,v.resolutionRate),series:S,color:"rose"}),s.jsx(Fg,{title:e("Reopened Tickets"),value:p.escalated,delta:g(p.escalated,v.escalated),series:N,color:"emerald"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a?s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"skeleton-line h-4 w-40 mb-3"}),s.jsx("div",{className:"skeleton-circle h-40 w-40 mx-auto"})]}):s.jsxs("div",{className:"glass-panel p-4 cm-anim transition-transform hover:translate-y-[1px]",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Tickets by Priority")}),s.jsx(Zn,{segments:[{label:e("High"),value:p.priorityCounts.High,color:"#ef4444"},{label:e("Medium"),value:p.priorityCounts.Medium,color:"#f59e0b"},{label:e("Low"),value:p.priorityCounts.Low,color:"#10b981"},{label:e("Urgent"),value:p.priorityCounts.Urgent,color:"#fb7185"}],size:180,centerLabel:e("Total"),centerValue:p.total,animateCenterCountUp:!0,borderRadius:8})]}),a?s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"skeleton-line h-4 w-40 mb-3"}),s.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((A,_)=>s.jsx("div",{className:"skeleton-line h-3 w-full"},_))})]}):s.jsxs("div",{className:"glass-panel p-4 cm-anim delay-200 transition-transform hover:translate-y-[1px]",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Tickets by Channel")}),s.jsx("div",{className:"space-y-2",children:Object.entries(p.channelCounts).map(([A,_])=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-28 text-xs opacity-80",children:e(A)}),s.jsx("div",{className:"flex-1 h-3 rounded bg-white/10",children:s.jsx("div",{className:"h-3 rounded transition-all bar-gradient-fill-emerald bar-wave",style:{width:`${Math.round(_/k*100)}%`}})}),s.jsx("div",{className:"w-8 text-xs opacity-70 text-right",children:_})]},A))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-4",children:[a?s.jsxs("div",{className:"glass-panel p-4 animate-pulse",children:[s.jsx("div",{className:"h-4 w-40 bg-gray-200 dark:bg-gray-700 rounded mb-3"}),s.jsx("div",{className:"space-y-2",children:Array.from({length:3}).map((A,_)=>s.jsx("div",{className:"h-3 w-32 bg-gray-200 dark:bg-gray-700 rounded"},_))})]}):s.jsxs("div",{className:"glass-panel p-4 cm-anim transition-transform hover:translate-y-[1px]",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Top Contact Reasons")}),s.jsx("ul",{className:"text-sm opacity-80 space-y-1",children:Object.entries(p.typeCounts).map(([A,_])=>s.jsxs("li",{children:[e(A),"  ",_]},A))})]}),a?s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"skeleton-line h-4 w-40 mb-3"}),s.jsx("div",{className:"skeleton-circle h-40 w-40 mx-auto"})]}):s.jsxs("div",{className:"glass-panel p-4 cm-anim delay-200 transition-transform hover:translate-y-[1px]",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("SLA Contact Reasons")}),s.jsx(Zn,{percentage:p.slaOnTimePct,centerValue:p.slaOnTimePct,centerValueSuffix:"%",centerLabel:e("On-time"),size:180,animateCenterCountUp:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{className:"glass-panel p-4 cm-anim transition-transform hover:translate-y-[1px]",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Customer Satisfaction")}),s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{children:""}),s.jsx("span",{className:"text-xl font-semibold",children:"4.6/5"})]}),s.jsx("div",{className:"space-y-2",children:[{label:e("Positive"),pct:85},{label:e("Neutral"),pct:10},{label:e("Negative"),pct:5}].map(({label:A,pct:_})=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-24 text-xs opacity-80",children:A}),s.jsx("div",{className:"flex-1 h-3 rounded bg-white/10",children:s.jsx("div",{className:"h-3 rounded transition-all bar-gradient-fill-emerald bar-wave",style:{width:`${_}%`}})}),s.jsxs("div",{className:"w-10 text-xs opacity-70 text-right",children:[_,"%"]})]},A))})]}),s.jsxs("div",{className:"glass-panel p-4 cm-anim delay-200 transition-transform hover:translate-y-[1px]",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Avg Response Time")}),s.jsx("div",{className:"space-y-2",children:[{label:e("Email"),val:30},{label:e("Phone"),val:3},{label:e("Live Chat"),val:1}].map(({label:A,val:_})=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-28 text-xs opacity-80",children:A}),s.jsx("div",{className:"flex-1 h-3 rounded bg-white/10",children:s.jsx("div",{className:"h-3 rounded transition-all bar-gradient-fill-blue bar-wave",style:{width:`${Math.min(100,_/30*100)}%`}})}),s.jsxs("div",{className:"w-16 text-xs opacity-70 text-right",children:[_,"m"]})]},A))})]})]}),s.jsxs("div",{className:"glass-panel p-4 mt-4",children:[s.jsx("div",{className:"text-sm font-medium mb-3",children:e("Team Performance")}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm nova-table",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left bg-[var(--table-header-bg)]",children:[s.jsx("th",{className:"px-3 py-2",children:e("Agent")}),s.jsx("th",{className:"px-3 py-2",children:e("Tickets Closed")}),s.jsx("th",{className:"px-3 py-2",children:e("Avg. Response Time")}),s.jsx("th",{className:"px-3 py-2",children:e("Satisfaction")})]})}),s.jsxs("tbody",{children:[p.teamRows.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-3 py-6 text-center text-[var(--muted-text)]",children:e(a?"Loading...":"No data")})}),p.teamRows.map((A,_)=>s.jsxs("tr",{className:"border-t border-[var(--table-row-border)] odd:bg-[var(--table-row-bg)] hover:bg-[var(--table-row-hover)] transition-colors",children:[s.jsx("td",{className:"px-3 py-2",children:A.agent}),s.jsx("td",{className:"px-3 py-2",children:A.ticketsClosed}),s.jsx("td",{className:"px-3 py-2",children:A.avgResponse}),s.jsx("td",{className:"px-3 py-2",children:A.satisfaction})]},_))]})]})})]}),l&&s.jsx("div",{className:"mt-3 text-xs text-rose-400",children:l})]},c)})]})}function k4e({data:e=[],color:t="emerald"}){const i=Math.min(...e,0),o=Math.max(...e,1)-i||1,c=74/Math.max(1,e.length-1),d=e.map((f,x)=>{const p=3+x*c,v=33-(f-i)/o*30;return`${p},${v}`}).join(" "),u=t==="emerald"?"#10b981":t==="rose"?"#ef4444":"#94a3b8";return s.jsx("svg",{width:80,height:36,viewBox:"0 0 80 36",className:"opacity-70",children:s.jsx("polyline",{fill:"none",stroke:u,strokeWidth:"2",points:d})})}function Fg({title:e,value:t,suffix:a,delta:r,series:n,color:i="emerald",dotColor:l}){const o=r>=0?"text-emerald-600":"text-rose-600";return s.jsxs("div",{className:"glass-panel p-3 cm-anim transition-transform hover:translate-y-[1px]",children:[s.jsxs("div",{className:"text-xs opacity-80 flex items-center gap-2",children:[l&&s.jsx("span",{className:`inline-block h-2 w-2 rounded-full bg-${l}-400`}),s.jsx("span",{children:e})]}),s.jsxs("div",{className:"text-2xl font-semibold flex items-baseline gap-1 mt-1",children:[s.jsx(pq,{value:typeof t=="number"?t:0}),a&&s.jsx("span",{className:"text-xs opacity-70",children:a})]}),Array.isArray(n)&&n.length>1&&s.jsx("div",{className:"mt-1",children:s.jsx(k4e,{data:n,color:i})}),s.jsx("div",{className:`text-[11px] mt-1 ${o}`,children:r>=0?`+${r}%`:`${r}%`})]})}function C4e({overdue:e}){return s.jsxs("div",{className:"glass-panel p-3 cm-anim transition-transform hover:translate-y-[1px]",children:[s.jsxs("div",{className:"text-xs opacity-80 flex items-center gap-2",children:[s.jsx("span",{className:"text-base leading-none",children:""}),s.jsx("span",{children:"Alerts"})]}),s.jsx("div",{className:"text-2xl font-semibold flex items-baseline gap-1 mt-1",children:s.jsx(pq,{value:typeof e=="number"?e:0})}),s.jsx("div",{className:"text-[11px] mt-1 opacity-80",children:e>50?"Overdue tickets > 50 (Critical)":"Overdue tickets  50"})]})}function pq({value:e,duration:t=600}){const[a,r]=w.useState(e),n=w.useRef(e);return w.useEffect(()=>{const i=n.current,l=e;n.current=l;const o=performance.now(),c=d=>{const u=Math.min(1,(d-o)/t),f=Math.round(i+(l-i)*u);r(f),u<1&&requestAnimationFrame(c)};requestAnimationFrame(c)},[e,t]),s.jsx("span",{children:a})}function A4e(){const{t:e}=Et(),t=["Open","In Progress","Escalated","Closed"],a=["Low","Medium","High","Urgent"],r=["Complaint","Inquiry","Request"],n=["Email","Phone","WhatsApp","Customer Portal","Social Media"],[i,l]=w.useState(!1),[o,c]=w.useState([]),[d,u]=w.useState(""),[f,x]=w.useState(""),[p,v]=w.useState(!1),[g,b]=w.useState({customerId:"",subject:"",description:"",type:r[1],priority:"Low",status:"Open",channel:"Email",contactPhone:"",contactEmail:"",contactWhatsapp:"",assignedAgent:"",slaDeadline:"",resolutionNotes:"",attachments:[]}),[j,N]=w.useState(""),[S,k]=w.useState([]),[A,_]=w.useState(!1),M=R=>{if(!R?.slaDeadline||String(R.status)==="Closed")return!1;try{return new Date(R.slaDeadline)<new Date}catch{return!1}},L=async()=>{try{l(!0);const R={};d&&(R.status=d),f&&(R.q=f);const q=await ga.get("/api/tickets",{params:R});c(Array.isArray(q.data?.items)?q.data.items:[])}catch(R){console.warn("tickets_load_failed",R)}finally{l(!1)}};w.useEffect(()=>{L()},[d]);const U=async()=>{try{_(!0);const R=await ga.get("/api/customers",{params:{q:j,limit:10}});k(Array.isArray(R.data?.items)?R.data.items:[])}catch(R){console.warn("customers_load_failed",R)}finally{_(!1)}};w.useEffect(()=>{U()},[j]);const z=R=>b(q=>({...q,customerId:R})),O=(R,q)=>b(I=>({...I,[R]:q})),B=async R=>{if(R)try{const I=await(te=>new Promise((X,ce)=>{const D=new FileReader;D.onload=()=>X(D.result),D.onerror=ce,D.readAsDataURL(te)}))(R),re=(await ga.post("/api/uploads/base64",{fileName:R.name,dataUrl:I})).data?.url;re&&b(te=>({...te,attachments:[...te.attachments,re]}))}catch(q){console.warn("upload_failed",q)}},E=async R=>{R.preventDefault();try{const q={...g};if(q.slaDeadline)try{q.slaDeadline=new Date(q.slaDeadline).toISOString()}catch{}const G=(await ga.post("/api/tickets",q)).data?.item;G&&c(re=>[G,...re]),v(!1),b({customerId:"",subject:"",description:"",type:r[1],priority:"Low",status:"Open",channel:"Email",contactPhone:"",contactEmail:"",contactWhatsapp:"",assignedAgent:"",slaDeadline:"",resolutionNotes:"",attachments:[]})}catch(q){console.warn("create_failed",q)}};return s.jsxs(ea,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-bold",children:e("Tickets")}),s.jsx("button",{className:"btn btn-primary",onClick:()=>v(!0),children:e("Create New Ticket")})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[s.jsx("input",{value:f,onChange:R=>x(R.target.value),onKeyDown:R=>R.key==="Enter"?L():null,placeholder:e("Search tickets..."),className:"px-3 py-1 rounded bg-white/5 border border-white/10 text-sm"}),t.map(R=>s.jsx("button",{onClick:()=>u(q=>q===R?"":R),className:`px-3 py-1 rounded text-sm ${d===R?"bg-blue-600":"bg-white/10 dark:bg-gray-800/40"}`,children:e(R)},R)),s.jsx("button",{onClick:L,className:"px-3 py-1 rounded bg-white/10 text-sm",children:e("Apply")})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left opacity-70",children:[s.jsx("th",{className:"py-2",children:e("ID")}),s.jsx("th",{className:"py-2",children:e("Customer")}),s.jsx("th",{className:"py-2",children:e("Subject")}),s.jsx("th",{className:"py-2",children:e("Agent")}),s.jsx("th",{className:"py-2",children:e("Type")}),s.jsx("th",{className:"py-2",children:e("Priority")}),s.jsx("th",{className:"py-2",children:e("Status")}),s.jsx("th",{className:"py-2",children:e("Channel")}),s.jsx("th",{className:"py-2",children:e("SLA")})]})}),s.jsx("tbody",{children:o.map(R=>s.jsxs("tr",{className:"border-t border-white/10",children:[s.jsx("td",{className:"py-2",children:String(R.ticketNumber||R.id).slice(0,12)}),s.jsx("td",{className:"py-2",children:R.customerId?R.customerId:"-"}),s.jsx("td",{className:"py-2",children:R.subject}),s.jsx("td",{className:"py-2",children:R.assignedAgent||"-"}),s.jsx("td",{className:"py-2",children:R.type}),s.jsx("td",{className:"py-2",children:R.priority}),s.jsx("td",{className:"py-2",children:R.status}),s.jsx("td",{className:"py-2",children:R.channel}),s.jsx("td",{className:`py-2 ${M(R)?"text-red-500":""}`,children:R.slaDeadline?new Date(R.slaDeadline).toLocaleString():"-"})]},R.id))})]}),i&&s.jsx("div",{className:"mt-3 text-sm opacity-70",children:e("Loading...")})]}),p&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-start",style:{paddingTop:"80px"},children:s.jsxs("div",{className:"bg-gray-900 p-4 sm:p-6 rounded w-full max-w-2xl max-h-[80vh] overflow-auto sidebar-scrollbar",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:e("Create New Ticket")}),s.jsx("button",{onClick:()=>v(!1),className:"px-3 py-1 rounded bg-white/10",children:e("Close")})]}),s.jsxs("form",{onSubmit:E,className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Customer")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{value:j,onChange:R=>N(R.target.value),placeholder:e("Search customers..."),className:"flex-1 px-3 py-2 rounded bg-white/5 border border-white/10"}),s.jsxs(rr,{value:g.customerId,onChange:R=>z(R),className:"px-3 py-2",children:[s.jsx("option",{value:"",children:e("Select")}),S.map(R=>s.jsxs("option",{value:R.id,children:[R.name,"  ",R.phone]},R.id))]})]}),A&&s.jsx("div",{className:"text-xs mt-1 opacity-70",children:e("Loading customers...")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Subject")}),s.jsx("input",{value:g.subject,onChange:R=>O("subject",R.target.value),className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Type")}),s.jsx(rr,{value:g.type,onChange:R=>O("type",R),children:r.map(R=>s.jsx("option",{value:R,children:e(R)},R))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Priority")}),s.jsx(rr,{value:g.priority,onChange:R=>O("priority",R),children:a.map(R=>s.jsx("option",{value:R,children:e(R)},R))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Status")}),s.jsx(rr,{value:g.status,onChange:R=>O("status",R),children:t.map(R=>s.jsx("option",{value:R,children:e(R)},R))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Channel")}),s.jsx(rr,{value:g.channel,onChange:R=>O("channel",R),children:n.map(R=>s.jsx("option",{value:R,children:e(R)},R))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Assigned To")}),s.jsx("input",{value:g.assignedAgent,onChange:R=>O("assignedAgent",R.target.value),className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Contact Phone")}),s.jsx("input",{value:g.contactPhone,onChange:R=>O("contactPhone",R.target.value),className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Contact Email")}),s.jsx("input",{value:g.contactEmail,onChange:R=>O("contactEmail",R.target.value),className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("WhatsApp")}),s.jsx("input",{value:g.contactWhatsapp,onChange:R=>O("contactWhatsapp",R.target.value),className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Description")}),s.jsx("textarea",{value:g.description,onChange:R=>O("description",R.target.value),rows:4,className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:e("SLA Deadline")}),s.jsx("input",{type:"datetime-local",value:g.slaDeadline,onChange:R=>O("slaDeadline",R.target.value),className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Resolution Notes")}),s.jsx("textarea",{value:g.resolutionNotes,onChange:R=>O("resolutionNotes",R.target.value),rows:3,className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Attachments")}),s.jsx("input",{type:"file",onChange:R=>B(R.target.files?.[0]),className:"w-full"}),!!g.attachments.length&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:g.attachments.map(R=>s.jsx("a",{href:R,target:"_blank",rel:"noreferrer",className:"text-blue-400 underline text-xs",children:R},R))})]}),s.jsxs("div",{className:"sm:col-span-2 flex justify-end gap-2 mt-2",children:[s.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 rounded bg-white/10",children:e("Cancel")}),s.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-blue-600",children:e("Create")})]})]})]})})]})}function _4e(){const{t:e}=Et(),[t,a]=w.useState(!1),[r,n]=w.useState([]),[i,l]=w.useState([]),[o,c]=w.useState(""),d=async()=>{try{a(!0);const[p,v]=await Promise.all([ga.get("/api/customers",{params:{limit:500}}),ga.get("/api/tickets",{params:{limit:1e3}})]);n(Array.isArray(p.data?.items)?p.data.items:[]),l(Array.isArray(v.data?.items)?v.data.items:[])}catch(p){console.warn("customers_load_failed",p)}finally{a(!1)}};w.useEffect(()=>{d()},[]);const u=w.useMemo(()=>{if(!o)return r;const p=String(o).toLowerCase();return r.filter(v=>String(v.name||"").toLowerCase().includes(p)||String(v.phone||"").toLowerCase().includes(p)||String(v.email||"").toLowerCase().includes(p)||String(v.companyName||"").toLowerCase().includes(p))},[r,o]),f=w.useMemo(()=>{const p=new Map;return i.forEach(v=>{const g=String(v.customerId||"");if(!g)return;const b=p.get(g)||[];b.push(v),p.set(g,b)}),u.map(v=>{const g=p.get(String(v.id))||[],b=g.length?g[0]:null;return{id:v.id,name:v.name,company:v.type==="Company"&&v.companyName||"-",contactPhone:v.phone||"-",contactEmail:v.email||"-",products:Array.isArray(v.tags)?v.tags:[],ticketsCount:g.length,lastTicket:b}})},[u,i]),x=({text:p})=>s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs bg-white/10 dark:bg-gray-800/40 border border-white/10 mr-1 mb-1",children:p});return s.jsxs(ea,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-bold",children:e("Customers")}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("input",{value:o,onChange:p=>c(p.target.value),placeholder:e("Search customers..."),className:"px-3 py-2 rounded bg-white/5 border border-white/10 text-sm w-64"}),s.jsx("button",{onClick:d,className:"px-3 py-2 rounded bg-white/10 text-sm",children:e("Refresh")})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left opacity-70",children:[s.jsx("th",{className:"py-2",children:e("Customer ID")}),s.jsx("th",{className:"py-2",children:e("Name")}),s.jsx("th",{className:"py-2",children:e("Company")}),s.jsx("th",{className:"py-2",children:e("Contact Info")}),s.jsx("th",{className:"py-2",children:e("Active Contracts / Products Owned")}),s.jsx("th",{className:"py-2",children:e("Previous Tickets History")})]})}),s.jsxs("tbody",{children:[t&&[...Array(6)].map((p,v)=>s.jsxs("tr",{className:"border-t border-white/10",children:[s.jsx("td",{className:"py-3",children:s.jsx("div",{className:"skeleton-line h-4 w-24"})}),s.jsx("td",{className:"py-3",children:s.jsx("div",{className:"skeleton-line h-4 w-32"})}),s.jsx("td",{className:"py-3",children:s.jsx("div",{className:"skeleton-line h-4 w-28"})}),s.jsx("td",{className:"py-3",children:s.jsx("div",{className:"skeleton-line h-4 w-48"})}),s.jsx("td",{className:"py-3",children:s.jsx("div",{className:"skeleton-block h-6 w-64"})}),s.jsx("td",{className:"py-3",children:s.jsx("div",{className:"skeleton-line h-4 w-40"})})]},`s-${v}`)),!t&&f.map(p=>s.jsxs("tr",{className:"border-t border-white/10",children:[s.jsx("td",{className:"py-2",children:String(p.id).slice(0,12)}),s.jsx("td",{className:"py-2",children:p.name}),s.jsx("td",{className:"py-2",children:p.company||"-"}),s.jsxs("td",{className:"py-2",children:[s.jsxs("div",{className:"opacity-80",children:[e("Phone"),": ",p.contactPhone||"-"]}),s.jsxs("div",{className:"opacity-80",children:[e("Email"),": ",p.contactEmail||"-"]})]}),s.jsx("td",{className:"py-2",children:Array.isArray(p.products)&&p.products.length?s.jsx("div",{className:"flex flex-wrap",children:p.products.map((v,g)=>s.jsx(x,{text:v},g))}):s.jsx("span",{className:"opacity-60",children:"-"})}),s.jsxs("td",{className:"py-2",children:[s.jsxs("div",{className:"opacity-90",children:[e("Total"),": ",p.ticketsCount]}),p.lastTicket?s.jsxs("div",{className:"opacity-70",children:[e("Last"),": ",p.lastTicket.status,"  ",p.lastTicket.subject]}):s.jsx("div",{className:"opacity-70",children:e("No previous tickets")})]})]},p.id))]})]}),!t&&f.length===0&&s.jsx("div",{className:"mt-3 text-sm opacity-70",children:e("No customers found")})]})]})}const uO=["Complaint","Inquiry","Request","VIP Support","Technical Issue"],a3=["Low","Medium","High","Urgent"];function T4e(){const{t:e,i18n:t}=Et(),a=String(t.language||"").startsWith("en"),r={title:a?"SLA Management":"    (SLA)",add:a?"Add SLA":" SLA",search:a?"Search...":"...",typeAll:a?"Service Type (All)":"  ()",statusAll:a?"Status (All)":" ()",enabled:a?"Enabled":"",disabled:a?"Disabled":"",name:a?"Name":"",serviceType:a?"Service Type":" ",responseTime:a?"Response Time":" ",resolutionTime:a?"Resolution Time (by Priority)":"  ( )",appliesTo:a?"Applies To":" ",status:a?"Status":"",actions:a?"Actions":"",edit:a?"Edit":"",del:a?"Delete":"",none:a?"No SLAs found":"   SLA ",responseCompliance:a?"Response Compliance":" ",resolutionCompliance:a?"Resolution Compliance":" ",issues:a?"issues":"",hours:a?"hours":"",unitMinutes:a?"Minutes":"",unitHours:a?"Hours":"",unitDays:a?"Days":"",cancel:a?"Cancel":"",save:a?"Save":"",editTitle:a?"Edit SLA":" SLA",addTitle:a?"Add SLA":" SLA",loading:a?"Loading...":" ...",customerCategory:a?"Customer Category":" ",plan:a?"Plan":" ",specificCustomers:a?"Specific customers":" "},[n,i]=w.useState(!0),[l,o]=w.useState([]),[c,d]=w.useState(""),[u,f]=w.useState(""),[x,p]=w.useState(""),[v,g]=w.useState(!1),[b,j]=w.useState(null),[N,S]=w.useState({name:"",serviceType:"Inquiry",responseValue:2,responseUnit:"hours",resolution:{Low:24,Medium:24,High:12,Urgent:6},escalation:{onResponseBreach:[],onResolutionBreach:["NotifyManager"],escalateToRole:""},appliesTo:{customerCategory:"",customerIds:[],plan:""},active:!0}),[k,A]=w.useState([]),[_,M]=w.useState(""),[L,U]=w.useState(""),z=X=>{if(!X)return null;const ce=String(X).trim().replaceAll(".","/").replaceAll("-","/").replace(/\s+/g,""),D=ce.split("/");let Q;if(D.length===3){const H=Number(D[0]),J=Number(D[1]),ae=Number(D[2]),ie=ae<100?2e3+ae:ae;H>31?Q=new Date(H,J-1,ie):(Q=new Date(ie,H-1,J),isNaN(Q?.getTime())&&(Q=new Date(ie,J-1,H)))}else Q=new Date(ce);return isNaN(Q?.getTime())?null:Q},O=w.useMemo(()=>{const X=Number(N.responseValue||0),ce=N.responseUnit;return!X||X<=0?0:ce==="minutes"?X:ce==="hours"?X*60:ce==="days"?X*60*24:X},[N.responseValue,N.responseUnit]),B=async()=>{i(!0);try{const X=await ga.get("/api/slas",{params:{q:c,serviceType:u,active:x}}),ce=await ga.get("/api/tickets",{params:{type:u||void 0}});o(X.data.items||X.data.items?.items||X.data.items),A(ce.data.items&&ce.data.items.items?ce.data.items.items:ce.data.items||[])}catch(X){console.error("Failed to load SLAs",X)}finally{i(!1)}};w.useEffect(()=>{B()},[c,u,x]);const E=()=>{j(null),S({name:"",serviceType:"Inquiry",responseValue:2,responseUnit:"hours",resolution:{Low:24,Medium:24,High:12,Urgent:6},escalation:{onResponseBreach:[],onResolutionBreach:["NotifyManager"],escalateToRole:""},appliesTo:{customerCategory:"",customerIds:[],plan:""},active:!0}),g(!0)},R=X=>{j(X),S({name:X.name||"",serviceType:X.serviceType||"Inquiry",responseValue:2,responseUnit:"hours",resolution:{Low:X.resolutionMinutesByPriority?.Low?Math.round(X.resolutionMinutesByPriority.Low/60):24,Medium:X.resolutionMinutesByPriority?.Medium?Math.round(X.resolutionMinutesByPriority.Medium/60):24,High:X.resolutionMinutesByPriority?.High?Math.round(X.resolutionMinutesByPriority.High/60):12,Urgent:X.resolutionMinutesByPriority?.Urgent?Math.round(X.resolutionMinutesByPriority.Urgent/60):6},escalation:X.escalation||{onResponseBreach:[],onResolutionBreach:[],escalateToRole:""},appliesTo:X.appliesTo||{customerCategory:"",customerIds:[],plan:""},active:!!X.active}),g(!0)},q=async X=>{X.preventDefault();try{const ce={name:N.name||"SLA",serviceType:N.serviceType,responseMinutes:O,resolutionMinutesByPriority:{Low:Number(N.resolution.Low)*60,Medium:Number(N.resolution.Medium)*60,High:Number(N.resolution.High)*60,Urgent:Number(N.resolution.Urgent)*60},escalation:N.escalation,appliesTo:N.appliesTo,active:!!N.active};b?await ga.put(`/api/slas/${b.id}`,ce):await ga.post("/api/slas",ce),g(!1),await B()}catch(ce){console.error("SLA save failed",ce)}},I=async X=>{try{await ga.put(`/api/slas/${X.id}`,{active:!X.active}),await B()}catch(ce){console.error("toggle failed",ce)}},G=async X=>{if(window.confirm("Delete SLA?"))try{await ga.delete(`/api/slas/${X.id}`),await B()}catch(ce){console.error("delete failed",ce)}},re=w.useMemo(()=>{let X=k;u&&(X=X.filter(Q=>Q.type===u));const ce=z(_),D=z(L);if(ce&&(X=X.filter(Q=>new Date(Q.createdAt)>=ce)),D){const Q=new Date(D);Q.setHours(23,59,59,999),X=X.filter(H=>new Date(H.createdAt)<=Q)}return X},[k,u,_,L]),te=X=>{if(!X)return{responsePct:0,resolutionPct:0,count:0};const ce=re.length;if(!ce)return{responsePct:0,resolutionPct:0,count:0};let D=0,Q=0;for(const H of re)if(H.firstResponseAt&&(new Date(H.firstResponseAt)-new Date(H.createdAt))/6e4<=Number(X.responseMinutes||0)&&D++,H.closedAt){const J=(new Date(H.closedAt)-new Date(H.createdAt))/6e4,ae=X.resolutionMinutesByPriority?.[H.priority||"Low"]||0;ae&&J<=ae&&Q++}return{responsePct:Math.round(D/ce*100),resolutionPct:Math.round(Q/ce*100),count:ce}};return s.jsxs(ea,{children:[s.jsxs("section",{className:"overflow-x-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h1",{className:"text-xl font-bold",children:r.title}),s.jsxs("button",{className:"btn btn-sm btn-primary",onClick:E,children:["+ ",r.add]})]}),s.jsx("div",{className:"glass-neon p-3 rounded-lg mb-3",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 text-sm",children:[s.jsx("input",{className:"input input-sm w-full bg-[var(--panel-bg)] text-[var(--content-text)] border border-[var(--panel-border)]",placeholder:r.search,value:c,onChange:X=>d(X.target.value)}),s.jsxs("select",{className:"input input-sm w-full bg-[var(--panel-bg)] text-[var(--content-text)] border border-[var(--panel-border)]",value:u,onChange:X=>f(X.target.value),children:[s.jsx("option",{value:"",children:r.typeAll}),uO.map(X=>s.jsx("option",{value:X,children:X},X))]}),s.jsxs("select",{className:"input input-sm w-full bg-[var(--panel-bg)] text-[var(--content-text)] border border-[var(--panel-border)]",value:x,onChange:X=>p(X.target.value),children:[s.jsx("option",{value:"",children:r.statusAll}),s.jsx("option",{value:"true",children:r.enabled}),s.jsx("option",{value:"false",children:r.disabled})]}),s.jsxs("div",{className:"sm:col-span-3 flex items-center gap-2",children:[s.jsx("input",{type:"text",inputMode:"numeric",className:"input input-sm w-full bg-[var(--panel-bg)] text-[var(--content-text)] border border-[var(--panel-border)]",placeholder:a?"mm/dd/yyyy":"//",value:_,onChange:X=>M(X.target.value)}),s.jsx("input",{type:"text",inputMode:"numeric",className:"input input-sm w-full bg-[var(--panel-bg)] text-[var(--content-text)] border border-[var(--panel-border)]",placeholder:a?"mm/dd/yyyy":"//",value:L,onChange:X=>U(X.target.value)})]})]})}),s.jsx("div",{className:"md:hidden space-y-3",children:n?s.jsxs("div",{className:"nova-card p-4",children:[s.jsx("div",{className:"skeleton h-6 w-32 mb-2"}),s.jsx("div",{className:"skeleton h-4 w-52"})]}):l&&l.length?l.map(X=>{const ce=te(X);return s.jsxs("div",{className:"nova-card p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("div",{className:"font-semibold",children:X.name||""}),s.jsx("button",{className:`badge ${X.active?"badge-success":"badge-neutral"}`,onClick:()=>I(X),children:X.active?r.enabled:r.disabled})]}),s.jsxs("div",{className:"text-sm opacity-80 mb-2",children:[r.serviceType,": ",X.serviceType]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"opacity-70",children:r.responseTime}),s.jsxs("div",{children:[Math.round((X.responseMinutes||0)/60)," ",r.hours]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"opacity-70",children:r.resolutionTime}),s.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-1",children:a3.map(D=>s.jsxs("span",{children:[D,":",Math.round((X.resolutionMinutesByPriority?.[D]||0)/60),"h"]},D))})]})]}),s.jsxs("div",{className:"mt-2 text-xs opacity-80",children:[s.jsxs("div",{children:[X.appliesTo?.customerCategory||""," ",X.appliesTo?.plan?` ${X.appliesTo.plan}`:""]}),X.appliesTo?.customerIds?.length?s.jsxs("div",{children:[r.specificCustomers,": ",X.appliesTo.customerIds.length]}):null]}),s.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-xs",onClick:()=>R(X),children:r.edit}),s.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>G(X),children:r.del})]}),s.jsxs("div",{className:"mt-2 text-xs",children:[s.jsxs("div",{children:[r.responseCompliance,": ",ce.responsePct,"%  ",r.issues,": ",ce.count]}),s.jsxs("div",{children:[r.resolutionCompliance,": ",ce.resolutionPct,"%"]})]})]},X.id)}):s.jsx("div",{className:"nova-card p-4 text-center opacity-70",children:r.none})}),s.jsx("div",{className:"nova-card p-0 hidden md:block",children:s.jsxs("table",{className:"table table-sm table-fixed w-full nova-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:r.name}),s.jsx("th",{children:r.serviceType}),s.jsx("th",{children:r.responseTime}),s.jsx("th",{children:r.resolutionTime}),s.jsx("th",{children:r.appliesTo}),s.jsx("th",{children:r.status}),s.jsx("th",{children:r.actions})]})}),s.jsx("tbody",{children:n?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"p-6 text-center opacity-70",children:r.loading})}):l&&l.length?l.map(X=>{const ce=te(X);return s.jsxs("tr",{children:[s.jsx("td",{className:"whitespace-normal break-words",children:X.name||""}),s.jsx("td",{className:"whitespace-normal break-words",children:X.serviceType}),s.jsxs("td",{className:"whitespace-normal break-words",children:[Math.round((X.responseMinutes||0)/60)," ",r.hours]}),s.jsx("td",{className:"text-sm whitespace-normal break-words",children:s.jsx("div",{className:"flex flex-col gap-1",children:a3.map(D=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"opacity-70",children:D}),s.jsxs("span",{children:[Math.round((X.resolutionMinutesByPriority?.[D]||0)/60)," ",r.hours]})]},D))})}),s.jsxs("td",{className:"text-sm whitespace-normal break-words",children:[s.jsxs("div",{className:"opacity-80",children:[X.appliesTo?.customerCategory||""," ",X.appliesTo?.plan?` ${X.appliesTo.plan}`:""]}),X.appliesTo?.customerIds?.length?s.jsxs("div",{className:"opacity-60",children:[r.specificCustomers,": ",X.appliesTo.customerIds.length]}):null]}),s.jsx("td",{children:s.jsx("button",{className:`badge ${X.active?"badge-success":"badge-neutral"}`,onClick:()=>I(X),children:X.active?r.enabled:r.disabled})}),s.jsxs("td",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-xs",onClick:()=>R(X),children:r.edit}),s.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>G(X),children:r.del})]}),s.jsxs("div",{className:"mt-2 text-xs",children:[s.jsxs("div",{children:[r.responseCompliance,": ",ce.responsePct,"%  ",r.issues,": ",ce.count]}),s.jsxs("div",{children:[r.resolutionCompliance,": ",ce.resolutionPct,"%"]})]})]})]},X.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"p-6 text-center opacity-70",children:r.none})})})]})})]}),v&&s.jsxs("div",{className:"modal open",children:[s.jsxs("div",{className:"modal-box max-w-3xl",children:[s.jsx("h3",{className:"font-bold text-lg mb-3",children:b?r.editTitle:r.addTitle}),s.jsxs("form",{onSubmit:q,className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:r.name}),s.jsx("input",{className:"input input-sm",value:N.name,onChange:X=>S({...N,name:X.target.value})})]}),s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:r.serviceType}),s.jsx("select",{className:"input input-sm",value:N.serviceType,onChange:X=>S({...N,serviceType:X.target.value}),children:uO.map(X=>s.jsx("option",{value:X,children:X},X))})]}),s.jsxs("div",{className:"md:col-span-2 grid grid-cols-3 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:r.responseTime}),s.jsx("input",{type:"number",min:1,className:"input input-sm",value:N.responseValue,onChange:X=>S({...N,responseValue:Number(X.target.value)})})]}),s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:a?"Unit":""}),s.jsxs("select",{className:"input input-sm",value:N.responseUnit,onChange:X=>S({...N,responseUnit:X.target.value}),children:[s.jsx("option",{value:"minutes",children:r.unitMinutes}),s.jsx("option",{value:"hours",children:r.unitHours}),s.jsx("option",{value:"days",children:r.unitDays})]})]}),s.jsxs("div",{className:"flex items-end text-sm opacity-70",children:["= ",O," ",r.unitMinutes]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("div",{className:"font-semibold mb-2",children:a?"Required Resolution (by Priority) - hours":"   ( ) - "}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:a3.map(X=>s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:X}),s.jsx("input",{type:"number",min:1,className:"input input-sm",value:N.resolution[X],onChange:ce=>S({...N,resolution:{...N.resolution,[X]:Number(ce.target.value)}})})]},X))})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("div",{className:"font-semibold mb-1",children:a?"Escalation Rules":" "}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:a?"On Response Breach":"   "}),s.jsx("select",{multiple:!0,className:"input input-sm h-24",value:N.escalation.onResponseBreach,onChange:X=>{const ce=Array.from(X.target.selectedOptions).map(D=>D.value);S({...N,escalation:{...N.escalation,onResponseBreach:ce}})},children:["NotifyManager","ReassignHigherRank","IncreasePriority","NotifyCustomer","MarkEscalated"].map(X=>s.jsx("option",{value:X,children:X},X))})]}),s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:a?"On Resolution Breach":"   "}),s.jsx("select",{multiple:!0,className:"input input-sm h-24",value:N.escalation.onResolutionBreach,onChange:X=>{const ce=Array.from(X.target.selectedOptions).map(D=>D.value);S({...N,escalation:{...N.escalation,onResolutionBreach:ce}})},children:["NotifyManager","ReassignHigherRank","IncreasePriority","NotifyCustomer","MarkEscalated"].map(X=>s.jsx("option",{value:X,children:X},X))})]}),s.jsxs("label",{className:"flex flex-col gap-1 md:col-span-2",children:[s.jsx("span",{children:a?"Escalate to Role/Team":"  /Team"}),s.jsx("input",{className:"input input-sm",value:N.escalation.escalateToRole,onChange:X=>S({...N,escalation:{...N.escalation,escalateToRole:X.target.value}})})]})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("div",{className:"font-semibold mb-1",children:a?"Targeting":""}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:r.customerCategory}),s.jsxs("select",{className:"input input-sm",value:N.appliesTo.customerCategory||"",onChange:X=>S({...N,appliesTo:{...N.appliesTo,customerCategory:X.target.value||void 0}}),children:[s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"VIP",children:"VIP"}),s.jsx("option",{value:"Regular",children:"Regular"})]})]}),s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:r.plan}),s.jsx("input",{className:"input input-sm",value:N.appliesTo.plan||"",onChange:X=>S({...N,appliesTo:{...N.appliesTo,plan:X.target.value}})})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:N.active,onChange:X=>S({...N,active:X.target.checked})}),s.jsx("span",{children:r.enabled})]})]})]}),s.jsxs("div",{className:"md:col-span-2 flex justify-end gap-2 mt-2",children:[s.jsx("button",{type:"button",className:"btn btn-sm",onClick:()=>g(!1),children:r.cancel}),s.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",children:r.save})]})]})]}),s.jsx("div",{className:"modal-backdrop",onClick:()=>g(!1)})]})]})}function E4e(){const{t:e}=Et(),t=["Complaint","Inquiry","Request"],a=["Low","Medium","High","Urgent"],r=["Email","Phone","WhatsApp","Customer Portal","Social Media"],[n,i]=w.useState([]),[l,o]=w.useState(!1),[c,d]=w.useState(""),[u,f]=w.useState(""),[x,p]=w.useState(""),[v,g]=w.useState(""),[b,j]=w.useState(""),[N,S]=w.useState(""),k=async()=>{try{o(!0);const D=await ga.get("/api/tickets",{params:{limit:2e3}});i(Array.isArray(D.data?.items)?D.data.items:[])}catch(D){console.warn("reports_tickets_load_failed",D)}finally{o(!1)}};w.useEffect(()=>{k()},[]);const A=w.useMemo(()=>{let D=[...n];const Q=c.trim().toLowerCase();Q&&(D=D.filter(ae=>JSON.stringify(ae).toLowerCase().includes(Q))),u&&(D=D.filter(ae=>String(ae.type)===String(u))),x&&(D=D.filter(ae=>String(ae.priority)===String(x))),v&&(D=D.filter(ae=>String(ae.channel)===String(v)));const H=b?new Date(b):null,J=N?new Date(N):null;return H&&(D=D.filter(ae=>new Date(ae.createdAt)>=H)),J&&(D=D.filter(ae=>new Date(ae.createdAt)<=J)),D},[n,c,u,x,v,b,N]),_=w.useMemo(()=>A.filter(D=>String(D.status)==="Closed"),[A]),M=w.useMemo(()=>{const D=_.map(Q=>{const H=new Date(Q.createdAt).getTime(),J=Q.updatedAt?new Date(Q.updatedAt).getTime():H;return Math.max(0,(J-H)/(1e3*60*60))}).filter(Q=>Number.isFinite(Q));return D.length?Math.round(D.reduce((Q,H)=>Q+H,0)/D.length*10)/10:0},[_]),L=w.useMemo(()=>_.filter(D=>{const Q=new Date(D.createdAt),H=D.updatedAt?new Date(D.updatedAt):Q;return Q.toDateString()===H.toDateString()}).length,[_]),U=w.useMemo(()=>_.filter(D=>D.slaDeadline?(D.updatedAt?new Date(D.updatedAt):new Date(D.createdAt))>new Date(D.slaDeadline):!1).length,[_]),z=w.useMemo(()=>{const D=new Map;return A.forEach(Q=>D.set(Q.channel,(D.get(Q.channel)||0)+1)),r.map(Q=>({label:e(Q),value:D.get(Q)||0}))},[A]),O=w.useMemo(()=>{const D=new Map;return A.forEach(Q=>D.set(Q.priority,(D.get(Q.priority)||0)+1)),a.map(Q=>({label:e(Q),value:D.get(Q)||0}))},[A]),B=w.useMemo(()=>{const D=new Map;return A.forEach(H=>{const J=new Date(H.createdAt).toISOString().slice(0,10);D.set(J,(D.get(J)||0)+1)}),Array.from(D.entries()).sort((H,J)=>H[0].localeCompare(J[0])).map(H=>H[1]).slice(-14)},[A]),E=({series:D=[]})=>{const J=Math.max(1,...D),ae=D.length>1?156/(D.length-1):156,ie=D.map((oe,xe)=>{const W=2+xe*ae,he=38-oe/J*36;return`${W},${he}`}).join(" "),Y=D.length>1&&D[D.length-1]>=D[0]?"#10b981":"#ef4444";return s.jsx("svg",{width:160,height:40,viewBox:"0 0 160 40",children:s.jsx("polyline",{fill:"none",stroke:Y,strokeWidth:"2",points:ie})})},R={emerald:"#10b981",yellow:"#f59e0b",blue:"#3b82f6",red:"#ef4444",gray:"#64748b",teal:"#2dd4bf"},q=[{label:e("Email"),value:z[0]?.value||0,color:R.teal},{label:e("Phone"),value:z[1]?.value||0,color:R.blue},{label:e("WhatsApp"),value:z[2]?.value||0,color:R.emerald},{label:e("Customer Portal"),value:z[3]?.value||0,color:R.yellow},{label:e("Social Media"),value:z[4]?.value||0,color:R.gray}],I=[{label:e("Low"),value:O[0]?.value||0,color:R.gray},{label:e("Medium"),value:O[1]?.value||0,color:R.blue},{label:e("High"),value:O[2]?.value||0,color:R.yellow},{label:e("Urgent"),value:O[3]?.value||0,color:R.red}],G=w.useMemo(()=>A.map(D=>D.csatRating).filter(D=>typeof D=="number"),[A]),re=w.useMemo(()=>G.length?Math.round(G.reduce((D,Q)=>D+Q,0)/G.length*10)/10:0,[G]),te=w.useMemo(()=>{const D=new Map;return G.forEach(Q=>D.set(Q,(D.get(Q)||0)+1)),[1,2,3,4,5].map(Q=>({label:String(Q),value:D.get(Q)||0}))},[G]),X=w.useMemo(()=>{const D=new Map;A.forEach(H=>{const J=H.assignedAgent||"Unassigned",ae=D.get(J)||[];ae.push(H),D.set(J,ae)});const Q=Array.from(D.entries()).map(([H,J])=>{const ae=J.filter(fe=>String(fe.status)==="Closed"),ie=ae.length?Math.round(ae.reduce((fe,de)=>{const Oe=new Date(de.createdAt).getTime(),Fe=de.updatedAt?new Date(de.updatedAt).getTime():Oe;return fe+Math.max(0,(Fe-Oe)/(1e3*60*60))},0)/ae.length*10)/10:0,le=ae.filter(fe=>fe.slaDeadline&&new Date(fe.updatedAt||fe.createdAt)<=new Date(fe.slaDeadline)).length,Y=ae.length?Math.round(le/ae.length*100):0,oe=J.filter(fe=>String(fe.status)==="Escalated").length,xe=J.map(fe=>fe.csatRating).filter(fe=>typeof fe=="number").reduce((fe,de)=>fe+de,0),W=J.map(fe=>fe.csatRating).filter(fe=>typeof fe=="number").length,he=W?Math.round(xe/W*10)/10:0;return{agent:H,tickets:J.length,closed:ae.length,avgHours:ie,slaRate:Y,escalations:oe,csatAvg:he}});return Q.sort((H,J)=>J.tickets-H.tickets),Q},[A]),ce=({rows:D,fileName:Q})=>{const H=()=>{const J=Object.keys(D[0]||{}),ae=[J.join(","),...D.map(oe=>J.map(xe=>JSON.stringify(oe[xe]??"")).join(","))].join(`
`),ie=new Blob([ae],{type:"text/csv;charset=utf-8;"}),le=URL.createObjectURL(ie),Y=document.createElement("a");Y.href=le,Y.download=Q||"export.csv",Y.click(),URL.revokeObjectURL(le)};return s.jsx("button",{className:"btn btn-outline btn-xs",onClick:H,children:e("Export CSV")})};return s.jsxs(ea,{children:[s.jsx("h1",{className:"text-xl font-bold mb-4",children:e("Support Reports & Analytics")}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[s.jsx("input",{value:c,onChange:D=>d(D.target.value),placeholder:e("Search..."),className:"px-3 py-1 rounded bg-white/5 border border-white/10 text-sm"}),s.jsxs(rr,{value:u,onChange:D=>f(D),className:"px-3 py-1 text-sm",children:[s.jsx("option",{value:"",children:e("Type")}),t.map(D=>s.jsx("option",{value:D,children:e(D)},D))]}),s.jsxs(rr,{value:x,onChange:D=>p(D),className:"px-3 py-1 text-sm",children:[s.jsx("option",{value:"",children:e("Priority")}),a.map(D=>s.jsx("option",{value:D,children:e(D)},D))]}),s.jsxs(rr,{value:v,onChange:D=>g(D),className:"px-3 py-1 text-sm",children:[s.jsx("option",{value:"",children:e("Channel")}),r.map(D=>s.jsx("option",{value:D,children:e(D)},D))]}),s.jsx("input",{type:"date",value:b,onChange:D=>j(D.target.value),className:"px-3 py-1 rounded bg-white/5 border border-white/10 text-sm"}),s.jsx("input",{type:"date",value:N,onChange:D=>S(D.target.value),className:"px-3 py-1 rounded bg-white/5 border border-white/10 text-sm"}),s.jsx("button",{onClick:k,className:"px-3 py-1 rounded bg-white/10 text-sm",children:e("Refresh")})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h2",{className:"text-lg font-semibold",children:e("Average Resolution Time")}),s.jsx(ce,{rows:[{avgResolutionHours:M}],fileName:"avg-resolution.csv"})]}),s.jsxs("div",{className:"text-3xl font-bold",children:[M," ",s.jsx("span",{className:"text-sm opacity-70",children:e("hours")})]}),s.jsxs("div",{className:"text-sm opacity-80 mt-2",children:[e("Same day"),": ",L,"  ",e("After SLA"),": ",U]}),s.jsx("div",{className:"mt-3",children:s.jsx(E,{series:B})})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:e("Tickets by Channel")}),s.jsx("div",{className:"h-40",children:s.jsx(Zn,{segments:q,centerLabel:e("Channels"),centerValue:z.reduce((D,Q)=>D+Q.value,0),animateCenterCountUp:!0,centerValueDuration:800})})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:e("Tickets by Priority")}),s.jsx("div",{className:"h-40",children:s.jsx(Zn,{segments:I,centerLabel:e("Priority"),centerValue:O.reduce((D,Q)=>D+Q.value,0),animateCenterCountUp:!0,centerValueDuration:800})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h2",{className:"text-lg font-semibold",children:e("Customer Satisfaction (CSAT)")}),G.length>0&&s.jsx(ce,{rows:te,fileName:"csat.csv"})]}),G.length>0?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-3xl font-bold",children:[re," ",s.jsx("span",{className:"text-sm opacity-70",children:"/ 5"})]}),s.jsx("div",{className:"mt-3",children:s.jsx(Zn,{segments:te.map(D=>({label:D.label,value:D.value,color:R.teal})),centerLabel:e("Ratings"),centerValue:G.length,animateCenterCountUp:!0})})]}):s.jsx("div",{className:"text-sm opacity-70",children:e("No CSAT data available")})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h2",{className:"text-lg font-semibold",children:e("Agent Performance")}),X.length>0&&s.jsx(ce,{rows:X,fileName:"agents.csv"})]}),s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left opacity-70",children:[s.jsx("th",{className:"py-1",children:e("Agent")}),s.jsx("th",{className:"py-1",children:e("Tickets")}),s.jsx("th",{className:"py-1",children:e("Closed")}),s.jsx("th",{className:"py-1",children:e("Avg Hours")}),s.jsx("th",{className:"py-1",children:e("SLA %")}),s.jsx("th",{className:"py-1",children:e("Escalations")}),s.jsx("th",{className:"py-1",children:e("CSAT")})]})}),s.jsxs("tbody",{children:[X.map(D=>s.jsxs("tr",{className:"border-t border-white/10",children:[s.jsx("td",{className:"py-1",children:D.agent}),s.jsx("td",{className:"py-1",children:D.tickets}),s.jsx("td",{className:"py-1",children:D.closed}),s.jsx("td",{className:"py-1",children:D.avgHours}),s.jsxs("td",{className:"py-1",children:[D.slaRate,"%"]}),s.jsx("td",{className:"py-1",children:D.escalations}),s.jsx("td",{className:"py-1",children:D.csatAvg?`${D.csatAvg}/5`:"-"})]},D.agent)),!X.length&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"py-2 text-sm opacity-70",children:e("No agent data")})})]})]})]})]}),l&&s.jsx("div",{className:"mt-2 text-sm opacity-70",children:e("Loading...")})]})}function D4e(){const{t:e,i18n:t}=Et();t.dir();const[a,r]=w.useState([]),[n,i]=w.useState({avgCSAT:0,topAgents:[],bottomAgents:[],dissatisfiedCountThisMonth:0,responseRatePercent:0}),[l,o]=w.useState(!0),[c,d]=w.useState(""),[u,f]=w.useState("All"),[x,p]=w.useState(1),[v,g]=w.useState(!1),[b,j]=w.useState({ticketId:"",customerId:"",rating:5,comment:"",channel:"Email"});w.useEffect(()=>{(async()=>{try{o(!0);const[_,M]=await Promise.all([ga.get("/api/feedbacks/surveys"),ga.get("/api/feedbacks/surveys/stats")]);r(_.data?.data?.items||[]),i(M.data?.data||{})}catch(_){console.warn("Failed to load surveys",_)}finally{o(!1)}})()},[]);const N=w.useMemo(()=>{let A=a.slice();return c&&(A=A.filter(_=>JSON.stringify(_).toLowerCase().includes(c.toLowerCase()))),u!=="All"&&(A=A.filter(_=>String(_.agent||"")===String(u))),x&&(A=A.filter(_=>Number(_.rating)>=Number(x))),A},[a,c,u,x]),S=w.useMemo(()=>["All",...Array.from(new Set(a.map(_=>_.agent||"")))],[a]),k=async A=>{A.preventDefault();try{g(!0);const _={...b,rating:Number(b.rating)};await ga.post("/api/feedbacks/surveys",_),j({ticketId:"",customerId:"",rating:5,comment:"",channel:"Email"});const[M,L]=await Promise.all([ga.get("/api/feedbacks/surveys"),ga.get("/api/feedbacks/surveys/stats")]);r(M.data?.data?.items||[]),i(L.data?.data||{})}catch(_){console.warn("Submit survey failed",_)}finally{g(!1)}};return s.jsx(ea,{children:s.jsxs("section",{className:"px-2 sm:px-4",children:[s.jsx("h1",{className:"text-xl font-bold mb-3",children:e("Feedback & Surveys")}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-4",children:[s.jsxs("div",{className:"nova-card p-4",children:[s.jsx("div",{className:"text-sm opacity-70",children:e("Average CSAT")}),s.jsx("div",{className:"text-2xl font-semibold",children:Number(n.avgCSAT||0).toFixed(2)})]}),s.jsxs("div",{className:"nova-card p-4",children:[s.jsx("div",{className:"text-sm opacity-70",children:e("Dissatisfied Customers (This Month)")}),s.jsx("div",{className:"text-2xl font-semibold",children:n.dissatisfiedCountThisMonth||0})]}),s.jsxs("div",{className:"nova-card p-4",children:[s.jsx("div",{className:"text-sm opacity-70",children:e("Response Rate")}),s.jsxs("div",{className:"text-2xl font-semibold",children:[n.responseRatePercent||0,"%"]})]}),s.jsxs("div",{className:"nova-card p-4",children:[s.jsx("div",{className:"text-sm opacity-70",children:e("Total Surveys")}),s.jsx("div",{className:"text-2xl font-semibold",children:n?.totals?.surveys||a.length})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"nova-card p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:e("Top 5 Agents")}),s.jsx("ul",{className:"space-y-1 text-sm",children:(n.topAgents||[]).map((A,_)=>s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:A.agent}),s.jsx("span",{className:"font-medium",children:A.avg?.toFixed(2)})]},_))})]}),s.jsxs("div",{className:"nova-card p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:e("Bottom 5 Agents")}),s.jsx("ul",{className:"space-y-1 text-sm",children:(n.bottomAgents||[]).map((A,_)=>s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:A.agent}),s.jsx("span",{className:"font-medium",children:A.avg?.toFixed(2)})]},_))})]})]}),s.jsx("div",{className:"glass-neon nova-card p-3 mb-3",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[s.jsx("input",{className:"input-sm rounded-md px-3 py-2 border",placeholder:e("Search..."),value:c,onChange:A=>d(A.target.value),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"}}),s.jsx("select",{className:"input-sm rounded-md px-3 py-2",value:u,onChange:A=>f(A.target.value),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"},children:S.map(A=>s.jsx("option",{value:A,children:A},A))}),s.jsx("select",{className:"input-sm rounded-md px-3 py-2",value:x,onChange:A=>p(Number(A.target.value)),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"},children:[1,2,3,4,5].map(A=>s.jsxs("option",{value:A,children:[e("Min Rating")," ",A]},A))})]})}),s.jsxs("div",{className:"nova-card p-4 mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:e("Submit Survey")}),s.jsxs("form",{onSubmit:k,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2",children:[s.jsx("input",{className:"input-sm rounded-md px-3 py-2 border",placeholder:e("Ticket ID"),value:b.ticketId,onChange:A=>j(_=>({..._,ticketId:A.target.value})),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"}}),s.jsx("input",{className:"input-sm rounded-md px-3 py-2 border",placeholder:e("Customer ID"),value:b.customerId,onChange:A=>j(_=>({..._,customerId:A.target.value})),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"}}),s.jsx("select",{className:"input-sm rounded-md px-3 py-2",value:b.rating,onChange:A=>j(_=>({..._,rating:Number(A.target.value)})),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"},children:[1,2,3,4,5].map(A=>s.jsxs("option",{value:A,children:[A," "]},A))}),s.jsx("select",{className:"input-sm rounded-md px-3 py-2",value:b.channel,onChange:A=>j(_=>({..._,channel:A.target.value})),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"},children:["Email","SMS","WhatsApp"].map(A=>s.jsx("option",{value:A,children:A},A))}),s.jsx("textarea",{className:"input-sm rounded-md px-3 py-2 sm:col-span-2 lg:col-span-4",placeholder:e("Optional comment"),value:b.comment,onChange:A=>j(_=>({..._,comment:A.target.value})),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"}}),s.jsx("div",{className:"sm:col-span-2 lg:col-span-4 flex justify-end",children:s.jsx("button",{className:"btn btn-primary",disabled:v,children:e(v?"Submitting...":"Submit")})})]}),s.jsxs("p",{className:"text-xs opacity-70 mt-2",children:[e("Note"),": ",e("Negative ratings (2) auto-escalate with 24h SLA")]})]}),s.jsx("div",{className:"nova-card p-0 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left",children:e("Rating")}),s.jsx("th",{className:"px-3 py-2 text-left",children:e("Comment")}),s.jsx("th",{className:"px-3 py-2 text-left",children:e("Ticket ID")}),s.jsx("th",{className:"px-3 py-2 text-left",children:e("Customer ID")}),s.jsx("th",{className:"px-3 py-2 text-left",children:e("Agent")}),s.jsx("th",{className:"px-3 py-2 text-left",children:e("Submitted At")})]})}),s.jsx("tbody",{children:l?s.jsx("tr",{children:s.jsx("td",{className:"px-3 py-6",colSpan:6,children:e("Loading...")})}):N.length?N.map(A=>s.jsxs("tr",{className:"border-t",children:[s.jsxs("td",{className:"px-3 py-2",children:[A.rating," "]}),s.jsx("td",{className:"px-3 py-2",children:A.comment||""}),s.jsx("td",{className:"px-3 py-2",children:A.ticketId}),s.jsx("td",{className:"px-3 py-2",children:A.customerId}),s.jsx("td",{className:"px-3 py-2",children:A.agent||""}),s.jsx("td",{className:"px-3 py-2",children:(A.submittedAt||"").replace("T"," ").slice(0,16)})]},A.id)):s.jsx("tr",{children:s.jsx("td",{className:"px-3 py-6",colSpan:6,children:e("No surveys found")})})})]})})})]})})}function M4e(){const{i18n:e}=Et(),t=e.language==="ar",[a,r]=w.useState(""),[n,i]=w.useState(!1),[l,o]=w.useState(!1),[c,d]=w.useState(!1),[u,f]=w.useState(null),[x,p]=w.useState(null),[v,g]=w.useState([]),[b,j]=w.useState([]),[N,S]=w.useState(["Planning","Active","Sales","Completed"]),[k,A]=w.useState([]),[_,M]=w.useState([]),[L,U]=w.useState([0,500]),[z,O]=w.useState([0,10]),[B,E]=w.useState(1),[R,q]=w.useState(6),I=w.useMemo(()=>[{name:"Crown Medical Park",city:"Elshiekh Zayed",units:0,developer:"Crown",status:"Planning",phases:2,docs:12,lastUpdated:"2025-10-12",image:"https://images.unsplash.com/photo-1600585154526-990dced4db0f?q=80&w=1200&auto=format&fit=crop",logo:null,description:"Premium medical complex with modern facilities.",completion:25,revenue:0},{name:"Crown Medical Center",city:"Elshiekh Zayed",units:0,developer:"Crown",status:"Active",phases:4,docs:34,lastUpdated:"2025-10-11",image:"https://images.unsplash.com/photo-1509395176047-4a66953fd231?q=80&w=1200&auto=format&fit=crop",logo:"https://dummyimage.com/120x60/ffffff/2b2b2b&text=CROWN",description:"A medical facility located in the heart of Sheikh Zayed.",completion:60,revenue:12e4},{name:"Sunset Residences",city:"New Cairo",units:24,developer:"Sunrise Dev",status:"Sales",phases:3,docs:19,lastUpdated:"2025-09-30",image:"https://images.unsplash.com/photo-1560518883-ce09059eeffa?q=80&w=1200&auto=format&fit=crop",logo:null,description:"Residential compound with landscaped gardens and pools.",completion:80,revenue:45e4}],[]),G=w.useMemo(()=>Array.from(new Set(I.map(J=>J.city))),[I]),re=w.useMemo(()=>Array.from(new Set(I.map(J=>J.developer))),[I]),te=["Planning","Active","Sales","Completed"],X=w.useMemo(()=>{const J=a.trim().toLowerCase();return I.filter(ae=>{const ie=!J||[ae.name,ae.city,ae.developer,ae.description].some(he=>(he||"").toLowerCase().includes(J)),le=N.includes(ae.status),Y=k.length===0||k.includes(ae.city),oe=_.length===0||_.includes(ae.developer),xe=(ae.units||0)>=L[0]&&(ae.units||0)<=L[1],W=(ae.phases||0)>=z[0]&&(ae.phases||0)<=z[1];return ie&&le&&Y&&oe&&xe&&W})},[I,a,N,k,_,L,z]),ce=w.useMemo(()=>{const J=(B-1)*R;return X.slice(J,J+R)},[X,B,R]),D=(J,ae)=>{const ie=Date.now();g(le=>[...le,{id:ie,type:J,message:ae}]),setTimeout(()=>g(le=>le.filter(Y=>Y.id!==ie)),3e3)},Q=()=>{r(""),S(["Planning","Active","Sales","Completed"]),A([]),M([]),U([0,500]),O([0,10]),E(1)},H={title:t?" > ":"Inventory > Projects",search:t?"":"Search",filter:t?"":"Filter",importProjects:t?" ":"Import Projects",createProject:t?" ":"Create Project",location:t?"":"Location",units:t?"":"Units",share:t?"":"Share",more:t?"":"More",developer:t?"":"Developer",status:t?"":"Status",city:t?"":"City",phases:t?"":"Phases",clearFilters:t?" ":"Clear Filters",exportExcel:t?" ":"Export Excel",exportPdf:t?" PDF":"Export PDF"};return s.jsx(ea,{children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative w-72",children:[s.jsx(rx,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),s.jsx("input",{value:a,onChange:J=>r(J.target.value),placeholder:H.search,className:"input w-full pl-9"})]}),s.jsx("button",{className:"btn btn-glass",onClick:()=>i(J=>!J),children:s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx(Z2,{})," ",H.filter]})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{className:"px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600",onClick:()=>o(!0),children:H.importProjects}),s.jsxs("button",{className:"px-4 py-2 rounded-lg bg-primary text-white hover:brightness-110 inline-flex items-center gap-2",onClick:()=>d(!0),children:[s.jsx(zu,{})," ",H.createProject]}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700",onClick:()=>F4e(X),children:H.exportExcel}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700",onClick:()=>I4e(X),children:H.exportPdf})]})]}),n&&s.jsxs("div",{className:`mt-3 p-3 rounded-lg border border-gray-200 dark:border-gray-700 text-sm ${t?"text-right":"text-left"}`,children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[H.status,":"]}),te.map(J=>s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:N.includes(J),onChange:ae=>{S(ie=>ae.target.checked?[...ie,J]:ie.filter(le=>le!==J))}}),s.jsx("span",{children:J})]},J))]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[H.city,":"]}),G.map(J=>s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:k.includes(J),onChange:ae=>{A(ie=>ae.target.checked?[...ie,J]:ie.filter(le=>le!==J))}}),s.jsx("span",{children:J})]},J))]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[H.developer,":"]}),re.map(J=>s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:_.includes(J),onChange:ae=>{M(ie=>ae.target.checked?[...ie,J]:ie.filter(le=>le!==J))}}),s.jsx("span",{children:J})]},J))]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:H.units}),s.jsxs("span",{className:"text-xs",children:[L[0]," - ",L[1]]})]}),s.jsx("input",{type:"range",min:"0",max:"500",value:L[0],onChange:J=>U([Number(J.target.value),L[1]])}),s.jsx("input",{type:"range",min:"0",max:"500",value:L[1],onChange:J=>U([L[0],Number(J.target.value)])})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:H.phases}),s.jsxs("span",{className:"text-xs",children:[z[0]," - ",z[1]]})]}),s.jsx("input",{type:"range",min:"0",max:"10",value:z[0],onChange:J=>O([Number(J.target.value),z[1]])}),s.jsx("input",{type:"range",min:"0",max:"10",value:z[1],onChange:J=>O([z[0],Number(J.target.value)])})]})]}),s.jsx("div",{className:`mt-3 flex items-center ${t?"justify-start":"justify-end"}`,children:s.jsx("button",{className:"btn btn-glass",onClick:Q,children:H.clearFilters})})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx(R4e,{projects:X,isRTL:t,onFilterStatus:J=>{S([J]),E(1)},onFilterCity:J=>{A([J]),E(1)}})}),s.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[ce.map((J,ae)=>s.jsx("div",{className:"glass-panel rounded-xl overflow-hidden",children:s.jsx(O4e,{p:J,isRTL:t,Label:H,onView:ie=>f(ie),onEdit:ie=>{p(ie),d(!0)}})},ae)),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"btn btn-glass",disabled:B===1,onClick:()=>E(J=>Math.max(1,J-1)),children:t?"":"Prev"}),s.jsxs("span",{className:"text-sm text-[var(--muted-text)]",children:[t?"":"Page"," ",B]}),s.jsx("button",{className:"btn btn-glass",disabled:B*R>=X.length,onClick:()=>E(J=>J+1),children:t?"":"Next"}),s.jsx("select",{className:"input",value:R,onChange:J=>{q(Number(J.target.value)),E(1)},children:[6,9,12].map(J=>s.jsxs("option",{value:J,children:[J,"/page"]},J))})]})]}),l&&s.jsx(P4e,{onClose:()=>o(!1),isRTL:t,addToast:D,addLog:J=>j(ae=>[J,...ae])}),c&&s.jsx(L4e,{onClose:()=>{d(!1),p(null)},isRTL:t,mode:x?"edit":"create",initialValues:x?{name:x.name||"",developer:x.developer||""}:void 0}),u&&s.jsx(B4e,{p:u,isRTL:t,onClose:()=>f(null)}),s.jsx("div",{className:"fixed z-50 top-20 right-4 flex flex-col gap-2",children:v.map(J=>s.jsx("div",{className:`px-4 py-2 rounded-lg shadow-lg ${J.type==="success"?"bg-emerald-600 text-white":J.type==="error"?"bg-rose-600 text-white":"bg-gray-800 text-white"}`,children:J.message},J.id))})]})})}function P4e({onClose:e,isRTL:t,addToast:a,addLog:r}){const[n,i]=w.useState([]),[l,o]=w.useState([]),c=(f="csv")=>{const x=["Project","City","Developer","Units","Phases","Status","Docs","LastUpdated","Image","Logo","Description"],p=["Sample Project","New Cairo","Sample Dev","12","3","Planning","5","2025-10-10","https://picsum.photos/1200/800","","Sample description"];if(f==="csv"){const v=x.join(",")+`
`+p.join(",")+`
`,g=new Blob([v],{type:"text/csv;charset=utf-8;"}),b=URL.createObjectURL(g),j=document.createElement("a");j.href=b,j.download="projects_template.csv",document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(b)}else{const v=Jt.aoa_to_sheet([x,p]),g=Jt.book_new();Jt.book_append_sheet(g,v,"Template"),gs(g,"projects_template.xlsx")}},d=async f=>{const x=Array.from(f.target.files||[]);if(i(x),x[0])try{const p=await x[0].arrayBuffer(),v=xm(p,{type:"array"}),g=v.SheetNames[0],b=v.Sheets[g],j=Jt.sheet_to_json(b,{defval:""});o(j.slice(0,50))}catch{a("error",t?"  ":"Failed to read file")}},u=()=>{if(!n.length){a("error",t?"  ":"Select files first");return}n.forEach(f=>r({fileName:f.name,user:"Current User",timestamp:new Date().toISOString(),status:"Success"})),a("success",t?"  ":"Import successful"),e()};return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:e}),s.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[900px] max-w-[95vw]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:t?" ":"Import Projects"}),s.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Close"})]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("p",{className:"text-[var(--muted-text)]",children:t?"  CSV/XLSX  .":"Upload CSV/XLSX files, a preview will show."}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"file",accept:".csv,.xlsx",multiple:!0,onChange:d}),s.jsx("button",{className:"btn btn-glass",onClick:()=>c("csv"),children:t?"  CSV":"Download CSV Template"}),s.jsx("button",{className:"btn btn-glass",onClick:()=>c("xlsx"),children:t?"  XLSX":"Download XLSX Template"})]}),s.jsx("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 overflow-auto max-h-[300px]",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsx("tr",{className:"bg-gray-50 dark:bg-gray-800/50",children:l[0]&&Object.keys(l[0]).map(f=>s.jsx("th",{className:"px-2 py-1 text-left",children:f},f))})}),s.jsxs("tbody",{children:[l.map((f,x)=>s.jsx("tr",{className:"border-t border-gray-100 dark:border-gray-800",children:Object.values(f).map((p,v)=>s.jsx("td",{className:"px-2 py-1",children:String(p)},v))},x)),l.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"px-2 py-3 text-center text-[var(--muted-text)]",children:t?"  ":"No preview"})})]})]})}),s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:u,children:t?"":"Import"})]})]})]})]})}function L4e({onClose:e,isRTL:t,mode:a="create",initialValues:r}){const[n,i]=w.useState(t?"ar":"en"),[l,o]=w.useState("basic"),[c,d]=w.useState({name:r?.name||"",developer:r?.developer||"",category:"",unitPrefix:"",indirectName:"",indirectPhone:"",address:"",minPrice:"",maxPrice:"",minSpace:"",maxSpace:"",driveUrl:"",logoFile:null,mainImageFile:null}),u=x=>p=>d(v=>({...v,[x]:p.target.value})),f=[{id:"basic",label:t?" ":"Basic Info"},{id:"more",label:t?"":"More Info"},{id:"gallery",label:t?"":"Gallery"},{id:"layout",label:t?"":"Layout"},{id:"master",label:t?" ":"Master Plan"},{id:"pdf",label:"PDF"},{id:"3d",label:"3D"},{id:"video",label:t?"":"Video"},{id:"map",label:t?"":"Map"}];return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:e}),s.jsxs("div",{className:"relative z-50 bg-white dark:bg-gray-900 w-full h-screen sm:w-[1100px] sm:max-w-[95vw] sm:max-h-[90vh] sm:h-auto sm:rounded-2xl border border-gray-200 dark:border-gray-700 shadow-2xl overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("h2",{className:"text-xl font-bold",children:a==="edit"?t?" ":"Edit Project":t?" ":"Create Project"})}),s.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",title:t?"":"Close",children:s.jsx(ru,{})})]}),s.jsx("div",{className:"px-4 pt-4",children:s.jsx("div",{className:`flex items-center gap-4 ${t?"flex-row-reverse":""} overflow-x-auto`,children:f.map(x=>s.jsx("button",{onClick:()=>o(x.id),className:`px-3 py-2 text-sm rounded-lg border ${l===x.id?"bg-primary text-white border-primary":"border-gray-200 dark:border-gray-700 text-[var(--content-text)]"}`,children:x.label},x.id))})}),s.jsxs("div",{className:"p-4 space-y-4",children:[l==="basic"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>i("en"),className:`px-4 py-2 rounded-lg ${n==="en"?"bg-gray-200 dark:bg-gray-800":"bg-transparent border border-gray-200 dark:border-gray-700"}`,children:"English"}),s.jsx("button",{onClick:()=>i("ar"),className:`px-4 py-2 rounded-lg ${n==="ar"?"bg-gray-200 dark:bg-gray-800":"bg-transparent border border-gray-200 dark:border-gray-700"}`,children:t?" ":"Arabic"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?" ":"Upload Logo"}),s.jsx("input",{type:"file",accept:"image/*",onChange:x=>d(p=>({...p,logoFile:x.target.files?.[0]||null}))}),c.logoFile&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:URL.createObjectURL(c.logoFile),alt:"logo preview",className:"h-16 w-auto object-contain rounded-md border"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"  ":"Upload Main Image"}),s.jsx("input",{type:"file",accept:"image/*",onChange:x=>d(p=>({...p,mainImageFile:x.target.files?.[0]||null}))}),c.mainImageFile&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:URL.createObjectURL(c.mainImageFile),alt:"main preview",className:"h-28 w-full object-cover rounded-md border"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?" ":"Project Name"}),s.jsx("input",{className:"input w-full",value:c.name,onChange:u("name"),placeholder:t?" ":"Project Name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"":"Developer"}),s.jsx("input",{className:"input w-full",value:c.developer,onChange:u("developer"),placeholder:t?"":"Developer"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"":"Category"}),s.jsx("input",{className:"input w-full",value:c.category,onChange:u("category"),placeholder:t?"":"Category"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"  ":"Unit Code Prefix"}),s.jsx("input",{className:"input w-full",value:c.unitPrefix,onChange:u("unitPrefix"),placeholder:t?"  ":"Unit Code Prefix"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"   ":"Indirect Sales Name"}),s.jsx("input",{className:"input w-full",value:c.indirectName,onChange:u("indirectName"),placeholder:t?"   ":"Indirect Sales Name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"   ":"Indirect Sales Phone"}),s.jsx("input",{className:"input w-full",value:c.indirectPhone,onChange:u("indirectPhone"),placeholder:t?"   ":"Indirect Sales Phone"})]})]}),s.jsxs("div",{className:`flex items-center justify-end gap-3 ${t?"flex-row-reverse":""}`,children:[s.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:e,children:a==="edit"?t?"":"Update":t?"":"Save"})]})]}),l==="more"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:t?" ":"More Info"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"":"Address"}),s.jsx("input",{className:"input w-full",value:c.address,onChange:u("address"),placeholder:t?"":"Address"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"  ":"Min Price"}),s.jsx("input",{type:"number",className:"input w-full",value:c.minPrice,onChange:u("minPrice"),placeholder:t?" ":"Min Price"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"  ":"Max Price"}),s.jsx("input",{type:"number",className:"input w-full",value:c.maxPrice,onChange:u("maxPrice"),placeholder:t?" ":"Max Price"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?" ":"Min Space"}),s.jsx("input",{type:"number",className:"input w-full",value:c.minSpace,onChange:u("minSpace"),placeholder:t?" ":"Min Space"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?" ":"Max Space"}),s.jsx("input",{type:"number",className:"input w-full",value:c.maxSpace,onChange:u("maxSpace"),placeholder:t?" ":"Max Space"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:"Drive URL"}),s.jsx("input",{className:"input w-full",value:c.driveUrl,onChange:u("driveUrl"),placeholder:"Drive URL"})]}),s.jsxs("div",{className:`flex items-center justify-end gap-3 ${t?"flex-row-reverse":""}`,children:[s.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:e,children:t?"":"Save"})]})]})]})]})]})}function O4e({p:e,isRTL:t,Label:a,onView:r,onEdit:n}){return s.jsxs("div",{className:"p-3",children:[s.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""}`,children:[s.jsxs("div",{className:`flex items-center ${t?"flex-row-reverse":""} gap-3`,children:[e.image&&s.jsx("img",{src:e.image,alt:e.name,className:"h-16 w-28 md:h-20 md:w-32 object-cover rounded-lg"}),e.logo&&s.jsx("img",{src:e.logo,alt:`${e.name} logo`,className:"h-7 w-auto"}),s.jsx("h3",{className:"text-base font-semibold",children:e.name}),s.jsx("span",{className:"inline-flex px-2 py-1 text-xs rounded-md bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-300",children:e.status})]}),s.jsxs("div",{className:`flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[s.jsxs("button",{className:"btn btn-glass text-xs inline-flex items-center gap-2",onClick:()=>r&&r(e),children:[s.jsx(dd,{})," ",t?"":"View"]}),s.jsxs("button",{className:"btn btn-glass text-xs inline-flex items-center gap-2",onClick:()=>n&&n(e),children:[s.jsx(wf,{})," ",t?"":"Edit"]}),s.jsxs("button",{className:"btn btn-glass text-xs inline-flex items-center gap-2",children:[s.jsx(sx,{})," ",t?"":"Delete"]})]})]}),s.jsxs("div",{className:`mt-2 grid grid-cols-2 md:grid-cols-6 gap-2 text-sm ${t?"text-right":"text-left"}`,children:[s.jsxs("div",{className:"px-2 py-1 rounded-md bg-gray-50 dark:bg-gray-800/40 flex items-center gap-2",children:[s.jsx(XU,{className:"opacity-70"})," ",e.city]}),s.jsxs("div",{className:"px-2 py-1 rounded-md bg-gray-50 dark:bg-gray-800/40 flex items-center gap-2",children:[s.jsx(KU,{className:"opacity-70"})," ",e.developer]}),s.jsxs("div",{className:"px-2 py-1 rounded-md bg-gray-50 dark:bg-gray-800/40",children:[a.units,": ",s.jsx("span",{className:"font-semibold",children:e.units})]}),s.jsxs("div",{className:"px-2 py-1 rounded-md bg-gray-50 dark:bg-gray-800/40",children:[t?"":"Phases",": ",s.jsx("span",{className:"font-semibold",children:e.phases})]}),s.jsxs("div",{className:"px-2 py-1 rounded-md bg-gray-50 dark:bg-gray-800/40",children:[t?"":"Docs",": ",s.jsx("span",{className:"font-semibold",children:e.docs})]}),s.jsxs("div",{className:"px-2 py-1 rounded-md bg-gray-50 dark:bg-gray-800/40",children:[t?" ":"Updated",": ",s.jsx("span",{className:"font-semibold",children:e.lastUpdated})]})]}),s.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)] mb-1",children:t?" ":"Completion"}),s.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary",style:{width:`${e.completion||0}%`}})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)] mb-1",children:t?" ":"Revenue Estimate"}),s.jsx("div",{className:"text-sm font-semibold",children:e.revenue?new Intl.NumberFormat("en-EG",{style:"currency",currency:"EGP",maximumFractionDigits:0}).format(e.revenue):t?" ":"N/A"})]})]}),s.jsx("div",{className:`mt-2 flex items-center ${t?"justify-start":"justify-end"}`,children:s.jsxs("button",{className:"inline-flex items-center gap-2 text-primary hover:underline",title:a.share,children:[s.jsx(QU,{})," ",a.share]})})]})}function R4e({projects:e,isRTL:t,onFilterStatus:a,onFilterCity:r}){const n=e.reduce((c,d)=>c+(d.units||0),0),i=Array.from(new Set(e.map(c=>c.city))),l=e.filter(c=>(c.status||"").toLowerCase()==="active"||(c.status||"").toLowerCase()==="sales").length,o=["Planning","Active","Sales","Completed"].map(c=>({s:c,count:e.filter(d=>d.status===c).length}));return s.jsxs("div",{className:"glass-panel rounded-xl p-3",children:[s.jsx("h3",{className:"text-sm font-semibold",children:t?" ":"Projects Summary"}),s.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-2 text-sm",children:[s.jsxs("button",{className:"p-3 rounded-lg bg-gray-50 dark:bg-gray-800/40 text-left",onClick:()=>a&&a("All"),children:[s.jsx("div",{className:"text-[var(--muted-text)]",children:t?" ":"Projects"}),s.jsx("div",{className:"text-xl font-bold",children:e.length})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-gray-50 dark:bg-gray-800/40",children:[s.jsx("div",{className:"text-[var(--muted-text)]",children:t?" ":"Total Units"}),s.jsx("div",{className:"text-xl font-bold",children:n})]}),s.jsxs("button",{className:"p-3 rounded-lg bg-gray-50 dark:bg-gray-800/40 text-left",onClick:()=>a&&a("Active"),children:[s.jsx("div",{className:"text-[var(--muted-text)]",children:t?"":"Active"}),s.jsx("div",{className:"text-xl font-bold",children:l})]})]}),s.jsx("div",{className:"mt-2 text-sm text-[var(--muted-text)]",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs("span",{children:[t?"":"Cities",":"]}),i.map(c=>s.jsx("button",{className:"px-2 py-0.5 text-xs rounded-md bg-gray-100 dark:bg-gray-800",onClick:()=>r&&r(c),children:c},c))]})}),s.jsx("div",{className:"mt-3 h-28",children:s.jsx(Ls,{data:{labels:o.map(c=>c.s),datasets:[{label:t?" ":"By Status",data:o.map(c=>c.count),backgroundColor:"rgba(59,130,246,0.6)",borderRadius:6}]},options:{plugins:{legend:{display:!1}},responsive:!0,maintainAspectRatio:!1,scales:{y:{ticks:{callback:c=>`${c}`}}}}})})]})}function F4e(e){const t=e.map(n=>({Name:n.name,City:n.city,Developer:n.developer,Status:n.status,Units:n.units,Phases:n.phases,Docs:n.docs,LastUpdated:n.lastUpdated,Revenue:n.revenue||0,Completion:(n.completion||0)+"%"})),a=Jt.json_to_sheet(t),r=Jt.book_new();Jt.book_append_sheet(r,a,"Projects"),gs(r,"projects_export.xlsx")}async function I4e(e){try{const t=(await yi(async()=>{const{default:l}=await Promise.resolve().then(()=>Sw);return{default:l}},[])).default,a=await yi(()=>Promise.resolve().then(()=>_w),void 0),r=new t,n=[["Name","City","Developer","Status","Units","Phases","Docs","Updated"]],i=e.map(l=>[l.name,l.city,l.developer,l.status,String(l.units),String(l.phases),String(l.docs),l.lastUpdated]);a.default(r,{head:n,body:i}),r.save("projects_export.pdf")}catch(t){console.error(t),alert("Failed to export PDF")}}function B4e({p:e,isRTL:t,onClose:a}){return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:a}),s.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[900px] max-w-[95vw]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:t?" ":"Project Details"}),s.jsx("button",{className:"btn btn-glass",onClick:a,children:t?"":"Close"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Name",":"]})," ",s.jsx("span",{className:"font-semibold",children:e.name})]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Status",":"]})," ",s.jsx("span",{className:"font-semibold",children:e.status})]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"City",":"]})," ",s.jsx("span",{className:"font-semibold",children:e.city})]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Developer",":"]})," ",s.jsx("span",{className:"font-semibold",children:e.developer})]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Units",":"]})," ",s.jsx("span",{className:"font-semibold",children:e.units})]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Phases",":"]})," ",s.jsx("span",{className:"font-semibold",children:e.phases})]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Docs",":"]})," ",s.jsx("span",{className:"font-semibold",children:e.docs})]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?" ":"Updated",":"]})," ",s.jsx("span",{className:"font-semibold",children:e.lastUpdated})]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Description",":"]})," ",s.jsx("span",{className:"font-medium",children:e.description})]})]}),s.jsx("div",{className:"rounded-lg overflow-hidden h-48 md:h-full",children:s.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"})})]})]})]})}function $4e({p:e,isRTL:t,onView:a,onEdit:r,onShare:n,onDelete:i}){return s.jsxs("div",{className:"glass-panel rounded-xl overflow-hidden",children:[s.jsxs("div",{className:"relative h-40 sm:h-48 md:h-56 w-full",children:[s.jsx("img",{src:e.mainImage,alt:e.name,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),s.jsxs("div",{className:`absolute bottom-2 left-2 right-2 flex ${t?"flex-row-reverse":""} items-center justify-between`,children:[s.jsxs("div",{className:`flex items-center gap-3 ${t?"flex-row-reverse":""}`,children:[e.logo&&s.jsx("img",{src:e.logo,alt:"logo",className:"w-10 h-10 rounded-md border border-white/30"}),s.jsxs("div",{className:"text-white",children:[s.jsx("div",{className:"text-lg font-semibold drop-shadow",children:e.name}),s.jsxs("div",{className:"text-xs opacity-90",children:[e.city,"  ",e.developer]})]})]}),s.jsx("div",{className:`flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:s.jsx("span",{className:"px-2 py-1 rounded-md text-xs bg-white/20 text-white border border-white/30",children:e.status})})]})]}),s.jsxs("div",{className:"p-3 sm:p-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:"Units:"})," ",s.jsx("span",{className:"font-semibold",children:e.units})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:"Area:"})," ",s.jsxs("span",{className:"font-semibold",children:[e.area," sqm"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:"Price:"})," ",s.jsxs("span",{className:"font-semibold",children:["EGP ",e.price.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:"Docs:"})," ",s.jsx("span",{className:"font-semibold",children:e.documents})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:"Updated:"})," ",s.jsx("span",{className:"font-semibold",children:e.lastUpdated})]}),e.estimatedRevenue!=null&&s.jsxs("div",{children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:"Est. Revenue:"})," ",s.jsxs("span",{className:"font-semibold",children:["EGP ",e.estimatedRevenue.toLocaleString()]})]})]}),e.description&&s.jsx("div",{className:"mt-3 text-sm text-[var(--muted-text)] line-clamp-2",children:e.description}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-emerald-600",style:{width:`${e.progress||0}%`}})}),s.jsxs("div",{className:"mt-1 text-xs text-[var(--muted-text)]",children:[e.progress||0,"% ",t?" ":"Progress"]})]}),s.jsxs("div",{className:`mt-4 flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[s.jsxs("button",{className:"btn btn-glass text-xs inline-flex items-center gap-2",onClick:()=>a&&a(e),children:[s.jsx(dd,{})," ",t?"":"View"]}),s.jsxs("button",{className:"btn btn-glass text-xs inline-flex items-center gap-2",onClick:()=>r&&r(e),children:[s.jsx(wf,{})," ",t?"":"Edit"]}),s.jsxs("button",{className:"btn btn-glass text-xs inline-flex items-center gap-2",onClick:()=>n&&n(e),children:[s.jsx(QU,{})," ",t?"":"Share"]}),s.jsxs("button",{className:"btn btn-glass text-xs inline-flex items-center gap-2",onClick:()=>i&&i(e),children:[s.jsx(sx,{})," ",t?"":"Delete"]})]})]})]})}function U4e({stats:e,isRTL:t,onFilter:a}){const r=({label:n,value:i,filter:l})=>s.jsxs("button",{className:"glass-panel rounded-xl p-4 w-full text-left hover:shadow-md transition",onClick:()=>l&&a(l),children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:n}),s.jsx("div",{className:"text-2xl font-semibold text-indigo-600",children:i})]});return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[s.jsx(r,{label:t?" ":"Total Properties",value:e.total,filter:{type:"all"}}),s.jsx(r,{label:t?" ":"Total Units",value:e.totalUnits}),s.jsx(r,{label:t?"":"Sold",value:e.sold,filter:{type:"status",value:"Sold"}}),s.jsx(r,{label:t?"":"Available",value:e.available,filter:{type:"status",value:"Available"}}),s.jsx(r,{label:t?"":"Reserved",value:e.reserved,filter:{type:"status",value:"Reserved"}})]})}function z4e({onClose:e,isRTL:t,onImported:a}){const[r,n]=w.useState([]),[i,l]=w.useState([]),[o,c]=w.useState(null),d=v=>{const g=Array.from(v||[]);n(g)},u=async v=>{const b=(await v.text()).split(/\r?\n/).filter(Boolean),j=b[0].split(","),N=b.slice(1).map(S=>{const k=S.split(","),A={};return j.forEach((_,M)=>A[_.trim()]=(k[M]||"").trim()),A});return{headers:j,rows:N}},f=async()=>{if(!r.length)return;const v=r[0];if(v.name.toLowerCase().endsWith(".csv")){const g=await u(v);c(g)}else c({headers:["File","Type","Size"],rows:[{File:v.name,Type:v.type||"xlsx",Size:`${v.size} bytes`}]})},x=async()=>{const v="Admin",g=new Date().toISOString(),b={file:r.map(j=>j.name).join(", "),user:v,ts:g,status:"Success"};l(j=>[b,...j]),o?.rows?.length&&a(o.rows),e()},p=(v="csv")=>{const b=["name","city","developer","status","units","area","price","documents","lastUpdated","description","progress"].join(",")+`
`,j=new Blob([b],{type:"text/csv;charset=utf-8;"}),N=URL.createObjectURL(j),S=document.createElement("a");S.href=N,S.download=`properties_template.${v}`,S.click(),URL.revokeObjectURL(N)};return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:e}),s.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[900px] max-w-[95vw]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:t?" ":"Import Properties"}),s.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Close"})]}),s.jsx("div",{className:`border-2 border-dashed rounded-xl p-6 text-center ${t?"dir-rtl":""}`,onDragOver:v=>{v.preventDefault()},onDrop:v=>{v.preventDefault(),d(v.dataTransfer.files)},children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(Xle,{className:"text-2xl"}),s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:t?"    ":"Drag files here or choose files"}),s.jsx("input",{type:"file",multiple:!0,accept:".csv,.xlsx",onChange:v=>d(v.target.files),className:"mt-2"})]})}),s.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[s.jsxs("button",{className:"btn btn-glass",onClick:()=>p("csv"),children:[s.jsx(eh,{})," CSV ",t?"":"Template"]}),s.jsxs("button",{className:"btn btn-glass",onClick:()=>p("xlsx"),children:[s.jsx(eh,{})," XLSX ",t?"":"Template"]}),s.jsx("div",{className:"flex-1"}),s.jsx("button",{className:"btn btn-primary",onClick:f,children:t?"":"Preview"}),s.jsx("button",{className:"btn btn-success",onClick:x,disabled:!r.length,children:t?"":"Import"})]}),o&&s.jsx("div",{className:"mt-4 overflow-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsx("tr",{children:o.headers.map((v,g)=>s.jsx("th",{className:"text-left p-2 border-b",children:v},g))})}),s.jsx("tbody",{children:o.rows.slice(0,20).map((v,g)=>s.jsx("tr",{children:o.headers.map((b,j)=>s.jsx("td",{className:"p-2 border-b",children:v[b]},j))},g))})]})}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:t?" ":"Import Log"}),s.jsx("div",{className:"space-y-2",children:i.map((v,g)=>s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:[v.ts,"  ",v.user,"  ",v.file,"  ",v.status]},g))})]})]})]})}function H4e({onClose:e,isRTL:t,onSave:a}){const{t:r}=Et(),[n,i]=w.useState("basic"),[l,o]=w.useState({name:"",city:"",developer:"",status:"Available",units:"",area:"",price:"",description:"",gallery:[],layout:[],masterPlan:[],pdfs:[],threed:[],videos:[],mapUrl:"",mainImageFile:null,logoFile:null}),c=["name","city","developer","status"],[d,u]=w.useState({}),f=()=>{const b={};return c.forEach(j=>{String(l[j]||"").trim()||(b[j]="Required")}),u(b),Object.keys(b).length===0},x=(b,j)=>{o(N=>({...N,[b]:[...N[b],...Array.from(j||[])]}))},p=()=>{f()&&(a&&a(l),e())},v=({id:b,label:j})=>s.jsx("button",{className:`px-3 py-2 rounded-md border ${n===b?"bg-blue-600 text-white":""}`,onClick:()=>i(b),children:j}),g=({label:b,keyName:j})=>s.jsxs("div",{className:"border-2 border-dashed rounded-xl p-4 text-sm",onDragOver:N=>{N.preventDefault()},onDrop:N=>{N.preventDefault(),x(j,N.dataTransfer.files)},children:[s.jsx("div",{className:"text-[var(--muted-text)] mb-2",children:b}),s.jsx("input",{type:"file",multiple:!0,onChange:N=>x(j,N.target.files)}),s.jsxs("div",{className:"mt-2 text-xs text-[var(--muted-text)]",children:[l[j]?.length||0," files"]})]});return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:e}),s.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[1000px] max-w-[95vw]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:t?" ":"Create Property"}),s.jsx("button",{className:"btn btn-glass",onClick:e,children:s.jsx(ru,{})})]}),s.jsxs("div",{className:`flex items-center gap-2 mb-4 ${t?"flex-row-reverse":""}`,children:[s.jsx(v,{id:"basic",label:t?" ":"Basic Info"}),s.jsx(v,{id:"more",label:t?" ":"More Info"}),s.jsx(v,{id:"gallery",label:t?"":"Gallery"}),s.jsx(v,{id:"layout",label:t?"":"Layout"}),s.jsx(v,{id:"master",label:t?" ":"Master Plan"}),s.jsx(v,{id:"pdf",label:"PDF"}),s.jsx(v,{id:"3d",label:"3D"}),s.jsx(v,{id:"video",label:t?"":"Video"}),s.jsx(v,{id:"map",label:t?"":"Map"})]}),n==="basic"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[["name","city","developer","status","units","area","price"].map(b=>s.jsxs("div",{children:[s.jsx("label",{className:"label capitalize",children:b}),s.jsx("input",{className:"input w-full",value:l[b]||"",onChange:j=>o(N=>({...N,[b]:j.target.value}))}),d[b]&&s.jsx("div",{className:"text-red-500 text-xs mt-1",children:t?" ":"Required field"})]},b)),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"label",children:t?"":"Description"}),s.jsx("textarea",{className:"input w-full",rows:3,value:l.description||"",onChange:b=>o(j=>({...j,description:b.target.value}))})]})]}),n==="more"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Logo URL"}),s.jsx("input",{className:"input w-full",value:l.logo||"",onChange:b=>o(j=>({...j,logo:b.target.value}))}),s.jsx("label",{className:"label mt-2",children:t?" ":"Upload Logo"}),s.jsx("input",{type:"file",accept:"image/*",onChange:b=>o(j=>({...j,logoFile:b.target.files?.[0]||null}))}),(l.logoFile||l.logo)&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:l.logoFile?URL.createObjectURL(l.logoFile):l.logo,alt:"logo preview",className:"h-16 w-auto object-contain rounded-md border"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Main Image URL"}),s.jsx("input",{className:"input w-full",value:l.mainImage||"",onChange:b=>o(j=>({...j,mainImage:b.target.value}))}),s.jsx("label",{className:"label mt-2",children:t?"  ":"Upload Main Image"}),s.jsx("input",{type:"file",accept:"image/*",onChange:b=>o(j=>({...j,mainImageFile:b.target.files?.[0]||null}))}),(l.mainImageFile||l.mainImage)&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:l.mainImageFile?URL.createObjectURL(l.mainImageFile):l.mainImage,alt:"main preview",className:"h-28 w-full object-cover rounded-md border"})})]})]}),n==="gallery"&&s.jsx(g,{label:t?" ":"Gallery Images",keyName:"gallery"}),n==="layout"&&s.jsx(g,{label:t?" ":"Layout Images",keyName:"layout"}),n==="master"&&s.jsx(g,{label:t?"  ":"Master Plan Images",keyName:"masterPlan"}),n==="pdf"&&s.jsx(g,{label:t?" PDF":"PDF Files",keyName:"pdfs"}),n==="3d"&&s.jsx(g,{label:t?"  ":"3D Files",keyName:"threed"}),n==="video"&&s.jsx(g,{label:t?" ":"Video Files",keyName:"videos"}),n==="map"&&s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Map URL"}),s.jsx("input",{className:"input w-full",value:l.mapUrl||"",onChange:b=>o(j=>({...j,mapUrl:b.target.value}))})]}),s.jsxs("div",{className:`mt-4 flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[s.jsx("button",{className:"btn btn-primary",onClick:p,children:t?"":"Save"}),s.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Cancel"})]})]})]})}function V4e(){const{t:e,i18n:t}=Et(),a=t.language==="ar",r=w.useMemo(()=>[{id:1,name:"Nile View Residences",city:"Cairo",developer:"Hima Dev",status:"Available",units:120,area:120,price:25e5,documents:12,lastUpdated:"2025-11-05",logo:"https://dummyimage.com/100x100/000/fff.png&text=NV",mainImage:"https://images.unsplash.com/photo-1505691938895-1758d7feb511?q=80&w=1200&auto=format&fit=crop",description:"Prime apartments overlooking the Nile with modern amenities.",progress:35,estimatedRevenue:85e6},{id:2,name:"Palm Villas",city:"Giza",developer:"Hima Dev",status:"Reserved",units:60,area:300,price:65e5,documents:8,lastUpdated:"2025-11-06",logo:"https://dummyimage.com/100x100/111/fff.png&text=PV",mainImage:"https://images.unsplash.com/photo-1505691728975-327f93beedb3?q=80&w=1200&auto=format&fit=crop",description:"Luxury villas with private gardens and pools.",progress:60,estimatedRevenue:12e7},{id:3,name:"Smart Offices",city:"New Cairo",developer:"TechBuild",status:"Sold",units:40,area:95,price:18e5,documents:18,lastUpdated:"2025-11-03",logo:"https://dummyimage.com/100x100/333/fff.png&text=SO",mainImage:"https://images.unsplash.com/photo-1460353581641-37baddab0fa2?q=80&w=1200&auto=format&fit=crop",description:"Modern offices with smart building features.",progress:100,estimatedRevenue:48e6},{id:4,name:"Marina Bay Apartments",city:"Alexandria",developer:"SeaSide Dev",status:"Available",units:200,area:110,price:21e5,documents:10,lastUpdated:"2025-10-29",logo:"https://dummyimage.com/100x100/555/fff.png&text=MB",mainImage:"https://images.unsplash.com/photo-1449844908441-774d237f3b16?q=80&w=1200&auto=format&fit=crop",description:"Sea view apartments with premium facilities.",progress:45,estimatedRevenue:15e7}],[]),[n,i]=w.useState(""),[l,o]=w.useState([]),[c,d]=w.useState([]),[u,f]=w.useState([]),[x,p]=w.useState([]),[v,g]=w.useState([0,1e7]),[b,j]=w.useState([0,500]),[N,S]=w.useState([0,6]),[k,A]=w.useState(!1),[_,M]=w.useState(!1),[L,U]=w.useState(null),z=["Cairo","Giza","New Cairo","Alexandria"],O=["Hima Dev","TechBuild","SeaSide Dev"],B=["Apartment","Villa","Office"],E=w.useMemo(()=>r.filter(H=>{const J=n.trim().toLowerCase(),ae=!J||[H.name,H.city,H.developer,H.description].some(fe=>String(fe).toLowerCase().includes(J)),ie=l.length===0||l.includes(H.status),le=c.length===0||c.includes(H.city),Y=u.length===0||u.includes(H.developer),oe=x.length===0||x.includes(H.type||"Apartment"),xe=H.price>=v[0]&&H.price<=v[1],W=H.area>=b[0]&&H.area<=b[1],he=(H.rooms||3)>=N[0]&&(H.rooms||3)<=N[1];return ae&&ie&&le&&Y&&oe&&xe&&W&&he}),[r,n,l,c,u,x,v,b,N]),R=w.useMemo(()=>({total:r.length,totalUnits:r.reduce((H,J)=>H+(J.units||0),0),sold:r.filter(H=>H.status==="Sold").length,available:r.filter(H=>H.status==="Available").length,reserved:r.filter(H=>H.status==="Reserved").length}),[r]),q=()=>{i(""),o([]),d([]),f([]),p([]),g([0,1e7]),j([0,500]),S([0,6])},I=(H,J,ae)=>{J.includes(ae)?H(J.filter(ie=>ie!==ae)):H([...J,ae])},G=()=>{const H=["name","city","developer","status","units","area","price","documents","lastUpdated","progress"],J=E.map(oe=>H.map(xe=>oe[xe]??"")),ae=H.join(",")+`
`+J.map(oe=>oe.join(",")).join(`
`),ie=new Blob([ae],{type:"text/csv;charset=utf-8;"}),le=URL.createObjectURL(ie),Y=document.createElement("a");Y.href=le,Y.download="properties.csv",Y.click(),URL.revokeObjectURL(le)},re=async()=>{const[{default:H},J]=await Promise.all([yi(()=>Promise.resolve().then(()=>Sw),void 0),yi(()=>Promise.resolve().then(()=>_w),void 0)]),ae=new H,ie=["Name","City","Dev","Status","Units","Area","Price"],le=E.map(Y=>[Y.name,Y.city,Y.developer,Y.status,Y.units,Y.area,Y.price]);J.default(ae,{head:[ie],body:le}),ae.save("properties.pdf")},te=6,[X,ce]=w.useState(1),D=Math.max(1,Math.ceil(E.length/te)),Q=w.useMemo(()=>E.slice((X-1)*te,X*te),[E,X]);return s.jsx(ea,{children:s.jsxs("div",{className:"p-6 bg-[var(--content-bg)] text-[var(--content-text)]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("h1",{className:"text-2xl font-bold",children:a?" ":"Properties Dashboard"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-primary",onClick:()=>M(!0),children:a?" ":"Create Property"}),s.jsx("button",{className:"btn btn-glass",onClick:()=>A(!0),children:a?"":"Import"}),s.jsx("button",{className:"btn btn-glass",onClick:G,children:a?" CSV":"Export CSV"}),s.jsx("button",{className:"btn btn-glass",onClick:re,children:a?" PDF":"Export PDF"})]})]}),s.jsx("div",{className:"h-4"}),s.jsx(U4e,{stats:R,isRTL:a,onFilter:H=>{H.type==="status"?o([H.value]):q()}}),s.jsx("div",{className:"h-4"}),s.jsxs("div",{className:"glass-panel rounded-xl p-4 mt-4",children:[s.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-4 gap-3 ${a?"dir-rtl":""}`,children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:a?"":"Search"}),s.jsx("input",{className:"input w-full",placeholder:a?" ..":"Name, city...",value:n,onChange:H=>i(H.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:a?"":"Status"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["Available","Sold","Reserved"].map(H=>s.jsx("button",{className:`chip ${l.includes(H)?"chip-active":""}`,onClick:()=>I(o,l,H),children:H},H))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:a?"":"City"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:z.map(H=>s.jsx("button",{className:`chip ${c.includes(H)?"chip-active":""}`,onClick:()=>I(d,c,H),children:H},H))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:a?"":"Developer"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:O.map(H=>s.jsx("button",{className:`chip ${u.includes(H)?"chip-active":""}`,onClick:()=>I(f,u,H),children:H},H))})]})]}),s.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-3 gap-3 mt-4 ${a?"dir-rtl":""}`,children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:a?"":"Type"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:B.map(H=>s.jsx("button",{className:`chip ${x.includes(H)?"chip-active":""}`,onClick:()=>I(p,x,H),children:H},H))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:a?"":"Price"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"range",min:"0",max:"10000000",value:v[0],onChange:H=>g([Number(H.target.value),v[1]]),className:"flex-1"}),s.jsx("input",{type:"range",min:"0",max:"10000000",value:v[1],onChange:H=>g([v[0],Number(H.target.value)]),className:"flex-1"})]}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:["EGP ",v[0].toLocaleString()," - ",v[1].toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:a?"":"Area (sqm)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"range",min:"0",max:"500",value:b[0],onChange:H=>j([Number(H.target.value),b[1]]),className:"flex-1"}),s.jsx("input",{type:"range",min:"0",max:"500",value:b[1],onChange:H=>j([b[0],Number(H.target.value)]),className:"flex-1"})]}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:[b[0]," - ",b[1]," sqm"]})]})]}),s.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-3 gap-3 mt-4 ${a?"dir-rtl":""}`,children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:a?"":"Rooms"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"range",min:"0",max:"6",value:N[0],onChange:H=>S([Number(H.target.value),N[1]]),className:"flex-1"}),s.jsx("input",{type:"range",min:"0",max:"6",value:N[1],onChange:H=>S([N[0],Number(H.target.value)]),className:"flex-1"})]}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:[N[0]," - ",N[1]]})]}),s.jsx("div",{className:"md:col-span-2 flex items-center justify-end",children:s.jsx("button",{className:"btn btn-glass",onClick:q,children:a?" ":"Clear Filters"})})]})]}),s.jsx("div",{className:"h-4"}),s.jsx("div",{className:"h-4"}),s.jsx("div",{className:"h-4"}),s.jsx("div",{className:"h-4"}),s.jsx("div",{className:"h-4"}),s.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:Q.map(H=>s.jsx($4e,{p:H,isRTL:a,onView:U,onEdit:()=>M(!0),onShare:()=>navigator?.share?navigator.share({title:H.name,text:H.description,url:window.location.href}):alert("Share not supported"),onDelete:()=>alert("Delete clicked")},H.id))}),s.jsx("div",{className:"h-4"}),s.jsxs("div",{className:`mt-4 flex items-center justify-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsx("button",{className:"btn btn-glass",onClick:()=>ce(H=>Math.max(1,H-1)),children:a?"":"Prev"}),s.jsxs("span",{className:"text-sm text-[var(--muted-text)]",children:[a?"":"Page"," ",X," / ",D]}),s.jsx("button",{className:"btn btn-glass",onClick:()=>ce(H=>Math.min(D,H+1)),children:a?"":"Next"})]}),k&&s.jsx(z4e,{onClose:()=>A(!1),isRTL:a,onImported:H=>console.log("Imported rows",H)}),_&&s.jsx(H4e,{onClose:()=>M(!1),isRTL:a,onSave:H=>console.log("New property",H)}),L&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>U(null)}),s.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[900px] max-w-[95vw]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:a?" ":"Property Details"}),s.jsx("button",{className:"btn btn-glass",onClick:()=>U(null),children:a?"":"Close"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[a?"":"Name",":"]})," ",s.jsx("span",{className:"font-semibold",children:L.name})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[a?"":"City",":"]})," ",s.jsx("span",{className:"font-semibold",children:L.city})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[a?"":"Developer",":"]})," ",s.jsx("span",{className:"font-semibold",children:L.developer})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[a?"":"Status",":"]})," ",s.jsx("span",{className:"font-semibold",children:L.status})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[a?"":"Units",":"]})," ",s.jsx("span",{className:"font-semibold",children:L.units})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[a?"":"Area",":"]})," ",s.jsxs("span",{className:"font-semibold",children:[L.area," sqm"]})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[a?"":"Price",":"]})," ",s.jsxs("span",{className:"font-semibold",children:["EGP ",L.price.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[a?" ":"Updated",":"]})," ",s.jsx("span",{className:"font-semibold",children:L.lastUpdated})]})]}),s.jsx("div",{className:"rounded-lg overflow-hidden h-48 md:h-full",children:s.jsx("img",{src:L.mainImage,alt:L.name,className:"w-full h-full object-cover"})})]})]})]})]})})}function hO(e){if(!e)return"-";try{return(typeof e=="string"?new Date(e):e).toLocaleDateString()}catch{return String(e)}}function W4e({request:e,isRTL:t=!1,onView:a,onEdit:r,onAssign:n,onApprove:i,onReject:l,onDelete:o,onExport:c}){if(!e)return null;const d=t?"rtl":"ltr",u=t?"justify-end":"justify-start";return s.jsxs("div",{dir:d,className:"bg-white dark:bg-gray-800 shadow rounded-lg p-4 flex flex-col gap-3 transition hover:shadow-md",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:["#",e.id]}),s.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-100",children:e.customerName})]}),s.jsxs("span",{className:"text-xs px-2 py-1 rounded border border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300",children:[e.type,"  ",e.priority]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Property / Unit"}),s.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:e.propertyUnit||"-"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Status"}),s.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:e.status})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Created"}),s.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:hO(e.createdAt)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Updated"}),s.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:hO(e.updatedAt)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Assigned To"}),s.jsxs("span",{className:"text-gray-800 dark:text-gray-100 flex items-center gap-1",children:[s.jsx(poe,{})," ",e.assignedTo||"-"]})]}),s.jsxs("div",{className:"flex flex-col col-span-2 md:col-span-3",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Notes"}),s.jsx("span",{className:"text-gray-800 dark:text-gray-100 line-clamp-2",children:e.description||e.notes||"-"})]})]}),s.jsxs("div",{className:`flex flex-wrap items-center gap-2 ${u}`,children:[s.jsx("button",{onClick:()=>a?.(e),className:"px-3 py-1 text-sm rounded bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100",children:"View"}),s.jsxs("button",{onClick:()=>r?.(e),className:"px-3 py-1 text-sm rounded bg-indigo-50 text-indigo-700 border border-indigo-200 hover:bg-indigo-100 flex items-center gap-1",children:[s.jsx(moe,{})," Edit"]}),s.jsx("button",{onClick:()=>n?.(e),className:"px-3 py-1 text-sm rounded bg-amber-50 text-amber-700 border border-amber-200 hover:bg-amber-100",children:"Assign"}),s.jsxs("button",{onClick:()=>i?.(e),className:"px-3 py-1 text-sm rounded bg-green-50 text-green-700 border border-green-200 hover:bg-green-100 flex items-center gap-1",children:[s.jsx(Gle,{})," Approve"]}),s.jsxs("button",{onClick:()=>l?.(e),className:"px-3 py-1 text-sm rounded bg-red-50 text-red-700 border border-red-200 hover:bg-red-100 flex items-center gap-1",children:[s.jsx(ru,{})," Reject"]}),s.jsxs("button",{onClick:()=>o?.(e),className:"px-3 py-1 text-sm rounded bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200 flex items-center gap-1",children:[s.jsx(sx,{})," Delete"]}),s.jsxs("button",{onClick:()=>c?.(e),className:"px-3 py-1 text-sm rounded bg-teal-50 text-teal-700 border border-teal-200 hover:bg-teal-100 flex items-center gap-1",children:[s.jsx(toe,{})," Export"]})]})]})}function q4e({requests:e=[],onFilterStatus:t,onFilterPriority:a,onFilterType:r,isRTL:n=!1}){const i=n?"rtl":"ltr",l=e.length,o=e.reduce((x,p)=>(x[p.status]=(x[p.status]||0)+1,x),{}),c=e.reduce((x,p)=>(x[p.priority]=(x[p.priority]||0)+1,x),{}),d=e.reduce((x,p)=>(x[p.type]=(x[p.type]||0)+1,x),{}),u=(o.Approved||0)+(o.Rejected||0),f=({label:x,value:p,onClick:v})=>s.jsxs("button",{onClick:v,className:"flex flex-col items-start bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded p-4 hover:shadow transition",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:x}),s.jsx("span",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:p})]});return s.jsxs("div",{dir:i,className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",children:[s.jsx(f,{label:"Total Requests",value:l}),s.jsx(f,{label:"Pending",value:o.Pending||0,onClick:()=>t?.("Pending")}),s.jsx(f,{label:"In Progress",value:o["In Progress"]||0,onClick:()=>t?.("In Progress")}),s.jsx(f,{label:"Approved",value:o.Approved||0,onClick:()=>t?.("Approved")}),s.jsx(f,{label:"Rejected",value:o.Rejected||0,onClick:()=>t?.("Rejected")}),s.jsx(f,{label:"Completed",value:u}),s.jsx(f,{label:"High Priority",value:c.High||0,onClick:()=>a?.("High")}),s.jsx(f,{label:"Medium Priority",value:c.Medium||0,onClick:()=>a?.("Medium")}),s.jsx(f,{label:"Low Priority",value:c.Low||0,onClick:()=>a?.("Low")}),s.jsx(f,{label:"Inquiry",value:d.Inquiry||0,onClick:()=>r?.("Inquiry")}),s.jsx(f,{label:"Maintenance",value:d.Maintenance||0,onClick:()=>r?.("Maintenance")}),s.jsx(f,{label:"Booking",value:d.Booking||0,onClick:()=>r?.("Booking")})]})}function G4e({open:e,onClose:t,onImport:a,isRTL:r=!1,currentUser:n="admin"}){const[i,l]=w.useState([]),[o,c]=w.useState([]),[d,u]=w.useState([]),f=r?"rtl":"ltr",x=w.useMemo(()=>["id","customerName","propertyUnit","status","priority","type","description","assignedTo","createdAt","updatedAt"],[]),p=w.useCallback((S,k="info")=>{u(A=>[{ts:new Date().toISOString(),level:k,message:S,user:n},...A])},[u,n]),v=S=>{const k=S.split(/\r?\n/).filter(Boolean);if(!k.length)return[];const A=k[0].split(",").map(M=>M.trim());return k.slice(1).map(M=>{const L=M.split(","),U={};return A.forEach((z,O)=>{U[z]=L[O]}),U})},g=async S=>{const k=Array.from(S||[]);l(k);for(const A of k)try{const _=A.name.toLowerCase().split(".").pop();if(_==="csv"){const M=await A.text(),L=v(M);c(L),p(`CSV parsed: ${A.name} (${L.length} rows)`,"success")}else if(_==="xlsx"||_==="xls"){const M=(await yi(async()=>{const{default:E}=await Promise.resolve().then(()=>PV);return{default:E}},void 0)).default,L=await A.arrayBuffer(),U=M.read(L,{type:"array"}),z=U.SheetNames[0],O=U.Sheets[z],B=M.utils.sheet_to_json(O);c(B),p(`XLSX parsed: ${A.name} (${B.length} rows)`,"success")}else p(`Unsupported file type: ${A.name}`,"error")}catch(_){console.error(_),p(`Failed to parse ${A.name}: ${_.message}`,"error")}},b=S=>{S.preventDefault(),S.stopPropagation(),g(S.dataTransfer.files)},j=()=>{if(!o.length){p("No rows to import","error"),alert("No rows to import");return}a?.(o),p(`Imported ${o.length} row(s)`,"success"),alert(`Imported ${o.length} row(s)`),t?.()},N=async S=>{const k=[x.join(","),""].join(`
`),A=new Blob([k],{type:"text/csv"}),_=URL.createObjectURL(A),M=document.createElement("a");M.href=_,M.download="requests_template.csv",M.click(),URL.revokeObjectURL(_),p(`Template downloaded (${S})`,"info")};return e?s.jsx("div",{dir:f,className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg w-[95vw] max-w-4xl p-4 flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Import Requests"}),s.jsx("button",{onClick:t,className:"px-3 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:"Close"})]}),s.jsxs("div",{onDrop:b,onDragOver:S=>{S.preventDefault(),S.stopPropagation()},className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded p-6 text-center text-gray-600 dark:text-gray-300",children:[s.jsx("p",{children:"Drag & drop CSV/XLSX files here, or click to select"}),s.jsx("input",{type:"file",multiple:!0,accept:".csv,.xlsx,.xls",onChange:S=>g(S.target.files),className:"mt-3"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>N("csv"),className:"px-3 py-1 rounded bg-blue-50 text-blue-700 border border-blue-200",children:"Download CSV Template"}),s.jsx("button",{onClick:()=>N("xlsx"),className:"px-3 py-1 rounded bg-indigo-50 text-indigo-700 border border-indigo-200",children:"Download XLSX Template"})]}),s.jsx("div",{className:"overflow-auto max-h-60 border border-gray-200 dark:border-gray-700 rounded",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsx("tr",{children:x.map(S=>s.jsx("th",{className:"px-2 py-1 text-left text-gray-700 dark:text-gray-200 border-b border-gray-200 dark:border-gray-700",children:S},S))})}),s.jsxs("tbody",{children:[o.slice(0,50).map((S,k)=>s.jsx("tr",{className:"odd:bg-white even:bg-gray-50 dark:odd:bg-gray-800 dark:even:bg-gray-700",children:x.map(A=>s.jsx("td",{className:"px-2 py-1 text-gray-800 dark:text-gray-100 border-b border-gray-200 dark:border-gray-700",children:S[A]},A))},k)),!o.length&&s.jsx("tr",{children:s.jsx("td",{colSpan:x.length,className:"px-2 py-6 text-center text-gray-500 dark:text-gray-400",children:"No data preview"})})]})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-xs max-h-28 overflow-auto border border-gray-200 dark:border-gray-700 rounded p-2 w-1/2",children:d.map((S,k)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-0.5 rounded ${S.level==="success"?"bg-green-50 text-green-700":S.level==="error"?"bg-red-50 text-red-700":"bg-gray-100 text-gray-700"}`,children:S.level}),s.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:S.ts}),s.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:S.user}),s.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:S.message})]},k))}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:j,className:"px-3 py-1 rounded bg-green-50 text-green-700 border border-green-200",children:"Import"}),s.jsx("button",{onClick:t,className:"px-3 py-1 rounded bg-gray-100 text-gray-700 border border-gray-200",children:"Cancel"})]})]})]})}):null}const fO=["Inquiry","Maintenance","Booking"],mO=["Low","Medium","High"],pO=["Pending","In Progress","Approved","Rejected"];function K4e({onFiles:e,label:t}){return s.jsxs("div",{onDrop:a=>{a.preventDefault(),e(Array.from(a.dataTransfer.files))},onDragOver:a=>a.preventDefault(),className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded p-4 text-center text-gray-600 dark:text-gray-300",children:[s.jsx("p",{children:t}),s.jsx("input",{type:"file",multiple:!0,onChange:a=>e(Array.from(a.target.files)),className:"mt-2"})]})}function Y4e({open:e,onClose:t,onSave:a,initial:r={},isRTL:n=!1}){const[i,l]=w.useState(r.type||fO[0]),[o,c]=w.useState(r.customerName||""),[d,u]=w.useState(r.propertyUnit||""),[f,x]=w.useState(r.priority||mO[1]),[p,v]=w.useState(r.status||pO[0]),[g,b]=w.useState(r.description||""),[j,N]=w.useState(r.assignedTo||""),[S,k]=w.useState([]),[A,_]=w.useState("basic"),M=n?"rtl":"ltr",L=w.useMemo(()=>o&&i&&f,[o,i,f]),U=()=>{if(!L){alert("Please fill required fields");return}const z={id:r.id||Math.floor(Math.random()*1e5),type:i,customerName:o,propertyUnit:d,priority:f,status:p,description:g,assignedTo:j,createdAt:r.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString(),attachments:S};a?.(z),alert("Request saved"),t?.()};return e?s.jsx("div",{dir:M,className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg w-[95vw] max-w-3xl p-4 flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:r.id?"Edit Request":"Create Request"}),s.jsx("button",{onClick:t,className:"px-3 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:"Close"})]}),s.jsx("div",{className:"flex items-center gap-2 border-b border-gray-200 dark:border-gray-700 pb-2",children:["basic","attachments","notes"].map(z=>s.jsx("button",{onClick:()=>_(z),className:`px-3 py-1 rounded ${A===z?"bg-gray-200 dark:bg-gray-700":"bg-gray-100 dark:bg-gray-800"} text-gray-800 dark:text-gray-100`,children:z},z))}),A==="basic"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Request Type"}),s.jsx("select",{value:i,onChange:z=>l(z.target.value),className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",children:fO.map(z=>s.jsx("option",{value:z,children:z},z))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Priority"}),s.jsx("select",{value:f,onChange:z=>x(z.target.value),className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",children:mO.map(z=>s.jsx("option",{value:z,children:z},z))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Status"}),s.jsx("select",{value:p,onChange:z=>v(z.target.value),className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",children:pO.map(z=>s.jsx("option",{value:z,children:z},z))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Assigned Staff"}),s.jsx("input",{value:j,onChange:z=>N(z.target.value),className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",placeholder:"e.g. John Doe"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Customer Name"}),s.jsx("input",{value:o,onChange:z=>c(z.target.value),className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",placeholder:"Customer Name"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Property / Unit"}),s.jsx("input",{value:d,onChange:z=>u(z.target.value),className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",placeholder:"Property or Unit"})]})]}),A==="attachments"&&s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(K4e,{label:"Drag & drop attachments or click to upload",onFiles:z=>k(O=>[...O,...z])}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[S.map((z,O)=>s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded p-2 text-sm flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:z.name}),s.jsx("button",{onClick:()=>k(B=>B.filter((E,R)=>R!==O)),className:"text-red-600",children:"Remove"})]},O)),!S.length&&s.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No attachments"})]})]}),A==="notes"&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Description / Notes"}),s.jsx("textarea",{value:g,onChange:z=>b(z.target.value),rows:5,className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",placeholder:"Enter description"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:U,disabled:!L,className:`px-3 py-1 rounded border ${L?"bg-green-50 text-green-700 border-green-200":"bg-gray-100 text-gray-500 border-gray-200 cursor-not-allowed"}`,children:"Save"}),s.jsx("button",{onClick:t,className:"px-3 py-1 rounded bg-gray-100 text-gray-700 border border-gray-200",children:"Cancel"})]})]})}):null}const X4e=[{id:1001,customerName:"Alice Johnson",propertyUnit:"Palm Residency A-12",status:"Pending",priority:"High",type:"Inquiry",createdAt:"2025-10-02",updatedAt:"2025-10-05",assignedTo:"John Doe",description:"Interested in 2BHK, need pricing details."},{id:1002,customerName:"Omar Ali",propertyUnit:"Green Villas V-7",status:"In Progress",priority:"Medium",type:"Maintenance",createdAt:"2025-10-01",updatedAt:"2025-10-06",assignedTo:"Sara Ahmed",description:"AC unit not cooling properly."},{id:1003,customerName:"Emily Clark",propertyUnit:"Blue Towers T-22",status:"Approved",priority:"Low",type:"Booking",createdAt:"2025-09-29",updatedAt:"2025-10-03",assignedTo:"Mark Spencer",description:"Booking confirmed for 1BR apartment."},{id:1004,customerName:"Khaled Mohamed",propertyUnit:"Sunset Apartments S-9",status:"Rejected",priority:"Low",type:"Inquiry",createdAt:"2025-10-03",updatedAt:"2025-10-04",assignedTo:"Nadia Karim",description:"Requested discount not applicable."},{id:1005,customerName:"Sara Ibrahim",propertyUnit:"Palm Residency A-08",status:"Pending",priority:"High",type:"Booking",createdAt:"2025-10-05",updatedAt:"2025-10-05",assignedTo:"John Doe",description:"Urgent booking inquiry for 3BR."}];function Q4e(){const{toggleTheme:e}=xl(),[t,a]=w.useState(!1),[r,n]=w.useState(!0),[i,l]=w.useState(""),[o,c]=w.useState([]),[d,u]=w.useState([]),[f,x]=w.useState([]),[p,v]=w.useState(""),[g,b]=w.useState(""),j=["Pending","In Progress","Approved","Rejected"],N=["Inquiry","Maintenance","Booking"],S=["Low","Medium","High"],k=(ie,le,Y)=>{const oe=ie.includes(Y)?ie.filter(xe=>xe!==Y):[...ie,Y];le(oe)},A=[...o.map(ie=>({label:ie,kind:"status"})),...d.map(ie=>({label:ie,kind:"type"})),...f.map(ie=>({label:ie,kind:"priority"})),...p?[{label:`From ${p}`,kind:"from"}]:[],...g?[{label:`To ${g}`,kind:"to"}]:[]],[_,M]=w.useState(!1),[L,U]=w.useState(!1),[z,O]=w.useState(X4e),B=w.useMemo(()=>z.filter(ie=>{const le=i.trim().toLowerCase(),Y=!le||String(ie.id).includes(le)||(ie.customerName||"").toLowerCase().includes(le)||(ie.propertyUnit||"").toLowerCase().includes(le)||(ie.status||"").toLowerCase().includes(le)||(ie.description||"").toLowerCase().includes(le),oe=!o.length||o.includes(ie.status),xe=!d.length||d.includes(ie.type),W=!f.length||f.includes(ie.priority),he=ie.createdAt?new Date(ie.createdAt).getTime():0,fe=!p||he>=new Date(p).getTime(),de=!g||he<=new Date(g).getTime();return Y&&oe&&xe&&W&&fe&&de}),[z,i,o,d,f,p,g]),[E,R]=w.useState(1),q=8,I=Math.max(1,Math.ceil(B.length/q)),G=w.useMemo(()=>B.slice((E-1)*q,E*q),[B,E]),re=()=>{l(""),c([]),u([]),x([]),v(""),b("")},te=ie=>c([ie]),X=ie=>x([ie]),ce=ie=>u([ie]),D=ie=>{O(le=>le.find(oe=>oe.id===ie.id)?le.map(oe=>oe.id===ie.id?ie:oe):[ie,...le])},Q=ie=>{const le=ie.map((Y,oe)=>({id:Number(Y.id)||1e4+oe,customerName:Y.customerName||Y.customer||"",propertyUnit:Y.propertyUnit||Y.property||"",status:Y.status||"Pending",priority:Y.priority||"Medium",type:Y.type||"Inquiry",description:Y.description||"",assignedTo:Y.assignedTo||"",createdAt:Y.createdAt||new Date().toISOString(),updatedAt:Y.updatedAt||new Date().toISOString()}));O(Y=>[...le,...Y])},H=async()=>{const ie=(await yi(async()=>{const{default:oe}=await Promise.resolve().then(()=>PV);return{default:oe}},void 0)).default,le=ie.utils.json_to_sheet(B),Y=ie.utils.book_new();ie.utils.book_append_sheet(Y,le,"Requests"),ie.writeFile(Y,"requests_export.xlsx")},J=async()=>{const ie=(await yi(async()=>{const{default:W}=await Promise.resolve().then(()=>Sw);return{default:W}},void 0)).default,le=(await yi(async()=>{const{default:W}=await Promise.resolve().then(()=>_w);return{default:W}},void 0)).default,Y=new ie,oe=[["ID","Customer","Property/Unit","Status","Priority","Type","Created","Updated"]],xe=B.map(W=>[W.id,W.customerName,W.propertyUnit,W.status,W.priority,W.type,W.createdAt,W.updatedAt]);le(Y,{head:oe,body:xe}),Y.save("requests_export.pdf")},ae=t?"rtl":"ltr";return s.jsxs("div",{dir:ae,className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Requests Dashboard"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>a(ie=>!ie),className:"px-3 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:t?"EN":"RTL"}),s.jsx("button",{onClick:e,className:"px-3 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:"Theme"}),s.jsx("button",{onClick:()=>U(!0),className:"px-3 py-1 rounded bg-indigo-50 text-indigo-700 border border-indigo-200",children:"Import"}),s.jsx("button",{onClick:()=>M(!0),className:"px-3 py-1 rounded bg-green-50 text-green-700 border border-green-200",children:"Create"})]})]}),s.jsx(q4e,{requests:z,onFilterStatus:te,onFilterPriority:X,onFilterType:ce,isRTL:t}),s.jsx("div",{className:"h-4"}),s.jsx("div",{className:"h-4"}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(rx,{className:"absolute left-3 top-3 text-gray-400"}),s.jsx("input",{value:i,onChange:ie=>l(ie.target.value),placeholder:"     ",className:"w-full rounded pl-9 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>n(ie=>!ie),className:"px-3 py-2 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[s.jsx(Z2,{})," ",r?" ":" "]}),s.jsxs("button",{onClick:H,className:"px-3 py-2 rounded bg-teal-50 text-teal-700 border border-teal-200 flex items-center gap-2",children:[s.jsx(YU,{}),"  Excel"]}),s.jsxs("button",{onClick:J,className:"px-3 py-2 rounded bg-pink-50 text-pink-700 border border-pink-200 flex items-center gap-2",children:[s.jsx(aoe,{}),"  PDF"]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[A.map((ie,le)=>s.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 text-sm",children:[ie.label,s.jsx("button",{onClick:()=>{ie.kind==="status"&&c(Y=>Y.filter(oe=>oe!==ie.label)),ie.kind==="type"&&u(Y=>Y.filter(oe=>oe!==ie.label)),ie.kind==="priority"&&x(Y=>Y.filter(oe=>oe!==ie.label)),ie.kind==="from"&&v(""),ie.kind==="to"&&b("")},className:"hover:text-red-600","aria-label":"Remove filter",children:s.jsx(ru,{})})]},le)),!A.length&&s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"   "})]}),r&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:""}),s.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(ie=>{const le=o.includes(ie);return s.jsx("button",{onClick:()=>k(o,c,ie),className:`px-3 py-1 rounded-full border ${le?"bg-blue-600 text-white border-blue-700":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:ie},ie)})})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:""}),s.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(ie=>{const le=d.includes(ie);return s.jsx("button",{onClick:()=>k(d,u,ie),className:`px-3 py-1 rounded-full border ${le?"bg-violet-600 text-white border-violet-700":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:ie},ie)})})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:""}),s.jsx("div",{className:"flex flex-wrap gap-2",children:S.map(ie=>{const le=f.includes(ie);return s.jsx("button",{onClick:()=>k(f,x,ie),className:`px-3 py-1 rounded-full border ${le?"bg-emerald-600 text-white border-emerald-700":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:ie},ie)})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-300",children:""}),s.jsx(W1,{className:"absolute left-3 bottom-3 text-gray-400"}),s.jsx("input",{type:"date",value:p,onChange:ie=>v(ie.target.value),className:"w-full rounded pl-9 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-300",children:""}),s.jsx(W1,{className:"absolute left-3 bottom-3 text-gray-400"}),s.jsx("input",{type:"date",value:g,onChange:ie=>b(ie.target.value),className:"w-full rounded pl-9 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"})]})]}),s.jsx("div",{className:"flex items-center justify-end",children:s.jsxs("button",{onClick:re,className:"px-3 py-2 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[s.jsx(ru,{}),"   "]})})]})]}),s.jsx("div",{className:"h-3"}),s.jsx("div",{className:"h-3"}),s.jsx("div",{className:"h-3"}),s.jsx("div",{className:"h-3"}),s.jsx("div",{className:"h-3"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[G.map(ie=>s.jsx(W4e,{request:ie,isRTL:t,onView:()=>alert(`View request ${ie.id}`),onEdit:()=>M(!0)||null,onAssign:()=>alert(`Assign request ${ie.id}`),onApprove:()=>O(le=>le.map(Y=>Y.id===ie.id?{...Y,status:"Approved",updatedAt:new Date().toISOString()}:Y)),onReject:()=>O(le=>le.map(Y=>Y.id===ie.id?{...Y,status:"Rejected",updatedAt:new Date().toISOString()}:Y)),onDelete:()=>O(le=>le.filter(Y=>Y.id!==ie.id)),onExport:async()=>{const le=(await yi(async()=>{const{default:he}=await Promise.resolve().then(()=>Sw);return{default:he}},void 0)).default,Y=(await yi(async()=>{const{default:he}=await Promise.resolve().then(()=>_w);return{default:he}},void 0)).default,oe=new le,xe=[["Field","Value"]],W=Object.entries(ie).map(([he,fe])=>[he,String(fe)]);Y(oe,{head:xe,body:W}),oe.save(`request_${ie.id}.pdf`)}},ie.id)),!G.length&&s.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No requests match filters."})]}),s.jsx("div",{className:"h-4"}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:()=>R(ie=>Math.max(1,ie-1)),className:"px-3 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:"Prev"}),s.jsxs("span",{className:"text-gray-700 dark:text-gray-200",children:["Page ",E," / ",I]}),s.jsx("button",{onClick:()=>R(ie=>Math.min(I,ie+1)),className:"px-3 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:"Next"})]}),s.jsx(Y4e,{open:_,onClose:()=>M(!1),onSave:D,isRTL:t}),s.jsx(G4e,{open:L,onClose:()=>U(!1),onImport:Q,isRTL:t})]})}function J4e(){return s.jsxs("div",{className:"p-4 bg-[var(--content-bg)] text-[var(--content-text)]",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Buyer Requests"}),s.jsx("p",{className:"mt-2 text-[var(--muted-text)]",children:"Inventory > Buyer Requests placeholder page."})]})}function Z4e(){return s.jsxs("div",{className:"p-4 bg-[var(--content-bg)] text-[var(--content-text)]",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Seller Requests"}),s.jsx("p",{className:"mt-2 text-[var(--muted-text)]",children:"Inventory > Seller Requests placeholder page."})]})}function e5e(){return s.jsx(ea,{children:s.jsxs("div",{className:"p-4 bg-[var(--content-bg)] text-[var(--content-text)]",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Dev Companies"}),s.jsx("p",{className:"mt-2 text-[var(--muted-text)]",children:"Inventory > Dev Companies placeholder page."})]})})}Nr.register(Cn,An,$n,rn,an);function t5e({channelsData:e,height:t=240}){const{t:a}=Et(),r=["Email","SMS","Social","Ads"],n=e?.values||[3200,1800,2400,1500],i=["#2563eb","#f59e0b","#22c55e","#8b5cf6"],o=typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",c={labels:r,datasets:[{label:a("Channel Performance"),data:n,backgroundColor:i,borderRadius:6,barThickness:24}]},d={responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{font:{size:12},color:o}},y:{grid:{display:!1},ticks:{font:{size:12},color:o}}},plugins:{legend:{display:!1}}};return s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-transparent bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text",children:a("Channel Performance")}),s.jsx("div",{style:{height:typeof t=="number"?`${t}px`:t},children:s.jsx(Ls,{data:c,options:d})}),s.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)] dark:text-blue-200",children:a("Last 30 Days")})]})}function a5e({isOpen:e,onClose:t,onCreate:a}){const{t:r,i18n:n}=Et(),i=(n.language||"").toLowerCase()==="ar",[l,o]=w.useState({name:"",channel:"Email",audience:"",startAt:"",endAt:"",budget:"",description:""}),c=u=>{const{name:f,value:x}=u.target;o(p=>({...p,[f]:x}))},d=u=>{u.preventDefault(),!(!l.name||!l.channel||!l.startAt)&&(a?.(l),t?.())};return e?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),s.jsxs("div",{className:"relative bg-white dark:bg-blue-900 rounded-lg shadow-xl w-full max-w-2xl mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-blue-700",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r("Create Campaign")}),s.jsx("button",{className:"text-gray-500 hover:text-gray-700 dark:text-gray-300",onClick:t,children:""})]}),s.jsxs("form",{onSubmit:d,className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:r("Campaign Name")}),s.jsx("input",{type:"text",name:"name",value:l.name,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white",placeholder:r("e.g., Summer Promo"),required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:r("Channel")}),s.jsxs("select",{name:"channel",value:l.channel,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white",required:!0,children:[s.jsx("option",{children:"Email"}),s.jsx("option",{children:"SMS"}),s.jsx("option",{children:"Social"}),s.jsx("option",{children:"Ads"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:r("Audience Segment")}),s.jsx("input",{type:"text",name:"audience",value:l.audience,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white",placeholder:r("e.g., New Leads in 30 days")})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:r("Start At")}),s.jsx("input",{type:"datetime-local",name:"startAt",value:l.startAt,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:r("End At")}),s.jsx("input",{type:"datetime-local",name:"endAt",value:l.endAt,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:r("Budget")}),s.jsx("input",{type:"number",name:"budget",value:l.budget,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white",placeholder:"0",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:r("Description")}),s.jsx("textarea",{name:"description",value:l.description,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white",rows:3,placeholder:r("Short description")})]}),s.jsxs("div",{className:`flex items-center justify-end gap-2 ${i?"flex-row-reverse":""}`,children:[s.jsx("button",{type:"button",className:"btn",onClick:t,children:r("Cancel")}),s.jsx("button",{type:"submit",className:"btn btn-primary",children:r("Create")})]})]})]})]}):null}Nr.register(Cn,An,pl,ai,rn,an);function r5e({series:e}){const{t}=Et(),a=e?.labels||["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=e?.values||[8,10,9,12,15,18,16,20,22,24,23,28],i=typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",l={labels:a,datasets:[{label:t("Reports"),data:r,borderColor:"#22c55e",backgroundColor:"rgba(34, 197, 94, 0.15)",tension:.35,pointRadius:3,pointBackgroundColor:"#22c55e",fill:!0}]},o={responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{color:i,font:{size:12}}},y:{grid:{display:!1},ticks:{color:i,font:{size:12}}}},plugins:{legend:{display:!1}}};return s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-transparent bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text",children:t("Reporting Over Time")}),s.jsx("div",{style:{height:"220px"},children:s.jsx(no,{data:l,options:o})})]})}function s5e(){const{t:e,i18n:t}=Et(),a=(t.language||"").toLowerCase()==="ar",[r,n]=w.useState(!1);e("On Track"),e("At Risk"),e("Paused");const i=18,l=25,o=3.2,c=3.7,d=[{id:"meta-1",title:"Meta Ads API",account:e("Account Linked")+": 105",status:e("Linked"),lastSync:"2h",btn:e("Configure")},{id:"meta-2",title:"Meta Ads API",account:e("Account Linked")+": 103",status:e("Linked"),lastSync:"2h",btn:e("Configure")},{id:"meta-3",title:"Meta Ads API",account:e("Account Linked")+": 102",status:e("Linked"),lastSync:"1h",btn:e("Configure")}],u=[{name:e("Summer Promo"),status:"SMS",spend:255,clicks:425,conversions:40,roi:"3.2x"},{name:e("Winback Series"),status:"SMS",spend:205,clicks:355,conversions:29,roi:"2.6x"},{name:e("Product Launch"),status:"SMS",spend:285,clicks:465,conversions:33,roi:"3.0x"},{name:e("Global Ad"),status:"SMS",spend:245,clicks:415,conversions:31,roi:"2.7x"}],f=[{platform:"Meta Ads",spend:886,impressions:6655,conversions:"26%"},{platform:"Google Ads",spend:906,impressions:6888,conversions:"29%"},{platform:"Email",spend:311,impressions:1777,conversions:"18%"},{platform:"SMS",spend:255,impressions:1555,conversions:"33%"}],x=L=>{console.log(" New Campaign Created:",L),n(!1)},[p,v]=w.useState(!1),[g,b]=w.useState(!1),j=async()=>{const L="http://localhost:8787";try{const U=await fetch(`${L}/api/gmail/labels`),z=await U.json();if(!U.ok)throw new Error(z.error||"labels_failed");const O=(z.labels||[]).map(B=>B.name).join(", ");alert(`Gmail Labels: ${O||"No labels"}`)}catch(U){console.error("Fetch Gmail labels failed:",U),alert(`  Labels  Gmail: ${U.message}`)}},N=async()=>{const L="http://localhost:8787";try{await fetch(`${L}/api/oauth/google/revoke`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:"gmail"})})}catch{}try{localStorage.removeItem("oauth_token_gmail"),localStorage.removeItem("oauth_redirect_uri_gmail")}catch{}b(!1),A(U=>U.map(z=>z.id==="gmail"?{...z,status:e("Disconnected"),connected:!1}:z))},S=async()=>{const L="http://localhost:8787";try{await fetch(`${L}/api/oauth/google/revoke`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:"ads"})})}catch{}try{localStorage.removeItem("oauth_token_ads"),localStorage.removeItem("oauth_redirect_uri_ads")}catch{}v(!1),A(U=>U.map(z=>z.id==="google-ads"?{...z,status:e("Disconnected"),connected:!1}:z))},[k,A]=w.useState([{id:"meta",name:"Meta",icon:w5,bg:"bg-[#1877F2]",status:e("Connected"),connected:!0},{id:"mailchimp",name:"MailChimp",icon:j5,bg:"bg-amber-500",status:e("Connected"),connected:!0},{id:"whatsapp",name:"WhatsApp",icon:Zu,bg:"bg-green-500",status:e("Connected"),connected:!0},{id:"gmail",name:"Gmail",icon:My,bg:"bg-[#DB4437]",status:e("Disconnected"),connected:!1},{id:"google-ads",name:"Google Ads",icon:My,bg:"bg-red-500",status:e("Disconnected"),connected:!1}]),_=()=>{const L="502667518650-9q9le5f8qrqu1nmolb980ohta8grsd7c.apps.googleusercontent.com",z="http://localhost:5176/crm-ibrahim/",O=encodeURIComponent("https://www.googleapis.com/auth/adwords"),B=`ads:${Math.random().toString(36).slice(2)}`;try{localStorage.setItem("oauth_redirect_uri_ads",z)}catch{}console.log("[oauth] start Google Ads",{clientId:L?.slice(0,12)+"...",redirectUri:z});const E=`https://accounts.google.com/o/oauth2/v2/auth?client_id=${L}&redirect_uri=${encodeURIComponent(z)}&response_type=code&scope=${O}&access_type=offline&prompt=consent&include_granted_scopes=true&state=${B}`;window.location.href=E},M=()=>{const L="502667518650-9q9le5f8qrqu1nmolb980ohta8grsd7c.apps.googleusercontent.com",z="http://localhost:5176/crm-ibrahim/",O=encodeURIComponent("https://www.googleapis.com/auth/gmail.readonly"),B=`gmail:${Math.random().toString(36).slice(2)}`;try{localStorage.setItem("oauth_redirect_uri_gmail",z)}catch{}console.log("[oauth] start Gmail",{clientId:L?.slice(0,12)+"...",redirectUri:z});const E=`https://accounts.google.com/o/oauth2/v2/auth?client_id=${L}&redirect_uri=${encodeURIComponent(z)}&response_type=code&scope=${O}&access_type=offline&prompt=consent&include_granted_scopes=true&state=${B}`;window.location.href=E};return w.useEffect(()=>{(async()=>{const U=new URLSearchParams(window.location.search),z=U.get("code"),O=U.get("state")||"";if(!z)return;const B="http://localhost:8787";try{if(O.startsWith("gmail:")&&!g){const E=localStorage.getItem("oauth_redirect_uri_gmail"),R=E||"http://localhost:5176/crm-ibrahim/";console.log("[oauth] exchange Gmail",{redirectUri:R,hasStored:!!E});const q=await fetch(`${B}/api/oauth/google/exchange`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:z,redirectUri:R,provider:"gmail"})}),I=await q.json();if(!q.ok){const G=I?.message||I?.error||"gmail_exchange_failed",re=I?.details&&(I.details.error_description||I.details.error)||"";console.error("OAuth exchange failed (gmail):",I),alert(`  Gmail: ${G}${re?"  "+re:""}`);return}try{localStorage.setItem("oauth_token_gmail",JSON.stringify(I.token||I))}catch{}b(!0),A(G=>G.map(re=>re.id==="gmail"?{...re,status:e("Connected"),connected:!0}:re))}else if(O.startsWith("ads:")&&!p){const E=localStorage.getItem("oauth_redirect_uri_ads"),R=E||"http://localhost:5176/crm-ibrahim/";console.log("[oauth] exchange Google Ads",{redirectUri:R,hasStored:!!E});const q=await fetch(`${B}/api/oauth/google/exchange`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:z,redirectUri:R,provider:"ads"})}),I=await q.json();if(!q.ok){const G=I?.message||I?.error||"ads_exchange_failed",re=I?.details&&(I.details.error_description||I.details.error)||"";console.error("OAuth exchange failed (ads):",I),alert(`  Google Ads: ${G}${re?"  "+re:""}`);return}try{localStorage.setItem("oauth_token_ads",JSON.stringify(I.token||I))}catch{}v(!0),A(G=>G.map(re=>re.id==="google-ads"?{...re,status:e("Connected"),connected:!0}:re))}}catch(E){console.error("OAuth exchange failed:",E),alert(`  ${O.startsWith("gmail:")?"Gmail":"Google Ads"}: ${E.message}`)}finally{const E=window.location.origin+"/besouhoula/"+window.location.hash;window.history.replaceState({},document.title,E)}})()},[p,g,e]),s.jsxs(ea,{children:[s.jsxs("div",{className:"space-y-6 bg-[var(--content-bg)] text-[var(--content-text)] overflow-x-hidden overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:e("Marketing Modules (Enhanced)")}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:e("Welcome, Super Admin!")})]}),s.jsx("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:s.jsx("button",{className:"btn btn-primary",onClick:()=>n(!0),children:e("Create Campaign")})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4",children:[s.jsxs("section",{className:"card glass-card p-4 lg:col-span-3",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Overview")}),s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx(Zn,{percentage:80,centerValue:i,centerLabel:`${e("Total Active Campaigns")}:`,centerLabelPosition:"above",subLabel:e("Last 30 Days"),size:200,primaryColor:"#2dd4bf",secondaryColor:"#475569",cutout:"60%",spacing:0,borderRadius:12,centerValueClass:"text-4xl font-bold",centerLabelClass:"text-xs text-[var(--muted-text)] mb-1",subLabelClass:"text-[10px] text-[var(--muted-text)] mt-0.5",innerTrack:!0,innerTrackRadius:"92%",innerTrackCutout:"86%",innerTrackColor:"#3f4a5a"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[s.jsx("div",{className:"px-3 py-1 rounded-lg border border-[var(--panel-border)] bg-[var(--panel-bg)] text-xs text-[var(--muted-text)]",children:e("Avg Open Rate")}),s.jsx("div",{className:"px-3 py-1 rounded-lg border border-[var(--panel-border)] bg-[var(--panel-bg)] text-xs text-[var(--muted-text)]",children:e("Avg Click Rate")})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-baseline justify-between",children:[s.jsx("span",{className:"text-xs text-[var(--muted-text)]",children:e("Avg Open Rate")}),s.jsxs("div",{className:"flex items-baseline gap-8",children:[s.jsxs("span",{className:"text-xl font-bold",children:[l,"%"]}),s.jsxs("span",{className:"text-xl font-bold",children:[o,"%"]})]})]}),s.jsxs("div",{className:"flex items-baseline justify-between",children:[s.jsx("span",{className:"text-xs text-[var(--muted-text)]",children:e("Conversion Rate")}),s.jsxs("div",{className:"flex items-baseline gap-8",children:[s.jsxs("span",{className:"text-xl font-bold",children:[c,"%"]}),s.jsxs("span",{className:"text-xl font-bold",children:[c,"%"]})]})]})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-3",children:[d.map(L=>s.jsxs("section",{className:"card glass-card p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-semibold",children:L.title}),s.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-200",children:L.status})]}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)] mb-3",children:[L.account,"  ",e("Last Sync"),": ",L.lastSync]}),s.jsx("button",{className:"btn btn-secondary w-full h-9 text-sm",children:L.btn})]},L.id)),s.jsx("section",{className:"card glass-card p-3",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-around",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-xl bg-[#1877F2]",children:w5&&s.jsx(w5,{className:"text-white w-4 h-4"})}),s.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-xl bg-red-500",children:My&&s.jsx(My,{className:"text-white w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-center justify-around",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-xl bg-amber-500",children:j5&&s.jsx(j5,{className:"text-white w-4 h-4"})}),s.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-xl bg-green-500",children:Zu&&s.jsx(Zu,{className:"text-white w-4 h-4"})})]})]})})]})]}),s.jsx("div",{className:"border-t border-[var(--panel-border)] my-2 md:my-3"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 items-stretch",children:[s.jsxs("div",{className:"flex flex-col h-full gap-4",children:[s.jsxs("section",{className:"card glass-card p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Top Active Campaigns Dashboard")}),s.jsx(t5e,{height:180})]}),s.jsxs("section",{className:"card glass-card p-4 h-[300px] overflow-hidden flex flex-col",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Campaign Management Last 30 Days")}),s.jsx("div",{className:"overflow-auto -mx-4 flex-1",children:s.jsxs("table",{className:"nova-table w-full text-sm min-w-[520px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"py-2 px-4",children:e("Campaign Name")}),s.jsx("th",{className:"py-2 px-4",children:e("Status")}),s.jsx("th",{className:"py-2 px-4",children:e("Spend")}),s.jsx("th",{className:"py-2 px-4",children:e("Clicks")}),s.jsx("th",{className:"py-2 px-4",children:e("Conversions")}),s.jsx("th",{className:"py-2 px-4",children:"ROI"})]})}),s.jsx("tbody",{className:"text-gray-800 dark:text-gray-100",children:u.map((L,U)=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-800",children:[s.jsx("td",{className:"py-2 px-4",children:L.name}),s.jsx("td",{className:"py-2 px-4",children:L.status}),s.jsx("td",{className:"py-2 px-4",children:L.spend}),s.jsx("td",{className:"py-2 px-4",children:L.clicks}),s.jsx("td",{className:"py-2 px-4",children:L.conversions}),s.jsx("td",{className:"py-2 px-4",children:L.roi})]},U))})]})})]})]}),s.jsxs("div",{className:"flex flex-col h-full gap-4",children:[s.jsxs("section",{className:"card glass-card p-4 flex-1 min-h-0 overflow-hidden",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Cross-Channel Performance")}),s.jsx("div",{className:"overflow-auto -mx-4",children:s.jsxs("table",{className:"nova-table w-full text-sm min-w-[420px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"py-2 px-4",children:e("Platform")}),s.jsx("th",{className:"py-2 px-4",children:e("Spend")}),s.jsx("th",{className:"py-2 px-4",children:e("Impressions")}),s.jsx("th",{className:"py-2 px-4",children:e("Conversions")})]})}),s.jsx("tbody",{className:"text-gray-800 dark:text-gray-100",children:f.map((L,U)=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-800",children:[s.jsx("td",{className:"py-2 px-4",children:L.platform}),s.jsx("td",{className:"py-2 px-4",children:L.spend}),s.jsx("td",{className:"py-2 px-4",children:L.impressions}),s.jsx("td",{className:"py-2 px-4",children:L.conversions})]},U))})]})})]}),s.jsxs("section",{className:"card glass-card p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Automation & Rules")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsx("div",{className:"p-3 rounded border border-[var(--panel-border)] bg-[var(--panel-bg)] text-sm text-[var(--muted-text)]",children:e("Pause Google Ads campaign if CPA exceeds 3x")}),s.jsxs("button",{className:"btn btn-outline",children:["+ ",e("Create Automation Rule")]})]})]}),s.jsx("section",{className:"card glass-card p-4",children:s.jsxs("div",{className:`flex items-center justify-between gap-3 ${a?"flex-row-reverse":""}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:"btn btn-primary",onClick:()=>n(!0),children:["+ ",e("Create New Campaign")]}),s.jsx("button",{className:"btn btn-secondary",children:e("Edit")}),s.jsx("button",{className:"btn btn-outline",children:e("View")})]}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:["Increase Google budget exceeds 10%  ",e("Create Automation Rule")]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsx("section",{className:"card glass-card p-4",children:s.jsx(r5e,{})}),s.jsxs("section",{className:"card glass-card p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Integration Status")}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:k.map(L=>s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded border border-[var(--panel-border)] bg-[var(--panel-bg)]",children:[s.jsx("span",{className:`inline-flex items-center justify-center w-8 h-8 rounded-lg ${L.bg}`,children:L.icon&&L.icon({className:"text-white w-4 h-4"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:L.name}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:L.status})]}),s.jsx("span",{className:`w-2 h-2 rounded-full ${L.connected?"bg-emerald-500":"bg-red-500"}`}),L.id==="google-ads"&&!L.connected&&s.jsx("button",{className:"btn btn-primary btn-sm",onClick:_,children:e("Connect")}),L.id==="google-ads"&&L.connected&&s.jsx("button",{className:"btn btn-outline btn-sm",onClick:S,children:e("Disconnect")}),L.id==="gmail"&&!L.connected&&s.jsx("button",{className:"btn btn-primary btn-sm",onClick:M,children:e("Connect")}),L.id==="gmail"&&L.connected&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:j,children:e("Fetch")}),s.jsx("button",{className:"btn btn-outline btn-sm",onClick:N,children:e("Disconnect")})]})]},L.id))})]})]})]}),s.jsx(a5e,{isOpen:r,onClose:()=>n(!1),onCreate:x})]})}/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5e=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i5e=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,r)=>r?r.toUpperCase():a.toLowerCase()),xO=e=>{const t=i5e(e);return t.charAt(0).toUpperCase()+t.slice(1)},xq=(...e)=>e.filter((t,a,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===a).join(" ").trim(),l5e=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o5e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5e=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:n="",children:i,iconNode:l,...o},c)=>w.createElement("svg",{ref:c,...o5e,width:t,height:t,stroke:e,strokeWidth:r?Number(a)*24/Number(t):a,className:xq("lucide",n),...!i&&!l5e(o)&&{"aria-hidden":"true"},...o},[...l.map(([d,u])=>w.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5e=(e,t)=>{const a=w.forwardRef(({className:r,...n},i)=>w.createElement(c5e,{ref:i,iconNode:t,className:xq(`lucide-${n5e(xO(e))}`,`lucide-${e}`,r),...n}));return a.displayName=xO(e),a};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5e=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],h5e=d5e("upload",u5e),f5e=()=>{const[e,t]=w.useState({name:"Acme Inc.",logo:"",address:"123 Nile St, Cairo",phone:"+201000000000",email:"info@acme.com",description:"Leading CRM company",currency:"EGP",timezone:"Africa/Cairo"}),a=(r,n)=>t(i=>({...i,[r]:n}));return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Company Name"}),s.jsx("input",{value:e.name,onChange:r=>a("name",r.target.value),className:"input-soft w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Phone"}),s.jsx("input",{value:e.phone,onChange:r=>a("phone",r.target.value),className:"input-soft w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Email"}),s.jsx("input",{type:"email",value:e.email,onChange:r=>a("email",r.target.value),className:"input-soft w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Address"}),s.jsx("input",{value:e.address,onChange:r=>a("address",r.target.value),className:"input-soft w-full"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:"Description"}),s.jsx("textarea",{value:e.description,onChange:r=>a("description",r.target.value),className:"input-soft w-full",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Currency"}),s.jsxs("select",{value:e.currency,onChange:r=>a("currency",r.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"EGP",children:"EGP"}),s.jsx("option",{value:"USD",children:"USD"}),s.jsx("option",{value:"EUR",children:"EUR"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Timezone"}),s.jsx("input",{value:e.timezone,onChange:r=>a("timezone",r.target.value),className:"input-soft w-full"})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{className:"btn btn-primary",children:"Save"})})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Logo"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-24 h-24 rounded-xl bg-gray-200 dark:bg-gray-700 overflow-hidden",children:e.logo?s.jsx("img",{src:e.logo,alt:"logo",className:"w-full h-full object-contain"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:"LOGO"})}),s.jsxs("label",{className:"btn btn-glass inline-flex items-center gap-2 cursor-pointer",children:[s.jsx(h5e,{className:"w-4 h-4"}),s.jsx("span",{children:"Upload"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:r=>{const n=r.target.files?.[0];if(!n)return;const i=new FileReader;i.onload=()=>a("logo",i.result),i.readAsDataURL(n)}})]})]})]})]}),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Preview"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-200 dark:bg-gray-700 overflow-hidden",children:e.logo?s.jsx("img",{src:e.logo,alt:"logo"}):null}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:e.name}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.email})]})]}),s.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:e.address}),s.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:e.phone}),s.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:e.description}),s.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:["Currency: ",e.currency]}),s.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:["Timezone: ",e.timezone]})]})]})})]})};Nr.register(Cn,An,pl,ai,$n,rn,an);const m5e=e=>{switch(e){case"Active":return"bg-green-100 text-green-700 border-green-200";case"Pending":return"bg-amber-100 text-amber-700 border-amber-200";case"Expired":return"bg-gray-200 text-gray-700 border-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600";case"Cancelled":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},p5e=({status:e})=>s.jsx("span",{className:`px-2 py-1 text-xs rounded-full border ${m5e(e)}`,children:e}),x5e=()=>{const[e,t]=w.useState([{id:"SUB-001",customer:"Acme Corp",plan:"Pro",start:"2025-01-01",end:"2026-01-01",status:"Active"},{id:"SUB-002",customer:"Globex LLC",plan:"Basic",start:"2025-06-01",end:"2025-12-01",status:"Pending"},{id:"SUB-003",customer:"Soylent Inc",plan:"Enterprise",start:"2024-01-01",end:"2025-01-01",status:"Expired"},{id:"SUB-004",customer:"Umbrella Co",plan:"Pro",start:"2025-02-15",end:"2026-02-15",status:"Cancelled"}]),[a,r]=w.useState(""),[n,i]=w.useState("All"),[l,o]=w.useState("All"),[c,d]=w.useState({address:"Building 12, Business Park, Cairo",method:"Credit Card",taxId:"EG-123456789",cardLast4:"4242"}),[u,f]=w.useState([{id:"INV-1001",amount:49,currency:"USD",date:"2025-10-01",status:"Paid"},{id:"INV-1002",amount:49,currency:"USD",date:"2025-11-01",status:"Paid"},{id:"INV-1003",amount:49,currency:"USD",date:"2025-12-01",status:"Unpaid"},{id:"INV-1004",amount:49,currency:"USD",date:"2026-01-01",status:"Overdue"}]),[x,p]=w.useState("All"),[v,g]=w.useState(""),[b,j]=w.useState(!1),[N,S]=w.useState(!1),[k,A]=w.useState(null),_=w.useMemo(()=>e.filter(H=>(n==="All"||H.plan===n)&&(l==="All"||H.status===l)&&(!a||H.customer.toLowerCase().includes(a.toLowerCase()))),[e,n,l,a]),M=w.useMemo(()=>u.filter(H=>(x==="All"||H.status===x)&&(!v||H.date.startsWith(v))),[u,x,v]),L=w.useMemo(()=>{const H=u.filter(ie=>ie.status==="Paid").reduce((ie,le)=>ie+le.amount,0),J=e.filter(ie=>ie.status==="Active").length,ae=e.filter(ie=>ie.status==="Expired").length;return{totalRevenue:H,active:J,expired:ae}},[u,e]),U={Basic:19,Pro:49,Enterprise:99},[z,O]=w.useState(6),[B,E]=w.useState(!1),[R,q]=w.useState("line"),I=w.useMemo(()=>{const H=e.filter(oe=>oe.status==="Active"),J=H.reduce((oe,xe)=>oe+(U[xe.plan]||0),0),ae=H.length?Math.round(J/H.length*100)/100:0,ie=e.filter(oe=>oe.status==="Cancelled").length,le=H.length+ie?Math.round(ie/(H.length+ie)*1e3)/10:0,Y=u.filter(oe=>oe.status==="Overdue").length;return{mrr:J,arpu:ae,churnRate:le,overdueInvoices:Y}},[e,u]),G=w.useMemo(()=>{const H=new Date,J=new Date(H);J.setMonth(H.getMonth()-(z-1));const ae=Ee=>`${Ee.getFullYear()}-${String(Ee.getMonth()+1).padStart(2,"0")}`,ie=Ee=>Ee.toLocaleString(void 0,{month:"short"})+" "+String(Ee.getFullYear()).slice(2),le={},Y={},oe=[],xe=new Date(J);for(;xe<=H;){const Ee=ae(xe);le[Ee]=0,Y[Ee]=0,oe.push(ie(xe)),xe.setMonth(xe.getMonth()+1)}u.forEach(Ee=>{const se=new Date(Ee.date);if(se>=J&&se<=H){const _e=ae(se);Ee.status==="Paid"&&le[_e]!==void 0&&(le[_e]+=Ee.amount),Ee.status==="Unpaid"&&Y[_e]!==void 0&&(Y[_e]+=Ee.amount)}});const W=Object.keys(le).map(Ee=>le[Ee]),he=Object.keys(Y).map(Ee=>Y[Ee]),fe=W.reduce((Ee,se)=>Ee+se,0),de=W[W.length-1]||0,Oe=W[W.length-2]||0,Fe=Oe?Math.round((de-Oe)/Oe*1e3)/10:0;return{labels:oe,paidValues:W,unpaidValues:he,total:fe,last:de,mom:Fe}},[u,z,B]),re=H=>{A(H),j(!0)},te=H=>{A(H),S(!0)},X=H=>{t(J=>J.map(ae=>ae.id===H.id?H:ae)),j(!1)},ce=()=>{k&&(t(H=>H.map(J=>J.id===k.id?{...J,status:"Cancelled"}:J)),S(!1))},D=()=>{const H=`INV-${String(1e3+u.length+1)}`;f(J=>[{id:H,amount:49,currency:"USD",date:new Date().toISOString().slice(0,10),status:"Unpaid"},...J])},Q=()=>{alert("Payment info updated")};return s.jsxs("div",{className:"space-y-0",children:[s.jsxs("div",{className:"glass-panel rounded-2xl p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Active Subscriptions"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{value:a,onChange:H=>r(H.target.value),placeholder:"Search by customer",className:"input-soft w-[180px]"}),s.jsx("select",{value:n,onChange:H=>i(H.target.value),className:"input-soft",children:["All","Basic","Pro","Enterprise"].map(H=>s.jsx("option",{value:H,children:H},H))}),s.jsx("select",{value:l,onChange:H=>o(H.target.value),className:"input-soft",children:["All","Active","Pending","Expired","Cancelled"].map(H=>s.jsx("option",{value:H,children:H},H))})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"separate",borderSpacing:"0 12px"},children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"px-4 py-3",children:"Customer Name"}),s.jsx("th",{className:"px-4 py-3",children:"Plan"}),s.jsx("th",{className:"px-4 py-3",children:"Start Date"}),s.jsx("th",{className:"px-4 py-3",children:"End Date"}),s.jsx("th",{className:"px-4 py-3",children:"Status"}),s.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),s.jsx("tbody",{children:_.map(H=>s.jsxs("tr",{className:"rounded-lg bg-white/40 dark:bg-gray-800/40",children:[s.jsx("td",{className:"px-4 py-3",children:H.customer}),s.jsx("td",{className:"px-4 py-3",children:H.plan}),s.jsx("td",{className:"px-4 py-3",children:H.start}),s.jsx("td",{className:"px-4 py-3",children:H.end}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(p5e,{status:H.status})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"px-3 py-1 rounded-lg bg-white/60 dark:bg-gray-800/60 border hover:bg-white",onClick:()=>re(H),title:"Edit",children:" Edit"}),s.jsx("button",{className:"px-3 py-1 rounded-lg bg-white/60 dark:bg-gray-800/60 border hover:bg-white",onClick:()=>te(H),title:"Cancel",children:" Cancel"})]})})]},H.id))})]})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-4 md:p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Billing Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:"Customer Billing Address"}),s.jsx("textarea",{value:c.address,onChange:H=>d({...c,address:H.target.value}),className:"input-soft w-full h-[90px]"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:"Payment Method"}),s.jsx("select",{value:c.method,onChange:H=>d({...c,method:H.target.value}),className:"input-soft w-full",children:["Credit Card","PayPal"].map(H=>s.jsx("option",{value:H,children:H},H))}),c.method==="Credit Card"&&s.jsxs("div",{className:"mt-2 text-sm text-[var(--muted-text)]",children:["Card ending in ",c.cardLast4]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:"Tax Info"}),s.jsx("input",{value:c.taxId,onChange:H=>d({...c,taxId:H.target.value}),className:"input-soft w-full"})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700",onClick:Q,children:"Update Payment Info"})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Invoices & Payments"}),s.jsx("button",{className:"px-4 py-2 rounded-lg bg-indigo-600 text-white shadow hover:bg-indigo-700",onClick:D,children:"Generate New Invoice"})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("select",{value:x,onChange:H=>p(H.target.value),className:"input-soft",children:["All","Paid","Unpaid","Overdue"].map(H=>s.jsx("option",{value:H,children:H},H))}),s.jsx("input",{type:"month",value:v,onChange:H=>g(H.target.value),className:"input-soft"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"separate",borderSpacing:"0 12px"},children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"px-4 py-3",children:"Invoice Number"}),s.jsx("th",{className:"px-4 py-3",children:"Date"}),s.jsx("th",{className:"px-4 py-3",children:"Amount"}),s.jsx("th",{className:"px-4 py-3",children:"Status"}),s.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),s.jsx("tbody",{children:M.map(H=>s.jsxs("tr",{className:"rounded-lg bg-white/40 dark:bg-gray-800/40",children:[s.jsx("td",{className:"px-4 py-3",children:H.id}),s.jsx("td",{className:"px-4 py-3",children:H.date}),s.jsxs("td",{className:"px-4 py-3",children:[H.amount," ",H.currency]}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`px-2 py-1 text-xs rounded-full border ${H.status==="Paid"?"bg-green-100 text-green-700 border-green-200":H.status==="Unpaid"?"bg-amber-100 text-amber-700 border-amber-200":"bg-red-100 text-red-700 border-red-200"}`,children:H.status})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("button",{className:"px-3 py-1 rounded-lg bg-white/60 dark:bg-gray-800/60 border hover:bg-white",title:"Download",children:" Download PDF"})})]},H.id))})]})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{name:"Basic",price:"$19/mo",duration:"Monthly",features:["Up to 3 users","Email support","Basic reports"]},{name:"Pro",price:"$49/mo",duration:"Monthly",features:["Up to 10 users","Priority support","Advanced analytics"]},{name:"Enterprise",price:"Custom",duration:"Annual",features:["Unlimited users","Dedicated manager","Custom integrations"]}].map((H,J)=>s.jsxs("div",{className:"glass-panel rounded-2xl p-6 hover:shadow-xl transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-lg font-semibold",children:H.name}),s.jsx("span",{children:""})]}),s.jsx("div",{className:"text-2xl font-bold mb-1",children:H.price}),s.jsx("div",{className:"text-sm text-[var(--muted-text)] mb-3",children:H.duration}),s.jsx("ul",{className:"text-sm space-y-1 mb-4",children:H.features.map((ae,ie)=>s.jsxs("li",{children:[" ",ae]},ie))}),s.jsx("button",{className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700",children:"Upgrade Plan"})]},J))}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Reports & Analytics"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("select",{className:"input-soft",value:z,onChange:H=>O(Number(H.target.value)),children:[6,12,24].map(H=>s.jsxs("option",{value:H,children:["Last ",H," months"]},H))}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:B,onChange:H=>E(H.target.checked)}),"Include Unpaid"]}),s.jsxs("div",{className:"rounded-lg border bg-white/60 dark:bg-gray-800/60 overflow-hidden",children:[s.jsx("button",{"aria-pressed":R==="line",className:`px-3 py-1 text-sm border-r border-gray-300 dark:border-gray-700 ${R==="line"?"bg-blue-600 text-white":"text-[var(--text-muted)]"}`,onClick:()=>q("line"),children:"Line"}),s.jsx("button",{"aria-pressed":R==="bar",className:`px-3 py-1 text-sm ${R==="bar"?"bg-blue-600 text-white":"text-[var(--text-muted)]"}`,onClick:()=>q("bar"),children:"Bar"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"Total Revenue (Paid)"}),s.jsxs("div",{className:"text-2xl font-bold",children:["$",L.totalRevenue]})]}),s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"MRR (Active)"}),s.jsxs("div",{className:"text-2xl font-bold",children:["$",I.mrr]})]}),s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"ARPU"}),s.jsxs("div",{className:"text-2xl font-bold",children:["$",I.arpu]})]}),s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"Churn Rate"}),s.jsxs("div",{className:"text-2xl font-bold",children:[I.churnRate,"%"]})]})]}),R==="line"?s.jsx("div",{className:"h-64 w-full",children:s.jsx(no,{options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:B},tooltip:{mode:"index",intersect:!1}},scales:{x:{grid:{display:!1},ticks:{color:"#94a3b8",font:{size:12}}},y:{grid:{color:"rgba(255,255,255,0.08)"},ticks:{color:"#94a3b8",font:{size:12}}}}},data:{labels:G.labels,datasets:[{label:"Paid",data:G.paidValues,borderColor:"#3B82F6",backgroundColor:"rgba(59,130,246,0.25)",tension:.3,pointRadius:2,fill:!0},...B?[{label:"Unpaid",data:G.unpaidValues,borderColor:"#f59e0b",backgroundColor:"rgba(245,158,11,0.25)",tension:.3,pointRadius:2,fill:!0}]:[]]}})}):s.jsx("div",{className:"h-64 w-full",children:s.jsx(Ls,{options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:B},tooltip:{mode:"index",intersect:!1}},scales:{x:{grid:{display:!1},ticks:{color:"#94a3b8",font:{size:12}}},y:{grid:{color:"rgba(255,255,255,0.08)"},ticks:{color:"#94a3b8",font:{size:12}}}}},data:{labels:G.labels,datasets:[{label:"Paid",data:G.paidValues,backgroundColor:"rgba(59,130,246,0.6)",borderRadius:8},...B?[{label:"Unpaid",data:G.unpaidValues,backgroundColor:"rgba(245,158,11,0.6)",borderRadius:8}]:[]]}})}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-3",children:["Period Total: ",s.jsxs("span",{className:"font-semibold",children:["$",G.total]})]}),s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-3",children:["Last Month: ",s.jsxs("span",{className:"font-semibold",children:["$",G.last]})]}),s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-3",children:["MoM Change: ",s.jsxs("span",{className:`font-semibold ${G.mom>=0?"text-green-500":"text-red-500"}`,children:[G.mom,"%"]})]})]})]}),b&&k&&s.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>j(!1)}),s.jsx("div",{className:"relative z-[1001] w-[92vw] max-w-[520px]",children:s.jsxs("div",{className:"glass-panel rounded-2xl p-6 space-y-3",children:[s.jsx("h4",{className:"text-lg font-semibold",children:"Edit Subscription"}),s.jsx("input",{className:"input-soft w-full",value:k.customer,onChange:H=>A({...k,customer:H.target.value})}),s.jsx("select",{className:"input-soft w-full",value:k.plan,onChange:H=>A({...k,plan:H.target.value}),children:["Basic","Pro","Enterprise"].map(H=>s.jsx("option",{value:H,children:H},H))}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"px-3 py-2 rounded-lg border bg-white/60 dark:bg-gray-800/60",onClick:()=>j(!1),children:"Cancel"}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-blue-600 text-white",onClick:()=>X(k),children:"Save"})]})]})})]}),N&&k&&s.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>S(!1)}),s.jsx("div",{className:"relative z-[1001] w-[92vw] max-w-[520px]",children:s.jsxs("div",{className:"glass-panel rounded-2xl p-6 space-y-3",children:[s.jsx("h4",{className:"text-lg font-semibold",children:"Confirm Cancellation"}),s.jsxs("p",{className:"text-sm text-[var(--muted-text)]",children:["Cancel subscription for ",k.customer,"? This action can be reverted by re-activating later."]}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"px-3 py-2 rounded-lg border bg-white/60 dark:bg-gray-800/60",onClick:()=>S(!1),children:"Close"}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-red-600 text-white",onClick:ce,children:"Confirm Cancel"})]})]})})]})]})},jC=[{key:"core",name:"Core CRM",modules:[{key:"dashboard",label:"Dashboard",route:"/dashboard",icon:""},{key:"customers",label:"Customers",route:"/customers",icon:""},{key:"leads",label:"Leads",route:"/leads",icon:""},{key:"projects",label:"Projects",route:"/projects",icon:""},{key:"properties",label:"Properties",route:"/properties",icon:""},{key:"requests",label:"Requests",route:"/requests",icon:""},{key:"buyerRequests",label:"Buyer Requests",route:"/buyer-requests",icon:""},{key:"sellerRequests",label:"Seller Requests",route:"/seller-requests",icon:""},{key:"developers",label:"Developers",route:"/dev-companies",icon:""},{key:"recycle",label:"Recycle Bin",route:"/recycle",icon:""},{key:"contact",label:"Contact Us",route:"/contact",icon:""}]},{key:"marketing",name:"Marketing",modules:[{key:"marketing",label:"Marketing",route:"/marketing",icon:""},{key:"campaigns",label:"Campaigns",route:"/campaigns",icon:""},{key:"landingPages",label:"Landing Pages",route:"/landing-pages",icon:""},{key:"metaIntegration",label:"Meta Integration",route:"/meta-integration",icon:""},{key:"mktReports",label:"Marketing Reports",route:"/marketing/reports",icon:""}]},{key:"inventory",name:"Inventory",modules:[{key:"products",label:"Products",route:"/inventory/products",icon:""},{key:"items",label:"Items",route:"/inventory/items",icon:""},{key:"suppliers",label:"Suppliers",route:"/inventory/suppliers",icon:""},{key:"warehouse",label:"Warehouse",route:"/inventory/warehouse",icon:""},{key:"stockManagement",label:"Stock Management",route:"/inventory/stock-management",icon:""},{key:"inventoryTransactions",label:"Inventory Transactions",route:"/inventory/transactions",icon:""}]},{key:"reports",name:"Reports",modules:[{key:"reportsDashboard",label:"Reports Dashboard",route:"/reports",icon:""},{key:"leadsReport",label:"Leads Report",route:"/reports/leads",icon:""},{key:"teamPerformance",label:"Team Performance",route:"/reports/team",icon:""},{key:"meetingsReport",label:"Meetings Report",route:"/reports/sales/meetings",icon:""},{key:"exportsReport",label:"Exports Report",route:"/exports",icon:""},{key:"importsReport",label:"Imports Report",route:"/imports",icon:""},{key:"campaignSummary",label:"Campaign Summary",route:"/campaign-summary",icon:""},{key:"leadSourcePerf",label:"Lead Source Performance",route:"/lead-source-performance",icon:""},{key:"costVsRevenue",label:"Cost vs Revenue",route:"/cost-vs-revenue",icon:""},{key:"monthlyMarketingOverview",label:"Monthly Marketing Overview",route:"/monthly-marketing-overview",icon:""}]},{key:"settings",name:"Settings & Extensions",modules:[{key:"settingsProfile",label:"Profile Settings",route:"/settings/profile",icon:""},{key:"settingsCompany",label:"Company Settings",route:"/settings/company",icon:""},{key:"settingsUsers",label:"Users & Roles",route:"/settings/users",icon:""},{key:"settingsNotifications",label:"Notifications Settings",route:"/settings/notifications",icon:""},{key:"settingsBilling",label:"Billing & Subscription",route:"/settings/billing",icon:""},{key:"settingsModules",label:"Modules Settings",route:"/settings/modules",icon:""},{key:"settingsSystem",label:"System Preferences",route:"/settings/system",icon:""},{key:"settingsSecurity",label:"Security Settings",route:"/settings/security",icon:""},{key:"settingsSms",label:"SMS Settings",route:"/settings/sms",icon:""},{key:"settingsSmsTemplates",label:"SMS Templates",route:"/settings/sms-templates",icon:""},{key:"settingsEmail",label:"Email Settings",route:"/settings/email",icon:""},{key:"settingsWhatsApp",label:"WhatsApp Settings",route:"/settings/whatsapp",icon:""},{key:"settingsSocialMedia",label:"Social Media Settings",route:"/settings/social-media",icon:""},{key:"settingsContactInfo",label:"Contact Info Settings",route:"/settings/contact-info",icon:""},{key:"settingsScripting",label:"Scripting",route:"/settings/scripting",icon:""},{key:"settingsEoi",label:"EOI Settings",route:"/settings/eoi",icon:""},{key:"settingsReservations",label:"Reservation Settings",route:"/settings/reservations",icon:""},{key:"settingsRotation",label:"Rotation Settings",route:"/settings/rotation",icon:""},{key:"settingsContracts",label:"Contracts Settings",route:"/settings/contracts",icon:""},{key:"settingsConfiguration",label:"Configuration",route:"/settings/configuration",icon:""},{key:"settingsBuyerReset",label:"Buyer Request Reset",route:"/settings/buyer-request-reset",icon:""},{key:"settingsMatching",label:"Matching",route:"/settings/matching",icon:""},{key:"settingsRent",label:"Rent Configuration",route:"/settings/rent",icon:""},{key:"settingsCil",label:"CIL Settings",route:"/settings/cil",icon:""}]}],r3=jC.flatMap(e=>e.modules.map(t=>t.key)),g5e=()=>{const[e,t]=w.useState(""),[a,r]=w.useState(()=>{try{const u=typeof window<"u"?window.localStorage.getItem("enabledModules"):null;if(u)return JSON.parse(u)}catch{}const d={};return r3.forEach(u=>{d[u]=!0}),d}),n=d=>r(u=>({...u,[d]:!u[d]})),i=()=>r(d=>{const u={...d};return r3.forEach(f=>{u[f]=!0}),u}),l=()=>r(d=>{const u={...d};return r3.forEach(f=>{u[f]=!1}),u}),o=()=>{try{typeof window<"u"&&window.localStorage.setItem("enabledModules",JSON.stringify(a))}catch{}alert("Modules settings saved")},c=w.useMemo(()=>{const d=e.trim().toLowerCase();return d?jC.map(u=>({...u,modules:u.modules.filter(f=>f.label.toLowerCase().includes(d))})).filter(u=>u.modules.length>0):jC},[e]);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"glass-panel rounded-2xl p-4 md:p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Modules"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{value:e,onChange:d=>t(d.target.value),placeholder:"Search modules",className:"input-soft w-[220px]"}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",onClick:i,children:"Enable All"}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-gray-700 text-white hover:bg-gray-800",onClick:l,children:"Disable All"}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700",onClick:o,children:"Save"})]})]})}),c.map(d=>s.jsxs("div",{className:"glass-panel rounded-2xl p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"text-md font-semibold",children:d.name}),s.jsxs("span",{className:"text-xs text-[var(--muted-text)]",children:[d.modules.filter(u=>a[u.key]).length,"/",d.modules.length," enabled"]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:d.modules.map(u=>s.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border bg-white/60 dark:bg-gray-800/60",children:[s.jsx("input",{type:"checkbox",checked:!!a[u.key],onChange:()=>n(u.key)}),s.jsx("span",{className:"text-lg","aria-hidden":"true",children:u.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:u.label}),u.route&&s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:u.route})]})]},u.key))})]},d.key))]})},s3={theme:"auto",language:"ar",direction:"auto",timezone:"Africa/Cairo",dateFormat:"DD/MM/YYYY",timeFormat:"24h",currency:"EGP",numberFormat:"1,234.56",units:"sqm",density:"comfortable",animations:!0,sidebarExpanded:!0,notificationsSound:!0,chartsStyle:"line",chartsRounded:!0,chartsStacked:!1},v5e=()=>{const{t:e,i18n:t}=Et(),[a,r]=w.useState(()=>{try{const u=typeof window<"u"?window.localStorage.getItem("systemPrefs"):null;if(u)return{...s3,...JSON.parse(u)}}catch{}return s3}),n=(u,f)=>r(x=>({...x,[u]:f})),i=u=>{const f=document.documentElement,x=u==="dark"||u==="auto"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;f.classList.toggle("dark",!!x)},l=(u,f)=>{const x=document.documentElement,p=u==="auto"?f==="ar"?"rtl":"ltr":u;x.setAttribute("dir",p)};w.useEffect(()=>{try{a.language&&t?.changeLanguage&&t.changeLanguage(a.language)}catch{}i(a.theme),l(a.direction,a.language);const u=document.documentElement;u.classList.remove("density-compact","density-comfortable"),u.classList.add(a.density==="compact"?"density-compact":"density-comfortable")},[a.theme,a.direction,a.language,a.density]);const o=()=>{try{window.localStorage.setItem("systemPrefs",JSON.stringify(a))}catch{}},c=()=>{r(s3);try{window.localStorage.removeItem("systemPrefs")}catch{}},d=u=>s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("div",{className:"text-sm font-semibold text-[var(--content-text)]",children:u})]});return s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("System Preferences")}),d(e("Appearance")),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Theme")}),s.jsxs("select",{value:a.theme,onChange:u=>n("theme",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"auto",children:e("Auto")}),s.jsx("option",{value:"light",children:e("Light")}),s.jsx("option",{value:"dark",children:e("Dark")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Density")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:()=>n("density","compact"),className:`px-3 py-2 rounded-lg border ${a.density==="compact"?"bg-blue-50 border-blue-300 text-blue-700 dark:bg-blue-900/30 dark:border-blue-700":"bg-white/80 dark:bg-gray-800/70"}`,children:e("Compact")}),s.jsx("button",{type:"button",onClick:()=>n("density","comfortable"),className:`px-3 py-2 rounded-lg border ${a.density==="comfortable"?"bg-blue-50 border-blue-300 text-blue-700 dark:bg-blue-900/30 dark:border-blue-700":"bg-white/80 dark:bg-gray-800/70"}`,children:e("Comfortable")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Animations")}),s.jsxs("label",{className:"inline-flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",className:"sr-only",checked:a.animations,onChange:u=>n("animations",u.target.checked)}),s.jsx("span",{className:`w-10 h-5 flex items-center bg-gray-300 dark:bg-gray-700 rounded-full p-1 ${a.animations?"justify-end":"justify-start"}`,children:s.jsx("span",{className:`w-4 h-4 rounded-full bg-white transition ${a.animations?"shadow-[0_0_0_2px_rgba(59,130,246,0.6)]":""}`})}),s.jsx("span",{className:"text-sm",children:a.animations?e("Enabled"):e("Disabled")})]})]})]}),s.jsx("div",{className:"h-4"}),d(e("Language & Region")),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Language")}),s.jsxs("select",{value:a.language,onChange:u=>n("language",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"ar",children:e("Arabic")}),s.jsx("option",{value:"en",children:e("English")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Layout Direction")}),s.jsxs("select",{value:a.direction,onChange:u=>n("direction",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"auto",children:e("Auto")}),s.jsx("option",{value:"ltr",children:"LTR"}),s.jsx("option",{value:"rtl",children:"RTL"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Time Zone")}),s.jsxs("select",{value:a.timezone,onChange:u=>n("timezone",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"Africa/Cairo",children:"Africa/Cairo"}),s.jsx("option",{value:"Asia/Riyadh",children:"Asia/Riyadh"}),s.jsx("option",{value:"Europe/London",children:"Europe/London"}),s.jsx("option",{value:"UTC",children:"UTC"})]})]})]}),s.jsx("div",{className:"h-4"}),d(e("Formatting")),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Date Format")}),s.jsxs("select",{value:a.dateFormat,onChange:u=>n("dateFormat",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),s.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),s.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Time Format")}),s.jsxs("select",{value:a.timeFormat,onChange:u=>n("timeFormat",u.target.value),className:"input-soft w-full",children:[s.jsxs("option",{value:"24h",children:["24 ",e("Hours")]}),s.jsxs("option",{value:"12h",children:["12 ",e("Hours")]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Currency")}),s.jsxs("select",{value:a.currency,onChange:u=>n("currency",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"EGP",children:"EGP"}),s.jsx("option",{value:"USD",children:"USD"}),s.jsx("option",{value:"EUR",children:"EUR"}),s.jsx("option",{value:"SAR",children:"SAR"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Number Format")}),s.jsxs("select",{value:a.numberFormat,onChange:u=>n("numberFormat",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"1,234.56",children:"1,234.56"}),s.jsx("option",{value:"1.234,56",children:"1.234,56"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Units")}),s.jsxs("select",{value:a.units,onChange:u=>n("units",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"sqm",children:"m"}),s.jsx("option",{value:"sqft",children:"ft"})]})]})]}),s.jsx("div",{className:"h-4"}),d(e("Interface")),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Sidebar Expanded on Start")}),s.jsxs("label",{className:"inline-flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",className:"sr-only",checked:a.sidebarExpanded,onChange:u=>n("sidebarExpanded",u.target.checked)}),s.jsx("span",{className:`w-10 h-5 flex items-center bg-gray-300 dark:bg-gray-700 rounded-full p-1 ${a.sidebarExpanded?"justify-end":"justify-start"}`,children:s.jsx("span",{className:`w-4 h-4 rounded-full bg-white transition ${a.sidebarExpanded?"shadow-[0_0_0_2px_rgba(59,130,246,0.6)]":""}`})}),s.jsx("span",{className:"text-sm",children:a.sidebarExpanded?e("Enabled"):e("Disabled")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Notification Sound")}),s.jsxs("label",{className:"inline-flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",className:"sr-only",checked:a.notificationsSound,onChange:u=>n("notificationsSound",u.target.checked)}),s.jsx("span",{className:`w-10 h-5 flex items-center bg-gray-300 dark:bg-gray-700 rounded-full p-1 ${a.notificationsSound?"justify-end":"justify-start"}`,children:s.jsx("span",{className:`w-4 h-4 rounded-full bg-white transition ${a.notificationsSound?"shadow-[0_0_0_2px_rgba(59,130,246,0.6)]":""}`})}),s.jsx("span",{className:"text-sm",children:a.notificationsSound?e("Enabled"):e("Disabled")})]})]})]}),s.jsx("div",{className:"h-4"}),d(e("Charts")),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Default Chart Type")}),s.jsxs("select",{value:a.chartsStyle,onChange:u=>n("chartsStyle",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"line",children:e("Line")}),s.jsx("option",{value:"bar",children:e("Bar")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Rounded Corners")}),s.jsxs("label",{className:"inline-flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",className:"sr-only",checked:a.chartsRounded,onChange:u=>n("chartsRounded",u.target.checked)}),s.jsx("span",{className:`w-10 h-5 flex items-center bg-gray-300 dark:bg-gray-700 rounded-full p-1 ${a.chartsRounded?"justify-end":"justify-start"}`,children:s.jsx("span",{className:`w-4 h-4 rounded-full bg-white transition ${a.chartsRounded?"shadow-[0_0_0_2px_rgba(59,130,246,0.6)]":""}`})}),s.jsx("span",{className:"text-sm",children:a.chartsRounded?e("Enabled"):e("Disabled")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Stacked Bars")}),s.jsxs("label",{className:"inline-flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",className:"sr-only",checked:a.chartsStacked,onChange:u=>n("chartsStacked",u.target.checked)}),s.jsx("span",{className:`w-10 h-5 flex items-center bg-gray-300 dark:bg-gray-700 rounded-full p-1 ${a.chartsStacked?"justify-end":"justify-start"}`,children:s.jsx("span",{className:`w-4 h-4 rounded-full bg-white transition ${a.chartsStacked?"shadow-[0_0_0_2px_rgba(59,130,246,0.6)]":""}`})}),s.jsx("span",{className:"text-sm",children:a.chartsStacked?e("Enabled"):e("Disabled")})]})]})]}),s.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[s.jsx("button",{className:"btn btn-primary",onClick:o,children:e("Save Preferences")}),s.jsx("button",{className:"btn btn-soft",onClick:c,children:e("Reset to Defaults")})]})]})})},n3=({open:e,title:t,children:a,onClose:r,onConfirm:n,confirmText:i="Confirm"})=>{const{t:l}=Et();return e?s.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:r}),s.jsx("div",{className:"relative z-[1001] w-[92vw] max-w-[560px]",children:s.jsxs("div",{className:"glass-panel rounded-2xl shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"px-5 py-4 border-b border-white/20 dark:border-gray-700 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:t}),s.jsx("button",{className:"btn btn-glass",onClick:r,children:""})]}),s.jsx("div",{className:"p-5 space-y-4",children:a}),s.jsxs("div",{className:"px-5 py-4 border-t border-white/20 dark:border-gray-700 flex items-center justify-end gap-3",children:[s.jsx("button",{className:"btn btn-glass",onClick:r,children:l("common.cancel")}),s.jsx("button",{className:"btn btn-primary",onClick:n,children:i})]})]})})]}):null},b5e=()=>{const{t:e}=Et(),[t,a]=w.useState(""),[r,n]=w.useState(""),[i,l]=w.useState(""),[o,c]=w.useState(!0),[d,u]=w.useState("email"),[f,x]=w.useState(!1),[p,v]=w.useState({email:!0,sms:!0,app:!0});w.useEffect(()=>{if(!p[d]){const Oe=p.email?"email":p.sms?"sms":p.app?"app":"email";u(Oe)}},[p,d]),w.useEffect(()=>{try{const Oe=window.localStorage.getItem("securitySettings");if(Oe){const Fe=JSON.parse(Oe);typeof Fe.twoFactor=="boolean"&&c(Fe.twoFactor),Fe.twoFactorMethod&&u(Fe.twoFactorMethod),Fe.available2fa&&v(Fe.available2fa)}}catch{}},[]);const g=w.useMemo(()=>{let Oe=0;return r.length>=8&&Oe++,/[A-Z]/.test(r)&&Oe++,/[a-z]/.test(r)&&Oe++,/[0-9]/.test(r)&&Oe++,/[^A-Za-z0-9]/.test(r)&&Oe++,Oe},[r]),[b]=w.useState([{name:"Admin"},{name:"Sales"}]),[j,N]=w.useState({viewCustomers:!0,editCustomers:!1,manageUsers:!1,viewBilling:!0}),[S,k]=w.useState(!1),[A,_]=w.useState([{id:1,device:"Windows PC",location:"Cairo, EG",lastActive:"2025-11-10 12:33"},{id:2,device:"iPhone 15",location:"Giza, EG",lastActive:"2025-11-11 08:21"}]),[M,L]=w.useState(null),[U,z]=w.useState(!0),[O,B]=w.useState(!0),[E,R]=w.useState(!0),[q,I]=w.useState("email"),[G,re]=w.useState(8),[te,X]=w.useState(!0),[ce,D]=w.useState(!0),[Q,H]=w.useState(!0),[J,ae]=w.useState(!1),[ie,le]=w.useState(5),[Y,oe]=w.useState(!0),[xe,W]=w.useState([{id:"a1",action:"Password Change",by:"John Doe",at:"2025-11-10 09:20"},{id:"a2",action:"2FA Enabled",by:"John Doe",at:"2025-11-10 09:25"},{id:"a3",action:"Permissions Updated",by:"Admin",at:"2025-11-11 15:12"}]),he=()=>{const Oe={twoFactor:o,twoFactorMethod:d,available2fa:p,notifications:{notifNewDevice:U,notifPwdChange:O,notifFailedLogins:E,notifMethod:q},policies:{minLength:G,reqUpper:te,reqLower:ce,reqNumber:Q,reqSpecial:J,failedLimit:ie,temporaryLockout:Y}};try{window.localStorage.setItem("securitySettings",JSON.stringify(Oe))}catch{}},fe=()=>{M&&(_(Oe=>Oe.filter(Fe=>Fe.id!==M.id)),L(null))},de=()=>{_([])};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"xl:col-span-2",children:[s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:e("security.passwordAuth")}),s.jsx("button",{className:"btn btn-primary",onClick:he,children:e("security.save")})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("security.currentPassword")}),s.jsx("input",{type:"password",className:"input-soft w-full",placeholder:e("security.currentPassword"),value:t,onChange:Oe=>a(Oe.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("security.newPassword")}),s.jsx("input",{type:"password",className:"input-soft w-full",placeholder:e("security.newPassword"),value:r,onChange:Oe=>n(Oe.target.value)}),s.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded overflow-hidden mt-2",children:s.jsx("div",{className:`h-2 transition-all ${g<=2?"bg-red-500":g===3?"bg-yellow-500":"bg-emerald-500"}`,style:{width:`${g/5*100}%`}})})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:e("security.confirmPassword")}),s.jsx("input",{type:"password",className:"input-soft w-full",placeholder:e("security.confirmPassword"),value:i,onChange:Oe=>l(Oe.target.value)}),i&&i!==r&&s.jsx("div",{className:"text-xs text-rose-600 mt-1",children:e("security.passwordMismatch")})]})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-sm",children:e("security.twoFactor")}),s.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"hidden",checked:o,onChange:Oe=>c(Oe.target.checked)}),s.jsx("span",{className:`w-10 h-6 rounded-full p-1 ${o?"bg-emerald-500":"bg-gray-400"} transition-all`,children:s.jsx("span",{className:`block w-4 h-4 bg-white rounded-full transition-transform ${o?"translate-x-4":"translate-x-0"}`})})]})]}),!o&&s.jsx("div",{className:"md:col-span-2 p-3 rounded-lg border bg-white/70 dark:bg-gray-800/70",children:s.jsx("div",{className:"text-sm",children:e("security.enableNotice")})}),o&&s.jsxs("div",{className:"p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("div",{className:"text-sm mb-2",children:e("security.defaultMethod")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"twofactor",disabled:!p.email,checked:d==="email",onChange:()=>u("email")})," ",e("security.emailOtp")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"twofactor",disabled:!p.sms,checked:d==="sms",onChange:()=>u("sms")})," ",e("security.sms")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"twofactor",disabled:!p.app,checked:d==="app",onChange:()=>u("app")})," ",e("security.app")]})]})]}),o&&s.jsxs("div",{className:"p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("div",{className:"text-sm mb-2",children:e("security.enableMethods")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:p.email,onChange:Oe=>v(Fe=>({...Fe,email:Oe.target.checked}))})," ",e("security.emailOtp")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:p.sms,onChange:Oe=>v(Fe=>({...Fe,sms:Oe.target.checked}))})," ",e("security.sms")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:p.app,onChange:Oe=>v(Fe=>({...Fe,app:Oe.target.checked}))})," ",e("security.app")]})]}),s.jsx("div",{className:"text-xs text-[var(--muted-text)] mt-1",children:e("security.enableNotice")})]}),s.jsx("div",{className:"md:col-span-3 flex items-center justify-end",children:s.jsx("button",{className:"btn btn-primary",disabled:!o,onClick:()=>x(!0),children:e("security.setup2fa")})})]})]}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsx("div",{className:"glass-panel rounded-2xl overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:e("security.accountAccess")}),s.jsx("button",{className:"btn btn-glass",onClick:()=>k(!0),children:e("security.editPermissions")})]}),s.jsx("div",{className:"mb-4 flex flex-wrap gap-2",children:b.map(Oe=>s.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-50 text-blue-700 dark:bg-gray-800 dark:text-blue-400 border border-blue-100 dark:border-gray-700 text-xs",children:Oe.name},Oe.name))}),s.jsx("div",{className:"text-sm font-medium mb-2",children:e("security.activeSessions")}),s.jsxs("table",{className:"w-full table-auto text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[s.jsx("th",{className:"px-4 py-3 text-left",children:e("security.device")}),s.jsx("th",{className:"px-4 py-3 text-left",children:e("security.location")}),s.jsx("th",{className:"px-4 py-3 text-left",children:e("security.lastActive")}),s.jsx("th",{className:"px-4 py-3 text-left",children:e("security.action")})]})}),s.jsx("tbody",{children:A.length===0?s.jsx("tr",{children:s.jsx("td",{className:"px-4 py-4 text-center text-gray-500",colSpan:4,children:e("security.noSessions")})}):A.map(Oe=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[s.jsx("td",{className:"px-4 py-2",children:Oe.device}),s.jsx("td",{className:"px-4 py-2",children:Oe.location}),s.jsx("td",{className:"px-4 py-2",children:Oe.lastActive}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>L(Oe),children:e("security.logout")})})]},Oe.id))})]}),s.jsx("div",{className:"mt-3 flex items-center justify-end",children:s.jsx("button",{className:"btn btn-danger",onClick:de,children:e("security.logoutAll")})})]})}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("security.securityNotifications")}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-sm",children:e("security.loginNewDevice")}),s.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"hidden",checked:U,onChange:Oe=>z(Oe.target.checked)}),s.jsx("span",{className:`w-10 h-6 rounded-full p-1 ${U?"bg-emerald-500":"bg-gray-400"} transition-all`,children:s.jsx("span",{className:`block w-4 h-4 bg-white rounded-full transition-transform ${U?"translate-x-4":"translate-x-0"}`})})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-sm",children:e("security.passwordChange")}),s.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"hidden",checked:O,onChange:Oe=>B(Oe.target.checked)}),s.jsx("span",{className:`w-10 h-6 rounded-full p-1 ${O?"bg-emerald-500":"bg-gray-400"} transition-all`,children:s.jsx("span",{className:`block w-4 h-4 bg-white rounded-full transition-transform ${O?"translate-x-4":"translate-x-0"}`})})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-sm",children:e("security.failedLogins")}),s.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"hidden",checked:E,onChange:Oe=>R(Oe.target.checked)}),s.jsx("span",{className:`w-10 h-6 rounded-full p-1 ${E?"bg-emerald-500":"bg-gray-400"} transition-all`,children:s.jsx("span",{className:`block w-4 h-4 bg-white rounded-full transition-transform ${E?"translate-x-4":"translate-x-0"}`})})]})]}),s.jsxs("div",{className:"p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("div",{className:"text-sm mb-2",children:e("security.notificationMethod")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"notif",checked:q==="email",onChange:()=>I("email")})," Email"]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"notif",checked:q==="sms",onChange:()=>I("sms")})," ",e("security.sms")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"notif",checked:q==="push",onChange:()=>I("push")})," ",e("security.push")]})]})]})]})]}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("security.policies")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("security.minLength")}),s.jsx("input",{type:"number",min:4,className:"input-soft w-full",value:G,onChange:Oe=>re(Number(Oe.target.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("security.failedLimit")}),s.jsx("input",{type:"number",min:1,className:"input-soft w-full",value:ie,onChange:Oe=>le(Number(Oe.target.value))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{className:"space-y-2 p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("div",{className:"text-sm font-medium",children:e("security.charReq")}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:te,onChange:Oe=>X(Oe.target.checked)})," ",e("security.upper")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:ce,onChange:Oe=>D(Oe.target.checked)})," ",e("security.lower")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:Q,onChange:Oe=>H(Oe.target.checked)})," ",e("security.number")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:J,onChange:Oe=>ae(Oe.target.checked)})," ",e("security.special")]})]}),s.jsxs("div",{className:"space-y-2 p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("div",{className:"text-sm font-medium",children:e("security.lockoutPolicy")}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:Y,onChange:Oe=>oe(Oe.target.checked)})," ",e("security.tempLockout")]}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("security.lockoutNote")})]})]})]})]}),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("security.auditLogs")}),s.jsx("div",{className:"space-y-2",children:xe.map(Oe=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80 hover:shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"w-8 h-8 rounded-md bg-blue-50 text-blue-700 dark:bg-gray-700 dark:text-blue-400 flex items-center justify-center",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium",children:Oe.action}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:Oe.at})]})]}),s.jsx("div",{className:"text-xs",children:Oe.by})]},Oe.id))})]})})]}),s.jsx(n3,{open:f,title:e("security.modal.setupTitle"),onClose:()=>x(!1),onConfirm:()=>{x(!1),c(!0),W(Oe=>[{id:Math.random().toString(36).slice(2),action:"2FA Setup",by:"You",at:new Date().toLocaleString()},...Oe])},confirmText:e("security.setup2fa"),children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm",children:e("security.modal.setupHelp")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"twofactor-modal",checked:d==="email",onChange:()=>u("email")})," ",e("security.emailOtp")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"twofactor-modal",checked:d==="sms",onChange:()=>u("sms")})," ",e("security.sms")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"twofactor-modal",checked:d==="app",onChange:()=>u("app")})," ",e("security.app")]})]})]})}),s.jsx(n3,{open:!!M,title:e("security.modal.logoutTitle"),onClose:()=>L(null),onConfirm:fe,confirmText:e("security.logout"),children:s.jsx("div",{className:"text-sm",children:e("security.modal.logoutDesc")})}),s.jsx(n3,{open:S,title:e("security.modal.editPermsTitle"),onClose:()=>k(!1),onConfirm:()=>{k(!1),W(Oe=>[{id:Math.random().toString(36).slice(2),action:"Permissions Updated",by:"You",at:new Date().toLocaleString()},...Oe])},confirmText:e("common.save"),children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:j.viewCustomers,onChange:Oe=>N(Fe=>({...Fe,viewCustomers:Oe.target.checked}))})," ",e("security.perms.viewCustomers")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:j.editCustomers,onChange:Oe=>N(Fe=>({...Fe,editCustomers:Oe.target.checked}))})," ",e("security.perms.editCustomers")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:j.manageUsers,onChange:Oe=>N(Fe=>({...Fe,manageUsers:Oe.target.checked}))})," ",e("security.perms.manageUsers")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:j.viewBilling,onChange:Oe=>N(Fe=>({...Fe,viewBilling:Oe.target.checked}))})," ",e("security.perms.viewBilling")]})]})})]})};function Vr(e){"@babel/helpers - typeof";return Vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vr(e)}var ud=Uint8Array,Po=Uint16Array,I_=Int32Array,B_=new ud([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$_=new ud([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),gO=new ud([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gq=function(e,t){for(var a=new Po(31),r=0;r<31;++r)a[r]=t+=1<<e[r-1];for(var n=new I_(a[30]),r=1;r<30;++r)for(var i=a[r];i<a[r+1];++i)n[i]=i-a[r]<<5|r;return{b:a,r:n}},vq=gq(B_,2),y5e=vq.b,NC=vq.r;y5e[28]=258,NC[258]=28;var w5e=gq($_,0),vO=w5e.r,SC=new Po(32768);for(var fs=0;fs<32768;++fs){var uf=(fs&43690)>>1|(fs&21845)<<1;uf=(uf&52428)>>2|(uf&13107)<<2,uf=(uf&61680)>>4|(uf&3855)<<4,SC[fs]=((uf&65280)>>8|(uf&255)<<8)>>1}var C1=(function(e,t,a){for(var r=e.length,n=0,i=new Po(t);n<r;++n)e[n]&&++i[e[n]-1];var l=new Po(t);for(n=1;n<t;++n)l[n]=l[n-1]+i[n-1]<<1;var o;if(a){o=new Po(1<<t);var c=15-t;for(n=0;n<r;++n)if(e[n])for(var d=n<<4|e[n],u=t-e[n],f=l[e[n]-1]++<<u,x=f|(1<<u)-1;f<=x;++f)o[SC[f]>>c]=d}else for(o=new Po(r),n=0;n<r;++n)e[n]&&(o[n]=SC[l[e[n]-1]++]>>15-e[n]);return o}),gm=new ud(288);for(var fs=0;fs<144;++fs)gm[fs]=8;for(var fs=144;fs<256;++fs)gm[fs]=9;for(var fs=256;fs<280;++fs)gm[fs]=7;for(var fs=280;fs<288;++fs)gm[fs]=8;var ww=new ud(32);for(var fs=0;fs<32;++fs)ww[fs]=5;var j5e=C1(gm,9,0),N5e=C1(ww,5,0),bq=function(e){return(e+7)/8|0},S5e=function(e,t,a){return(a==null||a>e.length)&&(a=e.length),new ud(e.subarray(t,a))},Ru=function(e,t,a){a<<=t&7;var r=t/8|0;e[r]|=a,e[r+1]|=a>>8},Ig=function(e,t,a){a<<=t&7;var r=t/8|0;e[r]|=a,e[r+1]|=a>>8,e[r+2]|=a>>16},i3=function(e,t){for(var a=[],r=0;r<e.length;++r)e[r]&&a.push({s:r,f:e[r]});var n=a.length,i=a.slice();if(!n)return{t:wq,l:0};if(n==1){var l=new ud(a[0].s+1);return l[a[0].s]=1,{t:l,l:1}}a.sort(function(A,_){return A.f-_.f}),a.push({s:-1,f:25001});var o=a[0],c=a[1],d=0,u=1,f=2;for(a[0]={s:-1,f:o.f+c.f,l:o,r:c};u!=n-1;)o=a[a[d].f<a[f].f?d++:f++],c=a[d!=u&&a[d].f<a[f].f?d++:f++],a[u++]={s:-1,f:o.f+c.f,l:o,r:c};for(var x=i[0].s,r=1;r<n;++r)i[r].s>x&&(x=i[r].s);var p=new Po(x+1),v=kC(a[u-1],p,0);if(v>t){var r=0,g=0,b=v-t,j=1<<b;for(i.sort(function(_,M){return p[M.s]-p[_.s]||_.f-M.f});r<n;++r){var N=i[r].s;if(p[N]>t)g+=j-(1<<v-p[N]),p[N]=t;else break}for(g>>=b;g>0;){var S=i[r].s;p[S]<t?g-=1<<t-p[S]++-1:++r}for(;r>=0&&g;--r){var k=i[r].s;p[k]==t&&(--p[k],++g)}v=t}return{t:new ud(p),l:v}},kC=function(e,t,a){return e.s==-1?Math.max(kC(e.l,t,a+1),kC(e.r,t,a+1)):t[e.s]=a},bO=function(e){for(var t=e.length;t&&!e[--t];);for(var a=new Po(++t),r=0,n=e[0],i=1,l=function(c){a[r++]=c},o=1;o<=t;++o)if(e[o]==n&&o!=t)++i;else{if(!n&&i>2){for(;i>138;i-=138)l(32754);i>2&&(l(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(l(n),--i;i>6;i-=6)l(8304);i>2&&(l(i-3<<5|8208),i=0)}for(;i--;)l(n);i=1,n=e[o]}return{c:a.subarray(0,r),n:t}},Bg=function(e,t){for(var a=0,r=0;r<t.length;++r)a+=e[r]*t[r];return a},yq=function(e,t,a){var r=a.length,n=bq(t+2);e[n]=r&255,e[n+1]=r>>8,e[n+2]=e[n]^255,e[n+3]=e[n+1]^255;for(var i=0;i<r;++i)e[n+i+4]=a[i];return(n+4+r)*8},yO=function(e,t,a,r,n,i,l,o,c,d,u){Ru(t,u++,a),++n[256];for(var f=i3(n,15),x=f.t,p=f.l,v=i3(i,15),g=v.t,b=v.l,j=bO(x),N=j.c,S=j.n,k=bO(g),A=k.c,_=k.n,M=new Po(19),L=0;L<N.length;++L)++M[N[L]&31];for(var L=0;L<A.length;++L)++M[A[L]&31];for(var U=i3(M,7),z=U.t,O=U.l,B=19;B>4&&!z[gO[B-1]];--B);var E=d+5<<3,R=Bg(n,gm)+Bg(i,ww)+l,q=Bg(n,x)+Bg(i,g)+l+14+3*B+Bg(M,z)+2*M[16]+3*M[17]+7*M[18];if(c>=0&&E<=R&&E<=q)return yq(t,u,e.subarray(c,c+d));var I,G,re,te;if(Ru(t,u,1+(q<R)),u+=2,q<R){I=C1(x,p,0),G=x,re=C1(g,b,0),te=g;var X=C1(z,O,0);Ru(t,u,S-257),Ru(t,u+5,_-1),Ru(t,u+10,B-4),u+=14;for(var L=0;L<B;++L)Ru(t,u+3*L,z[gO[L]]);u+=3*B;for(var ce=[N,A],D=0;D<2;++D)for(var Q=ce[D],L=0;L<Q.length;++L){var H=Q[L]&31;Ru(t,u,X[H]),u+=z[H],H>15&&(Ru(t,u,Q[L]>>5&127),u+=Q[L]>>12)}}else I=j5e,G=gm,re=N5e,te=ww;for(var L=0;L<o;++L){var J=r[L];if(J>255){var H=J>>18&31;Ig(t,u,I[H+257]),u+=G[H+257],H>7&&(Ru(t,u,J>>23&31),u+=B_[H]);var ae=J&31;Ig(t,u,re[ae]),u+=te[ae],ae>3&&(Ig(t,u,J>>5&8191),u+=$_[ae])}else Ig(t,u,I[J]),u+=G[J]}return Ig(t,u,I[256]),u+G[256]},k5e=new I_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),wq=new ud(0),C5e=function(e,t,a,r,n,i){var l=i.z||e.length,o=new ud(r+l+5*(1+Math.ceil(l/7e3))+n),c=o.subarray(r,o.length-n),d=i.l,u=(i.r||0)&7;if(t){u&&(c[0]=i.r>>3);for(var f=k5e[t-1],x=f>>13,p=f&8191,v=(1<<a)-1,g=i.p||new Po(32768),b=i.h||new Po(v+1),j=Math.ceil(a/3),N=2*j,S=function(fe){return(e[fe]^e[fe+1]<<j^e[fe+2]<<N)&v},k=new I_(25e3),A=new Po(288),_=new Po(32),M=0,L=0,U=i.i||0,z=0,O=i.w||0,B=0;U+2<l;++U){var E=S(U),R=U&32767,q=b[E];if(g[R]=q,b[E]=R,O<=U){var I=l-U;if((M>7e3||z>24576)&&(I>423||!d)){u=yO(e,c,0,k,A,_,L,z,B,U-B,u),z=M=L=0,B=U;for(var G=0;G<286;++G)A[G]=0;for(var G=0;G<30;++G)_[G]=0}var re=2,te=0,X=p,ce=R-q&32767;if(I>2&&E==S(U-ce))for(var D=Math.min(x,I)-1,Q=Math.min(32767,U),H=Math.min(258,I);ce<=Q&&--X&&R!=q;){if(e[U+re]==e[U+re-ce]){for(var J=0;J<H&&e[U+J]==e[U+J-ce];++J);if(J>re){if(re=J,te=ce,J>D)break;for(var ae=Math.min(ce,J-2),ie=0,G=0;G<ae;++G){var le=U-ce+G&32767,Y=g[le],oe=le-Y&32767;oe>ie&&(ie=oe,q=le)}}}R=q,q=g[R],ce+=R-q&32767}if(te){k[z++]=268435456|NC[re]<<18|vO[te];var xe=NC[re]&31,W=vO[te]&31;L+=B_[xe]+$_[W],++A[257+xe],++_[W],O=U+re,++M}else k[z++]=e[U],++A[e[U]]}}for(U=Math.max(U,O);U<l;++U)k[z++]=e[U],++A[e[U]];u=yO(e,c,d,k,A,_,L,z,B,U-B,u),d||(i.r=u&7|c[u/8|0]<<3,u-=7,i.h=b,i.p=g,i.i=U,i.w=O)}else{for(var U=i.w||0;U<l+d;U+=65535){var he=U+65535;he>=l&&(c[u/8|0]=d,he=l),u=yq(c,u+1,e.subarray(U,he))}i.i=l}return S5e(o,0,r+bq(u)+n)},jq=function(){var e=1,t=0;return{p:function(a){for(var r=e,n=t,i=a.length|0,l=0;l!=i;){for(var o=Math.min(l+2655,i);l<o;++l)n+=r+=a[l];r=(r&65535)+15*(r>>16),n=(n&65535)+15*(n>>16)}e=r,t=n},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},A5e=function(e,t,a,r,n){if(!n&&(n={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),l=new ud(i.length+e.length);l.set(i),l.set(e,i.length),e=l,n.w=i.length}return C5e(e,t.level==null?6:t.level,t.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,a,r,n)},Nq=function(e,t,a){for(;a;++t)e[t]=a,a>>>=8},_5e=function(e,t){var a=t.level,r=a==0?0:a<6?1:a==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var n=jq();n.p(t.dictionary),Nq(e,2,n.d())}};function CC(e,t){t||(t={});var a=jq();a.p(e);var r=A5e(e,t,t.dictionary?6:2,4);return _5e(r,t),Nq(r,r.length-4,a.d()),r}var T5e=typeof TextDecoder<"u"&&new TextDecoder,E5e=0;try{T5e.decode(wq,{stream:!0}),E5e=1}catch{}function D5e(e){if(Array.isArray(e))return e}function M5e(e,t){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var r,n,i,l,o=[],c=!0,d=!1;try{if(i=(a=a.call(e)).next,t!==0)for(;!(c=(r=i.call(a)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&a.return!=null&&(l=a.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}function wO(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function P5e(e,t){if(e){if(typeof e=="string")return wO(e,t);var a={}.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(e):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?wO(e,t):void 0}}function L5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jO(e,t){return D5e(e)||M5e(e,t)||P5e(e,t)||L5e()}function NO(e,t="utf8"){return new TextDecoder(t).decode(e)}const O5e=new TextEncoder;function R5e(e){return O5e.encode(e)}const F5e=1024*8,I5e=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),l3={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class U_{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=F5e,a={}){let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const n=a.offset?a.offset>>>0:0,i=t.byteLength-n;let l=n;(ArrayBuffer.isView(t)||t instanceof U_)&&(t.byteLength!==t.buffer.byteLength&&(l=t.byteOffset+n),t=t.buffer),r?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,n=new Uint8Array(r);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,a){const r=l3[a].BYTES_PER_ELEMENT*t,n=this.byteOffset+this.offset,i=this.buffer.slice(n,n+r);if(this.littleEndian===I5e&&a!=="uint8"&&a!=="int8"){const o=new Uint8Array(this.buffer.slice(n,n+r));o.reverse();const c=new l3[a](o.buffer);return this.offset+=r,c.reverse(),c}const l=new l3[a](i);return this.offset+=r,l}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let a="";for(let r=0;r<t;r++)a+=this.readChar();return a}readUtf8(t=1){return NO(this.readBytes(t))}decodeText(t=1,a="utf8"){return NO(this.readBytes(t),a)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let a=0;a<t.length;a++)this._data.setUint8(this.offset++,t[a]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let a=0;a<t.length;a++)this.writeUint8(t.charCodeAt(a));return this}writeUtf8(t){return this.writeBytes(R5e(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Dx(e){let t=e.length;for(;--t>=0;)e[t]=0}const B5e=3,$5e=258,Sq=29,U5e=256,z5e=U5e+1+Sq,kq=30,H5e=512,V5e=new Array((z5e+2)*2);Dx(V5e);const W5e=new Array(kq*2);Dx(W5e);const q5e=new Array(H5e);Dx(q5e);const G5e=new Array($5e-B5e+1);Dx(G5e);const K5e=new Array(Sq);Dx(K5e);const Y5e=new Array(kq);Dx(Y5e);const X5e=(e,t,a,r)=>{let n=e&65535|0,i=e>>>16&65535|0,l=0;for(;a!==0;){l=a>2e3?2e3:a,a-=l;do n=n+t[r++]|0,i=i+n|0;while(--l);n%=65521,i%=65521}return n|i<<16|0};var AC=X5e;const Q5e=()=>{let e,t=[];for(var a=0;a<256;a++){e=a;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[a]=e}return t},J5e=new Uint32Array(Q5e()),Z5e=(e,t,a,r)=>{const n=J5e,i=r+a;e^=-1;for(let l=r;l<i;l++)e=e>>>8^n[(e^t[l])&255];return e^-1};var Hd=Z5e,_C={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Cq={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const e3e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t3e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const a=t.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(const r in a)e3e(a,r)&&(e[r]=a[r])}}return e},a3e=e=>{let t=0;for(let r=0,n=e.length;r<n;r++)t+=e[r].length;const a=new Uint8Array(t);for(let r=0,n=0,i=e.length;r<i;r++){let l=e[r];a.set(l,n),n+=l.length}return a},Aq={assign:t3e,flattenChunks:a3e};let _q=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_q=!1}const hv=new Uint8Array(256);for(let e=0;e<256;e++)hv[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;hv[254]=hv[254]=1;var r3e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,a,r,n,i,l=e.length,o=0;for(n=0;n<l;n++)a=e.charCodeAt(n),(a&64512)===55296&&n+1<l&&(r=e.charCodeAt(n+1),(r&64512)===56320&&(a=65536+(a-55296<<10)+(r-56320),n++)),o+=a<128?1:a<2048?2:a<65536?3:4;for(t=new Uint8Array(o),i=0,n=0;i<o;n++)a=e.charCodeAt(n),(a&64512)===55296&&n+1<l&&(r=e.charCodeAt(n+1),(r&64512)===56320&&(a=65536+(a-55296<<10)+(r-56320),n++)),a<128?t[i++]=a:a<2048?(t[i++]=192|a>>>6,t[i++]=128|a&63):a<65536?(t[i++]=224|a>>>12,t[i++]=128|a>>>6&63,t[i++]=128|a&63):(t[i++]=240|a>>>18,t[i++]=128|a>>>12&63,t[i++]=128|a>>>6&63,t[i++]=128|a&63);return t};const s3e=(e,t)=>{if(t<65534&&e.subarray&&_q)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let a="";for(let r=0;r<t;r++)a+=String.fromCharCode(e[r]);return a};var n3e=(e,t)=>{const a=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,n;const i=new Array(a*2);for(n=0,r=0;r<a;){let l=e[r++];if(l<128){i[n++]=l;continue}let o=hv[l];if(o>4){i[n++]=65533,r+=o-1;continue}for(l&=o===2?31:o===3?15:7;o>1&&r<a;)l=l<<6|e[r++]&63,o--;if(o>1){i[n++]=65533;continue}l<65536?i[n++]=l:(l-=65536,i[n++]=55296|l>>10&1023,i[n++]=56320|l&1023)}return s3e(i,n)},i3e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let a=t-1;for(;a>=0&&(e[a]&192)===128;)a--;return a<0||a===0?t:a+hv[e[a]]>t?a:t},TC={string2buf:r3e,buf2string:n3e,utf8border:i3e};function l3e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var o3e=l3e;const Xy=16209,c3e=16191;var d3e=function(t,a){let r,n,i,l,o,c,d,u,f,x,p,v,g,b,j,N,S,k,A,_,M,L,U,z;const O=t.state;r=t.next_in,U=t.input,n=r+(t.avail_in-5),i=t.next_out,z=t.output,l=i-(a-t.avail_out),o=i+(t.avail_out-257),c=O.dmax,d=O.wsize,u=O.whave,f=O.wnext,x=O.window,p=O.hold,v=O.bits,g=O.lencode,b=O.distcode,j=(1<<O.lenbits)-1,N=(1<<O.distbits)-1;e:do{v<15&&(p+=U[r++]<<v,v+=8,p+=U[r++]<<v,v+=8),S=g[p&j];t:for(;;){if(k=S>>>24,p>>>=k,v-=k,k=S>>>16&255,k===0)z[i++]=S&65535;else if(k&16){A=S&65535,k&=15,k&&(v<k&&(p+=U[r++]<<v,v+=8),A+=p&(1<<k)-1,p>>>=k,v-=k),v<15&&(p+=U[r++]<<v,v+=8,p+=U[r++]<<v,v+=8),S=b[p&N];a:for(;;){if(k=S>>>24,p>>>=k,v-=k,k=S>>>16&255,k&16){if(_=S&65535,k&=15,v<k&&(p+=U[r++]<<v,v+=8,v<k&&(p+=U[r++]<<v,v+=8)),_+=p&(1<<k)-1,_>c){t.msg="invalid distance too far back",O.mode=Xy;break e}if(p>>>=k,v-=k,k=i-l,_>k){if(k=_-k,k>u&&O.sane){t.msg="invalid distance too far back",O.mode=Xy;break e}if(M=0,L=x,f===0){if(M+=d-k,k<A){A-=k;do z[i++]=x[M++];while(--k);M=i-_,L=z}}else if(f<k){if(M+=d+f-k,k-=f,k<A){A-=k;do z[i++]=x[M++];while(--k);if(M=0,f<A){k=f,A-=k;do z[i++]=x[M++];while(--k);M=i-_,L=z}}}else if(M+=f-k,k<A){A-=k;do z[i++]=x[M++];while(--k);M=i-_,L=z}for(;A>2;)z[i++]=L[M++],z[i++]=L[M++],z[i++]=L[M++],A-=3;A&&(z[i++]=L[M++],A>1&&(z[i++]=L[M++]))}else{M=i-_;do z[i++]=z[M++],z[i++]=z[M++],z[i++]=z[M++],A-=3;while(A>2);A&&(z[i++]=z[M++],A>1&&(z[i++]=z[M++]))}}else if((k&64)===0){S=b[(S&65535)+(p&(1<<k)-1)];continue a}else{t.msg="invalid distance code",O.mode=Xy;break e}break}}else if((k&64)===0){S=g[(S&65535)+(p&(1<<k)-1)];continue t}else if(k&32){O.mode=c3e;break e}else{t.msg="invalid literal/length code",O.mode=Xy;break e}break}}while(r<n&&i<o);A=v>>3,r-=A,v-=A<<3,p&=(1<<v)-1,t.next_in=r,t.next_out=i,t.avail_in=r<n?5+(n-r):5-(r-n),t.avail_out=i<o?257+(o-i):257-(i-o),O.hold=p,O.bits=v};const _p=15,SO=852,kO=592,CO=0,o3=1,AO=2,u3e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),h3e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),f3e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),m3e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),p3e=(e,t,a,r,n,i,l,o)=>{const c=o.bits;let d=0,u=0,f=0,x=0,p=0,v=0,g=0,b=0,j=0,N=0,S,k,A,_,M,L=null,U;const z=new Uint16Array(_p+1),O=new Uint16Array(_p+1);let B=null,E,R,q;for(d=0;d<=_p;d++)z[d]=0;for(u=0;u<r;u++)z[t[a+u]]++;for(p=c,x=_p;x>=1&&z[x]===0;x--);if(p>x&&(p=x),x===0)return n[i++]=1<<24|64<<16|0,n[i++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<x&&z[f]===0;f++);for(p<f&&(p=f),b=1,d=1;d<=_p;d++)if(b<<=1,b-=z[d],b<0)return-1;if(b>0&&(e===CO||x!==1))return-1;for(O[1]=0,d=1;d<_p;d++)O[d+1]=O[d]+z[d];for(u=0;u<r;u++)t[a+u]!==0&&(l[O[t[a+u]]++]=u);if(e===CO?(L=B=l,U=20):e===o3?(L=u3e,B=h3e,U=257):(L=f3e,B=m3e,U=0),N=0,u=0,d=f,M=i,v=p,g=0,A=-1,j=1<<p,_=j-1,e===o3&&j>SO||e===AO&&j>kO)return 1;for(;;){E=d-g,l[u]+1<U?(R=0,q=l[u]):l[u]>=U?(R=B[l[u]-U],q=L[l[u]-U]):(R=96,q=0),S=1<<d-g,k=1<<v,f=k;do k-=S,n[M+(N>>g)+k]=E<<24|R<<16|q|0;while(k!==0);for(S=1<<d-1;N&S;)S>>=1;if(S!==0?(N&=S-1,N+=S):N=0,u++,--z[d]===0){if(d===x)break;d=t[a+l[u]]}if(d>p&&(N&_)!==A){for(g===0&&(g=p),M+=f,v=d-g,b=1<<v;v+g<x&&(b-=z[v+g],!(b<=0));)v++,b<<=1;if(j+=1<<v,e===o3&&j>SO||e===AO&&j>kO)return 1;A=N&_,n[A]=p<<24|v<<16|M-i|0}}return N!==0&&(n[M+N]=d-g<<24|64<<16|0),o.bits=p,0};var A1=p3e;const x3e=0,Tq=1,Eq=2,{Z_FINISH:_O,Z_BLOCK:g3e,Z_TREES:Qy,Z_OK:vm,Z_STREAM_END:v3e,Z_NEED_DICT:b3e,Z_STREAM_ERROR:wc,Z_DATA_ERROR:Dq,Z_MEM_ERROR:Mq,Z_BUF_ERROR:y3e,Z_DEFLATED:TO}=Cq,aN=16180,EO=16181,DO=16182,MO=16183,PO=16184,LO=16185,OO=16186,RO=16187,FO=16188,IO=16189,jw=16190,Fu=16191,c3=16192,BO=16193,d3=16194,$O=16195,UO=16196,zO=16197,HO=16198,Jy=16199,Zy=16200,VO=16201,WO=16202,qO=16203,GO=16204,KO=16205,u3=16206,YO=16207,XO=16208,_s=16209,Pq=16210,Lq=16211,w3e=852,j3e=592,N3e=15,S3e=N3e,QO=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function k3e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Fm=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<aN||t.mode>Lq?1:0},Oq=e=>{if(Fm(e))return wc;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=aN,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(w3e),t.distcode=t.distdyn=new Int32Array(j3e),t.sane=1,t.back=-1,vm},Rq=e=>{if(Fm(e))return wc;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Oq(e)},Fq=(e,t)=>{let a;if(Fm(e))return wc;const r=e.state;return t<0?(a=0,t=-t):(a=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?wc:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=a,r.wbits=t,Rq(e))},Iq=(e,t)=>{if(!e)return wc;const a=new k3e;e.state=a,a.strm=e,a.window=null,a.mode=aN;const r=Fq(e,t);return r!==vm&&(e.state=null),r},C3e=e=>Iq(e,S3e);let JO=!0,h3,f3;const A3e=e=>{if(JO){h3=new Int32Array(512),f3=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(A1(Tq,e.lens,0,288,h3,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;A1(Eq,e.lens,0,32,f3,0,e.work,{bits:5}),JO=!1}e.lencode=h3,e.lenbits=9,e.distcode=f3,e.distbits=5},Bq=(e,t,a,r)=>{let n;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(a-i.wsize,a),0),i.wnext=0,i.whave=i.wsize):(n=i.wsize-i.wnext,n>r&&(n=r),i.window.set(t.subarray(a-r,a-r+n),i.wnext),r-=n,r?(i.window.set(t.subarray(a-r,a),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=n,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=n))),0},_3e=(e,t)=>{let a,r,n,i,l,o,c,d,u,f,x,p,v,g,b=0,j,N,S,k,A,_,M,L;const U=new Uint8Array(4);let z,O;const B=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Fm(e)||!e.output||!e.input&&e.avail_in!==0)return wc;a=e.state,a.mode===Fu&&(a.mode=c3),l=e.next_out,n=e.output,c=e.avail_out,i=e.next_in,r=e.input,o=e.avail_in,d=a.hold,u=a.bits,f=o,x=c,L=vm;e:for(;;)switch(a.mode){case aN:if(a.wrap===0){a.mode=c3;break}for(;u<16;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if(a.wrap&2&&d===35615){a.wbits===0&&(a.wbits=15),a.check=0,U[0]=d&255,U[1]=d>>>8&255,a.check=Hd(a.check,U,2,0),d=0,u=0,a.mode=EO;break}if(a.head&&(a.head.done=!1),!(a.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",a.mode=_s;break}if((d&15)!==TO){e.msg="unknown compression method",a.mode=_s;break}if(d>>>=4,u-=4,M=(d&15)+8,a.wbits===0&&(a.wbits=M),M>15||M>a.wbits){e.msg="invalid window size",a.mode=_s;break}a.dmax=1<<a.wbits,a.flags=0,e.adler=a.check=1,a.mode=d&512?IO:Fu,d=0,u=0;break;case EO:for(;u<16;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if(a.flags=d,(a.flags&255)!==TO){e.msg="unknown compression method",a.mode=_s;break}if(a.flags&57344){e.msg="unknown header flags set",a.mode=_s;break}a.head&&(a.head.text=d>>8&1),a.flags&512&&a.wrap&4&&(U[0]=d&255,U[1]=d>>>8&255,a.check=Hd(a.check,U,2,0)),d=0,u=0,a.mode=DO;case DO:for(;u<32;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}a.head&&(a.head.time=d),a.flags&512&&a.wrap&4&&(U[0]=d&255,U[1]=d>>>8&255,U[2]=d>>>16&255,U[3]=d>>>24&255,a.check=Hd(a.check,U,4,0)),d=0,u=0,a.mode=MO;case MO:for(;u<16;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}a.head&&(a.head.xflags=d&255,a.head.os=d>>8),a.flags&512&&a.wrap&4&&(U[0]=d&255,U[1]=d>>>8&255,a.check=Hd(a.check,U,2,0)),d=0,u=0,a.mode=PO;case PO:if(a.flags&1024){for(;u<16;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}a.length=d,a.head&&(a.head.extra_len=d),a.flags&512&&a.wrap&4&&(U[0]=d&255,U[1]=d>>>8&255,a.check=Hd(a.check,U,2,0)),d=0,u=0}else a.head&&(a.head.extra=null);a.mode=LO;case LO:if(a.flags&1024&&(p=a.length,p>o&&(p=o),p&&(a.head&&(M=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Uint8Array(a.head.extra_len)),a.head.extra.set(r.subarray(i,i+p),M)),a.flags&512&&a.wrap&4&&(a.check=Hd(a.check,r,p,i)),o-=p,i+=p,a.length-=p),a.length))break e;a.length=0,a.mode=OO;case OO:if(a.flags&2048){if(o===0)break e;p=0;do M=r[i+p++],a.head&&M&&a.length<65536&&(a.head.name+=String.fromCharCode(M));while(M&&p<o);if(a.flags&512&&a.wrap&4&&(a.check=Hd(a.check,r,p,i)),o-=p,i+=p,M)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=RO;case RO:if(a.flags&4096){if(o===0)break e;p=0;do M=r[i+p++],a.head&&M&&a.length<65536&&(a.head.comment+=String.fromCharCode(M));while(M&&p<o);if(a.flags&512&&a.wrap&4&&(a.check=Hd(a.check,r,p,i)),o-=p,i+=p,M)break e}else a.head&&(a.head.comment=null);a.mode=FO;case FO:if(a.flags&512){for(;u<16;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if(a.wrap&4&&d!==(a.check&65535)){e.msg="header crc mismatch",a.mode=_s;break}d=0,u=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),e.adler=a.check=0,a.mode=Fu;break;case IO:for(;u<32;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}e.adler=a.check=QO(d),d=0,u=0,a.mode=jw;case jw:if(a.havedict===0)return e.next_out=l,e.avail_out=c,e.next_in=i,e.avail_in=o,a.hold=d,a.bits=u,b3e;e.adler=a.check=1,a.mode=Fu;case Fu:if(t===g3e||t===Qy)break e;case c3:if(a.last){d>>>=u&7,u-=u&7,a.mode=u3;break}for(;u<3;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}switch(a.last=d&1,d>>>=1,u-=1,d&3){case 0:a.mode=BO;break;case 1:if(A3e(a),a.mode=Jy,t===Qy){d>>>=2,u-=2;break e}break;case 2:a.mode=UO;break;case 3:e.msg="invalid block type",a.mode=_s}d>>>=2,u-=2;break;case BO:for(d>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",a.mode=_s;break}if(a.length=d&65535,d=0,u=0,a.mode=d3,t===Qy)break e;case d3:a.mode=$O;case $O:if(p=a.length,p){if(p>o&&(p=o),p>c&&(p=c),p===0)break e;n.set(r.subarray(i,i+p),l),o-=p,i+=p,c-=p,l+=p,a.length-=p;break}a.mode=Fu;break;case UO:for(;u<14;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if(a.nlen=(d&31)+257,d>>>=5,u-=5,a.ndist=(d&31)+1,d>>>=5,u-=5,a.ncode=(d&15)+4,d>>>=4,u-=4,a.nlen>286||a.ndist>30){e.msg="too many length or distance symbols",a.mode=_s;break}a.have=0,a.mode=zO;case zO:for(;a.have<a.ncode;){for(;u<3;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}a.lens[B[a.have++]]=d&7,d>>>=3,u-=3}for(;a.have<19;)a.lens[B[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,z={bits:a.lenbits},L=A1(x3e,a.lens,0,19,a.lencode,0,a.work,z),a.lenbits=z.bits,L){e.msg="invalid code lengths set",a.mode=_s;break}a.have=0,a.mode=HO;case HO:for(;a.have<a.nlen+a.ndist;){for(;b=a.lencode[d&(1<<a.lenbits)-1],j=b>>>24,N=b>>>16&255,S=b&65535,!(j<=u);){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if(S<16)d>>>=j,u-=j,a.lens[a.have++]=S;else{if(S===16){for(O=j+2;u<O;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if(d>>>=j,u-=j,a.have===0){e.msg="invalid bit length repeat",a.mode=_s;break}M=a.lens[a.have-1],p=3+(d&3),d>>>=2,u-=2}else if(S===17){for(O=j+3;u<O;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}d>>>=j,u-=j,M=0,p=3+(d&7),d>>>=3,u-=3}else{for(O=j+7;u<O;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}d>>>=j,u-=j,M=0,p=11+(d&127),d>>>=7,u-=7}if(a.have+p>a.nlen+a.ndist){e.msg="invalid bit length repeat",a.mode=_s;break}for(;p--;)a.lens[a.have++]=M}}if(a.mode===_s)break;if(a.lens[256]===0){e.msg="invalid code -- missing end-of-block",a.mode=_s;break}if(a.lenbits=9,z={bits:a.lenbits},L=A1(Tq,a.lens,0,a.nlen,a.lencode,0,a.work,z),a.lenbits=z.bits,L){e.msg="invalid literal/lengths set",a.mode=_s;break}if(a.distbits=6,a.distcode=a.distdyn,z={bits:a.distbits},L=A1(Eq,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,z),a.distbits=z.bits,L){e.msg="invalid distances set",a.mode=_s;break}if(a.mode=Jy,t===Qy)break e;case Jy:a.mode=Zy;case Zy:if(o>=6&&c>=258){e.next_out=l,e.avail_out=c,e.next_in=i,e.avail_in=o,a.hold=d,a.bits=u,d3e(e,x),l=e.next_out,n=e.output,c=e.avail_out,i=e.next_in,r=e.input,o=e.avail_in,d=a.hold,u=a.bits,a.mode===Fu&&(a.back=-1);break}for(a.back=0;b=a.lencode[d&(1<<a.lenbits)-1],j=b>>>24,N=b>>>16&255,S=b&65535,!(j<=u);){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if(N&&(N&240)===0){for(k=j,A=N,_=S;b=a.lencode[_+((d&(1<<k+A)-1)>>k)],j=b>>>24,N=b>>>16&255,S=b&65535,!(k+j<=u);){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}d>>>=k,u-=k,a.back+=k}if(d>>>=j,u-=j,a.back+=j,a.length=S,N===0){a.mode=KO;break}if(N&32){a.back=-1,a.mode=Fu;break}if(N&64){e.msg="invalid literal/length code",a.mode=_s;break}a.extra=N&15,a.mode=VO;case VO:if(a.extra){for(O=a.extra;u<O;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}a.length+=d&(1<<a.extra)-1,d>>>=a.extra,u-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=WO;case WO:for(;b=a.distcode[d&(1<<a.distbits)-1],j=b>>>24,N=b>>>16&255,S=b&65535,!(j<=u);){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if((N&240)===0){for(k=j,A=N,_=S;b=a.distcode[_+((d&(1<<k+A)-1)>>k)],j=b>>>24,N=b>>>16&255,S=b&65535,!(k+j<=u);){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}d>>>=k,u-=k,a.back+=k}if(d>>>=j,u-=j,a.back+=j,N&64){e.msg="invalid distance code",a.mode=_s;break}a.offset=S,a.extra=N&15,a.mode=qO;case qO:if(a.extra){for(O=a.extra;u<O;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}a.offset+=d&(1<<a.extra)-1,d>>>=a.extra,u-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){e.msg="invalid distance too far back",a.mode=_s;break}a.mode=GO;case GO:if(c===0)break e;if(p=x-c,a.offset>p){if(p=a.offset-p,p>a.whave&&a.sane){e.msg="invalid distance too far back",a.mode=_s;break}p>a.wnext?(p-=a.wnext,v=a.wsize-p):v=a.wnext-p,p>a.length&&(p=a.length),g=a.window}else g=n,v=l-a.offset,p=a.length;p>c&&(p=c),c-=p,a.length-=p;do n[l++]=g[v++];while(--p);a.length===0&&(a.mode=Zy);break;case KO:if(c===0)break e;n[l++]=a.length,c--,a.mode=Zy;break;case u3:if(a.wrap){for(;u<32;){if(o===0)break e;o--,d|=r[i++]<<u,u+=8}if(x-=c,e.total_out+=x,a.total+=x,a.wrap&4&&x&&(e.adler=a.check=a.flags?Hd(a.check,n,x,l-x):AC(a.check,n,x,l-x)),x=c,a.wrap&4&&(a.flags?d:QO(d))!==a.check){e.msg="incorrect data check",a.mode=_s;break}d=0,u=0}a.mode=YO;case YO:if(a.wrap&&a.flags){for(;u<32;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if(a.wrap&4&&d!==(a.total&4294967295)){e.msg="incorrect length check",a.mode=_s;break}d=0,u=0}a.mode=XO;case XO:L=v3e;break e;case _s:L=Dq;break e;case Pq:return Mq;case Lq:default:return wc}return e.next_out=l,e.avail_out=c,e.next_in=i,e.avail_in=o,a.hold=d,a.bits=u,(a.wsize||x!==e.avail_out&&a.mode<_s&&(a.mode<u3||t!==_O))&&Bq(e,e.output,e.next_out,x-e.avail_out),f-=e.avail_in,x-=e.avail_out,e.total_in+=f,e.total_out+=x,a.total+=x,a.wrap&4&&x&&(e.adler=a.check=a.flags?Hd(a.check,n,x,e.next_out-x):AC(a.check,n,x,e.next_out-x)),e.data_type=a.bits+(a.last?64:0)+(a.mode===Fu?128:0)+(a.mode===Jy||a.mode===d3?256:0),(f===0&&x===0||t===_O)&&L===vm&&(L=y3e),L},T3e=e=>{if(Fm(e))return wc;let t=e.state;return t.window&&(t.window=null),e.state=null,vm},E3e=(e,t)=>{if(Fm(e))return wc;const a=e.state;return(a.wrap&2)===0?wc:(a.head=t,t.done=!1,vm)},D3e=(e,t)=>{const a=t.length;let r,n,i;return Fm(e)||(r=e.state,r.wrap!==0&&r.mode!==jw)?wc:r.mode===jw&&(n=1,n=AC(n,t,a,0),n!==r.check)?Dq:(i=Bq(e,t,a,a),i?(r.mode=Pq,Mq):(r.havedict=1,vm))};var M3e=Rq,P3e=Fq,L3e=Oq,O3e=C3e,R3e=Iq,F3e=_3e,I3e=T3e,B3e=E3e,$3e=D3e,U3e="pako inflate (from Nodeca project)",Uu={inflateReset:M3e,inflateReset2:P3e,inflateResetKeep:L3e,inflateInit:O3e,inflateInit2:R3e,inflate:F3e,inflateEnd:I3e,inflateGetHeader:B3e,inflateSetDictionary:$3e,inflateInfo:U3e};function z3e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var H3e=z3e;const $q=Object.prototype.toString,{Z_NO_FLUSH:V3e,Z_FINISH:W3e,Z_OK:fv,Z_STREAM_END:m3,Z_NEED_DICT:p3,Z_STREAM_ERROR:q3e,Z_DATA_ERROR:ZO,Z_MEM_ERROR:G3e}=Cq;function Zv(e){this.options=Aq.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o3e,this.strm.avail_out=0;let a=Uu.inflateInit2(this.strm,t.windowBits);if(a!==fv)throw new Error(_C[a]);if(this.header=new H3e,Uu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=TC.string2buf(t.dictionary):$q.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(a=Uu.inflateSetDictionary(this.strm,t.dictionary),a!==fv)))throw new Error(_C[a])}Zv.prototype.push=function(e,t){const a=this.strm,r=this.options.chunkSize,n=this.options.dictionary;let i,l,o;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?W3e:V3e,$q.call(e)==="[object ArrayBuffer]"?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;;){for(a.avail_out===0&&(a.output=new Uint8Array(r),a.next_out=0,a.avail_out=r),i=Uu.inflate(a,l),i===p3&&n&&(i=Uu.inflateSetDictionary(a,n),i===fv?i=Uu.inflate(a,l):i===ZO&&(i=p3));a.avail_in>0&&i===m3&&a.state.wrap>0&&e[a.next_in]!==0;)Uu.inflateReset(a),i=Uu.inflate(a,l);switch(i){case q3e:case ZO:case p3:case G3e:return this.onEnd(i),this.ended=!0,!1}if(o=a.avail_out,a.next_out&&(a.avail_out===0||i===m3))if(this.options.to==="string"){let c=TC.utf8border(a.output,a.next_out),d=a.next_out-c,u=TC.buf2string(a.output,c);a.next_out=d,a.avail_out=r-d,d&&a.output.set(a.output.subarray(c,c+d),0),this.onData(u)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(!(i===fv&&o===0)){if(i===m3)return i=Uu.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(a.avail_in===0)break}}return!0};Zv.prototype.onData=function(e){this.chunks.push(e)};Zv.prototype.onEnd=function(e){e===fv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Aq.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function K3e(e,t){const a=new Zv(t);if(a.push(e),a.err)throw a.msg||_C[a.err];return a.result}var Y3e=Zv,X3e=K3e,Q3e={Inflate:Y3e,inflate:X3e};const{Inflate:J3e,inflate:Z3e}=Q3e;var eR=J3e,eSe=Z3e;const Uq=[];for(let e=0;e<256;e++){let t=e;for(let a=0;a<8;a++)t&1?t=3988292384^t>>>1:t=t>>>1;Uq[e]=t}const tR=4294967295;function tSe(e,t,a){let r=e;for(let n=0;n<a;n++)r=Uq[(r^t[n])&255]^r>>>8;return r}function aSe(e,t){return(tSe(tR,e,t)^tR)>>>0}function aR(e,t,a){const r=e.readUint32(),n=aSe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(n!==r)throw new Error(`CRC mismatch for chunk ${a}. Expected ${r}, found ${n}`)}function zq(e,t,a){for(let r=0;r<a;r++)t[r]=e[r]}function Hq(e,t,a,r){let n=0;for(;n<r;n++)t[n]=e[n];for(;n<a;n++)t[n]=e[n]+t[n-r]&255}function Vq(e,t,a,r){let n=0;if(a.length===0)for(;n<r;n++)t[n]=e[n];else for(;n<r;n++)t[n]=e[n]+a[n]&255}function Wq(e,t,a,r,n){let i=0;if(a.length===0){for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+(t[i-n]>>1)&255}else{for(;i<n;i++)t[i]=e[i]+(a[i]>>1)&255;for(;i<r;i++)t[i]=e[i]+(t[i-n]+a[i]>>1)&255}}function qq(e,t,a,r,n){let i=0;if(a.length===0){for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}else{for(;i<n;i++)t[i]=e[i]+a[i]&255;for(;i<r;i++)t[i]=e[i]+rSe(t[i-n],a[i],a[i-n])&255}}function rSe(e,t,a){const r=e+t-a,n=Math.abs(r-e),i=Math.abs(r-t),l=Math.abs(r-a);return n<=i&&n<=l?e:i<=l?t:a}function sSe(e,t,a,r,n,i){switch(e){case 0:zq(t,a,n);break;case 1:Hq(t,a,n,i);break;case 2:Vq(t,a,r,n);break;case 3:Wq(t,a,r,n,i);break;case 4:qq(t,a,r,n,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const nSe=new Uint16Array([255]),iSe=new Uint8Array(nSe.buffer),lSe=iSe[0]===255;function oSe(e){const{data:t,width:a,height:r,channels:n,depth:i}=e,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*n,c=new Uint8Array(r*a*o);let d=0;for(let u=0;u<7;u++){const f=l[u],x=Math.ceil((a-f.x)/f.xStep),p=Math.ceil((r-f.y)/f.yStep);if(x<=0||p<=0)continue;const v=x*o,g=new Uint8Array(v);for(let b=0;b<p;b++){const j=t[d++],N=t.subarray(d,d+v);d+=v;const S=new Uint8Array(v);sSe(j,N,S,g,v,o),g.set(S);for(let k=0;k<x;k++){const A=f.x+k*f.xStep,_=f.y+b*f.yStep;if(!(A>=a||_>=r))for(let M=0;M<o;M++)c[(_*a+A)*o+M]=S[k*o+M]}}}if(i===16){const u=new Uint16Array(c.buffer);if(lSe)for(let f=0;f<u.length;f++)u[f]=cSe(u[f]);return u}else return c}function cSe(e){return(e&255)<<8|e>>8&255}const dSe=new Uint16Array([255]),uSe=new Uint8Array(dSe.buffer),hSe=uSe[0]===255,fSe=new Uint8Array(0);function rR(e){const{data:t,width:a,height:r,channels:n,depth:i}=e,l=Math.ceil(i/8)*n,o=Math.ceil(i/8*n*a),c=new Uint8Array(r*o);let d=fSe,u=0,f,x;for(let p=0;p<r;p++){switch(f=t.subarray(u+1,u+1+o),x=c.subarray(p*o,(p+1)*o),t[u]){case 0:zq(f,x,o);break;case 1:Hq(f,x,o,l);break;case 2:Vq(f,x,d,o);break;case 3:Wq(f,x,d,o,l);break;case 4:qq(f,x,d,o,l);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}d=x,u+=o+1}if(i===16){const p=new Uint16Array(c.buffer);if(hSe)for(let v=0;v<p.length;v++)p[v]=mSe(p[v]);return p}else return c}function mSe(e){return(e&255)<<8|e>>8&255}const F2=Uint8Array.of(137,80,78,71,13,10,26,10);function sR(e){if(!pSe(e.readBytes(F2.length)))throw new Error("wrong PNG signature")}function pSe(e){if(e.length<F2.length)return!1;for(let t=0;t<F2.length;t++)if(e[t]!==F2[t])return!1;return!0}const xSe="tEXt",gSe=0,Gq=new TextDecoder("latin1");function vSe(e){if(ySe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const bSe=/^[\u0000-\u00FF]*$/;function ySe(e){if(!bSe.test(e))throw new Error("invalid latin1 text")}function wSe(e,t,a){const r=Kq(t);e[r]=jSe(t,a-r.length-1)}function Kq(e){for(e.mark();e.readByte()!==gSe;);const t=e.offset;e.reset();const a=Gq.decode(e.readBytes(t-e.offset-1));return e.skip(1),vSe(a),a}function jSe(e,t){return Gq.decode(e.readBytes(t))}const jo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},x3={UNKNOWN:-1,DEFLATE:0},nR={UNKNOWN:-1,ADAPTIVE:0},g3={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},e2={NONE:0,BACKGROUND:1,PREVIOUS:2},v3={SOURCE:0,OVER:1};class NSe extends U_{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,a={}){super(t);const{checkCrc:r=!1}=a;this._checkCrc=r,this._inflator=new eR,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=x3.UNKNOWN,this._filterMethod=nR.UNKNOWN,this._interlaceMethod=g3.UNKNOWN,this._colorType=jo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(sR(this);!this._end;){const t=this.readUint32(),a=this.readChars(4);this.decodeChunk(t,a)}return this.decodeImage(),this._png}decodeApng(){for(sR(this);!this._end;){const t=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(t,a)}return this.decodeApngImage(),this._apng}decodeChunk(t,a){const r=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case xSe:wSe(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?aR(this,t+4,a):this.skip(4)}decodeApngChunk(t,a){const r=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,a),this.offset=r+t;break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?aR(this,t+4,a):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=SSe(this.readUint8());const a=this.readUint8();this._colorType=a;let r;switch(a){case jo.GREYSCALE:r=1;break;case jo.TRUECOLOUR:r=3;break;case jo.INDEXED_COLOUR:r=1;break;case jo.GREYSCALE_ALPHA:r=2;break;case jo.TRUECOLOUR_ALPHA:r=4;break;case jo.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==x3.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const a=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let n=0;n<a;n++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const a=t,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let a=t,r=this.offset+this.byteOffset;if(r+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,r,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case jo.GREYSCALE:case jo.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let a=0;a<t/2;a++)this._transparency[a]=this.readUint16();break}case jo.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let a=0;for(;a<t;a++){const r=this.readByte();this._palette[a].push(r)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case jo.UNKNOWN:case jo.GREYSCALE_ALPHA:case jo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const a=Kq(this),r=this.readUint8();if(r!==x3.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const n=this.readBytes(t-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:eSe(n)}}decodepHYs(){const t=this.readUint32(),a=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:a,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const a={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(t);if(r){if(r.data=rR({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)a.data=r.data;else{const n=this._apng.frames.at(t-1);this.disposeFrame(r,n,a),this.addFrameDataToCanvas(a,r)}this._apng.frames.push(a)}}return this._apng}disposeFrame(t,a,r){switch(t.disposeOp){case e2.NONE:break;case e2.BACKGROUND:for(let n=0;n<this._png.height;n++)for(let i=0;i<this._png.width;i++){const l=(n*t.width+i)*this._png.channels;for(let o=0;o<this._png.channels;o++)r.data[l+o]=0}break;case e2.PREVIOUS:r.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,a){const r=1<<this._png.depth,n=(i,l)=>{const o=((i+a.yOffset)*this._png.width+a.xOffset+l)*this._png.channels,c=(i*a.width+l)*this._png.channels;return{index:o,frameIndex:c}};switch(a.blendOp){case v3.SOURCE:for(let i=0;i<a.height;i++)for(let l=0;l<a.width;l++){const{index:o,frameIndex:c}=n(i,l);for(let d=0;d<this._png.channels;d++)t.data[o+d]=a.data[c+d]}break;case v3.OVER:for(let i=0;i<a.height;i++)for(let l=0;l<a.width;l++){const{index:o,frameIndex:c}=n(i,l);for(let d=0;d<this._png.channels;d++){const u=a.data[c+this._png.channels-1]/r,f=d%(this._png.channels-1)===0?1:a.data[c+d],x=Math.floor(u*f+(1-u)*t.data[o+d]);t.data[o+d]+=x}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==nR.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===g3.NO_INTERLACE)this._png.data=rR({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===g3.ADAM7)this._png.data=oSe({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,a=this._frames.at(-1);a?a.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:e2.NONE,blendOp:v3.SOURCE,data:t}),this._inflator=new eR,this._writingDataChunks=!1}}function SSe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var iR;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(iR||(iR={}));function kSe(e,t){return new NSe(e,t).decode()}var Ia=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function b3(){Ia.console&&typeof Ia.console.log=="function"&&Ia.console.log.apply(Ia.console,arguments)}var ss={log:b3,warn:function(e){Ia.console&&(typeof Ia.console.warn=="function"?Ia.console.warn.apply(Ia.console,arguments):b3.call(null,arguments))},error:function(e){Ia.console&&(typeof Ia.console.error=="function"?Ia.console.error.apply(Ia.console,arguments):b3(e))}};function y3(e,t,a){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){E0(r.response,t,a)},r.onerror=function(){ss.error("could not download file")},r.send()}function lR(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function t2(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var E0=Ia.saveAs||((typeof window>"u"?"undefined":Vr(window))!=="object"||window!==Ia?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,a){var r=Ia.URL||Ia.webkitURL,n=document.createElement("a");t=t||e.name||"download",n.download=t,n.rel="noopener",typeof e=="string"?(n.href=e,n.origin!==location.origin?lR(n.href)?y3(e,t,a):t2(n,n.target="_blank"):t2(n)):(n.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(n.href)},4e4),setTimeout(function(){t2(n)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,a){if(t=t||e.name||"download",typeof e=="string")if(lR(e))y3(e,t,a);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){t2(r)})}else navigator.msSaveOrOpenBlob((function(n,i){return i===void 0?i={autoBom:!1}:Vr(i)!=="object"&&(ss.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n})(e,a),t)}:function(e,t,a,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return y3(e,t,a);var n=e.type==="application/octet-stream",i=/constructor/i.test(Ia.HTMLElement)||Ia.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||n&&i)&&(typeof FileReader>"u"?"undefined":Vr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=l?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},o.readAsDataURL(e)}else{var c=Ia.URL||Ia.webkitURL,d=c.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Yq(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var a=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<a.length;r++){var n=a[r].re,i=a[r].process,l=n.exec(e);l&&(t=i(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+o+c+d}}var I2=Ia.atob.bind(Ia),oR=Ia.btoa.bind(Ia);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function w3(e,t){var a=e[0],r=e[1],n=e[2],i=e[3];a=Xi(a,r,n,i,t[0],7,-680876936),i=Xi(i,a,r,n,t[1],12,-389564586),n=Xi(n,i,a,r,t[2],17,606105819),r=Xi(r,n,i,a,t[3],22,-1044525330),a=Xi(a,r,n,i,t[4],7,-176418897),i=Xi(i,a,r,n,t[5],12,1200080426),n=Xi(n,i,a,r,t[6],17,-1473231341),r=Xi(r,n,i,a,t[7],22,-45705983),a=Xi(a,r,n,i,t[8],7,1770035416),i=Xi(i,a,r,n,t[9],12,-1958414417),n=Xi(n,i,a,r,t[10],17,-42063),r=Xi(r,n,i,a,t[11],22,-1990404162),a=Xi(a,r,n,i,t[12],7,1804603682),i=Xi(i,a,r,n,t[13],12,-40341101),n=Xi(n,i,a,r,t[14],17,-1502002290),a=Qi(a,r=Xi(r,n,i,a,t[15],22,1236535329),n,i,t[1],5,-165796510),i=Qi(i,a,r,n,t[6],9,-1069501632),n=Qi(n,i,a,r,t[11],14,643717713),r=Qi(r,n,i,a,t[0],20,-373897302),a=Qi(a,r,n,i,t[5],5,-701558691),i=Qi(i,a,r,n,t[10],9,38016083),n=Qi(n,i,a,r,t[15],14,-660478335),r=Qi(r,n,i,a,t[4],20,-405537848),a=Qi(a,r,n,i,t[9],5,568446438),i=Qi(i,a,r,n,t[14],9,-1019803690),n=Qi(n,i,a,r,t[3],14,-187363961),r=Qi(r,n,i,a,t[8],20,1163531501),a=Qi(a,r,n,i,t[13],5,-1444681467),i=Qi(i,a,r,n,t[2],9,-51403784),n=Qi(n,i,a,r,t[7],14,1735328473),a=Ji(a,r=Qi(r,n,i,a,t[12],20,-1926607734),n,i,t[5],4,-378558),i=Ji(i,a,r,n,t[8],11,-2022574463),n=Ji(n,i,a,r,t[11],16,1839030562),r=Ji(r,n,i,a,t[14],23,-35309556),a=Ji(a,r,n,i,t[1],4,-1530992060),i=Ji(i,a,r,n,t[4],11,1272893353),n=Ji(n,i,a,r,t[7],16,-155497632),r=Ji(r,n,i,a,t[10],23,-1094730640),a=Ji(a,r,n,i,t[13],4,681279174),i=Ji(i,a,r,n,t[0],11,-358537222),n=Ji(n,i,a,r,t[3],16,-722521979),r=Ji(r,n,i,a,t[6],23,76029189),a=Ji(a,r,n,i,t[9],4,-640364487),i=Ji(i,a,r,n,t[12],11,-421815835),n=Ji(n,i,a,r,t[15],16,530742520),a=Zi(a,r=Ji(r,n,i,a,t[2],23,-995338651),n,i,t[0],6,-198630844),i=Zi(i,a,r,n,t[7],10,1126891415),n=Zi(n,i,a,r,t[14],15,-1416354905),r=Zi(r,n,i,a,t[5],21,-57434055),a=Zi(a,r,n,i,t[12],6,1700485571),i=Zi(i,a,r,n,t[3],10,-1894986606),n=Zi(n,i,a,r,t[10],15,-1051523),r=Zi(r,n,i,a,t[1],21,-2054922799),a=Zi(a,r,n,i,t[8],6,1873313359),i=Zi(i,a,r,n,t[15],10,-30611744),n=Zi(n,i,a,r,t[6],15,-1560198380),r=Zi(r,n,i,a,t[13],21,1309151649),a=Zi(a,r,n,i,t[4],6,-145523070),i=Zi(i,a,r,n,t[11],10,-1120210379),n=Zi(n,i,a,r,t[2],15,718787259),r=Zi(r,n,i,a,t[9],21,-343485551),e[0]=Sf(a,e[0]),e[1]=Sf(r,e[1]),e[2]=Sf(n,e[2]),e[3]=Sf(i,e[3])}function rN(e,t,a,r,n,i){return t=Sf(Sf(t,e),Sf(r,i)),Sf(t<<n|t>>>32-n,a)}function Xi(e,t,a,r,n,i,l){return rN(t&a|~t&r,e,t,n,i,l)}function Qi(e,t,a,r,n,i,l){return rN(t&r|a&~r,e,t,n,i,l)}function Ji(e,t,a,r,n,i,l){return rN(t^a^r,e,t,n,i,l)}function Zi(e,t,a,r,n,i,l){return rN(a^(t|~r),e,t,n,i,l)}function Xq(e){var t,a=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)w3(r,CSe(e.substring(t-64,t)));e=e.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(w3(r,n),t=0;t<16;t++)n[t]=0;return n[14]=8*a,w3(r,n),r}function CSe(e){var t,a=[];for(t=0;t<64;t+=4)a[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return a}var cR="0123456789abcdef".split("");function ASe(e){for(var t="",a=0;a<4;a++)t+=cR[e>>8*a+4&15]+cR[e>>8*a&15];return t}function _Se(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function EC(e){return Xq(e).map(_Se).join("")}var TSe=(function(e){for(var t=0;t<e.length;t++)e[t]=ASe(e[t]);return e.join("")})(Xq("hello"))!="5d41402abc4b2a76b9719d911017c592";function Sf(e,t){if(TSe){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function DC(e,t){var a,r,n,i;if(e!==a){for(var l=(n=e,i=1+(256/e.length|0),new Array(i+1).join(n)),o=[],c=0;c<256;c++)o[c]=c;var d=0;for(c=0;c<256;c++){var u=o[c];d=(d+u+l.charCodeAt(c))%256,o[c]=o[d],o[d]=u}a=e,r=o}else o=r;var f=t.length,x=0,p=0,v="";for(c=0;c<f;c++)p=(p+(u=o[x=(x+1)%256]))%256,o[x]=o[p],o[p]=u,l=o[(o[x]+o[p])%256],v+=String.fromCharCode(t.charCodeAt(c)^l);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var dR={print:4,modify:8,copy:16,"annot-forms":32};function Rp(e,t,a,r){this.v=1,this.r=2;var n=192;e.forEach(function(o){if(dR.perm!==void 0)throw new Error("Invalid permission: "+o);n+=dR[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),l=(a+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,l),this.P=-(1+(255^n)),this.encryptionKey=EC(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=DC(this.encryptionKey,this.padding)}function Fp(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",a=e.length,r=0;r<a;r++){var n=e.charCodeAt(r);t+=n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?"#"+("0"+n.toString(16)).slice(-2):e[r]}return t}function uR(e){if(Vr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(a,r,n){if(n=n||!1,typeof a!="string"||typeof r!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(a)||(t[a]={});var i=Math.random().toString(35);return t[a][i]=[r,!!n],i},this.unsubscribe=function(a){for(var r in t)if(t[r][a])return delete t[r][a],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(a){if(t.hasOwnProperty(a)){var r=Array.prototype.slice.call(arguments,1),n=[];for(var i in t[a]){var l=t[a][i];try{l[0].apply(e,r)}catch(o){Ia.console&&ss.error("jsPDF PubSub Error",o.message,o)}l[1]&&n.push(i)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function mv(e){if(!(this instanceof mv))return new mv(e);var t="opacity,stroke-opacity".split(",");for(var a in e)e.hasOwnProperty(a)&&t.indexOf(a)>=0&&(this[a]=e[a]);this.id="",this.objectNumber=-1}function Qq(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function xf(e,t,a,r,n){if(!(this instanceof xf))return new xf(e,t,a,r,n);this.type=e==="axial"?2:3,this.coords=t,this.colors=a,Qq.call(this,r,n)}function B0(e,t,a,r,n){if(!(this instanceof B0))return new B0(e,t,a,r,n);this.boundingBox=e,this.xStep=t,this.yStep=a,this.stream="",this.cloneIndex=0,Qq.call(this,r,n)}function ha(e){var t,a=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],n=arguments[2],i=arguments[3],l=[],o=1,c=16,d="S",u=null;Vr(e=e||{})==="object"&&(a=e.orientation,r=e.unit||r,n=e.format||n,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),l=e.filters||(i===!0?["FlateEncode"]:l),r=r||"mm",a=(""+(a||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,x={},p={internal:{},__private__:{}};p.__private__.PubSub=uR;var v="1.3",g=p.__private__.getPdfVersion=function(){return v};p.__private__.setPdfVersion=function(K){v=K};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return b};var j=p.__private__.getPageFormat=function(K){return b[K]};n=n||"a4";var N="compat",S="advanced",k=N;function A(){this.saveGraphicsState(),de(new ta(At,0,0,-At,0,mu()*At).toString()+" cm"),this.setFontSize(this.getFontSize()/At),d="n",k=S}function _(){this.restoreGraphicsState(),d="S",k=N}var M=p.__private__.combineFontStyleAndFontWeight=function(K,me){if(K=="bold"&&me=="normal"||K=="bold"&&me==400||K=="normal"&&me=="italic"||K=="bold"&&me=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return me&&(K=me==400||me==="normal"?K==="italic"?"italic":"normal":me!=700&&me!=="bold"||K!=="normal"?(me==700?"bold":me)+""+K:"bold"),K};p.advancedAPI=function(K){var me=k===N;return me&&A.call(this),typeof K!="function"||(K(this),me&&_.call(this)),this},p.compatAPI=function(K){var me=k===S;return me&&_.call(this),typeof K!="function"||(K(this),me&&A.call(this)),this},p.isAdvancedAPI=function(){return k===S};var L,U=function(K){if(k!==S)throw new Error(K+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=p.roundToPrecision=p.__private__.roundToPrecision=function(K,me){var Le=t||me;if(isNaN(K)||isNaN(Le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return K.toFixed(Le).replace(/0+$/,"")};L=p.hpf=p.__private__.hpf=typeof c=="number"?function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return z(K,c)}:c==="smart"?function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return z(K,K>-1&&K<1?16:5)}:function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return z(K,16)};var O=p.f2=p.__private__.f2=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.f2");return z(K,2)},B=p.__private__.f3=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.f3");return z(K,3)},E=p.scale=p.__private__.scale=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.scale");return k===N?K*At:k===S?K:void 0},R=function(K){return E((function(me){return k===N?mu()-me:k===S?me:void 0})(K))};p.__private__.setPrecision=p.setPrecision=function(K){typeof parseInt(K,10)=="number"&&(t=parseInt(K,10))};var q,I="00000000000000000000000000000000",G=p.__private__.getFileId=function(){return I},re=p.__private__.setFileId=function(K){return I=K!==void 0&&/^[a-fA-F0-9]{32}$/.test(K)?K.toUpperCase():I.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(fr=new Rp(u.userPermissions,u.userPassword,u.ownerPassword,I)),I};p.setFileId=function(K){return re(K),this},p.getFileId=function(){return G()};var te=p.__private__.convertDateToPDFDate=function(K){var me=K.getTimezoneOffset(),Le=me<0?"+":"-",Ue=Math.floor(Math.abs(me/60)),Qe=Math.abs(me%60),St=[Le,H(Ue),"'",H(Qe),"'"].join("");return["D:",K.getFullYear(),H(K.getMonth()+1),H(K.getDate()),H(K.getHours()),H(K.getMinutes()),H(K.getSeconds()),St].join("")},X=p.__private__.convertPDFDateToDate=function(K){var me=parseInt(K.substr(2,4),10),Le=parseInt(K.substr(6,2),10)-1,Ue=parseInt(K.substr(8,2),10),Qe=parseInt(K.substr(10,2),10),St=parseInt(K.substr(12,2),10),Ot=parseInt(K.substr(14,2),10);return new Date(me,Le,Ue,Qe,St,Ot,0)},ce=p.__private__.setCreationDate=function(K){var me;if(K===void 0&&(K=new Date),K instanceof Date)me=te(K);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(K))throw new Error("Invalid argument passed to jsPDF.setCreationDate");me=K}return q=me},D=p.__private__.getCreationDate=function(K){var me=q;return K==="jsDate"&&(me=X(q)),me};p.setCreationDate=function(K){return ce(K),this},p.getCreationDate=function(K){return D(K)};var Q,H=p.__private__.padd2=function(K){return("0"+parseInt(K)).slice(-2)},J=p.__private__.padd2Hex=function(K){return("00"+(K=K.toString())).substr(K.length)},ae=0,ie=[],le=[],Y=0,oe=[],xe=[],W=!1,he=le;p.__private__.setCustomOutputDestination=function(K){W=!0,he=K};var fe=function(K){W||(he=K)};p.__private__.resetCustomOutputDestination=function(){W=!1,he=le};var de=p.__private__.out=function(K){return K=K.toString(),Y+=K.length+1,he.push(K),he},Oe=p.__private__.write=function(K){return de(arguments.length===1?K.toString():Array.prototype.join.call(arguments," "))},Fe=p.__private__.getArrayBuffer=function(K){for(var me=K.length,Le=new ArrayBuffer(me),Ue=new Uint8Array(Le);me--;)Ue[me]=K.charCodeAt(me);return Le},Ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ee};var se=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(K){return se=k===S?K/At:K,this};var _e,je=p.__private__.getFontSize=p.getFontSize=function(){return k===N?se:se*At},rt=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(K){return rt=K,this},p.__private__.getR2L=p.getR2L=function(){return rt};var ft,Bt=p.__private__.setZoomMode=function(K){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(K))_e=K;else if(isNaN(K)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(K)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+K+'" is not recognized.');_e=K}else _e=parseInt(K,10)};p.__private__.getZoomMode=function(){return _e};var Je,$e=p.__private__.setPageMode=function(K){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(K)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+K+'" is not recognized.');ft=K};p.__private__.getPageMode=function(){return ft};var ze=p.__private__.setLayoutMode=function(K){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(K)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+K+'" is not recognized.');Je=K};p.__private__.getLayoutMode=function(){return Je},p.__private__.setDisplayMode=p.setDisplayMode=function(K,me,Le){return Bt(K),ze(me),$e(Le),this};var Ze={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(K){if(Object.keys(Ze).indexOf(K)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ze[K]},p.__private__.getDocumentProperties=function(){return Ze},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(K){for(var me in Ze)Ze.hasOwnProperty(me)&&K[me]&&(Ze[me]=K[me]);return this},p.__private__.setDocumentProperty=function(K,me){if(Object.keys(Ze).indexOf(K)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ze[K]=me};var dt,At,kt,Dt,zt,qt={},Te={},$t=[],We={},Ut={},Vt={},fa={},Ka=null,Oa=0,oa=[],Ba=new uR(p),Be=e.hotfixes||[],st={},Nt={},yt=[],ta=function K(me,Le,Ue,Qe,St,Ot){if(!(this instanceof K))return new K(me,Le,Ue,Qe,St,Ot);isNaN(me)&&(me=1),isNaN(Le)&&(Le=0),isNaN(Ue)&&(Ue=0),isNaN(Qe)&&(Qe=1),isNaN(St)&&(St=0),isNaN(Ot)&&(Ot=0),this._matrix=[me,Le,Ue,Qe,St,Ot]};Object.defineProperty(ta.prototype,"sx",{get:function(){return this._matrix[0]},set:function(K){this._matrix[0]=K}}),Object.defineProperty(ta.prototype,"shy",{get:function(){return this._matrix[1]},set:function(K){this._matrix[1]=K}}),Object.defineProperty(ta.prototype,"shx",{get:function(){return this._matrix[2]},set:function(K){this._matrix[2]=K}}),Object.defineProperty(ta.prototype,"sy",{get:function(){return this._matrix[3]},set:function(K){this._matrix[3]=K}}),Object.defineProperty(ta.prototype,"tx",{get:function(){return this._matrix[4]},set:function(K){this._matrix[4]=K}}),Object.defineProperty(ta.prototype,"ty",{get:function(){return this._matrix[5]},set:function(K){this._matrix[5]=K}}),Object.defineProperty(ta.prototype,"a",{get:function(){return this._matrix[0]},set:function(K){this._matrix[0]=K}}),Object.defineProperty(ta.prototype,"b",{get:function(){return this._matrix[1]},set:function(K){this._matrix[1]=K}}),Object.defineProperty(ta.prototype,"c",{get:function(){return this._matrix[2]},set:function(K){this._matrix[2]=K}}),Object.defineProperty(ta.prototype,"d",{get:function(){return this._matrix[3]},set:function(K){this._matrix[3]=K}}),Object.defineProperty(ta.prototype,"e",{get:function(){return this._matrix[4]},set:function(K){this._matrix[4]=K}}),Object.defineProperty(ta.prototype,"f",{get:function(){return this._matrix[5]},set:function(K){this._matrix[5]=K}}),Object.defineProperty(ta.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ta.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ta.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ta.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ta.prototype.join=function(K){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(K)},ta.prototype.multiply=function(K){var me=K.sx*this.sx+K.shy*this.shx,Le=K.sx*this.shy+K.shy*this.sy,Ue=K.shx*this.sx+K.sy*this.shx,Qe=K.shx*this.shy+K.sy*this.sy,St=K.tx*this.sx+K.ty*this.shx+this.tx,Ot=K.tx*this.shy+K.ty*this.sy+this.ty;return new ta(me,Le,Ue,Qe,St,Ot)},ta.prototype.decompose=function(){var K=this.sx,me=this.shy,Le=this.shx,Ue=this.sy,Qe=this.tx,St=this.ty,Ot=Math.sqrt(K*K+me*me),sa=(K/=Ot)*Le+(me/=Ot)*Ue;Le-=K*sa,Ue-=me*sa;var xa=Math.sqrt(Le*Le+Ue*Ue);return sa/=xa,K*(Ue/=xa)<me*(Le/=xa)&&(K=-K,me=-me,sa=-sa,Ot=-Ot),{scale:new ta(Ot,0,0,xa,0,0),translate:new ta(1,0,0,1,Qe,St),rotate:new ta(K,me,-me,K,0,0),skew:new ta(1,0,sa,1,0,0)}},ta.prototype.toString=function(K){return this.join(" ")},ta.prototype.inversed=function(){var K=this.sx,me=this.shy,Le=this.shx,Ue=this.sy,Qe=this.tx,St=this.ty,Ot=1/(K*Ue-me*Le),sa=Ue*Ot,xa=-me*Ot,Ea=-Le*Ot,$a=K*Ot;return new ta(sa,xa,Ea,$a,-sa*Qe-Ea*St,-xa*Qe-$a*St)},ta.prototype.applyToPoint=function(K){var me=K.x*this.sx+K.y*this.shx+this.tx,Le=K.x*this.shy+K.y*this.sy+this.ty;return new hu(me,Le)},ta.prototype.applyToRectangle=function(K){var me=this.applyToPoint(K),Le=this.applyToPoint(new hu(K.x+K.w,K.y+K.h));return new fu(me.x,me.y,Le.x-me.x,Le.y-me.y)},ta.prototype.clone=function(){var K=this.sx,me=this.shy,Le=this.shx,Ue=this.sy,Qe=this.tx,St=this.ty;return new ta(K,me,Le,Ue,Qe,St)},p.Matrix=ta;var Aa=p.matrixMult=function(K,me){return me.multiply(K)},lr=new ta(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=lr;var qa=function(K,me){if(!Ut[K]){var Le=(me instanceof xf?"Sh":"P")+(Object.keys(We).length+1).toString(10);me.id=Le,Ut[K]=Le,We[Le]=me,Ba.publish("addPattern",me)}};p.ShadingPattern=xf,p.TilingPattern=B0,p.addShadingPattern=function(K,me){return U("addShadingPattern()"),qa(K,me),this},p.beginTilingPattern=function(K){U("beginTilingPattern()"),Dc(K.boundingBox[0],K.boundingBox[1],K.boundingBox[2]-K.boundingBox[0],K.boundingBox[3]-K.boundingBox[1],K.matrix)},p.endTilingPattern=function(K,me){U("endTilingPattern()"),me.stream=xe[Q].join(`
`),qa(K,me),Ba.publish("endTilingPattern",me),yt.pop().restore()};var er,Ta=p.__private__.newObject=function(){var K=Cr();return ee(K,!0),K},Cr=p.__private__.newObjectDeferred=function(){return ae++,ie[ae]=function(){return Y},ae},ee=function(K,me){return me=typeof me=="boolean"&&me,ie[K]=Y,me&&de(K+" 0 obj"),K},ke=p.__private__.newAdditionalObject=function(){var K={objId:Cr(),content:""};return oe.push(K),K},ye=Cr(),Ne=Cr(),Ae=p.__private__.decodeColorString=function(K){var me=K.split(" ");if(me.length!==2||me[1]!=="g"&&me[1]!=="G")me.length!==5||me[4]!=="k"&&me[4]!=="K"||(me=[(1-me[0])*(1-me[3]),(1-me[1])*(1-me[3]),(1-me[2])*(1-me[3]),"r"]);else{var Le=parseFloat(me[0]);me=[Le,Le,Le,"r"]}for(var Ue="#",Qe=0;Qe<3;Qe++)Ue+=("0"+Math.floor(255*parseFloat(me[Qe])).toString(16)).slice(-2);return Ue},De=p.__private__.encodeColorString=function(K){var me;typeof K=="string"&&(K={ch1:K});var Le=K.ch1,Ue=K.ch2,Qe=K.ch3,St=K.ch4,Ot=K.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Le=="string"&&Le.charAt(0)!=="#"){var sa=new Yq(Le);if(sa.ok)Le=sa.toHex();else if(!/^\d*\.?\d*$/.test(Le))throw new Error('Invalid color "'+Le+'" passed to jsPDF.encodeColorString.')}if(typeof Le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Le)&&(Le="#"+Le[1]+Le[1]+Le[2]+Le[2]+Le[3]+Le[3]),typeof Le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Le)){var xa=parseInt(Le.substr(1),16);Le=xa>>16&255,Ue=xa>>8&255,Qe=255&xa}if(Ue===void 0||St===void 0&&Le===Ue&&Ue===Qe)me=typeof Le=="string"?Le+" "+Ot[0]:K.precision===2?O(Le/255)+" "+Ot[0]:B(Le/255)+" "+Ot[0];else if(St===void 0||Vr(St)==="object"){if(St&&!isNaN(St.a)&&St.a===0)return["1.","1.","1.",Ot[1]].join(" ");me=typeof Le=="string"?[Le,Ue,Qe,Ot[1]].join(" "):K.precision===2?[O(Le/255),O(Ue/255),O(Qe/255),Ot[1]].join(" "):[B(Le/255),B(Ue/255),B(Qe/255),Ot[1]].join(" ")}else me=typeof Le=="string"?[Le,Ue,Qe,St,Ot[2]].join(" "):K.precision===2?[O(Le),O(Ue),O(Qe),O(St),Ot[2]].join(" "):[B(Le),B(Ue),B(Qe),B(St),Ot[2]].join(" ");return me},Ye=p.__private__.getFilters=function(){return l},ut=p.__private__.putStream=function(K){var me=(K=K||{}).data||"",Le=K.filters||Ye(),Ue=K.alreadyAppliedFilters||[],Qe=K.addLength1||!1,St=me.length,Ot=K.objectId,sa=function(cn){return cn};if(u!==null&&Ot===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(sa=fr.encryptor(Ot,0));var xa={};Le===!0&&(Le=["FlateEncode"]);var Ea=K.additionalKeyValues||[],$a=(xa=ha.API.processDataByFilters!==void 0?ha.API.processDataByFilters(me,Le):{data:me,reverseChain:[]}).reverseChain+(Array.isArray(Ue)?Ue.join(" "):Ue.toString());if(xa.data.length!==0&&(Ea.push({key:"Length",value:xa.data.length}),Qe===!0&&Ea.push({key:"Length1",value:St})),$a.length!=0)if($a.split("/").length-1==1)Ea.push({key:"Filter",value:$a});else{Ea.push({key:"Filter",value:"["+$a+"]"});for(var br=0;br<Ea.length;br+=1)if(Ea[br].key==="DecodeParms"){for(var cs=[],qs=0;qs<xa.reverseChain.split("/").length-1;qs+=1)cs.push("null");cs.push(Ea[br].value),Ea[br].value="["+cs.join(" ")+"]"}}de("<<");for(var qr=0;qr<Ea.length;qr++)de("/"+Ea[qr].key+" "+Ea[qr].value);de(">>"),xa.data.length!==0&&(de("stream"),de(sa(xa.data)),de("endstream"))},Ke=p.__private__.putPage=function(K){var me=K.number,Le=K.data,Ue=K.objId,Qe=K.contentsObjId;ee(Ue,!0),de("<</Type /Page"),de("/Parent "+K.rootDictionaryObjId+" 0 R"),de("/Resources "+K.resourceDictionaryObjId+" 0 R"),de("/MediaBox ["+parseFloat(L(K.mediaBox.bottomLeftX))+" "+parseFloat(L(K.mediaBox.bottomLeftY))+" "+L(K.mediaBox.topRightX)+" "+L(K.mediaBox.topRightY)+"]"),K.cropBox!==null&&de("/CropBox ["+L(K.cropBox.bottomLeftX)+" "+L(K.cropBox.bottomLeftY)+" "+L(K.cropBox.topRightX)+" "+L(K.cropBox.topRightY)+"]"),K.bleedBox!==null&&de("/BleedBox ["+L(K.bleedBox.bottomLeftX)+" "+L(K.bleedBox.bottomLeftY)+" "+L(K.bleedBox.topRightX)+" "+L(K.bleedBox.topRightY)+"]"),K.trimBox!==null&&de("/TrimBox ["+L(K.trimBox.bottomLeftX)+" "+L(K.trimBox.bottomLeftY)+" "+L(K.trimBox.topRightX)+" "+L(K.trimBox.topRightY)+"]"),K.artBox!==null&&de("/ArtBox ["+L(K.artBox.bottomLeftX)+" "+L(K.artBox.bottomLeftY)+" "+L(K.artBox.topRightX)+" "+L(K.artBox.topRightY)+"]"),typeof K.userUnit=="number"&&K.userUnit!==1&&de("/UserUnit "+K.userUnit),Ba.publish("putPage",{objId:Ue,pageContext:oa[me],pageNumber:me,page:Le}),de("/Contents "+Qe+" 0 R"),de(">>"),de("endobj");var St=Le.join(`
`);return k===S&&(St+=`
Q`),ee(Qe,!0),ut({data:St,filters:Ye(),objectId:Qe}),de("endobj"),Ue},et=p.__private__.putPages=function(){var K,me,Le=[];for(K=1;K<=Oa;K++)oa[K].objId=Cr(),oa[K].contentsObjId=Cr();for(K=1;K<=Oa;K++)Le.push(Ke({number:K,data:xe[K],objId:oa[K].objId,contentsObjId:oa[K].contentsObjId,mediaBox:oa[K].mediaBox,cropBox:oa[K].cropBox,bleedBox:oa[K].bleedBox,trimBox:oa[K].trimBox,artBox:oa[K].artBox,userUnit:oa[K].userUnit,rootDictionaryObjId:ye,resourceDictionaryObjId:Ne}));ee(ye,!0),de("<</Type /Pages");var Ue="/Kids [";for(me=0;me<Oa;me++)Ue+=Le[me]+" 0 R ";de(Ue+"]"),de("/Count "+Oa),de(">>"),de("endobj"),Ba.publish("postPutPages")},at=function(K){Ba.publish("putFont",{font:K,out:de,newObject:Ta,putStream:ut}),K.isAlreadyPutted!==!0&&(K.objectNumber=Ta(),de("<<"),de("/Type /Font"),de("/BaseFont /"+Fp(K.postScriptName)),de("/Subtype /Type1"),typeof K.encoding=="string"&&de("/Encoding /"+K.encoding),de("/FirstChar 32"),de("/LastChar 255"),de(">>"),de("endobj"))},vt=function(K){K.objectNumber=Ta();var me=[];me.push({key:"Type",value:"/XObject"}),me.push({key:"Subtype",value:"/Form"}),me.push({key:"BBox",value:"["+[L(K.x),L(K.y),L(K.x+K.width),L(K.y+K.height)].join(" ")+"]"}),me.push({key:"Matrix",value:"["+K.matrix.toString()+"]"});var Le=K.pages[1].join(`
`);ut({data:Le,additionalKeyValues:me,objectId:K.objectNumber}),de("endobj")},Lt=function(K,me){me||(me=21);var Le=Ta(),Ue=(function(Ot,sa){var xa,Ea=[],$a=1/(sa-1);for(xa=0;xa<1;xa+=$a)Ea.push(xa);if(Ea.push(1),Ot[0].offset!=0){var br={offset:0,color:Ot[0].color};Ot.unshift(br)}if(Ot[Ot.length-1].offset!=1){var cs={offset:1,color:Ot[Ot.length-1].color};Ot.push(cs)}for(var qs="",qr=0,cn=0;cn<Ea.length;cn++){for(xa=Ea[cn];xa>Ot[qr+1].offset;)qr++;var Gs=Ot[qr].offset,Vn=(xa-Gs)/(Ot[qr+1].offset-Gs),Bl=Ot[qr].color,Wi=Ot[qr+1].color;qs+=J(Math.round((1-Vn)*Bl[0]+Vn*Wi[0]).toString(16))+J(Math.round((1-Vn)*Bl[1]+Vn*Wi[1]).toString(16))+J(Math.round((1-Vn)*Bl[2]+Vn*Wi[2]).toString(16))}return qs.trim()})(K.colors,me),Qe=[];Qe.push({key:"FunctionType",value:"0"}),Qe.push({key:"Domain",value:"[0.0 1.0]"}),Qe.push({key:"Size",value:"["+me+"]"}),Qe.push({key:"BitsPerSample",value:"8"}),Qe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ut({data:Ue,additionalKeyValues:Qe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Le}),de("endobj"),K.objectNumber=Ta(),de("<< /ShadingType "+K.type),de("/ColorSpace /DeviceRGB");var St="/Coords ["+L(parseFloat(K.coords[0]))+" "+L(parseFloat(K.coords[1]))+" ";K.type===2?St+=L(parseFloat(K.coords[2]))+" "+L(parseFloat(K.coords[3])):St+=L(parseFloat(K.coords[2]))+" "+L(parseFloat(K.coords[3]))+" "+L(parseFloat(K.coords[4]))+" "+L(parseFloat(K.coords[5])),de(St+="]"),K.matrix&&de("/Matrix ["+K.matrix.toString()+"]"),de("/Function "+Le+" 0 R"),de("/Extend [true true]"),de(">>"),de("endobj")},Xt=function(K,me){var Le=Cr(),Ue=Ta();me.push({resourcesOid:Le,objectOid:Ue}),K.objectNumber=Ue;var Qe=[];Qe.push({key:"Type",value:"/Pattern"}),Qe.push({key:"PatternType",value:"1"}),Qe.push({key:"PaintType",value:"1"}),Qe.push({key:"TilingType",value:"1"}),Qe.push({key:"BBox",value:"["+K.boundingBox.map(L).join(" ")+"]"}),Qe.push({key:"XStep",value:L(K.xStep)}),Qe.push({key:"YStep",value:L(K.yStep)}),Qe.push({key:"Resources",value:Le+" 0 R"}),K.matrix&&Qe.push({key:"Matrix",value:"["+K.matrix.toString()+"]"}),ut({data:K.stream,additionalKeyValues:Qe,objectId:K.objectNumber}),de("endobj")},Ce=function(K){for(var me in K.objectNumber=Ta(),de("<<"),K)switch(me){case"opacity":de("/ca "+O(K[me]));break;case"stroke-opacity":de("/CA "+O(K[me]))}de(">>"),de("endobj")},Ve=function(K){ee(K.resourcesOid,!0),de("<<"),de("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var me in de("/Font <<"),qt)qt.hasOwnProperty(me)&&(f===!1||f===!0&&x.hasOwnProperty(me))&&de("/"+me+" "+qt[me].objectNumber+" 0 R");de(">>")})(),(function(){if(Object.keys(We).length>0){for(var me in de("/Shading <<"),We)We.hasOwnProperty(me)&&We[me]instanceof xf&&We[me].objectNumber>=0&&de("/"+me+" "+We[me].objectNumber+" 0 R");Ba.publish("putShadingPatternDict"),de(">>")}})(),(function(me){if(Object.keys(We).length>0){for(var Le in de("/Pattern <<"),We)We.hasOwnProperty(Le)&&We[Le]instanceof p.TilingPattern&&We[Le].objectNumber>=0&&We[Le].objectNumber<me&&de("/"+Le+" "+We[Le].objectNumber+" 0 R");Ba.publish("putTilingPatternDict"),de(">>")}})(K.objectOid),(function(){if(Object.keys(Vt).length>0){var me;for(me in de("/ExtGState <<"),Vt)Vt.hasOwnProperty(me)&&Vt[me].objectNumber>=0&&de("/"+me+" "+Vt[me].objectNumber+" 0 R");Ba.publish("putGStateDict"),de(">>")}})(),(function(){for(var me in de("/XObject <<"),st)st.hasOwnProperty(me)&&st[me].objectNumber>=0&&de("/"+me+" "+st[me].objectNumber+" 0 R");Ba.publish("putXobjectDict"),de(">>")})(),de(">>"),de("endobj")},Ht=function(K){Te[K.fontName]=Te[K.fontName]||{},Te[K.fontName][K.fontStyle]=K.id},ma=function(K,me,Le,Ue,Qe){var St={id:"F"+(Object.keys(qt).length+1).toString(10),postScriptName:K,fontName:me,fontStyle:Le,encoding:Ue,isStandardFont:Qe||!1,metadata:{}};return Ba.publish("addFont",{font:St,instance:this}),qt[St.id]=St,Ht(St),St.id},va=p.__private__.pdfEscape=p.pdfEscape=function(K,me){return(function(Le,Ue){var Qe,St,Ot,sa,xa,Ea,$a,br,cs;if(Ot=(Ue=Ue||{}).sourceEncoding||"Unicode",xa=Ue.outputEncoding,(Ue.autoencode||xa)&&qt[dt].metadata&&qt[dt].metadata[Ot]&&qt[dt].metadata[Ot].encoding&&(sa=qt[dt].metadata[Ot].encoding,!xa&&qt[dt].encoding&&(xa=qt[dt].encoding),!xa&&sa.codePages&&(xa=sa.codePages[0]),typeof xa=="string"&&(xa=sa[xa]),xa)){for($a=!1,Ea=[],Qe=0,St=Le.length;Qe<St;Qe++)(br=xa[Le.charCodeAt(Qe)])?Ea.push(String.fromCharCode(br)):Ea.push(Le[Qe]),Ea[Qe].charCodeAt(0)>>8&&($a=!0);Le=Ea.join("")}for(Qe=Le.length;$a===void 0&&Qe!==0;)Le.charCodeAt(Qe-1)>>8&&($a=!0),Qe--;if(!$a)return Le;for(Ea=Ue.noBOM?[]:[254,255],Qe=0,St=Le.length;Qe<St;Qe++){if((cs=(br=Le.charCodeAt(Qe))>>8)>>8)throw new Error("Character at position "+Qe+" of string '"+Le+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ea.push(cs),Ea.push(br-(cs<<8))}return String.fromCharCode.apply(void 0,Ea)})(K,me).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ha=p.__private__.beginPage=function(K){xe[++Oa]=[],oa[Oa]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(K[0]),topRightY:Number(K[1])}},Un(Oa),fe(xe[Q])},Ws=function(K,me){var Le,Ue,Qe;switch(a=me||a,typeof K=="string"&&(Le=j(K.toLowerCase()),Array.isArray(Le)&&(Ue=Le[0],Qe=Le[1])),Array.isArray(K)&&(Ue=K[0]*At,Qe=K[1]*At),isNaN(Ue)&&(Ue=n[0],Qe=n[1]),(Ue>14400||Qe>14400)&&(ss.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ue=Math.min(14400,Ue),Qe=Math.min(14400,Qe)),n=[Ue,Qe],a.substr(0,1)){case"l":Qe>Ue&&(n=[Qe,Ue]);break;case"p":Ue>Qe&&(n=[Qe,Ue])}Ha(n),co(vs),de(_i),ho!==0&&de(ho+" J"),wd!==0&&de(wd+" j"),Ba.publish("addPage",{pageNumber:Oa})},Rr=function(K){K>0&&K<=Oa&&(xe.splice(K,1),oa.splice(K,1),Oa--,Q>Oa&&(Q=Oa),this.setPage(Q))},Un=function(K){K>0&&K<=Oa&&(Q=K)},oi=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return xe.length-1},Fl=function(K,me,Le){var Ue,Qe=void 0;return Le=Le||{},K=K!==void 0?K:qt[dt].fontName,me=me!==void 0?me:qt[dt].fontStyle,Ue=K.toLowerCase(),Te[Ue]!==void 0&&Te[Ue][me]!==void 0?Qe=Te[Ue][me]:Te[K]!==void 0&&Te[K][me]!==void 0?Qe=Te[K][me]:Le.disableWarning===!1&&ss.warn("Unable to look up font label for font '"+K+"', '"+me+"'. Refer to getFontList() for available fonts."),Qe||Le.noFallback||(Qe=Te.times[me])==null&&(Qe=Te.times.normal),Qe},Tn=p.__private__.putInfo=function(){var K=Ta(),me=function(Ue){return Ue};for(var Le in u!==null&&(me=fr.encryptor(K,0)),de("<<"),de("/Producer ("+va(me("jsPDF "+ha.version))+")"),Ze)Ze.hasOwnProperty(Le)&&Ze[Le]&&de("/"+Le.substr(0,1).toUpperCase()+Le.substr(1)+" ("+va(me(Ze[Le]))+")");de("/CreationDate ("+va(me(q))+")"),de(">>"),de("endobj")},cu=p.__private__.putCatalog=function(K){var me=(K=K||{}).rootDictionaryObjId||ye;switch(Ta(),de("<<"),de("/Type /Catalog"),de("/Pages "+me+" 0 R"),_e||(_e="fullwidth"),_e){case"fullwidth":de("/OpenAction [3 0 R /FitH null]");break;case"fullheight":de("/OpenAction [3 0 R /FitV null]");break;case"fullpage":de("/OpenAction [3 0 R /Fit]");break;case"original":de("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Le=""+_e;Le.substr(Le.length-1)==="%"&&(_e=parseInt(_e)/100),typeof _e=="number"&&de("/OpenAction [3 0 R /XYZ null null "+O(_e)+"]")}switch(Je||(Je="continuous"),Je){case"continuous":de("/PageLayout /OneColumn");break;case"single":de("/PageLayout /SinglePage");break;case"two":case"twoleft":de("/PageLayout /TwoColumnLeft");break;case"tworight":de("/PageLayout /TwoColumnRight")}ft&&de("/PageMode /"+ft),Ba.publish("putCatalog"),de(">>"),de("endobj")},hr=p.__private__.putTrailer=function(){de("trailer"),de("<<"),de("/Size "+(ae+1)),de("/Root "+ae+" 0 R"),de("/Info "+(ae-1)+" 0 R"),u!==null&&de("/Encrypt "+fr.oid+" 0 R"),de("/ID [ <"+I+"> <"+I+"> ]"),de(">>")},yd=p.__private__.putHeader=function(){de("%PDF-"+v),de("%")},du=p.__private__.putXRef=function(){var K="0000000000";de("xref"),de("0 "+(ae+1)),de("0000000000 65535 f ");for(var me=1;me<=ae;me++)typeof ie[me]=="function"?de((K+ie[me]()).slice(-10)+" 00000 n "):ie[me]!==void 0?de((K+ie[me]).slice(-10)+" 00000 n "):de("0000000000 00000 n ")},zn=p.__private__.buildDocument=function(){var K;ae=0,Y=0,le=[],ie=[],oe=[],ye=Cr(),Ne=Cr(),fe(le),Ba.publish("buildDocument"),yd(),et(),(function(){Ba.publish("putAdditionalObjects");for(var Le=0;Le<oe.length;Le++){var Ue=oe[Le];ee(Ue.objId,!0),de(Ue.content),de("endobj")}Ba.publish("postPutAdditionalObjects")})(),K=[],(function(){for(var Le in qt)qt.hasOwnProperty(Le)&&(f===!1||f===!0&&x.hasOwnProperty(Le))&&at(qt[Le])})(),(function(){var Le;for(Le in Vt)Vt.hasOwnProperty(Le)&&Ce(Vt[Le])})(),(function(){for(var Le in st)st.hasOwnProperty(Le)&&vt(st[Le])})(),(function(Le){var Ue;for(Ue in We)We.hasOwnProperty(Ue)&&(We[Ue]instanceof xf?Lt(We[Ue]):We[Ue]instanceof B0&&Xt(We[Ue],Le))})(K),Ba.publish("putResources"),K.forEach(Ve),Ve({resourcesOid:Ne,objectOid:Number.MAX_SAFE_INTEGER}),Ba.publish("postPutResources"),u!==null&&(fr.oid=Ta(),de("<<"),de("/Filter /Standard"),de("/V "+fr.v),de("/R "+fr.r),de("/U <"+fr.toHexString(fr.U)+">"),de("/O <"+fr.toHexString(fr.O)+">"),de("/P "+fr.P),de(">>"),de("endobj")),Tn(),cu();var me=Y;return du(),hr(),de("startxref"),de(""+me),de("%%EOF"),fe(xe[Q]),le.join(`
`)},Hn=p.__private__.getBlob=function(K){return new Blob([Fe(K)],{type:"application/pdf"})},ci=p.output=p.__private__.output=(er=function(K,me){switch(typeof(me=me||{})=="string"?me={filename:me}:me.filename=me.filename||"generated.pdf",K){case void 0:return zn();case"save":p.save(me.filename);break;case"arraybuffer":return Fe(zn());case"blob":return Hn(zn());case"bloburi":case"bloburl":if(Ia.URL!==void 0&&typeof Ia.URL.createObjectURL=="function")return Ia.URL&&Ia.URL.createObjectURL(Hn(zn()))||void 0;ss.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Le="",Ue=zn();try{Le=oR(Ue)}catch{Le=oR(unescape(encodeURIComponent(Ue)))}return"data:application/pdf;filename="+me.filename+";base64,"+Le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ia)==="[object Window]"){var Qe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",St=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';me.pdfObjectUrl&&(Qe=me.pdfObjectUrl,St="");var Ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Qe+'"'+St+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(me)+");<\/script></body></html>",sa=Ia.open();return sa!==null&&sa.document.write(Ot),sa}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ia)==="[object Window]"){var xa='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(me.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+me.filename+'" width="500px" height="400px" /></body></html>',Ea=Ia.open();if(Ea!==null){Ea.document.write(xa);var $a=this;Ea.document.documentElement.querySelector("#pdfViewer").onload=function(){Ea.document.title=me.filename,Ea.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open($a.output("bloburl"))}}return Ea}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ia)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var br='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",me)+'"></iframe></body></html>',cs=Ia.open();if(cs!==null&&(cs.document.write(br),cs.document.title=me.filename),cs||typeof safari>"u")return cs;break;case"datauri":case"dataurl":return Ia.document.location.href=this.output("datauristring",me);default:return null}},er.foo=function(){try{return er.apply(this,arguments)}catch(Le){var K=Le.stack||"";~K.indexOf(" at ")&&(K=K.split(" at ")[1]);var me="Error in function "+K.split(`
`)[0].split("<")[0]+": "+Le.message;if(!Ia.console)throw new Error(me);Ia.console.error(me,Le),Ia.alert&&alert(me)}},er.foo.bar=er,er.foo),Tc=function(K){return Array.isArray(Be)===!0&&Be.indexOf(K)>-1};switch(r){case"pt":At=1;break;case"mm":At=72/25.4;break;case"cm":At=72/2.54;break;case"in":At=72;break;case"px":At=Tc("px_scaling")==1?.75:96/72;break;case"pc":case"em":At=12;break;case"ex":At=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);At=r}var fr=null;ce(),re();var Ec=p.__private__.getPageInfo=p.getPageInfo=function(K){if(isNaN(K)||K%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:oa[K].objId,pageNumber:K,pageContext:oa[K]}},Th=p.__private__.getPageInfoByObjId=function(K){if(isNaN(K)||K%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var me in oa)if(oa[me].objId===K)break;return Ec(me)},uu=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:oa[Q].objId,pageNumber:Q,pageContext:oa[Q]}};p.addPage=function(){return Ws.apply(this,arguments),this},p.setPage=function(){return Un.apply(this,arguments),fe.call(this,xe[Q]),this},p.insertPage=function(K){return this.addPage(),this.movePage(Q,K),this},p.movePage=function(K,me){var Le,Ue;if(K>me){Le=xe[K],Ue=oa[K];for(var Qe=K;Qe>me;Qe--)xe[Qe]=xe[Qe-1],oa[Qe]=oa[Qe-1];xe[me]=Le,oa[me]=Ue,this.setPage(me)}else if(K<me){Le=xe[K],Ue=oa[K];for(var St=K;St<me;St++)xe[St]=xe[St+1],oa[St]=oa[St+1];xe[me]=Le,oa[me]=Ue,this.setPage(me)}return this},p.deletePage=function(){return Rr.apply(this,arguments),this},p.__private__.text=p.text=function(K,me,Le,Ue,Qe){var St,Ot,sa,xa,Ea,$a,br,cs,qs,qr=(Ue=Ue||{}).scope||this;if(typeof K=="number"&&typeof me=="number"&&(typeof Le=="string"||Array.isArray(Le))){var cn=Le;Le=me,me=K,K=cn}if(arguments[3]instanceof ta==0?(sa=arguments[4],xa=arguments[5],Vr(br=arguments[3])==="object"&&br!==null||(typeof sa=="string"&&(xa=sa,sa=null),typeof br=="string"&&(xa=br,br=null),typeof br=="number"&&(sa=br,br=null),Ue={flags:br,angle:sa,align:xa})):(U("The transform parameter of text() with a Matrix value"),qs=Qe),isNaN(me)||isNaN(Le)||K==null)throw new Error("Invalid arguments passed to jsPDF.text");if(K.length===0)return qr;var Gs,Vn="",Bl=typeof Ue.lineHeightFactor=="number"?Ue.lineHeightFactor:Qa,Wi=qr.internal.scaleFactor;function Wm(or){return or=or.split("	").join(Array(Ue.TabLen||9).join(" ")),va(or,br)}function Nd(or){for(var Pr,js=or.concat(),ts=[],Wo=js.length;Wo--;)typeof(Pr=js.shift())=="string"?ts.push(Pr):Array.isArray(or)&&(Pr.length===1||Pr[1]===void 0&&Pr[2]===void 0)?ts.push(Pr[0]):ts.push([Pr[0],Pr[1],Pr[2]]);return ts}function mo(or,Pr){var js;if(typeof or=="string")js=Pr(or)[0];else if(Array.isArray(or)){for(var ts,Wo,Fh=or.concat(),gu=[],Gm=Fh.length;Gm--;)typeof(ts=Fh.shift())=="string"?gu.push(Pr(ts)[0]):Array.isArray(ts)&&typeof ts[0]=="string"&&(Wo=Pr(ts[0],ts[1],ts[2]),gu.push([Wo[0],Wo[1],Wo[2]]));js=gu}return js}var Sd=!1,kd=!0;if(typeof K=="string")Sd=!0;else if(Array.isArray(K)){var Cd=K.concat();Ot=[];for(var Ad,Wn=Cd.length;Wn--;)(typeof(Ad=Cd.shift())!="string"||Array.isArray(Ad)&&typeof Ad[0]!="string")&&(kd=!1);Sd=kd}if(Sd===!1)throw new Error('Type of text must be string or Array. "'+K+'" is not recognized.');typeof K=="string"&&(K=K.match(/[\r?\n]/)?K.split(/\r\n|\r|\n/g):[K]);var _d=se/qr.internal.scaleFactor,$l=_d*(Bl-1);switch(Ue.baseline){case"bottom":Le-=$l;break;case"top":Le+=_d-$l;break;case"hanging":Le+=_d-2*$l;break;case"middle":Le+=_d/2-$l}if(($a=Ue.maxWidth||0)>0&&(typeof K=="string"?K=qr.splitTextToSize(K,$a):Object.prototype.toString.call(K)==="[object Array]"&&(K=K.reduce(function(or,Pr){return or.concat(qr.splitTextToSize(Pr,$a))},[]))),St={text:K,x:me,y:Le,options:Ue,mutex:{pdfEscape:va,activeFontKey:dt,fonts:qt,activeFontSize:se}},Ba.publish("preProcessText",St),K=St.text,sa=(Ue=St.options).angle,qs instanceof ta==0&&sa&&typeof sa=="number"){sa*=Math.PI/180,Ue.rotationDirection===0&&(sa=-sa),k===S&&(sa=-sa);var Jf=Math.cos(sa),Zf=Math.sin(sa);qs=new ta(Jf,Zf,-Zf,Jf,0,0)}else sa&&sa instanceof ta&&(qs=sa);k!==S||qs||(qs=lr),(Ea=Ue.charSpace||$o)!==void 0&&(Vn+=L(E(Ea))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(cs=Ue.horizontalScale)!==void 0&&(Vn+=L(100*cs)+` Tz
`),Ue.lang;var ys=-1,zo=Ue.renderingMode!==void 0?Ue.renderingMode:Ue.stroke,pu=qr.internal.getCurrentPageInfo().pageContext;switch(zo){case 0:case!1:case"fill":ys=0;break;case 1:case!0:case"stroke":ys=1;break;case 2:case"fillThenStroke":ys=2;break;case 3:case"invisible":ys=3;break;case 4:case"fillAndAddForClipping":ys=4;break;case 5:case"strokeAndAddPathForClipping":ys=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ys=6;break;case 7:case"addToPathForClipping":ys=7}var Td=pu.usedRenderingMode!==void 0?pu.usedRenderingMode:-1;ys!==-1?Vn+=ys+` Tr
`:Td!==-1&&(Vn+=`0 Tr
`),ys!==-1&&(pu.usedRenderingMode=ys),xa=Ue.align||"left";var ui,xu=se*Bl,Ed=qr.internal.pageSize.getWidth(),Dh=qt[dt];Ea=Ue.charSpace||$o,$a=Ue.maxWidth||0,br=Object.assign({autoencode:!0,noBOM:!0},Ue.flags);var Lc=[],Oc=function(or){return qr.getStringUnitWidth(or,{font:Dh,charSpace:Ea,fontSize:se,doKerning:!1})*se/Wi};if(Object.prototype.toString.call(K)==="[object Array]"){var Ti;Ot=Nd(K),xa!=="left"&&(ui=Ot.map(Oc));var qi,Rc=0;if(xa==="right"){me-=ui[0],K=[],Wn=Ot.length;for(var Ho=0;Ho<Wn;Ho++)Ho===0?(qi=nn(me),Ti=ln(Le)):(qi=E(Rc-ui[Ho]),Ti=-xu),K.push([Ot[Ho],qi,Ti]),Rc=ui[Ho]}else if(xa==="center"){me-=ui[0]/2,K=[],Wn=Ot.length;for(var Dd=0;Dd<Wn;Dd++)Dd===0?(qi=nn(me),Ti=ln(Le)):(qi=E((Rc-ui[Dd])/2),Ti=-xu),K.push([Ot[Dd],qi,Ti]),Rc=ui[Dd]}else if(xa==="left"){K=[],Wn=Ot.length;for(var e0=0;e0<Wn;e0++)K.push(Ot[e0])}else if(xa==="justify"&&Dh.encoding==="Identity-H"){K=[],Wn=Ot.length,$a=$a!==0?$a:Ed;for(var Mh=0,Fs=0;Fs<Wn;Fs++)if(Ti=Fs===0?ln(Le):-xu,qi=Fs===0?nn(me):Mh,Fs<Wn-1){var qm=E(($a-ui[Fs])/(Ot[Fs].split(" ").length-1)),ws=Ot[Fs].split(" ");K.push([ws[0]+" ",qi,Ti]),Mh=0;for(var Gi=1;Gi<ws.length;Gi++){var Ph=(Oc(ws[Gi-1]+" "+ws[Gi])-Oc(ws[Gi]))*Wi+qm;Gi==ws.length-1?K.push([ws[Gi],Ph,0]):K.push([ws[Gi]+" ",Ph,0]),Mh-=Ph}}else K.push([Ot[Fs],qi,Ti]);K.push(["",Mh,0])}else{if(xa!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(K=[],Wn=Ot.length,$a=$a!==0?$a:Ed,Fs=0;Fs<Wn;Fs++){Ti=Fs===0?ln(Le):-xu,qi=Fs===0?nn(me):0;var Lh=Ot[Fs].split(" ").length-1,Oh=Lh>0?($a-ui[Fs])/Lh:0;Fs<Wn-1?Lc.push(L(E(Oh))):Lc.push(0),K.push([Ot[Fs],qi,Ti])}}}(typeof Ue.R2L=="boolean"?Ue.R2L:rt)===!0&&(K=mo(K,function(or,Pr,js){return[or.split("").reverse().join(""),Pr,js]})),St={text:K,x:me,y:Le,options:Ue,mutex:{pdfEscape:va,activeFontKey:dt,fonts:qt,activeFontSize:se}},Ba.publish("postProcessText",St),K=St.text,Gs=St.mutex.isHex||!1;var Rh=qt[dt].encoding;Rh!=="WinAnsiEncoding"&&Rh!=="StandardEncoding"||(K=mo(K,function(or,Pr,js){return[Wm(or),Pr,js]})),Ot=Nd(K),K=[];for(var Vo,Md,bl,Fc=Array.isArray(Ot[0])?1:0,Ul="",Ic=function(or,Pr,js){var ts="";return js instanceof ta?(js=typeof Ue.angle=="number"?Aa(js,new ta(1,0,0,1,or,Pr)):Aa(new ta(1,0,0,1,or,Pr),js),k===S&&(js=Aa(new ta(1,0,0,-1,0,0),js)),ts=js.join(" ")+` Tm
`):ts=L(or)+" "+L(Pr)+` Td
`,ts},yl=0;yl<Ot.length;yl++){switch(Ul="",Fc){case 1:bl=(Gs?"<":"(")+Ot[yl][0]+(Gs?">":")"),Vo=parseFloat(Ot[yl][1]),Md=parseFloat(Ot[yl][2]);break;case 0:bl=(Gs?"<":"(")+Ot[yl]+(Gs?">":")"),Vo=nn(me),Md=ln(Le)}Lc!==void 0&&Lc[yl]!==void 0&&(Ul=Lc[yl]+` Tw
`),yl===0?K.push(Ul+Ic(Vo,Md,qs)+bl):Fc===0?K.push(Ul+bl):Fc===1&&K.push(Ul+Ic(Vo,Md,qs)+bl)}K=Fc===0?K.join(` Tj
T* `):K.join(` Tj
`),K+=` Tj
`;var hi=`BT
/`;return hi+=dt+" "+se+` Tf
`,hi+=L(se*Bl)+` TL
`,hi+=Vi+`
`,hi+=Vn,hi+=K,de(hi+="ET"),x[dt]=!0,qr};var oo=p.__private__.clip=p.clip=function(K){return de(K==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return oo("evenodd")},p.__private__.discardPath=p.discardPath=function(){return de("n"),this};var sn=p.__private__.isValidStyle=function(K){var me=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(K)!==-1&&(me=!0),me};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(K){return sn(K)&&(d=K),this};var Io=p.__private__.getStyle=p.getStyle=function(K){var me=d;switch(K){case"D":case"S":me="S";break;case"F":me="f";break;case"FD":case"DF":me="B";break;case"f":case"f*":case"B":case"B*":me=K}return me},Ai=p.close=function(){return de("h"),this};p.stroke=function(){return de("S"),this},p.fill=function(K){return Bo("f",K),this},p.fillEvenOdd=function(K){return Bo("f*",K),this},p.fillStroke=function(K){return Bo("B",K),this},p.fillStrokeEvenOdd=function(K){return Bo("B*",K),this};var Bo=function(K,me){Vr(me)==="object"?Zt(me,K):de(K)},Re=function(K){K===null||k===S&&K===void 0||(K=Io(K),de(K))};function gt(K,me,Le,Ue,Qe){var St=new B0(me||this.boundingBox,Le||this.xStep,Ue||this.yStep,this.gState,Qe||this.matrix);St.stream=this.stream;var Ot=K+"$$"+this.cloneIndex+++"$$";return qa(Ot,St),St}var Zt=function(K,me){var Le=Ut[K.key],Ue=We[Le];if(Ue instanceof xf)de("q"),de(Wt(me)),Ue.gState&&p.setGState(Ue.gState),de(K.matrix.toString()+" cm"),de("/"+Le+" sh"),de("Q");else if(Ue instanceof B0){var Qe=new ta(1,0,0,-1,0,mu());K.matrix&&(Qe=Qe.multiply(K.matrix||lr),Le=gt.call(Ue,K.key,K.boundingBox,K.xStep,K.yStep,Qe).id),de("q"),de("/Pattern cs"),de("/"+Le+" scn"),Ue.gState&&p.setGState(Ue.gState),de(me),de("Q")}},Wt=function(K){switch(K){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},vr=p.moveTo=function(K,me){return de(L(E(K))+" "+L(R(me))+" m"),this},Mr=p.lineTo=function(K,me){return de(L(E(K))+" "+L(R(me))+" l"),this},Zr=p.curveTo=function(K,me,Le,Ue,Qe,St){return de([L(E(K)),L(R(me)),L(E(Le)),L(R(Ue)),L(E(Qe)),L(R(St)),"c"].join(" ")),this};p.__private__.line=p.line=function(K,me,Le,Ue,Qe){if(isNaN(K)||isNaN(me)||isNaN(Le)||isNaN(Ue)||!sn(Qe))throw new Error("Invalid arguments passed to jsPDF.line");return k===N?this.lines([[Le-K,Ue-me]],K,me,[1,1],Qe||"S"):this.lines([[Le-K,Ue-me]],K,me,[1,1]).stroke()},p.__private__.lines=p.lines=function(K,me,Le,Ue,Qe,St){var Ot,sa,xa,Ea,$a,br,cs,qs,qr,cn,Gs,Vn;if(typeof K=="number"&&(Vn=Le,Le=me,me=K,K=Vn),Ue=Ue||[1,1],St=St||!1,isNaN(me)||isNaN(Le)||!Array.isArray(K)||!Array.isArray(Ue)||!sn(Qe)||typeof St!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(vr(me,Le),Ot=Ue[0],sa=Ue[1],Ea=K.length,cn=me,Gs=Le,xa=0;xa<Ea;xa++)($a=K[xa]).length===2?(cn=$a[0]*Ot+cn,Gs=$a[1]*sa+Gs,Mr(cn,Gs)):(br=$a[0]*Ot+cn,cs=$a[1]*sa+Gs,qs=$a[2]*Ot+cn,qr=$a[3]*sa+Gs,cn=$a[4]*Ot+cn,Gs=$a[5]*sa+Gs,Zr(br,cs,qs,qr,cn,Gs));return St&&Ai(),Re(Qe),this},p.path=function(K){for(var me=0;me<K.length;me++){var Le=K[me],Ue=Le.c;switch(Le.op){case"m":vr(Ue[0],Ue[1]);break;case"l":Mr(Ue[0],Ue[1]);break;case"c":Zr.apply(this,Ue);break;case"h":Ai()}}return this},p.__private__.rect=p.rect=function(K,me,Le,Ue,Qe){if(isNaN(K)||isNaN(me)||isNaN(Le)||isNaN(Ue)||!sn(Qe))throw new Error("Invalid arguments passed to jsPDF.rect");return k===N&&(Ue=-Ue),de([L(E(K)),L(R(me)),L(E(Le)),L(E(Ue)),"re"].join(" ")),Re(Qe),this},p.__private__.triangle=p.triangle=function(K,me,Le,Ue,Qe,St,Ot){if(isNaN(K)||isNaN(me)||isNaN(Le)||isNaN(Ue)||isNaN(Qe)||isNaN(St)||!sn(Ot))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Le-K,Ue-me],[Qe-Le,St-Ue],[K-Qe,me-St]],K,me,[1,1],Ot,!0),this},p.__private__.roundedRect=p.roundedRect=function(K,me,Le,Ue,Qe,St,Ot){if(isNaN(K)||isNaN(me)||isNaN(Le)||isNaN(Ue)||isNaN(Qe)||isNaN(St)||!sn(Ot))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var sa=4/3*(Math.SQRT2-1);return Qe=Math.min(Qe,.5*Le),St=Math.min(St,.5*Ue),this.lines([[Le-2*Qe,0],[Qe*sa,0,Qe,St-St*sa,Qe,St],[0,Ue-2*St],[0,St*sa,-Qe*sa,St,-Qe,St],[2*Qe-Le,0],[-Qe*sa,0,-Qe,-St*sa,-Qe,-St],[0,2*St-Ue],[0,-St*sa,Qe*sa,-St,Qe,-St]],K+Qe,me,[1,1],Ot,!0),this},p.__private__.ellipse=p.ellipse=function(K,me,Le,Ue,Qe){if(isNaN(K)||isNaN(me)||isNaN(Le)||isNaN(Ue)||!sn(Qe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var St=4/3*(Math.SQRT2-1)*Le,Ot=4/3*(Math.SQRT2-1)*Ue;return vr(K+Le,me),Zr(K+Le,me-Ot,K+St,me-Ue,K,me-Ue),Zr(K-St,me-Ue,K-Le,me-Ot,K-Le,me),Zr(K-Le,me+Ot,K-St,me+Ue,K,me+Ue),Zr(K+St,me+Ue,K+Le,me+Ot,K+Le,me),Re(Qe),this},p.__private__.circle=p.circle=function(K,me,Le,Ue){if(isNaN(K)||isNaN(me)||isNaN(Le)||!sn(Ue))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(K,me,Le,Le,Ue)},p.setFont=function(K,me,Le){return Le&&(me=M(me,Le)),dt=Fl(K,me,{disableWarning:!1}),this};var En=p.__private__.getFont=p.getFont=function(){return qt[Fl.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var K,me,Le={};for(K in Te)if(Te.hasOwnProperty(K))for(me in Le[K]=[],Te[K])Te[K].hasOwnProperty(me)&&Le[K].push(me);return Le},p.addFont=function(K,me,Le,Ue,Qe){var St=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&St.indexOf(arguments[3])!==-1?Qe=arguments[3]:arguments[3]&&St.indexOf(arguments[3])==-1&&(Le=M(Le,Ue)),ma.call(this,K,me,Le,Qe=Qe||"Identity-H")};var Qa,vs=e.lineWidth||.200025,ra=p.__private__.getLineWidth=p.getLineWidth=function(){return vs},co=p.__private__.setLineWidth=p.setLineWidth=function(K){return vs=K,de(L(E(K))+" w"),this};p.__private__.setLineDash=ha.API.setLineDash=ha.API.setLineDashPattern=function(K,me){if(K=K||[],me=me||0,isNaN(me)||!Array.isArray(K))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return K=K.map(function(Le){return L(E(Le))}).join(" "),me=L(E(me)),de("["+K+"] "+me+" d"),this};var es=p.__private__.getLineHeight=p.getLineHeight=function(){return se*Qa};p.__private__.getLineHeight=p.getLineHeight=function(){return se*Qa};var Ar=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(K){return typeof(K=K||1.15)=="number"&&(Qa=K),this},bs=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Qa};Ar(e.lineHeight);var nn=p.__private__.getHorizontalCoordinate=function(K){return E(K)},ln=p.__private__.getVerticalCoordinate=function(K){return k===S?K:oa[Q].mediaBox.topRightY-oa[Q].mediaBox.bottomLeftY-E(K)},di=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(K){return L(nn(K))},uo=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(K){return L(ln(K))},_i=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ae(_i)},p.__private__.setStrokeColor=p.setDrawColor=function(K,me,Le,Ue){return _i=De({ch1:K,ch2:me,ch3:Le,ch4:Ue,pdfColorType:"draw",precision:2}),de(_i),this};var Il=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ae(Il)},p.__private__.setFillColor=p.setFillColor=function(K,me,Le,Ue){return Il=De({ch1:K,ch2:me,ch3:Le,ch4:Ue,pdfColorType:"fill",precision:2}),de(Il),this};var Vi=e.textColor||"0 g",vl=p.__private__.getTextColor=p.getTextColor=function(){return Ae(Vi)};p.__private__.setTextColor=p.setTextColor=function(K,me,Le,Ue){return Vi=De({ch1:K,ch2:me,ch3:Le,ch4:Ue,pdfColorType:"text",precision:3}),this};var $o=e.charSpace,on=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat($o||0)};p.__private__.setCharSpace=p.setCharSpace=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return $o=K,this};var ho=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(K){var me=p.CapJoinStyles[K];if(me===void 0)throw new Error("Line cap style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ho=me,de(me+" J"),this};var wd=0;p.__private__.setLineJoin=p.setLineJoin=function(K){var me=p.CapJoinStyles[K];if(me===void 0)throw new Error("Line join style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wd=me,de(me+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(K){if(K=K||0,isNaN(K))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return de(L(E(K))+" M"),this},p.GState=mv,p.setGState=function(K){(K=typeof K=="string"?Vt[fa[K]]:fo(null,K)).equals(Ka)||(de("/"+K.id+" gs"),Ka=K)};var fo=function(K,me){if(!K||!fa[K]){var Le=!1;for(var Ue in Vt)if(Vt.hasOwnProperty(Ue)&&Vt[Ue].equals(me)){Le=!0;break}if(Le)me=Vt[Ue];else{var Qe="GS"+(Object.keys(Vt).length+1).toString(10);Vt[Qe]=me,me.id=Qe}return K&&(fa[K]=me.id),Ba.publish("addGState",me),me}};p.addGState=function(K,me){return fo(K,me),this},p.saveGraphicsState=function(){return de("q"),$t.push({key:dt,size:se,color:Vi}),this},p.restoreGraphicsState=function(){de("Q");var K=$t.pop();return dt=K.key,se=K.size,Vi=K.color,Ka=null,this},p.setCurrentTransformationMatrix=function(K){return de(K.toString()+" cm"),this},p.comment=function(K){return de("#"+K),this};var hu=function(K,me){var Le=K||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Le},set:function(St){isNaN(St)||(Le=parseFloat(St))}});var Ue=me||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ue},set:function(St){isNaN(St)||(Ue=parseFloat(St))}});var Qe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Qe},set:function(St){Qe=St.toString()}}),this},fu=function(K,me,Le,Ue){hu.call(this,K,me),this.type="rect";var Qe=Le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Qe},set:function(Ot){isNaN(Ot)||(Qe=parseFloat(Ot))}});var St=Ue||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return St},set:function(Ot){isNaN(Ot)||(St=parseFloat(Ot))}}),this},jd=function(){this.page=Oa,this.currentPage=Q,this.pages=xe.slice(0),this.pagesContext=oa.slice(0),this.x=kt,this.y=Dt,this.matrix=zt,this.width=Qf(Q),this.height=Mc(Q),this.outputDestination=he,this.id="",this.objectNumber=-1};jd.prototype.restore=function(){Oa=this.page,Q=this.currentPage,oa=this.pagesContext,xe=this.pages,kt=this.x,Dt=this.y,zt=this.matrix,zm(Q,this.width),Pc(Q,this.height),he=this.outputDestination};var Dc=function(K,me,Le,Ue,Qe){yt.push(new jd),Oa=Q=0,xe=[],kt=K,Dt=me,zt=Qe,Ha([Le,Ue])};for(var Uo in p.beginFormObject=function(K,me,Le,Ue,Qe){return Dc(K,me,Le,Ue,Qe),this},p.endFormObject=function(K){return(function(me){if(Nt[me])yt.pop().restore();else{var Le=new jd,Ue="Xo"+(Object.keys(st).length+1).toString(10);Le.id=Ue,Nt[me]=Ue,st[Ue]=Le,Ba.publish("addFormObject",Le),yt.pop().restore()}})(K),this},p.doFormObject=function(K,me){var Le=st[Nt[K]];return de("q"),de(me.toString()+" cm"),de("/"+Le.id+" Do"),de("Q"),this},p.getFormObject=function(K){var me=st[Nt[K]];return{x:me.x,y:me.y,width:me.width,height:me.height,matrix:me.matrix}},p.save=function(K,me){return K=K||"generated.pdf",(me=me||{}).returnPromise=me.returnPromise||!1,me.returnPromise===!1?(E0(Hn(zn()),K),typeof E0.unload=="function"&&Ia.setTimeout&&setTimeout(E0.unload,911),this):new Promise(function(Le,Ue){try{var Qe=E0(Hn(zn()),K);typeof E0.unload=="function"&&Ia.setTimeout&&setTimeout(E0.unload,911),Le(Qe)}catch(St){Ue(St.message)}})},ha.API)ha.API.hasOwnProperty(Uo)&&(Uo==="events"&&ha.API.events.length?(function(K,me){var Le,Ue,Qe;for(Qe=me.length-1;Qe!==-1;Qe--)Le=me[Qe][0],Ue=me[Qe][1],K.subscribe.apply(K,[Le].concat(typeof Ue=="function"?[Ue]:Ue))})(Ba,ha.API.events):p[Uo]=ha.API[Uo]);function Qf(K){return oa[K].mediaBox.topRightX-oa[K].mediaBox.bottomLeftX}function zm(K,me){oa[K].mediaBox.topRightX=me+oa[K].mediaBox.bottomLeftX}function Mc(K){return oa[K].mediaBox.topRightY-oa[K].mediaBox.bottomLeftY}function Pc(K,me){oa[K].mediaBox.topRightY=me+oa[K].mediaBox.bottomLeftY}var Eh=p.getPageWidth=function(K){return Qf(K=K||Q)/At},Hm=p.setPageWidth=function(K,me){zm(K,me*At)},mu=p.getPageHeight=function(K){return Mc(K=K||Q)/At},Vm=p.setPageHeight=function(K,me){Pc(K,me*At)};return p.internal={pdfEscape:va,getStyle:Io,getFont:En,getFontSize:je,getCharSpace:on,getTextColor:vl,getLineHeight:es,getLineHeightFactor:bs,getLineWidth:ra,write:Oe,getHorizontalCoordinate:nn,getVerticalCoordinate:ln,getCoordinateString:di,getVerticalCoordinateString:uo,collections:{},newObject:Ta,newAdditionalObject:ke,newObjectDeferred:Cr,newObjectDeferredBegin:ee,getFilters:Ye,putStream:ut,events:Ba,scaleFactor:At,pageSize:{getWidth:function(){return Eh(Q)},setWidth:function(K){Hm(Q,K)},getHeight:function(){return mu(Q)},setHeight:function(K){Vm(Q,K)}},encryptionOptions:u,encryption:fr,getEncryptor:function(K){return u!==null?fr.encryptor(K,0):function(me){return me}},output:ci,getNumberOfPages:oi,pages:xe,out:de,f2:O,f3:B,getPageInfo:Ec,getPageInfoByObjId:Th,getCurrentPageInfo:uu,getPDFVersion:g,Point:hu,Rectangle:fu,Matrix:ta,hasHotfix:Tc},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Eh(Q)},set:function(K){Hm(Q,K)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return mu(Q)},set:function(K){Vm(Q,K)},enumerable:!0,configurable:!0}),(function(K){for(var me=0,Le=Ee.length;me<Le;me++){var Ue=ma.call(this,K[me][0],K[me][1],K[me][2],Ee[me][3],!0);f===!1&&(x[Ue]=!0);var Qe=K[me][0].split("-");Ht({id:Ue,fontName:Qe[0],fontStyle:Qe[1]||""})}Ba.publish("addFonts",{fonts:qt,dictionary:Te})}).call(p,Ee),dt="F1",Ws(n,a),Ba.publish("initialized"),p}Rp.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Rp.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Rp.prototype.hexToBytes=function(e){for(var t=[],a=0;a<e.length;a+=2)t.push(String.fromCharCode(parseInt(e.substr(a,2),16)));return t.join("")},Rp.prototype.processOwnerPassword=function(e,t){return DC(EC(t).substr(0,5),e)},Rp.prototype.encryptor=function(e,t){var a=EC(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return DC(a,r)}},mv.prototype.equals=function(e){var t,a="id,objectNumber,equals";if(!e||Vr(e)!==Vr(this))return!1;var r=0;for(t in this)if(!(a.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&a.indexOf(t)<0&&r--;return r===0},ha.API={events:[]},ha.version="3.0.3";var Xs=ha.API,z_=1,Im=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tp=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Va=function(e){return e.toFixed(2)},hf=function(e){return e.toFixed(5)};Xs.__acroform__={};var io=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},hR=function(e){return e*z_},Gd=function(e){var t=new Zq,a=da.internal.getHeight(e)||0,r=da.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Va(r)),Number(Va(a))],t},ESe=Xs.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},DSe=Xs.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},MSe=Xs.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},yn=Xs.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return MSe(e,t-1)},wn=Xs.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ESe(e,t-1)},jn=Xs.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return DSe(e,t-1)},PSe=Xs.__acroform__.calculateCoordinates=function(e,t){var a=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,n=e[0],i=e[1],l=e[2],o=e[3],c={};return c.lowerLeft_X=a(n)||0,c.lowerLeft_Y=r(i+o)||0,c.upperRight_X=a(n+l)||0,c.upperRight_Y=r(i)||0,[Number(Va(c.lowerLeft_X)),Number(Va(c.lowerLeft_Y)),Number(Va(c.upperRight_X)),Number(Va(c.upperRight_Y))]},LSe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],a=e._V||e.DV,r=MC(e,a),n=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+n+" "+Va(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Gd(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},MC=function(e,t){var a=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},n=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");n=e.multiline?n.map(function(O){return O.split(`
`)}):n.map(function(O){return[O]});var i=a,l=da.internal.getHeight(e)||0;l=l<0?-l:l;var o=da.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(O,B,E){if(O+1<n.length){var R=B+" "+n[O+1][0];return a2(R,e,E).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var d,u,f=a2("3",e,i).height,x=e.multiline?l-i:(l-f)/2,p=x+=2,v=0,g=0,b=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+a2(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var j="",N=0,S=0;S<n.length;S++)if(n.hasOwnProperty(S)){var k=!1;if(n[S].length!==1&&b!==n[S].length-1){if((f+2)*(N+2)+2>l)continue e;j+=n[S][b],k=!0,g=S,S--}else{j=(j+=n[S][b]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var A=parseInt(S),_=c(A,j,i),M=S>=n.length-1;if(_&&!M){j+=" ",b=0;continue}if(_||M){if(M)g=A;else if(e.multiline&&(f+2)*(N+2)+2>l)continue e}else{if(!e.multiline||(f+2)*(N+2)+2>l)continue e;g=A}}for(var L="",U=v;U<=g;U++){var z=n[U];if(e.multiline){if(U===g){L+=z[b]+" ",b=(b+1)%z.length;continue}if(U===v){L+=z[z.length-1]+" ";continue}}L+=z[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,u=a2(L,e,i).width,e.textAlign){case"right":d=o-u-2;break;case"center":d=(o-u)/2;break;default:d=2}t+=Va(d)+" "+Va(p)+` Td
`,t+="("+Im(L)+`) Tj
`,t+=-Va(d)+` 0 Td
`,p=-(i+2),u=0,v=k?g:g+1,N++,j=""}break}return r.text=t,r.fontSize=i,r},a2=function(e,t,a){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),n=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(a),charSpace:0})*parseFloat(a);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(a),charSpace:0})*parseFloat(a)*1.5,width:n}},OSe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},RSe=function(e,t){var a={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===a.type&&r.object===a.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(a)},FSe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(gd.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(OSe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");z_=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new eG,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(a){a.internal.events.unsubscribe(a.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete a.internal.acroformPlugin.acroFormDictionaryRoot._eventID,a.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(a){a.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=a.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in r)if(r.hasOwnProperty(n)){var i=r[n];i.objId=void 0,i.hasAnnotation&&RSe(i,a)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(a){if(a.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");a.internal.write("/AcroForm "+a.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(a){(function(r,n){var i=!r;for(var l in r||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var o=r[l],c=[],d=o.Rect;if(o.Rect&&(o.Rect=PSe(o.Rect,n)),n.internal.newObjectDeferredBegin(o.objId,!0),o.DA=da.createDefaultAppearanceStream(o),Vr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=d,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=LSe(o);c.push({key:"AP",value:"<</N "+u+">>"}),n.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var x in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(x)){var p=o.appearanceStreamContent[x];if(f+="/"+x+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var l in p)if(p.hasOwnProperty(l)){var v=p[l];typeof v=="function"&&(v=v.call(n,o)),f+="/"+l+" "+v+" ",n.internal.acroformPlugin.xForms.indexOf(v)>=0||n.internal.acroformPlugin.xForms.push(v)}}else typeof(v=p)=="function"&&(v=v.call(n,o)),f+="/"+l+" "+v,n.internal.acroformPlugin.xForms.indexOf(v)>=0||n.internal.acroformPlugin.xForms.push(v);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}n.internal.putStream({additionalKeyValues:c,objectId:o.objId}),n.internal.out("endobj")}i&&(function(g,b){for(var j in g)if(g.hasOwnProperty(j)){var N=j,S=g[j];b.internal.newObjectDeferredBegin(S.objId,!0),Vr(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete g[N]}})(n.internal.acroformPlugin.xForms,n)})(a,e)}),e.internal.acroformPlugin.isInitialized=!0}},Jq=Xs.__acroform__.arrayToPdfArray=function(e,t,a){var r=function(l){return l};if(Array.isArray(e)){for(var n="[",i=0;i<e.length;i++)switch(i!==0&&(n+=" "),Vr(e[i])){case"boolean":case"number":case"object":n+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&a&&(r=a.internal.getEncryptor(t)),n+="("+Im(r(e[i].toString()))+")"):n+=e[i].toString()}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},j3=function(e,t,a){var r=function(n){return n};return t!==void 0&&a&&(r=a.internal.getEncryptor(t)),(e=e||"").toString(),"("+Im(r(e))+")"},Xd=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Xd.prototype.toString=function(){return this.objId+" 0 R"},Xd.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Xd.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var a in t)if(Object.getOwnPropertyDescriptor(this,t[a]).configurable===!1){var r=t[a],n=this[r];n&&(Array.isArray(n)?e.push({key:r,value:Jq(n,this.objId,this.scope)}):n instanceof Xd?(n.scope=this.scope,e.push({key:r,value:n.objId+" 0 R"})):typeof n!="function"&&e.push({key:r,value:n}))}return e};var Zq=function(){Xd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(a){e=a.trim()},get:function(){return e||null}})};io(Zq,Xd);var eG=function(){Xd.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var a=function(r){return r};return this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),"("+Im(a(e))+")"}},set:function(a){e=a}})};io(eG,Xd);var gd=function e(){Xd.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');t=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!yn(t,3)},set:function(j){j?this.F=wn(t,3):this.F=jn(t,3)}});var a=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return a},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');a=j}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(j){r=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(j){r[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(j){r[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(j){r[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(j){r[3]=j}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Nw)return;i="FieldObject"+e.FieldNum++}var j=function(N){return N};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+Im(j(i))+")"},set:function(j){i=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(j){i=j}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(j){l=j}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(j){o=j}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(j){c=j}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/z_:d},set:function(j){d=j}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(j){u=j}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Nw||this instanceof Af))return j3(f,this.objId,this.scope)},set:function(j){j=j.toString(),f=j}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Yn==0?j3(x,this.objId,this.scope):x},set:function(j){j=j.toString(),x=this instanceof Yn==0?j.substr(0,1)==="("?Tp(j.substr(1,j.length-2)):Tp(j):j}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Yn==1?Tp(x.substr(1,x.length-1)):x},set:function(j){j=j.toString(),x=this instanceof Yn==1?"/"+j:j}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Yn==0?j3(p,this.objId,this.scope):p},set:function(j){j=j.toString(),p=this instanceof Yn==0?j.substr(0,1)==="("?Tp(j.substr(1,j.length-2)):Tp(j):j}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Yn==1?Tp(p.substr(1,p.length-1)):p},set:function(j){j=j.toString(),p=this instanceof Yn==1?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(j){j=!!j,g=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(j){v=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,1)},set:function(j){j?this.Ff=wn(this.Ff,1):this.Ff=jn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,2)},set:function(j){j?this.Ff=wn(this.Ff,2):this.Ff=jn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,3)},set:function(j){j?this.Ff=wn(this.Ff,3):this.Ff=jn(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');b=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(b){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};io(gd,Xd);var Z0=function(){gd.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(a){e=a}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Jq(t,this.objId,this.scope)},set:function(a){var r,n;n=[],typeof(r=a)=="string"&&(n=(function(i,l,o){o||(o=1);for(var c,d=[];c=l.exec(i);)d.push(c[o]);return d})(r,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(a){t=a,this.sort&&t.sort()},this.addOption=function(a){a=(a=a||"").toString(),t.push(a),this.sort&&t.sort()},this.removeOption=function(a,r){for(r=r||!1,a=(a=a||"").toString();t.indexOf(a)!==-1&&(t.splice(t.indexOf(a),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,18)},set:function(a){a?this.Ff=wn(this.Ff,18):this.Ff=jn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,19)},set:function(a){this.combo===!0&&(a?this.Ff=wn(this.Ff,19):this.Ff=jn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,20)},set:function(a){a?(this.Ff=wn(this.Ff,20),t.sort()):this.Ff=jn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,22)},set:function(a){a?this.Ff=wn(this.Ff,22):this.Ff=jn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,23)},set:function(a){a?this.Ff=wn(this.Ff,23):this.Ff=jn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,27)},set:function(a){a?this.Ff=wn(this.Ff,27):this.Ff=jn(this.Ff,27)}}),this.hasAppearanceStream=!1};io(Z0,gd);var em=function(){Z0.call(this),this.fontName="helvetica",this.combo=!1};io(em,Z0);var tm=function(){em.call(this),this.combo=!0};io(tm,em);var _1=function(){tm.call(this),this.edit=!0};io(_1,tm);var Yn=function(){gd.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,15)},set:function(a){a?this.Ff=wn(this.Ff,15):this.Ff=jn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,16)},set:function(a){a?this.Ff=wn(this.Ff,16):this.Ff=jn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,17)},set:function(a){a?this.Ff=wn(this.Ff,17):this.Ff=jn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,26)},set:function(a){a?this.Ff=wn(this.Ff,26):this.Ff=jn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(i){return i};if(this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,n=[];for(r in n.push("<<"),t)n.push("/"+r+" ("+Im(a(t[r]))+")");return n.push(">>"),n.join(`
`)}},set:function(a){Vr(a)==="object"&&(t=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(a){typeof a=="string"&&(t.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(a){e="/"+a}})};io(Yn,gd);var T1=function(){Yn.call(this),this.pushButton=!0};io(T1,Yn);var am=function(){Yn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};io(am,Yn);var Nw=function(){var e,t;gd.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n}});var a,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var i,l=[];for(i in l.push("<<"),r)l.push("/"+i+" ("+Im(n(r[i]))+")");return l.push(">>"),l.join(`
`)},set:function(n){Vr(n)==="object"&&(r=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(n){typeof n=="string"&&(r.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return a},set:function(n){a=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return a.substr(1,a.length-1)},set:function(n){a="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=da.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};io(Nw,gd),am.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var a=this.Kids[t];a.appearanceStreamContent=e.createAppearanceStream(a.optionName),a.caption=e.getCA()}},am.prototype.createOption=function(e){var t=new Nw;return t.Parent=this,t.optionName=e,this.Kids.push(t),ISe.call(this.scope,t),t};var E1=function(){Yn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=da.CheckBox.createAppearanceStream()};io(E1,Yn);var Af=function(){gd.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,13)},set:function(t){t?this.Ff=wn(this.Ff,13):this.Ff=jn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,21)},set:function(t){t?this.Ff=wn(this.Ff,21):this.Ff=jn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,23)},set:function(t){t?this.Ff=wn(this.Ff,23):this.Ff=jn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,24)},set:function(t){t?this.Ff=wn(this.Ff,24):this.Ff=jn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,25)},set:function(t){t?this.Ff=wn(this.Ff,25):this.Ff=jn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,26)},set:function(t){t?this.Ff=wn(this.Ff,26):this.Ff=jn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};io(Af,gd);var D1=function(){Af.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,14)},set:function(e){e?this.Ff=wn(this.Ff,14):this.Ff=jn(this.Ff,14)}}),this.password=!0};io(D1,Af);var da={CheckBox:{createAppearanceStream:function(){return{N:{On:da.CheckBox.YesNormal},D:{On:da.CheckBox.YesPushDown,Off:da.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Gd(e);t.scope=e.scope;var a=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=MC(e,e.caption);return a.push("0.749023 g"),a.push("0 0 "+Va(da.internal.getWidth(e))+" "+Va(da.internal.getHeight(e))+" re"),a.push("f"),a.push("BMC"),a.push("q"),a.push("0 0 1 rg"),a.push("/"+r+" "+Va(i.fontSize)+" Tf "+n),a.push("BT"),a.push(i.text),a.push("ET"),a.push("Q"),a.push("EMC"),t.stream=a.join(`
`),t},YesNormal:function(e){var t=Gd(e);t.scope=e.scope;var a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),n=[],i=da.internal.getHeight(e),l=da.internal.getWidth(e),o=MC(e,e.caption);return n.push("1 g"),n.push("0 0 "+Va(l)+" "+Va(i)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+Va(l-1)+" "+Va(i-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+a+" "+Va(o.fontSize)+" Tf "+r),n.push(o.text),n.push("ET"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Gd(e);t.scope=e.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+Va(da.internal.getWidth(e))+" "+Va(da.internal.getHeight(e))+" re"),a.push("f"),t.stream=a.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:da.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=da.RadioButton.Circle.YesNormal,t.D[e]=da.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Gd(e);t.scope=e.scope;var a=[],r=da.internal.getWidth(e)<=da.internal.getHeight(e)?da.internal.getWidth(e)/4:da.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var n=da.internal.Bezier_C,i=Number((r*n).toFixed(5));return a.push("q"),a.push("1 0 0 1 "+hf(da.internal.getWidth(e)/2)+" "+hf(da.internal.getHeight(e)/2)+" cm"),a.push(r+" 0 m"),a.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),a.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),a.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),a.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join(`
`),t},YesPushDown:function(e){var t=Gd(e);t.scope=e.scope;var a=[],r=da.internal.getWidth(e)<=da.internal.getHeight(e)?da.internal.getWidth(e)/4:da.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var n=Number((2*r).toFixed(5)),i=Number((n*da.internal.Bezier_C).toFixed(5)),l=Number((r*da.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+hf(da.internal.getWidth(e)/2)+" "+hf(da.internal.getHeight(e)/2)+" cm"),a.push(n+" 0 m"),a.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),a.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),a.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),a.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),a.push("f"),a.push("Q"),a.push("0 g"),a.push("q"),a.push("1 0 0 1 "+hf(da.internal.getWidth(e)/2)+" "+hf(da.internal.getHeight(e)/2)+" cm"),a.push(r+" 0 m"),a.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),a.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),a.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),a.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Gd(e);t.scope=e.scope;var a=[],r=da.internal.getWidth(e)<=da.internal.getHeight(e)?da.internal.getWidth(e)/4:da.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var n=Number((2*r).toFixed(5)),i=Number((n*da.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+hf(da.internal.getWidth(e)/2)+" "+hf(da.internal.getHeight(e)/2)+" cm"),a.push(n+" 0 m"),a.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),a.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),a.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),a.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:da.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=da.RadioButton.Cross.YesNormal,t.D[e]=da.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Gd(e);t.scope=e.scope;var a=[],r=da.internal.calculateCross(e);return a.push("q"),a.push("1 1 "+Va(da.internal.getWidth(e)-2)+" "+Va(da.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(Va(r.x1.x)+" "+Va(r.x1.y)+" m"),a.push(Va(r.x2.x)+" "+Va(r.x2.y)+" l"),a.push(Va(r.x4.x)+" "+Va(r.x4.y)+" m"),a.push(Va(r.x3.x)+" "+Va(r.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},YesPushDown:function(e){var t=Gd(e);t.scope=e.scope;var a=da.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Va(da.internal.getWidth(e))+" "+Va(da.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Va(da.internal.getWidth(e)-2)+" "+Va(da.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Va(a.x1.x)+" "+Va(a.x1.y)+" m"),r.push(Va(a.x2.x)+" "+Va(a.x2.y)+" l"),r.push(Va(a.x4.x)+" "+Va(a.x4.y)+" m"),r.push(Va(a.x3.x)+" "+Va(a.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Gd(e);t.scope=e.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+Va(da.internal.getWidth(e))+" "+Va(da.internal.getHeight(e))+" re"),a.push("f"),t.stream=a.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+a}};da.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=da.internal.getWidth(e),a=da.internal.getHeight(e),r=Math.min(t,a);return{x1:{x:(t-r)/2,y:(a-r)/2+r},x2:{x:(t-r)/2+r,y:(a-r)/2},x3:{x:(t-r)/2,y:(a-r)/2},x4:{x:(t-r)/2+r,y:(a-r)/2+r}}}},da.internal.getWidth=function(e){var t=0;return Vr(e)==="object"&&(t=hR(e.Rect[2])),t},da.internal.getHeight=function(e){var t=0;return Vr(e)==="object"&&(t=hR(e.Rect[3])),t};var ISe=Xs.addField=function(e){if(FSe(this,e),!(e instanceof gd))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Xs.AcroFormChoiceField=Z0,Xs.AcroFormListBox=em,Xs.AcroFormComboBox=tm,Xs.AcroFormEditBox=_1,Xs.AcroFormButton=Yn,Xs.AcroFormPushButton=T1,Xs.AcroFormRadioButton=am,Xs.AcroFormCheckBox=E1,Xs.AcroFormTextField=Af,Xs.AcroFormPasswordField=D1,Xs.AcroFormAppearance=da,Xs.AcroForm={ChoiceField:Z0,ListBox:em,ComboBox:tm,EditBox:_1,Button:Yn,PushButton:T1,RadioButton:am,CheckBox:E1,TextField:Af,PasswordField:D1,Appearance:da},ha.AcroForm={ChoiceField:Z0,ListBox:em,ComboBox:tm,EditBox:_1,Button:Yn,PushButton:T1,RadioButton:am,CheckBox:E1,TextField:Af,PasswordField:D1,Appearance:da};var BSe=ha.AcroForm;function tG(e){return e.reduce(function(t,a,r){return t[a]=r,t},{})}(function(e){var t="addImage_";e.__addimage__={};var a="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(O,B){var E,R,q,I,G,re=a;if((B=B||a)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(_(O))for(G in r)for(q=r[G],E=0;E<q.length;E+=1){for(I=!0,R=0;R<q[E].length;R+=1)if(q[E][R]!==void 0&&q[E][R]!==O[R]){I=!1;break}if(I===!0){re=G;break}}else for(G in r)for(q=r[G],E=0;E<q.length;E+=1){for(I=!0,R=0;R<q[E].length;R+=1)if(q[E][R]!==void 0&&q[E][R]!==O.charCodeAt(R)){I=!1;break}if(I===!0){re=G;break}}return re===a&&B!==a&&(re=B),re},i=function O(B){for(var E=this.internal.write,R=this.internal.putStream,q=(0,this.internal.getFilters)();q.indexOf("FlateEncode")!==-1;)q.splice(q.indexOf("FlateEncode"),1);B.objectId=this.internal.newObject();var I=[];if(I.push({key:"Type",value:"/XObject"}),I.push({key:"Subtype",value:"/Image"}),I.push({key:"Width",value:B.width}),I.push({key:"Height",value:B.height}),B.colorSpace===j.INDEXED?I.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(B.palette.length/3-1)+" "+("sMask"in B&&B.sMask!==void 0?B.objectId+2:B.objectId+1)+" 0 R]"}):(I.push({key:"ColorSpace",value:"/"+B.colorSpace}),B.colorSpace===j.DEVICE_CMYK&&I.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),I.push({key:"BitsPerComponent",value:B.bitsPerComponent}),"decodeParameters"in B&&B.decodeParameters!==void 0&&I.push({key:"DecodeParms",value:"<<"+B.decodeParameters+">>"}),"transparency"in B&&Array.isArray(B.transparency)&&B.transparency.length>0){for(var G="",re=0,te=B.transparency.length;re<te;re++)G+=B.transparency[re]+" "+B.transparency[re]+" ";I.push({key:"Mask",value:"["+G+"]"})}B.sMask!==void 0&&I.push({key:"SMask",value:B.objectId+1+" 0 R"});var X=B.filter!==void 0?["/"+B.filter]:void 0;if(R({data:B.data,additionalKeyValues:I,alreadyAppliedFilters:X,objectId:B.objectId}),E("endobj"),"sMask"in B&&B.sMask!==void 0){var ce,D=(ce=B.sMaskBitsPerComponent)!==null&&ce!==void 0?ce:B.bitsPerComponent,Q={width:B.width,height:B.height,colorSpace:"DeviceGray",bitsPerComponent:D,data:B.sMask};"filter"in B&&(Q.decodeParameters="/Predictor ".concat(B.predictor," /Colors 1 /BitsPerComponent ").concat(D," /Columns ").concat(B.width),Q.filter=B.filter),O.call(this,Q)}if(B.colorSpace===j.INDEXED){var H=this.internal.newObject();R({data:L(new Uint8Array(B.palette)),objectId:H}),E("endobj")}},l=function(){var O=this.internal.collections[t+"images"];for(var B in O)i.call(this,O[B])},o=function(){var O,B=this.internal.collections[t+"images"],E=this.internal.write;for(var R in B)E("/I"+(O=B[R]).index,O.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",o))},d=function(){var O=this.internal.collections[t+"images"];return c.call(this),O},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(O){return typeof e["process"+O.toUpperCase()]=="function"},x=function(O){return Vr(O)==="object"&&O.nodeType===1},p=function(O,B){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var E=""+O.getAttribute("src");if(E.indexOf("data:image/")===0)return I2(unescape(E).split("base64,").pop());var R=e.loadFile(E,!0);if(R!==void 0)return R}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var q;switch(B){case"PNG":q="image/png";break;case"WEBP":q="image/webp";break;default:q="image/jpeg"}return I2(O.toDataURL(q,1).split("base64,").pop())}},v=function(O){var B=this.internal.collections[t+"images"];if(B){for(var E in B)if(O===B[E].alias)return B[E]}},g=function(O,B,E){return O||B||(O=-96,B=-96),O<0&&(O=-1*E.width*72/O/this.internal.scaleFactor),B<0&&(B=-1*E.height*72/B/this.internal.scaleFactor),O===0&&(O=B*E.width/E.height),B===0&&(B=O*E.height/E.width),[O,B]},b=function(O,B,E,R,q,I){var G=g.call(this,E,R,q),re=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,X=d.call(this);if(E=G[0],R=G[1],X[q.index]=q,I){I*=Math.PI/180;var ce=Math.cos(I),D=Math.sin(I),Q=function(J){return J.toFixed(4)},H=[Q(ce),Q(D),Q(-1*D),Q(ce),0,0,"cm"]}this.internal.write("q"),I?(this.internal.write([1,"0","0",1,re(O),te(B+R),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([re(E),"0","0",re(R),"0","0","cm"].join(" "))):this.internal.write([re(E),"0","0",re(R),re(O),te(B+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+q.index+" Do"),this.internal.write("Q")},j=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=e.__addimage__.sHashCode=function(O){var B,E,R=0;if(typeof O=="string")for(E=O.length,B=0;B<E;B++)R=(R<<5)-R+O.charCodeAt(B),R|=0;else if(_(O))for(E=O.byteLength/2,B=0;B<E;B++)R=(R<<5)-R+O[B],R|=0;return R},k=e.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var B=!0;return O.length===0&&(B=!1),O.length%4!=0&&(B=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(B=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(B=!1),B},A=e.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var B=O.indexOf(",");return B<0?null:O.substring(0,B).trim().endsWith("base64")?O.substring(B+1):null};e.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var _=e.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},M=e.__addimage__.binaryStringToUint8Array=function(O){for(var B=O.length,E=new Uint8Array(B),R=0;R<B;R++)E[R]=O.charCodeAt(R);return E},L=e.__addimage__.arrayBufferToBinaryString=function(O){for(var B="",E=_(O)?O:new Uint8Array(O),R=0;R<E.length;R+=8192)B+=String.fromCharCode.apply(null,E.subarray(R,R+8192));return B};e.addImage=function(){var O,B,E,R,q,I,G,re,te;if(typeof arguments[1]=="number"?(B=a,E=arguments[1],R=arguments[2],q=arguments[3],I=arguments[4],G=arguments[5],re=arguments[6],te=arguments[7]):(B=arguments[1],E=arguments[2],R=arguments[3],q=arguments[4],I=arguments[5],G=arguments[6],re=arguments[7],te=arguments[8]),Vr(O=arguments[0])==="object"&&!x(O)&&"imageData"in O){var X=O;O=X.imageData,B=X.format||B||a,E=X.x||E||0,R=X.y||R||0,q=X.w||X.width||q,I=X.h||X.height||I,G=X.alias||G,re=X.compression||re,te=X.rotation||X.angle||te}var ce=this.internal.getFilters();if(re===void 0&&ce.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(E)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var D=U.call(this,O,B,G,re);return b.call(this,E,R,q,I,D,te),this};var U=function(O,B,E,R){var q,I,G;if(typeof O=="string"&&n(O)===a){O=unescape(O);var re=z(O,!1);(re!==""||(re=e.loadFile(O,!0))!==void 0)&&(O=re)}if(x(O)&&(O=p(O,B)),B=n(O,B),!f(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(((G=E)==null||G.length===0)&&(E=(function(te){return typeof te=="string"||_(te)?S(te):_(te.data)?S(te.data):null})(O)),(q=v.call(this,E))||(O instanceof Uint8Array||B==="RGBA"||(I=O,O=M(O)),q=this["process"+B.toUpperCase()](O,u.call(this),E,(function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in e.image_compression?te:N.NONE})(R),I)),!q)throw new Error("An unknown error occurred whilst processing the image.");return q},z=e.__addimage__.convertBase64ToBinaryString=function(O,B){B=typeof B!="boolean"||B;var E,R="";if(typeof O=="string"){var q;E=(q=A(O))!==null&&q!==void 0?q:O;try{R=I2(E)}catch(I){if(B)throw k(E)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+I.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return R};e.getImageProperties=function(O){var B,E,R="";if(x(O)&&(O=p(O)),typeof O=="string"&&n(O)===a&&((R=z(O,!1))===""&&(R=e.loadFile(O)||""),O=R),E=n(O),!f(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(O instanceof Uint8Array||(O=M(O)),!(B=this["process"+E.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return B.fileType=E,B}})(ha.API),(function(e){var t=function(a){if(a!==void 0&&a!="")return!0};ha.API.events.push(["addPage",function(a){this.internal.getPageInfo(a.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(a){for(var r,n,i,l=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(a.objId),d=a.pageContext.annotations,u=!1,f=0;f<d.length&&!u;f++)switch((r=d[f]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var x=0;x<d.length;x++){r=d[x];var p=this.internal.pdfEscape,v=this.internal.getEncryptor(a.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(g.objId),N=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(n="/Rect ["+l(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+p(j(r.contents))+")",i+=" /Popup "+b.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+p(j(N))+") >>",g.content=i;var S=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+l(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(i+=" /Open true"),i+=" >>",b.content=i,this.internal.write(g.objId,"0 R",b.objId,"0 R");break;case"freetext":n="/Rect ["+l(r.bounds.x)+" "+o(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var k=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+p(v(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var A=this.annotations._nameMap[r.options.name];r.options.pageNumber=A.page,r.options.top=A.y}else r.options.top||(r.options.top=0);if(n="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+p(v(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;default:var _=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+_+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(a){var r=this.internal.getCurrentPageInfo();switch(a.type){case"link":this.link(a.bounds.x,a.bounds.y,a.bounds.w,a.bounds.h,a);break;case"text":case"freetext":r.pageContext.annotations.push(a)}},e.link=function(a,r,n,i,l){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(a),y:d(r),w:c(a+n),h:d(r+i)},options:l,type:"link"})},e.textWithLink=function(a,r,n,i){var l,o,c=this.getTextWidth(a),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(a,o).length;l=Math.ceil(d*u)}else o=c,l=d;return this.text(a,r,n,i),n+=.2*d,i.align==="center"&&(r-=c/2),i.align==="right"&&(r-=c),this.link(r,n-d,o,l,i),c},e.getTextWidth=function(a){var r=this.internal.getFontSize();return this.getStringUnitWidth(a)*r/this.internal.scaleFactor}})(ha.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},a={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=e.__arabicParser__.isArabicEndLetter=function(g){return l(g)&&i(g)&&t[g.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(g){return l(g)&&n.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return l(g)&&i(g)&&t[g.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return l(g)&&i(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return l(g)&&i(g)&&t[g.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return l(g)&&i(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var b=0,j=a,N="",S=0;for(b=0;b<g.length;b+=1)j[g.charCodeAt(b)]!==void 0?(S++,typeof(j=j[g.charCodeAt(b)])=="number"&&(N+=String.fromCharCode(j),j=a,S=0),b===g.length-1&&(j=a,N+=g.charAt(b-(S-1)),b-=S-1,S=0)):(j=a,N+=g.charAt(b-S),b-=S,S=0);return N};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&r[g.charCodeAt(0)]!==void 0};var x=e.__arabicParser__.getCorrectForm=function(g,b,j){return l(g)?i(g)===!1?-1:!d(g)||!l(b)&&!l(j)||!l(j)&&o(b)||o(g)&&!l(b)||o(g)&&c(b)||o(g)&&o(b)?0:u(g)&&l(b)&&!o(b)&&l(j)&&d(j)?3:o(g)||!l(j)?1:2:-1},p=function(g){var b=0,j=0,N=0,S="",k="",A="",_=(g=g||"").split("\\s+"),M=[];for(b=0;b<_.length;b+=1){for(M.push(""),j=0;j<_[b].length;j+=1)S=_[b][j],k=_[b][j-1],A=_[b][j+1],l(S)?(N=x(S,k,A),M[b]+=N!==-1?String.fromCharCode(t[S.charCodeAt(0)][N]):S):M[b]+=S;M[b]=f(M[b])}return M.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var g,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(b)){var N=0;for(j=[],N=0;N<b.length;N+=1)Array.isArray(b[N])?j.push([p(b[N][0]),b[N][1],b[N][2]]):j.push([p(b[N])]);g=j}else g=p(b);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",v])})(ha.API),ha.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var a=void 0;Object.defineProperty(this,"pdf",{get:function(){return a},set:function(o){a=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(o){l=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(a,r){var n;if((a=a||"2d")!=="2d")return null;for(n in r)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=r[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(ha.API),(function(e){var t={left:0,top:0,bottom:0,right:0},a=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(g){x=g}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(g){v=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){r.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),f=d.font||this.getFont(),x=d.scaleFactor||this.internal.scaleFactor,p=0,v=0,g=0,b=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var j=d.maxWidth;j>0?typeof c=="string"?c=this.splitTextToSize(c,j):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(S,k){return S.concat(b.splitTextToSize(k,j))},[])):c=Array.isArray(c)?c:[c];for(var N=0;N<c.length;N++)p<(g=this.getStringUnitWidth(c[N],{font:f})*u)&&(p=g);return p!==0&&(v=c.length),{w:p/=x,h:Math.max((v*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/x,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,x=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,p&&x&&(this.printHeaderRow(c.lineNumber,!0),c.y+=x[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,a===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,u,f,x){if(r.call(this),!u)throw new Error("No data for PDF table.");var p,v,g,b,j=[],N=[],S=[],k={},A={},_=[],M=[],L=(x=x||{}).autoSize||!1,U=x.printHeaders!==!1,z=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,O=x.margins||Object.assign({width:this.getPageWidth()},t),B=typeof x.padding=="number"?x.padding:3,E=x.headerBackgroundColor||"#c8c8c8",R=x.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=B,this.internal.__cell__.headerBackgroundColor=E,this.internal.__cell__.headerTextColor=R,this.setFontSize(z),f==null)N=j=Object.keys(u[0]),S=j.map(function(){return"left"});else if(Array.isArray(f)&&Vr(f[0])==="object")for(j=f.map(function(X){return X.name}),N=f.map(function(X){return X.prompt||X.name||""}),S=f.map(function(X){return X.align||"left"}),p=0;p<f.length;p+=1)A[f[p].name]=.7499990551181103*f[p].width;else Array.isArray(f)&&typeof f[0]=="string"&&(N=j=f,S=j.map(function(){return"left"}));if(L||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<j.length;p+=1){for(k[b=j[p]]=u.map(function(X){return X[b]}),this.setFont(void 0,"bold"),_.push(this.getTextDimensions(N[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=k[b],this.setFont(void 0,"normal"),g=0;g<v.length;g+=1)_.push(this.getTextDimensions(v[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);A[b]=Math.max.apply(null,_)+B+B,_=[]}if(U){var q={};for(p=0;p<j.length;p+=1)q[j[p]]={},q[j[p]].text=N[p],q[j[p]].align=S[p];var I=o.call(this,q,A);M=j.map(function(X){return new i(c,d,A[X],I,q[X].text,void 0,q[X].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var G=f.reduce(function(X,ce){return X[ce.name]=ce.align,X},{});for(p=0;p<u.length;p+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:p,data:u[p]},this);var re=o.call(this,u[p],A);for(g=0;g<j.length;g+=1){var te=u[p][j[g]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:p,col:g,data:te},this),l.call(this,new i(c,d,A[j[g]],re,te,p+2,G[j[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var o=function(c,d){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(c).map(function(p){var v=c[p];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,d[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/x+u+u},this).reduce(function(p,v){return Math.max(p,v)},0)};e.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(a=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,x.push(u)),u.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,u),this.setTextColor(v)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),a=!1}})(ha.API);var aG={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},rG=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],PC=tG(rG),sG=[100,200,300,400,500,600,700,800,900],$Se=tG(sG);function N3(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),a=(function(i){return aG[i=i||"normal"]?i:"normal"})(e.style),r=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),n=(function(i){return typeof PC[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:a,weight:r,stretch:n,src:e.src||[],ref:e.ref||{name:t,style:[n,a,r].join(" ")}}}function fR(e,t,a,r){var n;for(n=a;n>=0&&n<t.length;n+=r)if(e[t[n]])return e[t[n]];for(n=a;n>=0&&n<t.length;n-=r)if(e[t[n]])return e[t[n]]}var USe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},mR={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function pR(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function xR(e){return e.trimLeft()}function zSe(e,t){for(var a=0;a<e.length;){if(e.charAt(a)===t)return[e.substring(0,a),e.substring(a+1)];a+=1}return null}function HSe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var r2,gR,vR,Ep,s2,bR,yR,wR,S3=["times"];function jR(e,t,a,r,n){var i=4,l=SR;switch(n){case ha.API.image_compression.FAST:i=1,l=NR;break;case ha.API.image_compression.MEDIUM:i=6,l=kR;break;case ha.API.image_compression.SLOW:i=9,l=CR}e=(function(c,d,u,f){for(var x,p=c.length/d,v=new Uint8Array(c.length+p),g=[VSe,NR,SR,kR,CR],b=0;b<p;b+=1){var j=b*d,N=c.subarray(j,j+d);if(f)v.set(f(N,u,x),j+b);else{for(var S=g.length,k=[],A=0;A<S;A+=1)k[A]=g[A](N,u,x);var _=qSe(k.concat());v.set(k[_],j+b)}x=N}return v})(e,t,Math.ceil(a*r/8),l);var o=CC(e,{level:i});return ha.API.__addimage__.arrayBufferToBinaryString(o)}function VSe(e){var t=Array.apply([],e);return t.unshift(0),t}function NR(e,t){var a=e.length,r=[];r[0]=1;for(var n=0;n<a;n+=1){var i=e[n-t]||0;r[n+1]=e[n]-i+256&255}return r}function SR(e,t,a){var r=e.length,n=[];n[0]=2;for(var i=0;i<r;i+=1){var l=a&&a[i]||0;n[i+1]=e[i]-l+256&255}return n}function kR(e,t,a){var r=e.length,n=[];n[0]=3;for(var i=0;i<r;i+=1){var l=e[i-t]||0,o=a&&a[i]||0;n[i+1]=e[i]+256-(l+o>>>1)&255}return n}function CR(e,t,a){var r=e.length,n=[];n[0]=4;for(var i=0;i<r;i+=1){var l=WSe(e[i-t]||0,a&&a[i]||0,a&&a[i-t]||0);n[i+1]=e[i]-l+256&255}return n}function WSe(e,t,a){if(e===t&&t===a)return e;var r=Math.abs(t-a),n=Math.abs(e-a),i=Math.abs(e+t-a-a);return r<=n&&r<=i?e:n<=i?t:a}function qSe(e){var t=e.map(function(a){return a.reduce(function(r,n){return r+Math.abs(n)},0)});return t.indexOf(Math.min.apply(null,t))}function k3(e,t,a){var r=t*a,n=Math.floor(r/8),i=16-(r-8*n+a),l=(1<<a)-1;return nG(e,n)>>i&l}function AR(e,t,a,r){var n=a*r,i=Math.floor(n/8),l=16-(n-8*i+r),o=(1<<r)-1,c=(t&o)<<l;(function(d,u,f){if(u+1<d.byteLength)d.setUint16(u,f,!1);else{var x=f>>8&255;d.setUint8(u,x)}})(e,i,nG(e,i)&~(o<<l)&65535|c)}function nG(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function GSe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var a=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,n=e[t++],i=n>>7,l=1<<1+(7&n);e[t++],e[t++];var o=null,c=null;i&&(o=t,c=l,t+=3*l);var d=!0,u=[],f=0,x=null,p=0,v=null;for(this.width=a,this.height=r;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,x=e[t++],1&g||(x=null),p=g>>2&7,t++;break;case 254:for(;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var b=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,k=e[t++],A=k>>6&1,_=1<<1+(7&k),M=o,L=c,U=!1;k>>7&&(U=!0,M=t,L=_,t+=3*_);var z=t;for(t++;;){var O;if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}u.push({x:b,y:j,width:N,height:S,has_local_palette:U,palette_offset:M,palette_size:L,data_offset:z,data_length:t-z,transparent_index:x,interlaced:!!A,delay:f,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return v},this.frameInfo=function(B){if(B<0||B>=u.length)throw new Error("Frame index out of range.");return u[B]},this.decodeAndBlitFrameBGRA=function(B,E){var R=this.frameInfo(B),q=R.width*R.height,I=new Uint8Array(q);_R(e,R.data_offset,I,q);var G=R.palette_offset,re=R.transparent_index;re===null&&(re=256);var te=R.width,X=a-te,ce=te,D=4*(R.y*a+R.x),Q=4*((R.y+R.height)*a+R.x),H=D,J=4*X;R.interlaced===!0&&(J+=4*a*7);for(var ae=8,ie=0,le=I.length;ie<le;++ie){var Y=I[ie];if(ce===0&&(ce=te,(H+=J)>=Q&&(J=4*X+4*a*(ae-1),H=D+(te+X)*(ae<<1),ae>>=1)),Y===re)H+=4;else{var oe=e[G+3*Y],xe=e[G+3*Y+1],W=e[G+3*Y+2];E[H++]=W,E[H++]=xe,E[H++]=oe,E[H++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(B,E){var R=this.frameInfo(B),q=R.width*R.height,I=new Uint8Array(q);_R(e,R.data_offset,I,q);var G=R.palette_offset,re=R.transparent_index;re===null&&(re=256);var te=R.width,X=a-te,ce=te,D=4*(R.y*a+R.x),Q=4*((R.y+R.height)*a+R.x),H=D,J=4*X;R.interlaced===!0&&(J+=4*a*7);for(var ae=8,ie=0,le=I.length;ie<le;++ie){var Y=I[ie];if(ce===0&&(ce=te,(H+=J)>=Q&&(J=4*X+4*a*(ae-1),H=D+(te+X)*(ae<<1),ae>>=1)),Y===re)H+=4;else{var oe=e[G+3*Y],xe=e[G+3*Y+1],W=e[G+3*Y+2];E[H++]=oe,E[H++]=xe,E[H++]=W,E[H++]=255}--ce}}}function _R(e,t,a,r){for(var n=e[t++],i=1<<n,l=i+1,o=l+1,c=n+1,d=(1<<c)-1,u=0,f=0,x=0,p=e[t++],v=new Int32Array(4096),g=null;;){for(;u<16&&p!==0;)f|=e[t++]<<u,u+=8,p===1?p=e[t++]:--p;if(u<c)break;var b=f&d;if(f>>=c,u-=c,b!==i){if(b===l)break;for(var j=b<o?b:g,N=0,S=j;S>i;)S=v[S]>>8,++N;var k=S;if(x+N+(j!==b?1:0)>r)return void ss.log("Warning, gif stream longer than expected.");a[x++]=k;var A=x+=N;for(j!==b&&(a[x++]=k),S=j;N--;)S=v[S],a[--A]=255&S,S>>=8;g!==null&&o<4096&&(v[o++]=g<<8|k,o>=d+1&&c<12&&(++c,d=d<<1|1)),g=b}else o=l+1,d=(1<<(c=n+1))-1,g=null}return x!==r&&ss.log("Warning, gif stream shorter than expected."),a}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function C3(e){var t,a,r,n,i,l=Math.floor,o=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),f=new Array(65535),x=new Array(65535),p=new Array(64),v=new Array(64),g=[],b=0,j=7,N=new Array(64),S=new Array(64),k=new Array(64),A=new Array(256),_=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],B=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function I(D,Q){for(var H=0,J=0,ae=new Array,ie=1;ie<=16;ie++){for(var le=1;le<=D[ie];le++)ae[Q[J]]=[],ae[Q[J]][0]=H,ae[Q[J]][1]=ie,J++,H++;H*=2}return ae}function G(D){for(var Q=D[0],H=D[1]-1;H>=0;)Q&1<<H&&(b|=1<<j),H--,--j<0&&(b==255?(re(255),re(0)):re(b),j=7,b=0)}function re(D){g.push(D)}function te(D){re(D>>8&255),re(255&D)}function X(D,Q,H,J,ae){for(var ie,le=ae[0],Y=ae[240],oe=(function(se,_e){var je,rt,ft,Bt,Je,$e,ze,Ze,dt,At,kt=0;for(dt=0;dt<8;++dt){je=se[kt],rt=se[kt+1],ft=se[kt+2],Bt=se[kt+3],Je=se[kt+4],$e=se[kt+5],ze=se[kt+6];var Dt=je+(Ze=se[kt+7]),zt=je-Ze,qt=rt+ze,Te=rt-ze,$t=ft+$e,We=ft-$e,Ut=Bt+Je,Vt=Bt-Je,fa=Dt+Ut,Ka=Dt-Ut,Oa=qt+$t,oa=qt-$t;se[kt]=fa+Oa,se[kt+4]=fa-Oa;var Ba=.707106781*(oa+Ka);se[kt+2]=Ka+Ba,se[kt+6]=Ka-Ba;var Be=.382683433*((fa=Vt+We)-(oa=Te+zt)),st=.5411961*fa+Be,Nt=1.306562965*oa+Be,yt=.707106781*(Oa=We+Te),ta=zt+yt,Aa=zt-yt;se[kt+5]=Aa+st,se[kt+3]=Aa-st,se[kt+1]=ta+Nt,se[kt+7]=ta-Nt,kt+=8}for(kt=0,dt=0;dt<8;++dt){je=se[kt],rt=se[kt+8],ft=se[kt+16],Bt=se[kt+24],Je=se[kt+32],$e=se[kt+40],ze=se[kt+48];var lr=je+(Ze=se[kt+56]),qa=je-Ze,er=rt+ze,Ta=rt-ze,Cr=ft+$e,ee=ft-$e,ke=Bt+Je,ye=Bt-Je,Ne=lr+ke,Ae=lr-ke,De=er+Cr,Ye=er-Cr;se[kt]=Ne+De,se[kt+32]=Ne-De;var ut=.707106781*(Ye+Ae);se[kt+16]=Ae+ut,se[kt+48]=Ae-ut;var Ke=.382683433*((Ne=ye+ee)-(Ye=Ta+qa)),et=.5411961*Ne+Ke,at=1.306562965*Ye+Ke,vt=.707106781*(De=ee+Ta),Lt=qa+vt,Xt=qa-vt;se[kt+40]=Xt+et,se[kt+24]=Xt-et,se[kt+8]=Lt+at,se[kt+56]=Lt-at,kt++}for(dt=0;dt<64;++dt)At=se[dt]*_e[dt],p[dt]=At>0?At+.5|0:At-.5|0;return p})(D,Q),xe=0;xe<64;++xe)v[M[xe]]=oe[xe];var W=v[0]-H;H=v[0],W==0?G(J[0]):(G(J[x[ie=32767+W]]),G(f[ie]));for(var he=63;he>0&&v[he]==0;)he--;if(he==0)return G(le),H;for(var fe,de=1;de<=he;){for(var Oe=de;v[de]==0&&de<=he;)++de;var Fe=de-Oe;if(Fe>=16){fe=Fe>>4;for(var Ee=1;Ee<=fe;++Ee)G(Y);Fe&=15}ie=32767+v[de],G(ae[(Fe<<4)+x[ie]]),G(f[ie]),de++}return he!=63&&G(le),H}function ce(D){D=Math.min(Math.max(D,1),100),i!=D&&((function(Q){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var ae=l((H[J]*Q+50)/100);ae=Math.min(Math.max(ae,1),255),o[M[J]]=ae}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],le=0;le<64;le++){var Y=l((ie[le]*Q+50)/100);Y=Math.min(Math.max(Y,1),255),c[M[le]]=Y}for(var oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],xe=0,W=0;W<8;W++)for(var he=0;he<8;he++)d[xe]=1/(o[M[xe]]*oe[W]*oe[he]*8),u[xe]=1/(c[M[xe]]*oe[W]*oe[he]*8),xe++})(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),i=D)}this.encode=function(D,Q){Q&&ce(Q),g=new Array,b=0,j=7,te(65496),te(65504),te(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),te(1),te(1),re(0),re(0),(function(){te(65499),te(132),re(0);for(var rt=0;rt<64;rt++)re(o[rt]);re(1);for(var ft=0;ft<64;ft++)re(c[ft])})(),(function(rt,ft){te(65472),te(17),re(8),te(ft),te(rt),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)})(D.width,D.height),(function(){te(65476),te(418),re(0);for(var rt=0;rt<16;rt++)re(L[rt+1]);for(var ft=0;ft<=11;ft++)re(U[ft]);re(16);for(var Bt=0;Bt<16;Bt++)re(z[Bt+1]);for(var Je=0;Je<=161;Je++)re(O[Je]);re(1);for(var $e=0;$e<16;$e++)re(B[$e+1]);for(var ze=0;ze<=11;ze++)re(E[ze]);re(17);for(var Ze=0;Ze<16;Ze++)re(R[Ze+1]);for(var dt=0;dt<=161;dt++)re(q[dt])})(),te(65498),te(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var H=0,J=0,ae=0;b=0,j=7,this.encode.displayName="_encode_";for(var ie,le,Y,oe,xe,W,he,fe,de,Oe=D.data,Fe=D.width,Ee=D.height,se=4*Fe,_e=0;_e<Ee;){for(ie=0;ie<se;){for(xe=se*_e+ie,he=-1,fe=0,de=0;de<64;de++)W=xe+(fe=de>>3)*se+(he=4*(7&de)),_e+fe>=Ee&&(W-=se*(_e+1+fe-Ee)),ie+he>=se&&(W-=ie+he-se+4),le=Oe[W++],Y=Oe[W++],oe=Oe[W++],N[de]=(_[le]+_[Y+256|0]+_[oe+512|0]>>16)-128,S[de]=(_[le+768|0]+_[Y+1024|0]+_[oe+1280|0]>>16)-128,k[de]=(_[le+1280|0]+_[Y+1536|0]+_[oe+1792|0]>>16)-128;H=X(N,d,H,t,r),J=X(S,u,J,a,n),ae=X(k,u,ae,a,n),ie+=32}_e+=8}if(j>=0){var je=[];je[1]=j+1,je[0]=(1<<j+1)-1,G(je)}return te(65497),new Uint8Array(g)},e=e||50,(function(){for(var D=String.fromCharCode,Q=0;Q<256;Q++)A[Q]=D(Q)})(),t=I(L,U),a=I(B,E),r=I(z,O),n=I(R,q),(function(){for(var D=1,Q=2,H=1;H<=15;H++){for(var J=D;J<Q;J++)x[32767+J]=H,f[32767+J]=[],f[32767+J][1]=H,f[32767+J][0]=J;for(var ae=-(Q-1);ae<=-D;ae++)x[32767+ae]=H,f[32767+ae]=[],f[32767+ae][1]=H,f[32767+ae][0]=Q-1+ae;D<<=1,Q<<=1}})(),(function(){for(var D=0;D<256;D++)_[D]=19595*D,_[D+256|0]=38470*D,_[D+512|0]=7471*D+32768,_[D+768|0]=-11059*D,_[D+1024|0]=-21709*D,_[D+1280|0]=32768*D+8421375,_[D+1536|0]=-27439*D,_[D+1792|0]=-5329*D})(),ce(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ed(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function TR(e){function t(U){if(!U)throw Error("assert :P")}function a(U,z,O){for(var B=0;4>B;B++)if(U[z+B]!=O.charCodeAt(B))return!0;return!1}function r(U,z,O,B,E){for(var R=0;R<E;R++)U[z+R]=O[B+R]}function n(U,z,O,B){for(var E=0;E<B;E++)U[z+E]=O}function i(U){return new Int32Array(U)}function l(U,z){for(var O=[],B=0;B<U;B++)O.push(new z);return O}function o(U,z){var O=[];return(function B(E,R,q){for(var I=q[R],G=0;G<I&&(E.push(q.length>R+1?[]:new z),!(q.length<R+1));G++)B(E[G],R+1,q)})(O,0,U),O}var c=function(){var U=this;function z(T,F){for(var Z=1<<F-1>>>0;T&Z;)Z>>>=1;return Z?(T&Z-1)+Z:T}function O(T,F,Z,ne,pe){t(!(ne%Z));do T[F+(ne-=Z)]=pe;while(0<ne)}function B(T,F,Z,ne,pe){if(t(2328>=pe),512>=pe)var ge=i(512);else if((ge=i(pe))==null)return 0;return(function(ve,we,Se,Pe,He,lt){var Me,Ge,tt=we,xt=1<<Se,it=i(16),wt=i(16);for(t(He!=0),t(Pe!=null),t(ve!=null),t(0<Se),Ge=0;Ge<He;++Ge){if(15<Pe[Ge])return 0;++it[Pe[Ge]]}if(it[0]==He)return 0;for(wt[1]=0,Me=1;15>Me;++Me){if(it[Me]>1<<Me)return 0;wt[Me+1]=wt[Me]+it[Me]}for(Ge=0;Ge<He;++Ge)Me=Pe[Ge],0<Pe[Ge]&&(lt[wt[Me]++]=Ge);if(wt[15]==1)return(Pe=new E).g=0,Pe.value=lt[0],O(ve,tt,1,xt,Pe),xt;var bt,Ft=-1,Mt=xt-1,pa=0,aa=1,Ra=1,na=1<<Se;for(Ge=0,Me=1,He=2;Me<=Se;++Me,He<<=1){if(aa+=Ra<<=1,0>(Ra-=it[Me]))return 0;for(;0<it[Me];--it[Me])(Pe=new E).g=Me,Pe.value=lt[Ge++],O(ve,tt+pa,He,na,Pe),pa=z(pa,Me)}for(Me=Se+1,He=2;15>=Me;++Me,He<<=1){if(aa+=Ra<<=1,0>(Ra-=it[Me]))return 0;for(;0<it[Me];--it[Me]){if(Pe=new E,(pa&Mt)!=Ft){for(tt+=na,bt=1<<(Ft=Me)-Se;15>Ft&&!(0>=(bt-=it[Ft]));)++Ft,bt<<=1;xt+=na=1<<(bt=Ft-Se),ve[we+(Ft=pa&Mt)].g=bt+Se,ve[we+Ft].value=tt-we-Ft}Pe.g=Me-Se,Pe.value=lt[Ge++],O(ve,tt+(pa>>Se),He,na,Pe),pa=z(pa,Me)}}return aa!=2*wt[15]-1?0:xt})(T,F,Z,ne,pe,ge)}function E(){this.value=this.g=0}function R(){this.value=this.g=0}function q(){this.G=l(5,E),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Oc,R)}function I(T,F,Z,ne){t(T!=null),t(F!=null),t(2147483648>ne),T.Ca=254,T.I=0,T.b=-8,T.Ka=0,T.oa=F,T.pa=Z,T.Jd=F,T.Yc=Z+ne,T.Zc=4<=ne?Z+ne-4+1:Z,le(T)}function G(T,F){for(var Z=0;0<F--;)Z|=oe(T,128)<<F;return Z}function re(T,F){var Z=G(T,F);return Y(T)?-Z:Z}function te(T,F,Z,ne){var pe,ge=0;for(t(T!=null),t(F!=null),t(4294967288>ne),T.Sb=ne,T.Ra=0,T.u=0,T.h=0,4<ne&&(ne=4),pe=0;pe<ne;++pe)ge+=F[Z+pe]<<8*pe;T.Ra=ge,T.bb=ne,T.oa=F,T.pa=Z}function X(T){for(;8<=T.u&&T.bb<T.Sb;)T.Ra>>>=8,T.Ra+=T.oa[T.pa+T.bb]<<Rc-8>>>0,++T.bb,T.u-=8;J(T)&&(T.h=1,T.u=0)}function ce(T,F){if(t(0<=F),!T.h&&F<=qi){var Z=H(T)&Ti[F];return T.u+=F,X(T),Z}return T.h=1,T.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(T){return T.Ra>>>(T.u&Rc-1)>>>0}function J(T){return t(T.bb<=T.Sb),T.h||T.bb==T.Sb&&T.u>Rc}function ae(T,F){T.u=F,T.h=J(T)}function ie(T){T.u>=Ho&&(t(T.u>=Ho),X(T))}function le(T){t(T!=null&&T.oa!=null),T.pa<T.Zc?(T.I=(T.oa[T.pa++]|T.I<<8)>>>0,T.b+=8):(t(T!=null&&T.oa!=null),T.pa<T.Yc?(T.b+=8,T.I=T.oa[T.pa++]|T.I<<8):T.Ka?T.b=0:(T.I<<=8,T.b+=8,T.Ka=1))}function Y(T){return G(T,1)}function oe(T,F){var Z=T.Ca;0>T.b&&le(T);var ne=T.b,pe=Z*F>>>8,ge=(T.I>>>ne>pe)+0;for(ge?(Z-=pe,T.I-=pe+1<<ne>>>0):Z=pe+1,ne=Z,pe=0;256<=ne;)pe+=8,ne>>=8;return ne=7^pe+Dd[ne],T.b-=ne,T.Ca=(Z<<ne)-1,ge}function xe(T,F,Z){T[F+0]=Z>>24&255,T[F+1]=Z>>16&255,T[F+2]=Z>>8&255,T[F+3]=255&Z}function W(T,F){return T[F+0]|T[F+1]<<8}function he(T,F){return W(T,F)|T[F+2]<<16}function fe(T,F){return W(T,F)|W(T,F+2)<<16}function de(T,F){var Z=1<<F;return t(T!=null),t(0<F),T.X=i(Z),T.X==null?0:(T.Mb=32-F,T.Xa=F,1)}function Oe(T,F){t(T!=null),t(F!=null),t(T.Xa==F.Xa),r(F.X,0,T.X,0,1<<F.Xa)}function Fe(){this.X=[],this.Xa=this.Mb=0}function Ee(T,F,Z,ne){t(Z!=null),t(ne!=null);var pe=Z[0],ge=ne[0];return pe==0&&(pe=(T*ge+F/2)/F),ge==0&&(ge=(F*pe+T/2)/T),0>=pe||0>=ge?0:(Z[0]=pe,ne[0]=ge,1)}function se(T,F){return T+(1<<F)-1>>>F}function _e(T,F){return((4278255360&T)+(4278255360&F)>>>0&4278255360)+((16711935&T)+(16711935&F)>>>0&16711935)>>>0}function je(T,F){U[F]=function(Z,ne,pe,ge,ve,we,Se){var Pe;for(Pe=0;Pe<ve;++Pe){var He=U[T](we[Se+Pe-1],pe,ge+Pe);we[Se+Pe]=_e(Z[ne+Pe],He)}}}function rt(){this.ud=this.hd=this.jd=0}function ft(T,F){return((4278124286&(T^F))>>>1)+(T&F)>>>0}function Bt(T){return 0<=T&&256>T?T:0>T?0:255<T?255:void 0}function Je(T,F){return Bt(T+(T-F+.5>>1))}function $e(T,F,Z){return Math.abs(F-Z)-Math.abs(T-Z)}function ze(T,F,Z,ne,pe,ge,ve){for(ne=ge[ve-1],Z=0;Z<pe;++Z)ge[ve+Z]=ne=_e(T[F+Z],ne)}function Ze(T,F,Z,ne,pe){var ge;for(ge=0;ge<Z;++ge){var ve=T[F+ge],we=ve>>8&255,Se=16711935&(Se=(Se=16711935&ve)+((we<<16)+we));ne[pe+ge]=(4278255360&ve)+Se>>>0}}function dt(T,F){F.jd=255&T,F.hd=T>>8&255,F.ud=T>>16&255}function At(T,F,Z,ne,pe,ge){var ve;for(ve=0;ve<ne;++ve){var we=F[Z+ve],Se=we>>>8,Pe=we,He=255&(He=(He=we>>>16)+((T.jd<<24>>24)*(Se<<24>>24)>>>5));Pe=255&(Pe=(Pe+=(T.hd<<24>>24)*(Se<<24>>24)>>>5)+((T.ud<<24>>24)*(He<<24>>24)>>>5)),pe[ge+ve]=(4278255360&we)+(He<<16)+Pe}}function kt(T,F,Z,ne,pe){U[F]=function(ge,ve,we,Se,Pe,He,lt,Me,Ge){for(Se=lt;Se<Me;++Se)for(lt=0;lt<Ge;++lt)Pe[He++]=pe(we[ne(ge[ve++])])},U[T]=function(ge,ve,we,Se,Pe,He,lt){var Me=8>>ge.b,Ge=ge.Ea,tt=ge.K[0],xt=ge.w;if(8>Me)for(ge=(1<<ge.b)-1,xt=(1<<Me)-1;ve<we;++ve){var it,wt=0;for(it=0;it<Ge;++it)it&ge||(wt=ne(Se[Pe++])),He[lt++]=pe(tt[wt&xt]),wt>>=Me}else U["VP8LMapColor"+Z](Se,Pe,tt,xt,He,lt,ve,we,Ge)}}function Dt(T,F,Z,ne,pe){for(Z=F+Z;F<Z;){var ge=T[F++];ne[pe++]=ge>>16&255,ne[pe++]=ge>>8&255,ne[pe++]=255&ge}}function zt(T,F,Z,ne,pe){for(Z=F+Z;F<Z;){var ge=T[F++];ne[pe++]=ge>>16&255,ne[pe++]=ge>>8&255,ne[pe++]=255&ge,ne[pe++]=ge>>24&255}}function qt(T,F,Z,ne,pe){for(Z=F+Z;F<Z;){var ge=(ve=T[F++])>>16&240|ve>>12&15,ve=240&ve|ve>>28&15;ne[pe++]=ge,ne[pe++]=ve}}function Te(T,F,Z,ne,pe){for(Z=F+Z;F<Z;){var ge=(ve=T[F++])>>16&248|ve>>13&7,ve=ve>>5&224|ve>>3&31;ne[pe++]=ge,ne[pe++]=ve}}function $t(T,F,Z,ne,pe){for(Z=F+Z;F<Z;){var ge=T[F++];ne[pe++]=255&ge,ne[pe++]=ge>>8&255,ne[pe++]=ge>>16&255}}function We(T,F,Z,ne,pe,ge){if(ge==0)for(Z=F+Z;F<Z;)xe(ne,((ge=T[F++])[0]>>24|ge[1]>>8&65280|ge[2]<<8&16711680|ge[3]<<24)>>>0),pe+=32;else r(ne,pe,T,F,Z)}function Ut(T,F){U[F][0]=U[T+"0"],U[F][1]=U[T+"1"],U[F][2]=U[T+"2"],U[F][3]=U[T+"3"],U[F][4]=U[T+"4"],U[F][5]=U[T+"5"],U[F][6]=U[T+"6"],U[F][7]=U[T+"7"],U[F][8]=U[T+"8"],U[F][9]=U[T+"9"],U[F][10]=U[T+"10"],U[F][11]=U[T+"11"],U[F][12]=U[T+"12"],U[F][13]=U[T+"13"],U[F][14]=U[T+"0"],U[F][15]=U[T+"0"]}function Vt(T){return T==s0||T==Pd||T==$c||T==$h}function fa(){this.eb=[],this.size=this.A=this.fb=0}function Ka(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Oa(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new fa,this.f.kb=new Ka,this.sd=null}function oa(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ba(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Be(T){return alert("todo:WebPSamplerProcessPlane"),T.T}function st(T,F){var Z=T.T,ne=F.ba.f.RGBA,pe=ne.eb,ge=ne.fb+T.ka*ne.A,ve=Mn[F.ba.S],we=T.y,Se=T.O,Pe=T.f,He=T.N,lt=T.ea,Me=T.W,Ge=F.cc,tt=F.dc,xt=F.Mc,it=F.Nc,wt=T.ka,bt=T.ka+T.T,Ft=T.U,Mt=Ft+1>>1;for(wt==0?ve(we,Se,null,null,Pe,He,lt,Me,Pe,He,lt,Me,pe,ge,null,null,Ft):(ve(F.ec,F.fc,we,Se,Ge,tt,xt,it,Pe,He,lt,Me,pe,ge-ne.A,pe,ge,Ft),++Z);wt+2<bt;wt+=2)Ge=Pe,tt=He,xt=lt,it=Me,He+=T.Rc,Me+=T.Rc,ge+=2*ne.A,ve(we,(Se+=2*T.fa)-T.fa,we,Se,Ge,tt,xt,it,Pe,He,lt,Me,pe,ge-ne.A,pe,ge,Ft);return Se+=T.fa,T.j+bt<T.o?(r(F.ec,F.fc,we,Se,Ft),r(F.cc,F.dc,Pe,He,Mt),r(F.Mc,F.Nc,lt,Me,Mt),Z--):1&bt||ve(we,Se,null,null,Pe,He,lt,Me,Pe,He,lt,Me,pe,ge+ne.A,null,null,Ft),Z}function Nt(T,F,Z){var ne=T.F,pe=[T.J];if(ne!=null){var ge=T.U,ve=F.ba.S,we=ve==wu||ve==$c;F=F.ba.f.RGBA;var Se=[0],Pe=T.ka;Se[0]=T.T,T.Kb&&(Pe==0?--Se[0]:(--Pe,pe[0]-=T.width),T.j+T.ka+T.T==T.o&&(Se[0]=T.o-T.j-Pe));var He=F.eb;Pe=F.fb+Pe*F.A,T=jl(ne,pe[0],T.width,ge,Se,He,Pe+(we?0:3),F.A),t(Z==Se),T&&Vt(ve)&&Ih(He,Pe,we,ge,Se,F.A)}return 0}function yt(T){var F=T.ma,Z=F.ba.S,ne=11>Z,pe=Z==Bh||Z==r0||Z==wu||Z==Bc||Z==12||Vt(Z);if(F.memory=null,F.Ib=null,F.Jb=null,F.Nd=null,!Ed(F.Oa,T,pe?11:12))return 0;if(pe&&Vt(Z)&&Wm(),T.da)alert("todo:use_scaling");else{if(ne){if(F.Ib=Be,T.Kb){if(Z=T.U+1>>1,F.memory=i(T.U+2*Z),F.memory==null)return 0;F.ec=F.memory,F.fc=0,F.cc=F.ec,F.dc=F.fc+T.U,F.Mc=F.cc,F.Nc=F.dc+Z,F.Ib=st,Wm()}}else alert("todo:EmitYUV");pe&&(F.Jb=Nt,ne&&Bl())}if(ne&&!jb){for(T=0;256>T;++T)GN[T]=89858*(T-128)+un>>Xo,l0[T]=-22014*(T-128)+un,Vx[T]=-45773*(T-128),hn[T]=113618*(T-128)+un>>Xo;for(T=Rd;T<rp;++T)F=76283*(T-16)+un>>Xo,o0[T-Rd]=ys(F,255),Wx[T-Rd]=ys(F+8>>4,15);jb=1}return 1}function ta(T){var F=T.ma,Z=T.U,ne=T.T;return t(!(1&T.ka)),0>=Z||0>=ne?0:(Z=F.Ib(T,F),F.Jb!=null&&F.Jb(T,F,Z),F.Dc+=Z,1)}function Aa(T){T.ma.memory=null}function lr(T,F,Z,ne){return ce(T,8)!=47?0:(F[0]=ce(T,14)+1,Z[0]=ce(T,14)+1,ne[0]=ce(T,1),ce(T,3)!=0?0:!T.h)}function qa(T,F){if(4>T)return T+1;var Z=T-2>>1;return(2+(1&T)<<Z)+ce(F,Z)+1}function er(T,F){return 120<F?F-120:1<=(Z=((Z=zc[F-1])>>4)*T+(8-(15&Z)))?Z:1;var Z}function Ta(T,F,Z){var ne=H(Z),pe=T[F+=255&ne].g-8;return 0<pe&&(ae(Z,Z.u+8),ne=H(Z),F+=T[F].value,F+=ne&(1<<pe)-1),ae(Z,Z.u+T[F].g),T[F].value}function Cr(T,F,Z){return Z.g+=T.g,Z.value+=T.value<<F>>>0,t(8>=Z.g),T.g}function ee(T,F,Z){var ne=T.xc;return t((F=ne==0?0:T.vc[T.md*(Z>>ne)+(F>>ne)])<T.Wb),T.Ya[F]}function ke(T,F,Z,ne){var pe=T.ab,ge=T.c*F,ve=T.C;F=ve+F;var we=Z,Se=ne;for(ne=T.Ta,Z=T.Ua;0<pe--;){var Pe=T.gc[pe],He=ve,lt=F,Me=we,Ge=Se,tt=(Se=ne,we=Z,Pe.Ea);switch(t(He<lt),t(lt<=Pe.nc),Pe.hc){case 2:Fs(Me,Ge,(lt-He)*tt,Se,we);break;case 0:var xt=He,it=lt,wt=Se,bt=we,Ft=(na=Pe).Ea;xt==0&&(e0(Me,Ge,null,null,1,wt,bt),ze(Me,Ge+1,0,0,Ft-1,wt,bt+1),Ge+=Ft,bt+=Ft,++xt);for(var Mt=1<<na.b,pa=Mt-1,aa=se(Ft,na.b),Ra=na.K,na=na.w+(xt>>na.b)*aa;xt<it;){var sr=Ra,Ks=na,Da=1;for(Mh(Me,Ge,wt,bt-Ft,1,wt,bt);Da<Ft;){var ia=(Da&~pa)+Mt;ia>Ft&&(ia=Ft),(0,Lh[sr[Ks++]>>8&15])(Me,Ge+ +Da,wt,bt+Da-Ft,ia-Da,wt,bt+Da),Da=ia}Ge+=Ft,bt+=Ft,++xt&pa||(na+=aa)}lt!=Pe.nc&&r(Se,we-tt,Se,we+(lt-He-1)*tt,tt);break;case 1:for(tt=Me,it=Ge,Ft=(Me=Pe.Ea)-(bt=Me&~(wt=(Ge=1<<Pe.b)-1)),xt=se(Me,Pe.b),Mt=Pe.K,Pe=Pe.w+(He>>Pe.b)*xt;He<lt;){for(pa=Mt,aa=Pe,Ra=new rt,na=it+bt,sr=it+Me;it<na;)dt(pa[aa++],Ra),Oh(Ra,tt,it,Ge,Se,we),it+=Ge,we+=Ge;it<sr&&(dt(pa[aa++],Ra),Oh(Ra,tt,it,Ft,Se,we),it+=Ft,we+=Ft),++He&wt||(Pe+=xt)}break;case 3:if(Me==Se&&Ge==we&&0<Pe.b){for(it=Se,Me=tt=we+(lt-He)*tt-(bt=(lt-He)*se(Pe.Ea,Pe.b)),Ge=Se,wt=we,xt=[],bt=(Ft=bt)-1;0<=bt;--bt)xt[bt]=Ge[wt+bt];for(bt=Ft-1;0<=bt;--bt)it[Me+bt]=xt[bt];qm(Pe,He,lt,Se,tt,Se,we)}else qm(Pe,He,lt,Me,Ge,Se,we)}we=ne,Se=Z}Se!=Z&&r(ne,Z,we,Se,ge)}function ye(T,F){var Z=T.V,ne=T.Ba+T.c*T.C,pe=F-T.C;if(t(F<=T.l.o),t(16>=pe),0<pe){var ge=T.l,ve=T.Ta,we=T.Ua,Se=ge.width;if(ke(T,pe,Z,ne),pe=we=[we],t((Z=T.C)<(ne=F)),t(ge.v<ge.va),ne>ge.o&&(ne=ge.o),Z<ge.j){var Pe=ge.j-Z;Z=ge.j,pe[0]+=Pe*Se}if(Z>=ne?Z=0:(pe[0]+=4*ge.v,ge.ka=Z-ge.j,ge.U=ge.va-ge.v,ge.T=ne-Z,Z=1),Z){if(we=we[0],11>(Z=T.ca).S){var He=Z.f.RGBA,lt=(ne=Z.S,pe=ge.U,ge=ge.T,Pe=He.eb,He.A),Me=ge;for(He=He.fb+T.Ma*He.A;0<Me--;){var Ge=ve,tt=we,xt=pe,it=Pe,wt=He;switch(ne){case fi:Rh(Ge,tt,xt,it,wt);break;case Bh:Vo(Ge,tt,xt,it,wt);break;case s0:Vo(Ge,tt,xt,it,wt),Ih(it,wt,0,xt,1,0);break;case qo:Fc(Ge,tt,xt,it,wt);break;case r0:We(Ge,tt,xt,it,wt,1);break;case Pd:We(Ge,tt,xt,it,wt,1),Ih(it,wt,0,xt,1,0);break;case wu:We(Ge,tt,xt,it,wt,0);break;case $c:We(Ge,tt,xt,it,wt,0),Ih(it,wt,1,xt,1,0);break;case Bc:Md(Ge,tt,xt,it,wt);break;case $h:Md(Ge,tt,xt,it,wt),wl(it,wt,xt,1,0);break;case Jm:bl(Ge,tt,xt,it,wt);break;default:t(0)}we+=Se,He+=lt}T.Ma+=ge}else alert("todo:EmitRescaledRowsYUVA");t(T.Ma<=Z.height)}}T.C=F,t(T.C<=T.i)}function Ne(T){var F;if(0<T.ua)return 0;for(F=0;F<T.Wb;++F){var Z=T.Ya[F].G,ne=T.Ya[F].H;if(0<Z[1][ne[1]+0].g||0<Z[2][ne[2]+0].g||0<Z[3][ne[3]+0].g)return 0}return 1}function Ae(T,F,Z,ne,pe,ge){if(T.Z!=0){var ve=T.qd,we=T.rd;for(t(Ko[T.Z]!=null);F<Z;++F)Ko[T.Z](ve,we,ne,pe,ne,pe,ge),ve=ne,we=pe,pe+=ge;T.qd=ve,T.rd=we}}function De(T,F){var Z=T.l.ma,ne=Z.Z==0||Z.Z==1?T.l.j:T.C;if(ne=T.C<ne?ne:T.C,t(F<=T.l.o),F>ne){var pe=T.l.width,ge=Z.ca,ve=Z.tb+pe*ne,we=T.V,Se=T.Ba+T.c*ne,Pe=T.gc;t(T.ab==1),t(Pe[0].hc==3),Gi(Pe[0],ne,F,we,Se,ge,ve),Ae(Z,ne,F,ge,ve,pe)}T.C=T.Ma=F}function Ye(T,F,Z,ne,pe,ge,ve){var we=T.$/ne,Se=T.$%ne,Pe=T.m,He=T.s,lt=Z+T.$,Me=lt;pe=Z+ne*pe;var Ge=Z+ne*ge,tt=280+He.ua,xt=T.Pb?we:16777216,it=0<He.ua?He.Wa:null,wt=He.wc,bt=lt<Ge?ee(He,Se,we):null;t(T.C<ge),t(Ge<=pe);var Ft=!1;e:for(;;){for(;Ft||lt<Ge;){var Mt=0;if(we>=xt){var pa=lt-Z;t((xt=T).Pb),xt.wd=xt.m,xt.xd=pa,0<xt.s.ua&&Oe(xt.s.Wa,xt.s.vb),xt=we+bb}if(Se&wt||(bt=ee(He,Se,we)),t(bt!=null),bt.Qb&&(F[lt]=bt.qb,Ft=!0),!Ft)if(ie(Pe),bt.jc){Mt=Pe,pa=F;var aa=lt,Ra=bt.pd[H(Mt)&Oc-1];t(bt.jc),256>Ra.g?(ae(Mt,Mt.u+Ra.g),pa[aa]=Ra.value,Mt=0):(ae(Mt,Mt.u+Ra.g-256),t(256<=Ra.value),Mt=Ra.value),Mt==0&&(Ft=!0)}else Mt=Ta(bt.G[0],bt.H[0],Pe);if(Pe.h)break;if(Ft||256>Mt){if(!Ft)if(bt.nd)F[lt]=(bt.qb|Mt<<8)>>>0;else{if(ie(Pe),Ft=Ta(bt.G[1],bt.H[1],Pe),ie(Pe),pa=Ta(bt.G[2],bt.H[2],Pe),aa=Ta(bt.G[3],bt.H[3],Pe),Pe.h)break;F[lt]=(aa<<24|Ft<<16|Mt<<8|pa)>>>0}if(Ft=!1,++lt,++Se>=ne&&(Se=0,++we,ve!=null&&we<=ge&&!(we%16)&&ve(T,we),it!=null))for(;Me<lt;)Mt=F[Me++],it.X[(506832829*Mt&4294967295)>>>it.Mb]=Mt}else if(280>Mt){if(Mt=qa(Mt-256,Pe),pa=Ta(bt.G[4],bt.H[4],Pe),ie(Pe),pa=er(ne,pa=qa(pa,Pe)),Pe.h)break;if(lt-Z<pa||pe-lt<Mt)break e;for(aa=0;aa<Mt;++aa)F[lt+aa]=F[lt+aa-pa];for(lt+=Mt,Se+=Mt;Se>=ne;)Se-=ne,++we,ve!=null&&we<=ge&&!(we%16)&&ve(T,we);if(t(lt<=pe),Se&wt&&(bt=ee(He,Se,we)),it!=null)for(;Me<lt;)Mt=F[Me++],it.X[(506832829*Mt&4294967295)>>>it.Mb]=Mt}else{if(!(Mt<tt))break e;for(Ft=Mt-280,t(it!=null);Me<lt;)Mt=F[Me++],it.X[(506832829*Mt&4294967295)>>>it.Mb]=Mt;Mt=lt,t(!(Ft>>>(pa=it).Xa)),F[Mt]=pa.X[Ft],Ft=!0}Ft||t(Pe.h==J(Pe))}if(T.Pb&&Pe.h&&lt<pe)t(T.m.h),T.a=5,T.m=T.wd,T.$=T.xd,0<T.s.ua&&Oe(T.s.vb,T.s.Wa);else{if(Pe.h)break e;ve?.(T,we>ge?ge:we),T.a=0,T.$=lt-Z}return 1}return T.a=3,0}function ut(T){t(T!=null),T.vc=null,T.yc=null,T.Ya=null;var F=T.Wa;F!=null&&(F.X=null),T.vb=null,t(T!=null)}function Ke(){var T=new xa;return T==null?null:(T.a=0,T.xb=Uh,Ut("Predictor","VP8LPredictors"),Ut("Predictor","VP8LPredictors_C"),Ut("PredictorAdd","VP8LPredictorsAdd"),Ut("PredictorAdd","VP8LPredictorsAdd_C"),Fs=Ze,Oh=At,Rh=Dt,Vo=zt,Md=qt,bl=Te,Fc=$t,U.VP8LMapColor32b=ws,U.VP8LMapColor8b=Ph,T)}function et(T,F,Z,ne,pe){var ge=1,ve=[T],we=[F],Se=ne.m,Pe=ne.s,He=null,lt=0;e:for(;;){if(Z)for(;ge&&ce(Se,1);){var Me=ve,Ge=we,tt=ne,xt=1,it=tt.m,wt=tt.gc[tt.ab],bt=ce(it,2);if(tt.Oc&1<<bt)ge=0;else{switch(tt.Oc|=1<<bt,wt.hc=bt,wt.Ea=Me[0],wt.nc=Ge[0],wt.K=[null],++tt.ab,t(4>=tt.ab),bt){case 0:case 1:wt.b=ce(it,3)+2,xt=et(se(wt.Ea,wt.b),se(wt.nc,wt.b),0,tt,wt.K),wt.K=wt.K[0];break;case 3:var Ft,Mt=ce(it,8)+1,pa=16<Mt?0:4<Mt?1:2<Mt?2:3;if(Me[0]=se(wt.Ea,pa),wt.b=pa,Ft=xt=et(Mt,1,0,tt,wt.K)){var aa,Ra=Mt,na=wt,sr=1<<(8>>na.b),Ks=i(sr);if(Ks==null)Ft=0;else{var Da=na.K[0],ia=na.w;for(Ks[0]=na.K[0][0],aa=1;aa<1*Ra;++aa)Ks[aa]=_e(Da[ia+aa],Ks[aa-1]);for(;aa<4*sr;++aa)Ks[aa]=0;na.K[0]=null,na.K[0]=Ks,Ft=1}}xt=Ft;break;case 2:break;default:t(0)}ge=xt}}if(ve=ve[0],we=we[0],ge&&ce(Se,1)&&!(ge=1<=(lt=ce(Se,4))&&11>=lt)){ne.a=3;break e}var Qt;if(Qt=ge)t:{var ds,Fa,Ga,ca=ne,Ua=ve,mr=we,as=lt,Is=Z,Bs=ca.m,Ss=ca.s,tr=[null],pr=1,ks=0,Na=Nu[as];a:for(;;){if(Is&&ce(Bs,1)){var fn=ce(Bs,3)+2,kl=se(Ua,fn),Cs=se(mr,fn),Di=kl*Cs;if(!et(kl,Cs,0,ca,tr))break a;for(tr=tr[0],Ss.xc=fn,ds=0;ds<Di;++ds){var Fr=tr[ds]>>8&65535;tr[ds]=Fr,Fr>=pr&&(pr=Fr+1)}}if(Bs.h)break a;for(Fa=0;5>Fa;++Fa){var $s=Nl[Fa];!Fa&&0<as&&($s+=1<<as),ks<$s&&(ks=$s)}var Mi=l(pr*Na,E),qn=pr,Gr=l(qn,q);if(Gr==null)var yr=null;else t(65536>=qn),yr=Gr;var mi=i(ks);if(yr==null||mi==null||Mi==null){ca.a=1;break a}var Gn=Mi;for(ds=Ga=0;ds<pr;++ds){var Lr=yr[ds],Pi=Lr.G,mn=Lr.H,Qo=0,po=1,pn=0;for(Fa=0;5>Fa;++Fa){$s=Nl[Fa],Pi[Fa]=Gn,mn[Fa]=Ga,!Fa&&0<as&&($s+=1<<as);s:{var c0,sp=$s,d0=ca,Hh=mi,kb=Gn,Cb=Ga,u0=0,qc=d0.m,YN=ce(qc,1);if(n(Hh,0,0,sp),YN){var Ab=ce(qc,1)+1,_b=ce(qc,1),qx=ce(qc,_b==0?1:8);Hh[qx]=1,Ab==2&&(Hh[qx=ce(qc,8)]=1);var Vh=1}else{var Gx=i(19),Kx=ce(qc,4)+4;if(19<Kx){d0.a=3;var h0=0;break s}for(c0=0;c0<Kx;++c0)Gx[Uc[c0]]=ce(qc,3);var np=void 0,Wh=void 0,Tb=d0,Eb=Gx,Gc=sp,f0=Hh,ip=0,xo=Tb.m,qh=8,Yx=l(128,E);r:for(;B(Yx,0,7,Eb,19);){if(ce(xo,1)){var Db=2+2*ce(xo,3);if((np=2+ce(xo,Db))>Gc)break r}else np=Gc;for(Wh=0;Wh<Gc&&np--;){ie(xo);var Xx=Yx[0+(127&H(xo))];ae(xo,xo.u+Xx.g);var Cu=Xx.value;if(16>Cu)f0[Wh++]=Cu,Cu!=0&&(qh=Cu);else{var Mb=Cu==16,Qx=Cu-16,Jx=Vl[Qx],Zx=ce(xo,Zm[Qx])+Jx;if(Wh+Zx>Gc)break r;for(var Pb=Mb?qh:0;0<Zx--;)f0[Wh++]=Pb}}ip=1;break r}ip||(Tb.a=3),Vh=ip}(Vh=Vh&&!qc.h)&&(u0=B(kb,Cb,8,Hh,sp)),Vh&&u0!=0?h0=u0:(d0.a=3,h0=0)}if(h0==0)break a;if(po&&ju[Fa]==1&&(po=Gn[Ga].g==0),Qo+=Gn[Ga].g,Ga+=h0,3>=Fa){var Au,lp=mi[0];for(Au=1;Au<$s;++Au)mi[Au]>lp&&(lp=mi[Au]);pn+=lp}}if(Lr.nd=po,Lr.Qb=0,po&&(Lr.qb=(Pi[3][mn[3]+0].value<<24|Pi[1][mn[1]+0].value<<16|Pi[2][mn[2]+0].value)>>>0,Qo==0&&256>Pi[0][mn[0]+0].value&&(Lr.Qb=1,Lr.qb+=Pi[0][mn[0]+0].value<<8)),Lr.jc=!Lr.Qb&&6>pn,Lr.jc){var m0,Kc=Lr;for(m0=0;m0<Oc;++m0){var Jo=m0,Yc=Kc.pd[Jo],p0=Kc.G[0][Kc.H[0]+Jo];256<=p0.value?(Yc.g=p0.g+256,Yc.value=p0.value):(Yc.g=0,Yc.value=0,Jo>>=Cr(p0,8,Yc),Jo>>=Cr(Kc.G[1][Kc.H[1]+Jo],16,Yc),Jo>>=Cr(Kc.G[2][Kc.H[2]+Jo],0,Yc),Cr(Kc.G[3][Kc.H[3]+Jo],24,Yc))}}}Ss.vc=tr,Ss.Wb=pr,Ss.Ya=yr,Ss.yc=Mi,Qt=1;break t}Qt=0}if(!(ge=Qt)){ne.a=3;break e}if(0<lt){if(Pe.ua=1<<lt,!de(Pe.Wa,lt)){ne.a=1,ge=0;break e}}else Pe.ua=0;var x0=ne,eg=ve,Lb=we,tg=x0.s,ag=tg.xc;if(x0.c=eg,x0.i=Lb,tg.md=se(eg,ag),tg.wc=ag==0?-1:(1<<ag)-1,Z){ne.xb=wb;break e}if((He=i(ve*we))==null){ne.a=1,ge=0;break e}ge=(ge=Ye(ne,He,0,ve,we,we,null))&&!Se.h;break e}return ge?(pe!=null?pe[0]=He:(t(He==null),t(Z)),ne.$=0,Z||ut(Pe)):ut(Pe),ge}function at(T,F){var Z=T.c*T.i,ne=Z+F+16*F;return t(T.c<=F),T.V=i(ne),T.V==null?(T.Ta=null,T.Ua=0,T.a=1,0):(T.Ta=T.V,T.Ua=T.Ba+Z+F,1)}function vt(T,F){var Z=T.C,ne=F-Z,pe=T.V,ge=T.Ba+T.c*Z;for(t(F<=T.l.o);0<ne;){var ve=16<ne?16:ne,we=T.l.ma,Se=T.l.width,Pe=Se*ve,He=we.ca,lt=we.tb+Se*Z,Me=T.Ta,Ge=T.Ua;ke(T,ve,pe,ge),vu(Me,Ge,He,lt,Pe),Ae(we,Z,Z+ve,He,lt,Se),ne-=ve,pe+=ve*T.c,Z+=ve}t(Z==F),T.C=T.Ma=F}function Lt(){this.ub=this.yd=this.td=this.Rb=0}function Xt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ce(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Ve(){this.Yb=(function(){var T=[];return(function F(Z,ne,pe){for(var ge=pe[ne],ve=0;ve<ge&&(Z.push(pe.length>ne+1?[]:0),!(pe.length<ne+1));ve++)F(Z[ve],ne+1,pe)})(T,0,[3,11]),T})()}function Ht(){this.jb=i(3),this.Wc=o([4,8],Ve),this.Xc=o([4,17],Ve)}function ma(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function va(){this.ld=this.La=this.dd=this.tc=0}function Ha(){this.Na=this.la=0}function Ws(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Rr(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Un(){this.uc=this.M=this.Nb=0,this.wa=Array(new va),this.Y=0,this.ya=Array(new Rr),this.aa=0,this.l=new Tn}function oi(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Fl(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new Lt,this.Kc=new Xt,this.ed=new ma,this.Qa=new Ce,this.Ic=this.$c=this.Aa=0,this.D=new Un,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,D),this.ia=0,this.pb=l(4,Ws),this.Pa=new Ht,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new oi),this.Hd=0,this.rb=Array(new Ha),this.sb=0,this.wa=Array(new va),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Rr),this.L=this.aa=0,this.gd=o([4,2],va),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Tn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function cu(){var T=new Fl;return T!=null&&(T.a=0,T.sc="OK",T.cb=0,T.Xb=0,dn||(dn=zn)),T}function hr(T,F,Z){return T.a==0&&(T.a=F,T.sc=Z,T.cb=0),0}function yd(T,F,Z){return 3<=Z&&T[F+0]==157&&T[F+1]==1&&T[F+2]==42}function du(T,F){if(T==null)return 0;if(T.a=0,T.sc="OK",F==null)return hr(T,2,"null VP8Io passed to VP8GetHeaders()");var Z=F.data,ne=F.w,pe=F.ha;if(4>pe)return hr(T,7,"Truncated header.");var ge=Z[ne+0]|Z[ne+1]<<8|Z[ne+2]<<16,ve=T.Od;if(ve.Rb=!(1&ge),ve.td=ge>>1&7,ve.yd=ge>>4&1,ve.ub=ge>>5,3<ve.td)return hr(T,3,"Incorrect keyframe parameters.");if(!ve.yd)return hr(T,4,"Frame not displayable.");ne+=3,pe-=3;var we=T.Kc;if(ve.Rb){if(7>pe)return hr(T,7,"cannot parse picture header");if(!yd(Z,ne,pe))return hr(T,3,"Bad code word");we.c=16383&(Z[ne+4]<<8|Z[ne+3]),we.Td=Z[ne+4]>>6,we.i=16383&(Z[ne+6]<<8|Z[ne+5]),we.Ud=Z[ne+6]>>6,ne+=7,pe-=7,T.za=we.c+15>>4,T.Ub=we.i+15>>4,F.width=we.c,F.height=we.i,F.Da=0,F.j=0,F.v=0,F.va=F.width,F.o=F.height,F.da=0,F.ib=F.width,F.hb=F.height,F.U=F.width,F.T=F.height,n((ge=T.Pa).jb,0,255,ge.jb.length),t((ge=T.Qa)!=null),ge.Cb=0,ge.Bb=0,ge.Fb=1,n(ge.Zb,0,0,ge.Zb.length),n(ge.Lb,0,0,ge.Lb)}if(ve.ub>pe)return hr(T,7,"bad partition length");I(ge=T.m,Z,ne,ve.ub),ne+=ve.ub,pe-=ve.ub,ve.Rb&&(we.Ld=Y(ge),we.Kd=Y(ge)),we=T.Qa;var Se,Pe=T.Pa;if(t(ge!=null),t(we!=null),we.Cb=Y(ge),we.Cb){if(we.Bb=Y(ge),Y(ge)){for(we.Fb=Y(ge),Se=0;4>Se;++Se)we.Zb[Se]=Y(ge)?re(ge,7):0;for(Se=0;4>Se;++Se)we.Lb[Se]=Y(ge)?re(ge,6):0}if(we.Bb)for(Se=0;3>Se;++Se)Pe.jb[Se]=Y(ge)?G(ge,8):255}else we.Bb=0;if(ge.Ka)return hr(T,3,"cannot parse segment header");if((we=T.ed).zd=Y(ge),we.Tb=G(ge,6),we.wb=G(ge,3),we.Pc=Y(ge),we.Pc&&Y(ge)){for(Pe=0;4>Pe;++Pe)Y(ge)&&(we.vd[Pe]=re(ge,6));for(Pe=0;4>Pe;++Pe)Y(ge)&&(we.od[Pe]=re(ge,6))}if(T.L=we.Tb==0?0:we.zd?1:2,ge.Ka)return hr(T,3,"cannot parse filter header");var He=pe;if(pe=Se=ne,ne=Se+He,we=He,T.Xb=(1<<G(T.m,2))-1,He<3*(Pe=T.Xb))Z=7;else{for(Se+=3*Pe,we-=3*Pe,He=0;He<Pe;++He){var lt=Z[pe+0]|Z[pe+1]<<8|Z[pe+2]<<16;lt>we&&(lt=we),I(T.Jc[+He],Z,Se,lt),Se+=lt,we-=lt,pe+=3}I(T.Jc[+Pe],Z,Se,we),Z=Se<ne?0:5}if(Z!=0)return hr(T,Z,"cannot parse partitions");for(Z=G(Se=T.m,7),pe=Y(Se)?re(Se,4):0,ne=Y(Se)?re(Se,4):0,we=Y(Se)?re(Se,4):0,Pe=Y(Se)?re(Se,4):0,Se=Y(Se)?re(Se,4):0,He=T.Qa,lt=0;4>lt;++lt){if(He.Cb){var Me=He.Zb[lt];He.Fb||(Me+=Z)}else{if(0<lt){T.pb[lt]=T.pb[0];continue}Me=Z}var Ge=T.pb[lt];Ge.Sc[0]=n0[ys(Me+pe,127)],Ge.Sc[1]=i0[ys(Me+0,127)],Ge.Eb[0]=2*n0[ys(Me+ne,127)],Ge.Eb[1]=101581*i0[ys(Me+we,127)]>>16,8>Ge.Eb[1]&&(Ge.Eb[1]=8),Ge.Qc[0]=n0[ys(Me+Pe,117)],Ge.Qc[1]=i0[ys(Me+Se,127)],Ge.lc=Me+Se}if(!ve.Rb)return hr(T,4,"Not a key frame.");for(Y(ge),ve=T.Pa,Z=0;4>Z;++Z){for(pe=0;8>pe;++pe)for(ne=0;3>ne;++ne)for(we=0;11>we;++we)Pe=oe(ge,Su[Z][pe][ne][we])?G(ge,8):Go[Z][pe][ne][we],ve.Wc[Z][pe].Yb[ne][we]=Pe;for(pe=0;17>pe;++pe)ve.Xc[Z][pe]=ve.Wc[Z][yb[pe]]}return T.kc=Y(ge),T.kc&&(T.Bd=G(ge,8)),T.cb=1}function zn(T,F,Z,ne,pe,ge,ve){var we=F[pe].Yb[Z];for(Z=0;16>pe;++pe){if(!oe(T,we[Z+0]))return pe;for(;!oe(T,we[Z+1]);)if(we=F[++pe].Yb[0],Z=0,pe==16)return 16;var Se=F[pe+1].Yb;if(oe(T,we[Z+2])){var Pe=T,He=0;if(oe(Pe,(Me=we)[(lt=Z)+3]))if(oe(Pe,Me[lt+6])){for(we=0,lt=2*(He=oe(Pe,Me[lt+8]))+(Me=oe(Pe,Me[lt+9+He])),He=0,Me=Ns[lt];Me[we];++we)He+=He+oe(Pe,Me[we]);He+=3+(8<<lt)}else oe(Pe,Me[lt+7])?(He=7+2*oe(Pe,165),He+=oe(Pe,145)):He=5+oe(Pe,159);else He=oe(Pe,Me[lt+4])?3+oe(Pe,Me[lt+5]):2;we=Se[2]}else He=1,we=Se[1];Se=ve+jr[pe],0>(Pe=T).b&&le(Pe);var lt,Me=Pe.b,Ge=(lt=Pe.Ca>>1)-(Pe.I>>Me)>>31;--Pe.b,Pe.Ca+=Ge,Pe.Ca|=1,Pe.I-=(lt+1&Ge)<<Me,ge[Se]=((He^Ge)-Ge)*ne[(0<pe)+0]}return 16}function Hn(T){var F=T.rb[T.sb-1];F.la=0,F.Na=0,n(T.zc,0,0,T.zc.length),T.ja=0}function ci(T,F,Z,ne,pe){pe=T[F+Z+32*ne]+(pe>>3),T[F+Z+32*ne]=-256&pe?0>pe?0:255:pe}function Tc(T,F,Z,ne,pe,ge){ci(T,F,0,Z,ne+pe),ci(T,F,1,Z,ne+ge),ci(T,F,2,Z,ne-ge),ci(T,F,3,Z,ne-pe)}function fr(T){return(20091*T>>16)+T}function Ec(T,F,Z,ne){var pe,ge=0,ve=i(16);for(pe=0;4>pe;++pe){var we=T[F+0]+T[F+8],Se=T[F+0]-T[F+8],Pe=(35468*T[F+4]>>16)-fr(T[F+12]),He=fr(T[F+4])+(35468*T[F+12]>>16);ve[ge+0]=we+He,ve[ge+1]=Se+Pe,ve[ge+2]=Se-Pe,ve[ge+3]=we-He,ge+=4,F++}for(pe=ge=0;4>pe;++pe)we=(T=ve[ge+0]+4)+ve[ge+8],Se=T-ve[ge+8],Pe=(35468*ve[ge+4]>>16)-fr(ve[ge+12]),ci(Z,ne,0,0,we+(He=fr(ve[ge+4])+(35468*ve[ge+12]>>16))),ci(Z,ne,1,0,Se+Pe),ci(Z,ne,2,0,Se-Pe),ci(Z,ne,3,0,we-He),ge++,ne+=32}function Th(T,F,Z,ne){var pe=T[F+0]+4,ge=35468*T[F+4]>>16,ve=fr(T[F+4]),we=35468*T[F+1]>>16;Tc(Z,ne,0,pe+ve,T=fr(T[F+1]),we),Tc(Z,ne,1,pe+ge,T,we),Tc(Z,ne,2,pe-ge,T,we),Tc(Z,ne,3,pe-ve,T,we)}function uu(T,F,Z,ne,pe){Ec(T,F,Z,ne),pe&&Ec(T,F+16,Z,ne+4)}function oo(T,F,Z,ne){Ic(T,F+0,Z,ne,1),Ic(T,F+32,Z,ne+128,1)}function sn(T,F,Z,ne){var pe;for(T=T[F+0]+4,pe=0;4>pe;++pe)for(F=0;4>F;++F)ci(Z,ne,F,pe,T)}function Io(T,F,Z,ne){T[F+0]&&or(T,F+0,Z,ne),T[F+16]&&or(T,F+16,Z,ne+4),T[F+32]&&or(T,F+32,Z,ne+128),T[F+48]&&or(T,F+48,Z,ne+128+4)}function Ai(T,F,Z,ne){var pe,ge=i(16);for(pe=0;4>pe;++pe){var ve=T[F+0+pe]+T[F+12+pe],we=T[F+4+pe]+T[F+8+pe],Se=T[F+4+pe]-T[F+8+pe],Pe=T[F+0+pe]-T[F+12+pe];ge[0+pe]=ve+we,ge[8+pe]=ve-we,ge[4+pe]=Pe+Se,ge[12+pe]=Pe-Se}for(pe=0;4>pe;++pe)ve=(T=ge[0+4*pe]+3)+ge[3+4*pe],we=ge[1+4*pe]+ge[2+4*pe],Se=ge[1+4*pe]-ge[2+4*pe],Pe=T-ge[3+4*pe],Z[ne+0]=ve+we>>3,Z[ne+16]=Pe+Se>>3,Z[ne+32]=ve-we>>3,Z[ne+48]=Pe-Se>>3,ne+=64}function Bo(T,F,Z){var ne,pe=F-32,ge=Dn,ve=255-T[pe-1];for(ne=0;ne<Z;++ne){var we,Se=ge,Pe=ve+T[F-1];for(we=0;we<Z;++we)T[F+we]=Se[Pe+T[pe+we]];F+=32}}function Re(T,F){Bo(T,F,4)}function gt(T,F){Bo(T,F,8)}function Zt(T,F){Bo(T,F,16)}function Wt(T,F){var Z;for(Z=0;16>Z;++Z)r(T,F+32*Z,T,F-32,16)}function vr(T,F){var Z;for(Z=16;0<Z;--Z)n(T,F,T[F-1],16),F+=32}function Mr(T,F,Z){var ne;for(ne=0;16>ne;++ne)n(F,Z+32*ne,T,16)}function Zr(T,F){var Z,ne=16;for(Z=0;16>Z;++Z)ne+=T[F-1+32*Z]+T[F+Z-32];Mr(ne>>5,T,F)}function En(T,F){var Z,ne=8;for(Z=0;16>Z;++Z)ne+=T[F-1+32*Z];Mr(ne>>4,T,F)}function Qa(T,F){var Z,ne=8;for(Z=0;16>Z;++Z)ne+=T[F+Z-32];Mr(ne>>4,T,F)}function vs(T,F){Mr(128,T,F)}function ra(T,F,Z){return T+2*F+Z+2>>2}function co(T,F){var Z,ne=F-32;for(ne=new Uint8Array([ra(T[ne-1],T[ne+0],T[ne+1]),ra(T[ne+0],T[ne+1],T[ne+2]),ra(T[ne+1],T[ne+2],T[ne+3]),ra(T[ne+2],T[ne+3],T[ne+4])]),Z=0;4>Z;++Z)r(T,F+32*Z,ne,0,ne.length)}function es(T,F){var Z=T[F-1],ne=T[F-1+32],pe=T[F-1+64],ge=T[F-1+96];xe(T,F+0,16843009*ra(T[F-1-32],Z,ne)),xe(T,F+32,16843009*ra(Z,ne,pe)),xe(T,F+64,16843009*ra(ne,pe,ge)),xe(T,F+96,16843009*ra(pe,ge,ge))}function Ar(T,F){var Z,ne=4;for(Z=0;4>Z;++Z)ne+=T[F+Z-32]+T[F-1+32*Z];for(ne>>=3,Z=0;4>Z;++Z)n(T,F+32*Z,ne,4)}function bs(T,F){var Z=T[F-1+0],ne=T[F-1+32],pe=T[F-1+64],ge=T[F-1-32],ve=T[F+0-32],we=T[F+1-32],Se=T[F+2-32],Pe=T[F+3-32];T[F+0+96]=ra(ne,pe,T[F-1+96]),T[F+1+96]=T[F+0+64]=ra(Z,ne,pe),T[F+2+96]=T[F+1+64]=T[F+0+32]=ra(ge,Z,ne),T[F+3+96]=T[F+2+64]=T[F+1+32]=T[F+0+0]=ra(ve,ge,Z),T[F+3+64]=T[F+2+32]=T[F+1+0]=ra(we,ve,ge),T[F+3+32]=T[F+2+0]=ra(Se,we,ve),T[F+3+0]=ra(Pe,Se,we)}function nn(T,F){var Z=T[F+1-32],ne=T[F+2-32],pe=T[F+3-32],ge=T[F+4-32],ve=T[F+5-32],we=T[F+6-32],Se=T[F+7-32];T[F+0+0]=ra(T[F+0-32],Z,ne),T[F+1+0]=T[F+0+32]=ra(Z,ne,pe),T[F+2+0]=T[F+1+32]=T[F+0+64]=ra(ne,pe,ge),T[F+3+0]=T[F+2+32]=T[F+1+64]=T[F+0+96]=ra(pe,ge,ve),T[F+3+32]=T[F+2+64]=T[F+1+96]=ra(ge,ve,we),T[F+3+64]=T[F+2+96]=ra(ve,we,Se),T[F+3+96]=ra(we,Se,Se)}function ln(T,F){var Z=T[F-1+0],ne=T[F-1+32],pe=T[F-1+64],ge=T[F-1-32],ve=T[F+0-32],we=T[F+1-32],Se=T[F+2-32],Pe=T[F+3-32];T[F+0+0]=T[F+1+64]=ge+ve+1>>1,T[F+1+0]=T[F+2+64]=ve+we+1>>1,T[F+2+0]=T[F+3+64]=we+Se+1>>1,T[F+3+0]=Se+Pe+1>>1,T[F+0+96]=ra(pe,ne,Z),T[F+0+64]=ra(ne,Z,ge),T[F+0+32]=T[F+1+96]=ra(Z,ge,ve),T[F+1+32]=T[F+2+96]=ra(ge,ve,we),T[F+2+32]=T[F+3+96]=ra(ve,we,Se),T[F+3+32]=ra(we,Se,Pe)}function di(T,F){var Z=T[F+0-32],ne=T[F+1-32],pe=T[F+2-32],ge=T[F+3-32],ve=T[F+4-32],we=T[F+5-32],Se=T[F+6-32],Pe=T[F+7-32];T[F+0+0]=Z+ne+1>>1,T[F+1+0]=T[F+0+64]=ne+pe+1>>1,T[F+2+0]=T[F+1+64]=pe+ge+1>>1,T[F+3+0]=T[F+2+64]=ge+ve+1>>1,T[F+0+32]=ra(Z,ne,pe),T[F+1+32]=T[F+0+96]=ra(ne,pe,ge),T[F+2+32]=T[F+1+96]=ra(pe,ge,ve),T[F+3+32]=T[F+2+96]=ra(ge,ve,we),T[F+3+64]=ra(ve,we,Se),T[F+3+96]=ra(we,Se,Pe)}function uo(T,F){var Z=T[F-1+0],ne=T[F-1+32],pe=T[F-1+64],ge=T[F-1+96];T[F+0+0]=Z+ne+1>>1,T[F+2+0]=T[F+0+32]=ne+pe+1>>1,T[F+2+32]=T[F+0+64]=pe+ge+1>>1,T[F+1+0]=ra(Z,ne,pe),T[F+3+0]=T[F+1+32]=ra(ne,pe,ge),T[F+3+32]=T[F+1+64]=ra(pe,ge,ge),T[F+3+64]=T[F+2+64]=T[F+0+96]=T[F+1+96]=T[F+2+96]=T[F+3+96]=ge}function _i(T,F){var Z=T[F-1+0],ne=T[F-1+32],pe=T[F-1+64],ge=T[F-1+96],ve=T[F-1-32],we=T[F+0-32],Se=T[F+1-32],Pe=T[F+2-32];T[F+0+0]=T[F+2+32]=Z+ve+1>>1,T[F+0+32]=T[F+2+64]=ne+Z+1>>1,T[F+0+64]=T[F+2+96]=pe+ne+1>>1,T[F+0+96]=ge+pe+1>>1,T[F+3+0]=ra(we,Se,Pe),T[F+2+0]=ra(ve,we,Se),T[F+1+0]=T[F+3+32]=ra(Z,ve,we),T[F+1+32]=T[F+3+64]=ra(ne,Z,ve),T[F+1+64]=T[F+3+96]=ra(pe,ne,Z),T[F+1+96]=ra(ge,pe,ne)}function Il(T,F){var Z;for(Z=0;8>Z;++Z)r(T,F+32*Z,T,F-32,8)}function Vi(T,F){var Z;for(Z=0;8>Z;++Z)n(T,F,T[F-1],8),F+=32}function vl(T,F,Z){var ne;for(ne=0;8>ne;++ne)n(F,Z+32*ne,T,8)}function $o(T,F){var Z,ne=8;for(Z=0;8>Z;++Z)ne+=T[F+Z-32]+T[F-1+32*Z];vl(ne>>4,T,F)}function on(T,F){var Z,ne=4;for(Z=0;8>Z;++Z)ne+=T[F+Z-32];vl(ne>>3,T,F)}function ho(T,F){var Z,ne=4;for(Z=0;8>Z;++Z)ne+=T[F-1+32*Z];vl(ne>>3,T,F)}function wd(T,F){vl(128,T,F)}function fo(T,F,Z){var ne=T[F-Z],pe=T[F+0],ge=3*(pe-ne)+Qm[1020+T[F-2*Z]-T[F+Z]],ve=yu[112+(ge+4>>3)];T[F-Z]=Dn[255+ne+yu[112+(ge+3>>3)]],T[F+0]=Dn[255+pe-ve]}function hu(T,F,Z,ne){var pe=T[F+0],ge=T[F+Z];return Hl[255+T[F-2*Z]-T[F-Z]]>ne||Hl[255+ge-pe]>ne}function fu(T,F,Z,ne){return 4*Hl[255+T[F-Z]-T[F+0]]+Hl[255+T[F-2*Z]-T[F+Z]]<=ne}function jd(T,F,Z,ne,pe){var ge=T[F-3*Z],ve=T[F-2*Z],we=T[F-Z],Se=T[F+0],Pe=T[F+Z],He=T[F+2*Z],lt=T[F+3*Z];return 4*Hl[255+we-Se]+Hl[255+ve-Pe]>ne?0:Hl[255+T[F-4*Z]-ge]<=pe&&Hl[255+ge-ve]<=pe&&Hl[255+ve-we]<=pe&&Hl[255+lt-He]<=pe&&Hl[255+He-Pe]<=pe&&Hl[255+Pe-Se]<=pe}function Dc(T,F,Z,ne){var pe=2*ne+1;for(ne=0;16>ne;++ne)fu(T,F+ne,Z,pe)&&fo(T,F+ne,Z)}function Uo(T,F,Z,ne){var pe=2*ne+1;for(ne=0;16>ne;++ne)fu(T,F+ne*Z,1,pe)&&fo(T,F+ne*Z,1)}function Qf(T,F,Z,ne){var pe;for(pe=3;0<pe;--pe)Dc(T,F+=4*Z,Z,ne)}function zm(T,F,Z,ne){var pe;for(pe=3;0<pe;--pe)Uo(T,F+=4,Z,ne)}function Mc(T,F,Z,ne,pe,ge,ve,we){for(ge=2*ge+1;0<pe--;){if(jd(T,F,Z,ge,ve))if(hu(T,F,Z,we))fo(T,F,Z);else{var Se=T,Pe=F,He=Z,lt=Se[Pe-2*He],Me=Se[Pe-He],Ge=Se[Pe+0],tt=Se[Pe+He],xt=Se[Pe+2*He],it=27*(bt=Qm[1020+3*(Ge-Me)+Qm[1020+lt-tt]])+63>>7,wt=18*bt+63>>7,bt=9*bt+63>>7;Se[Pe-3*He]=Dn[255+Se[Pe-3*He]+bt],Se[Pe-2*He]=Dn[255+lt+wt],Se[Pe-He]=Dn[255+Me+it],Se[Pe+0]=Dn[255+Ge-it],Se[Pe+He]=Dn[255+tt-wt],Se[Pe+2*He]=Dn[255+xt-bt]}F+=ne}}function Pc(T,F,Z,ne,pe,ge,ve,we){for(ge=2*ge+1;0<pe--;){if(jd(T,F,Z,ge,ve))if(hu(T,F,Z,we))fo(T,F,Z);else{var Se=T,Pe=F,He=Z,lt=Se[Pe-He],Me=Se[Pe+0],Ge=Se[Pe+He],tt=yu[112+(4+(xt=3*(Me-lt))>>3)],xt=yu[112+(xt+3>>3)],it=tt+1>>1;Se[Pe-2*He]=Dn[255+Se[Pe-2*He]+it],Se[Pe-He]=Dn[255+lt+xt],Se[Pe+0]=Dn[255+Me-tt],Se[Pe+He]=Dn[255+Ge-it]}F+=ne}}function Eh(T,F,Z,ne,pe,ge){Mc(T,F,Z,1,16,ne,pe,ge)}function Hm(T,F,Z,ne,pe,ge){Mc(T,F,1,Z,16,ne,pe,ge)}function mu(T,F,Z,ne,pe,ge){var ve;for(ve=3;0<ve;--ve)Pc(T,F+=4*Z,Z,1,16,ne,pe,ge)}function Vm(T,F,Z,ne,pe,ge){var ve;for(ve=3;0<ve;--ve)Pc(T,F+=4,1,Z,16,ne,pe,ge)}function K(T,F,Z,ne,pe,ge,ve,we){Mc(T,F,pe,1,8,ge,ve,we),Mc(Z,ne,pe,1,8,ge,ve,we)}function me(T,F,Z,ne,pe,ge,ve,we){Mc(T,F,1,pe,8,ge,ve,we),Mc(Z,ne,1,pe,8,ge,ve,we)}function Le(T,F,Z,ne,pe,ge,ve,we){Pc(T,F+4*pe,pe,1,8,ge,ve,we),Pc(Z,ne+4*pe,pe,1,8,ge,ve,we)}function Ue(T,F,Z,ne,pe,ge,ve,we){Pc(T,F+4,1,pe,8,ge,ve,we),Pc(Z,ne+4,1,pe,8,ge,ve,we)}function Qe(){this.ba=new Oa,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ba,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function St(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ot(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sa(){this.ua=0,this.Wa=new Fe,this.vb=new Fe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new q,this.yc=new E}function xa(){this.xb=this.a=0,this.l=new Tn,this.ca=new Oa,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sa,this.ab=0,this.gc=l(4,Ot),this.Oc=0}function Ea(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Tn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function $a(T,F,Z,ne,pe,ge,ve){for(T=T==null?0:T[F+0],F=0;F<ve;++F)pe[ge+F]=T+Z[ne+F]&255,T=pe[ge+F]}function br(T,F,Z,ne,pe,ge,ve){var we;if(T==null)$a(null,null,Z,ne,pe,ge,ve);else for(we=0;we<ve;++we)pe[ge+we]=T[F+we]+Z[ne+we]&255}function cs(T,F,Z,ne,pe,ge,ve){if(T==null)$a(null,null,Z,ne,pe,ge,ve);else{var we,Se=T[F+0],Pe=Se,He=Se;for(we=0;we<ve;++we)Pe=He+(Se=T[F+we])-Pe,He=Z[ne+we]+(-256&Pe?0>Pe?0:255:Pe)&255,Pe=Se,pe[ge+we]=He}}function qs(T,F,Z,ne){var pe=F.width,ge=F.o;if(t(T!=null&&F!=null),0>Z||0>=ne||Z+ne>ge)return null;if(!T.Cc){if(T.ga==null){var ve;if(T.ga=new Ea,(ve=T.ga==null)||(ve=F.width*F.o,t(T.Gb.length==0),T.Gb=i(ve),T.Uc=0,T.Gb==null?ve=0:(T.mb=T.Gb,T.nb=T.Uc,T.rc=null,ve=1),ve=!ve),!ve){ve=T.ga;var we=T.Fa,Se=T.P,Pe=T.qc,He=T.mb,lt=T.nb,Me=Se+1,Ge=Pe-1,tt=ve.l;if(t(we!=null&&He!=null&&F!=null),Ko[0]=null,Ko[1]=$a,Ko[2]=br,Ko[3]=cs,ve.ca=He,ve.tb=lt,ve.c=F.width,ve.i=F.height,t(0<ve.c&&0<ve.i),1>=Pe)F=0;else if(ve.$a=3&we[Se+0],ve.Z=we[Se+0]>>2&3,ve.Lc=we[Se+0]>>4&3,Se=we[Se+0]>>6&3,0>ve.$a||1<ve.$a||4<=ve.Z||1<ve.Lc||Se)F=0;else if(tt.put=ta,tt.ac=yt,tt.bc=Aa,tt.ma=ve,tt.width=F.width,tt.height=F.height,tt.Da=F.Da,tt.v=F.v,tt.va=F.va,tt.j=F.j,tt.o=F.o,ve.$a)e:{t(ve.$a==1),F=Ke();t:for(;;){if(F==null){F=0;break e}if(t(ve!=null),ve.mc=F,F.c=ve.c,F.i=ve.i,F.l=ve.l,F.l.ma=ve,F.l.width=ve.c,F.l.height=ve.i,F.a=0,te(F.m,we,Me,Ge),!et(ve.c,ve.i,1,F,null)||(F.ab==1&&F.gc[0].hc==3&&Ne(F.s)?(ve.ic=1,we=F.c*F.i,F.Ta=null,F.Ua=0,F.V=i(we),F.Ba=0,F.V==null?(F.a=1,F=0):F=1):(ve.ic=0,F=at(F,ve.c)),!F))break t;F=1;break e}ve.mc=null,F=0}else F=Ge>=ve.c*ve.i;ve=!F}if(ve)return null;T.ga.Lc!=1?T.Ga=0:ne=ge-Z}t(T.ga!=null),t(Z+ne<=ge);e:{if(F=(we=T.ga).c,ge=we.l.o,we.$a==0){if(Me=T.rc,Ge=T.Vc,tt=T.Fa,Se=T.P+1+Z*F,Pe=T.mb,He=T.nb+Z*F,t(Se<=T.P+T.qc),we.Z!=0)for(t(Ko[we.Z]!=null),ve=0;ve<ne;++ve)Ko[we.Z](Me,Ge,tt,Se,Pe,He,F),Me=Pe,Ge=He,He+=F,Se+=F;else for(ve=0;ve<ne;++ve)r(Pe,He,tt,Se,F),Me=Pe,Ge=He,He+=F,Se+=F;T.rc=Me,T.Vc=Ge}else{if(t(we.mc!=null),F=Z+ne,t((ve=we.mc)!=null),t(F<=ve.i),ve.C>=F)F=1;else if(we.ic||Bl(),we.ic){we=ve.V,Me=ve.Ba,Ge=ve.c;var xt=ve.i,it=(tt=1,Se=ve.$/Ge,Pe=ve.$%Ge,He=ve.m,lt=ve.s,ve.$),wt=Ge*xt,bt=Ge*F,Ft=lt.wc,Mt=it<bt?ee(lt,Pe,Se):null;t(it<=wt),t(F<=xt),t(Ne(lt));t:for(;;){for(;!He.h&&it<bt;){if(Pe&Ft||(Mt=ee(lt,Pe,Se)),t(Mt!=null),ie(He),256>(xt=Ta(Mt.G[0],Mt.H[0],He)))we[Me+it]=xt,++it,++Pe>=Ge&&(Pe=0,++Se<=F&&!(Se%16)&&De(ve,Se));else{if(!(280>xt)){tt=0;break t}xt=qa(xt-256,He);var pa,aa=Ta(Mt.G[4],Mt.H[4],He);if(ie(He),!(it>=(aa=er(Ge,aa=qa(aa,He)))&&wt-it>=xt)){tt=0;break t}for(pa=0;pa<xt;++pa)we[Me+it+pa]=we[Me+it+pa-aa];for(it+=xt,Pe+=xt;Pe>=Ge;)Pe-=Ge,++Se<=F&&!(Se%16)&&De(ve,Se);it<bt&&Pe&Ft&&(Mt=ee(lt,Pe,Se))}t(He.h==J(He))}De(ve,Se>F?F:Se);break t}!tt||He.h&&it<wt?(tt=0,ve.a=He.h?5:3):ve.$=it,F=tt}else F=Ye(ve,ve.V,ve.Ba,ve.c,ve.i,F,vt);if(!F){ne=0;break e}}Z+ne>=ge&&(T.Cc=1),ne=1}if(!ne)return null;if(T.Cc&&((ne=T.ga)!=null&&(ne.mc=null),T.ga=null,0<T.Ga))return alert("todo:WebPDequantizeLevels"),null}return T.nb+Z*pe}function qr(T,F,Z,ne,pe,ge){for(;0<pe--;){var ve,we=T,Se=F+(Z?1:0),Pe=T,He=F+(Z?0:3);for(ve=0;ve<ne;++ve){var lt=Pe[He+4*ve];lt!=255&&(lt*=32897,we[Se+4*ve+0]=we[Se+4*ve+0]*lt>>23,we[Se+4*ve+1]=we[Se+4*ve+1]*lt>>23,we[Se+4*ve+2]=we[Se+4*ve+2]*lt>>23)}F+=ge}}function cn(T,F,Z,ne,pe){for(;0<ne--;){var ge;for(ge=0;ge<Z;++ge){var ve=T[F+2*ge+0],we=15&(Pe=T[F+2*ge+1]),Se=4369*we,Pe=(240&Pe|Pe>>4)*Se>>16;T[F+2*ge+0]=(240&ve|ve>>4)*Se>>16&240|(15&ve|ve<<4)*Se>>16>>4&15,T[F+2*ge+1]=240&Pe|we}F+=pe}}function Gs(T,F,Z,ne,pe,ge,ve,we){var Se,Pe,He=255;for(Pe=0;Pe<pe;++Pe){for(Se=0;Se<ne;++Se){var lt=T[F+Se];ge[ve+4*Se]=lt,He&=lt}F+=Z,ve+=we}return He!=255}function Vn(T,F,Z,ne,pe){var ge;for(ge=0;ge<pe;++ge)Z[ne+ge]=T[F+ge]>>8}function Bl(){Ih=qr,wl=cn,jl=Gs,vu=Vn}function Wi(T,F,Z){U[T]=function(ne,pe,ge,ve,we,Se,Pe,He,lt,Me,Ge,tt,xt,it,wt,bt,Ft){var Mt,pa=Ft-1>>1,aa=we[Se+0]|Pe[He+0]<<16,Ra=lt[Me+0]|Ge[tt+0]<<16;t(ne!=null);var na=3*aa+Ra+131074>>2;for(F(ne[pe+0],255&na,na>>16,xt,it),ge!=null&&(na=3*Ra+aa+131074>>2,F(ge[ve+0],255&na,na>>16,wt,bt)),Mt=1;Mt<=pa;++Mt){var sr=we[Se+Mt]|Pe[He+Mt]<<16,Ks=lt[Me+Mt]|Ge[tt+Mt]<<16,Da=aa+sr+Ra+Ks+524296,ia=Da+2*(sr+Ra)>>3;na=ia+aa>>1,aa=(Da=Da+2*(aa+Ks)>>3)+sr>>1,F(ne[pe+2*Mt-1],255&na,na>>16,xt,it+(2*Mt-1)*Z),F(ne[pe+2*Mt-0],255&aa,aa>>16,xt,it+(2*Mt-0)*Z),ge!=null&&(na=Da+Ra>>1,aa=ia+Ks>>1,F(ge[ve+2*Mt-1],255&na,na>>16,wt,bt+(2*Mt-1)*Z),F(ge[ve+2*Mt+0],255&aa,aa>>16,wt,bt+(2*Mt+0)*Z)),aa=sr,Ra=Ks}1&Ft||(na=3*aa+Ra+131074>>2,F(ne[pe+Ft-1],255&na,na>>16,xt,it+(Ft-1)*Z),ge!=null&&(na=3*Ra+aa+131074>>2,F(ge[ve+Ft-1],255&na,na>>16,wt,bt+(Ft-1)*Z)))}}function Wm(){Mn[fi]=Vc,Mn[Bh]=Yo,Mn[qo]=Od,Mn[r0]=ep,Mn[wu]=tp,Mn[Bc]=zh,Mn[Jm]=ap,Mn[s0]=Yo,Mn[Pd]=ep,Mn[$c]=tp,Mn[$h]=zh}function Nd(T){return T&-16384?0>T?0:255:T>>qN}function mo(T,F){return Nd((19077*T>>8)+(26149*F>>8)-14234)}function Sd(T,F,Z){return Nd((19077*T>>8)-(6419*F>>8)-(13320*Z>>8)+8708)}function kd(T,F){return Nd((19077*T>>8)+(33050*F>>8)-17685)}function Cd(T,F,Z,ne,pe){ne[pe+0]=mo(T,Z),ne[pe+1]=Sd(T,F,Z),ne[pe+2]=kd(T,F)}function Ad(T,F,Z,ne,pe){ne[pe+0]=kd(T,F),ne[pe+1]=Sd(T,F,Z),ne[pe+2]=mo(T,Z)}function Wn(T,F,Z,ne,pe){var ge=Sd(T,F,Z);F=ge<<3&224|kd(T,F)>>3,ne[pe+0]=248&mo(T,Z)|ge>>5,ne[pe+1]=F}function _d(T,F,Z,ne,pe){var ge=240&kd(T,F)|15;ne[pe+0]=240&mo(T,Z)|Sd(T,F,Z)>>4,ne[pe+1]=ge}function $l(T,F,Z,ne,pe){ne[pe+0]=255,Cd(T,F,Z,ne,pe+1)}function Jf(T,F,Z,ne,pe){Ad(T,F,Z,ne,pe),ne[pe+3]=255}function Zf(T,F,Z,ne,pe){Cd(T,F,Z,ne,pe),ne[pe+3]=255}function ys(T,F){return 0>T?0:T>F?F:T}function zo(T,F,Z){U[T]=function(ne,pe,ge,ve,we,Se,Pe,He,lt){for(var Me=He+(-2&lt)*Z;He!=Me;)F(ne[pe+0],ge[ve+0],we[Se+0],Pe,He),F(ne[pe+1],ge[ve+0],we[Se+0],Pe,He+Z),pe+=2,++ve,++Se,He+=2*Z;1&lt&&F(ne[pe+0],ge[ve+0],we[Se+0],Pe,He)}}function pu(T,F,Z){return Z==0?T==0?F==0?6:5:F==0?4:0:Z}function Td(T,F,Z,ne,pe){switch(T>>>30){case 3:Ic(F,Z,ne,pe,0);break;case 2:yl(F,Z,ne,pe);break;case 1:or(F,Z,ne,pe)}}function ui(T,F){var Z,ne,pe=F.M,ge=F.Nb,ve=T.oc,we=T.pc+40,Se=T.oc,Pe=T.pc+584,He=T.oc,lt=T.pc+600;for(Z=0;16>Z;++Z)ve[we+32*Z-1]=129;for(Z=0;8>Z;++Z)Se[Pe+32*Z-1]=129,He[lt+32*Z-1]=129;for(0<pe?ve[we-1-32]=Se[Pe-1-32]=He[lt-1-32]=129:(n(ve,we-32-1,127,21),n(Se,Pe-32-1,127,9),n(He,lt-32-1,127,9)),ne=0;ne<T.za;++ne){var Me=F.ya[F.aa+ne];if(0<ne){for(Z=-1;16>Z;++Z)r(ve,we+32*Z-4,ve,we+32*Z+12,4);for(Z=-1;8>Z;++Z)r(Se,Pe+32*Z-4,Se,Pe+32*Z+4,4),r(He,lt+32*Z-4,He,lt+32*Z+4,4)}var Ge=T.Gd,tt=T.Hd+ne,xt=Me.ad,it=Me.Hc;if(0<pe&&(r(ve,we-32,Ge[tt].y,0,16),r(Se,Pe-32,Ge[tt].f,0,8),r(He,lt-32,Ge[tt].ea,0,8)),Me.Za){var wt=ve,bt=we-32+16;for(0<pe&&(ne>=T.za-1?n(wt,bt,Ge[tt].y[15],4):r(wt,bt,Ge[tt+1].y,0,4)),Z=0;4>Z;Z++)wt[bt+128+Z]=wt[bt+256+Z]=wt[bt+384+Z]=wt[bt+0+Z];for(Z=0;16>Z;++Z,it<<=2)wt=ve,bt=we+ku[Z],Ei[Me.Ob[Z]](wt,bt),Td(it,xt,16*+Z,wt,bt)}else if(wt=pu(ne,pe,Me.Ob[0]),Hc[wt](ve,we),it!=0)for(Z=0;16>Z;++Z,it<<=2)Td(it,xt,16*+Z,ve,we+ku[Z]);for(Z=Me.Gc,wt=pu(ne,pe,Me.Dd),Sl[wt](Se,Pe),Sl[wt](He,lt),it=xt,wt=Se,bt=Pe,255&(Me=0|Z)&&(170&Me?hi(it,256,wt,bt):Pr(it,256,wt,bt)),Me=He,it=lt,255&(Z>>=8)&&(170&Z?hi(xt,320,Me,it):Pr(xt,320,Me,it)),pe<T.Ub-1&&(r(Ge[tt].y,0,ve,we+480,16),r(Ge[tt].f,0,Se,Pe+224,8),r(Ge[tt].ea,0,He,lt+224,8)),Z=8*ge*T.B,Ge=T.sa,tt=T.ta+16*ne+16*ge*T.R,xt=T.qa,Me=T.ra+8*ne+Z,it=T.Ha,wt=T.Ia+8*ne+Z,Z=0;16>Z;++Z)r(Ge,tt+Z*T.R,ve,we+32*Z,16);for(Z=0;8>Z;++Z)r(xt,Me+Z*T.B,Se,Pe+32*Z,8),r(it,wt+Z*T.B,He,lt+32*Z,8)}}function xu(T,F,Z,ne,pe,ge,ve,we,Se){var Pe=[0],He=[0],lt=0,Me=Se!=null?Se.kd:0,Ge=Se??new St;if(T==null||12>Z)return 7;Ge.data=T,Ge.w=F,Ge.ha=Z,F=[F],Z=[Z],Ge.gb=[Ge.gb];e:{var tt=F,xt=Z,it=Ge.gb;if(t(T!=null),t(xt!=null),t(it!=null),it[0]=0,12<=xt[0]&&!a(T,tt[0],"RIFF")){if(a(T,tt[0]+8,"WEBP")){it=3;break e}var wt=fe(T,tt[0]+4);if(12>wt||4294967286<wt){it=3;break e}if(Me&&wt>xt[0]-8){it=7;break e}it[0]=wt,tt[0]+=12,xt[0]-=12}it=0}if(it!=0)return it;for(wt=0<Ge.gb[0],Z=Z[0];;){e:{var bt=T;xt=F,it=Z;var Ft=Pe,Mt=He,pa=tt=[0];if((na=lt=[lt])[0]=0,8>it[0])it=7;else{if(!a(bt,xt[0],"VP8X")){if(fe(bt,xt[0]+4)!=10){it=3;break e}if(18>it[0]){it=7;break e}var aa=fe(bt,xt[0]+8),Ra=1+he(bt,xt[0]+12);if(2147483648<=Ra*(bt=1+he(bt,xt[0]+15))){it=3;break e}pa!=null&&(pa[0]=aa),Ft!=null&&(Ft[0]=Ra),Mt!=null&&(Mt[0]=bt),xt[0]+=18,it[0]-=18,na[0]=1}it=0}}if(lt=lt[0],tt=tt[0],it!=0)return it;if(xt=!!(2&tt),!wt&&lt)return 3;if(ge!=null&&(ge[0]=!!(16&tt)),ve!=null&&(ve[0]=xt),we!=null&&(we[0]=0),ve=Pe[0],tt=He[0],lt&&xt&&Se==null){it=0;break}if(4>Z){it=7;break}if(wt&&lt||!wt&&!lt&&!a(T,F[0],"ALPH")){Z=[Z],Ge.na=[Ge.na],Ge.P=[Ge.P],Ge.Sa=[Ge.Sa];e:{aa=T,it=F,wt=Z;var na=Ge.gb;Ft=Ge.na,Mt=Ge.P,pa=Ge.Sa,Ra=22,t(aa!=null),t(wt!=null),bt=it[0];var sr=wt[0];for(t(Ft!=null),t(pa!=null),Ft[0]=null,Mt[0]=null,pa[0]=0;;){if(it[0]=bt,wt[0]=sr,8>sr){it=7;break e}var Ks=fe(aa,bt+4);if(4294967286<Ks){it=3;break e}var Da=8+Ks+1&-2;if(Ra+=Da,0<na&&Ra>na){it=3;break e}if(!a(aa,bt,"VP8 ")||!a(aa,bt,"VP8L")){it=0;break e}if(sr[0]<Da){it=7;break e}a(aa,bt,"ALPH")||(Ft[0]=aa,Mt[0]=bt+8,pa[0]=Ks),bt+=Da,sr-=Da}}if(Z=Z[0],Ge.na=Ge.na[0],Ge.P=Ge.P[0],Ge.Sa=Ge.Sa[0],it!=0)break}Z=[Z],Ge.Ja=[Ge.Ja],Ge.xa=[Ge.xa];e:if(na=T,it=F,wt=Z,Ft=Ge.gb[0],Mt=Ge.Ja,pa=Ge.xa,aa=it[0],bt=!a(na,aa,"VP8 "),Ra=!a(na,aa,"VP8L"),t(na!=null),t(wt!=null),t(Mt!=null),t(pa!=null),8>wt[0])it=7;else{if(bt||Ra){if(na=fe(na,aa+4),12<=Ft&&na>Ft-12){it=3;break e}if(Me&&na>wt[0]-8){it=7;break e}Mt[0]=na,it[0]+=8,wt[0]-=8,pa[0]=Ra}else pa[0]=5<=wt[0]&&na[aa+0]==47&&!(na[aa+4]>>5),Mt[0]=wt[0];it=0}if(Z=Z[0],Ge.Ja=Ge.Ja[0],Ge.xa=Ge.xa[0],F=F[0],it!=0)break;if(4294967286<Ge.Ja)return 3;if(we==null||xt||(we[0]=Ge.xa?2:1),ve=[ve],tt=[tt],Ge.xa){if(5>Z){it=7;break}we=ve,Me=tt,xt=ge,T==null||5>Z?T=0:5<=Z&&T[F+0]==47&&!(T[F+4]>>5)?(wt=[0],na=[0],Ft=[0],te(Mt=new Q,T,F,Z),lr(Mt,wt,na,Ft)?(we!=null&&(we[0]=wt[0]),Me!=null&&(Me[0]=na[0]),xt!=null&&(xt[0]=Ft[0]),T=1):T=0):T=0}else{if(10>Z){it=7;break}we=tt,T==null||10>Z||!yd(T,F+3,Z-3)?T=0:(Me=T[F+0]|T[F+1]<<8|T[F+2]<<16,xt=16383&(T[F+7]<<8|T[F+6]),T=16383&(T[F+9]<<8|T[F+8]),1&Me||3<(Me>>1&7)||!(Me>>4&1)||Me>>5>=Ge.Ja||!xt||!T?T=0:(ve&&(ve[0]=xt),we&&(we[0]=T),T=1))}if(!T||(ve=ve[0],tt=tt[0],lt&&(Pe[0]!=ve||He[0]!=tt)))return 3;Se!=null&&(Se[0]=Ge,Se.offset=F-Se.w,t(4294967286>F-Se.w),t(Se.offset==Se.ha-Z));break}return it==0||it==7&&lt&&Se==null?(ge!=null&&(ge[0]|=Ge.na!=null&&0<Ge.na.length),ne!=null&&(ne[0]=ve),pe!=null&&(pe[0]=tt),0):it}function Ed(T,F,Z){var ne=F.width,pe=F.height,ge=0,ve=0,we=ne,Se=pe;if(F.Da=T!=null&&0<T.Da,F.Da&&(we=T.cd,Se=T.bd,ge=T.v,ve=T.j,11>Z||(ge&=-2,ve&=-2),0>ge||0>ve||0>=we||0>=Se||ge+we>ne||ve+Se>pe))return 0;if(F.v=ge,F.j=ve,F.va=ge+we,F.o=ve+Se,F.U=we,F.T=Se,F.da=T!=null&&0<T.da,F.da){if(!Ee(we,Se,Z=[T.ib],ge=[T.hb]))return 0;F.ib=Z[0],F.hb=ge[0]}return F.ob=T!=null&&T.ob,F.Kb=T==null||!T.Sd,F.da&&(F.ob=F.ib<3*ne/4&&F.hb<3*pe/4,F.Kb=0),1}function Dh(T){if(T==null)return 2;if(11>T.S){var F=T.f.RGBA;F.fb+=(T.height-1)*F.A,F.A=-F.A}else F=T.f.kb,T=T.height,F.O+=(T-1)*F.fa,F.fa=-F.fa,F.N+=(T-1>>1)*F.Ab,F.Ab=-F.Ab,F.W+=(T-1>>1)*F.Db,F.Db=-F.Db,F.F!=null&&(F.J+=(T-1)*F.lb,F.lb=-F.lb);return 0}function Lc(T,F,Z,ne){if(ne==null||0>=T||0>=F)return 2;if(Z!=null){if(Z.Da){var pe=Z.cd,ge=Z.bd,ve=-2&Z.v,we=-2&Z.j;if(0>ve||0>we||0>=pe||0>=ge||ve+pe>T||we+ge>F)return 2;T=pe,F=ge}if(Z.da){if(!Ee(T,F,pe=[Z.ib],ge=[Z.hb]))return 2;T=pe[0],F=ge[0]}}ne.width=T,ne.height=F;e:{var Se=ne.width,Pe=ne.height;if(T=ne.S,0>=Se||0>=Pe||!(T>=fi&&13>T))T=2;else{if(0>=ne.Rd&&ne.sd==null){ve=ge=pe=F=0;var He=(we=Se*Sb[T])*Pe;if(11>T||(ge=(Pe+1)/2*(F=(Se+1)/2),T==12&&(ve=(pe=Se)*Pe)),(Pe=i(He+2*ge+ve))==null){T=1;break e}ne.sd=Pe,11>T?((Se=ne.f.RGBA).eb=Pe,Se.fb=0,Se.A=we,Se.size=He):((Se=ne.f.kb).y=Pe,Se.O=0,Se.fa=we,Se.Fd=He,Se.f=Pe,Se.N=0+He,Se.Ab=F,Se.Cd=ge,Se.ea=Pe,Se.W=0+He+ge,Se.Db=F,Se.Ed=ge,T==12&&(Se.F=Pe,Se.J=0+He+2*ge),Se.Tc=ve,Se.lb=pe)}if(F=1,pe=ne.S,ge=ne.width,ve=ne.height,pe>=fi&&13>pe)if(11>pe)T=ne.f.RGBA,F&=(we=Math.abs(T.A))*(ve-1)+ge<=T.size,F&=we>=ge*Sb[pe],F&=T.eb!=null;else{T=ne.f.kb,we=(ge+1)/2,He=(ve+1)/2,Se=Math.abs(T.fa),Pe=Math.abs(T.Ab);var lt=Math.abs(T.Db),Me=Math.abs(T.lb),Ge=Me*(ve-1)+ge;F&=Se*(ve-1)+ge<=T.Fd,F&=Pe*(He-1)+we<=T.Cd,F=(F&=lt*(He-1)+we<=T.Ed)&Se>=ge&Pe>=we&lt>=we,F&=T.y!=null,F&=T.f!=null,F&=T.ea!=null,pe==12&&(F&=Me>=ge,F&=Ge<=T.Tc,F&=T.F!=null)}else F=0;T=F?0:2}}return T!=0||Z!=null&&Z.fd&&(T=Dh(ne)),T}var Oc=64,Ti=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],qi=24,Rc=32,Ho=8,Dd=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];je("Predictor0","PredictorAdd0"),U.Predictor0=function(){return 4278190080},U.Predictor1=function(T){return T},U.Predictor2=function(T,F,Z){return F[Z+0]},U.Predictor3=function(T,F,Z){return F[Z+1]},U.Predictor4=function(T,F,Z){return F[Z-1]},U.Predictor5=function(T,F,Z){return ft(ft(T,F[Z+1]),F[Z+0])},U.Predictor6=function(T,F,Z){return ft(T,F[Z-1])},U.Predictor7=function(T,F,Z){return ft(T,F[Z+0])},U.Predictor8=function(T,F,Z){return ft(F[Z-1],F[Z+0])},U.Predictor9=function(T,F,Z){return ft(F[Z+0],F[Z+1])},U.Predictor10=function(T,F,Z){return ft(ft(T,F[Z-1]),ft(F[Z+0],F[Z+1]))},U.Predictor11=function(T,F,Z){var ne=F[Z+0];return 0>=$e(ne>>24&255,T>>24&255,(F=F[Z-1])>>24&255)+$e(ne>>16&255,T>>16&255,F>>16&255)+$e(ne>>8&255,T>>8&255,F>>8&255)+$e(255&ne,255&T,255&F)?ne:T},U.Predictor12=function(T,F,Z){var ne=F[Z+0];return(Bt((T>>24&255)+(ne>>24&255)-((F=F[Z-1])>>24&255))<<24|Bt((T>>16&255)+(ne>>16&255)-(F>>16&255))<<16|Bt((T>>8&255)+(ne>>8&255)-(F>>8&255))<<8|Bt((255&T)+(255&ne)-(255&F)))>>>0},U.Predictor13=function(T,F,Z){var ne=F[Z-1];return(Je((T=ft(T,F[Z+0]))>>24&255,ne>>24&255)<<24|Je(T>>16&255,ne>>16&255)<<16|Je(T>>8&255,ne>>8&255)<<8|Je(255&T,255&ne))>>>0};var e0=U.PredictorAdd0;U.PredictorAdd1=ze,je("Predictor2","PredictorAdd2"),je("Predictor3","PredictorAdd3"),je("Predictor4","PredictorAdd4"),je("Predictor5","PredictorAdd5"),je("Predictor6","PredictorAdd6"),je("Predictor7","PredictorAdd7"),je("Predictor8","PredictorAdd8"),je("Predictor9","PredictorAdd9"),je("Predictor10","PredictorAdd10"),je("Predictor11","PredictorAdd11"),je("Predictor12","PredictorAdd12"),je("Predictor13","PredictorAdd13");var Mh=U.PredictorAdd2;kt("ColorIndexInverseTransform","MapARGB","32b",function(T){return T>>8&255},function(T){return T}),kt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(T){return T},function(T){return T>>8&255});var Fs,qm=U.ColorIndexInverseTransform,ws=U.MapARGB,Gi=U.VP8LColorIndexInverseTransformAlpha,Ph=U.MapAlpha,Lh=U.VP8LPredictorsAdd=[];Lh.length=16,(U.VP8LPredictors=[]).length=16,(U.VP8LPredictorsAdd_C=[]).length=16,(U.VP8LPredictors_C=[]).length=16;var Oh,Rh,Vo,Md,bl,Fc,Ul,Ic,yl,hi,or,Pr,js,ts,Wo,Fh,gu,Gm,gb,vb,Ux,zx,Km,zl,Ih,wl,jl,vu,Ym=i(511),t0=i(2041),a0=i(225),Xm=i(767),bu=0,Qm=t0,yu=a0,Dn=Xm,Hl=Ym,fi=0,Bh=1,qo=2,r0=3,wu=4,Bc=5,Jm=6,s0=7,Pd=8,$c=9,$h=10,Zm=[2,3,7],Vl=[3,3,11],Nl=[280,256,256,256,40],ju=[0,1,1,1,0],Uc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],zc=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Nu=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],bb=8,n0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],i0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],dn=null,Ns=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],jr=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ld=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Go=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Hx=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Su=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],yb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Hc=[],Ei=[],Sl=[],wb=1,Uh=2,Ko=[],Mn=[];Wi("UpsampleRgbLinePair",Cd,3),Wi("UpsampleBgrLinePair",Ad,3),Wi("UpsampleRgbaLinePair",Zf,4),Wi("UpsampleBgraLinePair",Jf,4),Wi("UpsampleArgbLinePair",$l,4),Wi("UpsampleRgba4444LinePair",_d,2),Wi("UpsampleRgb565LinePair",Wn,2);var Vc=U.UpsampleRgbLinePair,Od=U.UpsampleBgrLinePair,Yo=U.UpsampleRgbaLinePair,ep=U.UpsampleBgraLinePair,tp=U.UpsampleArgbLinePair,zh=U.UpsampleRgba4444LinePair,ap=U.UpsampleRgb565LinePair,Xo=16,un=1<<Xo-1,Rd=-227,rp=482,qN=6,jb=0,GN=i(256),hn=i(256),Vx=i(256),l0=i(256),o0=i(rp-Rd),Wx=i(rp-Rd);zo("YuvToRgbRow",Cd,3),zo("YuvToBgrRow",Ad,3),zo("YuvToRgbaRow",Zf,4),zo("YuvToBgraRow",Jf,4),zo("YuvToArgbRow",$l,4),zo("YuvToRgba4444Row",_d,2),zo("YuvToRgb565Row",Wn,2);var ku=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Wc=[0,2,8],KN=[8,7,6,4,4,2,2,2,1,1,1,1],Nb=1;this.WebPDecodeRGBA=function(T,F,Z,ne,pe){var ge=Bh,ve=new Qe,we=new Oa;ve.ba=we,we.S=ge,we.width=[we.width],we.height=[we.height];var Se=we.width,Pe=we.height,He=new oa;if(He==null||T==null)var lt=2;else t(He!=null),lt=xu(T,F,Z,He.width,He.height,He.Pd,He.Qd,He.format,null);if(lt!=0?Se=0:(Se!=null&&(Se[0]=He.width[0]),Pe!=null&&(Pe[0]=He.height[0]),Se=1),Se){we.width=we.width[0],we.height=we.height[0],ne!=null&&(ne[0]=we.width),pe!=null&&(pe[0]=we.height);e:{if(ne=new Tn,(pe=new St).data=T,pe.w=F,pe.ha=Z,pe.kd=1,F=[0],t(pe!=null),((T=xu(pe.data,pe.w,pe.ha,null,null,null,F,null,pe))==0||T==7)&&F[0]&&(T=4),(F=T)==0){if(t(ve!=null),ne.data=pe.data,ne.w=pe.w+pe.offset,ne.ha=pe.ha-pe.offset,ne.put=ta,ne.ac=yt,ne.bc=Aa,ne.ma=ve,pe.xa){if((T=Ke())==null){ve=1;break e}if((function(Me,Ge){var tt=[0],xt=[0],it=[0];t:for(;;){if(Me==null)return 0;if(Ge==null)return Me.a=2,0;if(Me.l=Ge,Me.a=0,te(Me.m,Ge.data,Ge.w,Ge.ha),!lr(Me.m,tt,xt,it)){Me.a=3;break t}if(Me.xb=Uh,Ge.width=tt[0],Ge.height=xt[0],!et(tt[0],xt[0],1,Me,null))break t;return 1}return t(Me.a!=0),0})(T,ne)){if(ne=(F=Lc(ne.width,ne.height,ve.Oa,ve.ba))==0){t:{ne=T;a:for(;;){if(ne==null){ne=0;break t}if(t(ne.s.yc!=null),t(ne.s.Ya!=null),t(0<ne.s.Wb),t((Z=ne.l)!=null),t((pe=Z.ma)!=null),ne.xb!=0){if(ne.ca=pe.ba,ne.tb=pe.tb,t(ne.ca!=null),!Ed(pe.Oa,Z,r0)){ne.a=2;break a}if(!at(ne,Z.width)||Z.da)break a;if((Z.da||Vt(ne.ca.S))&&Bl(),11>ne.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ne.ca.f.kb.F!=null&&Bl()),ne.Pb&&0<ne.s.ua&&ne.s.vb.X==null&&!de(ne.s.vb,ne.s.Wa.Xa)){ne.a=1;break a}ne.xb=0}if(!Ye(ne,ne.V,ne.Ba,ne.c,ne.i,Z.o,ye))break a;pe.Dc=ne.Ma,ne=1;break t}t(ne.a!=0),ne=0}ne=!ne}ne&&(F=T.a)}else F=T.a}else{if((T=new cu)==null){ve=1;break e}if(T.Fa=pe.na,T.P=pe.P,T.qc=pe.Sa,du(T,ne)){if((F=Lc(ne.width,ne.height,ve.Oa,ve.ba))==0){if(T.Aa=0,Z=ve.Oa,t((pe=T)!=null),Z!=null){if(0<(Se=0>(Se=Z.Md)?0:100<Se?255:255*Se/100)){for(Pe=He=0;4>Pe;++Pe)12>(lt=pe.pb[Pe]).lc&&(lt.ia=Se*KN[0>lt.lc?0:lt.lc]>>3),He|=lt.ia;He&&(alert("todo:VP8InitRandom"),pe.ia=1)}pe.Ga=Z.Id,100<pe.Ga?pe.Ga=100:0>pe.Ga&&(pe.Ga=0)}(function(Me,Ge){if(Me==null)return 0;if(Ge==null)return hr(Me,2,"NULL VP8Io parameter in VP8Decode().");if(!Me.cb&&!du(Me,Ge))return 0;if(t(Me.cb),Ge.ac==null||Ge.ac(Ge)){Ge.ob&&(Me.L=0);var tt=Wc[Me.L];if(Me.L==2?(Me.yb=0,Me.zb=0):(Me.yb=Ge.v-tt>>4,Me.zb=Ge.j-tt>>4,0>Me.yb&&(Me.yb=0),0>Me.zb&&(Me.zb=0)),Me.Va=Ge.o+15+tt>>4,Me.Hb=Ge.va+15+tt>>4,Me.Hb>Me.za&&(Me.Hb=Me.za),Me.Va>Me.Ub&&(Me.Va=Me.Ub),0<Me.L){var xt=Me.ed;for(tt=0;4>tt;++tt){var it;if(Me.Qa.Cb){var wt=Me.Qa.Lb[tt];Me.Qa.Fb||(wt+=xt.Tb)}else wt=xt.Tb;for(it=0;1>=it;++it){var bt=Me.gd[tt][it],Ft=wt;if(xt.Pc&&(Ft+=xt.vd[0],it&&(Ft+=xt.od[0])),0<(Ft=0>Ft?0:63<Ft?63:Ft)){var Mt=Ft;0<xt.wb&&(Mt=4<xt.wb?Mt>>2:Mt>>1)>9-xt.wb&&(Mt=9-xt.wb),1>Mt&&(Mt=1),bt.dd=Mt,bt.tc=2*Ft+Mt,bt.ld=40<=Ft?2:15<=Ft?1:0}else bt.tc=0;bt.La=it}}}tt=0}else hr(Me,6,"Frame setup failed"),tt=Me.a;if(tt=tt==0){if(tt){Me.$c=0,0<Me.Aa||(Me.Ic=Nb);t:{tt=Me.Ic,xt=4*(Mt=Me.za);var pa=32*Mt,aa=Mt+1,Ra=0<Me.L?Mt*(0<Me.Aa?2:1):0,na=(Me.Aa==2?2:1)*Mt;if((bt=xt+832+(it=3*(16*tt+Wc[Me.L])/2*pa)+(wt=Me.Fa!=null&&0<Me.Fa.length?Me.Kc.c*Me.Kc.i:0))!=bt)tt=0;else{if(bt>Me.Vb){if(Me.Vb=0,Me.Ec=i(bt),Me.Fc=0,Me.Ec==null){tt=hr(Me,1,"no memory during frame initialization.");break t}Me.Vb=bt}bt=Me.Ec,Ft=Me.Fc,Me.Ac=bt,Me.Bc=Ft,Ft+=xt,Me.Gd=l(pa,oi),Me.Hd=0,Me.rb=l(aa+1,Ha),Me.sb=1,Me.wa=Ra?l(Ra,va):null,Me.Y=0,Me.D.Nb=0,Me.D.wa=Me.wa,Me.D.Y=Me.Y,0<Me.Aa&&(Me.D.Y+=Mt),t(!0),Me.oc=bt,Me.pc=Ft,Ft+=832,Me.ya=l(na,Rr),Me.aa=0,Me.D.ya=Me.ya,Me.D.aa=Me.aa,Me.Aa==2&&(Me.D.aa+=Mt),Me.R=16*Mt,Me.B=8*Mt,Mt=(pa=Wc[Me.L])*Me.R,pa=pa/2*Me.B,Me.sa=bt,Me.ta=Ft+Mt,Me.qa=Me.sa,Me.ra=Me.ta+16*tt*Me.R+pa,Me.Ha=Me.qa,Me.Ia=Me.ra+8*tt*Me.B+pa,Me.$c=0,Ft+=it,Me.mb=wt?bt:null,Me.nb=wt?Ft:null,t(Ft+wt<=Me.Fc+Me.Vb),Hn(Me),n(Me.Ac,Me.Bc,0,xt),tt=1}}if(tt){if(Ge.ka=0,Ge.y=Me.sa,Ge.O=Me.ta,Ge.f=Me.qa,Ge.N=Me.ra,Ge.ea=Me.Ha,Ge.Vd=Me.Ia,Ge.fa=Me.R,Ge.Rc=Me.B,Ge.F=null,Ge.J=0,!bu){for(tt=-255;255>=tt;++tt)Ym[255+tt]=0>tt?-tt:tt;for(tt=-1020;1020>=tt;++tt)t0[1020+tt]=-128>tt?-128:127<tt?127:tt;for(tt=-112;112>=tt;++tt)a0[112+tt]=-16>tt?-16:15<tt?15:tt;for(tt=-255;510>=tt;++tt)Xm[255+tt]=0>tt?0:255<tt?255:tt;bu=1}Ul=Ai,Ic=uu,hi=oo,or=sn,Pr=Io,yl=Th,js=Eh,ts=Hm,Wo=K,Fh=me,gu=mu,Gm=Vm,gb=Le,vb=Ue,Ux=Dc,zx=Uo,Km=Qf,zl=zm,Ei[0]=Ar,Ei[1]=Re,Ei[2]=co,Ei[3]=es,Ei[4]=bs,Ei[5]=ln,Ei[6]=nn,Ei[7]=di,Ei[8]=_i,Ei[9]=uo,Hc[0]=Zr,Hc[1]=Zt,Hc[2]=Wt,Hc[3]=vr,Hc[4]=En,Hc[5]=Qa,Hc[6]=vs,Sl[0]=$o,Sl[1]=gt,Sl[2]=Il,Sl[3]=Vi,Sl[4]=ho,Sl[5]=on,Sl[6]=wd,tt=1}else tt=0}tt&&(tt=(function(sr,Ks){for(sr.M=0;sr.M<sr.Va;++sr.M){var Da,ia=sr.Jc[sr.M&sr.Xb],Qt=sr.m,ds=sr;for(Da=0;Da<ds.za;++Da){var Fa=Qt,Ga=ds,ca=Ga.Ac,Ua=Ga.Bc+4*Da,mr=Ga.zc,as=Ga.ya[Ga.aa+Da];if(Ga.Qa.Bb?as.$b=oe(Fa,Ga.Pa.jb[0])?2+oe(Fa,Ga.Pa.jb[2]):oe(Fa,Ga.Pa.jb[1]):as.$b=0,Ga.kc&&(as.Ad=oe(Fa,Ga.Bd)),as.Za=!oe(Fa,145)+0,as.Za){var Is=as.Ob,Bs=0;for(Ga=0;4>Ga;++Ga){var Ss,tr=mr[0+Ga];for(Ss=0;4>Ss;++Ss){tr=Hx[ca[Ua+Ss]][tr];for(var pr=Ld[oe(Fa,tr[0])];0<pr;)pr=Ld[2*pr+oe(Fa,tr[pr])];tr=-pr,ca[Ua+Ss]=tr}r(Is,Bs,ca,Ua,4),Bs+=4,mr[0+Ga]=tr}}else tr=oe(Fa,156)?oe(Fa,128)?1:3:oe(Fa,163)?2:0,as.Ob[0]=tr,n(ca,Ua,tr,4),n(mr,0,tr,4);as.Dd=oe(Fa,142)?oe(Fa,114)?oe(Fa,183)?1:3:2:0}if(ds.m.Ka)return hr(sr,7,"Premature end-of-partition0 encountered.");for(;sr.ja<sr.za;++sr.ja){if(ds=ia,Fa=(Qt=sr).rb[Qt.sb-1],ca=Qt.rb[Qt.sb+Qt.ja],Da=Qt.ya[Qt.aa+Qt.ja],Ua=Qt.kc?Da.Ad:0)Fa.la=ca.la=0,Da.Za||(Fa.Na=ca.Na=0),Da.Hc=0,Da.Gc=0,Da.ia=0;else{var ks,Na;if(Fa=ca,ca=ds,Ua=Qt.Pa.Xc,mr=Qt.ya[Qt.aa+Qt.ja],as=Qt.pb[mr.$b],Ga=mr.ad,Is=0,Bs=Qt.rb[Qt.sb-1],tr=Ss=0,n(Ga,Is,0,384),mr.Za)var fn=0,kl=Ua[3];else{pr=i(16);var Cs=Fa.Na+Bs.Na;if(Cs=dn(ca,Ua[1],Cs,as.Eb,0,pr,0),Fa.Na=Bs.Na=(0<Cs)+0,1<Cs)Ul(pr,0,Ga,Is);else{var Di=pr[0]+3>>3;for(pr=0;256>pr;pr+=16)Ga[Is+pr]=Di}fn=1,kl=Ua[0]}var Fr=15&Fa.la,$s=15&Bs.la;for(pr=0;4>pr;++pr){var Mi=1&$s;for(Di=Na=0;4>Di;++Di)Fr=Fr>>1|(Mi=(Cs=dn(ca,kl,Cs=Mi+(1&Fr),as.Sc,fn,Ga,Is))>fn)<<7,Na=Na<<2|(3<Cs?3:1<Cs?2:Ga[Is+0]!=0),Is+=16;Fr>>=4,$s=$s>>1|Mi<<7,Ss=(Ss<<8|Na)>>>0}for(kl=Fr,fn=$s>>4,ks=0;4>ks;ks+=2){for(Na=0,Fr=Fa.la>>4+ks,$s=Bs.la>>4+ks,pr=0;2>pr;++pr){for(Mi=1&$s,Di=0;2>Di;++Di)Cs=Mi+(1&Fr),Fr=Fr>>1|(Mi=0<(Cs=dn(ca,Ua[2],Cs,as.Qc,0,Ga,Is)))<<3,Na=Na<<2|(3<Cs?3:1<Cs?2:Ga[Is+0]!=0),Is+=16;Fr>>=2,$s=$s>>1|Mi<<5}tr|=Na<<4*ks,kl|=Fr<<4<<ks,fn|=(240&$s)<<ks}Fa.la=kl,Bs.la=fn,mr.Hc=Ss,mr.Gc=tr,mr.ia=43690&tr?0:as.ia,Ua=!(Ss|tr)}if(0<Qt.L&&(Qt.wa[Qt.Y+Qt.ja]=Qt.gd[Da.$b][Da.Za],Qt.wa[Qt.Y+Qt.ja].La|=!Ua),ds.Ka)return hr(sr,7,"Premature end-of-file encountered.")}if(Hn(sr),Qt=Ks,ds=1,Da=(ia=sr).D,Fa=0<ia.L&&ia.M>=ia.zb&&ia.M<=ia.Va,ia.Aa==0)t:{if(Da.M=ia.M,Da.uc=Fa,ui(ia,Da),ds=1,Da=(Na=ia.D).Nb,Fa=(tr=Wc[ia.L])*ia.R,ca=tr/2*ia.B,pr=16*Da*ia.R,Di=8*Da*ia.B,Ua=ia.sa,mr=ia.ta-Fa+pr,as=ia.qa,Ga=ia.ra-ca+Di,Is=ia.Ha,Bs=ia.Ia-ca+Di,$s=(Fr=Na.M)==0,Ss=Fr>=ia.Va-1,ia.Aa==2&&ui(ia,Na),Na.uc)for(Mi=(Cs=ia).D.M,t(Cs.D.uc),Na=Cs.yb;Na<Cs.Hb;++Na){fn=Na,kl=Mi;var qn=(Gr=(pn=Cs).D).Nb;ks=pn.R;var Gr=Gr.wa[Gr.Y+fn],yr=pn.sa,mi=pn.ta+16*qn*ks+16*fn,Gn=Gr.dd,Lr=Gr.tc;if(Lr!=0)if(t(3<=Lr),pn.L==1)0<fn&&zx(yr,mi,ks,Lr+4),Gr.La&&zl(yr,mi,ks,Lr),0<kl&&Ux(yr,mi,ks,Lr+4),Gr.La&&Km(yr,mi,ks,Lr);else{var Pi=pn.B,mn=pn.qa,Qo=pn.ra+8*qn*Pi+8*fn,po=pn.Ha,pn=pn.Ia+8*qn*Pi+8*fn;qn=Gr.ld,0<fn&&(ts(yr,mi,ks,Lr+4,Gn,qn),Fh(mn,Qo,po,pn,Pi,Lr+4,Gn,qn)),Gr.La&&(Gm(yr,mi,ks,Lr,Gn,qn),vb(mn,Qo,po,pn,Pi,Lr,Gn,qn)),0<kl&&(js(yr,mi,ks,Lr+4,Gn,qn),Wo(mn,Qo,po,pn,Pi,Lr+4,Gn,qn)),Gr.La&&(gu(yr,mi,ks,Lr,Gn,qn),gb(mn,Qo,po,pn,Pi,Lr,Gn,qn))}}if(ia.ia&&alert("todo:DitherRow"),Qt.put!=null){if(Na=16*Fr,Fr=16*(Fr+1),$s?(Qt.y=ia.sa,Qt.O=ia.ta+pr,Qt.f=ia.qa,Qt.N=ia.ra+Di,Qt.ea=ia.Ha,Qt.W=ia.Ia+Di):(Na-=tr,Qt.y=Ua,Qt.O=mr,Qt.f=as,Qt.N=Ga,Qt.ea=Is,Qt.W=Bs),Ss||(Fr-=tr),Fr>Qt.o&&(Fr=Qt.o),Qt.F=null,Qt.J=null,ia.Fa!=null&&0<ia.Fa.length&&Na<Fr&&(Qt.J=qs(ia,Qt,Na,Fr-Na),Qt.F=ia.mb,Qt.F==null&&Qt.F.length==0)){ds=hr(ia,3,"Could not decode alpha data.");break t}Na<Qt.j&&(tr=Qt.j-Na,Na=Qt.j,t(!(1&tr)),Qt.O+=ia.R*tr,Qt.N+=ia.B*(tr>>1),Qt.W+=ia.B*(tr>>1),Qt.F!=null&&(Qt.J+=Qt.width*tr)),Na<Fr&&(Qt.O+=Qt.v,Qt.N+=Qt.v>>1,Qt.W+=Qt.v>>1,Qt.F!=null&&(Qt.J+=Qt.v),Qt.ka=Na-Qt.j,Qt.U=Qt.va-Qt.v,Qt.T=Fr-Na,ds=Qt.put(Qt))}Da+1!=ia.Ic||Ss||(r(ia.sa,ia.ta-Fa,Ua,mr+16*ia.R,Fa),r(ia.qa,ia.ra-ca,as,Ga+8*ia.B,ca),r(ia.Ha,ia.Ia-ca,Is,Bs+8*ia.B,ca))}if(!ds)return hr(sr,6,"Output aborted.")}return 1})(Me,Ge)),Ge.bc!=null&&Ge.bc(Ge),tt&=1}return tt?(Me.cb=0,tt):0})(T,ne)||(F=T.a)}}else F=T.a}F==0&&ve.Oa!=null&&ve.Oa.fd&&(F=Dh(ve.ba))}ve=F}ge=ve!=0?null:11>ge?we.f.RGBA.eb:we.f.kb.y}else ge=null;return ge};var Sb=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(U,z){for(var O="",B=0;B<4;B++)O+=String.fromCharCode(U[z++]);return O}function u(U,z){return U[z+0]|U[z+1]<<8}function f(U,z){return(U[z+0]|U[z+1]<<8|U[z+2]<<16)>>>0}function x(U,z){return(U[z+0]|U[z+1]<<8|U[z+2]<<16|U[z+3]<<24)>>>0}new c;var p=[0],v=[0],g=[],b=new c,j=e,N=(function(U,z){var O={},B=0,E=!1,R=0,q=0;if(O.frames=[],!(function(D,Q){for(var H=0;H<4;H++)if(D[Q+H]!="RIFF".charCodeAt(H))return!0;return!1})(U,z)){for(x(U,z+=4),z+=8;z<U.length;){var I=d(U,z),G=x(U,z+=4);z+=4;var re=G+(1&G);switch(I){case"VP8 ":case"VP8L":O.frames[B]===void 0&&(O.frames[B]={}),(ce=O.frames[B]).src_off=E?q:z-8,ce.src_size=R+G+8,B++,E&&(E=!1,R=0,q=0);break;case"VP8X":(ce=O.header={}).feature_flags=U[z];var te=z+4;ce.canvas_width=1+f(U,te),te+=3,ce.canvas_height=1+f(U,te),te+=3;break;case"ALPH":E=!0,R=re+8,q=z-8;break;case"ANIM":(ce=O.header).bgcolor=x(U,z),te=z+4,ce.loop_count=u(U,te),te+=2;break;case"ANMF":var X,ce;(ce=O.frames[B]={}).offset_x=2*f(U,z),z+=3,ce.offset_y=2*f(U,z),z+=3,ce.width=1+f(U,z),z+=3,ce.height=1+f(U,z),z+=3,ce.duration=f(U,z),z+=3,X=U[z++],ce.dispose=1&X,ce.blend=X>>1&1}I!="ANMF"&&(z+=re)}return O}})(j,0);N.response=j,N.rgbaoutput=!0,N.dataurl=!1;var S=N.header?N.header:null,k=N.frames?N.frames:null;if(S){S.loop_counter=S.loop_count,p=[S.canvas_height],v=[S.canvas_width];for(var A=0;A<k.length&&k[A].blend!=0;A++);}var _=k[0],M=b.WebPDecodeRGBA(j,_.src_off,_.src_size,v,p);_.rgba=M,_.imgwidth=v[0],_.imgheight=p[0];for(var L=0;L<v[0]*p[0]*4;L++)g[L]=M[L];return this.width=v,this.height=p,this.data=g,this}(function(e){var t,a,r,n,i,l,o,c,d,u=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new c,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new l,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new l,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,a=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,l=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var f=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Q=D;Object.defineProperty(this,"pdf",{get:function(){return Q}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(fe){H=!!fe}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(fe){J=!!fe}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(fe){isNaN(fe)||(ae=fe)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(fe){isNaN(fe)||(ie=fe)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(fe){var de;typeof fe=="number"?de=[fe,fe,fe,fe]:((de=new Array(4))[0]=fe[0],de[1]=fe.length>=2?fe[1]:de[0],de[2]=fe.length>=3?fe[2]:de[0],de[3]=fe.length>=4?fe[3]:de[1]),d.margin=de}});var le=!1;Object.defineProperty(this,"autoPaging",{get:function(){return le},set:function(fe){le=fe}});var Y=0;Object.defineProperty(this,"lastBreak",{get:function(){return Y},set:function(fe){Y=fe}});var oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return oe},set:function(fe){oe=fe}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(fe){fe instanceof u&&(d=fe)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(fe){d.path=fe}});var xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return xe},set:function(fe){xe=fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(fe){var de;de=x(fe),this.ctx.fillStyle=de.style,this.ctx.isFillTransparent=de.a===0,this.ctx.fillOpacity=de.a,this.pdf.setFillColor(de.r,de.g,de.b,{a:de.a}),this.pdf.setTextColor(de.r,de.g,de.b,{a:de.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(fe){var de=x(fe);this.ctx.strokeStyle=de.style,this.ctx.isStrokeTransparent=de.a===0,this.ctx.strokeOpacity=de.a,de.a===0?this.pdf.setDrawColor(255,255,255):(de.a,this.pdf.setDrawColor(de.r,de.g,de.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(fe){["butt","round","square"].indexOf(fe)!==-1&&(this.ctx.lineCap=fe,this.pdf.setLineCap(fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(fe){isNaN(fe)||(this.ctx.lineWidth=fe,this.pdf.setLineWidth(fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(fe){["bevel","round","miter"].indexOf(fe)!==-1&&(this.ctx.lineJoin=fe,this.pdf.setLineJoin(fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(fe){isNaN(fe)||(this.ctx.miterLimit=fe,this.pdf.setMiterLimit(fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(fe){this.ctx.textBaseline=fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(fe){["right","end","center","left","start"].indexOf(fe)!==-1&&(this.ctx.textAlign=fe)}});var W=null,he=null;Object.defineProperty(this,"fontFaces",{get:function(){return he},set:function(fe){W=null,he=fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(fe){var de;if(this.ctx.font=fe,(de=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(fe))!==null){var Oe=de[1];de[2];var Fe=de[3],Ee=de[4];de[5];var se=de[6],_e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ee)[2];Ee=Math.floor(_e==="px"?parseFloat(Ee)*this.pdf.internal.scaleFactor:_e==="em"?parseFloat(Ee)*this.pdf.getFontSize():parseFloat(Ee)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ee);var je=(function(At){var kt,Dt,zt=[],qt=At.trim();if(qt==="")return S3;if(qt in mR)return[mR[qt]];for(;qt!=="";){switch(Dt=null,kt=(qt=xR(qt)).charAt(0)){case'"':case"'":Dt=zSe(qt.substring(1),kt);break;default:Dt=HSe(qt)}if(Dt===null||(zt.push(Dt[0]),(qt=xR(Dt[1]))!==""&&qt.charAt(0)!==","))return S3;qt=qt.replace(/^,/,"")}return zt})(se);if(this.fontFaces){var rt=(function(At,kt){if(W===null){var Dt=(function(zt){var qt=[];return Object.keys(zt).forEach(function(Te){zt[Te].forEach(function($t){var We=null;switch($t){case"bold":We={family:Te,weight:"bold"};break;case"italic":We={family:Te,style:"italic"};break;case"bolditalic":We={family:Te,weight:"bold",style:"italic"};break;case"":case"normal":We={family:Te}}We!==null&&(We.ref={name:Te,style:$t},qt.push(We))})}),qt})(At.getFontList());W=(function(zt){for(var qt={},Te=0;Te<zt.length;++Te){var $t=N3(zt[Te]),We=$t.family,Ut=$t.stretch,Vt=$t.style,fa=$t.weight;qt[We]=qt[We]||{},qt[We][Ut]=qt[We][Ut]||{},qt[We][Ut][Vt]=qt[We][Ut][Vt]||{},qt[We][Ut][Vt][fa]=$t}return qt})(Dt.concat(kt))}return W})(this.pdf,this.fontFaces),ft=je.map(function(At){return{family:At,stretch:"normal",weight:Fe,style:Oe}}),Bt=(function(At,kt,Dt){for(var zt=(Dt=Dt||{}).defaultFontFamily||"times",qt=Object.assign({},USe,Dt.genericFontFamilies||{}),Te=null,$t=null,We=0;We<kt.length;++We)if(qt[(Te=N3(kt[We])).family]&&(Te.family=qt[Te.family]),At.hasOwnProperty(Te.family)){$t=At[Te.family];break}if(!($t=$t||At[zt]))throw new Error("Could not find a font-family for the rule '"+pR(Te)+"' and default family '"+zt+"'.");if($t=(function(Ut,Vt){if(Vt[Ut])return Vt[Ut];var fa=PC[Ut],Ka=fa<=PC.normal?-1:1,Oa=fR(Vt,rG,fa,Ka);if(!Oa)throw new Error("Could not find a matching font-stretch value for "+Ut);return Oa})(Te.stretch,$t),$t=(function(Ut,Vt){if(Vt[Ut])return Vt[Ut];for(var fa=aG[Ut],Ka=0;Ka<fa.length;++Ka)if(Vt[fa[Ka]])return Vt[fa[Ka]];throw new Error("Could not find a matching font-style for "+Ut)})(Te.style,$t),!($t=(function(Ut,Vt){if(Vt[Ut])return Vt[Ut];if(Ut===400&&Vt[500])return Vt[500];if(Ut===500&&Vt[400])return Vt[400];var fa=$Se[Ut],Ka=fR(Vt,sG,fa,Ut<400?-1:1);if(!Ka)throw new Error("Could not find a matching font-weight for value "+Ut);return Ka})(Te.weight,$t)))throw new Error("Failed to resolve a font for the rule '"+pR(Te)+"'.");return $t})(rt,ft);this.pdf.setFont(Bt.ref.name,Bt.ref.style)}else{var Je="";(Fe==="bold"||parseInt(Fe,10)>=700||Oe==="bold")&&(Je="bold"),Oe==="italic"&&(Je+="italic"),Je.length===0&&(Je="normal");for(var $e="",ze={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ze=0;Ze<je.length;Ze++){if(this.pdf.internal.getFont(je[Ze],Je,{noFallback:!0,disableWarning:!0})!==void 0){$e=je[Ze];break}if(Je==="bolditalic"&&this.pdf.internal.getFont(je[Ze],"bold",{noFallback:!0,disableWarning:!0})!==void 0)$e=je[Ze],Je="bold";else if(this.pdf.internal.getFont(je[Ze],"normal",{noFallback:!0,disableWarning:!0})!==void 0){$e=je[Ze],Je="normal";break}}if($e===""){for(var dt=0;dt<je.length;dt++)if(ze[je[dt]]){$e=ze[je[dt]];break}}$e=$e===""?"Times":$e,this.pdf.setFont($e,Je)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(fe){this.ctx.globalCompositeOperation=fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(fe){this.ctx.globalAlpha=fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(fe){this.ctx.lineDashOffset=fe,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(fe){this.ctx.lineDash=fe,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(fe){this.ctx.ignoreClearRect=!!fe}})};f.prototype.setLineDash=function(D){this.lineDash=D},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){k.call(this,"fill",!1)},f.prototype.stroke=function(){k.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(D,Q){if(isNaN(D)||isNaN(Q))throw ss.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new l(D,Q));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new l(D,Q)},f.prototype.closePath=function(){var D=new l(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&Vr(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){D=new l(this.path[Q+1].x,this.path[Q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(D.x,D.y)},f.prototype.lineTo=function(D,Q){if(isNaN(D)||isNaN(Q))throw ss.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new l(D,Q));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new l(H.x,H.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},f.prototype.quadraticCurveTo=function(D,Q,H,J){if(isNaN(H)||isNaN(J)||isNaN(D)||isNaN(Q))throw ss.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new l(H,J)),ie=this.ctx.transform.applyToPoint(new l(D,Q));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new l(ae.x,ae.y)},f.prototype.bezierCurveTo=function(D,Q,H,J,ae,ie){if(isNaN(ae)||isNaN(ie)||isNaN(D)||isNaN(Q)||isNaN(H)||isNaN(J))throw ss.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var le=this.ctx.transform.applyToPoint(new l(ae,ie)),Y=this.ctx.transform.applyToPoint(new l(D,Q)),oe=this.ctx.transform.applyToPoint(new l(H,J));this.path.push({type:"bct",x1:Y.x,y1:Y.y,x2:oe.x,y2:oe.y,x:le.x,y:le.y}),this.ctx.lastPoint=new l(le.x,le.y)},f.prototype.arc=function(D,Q,H,J,ae,ie){if(isNaN(D)||isNaN(Q)||isNaN(H)||isNaN(J)||isNaN(ae))throw ss.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var le=this.ctx.transform.applyToPoint(new l(D,Q));D=le.x,Q=le.y;var Y=this.ctx.transform.applyToPoint(new l(0,H)),oe=this.ctx.transform.applyToPoint(new l(0,0));H=Math.sqrt(Math.pow(Y.x-oe.x,2)+Math.pow(Y.y-oe.y,2))}Math.abs(ae-J)>=2*Math.PI&&(J=0,ae=2*Math.PI),this.path.push({type:"arc",x:D,y:Q,radius:H,startAngle:J,endAngle:ae,counterclockwise:ie})},f.prototype.arcTo=function(D,Q,H,J,ae){throw new Error("arcTo not implemented.")},f.prototype.rect=function(D,Q,H,J){if(isNaN(D)||isNaN(Q)||isNaN(H)||isNaN(J))throw ss.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,Q),this.lineTo(D+H,Q),this.lineTo(D+H,Q+J),this.lineTo(D,Q+J),this.lineTo(D,Q),this.lineTo(D+H,Q),this.lineTo(D,Q)},f.prototype.fillRect=function(D,Q,H,J){if(isNaN(D)||isNaN(Q)||isNaN(H)||isNaN(J))throw ss.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,Q,H,J),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},f.prototype.strokeRect=function(D,Q,H,J){if(isNaN(D)||isNaN(Q)||isNaN(H)||isNaN(J))throw ss.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(D,Q,H,J),this.stroke())},f.prototype.clearRect=function(D,Q,H,J){if(isNaN(D)||isNaN(Q)||isNaN(H)||isNaN(J))throw ss.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,Q,H,J))},f.prototype.save=function(D){D=typeof D!="boolean"||D;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},f.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(D){var Q,H,J,ae;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))Q=0,H=0,J=0,ae=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(ie!==null)Q=parseInt(ie[1]),H=parseInt(ie[2]),J=parseInt(ie[3]),ae=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)Q=parseInt(ie[1]),H=parseInt(ie[2]),J=parseInt(ie[3]),ae=parseFloat(ie[4]);else{if(ae=1,typeof D=="string"&&D.charAt(0)!=="#"){var le=new Yq(D);D=le.ok?le.toHex():"#000000"}D.length===4?(Q=D.substring(1,2),Q+=Q,H=D.substring(2,3),H+=H,J=D.substring(3,4),J+=J):(Q=D.substring(1,3),H=D.substring(3,5),J=D.substring(5,7)),Q=parseInt(Q,16),H=parseInt(H,16),J=parseInt(J,16)}}return{r:Q,g:H,b:J,a:ae,style:D}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(D,Q,H,J){if(isNaN(Q)||isNaN(H)||typeof D!="string")throw ss.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!p.call(this)){var ae=re(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;B.call(this,{text:D,x:Q,y:H,scale:ie,angle:ae,align:this.textAlign,maxWidth:J})}},f.prototype.strokeText=function(D,Q,H,J){if(isNaN(Q)||isNaN(H)||typeof D!="string")throw ss.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){J=isNaN(J)?void 0:J;var ae=re(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;B.call(this,{text:D,x:Q,y:H,scale:ie,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:J})}},f.prototype.measureText=function(D){if(typeof D!="string")throw ss.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,H=this.pdf.internal.scaleFactor,J=Q.internal.getFontSize(),ae=Q.getStringUnitWidth(D)*J/Q.internal.scaleFactor;return new function(ie){var le=(ie=ie||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return le}}),this}({width:ae*=Math.round(96*H/72*1e4)/1e4})},f.prototype.scale=function(D,Q){if(isNaN(D)||isNaN(Q))throw ss.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new c(D,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},f.prototype.rotate=function(D){if(isNaN(D))throw ss.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new c(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.translate=function(D,Q){if(isNaN(D)||isNaN(Q))throw ss.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new c(1,0,0,1,D,Q);this.ctx.transform=this.ctx.transform.multiply(H)},f.prototype.transform=function(D,Q,H,J,ae,ie){if(isNaN(D)||isNaN(Q)||isNaN(H)||isNaN(J)||isNaN(ae)||isNaN(ie))throw ss.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var le=new c(D,Q,H,J,ae,ie);this.ctx.transform=this.ctx.transform.multiply(le)},f.prototype.setTransform=function(D,Q,H,J,ae,ie){D=isNaN(D)?1:D,Q=isNaN(Q)?0:Q,H=isNaN(H)?0:H,J=isNaN(J)?1:J,ae=isNaN(ae)?0:ae,ie=isNaN(ie)?0:ie,this.ctx.transform=new c(D,Q,H,J,ae,ie)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(D,Q,H,J,ae,ie,le,Y,oe){var xe=this.pdf.getImageProperties(D),W=1,he=1,fe=1,de=1;J!==void 0&&Y!==void 0&&(fe=Y/J,de=oe/ae,W=xe.width/J*Y/J,he=xe.height/ae*oe/ae),ie===void 0&&(ie=Q,le=H,Q=0,H=0),J!==void 0&&Y===void 0&&(Y=J,oe=ae),J===void 0&&Y===void 0&&(Y=xe.width,oe=xe.height);for(var Oe,Fe=this.ctx.transform.decompose(),Ee=re(Fe.rotate.shx),se=new c,_e=(se=(se=(se=se.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale)).applyToRectangle(new o(ie-Q*fe,le-H*de,J*W,ae*he)),je=b.call(this,_e),rt=[],ft=0;ft<je.length;ft+=1)rt.indexOf(je[ft])===-1&&rt.push(je[ft]);if(S(rt),this.autoPaging)for(var Bt=rt[0],Je=rt[rt.length-1],$e=Bt;$e<Je+1;$e++){this.pdf.setPage($e);var ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=$e===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],kt=$e===1?0:dt+($e-2)*At;if(this.ctx.clip_path.length!==0){var Dt=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(Oe,this.posX+this.margin[3],-kt+Ze+this.ctx.prevPageLastElemOffset),A.call(this,"fill",!0),this.path=Dt}var zt=JSON.parse(JSON.stringify(_e));zt=N([zt],this.posX+this.margin[3],-kt+Ze+this.ctx.prevPageLastElemOffset)[0];var qt=($e>Bt||$e<Je)&&g.call(this);qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,At,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",zt.x,zt.y,zt.w,zt.h,null,null,Ee),qt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",_e.x,_e.y,_e.w,_e.h,null,null,Ee)};var b=function(D,Q,H){var J=[];Q=Q||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":J.push(Math.floor((D.y+ae)/H)+1);break;case"arc":J.push(Math.floor((D.y+ae-D.radius)/H)+1),J.push(Math.floor((D.y+ae+D.radius)/H)+1);break;case"qct":var ie=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);J.push(Math.floor((ie.y+ae)/H)+1),J.push(Math.floor((ie.y+ie.h+ae)/H)+1);break;case"bct":var le=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);J.push(Math.floor((le.y+ae)/H)+1),J.push(Math.floor((le.y+le.h+ae)/H)+1);break;case"rect":J.push(Math.floor((D.y+ae)/H)+1),J.push(Math.floor((D.y+D.h+ae)/H)+1)}for(var Y=0;Y<J.length;Y+=1)for(;this.pdf.internal.getNumberOfPages()<J[Y];)j.call(this);return J},j=function(){var D=this.fillStyle,Q=this.strokeStyle,H=this.font,J=this.lineCap,ae=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=Q,this.font=H,this.lineCap=J,this.lineWidth=ae,this.lineJoin=ie},N=function(D,Q,H){for(var J=0;J<D.length;J++)switch(D[J].type){case"bct":D[J].x2+=Q,D[J].y2+=H;case"qct":D[J].x1+=Q,D[J].y1+=H;default:D[J].x+=Q,D[J].y+=H}return D},S=function(D){return D.sort(function(Q,H){return Q-H})},k=function(D,Q){for(var H,J,ae=this.fillStyle,ie=this.strokeStyle,le=this.lineCap,Y=this.lineWidth,oe=Math.abs(Y*this.ctx.transform.scaleX),xe=this.lineJoin,W=JSON.parse(JSON.stringify(this.path)),he=JSON.parse(JSON.stringify(this.path)),fe=[],de=0;de<he.length;de++)if(he[de].x!==void 0)for(var Oe=b.call(this,he[de]),Fe=0;Fe<Oe.length;Fe+=1)fe.indexOf(Oe[Fe])===-1&&fe.push(Oe[Fe]);for(var Ee=0;Ee<fe.length;Ee++)for(;this.pdf.internal.getNumberOfPages()<fe[Ee];)j.call(this);if(S(fe),this.autoPaging)for(var se=fe[0],_e=fe[fe.length-1],je=se;je<_e+1;je++){this.pdf.setPage(je),this.fillStyle=ae,this.strokeStyle=ie,this.lineCap=le,this.lineWidth=oe,this.lineJoin=xe;var rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=je===1?this.posY+this.margin[0]:this.margin[0],Bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=je===1?0:Bt+(je-2)*Je;if(this.ctx.clip_path.length!==0){var ze=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(H,this.posX+this.margin[3],-$e+ft+this.ctx.prevPageLastElemOffset),A.call(this,D,!0),this.path=ze}if(J=JSON.parse(JSON.stringify(W)),this.path=N(J,this.posX+this.margin[3],-$e+ft+this.ctx.prevPageLastElemOffset),Q===!1||je===0){var Ze=(je>se||je<_e)&&g.call(this);Ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,Je,null).clip().discardPath()),A.call(this,D,Q),Ze&&this.pdf.restoreGraphicsState()}this.lineWidth=Y}else this.lineWidth=oe,A.call(this,D,Q),this.lineWidth=Y;this.path=W},A=function(D,Q){if((D!=="stroke"||Q||!v.call(this))&&(D==="stroke"||Q||!p.call(this))){for(var H,J,ae=[],ie=this.path,le=0;le<ie.length;le++){var Y=ie[le];switch(Y.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:Y,deltas:[],abs:[]});break;case"lt":var oe=ae.length;if(ie[le-1]&&!isNaN(ie[le-1].x)&&(H=[Y.x-ie[le-1].x,Y.y-ie[le-1].y],oe>0)){for(;oe>=0;oe--)if(ae[oe-1].close!==!0&&ae[oe-1].begin!==!0){ae[oe-1].deltas.push(H),ae[oe-1].abs.push(Y);break}}break;case"bct":H=[Y.x1-ie[le-1].x,Y.y1-ie[le-1].y,Y.x2-ie[le-1].x,Y.y2-ie[le-1].y,Y.x-ie[le-1].x,Y.y-ie[le-1].y],ae[ae.length-1].deltas.push(H);break;case"qct":var xe=ie[le-1].x+2/3*(Y.x1-ie[le-1].x),W=ie[le-1].y+2/3*(Y.y1-ie[le-1].y),he=Y.x+2/3*(Y.x1-Y.x),fe=Y.y+2/3*(Y.y1-Y.y),de=Y.x,Oe=Y.y;H=[xe-ie[le-1].x,W-ie[le-1].y,he-ie[le-1].x,fe-ie[le-1].y,de-ie[le-1].x,Oe-ie[le-1].y],ae[ae.length-1].deltas.push(H);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(Y)}}J=Q?null:D==="stroke"?"stroke":"fill";for(var Fe=!1,Ee=0;Ee<ae.length;Ee++)if(ae[Ee].arc)for(var se=ae[Ee].abs,_e=0;_e<se.length;_e++){var je=se[_e];je.type==="arc"?L.call(this,je.x,je.y,je.radius,je.startAngle,je.endAngle,je.counterclockwise,void 0,Q,!Fe):E.call(this,je.x,je.y),Fe=!0}else if(ae[Ee].close===!0)this.pdf.internal.out("h"),Fe=!1;else if(ae[Ee].begin!==!0){var rt=ae[Ee].start.x,ft=ae[Ee].start.y;R.call(this,ae[Ee].deltas,rt,ft),Fe=!0}J&&U.call(this,J),Q&&z.call(this)}},_=function(D){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-H;case"top":return D+Q-H;case"hanging":return D+Q-2*H;case"middle":return D+Q/2-H;default:return D}},M=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(Q,H){this.colorStops.push([Q,H])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(D,Q,H,J,ae,ie,le,Y,oe){for(var xe=I.call(this,H,J,ae,ie),W=0;W<xe.length;W++){var he=xe[W];W===0&&(oe?O.call(this,he.x1+D,he.y1+Q):E.call(this,he.x1+D,he.y1+Q)),q.call(this,D,Q,he.x2,he.y2,he.x3,he.y3,he.x4,he.y4)}Y?z.call(this):U.call(this,le)},U=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(D,Q){this.pdf.internal.out(a(D)+" "+r(Q)+" m")},B=function(D){var Q;switch(D.align){case"right":case"end":Q="right";break;case"center":Q="center";break;default:Q="left"}var H=this.pdf.getTextDimensions(D.text),J=_.call(this,D.y),ae=M.call(this,J)-H.h,ie=this.ctx.transform.applyToPoint(new l(D.x,J)),le=this.ctx.transform.decompose(),Y=new c;Y=(Y=(Y=Y.multiply(le.translate)).multiply(le.skew)).multiply(le.scale);for(var oe,xe,W,he=this.ctx.transform.applyToRectangle(new o(D.x,J,H.w,H.h)),fe=Y.applyToRectangle(new o(D.x,ae,H.w,H.h)),de=b.call(this,fe),Oe=[],Fe=0;Fe<de.length;Fe+=1)Oe.indexOf(de[Fe])===-1&&Oe.push(de[Fe]);if(S(Oe),this.autoPaging)for(var Ee=Oe[0],se=Oe[Oe.length-1],_e=Ee;_e<se+1;_e++){this.pdf.setPage(_e);var je=_e===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[2],Bt=ft-this.margin[0],Je=this.pdf.internal.pageSize.width-this.margin[1],$e=Je-this.margin[3],ze=_e===1?0:rt+(_e-2)*Bt;if(this.ctx.clip_path.length!==0){var Ze=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(oe,this.posX+this.margin[3],-1*ze+je),A.call(this,"fill",!0),this.path=Ze}var dt=N([JSON.parse(JSON.stringify(fe))],this.posX+this.margin[3],-ze+je+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*D.scale),W=this.lineWidth,this.lineWidth=W*D.scale);var At=this.autoPaging!=="text";if(At||dt.y+dt.h<=ft){if(At||dt.y>=je&&dt.x<=Je){var kt=At?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||Je-dt.x)[0],Dt=N([JSON.parse(JSON.stringify(he))],this.posX+this.margin[3],-ze+je+this.ctx.prevPageLastElemOffset)[0],zt=At&&(_e>Ee||_e<se)&&g.call(this);zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,Bt,null).clip().discardPath()),this.pdf.text(kt,Dt.x,Dt.y,{angle:D.angle,align:Q,renderingMode:D.renderingMode}),zt&&this.pdf.restoreGraphicsState()}}else dt.y<ft&&(this.ctx.prevPageLastElemOffset+=ft-dt.y);D.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=W)}else D.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*D.scale),W=this.lineWidth,this.lineWidth=W*D.scale),this.pdf.text(D.text,ie.x+this.posX,ie.y+this.posY,{angle:D.angle,align:Q,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=W)},E=function(D,Q,H,J){H=H||0,J=J||0,this.pdf.internal.out(a(D+H)+" "+r(Q+J)+" l")},R=function(D,Q,H){return this.pdf.lines(D,Q,H,null,null)},q=function(D,Q,H,J,ae,ie,le,Y){this.pdf.internal.out([t(n(H+D)),t(i(J+Q)),t(n(ae+D)),t(i(ie+Q)),t(n(le+D)),t(i(Y+Q)),"c"].join(" "))},I=function(D,Q,H,J){for(var ae=2*Math.PI,ie=Math.PI/2;Q>H;)Q-=ae;var le=Math.abs(H-Q);le<ae&&J&&(le=ae-le);for(var Y=[],oe=J?-1:1,xe=Q;le>1e-5;){var W=xe+oe*Math.min(le,ie);Y.push(G.call(this,D,xe,W)),le-=Math.abs(W-xe),xe=W}return Y},G=function(D,Q,H){var J=(H-Q)/2,ae=D*Math.cos(J),ie=D*Math.sin(J),le=ae,Y=-ie,oe=le*le+Y*Y,xe=oe+le*ae+Y*ie,W=4/3*(Math.sqrt(2*oe*xe)-xe)/(le*ie-Y*ae),he=le-W*Y,fe=Y+W*le,de=he,Oe=-fe,Fe=J+Q,Ee=Math.cos(Fe),se=Math.sin(Fe);return{x1:D*Math.cos(Q),y1:D*Math.sin(Q),x2:he*Ee-fe*se,y2:he*se+fe*Ee,x3:de*Ee-Oe*se,y3:de*se+Oe*Ee,x4:D*Math.cos(H),y4:D*Math.sin(H)}},re=function(D){return 180*D/Math.PI},te=function(D,Q,H,J,ae,ie){var le=D+.5*(H-D),Y=Q+.5*(J-Q),oe=ae+.5*(H-ae),xe=ie+.5*(J-ie),W=Math.min(D,ae,le,oe),he=Math.max(D,ae,le,oe),fe=Math.min(Q,ie,Y,xe),de=Math.max(Q,ie,Y,xe);return new o(W,fe,he-W,de-fe)},X=function(D,Q,H,J,ae,ie,le,Y){var oe,xe,W,he,fe,de,Oe,Fe,Ee,se,_e,je,rt,ft,Bt=H-D,Je=J-Q,$e=ae-H,ze=ie-J,Ze=le-ae,dt=Y-ie;for(xe=0;xe<41;xe++)Ee=(Oe=(W=D+(oe=xe/40)*Bt)+oe*((fe=H+oe*$e)-W))+oe*(fe+oe*(ae+oe*Ze-fe)-Oe),se=(Fe=(he=Q+oe*Je)+oe*((de=J+oe*ze)-he))+oe*(de+oe*(ie+oe*dt-de)-Fe),xe==0?(_e=Ee,je=se,rt=Ee,ft=se):(_e=Math.min(_e,Ee),je=Math.min(je,se),rt=Math.max(rt,Ee),ft=Math.max(ft,se));return new o(Math.round(_e),Math.round(je),Math.round(rt-_e),Math.round(ft-je))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,Q,H=(D=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:Q}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(ha.API),(function(e){var t=function(l){var o,c,d,u,f,x,p,v,g,b;for(c=[],d=0,u=(l+=o="\0\0\0\0".slice(l.length%4||4)).length;u>d;d+=4)(f=(l.charCodeAt(d)<<24)+(l.charCodeAt(d+1)<<16)+(l.charCodeAt(d+2)<<8)+l.charCodeAt(d+3))!==0?(x=(f=((f=((f=((f=(f-(b=f%85))/85)-(g=f%85))/85)-(v=f%85))/85)-(p=f%85))/85)%85,c.push(x+33,p+33,v+33,g+33,b+33)):c.push(122);return(function(j,N){for(var S=N;S>0;S--)j.pop()})(c,o.length),String.fromCharCode.apply(String,c)+"~>"},a=function(l){var o,c,d,u,f,x=String,p="length",v=255,g="charCodeAt",b="slice",j="replace";for(l[b](-2),l=l[b](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),d=[],u=0,f=(l+=o="uuuuu"[b](l[p]%5||5))[p];f>u;u+=5)c=52200625*(l[g](u)-33)+614125*(l[g](u+1)-33)+7225*(l[g](u+2)-33)+85*(l[g](u+3)-33)+(l[g](u+4)-33),d.push(v&c>>24,v&c>>16,v&c>>8,v&c);return(function(N,S){for(var k=S;k>0;k--)N.pop()})(d,o[p]),x.fromCharCode.apply(x,d)},r=function(l){return l.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},n=function(l){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),o.test(l)===!1)return"";for(var c="",d=0;d<l.length;d+=2)c+=String.fromCharCode("0x"+(l[d]+l[d+1]));return c},i=function(l){for(var o=new Uint8Array(l.length),c=l.length;c--;)o[c]=l.charCodeAt(c);return(o=CC(o)).reduce(function(d,u){return d+String.fromCharCode(u)},"")};e.processDataByFilters=function(l,o){var c=0,d=l||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":d=a(d),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=n(d),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:d,reverseChain:u.reverse().join(" ")}}})(ha.API),(function(e){e.loadFile=function(t,a,r){return(function(n,i,l){i=i!==!1,l=typeof l=="function"?l:function(){};var o=void 0;try{o=(function(c,d,u){var f=new XMLHttpRequest,x=0,p=function(v){var g=v.length,b=[],j=String.fromCharCode;for(x=0;x<g;x+=1)b.push(j(255&v.charCodeAt(x)));return b.join("")};if(f.open("GET",c,!d),f.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(f.onload=function(){f.status===200?u(p(this.responseText)):u(void 0)}),f.send(null),d&&f.status===200)return p(f.responseText)})(n,i,l)}catch{}return o})(t,a,r)},e.loadImageFile=e.loadFile})(ha.API),(function(e){function t(){return(Ia.html2canvas?Promise.resolve(Ia.html2canvas):yi(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function a(){return(Ia.DOMPurify?Promise.resolve(Ia.DOMPurify):yi(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var c=Vr(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},n=function(o,c){var d=document.createElement(o);for(var u in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[u]=c.style[u];return d},i=function o(c,d){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)d!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(o(f,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},l=function o(c){var d=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),d);return(u=u.setProgress(1,o,1,[o])).set(c)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(o,c){return o.__proto__=c||l.prototype,o},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(o,c){return this.then(function(){switch(c=c||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),c){case"string":return this.then(a).then(function(d){return this.set({src:n("div",{innerHTML:o,dompurify:d})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},l.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var d=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var v=u[p],g=v.src.find(function(b){return b.format==="truetype"});g&&d.addFont(g.url,v.ref.name,v.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,d.context2d.save(!0),c(this.prop.container,x)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(o,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},l.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},l.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},l.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(o){if(r(o)!=="object")return this;var c=Object.keys(o||{}).map(function(d){if(d in l.template.prop)return function(){this.prop[d]=o[d]};switch(d){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[d]=o[d]}}},this);return this.then(function(){return this.thenList(c)})},l.prototype.get=function(o,c){return this.then(function(){var d=o in l.template.prop?this.prop[o]:this.opt[o];return c?c(d):d})},l.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},l.prototype.setPageSize=function(o){function c(d,u){return Math.floor(d*u/72*96)}return this.then(function(){(o=o||ha.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},l.prototype.setProgress=function(o,c,d,u){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(o,c,d,u){return this.setProgress(o?this.progress.val+o:null,c||null,d?this.progress.n+d:null,u?this.progress.stack.concat(u):null)},l.prototype.then=function(o,c){var d=this;return this.thenCore(o,c,function(u,f){return d.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(x){return d.updateProgress(null,u),x}).then(u,f).then(function(x){return d.updateProgress(1),x})})},l.prototype.thenCore=function(o,c,d){d=d||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),c&&(c=c.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:l.convert(Object.assign({},u),Promise.prototype),x=d.call(f,o,c);return l.convert(x,u.__proto__)},l.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},l.prototype.thenList=function(o){var c=this;return o.forEach(function(d){c=c.thenCore(d)}),c},l.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return l.convert(c,this)},l.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},l.prototype.error=function(o){return this.then(function(){throw new Error(o)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,ha.getPageSize=function(o,c,d){if(Vr(o)==="object"){var u=o;o=u.orientation,c=u.unit||c,d=u.format||d}c=c||"mm",d=d||"a4",o=(""+(o||"P")).toLowerCase();var f,x=(""+d).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var v,g=0,b=0;if(p.hasOwnProperty(x))g=p[x][1]/f,b=p[x][0]/f;else try{g=d[1],b=d[0]}catch{throw new Error("Invalid format: "+d)}if(o==="p"||o==="portrait")o="p",b>g&&(v=b,b=g,g=v);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>b&&(v=b,b=g,g=v)}return{width:b,height:g,unit:c,k:f,orientation:o}},e.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(N3):null;var d=new l(c);return c.worker?d:d.from(o).doCallback()}})(ha.API),ha.API.addJS=function(e){return vR=e,this.internal.events.subscribe("postPutResources",function(){r2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(r2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),gR=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+vR+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){r2!==void 0&&gR!==void 0&&this.internal.out("/Names <</JavaScript "+r2+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var a=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=a.outline.render().split(/\r\n/),i=0;i<n.length;i++){var l=n[i],o=r.exec(l);if(o!=null){var c=o[1];a.internal.newObjectDeferredBegin(c,!1)}a.internal.write(l)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(i=0;i<d;i++){var f=a.internal.newObject();u.push(f);var x=a.internal.getPageInfo(i+1);a.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var p=a.internal.newObject();for(a.internal.write("<< /Names [ "),i=0;i<u.length;i++)a.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");a.internal.write(" ] >>","endobj"),t=a.internal.newObject(),a.internal.write("<< /Dests "+p+" 0 R"),a.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var a=this;a.outline.root.children.length>0&&(a.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&a.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var a=this;a.outline={createNamedDestinations:!1,root:{children:[]}},a.outline.add=function(r,n,i){var l={title:n,options:i,children:[]};return r==null&&(r=this.root),r.children.push(l),l},a.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=a,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},a.outline.genIds_r=function(r){r.id=a.internal.newObjectDeferred();for(var n=0;n<r.children.length;n++)this.genIds_r(r.children[n])},a.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},a.outline.renderItems=function(r){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var l=r.children[i];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var o=this.count=this.count_r({count:0},l);if(o>0&&this.line("/Count "+o),l.options&&l.options.pageNumber){var c=a.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},a.outline.line=function(r){this.ctx.val+=r+`\r
`},a.outline.makeRef=function(r){return r.id+" 0 R"},a.outline.makeString=function(r){return"("+a.internal.pdfEscape(r)+")"},a.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},a.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},a.outline.count_r=function(r,n){for(var i=0;i<n.children.length;i++)r.count++,this.count_r(r,n.children[i]);return r.count}}])})(ha.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(a,r,n,i,l,o){var c,d=this.decode.DCT_DECODE,u=null;if(typeof a=="string"||this.__addimage__.isArrayBuffer(a)||this.__addimage__.isArrayBufferView(a)){switch(a=l||a,a=this.__addimage__.isArrayBuffer(a)?new Uint8Array(a):a,c=(function(f){for(var x,p=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,g={width:0,height:0,numcomponents:1},b=4;b<v;b+=2){if(b+=p,t.indexOf(f.charCodeAt(b+1))!==-1){x=256*f.charCodeAt(b+5)+f.charCodeAt(b+6),g={width:256*f.charCodeAt(b+7)+f.charCodeAt(b+8),height:x,numcomponents:f.charCodeAt(b+9)};break}p=256*f.charCodeAt(b+2)+f.charCodeAt(b+3)}return g})(a=this.__addimage__.isArrayBufferView(a)?this.__addimage__.arrayBufferToBinaryString(a):a),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:a,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:d,index:r,alias:n}}return u}})(ha.API),ha.API.processPNG=function(e,t,a,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var n,i=kSe(e,{checkCrc:!0}),l=i.width,o=i.height,c=i.channels,d=i.palette,u=i.depth;n=d&&c===1?(function(L){for(var U=L.width,z=L.height,O=L.data,B=L.palette,E=L.depth,R=!1,q=[],I=[],G=void 0,re=!1,te=0,X=0;X<B.length;X++){var ce=jO(B[X],4),D=ce[0],Q=ce[1],H=ce[2],J=ce[3];q.push(D,Q,H),J!=null&&(J===0?(te++,I.length<1&&I.push(X)):J<255&&(re=!0))}if(re||te>1){R=!0,I=void 0;var ae=U*z;G=new Uint8Array(ae);for(var ie=new DataView(O.buffer),le=0;le<ae;le++){var Y=k3(ie,le,E),oe=jO(B[Y],4)[3];G[le]=oe}}else te===0&&(I=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:R?8:void 0,colorBytes:O,alphaBytes:G,needSMask:R,palette:q,mask:I}})(i):c===2||c===4?(function(L){for(var U=L.data,z=L.width,O=L.height,B=L.channels,E=L.depth,R=B===2?"DeviceGray":"DeviceRGB",q=B-1,I=z*O,G=q,re=I*G,te=1*I,X=Math.ceil(re*E/8),ce=Math.ceil(te*E/8),D=new Uint8Array(X),Q=new Uint8Array(ce),H=new DataView(U.buffer),J=new DataView(D.buffer),ae=new DataView(Q.buffer),ie=!1,le=0;le<I;le++){for(var Y=le*B,oe=0;oe<G;oe++)AR(J,k3(H,Y+oe,E),le*G+oe,E);var xe=k3(H,Y+G,E);xe<(1<<E)-1&&(ie=!0),AR(ae,xe,1*le,E)}return{colorSpace:R,colorsPerPixel:q,sMaskBitsPerComponent:ie?E:void 0,colorBytes:D,alphaBytes:Q,needSMask:ie}})(i):(function(L){var U=L.data,z=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:z,colorsPerPixel:z==="DeviceGray"?1:3,colorBytes:U instanceof Uint16Array?(function(O){for(var B=O.length,E=new Uint8Array(2*B),R=new DataView(E.buffer,E.byteOffset,E.byteLength),q=0;q<B;q++)R.setUint16(2*q,O[q],!1);return E})(U):U,needSMask:!1}})(i);var f,x,p,v=n,g=v.colorSpace,b=v.colorsPerPixel,j=v.sMaskBitsPerComponent,N=v.colorBytes,S=v.alphaBytes,k=v.needSMask,A=v.palette,_=v.mask,M=null;return r!==ha.API.image_compression.NONE&&typeof CC=="function"?(M=(function(L){var U;switch(L){case ha.API.image_compression.FAST:U=11;break;case ha.API.image_compression.MEDIUM:U=13;break;case ha.API.image_compression.SLOW:U=14;break;default:U=12}return U})(r),f=this.decode.FLATE_DECODE,x="/Predictor ".concat(M," /Colors ").concat(b," /BitsPerComponent ").concat(u," /Columns ").concat(l),e=jR(N,Math.ceil(l*b*u/8),b,u,r),k&&(p=jR(S,Math.ceil(l*j/8),1,j,r))):(f=void 0,x=void 0,e=N,k&&(p=S)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:a,data:e,index:t,filter:f,decodeParameters:x,transparency:_,palette:A,sMask:p,predictor:M,width:l,height:o,bitsPerComponent:u,sMaskBitsPerComponent:j,colorSpace:g}}},(function(e){e.processGIF89A=function(t,a,r,n){var i=new GSe(t),l=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:l,height:o},u=new C3(100).encode(d,100);return e.processJPEG.call(this,u,a,r,n)},e.processGIF87A=e.processGIF89A})(ha.API),ed.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:n,green:r,blue:a,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ed.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(a){ss.log("bit decode error:"+a)}},ed.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),a=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<t;n++)for(var i=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*n*4,o=0;o<8&&8*n+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[l+4*o]=c.blue,this.data[l+4*o+1]=c.green,this.data[l+4*o+2]=c.red,this.data[l+4*o+3]=255}a!==0&&(this.pos+=4-a)}},ed.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,a=this.height-1;a>=0;a--){for(var r=this.bottom_up?a:this.height-1-a,n=0;n<e;n++){var i=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*n*4,o=i>>4,c=15&i,d=this.palette[o];if(this.data[l]=d.blue,this.data[l+1]=d.green,this.data[l+2]=d.red,this.data[l+3]=255,2*n+1>=this.width)break;d=this.palette[c],this.data[l+4]=d.blue,this.data[l+4+1]=d.green,this.data[l+4+2]=d.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},ed.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=a*this.width*4+4*r;if(n<this.palette.length){var l=this.palette[n];this.data[i]=l.red,this.data[i+1]=l.green,this.data[i+2]=l.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},ed.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),a=this.height-1;a>=0;a--){for(var r=this.bottom_up?a:this.height-1-a,n=0;n<this.width;n++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,d=i>>15?255:0,u=r*this.width*4+4*n;this.data[u]=c,this.data[u+1]=o,this.data[u+2]=l,this.data[u+3]=d}this.pos+=e}},ed.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),a=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(l&t)/t*255|0,c=(l>>5&a)/a*255|0,d=(l>>11)/t*255|0,u=n*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},ed.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*a;this.data[l]=i,this.data[l+1]=n,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},ed.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*a;this.data[o]=i,this.data[o+1]=n,this.data[o+2]=r,this.data[o+3]=l}},ed.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,a,r,n){var i=new ed(t,!1),l=i.width,o=i.height,c={data:i.getData(),width:l,height:o},d=new C3(100).encode(c,100);return e.processJPEG.call(this,d,a,r,n)}})(ha.API),TR.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,a,r,n){var i=new TR(t),l=i.width,o=i.height,c={data:i.getData(),width:l,height:o},d=new C3(100).encode(c,100);return e.processJPEG.call(this,d,a,r,n)}})(ha.API),ha.API.processRGBA=function(e,t,a){for(var r=e.data,n=r.length,i=new Uint8Array(n/4*3),l=new Uint8Array(n/4),o=0,c=0,d=0;d<n;d+=4){var u=r[d],f=r[d+1],x=r[d+2],p=r[d+3];i[o++]=u,i[o++]=f,i[o++]=x,l[c++]=p}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:v,index:t,alias:a,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ha.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ep=ha.API,s2=Ep.getCharWidthsArray=function(e,t){var a,r,n=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:n.metadata.Unicode.widths,c=o.fof?o.fof:1,d=t.kerning?t.kerning:n.metadata.Unicode.kerning,u=d.fof?d.fof:1,f=t.doKerning!==!1,x=0,p=e.length,v=0,g=o[0]||c,b=[];for(a=0;a<p;a++)r=e.charCodeAt(a),typeof n.metadata.widthOfString=="function"?b.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(r))+l*(1e3/i)||0)/1e3):(x=f&&Vr(d[r])==="object"&&!isNaN(parseInt(d[r][v],10))?d[r][v]/u:0,b.push((o[r]||g)/c+x)),v=r;return b},bR=Ep.getStringUnitWidth=function(e,t){var a=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),n=t.charSpace||this.internal.getCharSpace();return Ep.processArabic&&(e=Ep.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,a,n)/a:s2.apply(this,arguments).reduce(function(i,l){return i+l},0)},yR=function(e,t,a,r){for(var n=[],i=0,l=e.length,o=0;i!==l&&o+t[i]<a;)o+=t[i],i++;n.push(e.slice(0,i));var c=i;for(o=0;i!==l;)o+t[i]>r&&(n.push(e.slice(c,i)),o=0,c=i),o+=t[i],i++;return c!==i&&n.push(e.slice(c,i)),n},wR=function(e,t,a){a||(a={});var r,n,i,l,o,c,d,u=[],f=[u],x=a.textIndent||0,p=0,v=0,g=e.split(" "),b=s2.apply(this,[" ",a])[0];if(c=a.lineIndent===-1?g[0].length+2:a.lineIndent||0){var j=Array(c).join(" "),N=[];g.map(function(k){(k=k.split(/\s*\n/)).length>1?N=N.concat(k.map(function(A,_){return(_&&A.length?`
`:"")+A})):N.push(k[0])}),g=N,c=bR.apply(this,[j,a])}for(i=0,l=g.length;i<l;i++){var S=0;if(r=g[i],c&&r[0]==`
`&&(r=r.substr(1),S=1),x+p+(v=(n=s2.apply(this,[r,a])).reduce(function(k,A){return k+A},0))>t||S){if(v>t){for(o=yR.apply(this,[r,n,t-(x+p),t]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);v=n.slice(r.length-(u[0]?u[0].length:0)).reduce(function(k,A){return k+A},0)}else u=[r];f.push(u),x=v+c,p=b}else u.push(r),x+=p+v,p=b}return d=c?function(k,A){return(A?j:"")+k.join(" ")}:function(k){return k.join(" ")},f.map(d)},Ep.splitTextToSize=function(e,t,a){var r,n=(a=a||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),x="Unicode";return f.metadata[x]?{widths:f.metadata[x].widths||{0:1},kerning:f.metadata[x].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,a);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/n;i.textIndent=a.textIndent?1*a.textIndent*this.internal.scaleFactor/n:0,i.lineIndent=a.lineIndent;var o,c,d=[];for(o=0,c=r.length;o<c;o++)d=d.concat(wR.apply(this,[r[o],l,i]));return d},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",a="klmnopqrstuvwxyz",r={},n={},i=0;i<16;i++)r[a[i]]=t[i],n[t[i]]=a[i];var l=function(x){return"0x"+parseInt(x,10).toString(16)},o=e.__fontmetrics__.compress=function(x){var p,v,g,b,j=["{"];for(var N in x){if(p=x[N],isNaN(parseInt(N,10))?v="'"+N+"'":(N=parseInt(N,10),v=(v=l(N).slice(2)).slice(0,-1)+n[v.slice(-1)]),typeof p=="number")p<0?(g=l(p).slice(3),b="-"):(g=l(p).slice(2),b=""),g=b+g.slice(0,-1)+n[g.slice(-1)];else{if(Vr(p)!=="object")throw new Error("Don't know what to do with value type "+Vr(p)+".");g=o(p)}j.push(v+g)}return j.push("}"),j.join("")},c=e.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,v,g,b,j={},N=1,S=j,k=[],A="",_="",M=x.length-1,L=1;L<M;L+=1)(b=x[L])=="'"?p?(g=p.join(""),p=void 0):p=[]:p?p.push(b):b=="{"?(k.push([S,g]),S={},g=void 0):b=="}"?((v=k.pop())[0][v[1]]=S,g=void 0,S=v[0]):b=="-"?N=-1:g===void 0?r.hasOwnProperty(b)?(A+=r[b],g=parseInt(A,16)*N,N=1,A=""):A+=b:r.hasOwnProperty(b)?(_+=r[b],S[g]=parseInt(_,16)*N,N=1,g=void 0,_=""):_+=b;return j},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(x){var p=x.font,v=f.Unicode[p.postScriptName];v&&(p.metadata.Unicode={},p.metadata.Unicode.widths=v.widths,p.metadata.Unicode.kerning=v.kerning);var g=u.Unicode[p.postScriptName];g&&(p.metadata.Unicode.encoding=g,p.encoding=g.codePages[0])}])})(ha.API),(function(e){var t=function(a){for(var r=a.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=a.charCodeAt(i);return n};e.API.events.push(["addFont",function(a){var r=void 0,n=a.font,i=a.instance;if(!n.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(r=i.existsFileInVFS(n.postScriptName)===!1?i.loadFile(n.postScriptName):i.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(l,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(I2(o)),l.metadata=e.API.TTFFont.open(o),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(n,r)}}])})(ha),ha.API.addSvgAsImage=function(e,t,a,r,n,i,l,o){if(isNaN(t)||isNaN(a))throw ss.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(n))throw ss.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=n;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Ia.canvg?Promise.resolve(Ia.canvg):yi(()=>import("./index.es-sbIo5NVR.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(d,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(u)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),t,a,r,n,l,o)})},ha.API.putTotalPages=function(e){var t,a=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),a=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),a=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var n=0;n<this.internal.pages[r].length;n++)this.internal.pages[r][n]=this.internal.pages[r][n].replace(t,a);return this},ha.API.viewerPreferences=function(e,t){var a;e=e||{},t=t||!1;var r,n,i,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(l),c=[],d=0,u=0,f=0;function x(v,g){var b,j=!1;for(b=0;b<v.length;b+=1)v[b]===g&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),a=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=o.length;for(f=0;f<p;f+=1)a[o[f]].value=a[o[f]].defaultValue,a[o[f]].explicitSet=!1}if(Vr(e)==="object"){for(n in e)if(i=e[n],x(o,n)&&i!==void 0){if(a[n].type==="boolean"&&typeof i=="boolean")a[n].value=i;else if(a[n].type==="name"&&x(a[n].valueSet,i))a[n].value=i;else if(a[n].type==="integer"&&Number.isInteger(i))a[n].value=i;else if(a[n].type==="array"){for(d=0;d<i.length;d+=1)if(r=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)typeof i[d][u]!="number"&&(r=!1);r===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}a[n].value="["+c.join(" ")+"]"}else a[n].value=a[n].defaultValue;a[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,g=[];for(v in a)a[v].explicitSet===!0&&(a[v].type==="name"?g.push("/"+v+" /"+a[v].value):g.push("/"+v+" "+a[v].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=a,this},(function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+l.length+o.length+n.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(n+i+l+o+c),this.internal.write("endstream"),this.internal.write("endobj")},a=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",a),this.internal.events.subscribe("postPutResources",t)),this}})(ha.API),(function(e){var t=e.API,a=t.pdfEscape16=function(i,l){for(var o,c=l.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],f=0,x=i.length;f<x;++f){if(o=l.metadata.characterToGlyph(i.charCodeAt(f)),l.metadata.glyIdsUsed.push(o),l.metadata.toUnicode[o]=i.charCodeAt(f),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(l.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(d[4-o.length],o)}return u.join("")},r=function(i){var l,o,c,d,u,f,x;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,x=(o=Object.keys(i).sort(function(p,v){return p-v})).length;f<x;f++)l=o[f],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[l]!==void 0&&i[l]!==null&&typeof i[l].toString=="function"&&(d=("0000"+i[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),c.push("<"+l+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(l){var o=l.font,c=l.out,d=l.newObject,u=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,x=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",v=0;v<x.length;v++)p+=String.fromCharCode(x[v]);var g=d();u({data:p,addLength1:!0,objectId:g}),c("endobj");var b=d();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var j=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Fp(o.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var N=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Fp(o.fontName)),c("/FontDescriptor "+j+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+b+" 0 R"),c("/BaseFont /"+Fp(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+N+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(l){var o=l.font,c=l.out,d=l.newObject,u=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,x="",p=0;p<f.length;p++)x+=String.fromCharCode(f[p]);var v=d();u({data:x,addLength1:!0,objectId:v}),c("endobj");var g=d();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var b=d();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Fp(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=d();for(var j=0;j<o.metadata.hmtx.widths.length;j++)o.metadata.hmtx.widths[j]=parseInt(o.metadata.hmtx.widths[j]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Fp(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var n=function(i){var l,o=i.text||"",c=i.x,d=i.y,u=i.options||{},f=i.mutex||{},x=f.pdfEscape,p=f.activeFontKey,v=f.fonts,g=p,b="",j=0,N="",S=v[g].encoding;if(v[g].encoding!=="Identity-H")return{text:o,x:c,y:d,options:u,mutex:f};for(N=o,g=p,Array.isArray(o)&&(N=o[0]),j=0;j<N.length;j+=1)v[g].metadata.hasOwnProperty("cmap")&&(l=v[g].metadata.cmap.unicode.codeMap[N[j].charCodeAt(0)]),l||N[j].charCodeAt(0)<256&&v[g].metadata.hasOwnProperty("Unicode")?b+=N[j]:b+="";var k="";return parseInt(g.slice(1))<14||S==="WinAnsiEncoding"?k=x(b,g).split("").map(function(A){return A.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(k=a(b,v[g])),f.isHex=!0,{text:k,x:c,y:d,options:u,mutex:f}};t.events.push(["postProcessText",function(i){var l=i.text||"",o=[],c={text:l,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(l)){var d=0;for(d=0;d<l.length;d+=1)Array.isArray(l[d])&&l[d].length===3?o.push([n(Object.assign({},c,{text:l[d][0]})).text,l[d][1],l[d][2]]):o.push(n(Object.assign({},c,{text:l[d]})).text);i.text=o}else i.text=n(Object.assign({},c,{text:l})).text}])})(ha),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(a){return t.call(this),this.internal.vFS[a]!==void 0},e.addFileToVFS=function(a,r){return t.call(this),this.internal.vFS[a]=r,this},e.getFileFromVFS=function(a){return t.call(this),this.internal.vFS[a]!==void 0?this.internal.vFS[a]:null}})(ha.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var n,i,l,o,c,d,u,f=t,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,S=0;this.__bidiEngine__={};var k=function(O){var B=O.charCodeAt(),E=B>>8,R=g[E];return R!==void 0?f[256*R+(255&B)]:E===252||E===253?"AL":j.test(E)?"L":E===8?"R":"N"},A=function(O){for(var B,E=0;E<O.length;E++){if((B=k(O.charAt(E)))==="L")return!1;if(B==="R")return!0}return!1},_=function(O,B,E,R){var q,I,G,re,te=B[R];switch(te){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"N":case"AN":break;case"EN":N&&(te="AN");break;case"AL":N=!0,te="R";break;case"WS":case"BN":te="N";break;case"CS":R<1||R+1>=B.length||(q=E[R-1])!=="EN"&&q!=="AN"||(I=B[R+1])!=="EN"&&I!=="AN"?te="N":N&&(I="AN"),te=I===q?I:"N";break;case"ES":te=(q=R>0?E[R-1]:"B")==="EN"&&R+1<B.length&&B[R+1]==="EN"?"EN":"N";break;case"ET":if(R>0&&E[R-1]==="EN"){te="EN";break}if(N){te="N";break}for(G=R+1,re=B.length;G<re&&B[G]==="ET";)G++;te=G<re&&B[G]==="EN"?"EN":"N";break;case"NSM":if(l&&!o){for(re=B.length,G=R+1;G<re&&B[G]==="NSM";)G++;if(G<re){var X=O[R],ce=X>=1425&&X<=2303||X===64286;if(q=B[G],ce&&(q==="R"||q==="AL")){te="R";break}}}te=R<1||(q=B[R-1])==="B"?"N":E[R-1];break;case"B":N=!1,n=!0,te=S;break;case"S":i=!0,te="N"}return te},M=function(O,B,E){var R=O.split("");return E&&L(R,E,{hiLevel:S}),R.reverse(),B&&B.reverse(),R.join("")},L=function(O,B,E){var R,q,I,G,re,te=-1,X=O.length,ce=0,D=[],Q=S?p:x,H=[];for(N=!1,n=!1,i=!1,q=0;q<X;q++)H[q]=k(O[q]);for(I=0;I<X;I++){if(re=ce,D[I]=_(O,H,D,I),R=240&(ce=Q[re][v[D[I]]]),ce&=15,B[I]=G=Q[ce][5],R>0)if(R===16){for(q=te;q<I;q++)B[q]=1;te=-1}else te=-1;if(Q[ce][6])te===-1&&(te=I);else if(te>-1){for(q=te;q<I;q++)B[q]=G;te=-1}H[I]==="B"&&(B[I]=0),E.hiLevel|=G}i&&(function(J,ae,ie){for(var le=0;le<ie;le++)if(J[le]==="S"){ae[le]=S;for(var Y=le-1;Y>=0&&J[Y]==="WS";Y--)ae[Y]=S}})(H,B,X)},U=function(O,B,E,R,q){if(!(q.hiLevel<O)){if(O===1&&S===1&&!n)return B.reverse(),void(E&&E.reverse());for(var I,G,re,te,X=B.length,ce=0;ce<X;){if(R[ce]>=O){for(re=ce+1;re<X&&R[re]>=O;)re++;for(te=ce,G=re-1;te<G;te++,G--)I=B[te],B[te]=B[G],B[G]=I,E&&(I=E[te],E[te]=E[G],E[G]=I);ce=re}ce++}}},z=function(O,B,E){var R=O.split(""),q={hiLevel:S};return E||(E=[]),L(R,E,q),(function(I,G,re){if(re.hiLevel!==0&&u)for(var te,X=0;X<I.length;X++)G[X]===1&&(te=b.indexOf(I[X]))>=0&&(I[X]=b[te+1])})(R,E,q),U(2,R,B,E,q),U(1,R,B,E,q),R.join("")};return this.__bidiEngine__.doBidiReorder=function(O,B,E){if((function(q,I){if(I)for(var G=0;G<q.length;G++)I[G]=G;o===void 0&&(o=A(q)),d===void 0&&(d=A(q))})(O,B),l||!c||d)if(l&&c&&o^d)S=o?1:0,O=M(O,B,E);else if(!l&&c&&d)S=o?1:0,O=z(O,B,E),O=M(O,B);else if(!l||o||c||d){if(l&&!c&&o^d)O=M(O,B),o?(S=0,O=z(O,B,E)):(S=1,O=z(O,B,E),O=M(O,B));else if(l&&o&&!c&&d)S=1,O=z(O,B,E),O=M(O,B);else if(!l&&!c&&o^d){var R=u;o?(S=1,O=z(O,B,E),S=0,u=!1,O=z(O,B,E),u=R):(S=0,O=z(O,B,E),O=M(O,B),S=1,u=!1,O=z(O,B,E),u=R,O=M(O,B))}}else S=0,O=z(O,B,E);else S=o?1:0,O=z(O,B,E);return O},this.__bidiEngine__.setOptions=function(O){O&&(l=O.isInputVisual,c=O.isOutputVisual,o=O.isInputRtl,d=O.isOutputRtl,u=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],a=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var n=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var l=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,a.setOptions(i),Object.prototype.toString.call(n)==="[object Array]"){var o=0;for(l=[],o=0;o<n.length;o+=1)Object.prototype.toString.call(n[o])==="[object Array]"?l.push([a.doBidiReorder(n[o][0]),n[o][1],n[o][2]]):l.push([a.doBidiReorder(n[o])]);r.text=l}else r.text=a.doBidiReorder(n);a.setOptions({isInputVisual:!0})}])})(ha),ha.API.TTFFont=(function(){function e(t){var a;if(this.rawData=t,a=this.contents=new Ff(t),this.contents.pos=4,a.readString(4)==="ttcf")throw new Error("TTCF not supported.");a.pos=0,this.parse(),this.subset=new oke(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new KSe(this.contents),this.head=new XSe(this),this.name=new tke(this),this.cmap=new iG(this),this.toUnicode={},this.hhea=new QSe(this),this.maxp=new ake(this),this.hmtx=new rke(this),this.post=new ZSe(this),this.os2=new JSe(this),this.loca=new lke(this),this.glyf=new ske(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,a,r,n,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,o,c,d;for(d=[],l=0,o=(c=this.bbox).length;l<o;l++)t=c[l],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(n=this.post.italic_angle),32768&(a=n>>16)&&(a=-(1+(65535^a))),this.italicAngle=+(a+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var a;return((a=this.cmap.unicode)!=null?a.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var a;return a=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*a},e.prototype.widthOfString=function(t,a,r){var n,i,l,o;for(l=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)n=t.charCodeAt(i),l+=this.widthOfGlyph(this.characterToGlyph(n))+r*(1e3/a)||0;return l*(a/1e3)},e.prototype.lineHeight=function(t,a){var r;return a==null&&(a=!1),r=a?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e})();var vd,Ff=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var a,r;for(r=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)r[a]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var a,r,n;for(n=[],a=0,r=t.length;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push(this.writeByte(t.charCodeAt(a)));return n},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,a,r,n,i,l,o,c;return t=this.readByte(),a=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),l=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^a)+1099511627776*(255^r)+4294967296*(255^n)+16777216*(255^i)+65536*(255^l)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*a+1099511627776*r+4294967296*n+16777216*i+65536*l+256*o+c},e.prototype.writeLongLong=function(t){var a,r;return a=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var a,r;for(a=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)a.push(this.readByte());return a},e.prototype.write=function(t){var a,r,n,i;for(i=[],r=0,n=t.length;r<n;r++)a=t[r],i.push(this.writeByte(a));return i},e})(),KSe=(function(){var e;function t(a){var r,n,i;for(this.scalarType=a.readInt(),this.tableCount=a.readShort(),this.searchRange=a.readShort(),this.entrySelector=a.readShort(),this.rangeShift=a.readShort(),this.tables={},n=0,i=this.tableCount;0<=i?n<i:n>i;n=0<=i?++n:--n)r={tag:a.readString(4),checksum:a.readInt(),offset:a.readInt(),length:a.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(a){var r,n,i,l,o,c,d,u,f,x,p,v,g;for(g in p=Object.keys(a).length,c=Math.log(2),f=16*Math.floor(Math.log(p)/c),l=Math.floor(f/c),u=16*p-f,(n=new Ff).writeInt(this.scalarType),n.writeShort(p),n.writeShort(f),n.writeShort(l),n.writeShort(u),i=16*p,d=n.pos+i,o=null,v=[],a)for(x=a[g],n.writeString(g),n.writeInt(e(x)),n.writeInt(d),n.writeInt(x.length),v=v.concat(x),g==="head"&&(o=d),d+=x.length;d%4;)v.push(0),d++;return n.write(v),r=2981146554-e(n.data),n.pos=o+8,n.writeUInt32(r),n.data},e=function(a){var r,n,i,l;for(a=lG.call(a);a.length%4;)a.push(0);for(i=new Ff(a),n=0,r=0,l=a.length;r<l;r=r+=4)n+=i.readUInt32();return 4294967295&n},t})(),YSe={}.hasOwnProperty,ou=function(e,t){for(var a in t)YSe.call(t,a)&&(e[a]=t[a]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};vd=(function(){function e(t){var a;this.file=t,a=this.file.directory.tables[this.tag],this.exists=!!a,a&&(this.offset=a.offset,this.length=a.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var XSe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,vd),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var a;return(a=new Ff).writeInt(this.version),a.writeInt(this.revision),a.writeInt(this.checkSumAdjustment),a.writeInt(this.magicNumber),a.writeShort(this.flags),a.writeShort(this.unitsPerEm),a.writeLongLong(this.created),a.writeLongLong(this.modified),a.writeShort(this.xMin),a.writeShort(this.yMin),a.writeShort(this.xMax),a.writeShort(this.yMax),a.writeShort(this.macStyle),a.writeShort(this.lowestRecPPEM),a.writeShort(this.fontDirectionHint),a.writeShort(t),a.writeShort(this.glyphDataFormat),a.data},e})(),ER=(function(){function e(t,a){var r,n,i,l,o,c,d,u,f,x,p,v,g,b,j,N,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=a+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),x=p/2,t.pos+=6,i=(function(){var k,A;for(A=[],c=k=0;0<=x?k<x:k>x;c=0<=x?++k:--k)A.push(t.readUInt16());return A})(),t.pos+=2,g=(function(){var k,A;for(A=[],c=k=0;0<=x?k<x:k>x;c=0<=x?++k:--k)A.push(t.readUInt16());return A})(),d=(function(){var k,A;for(A=[],c=k=0;0<=x?k<x:k>x;c=0<=x?++k:--k)A.push(t.readUInt16());return A})(),u=(function(){var k,A;for(A=[],c=k=0;0<=x?k<x:k>x;c=0<=x?++k:--k)A.push(t.readUInt16());return A})(),n=(this.length-t.pos+this.offset)/2,o=(function(){var k,A;for(A=[],c=k=0;0<=n?k<n:k>n;c=0<=n?++k:--k)A.push(t.readUInt16());return A})(),c=j=0,S=i.length;j<S;c=++j)for(b=i[c],r=N=v=g[c];v<=b?N<=b:N>=b;r=v<=b?++N:--N)u[c]===0?l=r+d[c]:(l=o[u[c]/2+(r-v)-(x-c)]||0)!==0&&(l+=d[c]),this.codeMap[r]=65535&l}t.pos=f}return e.encode=function(t,a){var r,n,i,l,o,c,d,u,f,x,p,v,g,b,j,N,S,k,A,_,M,L,U,z,O,B,E,R,q,I,G,re,te,X,ce,D,Q,H,J,ae,ie,le,Y,oe,xe,W;switch(R=new Ff,l=Object.keys(t).sort(function(he,fe){return he-fe}),a){case"macroman":for(g=0,b=(function(){var he=[];for(v=0;v<256;++v)he.push(0);return he})(),N={0:0},i={},q=0,te=l.length;q<te;q++)N[Y=t[n=l[q]]]==null&&(N[Y]=++g),i[n]={old:t[n],new:N[t[n]]},b[n]=N[t[n]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(b),{charMap:i,subtable:R.data,maxGlyphID:g+1};case"unicode":for(B=[],f=[],S=0,N={},r={},j=d=null,I=0,X=l.length;I<X;I++)N[A=t[n=l[I]]]==null&&(N[A]=++S),r[n]={old:A,new:N[A]},o=N[A]-n,j!=null&&o===d||(j&&f.push(j),B.push(n),d=o),j=n;for(j&&f.push(j),f.push(65535),B.push(65535),z=2*(U=B.length),L=2*Math.pow(Math.log(U)/Math.LN2,2),x=Math.log(L/2)/Math.LN2,M=2*U-L,c=[],_=[],p=[],v=G=0,ce=B.length;G<ce;v=++G){if(O=B[v],u=f[v],O===65535){c.push(0),_.push(0);break}if(O-(E=r[O].new)>=32768)for(c.push(0),_.push(2*(p.length+U-v)),n=re=O;O<=u?re<=u:re>=u;n=O<=u?++re:--re)p.push(r[n].new);else c.push(E-O),_.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*U+2*p.length),R.writeUInt16(0),R.writeUInt16(z),R.writeUInt16(L),R.writeUInt16(x),R.writeUInt16(M),ie=0,D=f.length;ie<D;ie++)n=f[ie],R.writeUInt16(n);for(R.writeUInt16(0),le=0,Q=B.length;le<Q;le++)n=B[le],R.writeUInt16(n);for(oe=0,H=c.length;oe<H;oe++)o=c[oe],R.writeUInt16(o);for(xe=0,J=_.length;xe<J;xe++)k=_[xe],R.writeUInt16(k);for(W=0,ae=p.length;W<ae;W++)g=p[W],R.writeUInt16(g);return{charMap:r,subtable:R.data,maxGlyphID:S+1}}},e})(),iG=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,vd),e.prototype.tag="cmap",e.prototype.parse=function(t){var a,r,n;for(t.pos=this.offset,this.version=t.readUInt16(),n=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)a=new ER(t,this.offset),this.tables.push(a),a.isUnicode&&this.unicode==null&&(this.unicode=a);return!0},e.encode=function(t,a){var r,n;return a==null&&(a="macroman"),r=ER.encode(t,a),(n=new Ff).writeUInt16(0),n.writeUInt16(1),r.table=n.data.concat(r.subtable),r},e})(),QSe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,vd),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),JSe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,vd),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var a,r;for(r=[],a=0;a<10;++a)r.push(t.readByte());return r})(),this.charRange=(function(){var a,r;for(r=[],a=0;a<4;++a)r.push(t.readInt());return r})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var a,r;for(r=[],a=0;a<2;a=++a)r.push(t.readInt());return r})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),ZSe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,vd),e.prototype.tag="post",e.prototype.parse=function(t){var a,r,n;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(r=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],n=[];t.pos<this.offset+this.length;)a=t.readByte(),n.push(this.names.push(t.readString(a)));return n;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var l,o,c;for(c=[],i=l=0,o=this.file.maxp.numGlyphs;0<=o?l<o:l>o;i=0<=o?++l:--l)c.push(t.readUInt32());return c}).call(this)}},e})(),eke=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},tke=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,vd),e.prototype.tag="name",e.prototype.parse=function(t){var a,r,n,i,l,o,c,d,u,f,x;for(t.pos=this.offset,t.readShort(),a=t.readShort(),o=t.readShort(),r=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(c={},i=u=0,f=r.length;u<f;i=++u)n=r[i],t.pos=n.offset,d=t.readString(n.length),l=new eke(d,n),c[x=n.nameID]==null&&(c[x]=[]),c[n.nameID].push(l);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e})(),ake=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,vd),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),rke=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,vd),e.prototype.tag="hmtx",e.prototype.parse=function(t){var a,r,n,i,l,o,c;for(t.pos=this.offset,this.metrics=[],a=0,o=this.file.hhea.numberOfMetrics;0<=o?a<o:a>o;a=0<=o?++a:--a)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,u;for(u=[],a=d=0;0<=n?d<n:d>n;a=0<=n?++d:--d)u.push(t.readInt16());return u})(),this.widths=(function(){var d,u,f,x;for(x=[],d=0,u=(f=this.metrics).length;d<u;d++)i=f[d],x.push(i.advance);return x}).call(this),r=this.widths[this.widths.length-1],c=[],a=l=0;0<=n?l<n:l>n;a=0<=n?++l:--l)c.push(this.widths.push(r));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),lG=[].slice,ske=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,vd),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var a,r,n,i,l,o,c,d,u,f;return t in this.cache?this.cache[t]:(i=this.file.loca,a=this.file.contents,r=i.indexOf(t),(n=i.lengthOf(t))===0?this.cache[t]=null:(a.pos=this.offset+r,l=(o=new Ff(a.read(n))).readShort(),d=o.readShort(),f=o.readShort(),c=o.readShort(),u=o.readShort(),this.cache[t]=l===-1?new ike(o,d,f,c,u):new nke(o,l,d,f,c,u),this.cache[t]))},e.prototype.encode=function(t,a,r){var n,i,l,o,c;for(l=[],i=[],o=0,c=a.length;o<c;o++)n=t[a[o]],i.push(l.length),n&&(l=l.concat(n.encode(r)));return i.push(l.length),{table:l,offsets:i}},e})(),nke=(function(){function e(t,a,r,n,i,l){this.raw=t,this.numberOfContours=a,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),ike=(function(){function e(t,a,r,n,i){var l,o;for(this.raw=t,this.xMin=a,this.yMin=r,this.xMax=n,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;o=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&o;)l.pos+=1&o?4:2,128&o?l.pos+=8:64&o?l.pos+=4:8&o&&(l.pos+=2)}return e.prototype.encode=function(){var t,a,r;for(a=new Ff(lG.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)a.pos=this.glyphOffsets[t];return a.data},e})(),lke=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,vd),e.prototype.tag="loca",e.prototype.parse=function(t){var a,r;return t.pos=this.offset,a=this.file.head.indexToLocFormat,this.offsets=a===0?(function(){var n,i;for(i=[],r=0,n=this.length;r<n;r+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var n,i;for(i=[],r=0,n=this.length;r<n;r+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,a){for(var r=new Uint32Array(this.offsets.length),n=0,i=0,l=0;l<r.length;++l)if(r[l]=n,i<a.length&&a[i]==l){++i,r[l]=n;var o=this.offsets[l],c=this.offsets[l+1]-o;c>0&&(n+=c)}for(var d=new Array(4*r.length),u=0;u<r.length;++u)d[4*u+3]=255&r[u],d[4*u+2]=(65280&r[u])>>8,d[4*u+1]=(16711680&r[u])>>16,d[4*u]=(4278190080&r[u])>>24;return d},e})(),oke=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,a,r,n,i;for(a in n=this.font.cmap.tables[0].codeMap,t={},i=this.subset)r=i[a],t[a]=n[r];return t},e.prototype.glyphsFor=function(t){var a,r,n,i,l,o,c;for(n={},l=0,o=t.length;l<o;l++)n[i=t[l]]=this.font.glyf.glyphFor(i);for(i in a=[],n)(r=n[i])!=null&&r.compound&&a.push.apply(a,r.glyphIDs);if(a.length>0)for(i in c=this.glyphsFor(a))r=c[i],n[i]=r;return n},e.prototype.encode=function(t,a){var r,n,i,l,o,c,d,u,f,x,p,v,g,b,j;for(n in r=iG.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),p={0:0},j=r.charMap)p[(c=j[n]).old]=c.new;for(v in x=r.maxGlyphID,l)v in p||(p[v]=x++);return u=(function(N){var S,k;for(S in k={},N)k[N[S]]=S;return k})(p),f=Object.keys(u).sort(function(N,S){return N-S}),g=(function(){var N,S,k;for(k=[],N=0,S=f.length;N<S;N++)o=f[N],k.push(u[o]);return k})(),i=this.font.glyf.encode(l,g,p),d=this.font.loca.encode(i.offsets,g),b={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(a)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},e})();ha.API.PDFObject=(function(){var e;function t(){}return e=function(a,r){return(Array(r+1).join("0")+a).slice(-r)},t.convert=function(a){var r,n,i,l;if(Array.isArray(a))return"["+(function(){var o,c,d;for(d=[],o=0,c=a.length;o<c;o++)r=a[o],d.push(t.convert(r));return d})().join(" ")+"]";if(typeof a=="string")return"/"+a;if(a?.isString)return"("+a+")";if(a instanceof Date)return"(D:"+e(a.getUTCFullYear(),4)+e(a.getUTCMonth(),2)+e(a.getUTCDate(),2)+e(a.getUTCHours(),2)+e(a.getUTCMinutes(),2)+e(a.getUTCSeconds(),2)+"Z)";if({}.toString.call(a)==="[object Object]"){for(n in i=["<<"],a)l=a[n],i.push("/"+n+" "+t.convert(l));return i.push(">>"),i.join(`
`)}return""+a},t})();const Sw=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:BSe,AcroFormAppearance:da,AcroFormButton:Yn,AcroFormCheckBox:E1,AcroFormChoiceField:Z0,AcroFormComboBox:tm,AcroFormEditBox:_1,AcroFormListBox:em,AcroFormPasswordField:D1,AcroFormPushButton:T1,AcroFormRadioButton:am,AcroFormTextField:Af,GState:mv,ShadingPattern:xf,TilingPattern:B0,default:ha,jsPDF:ha},Symbol.toStringTag,{value:"Module"}));function oG(e,t,a,r,n){r=r||{};var i=1.15,l=n.internal.scaleFactor,o=n.internal.getFontSize()/l,c=n.getLineHeightFactor?n.getLineHeightFactor():i,d=o*c,u=/\r\n|\r|\n/g,f="",x=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(f=typeof e=="string"?e.split(u):e,x=f.length||1),a+=o*(2-i),r.valign==="middle"?a-=x/2*d:r.valign==="bottom"&&(a-=x*d),r.halign==="center"||r.halign==="right"){var p=o;if(r.halign==="center"&&(p*=.5),f&&x>=1){for(var v=0;v<f.length;v++)n.text(f[v],t-n.getStringUnitWidth(f[v])*p,a),a+=d;return n}t-=n.getStringUnitWidth(e)*p}return r.halign==="justify"?n.text(e,t,a,{maxWidth:r.maxWidth||100,align:"justify"}):n.text(e,t,a),n}var DR={},Qp=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,a){a===void 0&&(a=null),a?a.__autoTableDocumentDefaults=t:DR=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,a){var r,n,i;a===void 0&&(a=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var l=this.jsPDFDocument.internal.getFont(),o=l.fontStyle,c=l.fontName;if(t.font&&(c=t.font),t.fontStyle){o=t.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),o=d[0])}if(this.jsPDFDocument.setFont(c,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!a){var u=e.unifyColor(t.fillColor);u&&(r=this.jsPDFDocument).setFillColor.apply(r,u),u=e.unifyColor(t.textColor),u&&(n=this.jsPDFDocument).setTextColor.apply(n,u),u=e.unifyColor(t.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,a,r){return this.jsPDFDocument.splitTextToSize(t,a,r)},e.prototype.rect=function(t,a,r,n,i){return this.jsPDFDocument.rect(t,a,r,n,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return DR||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),LC=function(e,t){return LC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n])},LC(e,t)};function cG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");LC(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}var dG=(function(e){cG(t,e);function t(a){var r=e.call(this)||this;return r._element=a,r}return t})(Array);function cke(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function dke(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function kw(e,t,a){a.applyStyles(t,!0);var r=Array.isArray(e)?e:[e],n=r.map(function(i){return a.getTextWidth(i)}).reduce(function(i,l){return Math.max(i,l)},0);return n}function uG(e,t,a,r){var n=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:n,lineColor:i});var l=hG(n,!1);l&&e.rect(a.x,a.y,t.getWidth(e.pageSize().width),r.y-a.y,l)}function hG(e,t){var a=e>0,r=t||t===0;return a&&r?"DF":a?"S":r?"F":null}function sN(e,t){var a,r,n,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(a=e.left)!==null&&a!==void 0?a:t,top:(r=e.top)!==null&&r!==void 0?r:t,right:(n=e.right)!==null&&n!==void 0?n:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function fG(e,t){var a=sN(t.settings.margin,0);return e.pageSize().width-(a.left+a.right)}function uke(e,t,a,r,n){var i={},l=1.3333333333333333,o=A3(t,function(S){return n.getComputedStyle(S).backgroundColor});o!=null&&(i.fillColor=o);var c=A3(t,function(S){return n.getComputedStyle(S).color});c!=null&&(i.textColor=c);var d=fke(r,a);d&&(i.cellPadding=d);var u="borderTopColor",f=l*a,x=r.borderTopWidth;if(r.borderBottomWidth===x&&r.borderRightWidth===x&&r.borderLeftWidth===x){var p=(parseFloat(x)||0)/f;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/f,right:(parseFloat(r.borderRightWidth)||0)/f,bottom:(parseFloat(r.borderBottomWidth)||0)/f,left:(parseFloat(r.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var v=A3(t,function(S){return n.getComputedStyle(S)[u]});v!=null&&(i.lineColor=v);var g=["left","right","center","justify"];g.indexOf(r.textAlign)!==-1&&(i.halign=r.textAlign),g=["middle","bottom","top"],g.indexOf(r.verticalAlign)!==-1&&(i.valign=r.verticalAlign);var b=parseInt(r.fontSize||"");isNaN(b)||(i.fontSize=b/l);var j=hke(r);j&&(i.fontStyle=j);var N=(r.fontFamily||"").toLowerCase();return e.indexOf(N)!==-1&&(i.font=N),i}function hke(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function A3(e,t){var a=mG(e,t);if(!a)return null;var r=a.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var n=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],i=parseInt(r[4]);return i===0||isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function mG(e,t){var a=t(e);return a==="rgba(0, 0, 0, 0)"||a==="transparent"||a==="initial"||a==="inherit"?e.parentElement==null?null:mG(e.parentElement,t):a}function fke(e,t){var a=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],r=96/(72/t),n=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=a.map(function(o){return parseInt(o||"0")/r}),l=sN(i,0);return n>l.top&&(l.top=n),n>l.bottom&&(l.bottom=n),l}function pG(e,t,a,r,n){var i,l;r===void 0&&(r=!1),n===void 0&&(n=!1);var o;typeof t=="string"?o=a.document.querySelector(t):o=t;var c=Object.keys(e.getFontList()),d=e.scaleFactor(),u=[],f=[],x=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:f,foot:x};for(var p=0;p<o.rows.length;p++){var v=o.rows[p],g=(l=(i=v?.parentElement)===null||i===void 0?void 0:i.tagName)===null||l===void 0?void 0:l.toLowerCase(),b=mke(c,d,a,v,r,n);b&&(g==="thead"?u.push(b):g==="tfoot"?x.push(b):f.push(b))}return{head:u,body:f,foot:x}}function mke(e,t,a,r,n,i){for(var l=new dG(r),o=0;o<r.cells.length;o++){var c=r.cells[o],d=a.getComputedStyle(c);if(n||d.display!=="none"){var u=void 0;i&&(u=uke(e,c,t,d,a)),l.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:u,_element:c,content:pke(c)})}}var f=a.getComputedStyle(r);if(l.length>0&&(n||f.display!=="none"))return l}function pke(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(a){return a.trim()}).join(`
`),t.innerText||t.textContent||""}function xke(e,t,a){for(var r=0,n=[e,t,a];r<n.length;r++){var i=n[r];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Yu(e,t,a,r,n){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),l=1;l<arguments.length;l++){var o=arguments[l];if(o!=null)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])}return i}function H_(e,t){var a=new Qp(e),r=a.getDocumentOptions(),n=a.getGlobalOptions();xke(n,r,t);var i=Yu({},n,r,t),l;typeof window<"u"&&(l=window);var o=gke(n,r,t),c=vke(n,r,t),d=bke(a,i),u=wke(a,i,l);return{id:t.tableId,content:u,hooks:c,styles:o,settings:d}}function gke(e,t,a){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},n=function(c){if(c==="columnStyles"){var d=e[c],u=t[c],f=a[c];r.columnStyles=Yu({},d,u,f)}else{var x=[e,t,a],p=x.map(function(v){return v[c]||{}});r[c]=Yu({},p[0],p[1],p[2])}},i=0,l=Object.keys(r);i<l.length;i++){var o=l[i];n(o)}return r}function vke(e,t,a){for(var r=[e,t,a],n={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,l=r;i<l.length;i++){var o=l[i];o.didParseCell&&n.didParseCell.push(o.didParseCell),o.willDrawCell&&n.willDrawCell.push(o.willDrawCell),o.didDrawCell&&n.didDrawCell.push(o.didDrawCell),o.willDrawPage&&n.willDrawPage.push(o.willDrawPage),o.didDrawPage&&n.didDrawPage.push(o.didDrawPage)}return n}function bke(e,t){var a,r,n,i,l,o,c,d,u,f,x,p,v=sN(t.margin,40/e.scaleFactor()),g=(a=yke(e,t.startY))!==null&&a!==void 0?a:v.top,b;t.showFoot===!0?b="everyPage":t.showFoot===!1?b="never":b=(r=t.showFoot)!==null&&r!==void 0?r:"everyPage";var j;t.showHead===!0?j="everyPage":t.showHead===!1?j="never":j=(n=t.showHead)!==null&&n!==void 0?n:"everyPage";var N=(i=t.useCss)!==null&&i!==void 0?i:!1,S=t.theme||(N?"plain":"striped"),k=!!t.horizontalPageBreak,A=(l=t.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:N,theme:S,startY:g,margin:v,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=t.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:j,showFoot:b,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(x=t.tableLineColor)!==null&&x!==void 0?x:200,horizontalPageBreak:k,horizontalPageBreakRepeat:A,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function yke(e,t){var a=e.getLastAutoTable(),r=e.scaleFactor(),n=e.pageNumber(),i=!1;if(a&&a.startPageNumber){var l=a.startPageNumber+a.pageNumber-1;i=l===n}return typeof t=="number"?t:(t==null||t===!1)&&i&&a?.finalY!=null?a.finalY+20/r:null}function wke(e,t,a){var r=t.head||[],n=t.body||[],i=t.foot||[];if(t.html){var l=t.includeHiddenHtml;if(a){var o=pG(e,t.html,a,l,t.useCss)||{};r=o.head||r,n=o.body||r,i=o.foot||r}else console.error("Cannot parse html in non browser environment")}var c=t.columns||jke(r,n,i);return{columns:c,head:r,body:n,foot:i}}function jke(e,t,a){var r=e[0]||t[0]||a[0]||[],n=[];return Object.keys(r).filter(function(i){return i!=="_element"}).forEach(function(i){var l=1,o;Array.isArray(r)?o=r[parseInt(i)]:o=r[i],typeof o=="object"&&!Array.isArray(o)&&(l=o?.colSpan||1);for(var c=0;c<l;c++){var d=void 0;Array.isArray(r)?d=n.length:d=i+(c>0?"_".concat(c):"");var u={dataKey:d};n.push(u)}}),n}var Cw=(function(){function e(t,a,r){this.table=a,this.pageNumber=a.pageNumber,this.settings=a.settings,this.cursor=r,this.doc=t.getDocument()}return e})(),xG=(function(e){cG(t,e);function t(a,r,n,i,l,o){var c=e.call(this,a,r,o)||this;return c.cell=n,c.row=i,c.column=l,c.section=i.section,c}return t})(Cw),gG=(function(){function e(t,a){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=a.columns,this.head=a.head,this.body=a.body,this.foot=a.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(a,r){return a+r.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(a,r){return a+r.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,a,r,n,i,l){for(var o=0,c=a;o<c.length;o++){var d=c[o],u=new xG(t,this,r,n,i,l),f=d(u)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,a){t.applyStyles(t.userStyles);for(var r=0,n=this.hooks.didDrawPage;r<n.length;r++){var i=n[r];i(new Cw(t,this,a))}},e.prototype.callWillDrawPageHooks=function(t,a){for(var r=0,n=this.hooks.willDrawPage;r<n.length;r++){var i=n[r];i(new Cw(t,this,a))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var a=this.columns.reduce(function(n,i){return n+i.wrappedWidth},0);return a}else{var r=this.settings.margin;return t-r.left-r.right}},e})(),V_=(function(){function e(t,a,r,n,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof dG&&(this.raw=t._element,this.element=t._element),this.index=a,this.section=r,this.cells=n,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var a=this;return t.reduce(function(r,n){var i;return Math.max(r,((i=a.cells[n.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var a=this;return t.filter(function(r){var n=a.cells[r.index];return n?n.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,a){return this.getMaxCellHeight(a)<=t},e.prototype.getMinimumRowHeight=function(t,a){var r=this;return t.reduce(function(n,i){var l=r.cells[i.index];if(!l)return 0;var o=a.getLineHeight(l.styles.fontSize),c=l.padding("vertical"),d=c+o;return d>n?d:n},0)},e})(),W_=(function(){function e(t,a,r){var n;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=a,this.section=r,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(n=t.content)!==null&&n!==void 0?n:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var l=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=l.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var a=this.height-this.padding("vertical");t=this.y+a/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var n=this.width-this.padding("horizontal");r=this.x+n/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:t}},e.prototype.getContentHeight=function(t,a){a===void 0&&(a=1.15);var r=Array.isArray(this.text)?this.text.length:1,n=this.styles.fontSize/t*a,i=r*n+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var a=sN(this.styles.cellPadding,0);return t==="vertical"?a.top+a.bottom:t==="horizontal"?a.left+a.right:a[t]},e})(),vG=(function(){function e(t,a,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=a,this.index=r}return e.prototype.getMaxCustomCellWidth=function(t){for(var a=0,r=0,n=t.allRows();r<n.length;r++){var i=n[r],l=i.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(a=Math.max(a,l.styles.cellWidth))}return a},e})();function Nke(e,t){Ske(e,t);var a=[],r=0;t.columns.forEach(function(i){var l=i.getMaxCustomCellWidth(t);l?i.width=l:(i.width=i.wrappedWidth,a.push(i)),r+=i.width});var n=t.getWidth(e.pageSize().width)-r;n&&(n=OC(a,n,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),n&&(n=OC(a,n,function(i){return i.minWidth})),n=Math.abs(n),!t.settings.horizontalPageBreak&&n>.1/e.scaleFactor()&&(n=n<1?n:Math.round(n),console.warn("Of the table content, ".concat(n," units width could not fit page"))),Cke(t),Ake(t,e),kke(t)}function Ske(e,t){var a=e.scaleFactor(),r=t.settings.horizontalPageBreak,n=fG(e,t);t.allRows().forEach(function(i){for(var l=0,o=t.columns;l<o.length;l++){var c=o[l],d=i.cells[c.index];if(d){var u=t.hooks.didParseCell;t.callCellHooks(e,u,d,i,c,null);var f=d.padding("horizontal");d.contentWidth=kw(d.text,d.styles,e)+f;var x=kw(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=x+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||r===!0)d.contentWidth>n?(d.minWidth=n,d.wrappedWidth=n):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var p=10/a;d.minWidth=d.styles.minCellWidth||p,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(i){for(var l=0,o=t.columns;l<o.length;l++){var c=o[l],d=i.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var u=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},f=u.cellWidth||u.minCellWidth;f&&typeof f=="number"&&(c.minWidth=f,c.wrappedWidth=f)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function OC(e,t,a){for(var r=t,n=e.reduce(function(p,v){return p+v.wrappedWidth},0),i=0;i<e.length;i++){var l=e[i],o=l.wrappedWidth/n,c=r*o,d=l.width+c,u=a(l),f=d<u?u:d;t-=f-l.width,l.width=f}if(t=Math.round(t*1e10)/1e10,t){var x=e.filter(function(p){return t<0?p.width>a(p):!0});x.length&&(t=OC(x,t,a))}return t}function kke(e){for(var t={},a=1,r=e.allRows(),n=0;n<r.length;n++)for(var i=r[n],l=0,o=e.columns;l<o.length;l++){var c=o[l],d=t[c.index];if(a>1)a--,delete i.cells[c.index];else if(d)d.cell.height+=i.height,a=d.cell.colSpan,delete i.cells[c.index],d.left--,d.left<=1&&delete t[c.index];else{var u=i.cells[c.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var f=r.length-n,x=u.rowSpan>f?f:u.rowSpan;t[c.index]={cell:u,left:x,row:i}}}}}function Cke(e){for(var t=e.allRows(),a=0;a<t.length;a++)for(var r=t[a],n=null,i=0,l=0,o=0;o<e.columns.length;o++){var c=e.columns[o];if(l-=1,l>1&&e.columns[o+1])i+=c.width,delete r.cells[c.index];else if(n){var d=n;delete r.cells[c.index],n=null,d.width=c.width+i}else{var d=r.cells[c.index];if(!d)continue;if(l=d.colSpan,i=0,d.colSpan>1){n=d,i+=c.width;continue}d.width=c.width+i}}}function Ake(e,t){for(var a={count:0,height:0},r=0,n=e.allRows();r<n.length;r++){for(var i=n[r],l=0,o=e.columns;l<o.length;l++){var c=o[l],d=i.cells[c.index];if(d){t.applyStyles(d.styles,!0);var u=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=t.splitTextToSize(d.text,u+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=MR(d.text,u,d.styles,t,"...");else if(d.styles.overflow==="hidden")d.text=MR(d.text,u,d.styles,t,"");else if(typeof d.styles.overflow=="function"){var f=d.styles.overflow(d.text,u);typeof f=="string"?d.text=[f]:d.text=f}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var x=d.contentHeight/d.rowSpan;d.rowSpan>1&&a.count*a.height<x*d.rowSpan?a={height:x,count:d.rowSpan}:a&&a.count>0&&a.height>x&&(x=a.height),x>i.height&&(i.height=x)}}a.count--}}function MR(e,t,a,r,n){return e.map(function(i){return _ke(i,t,a,r,n)})}function _ke(e,t,a,r,n){var i=1e4*r.scaleFactor();if(t=Math.ceil(t*i)/i,t>=kw(e,a,r))return e;for(;t<kw(e+n,a,r)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+n}function q_(e,t){var a=new Qp(e),r=Tke(t,a.scaleFactor()),n=new gG(t,r);return Nke(a,n),a.applyStyles(a.userStyles),n}function Tke(e,t){var a=e.content,r=Dke(a.columns);if(a.head.length===0){var n=PR(r,"head");n&&a.head.push(n)}if(a.foot.length===0){var n=PR(r,"foot");n&&a.foot.push(n)}var i=e.settings.theme,l=e.styles;return{columns:r,head:_3("head",a.head,r,l,i,t),body:_3("body",a.body,r,l,i,t),foot:_3("foot",a.foot,r,l,i,t)}}function _3(e,t,a,r,n,i){var l={},o=t.map(function(c,d){for(var u=0,f={},x=0,p=0,v=0,g=a;v<g.length;v++){var b=g[v];if(l[b.index]==null||l[b.index].left===0)if(p===0){var j=void 0;Array.isArray(c)?j=c[b.index-x-u]:j=c[b.dataKey];var N={};typeof j=="object"&&!Array.isArray(j)&&(N=j?.styles||{});var S=Mke(e,b,d,n,r,i,N),k=new W_(j,S,e);f[b.dataKey]=k,f[b.index]=k,p=k.colSpan-1,l[b.index]={left:k.rowSpan-1,times:p}}else p--,x++;else l[b.index].left--,p=l[b.index].times,u++}return new V_(c,d,e,f)});return o}function PR(e,t){var a={};return e.forEach(function(r){if(r.raw!=null){var n=Eke(t,r.raw);n!=null&&(a[r.dataKey]=n)}}),Object.keys(a).length>0?a:null}function Eke(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function Dke(e){return e.map(function(t,a){var r,n;return typeof t=="object"?n=(r=t.dataKey)!==null&&r!==void 0?r:a:n=a,new vG(n,t,a)})}function Mke(e,t,a,r,n,i,l){var o=dke(r),c;e==="head"?c=n.headStyles:e==="body"?c=n.bodyStyles:e==="foot"&&(c=n.footStyles);var d=Yu({},o.table,o[e],n.styles,c),u=n.columnStyles[t.dataKey]||n.columnStyles[t.index]||{},f=e==="body"?u:{},x=e==="body"&&a%2===0?Yu({},o.alternateRow,n.alternateRowStyles):{},p=cke(i),v=Yu({},p,d,x,f);return Yu(v,l)}function Pke(e,t,a){var r;a===void 0&&(a={});var n=fG(e,t),i=new Map,l=[],o=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(x){var p=t.columns.find(function(v){return v.dataKey===x||v.index===x});p&&!i.has(p.index)&&(i.set(p.index,!0),l.push(p.index),o.push(t.columns[p.index]),n-=p.wrappedWidth)});for(var d=!0,u=(r=a?.start)!==null&&r!==void 0?r:0;u<t.columns.length;){if(i.has(u)){u++;continue}var f=t.columns[u].wrappedWidth;if(d||n>=f)d=!1,l.push(u),o.push(t.columns[u]),n-=f;else break;u++}return{colIndexes:l,columns:o,lastIndex:u-1}}function Lke(e,t){for(var a=[],r=0;r<t.columns.length;r++){var n=Pke(e,t,{start:r});n.columns.length&&(a.push(n),r=n.lastIndex)}return a}function G_(e,t){var a=t.settings,r=a.startY,n=a.margin,i={x:n.left,y:r},l=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=r+n.bottom+l;if(a.pageBreak==="avoid"){var c=t.body,d=c.reduce(function(x,p){return x+p.height},0);o+=d}var u=new Qp(e);(a.pageBreak==="always"||a.startY!=null&&o>u.pageSize().height)&&(yG(u),i.y=n.top),t.callWillDrawPageHooks(u,i);var f=Yu({},i);t.startPageNumber=u.pageNumber(),a.horizontalPageBreak?Oke(u,t,f,i):(u.applyStyles(u.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(x){return hh(u,t,x,i,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(x,p){var v=p===t.body.length-1;Aw(u,t,x,v,f,i,t.columns)}),u.applyStyles(u.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(x){return hh(u,t,x,i,t.columns)})),uG(u,t,f,i),t.callEndPageHooks(u,i),t.finalY=i.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function Oke(e,t,a,r){var n=Lke(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")n.forEach(function(d,u){e.applyStyles(e.userStyles),u>0?M1(e,t,a,r,d.columns,!0):LR(e,t,r,d.columns),Rke(e,t,a,r,d.columns),T3(e,t,r,d.columns)});else for(var l=-1,o=n[0],c=function(){var d=l;if(o){e.applyStyles(e.userStyles);var u=o.columns;l>=0?M1(e,t,a,r,u,!0):LR(e,t,r,u),d=OR(e,t,l+1,r,u),T3(e,t,r,u)}var f=d-l;n.slice(1).forEach(function(x){e.applyStyles(e.userStyles),M1(e,t,a,r,x.columns,!0),OR(e,t,l+1,r,x.columns,f),T3(e,t,r,x.columns)}),l=d};l<t.body.length-1;)c()}function LR(e,t,a,r){var n=t.settings;e.applyStyles(e.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(i){return hh(e,t,i,a,r)})}function Rke(e,t,a,r,n){e.applyStyles(e.userStyles),t.body.forEach(function(i,l){var o=l===t.body.length-1;Aw(e,t,i,o,a,r,n)})}function OR(e,t,a,r,n,i){e.applyStyles(e.userStyles),i=i??t.body.length;var l=Math.min(a+i,t.body.length),o=-1;return t.body.slice(a,l).forEach(function(c,d){var u=a+d===t.body.length-1,f=bG(e,t,u,r);c.canEntireRowFit(f,n)&&(hh(e,t,c,r,n),o=a+d)}),o}function T3(e,t,a,r){var n=t.settings;e.applyStyles(e.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(i){return hh(e,t,i,a,r)})}function Fke(e,t,a){var r=a.getLineHeight(e.styles.fontSize),n=e.padding("vertical"),i=Math.floor((t-n)/r);return Math.max(0,i)}function Ike(e,t,a,r){var n={};e.spansMultiplePages=!0,e.height=0;for(var i=0,l=0,o=a.columns;l<o.length;l++){var c=o[l],d=e.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var u=new W_(d.raw,d.styles,d.section);u=Yu(u,d),u.text=[];var f=Fke(d,t,r);d.text.length>f&&(u.text=d.text.splice(f,d.text.length));var x=r.scaleFactor(),p=r.getLineHeightFactor();d.contentHeight=d.getContentHeight(x,p),d.contentHeight>=t&&(d.contentHeight=t,u.styles.minCellHeight-=t),d.contentHeight>e.height&&(e.height=d.contentHeight),u.contentHeight=u.getContentHeight(x,p),u.contentHeight>i&&(i=u.contentHeight),n[c.index]=u}}var v=new V_(e.raw,-1,e.section,n,!0);v.height=i;for(var g=0,b=a.columns;g<b.length;g++){var c=b[g],u=v.cells[c.index];u&&(u.height=v.height);var d=e.cells[c.index];d&&(d.height=e.height)}return v}function Bke(e,t,a,r){var n=e.pageSize().height,i=r.settings.margin,l=i.top+i.bottom,o=n-l;t.section==="body"&&(o-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var c=t.getMinimumRowHeight(r.columns,e),d=c<a;if(c>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var u=t.hasRowSpan(r.columns),f=t.getMaxCellHeight(r.columns)>o;return f?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||r.settings.rowPageBreak==="avoid")}function Aw(e,t,a,r,n,i,l){var o=bG(e,t,r,i);if(a.canEntireRowFit(o,l))hh(e,t,a,i,l);else if(Bke(e,a,o,t)){var c=Ike(a,o,t,e);hh(e,t,a,i,l),M1(e,t,n,i,l),Aw(e,t,c,r,n,i,l)}else M1(e,t,n,i,l),Aw(e,t,a,r,n,i,l)}function hh(e,t,a,r,n){r.x=t.settings.margin.left;for(var i=0,l=n;i<l.length;i++){var o=l[i],c=a.cells[o.index];if(!c){r.x+=o.width;continue}e.applyStyles(c.styles),c.x=r.x,c.y=r.y;var d=t.callCellHooks(e,t.hooks.willDrawCell,c,a,o,r);if(d===!1){r.x+=o.width;continue}$ke(e,c,r);var u=c.getTextPos();oG(c.text,u.x,u.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,a,o,r),r.x+=o.width}r.y+=a.height}function $ke(e,t,a){var r=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof r.lineWidth=="number"){var n=hG(r.lineWidth,r.fillColor);n&&e.rect(t.x,a.y,t.width,t.height,n)}else typeof r.lineWidth=="object"&&(r.fillColor&&e.rect(t.x,a.y,t.width,t.height,"F"),Uke(e,t,a,r.lineWidth))}function Uke(e,t,a,r){var n,i,l,o;r.top&&(n=a.x,i=a.y,l=a.x+t.width,o=a.y,r.right&&(l+=.5*r.right),r.left&&(n-=.5*r.left),c(r.top,n,i,l,o)),r.bottom&&(n=a.x,i=a.y+t.height,l=a.x+t.width,o=a.y+t.height,r.right&&(l+=.5*r.right),r.left&&(n-=.5*r.left),c(r.bottom,n,i,l,o)),r.left&&(n=a.x,i=a.y,l=a.x,o=a.y+t.height,r.top&&(i-=.5*r.top),r.bottom&&(o+=.5*r.bottom),c(r.left,n,i,l,o)),r.right&&(n=a.x+t.width,i=a.y,l=a.x+t.width,o=a.y+t.height,r.top&&(i-=.5*r.top),r.bottom&&(o+=.5*r.bottom),c(r.right,n,i,l,o));function c(d,u,f,x,p){e.getDocument().setLineWidth(d),e.getDocument().line(u,f,x,p,"S")}}function bG(e,t,a,r){var n=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&a)&&(n+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-n}function M1(e,t,a,r,n,i){n===void 0&&(n=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return hh(e,t,o,r,n)}),t.callEndPageHooks(e,r);var l=t.settings.margin;uG(e,t,a,r),yG(e),t.pageNumber++,r.x=l.left,r.y=l.top,a.y=l.top,t.callWillDrawPageHooks(e,r),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return hh(e,t,o,r,n)}),e.applyStyles(e.userStyles))}function yG(e){var t=e.pageNumber();e.setPage(t+1);var a=e.pageNumber();return a===t?(e.addPage(),!0):!1}function wG(e){e.API.autoTable=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var r=t[0],n=H_(this,r),i=q_(this,n);return G_(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,a,r,n){oG(t,a,r,n,this)},e.API.autoTableSetDefaults=function(t){return Qp.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,a){Qp.setDefaults(t,a)},e.API.autoTableHtmlToJson=function(t,a){var r;if(a===void 0&&(a=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var n=new Qp(this),i=pG(n,t,window,a,!1),l=i.head,o=i.body,c=((r=l[0])===null||r===void 0?void 0:r.map(function(d){return d.content}))||[];return{columns:c,rows:o,data:o}}}var E3;function RR(e,t){var a=H_(e,t),r=q_(e,a);G_(e,r)}function zke(e,t){var a=H_(e,t);return q_(e,a)}function Hke(e,t){G_(e,t)}try{if(typeof window<"u"&&window){var FR=window,IR=FR.jsPDF||((E3=FR.jspdf)===null||E3===void 0?void 0:E3.jsPDF);IR&&wG(IR)}}catch(e){console.error("Could not apply autoTable plugin",e)}const _w=Object.freeze(Object.defineProperty({__proto__:null,Cell:W_,CellHookData:xG,Column:vG,HookData:Cw,Row:V_,Table:gG,__createTable:zke,__drawTable:Hke,applyPlugin:wG,autoTable:RR,default:RR},Symbol.toStringTag,{value:"Module"})),$g=({active:e,onClick:t,children:a})=>s.jsx("button",{onClick:t,className:`px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm rounded-t-lg transition-all duration-300 whitespace-nowrap border-b-2 ${e?"border-blue-500 text-blue-600 font-medium bg-white/60 dark:bg-gray-800/60 shadow-sm":"border-transparent text-gray-700 dark:text-gray-200 hover:text-blue-600 hover:bg-white/40 dark:hover:bg-gray-800/40"}`,children:a});function Vke(){const{t:e,i18n:t}=Et(),[a,r]=w.useState("personal"),[n,i]=w.useState(!1),l={fullName:"Ibrahim Mohamed",jobTitle:"Sales Manager",department:"Sales",email:"ibrahim@example.com",phone:"+2010XXXXXXX",lang:t.language.startsWith("ar")?"Arabic":"English",tz:"Africa/Cairo",theme:"Dark",notifEmail:!0,notifApp:!0,notifMonthly:!1,notifNewDevice:!0},[o,c]=w.useState(l.fullName),[d,u]=w.useState(l.jobTitle),[f,x]=w.useState(l.department),[p,v]=w.useState(l.email),[g,b]=w.useState(l.phone),[j,N]=w.useState(""),[S,k]=w.useState(""),[A,_]=w.useState(""),[M,L]=w.useState(""),[U,z]=w.useState(""),[O,B]=w.useState(!1),[E,R]=w.useState(!1),[q,I]=w.useState(!1),[G,re]=w.useState(l.notifEmail),[te,X]=w.useState(l.notifApp),[ce,D]=w.useState(l.notifMonthly),[Q,H]=w.useState(l.notifNewDevice),[J,ae]=w.useState(l.lang),[ie,le]=w.useState(l.tz),[Y,oe]=w.useState(l.theme),[xe,W]=w.useState(""),[he,fe]=w.useState(""),[de,Oe]=w.useState("All"),Fe=w.useMemo(()=>{let Je=0;return M.length>=8&&Je++,/[A-Z]/.test(M)&&Je++,/[a-z]/.test(M)&&Je++,/\d/.test(M)&&Je++,/[^A-Za-z0-9]/.test(M)&&Je++,Je},[M]),Ee=w.useMemo(()=>[{date:"2025-11-12",action:"Login",device:"Chrome (Windows)",location:"Cairo, Egypt"},{date:"2025-11-11",action:"Password Change",device:"Edge (Windows)",location:"Giza, Egypt"},{date:"2025-11-09",action:"Login",device:"Safari (iOS)",location:"Alexandria, Egypt"}],[]),se=w.useMemo(()=>Ee.filter(Je=>{const $e=de==="All"||(Je.device||"").toLowerCase().includes(de.toLowerCase()),ze=!xe||Je.date>=xe,Ze=!he||Je.date<=he;return $e&&ze&&Ze}),[Ee,de,xe,he]),_e=()=>{const Je=Jt.json_to_sheet(se),$e=Jt.book_new();Jt.book_append_sheet($e,Je,"SecurityLog"),gs($e,"security_log.xlsx")},je=()=>{const Je=new ha("p","pt","a4");Je.setFontSize(14),Je.text("Security Log",40,40);const $e=[["Date","Action","Device","Location"]],ze=se.map(Ze=>[Ze.date,Ze.action,Ze.device,Ze.location]);Je.autoTable({head:$e,body:ze,startY:60}),Je.save("security_log.pdf")},rt=Je=>{const $e=Je.target.files?.[0];if(!$e)return;N($e);const ze=new FileReader;ze.onload=Ze=>k(Ze.target?.result||""),ze.readAsDataURL($e)},ft=()=>{i(!0),setTimeout(()=>{i(!1)},900)},Bt=()=>{c(l.fullName),u(l.jobTitle),x(l.department),v(l.email),b(l.phone),N(""),k(""),_(""),L(""),z(""),B(!1),R(!1),I(!1),re(l.notifEmail),X(l.notifApp),D(l.notifMonthly),H(l.notifNewDevice),ae(l.lang),le(l.tz),oe(l.theme),W(""),fe(""),Oe("All"),r("personal")};return s.jsxs("div",{className:"rounded-2xl glass-panel w-full overflow-hidden shadow-2xl",children:[s.jsx("div",{className:"px-3 sm:px-4 pt-2 sm:pt-3",children:s.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar",children:[s.jsx($g,{active:a==="personal",onClick:()=>r("personal"),children:e("Personal Info")}),s.jsx($g,{active:a==="account",onClick:()=>r("account"),children:e("Account & Password")}),s.jsx($g,{active:a==="notifications",onClick:()=>r("notifications"),children:e("Notifications")}),s.jsx($g,{active:a==="preferences",onClick:()=>r("preferences"),children:e("Preferences")}),s.jsx($g,{active:a==="log",onClick:()=>r("log"),children:e("Security Log")})]})}),s.jsxs("div",{className:"flex-1 overflow-auto p-3 sm:p-4 md:p-6 space-y-4 sm:space-y-6",children:[a==="personal"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Full Name")}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("input",{disabled:!0,className:"flex-1 bg-transparent outline-none opacity-70 cursor-not-allowed",value:o,onChange:Je=>c(Je.target.value),placeholder:e("Enter full name")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Job Title")}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("input",{disabled:!0,className:"flex-1 bg-transparent outline-none opacity-70 cursor-not-allowed",value:d,onChange:Je=>u(Je.target.value),placeholder:e("Enter job title")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Department")}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("input",{disabled:!0,className:"flex-1 bg-transparent outline-none opacity-70 cursor-not-allowed",value:f,onChange:Je=>x(Je.target.value),placeholder:e("Enter department")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Email")}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("input",{className:"flex-1 bg-transparent outline-none",value:p,onChange:Je=>v(Je.target.value),placeholder:e("Enter email")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Phone")}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("input",{className:"flex-1 bg-transparent outline-none",value:g,onChange:Je=>b(Je.target.value),placeholder:e("Enter phone")})]})]})]}),s.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-white/30 dark:via-gray-700 to-transparent"}),s.jsx("div",{className:"flex items-center gap-4 flex-wrap",children:s.jsxs("div",{className:"relative w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-full overflow-hidden ring-2 ring-white/30",children:[S?s.jsx("img",{src:S,alt:"avatar",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-xl sm:text-2xl",children:""}),s.jsxs("label",{className:"absolute inset-0 bg-black/40 opacity-0 hover:opacity-100 transition flex items-center justify-center text-xs text-white cursor-pointer",children:[e("Update Photo"),s.jsx("input",{type:"file",accept:"image/*",onChange:rt,className:"hidden"})]})]})}),s.jsx("div",{className:"h-4"})]}),a==="account"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Current Password")}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("input",{type:O?"text":"password",className:"flex-1 bg-transparent outline-none",value:A,onChange:Je=>_(Je.target.value),placeholder:e("Enter current password")}),s.jsx("button",{type:"button",className:"text-xs text-blue-600 hover:underline",onClick:()=>B(Je=>!Je),children:e(O?"Hide":"Show")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("New Password")}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("input",{type:E?"text":"password",className:"flex-1 bg-transparent outline-none",value:M,onChange:Je=>L(Je.target.value),placeholder:e("Enter new password")}),s.jsx("button",{type:"button",className:"text-xs text-blue-600 hover:underline",onClick:()=>R(Je=>!Je),children:e(E?"Hide":"Show")})]}),s.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded overflow-hidden",children:s.jsx("div",{className:`h-2 transition-all ${Fe<=2?"bg-red-500":Fe===3?"bg-yellow-500":"bg-emerald-500"}`,style:{width:`${Fe/5*100}%`}})})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Confirm Password")}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("input",{type:q?"text":"password",className:"flex-1 bg-transparent outline-none",value:U,onChange:Je=>z(Je.target.value),placeholder:e("Confirm new password")}),s.jsx("button",{type:"button",className:"text-xs text-blue-600 hover:underline",onClick:()=>I(Je=>!Je),children:e(q?"Hide":"Show")})]}),U&&U!==M&&s.jsx("div",{className:"text-xs text-rose-600",children:e("Passwords don't match")})]})]}),s.jsx("div",{className:"h-4"})]}),a==="notifications"&&s.jsxs("div",{className:"space-y-3",children:[[{key:"email",label:"Email Alerts",state:G,set:re,icon:""},{key:"app",label:"App Notifications",state:te,set:X,icon:""},{key:"reports",label:"Monthly Reports",state:ce,set:D,icon:""},{key:"newdev",label:"Login from new devices",state:Q,set:H,icon:""}].map(Je=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-white/80 dark:bg-gray-800/80 hover:shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-lg",children:Je.icon}),s.jsx("span",{className:"text-sm font-medium",children:e(Je.label)})]}),s.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only",checked:Je.state,onChange:$e=>Je.set($e.target.checked)}),s.jsx("span",{className:`w-10 h-5 flex items-center bg-gray-300 dark:bg-gray-700 rounded-full p-1 ${Je.state?"justify-end":"justify-start"}`,children:s.jsx("span",{className:`w-4 h-4 rounded-full bg-white transition ${Je.state?"shadow-[0_0_0_2px_rgba(59,130,246,0.6)]":""}`})})]})]},Je.key)),s.jsx("div",{className:"h-4"})]}),a==="preferences"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Language")}),s.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:J,onChange:Je=>ae(Je.target.value),children:[s.jsx("option",{children:"English"}),s.jsx("option",{children:"Arabic"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Time Zone")}),s.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:ie,onChange:Je=>le(Je.target.value),children:[s.jsx("option",{children:"Africa/Cairo"}),s.jsx("option",{children:"Asia/Riyadh"}),s.jsx("option",{children:"Europe/London"}),s.jsx("option",{children:"UTC"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Theme")}),s.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:Y,onChange:Je=>oe(Je.target.value),children:[s.jsx("option",{children:"Dark"}),s.jsx("option",{children:"Light"}),s.jsx("option",{children:"Auto"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:s.jsxs("div",{className:"rounded-xl p-4 border bg-white/60 dark:bg-gray-800/60",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Live Preview")}),s.jsxs("div",{className:`rounded-lg h-24 flex items-center justify-center ${Y==="Dark"?"bg-gradient-to-r from-gray-800 to-gray-900 text-white":"bg-gradient-to-r from-gray-100 to-white text-gray-800"}`,children:[Y," Theme"]})]})}),s.jsx("div",{className:"h-4"})]}),a==="log"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Start Date")}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:xe,onChange:Je=>W(Je.target.value)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("End Date")}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:he,onChange:Je=>fe(Je.target.value)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Device")}),s.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:de,onChange:Je=>Oe(Je.target.value),children:[s.jsx("option",{children:"All"}),s.jsx("option",{children:"Chrome"}),s.jsx("option",{children:"Edge"}),s.jsx("option",{children:"Safari"})]})]}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx("button",{className:"px-4 py-2 rounded-lg border bg-white/70 dark:bg-gray-800/70",onClick:_e,children:e("Download Excel")}),s.jsx("button",{className:"px-4 py-2 rounded-lg border bg-white/70 dark:bg-gray-800/70",onClick:je,children:e("Download PDF")})]})]}),s.jsx("div",{className:"h-2"}),s.jsx("div",{className:"overflow-auto -mx-2 sm:-mx-4",children:s.jsxs("table",{className:"nova-table w-full text-sm min-w-[600px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"py-2 px-4",children:e("Date")}),s.jsx("th",{className:"py-2 px-4",children:e("Action")}),s.jsx("th",{className:"py-2 px-4",children:e("Device")}),s.jsx("th",{className:"py-2 px-4",children:e("Location")})]})}),s.jsxs("tbody",{className:"text-gray-800 dark:text-gray-100",children:[s.jsx("tr",{children:s.jsx("td",{className:"py-1",colSpan:"4"})}),se.map((Je,$e)=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-800 hover:bg-white/40 dark:hover:bg-gray-800/40",children:[s.jsx("td",{className:"py-2 px-4",children:Je.date}),s.jsx("td",{className:"py-2 px-4",children:Je.action}),s.jsx("td",{className:"py-2 px-4",children:Je.device}),s.jsx("td",{className:"py-2 px-4",children:Je.location})]},$e)),s.jsx("tr",{children:s.jsx("td",{className:"py-1",colSpan:"4"})})]})]})}),s.jsx("div",{className:"h-4"})]})]}),s.jsxs("div",{className:"px-3 sm:px-4 md:px-6 py-4 border-t border-white/20 dark:border-gray-700 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("Last updated: 2 days ago")}),s.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[s.jsx("button",{className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700",onClick:ft,children:e("Save")}),s.jsx("button",{className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600",onClick:Bt,children:e("Reset")})]})]})]})}function Wke(){const{t:e}=Et();return s.jsx(ea,{children:s.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Profile Settings")})]}),s.jsx(Vke,{})]})})}function qke(){const{t:e}=Et();return s.jsx(ea,{children:s.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Company Settings")})]}),s.jsx(f5e,{})]})})}const Ug=({title:e,icon:t,children:a,defaultOpen:r=!0})=>{const[n,i]=w.useState(r);return s.jsxs("div",{className:"glass-panel rounded-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:t}),s.jsx("h3",{className:"text-lg font-semibold",children:e})]}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>i(l=>!l),children:n?"Collapse":"Expand"})]}),n&&s.jsx("div",{className:"p-4 pt-0",children:a})]})},BR=e=>new Promise((t,a)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=a,r.readAsDataURL(e)}),Gke=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e||""),Kke=e=>/^https?:\/\//i.test(e||""),Yke=e=>/^[+]?([0-9\-\s()]){6,}$/.test(e||"");function Xke(){const{t:e}=Et(),t={companyName:"",tagline:"",businessType:"Real Estate",country:"Egypt",city:"",street:"",zip:"",lat:"",lng:"",phones:[""],whatsapp:"",fax:"",email:"",website:"",social:{facebook:"",instagram:"",linkedin:"",twitter:"",youtube:""},logo:"",favicon:"",publicVisible:!0},[a,r]=w.useState(t),[n,i]=w.useState(null);w.useEffect(()=>{const S=localStorage.getItem("contact-info-settings");if(S)try{r({...t,...JSON.parse(S)})}catch{}},[]),w.useEffect(()=>{const S=()=>l(),k=()=>o();return window.addEventListener("save-contact-info",S),window.addEventListener("reset-contact-info",k),()=>{window.removeEventListener("save-contact-info",S),window.removeEventListener("reset-contact-info",k)}},[a]);const l=()=>{localStorage.setItem("contact-info-settings",JSON.stringify(a)),i({type:"success",message:e("Settings saved")}),setTimeout(()=>i(null),2e3)},o=()=>{r(t),i({type:"success",message:e("Settings reset to default")}),setTimeout(()=>i(null),2e3)},c=(S,k)=>r(A=>({...A,[S]:k})),d=(S,k)=>r(A=>({...A,social:{...A.social,[S]:k}})),u=()=>r(S=>({...S,phones:[...S.phones,""]})),f=(S,k)=>r(A=>({...A,phones:A.phones.map((_,M)=>M===S?k:_)})),x=S=>r(k=>({...k,phones:k.phones.filter((A,_)=>_!==S)})),p=async S=>{const k=await BR(S);c("logo",k)},v=async S=>{const k=await BR(S);c("favicon",k)},g=w.useMemo(()=>a.email&&!Gke(a.email)?e("Invalid email"):"",[a.email,e]),b=w.useMemo(()=>a.website&&!Kke(a.website)?e("Invalid URL (use http/https)"):"",[a.website,e]),j=w.useMemo(()=>a.phones.map(S=>S&&!Yke(S)?e("Invalid phone"):""),[a.phones,e]),N=w.useMemo(()=>{if(a.lat&&a.lng)return`https://www.google.com/maps?q=${a.lat},${a.lng}&z=14&output=embed`;const S=[a.street,a.city,a.country].filter(Boolean).join(", ");return S?`https://www.google.com/maps?q=${encodeURIComponent(S)}&z=14&output=embed`:""},[a.lat,a.lng,a.street,a.city,a.country]);return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ug,{title:e("Company Information"),icon:"",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Company Name")}),s.jsx("input",{className:"input-soft w-full",value:a.companyName,onChange:S=>c("companyName",S.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Tagline / Slogan")}),s.jsx("input",{className:"input-soft w-full",value:a.tagline,onChange:S=>c("tagline",S.target.value),placeholder:e("Optional")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Business Type")}),s.jsx("select",{className:"input-soft w-full",value:a.businessType,onChange:S=>c("businessType",S.target.value),children:["Medical","Real Estate","Marketing","Retail","Education","Other"].map(S=>s.jsx("option",{value:S,children:S},S))})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("label",{className:"text-sm flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:a.publicVisible,onChange:S=>c("publicVisible",S.target.checked)})," ",e("Show contact info publicly")]})})]})}),s.jsxs(Ug,{title:e("Address"),icon:"",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Country")}),s.jsx("select",{className:"input-soft w-full",value:a.country,onChange:S=>c("country",S.target.value),children:["Egypt","Saudi Arabia","UAE","Jordan","Kuwait","Qatar","Other"].map(S=>s.jsx("option",{value:S,children:S},S))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("City")}),s.jsx("input",{className:"input-soft w-full",value:a.city,onChange:S=>c("city",S.target.value)})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"label",children:e("Street Address")}),s.jsx("textarea",{className:"input-soft w-full h-20",value:a.street,onChange:S=>c("street",S.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Zip Code")}),s.jsx("input",{className:"input-soft w-full",value:a.zip,onChange:S=>c("zip",S.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Latitude")}),s.jsx("input",{className:"input-soft w-full",value:a.lat,onChange:S=>c("lat",S.target.value),placeholder:"30.0444"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Longitude")}),s.jsx("input",{className:"input-soft w-full",value:a.lng,onChange:S=>c("lng",S.target.value),placeholder:"31.2357"})]})]})]}),N&&s.jsx("div",{className:"mt-4",children:s.jsx("iframe",{title:"map",src:N,className:"w-full h-56 rounded-xl border border-gray-200 dark:border-gray-800",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]}),s.jsx(Ug,{title:e("Communication"),icon:"",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Phone Numbers")}),s.jsxs("div",{className:"space-y-2",children:[a.phones.map((S,k)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:`input-soft flex-1 ${j[k]?"border-rose-400":""}`,value:S,onChange:A=>f(k,A.target.value),placeholder:e("e.g., +2010XXXXXXX")}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>x(k),disabled:a.phones.length===1,children:e("Remove")})]},k)),j.some(Boolean)&&s.jsx("div",{className:"text-xs text-rose-600",children:e("Please check phone formats")}),s.jsx("button",{className:"btn btn-primary btn-sm",onClick:u,children:e("Add Phone")})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("WhatsApp Number")}),s.jsx("input",{className:"input-soft w-full",value:a.whatsapp,onChange:S=>c("whatsapp",S.target.value),placeholder:e("e.g., +2010XXXXXXX")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Fax")}),s.jsx("input",{className:"input-soft w-full",value:a.fax,onChange:S=>c("fax",S.target.value),placeholder:e("Optional")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Email")}),s.jsx("input",{className:`input-soft w-full ${g?"border-rose-400":""}`,value:a.email,onChange:S=>c("email",S.target.value),placeholder:e("e.g., support@example.com")}),g&&s.jsx("div",{className:"text-xs text-rose-600 mt-1",children:g})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Website URL")}),s.jsx("input",{className:`input-soft w-full ${b?"border-rose-400":""}`,value:a.website,onChange:S=>c("website",S.target.value),placeholder:e("e.g., https://example.com")}),b&&s.jsx("div",{className:"text-xs text-rose-600 mt-1",children:b})]})]})]})}),s.jsx(Ug,{title:e("Social Links"),icon:"",defaultOpen:!1,children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"facebook",label:"Facebook",icon:""},{key:"instagram",label:"Instagram",icon:""},{key:"linkedin",label:"LinkedIn",icon:""},{key:"twitter",label:"X (Twitter)",icon:""},{key:"youtube",label:"YouTube",icon:""}].map(S=>s.jsxs("div",{children:[s.jsxs("label",{className:"label flex items-center gap-2",children:[s.jsx("span",{children:S.icon})," ",e(S.label)]}),s.jsx("input",{className:"input-soft w-full",value:a.social[S.key],onChange:k=>d(S.key,k.target.value),placeholder:e("Profile URL")})]},S.key))})}),s.jsxs(Ug,{title:e("Upload Assets"),icon:"",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-start",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Company Logo")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:S=>S.target.files?.[0]&&p(S.target.files[0])}),a.logo&&s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>c("logo",""),children:e("Remove")})]}),a.logo&&s.jsx("div",{className:"mt-2 w-40 h-40 rounded-xl overflow-hidden border",children:s.jsx("img",{src:a.logo,alt:"logo",className:"w-full h-full object-contain bg-white"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Favicon")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:S=>S.target.files?.[0]&&v(S.target.files[0])}),a.favicon&&s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>c("favicon",""),children:e("Remove")})]}),a.favicon&&s.jsx("div",{className:"mt-2 w-16 h-16 rounded-xl overflow-hidden border",children:s.jsx("img",{src:a.favicon,alt:"favicon",className:"w-full h-full object-contain bg-white"})})]})]}),s.jsx("div",{className:"text-xs text-[var(--muted-text)] mt-2",children:e("Logo and favicon will auto-preview and be used across the system.")})]}),n&&s.jsx("div",{className:`fixed top-4 right-4 z-50 px-3 py-2 rounded-lg shadow-lg ${n.type==="success"?"bg-emerald-600 text-white":"bg-rose-600 text-white"}`,children:n.message})]})}function Qke(){const{t:e}=Et(),t=()=>{window.dispatchEvent(new Event("save-contact-info"))},a=()=>{window.dispatchEvent(new Event("reset-contact-info"))},r=s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-primary btn-sm",onClick:t,children:e("Save Changes")}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:a,children:e("Reset to Default")})]});return s.jsx(ea,{title:e("Contact Info Settings"),actions:r,children:s.jsx("div",{className:"p-3 sm:p-4",children:s.jsx(Xke,{})})})}function Jke(){const{t:e}=Et();return s.jsx(ea,{children:s.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("System Preferences")})]}),s.jsx(v5e,{})]})})}function Zke(){const{t:e}=Et();return s.jsx(ea,{children:s.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Modules Settings")})]}),s.jsx(g5e,{})]})})}function eCe(){const{t:e}=Et();return s.jsx(ea,{children:s.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Security Settings")})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[s.jsx("button",{className:"w-full sm:w-auto btn btn-primary",children:e("Save Changes")}),s.jsx("button",{className:"btn btn-glass p-2","aria-label":"Notifications",children:s.jsx("span",{role:"img","aria-hidden":!0,children:""})}),s.jsx("button",{className:"btn btn-glass p-2","aria-label":"Alerts",children:s.jsx("span",{role:"img","aria-hidden":!0,children:""})})]})]}),s.jsx(b5e,{})]})})}function tCe(){return s.jsx(ea,{title:"Custom Fields",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-3",children:"Custom Fields"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"Configure custom fields across entities."})]})})}function aCe(){return s.jsx(ea,{title:"Audit Logs",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-3",children:"Audit Logs"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"Review system changes and activities."})]})})}function rCe(){const{t:e}=Et();return s.jsx(ea,{children:s.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Billing & Subscription")})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[s.jsx("button",{className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700",children:"Add New Subscription"}),s.jsx("button",{className:"p-2 rounded-lg border bg-white/60 dark:bg-gray-800/60 hover:bg-white",children:""}),s.jsx("button",{className:"p-2 rounded-lg border bg-white/60 dark:bg-gray-800/60 hover:bg-white",children:""})]})]}),s.jsx(x5e,{})]})})}function sCe(){return s.jsx(ea,{title:"Payment History",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-3",children:"Payment History"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"View invoices and payments."})]})})}function nCe(){const{t:e}=Et(),{subscription:t}=zj(),a=w.useMemo(()=>{const l=t?.plan_name||t?.plan||t?.name||"Free";return String(l).trim()},[t]),r=[{key:"Free",title:e("Starter"),price:e("$0 / mo"),features:[e("Basic CRM and leads"),e("Limited modules access"),e("Community support")],action:e("Stay on Free")},{key:"Pro",title:e("Pro"),price:e("$29 / mo"),features:[e("All core modules"),e("Notifications & Templates"),e("Basic reports")],action:e("Upgrade to Pro"),recommended:!0},{key:"Enterprise",title:e("Enterprise"),price:e("Contact us"),features:[e("Advanced reports and analytics"),e("Custom fields and audit logs"),e("Priority support & SLA")],action:e("Talk to Sales")}],n=["Free","Pro","Enterprise"],i=n.indexOf(a)===-1?0:n.indexOf(a);return s.jsx(ea,{children:s.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-indigo-500 to-purple-600 rounded-full"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Plans & Upgrade")})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[s.jsx(xr,{to:"/settings/billing/subscription",className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700",children:e("View Subscription")}),s.jsx(xr,{to:"/pricing",className:"p-2 rounded-lg border bg-white/60 dark:bg-gray-800/60 hover:bg-white",children:e("Pricing")})]})]}),s.jsx("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:e("Current Plan")}),s.jsx("div",{className:"text-lg font-semibold",children:a||e("Unknown")})]}),s.jsx(xr,{to:"/pricing",className:"text-sm px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700",children:e("See all plans")})]})}),s.jsx("div",{className:"grid gap-4 sm:gap-6 sm:grid-cols-2 md:grid-cols-3",children:r.map((l,o)=>{const c=n[o]===a,d=o<=i;return s.jsxs("div",{className:`rounded-lg border p-5 ${l.recommended?"border-indigo-500 shadow-md":"border-gray-200 dark:border-gray-700"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-xl font-semibold",children:l.title}),l.recommended&&s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-indigo-600 text-white",children:e("Recommended")})]}),s.jsx("div",{className:"text-2xl font-bold mb-3",children:l.price}),s.jsx("ul",{className:"space-y-2 text-sm mb-4",children:l.features.map(u=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:u})]},u))}),c?s.jsx("button",{className:"w-full px-4 py-2 rounded-md bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 cursor-default",disabled:!0,children:e("Current")}):s.jsx(xr,{to:l.key==="Enterprise"?"/welcome/contact":"/pricing",className:`w-full inline-flex justify-center px-4 py-2 rounded-md ${d?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"}`,"aria-disabled":d,children:l.action})]},l.key)})}),s.jsx("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 p-3 sm:p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:e("Need a custom package or have compliance requirements?")}),s.jsx(xr,{to:"/welcome/contact",className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700",children:e("Contact Sales")})]})})]})})}function iCe(){return s.jsx(ea,{title:"API Keys",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-3",children:"API Keys"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"Manage API keys for integrations."})]})})}function lCe(){return s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-3",children:"Webhooks"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"Configure webhook endpoints and events."})]})}const D3=({open:e,title:t,children:a,onClose:r,onConfirm:n,confirmText:i="Confirm"})=>e?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:r}),s.jsxs("div",{className:"relative w-full max-w-xl glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:t}),s.jsx("button",{className:"btn btn-glass",onClick:r,children:"Cancel"})]}),s.jsx("div",{children:a}),s.jsxs("div",{className:"mt-5 flex items-center justify-end gap-2",children:[s.jsx("button",{className:"btn btn-glass",onClick:r,children:"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:n,children:i})]})]})]}):null,n2=()=>s.jsx("span",{role:"img","aria-label":"WhatsApp",children:""}),oCe=()=>s.jsx("span",{role:"img","aria-label":"Send",children:""}),cCe=()=>s.jsx("span",{role:"img","aria-label":"Refresh",children:""});function dCe(){const[e,t]=w.useState("Meta API"),[a,r]=w.useState(""),[n,i]=w.useState(""),[l,o]=w.useState(""),[c,d]=w.useState(""),[u,f]=w.useState(""),[x,p]=w.useState("disconnected"),[v,g]=w.useState(""),[b,j]=w.useState(0),[N,S]=w.useState([{id:"wa-otp",name:"OTP Auth",category:"Authentication",language:"en",status:"Approved",body:"Hi {{name}}, your WhatsApp verification code is {{otp}}."},{id:"wa-pay",name:"Payment Confirmation",category:"Utility",language:"en",status:"Pending",body:"Dear {{name}}, we received {{amount}} on {{date}}."},{id:"wa-promo",name:"Promo Offer",category:"Marketing",language:"en",status:"Rejected",body:"Hi {{name}}, check our new offers today!"}]),[k,A]=w.useState(!1),[_,M]=w.useState(null),[L,U]=w.useState(""),[z,O]=w.useState("Marketing"),[B,E]=w.useState("en"),[R,q]=w.useState(""),[I,G]=w.useState({open:!1,tpl:null}),[re,te]=w.useState({registration:{enabled:!0,template:"wa-otp"},payment:{enabled:!0,template:"wa-pay"},expiry:{enabled:!1,template:"wa-promo"},newNote:{enabled:!1,template:"wa-promo"}}),[X,ce]=w.useState(""),[D,Q]=w.useState("wa-otp"),[H,J]=w.useState(null),[ae,ie]=w.useState([]),[le,Y]=w.useState(""),[oe,xe]=w.useState("All"),[W,he]=w.useState(""),[fe,de]=w.useState(""),[Oe,Fe]=w.useState(1),Ee=5,[se,_e]=w.useState([{id:"ar-hello",keyword:"hello",message:"Hello! How can we help you?",status:"Active"}]),[je,rt]=w.useState(!1),[ft,Bt]=w.useState(null),[Je,$e]=w.useState(""),[ze,Ze]=w.useState(""),[dt,At]=w.useState("Active"),[kt,Dt]=w.useState(null);w.useEffect(()=>{const Be=localStorage.getItem("wa-settings");if(Be)try{const st=JSON.parse(Be);t(st.provider||"Meta API"),r(st.apiKey||""),i(st.apiSecret||""),o(st.businessNumber||""),d(st.businessId||""),f(st.webhookUrl||""),p(st.connStatus||"disconnected"),j(st.monthlyCount||0),S(st.templates||[]),te(st.triggers||re),_e(st.autoReplies||se)}catch{}},[]),w.useEffect(()=>{const Be=()=>zt();return window.addEventListener("save-wa-settings",Be),()=>window.removeEventListener("save-wa-settings",Be)},[]);const zt=()=>{const Be={provider:e,apiKey:a,apiSecret:n,businessNumber:l,businessId:c,webhookUrl:u,connStatus:x,monthlyCount:b,templates:N,triggers:re,autoReplies:se};localStorage.setItem("wa-settings",JSON.stringify(Be)),Dt({type:"success",message:"Settings saved."}),setTimeout(()=>Dt(null),2e3)},qt=()=>{const Be=e&&a&&n&&l;p(Be?"connected":"failed"),g(Be?"Connected to WhatsApp API.":"Failed to connect. Check inputs."),Be&&j(st=>st+1),setTimeout(()=>g(""),3500)},Te=()=>{M(null),U(""),O("Marketing"),E("en"),q(""),A(!0)},$t=()=>{const Be=L.trim(),st=R.trim();if(!Be||!st){Dt({type:"error",message:"Please fill all fields."}),setTimeout(()=>Dt(null),2e3);return}if(_)S(Nt=>Nt.map(yt=>yt.id===_.id?{...yt,name:Be,category:z,language:B,body:st,updatedAt:new Date().toLocaleString()}:yt)),Dt({type:"success",message:"Template updated."});else{const Nt="wa-"+Be.toLowerCase().replace(/\s+/g,"-")+"-"+Math.random().toString(36).slice(2);S(yt=>[{id:Nt,name:Be,category:z,language:B,status:"Pending",body:st,updatedAt:new Date().toLocaleString()},...yt]),Dt({type:"success",message:"Template added."})}setTimeout(()=>Dt(null),2e3),A(!1)},We=Be=>G({open:!0,tpl:Be}),Ut=()=>{const Be=I.tpl;S(st=>st.filter(Nt=>Nt.id!==Be.id)),G({open:!1,tpl:null}),Dt({type:"success",message:"Template deleted."}),setTimeout(()=>Dt(null),2e3)},Vt=(Be,st)=>te(Nt=>({...Nt,[Be]:{...Nt[Be],enabled:st}})),fa=(Be,st)=>te(Nt=>({...Nt,[Be]:{...Nt[Be],template:st}})),Ka=()=>{const Be=N.find(Nt=>Nt.id===D),st=!!Be&&!!X&&x==="connected";J({type:st?"success":"failed",message:st?"Test message sent.":"Failed to send."}),ie(Nt=>[{id:Math.random().toString(36).slice(2),recipient:X||"N/A",template:Be?.name||"N/A",status:st?"Delivered":"Failed",at:new Date().toLocaleString()},...Nt]),setTimeout(()=>J(null),3e3)},Oa=w.useMemo(()=>ae.filter(Be=>{const st=!le||Be.recipient.toLowerCase().includes(le.trim().toLowerCase()),Nt=oe==="All"||Be.status===oe,yt=!W||new Date(Be.at)>=new Date(W),ta=!fe||new Date(Be.at)<=new Date(fe);return st&&Nt&&yt&&ta}),[ae,le,oe,W,fe]),oa=Math.max(1,Math.ceil(Oa.length/Ee)),Ba=Oa.slice((Oe-1)*Ee,Oe*Ee);return w.useEffect(()=>{Oe>oa&&Fe(1)},[oa,Oe]),s.jsxs("div",{className:"",children:[s.jsxs("div",{className:"glass-panel rounded-2xl p-4 mb-6 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(n2,{}),s.jsx("h3",{className:"text-lg font-semibold",children:"WhatsApp Connection"})]}),s.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${x==="connected"?"bg-emerald-100 text-emerald-700":x==="failed"?"bg-rose-100 text-rose-700":"bg-gray-100 text-gray-700"}`,children:x==="connected"?"Connected":"Disconnected"})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(n2,{}),s.jsx("h3",{className:"text-lg font-semibold",children:"Integration Setup"})]}),s.jsxs("button",{className:"btn btn-primary",onClick:qt,children:[s.jsx(cCe,{})," Test Connection"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Provider"}),s.jsxs("select",{className:"input-soft w-full",value:e,onChange:Be=>t(Be.target.value),children:[s.jsx("option",{children:"Meta API"}),s.jsx("option",{children:"Twilio"}),s.jsx("option",{children:"360Dialog"}),s.jsx("option",{children:"WATI"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Business Number"}),s.jsx("input",{className:"input-soft w-full",value:l,onChange:Be=>o(Be.target.value),placeholder:"e.g., +201234567890"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"API Key"}),s.jsx("input",{className:"input-soft w-full",value:a,onChange:Be=>r(Be.target.value),placeholder:"API Key"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"API Secret"}),s.jsx("input",{className:"input-soft w-full",value:n,onChange:Be=>i(Be.target.value),placeholder:"API Secret"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"WhatsApp Business ID"}),s.jsx("input",{className:"input-soft w-full",value:c,onChange:Be=>d(Be.target.value),placeholder:"Business ID"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Webhook URL"}),s.jsx("input",{className:"input-soft w-full",value:u,onChange:Be=>f(Be.target.value),placeholder:"https://example.com/webhook"})]})]}),v&&s.jsx("div",{className:`mt-4 text-sm px-3 py-2 rounded-md ${x==="connected"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:v})]}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"WhatsApp Templates"}),s.jsx("button",{className:"btn btn-primary",onClick:Te,children:"Add New Template"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full table-auto text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[s.jsx("th",{className:"px-4 py-3 text-left",children:"Template Name"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Category"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Language"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Actions"})]})}),s.jsx("tbody",{children:N.length===0?s.jsx("tr",{children:s.jsx("td",{className:"px-4 py-4 text-center text-gray-500",colSpan:5,children:"No templates"})}):N.map(Be=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[s.jsx("td",{className:"px-4 py-2",children:Be.name}),s.jsx("td",{className:"px-4 py-2",children:Be.category}),s.jsx("td",{className:"px-4 py-2",children:Be.language}),s.jsx("td",{className:`px-4 py-2 font-medium ${Be.status==="Approved"?"text-emerald-600":Be.status==="Pending"?"text-amber-600":"text-rose-600"}`,children:Be.status}),s.jsxs("td",{className:"px-4 py-2 flex items-center gap-1",children:[s.jsxs("button",{className:"btn btn-glass btn-sm text-xs scale-90",onClick:()=>q(Be.body),children:[s.jsx(n2,{})," Preview"]}),s.jsx("button",{className:"btn btn-danger btn-sm text-xs scale-90",onClick:()=>We(Be),children:"Delete"})]})]},Be.id))})]})})]}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Message Triggers"}),s.jsxs("div",{className:"text-sm text-[var(--muted-text)]",children:["Monthly messages: ",b]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"registration",label:"New Registration"},{key:"payment",label:"Payment Confirmation"},{key:"expiry",label:"Subscription Expiry"},{key:"newNote",label:"New Note Added"}].map(Be=>s.jsxs("div",{className:"rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-medium",children:Be.label}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:!!re[Be.key]?.enabled,onChange:st=>Vt(Be.key,st.target.checked)})," Enable"]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("label",{className:"block text-sm mb-1",children:"Template"}),s.jsx("select",{className:"input-soft w-full",value:re[Be.key]?.template,onChange:st=>fa(Be.key,st.target.value),children:N.map(st=>s.jsx("option",{value:st.id,children:st.name},st.id))})]})]},Be.key))})]}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsxs("div",{id:"test-wa",className:"glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(oCe,{}),s.jsx("h3",{className:"text-lg font-semibold",children:"Test WhatsApp Message"})]}),s.jsx("button",{className:"btn btn-primary",onClick:Ka,children:"Send Test Message"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Phone Number"}),s.jsx("input",{className:"input-soft w-full",value:X,onChange:Be=>ce(Be.target.value),placeholder:"e.g., +201234567890"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Template"}),s.jsx("select",{className:"input-soft w-full",value:D,onChange:Be=>Q(Be.target.value),children:N.map(Be=>s.jsx("option",{value:Be.id,children:Be.name},Be.id))})]})]}),H&&s.jsx("div",{className:`mt-4 text-sm px-3 py-2 rounded-md ${H.type==="success"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:H.message})]}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(n2,{}),s.jsx("h3",{className:"text-lg font-semibold",children:"Logs"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"input-soft",placeholder:"Search recipient",value:le,onChange:Be=>Y(Be.target.value)}),s.jsxs("select",{className:"input-soft",value:oe,onChange:Be=>xe(Be.target.value),children:[s.jsx("option",{children:"All"}),s.jsx("option",{children:"Delivered"}),s.jsx("option",{children:"Read"}),s.jsx("option",{children:"Failed"})]}),s.jsx("input",{type:"date",className:"input-soft",value:W,onChange:Be=>he(Be.target.value)}),s.jsx("input",{type:"date",className:"input-soft",value:fe,onChange:Be=>de(Be.target.value)})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full table-auto text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[s.jsx("th",{className:"px-4 py-3 text-left",children:"Recipient"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Template"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Date & Time"})]})}),s.jsx("tbody",{children:Ba.length===0?s.jsx("tr",{children:s.jsx("td",{className:"px-4 py-4 text-center text-gray-500",colSpan:4,children:"No logs found"})}):Ba.map(Be=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[s.jsx("td",{className:"px-4 py-2",children:Be.recipient}),s.jsx("td",{className:"px-4 py-2",children:Be.template}),s.jsx("td",{className:`px-4 py-2 font-medium ${Be.status==="Delivered"?"text-emerald-600":Be.status==="Read"?"text-blue-600":"text-rose-600"}`,children:Be.status}),s.jsx("td",{className:"px-4 py-2",children:Be.at})]},Be.id))})]})}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:["Showing ",Ba.length," of ",Oa.length]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-glass btn-sm",disabled:Oe===1,onClick:()=>Fe(Be=>Math.max(1,Be-1)),children:"Prev"}),s.jsx("button",{className:"btn btn-glass btn-sm",disabled:Oe===oa,onClick:()=>Fe(Be=>Math.min(oa,Be+1)),children:"Next"})]})]})]}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Auto Replies"}),s.jsx("button",{className:"btn btn-primary",onClick:()=>{Bt(null),$e(""),Ze(""),At("Active"),rt(!0)},children:"Add New Auto Reply"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full table-auto text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[s.jsx("th",{className:"px-4 py-3 text-left",children:"Keyword"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Auto Reply Message"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Actions"})]})}),s.jsx("tbody",{children:se.length===0?s.jsx("tr",{children:s.jsx("td",{className:"px-4 py-4 text-center text-gray-500",colSpan:4,children:"No auto replies"})}):se.map(Be=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[s.jsx("td",{className:"px-4 py-2",children:Be.keyword}),s.jsx("td",{className:"px-4 py-2",children:Be.message}),s.jsx("td",{className:`px-4 py-2 font-medium ${Be.status==="Active"?"text-emerald-600":"text-rose-600"}`,children:Be.status}),s.jsxs("td",{className:"px-4 py-2 flex items-center gap-1",children:[s.jsx("button",{className:"btn btn-glass btn-sm text-xs scale-90",onClick:()=>{Bt(Be),$e(Be.keyword),Ze(Be.message),At(Be.status),rt(!0)},children:"Edit"}),s.jsx("button",{className:"btn btn-danger btn-sm text-xs scale-90",onClick:()=>_e(st=>st.filter(Nt=>Nt.id!==Be.id)),children:"Delete"})]})]},Be.id))})]})})]}),s.jsx(D3,{open:k,title:_?"Edit Template":"Add New Template",onClose:()=>A(!1),onConfirm:$t,confirmText:"Save Template",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Template Name"}),s.jsx("input",{className:"input-soft w-full",value:L,onChange:Be=>U(Be.target.value),placeholder:"e.g., Payment Confirmation"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Category"}),s.jsxs("select",{className:"input-soft w-full",value:z,onChange:Be=>O(Be.target.value),children:[s.jsx("option",{children:"Marketing"}),s.jsx("option",{children:"Utility"}),s.jsx("option",{children:"Authentication"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Language"}),s.jsxs("select",{className:"input-soft w-full",value:B,onChange:Be=>E(Be.target.value),children:[s.jsx("option",{children:"en"}),s.jsx("option",{children:"ar"}),s.jsx("option",{children:"fr"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Body Message"}),s.jsx("textarea",{className:"input-soft w-full h-32",value:R,onChange:Be=>q(Be.target.value),placeholder:"Hi {{name}}, your verification code is {{otp}}."}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)] mt-1",children:["Supports placeholders like ","{{name}}",", ","{{amount}}",", ","{{date}}",", ","{{otp}}","."]})]})]})}),s.jsx(D3,{open:I.open,title:"Confirm Delete",onClose:()=>G({open:!1,tpl:null}),onConfirm:Ut,confirmText:"Delete",children:s.jsxs("p",{className:"text-sm",children:["Are you sure you want to delete template ",s.jsx("span",{className:"font-semibold",children:I.tpl?.name}),"?"]})}),s.jsx(D3,{open:je,title:ft?"Edit Auto Reply":"Add New Auto Reply",onClose:()=>rt(!1),onConfirm:()=>{const Be=Je.trim(),st=ze.trim();if(!Be||!st){Dt({type:"error",message:"Please fill all fields."}),setTimeout(()=>Dt(null),2e3);return}if(ft)_e(Nt=>Nt.map(yt=>yt.id===ft.id?{...yt,keyword:Be,message:st,status:dt}:yt));else{const Nt="ar-"+Be.toLowerCase().replace(/\s+/g,"-")+"-"+Math.random().toString(36).slice(2);_e(yt=>[{id:Nt,keyword:Be,message:st,status:dt},...yt])}rt(!1),Dt({type:"success",message:"Auto reply saved."}),setTimeout(()=>Dt(null),2e3)},confirmText:"Save",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Keyword"}),s.jsx("input",{className:"input-soft w-full",value:Je,onChange:Be=>$e(Be.target.value),placeholder:"e.g., hello"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Auto Reply Message"}),s.jsx("textarea",{className:"input-soft w-full h-28",value:ze,onChange:Be=>Ze(Be.target.value),placeholder:"Hello! How can we help you?"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Status"}),s.jsxs("select",{className:"input-soft w-full",value:dt,onChange:Be=>At(Be.target.value),children:[s.jsx("option",{children:"Active"}),s.jsx("option",{children:"Inactive"})]})]})]})}),kt&&s.jsx("div",{className:`fixed top-4 right-4 z-50 px-3 py-2 rounded-lg shadow-lg ${kt.type==="success"?"bg-emerald-600 text-white":"bg-rose-600 text-white"}`,children:kt.message})]})}function uCe(){const{t:e}=Et(),t=()=>{const a=new Event("save-wa-settings");window.dispatchEvent(a)};return s.jsx(ea,{title:e("WhatsApp Settings"),children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:e("WhatsApp Settings")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-primary",onClick:t,children:e("Save Changes")}),s.jsx("a",{href:"#test-wa",className:"btn btn-glass",children:e("Test Connection")})]})]}),s.jsx(dCe,{})]})})}function hCe(){return s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-3",children:"Payment Gateway Integration"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"Setup payment gateway providers."})]})}function fCe(){return s.jsx(ea,{title:"Google / Slack Integrations",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-3",children:"Google / Slack Integrations"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"Configure Google Workspace and Slack integrations."})]})})}function mCe(){const{t:e}=Et(),[t,a]=w.useState(null),[r,n]=w.useState("customers"),[i,l]=w.useState(!0),[o,c]=w.useState(!1),[d,u]=w.useState("idle"),[f,x]=w.useState(1),[p,v]=w.useState([]),[g,b]=w.useState([]),[j,N]=w.useState({}),[S,k]=w.useState(null),A=w.useRef(null),_=w.useMemo(()=>["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],[]),M=w.useMemo(()=>({customers:["id","name","phone","email","status"],leads:["id","name","phone","source","status"],products:["id","name","sku","price","stock"],users:["id","name","email","role"],projects:["id","name","city","status"],properties:["id","type","area","price"]}),[]),L=async E=>{const R=await E.arrayBuffer(),q=xm(R,{type:"array"}),I=q.SheetNames[0],G=q.Sheets[I],re=Jt.sheet_to_json(G,{header:i?1:0});let te=[],X=[];if(i)te=(re[0]||[]).map(D=>String(D||"").trim()),X=(re.slice(1)||[]).map(D=>{const Q={};return te.forEach((H,J)=>{Q[H]=D[J]}),Q});else{const D=Math.max(...re.map(Q=>Q.length));te=Array.from({length:D},(Q,H)=>`C${H+1}`),X=re.map(Q=>{const H={};return te.forEach((J,ae)=>{H[J]=Q[ae]}),H})}v(te),b(X);const ce={};te.forEach((D,Q)=>{ce[D]=M[r][Q]||""}),N(ce),x(2)},U=w.useCallback(async E=>{if(E){if(!(_.includes(E.type)||E.name.endsWith(".csv")||E.name.endsWith(".xlsx"))){u("error");return}if(E.size>10*1024*1024){u("error");return}a(E),u("idle"),await L(E)}},[_,i,r]),z=E=>{E.preventDefault();const R=E.dataTransfer?.files?.[0];U(R)},O=async()=>{try{u("processing");const E=await ga.post("/api/import",{module:r,rows:g,mapping:j,updateExisting:o});k(E.data),u("success"),x(4)}catch{u("error")}},B=()=>{a(null),v([]),b([]),N({}),k(null),u("idle"),x(1)};return s.jsx(ea,{title:e("Import Data"),children:s.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold",children:e("Import Data")}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:e("import.uploadDescription")})]})}),s.jsx("div",{className:"flex gap-2 text-xs",children:[1,2,3,4].map(E=>s.jsx("div",{className:`px-2 py-1 rounded ${f===E?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"}`,children:e(E===1?"Upload":E===2?"Preview":E===3?"Mapping":"Summary")},E))}),f===1&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[s.jsx("h3",{className:"text-base font-semibold mb-3",children:e("import.uploadFile")}),s.jsx("div",{onDragOver:E=>E.preventDefault(),onDrop:z,className:"border-2 border-dashed border-gray-500/40 rounded-xl p-6 text-center hover:border-blue-500/60 transition",children:t?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"text-sm",children:[t.name,"  ",(t.size/1024).toFixed(1)," KB"]}),s.jsx("div",{className:"flex items-center justify-center gap-3",children:s.jsx("button",{className:"px-3 py-2 rounded-lg bg-gray-700 text-white",onClick:B,children:e("Remove")})})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm mb-2",children:e("import.dropHint")}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",onClick:()=>A.current?.click(),children:e("import.chooseFile")}),s.jsx("input",{ref:A,type:"file",accept:".csv,.xlsx",className:"hidden",onChange:E=>U(E.target.files?.[0])})]})}),s.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)]",children:e("import.supportedFormats")})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-5 space-y-3",children:[s.jsx("h3",{className:"text-base font-semibold",children:e("Settings")}),s.jsx("label",{className:"block text-sm",children:e("import.target")}),s.jsxs("select",{value:r,onChange:E=>n(E.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"customers",children:e("Customers")}),s.jsx("option",{value:"leads",children:e("Leads")}),s.jsx("option",{value:"products",children:e("Products")}),s.jsx("option",{value:"users",children:e("Users")}),s.jsx("option",{value:"projects",children:e("Projects")}),s.jsx("option",{value:"properties",children:e("Properties")})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("input",{id:"hasHeader",type:"checkbox",checked:i,onChange:E=>l(E.target.checked)}),s.jsx("label",{htmlFor:"hasHeader",className:"text-sm",children:e("import.hasHeader")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"updateExisting",type:"checkbox",checked:o,onChange:E=>c(E.target.checked)}),s.jsx("label",{htmlFor:"updateExisting",className:"text-sm",children:e("import.updateExisting")})]}),s.jsxs("div",{className:"pt-2 flex items-center gap-3",children:[s.jsx("button",{disabled:!t,onClick:()=>x(2),className:`px-3 py-2 rounded-lg ${t?"bg-green-600 hover:bg-green-700":"bg-gray-600 cursor-not-allowed"} text-white`,children:e("Next")}),d==="error"&&s.jsx("span",{className:"text-sm text-red-400",children:e("import.unsupportedType")})]})]})]}),f===2&&s.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-base font-semibold",children:e("Preview")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"px-3 py-2 rounded bg-gray-700 text-white",onClick:()=>x(1),children:e("Back")}),s.jsx("button",{className:"px-3 py-2 rounded bg-blue-600 text-white",onClick:()=>x(3),children:e("Next")})]})]}),s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsx("tr",{children:p.map(E=>s.jsx("th",{className:"px-3 py-2 text-left",children:E},E))})}),s.jsx("tbody",{children:g.slice(0,20).map((E,R)=>s.jsx("tr",{className:"border-t border-gray-700/40",children:p.map(q=>s.jsx("td",{className:"px-3 py-2",children:String(E[q]??"")},q))},R))})]})})]}),f===3&&s.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-base font-semibold",children:e("Mapping")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"px-3 py-2 rounded bg-gray-700 text-white",onClick:()=>x(2),children:e("Back")}),s.jsx("button",{className:"px-3 py-2 rounded bg-green-600 text-white",onClick:O,children:e("Confirm Import")})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map(E=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-1/2",children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("Column")}),s.jsx("div",{className:"text-sm",children:E})]}),s.jsxs("div",{className:"w-1/2",children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("Map to field")}),s.jsxs("select",{value:j[E]||"",onChange:R=>N(q=>({...q,[E]:R.target.value})),className:"input-soft w-full",children:[s.jsx("option",{value:"",children:""}),(M[r]||[]).map(R=>s.jsx("option",{value:R,children:R},R))]})]})]},E))})]}),f===4&&s.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-base font-semibold",children:e("Summary")}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{className:"px-3 py-2 rounded bg-gray-700 text-white",onClick:B,children:e("Start New")})})]}),d==="processing"&&s.jsx("span",{className:"text-sm text-blue-400",children:e("import.processing")}),d==="error"&&s.jsx("span",{className:"text-sm text-red-400",children:e("Error")}),S&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("New Records")}),s.jsx("div",{className:"text-2xl font-semibold",children:S.newRecords})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("Updated Records")}),s.jsx("div",{className:"text-2xl font-semibold",children:S.updatedRecords})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("Failed Rows")}),s.jsx("div",{className:"text-2xl font-semibold",children:S.failedCount})]})]})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[s.jsx("h3",{className:"text-base font-semibold mb-2",children:e("import.formatGuidelines")}),s.jsxs("ul",{className:"text-sm list-disc pl-5 space-y-1 text-[var(--muted-text)]",children:[s.jsx("li",{children:e("import.guidelineUtf8")}),s.jsx("li",{children:e("import.guidelineColumns")}),s.jsx("li",{children:e("import.guidelineHeaders")})]})]})]})})}function pCe(){const[e,t]=w.useState("customers"),[a,r]=w.useState("csv"),[n,i]=w.useState("idle"),[l,o]=w.useState(!1),[c,d]=w.useState(""),[u,f]=w.useState(""),[x,p]=w.useState("all"),[v,g]=w.useState(""),[b,j]=w.useState(""),N=async()=>{try{i("processing"),j("");const S={dateFrom:c,dateTo:u,status:x,assignedTo:v},k=await ga.post("/api/export",{module:e,format:a,filters:S}),{url:A}=k.data||{};A&&(j(A),window.open(A,"_blank")),i("success")}catch{i("error")}};return s.jsx(ea,{title:"Export",children:s.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Export Data"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"     CSV/XLSX."})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-5 space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Dataset"}),s.jsxs("select",{value:e,onChange:S=>t(S.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"customers",children:"Customers"}),s.jsx("option",{value:"leads",children:"Leads"}),s.jsx("option",{value:"products",children:"Products"}),s.jsx("option",{value:"users",children:"Users"}),s.jsx("option",{value:"projects",children:"Projects"}),s.jsx("option",{value:"properties",children:"Properties"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Format"}),s.jsxs("select",{value:a,onChange:S=>r(S.target.value),className:"input-soft w-[200px]",children:[s.jsx("option",{value:"csv",children:"CSV"}),s.jsx("option",{value:"xlsx",children:"XLSX"})]})]}),s.jsx("div",{children:s.jsx("button",{className:"text-xs text-blue-400",onClick:()=>o(S=>!S),children:l?"Hide Export Options":"Show Export Options"})}),l&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Date From"}),s.jsx("input",{type:"date",value:c,onChange:S=>d(S.target.value),className:"input-soft w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Date To"}),s.jsx("input",{type:"date",value:u,onChange:S=>f(S.target.value),className:"input-soft w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Status"}),s.jsxs("select",{value:x,onChange:S=>p(S.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"}),s.jsx("option",{value:"new",children:"New"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Assigned User/Team"}),s.jsx("input",{type:"text",placeholder:"e.g. Ahmed / Team A",value:v,onChange:S=>g(S.target.value),className:"input-soft w-full"})]})]}),s.jsxs("div",{className:"pt-2 flex items-center gap-3",children:[s.jsx("button",{onClick:N,className:"px-3 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:""}),n==="processing"&&s.jsx("span",{className:"text-sm text-blue-400",children:" ..."}),n==="success"&&s.jsx("span",{className:"text-sm text-green-400",children:"  ."}),n==="error"&&s.jsx("span",{className:"text-sm text-red-400",children:"   ."}),b&&s.jsx("a",{href:b,target:"_blank",rel:"noreferrer",className:"text-xs text-blue-300 underline",children:" "})]})]})]})})}function xCe(){const[e,t]=w.useState([]),[a,r]=w.useState(!1),[n,i]=w.useState({frequency:"daily",time:"02:00"}),[l,o]=w.useState(!1),c=async()=>{try{const x=await ga.get("/api/backups");t(x.data.items||[])}catch{}};w.useEffect(()=>{c()},[]);const d=async()=>{try{r(!0);const p=(await ga.post("/api/backups",{name:"full-backup"})).data.item;t(v=>[p,...v])}catch{}r(!1)},u=async x=>{try{await ga.delete(`/api/backups/${x}`),t(p=>p.filter(v=>v.id!==x))}catch{}},f=async()=>{try{o(!0),await ga.post("/api/backups/schedule",n)}catch{}o(!1)};return s.jsx(ea,{title:"Backup Management",children:s.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Backup Management"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"        ."})]}),s.jsx("button",{onClick:d,disabled:a,className:`px-3 py-2 rounded-lg ${a?"bg-gray-600":"bg-green-600 hover:bg-green-700"} text-white`,children:a?"Generating":"Generate Full Backup"})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[s.jsx("h3",{className:"text-base font-semibold mb-3",children:"Available Backups"}),e.length===0?s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"No backups yet."}):s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left",children:"Name"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Date"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Size"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Actions"})]})}),s.jsx("tbody",{children:e.map(x=>s.jsxs("tr",{className:"border-t border-gray-700/40",children:[s.jsx("td",{className:"px-3 py-2",children:x.name}),s.jsx("td",{className:"px-3 py-2",children:new Date(x.date).toLocaleString()}),s.jsxs("td",{className:"px-3 py-2",children:[Math.round((x.size||0)/1024)," KB"]}),s.jsxs("td",{className:"px-3 py-2 flex gap-2",children:[s.jsx("a",{href:x.url,target:"_blank",rel:"noreferrer",className:"text-blue-400 underline",children:"Download"}),s.jsx("button",{onClick:()=>u(x.id),className:"text-red-400",children:"Delete"})]})]},x.id))})]})})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[s.jsx("h3",{className:"text-base font-semibold mb-3",children:"Scheduled Backups"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Frequency"}),s.jsxs("select",{value:n.frequency,onChange:x=>i(p=>({...p,frequency:x.target.value})),className:"input-soft w-full",children:[s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Time"}),s.jsx("input",{type:"time",value:n.time,onChange:x=>i(p=>({...p,time:x.target.value})),className:"input-soft w-full"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:f,disabled:l,className:`px-3 py-2 rounded-lg ${l?"bg-gray-600":"bg-blue-600 hover:bg-blue-700"} text-white`,children:"Save Schedule"})})]})]})]})})}const i2=["Leads","CIL","Brokers","Clients","Orders","Marketing","Reports"],M3=["OnLoad","OnSave","OnChange"];function gCe({value:e,onChange:t}){return s.jsx("textarea",{className:"w-full h-56 md:h-64 text-sm font-mono bg-gray-900 text-gray-100 p-3 rounded-xl border border-gray-800 outline-none resize-y focus:ring-2 focus:ring-indigo-500/50",value:e,onChange:a=>t(a.target.value),placeholder:`// JavaScript
// Use context objects like lead, currentUser, preventSave()`,spellCheck:!1})}function $R(e){try{let t=String(e||"");return t=t.replace(/javascript:/gi,""),t}catch{return String(e||"")}}function vCe(){const{t:e}=Et(),[t,a]=w.useState(()=>{try{return JSON.parse(localStorage.getItem("crm.scripts")||"[]")}catch{return[]}}),[r,n]=w.useState(""),[i,l]=w.useState(""),[o,c]=w.useState(""),[d,u]=w.useState(!1),[f,x]=w.useState(null),[p,v]=w.useState(null),[g,b]=w.useState(!1);w.useEffect(()=>{const _=()=>{x({id:null,name:"",module:i2[0],trigger:M3[0],description:"",code:"",status:"Active"}),u(!0)};return window.addEventListener("open-add-script-modal",_),()=>window.removeEventListener("open-add-script-modal",_)},[]);const j=w.useMemo(()=>t.filter(_=>!i||_.module===i).filter(_=>!o||_.status===o).filter(_=>!r||_.name?.toLowerCase().includes(r.toLowerCase())||_.description?.toLowerCase().includes(r.toLowerCase())).sort((_,M)=>new Date(M.updated_at||M.created_at||0)-new Date(_.updated_at||_.created_at||0)),[t,r,i,o]),N=_=>{a(M=>{const L=M.filter(U=>U.id!==_);try{localStorage.setItem("crm.scripts",JSON.stringify(L))}catch{}return L})},S=_=>{x({..._}),u(!0)},k=_=>v(_),A=()=>{if(!f)return;const _=new Date().toISOString(),M={...f};M.code=$R(M.code),M.id||(M.id="scr_"+Date.now(),M.created_at=_),M.updated_at=_,M.updated_by="Admin",a(L=>{const z=L.some(O=>O.id===M.id)?L.map(O=>O.id===M.id?M:O):[M,...L];try{localStorage.setItem("crm.scripts",JSON.stringify(z))}catch{}return z}),b(!0),setTimeout(()=>b(!1),1800),u(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx("input",{className:"input",placeholder:e("Search by name or description"),value:r,onChange:_=>n(_.target.value)}),s.jsxs("select",{className:"input",value:i,onChange:_=>l(_.target.value),children:[s.jsx("option",{value:"",children:e("All Modules")}),i2.map(_=>s.jsx("option",{value:_,children:e(_)},_))]}),s.jsxs("select",{className:"input",value:o,onChange:_=>c(_.target.value),children:[s.jsx("option",{value:"",children:e("All Status")}),s.jsx("option",{value:"Active",children:e("Active")}),s.jsx("option",{value:"Inactive",children:e("Inactive")})]}),s.jsx("button",{className:"btn btn-secondary btn-sm ml-auto",onClick:()=>{x({id:null,name:"",module:i2[0],trigger:M3[0],description:"",code:"",status:"Active"}),u(!0)},children:e("Add New Script")}),g&&s.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[s.jsx("span",{children:""}),s.jsx("span",{className:"text-sm",children:e("Saved successfully")})]})]}),s.jsx("div",{className:"rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden bg-white dark:bg-gray-900",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left",children:e("Script Name")}),s.jsx("th",{className:"px-4 py-2 text-left",children:e("Target Module")}),s.jsx("th",{className:"px-4 py-2 text-left",children:e("Trigger Type")}),s.jsx("th",{className:"px-4 py-2 text-left",children:e("Status")}),s.jsx("th",{className:"px-4 py-2 text-left",children:e("Last Modified")}),s.jsx("th",{className:"px-4 py-2 text-right",children:e("Actions")})]})}),s.jsxs("tbody",{children:[j.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-gray-500",children:e("No scripts found")})}),j.map(_=>s.jsxs("tr",{className:"border-t border-gray-100 dark:border-gray-800",children:[s.jsx("td",{className:"px-4 py-2",children:_.name}),s.jsx("td",{className:"px-4 py-2",children:e(_.module)}),s.jsx("td",{className:"px-4 py-2",children:e(_.trigger)}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs ${_.status==="Active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"}`,children:e(_.status)})}),s.jsx("td",{className:"px-4 py-2",children:new Date(_.updated_at||_.created_at||Date.now()).toLocaleString()}),s.jsx("td",{className:"px-4 py-2 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>k(_),children:e("Preview")}),s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>S(_),children:e("Edit")}),s.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>N(_.id),children:e("Delete")})]})})]},_.id))]})]})}),d&&f&&s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-start justify-center pt-20 md:pt-28",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>u(!1)}),s.jsxs("div",{className:"relative w-[96%] max-w-2xl bg-white dark:bg-gray-900 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:f?.id?e("Edit Script"):e("Add New Script")}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>u(!1),children:e("Cancel")})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-[180px]",children:[s.jsx("label",{className:"label",children:e("Target Module")}),s.jsx("select",{className:"input bg-gray-100 dark:bg-gray-800",value:f.module,onChange:_=>x(M=>({...M,module:_.target.value})),children:i2.map(_=>s.jsx("option",{value:_,children:e(_)},_))})]}),s.jsxs("div",{className:"flex-1 min-w-[220px]",children:[s.jsx("label",{className:"label",children:e("Trigger Type")}),s.jsx("div",{className:"flex items-center gap-2 p-1 rounded-xl bg-gray-100 dark:bg-gray-800",children:M3.map(_=>s.jsx("button",{className:`px-3 py-1 rounded-lg text-sm ${f.trigger===_?"bg-indigo-600 text-white":"bg-transparent text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,onClick:()=>x(M=>({...M,trigger:_})),type:"button",children:e(_)},_))})]}),s.jsxs("div",{className:"min-w-[160px]",children:[s.jsx("label",{className:"label",children:e("Status")}),s.jsx("button",{type:"button",onClick:()=>x(_=>({..._,status:_.status==="Active"?"Inactive":"Active"})),className:`px-4 py-2 rounded-lg text-sm ${f.status==="Active"?"bg-green-600 text-white":"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:e(f.status)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Script Name")}),s.jsx("input",{className:"input",placeholder:e("Enter a concise script name"),value:f.name,onChange:_=>x(M=>({...M,name:_.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Description")}),s.jsx("textarea",{className:"input",rows:2,value:f.description,onChange:_=>x(M=>({...M,description:_.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Code")}),s.jsx(gCe,{value:f.code,onChange:_=>x(M=>({...M,code:_}))})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"btn btn-primary btn-sm",disabled:!f.name?.trim(),onClick:A,children:e("Save")}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>u(!1),children:e("Cancel")})]})]})]})]}),p&&s.jsxs("div",{className:"fixed inset-0 z-[90] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>v(null)}),s.jsxs("div",{className:"relative w-[96%] h-[90vh] bg-white dark:bg-gray-900 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("strong",{children:e("Sandbox Preview")}),s.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[p.name,"  ",e(p.module),"  ",e(p.trigger)]})]}),s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>v(null),children:e("Close")})]}),s.jsx("iframe",{title:"script-sandbox",className:"w-full h-full",srcDoc:`<!doctype html><html><head><meta charset="utf-8"><title>Sandbox</title></head><body>
                <div style="font-family: ui-sans-serif, system-ui; padding: 12px; color: #374151">
                  <h2 style="margin:0 0 8px">Preview: ${p.name}</h2>
                  <p style="margin:0 0 10px; color:#6b7280">Module: ${p.module}  Trigger: ${p.trigger}</p>
                  <pre style="padding:8px; border:1px solid #e5e7eb; border-radius:8px; background:#f9fafb">Open the console to see effects.</pre>
                </div>
                <script>
                  try {
                    window.sandboxContext = {
                      currentUser: { id: 'admin_1', role: 'Admin', name: 'Ibrahim' },
                      lead: { id: 'lead_001', name: 'Test Lead', phone: '' },
                      preventSave: function() { console.warn('preventSave() called'); alert('Save prevented by script.'); }
                    };
                    (function(context) {
                      ${$R(p.code)}
                    })(window.sandboxContext);
                  } catch (e) { console.error('Script error:', e); }
                <\/script>
              </body></html>`})]})]})]})}function bCe(){const{t:e}=Et(),t=()=>{window.dispatchEvent(new Event("open-add-script-modal"))};return s.jsx(ea,{children:s.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-indigo-500 to-purple-600 rounded-full"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Scripting Settings")}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mt-1",children:e("Manage custom scripts and logic that control system behavior dynamically.")})]})]}),s.jsx("button",{className:"btn btn-secondary btn-sm w-full sm:w-auto",onClick:t,children:e("Add New Script")})]}),s.jsx(vCe,{})]})})}const jG="eoi.settings";async function yCe(){try{const e=await fetch("/api/eoi/settings");if(e.ok)return await e.json()||{}}catch{}try{const e=typeof window<"u"?window.localStorage.getItem(jG):null;if(e)return JSON.parse(e)}catch{}return RC()}async function UR(e){try{if((await fetch("/api/eoi/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return!0}catch{}try{if(typeof window<"u")return window.localStorage.setItem(jG,JSON.stringify(e)),!0}catch{}return!1}function RC(){return{general:{enabled:!0,defaultStatus:"Pending",autoConvertToLead:!1,defaultBrokerId:"",linkToCil:!0,linkToSales:!0,workflow:[{key:"Pending",color:"#94a3b8"},{key:"Verified",color:"#22c55e"},{key:"Converted",color:"#3b82f6"},{key:"Closed",color:"#64748b"}],defaultWorkflowStatus:"Pending"},sources:[{id:"website",name:"Website",active:!0,requiresCil:!1,autoConvertToSales:!1,notes:""},{id:"broker",name:"Broker",active:!0,requiresCil:!0,autoConvertToSales:!0,notes:"Broker entries require CIL verification."},{id:"facebook_ads",name:"Facebook Ads",active:!0,requiresCil:!1,autoConvertToSales:!1,notes:""},{id:"manual",name:"Manual Entry",active:!0,requiresCil:!1,autoConvertToSales:!1,notes:""}],fields:[{key:"name",label:"Name",required:!0,type:"text",validation:"min:2"},{key:"phone",label:"Phone",required:!0,type:"phone",validation:"phone"},{key:"email",label:"Email",required:!1,type:"email",validation:"email"},{key:"budget",label:"Budget",required:!1,type:"number",validation:"min:0"},{key:"propertyType",label:"Property Type",required:!1,type:"select",validation:"",options:["Apartment","Villa","Townhouse"]},{key:"location",label:"Location",required:!1,type:"text",validation:""},{key:"notes",label:"Notes",required:!1,type:"textarea",validation:"max:1000"}],notifications:{recipients:["Admin"],methods:{email:!0,inApp:!0,sms:!1},messages:{newEoi:"New EOI received for {{name}}",convertedLead:"EOI converted to Lead: {{leadId}}",createdCil:"CIL record created for broker {{brokerId}}",salesOpportunity:"Sales Opportunity created: Stage {{stage}}"}},cilIntegration:{autoGenerateOnLead:!0,verificationRequired:!0,defaultStatus:"Pending",mapping:{brokerId:"eoi.broker",leadId:"lead.id",customerInfo:"eoi.customer_data"}},salesIntegration:{autoCreateOpportunity:!0,defaultStage:"New",defaultSalesRepId:"",valueMapping:"eoi.budget",notesMapping:"eoi.notes"}}}function wCe(){const{t:e,i18n:t}=Et(),a=w.useMemo(()=>t.dir()==="rtl",[t]),[r,n]=w.useState(!0),[i,l]=w.useState(!1),[o,c]=w.useState(RC()),[d,u]=w.useState("general"),[f,x]=w.useState([{id:"b1",name:"Broker A"},{id:"b2",name:"Broker B"}]),[p,v]=w.useState([{id:"s1",name:"Sales Rep 1"},{id:"s2",name:"Sales Rep 2"}]);w.useEffect(()=>{let k=!0;return(async()=>{const A=await yCe();k&&(c(_=>({..._,...A})),n(!1))})(),()=>{k=!1}},[]);const g=[{key:"general",label:e("General")},{key:"sources",label:e("Sources")},{key:"fields",label:e("Fields")},{key:"notifications",label:e("Notifications")},{key:"cil",label:e("CIL Integration")},{key:"sales",label:e("Sales Integration")}],b=(k,A)=>{c(_=>{const M={..._},L=k.split(".");let U=M;for(let z=0;z<L.length-1;z++)U[L[z]]={...U[L[z]]},U=U[L[z]];return U[L[L.length-1]]=A,M})},j=async()=>{l(!0),await UR(o),l(!1)},N=async()=>{const k=RC();c(k),await UR(k)},S=(k,A)=>{c(_=>{const M=[..._.general.workflow],L=k+A;if(L<0||L>=M.length)return _;const[U]=M.splice(k,1);return M.splice(L,0,U),{..._,general:{..._.general,workflow:M}}})};return r?s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"text-[var(--muted-text)]",children:[e("Loading"),"..."]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(k=>s.jsx("button",{className:`btn btn-outline btn-sm ${d===k.key?"bg-primary text-white":""}`,onClick:()=>u(k.key),children:k.label},k.key))}),d==="general"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Enable EOI System")}),s.jsx("input",{type:"checkbox",checked:o.general.enabled,onChange:k=>b("general.enabled",k.target.checked)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Status")}),s.jsx("select",{className:"input",value:o.general.defaultStatus,onChange:k=>b("general.defaultStatus",k.target.value),children:["Pending","Approved","Rejected"].map(k=>s.jsx("option",{value:k,children:e(k)},k))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-convert EOI to Lead")}),s.jsx("input",{type:"checkbox",checked:o.general.autoConvertToLead,onChange:k=>b("general.autoConvertToLead",k.target.checked)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Assigned Broker")}),s.jsxs("select",{className:"input",value:o.general.defaultBrokerId,onChange:k=>b("general.defaultBrokerId",k.target.value),children:[s.jsx("option",{value:"",children:e("None")}),f.map(k=>s.jsx("option",{value:k.id,children:k.name},k.id))]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Link EOI to CIL Module")}),s.jsx("input",{type:"checkbox",checked:o.general.linkToCil,onChange:k=>b("general.linkToCil",k.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Link EOI to Sales Module")}),s.jsx("input",{type:"checkbox",checked:o.general.linkToSales,onChange:k=>b("general.linkToSales",k.target.checked)})]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("h3",{className:"text-base font-semibold mb-2",children:e("Workflow Settings")}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Workflow Status")}),s.jsx("select",{className:"input",value:o.general.defaultWorkflowStatus,onChange:k=>b("general.defaultWorkflowStatus",k.target.value),children:o.general.workflow.map(k=>s.jsx("option",{value:k.key,children:e(k.key)},k.key))})]})}),s.jsx("div",{className:"mt-3 space-y-2",children:o.general.workflow.map((k,A)=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"w-32",children:e(k.key)}),s.jsx("input",{type:"color",value:k.color,onChange:_=>{c(M=>{const L=M.general.workflow.map((U,z)=>z===A?{...U,color:_.target.value}:U);return{...M,general:{...M.general,workflow:L}}})}}),s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-glass btn-xs",onClick:()=>S(A,-1),children:a?"":""}),s.jsx("button",{className:"btn btn-glass btn-xs",onClick:()=>S(A,1),children:a?"":""})]})]},k.key))})]})]}),d==="sources"&&s.jsx("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-4",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"p-2",children:e("Source Name")}),s.jsx("th",{className:"p-2",children:e("Active")}),s.jsx("th",{className:"p-2",children:e("Requires CIL")}),s.jsx("th",{className:"p-2",children:e("Auto Convert to Sales")}),s.jsx("th",{className:"p-2",children:e("Notes")})]})}),s.jsx("tbody",{children:o.sources.map((k,A)=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-2",children:e(k.name)}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"checkbox",checked:k.active,onChange:_=>c(M=>{const L=[...M.sources];return L[A]={...k,active:_.target.checked},{...M,sources:L}})})}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"checkbox",checked:k.requiresCil,onChange:_=>c(M=>{const L=[...M.sources];return L[A]={...k,requiresCil:_.target.checked},{...M,sources:L}})})}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"checkbox",checked:k.autoConvertToSales,onChange:_=>c(M=>{const L=[...M.sources];return L[A]={...k,autoConvertToSales:_.target.checked},{...M,sources:L}})})}),s.jsx("td",{className:"p-2",children:s.jsx("input",{className:"input",value:k.notes,onChange:_=>c(M=>{const L=[...M.sources];return L[A]={...k,notes:_.target.value},{...M,sources:L}})})})]},k.id))})]})})}),d==="fields"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-4",children:[o.fields.map((k,A)=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-end",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Field")}),s.jsx("input",{className:"input",value:k.label,onChange:_=>c(M=>{const L=[...M.fields];return L[A]={...k,label:_.target.value},{...M,fields:L}})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Required")}),s.jsx("input",{type:"checkbox",checked:k.required,onChange:_=>c(M=>{const L=[...M.fields];return L[A]={...k,required:_.target.checked},{...M,fields:L}})})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Input Type")}),s.jsx("select",{className:"input",value:k.type,onChange:_=>c(M=>{const L=[...M.fields];return L[A]={...k,type:_.target.value},{...M,fields:L}}),children:["text","email","phone","number","select","textarea"].map(_=>s.jsx("option",{value:_,children:_},_))})]}),k.type==="select"?s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Options (comma separated)")}),s.jsx("input",{className:"input",value:(k.options||[]).join(", "),onChange:_=>c(M=>{const L=[...M.fields];return L[A]={...k,options:_.target.value.split(",").map(U=>U.trim()).filter(Boolean)},{...M,fields:L}})})]}):s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Validation Rule")}),s.jsx("input",{className:"input",value:k.validation||"",onChange:_=>c(M=>{const L=[...M.fields];return L[A]={...k,validation:_.target.value},{...M,fields:L}})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>c(_=>({..._,fields:_.fields.filter((M,L)=>L!==A)})),children:e("Delete")})})]},k.key)),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>c(k=>({...k,fields:[...k.fields,{key:`field_${k.fields.length+1}`,label:"Custom Field",required:!1,type:"text",validation:""}]})),children:e("Add Field")})})]}),d==="notifications"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Recipients")}),s.jsx("select",{multiple:!0,className:"input",value:o.notifications.recipients,onChange:k=>{const A=Array.from(k.target.selectedOptions).map(_=>_.value);b("notifications.recipients",A)},children:["Admin","Broker","Sales Manager","All"].map(k=>s.jsx("option",{value:k,children:e(k)},k))})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Methods")}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:o.notifications.methods.email,onChange:k=>b("notifications.methods",{...o.notifications.methods,email:k.target.checked})})," Email"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:o.notifications.methods.inApp,onChange:k=>b("notifications.methods",{...o.notifications.methods,inApp:k.target.checked})})," In-App"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:o.notifications.methods.sms,onChange:k=>b("notifications.methods",{...o.notifications.methods,sms:k.target.checked})})," SMS"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Message: New EOI")}),s.jsx("textarea",{className:"input h-24",value:o.notifications.messages.newEoi,onChange:k=>b("notifications.messages",{...o.notifications.messages,newEoi:k.target.value})})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Message: Converted to Lead")}),s.jsx("textarea",{className:"input h-24",value:o.notifications.messages.convertedLead,onChange:k=>b("notifications.messages",{...o.notifications.messages,convertedLead:k.target.value})})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Message: Created CIL")}),s.jsx("textarea",{className:"input h-24",value:o.notifications.messages.createdCil,onChange:k=>b("notifications.messages",{...o.notifications.messages,createdCil:k.target.value})})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Message: Sales Opportunity Generated")}),s.jsx("textarea",{className:"input h-24",value:o.notifications.messages.salesOpportunity,onChange:k=>b("notifications.messages",{...o.notifications.messages,salesOpportunity:k.target.value})})]})]})]}),d==="cil"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-generate CIL on Lead")}),s.jsx("input",{type:"checkbox",checked:o.cilIntegration.autoGenerateOnLead,onChange:k=>b("cilIntegration.autoGenerateOnLead",k.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("CIL Verification Required Before Sale")}),s.jsx("input",{type:"checkbox",checked:o.cilIntegration.verificationRequired,onChange:k=>b("cilIntegration.verificationRequired",k.target.checked)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default CIL Status")}),s.jsx("select",{className:"input",value:o.cilIntegration.defaultStatus,onChange:k=>b("cilIntegration.defaultStatus",k.target.value),children:["Pending","Verified"].map(k=>s.jsx("option",{value:k,children:e(k)},k))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Mapping: Broker ID")}),s.jsx("input",{className:"input",value:o.cilIntegration.mapping.brokerId,onChange:k=>b("cilIntegration.mapping",{...o.cilIntegration.mapping,brokerId:k.target.value})})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Mapping: Lead ID")}),s.jsx("input",{className:"input",value:o.cilIntegration.mapping.leadId,onChange:k=>b("cilIntegration.mapping",{...o.cilIntegration.mapping,leadId:k.target.value})})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Mapping: Customer Info")}),s.jsx("input",{className:"input",value:o.cilIntegration.mapping.customerInfo,onChange:k=>b("cilIntegration.mapping",{...o.cilIntegration.mapping,customerInfo:k.target.value})})]})]})]}),d==="sales"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-create Sales Opportunity")}),s.jsx("input",{type:"checkbox",checked:o.salesIntegration.autoCreateOpportunity,onChange:k=>b("salesIntegration.autoCreateOpportunity",k.target.checked)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Assign Default Sales Stage")}),s.jsx("select",{className:"input",value:o.salesIntegration.defaultStage,onChange:k=>b("salesIntegration.defaultStage",k.target.value),children:["New","Negotiation","Closed Won","Closed Lost"].map(k=>s.jsx("option",{value:k,children:e(k)},k))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-assign Sales Rep")}),s.jsxs("select",{className:"input",value:o.salesIntegration.defaultSalesRepId,onChange:k=>b("salesIntegration.defaultSalesRepId",k.target.value),children:[s.jsx("option",{value:"",children:e("None")}),p.map(k=>s.jsx("option",{value:k.id,children:k.name},k.id))]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Link EOI Budget  Opportunity Value")}),s.jsx("input",{className:"input",value:o.salesIntegration.valueMapping,onChange:k=>b("salesIntegration.valueMapping",k.target.value)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Notes Mapping")}),s.jsx("input",{className:"input",value:o.salesIntegration.notesMapping,onChange:k=>b("salesIntegration.notesMapping",k.target.value)})]})]})]}),s.jsxs("div",{className:"sticky bottom-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur border-t p-4 flex items-center justify-end gap-2 rounded-t-2xl",children:[s.jsx("button",{className:"btn btn-glass",onClick:N,children:e("Reset to Default")}),s.jsx("button",{className:"btn btn-primary",onClick:j,disabled:i,children:e(i?"Saving...":"Save Changes")})]})]})}function jCe(){const{t:e}=Et();return s.jsx(ea,{title:e("EOI Settings"),children:s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:e("EOI Settings")}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("Manage Expression of Interest and integration with CIL & Sales modules.")})]}),s.jsx("div",{className:"text-xs text-[var(--muted-text)] bg-gray-100 dark:bg-gray-800 px-3 py-1 rounded-full",children:e("Admin Only")})]}),s.jsx(wCe,{})]})})}const NG="reservation.settings";function FC(){return{general:{enabled:!0,defaultStatus:"Pending",defaultDurationMin:30,defaultAssigneeId:"",timezone:"Africa/Cairo",workingHours:{mon:{enabled:!0,from:"09:00",to:"17:00"},tue:{enabled:!0,from:"09:00",to:"17:00"},wed:{enabled:!0,from:"09:00",to:"17:00"},thu:{enabled:!0,from:"09:00",to:"17:00"},fri:{enabled:!0,from:"10:00",to:"16:00"},sat:{enabled:!1,from:"00:00",to:"00:00"},sun:{enabled:!1,from:"00:00",to:"00:00"}}},sources:[{id:"website",name:"Website",enabled:!0,autoAssignId:""},{id:"app",name:"Mobile App",enabled:!0,autoAssignId:""},{id:"manual",name:"Manual Entry",enabled:!0,autoAssignId:""}],notifications:{recipients:{admin:!0,broker:!0,customer:!0},methods:{email:!0,sms:!1,inApp:!0},messages:{pending:"Reservation pending for {{customer}} at {{datetime}}",confirmed:"Reservation confirmed: {{datetime}}",completed:"Reservation completed, thank you!",cancelled:"Reservation cancelled. Contact us to reschedule."}},rules:{maxPerDayPerStaff:12,minNoticeMinutes:120,allowReschedule:!0,allowCancel:!0,autoConvertToLead:!1},integration:{eoiToLeadAutoReservation:!0,onCompleteTriggerSales:!0,onCompleteCreateCil:!1}}}async function NCe(){try{const e=await fetch("/api/reservation/settings");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem(NG):null;if(e)return JSON.parse(e)}catch{}return FC()}async function zR(e){try{if((await fetch("/api/reservation/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return!0}catch{}try{if(typeof window<"u")return window.localStorage.setItem(NG,JSON.stringify(e)),!0}catch{}return!1}function SCe(){const{t:e,i18n:t}=Et();w.useMemo(()=>t.dir()==="rtl",[t]);const[a,r]=w.useState(!0),[n,i]=w.useState(!1),[l,o]=w.useState(FC()),[c,d]=w.useState("general"),[u]=w.useState([{id:"st1",name:"Staff A"},{id:"st2",name:"Staff B"},{id:"bk1",name:"Broker X"}]);w.useEffect(()=>{let g=!0;return(async()=>{const b=await NCe();g&&(o(j=>({...j,...b})),r(!1))})(),()=>{g=!1}},[]);const f=[{key:"general",label:e("General Settings")},{key:"sources",label:e("Reservation Sources")},{key:"notifications",label:e("Notifications")},{key:"rules",label:e("Workflow & Rules")}],x=(g,b)=>{o(j=>{const N={...j},S=g.split(".");let k=N;for(let A=0;A<S.length-1;A++)k[S[A]]={...k[S[A]]},k=k[S[A]];return k[S[S.length-1]]=b,N})},p=async()=>{i(!0),await zR(l),i(!1)},v=async()=>{const g=FC();o(g),await zR(g)};return a?s.jsxs("div",{className:"p-4 text-[var(--muted-text)]",children:[e("Loading"),"..."]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(g=>s.jsx("button",{className:`btn btn-outline btn-sm ${c===g.key?"bg-primary text-white":""}`,onClick:()=>d(g.key),children:g.label},g.key))}),c==="general"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Enable Reservation System")}),s.jsx("input",{type:"checkbox",checked:l.general.enabled,onChange:g=>x("general.enabled",g.target.checked)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Reservation Status")}),s.jsx("select",{className:"input",value:l.general.defaultStatus,onChange:g=>x("general.defaultStatus",g.target.value),children:["Pending","Confirmed","Cancelled","Completed"].map(g=>s.jsx("option",{value:g,children:e(g)},g))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Reservation Duration (min)")}),s.jsx("input",{type:"number",min:5,className:"input",value:l.general.defaultDurationMin,onChange:g=>x("general.defaultDurationMin",parseInt(g.target.value||"0",10))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Assigned Staff / Broker")}),s.jsxs("select",{className:"input",value:l.general.defaultAssigneeId,onChange:g=>x("general.defaultAssigneeId",g.target.value),children:[s.jsx("option",{value:"",children:e("None")}),u.map(g=>s.jsx("option",{value:g.id,children:g.name},g.id))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Timezone")}),s.jsx("input",{className:"input",value:l.general.timezone,onChange:g=>x("general.timezone",g.target.value)})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-semibold mb-2",children:e("Working Hours")}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(l.general.workingHours).map(([g,b])=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"w-24 capitalize",children:e(g)}),s.jsx("input",{type:"checkbox",checked:b.enabled,onChange:j=>o(N=>({...N,general:{...N.general,workingHours:{...N.general.workingHours,[g]:{...b,enabled:j.target.checked}}}}))}),s.jsx("input",{type:"time",className:"input",value:b.from,onChange:j=>o(N=>({...N,general:{...N.general,workingHours:{...N.general.workingHours,[g]:{...b,from:j.target.value}}}}))}),s.jsx("span",{children:""}),s.jsx("input",{type:"time",className:"input",value:b.to,onChange:j=>o(N=>({...N,general:{...N.general,workingHours:{...N.general.workingHours,[g]:{...b,to:j.target.value}}}}))})]},g))})]})]}),c==="sources"&&s.jsx("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-4",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"p-2",children:e("Source")}),s.jsx("th",{className:"p-2",children:e("Enabled")}),s.jsx("th",{className:"p-2",children:e("Auto-Assign Staff")})]})}),s.jsx("tbody",{children:l.sources.map((g,b)=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-2",children:e(g.name)}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"checkbox",checked:g.enabled,onChange:j=>o(N=>{const S=[...N.sources];return S[b]={...g,enabled:j.target.checked},{...N,sources:S}})})}),s.jsx("td",{className:"p-2",children:s.jsxs("select",{className:"input",value:g.autoAssignId||"",onChange:j=>o(N=>{const S=[...N.sources];return S[b]={...g,autoAssignId:j.target.value},{...N,sources:S}}),children:[s.jsx("option",{value:"",children:e("None")}),u.map(j=>s.jsx("option",{value:j.id,children:j.name},j.id))]})})]},g.id))})]})})}),c==="notifications"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Recipients")}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.recipients.admin,onChange:g=>x("notifications.recipients",{...l.notifications.recipients,admin:g.target.checked})})," Admin"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.recipients.broker,onChange:g=>x("notifications.recipients",{...l.notifications.recipients,broker:g.target.checked})})," Broker"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.recipients.customer,onChange:g=>x("notifications.recipients",{...l.notifications.recipients,customer:g.target.checked})})," Customer"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Methods")}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.methods.email,onChange:g=>x("notifications.methods",{...l.notifications.methods,email:g.target.checked})})," Email"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.methods.sms,onChange:g=>x("notifications.methods",{...l.notifications.methods,sms:g.target.checked})})," SMS"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.methods.inApp,onChange:g=>x("notifications.methods",{...l.notifications.methods,inApp:g.target.checked})})," In-App"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["pending","confirmed","completed","cancelled"].map(g=>s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e(`Message: ${g.charAt(0).toUpperCase()+g.slice(1)}`)}),s.jsx("textarea",{className:"input h-24",value:l.notifications.messages[g],onChange:b=>x("notifications.messages",{...l.notifications.messages,[g]:b.target.value})})]},g))})]}),c==="rules"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Max Reservations Per Day / Staff")}),s.jsx("input",{type:"number",min:1,className:"input",value:l.rules.maxPerDayPerStaff,onChange:g=>x("rules.maxPerDayPerStaff",parseInt(g.target.value||"0",10))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Minimum Notice Time (minutes)")}),s.jsx("input",{type:"number",min:0,className:"input",value:l.rules.minNoticeMinutes,onChange:g=>x("rules.minNoticeMinutes",parseInt(g.target.value||"0",10))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Allow Rescheduling")}),s.jsx("input",{type:"checkbox",checked:l.rules.allowReschedule,onChange:g=>x("rules.allowReschedule",g.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Allow Cancellation")}),s.jsx("input",{type:"checkbox",checked:l.rules.allowCancel,onChange:g=>x("rules.allowCancel",g.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-Convert Reservation to Lead")}),s.jsx("input",{type:"checkbox",checked:l.rules.autoConvertToLead,onChange:g=>x("rules.autoConvertToLead",g.target.checked)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("EOI  Lead  Auto Reservation")}),s.jsx("input",{type:"checkbox",checked:l.integration.eoiToLeadAutoReservation,onChange:g=>x("integration.eoiToLeadAutoReservation",g.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("On Complete  Trigger Sales Opportunity")}),s.jsx("input",{type:"checkbox",checked:l.integration.onCompleteTriggerSales,onChange:g=>x("integration.onCompleteTriggerSales",g.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("On Complete  Create CIL Record")}),s.jsx("input",{type:"checkbox",checked:l.integration.onCompleteCreateCil,onChange:g=>x("integration.onCompleteCreateCil",g.target.checked)})]})]})]}),s.jsxs("div",{className:"sticky bottom-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur border-t p-4 flex items-center justify-end gap-2 rounded-t-2xl",children:[s.jsx("button",{className:"btn btn-glass",onClick:v,children:e("Reset to Default")}),s.jsx("button",{className:"btn btn-primary",onClick:p,disabled:n,children:e(n?"Saving...":"Save Changes")})]})]})}function kCe(){const{t:e}=Et();return s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:e("Reservation Settings")}),s.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-800",children:e("Admin Only")})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("Manage booking rules, notifications, and integration with EOI/Lead/CIL/Sales.")}),s.jsx(SCe,{})]})}const za=e=>typeof e=="string",zg=()=>{let e,t;const a=new Promise((r,n)=>{e=r,t=n});return a.resolve=e,a.reject=t,a},HR=e=>e==null?"":""+e,CCe=(e,t,a)=>{e.forEach(r=>{t[r]&&(a[r]=t[r])})},ACe=/###/g,VR=e=>e&&e.indexOf("###")>-1?e.replace(ACe,"."):e,WR=e=>!e||za(e),P1=(e,t,a)=>{const r=za(t)?t.split("."):t;let n=0;for(;n<r.length-1;){if(WR(e))return{};const i=VR(r[n]);!e[i]&&a&&(e[i]=new a),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++n}return WR(e)?{}:{obj:e,k:VR(r[n])}},qR=(e,t,a)=>{const{obj:r,k:n}=P1(e,t,Object);if(r!==void 0||t.length===1){r[n]=a;return}let i=t[t.length-1],l=t.slice(0,t.length-1),o=P1(e,l,Object);for(;o.obj===void 0&&l.length;)i=`${l[l.length-1]}.${i}`,l=l.slice(0,l.length-1),o=P1(e,l,Object),o?.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=a},_Ce=(e,t,a,r)=>{const{obj:n,k:i}=P1(e,t,Object);n[i]=n[i]||[],n[i].push(a)},Tw=(e,t)=>{const{obj:a,k:r}=P1(e,t);if(a&&Object.prototype.hasOwnProperty.call(a,r))return a[r]},TCe=(e,t,a)=>{const r=Tw(e,a);return r!==void 0?r:Tw(t,a)},SG=(e,t,a)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?za(e[r])||e[r]instanceof String||za(t[r])||t[r]instanceof String?a&&(e[r]=t[r]):SG(e[r],t[r],a):e[r]=t[r]);return e},Dp=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ECe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const DCe=e=>za(e)?e.replace(/[&<>"'\/]/g,t=>ECe[t]):e;class MCe{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const a=this.regExpMap.get(t);if(a!==void 0)return a;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const PCe=[" ",",","?","!",";"],LCe=new MCe(20),OCe=(e,t,a)=>{t=t||"",a=a||"";const r=PCe.filter(l=>t.indexOf(l)<0&&a.indexOf(l)<0);if(r.length===0)return!0;const n=LCe.getRegExp(`(${r.map(l=>l==="?"?"\\?":l).join("|")})`);let i=!n.test(e);if(!i){const l=e.indexOf(a);l>0&&!n.test(e.substring(0,l))&&(i=!0)}return i},IC=(e,t,a=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(a);let n=e;for(let i=0;i<r.length;){if(!n||typeof n!="object")return;let l,o="";for(let c=i;c<r.length;++c)if(c!==i&&(o+=a),o+=r[c],l=n[o],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&c<r.length-1)continue;i+=c-i+1;break}n=l}return n},pv=e=>e?.replace("_","-"),RCe={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class Ew{constructor(t,a={}){this.init(t,a)}init(t,a={}){this.prefix=a.prefix||"i18next:",this.logger=t||RCe,this.options=a,this.debug=a.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,a,r,n){return n&&!this.debug?null:(za(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[a](t))}create(t){return new Ew(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Ew(this.logger,t)}}var Qd=new Ew;let nN=class{constructor(){this.observers={}}on(t,a){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const n=this.observers[r].get(a)||0;this.observers[r].set(a,n+1)}),this}off(t,a){if(this.observers[t]){if(!a){delete this.observers[t];return}this.observers[t].delete(a)}}emit(t,...a){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([n,i])=>{for(let l=0;l<i;l++)n(...a)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([n,i])=>{for(let l=0;l<i;l++)n.apply(n,[t,...a])})}};class GR extends nN{constructor(t,a={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const a=this.options.ns.indexOf(t);a>-1&&this.options.ns.splice(a,1)}getResource(t,a,r,n={}){const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,l=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;t.indexOf(".")>-1?o=t.split("."):(o=[t,a],r&&(Array.isArray(r)?o.push(...r):za(r)&&i?o.push(...r.split(i)):o.push(r)));const c=Tw(this.data,o);return!c&&!a&&!r&&t.indexOf(".")>-1&&(t=o[0],a=o[1],r=o.slice(2).join(".")),c||!l||!za(r)?c:IC(this.data?.[t]?.[a],r,i)}addResource(t,a,r,n,i={silent:!1}){const l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[t,a];r&&(o=o.concat(l?r.split(l):r)),t.indexOf(".")>-1&&(o=t.split("."),n=a,a=o[1]),this.addNamespaces(a),qR(this.data,o,n),i.silent||this.emit("added",t,a,r,n)}addResources(t,a,r,n={silent:!1}){for(const i in r)(za(r[i])||Array.isArray(r[i]))&&this.addResource(t,a,i,r[i],{silent:!0});n.silent||this.emit("added",t,a,r)}addResourceBundle(t,a,r,n,i,l={silent:!1,skipCopy:!1}){let o=[t,a];t.indexOf(".")>-1&&(o=t.split("."),n=r,r=a,a=o[1]),this.addNamespaces(a);let c=Tw(this.data,o)||{};l.skipCopy||(r=JSON.parse(JSON.stringify(r))),n?SG(c,r,i):c={...c,...r},qR(this.data,o,c),l.silent||this.emit("added",t,a,r)}removeResourceBundle(t,a){this.hasResourceBundle(t,a)&&delete this.data[t][a],this.removeNamespaces(a),this.emit("removed",t,a)}hasResourceBundle(t,a){return this.getResource(t,a)!==void 0}getResourceBundle(t,a){return a||(a=this.options.defaultNS),this.getResource(t,a)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const a=this.getDataByLanguage(t);return!!(a&&Object.keys(a)||[]).find(n=>a[n]&&Object.keys(a[n]).length>0)}toJSON(){return this.data}}var kG={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,a,r,n){return e.forEach(i=>{t=this.processors[i]?.process(t,a,r,n)??t}),t}};const CG=Symbol("i18next/PATH_KEY");function FCe(){const e=[],t=Object.create(null);let a;return t.get=(r,n)=>(a?.revoke?.(),n===CG?e:(e.push(n),a=Proxy.revocable(r,t),a.proxy)),Proxy.revocable(Object.create(null),t).proxy}function BC(e,t){const{[CG]:a}=e(FCe());return a.join(t?.keySeparator??".")}const KR={},YR=e=>!za(e)&&typeof e!="boolean"&&typeof e!="number";class Dw extends nN{constructor(t,a={}){super(),CCe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Qd.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,a={interpolation:{}}){const r={...a};return t==null?!1:this.resolve(t,r)?.res!==void 0}extractFromKey(t,a){let r=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const n=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let i=a.ns||this.options.defaultNS||[];const l=r&&t.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!OCe(t,r,n);if(l&&!o){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:za(i)?[i]:i};const d=t.split(r);(r!==n||r===n&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),t=d.join(n)}return{key:t,namespaces:za(i)?[i]:i}}translate(t,a,r){let n=typeof a=="object"?{...a}:a;if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";typeof t=="function"&&(t=BC(t,{...this.options,...n})),Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,l=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:c}=this.extractFromKey(t[t.length-1],n),d=c[c.length-1];let u=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const f=n.lng||this.language,x=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f?.toLowerCase()==="cimode")return x?i?{res:`${d}${u}${o}`,usedKey:o,exactUsedKey:o,usedLng:f,usedNS:d,usedParams:this.getUsedParamsDetails(n)}:`${d}${u}${o}`:i?{res:o,usedKey:o,exactUsedKey:o,usedLng:f,usedNS:d,usedParams:this.getUsedParamsDetails(n)}:o;const p=this.resolve(t,n);let v=p?.res;const g=p?.usedKey||o,b=p?.exactUsedKey||o,j=["[object Number]","[object Function]","[object RegExp]"],N=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,k=n.count!==void 0&&!za(n.count),A=Dw.hasDefaultValue(n),_=k?this.pluralResolver.getSuffix(f,n.count,n):"",M=n.ordinal&&k?this.pluralResolver.getSuffix(f,n.count,{ordinal:!1}):"",L=k&&!n.ordinal&&n.count===0,U=L&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${_}`]||n[`defaultValue${M}`]||n.defaultValue;let z=v;S&&!v&&A&&(z=U);const O=YR(z),B=Object.prototype.toString.apply(z);if(S&&z&&O&&j.indexOf(B)<0&&!(za(N)&&Array.isArray(z))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const E=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,z,{...n,ns:c}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(p.res=E,p.usedParams=this.getUsedParamsDetails(n),p):E}if(l){const E=Array.isArray(z),R=E?[]:{},q=E?b:g;for(const I in z)if(Object.prototype.hasOwnProperty.call(z,I)){const G=`${q}${l}${I}`;A&&!v?R[I]=this.translate(G,{...n,defaultValue:YR(U)?U[I]:void 0,joinArrays:!1,ns:c}):R[I]=this.translate(G,{...n,joinArrays:!1,ns:c}),R[I]===G&&(R[I]=z[I])}v=R}}else if(S&&za(N)&&Array.isArray(v))v=v.join(N),v&&(v=this.extendTranslation(v,t,n,r));else{let E=!1,R=!1;!this.isValidLookup(v)&&A&&(E=!0,v=U),this.isValidLookup(v)||(R=!0,v=o);const I=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&R?void 0:v,G=A&&U!==v&&this.options.updateMissing;if(R||E||G){if(this.logger.log(G?"updateKey":"missingKey",f,d,o,G?U:v),l){const ce=this.resolve(o,{...n,keySeparator:!1});ce&&ce.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let re=[];const te=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&te&&te[0])for(let ce=0;ce<te.length;ce++)re.push(te[ce]);else this.options.saveMissingTo==="all"?re=this.languageUtils.toResolveHierarchy(n.lng||this.language):re.push(n.lng||this.language);const X=(ce,D,Q)=>{const H=A&&Q!==v?Q:I;this.options.missingKeyHandler?this.options.missingKeyHandler(ce,d,D,H,G,n):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(ce,d,D,H,G,n),this.emit("missingKey",ce,d,D,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?re.forEach(ce=>{const D=this.pluralResolver.getSuffixes(ce,n);L&&n[`defaultValue${this.options.pluralSeparator}zero`]&&D.indexOf(`${this.options.pluralSeparator}zero`)<0&&D.push(`${this.options.pluralSeparator}zero`),D.forEach(Q=>{X([ce],o+Q,n[`defaultValue${Q}`]||U)})}):X(re,o,U))}v=this.extendTranslation(v,t,n,p,r),R&&v===o&&this.options.appendNamespaceToMissingKey&&(v=`${d}${u}${o}`),(R||E)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${u}${o}`:o,E?v:void 0,n))}return i?(p.res=v,p.usedParams=this.getUsedParamsDetails(n),p):v}extendTranslation(t,a,r,n,i){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=za(t)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const f=t.match(this.interpolator.nestingRegexp);d=f&&f.length}let u=r.replace&&!za(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),t=this.interpolator.interpolate(t,u,r.lng||this.language||n.usedLng,r),c){const f=t.match(this.interpolator.nestingRegexp),x=f&&f.length;d<x&&(r.nest=!1)}!r.lng&&n&&n.res&&(r.lng=this.language||n.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,(...f)=>i?.[0]===f[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${a[0]}`),null):this.translate(...f,a),r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,o=za(l)?[l]:l;return t!=null&&o?.length&&r.applyPostProcessor!==!1&&(t=kG.handle(o,t,a,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t,a={}){let r,n,i,l,o;return za(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(r))return;const d=this.extractFromKey(c,a),u=d.key;n=u;let f=d.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const x=a.count!==void 0&&!za(a.count),p=x&&!a.ordinal&&a.count===0,v=a.context!==void 0&&(za(a.context)||typeof a.context=="number")&&a.context!=="",g=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);f.forEach(b=>{this.isValidLookup(r)||(o=b,!KR[`${g[0]}-${b}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(KR[`${g[0]}-${b}`]=!0,this.logger.warn(`key "${n}" for languages "${g.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(j=>{if(this.isValidLookup(r))return;l=j;const N=[u];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(N,u,j,b,a);else{let k;x&&(k=this.pluralResolver.getSuffix(j,a.count,a));const A=`${this.options.pluralSeparator}zero`,_=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(x&&(a.ordinal&&k.indexOf(_)===0&&N.push(u+k.replace(_,this.options.pluralSeparator)),N.push(u+k),p&&N.push(u+A)),v){const M=`${u}${this.options.contextSeparator||"_"}${a.context}`;N.push(M),x&&(a.ordinal&&k.indexOf(_)===0&&N.push(M+k.replace(_,this.options.pluralSeparator)),N.push(M+k),p&&N.push(M+A))}}let S;for(;S=N.pop();)this.isValidLookup(r)||(i=S,r=this.getResource(j,b,S,a))}))})}),{res:r,usedKey:n,exactUsedKey:i,usedLng:l,usedNS:o}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,a,r,n={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,a,r,n):this.resourceStore.getResource(t,a,r,n)}getUsedParamsDetails(t={}){const a=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!za(t.replace);let n=r?t.replace:t;if(r&&typeof t.count<"u"&&(n.count=t.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!r){n={...n};for(const i of a)delete n[i]}return n}static hasDefaultValue(t){const a="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&a===r.substring(0,a.length)&&t[r]!==void 0)return!0;return!1}}class XR{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Qd.create("languageUtils")}getScriptPartFromCode(t){if(t=pv(t),!t||t.indexOf("-")<0)return null;const a=t.split("-");return a.length===2||(a.pop(),a[a.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(a.join("-"))}getLanguagePartFromCode(t){if(t=pv(t),!t||t.indexOf("-")<0)return t;const a=t.split("-");return this.formatLanguageCode(a[0])}formatLanguageCode(t){if(za(t)&&t.indexOf("-")>-1){let a;try{a=Intl.getCanonicalLocales(t)[0]}catch{}return a&&this.options.lowerCaseLng&&(a=a.toLowerCase()),a||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let a;return t.forEach(r=>{if(a)return;const n=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(n))&&(a=n)}),!a&&this.options.supportedLngs&&t.forEach(r=>{if(a)return;const n=this.getScriptPartFromCode(r);if(this.isSupportedCode(n))return a=n;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return a=i;a=this.options.supportedLngs.find(l=>{if(l===i)return l;if(!(l.indexOf("-")<0&&i.indexOf("-")<0)&&(l.indexOf("-")>0&&i.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===i||l.indexOf(i)===0&&i.length>1))return l})}),a||(a=this.getFallbackCodes(this.options.fallbackLng)[0]),a}getFallbackCodes(t,a){if(!t)return[];if(typeof t=="function"&&(t=t(a)),za(t)&&(t=[t]),Array.isArray(t))return t;if(!a)return t.default||[];let r=t[a];return r||(r=t[this.getScriptPartFromCode(a)]),r||(r=t[this.formatLanguageCode(a)]),r||(r=t[this.getLanguagePartFromCode(a)]),r||(r=t.default),r||[]}toResolveHierarchy(t,a){const r=this.getFallbackCodes((a===!1?[]:a)||this.options.fallbackLng||[],t),n=[],i=l=>{l&&(this.isSupportedCode(l)?n.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return za(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):za(t)&&i(this.formatLanguageCode(t)),r.forEach(l=>{n.indexOf(l)<0&&i(this.formatLanguageCode(l))}),n}}const QR={zero:0,one:1,two:2,few:3,many:4,other:5},JR={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class ICe{constructor(t,a={}){this.languageUtils=t,this.options=a,this.logger=Qd.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,a){this.rules[t]=a}clearCache(){this.pluralRulesCache={}}getRule(t,a={}){const r=pv(t==="dev"?"en":t),n=a.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:n});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let l;try{l=new Intl.PluralRules(r,{type:n})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),JR;if(!t.match(/-|_/))return JR;const c=this.languageUtils.getLanguagePartFromCode(t);l=this.getRule(c,a)}return this.pluralRulesCache[i]=l,l}needsPlural(t,a={}){let r=this.getRule(t,a);return r||(r=this.getRule("dev",a)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,a,r={}){return this.getSuffixes(t,r).map(n=>`${a}${n}`)}getSuffixes(t,a={}){let r=this.getRule(t,a);return r||(r=this.getRule("dev",a)),r?r.resolvedOptions().pluralCategories.sort((n,i)=>QR[n]-QR[i]).map(n=>`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${n}`):[]}getSuffix(t,a,r={}){const n=this.getRule(t,r);return n?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n.select(a)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",a,r))}}const ZR=(e,t,a,r=".",n=!0)=>{let i=TCe(e,t,a);return!i&&n&&za(a)&&(i=IC(e,a,r),i===void 0&&(i=IC(t,a,r))),i},P3=e=>e.replace(/\$/g,"$$$$");class BCe{constructor(t={}){this.logger=Qd.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(a=>a),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:a,escapeValue:r,useRawValueToEscape:n,prefix:i,prefixEscaped:l,suffix:o,suffixEscaped:c,formatSeparator:d,unescapeSuffix:u,unescapePrefix:f,nestingPrefix:x,nestingPrefixEscaped:p,nestingSuffix:v,nestingSuffixEscaped:g,nestingOptionsSeparator:b,maxReplaces:j,alwaysFormat:N}=t.interpolation;this.escape=a!==void 0?a:DCe,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=n!==void 0?n:!1,this.prefix=i?Dp(i):l||"{{",this.suffix=o?Dp(o):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=u?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=x?Dp(x):p||Dp("$t("),this.nestingSuffix=v?Dp(v):g||Dp(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=j||1e3,this.alwaysFormat=N!==void 0?N:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(a,r)=>a?.source===r?(a.lastIndex=0,a):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,a,r,n){let i,l,o;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=p=>{if(p.indexOf(this.formatSeparator)<0){const j=ZR(a,c,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(j,void 0,r,{...n,...a,interpolationkey:p}):j}const v=p.split(this.formatSeparator),g=v.shift().trim(),b=v.join(this.formatSeparator).trim();return this.format(ZR(a,c,g,this.options.keySeparator,this.options.ignoreJSONStructure),b,r,{...n,...a,interpolationkey:g})};this.resetRegExp();const u=n?.missingInterpolationHandler||this.options.missingInterpolationHandler,f=n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>P3(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?P3(this.escape(p)):P3(p)}].forEach(p=>{for(o=0;i=p.regex.exec(t);){const v=i[1].trim();if(l=d(v),l===void 0)if(typeof u=="function"){const b=u(t,i,n);l=za(b)?b:""}else if(n&&Object.prototype.hasOwnProperty.call(n,v))l="";else if(f){l=i[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${t}`),l="";else!za(l)&&!this.useRawValueToEscape&&(l=HR(l));const g=p.safeValue(l);if(t=t.replace(i[0],g),f?(p.regex.lastIndex+=l.length,p.regex.lastIndex-=i[0].length):p.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),t}nest(t,a,r={}){let n,i,l;const o=(c,d)=>{const u=this.nestingOptionsSeparator;if(c.indexOf(u)<0)return c;const f=c.split(new RegExp(`${u}[ ]*{`));let x=`{${f[1]}`;c=f[0],x=this.interpolate(x,l);const p=x.match(/'/g),v=x.match(/"/g);((p?.length??0)%2===0&&!v||v.length%2!==0)&&(x=x.replace(/'/g,'"'));try{l=JSON.parse(x),d&&(l={...d,...l})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,g),`${c}${u}${x}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,c};for(;n=this.nestingRegexp.exec(t);){let c=[];l={...r},l=l.replace&&!za(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const d=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(d!==-1&&(c=n[1].slice(d).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),n[1]=n[1].slice(0,d)),i=a(o.call(this,n[1].trim(),l),l),i&&n[0]===t&&!za(i))return i;za(i)||(i=HR(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${t}`),i=""),c.length&&(i=c.reduce((u,f)=>this.format(u,f,r.lng,{...r,interpolationkey:n[1].trim()}),i.trim())),t=t.replace(n[0],i),this.regexp.lastIndex=0}return t}}const $Ce=e=>{let t=e.toLowerCase().trim();const a={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const n=r[1].substring(0,r[1].length-1);t==="currency"&&n.indexOf(":")<0?a.currency||(a.currency=n.trim()):t==="relativetime"&&n.indexOf(":")<0?a.range||(a.range=n.trim()):n.split(";").forEach(l=>{if(l){const[o,...c]=l.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),u=o.trim();a[u]||(a[u]=d),d==="false"&&(a[u]=!1),d==="true"&&(a[u]=!0),isNaN(d)||(a[u]=parseInt(d,10))}})}return{formatName:t,formatOptions:a}},e9=e=>{const t={};return(a,r,n)=>{let i=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(i={...i,[n.interpolationkey]:void 0});const l=r+JSON.stringify(i);let o=t[l];return o||(o=e(pv(r),n),t[l]=o),o(a)}},UCe=e=>(t,a,r)=>e(pv(a),r)(t);class zCe{constructor(t={}){this.logger=Qd.create("formatter"),this.options=t,this.init(t)}init(t,a={interpolation:{}}){this.formatSeparator=a.interpolation.formatSeparator||",";const r=a.cacheInBuiltFormats?e9:UCe;this.formats={number:r((n,i)=>{const l=new Intl.NumberFormat(n,{...i});return o=>l.format(o)}),currency:r((n,i)=>{const l=new Intl.NumberFormat(n,{...i,style:"currency"});return o=>l.format(o)}),datetime:r((n,i)=>{const l=new Intl.DateTimeFormat(n,{...i});return o=>l.format(o)}),relativetime:r((n,i)=>{const l=new Intl.RelativeTimeFormat(n,{...i});return o=>l.format(o,i.range||"day")}),list:r((n,i)=>{const l=new Intl.ListFormat(n,{...i});return o=>l.format(o)})}}add(t,a){this.formats[t.toLowerCase().trim()]=a}addCached(t,a){this.formats[t.toLowerCase().trim()]=e9(a)}format(t,a,r,n={}){const i=a.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,c)=>{const{formatName:d,formatOptions:u}=$Ce(c);if(this.formats[d]){let f=o;try{const x=n?.formatParams?.[n.interpolationkey]||{},p=x.locale||x.lng||n.locale||n.lng||r;f=this.formats[d](o,p,{...u,...n,...x})}catch(x){this.logger.warn(x)}return f}else this.logger.warn(`there was no format function for ${d}`);return o},t)}}const HCe=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class VCe extends nN{constructor(t,a,r,n={}){super(),this.backend=t,this.store=a,this.services=r,this.languageUtils=r.languageUtils,this.options=n,this.logger=Qd.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,n.backend,n)}queueLoad(t,a,r,n){const i={},l={},o={},c={};return t.forEach(d=>{let u=!0;a.forEach(f=>{const x=`${d}|${f}`;!r.reload&&this.store.hasResourceBundle(d,f)?this.state[x]=2:this.state[x]<0||(this.state[x]===1?l[x]===void 0&&(l[x]=!0):(this.state[x]=1,u=!1,l[x]===void 0&&(l[x]=!0),i[x]===void 0&&(i[x]=!0),c[f]===void 0&&(c[f]=!0)))}),u||(o[d]=!0)}),(Object.keys(i).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(i),pending:Object.keys(l),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(c)}}loaded(t,a,r){const n=t.split("|"),i=n[0],l=n[1];a&&this.emit("failedLoading",i,l,a),!a&&r&&this.store.addResourceBundle(i,l,r,void 0,void 0,{skipCopy:!0}),this.state[t]=a?-1:2,a&&r&&(this.state[t]=0);const o={};this.queue.forEach(c=>{_Ce(c.loaded,[i],l),HCe(c,t),a&&c.errors.push(a),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{o[d]||(o[d]={});const u=c.loaded[d];u.length&&u.forEach(f=>{o[d][f]===void 0&&(o[d][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(c=>!c.done)}read(t,a,r,n=0,i=this.retryTimeout,l){if(!t.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:a,fcName:r,tried:n,wait:i,callback:l});return}this.readingCalls++;const o=(d,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(d&&u&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,t,a,r,n+1,i*2,l)},i);return}l(d,u)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const d=c(t,a);d&&typeof d.then=="function"?d.then(u=>o(null,u)).catch(o):o(null,d)}catch(d){o(d)}return}return c(t,a,o)}prepareLoading(t,a,r={},n){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();za(t)&&(t=this.languageUtils.toResolveHierarchy(t)),za(a)&&(a=[a]);const i=this.queueLoad(t,a,r,n);if(!i.toLoad.length)return i.pending.length||n(),null;i.toLoad.forEach(l=>{this.loadOne(l)})}load(t,a,r){this.prepareLoading(t,a,{},r)}reload(t,a,r){this.prepareLoading(t,a,{reload:!0},r)}loadOne(t,a=""){const r=t.split("|"),n=r[0],i=r[1];this.read(n,i,"read",void 0,void 0,(l,o)=>{l&&this.logger.warn(`${a}loading namespace ${i} for language ${n} failed`,l),!l&&o&&this.logger.log(`${a}loaded namespace ${i} for language ${n}`,o),this.loaded(t,l,o)})}saveMissing(t,a,r,n,i,l={},o=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(a)){this.logger.warn(`did not save key "${r}" as the namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const c={...l,isUpdate:i},d=this.backend.create.bind(this.backend);if(d.length<6)try{let u;d.length===5?u=d(t,a,r,n,c):u=d(t,a,r,n),u&&typeof u.then=="function"?u.then(f=>o(null,f)).catch(o):o(null,u)}catch(u){o(u)}else d(t,a,r,n,o,c)}!t||!t[0]||this.store.addResource(t[0],a,r,n)}}}const t9=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),za(e[1])&&(t.defaultValue=e[1]),za(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const a=e[3]||e[2];Object.keys(a).forEach(r=>{t[r]=a[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),a9=e=>(za(e.ns)&&(e.ns=[e.ns]),za(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),za(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),l2=()=>{},WCe=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(a=>{typeof e[a]=="function"&&(e[a]=e[a].bind(e))})};class xv extends nN{constructor(t={},a){if(super(),this.options=a9(t),this.services={},this.logger=Qd,this.modules={external:[]},WCe(this),a&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,a),this;setTimeout(()=>{this.init(t,a)},0)}}init(t={},a){this.isInitializing=!0,typeof t=="function"&&(a=t,t={}),t.defaultNS==null&&t.ns&&(za(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=t9();this.options={...r,...this.options,...a9(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const n=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Qd.init(n(this.modules.logger),this.options):Qd.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=zCe;const u=new XR(this.options);this.store=new GR(this.options.resources,this.options);const f=this.services;f.logger=Qd,f.resourceStore=this.store,f.languageUtils=u,f.pluralResolver=new ICe(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(f.formatter=n(d),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new BCe(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new VCe(n(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(p,...v)=>{this.emit(p,...v)}),this.modules.languageDetector&&(f.languageDetector=n(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=n(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Dw(this.services,this.options),this.translator.on("*",(p,...v)=>{this.emit(p,...v)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,a||(a=l2),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...u)=>this.store[d](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...u)=>(this.store[d](...u),this)});const o=zg(),c=()=>{const d=(u,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(f),a(u,f)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),o}loadResources(t,a=l2){let r=a;const n=za(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(n?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],l=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(d=>{d!=="cimode"&&i.indexOf(d)<0&&i.push(d)})};n?l(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>l(c)),this.options.preload?.forEach?.(o=>l(o)),this.services.backendConnector.load(i,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(o)})}else r(null)}reloadResources(t,a,r){const n=zg();return typeof t=="function"&&(r=t,t=void 0),typeof a=="function"&&(r=a,a=void 0),t||(t=this.languages),a||(a=this.options.ns),r||(r=l2),this.services.backendConnector.reload(t,a,i=>{n.resolve(),r(i)}),n}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&kG.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let a=0;a<this.languages.length;a++){const r=this.languages[a];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,a){this.isLanguageChangingTo=t;const r=zg();this.emit("languageChanging",t);const n=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},i=(o,c)=>{c?this.isLanguageChangingTo===t&&(n(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve((...d)=>this.t(...d)),a&&a(o,(...d)=>this.t(...d))},l=o=>{!t&&!o&&this.services.languageDetector&&(o=[]);const c=za(o)?o:o&&o[0],d=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(za(o)?[o]:o);d&&(this.language||n(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector?.cacheUserLanguage?.(d)),this.loadResources(d,u=>{i(u,d)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t),r}getFixedT(t,a,r){const n=(i,l,...o)=>{let c;typeof l!="object"?c=this.options.overloadTranslationOptionHandler([i,l].concat(o)):c={...l},c.lng=c.lng||n.lng,c.lngs=c.lngs||n.lngs,c.ns=c.ns||n.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||n.keyPrefix);const d=this.options.keySeparator||".";let u;return c.keyPrefix&&Array.isArray(i)?u=i.map(f=>(typeof f=="function"&&(f=BC(f,{...this.options,...l})),`${c.keyPrefix}${d}${f}`)):(typeof i=="function"&&(i=BC(i,{...this.options,...l})),u=c.keyPrefix?`${c.keyPrefix}${d}${i}`:i),this.t(u,c)};return za(t)?n.lng=t:n.lngs=t,n.ns=a,n.keyPrefix=r,n}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,a={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=a.lng||this.resolvedLanguage||this.languages[0],n=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const l=(o,c)=>{const d=this.services.backendConnector.state[`${o}|${c}`];return d===-1||d===0||d===2};if(a.precheck){const o=a.precheck(this,l);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(r,t)&&(!n||l(i,t)))}loadNamespaces(t,a){const r=zg();return this.options.ns?(za(t)&&(t=[t]),t.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{r.resolve(),a&&a(n)}),r):(a&&a(),Promise.resolve())}loadLanguages(t,a){const r=zg();za(t)&&(t=[t]);const n=this.options.preload||[],i=t.filter(l=>n.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return i.length?(this.options.preload=n.concat(i),this.loadResources(l=>{r.resolve(),a&&a(l)}),r):(a&&a(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const n=new Intl.Locale(t);if(n&&n.getTextInfo){const i=n.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new XR(t9());return t.toLowerCase().indexOf("-latn")>1?"ltr":a.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},a){return new xv(t,a)}cloneInstance(t={},a=l2){const r=t.forkResourceStore;r&&delete t.forkResourceStore;const n={...this.options,...t,isClone:!0},i=new xv(n);if((t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const o=Object.keys(this.store.data).reduce((c,d)=>(c[d]={...this.store.data[d]},c[d]=Object.keys(c[d]).reduce((u,f)=>(u[f]={...c[d][f]},u),c[d]),c),{});i.store=new GR(o,n),i.services.resourceStore=i.store}return i.translator=new Dw(i.services,n),i.translator.on("*",(o,...c)=>{i.emit(o,...c)}),i.init(n,a),i.translator.options=n,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Rs=xv.createInstance();Rs.createInstance=xv.createInstance;Rs.createInstance;Rs.dir;Rs.init;Rs.loadResources;Rs.reloadResources;Rs.use;Rs.changeLanguage;Rs.getFixedT;Rs.t;Rs.exists;Rs.setDefaultNamespace;Rs.hasLoadedNamespace;Rs.loadNamespaces;Rs.loadLanguages;const AG=e=>{document.documentElement.dir=e==="ar"?"rtl":"ltr",document.documentElement.lang=e};AG(Rs.language||"en");Rs.on("languageChanged",e=>{AG(e||"en")});const qCe={en:{translation:{Dashboard:"Dashboard","Lead Management":"Lead Management","Recycle Bin":"Recycle Bin",Inventory:"Inventory","Marketing Modules":"Marketing Modules",Campaigns:"Campaigns","Landing Pages":"Landing Pages","Meta Integration":"Meta Integration","Leads Performance":"Leads Performance",Customers:"Customers",Reports:"Reports","User Management":"User Management",Support:"Support",Settings:"Settings","Contact us":"Contact us",Logout:"Logout",Projects:"Projects",Properties:"Properties",Requests:"Requests","Buyer Requests":"Buyer Requests","Seller Requests":"Seller Requests","Dev Companies":"Dev Companies",Products:"Products",Items:"Items",Warehouse:"Warehouse",Calendar:"Calendar",Tasks:"Tasks",Language:"Language",Search:"Search",Notifications:"Notifications",Profile:"Profile","Dark Mode":"Dark Mode","Light Mode":"Light Mode",welcome_super_admin:"Welcome, Super Admin!",Filter:"Filter",All:"All",Country:"Country",City:"City",Company:"Company","Customer name":"Customer name",Orders:"Orders",Comments:"Comments",Comment:"Comment","Type to search...":"Type to search...",Search_button:"Search","Hide Tools":"Hide Tools","Show Tools":"Show Tools","Delay Leads":"Delay Leads",Activity:"Activity","To do list":"To do list","The Last Comments":"The Last Comments","Last Comments":"Last Comments","Hot Leads":"Hot Leads","Phone Calls":"Phone Calls","Recent Phone Calls":"Recent Phone Calls",Employee:"Employee",Lead:"Lead",Phone:"Phone",Duration:"Duration",Notes:"Notes",Incoming:"Incoming",Outgoing:"Outgoing",Missed:"Missed","Total Leads":"Total Leads","Conversion Rate":"Conversion Rate","Avg Response Time":"Avg Response Time","Leads by Source":"Leads by Source","Leads by Status":"Leads by Status","Leads Status":"Leads Status",Website:"Website","Social Media":"Social Media",Referrals:"Referrals","Email Campaign":"Email Campaign",Direct:"Direct",New:"New","In Progress":"In Progress",Qualified:"Qualified",Converted:"Converted",Lost:"Lost","Quick Actions":"Quick Actions","Export Data":"Export Data","Generate Report":"Generate Report","View Details":"View Details",Priority:"Priority",Type:"Type",high:"High",medium:"Medium",low:"Low",follow_up:"Follow Up",proposal:"Proposal",inquiry:"Inquiry",support:"Support",meeting:"Meeting","bulk.selectAssigneeError":"Please select or type an assignee first","bulk.assignSuccess":"Assigned {{count}} leads to: {{target}}","bulk.selectStatusError":"Please select a status first","bulk.statusUpdateSuccess":"Updated status for {{count}} leads to: {{status}}","bulk.deleteSuccess":"Successfully deleted {{count}} leads","import.title":"Import Leads from Excel","import.dropzone":"Drag & drop your file here, or click to select","import.selectedFile":"Selected file: {{file}}","import.noFileSelected":"No file selected yet","import.browseButton":"Browse","import.importing":"Importing...","import.importButton":"Import","import.supportedFiles":"Supports .xlsx and .xls files","import.selectFileError":"Please select an Excel file first","import.readFileError":"Failed to read the Excel file. Please check the format and content.","import.summary":"Added {{count}} new leads","import.supportedFields":"Supported fields: Name, Email, Phone, Company, Status, Priority, Source, Assigned To, Created At, Last Contact, Estimated Value, Probability","Import Data":"Import Data","import.uploadDescription":"Import data into the system.","import.uploadFile":"Upload file","import.dropHint":"Drag & drop file here or use the button","import.chooseFile":"Choose File","import.supportedFormats":"Supports CSV and XLSX files","import.target":"Import target","import.hasHeader":"First row contains column headers","import.updateExisting":"Update existing records on match","import.processing":"Importing...","import.successSimulated":"Import simulated successfully","import.unsupportedType":"Unsupported file type. Please upload CSV or XLSX.","import.formatGuidelines":"Format guidelines","import.guidelineUtf8":"Use UTF-8 encoding for CSV files","import.guidelineColumns":"Ensure columns match required fields","import.guidelineHeaders":"Include descriptive headers in the first row",Upload:"Upload",Preview:"Preview",Mapping:"Mapping",Summary:"Summary",Next:"Next",Back:"Back","Confirm Import":"Confirm Import",Column:"Column","Map to field":"Map to field","Start New":"Start New","New Records":"New Records","Updated Records":"Updated Records","Failed Rows":"Failed Rows","Show Export Options":"Show Export Options","Hide Export Options":"Hide Export Options","Date From":"Date From","Date To":"Date To","Assigned User/Team":"Assigned User/Team",Export:"Export",Error:"Error","Backup Management":"Backup Management","Generate Full Backup":"Generate Full Backup","Available Backups":"Available Backups","Scheduled Backups":"Scheduled Backups",Download:"Download","Save Schedule":"Save Schedule",Frequency:"Frequency",Time:"Time",Daily:"Daily",Weekly:"Weekly",Monthly:"Monthly","No backups yet.":"No backups yet.","importLogs.title":"Import Operations","importLogs.dataset":"Dataset","importLogs.status":"Status","importLogs.file":"File","importLogs.size":"Size","importLogs.options":"Options","importLogs.hasHeader":"Has Header","importLogs.updateExisting":"Update Existing","importLogs.time":"Time","importLogs.filter.dataset":"Filter by dataset","importLogs.filter.status":"Filter by status","importLogs.filter.search":"Search by file name...","importLogs.noData":"No import operations recorded","Import Logs":"Import Logs","empty.noMoreCustomers":"No other customers","template.downloadExcel":"Download Excel Template","template.downloadDescription":"Download the template and fill in the required data","template.downloadButton":"Download Template","template.requiredFields":"Required Fields:","Lead Stages":"Lead Stages","Active Campaigns":"Active Campaigns","Active Campaigns Overview":"Active Campaigns Overview","Key Performance Metrics":"Key Performance Metrics","Total Active":"Total Active","Avg. Open Rate":"Avg. Open Rate","Avg. Click Rate":"Avg. Click Rate","Conversion Rate":"Conversion Rate","Last 30 Days":"Last 30 Days","Top Campaigns":"Top Campaigns","Show Paused":"Show Paused","Hide Paused":"Hide Paused","Open Rate":"Open Rate","Click Rate":"Click Rate","On Track":"On Track","At Risk":"At Risk",Paused:"Paused","Active Users":"Active Users","Last Seen":"Last Seen",Active:"Active",Inactive:"Inactive","List View":"List View","Chart View":"Chart View",Refresh:"Refresh","All Leads":"All Leads",Duplicate:"Duplicate","New Lead":"New Lead","Cold Call":"Cold Call","follow up":"follow up","Actions at CRM":"Actions at CRM","Follow Ups":"Follow Ups",Completed:"Completed",Manager:"Manager",Employees:"Employees","Date Range":"Date Range","Date Input Placeholder":"mm/dd/yyyy",future:"Future",contacted:"Contacted",meeting_after:"Meeting after",follow_up_after:"Follow up after",cancel_after:"Cancel after",deal:"Deal",not_interested:"Not interested",next:"Next",From:"From",To:"To",Clear:"Clear","The Best":"The Best","Your top agents for the number of actions.":"Your top agents for the number of actions.",Today:"Today",Weekly:"Weekly",Monthly:"Monthly","All Time":"All Time","Quick Numbers":"Pipeline stages","Duplicate Leads":"Duplicate Leads","Fresh Leads":"Fresh Leads","New Leads":"New Leads","Pending Leads":"Pending Leads","Cold Leads":"Cold Leads","Cold Calls":"Cold Calls","of all system leads":"of all system leads","Not Available":"Not Available",Contact:"Contact","Bulk Actions":"Bulk Actions",selected:"selected","Update Status":"Update Status","Select Status":"Select Status","Apply Status":"Apply Status","Assign Owner":"Assign to","Select Owner":"Select Owner",Assign:"Assign","Apply Filters":"Apply Filters",Reset:"Reset",Delete:"Delete",Assigned:"Assigned",Value:"Value","Last Contact":"Last Contact","Import Leads from Excel file":"Import Leads from Excel file","Drag the file here or use the button to select it":"Drag the file here or use the button to select it","All Leads":"All Leads","All Managers":"All Managers","All Employees":"All Employees","Selected file: {excelFile.name}":"Selected file: {excelFile.name}","Importing...":"Importing...",Import:"Import","Supports .xlsx and .xls files":"Supports .xlsx and .xls files","Filter Options":"Filter Options","All Status":"All Status","All Sources":"All Sources","All Priority":"All Priority","Lead Statistics":"Lead Statistics",Theme:"Theme","Display Options":"Display Options","Show/Hide Columns":"Show/Hide Columns","Search columns...":"Search columns...","Reset Columns":"Reset Columns",Company:"Company",Assigned:"Assigned",Value:"Value","Last Contact":"Last Contact",Actions:"Actions",Admin:"Admin","+100% of all system leads":"+100% of all system leads","+8.2% from last month":"+8.2% from last month","+5.1% from last month":"+5.1% from last month","-2.3% from last month":"-2.3% from last month","Add Leads in Excel Sheet":"Add leads in an Excel-like sheet","Add Row":"Add Row","Delete Row":"Delete Row","Save Leads":"Save Leads",Close:"Close",Urgent:"Urgent",Referral:"Referral","Select Manager":"Select Manager","Select Employee":"Select Employee","From Date":"From Date","To Date":"To Date",Cancel:"Cancel","Add New Lead":"Add New Lead","Import Leads":"Import Leads","Add Demo Leads":"Add Demo Leads","Please select items to restore":"Please select items to restore","Please select items to delete":"Please select items to delete","Are you sure you want to restore the selected leads?":"Are you sure you want to restore the selected leads?","Are you sure you want to permanently delete the selected leads? This action cannot be undone.":"Are you sure you want to permanently delete the selected leads? This action cannot be undone.","Add Landing Page":"Add Landing Page",General:"General",Description:"Description",Media:"Media",Script:"Script",Title:"Title","Enter title":"Enter title",Channel:"Channel","Select Channel":"Select Channel",Project:"Project","Select Project":"Select Project","Target URL":"Target URL","Short Description":"Short Description","Upload Media":"Upload Media","Header Script":"Header Script","Body Script":"Body Script","Saving...":"Saving...",Create:"Create","Saved successfully":"Saved successfully",Open:"Open","Coming soon":"Coming soon","Reports Dashboard":"Reports Dashboard","Sales Report":"Sales Report","Lead Report":"Lead Report","Marketing Reports":"Marketing Reports","Team Report":"Team Report","Meetings Report":"Meetings Report","Sms Report":"Sms Report","Calls Report":"Calls Report","Team Performance Report":"Team Performance Report",Opportunities:"Opportunities",Cils:"Cils",Calls:"Calls",EOI:"EOI",Reservation:"Reservation",Deals:"Deals","Cancel Reasons":"Cancel Reasons","Opened This Month":"Opened This Month","Closed This Month":"Closed This Month","Open Chances":"Open Chances","Missed Chances":"Missed Chances",Remaining:"Remaining","Closed Chances":"Closed Chances","Data List":"Data List","Export List":"Export List","Show Entries":"Show Entries",Previous:"Previous",Next:"Next","No data":"No data","Export Report":"Export Report",Status:"Status",Reason:"Reason",Count:"Count","Reports KPIs":"Reports KPIs","Employees Reporting":"Employees Reporting","Generated Reports":"Generated Reports","Scheduled Reports":"Scheduled Reports","Failed Reports":"Failed Reports","Avg Generation Time":"Avg Generation Time","Report Types":"Report Types",PDF:"PDF",Excel:"Excel",Email:"Email","Reports per Employee":"Reports per Employee","Success Rate":"Success Rate","Last Activity":"Last Activity","Dashboard Overview":"Dashboard Overview","Show All":"Show All","Hide Less Active":"Hide Less Active",Minutes:"Minutes","reports.sales.desc":"Analyze sales data to improve performance and boost revenue.","reports.leads.desc":"Track your leads and evaluate their engagement within the system.","reports.marketing.desc":"Analyze marketing campaigns and measure their success to enhance strategies.","reports.team.desc":"Monitor team performance and track daily goal achievements.","reports.meetings.desc":"Manage meetings and follow up on discussed points and implementation.","reports.sms.desc":"Track and analyze messages sent to customers to increase engagement.","reports.calls.desc":"Monitor and analyze call data for performance and quality assessment.","reports.team_performance.desc":"Evaluate team performance and identify areas for improvement.","salesActions.lastUpdate":"Last update",Update:"Update","Updating...":"Updating...","salesActions.reservations":"Reservations","salesActions.totalRevenue":"Total Revenue","salesActions.accounts":"Accounts","salesActions.callsBreakdown":"Calls Breakdown","salesActions.byType":"By Type","salesActions.noCalls":"No calls","salesActions.topTeam":"Top Team","salesActions.viewTeamDetails":"View Team Details","salesActions.noTeamData":"No team data","salesActions.leaderboard":"Team Leaderboard","salesActions.byAccounts":"By Accounts","salesActions.monthlyReservationsSummary":"Monthly Reservations Summary","salesActions.lastMonths":"Last {{months}} months",Month:"Month",Revenue:"Revenue",View:"View",Details:"Details",Rank:"Rank",Conversion:"Conversion",Team:"Team",Excel:"Excel",PDF:"PDF",Print:"Print","teamDetails.title":"Team Details","teamDetails.roster":"Members","teamDetails.search":"Search...","teamDetails.noMembers":"No members","teamDetails.managerialControls":"Managerial Controls","teamDetails.assignNewTask":"Assign New Task","teamDetails.sendNote":"Send Note/Comment","teamDetails.openPerformanceReview":"Open Performance Review","teamDetails.suspend":"Suspend","teamDetails.reactivate":"Reactivate","teamDetails.tabs.profile":"Profile","teamDetails.tabs.performance":"Performance","teamDetails.tabs.projects":"Projects","teamDetails.tabs.permissions":"Permissions","teamDetails.tabs.activity":"Activity Log","teamDetails.basicInfo":"Basic Information","teamDetails.fields.fullName":"Full Name","teamDetails.fields.jobTitle":"Job Title","teamDetails.fields.department":"Department","teamDetails.fields.employeeId":"Employee ID","teamDetails.fields.email":"Email","teamDetails.fields.phone":"Phone","teamDetails.fields.joinDate":"Join Date","teamDetails.fields.status":"Status",Active:"Active","On Leave":"On Leave",Inactive:"Inactive","teamDetails.performanceMetrics":"Performance Metrics","teamDetails.metrics.totalTasks":"Total Tasks","teamDetails.metrics.tasksCompletionRate":"Tasks Completion Rate","teamDetails.metrics.avgResponseTime":"Average Response Time","teamDetails.metrics.attendanceRate":"Attendance Rate","teamDetails.metrics.performanceScore":"Performance Score","teamDetails.metrics.lastEvaluation":"Last Evaluation","teamDetails.projectsAndResponsibilities":"Projects & Responsibilities",Started:"Started",Tasks:"Tasks","View Project":"View Project",Reset:"Reset","teamDetails.noProjects":"No projects","teamDetails.permissionsAndAccess":"Permissions & Access","teamDetails.regionBranch":"Region/Branch","teamDetails.availableModules":"Available Modules","teamDetails.updateAccess":"Update Access","teamDetails.restrictAccess":"Restrict Access","teamDetails.activityLog":"Activity Log","teamDetails.filterByDate":"Filter by date","activity.leadUpdated":"Lead data updated","activity.dealClosed":"Deal closed","activity.newRequestCreated":"New request created","security.passwordAuth":"Password & Authentication","security.save":"Save","security.currentPassword":"Current Password","security.newPassword":"New Password","security.confirmPassword":"Confirm Password","security.passwordMismatch":"Passwords don't match","security.twoFactor":"Two-Factor Authentication","security.defaultMethod":"Default Method","security.emailOtp":"Email OTP","security.sms":"SMS","security.app":"Authenticator App","security.enableMethods":"Enable Methods","security.enableNotice":"Enable two-factor to show method settings and enable methods.","security.setup2fa":"Setup 2FA","security.accountAccess":"Account Access","security.editPermissions":"Edit Permissions","security.activeSessions":"Active Sessions","security.device":"Device","security.location":"Location","security.lastActive":"Last Active","security.action":"Action","security.noSessions":"No active sessions","security.logout":"Logout","security.logoutAll":"Logout from All Devices","security.securityNotifications":"Security Notifications","security.loginNewDevice":"Login from New Device","security.passwordChange":"Password Change","security.failedLogins":"Failed Login Attempts","security.notificationMethod":"Notification Method","security.push":"Push Notifications","security.policies":"Login & Password Policies","security.minLength":"Minimum Length","security.failedLimit":"Failed Login Attempt Limit","security.charReq":"Character Requirements","security.upper":"Uppercase","security.lower":"Lowercase","security.number":"Number","security.special":"Special Character","security.lockoutPolicy":"Lockout Policy","security.tempLockout":"Temporary Lockout","security.lockoutNote":"Applies after consecutive failed attempts.","security.auditLogs":"Audit Logs","security.modal.setupTitle":"Setup Two-Factor Authentication","security.modal.setupHelp":"Select method and follow instructions to complete setup.","security.modal.logoutTitle":"Logout Session","security.modal.logoutDesc":"This will logout the selected device.","security.modal.editPermsTitle":"Edit Permissions","security.perms.viewCustomers":"View Customers","security.perms.editCustomers":"Edit Customers","security.perms.manageUsers":"Manage Users","security.perms.viewBilling":"View Billing","common.cancel":"Cancel","common.save":"Save",Attachment:"Attachment","Selected file":"Selected file",Remove:"Remove","Tax Rate (%)":"Tax Rate (%)","Create Quotation":"Create Quotation",Opportunity:"Opportunity",Select:"Select","Loading...":"Loading...","Sent successfully":"Sent successfully","Conversion created successfully":"Conversion created successfully","Tax rate updated":"Tax rate updated","Failed to update tax rate":"Failed to update tax rate","Product / Service":"Product / Service",SKU:"SKU",Quantity:"Quantity","Unit Price":"Unit Price",Discount:"Discount",Subtotal:"Subtotal",Tax:"Tax",Total:"Total",Quotations:"Quotations",Sales:"Sales",Created:"Created",ID:"ID","Send to Customer":"Send to Customer","Convert to Sales Order":"Convert to Sales Order","Convert to Quotation":"Convert to Quotation",Amount:"Amount",Stage:"Stage","Expected Close Date":"Expected Close Date","Contact (B2B)":"Contact (B2B)","Contact person":"Contact person","Quick add":"Quick add","Add Opportunity":"Add Opportunity",Optional:"Optional",Individual:"Individual","Company name":"Company name",Tags:"Tags","Comma separated":"Comma separated","Assigned Rep":"Assigned Rep","Sales representative":"Sales representative","Quick Add Customer":"Quick Add Customer"}},ar:{translation:{Dashboard:" ","Lead Management":"  ","Recycle Bin":" ",Inventory:"","Marketing Modules":" ",Campaigns:"","Landing Pages":" ","Meta Integration":" ","Leads Performance":"  ",Customers:"",Reports:"","User Management":" ",Support:"",Settings:"","Contact us":" ",Logout:" ",Projects:"",Properties:"",Requests:"","Buyer Requests":" ","Seller Requests":" ","Dev Companies":" ",Products:"",Items:"",Warehouse:"",Calendar:"",Tasks:"",Language:"",Search:"",Notifications:"",Profile:" ","Dark Mode":" ","Light Mode":" ",welcome_super_admin:"  !",Filter:"",All:"",Country:"",City:"",Company:"","Customer name":" ",Orders:"",Comments:"",Comment:"","Type to search...":" ...",Search_button:"","Hide Tools":" ","Show Tools":" ","Delay Leads":" ",Activity:"","To do list":" ","The Last Comments":" ","Last Comments":" ","Hot Leads":"  ","Phone Calls":" ","Recent Phone Calls":"  ",Employee:"",Lead:" ",Phone:"",Duration:"",Notes:"",Incoming:"",Outgoing:"",Missed:"","Total Leads":"  ","Conversion Rate":" ","Avg Response Time":"  ","Leads by Source":"   ","Leads by Status":"   ","Leads Status":"  ",Website:" ","Social Media":"  ",Referrals:"","Email Campaign":"  ",Direct:"",New:"","In Progress":" ",Qualified:"",Converted:" ",Lost:"","Quick Actions":" ","Export Data":" ","Generate Report":" ","View Details":" ",Priority:"",Type:"",high:"",medium:"",low:"",follow_up:"",proposal:" ",inquiry:"",support:" ",meeting:"","bulk.selectAssigneeError":"      ","bulk.assignSuccess":"  {{count}}  : {{target}}","bulk.selectStatusError":"   ","bulk.statusUpdateSuccess":"   {{count}}  : {{status}}","bulk.deleteSuccess":"  {{count}}  ","import.title":"    ","import.dropzone":"      ","import.selectedFile":" : {{file}}","import.noFileSelected":"   ","import.browseButton":"","import.importing":" ...","import.importButton":"","import.supportedFiles":"  .xlsx  .xls","import.selectFileError":"    ","import.readFileError":"   .    .","import.summary":"  {{count}}  ","import.supportedFields":" :               ","Import Data":" ","import.uploadDescription":"   .","import.uploadFile":" ","import.dropHint":"     ","import.chooseFile":" ","import.supportedFormats":"  CSV  XLSX","import.target":" ","import.hasHeader":"     ","import.updateExisting":"    ","import.processing":" ...","import.successSimulated":"   ","import.unsupportedType":"   .   CSV  XLSX.","import.formatGuidelines":" ","import.guidelineUtf8":"  UTF-8  CSV","import.guidelineColumns":"     ","import.guidelineHeaders":"     ","importLogs.title":" ","importLogs.dataset":"","importLogs.status":"","importLogs.file":"","importLogs.size":"","importLogs.options":"","importLogs.hasHeader":" ","importLogs.updateExisting":" ","importLogs.time":"","importLogs.filter.dataset":"  ","importLogs.filter.status":"  ","importLogs.filter.search":"  ...","importLogs.noData":"    ","Import Logs":" ","empty.noMoreCustomers":"   ","template.downloadExcel":"  Excel","template.downloadDescription":"     ","template.downloadButton":" ","template.requiredFields":" :","Lead Stages":" ","Active Campaigns":" ","Active Campaigns Overview":"    ","Key Performance Metrics":"  ","Total Active":" ","Avg. Open Rate":"  ","Avg. Click Rate":"  ","Conversion Rate":" ","Last 30 Days":" 30 ","Top Campaigns":" ","Show Paused":" ","Hide Paused":" ","Open Rate":" ","Click Rate":" ","On Track":" ","At Risk":" ",Paused:"","Active Users":" ","Last Seen":" ","List View":" ","Chart View":"  ",Refresh:"","All Leads":" ",Duplicate:"","New Lead":"  ","Cold Call":" ","follow up":"","Actions at CRM":"  CRM","Follow Ups":"",Completed:"",Manager:"",Employees:"","Date Range":" ","Date Input Placeholder":"//",future:"",contacted:" ",meeting_after:" ",follow_up_after:" ",reschedule_meeting:"  ",no_answer_1st_call:"    ",meeting:"",follow_up:"",cancel_after:" ",deal:"",not_interested:" ",next:"",follow_up_after_meeting:"  ","Show All":" ",From:"",To:"",Clear:"","The Best":"","Your top agents for the number of actions.":"     .",Today:"",Weekly:"",Monthly:"","All Time":" ","Quick Numbers":"  ","Duplicate Leads":" ","Fresh Leads":" ","New Leads":" ","Pending Leads":"  ","Cold Leads":" ","Cold Calls":" ","of all system leads":"   ","Not Available":" ","Lead Name":" ",Mobile:"","Stage Date":" ","Last Comment":" ",preview:"",cancel_after:" ",deal:"",not_interested:" ",next:"","Show Less":" ","Show More":" ","Leads Analysis":"  ","Pipeline Analysis":"  ",Measures:"","Days to Assign":" ","Days to Close":" ","Days To Convert":" ","Exceeded Closing Days":"  ","Expected Revenue":" ","Prorated Revenue":" ",Total:"","Peak Month":" ",Average:"","vs Last Month":"  ",Active:"",Inactive:" ",Yes:"",No:"",Year:"","Previous Period":" ",Count:"","Search...":"...","Active or Inactive":"   ","Created on":"  ",Sales:"","Leads Analysis":"  ","Pipeline Analysis":"  ",Measures:"","Days to Assign":" ","Days to Close":" ","Days To Convert":" ","Exceeded Closing Days":"  ","Expected Revenue":" ","Prorated Revenue":" ",Count:"","Search...":"...","Active or Inactive":"   ","Created on":"  ",Sales:"","Search Leads":" ","All Statuses":" ",Contacted:" ","All Sources":" ",Referral:"","Email Campaign":"  ","All Priorities":" ",High:"",Medium:"",Low:"","Bulk Actions":" ","Export Selected":" ","Delete Selected":" ","Change Status":" ","Add New Lead":"  ","Lead Name":" ",Email:" ",Status:"",Priority:"",Source:"",Assigned:"",Value:"","Last Contact":" ","Created Date":" ",Actions:"",View:"",Edit:"",Delete:"",Showing:"",of:"",results:"",Previous:"",Next:"",Contact:" ",selected:"","Update Status":" ","Select Status":" ","Apply Status":" ","Assign Owner":" ","Select Owner":" ",Assign:"","Apply Filters":" ",Reset:" ","Filter Options":" ","All Status":" ","All Priority":" ","Lead Statistics":" ","Display Options":" ","Show/Hide Columns":"/ ","Search columns...":"  ...","Reset Columns":"  ",Theme:"",welcome_super_admin:"  !",Admin:"","+100% of all system leads":"+100%    ","+8.2% from last month":"+8.2%   ","+5.1% from last month":"+5.1%   ","-2.3% from last month":"-2.3%   ","Add Leads in Excel Sheet":"     ","Add Row":" ","Delete Row":" ","Save Leads":" ",Close:"",Urgent:"",Referral:"","Select Manager":" ","Select Employee":" ","From Date":" ","To Date":" ",Cancel:"","Add New Lead":"  ","Import Leads":" ","Add Demo Leads":"  ","Please select items to restore":"    ","Please select items to delete":"    ","Are you sure you want to restore the selected leads?":"      ","Are you sure you want to permanently delete the selected leads? This action cannot be undone.":"             .","Add Landing Page":"  ",General:"",Description:"",Media:"",Script:"",Title:"","Enter title":" ",Channel:"","Select Channel":" ",Project:"","Select Project":" ","Target URL":" ","Short Description":" ","Upload Media":" ","Header Script":" ","Body Script":" ","Saving...":" ...",Create:"","Saved successfully":"  ",Open:"","Coming soon":"","Reports Dashboard":" ","Sales Report":" ","Lead Report":"  ","Marketing Reports":" ","Team Report":" ","Meetings Report":" ","Sms Report":" ","Calls Report":" ","Team Performance Report":"  ",Opportunities:"",Cils:"Cils",Calls:"",EOI:" ",Reservation:"",Deals:"","Cancel Reasons":" ","Opened This Month":"  ","Closed This Month":"  ","Open Chances":" ","Missed Chances":" ",Remaining:"","Closed Chances":" ","Data List":" ","Export List":" ","Show Entries":" ",Previous:"",Next:"","No data":"  ","Export Report":" ",Status:"",Reason:"",Count:"","Reports KPIs":" ","Employees Reporting":" ","Generated Reports":" ","Scheduled Reports":" ","Failed Reports":" ","Avg Generation Time":"   ","Report Types":" ",PDF:"  ",Excel:"",Email:" ","Reports per Employee":"  ","Success Rate":" ","Last Activity":" ","Dashboard Overview":"   ","Show All":" ","Hide Less Active":"  ",Minutes:"","reports.sales.desc":"      .","reports.leads.desc":"      .","reports.marketing.desc":"      .","reports.team.desc":"      .","reports.meetings.desc":"     .","reports.sms.desc":"      .","reports.calls.desc":"      .","reports.team_performance.desc":"     .","salesActions.lastUpdate":" ",Update:"","Updating...":" ...","salesActions.reservations":"","salesActions.totalRevenue":" ","salesActions.accounts":"","salesActions.callsBreakdown":" ","salesActions.byType":" ","salesActions.noCalls":"  ","salesActions.topTeam":" ","salesActions.viewTeamDetails":"  ","salesActions.noTeamData":"   ","salesActions.leaderboard":"  ","salesActions.byAccounts":" ","salesActions.monthlyReservationsSummary":"   ","salesActions.lastMonths":" {{months}} ",Month:"",Revenue:"",View:"",Details:"",Rank:"",Conversion:"",Team:"",Excel:"",PDF:"PDF",Print:"","teamDetails.title":" ","teamDetails.roster":"","teamDetails.search":"...","teamDetails.noMembers":"  ","teamDetails.managerialControls":" ","teamDetails.assignNewTask":"  ","teamDetails.sendNote":" /","teamDetails.openPerformanceReview":"   ","teamDetails.suspend":" ","teamDetails.reactivate":" ","teamDetails.tabs.profile":"","teamDetails.tabs.performance":"","teamDetails.tabs.projects":"","teamDetails.tabs.permissions":"","teamDetails.tabs.activity":"","teamDetails.basicInfo":" ","teamDetails.fields.fullName":" ","teamDetails.fields.jobTitle":" ","teamDetails.fields.department":"","teamDetails.fields.employeeId":" ","teamDetails.fields.email":" ","teamDetails.fields.phone":"","teamDetails.fields.joinDate":" ","teamDetails.fields.status":"",Active:"","On Leave":" ",Inactive:" ","teamDetails.performanceMetrics":" ","teamDetails.metrics.totalTasks":" ","teamDetails.metrics.tasksCompletionRate":"  ","teamDetails.metrics.avgResponseTime":"  ","teamDetails.metrics.attendanceRate":" ","teamDetails.metrics.performanceScore":" ","teamDetails.metrics.lastEvaluation":" ","teamDetails.projectsAndResponsibilities":" ",Started:"",Tasks:"","View Project":" ",Reset:" ","teamDetails.noProjects":"  ","teamDetails.permissionsAndAccess":" ","teamDetails.regionBranch":"/","teamDetails.availableModules":" ","teamDetails.updateAccess":" ","teamDetails.restrictAccess":" ","teamDetails.activityLog":" ","teamDetails.filterByDate":" ","activity.leadUpdated":"   ","activity.dealClosed":"  ","activity.newRequestCreated":"   ","security.passwordAuth":"  ","security.save":"","security.currentPassword":"  ","security.newPassword":"  ","security.confirmPassword":"  ","security.passwordMismatch":"   ","security.twoFactor":" ","security.defaultMethod":" ","security.emailOtp":"  ","security.sms":" ","security.app":" ","security.enableMethods":" ","security.enableNotice":"        .","security.setup2fa":"  ","security.accountAccess":" ","security.editPermissions":" ","security.activeSessions":" ","security.device":"","security.location":"","security.lastActive":" ","security.action":"","security.noSessions":"   ","security.logout":" ","security.logoutAll":"    ","security.securityNotifications":" ","security.loginNewDevice":"    ","security.passwordChange":"  ","security.failedLogins":"   ","security.notificationMethod":" ","security.push":" ","security.policies":"   ","security.minLength":" ","security.failedLimit":"   ","security.charReq":" ","security.upper":" ","security.lower":" ","security.number":"","security.special":" ","security.lockoutPolicy":"  ","security.tempLockout":" ","security.lockoutNote":"     .","security.auditLogs":" ","security.modal.setupTitle":"  ","security.modal.setupHelp":"     .","security.modal.logoutTitle":"  ","security.modal.logoutDesc":"    .","security.modal.editPermsTitle":" ","security.perms.viewCustomers":" ","security.perms.editCustomers":" ","security.perms.manageUsers":" ","security.perms.viewBilling":" ","common.cancel":"","common.save":"",Attachment:"","Selected file":" ",Remove:"","Tax Rate (%)":"  (%)","Create Quotation":"  ",Opportunity:"",Select:"","Loading...":" ...","Sent successfully":"  ","Conversion created successfully":"   ","Tax rate updated":"   ","Failed to update tax rate":"   ","Product / Service":" / ",SKU:" ",Quantity:"","Unit Price":" ",Discount:"",Subtotal:" ",Tax:"",Total:"",Quotations:" ",Sales:"",Created:" ",ID:"","Send to Customer":"  ","Convert to Sales Order":"   ","Convert to Quotation":"   ",Amount:"",Stage:"","Expected Close Date":"  ","Contact (B2B)":"  (B2B)","Contact person":"  ","Quick add":" ","Add Opportunity":" ",Optional:"",Individual:"","Company name":" ",Tags:"","Comma separated":" ","Assigned Rep":" ","Sales representative":" ","Quick Add Customer":"  "}}};Rs.use(Zte).init({resources:qCe,lng:(()=>{try{if(typeof window<"u"&&window.localStorage){const e=window.localStorage.getItem("systemPrefs");if(e){const a=JSON.parse(e);if(a&&a.language)return a.language}const t=window.localStorage.getItem("language");if(t)return t}}catch{}return"en"})(),fallbackLng:"en",interpolation:{escapeValue:!1}});function GCe(){const{t:e}=Et(),t=Rs.language==="ar",a=w.useMemo(()=>({allowAssignRotation:!0,delayAssignRotation:!1,workFrom:"00:00",workTo:"23:59",reshuffleColdLeads:!1,reshuffleColdLeadsNumber:0}),[]),[r,n]=w.useState(a),[i,l]=w.useState(!1);w.useEffect(()=>{try{const x=localStorage.getItem("rotationSettings");if(x){const p=JSON.parse(x);n({...a,...p})}}catch{}},[a]);const o=x=>{n(p=>({...p,...x})),l(!0)},c=()=>{try{localStorage.setItem("rotationSettings",JSON.stringify(r)),l(!1)}catch{}},d=()=>{n(a),l(!0)},u=({label:x,value:p,onChange:v})=>s.jsxs("div",{className:"flex items-center justify-between py-3",children:[s.jsx("div",{className:"text-sm text-[var(--content-text)] opacity-80",children:x}),s.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"hidden",checked:!!p,onChange:g=>v(g.target.checked)}),s.jsx("span",{className:`w-11 h-6 flex items-center rounded-full p-1 transition ${p?"bg-blue-600":"bg-gray-300 dark:bg-gray-700"}`,children:s.jsx("span",{className:`w-4 h-4 rounded-full bg-white transform transition ${p?t?"-translate-x-0 translate-x-0":"translate-x-5":"translate-x-0"}`})}),s.jsx("span",{className:"ml-2 text-sm",children:e(p?"Yes":"No")})]})]}),f=({label:x,value:p,onChange:v})=>s.jsxs("div",{className:"flex items-center gap-3 py-2",children:[s.jsx("div",{className:"text-sm text-[var(--content-text)] opacity-80 w-28",children:x}),s.jsx("input",{type:"time",value:p,onChange:g=>v(g.target.value),className:"px-3 py-2 rounded-lg border bg-white/80 dark:bg-gray-800/70"})]});return s.jsx(ea,{title:e("Rotation Settings"),children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h2",{className:"text-2xl font-bold",children:e("Rotation Settings")})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-4 space-y-4",children:[s.jsx(u,{label:e("Allow Assign Rotation"),value:r.allowAssignRotation,onChange:x=>o({allowAssignRotation:x})}),s.jsx(u,{label:e("Delay Assign Rotation"),value:r.delayAssignRotation,onChange:x=>o({delayAssignRotation:x})}),s.jsxs("div",{className:`py-2 ${t?"text-right":""}`,children:[s.jsx("div",{className:"text-sm text-[var(--content-text)] opacity-80 mb-2",children:e("Working Hours From")}),s.jsxs("div",{className:`flex items-center gap-4 ${t?"flex-row-reverse":""}`,children:[s.jsx(f,{label:e("From"),value:r.workFrom,onChange:x=>o({workFrom:x})}),s.jsx("span",{className:"opacity-70",children:e("To")}),s.jsx(f,{label:"",value:r.workTo,onChange:x=>o({workTo:x})})]})]}),s.jsx(u,{label:e("Reshuffle Cold Leads"),value:r.reshuffleColdLeads,onChange:x=>o({reshuffleColdLeads:x})}),s.jsxs("div",{className:"py-2",children:[s.jsx("div",{className:"text-sm text-[var(--content-text)] opacity-80 mb-2",children:e("Reshuffle Cold Leads Number")}),s.jsx("input",{type:"number",min:0,value:r.reshuffleColdLeadsNumber,onChange:x=>o({reshuffleColdLeadsNumber:Number(x.target.value||0)}),className:"w-40 px-3 py-2 rounded-lg border bg-white/80 dark:bg-gray-800/70"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2 border-t border-[var(--panel-border)]",children:[s.jsx("button",{className:"px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100",onClick:d,children:e("Reset")}),s.jsx("button",{className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700 disabled:opacity-50",disabled:!i,onClick:c,children:e("Save")})]})]})]})})}const _G="contracts.settings";function $C(){return{general:{enabled:!0,defaultStatus:"Draft",defaultTemplateId:"",defaultAssigneeId:"",expiryDays:30,autoRenew:!1,renewalTermMonths:12,renewalGraceDays:7},templates:[{id:"basic-contract",name:"Basic Contract",fields:[{key:"customerName",label:"Customer Name",required:!0,type:"text"},{key:"service",label:"Product/Service",required:!0,type:"text"},{key:"amount",label:"Amount",required:!0,type:"number"},{key:"startDate",label:"Start Date",required:!0,type:"date"},{key:"endDate",label:"End Date",required:!1,type:"date"},{key:"terms",label:"Terms",required:!1,type:"textarea"}],dynamicTokens:["{{customer}}","{{lead.id}}","{{sales.opportunityId}}"]}],notifications:{recipients:{admin:!0,broker:!0,customer:!0},methods:{email:!0,sms:!1,inApp:!0},messages:{created:"Contract created for {{customer}}",pending:"Contract pending signature",signed:"Contract signed successfully",expired:"Contract expired. Consider renewal."}},workflow:{autoGenerateFromSales:!0,autoLinkToInvoice:!1,autoRenewContracts:!1,minApprovalRequired:"Manager"}}}async function KCe(){try{const e=await fetch("/api/contracts/settings");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem(_G):null;if(e)return JSON.parse(e)}catch{}return $C()}async function r9(e){try{if((await fetch("/api/contracts/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return!0}catch{}try{if(typeof window<"u")return window.localStorage.setItem(_G,JSON.stringify(e)),!0}catch{}return!1}function YCe(){const{t:e,i18n:t}=Et();w.useMemo(()=>t.dir()==="rtl",[t]);const[a,r]=w.useState(!0),[n,i]=w.useState(!1),[l,o]=w.useState($C()),[c,d]=w.useState("general"),[u,f]=w.useState(""),[x]=w.useState([{id:"st1",name:"Staff A"},{id:"st2",name:"Staff B"},{id:"bk1",name:"Broker X"}]);w.useEffect(()=>{let k=!0;return(async()=>{const A=await KCe();k&&(o(_=>({..._,...A})),r(!1))})(),()=>{k=!1}},[]);const p=[{key:"general",label:e("General Settings")},{key:"templates",label:e("Contract Templates")},{key:"notifications",label:e("Notifications")},{key:"workflow",label:e("Workflow & Rules")}],v=(k,A)=>{o(_=>{const M={..._},L=k.split(".");let U=M;for(let z=0;z<L.length-1;z++)U[L[z]]={...U[L[z]]},U=U[L[z]];return U[L[L.length-1]]=A,M})},g=async()=>{i(!0),await r9(l),i(!1)},b=async()=>{const k=$C();o(k),await r9(k)},j=()=>{const k=`tpl-${Date.now()}`,A={id:k,name:"New Template",fields:[{key:"customerName",label:"Customer Name",required:!0,type:"text"},{key:"amount",label:"Amount",required:!0,type:"number"},{key:"startDate",label:"Start Date",required:!0,type:"date"}],dynamicTokens:["{{customer}}"]};o(_=>({..._,templates:[..._.templates,A]})),f(k)},N=k=>{o(A=>({...A,templates:A.templates.filter(_=>_.id!==k)})),u===k&&f(""),l.general.defaultTemplateId===k&&v("general.defaultTemplateId","")},S=(k,A)=>{o(_=>({..._,templates:_.templates.map(M=>M.id===k?{...M,...A}:M)}))};return a?s.jsxs("div",{className:"p-4 text-[var(--muted-text)]",children:[e("Loading"),"..."]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(k=>s.jsx("button",{className:`btn btn-outline btn-sm ${c===k.key?"bg-primary text-white":""}`,onClick:()=>d(k.key),children:k.label},k.key))}),c==="general"&&s.jsx("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Enable Contracts Module")}),s.jsx("input",{type:"checkbox",checked:l.general.enabled,onChange:k=>v("general.enabled",k.target.checked)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Contract Status")}),s.jsx("select",{className:"input",value:l.general.defaultStatus,onChange:k=>v("general.defaultStatus",k.target.value),children:["Draft","Pending Signature","Signed","Cancelled"].map(k=>s.jsx("option",{value:k,children:e(k)},k))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Template")}),s.jsxs("select",{className:"input",value:l.general.defaultTemplateId,onChange:k=>v("general.defaultTemplateId",k.target.value),children:[s.jsx("option",{value:"",children:e("None")}),l.templates.map(k=>s.jsx("option",{value:k.id,children:k.name},k.id))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Assigned Staff / Broker")}),s.jsxs("select",{className:"input",value:l.general.defaultAssigneeId,onChange:k=>v("general.defaultAssigneeId",k.target.value),children:[s.jsx("option",{value:"",children:e("None")}),x.map(k=>s.jsx("option",{value:k.id,children:k.name},k.id))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Contract Expiry (days)")}),s.jsx("input",{type:"number",min:0,className:"input",value:l.general.expiryDays,onChange:k=>v("general.expiryDays",parseInt(k.target.value||"0",10))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-Renew Contracts")}),s.jsx("input",{type:"checkbox",checked:l.general.autoRenew,onChange:k=>v("general.autoRenew",k.target.checked)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Renewal Term (months)")}),s.jsx("input",{type:"number",min:1,className:"input",value:l.general.renewalTermMonths,onChange:k=>v("general.renewalTermMonths",parseInt(k.target.value||"0",10))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Renewal Grace (days)")}),s.jsx("input",{type:"number",min:0,className:"input",value:l.general.renewalGraceDays,onChange:k=>v("general.renewalGraceDays",parseInt(k.target.value||"0",10))})]})]})}),c==="templates"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-base font-semibold",children:e("Contract Templates")}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:j,children:e("Add Template")})})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"p-2",children:e("Name")}),s.jsx("th",{className:"p-2",children:e("Fields")}),s.jsx("th",{className:"p-2",children:e("Actions")})]})}),s.jsx("tbody",{children:l.templates.map(k=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-2",children:s.jsx("input",{className:"input",value:k.name,onChange:A=>S(k.id,{name:A.target.value})})}),s.jsx("td",{className:"p-2",children:s.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:[e("Fields"),": ",k.fields.length]})}),s.jsx("td",{className:"p-2",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"btn btn-outline btn-sm",onClick:()=>f(u===k.id?"":k.id),children:u===k.id?e("Close"):e("Edit")}),s.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>N(k.id),children:e("Delete")})]})})]},k.id))})]})}),u&&s.jsx("div",{className:"rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:l.templates.filter(k=>k.id===u).map(k=>s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"font-medium",children:[e("Edit Template"),": ",k.name]}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>f(""),children:e("Done")})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:k.fields.map((A,_)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"input flex-1",value:A.label,onChange:M=>{const L=[...k.fields];L[_]={...A,label:M.target.value},S(k.id,{fields:L})}}),s.jsx("select",{className:"input w-32",value:A.type,onChange:M=>{const L=[...k.fields];L[_]={...A,type:M.target.value},S(k.id,{fields:L})},children:["text","number","date","textarea"].map(M=>s.jsx("option",{value:M,children:M},M))}),s.jsxs("label",{className:"text-xs inline-flex items-center gap-1",children:[s.jsx("input",{type:"checkbox",checked:A.required,onChange:M=>{const L=[...k.fields];L[_]={...A,required:M.target.checked},S(k.id,{fields:L})}}),e("Required")]})]},A.key))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"btn btn-outline btn-sm",onClick:()=>{const A=[...k.fields,{key:`field_${k.fields.length+1}`,label:"New Field",required:!1,type:"text"}];S(k.id,{fields:A})},children:e("Add Field")}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>S(k.id,{dynamicTokens:[...k.dynamicTokens||[],"{{contract.id}}"]}),children:e("Add Dynamic Token")})]})]},k.id))})]}),c==="notifications"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Recipients")}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.recipients.admin,onChange:k=>v("notifications.recipients",{...l.notifications.recipients,admin:k.target.checked})})," Admin"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.recipients.broker,onChange:k=>v("notifications.recipients",{...l.notifications.recipients,broker:k.target.checked})})," Broker"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.recipients.customer,onChange:k=>v("notifications.recipients",{...l.notifications.recipients,customer:k.target.checked})})," Customer"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Methods")}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.methods.email,onChange:k=>v("notifications.methods",{...l.notifications.methods,email:k.target.checked})})," Email"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.methods.sms,onChange:k=>v("notifications.methods",{...l.notifications.methods,sms:k.target.checked})})," SMS"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.methods.inApp,onChange:k=>v("notifications.methods",{...l.notifications.methods,inApp:k.target.checked})})," In-App"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["created","pending","signed","expired"].map(k=>s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e(`Message: ${k.charAt(0).toUpperCase()+k.slice(1)}`)}),s.jsx("textarea",{className:"input h-24",value:l.notifications.messages[k],onChange:A=>v("notifications.messages",{...l.notifications.messages,[k]:A.target.value})})]},k))})]}),c==="workflow"&&s.jsx("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-generate Contract from Sales Opportunity")}),s.jsx("input",{type:"checkbox",checked:l.workflow.autoGenerateFromSales,onChange:k=>v("workflow.autoGenerateFromSales",k.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-link Contract to Invoice")}),s.jsx("input",{type:"checkbox",checked:l.workflow.autoLinkToInvoice,onChange:k=>v("workflow.autoLinkToInvoice",k.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-renew Contracts")}),s.jsx("input",{type:"checkbox",checked:l.workflow.autoRenewContracts,onChange:k=>v("workflow.autoRenewContracts",k.target.checked)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Minimum Approval Required")}),s.jsx("select",{className:"input",value:l.workflow.minApprovalRequired,onChange:k=>v("workflow.minApprovalRequired",k.target.value),children:["None","Admin","Manager"].map(k=>s.jsx("option",{value:k,children:e(k)},k))})]})]})}),s.jsxs("div",{className:"sticky bottom-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur border-t p-4 flex items-center justify-end gap-2 rounded-t-2xl",children:[s.jsx("button",{className:"btn btn-glass",onClick:b,children:e("Reset to Default")}),s.jsx("button",{className:"btn btn-primary",onClick:g,disabled:n,children:e(n?"Saving...":"Save Changes")})]})]})}function XCe(){const{t:e}=Et();return s.jsx(ea,{title:e("Contracts Settings"),children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:e("Contracts Settings")}),s.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-800",children:e("Admin Only")})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("Manage contract templates, required fields, e-sign rules, and integration with Sales/Invoice/Reservation.")}),s.jsx(YCe,{})]})})}const TG="buyer_request_reset.settings";function UC(){return{general:{enabled:!0,defaultResetStatus:"pending",maxResetsPerRequest:3},rules:{allowedRoles:["admin","broker"],allowedFields:["budget","location","propertyType","notes"],autoNotifyAssignedBroker:!0},notifications:{customer:{enabled:!0,methods:{email:!0,sms:!1,inApp:!0}},admin:{enabled:!0,methods:{email:!0,sms:!1,inApp:!0}},broker:{enabled:!0,methods:{email:!0,sms:!1,inApp:!0}}},workflowLogs:{trackResetHistory:!0,displayChanges:!0,autoConvertToLead:!1,autoConvertToEoi:!1}}}async function QCe(){try{const e=await fetch("/api/buyer-request-reset/settings");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem(TG):null;if(e)return JSON.parse(e)}catch{}return UC()}async function JCe(e){try{if(!(await fetch("/api/buyer-request-reset/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to save")}catch{}try{typeof window<"u"&&window.localStorage.setItem(TG,JSON.stringify(e))}catch{}}function ZCe(){const{t:e,i18n:t}=Et();w.useMemo(()=>t.dir()==="rtl",[t]);const[a,r]=w.useState(!0),[n,i]=w.useState(!1),[l,o]=w.useState(UC()),[c,d]=w.useState("general"),u=[{key:"general",label:e("General Settings")},{key:"rules",label:e("Reset Rules")},{key:"notifications",label:e("Notifications")},{key:"workflow",label:e("Workflow & Logs")}];w.useEffect(()=>{let v=!0;return(async()=>{const g=await QCe();v&&(o(b=>({...b,...g})),r(!1))})(),()=>{v=!1}},[]);const f=(v,g)=>{o(b=>{const j={...b},N=v.split(".");let S=j;for(let k=0;k<N.length-1;k++)S[N[k]]={...S[N[k]]},S=S[N[k]];return S[N[N.length-1]]=g,j})},x=async()=>{i(!0),await JCe(l),i(!1)},p=()=>{const v=UC();o(v)};return a?s.jsx("div",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6",children:s.jsx("div",{className:"animate-pulse text-sm text-gray-500",children:e("Loading settings...")})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(v=>s.jsx("button",{onClick:()=>d(v.key),className:`px-3 py-2 text-sm rounded-full border ${c===v.key?"bg-gray-900 text-white dark:bg-white dark:text-black":"bg-white dark:bg-gray-900 text-gray-700 dark:text-gray-200"} border-gray-200 dark:border-gray-700`,children:v.label},v.key))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:p,className:"px-3 py-2 text-sm rounded bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-700",children:e("Reset to Default")}),s.jsx("button",{onClick:x,disabled:n,className:`px-3 py-2 text-sm rounded ${n?"opacity-70 cursor-not-allowed":""} bg-blue-600 text-white`,children:e(n?"Saving...":"Save Changes")})]})]}),c==="general"&&s.jsx("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Enable Buyer Request Reset")}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:l.general.enabled,onChange:v=>f("general.enabled",v.target.checked)}),s.jsx("span",{children:l.general.enabled?e("Enabled"):e("Disabled")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Default Reset Status")}),s.jsx("select",{className:"input",value:l.general.defaultResetStatus,onChange:v=>f("general.defaultResetStatus",v.target.value),children:["pending","draft","verified"].map(v=>s.jsx("option",{value:v,children:e(v)},v))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Max Number of Resets per Request")}),s.jsx("input",{type:"number",min:0,className:"input",value:l.general.maxResetsPerRequest,onChange:v=>f("general.maxResetsPerRequest",Number(v.target.value))})]})]})}),c==="rules"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Allowed Roles")}),s.jsx("div",{className:"flex flex-wrap gap-3 text-sm",children:["admin","broker","customer"].map(v=>s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.rules.allowedRoles.includes(v),onChange:g=>{const j=g.target.checked?[...l.rules.allowedRoles,v]:l.rules.allowedRoles.filter(N=>N!==v);f("rules.allowedRoles",j)}}),s.jsx("span",{children:e(v)})]},v))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Fields Allowed for Reset")}),s.jsx("div",{className:"flex flex-wrap gap-3 text-sm",children:[{key:"budget",label:e("Budget")},{key:"location",label:e("Location")},{key:"propertyType",label:e("Property Type")},{key:"notes",label:e("Notes")}].map(v=>s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.rules.allowedFields.includes(v.key),onChange:g=>{const j=g.target.checked?[...l.rules.allowedFields,v.key]:l.rules.allowedFields.filter(N=>N!==v.key);f("rules.allowedFields",j)}}),s.jsx("span",{children:v.label})]},v.key))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Auto-Notify Assigned Broker After Reset")}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:l.rules.autoNotifyAssignedBroker,onChange:v=>f("rules.autoNotifyAssignedBroker",v.target.checked)}),s.jsx("span",{children:l.rules.autoNotifyAssignedBroker?e("Enabled"):e("Disabled")})]})]})]}),c==="notifications"&&s.jsx("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["customer","admin","broker"].map(v=>s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e(`Notify ${v.charAt(0).toUpperCase()+v.slice(1)}`)}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:l.notifications[v].enabled,onChange:g=>f(`notifications.${v}.enabled`,g.target.checked)}),s.jsx("span",{children:l.notifications[v].enabled?e("Enabled"):e("Disabled")})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications[v].methods.email,onChange:g=>f(`notifications.${v}.methods`,{...l.notifications[v].methods,email:g.target.checked})}),s.jsx("span",{children:e("Email")})]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications[v].methods.sms,onChange:g=>f(`notifications.${v}.methods`,{...l.notifications[v].methods,sms:g.target.checked})}),s.jsx("span",{children:e("SMS")})]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications[v].methods.inApp,onChange:g=>f(`notifications.${v}.methods`,{...l.notifications[v].methods,inApp:g.target.checked})}),s.jsx("span",{children:e("In-App")})]})]})]},v))})}),c==="workflow"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Track Reset History per Request")}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:l.workflowLogs.trackResetHistory,onChange:v=>f("workflowLogs.trackResetHistory",v.target.checked)}),s.jsx("span",{children:l.workflowLogs.trackResetHistory?e("Enabled"):e("Disabled")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Display Who Reset, When, and Which Fields Changed")}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:l.workflowLogs.displayChanges,onChange:v=>f("workflowLogs.displayChanges",v.target.checked)}),s.jsx("span",{children:l.workflowLogs.displayChanges?e("Enabled"):e("Disabled")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Auto-Convert Reset to Lead")}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:l.workflowLogs.autoConvertToLead,onChange:v=>f("workflowLogs.autoConvertToLead",v.target.checked)}),s.jsx("span",{children:l.workflowLogs.autoConvertToLead?e("Enabled"):e("Disabled")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Auto-Convert Reset to EOI")}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:l.workflowLogs.autoConvertToEoi,onChange:v=>f("workflowLogs.autoConvertToEoi",v.target.checked)}),s.jsx("span",{children:l.workflowLogs.autoConvertToEoi?e("Enabled"):e("Disabled")})]})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[s.jsxs("div",{children:[e("Logs endpoint"),": /api/buyer-request-reset/logs"]}),s.jsxs("div",{children:[e("Apply reset endpoint"),": /api/buyer-request-reset/apply"]}),s.jsxs("div",{children:[e("Notifications endpoint"),": /api/buyer-request-reset/notify"]})]})]})]})}function e6e(){const{t:e}=Et();return s.jsx(ea,{title:e("Buyer Request Reset Settings"),children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:e("Buyer Request Reset Settings")}),s.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-800",children:e("Admin Only")})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("Configure reset permissions, notifications, and workflow/logs for buyer requests.")}),s.jsx(ZCe,{})]})})}const EG="matching.settings";function DG(e="Default Profile"){return{id:`${Date.now()}`,name:e,fields:{location:!0,budget:!0,propertyType:!0,leadPriority:!0,tags:!1},weights:{location:40,budget:30,propertyType:30,leadPriority:0,tags:0}}}function zC(){const e=DG();return{general:{enabled:!0,defaultStatus:"Pending",autoMatching:!0},criteria:{profiles:[e],activeProfileId:e.id},notifications:{notifyBroker:!0,notifyCustomer:!1,methods:{email:!0,sms:!1,inApp:!0}},workflow:{trackHistory:!0,showScore:!0,manualOverride:{admin:!0,broker:!0}}}}async function t6e(){try{const e=await fetch("/api/matching/settings");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem(EG):null;if(e)return JSON.parse(e)}catch{}return zC()}async function a6e(e){try{if((await fetch("/api/matching/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return!0}catch{}try{if(typeof window<"u")return window.localStorage.setItem(EG,JSON.stringify(e)),!0}catch{}return!1}async function r6e(){try{const e=await fetch("/api/matching/logs");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem("matching.logs"):null;if(e)return JSON.parse(e)}catch{}return[]}async function s6e(e={}){try{const t=await fetch("/api/matching/run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)return await t.json()}catch{}return{status:"mocked",matchedCount:0,message:"Mock run completed."}}async function n6e(e={}){try{const t=await fetch("/api/matching/notify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)return await t.json()}catch{}return{status:"mocked",message:"Notifications simulated."}}function i6e(){const{t:e,i18n:t}=Et(),a=t.language==="ar",[r,n]=w.useState(zC()),[i,l]=w.useState(!0),[o,c]=w.useState(!1),[d,u]=w.useState(null),[f,x]=w.useState("General"),[p,v]=w.useState([]),[g,b]=w.useState("");w.useEffect(()=>{let E=!0;return t6e().then(R=>{E&&(n(R),l(!1))}),()=>{E=!1}},[]);const j=(E,R)=>{n(q=>{const I={...q},G=E.split(".");let re=I;for(let te=0;te<G.length-1;te++)re[G[te]]={...re[G[te]]},re=re[G[te]];return re[G[G.length-1]]=R,I})},N=r.criteria.profiles||[],S=w.useMemo(()=>N.find(E=>E.id===r.criteria.activeProfileId)||N[0],[N,r.criteria.activeProfileId]),k=w.useMemo(()=>{const E=S?.weights||{};return(Number(E.location)||0)+(Number(E.budget)||0)+(Number(E.propertyType)||0)+(Number(E.leadPriority)||0)+(Number(E.tags)||0)},[S]),A=()=>{const E=g.trim()||"Profile",R=DG(E),q=[...N,R];j("criteria.profiles",q),j("criteria.activeProfileId",R.id),b(""),u({type:"success",message:e("Profile added")}),setTimeout(()=>u(null),1800)},_=E=>{const R=N.filter(I=>I.id!==E),q=E===r.criteria.activeProfileId?R[0]?.id||null:r.criteria.activeProfileId;j("criteria.profiles",R),j("criteria.activeProfileId",q),u({type:"info",message:e("Profile removed")}),setTimeout(()=>u(null),1800)},M=(E,R)=>{const q=N.map(I=>I.id===E?R({...I}):I);j("criteria.profiles",q)},L=async()=>{c(!0);const E=await a6e(r);c(!1),u({type:E?"success":"error",message:e(E?"Settings saved":"Failed to save settings")}),setTimeout(()=>u(null),2e3)},U=()=>{const E=zC();n(E),u({type:"info",message:e("Settings reset to default")}),setTimeout(()=>u(null),2e3)},z=async()=>{const E=await r6e();v(Array.isArray(E)?E:[])},O=async()=>{const E={profile:S,general:r.general};await s6e(E),u({type:"success",message:e("Matching run completed")}),setTimeout(()=>u(null),1500),await z()},B=async()=>{await n6e({methods:r.notifications.methods}),u({type:"info",message:e("Notifications sent (mock)")}),setTimeout(()=>u(null),1500)};return i?s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"animate-pulse h-6 w-40 bg-gray-200 dark:bg-gray-700 rounded"})}):s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsx("div",{className:"flex flex-wrap gap-2 border-b border-gray-200 dark:border-gray-700 pb-2",children:["General","Matching Criteria","Notifications","Workflow & Logs"].map(E=>s.jsx("button",{onClick:()=>x(E),className:`px-3 py-1.5 rounded text-sm ${f===E?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200"}`,children:e(E)},E))}),f==="General"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.general.enabled,onChange:E=>j("general.enabled",E.target.checked)}),s.jsx("label",{className:"font-medium",children:e("Enable Matching System")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"font-medium w-48",children:e("Default Matching Status")}),s.jsx("select",{value:r.general.defaultStatus,onChange:E=>j("general.defaultStatus",E.target.value),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700",children:["Pending","Matched","Unmatched"].map(E=>s.jsx("option",{value:E,children:e(E)},E))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.general.autoMatching,onChange:E=>j("general.autoMatching",E.target.checked)}),s.jsx("label",{className:"font-medium",children:e("Auto-Matching Enabled")})]})]}),f==="Matching Criteria"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"rounded border border-gray-200 dark:border-gray-700 p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:"font-semibold",children:e("Matching Profiles")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{value:g,onChange:E=>b(E.target.value),placeholder:e("Profile name"),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700"}),s.jsx("button",{onClick:A,className:"px-3 py-1 rounded bg-blue-600 text-white text-sm",children:e("Add Profile")})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(E=>s.jsxs("div",{className:`px-3 py-1 rounded text-sm flex items-center gap-2 ${E.id===S?.id?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800"}`,children:[s.jsx("input",{type:"radio",name:"activeProfile",checked:E.id===S?.id,onChange:()=>j("criteria.activeProfileId",E.id)}),s.jsx("span",{children:E.name}),s.jsx("button",{onClick:()=>_(E.id),className:"text-xs opacity-80",children:e("Remove")})]},E.id))})]}),S&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"font-semibold",children:e("Fields for Matching")}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[{key:"location",label:"Location"},{key:"budget",label:"Budget"},{key:"propertyType",label:"Property Type"},{key:"leadPriority",label:"Lead Priority"},{key:"tags",label:"Tags / Keywords"}].map(E=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:!!S.fields[E.key],onChange:R=>M(S.id,q=>(q.fields[E.key]=R.target.checked,q))}),s.jsx("span",{children:e(E.label)})]},E.key))}),s.jsx("div",{className:"font-semibold",children:e("Matching Priority Weight (%)")}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[{key:"location",label:"Location"},{key:"budget",label:"Budget"},{key:"propertyType",label:"Property Type"},{key:"leadPriority",label:"Lead Priority"},{key:"tags",label:"Tags / Keywords"}].map(E=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"w-40",children:e(E.label)}),s.jsx("input",{type:"number",min:0,max:100,value:S.weights[E.key]??0,onChange:R=>M(S.id,q=>(q.weights[E.key]=Number(R.target.value)||0,q)),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-28"}),s.jsx("span",{className:"text-xs text-gray-500",children:e("%")})]},E.key))}),s.jsxs("div",{className:`text-sm ${k===100?"text-green-600":"text-amber-600"}`,children:[e("Total weight"),": ",k,"% ",k!==100&&e("(recommended: 100%)")]})]})]}),f==="Notifications"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.notifications.notifyBroker,onChange:E=>j("notifications.notifyBroker",E.target.checked)}),s.jsx("label",{className:"font-medium",children:e("Notify Assigned Broker / Staff After Match")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.notifications.notifyCustomer,onChange:E=>j("notifications.notifyCustomer",E.target.checked)}),s.jsx("label",{className:"font-medium",children:e("Notify Customer if Matched")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-semibold",children:e("Methods")}),s.jsx("div",{className:"flex flex-wrap gap-4",children:[{key:"email",label:"Email"},{key:"sms",label:"SMS"},{key:"inApp",label:"In-App"}].map(E=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.notifications.methods[E.key],onChange:R=>j(`notifications.methods.${E.key}`,R.target.checked)}),s.jsx("span",{children:e(E.label)})]},E.key))})]})]}),f==="Workflow & Logs"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.workflow.trackHistory,onChange:E=>j("workflow.trackHistory",E.target.checked)}),s.jsx("label",{className:"font-medium",children:e("Track Matching History")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.workflow.showScore,onChange:E=>j("workflow.showScore",E.target.checked)}),s.jsx("label",{className:"font-medium",children:e("Display Matches & Score %")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-semibold",children:e("Manual Override Option")}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.workflow.manualOverride.admin,onChange:E=>j("workflow.manualOverride.admin",E.target.checked)}),s.jsx("span",{children:e("Admin")})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.workflow.manualOverride.broker,onChange:E=>j("workflow.manualOverride.broker",E.target.checked)}),s.jsx("span",{children:e("Broker")})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:O,className:"px-3 py-1.5 rounded bg-blue-600 text-white text-sm",children:e("Run Matching")}),s.jsx("button",{onClick:z,className:"px-3 py-1.5 rounded bg-gray-200 dark:bg-gray-700 text-sm",children:e("Refresh Logs")}),s.jsx("button",{onClick:B,className:"px-3 py-1.5 rounded bg-amber-500 text-white text-sm",children:e("Send Notifications")})]}),s.jsxs("div",{className:"rounded border border-gray-200 dark:border-gray-700 p-3",children:[s.jsx("div",{className:"font-semibold mb-2",children:e("Matching History")}),p.length===0?s.jsx("div",{className:"text-sm text-gray-500",children:e("No matching logs yet.")}):s.jsx("div",{className:"space-y-2",children:p.map((E,R)=>s.jsxs("div",{className:"text-sm flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:E.entity||"Item"}),s.jsx("span",{className:"opacity-70",children:E.score?`${E.score}%`:""})]}),s.jsx("div",{className:"opacity-70",children:E.time||""})]},R))})]})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:L,disabled:o,className:"px-4 py-2 rounded bg-green-600 text-white disabled:opacity-60",children:e(o?"Saving...":"Save Changes")}),s.jsx("button",{onClick:U,className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700",children:e("Reset to Default")})]}),d&&s.jsx("div",{className:`fixed bottom-4 ${a?"left-4":"right-4"} px-3 py-2 rounded text-sm shadow ${d.type==="error"?"bg-red-600 text-white":d.type==="success"?"bg-green-600 text-white":"bg-gray-800 text-white"}`,children:d.message})]})}function l6e(){const{t:e}=Et();return s.jsx(ea,{title:e("Matching Settings"),children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:e("Matching Settings")}),s.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-800",children:e("Admin Only")})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("Manage matching between Leads, EOI, Buyer Requests, Opportunities, and Properties/Products.")}),s.jsx(i6e,{})]})})}const MG="rent.configuration";function HC(e=1){return{id:`${Date.now()}-${e}`,name:`Unit ${e}`,rentPrice:1e3,minContractMonths:12,depositAmount:500,autoRenew:!0,currency:"USD"}}function VC(){const e=[HC(1),HC(2)];return{general:{enabled:!0,defaultStatus:"Active",defaultCurrency:"USD",paymentTerms:"Monthly",autoGenerateInvoice:!0},units:e,notifications:{customerBeforeDue:{email:!0,sms:!0,inApp:!0},adminLatePayment:!0,beforeExpiry:!1},workflow:{autoUpdateStatus:!0,trackPaymentHistory:!0,linkToContract:!0,linkToSalesOpportunity:!0}}}async function o6e(){try{const e=await fetch("/api/rent/configuration");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem(MG):null;if(e)return JSON.parse(e)}catch{}return VC()}async function c6e(e){try{if((await fetch("/api/rent/configuration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return!0}catch{}try{if(typeof window<"u")return window.localStorage.setItem(MG,JSON.stringify(e)),!0}catch{}return!1}async function d6e(e={}){try{const t=await fetch("/api/rent/generate-invoice",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)return await t.json()}catch{}return{status:"mocked",message:"Invoice generation simulated."}}async function u6e(){try{const e=await fetch("/api/rent/payment-history");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem("rent.paymentHistory"):null;if(e)return JSON.parse(e)}catch{}return[]}async function h6e(e={}){try{const t=await fetch("/api/rent/notify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)return await t.json()}catch{}return{status:"mocked",message:"Notifications simulated."}}function f6e(){const{t:e,i18n:t}=Et(),a=t.language==="ar",[r,n]=w.useState(VC()),[i,l]=w.useState(!0),[o,c]=w.useState(!1),[d,u]=w.useState(null),[f,x]=w.useState("General"),[p,v]=w.useState([]);w.useEffect(()=>{let L=!0;return o6e().then(U=>{L&&(n(U),l(!1))}),()=>{L=!1}},[]);const g=(L,U)=>{n(z=>{const O={...z},B=L.split(".");let E=O;for(let R=0;R<B.length-1;R++)E[B[R]]={...E[B[R]]},E=E[B[R]];return E[B[B.length-1]]=U,O})},b=()=>{const L=[...r.units,HC(r.units.length+1)];g("units",L)},j=L=>{const U=r.units.filter(z=>z.id!==L);g("units",U)},N=(L,U)=>{const z=r.units.map(O=>O.id===L?U({...O}):O);g("units",z)},S=async()=>{c(!0);const L=await c6e(r);c(!1),u({type:L?"success":"error",message:e(L?"Settings saved":"Failed to save settings")}),setTimeout(()=>u(null),2e3)},k=()=>{const L=VC();n(L),u({type:"info",message:e("Settings reset to default")}),setTimeout(()=>u(null),2e3)},A=async()=>{const L=await u6e();v(Array.isArray(L)?L:[])},_=async()=>{await d6e({units:r.units,general:r.general}),u({type:"success",message:e("Invoice generation triggered")}),setTimeout(()=>u(null),1500),await A()},M=async()=>{await h6e({methods:r.notifications.customerBeforeDue}),u({type:"info",message:e("Notifications sent (mock)")}),setTimeout(()=>u(null),1500)};return i?s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"animate-pulse h-6 w-40 bg-gray-200 dark:bg-gray-700 rounded"})}):s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsx("div",{className:"flex flex-wrap gap-2 border-b border-gray-200 dark:border-gray-700 pb-2",children:["General","Rent Units / Properties","Notifications","Workflow & Rules"].map(L=>s.jsx("button",{onClick:()=>x(L),className:`px-3 py-1.5 rounded text-sm ${f===L?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200"}`,children:e(L)},L))}),f==="General"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.general.enabled,onChange:L=>g("general.enabled",L.target.checked)}),s.jsx("label",{className:"font-medium",children:e("Enable Rent Module")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"font-medium w-56",children:e("Default Rent Status")}),s.jsx("select",{value:r.general.defaultStatus,onChange:L=>g("general.defaultStatus",L.target.value),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700",children:["Active","Pending","Expired"].map(L=>s.jsx("option",{value:L,children:e(L)},L))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"font-medium w-56",children:e("Default Currency")}),s.jsx("input",{value:r.general.defaultCurrency,onChange:L=>g("general.defaultCurrency",L.target.value),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-40"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"font-medium w-56",children:e("Default Payment Terms")}),s.jsx("select",{value:r.general.paymentTerms,onChange:L=>g("general.paymentTerms",L.target.value),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700",children:["Monthly","Quarterly","Yearly"].map(L=>s.jsx("option",{value:L,children:e(L)},L))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.general.autoGenerateInvoice,onChange:L=>g("general.autoGenerateInvoice",L.target.checked)}),s.jsx("label",{className:"font-medium",children:e("Auto-generate Invoice for Rent")})]})]}),f==="Rent Units / Properties"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-semibold",children:e("List of Units / Properties")}),s.jsx("button",{onClick:b,className:"px-3 py-1 rounded bg-blue-600 text-white text-sm",children:e("Add Unit / Property")})]}),s.jsx("div",{className:"space-y-3",children:r.units.map(L=>s.jsxs("div",{className:"rounded border border-gray-200 dark:border-gray-700 p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"w-40",children:e("Name / ID")}),s.jsx("input",{value:L.name,onChange:U=>N(L.id,z=>(z.name=U.target.value,z)),className:"input px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-full"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"w-40",children:e("Rent Price")}),s.jsx("input",{type:"number",value:L.rentPrice,onChange:U=>N(L.id,z=>(z.rentPrice=Number(U.target.value)||0,z)),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-40"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"w-56",children:e("Minimum Contract Duration")}),s.jsx("input",{type:"number",value:L.minContractMonths,onChange:U=>N(L.id,z=>(z.minContractMonths=Number(U.target.value)||0,z)),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-40"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"w-40",children:e("Deposit Amount")}),s.jsx("input",{type:"number",value:L.depositAmount,onChange:U=>N(L.id,z=>(z.depositAmount=Number(U.target.value)||0,z)),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-40"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"w-40",children:e("Auto-Renew Option")}),s.jsx("input",{type:"checkbox",checked:L.autoRenew,onChange:U=>N(L.id,z=>(z.autoRenew=U.target.checked,z))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"w-40",children:e("Currency")}),s.jsx("input",{value:L.currency,onChange:U=>N(L.id,z=>(z.currency=U.target.value,z)),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-32"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{onClick:()=>j(L.id),className:"px-3 py-1 rounded bg-red-600 text-white text-sm",children:e("Remove")})})]},L.id))})]}),f==="Notifications"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"font-semibold",children:e("Notify Customer Before Payment Due")}),s.jsx("div",{className:"flex flex-wrap gap-4",children:[{key:"email",label:"Email"},{key:"sms",label:"SMS"},{key:"inApp",label:"In-App"}].map(L=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.notifications.customerBeforeDue[L.key],onChange:U=>g(`notifications.customerBeforeDue.${L.key}`,U.target.checked)}),s.jsx("span",{children:e(L.label)})]},L.key))}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.notifications.adminLatePayment,onChange:L=>g("notifications.adminLatePayment",L.target.checked)}),s.jsx("span",{children:e("Notify Admin / Broker on Late Payment")})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.notifications.beforeExpiry,onChange:L=>g("notifications.beforeExpiry",L.target.checked)}),s.jsx("span",{children:e("Notify before Contract Expiry")})]})]}),f==="Workflow & Rules"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.workflow.autoUpdateStatus,onChange:L=>g("workflow.autoUpdateStatus",L.target.checked)}),s.jsx("span",{className:"font-medium",children:e("Auto-Update Rent Status (Active  Expired)")})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.workflow.trackPaymentHistory,onChange:L=>g("workflow.trackPaymentHistory",L.target.checked)}),s.jsx("span",{className:"font-medium",children:e("Track Rent Payment History")})]}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.workflow.linkToContract,onChange:L=>g("workflow.linkToContract",L.target.checked)}),s.jsx("span",{children:e("Link Rent to Contract")})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.workflow.linkToSalesOpportunity,onChange:L=>g("workflow.linkToSalesOpportunity",L.target.checked)}),s.jsx("span",{children:e("Link to Sales Opportunity")})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:_,className:"px-3 py-1.5 rounded bg-blue-600 text-white text-sm",children:e("Generate Invoice")}),s.jsx("button",{onClick:A,className:"px-3 py-1.5 rounded bg-gray-200 dark:bg-gray-700 text-sm",children:e("Refresh Payment History")}),s.jsx("button",{onClick:M,className:"px-3 py-1.5 rounded bg-amber-500 text-white text-sm",children:e("Send Notifications")})]}),s.jsxs("div",{className:"rounded border border-gray-200 dark:border-gray-700 p-3",children:[s.jsx("div",{className:"font-semibold mb-2",children:e("Payment History")}),p.length===0?s.jsx("div",{className:"text-sm text-gray-500",children:e("No payment history yet.")}):s.jsx("div",{className:"space-y-2",children:p.map((L,U)=>s.jsxs("div",{className:"text-sm flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:L.contract||"Contract"}),s.jsx("span",{className:"opacity-70",children:L.amount?`${L.amount} ${L.currency||r.general.defaultCurrency}`:""})]}),s.jsx("div",{className:"opacity-70",children:L.time||""})]},U))})]})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:S,disabled:o,className:"px-4 py-2 rounded bg-green-600 text-white disabled:opacity-60",children:e(o?"Saving...":"Save Changes")}),s.jsx("button",{onClick:k,className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700",children:e("Reset to Default")})]}),d&&s.jsx("div",{className:`fixed bottom-4 ${a?"left-4":"right-4"} px-3 py-2 rounded text-sm shadow ${d.type==="error"?"bg-red-600 text-white":d.type==="success"?"bg-green-600 text-white":"bg-gray-800 text-white"}`,children:d.message})]})}function m6e(){const{t:e}=Et();return s.jsx(ea,{title:e("Rent Configuration"),children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:e("Rent Configuration")}),s.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-800",children:e("Admin Only")})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("Manage rent contracts, pricing, invoices, and links to Contracts/Sales/Customers.")}),s.jsx(f6e,{})]})})}function p6e({isOpen:e,onClose:t,inline:a=!1}){const{t:r,i18n:n}=Et();(n.language||"").startsWith("ar");const[i,l]=w.useState("general"),[o,c]=w.useState(!1),[d,u]=w.useState(!1),[f,x]=w.useState("CIL Core"),[p,v]=w.useState("system@company.com"),[g,b]=w.useState("Website"),[j,N]=w.useState("USD"),[S,k]=w.useState("09:00"),[A,_]=w.useState("18:00"),[M,L]=w.useState("10"),[U,z]=w.useState(!0),[O,B]=w.useState("Round Robin"),[E,R]=w.useState(15),[q,I]=w.useState(24),[G,re]=w.useState(!0),[te,X]=w.useState(!0),[ce,D]=w.useState("sk_live_1234567890"),[Q,H]=w.useState("https://api.example.com/webhook"),[J,ae]=w.useState("15 min"),[ie,le]=w.useState(()=>({facebook:{enabled:!0,name:"Facebook Leads"},google:{enabled:!1,name:"Google Ads"},zapier:{enabled:!0,name:"Zapier"}})),[Y,oe]=w.useState(!0),[xe,W]=w.useState(!1),[he,fe]=w.useState(!0),[de,Oe]=w.useState(!0),[Fe,Ee]=w.useState(5),[se,_e]=w.useState(!0),[je,rt]=w.useState(!1),[ft,Bt]=w.useState({start:"",end:"",action:"All",user:"All"}),[Je,$e]=w.useState([{date:"2025-11-12",user:"Ibrahim Mohamed",action:"API Regenerated",result:"Success"},{date:"2025-11-11",user:"Admin",action:"Webhook Updated",result:"Success"},{date:"2025-11-10",user:"Admin",action:"Assign Mode Changed",result:"Success"}]);w.useEffect(()=>{if(!d)return;c(!0);const We=setTimeout(()=>{c(!1),u(!1)},1200);return()=>clearTimeout(We)},[d]);const ze=()=>u(!0),Ze=w.useMemo(()=>Math.round(Number(E)*.8),[E]),dt=()=>{D(`sk_live_${Math.random().toString(36).slice(2,10)}${Date.now().toString().slice(-4)}`),ze()},At=We=>{const Ut=Math.random()>.2;alert(`${ie[We].name}: ${Ut?"Connection OK":"Failed to connect"}`)},kt=We=>{alert(`Exporting logs as ${We}...`)},Dt=()=>{c(!0),setTimeout(()=>c(!1),1200)};if(!a&&!e)return null;const zt="glass-panel rounded-2xl w-full h-full flex flex-col overflow-hidden shadow-2xl",qt="border-b border-white/20 dark:border-gray-700 shadow-[0_2px_10px_rgba(0,0,0,0.08)]",Te=({id:We,label:Ut})=>s.jsxs("button",{className:`relative px-3 md:px-4 py-2 text-sm md:text-[15px] whitespace-nowrap transition-all ${i===We?"text-blue-500":"text-gray-600 dark:text-gray-300"}`,onClick:()=>l(We),children:[s.jsx("span",{className:`${i===We?"font-semibold":""}`,children:Ut}),i===We&&s.jsx("span",{className:"absolute left-0 right-0 -bottom-[2px] h-[2px] bg-gradient-to-r from-blue-500 to-cyan-400"})]}),$t=()=>s.jsxs("div",{className:zt,children:[s.jsx("div",{className:`px-6 py-4 ${qt}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-xl md:text-2xl font-semibold bg-gradient-to-r from-blue-500 to-cyan-400 bg-clip-text text-transparent",children:r("CIL Settings")}),s.jsx("span",{className:"text-sm text-[var(--muted-text)]",children:r("Manage and customize system integration and lead assignment settings.")}),o&&s.jsx("span",{className:"ml-2 inline-flex items-center gap-1 px-2 py-1 rounded-full bg-amber-100 text-amber-700 border border-amber-200 text-xs animate-pulse",children:r("Saving...")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:Dt,className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow-[0_0_12px_rgba(59,130,246,0.6)] hover:bg-blue-700",children:r("Save Changes")}),!a&&s.jsx("button",{onClick:t,className:"px-3 py-2 rounded-lg border bg-white/60 dark:bg-gray-800/60",children:r("Close")})]})]})}),s.jsx("div",{className:"px-4 md:px-6 pt-3 pb-2 shadow-[0_10px_10px_-10px_rgba(0,0,0,0.25)]",children:s.jsxs("div",{className:"flex items-center gap-1 overflow-x-auto no-scrollbar",children:[s.jsx(Te,{id:"general",label:r("General Settings")}),s.jsx(Te,{id:"rules",label:r("Lead Assignment Rules")}),s.jsx(Te,{id:"integrations",label:r("Integration Setup")}),s.jsx(Te,{id:"notifications",label:r("Notifications")}),s.jsx(Te,{id:"security",label:r("Security & Logs")})]})}),s.jsxs("div",{className:"flex-1 px-6 py-5 overflow-y-auto space-y-5 transition-all",children:[i==="general"&&s.jsx("div",{className:"space-y-5 animate-[fadeIn_200ms_ease]",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-xs text-[var(--muted-text)] flex items-center gap-1",children:[r("CIL Name")," ",s.jsx("span",{title:r("Name of your CIL system"),children:""})]}),s.jsx("input",{className:"input-soft w-full",value:f,onChange:We=>{x(We.target.value),ze()}})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-xs text-[var(--muted-text)] flex items-center gap-1",children:[r("System Email")," ",s.jsx("span",{title:r("Email used for system notifications"),children:""})]}),s.jsx("input",{className:"input-soft w-full",type:"email",value:p,onChange:We=>{v(We.target.value),ze()}})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-xs text-[var(--muted-text)] flex items-center gap-1",children:[r("Default Lead Source")," ",s.jsx("span",{title:r("Default source for incoming leads"),children:""})]}),s.jsx("select",{className:"input-soft w-full",value:g,onChange:We=>{b(We.target.value),ze()},children:["Website","Facebook","Google Ads","Manual"].map(We=>s.jsx("option",{value:We,children:We},We))})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-xs text-[var(--muted-text)] flex items-center gap-1",children:[r("Default Currency")," ",s.jsx("span",{title:r("Currency used in reports and contracts"),children:""})]}),s.jsx("select",{className:"input-soft w-full",value:j,onChange:We=>{N(We.target.value),ze()},children:["USD","EUR","GBP","EGP","SAR","AED"].map(We=>s.jsx("option",{value:We,children:We},We))})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-xs text-[var(--muted-text)] flex items-center gap-1",children:[r("Working Hours (Start)")," ",s.jsx("span",{title:r("Start time of workday"),children:""})]}),s.jsx("input",{type:"time",className:"input-soft w-full",value:S,onChange:We=>{k(We.target.value),ze()}})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-xs text-[var(--muted-text)] flex items-center gap-1",children:[r("Working Hours (End)")," ",s.jsx("span",{title:r("End time of workday"),children:""})]}),s.jsx("input",{type:"time",className:"input-soft w-full",value:A,onChange:We=>{_(We.target.value),ze()}})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-xs text-[var(--muted-text)] flex items-center gap-1",children:[r("Auto-Save Interval")," ",s.jsx("span",{title:r("Frequency to auto-save settings"),children:""})]}),s.jsx("select",{className:"input-soft w-full",value:M,onChange:We=>{L(We.target.value),ze()},children:[5,10,30].map(We=>s.jsxs("option",{value:String(We),children:[We," min"]},We))})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-xs text-[var(--muted-text)] flex items-center gap-1",children:[r("Enable CIL API")," ",s.jsx("span",{title:r("Enable/disable external API access"),children:""})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("button",{onClick:()=>{z(We=>!We),ze()},className:`px-3 py-2 rounded-lg border ${U?"bg-green-500/20 text-green-700 border-green-400":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:r(U?"Enabled":"Disabled")})})]})]})}),i==="rules"&&s.jsxs("div",{className:"space-y-5 animate-[fadeIn_200ms_ease]",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Assignment Mode")}),s.jsx("select",{className:"input-soft w-full",value:O,onChange:We=>{B(We.target.value),ze()},children:["Round Robin","Priority Based","Manual"].map(We=>s.jsx("option",{value:We,children:We},We))})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Lead Limit per Sales Rep")}),s.jsx("input",{type:"number",className:"input-soft w-full",value:E,onChange:We=>{R(We.target.value),ze()}})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Reassignment Delay (hours)")}),s.jsx("input",{type:"number",className:"input-soft w-full",value:q,onChange:We=>{I(We.target.value),ze()}})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Skip inactive users")}),s.jsx("div",{children:s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:G,onChange:We=>{re(We.target.checked),ze()}}),s.jsx("span",{className:"text-sm",children:r("Enable")})]})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Notification when reassigned")}),s.jsx("button",{onClick:()=>{X(We=>!We),ze()},className:`px-3 py-2 rounded-lg border ${te?"bg-blue-500/20 text-blue-700 border-blue-400":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:r(te?"Enabled":"Disabled")})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)] mb-1",children:r("Assignment Preview")}),s.jsxs("div",{className:"text-2xl font-semibold",children:[r("Avg. leads per rep"),": ",Ze]})]})})]}),i==="integrations"&&s.jsxs("div",{className:"space-y-5 animate-[fadeIn_200ms_ease]",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("API Key")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"input-soft w-full",value:ce,onChange:We=>{D(We.target.value),ze()}}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-indigo-600 text-white",onClick:dt,children:r("Regenerate")})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Webhook URL")}),s.jsx("input",{className:"input-soft w-full",value:Q,onChange:We=>{H(We.target.value),ze()}})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Sync Frequency")}),s.jsx("select",{className:"input-soft w-full",value:J,onChange:We=>{ae(We.target.value),ze()},children:["5 min","15 min","30 min","60 min"].map(We=>s.jsx("option",{value:We,children:We},We))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:r("Connected Platforms")}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:Object.entries(ie).map(([We,Ut])=>s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:Ut.name.includes("Facebook")?"":Ut.name.includes("Google")?"":""}),s.jsx("span",{className:"font-medium",children:Ut.name})]}),s.jsx("button",{onClick:()=>{le(Vt=>({...Vt,[We]:{...Vt[We],enabled:!Vt[We].enabled}})),ze()},className:`px-3 py-1 rounded-lg border ${Ut.enabled?"bg-green-500/20 text-green-700 border-green-400":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:Ut.enabled?r("Enabled"):r("Disabled")})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{className:"px-3 py-2 rounded-lg bg-blue-600 text-white",onClick:()=>At(We),children:r("Test Connection")})})]},We))})]})]}),i==="notifications"&&s.jsxs("div",{className:"space-y-5 animate-[fadeIn_200ms_ease]",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Email Notifications")}),s.jsx("button",{onClick:()=>{oe(We=>!We),ze()},className:`px-3 py-2 rounded-lg border ${Y?"bg-blue-500/20 text-blue-700 border-blue-400":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:r(Y?"Enabled":"Disabled")})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Slack / Teams Integration")}),s.jsx("button",{onClick:()=>{W(We=>!We),ze()},className:`px-3 py-2 rounded-lg border ${xe?"bg-blue-500/20 text-blue-700 border-blue-400":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:r(xe?"Enabled":"Disabled")})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Daily Summary Report")}),s.jsx("button",{onClick:()=>{fe(We=>!We),ze()},className:`px-3 py-2 rounded-lg border ${he?"bg-blue-500/20 text-blue-700 border-blue-400":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:r(he?"Enabled":"Disabled")})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Error Alerts threshold")}),s.jsx("input",{type:"number",className:"input-soft w-full",value:Fe,onChange:We=>{Ee(We.target.value),ze()}})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Notify Admin on failed sync")}),s.jsx("button",{onClick:()=>{_e(We=>!We),ze()},className:`px-3 py-2 rounded-lg border ${se?"bg-blue-500/20 text-blue-700 border-blue-400":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:r(se?"Enabled":"Disabled")})]})]}),s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-4 space-y-2",children:[s.jsx("button",{className:"text-sm font-medium",onClick:()=>rt(We=>!We),children:r("Preview sample notification email")}),je&&s.jsxs("div",{className:"mt-2 text-sm text-gray-700 dark:text-gray-200",children:[s.jsxs("div",{className:"font-semibold mb-1",children:[r("Subject"),": ",r("Daily CIL Summary")]}),s.jsx("p",{children:r("Hello Admin, here is your daily summary including sync stats and errors.")})]})]})]}),i==="security"&&s.jsxs("div",{className:"space-y-5 animate-[fadeIn_200ms_ease]",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Start Date")}),s.jsx("input",{type:"date",className:"input-soft w-full",value:ft.start,onChange:We=>{Bt(Ut=>({...Ut,start:We.target.value})),ze()}})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("End Date")}),s.jsx("input",{type:"date",className:"input-soft w-full",value:ft.end,onChange:We=>{Bt(Ut=>({...Ut,end:We.target.value})),ze()}})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Action type")}),s.jsx("select",{className:"input-soft w-full",value:ft.action,onChange:We=>{Bt(Ut=>({...Ut,action:We.target.value})),ze()},children:["All","API Regenerated","Webhook Updated","Assign Mode Changed"].map(We=>s.jsx("option",{value:We,children:We},We))})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("User")}),s.jsx("select",{className:"input-soft w-full",value:ft.user,onChange:We=>{Bt(Ut=>({...Ut,user:We.target.value})),ze()},children:["All","Admin","Ibrahim Mohamed"].map(We=>s.jsx("option",{value:We,children:We},We))})]})]}),s.jsx("div",{className:"h-3"}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"px-3 py-2 rounded-lg border bg-white/60 dark:bg-gray-800/60",onClick:()=>kt("Excel"),children:r("Export to Excel")}),s.jsx("button",{className:"px-3 py-2 rounded-lg border bg-white/60 dark:bg-gray-800/60",onClick:()=>kt("PDF"),children:r("Export to PDF")})]}),s.jsx("div",{className:"h-2"}),s.jsx("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"px-4 py-3",children:r("Date")}),s.jsx("th",{className:"px-4 py-3",children:r("User")}),s.jsx("th",{className:"px-4 py-3",children:r("Action")}),s.jsx("th",{className:"px-4 py-3",children:r("Result")})]})}),s.jsxs("tbody",{children:[s.jsx("tr",{children:s.jsx("td",{className:"px-4 py-2",colSpan:4})}),Je.map((We,Ut)=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-4 py-2",children:We.date}),s.jsx("td",{className:"px-4 py-2",children:We.user}),s.jsx("td",{className:"px-4 py-2",children:We.action}),s.jsx("td",{className:"px-4 py-2",children:We.result==="Success"?" Success":We.result})]},Ut)),s.jsx("tr",{children:s.jsx("td",{className:"px-4 py-2",colSpan:4})})]})]})}),s.jsx("div",{className:"h-2"})]})]})]});return a?s.jsx("div",{className:"w-full",children:s.jsx($t,{})}):s.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-lg",onClick:t}),s.jsx("div",{className:"relative z-[1001] w-[94vw] max-w-[1200px] h-[88vh]",children:s.jsx($t,{})})]})}function x6e(){const{t:e}=Et();return s.jsx(ea,{title:e("CIL Settings"),children:s.jsxs("div",{className:"p-4",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:e("CIL Settings")}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:e("Configure CIL-specific options and integrations.")}),s.jsx(p6e,{inline:!0})]})})}function g6e(){const{i18n:e}=Et(),t=e.language==="ar",a=w.useMemo(()=>({title:t?" > ":"Inventory > Products",formTitle:t?" ":"Product Details",name:t?" ":"Product Name",category:t?"":"Category",description:t?"":"Description",uom:t?" ":"Unit of Measure",supplier:t?" ":"Default Supplier",price:t?" ":"Default Price",save:t?" ":"Save Product",listTitle:t?"   ":"All Products",empty:t?"   ":"No products yet",actions:t?"":"Actions",delete:t?"":"Delete",edit:t?"":"Edit"}),[t]),r=w.useMemo(()=>t?["","",""]:["Electronics","Furniture","Clothing"],[t]),n=w.useMemo(()=>t?["","",""]:["Piece","Box","Kg"],[t]),i=w.useMemo(()=>t?[" "," "," "]:["Supplier A","Supplier B","Supplier C"],[t]),l="inventoryProducts",[o,c]=w.useState({name:"",category:r[0]||"",description:"",uom:n[0]||"",supplier:i[0]||"",price:""}),[d,u]=w.useState([]);w.useEffect(()=>{try{const g=localStorage.getItem(l);if(g){const b=JSON.parse(g);Array.isArray(b)&&u(b)}}catch(g){console.warn("Failed to load products from localStorage",g)}},[]),w.useEffect(()=>{try{localStorage.setItem(l,JSON.stringify(d))}catch(g){console.warn("Failed to save products to localStorage",g)}},[d]);function f(g){const{name:b,value:j}=g.target;c(N=>({...N,[b]:j}))}function x(g){g.preventDefault();const b=o.name.trim();if(!b)return;const j={id:Date.now(),name:b,category:o.category,description:o.description.trim(),uom:o.uom,supplier:o.supplier,price:o.price?Number(o.price):0};u(N=>[j,...N]),c({name:"",category:r[0]||"",description:"",uom:n[0]||"",supplier:i[0]||"",price:""})}function p(g){u(b=>b.filter(j=>j.id!==g))}function v(g){c({name:g.name||"",category:g.category||r[0]||"",description:g.description||"",uom:g.uom||n[0]||"",supplier:g.supplier||i[0]||"",price:g.price!=null?String(g.price):""});try{window.scrollTo({top:0,behavior:"smooth"})}catch{}}return s.jsx(ea,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitle}),s.jsxs("form",{onSubmit:x,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.name}),s.jsx("input",{name:"name",value:o.name,onChange:f,placeholder:a.name,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.category}),s.jsx("select",{name:"category",value:o.category,onChange:f,className:"input",children:r.map(g=>s.jsx("option",{value:g,children:g},g))})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:a.description}),s.jsx("textarea",{name:"description",value:o.description,onChange:f,placeholder:a.description,className:"input h-24"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.uom}),s.jsx("select",{name:"uom",value:o.uom,onChange:f,className:"input",children:n.map(g=>s.jsx("option",{value:g,children:g},g))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.supplier}),s.jsx("select",{name:"supplier",value:o.supplier,onChange:f,className:"input",children:i.map(g=>s.jsx("option",{value:g,children:g},g))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.price}),s.jsx("input",{type:"number",name:"price",value:o.price,onChange:f,placeholder:a.price,className:"input",min:"0",step:"0.01"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),d.length===0?s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{className:"thead-soft",children:s.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"text-start px-3 min-w-[180px]",children:a.name}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.category}),s.jsx("th",{className:"text-start px-3 min-w-[120px]",children:a.uom}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.supplier}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.price}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.actions})]})}),s.jsx("tbody",{children:d.map(g=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-3",children:s.jsx("span",{className:"font-medium",children:g.name})}),s.jsx("td",{className:"px-3",children:g.category}),s.jsx("td",{className:"px-3",children:g.uom}),s.jsx("td",{className:"px-3",children:g.supplier}),s.jsx("td",{className:"px-3 text-center",children:(g.price??0).toFixed(2)}),s.jsx("td",{className:"px-3 text-center",children:s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx("button",{type:"button",className:"btn btn-outline btn-sm px-2 py-1",title:a.edit,"aria-label":a.edit,onClick:()=>v(g),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[s.jsx("path",{d:"M12 20h9"}),s.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 113 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),s.jsx("button",{type:"button",className:"btn-icon-danger",title:a.delete,"aria-label":a.delete,onClick:()=>p(g.id),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("rect",{x:"5",y:"6",width:"14",height:"14",rx:"2"})]})})]})})]},g.id))})]})})]})]})})}function v6e(){const{i18n:e}=Et(),t=e.language==="ar",a=w.useMemo(()=>({title:t?" > ":"Inventory > Items",formTitle:t?" ":"Item Details",itemName:t?" ":"Item Name",linkedProduct:t?" ":"Linked Product",sku:t?"  (SKU)":"SKU",barcode:t?"":"Barcode",costPrice:t?" ":"Cost Price",sellingPrice:t?" ":"Selling Price",stockCount:t?" ()":"Stock Count",warehouse:t?"":"Warehouse",save:t?" ":"Save Item",listTitle:t?" ":"Items List",empty:t?"   ":"No items yet",actions:t?"":"Actions",delete:t?"":"Delete",edit:t?"":"Edit",noProducts:t?"   ":"No products available"}),[t]),r="inventoryItems",n="inventoryProducts",[i,l]=w.useState([]),[o,c]=w.useState({name:"",productId:"",sku:"",barcode:"",costPrice:"",sellingPrice:"",stockCount:"",warehouse:""}),[d,u]=w.useState([]);w.useEffect(()=>{try{const b=localStorage.getItem(r);if(b){const j=JSON.parse(b);Array.isArray(j)&&u(j)}}catch(b){console.warn("Failed to load items from localStorage",b)}try{const b=localStorage.getItem(n);if(b){const j=JSON.parse(b);Array.isArray(j)&&l(j)}}catch(b){console.warn("Failed to load products from localStorage",b)}},[]),w.useEffect(()=>{try{localStorage.setItem(r,JSON.stringify(d))}catch(b){console.warn("Failed to save items to localStorage",b)}},[d]);function f(b){const{name:j,value:N}=b.target;c(S=>({...S,[j]:N}))}function x(b){b.preventDefault();const j=o.name.trim();if(!j)return;const N=i.find(k=>String(k.id)===String(o.productId)),S={id:Date.now(),name:j,productId:o.productId||"",productName:N?N.name:"",sku:o.sku.trim(),barcode:o.barcode.trim(),costPrice:o.costPrice?Number(o.costPrice):0,sellingPrice:o.sellingPrice?Number(o.sellingPrice):0,stockCount:o.stockCount?Number(o.stockCount):0,warehouse:o.warehouse.trim()};u(k=>[S,...k]),c({name:"",productId:"",sku:"",barcode:"",costPrice:"",sellingPrice:"",stockCount:"",warehouse:""})}function p(b){u(j=>j.filter(N=>N.id!==b))}function v(b){c({name:b.name||"",productId:b.productId||"",sku:b.sku||"",barcode:b.barcode||"",costPrice:b.costPrice!=null?String(b.costPrice):"",sellingPrice:b.sellingPrice!=null?String(b.sellingPrice):"",stockCount:b.stockCount!=null?String(b.stockCount):"",warehouse:b.warehouse||""});try{window.scrollTo({top:0,behavior:"smooth"})}catch{}}const g=w.useMemo(()=>t?[" "," "," "]:["Main Warehouse","Secondary Warehouse","Outdoor Storage"],[t]);return s.jsx(ea,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitle}),s.jsxs("form",{onSubmit:x,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.itemName}),s.jsx("input",{name:"name",value:o.name,onChange:f,placeholder:a.itemName,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.linkedProduct}),s.jsxs("select",{name:"productId",value:o.productId,onChange:f,className:"input",children:[s.jsx("option",{value:"",children:a.noProducts}),i.map(b=>s.jsx("option",{value:b.id,children:b.name},b.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.sku}),s.jsx("input",{name:"sku",value:o.sku,onChange:f,placeholder:a.sku,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.barcode}),s.jsx("input",{name:"barcode",value:o.barcode,onChange:f,placeholder:a.barcode,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.costPrice}),s.jsx("input",{type:"number",name:"costPrice",value:o.costPrice,onChange:f,placeholder:a.costPrice,className:"input",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.sellingPrice}),s.jsx("input",{type:"number",name:"sellingPrice",value:o.sellingPrice,onChange:f,placeholder:a.sellingPrice,className:"input",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.stockCount}),s.jsx("input",{type:"number",name:"stockCount",value:o.stockCount,onChange:f,placeholder:a.stockCount,className:"input",min:"0",step:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.warehouse}),s.jsxs("select",{name:"warehouse",value:o.warehouse,onChange:f,className:"input",children:[s.jsx("option",{value:"",children:a.warehouse}),g.map(b=>s.jsx("option",{value:b,children:b},b))]})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),d.length===0?s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{className:"thead-soft",children:s.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"text-start px-3 min-w-[180px]",children:a.itemName}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.linkedProduct}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.sku}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.barcode}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.costPrice}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.sellingPrice}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.stockCount}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.warehouse}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.actions})]})}),s.jsx("tbody",{children:d.map(b=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-3",children:s.jsx("span",{className:"font-medium",children:b.name})}),s.jsx("td",{className:"px-3",children:b.productName||"-"}),s.jsx("td",{className:"px-3",children:b.sku}),s.jsx("td",{className:"px-3",children:b.barcode}),s.jsx("td",{className:"px-3 text-center",children:(b.costPrice??0).toFixed(2)}),s.jsx("td",{className:"px-3 text-center",children:(b.sellingPrice??0).toFixed(2)}),s.jsx("td",{className:"px-3 text-center",children:b.stockCount??0}),s.jsx("td",{className:"px-3",children:b.warehouse}),s.jsx("td",{className:"px-3 text-center",children:s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx("button",{type:"button",className:"btn btn-outline btn-sm px-2 py-1",title:a.edit,"aria-label":a.edit,onClick:()=>v(b),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[s.jsx("path",{d:"M12 20h9"}),s.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 113 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),s.jsx("button",{type:"button",className:"btn-icon-danger",title:a.delete,"aria-label":a.delete,onClick:()=>p(b.id),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("rect",{x:"5",y:"6",width:"14",height:"14",rx:"2"})]})})]})})]},b.id))})]})})]})]})})}function b6e(){const{i18n:e}=Et(),t=e.language==="ar",a=w.useMemo(()=>({title:t?" >  ":"Inventory > Stock Management",formTitle:t?"  ":"Stock Entry",itemOrSku:t?" / SKU":"Item / SKU",selectItem:t?" ":"Select Item",manualSku:t?" SKU ":"Enter SKU manually",qtyAvailable:t?" ":"Quantity Available",qtyReserved:t?" ":"Reserved Quantity",minAlert:t?"  ":"Minimum Quantity Alert",warehouse:t?"":"Warehouse location",save:t?" ":"Save Entry",listTitle:t?"  ":"Stock Records",empty:t?"   ":"No records yet",actions:t?"":"Actions",delete:t?"":"Delete",effective:t?" ":"Effective Available",status:t?"":"Status",lowStock:t?"":"Low",okStock:t?"":"OK"}),[t]),r="inventoryStock",n="inventoryItems",[i,l]=w.useState([]),[o,c]=w.useState([]),[d,u]=w.useState({itemId:"",manualSku:"",qtyAvailable:"",qtyReserved:"",minAlert:"",warehouse:""});w.useEffect(()=>{try{const b=localStorage.getItem(n);if(b){const j=JSON.parse(b);Array.isArray(j)&&l(j)}}catch(b){console.warn("Failed to load items",b)}try{const b=localStorage.getItem(r);if(b){const j=JSON.parse(b);Array.isArray(j)&&c(j)}}catch(b){console.warn("Failed to load stock records",b)}},[]),w.useEffect(()=>{try{localStorage.setItem(r,JSON.stringify(o))}catch{}},[o]);const f=w.useMemo(()=>t?[" "," "," "]:["Main Warehouse","Secondary Warehouse","Outdoor Storage"],[t]),x=b=>{const{name:j,value:N}=b.target;u(S=>({...S,[j]:N}))},p=b=>{b.preventDefault();const j=i.find(_=>String(_.id)===String(d.itemId)),N=Number(d.qtyAvailable||0),S=Number(d.qtyReserved||0),k=Number(d.minAlert||0),A={id:Date.now(),itemId:d.itemId||null,itemName:j?.name||"",sku:d.manualSku||j?.sku||"",qtyAvailable:N,qtyReserved:S,minAlert:k,warehouse:d.warehouse||""};c(_=>[A,..._]),u({itemId:"",manualSku:"",qtyAvailable:"",qtyReserved:"",minAlert:"",warehouse:""})},v=b=>{c(j=>j.filter(N=>N.id!==b))},g=b=>{const N=(b.qtyAvailable||0)-(b.qtyReserved||0)<=(b.minAlert||0),S=N?"text-red-600 bg-red-100 dark:text-red-300 dark:bg-red-900/40":"text-green-600 bg-green-100 dark:text-green-300 dark:bg-green-900/40";return s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${S}`,children:N?a.lowStock:a.okStock})};return s.jsx(ea,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitle}),s.jsxs("form",{onSubmit:p,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.itemOrSku}),s.jsxs("select",{name:"itemId",value:d.itemId,onChange:x,className:"input",children:[s.jsx("option",{value:"",children:a.selectItem}),i.map(b=>s.jsxs("option",{value:b.id,children:[b.name," ",b.sku?`(${b.sku})`:""]},b.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.manualSku}),s.jsx("input",{name:"manualSku",value:d.manualSku,onChange:x,placeholder:a.manualSku,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.qtyAvailable}),s.jsx("input",{type:"number",name:"qtyAvailable",value:d.qtyAvailable,onChange:x,min:"0",step:"1",placeholder:a.qtyAvailable,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.qtyReserved}),s.jsx("input",{type:"number",name:"qtyReserved",value:d.qtyReserved,onChange:x,min:"0",step:"1",placeholder:a.qtyReserved,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.minAlert}),s.jsx("input",{type:"number",name:"minAlert",value:d.minAlert,onChange:x,min:"0",step:"1",placeholder:a.minAlert,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.warehouse}),s.jsxs("select",{name:"warehouse",value:d.warehouse,onChange:x,className:"input",children:[s.jsx("option",{value:"",children:a.warehouse}),f.map(b=>s.jsx("option",{value:b,children:b},b))]})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),o.length===0?s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{className:"thead-soft",children:s.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"text-start px-3 min-w-[180px]",children:a.itemOrSku}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.qtyAvailable}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.qtyReserved}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.effective}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.minAlert}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.warehouse}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.status}),s.jsx("th",{className:"text-center px-3 min-w-[100px]",children:a.actions})]})}),s.jsx("tbody",{children:o.map(b=>{const j=(b.qtyAvailable||0)-(b.qtyReserved||0),N=j<=(b.minAlert||0);return s.jsxs("tr",{className:N?"bg-red-50 dark:bg-red-900/10":"",children:[s.jsx("td",{className:"px-3",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:b.itemName||"-"}),s.jsx("span",{className:"text-xs text-[var(--muted-text)]",children:b.sku||"-"})]})}),s.jsx("td",{className:"px-3 text-center",children:b.qtyAvailable??0}),s.jsx("td",{className:"px-3 text-center",children:b.qtyReserved??0}),s.jsx("td",{className:"px-3 text-center",children:j}),s.jsx("td",{className:"px-3 text-center",children:b.minAlert??0}),s.jsx("td",{className:"px-3",children:b.warehouse||"-"}),s.jsx("td",{className:"px-3 text-center",children:g(b)}),s.jsx("td",{className:"px-3 text-center",children:s.jsx("button",{className:"btn btn-danger btn-xs",onClick:()=>v(b.id),children:a.delete})})]},b.id)})})]})})]})]})})}function y6e(){const{i18n:e}=Et(),t=e.language==="ar",a=w.useMemo(()=>({title:t?" > ":"Inventory > Transactions",formTitle:t?"  ":"Record Stock Transaction",date:t?"":"Date",type:t?" (//)":"Type (in/out/transfer)",quantity:t?"":"Quantity",reference:t?" ( /)":"Reference (Sales/Purchase Order)",username:t?" ":"User name",save:t?" ":"Save Transaction",listTitle:t?" ":"Transaction Log",empty:t?"   ":"No transactions yet",actions:t?"":"Actions",delete:t?"":"Delete",type_in:t?"":"In",type_out:t?"":"Out",type_transfer:t?"":"Transfer"}),[t]),r="inventoryTransactions",[n,i]=w.useState({date:new Date().toISOString().slice(0,10),type:"in",quantity:"",reference:"",username:""}),[l,o]=w.useState([]);w.useEffect(()=>{try{const x=localStorage.getItem(r);if(x){const p=JSON.parse(x);Array.isArray(p)&&o(p)}}catch(x){console.warn("Failed to load transactions",x)}},[]),w.useEffect(()=>{try{localStorage.setItem(r,JSON.stringify(l))}catch{}},[l]);const c=x=>{const{name:p,value:v}=x.target;i(g=>({...g,[p]:v}))},d=x=>{x.preventDefault();const p=Number(n.quantity||0);if(!n.date||!n.type||p<=0)return;const v={id:Date.now(),date:n.date,type:n.type,quantity:p,reference:n.reference||"",username:n.username||""};o(g=>[v,...g]),i({date:new Date().toISOString().slice(0,10),type:"in",quantity:"",reference:"",username:""})},u=x=>o(p=>p.filter(v=>v.id!==x)),f=x=>{switch(x){case"in":return a.type_in;case"out":return a.type_out;case"transfer":return a.type_transfer;default:return x}};return s.jsx(ea,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitle}),s.jsxs("form",{onSubmit:d,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.date}),s.jsx("input",{type:"date",name:"date",value:n.date,onChange:c,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.type}),s.jsxs("select",{name:"type",value:n.type,onChange:c,className:"input",children:[s.jsx("option",{value:"in",children:a.type_in}),s.jsx("option",{value:"out",children:a.type_out}),s.jsx("option",{value:"transfer",children:a.type_transfer})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.quantity}),s.jsx("input",{type:"number",name:"quantity",value:n.quantity,onChange:c,min:"1",step:"1",placeholder:a.quantity,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.reference}),s.jsx("input",{name:"reference",value:n.reference,onChange:c,placeholder:a.reference,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.username}),s.jsx("input",{name:"username",value:n.username,onChange:c,placeholder:a.username,className:"input"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),l.length===0?s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{className:"thead-soft",children:s.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.date}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.type}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.quantity}),s.jsx("th",{className:"text-start px-3 min-w-[220px]",children:a.reference}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.username}),s.jsx("th",{className:"text-center px-3 min-w-[100px]",children:a.actions})]})}),s.jsx("tbody",{children:l.map(x=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-3",children:s.jsx("span",{className:"font-medium",children:x.date})}),s.jsx("td",{className:"px-3",children:f(x.type)}),s.jsx("td",{className:"px-3 text-center",children:x.quantity}),s.jsx("td",{className:"px-3",children:x.reference}),s.jsx("td",{className:"px-3",children:x.username}),s.jsx("td",{className:"px-3 text-center",children:s.jsx("div",{className:"flex items-center gap-2 justify-center",children:s.jsx("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>u(x.id),children:a.delete})})})]},x.id))})]})})]})]})})}function w6e(){const{i18n:e}=Et(),t=e.language==="ar",a=w.useMemo(()=>({title:t?" > /":"Inventory > Suppliers/Vendors",formTitleBasic:t?" ":"Basic Information",formTitleBusiness:t?" ":"Business Information",formTitleAttachments:t?"":"Attachments",supplierName:t?" ":"Supplier Name",supplierCode:t?" ":"Supplier Code",companyName:t?" ":"Company Name",contactPerson:t?" ":"Contact Person",phone:t?" ":"Phone Number",email:t?" ":"Email",website:t?" ":"Website",address:t?"":"Address",taxId:t?" ":"Tax ID",countryCity:t?"/":"Country/City",supplierType:t?" ":"Supplier Type",category:t?"":"Category",productLine:t?" ":"Product Line",paymentTerms:t?" ":"Payment Terms",currency:t?"":"Currency",creditLimit:t?" ":"Credit Limit",discountRate:t?"  (%)":"Discount Rate (%)",deliveryTime:t?"  ()":"Delivery Time (days)",contractDoc:t?" ":"Contract Document",certificates:t?" ":"Supplier Certificates",quotations:t?" ":"Quotations",previousBills:t?" ":"Previous Bills",save:t?" ":"Save Supplier",listTitle:t?" ":"Suppliers List",empty:t?"   ":"No suppliers yet",actions:t?"":"Actions",edit:t?"":"Edit",delete:t?"":"Delete"}),[t]),r=w.useMemo(()=>t?["","",""]:["Company","Individual","Agent"],[t]),n=w.useMemo(()=>t?[" ","",""]:["Raw Materials","Services","Hardware"],[t]),i=w.useMemo(()=>t?["","30 ","60 "]:["Cash","Net 30","Net 60"],[t]),l=w.useMemo(()=>t?["","",""]:["SAR","USD","EUR"],[t]),o=w.useMemo(()=>t?["","",""]:["Electronics","Construction","Services"],[t]),c="inventorySuppliers",[d,u]=w.useState({supplierName:"",supplierCode:"",companyName:"",contactPerson:"",phone:"",email:"",website:"",address:"",taxId:"",countryCity:"",supplierType:r[0]||"",category:n[0]||"",productLine:o[0]||"",paymentTerms:i[0]||"",currency:l[0]||"",creditLimit:"",discountRate:"",deliveryTime:"",attachments:{contractDoc:[],certificates:[],quotations:[],previousBills:[]}}),[f,x]=w.useState([]);w.useEffect(()=>{try{const N=localStorage.getItem(c);if(N){const S=JSON.parse(N);Array.isArray(S)&&x(S)}}catch(N){console.warn("Failed to load suppliers",N)}},[]),w.useEffect(()=>{try{localStorage.setItem(c,JSON.stringify(f))}catch{}},[f]);const p=N=>{const{name:S,value:k}=N.target;u(A=>({...A,[S]:k}))},v=(N,S)=>{const k=Array.from(S||[]).map(A=>A.name);u(A=>({...A,attachments:{...A.attachments,[N]:k}}))},g=N=>{if(N.preventDefault(),!(d.supplierName||"").trim())return;const k={id:Date.now(),...d,creditLimit:d.creditLimit?Number(d.creditLimit):0,discountRate:d.discountRate?Number(d.discountRate):0,deliveryTime:d.deliveryTime?Number(d.deliveryTime):0};x(A=>[k,...A]),u({supplierName:"",supplierCode:"",companyName:"",contactPerson:"",phone:"",email:"",website:"",address:"",taxId:"",countryCity:"",supplierType:r[0]||"",category:n[0]||"",productLine:o[0]||"",paymentTerms:i[0]||"",currency:l[0]||"",creditLimit:"",discountRate:"",deliveryTime:"",attachments:{contractDoc:[],certificates:[],quotations:[],previousBills:[]}});try{window.scrollTo({top:0,behavior:"smooth"})}catch{}},b=N=>x(S=>S.filter(k=>k.id!==N)),j=N=>{u({supplierName:N.supplierName||"",supplierCode:N.supplierCode||"",companyName:N.companyName||"",contactPerson:N.contactPerson||"",phone:N.phone||"",email:N.email||"",website:N.website||"",address:N.address||"",taxId:N.taxId||"",countryCity:N.countryCity||"",supplierType:N.supplierType||r[0]||"",category:N.category||n[0]||"",productLine:N.productLine||o[0]||"",paymentTerms:N.paymentTerms||i[0]||"",currency:N.currency||l[0]||"",creditLimit:N.creditLimit!=null?String(N.creditLimit):"",discountRate:N.discountRate!=null?String(N.discountRate):"",deliveryTime:N.deliveryTime!=null?String(N.deliveryTime):"",attachments:{contractDoc:N.attachments?.contractDoc||[],certificates:N.attachments?.certificates||[],quotations:N.attachments?.quotations||[],previousBills:N.attachments?.previousBills||[]}});try{window.scrollTo({top:0,behavior:"smooth"})}catch{}};return s.jsx(ea,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleBasic}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.supplierName}),s.jsx("input",{name:"supplierName",value:d.supplierName,onChange:p,placeholder:a.supplierName,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.supplierCode}),s.jsx("input",{name:"supplierCode",value:d.supplierCode,onChange:p,placeholder:a.supplierCode,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.companyName}),s.jsx("input",{name:"companyName",value:d.companyName,onChange:p,placeholder:a.companyName,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.contactPerson}),s.jsx("input",{name:"contactPerson",value:d.contactPerson,onChange:p,placeholder:a.contactPerson,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.phone}),s.jsx("input",{name:"phone",value:d.phone,onChange:p,placeholder:a.phone,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.email}),s.jsx("input",{type:"email",name:"email",value:d.email,onChange:p,placeholder:a.email,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.website}),s.jsx("input",{name:"website",value:d.website,onChange:p,placeholder:a.website,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.address}),s.jsx("input",{name:"address",value:d.address,onChange:p,placeholder:a.address,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.taxId}),s.jsx("input",{name:"taxId",value:d.taxId,onChange:p,placeholder:a.taxId,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.countryCity}),s.jsx("input",{name:"countryCity",value:d.countryCity,onChange:p,placeholder:a.countryCity,className:"input"})]})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleBusiness}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.supplierType}),s.jsx("select",{name:"supplierType",value:d.supplierType,onChange:p,className:"input",children:r.map(N=>s.jsx("option",{value:N,children:N},N))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.category}),s.jsx("select",{name:"category",value:d.category,onChange:p,className:"input",children:n.map(N=>s.jsx("option",{value:N,children:N},N))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.productLine}),s.jsx("select",{name:"productLine",value:d.productLine,onChange:p,className:"input",children:o.map(N=>s.jsx("option",{value:N,children:N},N))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.paymentTerms}),s.jsx("select",{name:"paymentTerms",value:d.paymentTerms,onChange:p,className:"input",children:i.map(N=>s.jsx("option",{value:N,children:N},N))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.currency}),s.jsx("select",{name:"currency",value:d.currency,onChange:p,className:"input",children:l.map(N=>s.jsx("option",{value:N,children:N},N))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.creditLimit}),s.jsx("input",{type:"number",name:"creditLimit",value:d.creditLimit,onChange:p,placeholder:a.creditLimit,className:"input",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.discountRate}),s.jsx("input",{type:"number",name:"discountRate",value:d.discountRate,onChange:p,placeholder:a.discountRate,className:"input",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.deliveryTime}),s.jsx("input",{type:"number",name:"deliveryTime",value:d.deliveryTime,onChange:p,placeholder:a.deliveryTime,className:"input",min:"0",step:"1"})]})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleAttachments}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.contractDoc}),s.jsx("input",{type:"file",multiple:!0,onChange:N=>v("contractDoc",N.target.files),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.certificates}),s.jsx("input",{type:"file",multiple:!0,onChange:N=>v("certificates",N.target.files),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.quotations}),s.jsx("input",{type:"file",multiple:!0,onChange:N=>v("quotations",N.target.files),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.previousBills}),s.jsx("input",{type:"file",multiple:!0,onChange:N=>v("previousBills",N.target.files),className:"input"})]})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),f.length===0?s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{className:"thead-soft",children:s.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"text-start px-3 min-w-[180px]",children:a.supplierName}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.companyName}),s.jsx("th",{className:"text-start px-3 min-w-[120px]",children:a.supplierCode}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.contactPerson}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.phone}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.email}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.countryCity}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.supplierType}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.category}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.productLine}),s.jsx("th",{className:"text-start px-3 min-w-[120px]",children:a.currency}),s.jsx("th",{className:"text-center px-3 min-w-[120px]",children:a.creditLimit}),s.jsx("th",{className:"text-center px-3 min-w-[120px]",children:a.discountRate}),s.jsx("th",{className:"text-center px-3 min-w-[140px]",children:a.deliveryTime}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.actions})]})}),s.jsx("tbody",{children:f.map(N=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-3",children:s.jsx("span",{className:"font-medium",children:N.supplierName})}),s.jsx("td",{className:"px-3",children:N.companyName}),s.jsx("td",{className:"px-3",children:N.supplierCode}),s.jsx("td",{className:"px-3",children:N.contactPerson}),s.jsx("td",{className:"px-3",children:N.phone}),s.jsx("td",{className:"px-3",children:N.email}),s.jsx("td",{className:"px-3",children:N.countryCity}),s.jsx("td",{className:"px-3",children:N.supplierType}),s.jsx("td",{className:"px-3",children:N.category}),s.jsx("td",{className:"px-3",children:N.productLine}),s.jsx("td",{className:"px-3",children:N.currency}),s.jsx("td",{className:"px-3 text-center",children:(N.creditLimit??0).toFixed(2)}),s.jsx("td",{className:"px-3 text-center",children:(N.discountRate??0).toFixed(2)}),s.jsx("td",{className:"px-3 text-center",children:N.deliveryTime??0}),s.jsx("td",{className:"px-3 text-center",children:s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>j(N),children:a.edit}),s.jsx("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>b(N.id),children:a.delete})]})})]},N.id))})]})})]})]})})}function j6e(){const{i18n:e}=Et(),t=e.language==="ar",a=w.useMemo(()=>({title:t?" > ":"Inventory > Warehouse",save:t?" ":"Save Warehouse",listTitle:t?" ":"Warehouses List",empty:t?"   ":"No warehouses yet",actions:t?"":"Actions",edit:t?"":"Edit",delete:t?"":"Delete",formTitleBasic:t?"1-  ":"1- Basic Information",warehouseName:t?" ":"Warehouse Name",warehouseCode:t?" ":"Warehouse Code",warehouseType:t?" ":"Warehouse Type",status:t?"":"Status",manager:t?"/ ":"Manager/Responsible Person",contactNumber:t?" ":"Contact Number",email:t?" ":"Email",address:t?"":"Address",city:t?"":"City",formTitleOperational:t?"2-  ":"2- Operational Details",storageCapacity:t?" ":"Storage Capacity",sections:t?"":"Sections",allowedUsers:t?"  ":"Allowed Users",temperatureControlled:t?" ":"Temperature Controlled",defaultSupplier:t?" ":"Default Supplier",operatingHours:t?" ":"Operating Hours",formTitleStock:t?"3-  ":"3- Stock & Inventory",currentStockValue:t?"  ":"Current Stock Value",minThreshold:t?" ":"Min Threshold",maxThreshold:t?" ":"Max Threshold",nextStockAudit:t?" ":"Next Stock Audit",totalSkusStored:t?"  ":"Total SKUs Stored",lastStockAudit:t?" ":"Last Stock Audit",formTitleAttachments:t?"4- ":"4- Attachments",validityCertificates:t?" ":"Validity Certificates",maintenanceReports:t?"  ":"Periodic Maintenance Reports",note:t?"":"Note"}),[t]),r=w.useMemo(()=>t?["","",""]:["Central","Regional","Cold Storage"],[t]),n=w.useMemo(()=>t?["",""]:["Active","Inactive"],[t]),i="inventoryWarehouses",[l,o]=w.useState({warehouseName:"",warehouseCode:"",warehouseType:r[0]||"",status:n[0]||"",manager:"",contactNumber:"",email:"",address:"",city:"",storageCapacity:"",sections:"",allowedUsers:"",temperatureControlled:!1,defaultSupplier:"",operatingHours:"",currentStockValue:"",minThreshold:"",maxThreshold:"",nextStockAudit:"",totalSkusStored:"",lastStockAudit:"",attachments:{validityCertificates:[],maintenanceReports:[]},note:""}),[c,d]=w.useState([]);w.useEffect(()=>{try{const g=localStorage.getItem(i);if(g){const b=JSON.parse(g);Array.isArray(b)&&d(b)}}catch(g){console.warn("Failed to load warehouses",g)}},[]),w.useEffect(()=>{try{localStorage.setItem(i,JSON.stringify(c))}catch{}},[c]);const u=g=>{const{name:b,value:j,type:N,checked:S}=g.target;o(k=>({...k,[b]:N==="checkbox"?S:j}))},f=(g,b)=>{const j=Array.from(b||[]).map(N=>N.name);o(N=>({...N,attachments:{...N.attachments,[g]:j}}))},x=g=>{if(g.preventDefault(),!(l.warehouseName||"").trim())return;const j={id:Date.now(),...l,storageCapacity:l.storageCapacity?Number(l.storageCapacity):0,currentStockValue:l.currentStockValue?Number(l.currentStockValue):0,minThreshold:l.minThreshold?Number(l.minThreshold):0,maxThreshold:l.maxThreshold?Number(l.maxThreshold):0,totalSkusStored:l.totalSkusStored?Number(l.totalSkusStored):0};d(N=>[j,...N]),o({warehouseName:"",warehouseCode:"",warehouseType:r[0]||"",status:n[0]||"",manager:"",contactNumber:"",email:"",address:"",city:"",storageCapacity:"",sections:"",allowedUsers:"",temperatureControlled:!1,defaultSupplier:"",operatingHours:"",currentStockValue:"",minThreshold:"",maxThreshold:"",nextStockAudit:"",totalSkusStored:"",lastStockAudit:"",attachments:{validityCertificates:[],maintenanceReports:[]},note:""});try{window.scrollTo({top:0,behavior:"smooth"})}catch{}},p=g=>d(b=>b.filter(j=>j.id!==g)),v=g=>{o({warehouseName:g.warehouseName||"",warehouseCode:g.warehouseCode||"",warehouseType:g.warehouseType||r[0]||"",status:g.status||n[0]||"",manager:g.manager||"",contactNumber:g.contactNumber||"",email:g.email||"",address:g.address||"",city:g.city||"",storageCapacity:g.storageCapacity!=null?String(g.storageCapacity):"",sections:g.sections||"",allowedUsers:g.allowedUsers||"",temperatureControlled:!!g.temperatureControlled,defaultSupplier:g.defaultSupplier||"",operatingHours:g.operatingHours||"",currentStockValue:g.currentStockValue!=null?String(g.currentStockValue):"",minThreshold:g.minThreshold!=null?String(g.minThreshold):"",maxThreshold:g.maxThreshold!=null?String(g.maxThreshold):"",nextStockAudit:g.nextStockAudit||"",totalSkusStored:g.totalSkusStored!=null?String(g.totalSkusStored):"",lastStockAudit:g.lastStockAudit||"",attachments:{validityCertificates:g.attachments?.validityCertificates||[],maintenanceReports:g.attachments?.maintenanceReports||[]},note:g.note||""});try{window.scrollTo({top:0,behavior:"smooth"})}catch{}};return s.jsx(ea,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleBasic}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.warehouseName}),s.jsx("input",{name:"warehouseName",value:l.warehouseName,onChange:u,placeholder:a.warehouseName,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.warehouseCode}),s.jsx("input",{name:"warehouseCode",value:l.warehouseCode,onChange:u,placeholder:a.warehouseCode,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.warehouseType}),s.jsx("select",{name:"warehouseType",value:l.warehouseType,onChange:u,className:"input",children:r.map(g=>s.jsx("option",{value:g,children:g},g))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.status}),s.jsx("select",{name:"status",value:l.status,onChange:u,className:"input",children:n.map(g=>s.jsx("option",{value:g,children:g},g))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.manager}),s.jsx("input",{name:"manager",value:l.manager,onChange:u,placeholder:a.manager,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.contactNumber}),s.jsx("input",{name:"contactNumber",value:l.contactNumber,onChange:u,placeholder:a.contactNumber,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.email}),s.jsx("input",{type:"email",name:"email",value:l.email,onChange:u,placeholder:a.email,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.address}),s.jsx("input",{name:"address",value:l.address,onChange:u,placeholder:a.address,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.city}),s.jsx("input",{name:"city",value:l.city,onChange:u,placeholder:a.city,className:"input"})]})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleOperational}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.storageCapacity}),s.jsx("input",{type:"number",name:"storageCapacity",value:l.storageCapacity,onChange:u,placeholder:a.storageCapacity,className:"input",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.sections}),s.jsx("input",{name:"sections",value:l.sections,onChange:u,placeholder:a.sections,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.allowedUsers}),s.jsx("input",{name:"allowedUsers",value:l.allowedUsers,onChange:u,placeholder:a.allowedUsers,className:"input"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"temperatureControlled",name:"temperatureControlled",checked:l.temperatureControlled,onChange:u}),s.jsx("label",{htmlFor:"temperatureControlled",className:"text-sm",children:a.temperatureControlled})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.defaultSupplier}),s.jsx("input",{name:"defaultSupplier",value:l.defaultSupplier,onChange:u,placeholder:a.defaultSupplier,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.operatingHours}),s.jsx("input",{name:"operatingHours",value:l.operatingHours,onChange:u,placeholder:a.operatingHours,className:"input"})]})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleStock}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.currentStockValue}),s.jsx("input",{type:"number",name:"currentStockValue",value:l.currentStockValue,onChange:u,placeholder:a.currentStockValue,className:"input",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.totalSkusStored}),s.jsx("input",{type:"number",name:"totalSkusStored",value:l.totalSkusStored,onChange:u,placeholder:a.totalSkusStored,className:"input",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.minThreshold}),s.jsx("input",{type:"number",name:"minThreshold",value:l.minThreshold,onChange:u,placeholder:a.minThreshold,className:"input",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.maxThreshold}),s.jsx("input",{type:"number",name:"maxThreshold",value:l.maxThreshold,onChange:u,placeholder:a.maxThreshold,className:"input",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.nextStockAudit}),s.jsx("input",{type:"date",name:"nextStockAudit",value:l.nextStockAudit,onChange:u,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.lastStockAudit}),s.jsx("input",{type:"date",name:"lastStockAudit",value:l.lastStockAudit,onChange:u,className:"input"})]})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleAttachments}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.validityCertificates}),s.jsx("input",{type:"file",multiple:!0,onChange:g=>f("validityCertificates",g.target.files),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.maintenanceReports}),s.jsx("input",{type:"file",multiple:!0,onChange:g=>f("maintenanceReports",g.target.files),className:"input"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:a.note}),s.jsx("textarea",{name:"note",value:l.note,onChange:u,placeholder:a.note,className:"input h-24"})]})]})]}),s.jsx("div",{className:"h-6"}),s.jsx("div",{className:"flex justify-center",children:s.jsx("button",{type:"submit",className:"btn bg-white text-blue-600 border border-blue-600 hover:bg-blue-50",children:a.save})}),s.jsx("div",{className:"h-6"})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),c.length===0?s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{className:"thead-soft",children:s.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"text-start",children:a.warehouseName}),s.jsx("th",{className:"text-start",children:a.warehouseCode}),s.jsx("th",{className:"text-start",children:a.city}),s.jsx("th",{className:"text-start",children:a.status}),s.jsx("th",{className:"text-start",children:a.actions})]})}),s.jsx("tbody",{children:c.map(g=>s.jsxs("tr",{children:[s.jsx("td",{children:g.warehouseName}),s.jsx("td",{children:g.warehouseCode}),s.jsx("td",{children:g.city}),s.jsx("td",{children:g.status}),s.jsx("td",{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",className:"btn btn-xs",onClick:()=>v(g),children:a.edit}),s.jsx("button",{type:"button",className:"btn btn-xs btn-danger",onClick:()=>p(g.id),children:a.delete})]})})]},g.id))})]})})]})]})})}function N6e(){const{i18n:e}=Et(),t=(e?.language||"").toLowerCase().startsWith("ar"),[a,r]=w.useState([]);return w.useEffect(()=>{try{const n=localStorage.getItem("marketingCampaigns");r(n?JSON.parse(n):[])}catch{r([])}},[]),a.length?s.jsx("ul",{className:"space-y-3",children:a.slice().reverse().map(n=>s.jsxs("li",{className:"border border-white/20 rounded-lg p-3 backdrop-blur-sm bg-white/5",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-medium",children:n.name}),s.jsx("span",{className:"text-xs opacity-70",children:n.platform})]}),s.jsxs("div",{className:"mt-1 text-xs opacity-75",children:[t?": ":"Budget: ",n.totalBudget||0,"  ",t?": ":"Type: ",n.budgetType]}),n.startDate||n.endDate?s.jsxs("div",{className:"mt-1 text-xs opacity-75",children:[t?": ":"Period: ",n.startDate||"","  ",n.endDate||""]}):null]},n.id))}):s.jsx("p",{className:"text-sm opacity-70",children:t?"   ":"No campaigns yet"})}function S6e(){const{i18n:e}=Et(),t=(e?.language||"").toLowerCase().startsWith("ar"),[a,r]=w.useState({name:"",platform:"",budgetType:"daily",totalBudget:"",startDate:"",endDate:"",landingPage:"",notes:""}),[n,i]=w.useState(!1),[l,o]=w.useState(null),[c,d]=w.useState([]);w.useEffect(()=>{try{const x=localStorage.getItem("marketingLandingPages");if(x){const p=JSON.parse(x);d(Array.isArray(p)?p:[])}else d([{id:"lp1",name:"LP - Registration"},{id:"lp2",name:"LP - Pricing"},{id:"lp3",name:"LP - Webinar"}])}catch{d([{id:"lp1",name:"LP - Registration"},{id:"lp2",name:"LP - Pricing"},{id:"lp3",name:"LP - Webinar"}])}},[]);function u(x){const{name:p,value:v}=x.target;r(g=>({...g,[p]:v}))}function f(x){if(x.preventDefault(),!a.name||!a.platform){o({type:"error",text:t?"    ":"Please enter name and platform"});return}i(!0);try{const p={id:Date.now(),...a},v=localStorage.getItem("marketingCampaigns"),g=v?JSON.parse(v):[];g.push(p),localStorage.setItem("marketingCampaigns",JSON.stringify(g)),o({type:"success",text:t?"   ":"Campaign saved successfully"}),r({name:"",platform:"",budgetType:"daily",totalBudget:"",startDate:"",endDate:"",landingPage:"",notes:""})}catch{o({type:"error",text:t?"   ":"Error while saving"})}finally{i(!1)}}return s.jsx(ea,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:t?"":"Campaigns"}),s.jsxs("div",{className:"card glass-card p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:t?" ":"Add Campaign"}),s.jsxs("form",{onSubmit:f,className:`space-y-4 ${t?"text-right":"text-left"}`,children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:t?" ":"Campaign Name"}),s.jsx("input",{name:"name",value:a.name,onChange:u,placeholder:t?"  ":"Enter campaign name",className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:t?"":"Platform"}),s.jsxs("select",{name:"platform",value:a.platform,onChange:u,className:"input",children:[s.jsx("option",{value:"",children:t?" ":"Select Platform"}),s.jsx("option",{value:"Meta",children:"Meta"}),s.jsx("option",{value:"Google",children:"Google"}),s.jsx("option",{value:"Manual",children:t?"":"Manual"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:t?" ":"Budget Type"}),s.jsxs("div",{className:`flex items-center gap-6 ${t?"justify-end":""}`,children:[s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"budgetType",value:"daily",checked:a.budgetType==="daily",onChange:u}),s.jsx("span",{children:t?"":"Daily"})]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"budgetType",value:"lifetime",checked:a.budgetType==="lifetime",onChange:u}),s.jsx("span",{children:t?" ":"Lifetime"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:t?" ":"Total Budget"}),s.jsx("input",{type:"number",name:"totalBudget",value:a.totalBudget,onChange:u,className:"input",placeholder:"0"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:t?" ":"Start Date"}),s.jsx("input",{type:"date",name:"startDate",value:a.startDate,onChange:u,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:t?" ":"End Date"}),s.jsx("input",{type:"date",name:"endDate",value:a.endDate,onChange:u,className:"input"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:t?"  ":"Linked Landing Page"}),s.jsxs("select",{name:"landingPage",value:a.landingPage,onChange:u,className:"input",children:[s.jsx("option",{value:"",children:t?"  ":"Select Landing Page"}),c.map(x=>s.jsx("option",{value:x.id,children:x.name||x.title||`LP ${x.id}`},x.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:t?"":"Notes"}),s.jsx("textarea",{name:"notes",value:a.notes,onChange:u,className:"input",rows:3,placeholder:t?" ":"Additional notes"})]}),s.jsx("div",{className:`flex ${t?"justify-start":"justify-end"}`,children:s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?t?" ...":"Saving...":t?"":"Save"})}),l&&s.jsx("div",{className:`text-sm ${l.type==="success"?"text-green-600":"text-red-600"}`,children:l.text})]})]}),s.jsxs("div",{className:"card glass-card p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:t?" ":"Active Campaigns"}),s.jsx(N6e,{})]})]})})}function k6e(){const{t:e,i18n:t}=Et(),a=t.language==="ar",r=ti(),n=[{name:"Landing Page",url:"https://example.co",source:"Meta",campaign:"Conevecal",visitors:140,leads:120,conversion:"30.6%"},{name:"Product Demo Page",url:"https://google",source:"Google",campaign:"Spring Sale",visitors:30,leads:45,conversion:"14.5%"},{name:"Real Estate Lead",url:"https://man.ru",source:"Manual",campaign:"Somouse",visitors:20,leads:30,conversion:"12.5%"},{name:"Webinar Signup",url:"https://manuee",source:"Manual",campaign:"Summer Offer",visitors:20,leads:50,conversion:"13.0%"},{name:"Product Pela mcre",url:"https://example.c",source:"Meta",campaign:"Forris",visitors:10,leads:30,conversion:"Paused"},{name:"Running Ages",url:"https://example.co",source:"Maca",campaign:"Google",visitors:30,leads:10,conversion:"Active"}],[i,l]=w.useState(n),[o,c]=w.useState(!1),[d,u]=w.useState(!1),[f,x]=w.useState(""),[p,v]=w.useState(""),[g,b]=w.useState("All"),[j,N]=w.useState("All"),[S,k]=w.useState("All"),A=w.useMemo(()=>["All",...Array.from(new Set(i.map(R=>R.source)))],[i]),_=w.useMemo(()=>["All",...Array.from(new Set(i.map(R=>R.campaign)))],[i]),M=["All","Active","Paused","Percentage"],L=w.useMemo(()=>{const R=p.trim().toLowerCase();return i.filter(q=>{const I=!R||q.name.toLowerCase().includes(R)||q.url.toLowerCase().includes(R),G=g==="All"||q.source===g,re=j==="All"||q.campaign===j,te=String(q.conversion||"").toLowerCase(),X=te.includes("%")?"Percentage":te==="active"?"Active":te==="paused"?"Paused":"Percentage";return I&&G&&re&&(S==="All"||X===S)})},[i,p,g,j,S]),U=w.useMemo(()=>L.reduce((R,q)=>R+(Number(q.visitors)||0),0),[L]),z=w.useMemo(()=>L.reduce((R,q)=>R+(Number(q.leads)||0),0),[L]),O=w.useMemo(()=>`${(U>0?z/U*100:0).toFixed(1)}%`,[U,z]),B=()=>{d||(u(!0),x(""),setTimeout(()=>{l(R=>R.map(q=>{const I=Math.floor(Math.random()*20)+5,G=Math.floor(Math.random()*10)-2,re=(Number(q.visitors)||0)+I;let te=(Number(q.leads)||0)+Math.max(0,G);te>re&&(te=Math.floor(re*.8));let X=`${re>0?(te/re*100).toFixed(1):"0.0"}%`;return(q.conversion==="Paused"||q.conversion==="Active")&&(X=q.conversion),{...q,visitors:re,leads:te,conversion:X}})),u(!1),x(e("Sync complete")),setTimeout(()=>x(""),2500)},1400))},E=()=>{v(""),b("All"),N("All"),k("All")};return s.jsx(ea,{children:s.jsxs("div",{className:"space-y-4 bg-transparent text-[var(--content-text)] overflow-x-hidden overflow-y-auto",children:[s.jsx("h1",{className:"text-2xl font-bold",children:e("Landing Pages")}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsxs("button",{className:`btn btn-primary inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,onClick:()=>r("/marketing/landing-pages/add"),children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M12 5v14M5 12h14"})}),s.jsx("span",{children:e("Add Landing Page")})]}),s.jsxs("button",{className:`btn inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,onClick:B,disabled:d,children:[d?s.jsx("span",{className:"inline-block w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[s.jsx("path",{d:"M21 12a9 9 0 10-3.28 6.92"}),s.jsx("path",{d:"M21 12h-4"})]}),s.jsx("span",{children:e(d?"Syncing...":"Sync Data")})]}),s.jsxs("button",{className:`btn inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,onClick:()=>c(R=>!R),children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M3 4h18l-7 8v6l-4 2v-8z"})}),s.jsx("span",{children:e("Filters")})]})]}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),f&&s.jsx("div",{className:`card glass-card p-3 text-sm ${a?"text-right":"text-left"}`,children:f}),f&&s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),o&&s.jsxs("section",{className:"card glass-card p-4",children:[s.jsxs("div",{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 ${a?"text-right":""}`,children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Search")}),s.jsx("input",{value:p,onChange:R=>v(R.target.value),placeholder:e("Type to filter..."),className:"input"})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Source")}),s.jsx("select",{value:g,onChange:R=>b(R.target.value),className:"select",children:A.map(R=>s.jsx("option",{value:R,children:R},R))})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Campaign")}),s.jsx("select",{value:j,onChange:R=>N(R.target.value),className:"select",children:_.map(R=>s.jsx("option",{value:R,children:R},R))})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Status")}),s.jsx("select",{value:S,onChange:R=>k(R.target.value),className:"select",children:M.map(R=>s.jsx("option",{value:R,children:e(R)},R))})]})]}),s.jsxs("div",{className:`mt-4 flex items-center gap-2 ${a?"justify-start":"justify-end"}`,children:[s.jsx("button",{className:"btn",onClick:()=>c(!1),children:e("Apply")}),s.jsx("button",{className:"btn",onClick:E,children:e("Reset")}),s.jsx("button",{className:"btn",onClick:()=>c(!1),children:e("Close")})]})]}),o&&s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),s.jsx("section",{className:"card glass-card p-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"card glass-card p-4",children:[s.jsxs("div",{className:"text-sm text-[var(--muted-text)] inline-flex items-center gap-2",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[s.jsx("circle",{cx:"8",cy:"9",r:"2.5"}),s.jsx("circle",{cx:"16",cy:"9",r:"2.5"}),s.jsx("path",{d:"M3 20v-1a5 5 0 015-5h8a5 5 0 015 5v1"})]}),s.jsx("span",{children:e("Total Visitors")})]}),s.jsx("div",{className:"text-3xl font-semibold",children:U.toLocaleString()})]}),s.jsxs("div",{className:"card glass-card p-4",children:[s.jsxs("div",{className:"text-sm text-[var(--muted-text)] inline-flex items-center gap-2",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[s.jsx("rect",{x:"6",y:"4",width:"12",height:"16",rx:"2"}),s.jsx("path",{d:"M9 12l2 2 4-4"})]}),s.jsx("span",{children:e("Total Leads")})]}),s.jsx("div",{className:"text-3xl font-semibold",children:z.toLocaleString()})]}),s.jsxs("div",{className:"card glass-card p-4",children:[s.jsxs("div",{className:"text-sm text-[var(--muted-text)] inline-flex items-center gap-2",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[s.jsx("path",{d:"M3 17l6-6 4 4 8-8"}),s.jsx("path",{d:"M3 17h18"})]}),s.jsx("span",{children:e("Avg. Conversion %")})]}),s.jsx("div",{className:"text-3xl font-semibold",children:O})]}),s.jsx("div",{className:"card glass-card p-3 flex items-center justify-center",children:s.jsxs("svg",{viewBox:"0 0 120 60",className:"w-full h-20",children:[s.jsx("path",{d:"M0 45 L10 40 L20 42 L30 36 L40 38 L50 34 L60 35 L70 30 L80 35 L90 32 L100 28 L110 30 L120 27 L120 60 L0 60 Z",fill:"rgba(16,185,129,0.35)",stroke:"rgba(16,185,129,0.6)",strokeWidth:"1"}),s.jsx("path",{d:"M0 50 L10 48 L20 46 L30 47 L40 44 L50 43 L60 44 L70 41 L80 39 L90 38 L100 35 L110 36 L120 37",fill:"none",stroke:"rgba(59,130,246,0.8)",strokeWidth:"2"})]})})]})}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),s.jsx("section",{className:"card glass-card p-4 max-[550px]:p-3",children:s.jsx("div",{className:"overflow-auto -mx-4 max-[550px]:-mx-3",children:s.jsxs("table",{className:"nova-table w-full text-sm min-w-[800px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"glass-row text-left text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"py-2 px-4",children:e("Page Name")}),s.jsx("th",{className:"py-2 px-4",children:"URL"}),s.jsx("th",{className:"py-2 px-4",children:e("Source")}),s.jsx("th",{className:"py-2 px-4",children:e("Linked Campaign")}),s.jsx("th",{className:"py-2 px-4",children:e("Visitors")}),s.jsx("th",{className:"py-2 px-4",children:e("Leads")}),s.jsx("th",{className:"py-2 px-4",children:e("Conversion %")})]})}),s.jsx("tbody",{className:"text-gray-800 dark:text-gray-100",children:L.map((R,q)=>s.jsxs(In.Fragment,{children:[s.jsxs("tr",{className:"glass-row border-t border-gray-200 dark:border-gray-800",children:[s.jsx("td",{className:"py-2 px-4",children:R.name}),s.jsx("td",{className:"py-2 px-4",children:s.jsx("a",{href:R.url,className:"text-blue-600 hover:underline",target:"_blank",rel:"noreferrer",children:R.url})}),s.jsx("td",{className:"py-2 px-4",children:R.source}),s.jsx("td",{className:"py-2 px-4",children:R.campaign}),s.jsx("td",{className:"py-2 px-4",children:R.visitors}),s.jsx("td",{className:"py-2 px-4",children:R.leads}),s.jsx("td",{className:"py-2 px-4",children:R.conversion})]}),q<L.length-1&&s.jsx("tr",{className:"spacer-row",children:s.jsx("td",{colSpan:7,children:s.jsx("div",{className:"h-2"})})})]},q))})]})})})]})})}function C6e(){const{t:e}=Et(),[t,a]=w.useState(()=>{try{return JSON.parse(localStorage.getItem("meta.integration")||"{}")}catch{return{}}}),[r,n]=w.useState(()=>t.events||{Lead:!0,Contact:!0,CompleteRegistration:!1,Purchase:!1}),[i,l]=w.useState(!!t.enableCapi),[o,c]=w.useState(!!t.autoSync),[d,u]=w.useState(()=>t.fieldMap||{name:"name",email:"email",phone:"phone",utm_source:"utm_source",utm_campaign:"utm_campaign"}),[f,x]=w.useState(null),[p,v]=w.useState(null),g="http://localhost:8787",b=`${g}/api/meta/webhook`,[j,N]=w.useState(null),[S,k]=w.useState(null),[A,_]=w.useState(!1),[M,L]=w.useState("default");w.useEffect(()=>{const X={...t,events:r,enableCapi:i,autoSync:o,fieldMap:d};localStorage.setItem("meta.integration",JSON.stringify(X))},[t,r,i,o,d]);const U=w.useMemo(()=>({account:!!t.businessManagerId&&!!t.adAccountId&&!!t.pageId,pixel:!!t.pixelId,leadAds:!!t.pageId&&o}),[t,o]),z=()=>{localStorage.removeItem("meta.integration"),a({}),n({Lead:!0,Contact:!0,CompleteRegistration:!1,Purchase:!1}),l(!1),c(!1),u({name:"name",email:"email",phone:"phone",utm_source:"utm_source",utm_campaign:"utm_campaign"}),x(null),v(null)},O=(X,ce)=>a(D=>({...D,[X]:ce})),B=()=>{const X={pixel_id:t.pixelId||"PIXEL_ID",event_name:Object.keys(r).find(ce=>r[ce])||"Lead",event_time:Math.floor(Date.now()/1e3),event_source_url:window.location.href,action_source:i?"website+capi":"website",user_data:{email:"lead@example.com",phone:"+201234567890"},custom_data:{value:0,currency:"USD"}};x(X)},E=()=>{const X={full_name:"Ahmed Ali",email:"ahmed@example.com",phone_number:"+201000000000",utm_source:"facebook",utm_campaign:"spring_campaign"},ce={[d.name]:X.full_name,[d.email]:X.email,[d.phone]:X.phone_number,[d.utm_source]:X.utm_source,[d.utm_campaign]:X.utm_campaign};v({sampleLead:X,mapped:ce})},R=async()=>{try{const X=f||{pixel_id:t.pixelId||"PIXEL_ID",event_name:"Lead"},D=await(await fetch(`${g}/api/meta/capi/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(X)})).json();k(D)}catch(X){k({ok:!1,error:X.message})}},q=async()=>{try{const X=`${g}/api/meta/webhook?hub.mode=subscribe&hub.verify_token=${encodeURIComponent(t.verifyToken||"")}&hub.challenge=TEST`,ce=await fetch(X),D=await ce.text();N({ok:ce.ok,text:D})}catch(X){N({ok:!1,error:X.message})}},I=()=>{O("callbackUrl",b)},G=async()=>{try{await navigator.clipboard.writeText(t.callbackUrl||b),_(!0),setTimeout(()=>_(!1),1500)}catch{_(!1)}},re=X=>{L(X),u(X==="facebook"?{name:"full_name",email:"email",phone:"phone_number",utm_source:"utm_source",utm_campaign:"utm_campaign"}:{name:"name",email:"email",phone:"phone",utm_source:"utm_source",utm_campaign:"utm_campaign"})},te=({ok:X,label:ce})=>s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full ${X?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-300"}`,children:[s.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${X?"bg-emerald-500":"bg-rose-500"}`}),ce]});return s.jsx(ea,{children:s.jsxs("div",{className:"space-y-6 bg-transparent text-[var(--content-text)]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Meta Integration")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(te,{ok:U.account,label:e("Account Connected")}),s.jsx(te,{ok:U.pixel,label:e("Pixel Configured")}),s.jsx(te,{ok:U.leadAds,label:e("Lead Ads Auto-sync")})]})]}),s.jsxs("div",{className:"card glass-card p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:e("Meta Account")}),s.jsx("button",{className:"btn btn-outline",onClick:z,children:e("Reset Settings")})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Business Manager ID")}),s.jsx("input",{className:"input",value:t.businessManagerId||"",onChange:X=>O("businessManagerId",X.target.value),placeholder:e("e.g., 1234567890")})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Ad Account ID")}),s.jsx("input",{className:"input",value:t.adAccountId||"",onChange:X=>O("adAccountId",X.target.value),placeholder:e("e.g., act_1234567890")})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Page ID")}),s.jsx("input",{className:"input",value:t.pageId||"",onChange:X=>O("pageId",X.target.value),placeholder:e("e.g., 1234567890")})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("App ID")}),s.jsx("input",{className:"input",value:t.appId||"",onChange:X=>O("appId",X.target.value),placeholder:e("e.g., 123456789012345")})]})]}),s.jsx("p",{className:"mt-2 text-xs text-[var(--muted-text)]",children:e("For production, store secrets on the server, not in the browser.")})]}),s.jsxs("div",{className:"card glass-card p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-3",children:e("Facebook Pixel")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Pixel ID")}),s.jsx("input",{className:"input",value:t.pixelId||"",onChange:X=>O("pixelId",X.target.value),placeholder:e("e.g., 123456789012345")})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[s.jsx("input",{id:"enableCapi",type:"checkbox",checked:i,onChange:X=>l(X.target.checked)}),s.jsx("label",{htmlFor:"enableCapi",className:"text-sm",children:e("Enable CAPI")})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[s.jsx("label",{className:"text-sm",children:e("Events")}),s.jsx("div",{className:"flex flex-wrap gap-3",children:Object.keys(r).map(X=>s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:!!r[X],onChange:ce=>n(D=>({...D,[X]:ce.target.checked}))}),s.jsx("span",{children:e(X)})]},X))})]})]}),s.jsxs("div",{className:"flex md:justify-end items-start gap-2",children:[s.jsx("button",{className:"btn btn-primary",onClick:B,children:e("Test Pixel Event")}),s.jsx("button",{className:"btn btn-outline",onClick:R,children:e("Send to Server (CAPI echo)")})]})]}),f&&s.jsxs("div",{className:"mt-4 rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Payload Preview")}),s.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(f,null,2)})]}),S&&s.jsxs("div",{className:"mt-3 rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Server Response")}),s.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(S,null,2)})]}),s.jsx("p",{className:"mt-2 text-xs text-[var(--muted-text)]",children:e("Use Events Manager to verify pixel firing and CAPI events.")})]}),s.jsxs("div",{className:"card glass-card p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-3",children:e("Lead Ads Synchronization")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Webhook Settings")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"autoSync",type:"checkbox",checked:o,onChange:X=>c(X.target.checked)}),s.jsx("label",{htmlFor:"autoSync",className:"text-sm",children:e("Enable Auto-sync")})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Verify Token")}),s.jsx("input",{className:"input",dir:"ltr",value:t.verifyToken||"",onChange:X=>O("verifyToken",X.target.value),placeholder:e("Webhook verify token")})]}),s.jsxs("div",{className:"flex flex-col lg:col-span-2",children:[s.jsx("label",{className:"label",children:e("Callback URL")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"input flex-1 w-full",dir:"ltr",value:t.callbackUrl||"",onChange:X=>O("callbackUrl",X.target.value),placeholder:e("https://your-domain.com/api/meta/webhook")}),s.jsx("button",{type:"button",className:"btn btn-xs",onClick:I,children:e("Set local server URL")}),s.jsx("button",{type:"button",className:"btn btn-outline btn-xs",onClick:G,children:e("Copy")})]}),A&&s.jsx("div",{className:"text-xs text-emerald-600 mt-1",children:e("Copied")}),s.jsx("div",{className:"h-2","aria-hidden":"true"})]})]})]}),s.jsxs("div",{className:"flex md:justify-end items-start gap-2",children:[s.jsx("button",{className:"btn btn-outline",onClick:E,children:e("Simulate Lead Mapping")}),s.jsx("button",{className:"btn btn-primary",onClick:q,children:e("Test Verify Webhook")})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:[s.jsx("span",{children:e("Field Mapping")}),s.jsxs("select",{className:"input input-xs w-auto",value:M,onChange:X=>re(X.target.value),children:[s.jsx("option",{value:"default",children:e("Default")}),s.jsx("option",{value:"facebook",children:e("Facebook Fields")})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Full Name")}),s.jsx("input",{className:"input",value:d.name,onChange:X=>u(ce=>({...ce,name:X.target.value}))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Email")}),s.jsx("input",{className:"input",value:d.email,onChange:X=>u(ce=>({...ce,email:X.target.value}))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Phone")}),s.jsx("input",{className:"input",value:d.phone,onChange:X=>u(ce=>({...ce,phone:X.target.value}))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("UTM Source")}),s.jsx("input",{className:"input",value:d.utm_source,onChange:X=>u(ce=>({...ce,utm_source:X.target.value}))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("UTM Campaign")}),s.jsx("input",{className:"input",value:d.utm_campaign,onChange:X=>u(ce=>({...ce,utm_campaign:X.target.value}))})]})]})]}),p&&s.jsxs("div",{className:"rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Mapping Preview")}),s.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(p,null,2)})]})]}),j&&s.jsxs("div",{className:"mt-3 rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Webhook Verify Result")}),s.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(j,null,2)})]}),s.jsx("p",{className:"mt-2 text-xs text-[var(--muted-text)]",children:e("Subscribe Page to webhook via Meta settings; use the verify token above.")})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"card glass-card p-4",children:[s.jsx("h3",{className:"text-base font-semibold mb-2",children:e("Diagnostics")}),s.jsxs("ul",{className:"text-sm space-y-2",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(te,{ok:U.account,label:e("Account Connected")}),s.jsx("span",{className:"text-[var(--muted-text)]",children:e("Business Manager, Ad Account, and Page configured")})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(te,{ok:U.pixel,label:e("Pixel Configured")}),s.jsx("span",{className:"text-[var(--muted-text)]",children:e("Pixel ID present; test event recommended")})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(te,{ok:U.leadAds,label:e("Lead Ads Auto-sync")}),s.jsx("span",{className:"text-[var(--muted-text)]",children:e("Webhook enabled and auto-sync active")})]})]})]}),s.jsxs("div",{className:"card glass-card p-4 md:col-span-2",children:[s.jsx("h3",{className:"text-base font-semibold mb-2",children:e("Marketing Tips")}),s.jsxs("ul",{className:"text-sm space-y-2 list-disc pl-5",children:[s.jsx("li",{children:e("Use CAPI + Pixel to reduce tracking loss and improve optimization.")}),s.jsx("li",{children:e("Map UTM parameters and campaigns to CRM for end-to-end attribution.")}),s.jsx("li",{children:e("Test events in Events Manager after any change to your funnel.")}),s.jsx("li",{children:e("Auto-sync Lead Ads and dedupe by phone/email to avoid duplicates.")}),s.jsx("li",{children:e("Retarget unconverted leads with Custom Audiences for higher ROAS.")})]})]})]})]})})}function iN({startDate:e,endDate:t,onChange:a,className:r=""}){const{t:n,i18n:i}=Et(),l=(i?.language||"").toLowerCase().startsWith("ar"),o=(u,f)=>{const x=p=>new Date(p).toISOString().split("T")[0];a?.({startDate:x(u),endDate:x(f)})},c=new Date,d=[{key:"today",label:n("Today"),range:[c,c]},{key:"last7",label:n("Last 7 Days"),range:[new Date(c.getFullYear(),c.getMonth(),c.getDate()-6),c]},{key:"last30",label:n("Last 30 Days"),range:[new Date(c.getFullYear(),c.getMonth(),c.getDate()-29),c]},{key:"thisMonth",label:n("This Month"),range:[new Date(c.getFullYear(),c.getMonth(),1),new Date(c.getFullYear(),c.getMonth()+1,0)]},{key:"lastMonth",label:n("Last Month"),range:[new Date(c.getFullYear(),c.getMonth()-1,1),new Date(c.getFullYear(),c.getMonth(),0)]},{key:"thisQuarter",label:n("This Quarter"),range:(()=>{const u=Math.floor(c.getMonth()/3)*3;return[new Date(c.getFullYear(),u,1),new Date(c.getFullYear(),u+3,0)]})()},{key:"thisYear",label:n("This Year"),range:[new Date(c.getFullYear(),0,1),new Date(c.getFullYear(),11,31)]}];return s.jsxs("div",{className:`rounded-lg border border-[var(--panel-border)] bg-[var(--dropdown-bg)] p-3 ${r}`,children:[s.jsxs("div",{className:`flex flex-wrap items-center gap-2 ${l?"flex-row-reverse":""}`,children:[s.jsx("span",{className:"text-sm opacity-70",children:n("Advanced Date Filter")}),s.jsx("div",{className:`flex flex-wrap items-center gap-2 ${l?"flex-row-reverse":""}`,children:d.map(u=>s.jsx("button",{onClick:()=>o(u.range[0],u.range[1]),className:"px-2 py-1 text-xs rounded-full border border-[var(--panel-border)] bg-white/60 dark:bg-gray-800/60 hover:bg-white dark:hover:bg-gray-800 transition-colors",children:u.label},u.key))})]}),s.jsxs("div",{className:`mt-3 grid grid-cols-1 sm:grid-cols-3 gap-2 ${l?"text-right":""}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs opacity-70",children:n("From")}),s.jsx("input",{type:"date",value:e,onChange:u=>a?.({startDate:u.target.value,endDate:t}),className:"bg-transparent outline-none text-sm px-2 py-1 rounded-md border"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs opacity-70",children:n("To")}),s.jsx("input",{type:"date",value:t,onChange:u=>a?.({startDate:e,endDate:u.target.value}),className:"bg-transparent outline-none text-sm px-2 py-1 rounded-md border"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs opacity-70",children:n("Month")}),s.jsx("input",{type:"month",value:`${(e||"").slice(0,7)}`,onChange:u=>{const[f,x]=u.target.value.split("-"),p=new Date(parseInt(f),parseInt(x)-1,1),v=new Date(parseInt(f),parseInt(x),0);o(p,v)},className:"bg-transparent outline-none text-sm px-2 py-1 rounded-md border"})]})]})]})}Nr.register(Cn,An,$n,pl,ai,rn,an);function s9(){const{t:e,i18n:t}=Et(),a=(t?.language||"").toLowerCase().startsWith("ar"),[r,n]=w.useState("2024-01-01"),[i,l]=w.useState("2024-03-31"),[o,c]=w.useState(""),d=w.useMemo(()=>[{name:"Spring Launch",platform:"Facebook",spend:5e3,impressions:15e4,clicks:5200,ctr:3.47,cpc:.96,leads:240,cpl:20.8,qualifiedPct:42,roi:2.4},{name:"Brand Awareness",platform:"Instagram",spend:3600,impressions:18e4,clicks:3400,ctr:1.89,cpc:1.06,leads:120,cpl:30,qualifiedPct:28,roi:1.3},{name:"Referral Boost",platform:"Google Ads",spend:6200,impressions:12e4,clicks:6800,ctr:5.67,cpc:.91,leads:310,cpl:20,qualifiedPct:51,roi:2.9},{name:"Retargeting",platform:"Facebook",spend:2800,impressions:9e4,clicks:3200,ctr:3.56,cpc:.88,leads:130,cpl:21.5,qualifiedPct:37,roi:1.9},{name:"Holiday Promo",platform:"Google Ads",spend:4100,impressions:11e4,clicks:4500,ctr:4.09,cpc:.91,leads:210,cpl:19.5,qualifiedPct:46,roi:2.2}],[]),u=w.useMemo(()=>d.filter(b=>b.name.toLowerCase().includes(o.toLowerCase())||b.platform.toLowerCase().includes(o.toLowerCase())),[d,o]),f=()=>{const b=u.map(({name:L,platform:U,spend:z,impressions:O,clicks:B,ctr:E,cpc:R,leads:q,cpl:I,qualifiedPct:G,roi:re})=>({"Campaign Name":L,Platform:U,Spend:z,Impressions:O,Clicks:B,CTR:E,CPC:R,"Leads Generated":q,CPL:I,"Qualified Leads %":G,ROI:re})),j=Jt.json_to_sheet(b),N=u.map(({name:L,spend:U,roi:z,clicks:O,ctr:B,leads:E,qualifiedPct:R})=>({Campaign:L,Spend,ROI,Clicks,CTR:B,Leads,QualifiedPct:R})),S=Jt.json_to_sheet(N),k=[{"Start Date":r,"End Date":i,Query:o||"","Rows Exported":u.length,"Exported At":new Date().toISOString()}],A=Jt.json_to_sheet(k),_=Jt.book_new();Jt.book_append_sheet(_,j,"Summary"),Jt.book_append_sheet(_,S,"Charts Data"),Jt.book_append_sheet(_,A,"Metadata");const M=`campaign-summary-dashboard_${r}_to_${i}.xlsx`;gs(_,M)},x=()=>{const j=[["Campaign Name","Platform","Spend","Impressions","Clicks","CTR","CPC","Leads","CPL","Qualified Leads %","ROI"],...u.map(A=>[A.name,A.platform,A.spend,A.impressions,A.clicks,A.ctr,A.cpc,A.leads,A.cpl,A.qualifiedPct,A.roi])].map(A=>A.join(",")).join(`
`),N=new Blob([j],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(N),k=document.createElement("a");k.href=S,k.download="campaign-summary.csv",k.click(),URL.revokeObjectURL(S)},p=w.useMemo(()=>{const b={};for(const S of u){const k=S.platform;b[k]||(b[k]={spend:0,leads:0,roiSum:0,count:0}),b[k].spend+=S.spend,b[k].leads+=S.leads,b[k].roiSum+=S.roi,b[k].count+=1}const j=Object.entries(b).map(([S,k])=>({platform:S,avgRoi:+(k.roiSum/k.count).toFixed(2),spend:k.spend,leads:k.leads})),N=j.sort((S,k)=>k.avgRoi-S.avgRoi)[0];return{entries:j,best:N}},[u]),v=w.useMemo(()=>u.filter(b=>b.roi<1||b.cpl>30).slice(0,3),[u]),g=w.useMemo(()=>{const b=[];p.best&&b.push(` Boost budget on ${p.best.platform}  avg ROI ${p.best.avgRoi}`);for(const j of v)j.roi<1&&b.push(` Optimize ${j.name} (${j.platform}): ROI ${j.roi} < 1`),j.cpl>30&&b.push(` Reduce CPL for ${j.name}: CPL ${j.cpl}`);return b.length===0&&b.push(" All campaigns performing within targets"),b},[p,v]);return s.jsxs("div",{id:"report-root",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Campaign Summary")}),s.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsxs("button",{onClick:f,className:"btn btn-primary px-3 py-2 rounded-md border",children:[s.jsx("span",{className:"mr-2",children:""})," ",e("Export Excel")]}),s.jsxs("button",{onClick:x,className:"btn btn-ghost px-3 py-2 rounded-md border",children:[s.jsx("span",{className:"mr-2",children:""})," ",e("Google Sheets CSV")]})]})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-3 justify-items-start",children:s.jsx("div",{className:"px-3 py-2 rounded-lg border bg-[var(--dropdown-bg)] w-full sm:w-[280px] md:w-[360px]",children:s.jsx("input",{value:o,onChange:b=>c(b.target.value),placeholder:e("Search by Campaign or Source"),className:"bg-transparent outline-none text-sm w-full"})})}),s.jsx(iN,{startDate:r,endDate:i,onChange:({startDate:b,endDate:j})=>{n(b),l(j)},className:"mt-2"}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Overview by Campaign")}),s.jsx("div",{className:"overflow-auto -mx-4",children:s.jsxs("table",{className:"w-full text-sm min-w-[1000px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left opacity-70",children:[s.jsx("th",{className:"px-4 py-2",children:e("Campaign Name")}),s.jsx("th",{className:"px-4 py-2",children:e("Platform")}),s.jsxs("th",{className:"px-4 py-2",children:[" ",e("Spend")]}),s.jsxs("th",{className:"px-4 py-2",children:[" ",e("Impressions")]}),s.jsx("th",{className:"px-4 py-2",children:e("Clicks")}),s.jsxs("th",{className:"px-4 py-2",children:[e("CTR")," %"]}),s.jsx("th",{className:"px-4 py-2",children:e("CPC")}),s.jsx("th",{className:"px-4 py-2",children:e("Leads Generated")}),s.jsx("th",{className:"px-4 py-2",children:e("CPL")}),s.jsx("th",{className:"px-4 py-2",children:e("Qualified Leads %")}),s.jsx("th",{className:"px-4 py-2",children:e("ROI")})]})}),s.jsx("tbody",{children:u.map(b=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-4 py-2 font-medium",children:b.name}),s.jsx("td",{className:"px-4 py-2",children:b.platform}),s.jsxs("td",{className:"px-4 py-2",children:["$",b.spend.toLocaleString()]}),s.jsx("td",{className:"px-4 py-2",children:b.impressions.toLocaleString()}),s.jsx("td",{className:"px-4 py-2",children:b.clicks.toLocaleString()}),s.jsxs("td",{className:"px-4 py-2",children:[b.ctr,"%"]}),s.jsxs("td",{className:"px-4 py-2",children:["$",b.cpc]}),s.jsx("td",{className:"px-4 py-2",children:b.leads}),s.jsxs("td",{className:"px-4 py-2",children:["$",b.cpl]}),s.jsxs("td",{className:"px-4 py-2",children:[b.qualifiedPct,"%"]}),s.jsxs("td",{className:"px-4 py-2",children:[b.roi,"x"]})]},b.name))})]})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Spend vs ROI")}),s.jsx("div",{style:{height:"240px"},children:s.jsx(Ls,{data:{labels:u.map(b=>b.name),datasets:[{label:e("Spend"),data:u.map(b=>b.spend),backgroundColor:"#2563eb",borderRadius:6,yAxisID:"y"},{label:e("ROI"),data:u.map(b=>b.roi),type:"line",borderColor:"#22c55e",backgroundColor:"rgba(34,197,94,0.25)",tension:.3,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{position:"left",grid:{display:!1}},y1:{position:"right",grid:{display:!1}}},plugins:{legend:{position:"bottom"}}}})})]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Clicks vs CTR")}),s.jsx("div",{style:{height:"240px"},children:s.jsx(Ls,{data:{labels:u.map(b=>b.name),datasets:[{label:e("Clicks"),data:u.map(b=>b.clicks),backgroundColor:"#8b5cf6",borderRadius:6,yAxisID:"y"},{label:e("CTR %"),data:u.map(b=>b.ctr),type:"line",borderColor:"#f59e0b",backgroundColor:"rgba(245,158,11,0.25)",tension:.3,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{position:"left",grid:{display:!1}},y1:{position:"right",grid:{display:!1}}},plugins:{legend:{position:"bottom"}}}})})]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Leads vs Qualified Leads %")}),s.jsx("div",{style:{height:"240px"},children:s.jsx(Ls,{data:{labels:u.map(b=>b.name),datasets:[{label:e("Leads"),data:u.map(b=>b.leads),backgroundColor:"#22c55e",borderRadius:6,yAxisID:"y"},{label:e("Qualified %"),data:u.map(b=>b.qualifiedPct),type:"line",borderColor:"#2563eb",backgroundColor:"rgba(37,99,235,0.25)",tension:.3,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{position:"left",grid:{display:!1}},y1:{position:"right",grid:{display:!1}}},plugins:{legend:{position:"bottom"}}}})})]}),s.jsx("div",{className:"col-span-1 md:col-span-3 h-6","aria-hidden":"true"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Best Performing Platform")}),p.best?s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:p.best.platform}),s.jsxs("div",{className:"mt-1",children:[" Avg ROI: ",s.jsxs("span",{className:"font-semibold",children:[p.best.avgRoi,"x"]})]}),s.jsxs("div",{className:"mt-1",children:[" Spend: $",p.best.spend.toLocaleString()]}),s.jsxs("div",{className:"mt-1",children:[" Leads: ",p.best.leads]})]}):s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("No data")})]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Campaigns Needing Improvement")}),s.jsxs("ul",{className:"space-y-1 text-sm",children:[v.map(b=>s.jsxs("li",{children:[" ",b.name,"  ROI ",b.roi,"x, CPL $",b.cpl]},b.name)),v.length===0&&s.jsx("li",{className:"text-[var(--muted-text)]",children:e("None")})]})]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Recommendations")}),s.jsx("ul",{className:"space-y-1 text-sm",children:g.map((b,j)=>s.jsx("li",{children:b},j))})]})]})]})}Nr.register(Cn,An,$n,rn,an);function A6e({sources:e,height:t=260,stacked:a=!0,horizontal:r=!1,showLeads:n=!0,showConverted:i=!0,subtitle:l="Last 30 Days",normalize:o=!1}){const{t:c}=Et(),d=e?.map(A=>A.source)||["Facebook","Google Ads","Referral","Email"],u=e?.map(A=>A.leads)||[500,300,150,100],x=(e?.map(A=>A.converted)||[120,110,80,40]).map((A,_)=>Math.min(A,u[_])),p=u.map((A,_)=>Math.max(0,A-(x[_]||0))),v=u.map((A,_)=>A>0?x[_]/A*100:0),g=u.map((A,_)=>A>0?(A-x[_])/A*100:0),j=typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",N=[];n&&N.push({label:c("Unconverted"),data:o?g:p,backgroundColor:"rgba(99, 102, 241, 0.85)",borderRadius:6,stack:a?"leads":void 0,order:1}),i&&N.push({label:c("Converted"),data:o?v:x,backgroundColor:"rgba(14, 165, 233, 0.7)",borderRadius:6,stack:a?"leads":void 0,order:2});const S={labels:d,datasets:N},k={responsive:!0,maintainAspectRatio:!1,indexAxis:r?"y":"x",scales:{x:{grid:{display:!1},ticks:{color:j,font:{size:12}},stacked:a},y:{grid:{display:!1},ticks:{color:j,font:{size:12},callback:o?A=>`${A}%`:void 0},stacked:a,min:0,max:o?100:void 0}},plugins:{legend:{display:!0,labels:{color:j}},tooltip:{mode:"index",intersect:!1,callbacks:{title:A=>d[A[0].dataIndex],beforeBody:A=>{const _=A[0].dataIndex;return`${c("Total Leads")}: ${u[_].toLocaleString()}`},label:A=>{const _=A.dataIndex,M=u[_];if(A.dataset.label===c("Converted")){const z=x[_],O=M>0?z/M*100:0;return`${c("Converted")}: ${z.toLocaleString()} (${O.toFixed(1)}%)`}const L=p[_],U=M>0?L/M*100:0;return`${c("Unconverted")}: ${L.toLocaleString()} (${U.toFixed(1)}%)`},footer:A=>{const _=A[0].dataIndex,M=u[_],L=x[_],U=M>0?L/M*100:0;return`${c("Conversion Rate")}: ${U.toFixed(1)}%`}}}}};return s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-transparent bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text",children:c("Lead Source Performance")}),s.jsx("div",{style:{height:typeof t=="number"?`${t}px`:t},children:s.jsx(Ls,{data:S,options:k})}),s.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)] dark:text-blue-200",children:c(l)})]})}function _6e(){const{t:e}=Et(),t=[{source:"Facebook",leads:500,converted:120,revenue:9e4},{source:"Google Ads",leads:300,converted:110,revenue:11e4},{source:"Referral",leads:150,converted:80,revenue:13e4},{source:"Email",leads:100,converted:40,revenue:3e4}],[a,r]=w.useState("Leads"),[n,i]=w.useState(!0),[l,o]=w.useState(!0),[c,d]=w.useState(!1),[u,f]=w.useState(!0),[x,p]=w.useState(!0),[v,g]=w.useState(""),[b,j]=w.useState("2024-01-01"),[N,S]=w.useState("2024-03-31"),[k,A]=w.useState("Last 30 Days"),[_,M]=w.useState(t.map(I=>I.source)),[L,U]=w.useState(!1),[z,O]=w.useState(t.length),B=w.useMemo(()=>{const I=re=>re.leads>0?Math.min(re.converted,re.leads)/re.leads:0;let G=t.filter(re=>_.includes(re.source));return v&&(G=G.filter(re=>re.source.toLowerCase().includes(v.toLowerCase()))),G=G.slice().sort((re,te)=>{if(a==="Conversion Rate")return n?I(te)-I(re):I(re)-I(te);const X=a==="Leads"?"leads":a==="Converted"?"converted":"revenue";return n?te[X]-re[X]:re[X]-te[X]}),z&&z>0&&(G=G.slice(0,Math.min(z,G.length))),G},[t,_,v,a,n,z]),E=B.reduce((I,G)=>I+G.leads,0),R=I=>{M(G=>G.includes(I)?G.filter(re=>re!==I):[...G,I])},q=()=>{const I=["Source","Leads","Converted","Revenue"],G=B.map(D=>[D.source,D.leads,D.converted,D.revenue]),re=[I.join(","),...G.map(D=>D.join(","))].join(`
`),te=new Blob([re],{type:"text/csv;charset=utf-8;"}),X=URL.createObjectURL(te),ce=document.createElement("a");ce.href=X,ce.download="lead-source-performance.csv",ce.click(),URL.revokeObjectURL(X)};return s.jsx(ea,{children:s.jsxs("div",{className:"space-y-6 bg-transparent text-[var(--content-text)]",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Lead Source Performance")}),s.jsxs("div",{className:"card glass-card p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Sorting")}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Time Range")}),s.jsxs(rr,{value:k,onChange:I=>A(I),children:[s.jsx("option",{value:"Last 30 Days",children:e("Last 30 Days")}),s.jsx("option",{value:"Last Quarter",children:e("Last Quarter")}),s.jsx("option",{value:"Last Year",children:e("Last Year")})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Sort By")}),s.jsxs(rr,{value:a,onChange:I=>r(I),children:[s.jsx("option",{value:"Leads",children:e("Leads")}),s.jsx("option",{value:"Converted",children:e("Converted")}),s.jsx("option",{value:"Revenue",children:e("Revenue")}),s.jsx("option",{value:"Conversion Rate",children:e("Conversion Rate")})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"desc",type:"checkbox",checked:n,onChange:I=>i(I.target.checked)}),s.jsx("label",{htmlFor:"desc",className:"text-sm",children:e("Descending")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm",htmlFor:"topN",children:e("Top N")}),s.jsx("input",{id:"topN",className:"input w-20",type:"number",min:"1",max:t.length,value:z,onChange:I=>O(Number(I.target.value))})]})]})]}),s.jsxs("div",{className:"rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Chart")}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"stacked",type:"checkbox",checked:l,onChange:I=>o(I.target.checked)}),s.jsx("label",{htmlFor:"stacked",className:"text-sm",children:e("Stacked")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"normalize",type:"checkbox",checked:L,onChange:I=>U(I.target.checked)}),s.jsx("label",{htmlFor:"normalize",className:"text-sm",children:e("100% Stacked")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"horizontal",type:"checkbox",checked:c,onChange:I=>d(I.target.checked)}),s.jsx("label",{htmlFor:"horizontal",className:"text-sm",children:e("Horizontal")})]})]})]}),s.jsxs("div",{className:"rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Display")}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-indigo-500"}),s.jsx("input",{id:"showLeads",type:"checkbox",checked:u,onChange:I=>f(I.target.checked)}),s.jsx("label",{htmlFor:"showLeads",className:"text-sm",children:e("Show Unconverted")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-sky-500"}),s.jsx("input",{id:"showConverted",type:"checkbox",checked:x,onChange:I=>p(I.target.checked)}),s.jsx("label",{htmlFor:"showConverted",className:"text-sm",children:e("Show Converted")})]})]})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"label",children:e("Search")}),s.jsx("input",{className:"input",value:v,onChange:I=>g(I.target.value),placeholder:e("Search source...")})]}),s.jsx("div",{className:"flex md:justify-end",children:s.jsx("button",{className:"btn btn-outline",onClick:q,children:e("Export CSV")})})]}),s.jsx(iN,{startDate:b,endDate:N,onChange:({startDate:I,endDate:G})=>{j(I),S(G)},className:"mt-2"}),s.jsxs("div",{className:"mt-4 rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Sources")}),s.jsx("div",{className:"flex flex-wrap gap-3",children:t.map(I=>s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:_.includes(I.source),onChange:()=>R(I.source)}),s.jsx("span",{children:I.source})]},I.source))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"card glass-card p-4 md:col-span-2",children:s.jsxs("table",{className:"nova-table w-full text-sm min-w-[520px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"py-2 pr-4",children:e("Source")}),s.jsx("th",{className:"py-2 pr-4",children:e("Leads")}),s.jsx("th",{className:"py-2 pr-4",children:e("Converted")}),s.jsx("th",{className:"py-2 pr-4",children:e("Conversion Rate")}),s.jsx("th",{className:"py-2 pr-4",children:e("Revenue")})]})}),s.jsx("tbody",{className:"text-gray-800 dark:text-gray-100",children:B.map(I=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-800",children:[s.jsx("td",{className:"py-2 pr-4",children:I.source}),s.jsx("td",{className:"py-2 pr-4",children:I.leads.toLocaleString()}),s.jsx("td",{className:"py-2 pr-4",children:I.converted.toLocaleString()}),s.jsxs("td",{className:"py-2 pr-4",children:[(Math.min(I.converted,I.leads)/(I.leads||1)*100).toFixed(1),"%"]}),s.jsxs("td",{className:"py-2 pr-4",children:["$",I.revenue.toLocaleString()]})]},I.source))})]})}),s.jsx("div",{className:"card glass-card p-6 flex flex-col items-start justify-between",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold mb-1",children:e("Total Leads")}),s.jsx("div",{className:"text-5xl font-extrabold tracking-tight",children:E.toLocaleString()})]})})]}),s.jsx("div",{className:"card glass-card p-4",children:s.jsx(A6e,{sources:B,height:280,stacked:l,horizontal:c,showLeads:u,showConverted:x,subtitle:k,normalize:L})})]})})}Nr.register(Cn,An,$n,rn,an);function T6e(){const{t:e,i18n:t}=Et(),a=(t?.language||"").toLowerCase().startsWith("ar"),[r,n]=w.useState("2024-01-01"),[i,l]=w.useState("2024-03-31"),[o,c]=w.useState(""),d=w.useMemo(()=>[{platform:"Facebook",cost:580,revenue:1860},{platform:"Google Ads",cost:450,revenue:720},{platform:"Instagram",cost:420,revenue:540}],[]),u=w.useMemo(()=>d.filter(k=>k.platform.toLowerCase().includes(o.toLowerCase())),[d,o]),f=w.useMemo(()=>{const k=u.reduce((_,M)=>_+M.cost,0),A=u.reduce((_,M)=>_+M.revenue,0);return{totalCost:k,totalRevenue:A}},[u]),x=()=>{const k=Jt.json_to_sheet(u),A=[{"Total Cost (EGP)":f.totalCost,"Total Revenue (EGP)":f.totalRevenue,"ROI (x)":f.totalCost?f.totalRevenue/f.totalCost:0}],_=Jt.json_to_sheet(A),M=[{"Start Date":r,"End Date":i,Query:o||"","Rows Exported":u.length,"Exported At":new Date().toISOString()}],L=Jt.json_to_sheet(M),U=Jt.book_new();Jt.book_append_sheet(U,k,"Platforms"),Jt.book_append_sheet(U,_,"Totals"),Jt.book_append_sheet(U,L,"Metadata");const z=`cost-vs-revenue_${r}_to_${i}.xlsx`;gs(U,z)},p=()=>{const k=document.getElementById("report-root")?.innerHTML||"",A=window.open("","PRINT","height=800,width=1000");A&&(A.document.write(`<html><head><title>${e("Cost vs Revenue by Platform")}</title></head><body>${k}</body></html>`),A.document.close(),A.focus(),A.print())},g=typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",b=u.map(k=>k.platform),j={labels:b,datasets:[{label:e("Cost"),data:u.map(k=>k.cost),backgroundColor:"rgba(99, 102, 241, 0.85)",borderRadius:6},{label:e("Revenue"),data:u.map(k=>k.revenue),backgroundColor:"rgba(14, 165, 233, 0.85)",borderRadius:6}]},N={responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{color:g}},y:{grid:{display:!1},ticks:{color:g}}},plugins:{legend:{labels:{color:g}}}},S={labels:b,datasets:[{label:e("ROI (x)"),data:u.map(k=>k.cost?k.revenue/k.cost:0),backgroundColor:"rgba(34, 197, 94, 0.85)",borderRadius:6}]};return s.jsx(ea,{children:s.jsxs("div",{id:"report-root",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Cost vs Revenue by Platform")}),s.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsxs("button",{onClick:p,"aria-label":e("Export PDF"),className:"group inline-flex items-center gap-2 px-3 py-2 rounded-full border border-[var(--panel-border)] bg-[var(--dropdown-bg)] hover:bg-[var(--dropdown-bg)]/80 shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 dark:focus-visible:ring-indigo-300",children:[s.jsx(qU,{className:"text-red-500"}),s.jsx("span",{className:"font-medium",children:e("Export PDF")})]}),s.jsxs("button",{onClick:x,"aria-label":e("Export Excel"),className:"group inline-flex items-center gap-2 px-3 py-2 rounded-full border border-[var(--panel-border)] bg-[var(--dropdown-bg)] hover:bg-[var(--dropdown-bg)]/80 shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400 dark:focus-visible:ring-emerald-300",children:[s.jsx(WU,{className:"text-emerald-500"}),s.jsx("span",{className:"font-medium",children:e("Export Excel")})]})]})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.jsx("div",{className:"px-3 py-2 rounded-lg border bg-[var(--dropdown-bg)]",children:s.jsx("input",{value:o,onChange:k=>c(k.target.value),placeholder:e("Search by Campaign or Source"),className:"bg-transparent outline-none text-sm w-full"})})}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx(iN,{startDate:r,endDate:i,onChange:({startDate:k,endDate:A})=>{n(k),l(A)},className:"mt-2"}),s.jsx("div",{className:"px-3 py-2 rounded-lg border bg-[var(--dropdown-bg)]",children:s.jsxs("div",{className:`flex flex-wrap items-center gap-2 text-sm ${a?"flex-row-reverse":""}`,children:[s.jsxs("span",{className:"opacity-70",children:[e("Date Range"),":"]}),s.jsx("span",{className:"px-2 py-1 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100 border border-gray-200 dark:border-gray-600",children:r}),s.jsx("span",{className:"opacity-60",children:""}),s.jsx("span",{className:"px-2 py-1 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100 border border-gray-200 dark:border-gray-600",children:i}),s.jsxs("span",{className:`opacity-70 ${a?"mr-0 ml-3":"ml-3"}`,children:[e("Platforms"),":"]}),u.map(k=>s.jsx("span",{className:"px-2 py-1 rounded-full bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-700",children:k.platform},k.platform))]})}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Platform Performance")}),s.jsx("div",{className:"overflow-auto -mx-4",children:s.jsxs("table",{className:"w-full text-sm min-w-[860px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left opacity-70",children:[s.jsx("th",{className:"px-4 py-2",children:e("Platform")}),s.jsxs("th",{className:"px-4 py-2",children:[" ",e("Spend")," (EGP)"]}),s.jsxs("th",{className:"px-4 py-2",children:[" ",e("Revenue")," (EGP)"]}),s.jsx("th",{className:"px-4 py-2",children:e("ROI")}),s.jsx("th",{className:"px-4 py-2",children:e("Profit / Loss")}),s.jsx("th",{className:"px-4 py-2",children:e("Cost %")}),s.jsx("th",{className:"px-4 py-2",children:e("Revenue %")})]})}),s.jsx("tbody",{children:u.map(k=>{const A=k.cost?k.revenue/k.cost:0,_=k.revenue-k.cost,M=f.totalCost?k.cost/f.totalCost*100:0,L=f.totalRevenue?k.revenue/f.totalRevenue*100:0;return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-4 py-2 font-medium",children:k.platform}),s.jsxs("td",{className:"px-4 py-2",children:[k.cost.toLocaleString()," EGP"]}),s.jsxs("td",{className:"px-4 py-2",children:[k.revenue.toLocaleString()," EGP"]}),s.jsxs("td",{className:"px-4 py-2",children:[A.toFixed(1),"x"]}),s.jsxs("td",{className:`px-4 py-2 ${_>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[_>=0?"+":"",_.toLocaleString()," EGP"]}),s.jsxs("td",{className:"px-4 py-2",children:[M.toFixed(0),"%"]}),s.jsxs("td",{className:"px-4 py-2",children:[L.toFixed(0),"%"]})]},k.platform)})}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t font-semibold",children:[s.jsx("td",{className:"px-4 py-2",children:e("Total")}),s.jsxs("td",{className:"px-4 py-2",children:[f.totalCost.toLocaleString()," EGP"]}),s.jsxs("td",{className:"px-4 py-2",children:[f.totalRevenue.toLocaleString()," EGP"]}),s.jsxs("td",{className:"px-4 py-2",children:[(f.totalCost?f.totalRevenue/f.totalCost:0).toFixed(1),"x"]}),s.jsxs("td",{className:`px-4 py-2 ${f.totalRevenue-f.totalCost>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:[f.totalRevenue-f.totalCost>=0?"+":"",(f.totalRevenue-f.totalCost).toLocaleString()," EGP"]}),s.jsx("td",{className:"px-4 py-2",children:"100%"}),s.jsx("td",{className:"px-4 py-2",children:"100%"})]})})]})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Cost vs Revenue")}),s.jsx("div",{style:{height:"280px"},children:s.jsx(Ls,{data:j,options:N})}),s.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)]",children:e("Last 30 Days")})]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("ROI Comparison")}),s.jsx("div",{style:{height:"280px"},children:s.jsx(Ls,{data:S,options:N})}),s.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)]",children:e("Last 30 Days")})]})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Best ROI Platform")}),(()=>{const k=u.map(A=>({...A,roi:A.cost?A.revenue/A.cost:0})).sort((A,_)=>_.roi-A.roi)[0];return k?s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:k.platform}),s.jsxs("div",{className:"mt-1",children:["ROI: ",s.jsxs("span",{className:"font-semibold",children:[k.roi.toFixed(1),"x"]})]}),s.jsxs("div",{className:"mt-1",children:["Spend: ",k.cost.toLocaleString()," EGP"]}),s.jsxs("div",{className:"mt-1",children:["Revenue: ",k.revenue.toLocaleString()," EGP"]})]}):s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("No data")})})()]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Highest Revenue Contributor")}),(()=>{const k=u.map(A=>({...A,revenuePct:f.totalRevenue?A.revenue/f.totalRevenue:0})).sort((A,_)=>_.revenue-A.revenue)[0];return k?s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:k.platform}),s.jsxs("div",{className:"mt-1",children:["Revenue: ",k.revenue.toLocaleString()," EGP"]}),s.jsxs("div",{className:"mt-1",children:["Contribution: ",(k.revenuePct*100).toFixed(0),"%"]})]}):s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("No data")})})()]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Recommendations")}),s.jsx("ul",{className:"text-sm space-y-1",children:u.map(k=>{const A=k.cost?k.revenue/k.cost:0,_=k.revenue-k.cost;return A>=2?s.jsxs("li",{children:[" ",e("Consider increasing budget for")," ",k.platform," (",A.toFixed(1),"x)"]},`rec-${k.platform}`):_<0?s.jsxs("li",{children:[" ",e("Reduce spend or optimize")," ",k.platform," (",_.toLocaleString()," EGP)"]},`rec-${k.platform}`):s.jsxs("li",{children:[" ",e("Monitor performance and test creatives for")," ",k.platform]},`rec-${k.platform}`)})})]})]})]})})}Nr.register(Cn,An,$n,pl,ai,Tm,rn,an);function E6e(){const{t:e,i18n:t}=Et(),a=(t?.language||"").toLowerCase().startsWith("ar"),[r,n]=w.useState("2025-11-01"),[i,l]=w.useState("2025-11-30"),[o,c]=w.useState(""),d="November 2025",u=w.useMemo(()=>({spend:1450,impressions:98e3,clicks:2700,leads:240,qualifiedPct:42,revenue:3100}),[]),f=w.useMemo(()=>u.impressions?u.clicks/u.impressions*100:0,[u]),x=w.useMemo(()=>u.clicks?u.spend/u.clicks:0,[u]),p=w.useMemo(()=>u.leads?u.spend/u.leads:0,[u]),v=w.useMemo(()=>u.spend?u.revenue/u.spend:0,[u]),g=w.useMemo(()=>({spend:1320,revenue:2800,leads:210,impressions:9e4,clicks:2500}),[]),b=w.useMemo(()=>[{platform:"Facebook",spend:580,leads:120,revenue:1860},{platform:"Google Ads",spend:450,leads:80,revenue:720},{platform:"Instagram",spend:420,leads:40,revenue:520}],[]),j=typeof document<"u"&&document.documentElement.classList.contains("dark"),N=j?"#e5e7eb":"#374151",S={labels:["Week 1","Week 2","Week 3","Week 4"],datasets:[{label:e("Spend"),data:[320,360,370,400],borderColor:"#6366f1",backgroundColor:"rgba(99,102,241,0.25)",tension:.3,fill:!0},{label:e("Revenue"),data:[700,760,780,860],borderColor:"#14b8a6",backgroundColor:"rgba(20,184,166,0.25)",tension:.3,fill:!0}]},k={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:N}}},scales:{x:{ticks:{color:N},grid:{display:!1}},y:{ticks:{color:N},grid:{display:!1}}}},A={labels:b.map(O=>O.platform),datasets:[{label:e("Leads"),data:b.map(O=>O.leads),backgroundColor:["#2563eb","#06b6d4","#22c55e"],borderRadius:6}]},_={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:N}}},scales:{x:{ticks:{color:N},grid:{display:!1}},y:{ticks:{color:N},grid:{display:!1}}}},M={labels:b.map(O=>O.platform),datasets:[{label:e("Spend"),data:b.map(O=>O.spend),backgroundColor:["#2563eb","#06b6d4","#22c55e"],borderColor:j?"#1f2937":"#ffffff",borderWidth:1}]},L={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:N}}}},U=()=>{const O=[{Month:d,Spend:u.spend,Impressions:u.impressions,Clicks:u.clicks,CTR:`${f.toFixed(1)}%`,AvgCPC:`${x.toFixed(2)} EGP`,Leads:u.leads,AvgCPL:`${p.toFixed(2)} EGP`,QualifiedPct:`${u.qualifiedPct}%`,Revenue:u.revenue,ROI:`${v.toFixed(1)}x`}],B=Jt.json_to_sheet(O),E=Jt.book_new();Jt.book_append_sheet(E,B,"MonthlyOverview"),gs(E,"monthly-marketing-overview.xlsx")},z=()=>{const O=document.getElementById("report-root")?.innerHTML||"",B=window.open("","PRINT","height=800,width=1000");B&&(B.document.write(`<html><head><title>${e("Monthly Marketing Overview")}</title></head><body>${O}</body></html>`),B.document.close(),B.focus(),B.print())};return s.jsx(ea,{children:s.jsxs("div",{id:"report-root",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Monthly Marketing Overview")}),s.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsxs("button",{onClick:z,"aria-label":e("Export PDF"),className:"group inline-flex items-center gap-2 px-3 py-2 rounded-full border border-[var(--panel-border)] bg-[var(--dropdown-bg)] hover:bg-[var(--dropdown-bg)]/80 shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 dark:focus-visible:ring-indigo-300",children:[s.jsx(qU,{className:"text-red-500"}),s.jsx("span",{className:"font-medium",children:e("Export PDF")})]}),s.jsxs("button",{onClick:U,"aria-label":e("Export Excel"),className:"group inline-flex items-center gap-2 px-3 py-2 rounded-full border border-[var(--panel-border)] bg-[var(--dropdown-bg)] hover:bg-[var(--dropdown-bg)]/80 shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400 dark:focus-visible:ring-emerald-300",children:[s.jsx(WU,{className:"text-emerald-500"}),s.jsx("span",{className:"font-medium",children:e("Export Excel")})]})]})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.jsx("div",{className:"px-3 py-2 rounded-lg border bg-[var(--dropdown-bg)]",children:s.jsx("input",{value:o,onChange:O=>c(O.target.value),placeholder:e("Search by Campaign or Source"),className:"bg-transparent outline-none text-sm w-full"})})}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsx(iN,{startDate:r,endDate:i,onChange:({startDate:O,endDate:B})=>{n(O),l(B)}}),s.jsx("div",{className:"mt-3 px-3 py-2 rounded-lg border bg-[var(--dropdown-bg)]",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[s.jsxs("span",{className:"opacity-70",children:[e("Date Range"),":"]}),s.jsx("span",{className:"px-2 py-1 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100 border border-gray-200 dark:border-gray-600",children:r}),s.jsx("span",{className:"opacity-60",children:""}),s.jsx("span",{className:"px-2 py-1 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100 border border-gray-200 dark:border-gray-600",children:i})]})}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Monthly Summary")}),s.jsx("div",{className:"overflow-auto -mx-4",children:s.jsxs("table",{className:"w-full text-sm min-w-[1000px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left opacity-70",children:[s.jsx("th",{className:"px-4 py-2",children:e("Month")}),s.jsxs("th",{className:"px-4 py-2",children:[" ",e("Total Spend")]}),s.jsxs("th",{className:"px-4 py-2",children:[" ",e("Impressions")]}),s.jsxs("th",{className:"px-4 py-2",children:[e("Clicks")," / ",e("CTR")]}),s.jsx("th",{className:"px-4 py-2",children:e("Avg. CPC")}),s.jsx("th",{className:"px-4 py-2",children:e("Leads")}),s.jsx("th",{className:"px-4 py-2",children:e("Avg. CPL")}),s.jsx("th",{className:"px-4 py-2",children:e("Qualified Leads %")}),s.jsxs("th",{className:"px-4 py-2",children:[" ",e("Revenue")]}),s.jsx("th",{className:"px-4 py-2",children:e("ROI")})]})}),s.jsx("tbody",{children:s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-4 py-2 font-medium",children:d}),s.jsxs("td",{className:"px-4 py-2",children:[u.spend.toLocaleString()," EGP"]}),s.jsx("td",{className:"px-4 py-2",children:u.impressions.toLocaleString()}),s.jsxs("td",{className:"px-4 py-2",children:[u.clicks.toLocaleString()," / ",f.toFixed(1),"%"]}),s.jsxs("td",{className:"px-4 py-2",children:[x.toFixed(2)," EGP"]}),s.jsx("td",{className:"px-4 py-2",children:u.leads.toLocaleString()}),s.jsxs("td",{className:"px-4 py-2",children:[p.toFixed(2)," EGP"]}),s.jsxs("td",{className:"px-4 py-2",children:[u.qualifiedPct,"%"]}),s.jsxs("td",{className:"px-4 py-2",children:[u.revenue.toLocaleString()," EGP"]}),s.jsxs("td",{className:"px-4 py-2",children:[v.toFixed(1),"x"]})]})}),s.jsx("tfoot",{children:s.jsx("tr",{className:"border-t text-xs text-[var(--muted-text)]",children:s.jsxs("td",{className:"px-4 py-2",colSpan:10,children:[e("Month-over-Month"),": ",e("Spend")," ",u.spend>=g.spend?"":""," ",Math.abs(u.spend-g.spend)," EGP, ",e("Revenue")," ",u.revenue>=g.revenue?"":""," ",Math.abs(u.revenue-g.revenue)," EGP, ",e("Leads")," ",u.leads>=g.leads?"":""," ",Math.abs(u.leads-g.leads)]})})})]})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("section",{className:"glass-panel p-4 md:col-span-2",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Spend vs Revenue Trend")}),s.jsx("div",{style:{height:"280px"},children:s.jsx(no,{data:S,options:k})}),s.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)]",children:e("November Weekly")})]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Leads by Platform")}),s.jsx("div",{style:{height:"280px"},children:s.jsx(Ls,{data:A,options:_})}),s.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)]",children:e("Platform Contribution")})]})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Spend Distribution by Platform")}),s.jsx("div",{style:{height:"280px"},children:s.jsx($U,{data:M,options:L})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("section",{className:"glass-panel p-4",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-2",children:[" ",e("Best Growth Area")]}),s.jsxs("div",{className:"text-sm",children:[e("Revenue growth vs last month"),": +",(u.revenue-g.revenue).toLocaleString()," EGP"]})]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-2",children:[" ",e("Needs Improvement")]}),s.jsxs("div",{className:"text-sm",children:[e("Optimize CPC and CTR on lower-performing platforms")," (",b[2].platform,")"]})]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-2",children:[" ",e("Recommendation")]}),s.jsxs("div",{className:"text-sm",children:[e("Increase budget for high-ROI platform"),": ",b[0].platform]})]})]})]})})}function n9({titleKey:e,descKey:t}){const{t:a}=Et();return s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("p",{className:"text-gray-700 dark:text-gray-200 text-base",children:a(t)}),s.jsx("div",{className:"mt-6 text-gray-500 dark:text-gray-400 text-sm",children:a("Coming soon")})]})}function D6e(){const{t:e,i18n:t}=Et(),a=t.language==="ar",[r,n]=w.useState({name:"",email:"",phone:"",subject:"",message:""}),[i,l]=w.useState(!1),[o,c]=w.useState(""),[d,u]=w.useState("Cairo, Egypt"),[f,x]=w.useState(null),[p,v]=w.useState(14),[g,b]=w.useState(""),j=t.language==="en"?"We'd love to hear from you":"   ";w.useEffect(()=>{const M=localStorage.getItem("contact_map_query");M&&u(M)},[]),w.useEffect(()=>{localStorage.setItem("contact_map_query",d)},[d]);const N=f?`https://www.google.com/maps?q=${f.lat},${f.lng}&z=${p}&output=embed`:`https://www.google.com/maps?q=${encodeURIComponent(d)}&z=${p}&output=embed`,S=()=>{const M=f?`https://www.google.com/maps/search/?api=1&query=${f.lat},${f.lng}`:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(d)}`;window.open(M,"_blank")},k=async()=>{const M=f?`${f.lat},${f.lng}`:d;try{await navigator.clipboard.writeText(M),b(e("Location copied to clipboard"))}catch{b(e("Unable to copy to clipboard"))}},A=M=>{const{name:L,value:U}=M.target;n(z=>({...z,[L]:U}))},_=async M=>{M.preventDefault(),!i&&(c(""),l(!0),await new Promise(L=>setTimeout(L,1200)),l(!1),c(e("Your message has been sent successfully")),n({name:"",email:"",phone:"",subject:"",message:""}))};return s.jsx(ea,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Contact us")}),s.jsx("section",{className:`card glass-card p-4 ${a?"text-right":"text-left"}`,children:s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:j})}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),o&&s.jsxs("div",{className:`card glass-card p-3 text-sm inline-flex items-center gap-2 ${a?"justify-end text-right":"justify-start text-left"}`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 text-green-600",children:s.jsx("path",{d:"M20 6L9 17l-5-5"})}),s.jsx("span",{children:o})]}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 items-stretch gap-6",children:[s.jsx("section",{className:"lg:col-span-2 card glass-card p-4 h-full",children:s.jsxs("form",{onSubmit:_,className:`space-y-4 ${a?"text-right":""}`,children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("label",{className:`text-xs text-[var(--muted-text)] inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[s.jsx("circle",{cx:"12",cy:"8",r:"3"}),s.jsx("path",{d:"M6 21v-2a6 6 0 0112 0v2"})]}),s.jsx("span",{children:e("Your Name")})]}),s.jsx("input",{name:"name",value:r.name,onChange:A,className:"input",placeholder:e("Enter your name"),required:!0})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("label",{className:`text-xs text-[var(--muted-text)] inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[s.jsx("rect",{x:"4",y:"6",width:"16",height:"12",rx:"2"}),s.jsx("path",{d:"M4 8l8 6 8-6"})]}),s.jsx("span",{children:e("Email")})]}),s.jsx("input",{type:"email",name:"email",value:r.email,onChange:A,className:"input",placeholder:e("Enter your email"),required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("label",{className:`text-xs text-[var(--muted-text)] inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M22 16.92v-3a2 2 0 00-2-2h-3l-2 3a16 16 0 01-7-7l3-2V4a2 2 0 00-2-2H3.08a2 2 0 00-2 2C1.08 13.91 10.09 22.92 22 22.92a2 2 0 002-2v-3z"})}),s.jsx("span",{children:e("Phone")})]}),s.jsx("input",{name:"phone",value:r.phone,onChange:A,className:"input",placeholder:e("Enter your phone")})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("label",{className:`text-xs text-[var(--muted-text)] inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M4 6h16M4 12h16M4 18h10"})}),s.jsx("span",{children:e("Subject")})]}),s.jsx("input",{name:"subject",value:r.subject,onChange:A,className:"input",placeholder:e("Subject of your message")})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("label",{className:`text-xs text-[var(--muted-text)] inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[s.jsx("path",{d:"M22 2L11 13"}),s.jsx("path",{d:"M22 2l-7 20-4-9-9-4 20-7z"})]}),s.jsx("span",{children:e("Message")})]}),s.jsx("textarea",{name:"message",value:r.message,onChange:A,className:"input min-h-[120px]",placeholder:e("Write your message here"),required:!0})]}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),s.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsxs("button",{type:"submit",className:`btn btn-primary inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,disabled:i,children:[i?s.jsx("span",{className:"inline-block w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[s.jsx("path",{d:"M22 2L11 13"}),s.jsx("path",{d:"M22 2l-7 20-4-9-9-4 20-7z"})]}),s.jsx("span",{children:e(i?"Sending...":"Send")})]}),s.jsx("button",{type:"button",className:"btn",onClick:()=>n({name:"",email:"",phone:"",subject:"",message:""}),children:e("Reset")})]})]})}),s.jsxs("section",{className:`card glass-card p-4 h-full ${a?"text-right":"text-left"}`,children:[s.jsx("div",{className:"text-base font-medium text-[var(--muted-text)] mb-2",children:a?" ":"Contact Methods"}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-4"})}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-4"})}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"group flex items-start gap-3 cm-item cm-anim delay-100 p-2",children:[s.jsx("span",{className:"text-blue-500",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110",children:[s.jsx("rect",{x:"4",y:"6",width:"16",height:"12",rx:"2"}),s.jsx("path",{d:"M4 8l8 6 8-6"})]})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Support Email")}),s.jsx("a",{href:"mailto:support@example.com",className:"text-base hover:underline",target:"_blank",rel:"noopener noreferrer",children:"support@example.com"})]})]}),s.jsxs("div",{className:"group flex items-start gap-3 cm-item cm-anim delay-200 p-2",children:[s.jsx("span",{className:"text-green-600",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110",children:s.jsx("path",{d:"M22 16.92v-3a2 2 0 00-2-2h-3l-2 3a16 16 0 01-7-7l3-2V4a2 2 0 00-2-2H3.08a2 2 0 00-2 2C1.08 13.91 10.09 22.92 22 22.92a2 2 0 002-2v-3z"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Phone")}),s.jsx("a",{href:"tel:+201000000000",className:"text-base hover:underline",children:"+20 10 000 0000"})]})]}),s.jsxs("div",{className:"group flex items-start gap-3 cm-item cm-anim delay-300 p-2",children:[s.jsx("span",{className:"text-green-500",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110",children:s.jsx("path",{d:"M6 12l4 4 8-8"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("WhatsApp")}),s.jsx("a",{href:"https://wa.me/201000000000",className:"text-base hover:underline",target:"_blank",rel:"noopener noreferrer",children:"+20 10 000 0000"})]})]}),s.jsxs("div",{className:"group flex items-start gap-3 cm-item cm-anim delay-400 p-2",children:[s.jsx("span",{className:"text-gray-600",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110",children:[s.jsx("path",{d:"M3 10l9-7 9 7"}),s.jsx("path",{d:"M5 10v9h14v-9"})]})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Address")}),s.jsx("a",{href:"https://www.google.com/maps/search/?api=1&query=Cairo%2C%20Egypt",className:"text-base hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Cairo, Egypt"})]})]}),s.jsxs("div",{className:"pt-2 sm:col-span-2 border-t border-gray-200 dark:border-gray-800",children:[s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),s.jsx("div",{className:"text-base font-medium text-[var(--muted-text)] mb-2",children:a?"":"Follow us"}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),s.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[s.jsx("a",{href:"#","aria-label":"Facebook",className:"inline-flex p-2 rounded-md hover:bg-white/10",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-4 h-4",children:s.jsx("path",{d:"M22 12a10 10 0 10-11.5 9.9v-7h-2v-3h2V9.5a3 3 0 013-3h3v3h-2a1 1 0 00-1 1V12h3l-.5 3h-2.5v7A10 10 0 0022 12z"})})}),s.jsx("a",{href:"#","aria-label":"Twitter",className:"inline-flex p-2 rounded-md hover:bg-white/10",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-4 h-4",children:s.jsx("path",{d:"M22 5.9a8.2 8.2 0 01-2.3.6 4 4 0 001.8-2.2 8.3 8.3 0 01-2.6 1 4 4 0 00-6.9 3.6A11.3 11.3 0 013 5.2a4 4 0 001.2 5.3 4 4 0 01-1.8-.5v.1a4 4 0 003.2 3.9 4 4 0 01-1.8.1 4 4 0 003.7 2.8A8.1 8.1 0 012 18.6 11.4 11.4 0 008.1 20c7.4 0 11.5-6.1 11.5-11.5v-.5A8.1 8.1 0 0022 5.9z"})})}),s.jsx("a",{href:"#","aria-label":"LinkedIn",className:"inline-flex p-2 rounded-md hover:bg-white/10",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-4 h-4",children:s.jsx("path",{d:"M4 3a2 2 0 110 4 2 2 0 010-4zm0 6h4v12H4V9zm6 0h4v2.5h.1a4.4 4.4 0 013.9-2.2c4.1 0 4.8 2.7 4.8 6.2V21h-4v-5.2c0-1.3 0-3-1.8-3s-2.2 1.4-2.2 2.9V21h-4V9z"})})}),s.jsx("a",{href:"#","aria-label":"WhatsApp",className:"inline-flex p-2 rounded-md hover:bg-white/10",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-4 h-4",children:s.jsx("path",{d:"M12 2a10 10 0 00-8.7 14.9L2 22l5.3-1.3A10 10 0 1012 2zm5.6 14.3c-.2.6-1.2 1.1-1.7 1.2-.4.1-.9.1-1.5-.1-1.5-.5-3.3-1.4-4.7-2.8-1.3-1.3-2.3-3.1-2.8-4.7-.2-.6-.2-1.1-.1-1.5.1-.5.6-1.5 1.2-1.7.3-.1.7-.1 1 .1.4.2.9.7 1 1.1l.2.4c.3.6.1.9-.2 1.3l-.3.3c-.1.1-.2.3-.1.5.1.4.6 1.3 1.4 2.1.8.8 1.7 1.3 2.1 1.4.2.1.4 0 .5-.1l.3-.3c.4-.3.7-.5 1.3-.2l.4.2c.4.1.9.6 1.1 1 .2.3.2.7.1 1z"})})})]})]})]})]})]}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),s.jsxs("section",{className:"card glass-card p-4",children:[s.jsxs("div",{className:`flex items-center justify-between gap-3 ${a?"flex-row-reverse":""}`,children:[s.jsx("h2",{className:"text-lg font-semibold",children:e("Our Location")}),s.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsx("button",{type:"button",className:`btn ${a?"flex-row-reverse":""}`,onClick:S,children:e("Open in Maps")}),s.jsx("button",{type:"button",className:`btn ${a?"flex-row-reverse":""}`,onClick:k,children:e("Copy")})]})]}),s.jsxs("div",{className:`mt-3 flex items-center gap-3 ${a?"flex-row-reverse":""}`,children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Zoom")}),s.jsx("input",{type:"range",min:"3",max:"20",value:p,onChange:M=>v(Number(M.target.value))})]}),g&&s.jsx("div",{className:`mt-2 text-xs text-[var(--muted-text)] ${a?"text-right":"text-left"}`,children:g}),s.jsx("div",{className:"mt-3 rounded-lg overflow-hidden",children:s.jsx("iframe",{title:"map",src:N,className:"w-full h-64 rounded-lg border border-gray-200 dark:border-gray-800",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})})]})})}function M6e(){const e=ti();return s.jsxs("div",{className:"relative min-h-screen flex flex-col pb-20 sm:pb-24 bg-[linear-gradient(120deg,_#f0f4ff,_#e8f7ff_30%,_#fff6f0_60%,_#f0faff_90%)] dark:bg-[linear-gradient(120deg,_#0b1220,_#101828_30%,_#1b2433_60%,_#0f172a_90%)]",children:[s.jsx(nh.header,{className:"w-full bg-white/20 dark:bg-gray-800/25 backdrop-blur-md border-b border-white/30 dark:border-gray-600 shadow",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:s.jsxs("div",{className:"flex justify-between items-center w-full max-w-6xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:Rm,alt:"Be Souhola",className:"w-16 h-16 sm:w-20 sm:h-20 drop-shadow-lg"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs sm:text-sm text-white/90 drop-shadow-md",children:"Make everything ....."}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-white via-sky-100 to-cyan-200 text-transparent bg-clip-text drop-shadow-lg",children:"Be Souhola"})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("nav",{className:"hidden sm:flex items-center gap-4 text-white/90",children:[s.jsx(It,{to:"/",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Home"}),s.jsx(It,{to:"/about",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"About"}),s.jsx(It,{to:"/welcome/contact",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Contact"}),s.jsx(It,{to:"/pricing",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Pricing"})]}),s.jsx("button",{onClick:()=>e("/login"),className:"px-8 py-3 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow-lg transition-all duration-200 hover:bg-white/40 hover:scale-105 hover:shadow-2xl hover:ring-2 hover:ring-white/40",children:"LOGIN "})]})]})}),s.jsx("main",{className:"flex-1 w-full",children:s.jsxs("div",{className:"mx-auto max-w-3xl px-6 sm:px-10 mt-8 sm:mt-12",children:[s.jsx("div",{className:"flex justify-end mb-3 sm:mb-4",children:s.jsx(xr,{to:"/",className:"text-xs sm:text-sm text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Back to Welcome "})}),s.jsxs("div",{className:"bg-white/30 dark:bg-gray-800/40 rounded-3xl p-5 sm:p-6 border border-gray-200/60 dark:border-gray-700/60 shadow-lg",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-3 sm:mb-4",children:"Privacy Policy"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"We respect your privacy and are committed to protecting your personal data. This policy explains how we collect, use, and process information when you use our services."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Information We Collect"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"We may collect basic identifying information such as name, email, and phone number, along with service usage data to improve performance and provide better support."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"How We Use Information"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"We use your data to provide core features, enhance your experience, communicate updates and support, and comply with legal requirements."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Data Sharing"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"Your data is not shared with third parties except when legally required, with your explicit consent, or to deliver a complete service through trusted providers."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Your Rights"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"You have the right to access, correct, and request deletion of your personal data. You can contact us to exercise these rights at any time."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Contact Us"}),s.jsx("p",{className:"text-sm sm:text-base",children:"For privacy-related inquiries, please reach out through the Contact page."})]})]})}),s.jsx("footer",{className:"fixed bottom-0 left-0 w-full border-t border-gray-200/60 dark:border-gray-700/60 bg-white/70 dark:bg-gray-900/40 backdrop-blur-md",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-6 sm:px-10 py-2 sm:py-3 flex items-center justify-between text-xs sm:text-sm",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" 2024 Be Souhola"}),s.jsxs("nav",{className:"flex items-center gap-4",children:[s.jsx(xr,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Privacy"}),s.jsx(xr,{to:"/terms",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Terms"}),s.jsx(xr,{to:"/welcome/contact",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Contact"})]})]})})]})}function P6e(){const e=ti();return s.jsxs("div",{className:"relative min-h-screen flex flex-col pb-20 sm:pb-24 bg-[linear-gradient(120deg,_#f0f4ff,_#e8f7ff_30%,_#fff6f0_60%,_#f0faff_90%)] dark:bg-[linear-gradient(120deg,_#0b1220,_#101828_30%,_#1b2433_60%,_#0f172a_90%)]",children:[s.jsx(nh.header,{className:"w-full bg-white/20 dark:bg-gray-800/25 backdrop-blur-md border-b border-white/30 dark:border-gray-600 shadow",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:s.jsxs("div",{className:"flex justify-between items-center w-full max-w-6xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:Rm,alt:"Be Souhola",className:"w-16 h-16 sm:w-20 sm:h-20 drop-shadow-lg"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs sm:text-sm text-white/90 drop-shadow-md",children:"Make everything ....."}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-white via-sky-100 to-cyan-200 text-transparent bg-clip-text drop-shadow-lg",children:"Be Souhola"})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("nav",{className:"hidden sm:flex items-center gap-4 text-white/90",children:[s.jsx(It,{to:"/",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Home"}),s.jsx(It,{to:"/about",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"About"}),s.jsx(It,{to:"/welcome/contact",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Contact"}),s.jsx(It,{to:"/pricing",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Pricing"})]}),s.jsx("button",{onClick:()=>e("/login"),className:"px-8 py-3 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow-lg transition-all duration-200 hover:bg-white/40 hover:scale-105 hover:shadow-2xl hover:ring-2 hover:ring-white/40",children:"LOGIN "})]})]})}),s.jsx("main",{className:"flex-1 w-full",children:s.jsxs("div",{className:"mx-auto max-w-3xl px-6 sm:px-10 mt-8 sm:mt-12",children:[s.jsx("div",{className:"flex justify-end mb-3 sm:mb-4",children:s.jsx(xr,{to:"/",className:"text-xs sm:text-sm text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Back to Welcome "})}),s.jsxs("div",{className:"bg-white/30 dark:bg-gray-800/40 rounded-3xl p-5 sm:p-6 border border-gray-200/60 dark:border-gray-700/60 shadow-lg",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-3 sm:mb-4",children:"Terms & Conditions"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"These Terms & Conditions define the rules for using the service and your rights and responsibilities. By using the service, you agree to be bound by these terms."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Use of Service"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"You must use the service lawfully and refrain from any activity that may negatively affect performance or put user data at risk."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Accounts & Responsibility"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"You are responsible for keeping your login credentials confidential and for all activities that occur under your account."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Updates & Changes"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"We may update these terms from time to time. Continuing to use the service after any update constitutes acceptance of the modified terms."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Termination"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"We reserve the right to suspend or terminate access to the service upon violation of the terms or misuse."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Contact"}),s.jsx("p",{className:"text-sm sm:text-base",children:"For any inquiries regarding these terms, please contact us via the Contact page."})]})]})}),s.jsx("footer",{className:"fixed bottom-0 left-0 w-full border-t border-gray-200/60 dark:border-gray-700/60 bg-white/70 dark:bg-gray-900/40 backdrop-blur-md",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-6 sm:px-10 py-2 sm:py-3 flex items-center justify-between text-xs sm:text-sm",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" 2024 Be Souhola"}),s.jsxs("nav",{className:"flex items-center gap-4",children:[s.jsx(xr,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Privacy"}),s.jsx(xr,{to:"/terms",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Terms"}),s.jsx(xr,{to:"/welcome/contact",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Contact"})]})]})})]})}function L6e(){const e=t=>{t.preventDefault(),alert("Your message has been sent successfully (Welcome Contact)")};return s.jsxs("div",{className:"relative min-h-screen flex flex-col pb-20 sm:pb-24 bg-gradient-to-br from-cyan-200 via-sky-300 to-indigo-200 dark:from-gray-900 dark:via-indigo-900 dark:to-purple-900",children:[s.jsx(nh.header,{className:"w-full bg-white/20 dark:bg-gray-800/25 backdrop-blur-md border-b border-white/30 dark:border-gray-600 shadow",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:s.jsxs("div",{className:"flex justify-between items-center w-full max-w-6xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:Rm,alt:"Be Souhola",className:"w-16 h-16 sm:w-20 sm:h-20 drop-shadow-lg"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs sm:text-sm text-white/90 drop-shadow-md",children:"Make everything ....."}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-white via-sky-100 to-cyan-200 text-transparent bg-clip-text drop-shadow-lg",children:"Be Souhola"})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("nav",{className:"hidden sm:flex items-center gap-4 text-white/90",children:[s.jsx(It,{to:"/",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Home"}),s.jsx(It,{to:"/about",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"About"}),s.jsx(It,{to:"/welcome/contact",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Contact"}),s.jsx(It,{to:"/pricing",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Pricing"})]}),s.jsx(xr,{to:"/login",className:"px-8 py-3 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow-lg hover:bg-white/40 transition-all",children:"LOGIN "})]})]})}),s.jsxs("main",{className:"flex-1 w-full max-w-3xl mx-auto px-6 sm:px-10 mt-8 sm:mt-12",children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsx(xr,{to:"/",className:"px-6 py-2 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow hover:bg-white/40 transition-all",children:"Back to Welcome "})}),s.jsxs("div",{className:"bg-white/30 dark:bg-gray-800/30 backdrop-blur-md rounded-3xl p-5 sm:p-6 border border-white/40 dark:border-gray-700 shadow",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white/90 mb-4 text-center",children:"contact us"}),s.jsxs("form",{onSubmit:e,className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Name"}),s.jsx("input",{type:"text",required:!0,className:"w-full rounded-xl bg-white/60 dark:bg-gray-900/40 border border-white/40 dark:border-gray-700 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Email"}),s.jsx("input",{type:"email",required:!0,className:"w-full rounded-xl bg-white/60 dark:bg-gray-900/40 border border-white/40 dark:border-gray-700 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Phone"}),s.jsx("input",{type:"tel",className:"w-full rounded-xl bg-white/60 dark:bg-gray-900/40 border border-white/40 dark:border-gray-700 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Subject"}),s.jsx("input",{type:"text",className:"w-full rounded-xl bg-white/60 dark:bg-gray-900/40 border border-white/40 dark:border-gray-700 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Message"}),s.jsx("textarea",{rows:5,required:!0,className:"w-full rounded-xl bg-white/60 dark:bg-gray-900/40 border border-white/40 dark:border-gray-700 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"submit",className:"px-6 py-2 rounded-full bg-white text-indigo-700 dark:bg-indigo-600 dark:text-white font-semibold shadow hover:bg-white/90 dark:hover:bg-indigo-700 transition-all",children:"Send"})})]})]})]}),s.jsx("footer",{className:"fixed bottom-0 left-0 w-full border-t border-gray-200/60 dark:border-gray-700/60 bg-white/70 dark:bg-gray-900/40 backdrop-blur-md",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-6 sm:px-10 py-2 sm:py-3 flex items-center justify-between text-xs sm:text-sm",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" 2024 Be Souhola"}),s.jsxs("nav",{className:"flex items-center gap-4",children:[s.jsx(xr,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Privacy"}),s.jsx(xr,{to:"/terms",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Terms"}),s.jsx(xr,{to:"/welcome/contact",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Contact"})]})]})})]})}function O6e(){const e=ti();return s.jsxs("div",{className:"relative min-h-screen flex flex-col pb-20 sm:pb-24 bg-gradient-to-br from-cyan-200 via-sky-300 to-indigo-200 dark:from-gray-900 dark:via-indigo-900 dark:to-purple-900",children:[s.jsx(nh.header,{className:"w-full bg-white/20 dark:bg-gray-800/25 backdrop-blur-md border-b border-white/30 dark:border-gray-600 shadow",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:s.jsxs("div",{className:"flex justify-between items-center w-full max-w-6xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:Rm,alt:"Be Souhola",className:"w-16 h-16 sm:w-20 sm:h-20 drop-shadow-lg"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs sm:text-sm text-white/90 drop-shadow-md",children:"Make everything ....."}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-white via-sky-100 to-cyan-200 text-transparent bg-clip-text drop-shadow-lg",children:"Be Souhola"})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("nav",{className:"hidden sm:flex items-center gap-4 text-white/90",children:[s.jsx(It,{to:"/",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Home"}),s.jsx(It,{to:"/about",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"About"}),s.jsx(It,{to:"/welcome/contact",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Contact"}),s.jsx(It,{to:"/pricing",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Pricing"})]}),s.jsx("button",{onClick:()=>e("/login"),className:"px-8 py-3 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow-lg transition-all duration-200 hover:bg-white/40 hover:scale-105 hover:shadow-2xl hover:ring-2 hover:ring-white/40",children:"LOGIN "})]})]})}),s.jsx("main",{className:"flex-1 w-full",children:s.jsxs("div",{className:"mx-auto max-w-3xl px-6 sm:px-10 mt-8 sm:mt-12",children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsx(xr,{to:"/",className:"px-6 py-2 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow hover:bg-white/40 transition-all",children:"Back to Welcome "})}),s.jsxs("div",{className:"bg-white/30 dark:bg-gray-800/30 backdrop-blur-md rounded-3xl p-5 sm:p-6 border border-white/40 dark:border-gray-700 shadow",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white/90 mb-4 text-center",children:"About"}),s.jsx("p",{className:"text-sm sm:text-base text-white/90",children:"Be Souhola is a modern CRM designed to streamline client management, leads tracking, marketing campaigns, and analytics. Our mission is to make everything simpler and more efficient for teams."}),s.jsx("p",{className:"mt-3 text-sm sm:text-base text-white/90",children:"This project brings together powerful modules like Dashboard, Inventory, Projects, Reports, and Settings, all crafted for a smooth daily workflow."})]})]})}),s.jsx("footer",{className:"fixed bottom-0 left-0 w-full border-t border-gray-200/60 dark:border-gray-700/60 bg-white/70 dark:bg-gray-900/40 backdrop-blur-md",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-6 sm:px-10 py-2 sm:py-3 flex items-center justify-between text-xs sm:text-sm",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" 2024 Be Souhola"}),s.jsxs("nav",{className:"flex items-center gap-4",children:[s.jsx(xr,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Privacy"}),s.jsx(xr,{to:"/terms",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Terms"}),s.jsx(xr,{to:"/welcome/contact",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Contact"})]})]})})]})}function R6e(){const{t:e,i18n:t}=Et(),a=t.language==="ar",r=ti(),[n,i]=w.useState("general"),[l,o]=w.useState(!1),[c,d]=w.useState(""),[u,f]=w.useState({title:"",channel:"",project:"",description:"",targetUrl:"",media:[],headerScript:"",bodyScript:"",enableTracking:!0}),x=b=>{const{name:j,value:N,type:S,checked:k}=b.target;f(A=>({...A,[j]:S==="checkbox"?k:N}))},p=b=>{const j=Array.from(b.target.files||[]);f(N=>({...N,media:j}))},v=()=>r("/marketing/landing-pages"),g=async()=>{l||(o(!0),d(""),await new Promise(b=>setTimeout(b,1e3)),o(!1),d(e("Saved successfully")),setTimeout(()=>r("/marketing/landing-pages"),900))};return s.jsx(ea,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Add Landing Page")}),c&&s.jsx("div",{className:`card glass-card p-3 text-sm ${a?"text-right":"text-left"}`,children:c}),s.jsxs("section",{className:`card glass-card p-0 ${a?"text-right":"text-left"}`,children:[s.jsx("div",{className:"flex items-center gap-2 px-4 pt-4",children:["general","description","media","script"].map(b=>s.jsxs("button",{className:`btn !px-3 !py-1 text-sm ${n===b?"btn-primary":""}`,onClick:()=>i(b),children:[b==="general"&&e("General"),b==="description"&&e("Description"),b==="media"&&e("Media"),b==="script"&&e("Script")]},b))}),s.jsxs("div",{className:"p-4",children:[n==="general"&&s.jsxs("div",{className:`grid grid-cols-1 sm:grid-cols-2 gap-4 ${a?"text-right":""}`,children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Title")}),s.jsx("input",{name:"title",value:u.title,onChange:x,className:"input",placeholder:e("Enter title")})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Channel")}),s.jsxs("select",{name:"channel",value:u.channel,onChange:x,className:"select",children:[s.jsx("option",{value:"",children:e("Select Channel")}),s.jsx("option",{value:"Meta",children:"Meta (Facebook/Instagram)"}),s.jsx("option",{value:"Google Ads",children:"Google Ads"}),s.jsx("option",{value:"TikTok Ads",children:"TikTok Ads"}),s.jsx("option",{value:"Twitter/X",children:"Twitter / X"}),s.jsx("option",{value:"LinkedIn",children:"LinkedIn"}),s.jsx("option",{value:"Manual",children:"Manual"})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Project")}),s.jsxs("select",{name:"project",value:u.project,onChange:x,className:"select",children:[s.jsx("option",{value:"",children:e("Select Project")}),s.jsx("option",{value:"Cairo Downtown",children:"Cairo Downtown"}),s.jsx("option",{value:"New Capital",children:"New Capital"}),s.jsx("option",{value:"Project A",children:"Project A"}),s.jsx("option",{value:"Project B",children:"Project B"})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Target URL")}),s.jsx("input",{name:"targetUrl",value:u.targetUrl,onChange:x,className:"input",placeholder:"https://example.com/landing"})]})]}),n==="description"&&s.jsx("div",{className:"grid grid-cols-1 gap-3",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Short Description")}),s.jsx("textarea",{name:"description",value:u.description,onChange:x,className:"input min-h-[140px]",placeholder:e("Short Description")})]})}),n==="media"&&s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Upload Media")}),s.jsx("input",{type:"file",multiple:!0,onChange:p,className:"input",accept:"image/*,video/*"})]}),u.media.length>0&&s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:u.media.map((b,j)=>s.jsxs("div",{className:"card glass-card p-3 text-sm",children:[s.jsx("div",{className:"font-medium truncate",children:b.name}),s.jsxs("div",{className:"text-[var(--muted-text)]",children:[(b.size/1024).toFixed(1)," KB"]})]},j))})]}),n==="script"&&s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"enableTracking",type:"checkbox",name:"enableTracking",checked:u.enableTracking,onChange:x}),s.jsx("label",{htmlFor:"enableTracking",className:"text-sm",children:"Meta Pixel / GTM"})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Header Script")}),s.jsx("textarea",{name:"headerScript",value:u.headerScript,onChange:x,className:"input min-h-[120px]",placeholder:"<!-- scripts in <head> -->"})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Body Script")}),s.jsx("textarea",{name:"bodyScript",value:u.bodyScript,onChange:x,className:"input min-h-[120px]",placeholder:"<!-- scripts before </body> -->"})]})]}),s.jsxs("div",{className:`mt-4 flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsx("button",{type:"button",className:"btn",onClick:v,children:e("Cancel")}),s.jsxs("button",{type:"button",className:"btn btn-primary inline-flex items-center gap-2",onClick:g,disabled:l,children:[l?s.jsx("span",{className:"inline-block w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M12 5v14M5 12h14"})}),s.jsx("span",{children:e(l?"Saving...":"Create")})]})]})]})]})]})})}function F6e({isOpen:e,onClose:t,onSave:a}){const{t:r,i18n:n}=Et(),i=(n?.language||"").toLowerCase().startsWith("ar"),[l,o]=w.useState(""),[c,d]=w.useState(""),[u,f]=w.useState(""),[x,p]=w.useState(""),[v,g]=w.useState(""),[b,j]=w.useState(""),[N,S]=w.useState("medium"),[k,A]=w.useState(""),[_,M]=w.useState(null),[L,U]=w.useState("Follow-up"),[z,O]=w.useState("Admin"),[B,E]=w.useState(""),[R,q]=w.useState(""),[I,G]=w.useState(""),[re,te]=w.useState(0),[X,ce]=w.useState(""),[D,Q]=w.useState("none"),H=w.useMemo(()=>["Ibrahim","Ahmed M","Semik L","Casad","Admin"],[]),J=w.useMemo(()=>["Team A","Team B","Support","Sales","Admin","Ibrahim","Ahmed"],[]),ae=w.useMemo(()=>["Lead","Deal","Contact","Opportunity","Ticket","Project"],[]),ie=w.useMemo(()=>["Call","Meeting","Email","Follow-up","Internal","Delivery","Support"],[]),le=w.useMemo(()=>[{value:"",label:i?"":"None"},{value:"5m",label:i?" 5 ":"5 minutes before"},{value:"15m",label:i?" 15 ":"15 minutes before"},{value:"1h",label:i?" ":"1 hour before"},{value:"1d",label:i?" ":"1 day before"}],[i]),Y=w.useMemo(()=>[{value:"none",label:i?"":"None"},{value:"daily",label:i?"":"Daily"},{value:"weekly",label:i?"":"Weekly"},{value:"monthly",label:i?"":"Monthly"}],[i]);if(!e)return null;const oe=()=>{if(!l.trim()){A(i?" ":"Title is required");return}const W={title:l.trim(),description:c.trim(),salesman:u,assignedTo:x,due:v,endDate:v,startDate:b,priority:N,attachment:_,taskType:L,createdBy:z,relatedType:B,relatedRef:R,tags:I.split(",").map(he=>he.trim()).filter(Boolean),progress:re,reminderBefore:X,recurring:D};a?.(W),o(""),d(""),f(""),p(""),g(""),j(""),S("medium"),M(null),U("Follow-up"),O("Admin"),E(""),q(""),G(""),te(0),ce(""),Q("none"),A("")},xe=W=>{const he=W.target.files?.[0];if(!he){M(null);return}const fe=URL.createObjectURL(he);M({name:he.name,size:he.size,type:he.type,url:fe})};return s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),s.jsxs("div",{className:"relative w-full sm:w-[90%] sm:max-w-2xl sm:max-h-[90vh] overflow-y-auto bg-[var(--content-bg)] text-[var(--content-text)] border shadow-xl rounded-none sm:rounded-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold",children:i?" ":"New Task"}),s.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-[var(--table-row-hover)]","aria-label":i?"":"Close",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:s.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),s.jsxs("div",{className:"px-6 py-5 space-y-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?"":"Title"}),s.jsx("input",{value:l,onChange:W=>o(W.target.value),placeholder:i?"":"Title",className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?"":"Description"}),s.jsx("textarea",{value:c,onChange:W=>d(W.target.value),placeholder:i?"":"Description",className:"w-full min-h-28 px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] resize-y"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Select sales"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:u,onChange:W=>f(W.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:[s.jsx("option",{value:"",children:i?" ":"Select a salesman"}),H.map(W=>s.jsx("option",{value:W,children:W},W))]}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Assigned To"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:x,onChange:W=>p(W.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:[s.jsx("option",{value:"",children:i?" /":"Select person/team"}),J.map(W=>s.jsx("option",{value:W,children:W},W))]}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?"":"Priority"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:N,onChange:W=>S(W.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:[s.jsx("option",{value:"low",children:i?"":"Low"}),s.jsx("option",{value:"medium",children:i?"":"Medium"}),s.jsx("option",{value:"high",children:i?"":"High"})]}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Start date"}),s.jsx("input",{type:"date",value:b,onChange:W=>j(W.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Due date"}),s.jsx("input",{type:"date",value:v,onChange:W=>g(W.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Attached File"}),s.jsx("input",{type:"file",onChange:xe,className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"}),_?s.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs bg-[var(--dropdown-bg)] border rounded-md px-3 py-2",children:[s.jsxs("div",{className:"flex items-center gap-2 truncate",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M21.44 11.05l-9.9 9.9a5.5 5.5 0 01-7.78-7.78l9.9-9.9a3.5 3.5 0 015 5l-9.2 9.2a1.5 1.5 0 01-2.12-2.12l8.49-8.49"})}),s.jsx("a",{href:_.url,target:"_blank",rel:"noreferrer",className:"truncate hover:underline",children:_.name})]}),s.jsx("button",{type:"button",onClick:()=>M(null),className:"px-2 py-1 rounded-md border bg-[var(--table-row-hover)]",children:i?"":"Remove"})]}):null]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Task type"}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{value:L,onChange:W=>U(W.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:ie.map(W=>s.jsx("option",{value:W,children:W},W))}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Related to"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:B,onChange:W=>E(W.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:[s.jsx("option",{value:"",children:i?" ":"Select entity"}),ae.map(W=>s.jsx("option",{value:W,children:W},W))]}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?"/":"Reference/ID"}),s.jsx("input",{value:R,onChange:W=>q(W.target.value),placeholder:i?": LEAD-102":"e.g., LEAD-102",className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Created by"}),s.jsx("input",{value:z,onChange:W=>O(W.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?"/":"Tags/Labels"}),s.jsx("input",{value:I,onChange:W=>G(W.target.value),placeholder:i?"   ":"Comma-separated tags",className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Progress %"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"range",min:0,max:100,value:re,onChange:W=>te(Number(W.target.value)),className:"flex-1"}),s.jsxs("span",{className:"text-sm w-12 text-right",children:[re,"%"]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?"":"Reminder"}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{value:X,onChange:W=>ce(W.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:le.map(W=>s.jsx("option",{value:W.value,children:W.label},W.value))}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Recurring"}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{value:D,onChange:W=>Q(W.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:Y.map(W=>s.jsx("option",{value:W.value,children:W.label},W.value))}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),k&&s.jsx("div",{className:"text-red-500 text-sm",children:k})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm",children:i?"":"Cancel"}),s.jsx("button",{onClick:oe,className:"px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-500 text-white text-sm",children:i?" ":"New Task"})]})]})]})}function I6e({isOpen:e,onClose:t,task:a}){const{i18n:r}=Et(),n=(r?.language||"").toLowerCase().startsWith("ar");if(!e||!a)return null;const i={title:n?"":"Title",description:n?"":"Description",assigned:n?"":"Assigned",status:n?"":"Status",due:n?" ":"Due",start:n?" ":"Start",salesman:n?"":"Salesman",priority:n?"":"Priority",attachment:n?" ":"Attached File",createdBy:n?" ":"Created By",taskType:n?" ":"Task Type",relatedTo:n?" ":"Related To",reference:n?"/":"Reference",tags:n?"":"Tags",progress:n?" ":"Progress %",reminder:n?"":"Reminder",recurring:n?"":"Recurring",details:n?" ":"Task Details",close:n?"":"Close"};return s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-stretch sm:items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),s.jsxs("div",{className:"relative w-full h-screen sm:w-[90%] sm:max-w-2xl sm:max-h-[90vh] sm:h-auto bg-[var(--content-bg)] text-[var(--content-text)] border shadow-xl rounded-none sm:rounded-2xl flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 py-3 sm:py-4 border-b sticky top-0 bg-[var(--content-bg)] z-10",children:[s.jsx("h2",{className:"text-xl font-semibold",children:i.details}),s.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-[var(--table-row-hover)]","aria-label":i.close,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:s.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 py-4 sm:py-5 space-y-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.title}),s.jsx("div",{className:"text-base font-medium",children:a.name})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.description}),s.jsx("div",{className:"text-sm whitespace-pre-wrap",children:a.sub||""})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.assigned}),s.jsx("div",{className:"text-sm",children:a.assignee||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.salesman}),s.jsx("div",{className:"text-sm",children:a.salesman||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.status}),s.jsx("div",{className:"text-sm",children:a.status||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.priority}),s.jsx("div",{className:"text-sm",children:a.priority||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.due}),s.jsx("div",{className:"text-sm",children:a.due||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.start}),s.jsx("div",{className:"text-sm",children:a.startDate||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.createdBy}),s.jsx("div",{className:"text-sm",children:a.createdBy||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.taskType}),s.jsx("div",{className:"text-sm",children:a.taskType||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.relatedTo}),s.jsx("div",{className:"text-sm",children:a.relatedType||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.reference}),s.jsx("div",{className:"text-sm",children:a.relatedRef||""})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("div",{className:"text-xs opacity-70",children:i.tags}),s.jsx("div",{className:"text-sm",children:a.tags&&a.tags.length>0?a.tags.join(", "):""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.progress}),s.jsx("div",{className:"text-sm",children:typeof a.progress=="number"?`${a.progress}%`:""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.reminder}),s.jsx("div",{className:"text-sm",children:a.reminderBefore||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.recurring}),s.jsx("div",{className:"text-sm",children:a.recurring||""})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("div",{className:"text-xs opacity-70",children:i.attachment}),a.attachment?s.jsxs("div",{className:"mt-1 inline-flex items-center gap-2 px-2 py-1 rounded-md border bg-[var(--dropdown-bg)] text-xs",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M21.44 11.05l-9.9 9.9a5.5 5.5 0 01-7.78-7.78l9.9-9.9a3.5 3.5 0 015 5l-9.2 9.2a1.5 1.5 0 01-2.12-2.12l8.49-8.49"})}),s.jsx("a",{href:a.attachment.url,target:"_blank",rel:"noreferrer",className:"hover:underline",children:a.attachment.name})]}):s.jsx("div",{className:"text-sm",children:""})]})]})]}),s.jsx("div",{className:"flex items-center justify-end gap-3 px-4 sm:px-6 py-3 sm:py-4 border-t bg-[var(--content-bg)]",children:s.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm",children:i.close})})]})]})}function o2({label:e,active:t,onClick:a,tone:r="default",count:n}){const i="inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium border transition-colors",l={default:"bg-[var(--dropdown-bg)] text-[var(--content-text)] border-[var(--divider)] hover:bg-[var(--table-row-hover)]",green:"bg-emerald-900/20 text-emerald-300 border-emerald-600/40 hover:bg-emerald-900/30",red:"bg-red-900/20 text-red-300 border-red-600/40 hover:bg-red-900/30",yellow:"bg-yellow-900/20 text-yellow-300 border-yellow-600/40 hover:bg-yellow-900/30",blue:"bg-sky-900/20 text-sky-300 border-sky-600/40 hover:bg-sky-900/30"},o=t?" ring-2 ring-indigo-500/40":"";return s.jsxs("button",{type:"button",onClick:a,className:`${i} ${l[r]}${o}`,children:[s.jsx("span",{className:"w-2 h-2 rounded-full",style:{background:r==="green"?"#10b981":r==="red"?"#ef4444":r==="yellow"?"#f59e0b":r==="blue"?"#0ea5e9":"var(--muted-text)"}}),e,typeof n=="number"?s.jsx("span",{className:"px-1.5 py-0.5 rounded border border-current text-[10px] opacity-80",children:n}):null]})}function c2({label:e,tone:t="yellow"}){const a={yellow:"bg-yellow-500/20 text-yellow-300 border-yellow-500/40",blue:"bg-sky-500/20 text-sky-300 border-sky-500/40",green:"bg-emerald-500/20 text-emerald-300 border-emerald-500/40",red:"bg-red-500/20 text-red-300 border-red-500/40"};return s.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs border ${a[t]}`,children:e})}function B6e(){const{t:e,i18n:t}=Et(),a=(t?.language||"").toLowerCase().startsWith("ar"),[r,n]=w.useState(""),[i,l]=w.useState({status:{PENDING:!0,ACCEPTING:!0,FINISHED:!0,CANCELLED:!1}}),[o,c]=w.useState(!1),[d,u]=w.useState({search:"",createdAt:"",endDate:"",salesman:"",assignedTo:"",relatedType:"",status:"",priority:"",createdBy:"",useCreatedAt:!1,useEndDate:!1,overdueOnly:!1}),f=(he,fe)=>u(de=>({...de,[he]:fe})),x=()=>u({search:"",createdAt:"",endDate:"",salesman:"",assignedTo:"",relatedType:"",status:"",priority:"",createdBy:"",useCreatedAt:!1,useEndDate:!1,overdueOnly:!1}),p=(he,fe)=>l(de=>({...de,[he]:{...de[he],[fe]:!de[he][fe]}})),v=w.useMemo(()=>[{id:101,name:"Initial Setup",sub:"Project structure and configs",assignee:"Ibrahim",state1:"Phase 1",state2:"Init",due:"Today",salesman:"Ibrahim",priority:"high",status:"PENDING"},{id:102,name:"Client Meeting",sub:"Requirements alignment",assignee:"Ahmed",state1:"Phase 2",state2:"Discuss",due:"Tomorrow",salesman:"Ahmed",priority:"medium",status:"PENDING"},{id:103,name:"Content Review",sub:"Marketing copy",assignee:"Semik",state1:"Review",state2:"Draft",due:"Soon",salesman:"Semik L",priority:"low",status:"PENDING"},{id:104,name:"Deployment Prep",sub:"CI/CD and smoke tests",assignee:"Admin",state1:"Release",state2:"Check",due:"Next week",salesman:"Admin",priority:"medium",status:"PENDING"}],[]),[g,b]=w.useState(v),j=(he,fe)=>b(de=>de.map(Oe=>Oe.id===he?{...Oe,status:fe}:Oe)),N=he=>j(he,"ACCEPTING"),S=he=>j(he,"FINISHED"),k=he=>{window.confirm(a?"  ":"Confirm cancel task?")&&j(he,"CANCELLED")},A=()=>b([]),_=he=>{const fe={id:Date.now(),name:he.title,sub:he.description||"",assignee:he.assignedTo||he.salesman||"",state1:"New",state2:"",due:he.due||he.endDate||"Soon",salesman:he.salesman||"",priority:he.priority||"medium",status:"PENDING",attachment:he.attachment||null,startDate:he.startDate||"",taskType:he.taskType||"",createdBy:he.createdBy||"Admin",relatedType:he.relatedType||"",relatedRef:he.relatedRef||"",tags:he.tags||[],progress:typeof he.progress=="number"?he.progress:0,reminderBefore:he.reminderBefore||"",recurring:he.recurring||"none"};b(de=>[...de,fe])},M=()=>{try{const he=["id","name","sub","assignee","state1","state2","due","salesman","priority","status"],fe=[he.join(",")];g.forEach(Ee=>{const se=he.map(_e=>String(Ee[_e]??"").replace(/"/g,'""'));fe.push(se.map(_e=>`"${_e}"`).join(","))});const de=new Blob([fe.join(`
`)],{type:"text/csv;charset=utf-8;"}),Oe=URL.createObjectURL(de),Fe=document.createElement("a");Fe.href=Oe,Fe.download="tasks.csv",document.body.appendChild(Fe),Fe.click(),document.body.removeChild(Fe),URL.revokeObjectURL(Oe)}catch(he){console.error("Export failed",he),alert("Export failed")}},L=w.useMemo(()=>{const he=i?.status||{},fe=d.status,de=d.priority,Oe=d.salesman,Fe=d.assignedTo,Ee=d.relatedType,se=d.overdueOnly,_e=new Date().toISOString().slice(0,10);return g.filter(je=>{const rt=he[je.status]??!0,ft=fe?je.status===fe:!0,Bt=de?je.priority===de:!0,Je=Oe?je.salesman===Oe:!0,$e=Fe?je.assignee===Fe:!0,ze=Ee?je.relatedType===Ee:!0;let Ze=!0;return se&&(Ze=typeof je.due=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(je.due)&&je.due<_e),rt&&ft&&Bt&&Je&&$e&&ze&&Ze})},[g,i,d.status,d.priority,d.salesman,d.assignedTo,d.relatedType,d.overdueOnly]),U=w.useMemo(()=>{const he={PENDING:0,ACCEPTING:0,FINISHED:0,CANCELLED:0};return g.forEach(fe=>{he[fe.status]!==void 0&&he[fe.status]++}),he},[g]),[z,O]=w.useState(20),B=w.useMemo(()=>L.slice(0,z),[L,z]),[E,R]=w.useState({}),q=w.useMemo(()=>Object.values(E).filter(Boolean).length,[E]),I=he=>R(fe=>({...fe,[he]:!fe[he]})),G=()=>R({}),re=w.useMemo(()=>B.length>0&&B.every(he=>E[he.id]),[B,E]),te=()=>{if(re){const he={...E};B.forEach(fe=>{delete he[fe.id]}),R(he)}else{const he={...E};B.forEach(fe=>{he[fe.id]=!0}),R(he)}},X=()=>{const he=Object.keys(E).filter(fe=>E[fe]).map(fe=>Number(fe));if(he.length===0){alert(a?"   ":"No selected items");return}window.confirm(a?"   ":"Confirm delete selected?")&&(b(fe=>fe.filter(de=>!he.includes(de.id))),G())},[ce,D]=w.useState(""),Q=()=>{const he=Object.keys(E).filter(fe=>E[fe]).map(fe=>Number(fe));if(he.length===0){alert(a?"   ":"Select tasks to reassign");return}if(!ce){alert(a?"  ":"Please choose a salesman");return}b(fe=>fe.map(de=>he.includes(de.id)?{...de,salesman:ce}:de)),G()},[H,J]=w.useState(!1),[ae,ie]=w.useState(null),le=he=>ie(he),Y=()=>ie(null),[oe,xe]=w.useState(!0),W=()=>{if(window.history&&window.history.length>1)try{window.history.back()}catch{}else try{window.location.href="/besouhoula/"}catch{window.location.href="/besouhoula/"}};return s.jsxs(ea,{children:[s.jsxs("div",{className:"px-4 md:px-6 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-lg font-semibold tracking-wide",children:"ALL TASK"}),s.jsxs("button",{type:"button",onClick:W,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] hover:bg-[var(--table-row-hover)]",title:a?" ":"Close page","aria-label":a?"":"Close",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:s.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),s.jsx("span",{className:"hidden sm:inline text-sm",children:a?"":"Close"})]})]}),s.jsx("div",{className:"h-6"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:()=>c(he=>!he),className:"inline-flex items-center gap-2 px-3.5 py-2.5 rounded-md bg-[var(--dropdown-bg)] text-[var(--content-text)]",title:a?"/  ":"Toggle advanced filters","aria-label":a?"":"Filter",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M6 12h12"}),s.jsx("path",{d:"M10 18h4"})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>J(!0),className:"inline-flex items-center gap-2 px-3.5 py-2.5 rounded-md bg-[var(--dropdown-bg)] text-[var(--content-text)]",title:a?" ":"New Task",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:s.jsx("path",{d:"M12 4v16M4 12h16"})}),a?"":"New"]}),s.jsxs("button",{onClick:M,className:"inline-flex items-center gap-2 px-3.5 py-2.5 rounded-md bg-[var(--dropdown-bg)] text-[var(--content-text)]",title:a?"":"Export",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("path",{d:"M12 5v8m0 0l-3-3m3 3l3-3"}),s.jsx("path",{d:"M5 19h14"})]}),a?"":"Export"]})]})]}),o&&s.jsxs("div",{className:"mt-4 rounded-xl border bg-[var(--content-bg)] text-[var(--content-text)] p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-sm font-medium",children:a?" ":"Advanced Filters"}),s.jsx("button",{type:"button",onClick:x,className:"text-xs px-2 py-1 rounded-md border bg-[var(--dropdown-bg)]",children:a?" ":"Reset"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs opacity-70 block mb-1",children:a?"":"Search"}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-[var(--dropdown-bg)] w-full",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 opacity-70",children:[s.jsx("circle",{cx:"11",cy:"11",r:"6"}),s.jsx("path",{d:"M21 21l-4.5-4.5"})]}),s.jsx("input",{value:r,onChange:he=>n(he.target.value),placeholder:a?"    ...":"Search task or project...",className:"bg-transparent outline-none text-sm flex-1 w-full"})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?" ":"Creation"}),s.jsx("input",{type:"date",value:d.createdAt,onChange:he=>f("createdAt",he.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?" ":"End"}),s.jsx("input",{type:"date",value:d.endDate,onChange:he=>f("endDate",he.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?"":"Salesman"}),s.jsxs("select",{value:d.salesman,onChange:he=>f("salesman",he.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full",children:[s.jsx("option",{value:"",children:a?"":"Select"}),s.jsx("option",{children:"Ibrahim"}),s.jsx("option",{children:"Admin"}),s.jsx("option",{children:"Ahmed"})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?" ":"Assigned To"}),s.jsxs("select",{value:d.assignedTo,onChange:he=>f("assignedTo",he.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full",children:[s.jsx("option",{value:"",children:a?"":"Select"}),s.jsx("option",{children:"Team A"}),s.jsx("option",{children:"Team B"}),s.jsx("option",{children:"Support"}),s.jsx("option",{children:"Sales"}),s.jsx("option",{children:"Admin"}),s.jsx("option",{children:"Ibrahim"}),s.jsx("option",{children:"Ahmed"})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?"":"Status"}),s.jsxs("select",{value:d.status,onChange:he=>f("status",he.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full",children:[s.jsx("option",{value:"",children:a?"":"Select"}),s.jsx("option",{children:"PENDING"}),s.jsx("option",{children:"ACCEPTING"}),s.jsx("option",{children:"FINISHED"}),s.jsx("option",{children:"CANCELLED"})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?"":"Priority"}),s.jsxs("select",{value:d.priority,onChange:he=>f("priority",he.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full",children:[s.jsx("option",{value:"",children:a?"":"Select"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"low",children:"Low"})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?" ":"Related Module"}),s.jsxs("select",{value:d.relatedType,onChange:he=>f("relatedType",he.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full",children:[s.jsx("option",{value:"",children:a?"":"Select"}),s.jsx("option",{children:"Lead"}),s.jsx("option",{children:"Deal"}),s.jsx("option",{children:"Contact"}),s.jsx("option",{children:"Opportunity"}),s.jsx("option",{children:"Ticket"}),s.jsx("option",{children:"Project"})]})]})]}),s.jsxs("div",{className:"mt-4 flex justify-end",children:[s.jsxs("label",{className:"text-xs opacity-70 flex items-center gap-2",children:[a?" ":"Sort By",s.jsxs("select",{className:"px-2 py-1 rounded-md border bg-transparent text-sm",children:[s.jsx("option",{children:a?"":"Newest"}),s.jsx("option",{children:a?" ":"Due Soon"}),s.jsx("option",{children:a?"":"Priority"})]})]}),s.jsxs("label",{className:"text-xs opacity-70 flex items-center gap-2 ml-4",children:[s.jsx("input",{type:"checkbox",checked:d.overdueOnly,onChange:()=>f("overdueOnly",!d.overdueOnly)}),a?" ":"Overdue only"]})]})]}),s.jsx("div",{className:"w-full h-6"}),s.jsxs("div",{className:"mb-3 flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(o2,{label:a?" ":"PENDING",tone:"yellow",active:!!i.status.PENDING,count:U.PENDING,onClick:()=>p("status","PENDING")}),s.jsx(o2,{label:a?"":"ACCEPTING",tone:"blue",active:!!i.status.ACCEPTING,count:U.ACCEPTING,onClick:()=>p("status","ACCEPTING")}),s.jsx(o2,{label:a?"":"FINISHED",tone:"green",active:!!i.status.FINISHED,count:U.FINISHED,onClick:()=>p("status","FINISHED")}),s.jsx(o2,{label:a?"":"CANCELLED",tone:"red",active:!!i.status.CANCELLED,count:U.CANCELLED,onClick:()=>p("status","CANCELLED")})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{type:"button",onClick:A,className:"px-3 py-1.5 rounded-md border text-sm bg-[var(--dropdown-bg)]",children:a?" ":"Clear Data"})})]}),s.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[s.jsx("div",{className:"text-xs opacity-70",children:a?`: ${q}`:`Selected: ${q}`}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:X,className:"px-3 py-1.5 rounded-md border text-sm bg-[var(--dropdown-bg)]",children:a?" ":"Delete Selected"}),s.jsx("label",{className:"text-xs opacity-70",children:a?"  ":"Reassign to"}),s.jsxs("select",{value:ce,onChange:he=>D(he.target.value),className:"px-2 py-1 rounded-md border bg-[var(--dropdown-bg)] text-sm",children:[s.jsx("option",{value:"",children:a?"":"Select"}),s.jsx("option",{children:"Ibrahim"}),s.jsx("option",{children:"Admin"}),s.jsx("option",{children:"Ahmed"})]}),s.jsx("button",{type:"button",onClick:Q,className:"px-3 py-1.5 rounded-md border text-sm bg-[var(--dropdown-bg)]",children:a?"":"Apply"})]})]}),s.jsxs("div",{className:"mt-2 rounded-xl border overflow-hidden md:hidden",children:[s.jsx("div",{className:"px-4 py-3 bg-[var(--table-header-bg)] border-b",children:s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:re,onChange:te}),a?" ":"Select all"]})}),B.length===0?s.jsx("div",{className:"px-4 py-6 text-center text-sm opacity-70",children:a?"   ":"No tasks right now"}):B.map(he=>s.jsxs("div",{className:"px-4 py-3 border-b hover:bg-[var(--table-row-hover)] cursor-pointer",onClick:()=>le(he),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx("input",{type:"checkbox",checked:!!E[he.id],onClick:fe=>fe.stopPropagation(),onChange:fe=>{fe.stopPropagation(),I(he.id)}}),s.jsx("div",{className:"font-medium truncate",children:he.name})]}),s.jsx("div",{className:"shrink-0",children:(()=>{const fe=he.status,de=fe==="PENDING"?"yellow":fe==="ACCEPTING"?"blue":fe==="FINISHED"?"green":fe==="CANCELLED"?"red":"yellow",Oe=a?fe==="PENDING"?" ":fe==="ACCEPTING"?"":fe==="FINISHED"?"":fe==="CANCELLED"?"":fe:fe;return s.jsx(c2,{label:Oe,tone:de})})()})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"opacity-70",children:a?"":"Assigned"}),s.jsx("div",{className:"truncate",children:he.assignee})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"opacity-70",children:a?" ":"Due"}),s.jsx("div",{className:"truncate",children:he.due})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"opacity-70",children:a?"":"Salesman"}),s.jsx("div",{className:"truncate",children:he.salesman})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"opacity-70",children:a?"":"Priority"}),s.jsx("div",{children:(()=>{const fe=he.priority==="high"?"red":he.priority==="medium"?"yellow":"green",de=he.priority==="high"?a?"":"High":he.priority==="medium"?a?"":"Medium":a?"":"Low";return s.jsx(c2,{label:de,tone:fe})})()})]})]}),s.jsx("div",{className:"pt-2 mt-2 border-t border-[var(--divider)]",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",onClick:fe=>{fe.stopPropagation(),N(he.id)},className:"px-2 py-1 rounded-md border text-xs bg-[var(--dropdown-bg)]",title:a?" ":"Start Task",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M8 5v14l11-7z"})})}),s.jsx("button",{type:"button",onClick:fe=>{fe.stopPropagation(),S(he.id)},className:"px-2 py-1 rounded-md border text-xs bg-[var(--dropdown-bg)]",title:a?" ":"Finish Task",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M20 6L9 17l-5-5"})})}),s.jsx("button",{type:"button",onClick:fe=>{fe.stopPropagation(),k(he.id)},className:"px-2 py-1 rounded-md border text-xs",title:a?" ":"Cancel Task",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]})})]},he.id))]}),s.jsx("div",{className:"mt-2 rounded-xl border overflow-hidden hidden md:block",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-[var(--table-header-bg)]",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left",children:s.jsx("input",{type:"checkbox",checked:re,onChange:te})}),s.jsx("th",{className:"px-4 py-3 text-left",children:a?"":"Task"}),s.jsx("th",{className:"px-4 py-3 text-left border-l border-[var(--divider)]",children:a?"":"Assigned"}),s.jsx("th",{className:"px-4 py-3 text-left border-l border-[var(--divider)]",children:a?"":"Status"}),s.jsx("th",{className:"px-4 py-3 text-left border-l border-[var(--divider)]",children:a?" ":"Due"}),s.jsx("th",{className:"px-4 py-3 text-left border-l border-[var(--divider)]",children:a?"":"Salesman"}),s.jsx("th",{className:"px-4 py-3 text-left border-l border-[var(--divider)]",children:a?"":"Priority"}),s.jsx("th",{className:"px-4 py-3 text-left border-l border-[var(--divider)]",children:a?"":"Actions"})]})}),s.jsx("tbody",{className:"bg-[var(--content-bg)]",children:B.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"8",className:"px-4 py-6 text-center text-sm opacity-70",children:a?"   ":"No tasks right now"})}):B.map(he=>s.jsxs("tr",{className:"hover:bg-[var(--table-row-hover)] cursor-pointer",onClick:()=>le(he),children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("input",{type:"checkbox",checked:!!E[he.id],onClick:fe=>fe.stopPropagation(),onChange:fe=>{fe.stopPropagation(),I(he.id)}})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"font-medium",children:he.name})}),s.jsx("td",{className:"px-4 py-3 border-l border-[var(--divider)]",children:he.assignee}),s.jsx("td",{className:"px-4 py-3 border-l border-[var(--divider)]",children:s.jsx("div",{className:"flex items-center gap-1",children:(()=>{const fe=he.status,de=fe==="PENDING"?"yellow":fe==="ACCEPTING"?"blue":fe==="FINISHED"?"green":fe==="CANCELLED"?"red":"yellow",Oe=a?fe==="PENDING"?" ":fe==="ACCEPTING"?"":fe==="FINISHED"?"":fe==="CANCELLED"?"":fe:fe;return s.jsx(c2,{label:Oe,tone:de})})()})}),s.jsx("td",{className:"px-4 py-3 border-l border-[var(--divider)]",children:he.due}),s.jsx("td",{className:"px-4 py-3 border-l border-[var(--divider)]",children:he.salesman}),s.jsx("td",{className:"px-4 py-3 border-l border-[var(--divider)]",children:(()=>{const fe=he.priority==="high"?"red":he.priority==="medium"?"yellow":"green",de=he.priority==="high"?a?"":"High":he.priority==="medium"?a?"":"Medium":a?"":"Low";return s.jsx(c2,{label:de,tone:fe})})()}),s.jsx("td",{className:"px-4 py-3 border-l border-[var(--divider)] whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:fe=>{fe.stopPropagation(),N(he.id)},className:"px-2 py-1 rounded-md border text-xs bg-[var(--dropdown-bg)]",title:a?" ":"Start Task",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M8 5v14l11-7z"})})}),s.jsx("button",{type:"button",onClick:fe=>{fe.stopPropagation(),S(he.id)},className:"px-2 py-1 rounded-md border text-xs bg-[var(--dropdown-bg)]",title:a?" ":"Finish Task",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M20 6L9 17l-5-5"})})}),s.jsx("button",{type:"button",onClick:fe=>{fe.stopPropagation(),k(he.id)},className:"px-2 py-1 rounded-md border text-xs",title:a?" ":"Cancel Task",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]})})]},he.id))})]})}),s.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm opacity-70",children:a?"":"Show"}),s.jsxs("select",{value:z,onChange:he=>O(Number(he.target.value)),className:"px-2 py-1 rounded-md border bg-[var(--dropdown-bg)] text-sm",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:20,children:"20"}),s.jsx("option",{value:40,children:"40"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]})]}),s.jsx("div",{className:"text-sm opacity-70",children:a?` ${L.length}`:`of ${L.length}`})]})]}),s.jsx(F6e,{isOpen:H,onClose:()=>J(!1),onSave:he=>{_(he),J(!1)}}),s.jsx(I6e,{isOpen:!!ae,onClose:Y,task:ae})]})}function $6e(){const{t:e,i18n:t}=Et(),a=t.language==="ar",[r,n]=w.useState(""),[i,l]=w.useState(""),[o,c]=w.useState("opportunities"),[d,u]=w.useState(1),f=10,[x,p]=w.useState("all"),[v,g]=w.useState("all"),[b,j]=w.useState("all"),[N,S]=w.useState("all"),[k,A]=w.useState("all"),[_,M]=w.useState("all"),[L,U]=w.useState("all"),[z,O]=w.useState("all"),[B,E]=w.useState("all"),[R,q]=w.useState(""),[I,G]=w.useState("all"),[re,te]=w.useState("all"),X=[{id:1,name:"Opportunity A",customer:"Ahmed Ali",owner:"Sara Mohamed",value:12e3,status:"open",createdAt:"2025-10-01"},{id:2,name:"Opportunity B",customer:"Omar Hassan",owner:"Khaled Ibrahim",value:8e3,status:"open",createdAt:"2025-10-05"},{id:3,name:"Opportunity C",customer:"Layla Mohamed",owner:"Fatima Ali",value:15e3,status:"closed",createdAt:"2025-09-12"},{id:4,name:"Opportunity D",customer:"Yousef Nader",owner:"Nadia Fahd",value:9500,status:"missed",createdAt:"2025-10-07"},{id:5,name:"Opportunity E",customer:"Reem Saleh",owner:"Ahmed Ali",value:22e3,status:"open",createdAt:"2025-08-21"}],ce=[{id:1,lead:"Hassan Ali",project:"Project X",date:"2025-09-30",status:"interested"},{id:2,lead:"Mona Saleh",project:"Project Y",date:"2025-10-02",status:"interested"}],D=[{id:1,lead:"Ola Sami",unit:"APT-12B",date:"2025-10-01",status:"confirmed"},{id:2,lead:"Karim Mostafa",unit:"APT-09A",date:"2025-10-06",status:"cancelled"}],Q=[{id:1,customer:"Ahmed Ali",amount:45e3,date:"2025-10-05",status:"won"},{id:2,customer:"Sara Mohamed",amount:27e3,date:"2025-09-22",status:"lost"},{id:3,customer:"Omar Hassan",amount:18e3,date:"2025-10-04",status:"won"}],H=[{id:1,reason:a?" ":"High Price",count:6},{id:2,reason:a?" ":"Not Interested",count:4},{id:3,reason:a?" ":"Decision Delayed",count:3}],J=new Date,ae=`${J.getFullYear()}-${String(J.getMonth()+1).padStart(2,"0")}`,ie=X.filter(Te=>(Te.createdAt||"").startsWith(ae)).length,le=X.filter(Te=>Te.status==="open").length,Y=X.filter(Te=>Te.status==="missed").length,oe=X.filter(Te=>Te.status==="closed").length+Q.filter(Te=>Te.status==="won"&&Te.date.startsWith(ae)).length,xe=Q.filter(Te=>Te.status==="won"&&Te.date.startsWith(ae)).length,W=Math.max(le-oe,0),he=[{key:"opportunities",label:e("Opportunities","Opportunities"),icon:Wle},{key:"cils",label:e("Cils","Cils"),icon:Yle},{key:"eoi",label:e("EOI","EOI"),icon:roe},{key:"reservation",label:e("Reservation","Reservation"),icon:Kle},{key:"deals",label:e("Deals","Deals"),icon:soe},{key:"cancel_reasons",label:e("Cancel Reasons","Cancel Reasons"),icon:coe}],fe=w.useMemo(()=>{switch(o){case"opportunities":return"#2563eb";case"cils":return"#10b981";case"eoi":return"#f59e0b";case"reservation":return"#8b5cf6";case"deals":return"#14b8a6";case"cancel_reasons":return"#ef4444";default:return"#9ca3af"}},[o]),de=w.useRef(null),Oe=w.useRef({}),[Fe,Ee]=w.useState({left:0,width:0});w.useEffect(()=>{const Te=()=>{const $t=Oe.current[o],We=de.current;if(!$t||!We)return;const Ut=$t.getBoundingClientRect(),Vt=We.getBoundingClientRect();Ee({left:Ut.left-Vt.left,width:Ut.width})};return Te(),window.addEventListener("resize",Te),()=>window.removeEventListener("resize",Te)},[o]);const se=Te=>!r&&!i?Te:Te.filter($t=>{const We=$t.date||$t.createdAt||"";return!(!We||r&&We<r||i&&We>i)}),[_e,je]=w.useState(()=>{try{const Te=localStorage.getItem("sales_cils");if(Te)return JSON.parse(Te)}catch{}return[{id:1,client:"Ahmed Ali",phone:"0100000000",email:"ahmed@example.com",project:"Project X",developer:"DevCo",agent:"Sara Mohamed",date:"2025-10-09"},{id:2,client:"Fatima Ali",phone:"0111111111",email:"fatima@example.com",project:"Project Y",developer:"Alpha Dev",agent:"Khaled Ibrahim",date:"2025-10-08"}]});w.useEffect(()=>{try{localStorage.setItem("sales_cils",JSON.stringify(_e))}catch{}},[_e]);const rt=w.useMemo(()=>{switch(o){case"opportunities":{let Te=se(X);return x!=="all"&&(Te=Te.filter($t=>$t.status===x)),v!=="all"&&(Te=Te.filter($t=>$t.owner===v)),Te}case"cils":{let Te=se(_e);return b!=="all"&&(Te=Te.filter($t=>$t.project===b)),N!=="all"&&(Te=Te.filter($t=>$t.developer===N)),k!=="all"&&(Te=Te.filter($t=>$t.agent===k)),Te}case"eoi":{let Te=se(ce);return _!=="all"&&(Te=Te.filter($t=>$t.status===_)),L!=="all"&&(Te=Te.filter($t=>$t.project===L)),Te}case"reservation":{let Te=se(D);return z!=="all"&&(Te=Te.filter($t=>$t.status===z)),Te}case"deals":{let Te=se(Q);return B!=="all"&&(Te=Te.filter($t=>$t.status===B)),Te}case"cancel_reasons":{let Te=H;if(R){const $t=R.toLowerCase();Te=Te.filter(We=>String(We.reason).toLowerCase().includes($t))}return Te}default:return[]}},[o,r,i,x,v,b,N,k,_,L,z,B,R]),ft=Math.max(1,Math.ceil(rt.length/f)),Bt=rt.slice((d-1)*f,d*f),Je=()=>{u(1)},$e=Te=>{if(!Te||!Te.length)return"";const $t=Object.keys(Te[0]),We=$t.join(","),Ut=Te.map(Vt=>$t.map(fa=>JSON.stringify(Vt[fa]??"")).join(","));return[We,...Ut].join(`
`)},ze=(Te,$t)=>{const We=new Blob([$t],{type:"text/csv;charset=utf-8;"}),Ut=URL.createObjectURL(We),Vt=document.createElement("a");Vt.href=Ut,Vt.download=Te,Vt.click(),URL.revokeObjectURL(Ut)},Ze=()=>{const Te=[{metric:e("Opened This Month","Opened This Month"),value:ie},{metric:e("Closed This Month","Closed This Month"),value:xe},{metric:e("Open Chances","Open Chances"),value:le},{metric:e("Missed Chances","Missed Chances"),value:Y},{metric:e("Remaining","Remaining"),value:W},{metric:e("Closed Chances","Closed Chances"),value:oe}];ze("sales_report_summary.csv",$e(Te))},dt=w.useMemo(()=>{const Te=rt;switch(o){case"opportunities":return[{label:e("Opened This Month","Opened This Month"),value:ie,color:"bg-blue-500"},{label:e("Closed This Month","Closed This Month"),value:xe,color:"bg-green-500"},{label:e("Open Chances","Open Chances"),value:le,color:"bg-indigo-500"},{label:e("Missed Chances","Missed Chances"),value:Y,color:"bg-red-500"},{label:e("Remaining","Remaining"),value:W,color:"bg-amber-500"},{label:e("Closed Chances","Closed Chances"),value:oe,color:"bg-teal-500"}];case"cils":{const $t=Te.length,We=Te.filter(Ka=>(Ka.date||"").startsWith(ae)).length,Ut=new Set(Te.map(Ka=>Ka.project)).size,Vt=new Set(Te.map(Ka=>Ka.developer)).size,fa=new Set(Te.map(Ka=>Ka.agent)).size;return[{label:e("Total CILs","Total CILs"),value:$t,color:"bg-blue-500"},{label:e("This Month","This Month"),value:We,color:"bg-amber-600"},{label:e("Projects","Projects"),value:Ut,color:"bg-violet-600"},{label:e("Developers","Developers"),value:Vt,color:"bg-indigo-600"},{label:e("Agents","Agents"),value:fa,color:"bg-emerald-600"}]}case"eoi":{const $t=Te.length,We=Te.filter(fa=>fa.status==="interested").length,Ut=new Set(Te.map(fa=>fa.project)).size,Vt=Te.filter(fa=>(fa.date||"").startsWith(ae)).length;return[{label:e("Total EOI","Total EOI"),value:$t,color:"bg-orange-500"},{label:e("Interested","Interested"),value:We,color:"bg-emerald-600"},{label:e("Projects","Projects"),value:Ut,color:"bg-violet-600"},{label:e("This Month","This Month"),value:Vt,color:"bg-amber-600"}]}case"reservation":{const $t=Te.length,We=Te.filter(fa=>fa.status==="confirmed").length,Ut=Te.filter(fa=>fa.status==="cancelled").length,Vt=Te.filter(fa=>(fa.date||"").startsWith(ae)).length;return[{label:e("Total Reservations","Total Reservations"),value:$t,color:"bg-purple-500"},{label:e("Confirmed","Confirmed"),value:We,color:"bg-emerald-600"},{label:e("Cancelled","Cancelled"),value:Ut,color:"bg-red-600"},{label:e("This Month","This Month"),value:Vt,color:"bg-amber-600"}]}case"deals":{const $t=Te.length,We=Te.filter(fa=>fa.status==="won").length,Ut=Te.filter(fa=>fa.status==="lost").length,Vt=Te.filter(fa=>fa.status==="won"&&(fa.date||"").startsWith(ae)).length;return[{label:e("Total Deals","Total Deals"),value:$t,color:"bg-teal-500"},{label:e("Won","Won"),value:We,color:"bg-emerald-600"},{label:e("Lost","Lost"),value:Ut,color:"bg-red-600"},{label:e("Won This Month","Won This Month"),value:Vt,color:"bg-blue-600"}]}case"cancel_reasons":{const $t=Te.reduce((Vt,fa)=>Vt+(fa.count||0),0),We=Te.length?Math.max(...Te.map(Vt=>Vt.count||0)):0,Ut=Te.length;return[{label:e("Total Cancellations","Total Cancellations"),value:$t,color:"bg-red-600"},{label:e("Top Reason Count","Top Reason Count"),value:We,color:"bg-pink-600"},{label:e("Unique Reasons","Unique Reasons"),value:Ut,color:"bg-gray-600"}]}default:return[]}},[o,rt]),At=()=>{ze(`sales_${o}_list.csv`,$e(rt))},kt=new Date().toISOString().slice(0,10),[Dt,zt]=w.useState({client:"",phone:"",email:"",project:"",developer:"",agent:"",date:kt}),qt=()=>{const{client:Te,project:$t,agent:We}=Dt;if(!Te||!$t||!We){alert(t.language==="ar"?"    :   ":"Please fill required fields: client, project, agent");return}const Ut=Date.now();je(Vt=>[{id:Ut,...Dt},...Vt]),zt({client:"",phone:"",email:"",project:"",developer:"",agent:"",date:kt})};return s.jsxs(ea,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:e("Sales Report")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:Ze,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border btn-glass",children:e("Export Report")}),s.jsx("button",{onClick:At,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border btn-glass",children:e("Export Data")})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"card glass-card p-4",children:s.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("From")}),s.jsx("input",{type:"date",value:r,onChange:Te=>n(Te.target.value),className:"input",placeholder:e("Date Input Placeholder")})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("To")}),s.jsx("input",{type:"date",value:i,onChange:Te=>l(Te.target.value),className:"input",placeholder:e("Date Input Placeholder")})]}),o==="opportunities"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Status")}),s.jsxs("select",{value:x,onChange:Te=>p(Te.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),s.jsx("option",{value:"open",children:e("Open","Open")}),s.jsx("option",{value:"missed",children:e("Missed","Missed")}),s.jsx("option",{value:"closed",children:e("Closed","Closed")})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Owner")}),s.jsxs("select",{value:v,onChange:Te=>g(Te.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),[...new Set(X.map(Te=>Te.owner))].map(Te=>s.jsx("option",{value:Te,children:Te},Te))]})]})]}),o==="cils"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:"Project"}),s.jsxs("select",{value:b,onChange:Te=>j(Te.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),[...new Set(_e.map(Te=>Te.project))].map(Te=>s.jsx("option",{value:Te,children:Te},Te))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Developer","Developer")}),s.jsxs("select",{value:N,onChange:Te=>S(Te.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),[...new Set(_e.map(Te=>Te.developer))].map(Te=>s.jsx("option",{value:Te,children:Te},Te))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Agent","Agent")}),s.jsxs("select",{value:k,onChange:Te=>A(Te.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),[...new Set(_e.map(Te=>Te.agent))].map(Te=>s.jsx("option",{value:Te,children:Te},Te))]})]})]}),o==="eoi"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Status")}),s.jsxs("select",{value:_,onChange:Te=>M(Te.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),s.jsx("option",{value:"interested",children:e("Interested","Interested")})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:"Project"}),s.jsxs("select",{value:L,onChange:Te=>U(Te.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),[...new Set(ce.map(Te=>Te.project))].map(Te=>s.jsx("option",{value:Te,children:Te},Te))]})]})]}),o==="reservation"&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Status")}),s.jsxs("select",{value:z,onChange:Te=>O(Te.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),s.jsx("option",{value:"confirmed",children:e("Confirmed","Confirmed")}),s.jsx("option",{value:"cancelled",children:e("Cancelled","Cancelled")})]})]}),o==="deals"&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Status")}),s.jsxs("select",{value:B,onChange:Te=>E(Te.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),s.jsx("option",{value:"won",children:e("Won","Won")}),s.jsx("option",{value:"lost",children:e("Lost","Lost")})]})]}),o==="cancel_reasons"&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Reason")}),s.jsx("input",{type:"text",value:R,onChange:Te=>q(Te.target.value),className:"input",placeholder:e("Search","Search")})]}),s.jsx("button",{onClick:Je,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border btn-glass",children:e("Apply Filters")}),s.jsx("button",{onClick:()=>{n(""),l(""),u(1)},className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border btn-glass",children:e("Reset")})]})}),s.jsx("div",{className:"card glass-card p-3",children:s.jsxs("div",{ref:de,className:"relative flex flex-wrap gap-4",children:[he.map(Te=>{const $t=Te.icon;return s.jsxs("button",{ref:We=>{Oe.current[Te.key]=We},onClick:()=>{c(Te.key),u(1)},className:`inline-flex items-center gap-2 px-4 py-2 rounded-md border text-sm ${o===Te.key?"bg-blue-600 text-white border-blue-600":"btn-glass"}`,children:[$t&&s.jsx($t,{className:"w-4 h-4"}),Te.label]},Te.key)}),s.jsx("div",{className:"absolute bottom-0 h-1 rounded transition-all",style:{left:Fe.left,width:Fe.width,background:fe}})]})}),dt.length>0&&s.jsx("section",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:dt.map((Te,$t)=>s.jsxs("div",{className:"card glass-card p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-[var(--muted-text)]",children:Te.label}),s.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${Te.color}`})]}),s.jsx("div",{className:"mt-2 text-2xl font-semibold",children:Te.value})]},$t))}),o==="cils"&&s.jsxs("div",{className:"card glass-card p-4",children:[s.jsx("h3",{className:"text-sm font-medium mb-3",children:e("Add CIL","Add CIL")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsx("input",{className:"input",placeholder:e("Client","Client"),value:Dt.client,onChange:Te=>zt({...Dt,client:Te.target.value})}),s.jsx("input",{className:"input",placeholder:e("Phone","Phone"),value:Dt.phone,onChange:Te=>zt({...Dt,phone:Te.target.value})}),s.jsx("input",{className:"input",placeholder:e("Email","Email"),value:Dt.email,onChange:Te=>zt({...Dt,email:Te.target.value})}),s.jsx("input",{className:"input",placeholder:"Project",value:Dt.project,onChange:Te=>zt({...Dt,project:Te.target.value})}),s.jsx("input",{className:"input",placeholder:e("Developer","Developer"),value:Dt.developer,onChange:Te=>zt({...Dt,developer:Te.target.value})}),s.jsx("input",{className:"input",placeholder:e("Agent","Agent"),value:Dt.agent,onChange:Te=>zt({...Dt,agent:Te.target.value})}),s.jsx("input",{type:"date",className:"input",value:Dt.date,onChange:Te=>zt({...Dt,date:Te.target.value})})]}),s.jsx("div",{className:"mt-3",children:s.jsx("button",{onClick:qt,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border btn-glass",children:e("Add","Add")})})]}),s.jsxs("div",{className:"card glass-card p-0",children:[s.jsxs("div",{className:"px-4 py-3 bg-transparent border-b flex items-center justify-between",children:[s.jsx("h2",{className:"text-sm font-medium",children:e("Data List")}),s.jsxs("span",{className:"text-xs text-[var(--muted-text)]",children:[e("Show Entries")," ",Bt.length]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table nova-table--glass w-full text-sm min-w-[700px]",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[o==="opportunities"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{children:e("Customer")}),s.jsx("th",{children:e("Assigned")}),s.jsx("th",{children:e("Value")}),s.jsx("th",{children:e("Status")}),s.jsx("th",{children:e("Last Contact")})]}),o==="cils"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{children:e("Client","Client")}),s.jsx("th",{children:e("Phone","Phone")}),s.jsx("th",{children:e("Email","Email")}),s.jsx("th",{children:"Project"}),s.jsx("th",{children:e("Developer","Developer")}),s.jsx("th",{children:e("Agent","Agent")}),s.jsx("th",{children:e("Date","Date")})]}),o==="eoi"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{children:e("Lead")}),s.jsx("th",{children:"Project"}),s.jsx("th",{children:e("Date Range")}),s.jsx("th",{children:e("Status")})]}),o==="reservation"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{children:e("Lead")}),s.jsx("th",{children:"Unit"}),s.jsx("th",{children:e("Date Range")}),s.jsx("th",{children:e("Status")})]}),o==="deals"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{children:e("Customer")}),s.jsx("th",{children:e("Value")}),s.jsx("th",{children:e("Date Range")}),s.jsx("th",{children:e("Status")})]}),o==="cancel_reasons"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{children:e("Reason","Reason")}),s.jsx("th",{children:e("Count","Count")})]})]})}),s.jsxs("tbody",{children:[Bt.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-[var(--muted-text)]",children:e("No data")})}),o==="opportunities"&&Bt.map(Te=>s.jsxs("tr",{children:[s.jsx("td",{children:Te.customer}),s.jsx("td",{children:Te.owner}),s.jsx("td",{children:Te.value}),s.jsx("td",{children:Te.status}),s.jsx("td",{children:Te.createdAt})]},Te.id)),o==="cils"&&Bt.map(Te=>s.jsxs("tr",{children:[s.jsx("td",{children:Te.client}),s.jsx("td",{children:Te.phone}),s.jsx("td",{children:Te.email}),s.jsx("td",{children:Te.project}),s.jsx("td",{children:Te.developer}),s.jsx("td",{children:Te.agent}),s.jsx("td",{children:Te.date})]},Te.id)),o==="eoi"&&Bt.map(Te=>s.jsxs("tr",{children:[s.jsx("td",{children:Te.lead}),s.jsx("td",{children:Te.project}),s.jsx("td",{children:Te.date}),s.jsx("td",{children:Te.status})]},Te.id)),o==="reservation"&&Bt.map(Te=>s.jsxs("tr",{children:[s.jsx("td",{children:Te.lead}),s.jsx("td",{children:Te.unit}),s.jsx("td",{children:Te.date}),s.jsx("td",{children:Te.status})]},Te.id)),o==="deals"&&Bt.map(Te=>s.jsxs("tr",{children:[s.jsx("td",{children:Te.customer}),s.jsx("td",{children:Te.amount}),s.jsx("td",{children:Te.date}),s.jsx("td",{children:Te.status})]},Te.id)),o==="cancel_reasons"&&Bt.map(Te=>s.jsxs("tr",{children:[s.jsx("td",{children:Te.reason}),s.jsx("td",{children:Te.count})]},Te.id))]})]})}),s.jsxs("nav",{className:"flex items-center justify-between p-4","aria-label":"Table navigation",children:[s.jsxs("span",{className:"text-sm text-[var(--muted-text)]",children:[e("Show Entries")," ",(d-1)*f+1,"-",Math.min(d*f,rt.length)," / ",rt.length]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{disabled:d<=1,onClick:()=>u(Te=>Math.max(1,Te-1)),className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] hover:bg-[var(--table-row-hover)] disabled:opacity-50",children:e("Previous")}),s.jsx("button",{disabled:d>=ft,onClick:()=>u(Te=>Math.min(ft,Te+1)),className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] hover:bg-[var(--table-row-hover)] disabled:opacity-50",children:e("Next")})]})]})]})]})]})}const U6e=[{name:"Jan",revenue:4e3},{name:"Feb",revenue:3e3},{name:"Mar",revenue:5e3},{name:"Apr",revenue:4500},{name:"May",revenue:6e3},{name:"Jun",revenue:5500}],z6e=[{name:"Answered",value:400},{name:"Not Answered",value:300},{name:"Busy",value:200},{name:"Wrong Number",value:100}],H6e=[{rank:1,team:"Team Alpha",accounts:25,conversion:"15%"},{rank:2,team:"Team Beta",accounts:22,conversion:"12%"},{rank:3,team:"Team Gamma",accounts:20,conversion:"10%"},{rank:4,team:"Team Delta",accounts:18,conversion:"9%"},{rank:5,team:"Team Epsilon",accounts:15,conversion:"8%"}],V6e=80,W6e=({activeTab:e,setActiveTab:t})=>{const a=["Sales Actions","Sales Leads","Assigned Report"];return s.jsx("div",{className:"flex gap-2 border-b border-gray-800",children:a.map(r=>s.jsx("button",{className:`px-3 py-2 rounded-t-md border-b-2 transition-colors ${e===r?"bg-primary text-white border-primary":"bg-gray-100 dark:bg-gray-800 text-[var(--content-text)] border-transparent hover:border-gray-600"}`,onClick:()=>t(r),children:r},r))})},q6e={id:0,name:"-",role:"-",department:"-",email:"-",phone:"-",join_date:"-",status:"Active",performance_score:0,tasks_assigned:0,tasks_completed_pct:0,avg_response_time:"-",attendance_rate:0,last_evaluation_date:"-",projects:[],permissions:[],region:"-",modules:[],last_activity:"-",photo_url:""},Hg=({active:e,onClick:t,children:a})=>s.jsx("button",{onClick:t,className:`px-3 py-2 text-sm rounded-t-lg transition-all duration-300 border-b-2 ${e?"border-blue-500 text-blue-600 font-medium bg-white/60 dark:bg-gray-800/60":"border-transparent text-gray-700 dark:text-gray-200 hover:text-blue-600"}`,children:a}),Mp=({label:e,value:t,icon:a})=>s.jsxs("div",{className:"p-3 rounded-lg border bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-[var(--muted-text)]",children:[a,e]}),s.jsx("div",{className:"mt-1 text-lg font-semibold",children:t})]}),i9=({active:e,children:t,onClick:a})=>s.jsx("button",{onClick:a,className:`px-2.5 py-1 rounded-full text-xs border ${e?"bg-emerald-100 text-emerald-700 border-emerald-200":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 border-gray-200 dark:border-gray-700"}`,children:t}),C0=({title:e,children:t,right:a})=>s.jsxs("div",{className:"glass-panel rounded-xl p-4 border border-white/20 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:e}),a]}),t]}),l9=e=>{const[t,a]=w.useState(!1),[r,n]=w.useState(!1);return w.useEffect(()=>{const i=e.current;if(!i)return;const l=()=>{a(i.scrollTop>0),n(i.scrollTop<i.scrollHeight-i.clientHeight)};return l(),i.addEventListener("scroll",l),()=>i.removeEventListener("scroll",l)},[e]),{showTop:t,showBottom:r}},G6e=({onClose:e,team:t,roster:a=[],onSearch:r})=>{const{t:n,i18n:i}=Et(),[l,o]=w.useState("profile"),[c,d]=w.useState(""),[u,f]=w.useState(null),[x,p]=w.useState(q6e),[v,g]=w.useState(!1),[b,j]=w.useState(""),[N,S]=w.useState(!1),k=w.useRef(null),A=w.useRef(null),{showBottom:_}=l9(k),{showBottom:M}=l9(A),L=w.useMemo(()=>Array.isArray(a)&&a.length?a:[{id:1,name:"Ibrahim Mohamed",role:"Team Lead",department:"Sales",email:"ibrahim@example.com",phone:"+2010XXXXXXX",join_date:"2024-03-15",status:"Active",performance_score:89,tasks_assigned:120,tasks_completed_pct:86,avg_response_time:"1.8h",attendance_rate:92,last_evaluation_date:"2025-10-30",projects:[{name:"CRM System",start:"2025-05-01",status:"Ongoing",tasks:24},{name:"Portfolio Website",start:"2024-09-01",status:"Completed",tasks:12}],permissions:["CRM","Reports","Dashboard"],region:"Cairo",modules:["CRM","Projects","Reports"],last_activity:"2025-11-10 14:32",photo_url:""},{id:2,name:"Sara Hassan",role:"Sales Manager",department:"Sales",email:"sara@example.com",phone:"+2011XXXXXXX",join_date:"2023-08-01",status:"Active",performance_score:93,tasks_assigned:140,tasks_completed_pct:90,avg_response_time:"1.2h",attendance_rate:95,last_evaluation_date:"2025-10-10",projects:[{name:"Sales Ops Revamp",start:"2025-02-01",status:"Ongoing",tasks:30}],permissions:["CRM","Reports","Dashboard"],region:"Giza",modules:["CRM","Reports"],last_activity:"2025-11-10 12:05",photo_url:""}],[a]),U=w.useMemo(()=>{const E=c.trim().toLowerCase();return L.filter(R=>!E||R.name.toLowerCase().includes(E)||R.role.toLowerCase().includes(E)||R.department.toLowerCase().includes(E))},[L,c]);w.useEffect(()=>{t&&Array.isArray(t.members)&&t.members.length?(f(t.members[0]),p(t.members[0])):(f(L[0]),p(L[0]))},[t,L]),w.useEffect(()=>{if(!u)return;g(!0);const E=setTimeout(()=>{g(!1),j(i.language==="ar"?"  ":"Auto-saved"),setTimeout(()=>j(""),1500)},700);return()=>clearTimeout(E)},[x]);const z=(E,R)=>p(q=>({...q,[E]:R})),O=()=>{const E=[x],R=Jt.json_to_sheet(E),q=Jt.book_new();Jt.book_append_sheet(q,R,"Member"),gs(q,`member_${x.id||"unknown"}.xlsx`)},B=()=>{const E=new ha("p","pt","a4");E.setFontSize(14),E.text("Team Member Profile",40,40);const R=[["Name",x.name],["Role",x.role],["Department",x.department],["Employee ID",String(x.id)],["Email",x.email],["Phone",x.phone],["Join Date",x.join_date],["Status",x.status],["Performance Score",String(x.performance_score)],["Last Activity",x.last_activity]];E.autoTable({head:[["Field","Value"]],body:R,startY:60}),E.save(`member_${x.id||"unknown"}.pdf`)};return!t&&!L.length?null:s.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-lg transition-opacity",onClick:e}),s.jsx("div",{className:"relative z-[1001] w-[90vw] max-w-[1400px] h-[80vh]",children:s.jsxs("div",{className:"glass-panel rounded-2xl p-6 w-full h-full flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-xl font-semibold",children:n("teamDetails.title")}),s.jsx("span",{className:"text-sm text-[var(--muted-text)]",children:t?.name||n("Team")}),v&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-amber-100 text-amber-700 border border-amber-200 text-xs",children:[s.jsx(bM,{}),n("Saving...")]}),b&&s.jsx("span",{className:"text-xs text-emerald-600",children:b})]}),s.jsxs("div",{className:"flex items-center gap-2 relative",children:[s.jsxs("button",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-600 text-white",onClick:()=>S(E=>!E),children:[s.jsx(eh,{})," ",n("Export")]}),N&&s.jsxs("div",{className:"absolute right-0 top-full mt-2 w-40 rounded-lg border bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-lg p-2 z-10",children:[s.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 inline-flex items-center gap-2",onClick:()=>{S(!1),O()},children:[s.jsx(eh,{})," ",n("Excel")]}),s.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 inline-flex items-center gap-2",onClick:()=>{S(!1),B()},children:[s.jsx(eoe,{})," ",n("PDF")]}),s.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 inline-flex items-center gap-2",onClick:()=>{S(!1),window.print()},children:[s.jsx(loe,{})," ",n("Print")]})]}),s.jsxs("button",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200",onClick:e,children:[s.jsx(ru,{})," ",n("Close")]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 flex-1 overflow-hidden",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-4 overflow-hidden",children:[s.jsx(C0,{title:n("teamDetails.roster"),right:s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("input",{className:"px-3 py-2 border rounded-lg text-sm w-40",placeholder:n("teamDetails.search"),value:c,onChange:E=>{d(E.target.value),r&&r(E.target.value)}})}),children:s.jsxs("div",{className:"relative space-y-2 max-h-[60vh] overflow-auto",ref:k,children:[U.map(E=>s.jsx("button",{onClick:()=>{f(E),p(E)},className:`w-full text-left p-3 rounded-lg border hover:shadow-sm ${u?.id===E.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:s.jsx(ew,{className:"text-gray-600 dark:text-gray-300"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:E.name}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:[E.role,"  ",E.department]})]}),s.jsx(dd,{className:"text-gray-400"})]})},E.id)),U.length===0&&s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:n("teamDetails.noMembers")}),s.jsx("div",{className:`pointer-events-none absolute bottom-0 left-0 right-0 h-6 bg-gradient-to-t from-black/20 to-transparent transition-opacity ${_?"opacity-100":"opacity-0"}`})]})}),s.jsx(C0,{title:n("teamDetails.managerialControls"),children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{className:"w-full px-3 py-2 rounded-lg bg-emerald-600 text-white inline-flex items-center gap-2",title:n("teamDetails.assignNewTask"),children:[s.jsx(wM,{})," ",n("teamDetails.assignNewTask")]}),s.jsxs("button",{className:"w-full px-3 py-2 rounded-lg bg-blue-600 text-white inline-flex items-center gap-2",title:n("teamDetails.sendNote"),children:[s.jsx(wf,{})," ",n("teamDetails.sendNote")]}),s.jsxs("button",{className:"w-full px-3 py-2 rounded-lg bg-amber-600 text-white inline-flex items-center gap-2",title:n("teamDetails.openPerformanceReview"),children:[s.jsx(xM,{})," ",n("teamDetails.openPerformanceReview")]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:"flex-1 px-3 py-2 rounded-lg bg-rose-600 text-white inline-flex items-center gap-2",title:n("teamDetails.suspend"),onClick:()=>{window.confirm(i.language==="ar"?"    ":"Suspend this member?")&&(z("status",i.language==="ar"?"":"Suspended"),j(i.language==="ar"?"  ":"Member suspended"),setTimeout(()=>j(""),1500))},children:[s.jsx(Vle,{})," ",n("teamDetails.suspend")]}),s.jsxs("button",{className:"flex-1 px-3 py-2 rounded-lg bg-indigo-600 text-white inline-flex items-center gap-2",title:n("teamDetails.reactivate"),onClick:()=>{window.confirm(i.language==="ar"?"     ":"Reactivate this member?")&&(z("status",i.language==="ar"?"":"Active"),j(i.language==="ar"?"  ":"Member reactivated"),setTimeout(()=>j(""),1500))},children:[s.jsx(jM,{})," ",n("teamDetails.reactivate")]})]})]})})]}),s.jsxs("div",{className:"lg:col-span-2 relative overflow-auto",ref:A,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Hg,{active:l==="profile",onClick:()=>o("profile"),children:n("teamDetails.tabs.profile")}),s.jsx(Hg,{active:l==="performance",onClick:()=>o("performance"),children:n("teamDetails.tabs.performance")}),s.jsx(Hg,{active:l==="projects",onClick:()=>o("projects"),children:n("teamDetails.tabs.projects")}),s.jsx(Hg,{active:l==="permissions",onClick:()=>o("permissions"),children:n("teamDetails.tabs.permissions")}),s.jsx(Hg,{active:l==="logs",onClick:()=>o("logs"),children:n("teamDetails.tabs.activity")})]}),l==="profile"&&s.jsx(C0,{title:n("teamDetails.basicInfo"),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.fullName")}),s.jsx("input",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:x.name,onChange:E=>z("name",E.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.jobTitle")}),s.jsx("input",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:x.role,onChange:E=>z("role",E.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.department")}),s.jsx("input",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:x.department,onChange:E=>z("department",E.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.employeeId")}),s.jsx("input",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:x.id,onChange:E=>z("id",E.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.email")}),s.jsx("input",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:x.email,onChange:E=>z("email",E.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.phone")}),s.jsx("input",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:x.phone,onChange:E=>z("phone",E.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.joinDate")}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:x.join_date,onChange:E=>z("join_date",E.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.status")}),s.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:x.status,onChange:E=>z("status",E.target.value),children:[s.jsx("option",{children:n("Active")}),s.jsx("option",{children:n("On Leave")}),s.jsx("option",{children:n("Inactive")})]})]})]})}),l==="performance"&&s.jsx(C0,{title:n("teamDetails.performanceMetrics"),children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[s.jsx(Mp,{label:n("teamDetails.metrics.totalTasks"),value:x.tasks_assigned,icon:s.jsx(wM,{})}),s.jsx(Mp,{label:n("teamDetails.metrics.tasksCompletionRate"),value:`${x.tasks_completed_pct}%`,icon:s.jsx(qle,{})}),s.jsx(Mp,{label:n("teamDetails.metrics.avgResponseTime"),value:x.avg_response_time,icon:s.jsx(bM,{})}),s.jsx(Mp,{label:n("teamDetails.metrics.attendanceRate"),value:`${x.attendance_rate}%`,icon:s.jsx(noe,{})}),s.jsx(Mp,{label:n("teamDetails.metrics.performanceScore"),value:x.performance_score,icon:s.jsx(xM,{})}),s.jsx(Mp,{label:n("teamDetails.metrics.lastEvaluation"),value:x.last_evaluation_date,icon:s.jsx(W1,{})})]})}),l==="projects"&&s.jsx(C0,{title:n("teamDetails.projectsAndResponsibilities"),right:s.jsxs("button",{className:"btn btn-glass inline-flex items-center gap-2",children:[s.jsx(wf,{})," ",n("Reset")]}),children:s.jsxs("div",{className:"space-y-2",children:[(x.projects||[]).map((E,R)=>s.jsxs("div",{className:"p-3 rounded-lg border bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:E.name}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:[n("Started"),": ",E.start||"-","  ",n("Status"),": ",E.status]})]}),s.jsxs("div",{className:"text-sm text-[var(--muted-text)]",children:[n("Tasks"),": ",E.tasks||0]})]}),s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsx("button",{className:"px-3 py-1 rounded-lg border text-xs",children:n("View Project")}),s.jsx("button",{className:"px-3 py-1 rounded-lg border text-xs",children:n("Reset")})]})]},R)),(!x.projects||x.projects.length===0)&&s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:n("teamDetails.noProjects")})]})}),l==="permissions"&&s.jsx(C0,{title:n("teamDetails.permissionsAndAccess"),children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:["Admin","Manager","Sales","Support","Viewer"].map(E=>s.jsx(i9,{active:x.role===E,onClick:()=>z("role",E),children:E},E))}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.regionBranch")}),s.jsx("input",{className:"w-full px-3 py-2 rounded-lg border",value:x.region||"",onChange:E=>z("region",E.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.availableModules")}),s.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:["CRM","Projects","Reports","Dashboard"].map(E=>s.jsx(i9,{active:(x.modules||[]).includes(E),onClick:()=>{const R=(x.modules||[]).includes(E);z("modules",R?(x.modules||[]).filter(q=>q!==E):[...x.modules||[],E])},children:E},E))})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:"px-3 py-2 rounded-lg bg-blue-600 text-white inline-flex items-center gap-2",children:[s.jsx(ioe,{})," ",n("teamDetails.updateAccess")]}),s.jsxs("button",{className:"px-3 py-2 rounded-lg bg-rose-600 text-white inline-flex items-center gap-2",children:[s.jsx(jM,{})," ",n("teamDetails.restrictAccess")]})]})]})}),l==="logs"&&s.jsx(C0,{title:n("teamDetails.activityLog"),right:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"px-2 py-1 border rounded-lg text-sm",placeholder:n("teamDetails.filterByDate"),type:"date"}),s.jsxs("select",{className:"px-2 py-1 border rounded-lg text-sm",children:[s.jsx("option",{children:n("All")}),s.jsx("option",{children:"CRM"}),s.jsx("option",{children:"Projects"}),s.jsx("option",{children:"Reports"})]})]}),children:s.jsx("div",{className:"space-y-2 max-h-[300px] overflow-auto",children:[{type:"lead",text:i.language==="ar"?"   ":n("activity.leadUpdated"),at:"2025-11-10 10:12"},{type:"deal",text:i.language==="ar"?"  ":n("activity.dealClosed"),at:"2025-11-09 16:44"},{type:"request",text:i.language==="ar"?"   ":n("activity.newRequestCreated"),at:"2025-11-08 09:25"}].map((E,R)=>s.jsxs("div",{className:"p-3 rounded-lg border bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:E.text}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:E.at})]}),s.jsx("span",{className:"text-xs text-[var(--muted-text)]",children:E.type})]},R))})}),s.jsx("div",{className:`pointer-events-none absolute bottom-0 left-0 right-0 h-6 bg-gradient-to-t from-black/20 to-transparent transition-opacity ${M?"opacity-100":"opacity-0"}`})]})]})]})})]})},Vg=({icon:e,label:t,value:a,tone:r="default",tooltip:n})=>{const i=r==="success"?"text-green-400":r==="warning"?"text-amber-400":r==="info"?"text-blue-400":"text-[#f1f5f9]";return s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220] hover:scale-105 transition",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-gray-400",title:n,children:t}),s.jsx("div",{className:"text-xl text-gray-300",children:e})]}),s.jsx("div",{className:`mt-2 text-2xl font-bold ${i}`,children:a})]})};function PG(e){var t,a,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(a=PG(e[t]))&&(r&&(r+=" "),r+=a)}else for(a in e)e[a]&&(r&&(r+=" "),r+=a);return r}function Jr(){for(var e,t,a=0,r="",n=arguments.length;a<n;a++)(e=arguments[a])&&(t=PG(e))&&(r&&(r+=" "),r+=t);return r}var K6e=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function K_(e){if(typeof e!="string")return!1;var t=K6e;return t.includes(e)}var Y6e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function LG(e){if(typeof e!="string")return!1;var t=Y6e;return t.includes(e)}function OG(e){return typeof e=="string"&&e.startsWith("data-")}function hd(e){var t=Object.entries(e).filter(a=>{var[r]=a;return LG(r)||OG(r)});return Object.fromEntries(t)}function eb(e){if(e==null)return null;if(w.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return hd(t)}return typeof e=="object"&&!Array.isArray(e)?hd(e):null}function Ll(e){var t=Object.entries(e).filter(a=>{var[r]=a;return LG(r)||OG(r)||K_(r)});return Object.fromEntries(t)}function X6e(e){return e==null?null:w.isValidElement(e)?Ll(e.props):typeof e=="object"&&!Array.isArray(e)?Ll(e):null}var Q6e=["children","width","height","viewBox","className","style","title","desc"];function WC(){return WC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},WC.apply(null,arguments)}function J6e(e,t){if(e==null)return{};var a,r,n=Z6e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Z6e(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var RG=w.forwardRef((e,t)=>{var{children:a,width:r,height:n,viewBox:i,className:l,style:o,title:c,desc:d}=e,u=J6e(e,Q6e),f=i||{width:r,height:n,x:0,y:0},x=Jr("recharts-surface",l);return w.createElement("svg",WC({},Ll(u),{className:x,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),w.createElement("title",null,c),w.createElement("desc",null,d),a)}),eAe=["children","className"];function qC(){return qC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},qC.apply(null,arguments)}function tAe(e,t){if(e==null)return{};var a,r,n=aAe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function aAe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var fd=w.forwardRef((e,t)=>{var{children:a,className:r}=e,n=tAe(e,eAe),i=Jr("recharts-layer",r);return w.createElement("g",qC({className:i},Ll(n),{ref:t}),a)}),rAe=w.createContext(null);function os(e){return function(){return e}}const FG=Math.cos,Mw=Math.sin,bd=Math.sqrt,Pw=Math.PI,lN=2*Pw,GC=Math.PI,KC=2*GC,D0=1e-6,sAe=KC-D0;function IG(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t)this._+=arguments[t]+e[t]}function nAe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return IG;const a=10**t;return function(r){this._+=r[0];for(let n=1,i=r.length;n<i;++n)this._+=Math.round(arguments[n]*a)/a+r[n]}}class iAe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?IG:nAe(t)}moveTo(t,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,a){this._append`L${this._x1=+t},${this._y1=+a}`}quadraticCurveTo(t,a,r,n){this._append`Q${+t},${+a},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(t,a,r,n,i,l){this._append`C${+t},${+a},${+r},${+n},${this._x1=+i},${this._y1=+l}`}arcTo(t,a,r,n,i){if(t=+t,a=+a,r=+r,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,c=r-t,d=n-a,u=l-t,f=o-a,x=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=a}`;else if(x>D0)if(!(Math.abs(f*c-d*u)>D0)||!i)this._append`L${this._x1=t},${this._y1=a}`;else{let p=r-l,v=n-o,g=c*c+d*d,b=p*p+v*v,j=Math.sqrt(g),N=Math.sqrt(x),S=i*Math.tan((GC-Math.acos((g+x-b)/(2*j*N)))/2),k=S/N,A=S/j;Math.abs(k-1)>D0&&this._append`L${t+k*u},${a+k*f}`,this._append`A${i},${i},0,0,${+(f*p>u*v)},${this._x1=t+A*c},${this._y1=a+A*d}`}}arc(t,a,r,n,i,l){if(t=+t,a=+a,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(n),c=r*Math.sin(n),d=t+o,u=a+c,f=1^l,x=l?n-i:i-n;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>D0||Math.abs(this._y1-u)>D0)&&this._append`L${d},${u}`,r&&(x<0&&(x=x%KC+KC),x>sAe?this._append`A${r},${r},0,1,${f},${t-o},${a-c}A${r},${r},0,1,${f},${this._x1=d},${this._y1=u}`:x>D0&&this._append`A${r},${r},0,${+(x>=GC)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=a+r*Math.sin(i)}`)}rect(t,a,r,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function Y_(e){let t=3;return e.digits=function(a){if(!arguments.length)return t;if(a==null)t=null;else{const r=Math.floor(a);if(!(r>=0))throw new RangeError(`invalid digits: ${a}`);t=r}return e},()=>new iAe(t)}function X_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function BG(e){this._context=e}BG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function oN(e){return new BG(e)}function $G(e){return e[0]}function UG(e){return e[1]}function zG(e,t){var a=os(!0),r=null,n=oN,i=null,l=Y_(o);e=typeof e=="function"?e:e===void 0?$G:os(e),t=typeof t=="function"?t:t===void 0?UG:os(t);function o(c){var d,u=(c=X_(c)).length,f,x=!1,p;for(r==null&&(i=n(p=l())),d=0;d<=u;++d)!(d<u&&a(f=c[d],d,c))===x&&((x=!x)?i.lineStart():i.lineEnd()),x&&i.point(+e(f,d,c),+t(f,d,c));if(p)return i=null,p+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:os(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:os(+c),o):t},o.defined=function(c){return arguments.length?(a=typeof c=="function"?c:os(!!c),o):a},o.curve=function(c){return arguments.length?(n=c,r!=null&&(i=n(r)),o):n},o.context=function(c){return arguments.length?(c==null?r=i=null:i=n(r=c),o):r},o}function d2(e,t,a){var r=null,n=os(!0),i=null,l=oN,o=null,c=Y_(d);e=typeof e=="function"?e:e===void 0?$G:os(+e),t=typeof t=="function"?t:os(t===void 0?0:+t),a=typeof a=="function"?a:a===void 0?UG:os(+a);function d(f){var x,p,v,g=(f=X_(f)).length,b,j=!1,N,S=new Array(g),k=new Array(g);for(i==null&&(o=l(N=c())),x=0;x<=g;++x){if(!(x<g&&n(b=f[x],x,f))===j)if(j=!j)p=x,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=x-1;v>=p;--v)o.point(S[v],k[v]);o.lineEnd(),o.areaEnd()}j&&(S[x]=+e(b,x,f),k[x]=+t(b,x,f),o.point(r?+r(b,x,f):S[x],a?+a(b,x,f):k[x]))}if(N)return o=null,N+""||null}function u(){return zG().defined(n).curve(l).context(i)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:os(+f),r=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:os(+f),d):e},d.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:os(+f),d):r},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:os(+f),a=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:os(+f),d):t},d.y1=function(f){return arguments.length?(a=f==null?null:typeof f=="function"?f:os(+f),d):a},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(a)},d.lineX1=function(){return u().x(r).y(t)},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:os(!!f),d):n},d.curve=function(f){return arguments.length?(l=f,i!=null&&(o=l(i)),d):l},d.context=function(f){return arguments.length?(f==null?i=o=null:o=l(i=f),d):i},d}class HG{constructor(t,a){this._context=t,this._x=a}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,a){switch(t=+t,a=+a,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,a):this._context.moveTo(t,a);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,a,t,a):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+a)/2,t,this._y0,t,a);break}}this._x0=t,this._y0=a}}function lAe(e){return new HG(e,!0)}function oAe(e){return new HG(e,!1)}const Q_={draw(e,t){const a=bd(t/Pw);e.moveTo(a,0),e.arc(0,0,a,0,lN)}},cAe={draw(e,t){const a=bd(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}},VG=bd(1/3),dAe=VG*2,uAe={draw(e,t){const a=bd(t/dAe),r=a*VG;e.moveTo(0,-a),e.lineTo(r,0),e.lineTo(0,a),e.lineTo(-r,0),e.closePath()}},hAe={draw(e,t){const a=bd(t),r=-a/2;e.rect(r,r,a,a)}},fAe=.8908130915292852,WG=Mw(Pw/10)/Mw(7*Pw/10),mAe=Mw(lN/10)*WG,pAe=-FG(lN/10)*WG,xAe={draw(e,t){const a=bd(t*fAe),r=mAe*a,n=pAe*a;e.moveTo(0,-a),e.lineTo(r,n);for(let i=1;i<5;++i){const l=lN*i/5,o=FG(l),c=Mw(l);e.lineTo(c*a,-o*a),e.lineTo(o*r-c*n,c*r+o*n)}e.closePath()}},L3=bd(3),gAe={draw(e,t){const a=-bd(t/(L3*3));e.moveTo(0,a*2),e.lineTo(-L3*a,-a),e.lineTo(L3*a,-a),e.closePath()}},nc=-.5,ic=bd(3)/2,YC=1/bd(12),vAe=(YC/2+1)*3,bAe={draw(e,t){const a=bd(t/vAe),r=a/2,n=a*YC,i=r,l=a*YC+a,o=-i,c=l;e.moveTo(r,n),e.lineTo(i,l),e.lineTo(o,c),e.lineTo(nc*r-ic*n,ic*r+nc*n),e.lineTo(nc*i-ic*l,ic*i+nc*l),e.lineTo(nc*o-ic*c,ic*o+nc*c),e.lineTo(nc*r+ic*n,nc*n-ic*r),e.lineTo(nc*i+ic*l,nc*l-ic*i),e.lineTo(nc*o+ic*c,nc*c-ic*o),e.closePath()}};function yAe(e,t){let a=null,r=Y_(n);e=typeof e=="function"?e:os(e||Q_),t=typeof t=="function"?t:os(t===void 0?64:+t);function n(){let i;if(a||(a=i=r()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),i)return a=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:os(i),n):e},n.size=function(i){return arguments.length?(t=typeof i=="function"?i:os(+i),n):t},n.context=function(i){return arguments.length?(a=i??null,n):a},n}function Lw(){}function Ow(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function qG(e){this._context=e}qG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ow(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ow(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wAe(e){return new qG(e)}function GG(e){this._context=e}GG.prototype={areaStart:Lw,areaEnd:Lw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ow(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jAe(e){return new GG(e)}function KG(e){this._context=e}KG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,r):this._context.moveTo(a,r);break;case 3:this._point=4;default:Ow(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function NAe(e){return new KG(e)}function YG(e){this._context=e}YG.prototype={areaStart:Lw,areaEnd:Lw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function SAe(e){return new YG(e)}function o9(e){return e<0?-1:1}function c9(e,t,a){var r=e._x1-e._x0,n=t-e._x1,i=(e._y1-e._y0)/(r||n<0&&-0),l=(a-e._y1)/(n||r<0&&-0),o=(i*n+l*r)/(r+n);return(o9(i)+o9(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function d9(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function O3(e,t,a){var r=e._x0,n=e._y0,i=e._x1,l=e._y1,o=(i-r)/3;e._context.bezierCurveTo(r+o,n+o*t,i-o,l-o*a,i,l)}function Rw(e){this._context=e}Rw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:O3(this,this._t0,d9(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,O3(this,d9(this,a=c9(this,e,t)),a);break;default:O3(this,this._t0,a=c9(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function XG(e){this._context=new QG(e)}(XG.prototype=Object.create(Rw.prototype)).point=function(e,t){Rw.prototype.point.call(this,t,e)};function QG(e){this._context=e}QG.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,r,n,i){this._context.bezierCurveTo(t,e,r,a,i,n)}};function kAe(e){return new Rw(e)}function CAe(e){return new XG(e)}function JG(e){this._context=e}JG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var r=u9(e),n=u9(t),i=0,l=1;l<a;++i,++l)this._context.bezierCurveTo(r[0][i],n[0][i],r[1][i],n[1][i],e[l],t[l]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function u9(e){var t,a=e.length-1,r,n=new Array(a),i=new Array(a),l=new Array(a);for(n[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<a-1;++t)n[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(n[a-1]=2,i[a-1]=7,l[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)r=n[t]/i[t-1],i[t]-=r,l[t]-=r*l[t-1];for(n[a-1]=l[a-1]/i[a-1],t=a-2;t>=0;--t)n[t]=(l[t]-n[t+1])/i[t];for(i[a-1]=(e[a]+n[a-1])/2,t=0;t<a-1;++t)i[t]=2*e[t+1]-n[t+1];return[n,i]}function AAe(e){return new JG(e)}function cN(e,t){this._context=e,this._t=t}cN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function _Ae(e){return new cN(e,.5)}function TAe(e){return new cN(e,0)}function EAe(e){return new cN(e,1)}function ux(e,t){if((l=e.length)>1)for(var a=1,r,n,i=e[t[0]],l,o=i.length;a<l;++a)for(n=i,i=e[t[a]],r=0;r<o;++r)i[r][1]+=i[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}function XC(e){for(var t=e.length,a=new Array(t);--t>=0;)a[t]=t;return a}function DAe(e,t){return e[t]}function MAe(e){const t=[];return t.key=e,t}function PAe(){var e=os([]),t=XC,a=ux,r=DAe;function n(i){var l=Array.from(e.apply(this,arguments),MAe),o,c=l.length,d=-1,u;for(const f of i)for(o=0,++d;o<c;++o)(l[o][d]=[0,+r(f,l[o].key,d,i)]).data=f;for(o=0,u=X_(t(l));o<c;++o)l[u[o]].index=o;return a(l,u),l}return n.keys=function(i){return arguments.length?(e=typeof i=="function"?i:os(Array.from(i)),n):e},n.value=function(i){return arguments.length?(r=typeof i=="function"?i:os(+i),n):r},n.order=function(i){return arguments.length?(t=i==null?XC:typeof i=="function"?i:os(Array.from(i)),n):t},n.offset=function(i){return arguments.length?(a=i??ux,n):a},n}function LAe(e,t){if((r=e.length)>0){for(var a,r,n=0,i=e[0].length,l;n<i;++n){for(l=a=0;a<r;++a)l+=e[a][n][1]||0;if(l)for(a=0;a<r;++a)e[a][n][1]/=l}ux(e,t)}}function OAe(e,t){if((n=e.length)>0){for(var a=0,r=e[t[0]],n,i=r.length;a<i;++a){for(var l=0,o=0;l<n;++l)o+=e[l][a][1]||0;r[a][1]+=r[a][0]=-o/2}ux(e,t)}}function RAe(e,t){if(!(!((l=e.length)>0)||!((i=(n=e[t[0]]).length)>0))){for(var a=0,r=1,n,i,l;r<i;++r){for(var o=0,c=0,d=0;o<l;++o){for(var u=e[t[o]],f=u[r][1]||0,x=u[r-1][1]||0,p=(f-x)/2,v=0;v<o;++v){var g=e[t[v]],b=g[r][1]||0,j=g[r-1][1]||0;p+=b-j}c+=f,d+=p*f}n[r-1][1]+=n[r-1][0]=a,c&&(a-=d/c)}n[r-1][1]+=n[r-1][0]=a,ux(e,t)}}var R3={},F3={},h9;function FAe(){return h9||(h9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==="__proto__"}e.isUnsafeProperty=t})(F3)),F3}var I3={},f9;function ZG(){return f9||(f9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){switch(typeof a){case"number":case"symbol":return!1;case"string":return a.includes(".")||a.includes("[")||a.includes("]")}}e.isDeepKey=t})(I3)),I3}var B3={},m9;function J_(){return m9||(m9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="string"||typeof a=="symbol"?a:Object.is(a?.valueOf?.(),-0)?"-0":String(a)}e.toKey=t})(B3)),B3}var $3={},U3={},p9;function IAe(){return p9||(p9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){if(a==null)return"";if(typeof a=="string")return a;if(Array.isArray(a))return a.map(t).join(",");const r=String(a);return r==="0"&&Object.is(Number(a),-0)?"-0":r}e.toString=t})(U3)),U3}var x9;function Z_(){return x9||(x9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IAe(),a=J_();function r(n){if(Array.isArray(n))return n.map(a.toKey);if(typeof n=="symbol")return[n];n=t.toString(n);const i=[],l=n.length;if(l===0)return i;let o=0,c="",d="",u=!1;for(n.charCodeAt(0)===46&&(i.push(""),o++);o<l;){const f=n[o];d?f==="\\"&&o+1<l?(o++,c+=n[o]):f===d?d="":c+=f:u?f==='"'||f==="'"?d=f:f==="]"?(u=!1,i.push(c),c=""):c+=f:f==="["?(u=!0,c&&(i.push(c),c="")):f==="."?c&&(i.push(c),c=""):c+=f,o++}return c&&i.push(c),i}e.toPath=r})($3)),$3}var g9;function e8(){return g9||(g9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FAe(),a=ZG(),r=J_(),n=Z_();function i(o,c,d){if(o==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const u=o[c];return u===void 0?a.isDeepKey(c)?i(o,n.toPath(c),d):d:u}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const u=o[c];return u===void 0?d:u}default:{if(Array.isArray(c))return l(o,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const u=o[c];return u===void 0?d:u}}}function l(o,c,d){if(c.length===0)return d;let u=o;for(let f=0;f<c.length;f++){if(u==null||t.isUnsafeProperty(c[f]))return d;u=u[c[f]]}return u===void 0?d:u}e.get=i})(R3)),R3}var z3,v9;function BAe(){return v9||(v9=1,z3=e8().get),z3}var $Ae=BAe();const hx=vh($Ae);var Zl=e=>e===0?0:e>0?1:-1,jc=e=>typeof e=="number"&&e!=+e,fh=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ja=e=>(typeof e=="number"||e instanceof Number)&&!jc(e),su=e=>ja(e)||typeof e=="string",UAe=0,gv=e=>{var t=++UAe;return"".concat(e||"").concat(t)},md=function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ja(t)&&typeof t!="string")return r;var i;if(fh(t)){if(a==null)return r;var l=t.indexOf("%");i=a*parseFloat(t.slice(0,l))/100}else i=+t;return jc(i)&&(i=r),n&&a!=null&&i>a&&(i=a),i},eK=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,a={},r=0;r<t;r++)if(!a[e[r]])a[e[r]]=!0;else return!0;return!1};function Fn(e,t,a){return ja(e)&&ja(t)?e+a*(t-e):t}function tK(e,t,a){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):hx(r,t))===a)}var Os=e=>e===null||typeof e>"u",tb=e=>Os(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),zAe=["type","size","sizeType"];function QC(){return QC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},QC.apply(null,arguments)}function b9(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function y9(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?b9(Object(a),!0).forEach(function(r){HAe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b9(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function HAe(e,t,a){return(t=VAe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function VAe(e){var t=WAe(e,"string");return typeof t=="symbol"?t:t+""}function WAe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qAe(e,t){if(e==null)return{};var a,r,n=GAe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function GAe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var aK={symbolCircle:Q_,symbolCross:cAe,symbolDiamond:uAe,symbolSquare:hAe,symbolStar:xAe,symbolTriangle:gAe,symbolWye:bAe},KAe=Math.PI/180,YAe=e=>{var t="symbol".concat(tb(e));return aK[t]||Q_},XAe=(e,t,a)=>{if(t==="area")return e;switch(a){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*KAe;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},QAe=(e,t)=>{aK["symbol".concat(tb(e))]=t},rK=e=>{var{type:t="circle",size:a=64,sizeType:r="area"}=e,n=qAe(e,zAe),i=y9(y9({},n),{},{type:t,size:a,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var o=()=>{var x=YAe(l),p=yAe().type(x).size(XAe(a,r,l)),v=p();if(v!==null)return v},{className:c,cx:d,cy:u}=i,f=Ll(i);return d===+d&&u===+u&&a===+a?w.createElement("path",QC({},f,{className:Jr("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:o()})):null};rK.registerSymbol=QAe;var t8=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(w.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var r={};return Object.keys(a).forEach(n=>{K_(n)&&(r[n]=(i=>a[n](a,i)))}),r},JAe=(e,t,a)=>r=>(e(t,a,r),null),a8=(e,t,a)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(n=>{var i=e[n];K_(n)&&typeof i=="function"&&(r||(r={}),r[n]=JAe(i,t,a))}),r},H3={},V3={},w9;function ZAe(){return w9||(w9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r){const n=new Map;for(let i=0;i<a.length;i++){const l=a[i],o=r(l);n.has(o)||n.set(o,l)}return Array.from(n.values())}e.uniqBy=t})(V3)),V3}var W3={},j9;function sK(){return j9||(j9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a}e.identity=t})(W3)),W3}var q3={},G3={},K3={},N9;function e_e(){return N9||(N9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Number.isSafeInteger(a)&&a>=0}e.isLength=t})(K3)),K3}var S9;function r8(){return S9||(S9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e_e();function a(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=a})(G3)),G3}var Y3={},k9;function t_e(){return k9||(k9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="object"&&a!==null}e.isObjectLike=t})(Y3)),Y3}var C9;function a_e(){return C9||(C9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r8(),a=t_e();function r(n){return a.isObjectLike(n)&&t.isArrayLike(n)}e.isArrayLikeObject=r})(q3)),q3}var X3={},Q3={},A9;function r_e(){return A9||(A9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e8();function a(r){return function(n){return t.get(n,r)}}e.property=a})(Q3)),Q3}var J3={},Z3={},eS={},tS={},_9;function nK(){return _9||(_9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a!==null&&(typeof a=="object"||typeof a=="function")}e.isObject=t})(tS)),tS}var aS={},T9;function iK(){return T9||(T9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null||typeof a!="object"&&typeof a!="function"}e.isPrimitive=t})(aS)),aS}var rS={},E9;function lK(){return E9||(E9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r){return a===r||Number.isNaN(a)&&Number.isNaN(r)}e.eq=t})(rS)),rS}var D9;function s_e(){return D9||(D9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nK(),a=iK(),r=lK();function n(u,f,x){return typeof x!="function"?n(u,f,()=>{}):i(u,f,function p(v,g,b,j,N,S){const k=x(v,g,b,j,N,S);return k!==void 0?!!k:i(v,g,p,S)},new Map)}function i(u,f,x,p){if(f===u)return!0;switch(typeof f){case"object":return l(u,f,x,p);case"function":return Object.keys(f).length>0?i(u,{...f},x,p):r.eq(u,f);default:return t.isObject(u)?typeof f=="string"?f==="":!0:r.eq(u,f)}}function l(u,f,x,p){if(f==null)return!0;if(Array.isArray(f))return c(u,f,x,p);if(f instanceof Map)return o(u,f,x,p);if(f instanceof Set)return d(u,f,x,p);const v=Object.keys(f);if(u==null)return v.length===0;if(v.length===0)return!0;if(p?.has(f))return p.get(f)===u;p?.set(f,u);try{for(let g=0;g<v.length;g++){const b=v[g];if(!a.isPrimitive(u)&&!(b in u)||f[b]===void 0&&u[b]!==void 0||f[b]===null&&u[b]!==null||!x(u[b],f[b],b,u,f,p))return!1}return!0}finally{p?.delete(f)}}function o(u,f,x,p){if(f.size===0)return!0;if(!(u instanceof Map))return!1;for(const[v,g]of f.entries()){const b=u.get(v);if(x(b,g,v,u,f,p)===!1)return!1}return!0}function c(u,f,x,p){if(f.length===0)return!0;if(!Array.isArray(u))return!1;const v=new Set;for(let g=0;g<f.length;g++){const b=f[g];let j=!1;for(let N=0;N<u.length;N++){if(v.has(N))continue;const S=u[N];let k=!1;if(x(S,b,g,u,f,p)&&(k=!0),k){v.add(N),j=!0;break}}if(!j)return!1}return!0}function d(u,f,x,p){return f.size===0?!0:u instanceof Set?c([...u],[...f],x,p):!1}e.isMatchWith=n,e.isSetMatch=d})(eS)),eS}var M9;function oK(){return M9||(M9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s_e();function a(r,n){return t.isMatchWith(r,n,()=>{})}e.isMatch=a})(Z3)),Z3}var sS={},nS={},iS={},P9;function n_e(){return P9||(P9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Object.getOwnPropertySymbols(a).filter(r=>Object.prototype.propertyIsEnumerable.call(a,r))}e.getSymbols=t})(iS)),iS}var lS={},L9;function cK(){return L9||(L9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(a)}e.getTag=t})(lS)),lS}var oS={},O9;function dK(){return O9||(O9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",a="[object String]",r="[object Number]",n="[object Boolean]",i="[object Arguments]",l="[object Symbol]",o="[object Date]",c="[object Map]",d="[object Set]",u="[object Array]",f="[object Function]",x="[object ArrayBuffer]",p="[object Object]",v="[object Error]",g="[object DataView]",b="[object Uint8Array]",j="[object Uint8ClampedArray]",N="[object Uint16Array]",S="[object Uint32Array]",k="[object BigUint64Array]",A="[object Int8Array]",_="[object Int16Array]",M="[object Int32Array]",L="[object BigInt64Array]",U="[object Float32Array]",z="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=x,e.arrayTag=u,e.bigInt64ArrayTag=L,e.bigUint64ArrayTag=k,e.booleanTag=n,e.dataViewTag=g,e.dateTag=o,e.errorTag=v,e.float32ArrayTag=U,e.float64ArrayTag=z,e.functionTag=f,e.int16ArrayTag=_,e.int32ArrayTag=M,e.int8ArrayTag=A,e.mapTag=c,e.numberTag=r,e.objectTag=p,e.regexpTag=t,e.setTag=d,e.stringTag=a,e.symbolTag=l,e.uint16ArrayTag=N,e.uint32ArrayTag=S,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=j})(oS)),oS}var cS={},R9;function i_e(){return R9||(R9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}e.isTypedArray=t})(cS)),cS}var F9;function uK(){return F9||(F9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n_e(),a=cK(),r=dK(),n=iK(),i=i_e();function l(u,f){return o(u,void 0,u,new Map,f)}function o(u,f,x,p=new Map,v=void 0){const g=v?.(u,f,x,p);if(g!==void 0)return g;if(n.isPrimitive(u))return u;if(p.has(u))return p.get(u);if(Array.isArray(u)){const b=new Array(u.length);p.set(u,b);for(let j=0;j<u.length;j++)b[j]=o(u[j],j,x,p,v);return Object.hasOwn(u,"index")&&(b.index=u.index),Object.hasOwn(u,"input")&&(b.input=u.input),b}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const b=new RegExp(u.source,u.flags);return b.lastIndex=u.lastIndex,b}if(u instanceof Map){const b=new Map;p.set(u,b);for(const[j,N]of u)b.set(j,o(N,j,x,p,v));return b}if(u instanceof Set){const b=new Set;p.set(u,b);for(const j of u)b.add(o(j,void 0,x,p,v));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const b=new(Object.getPrototypeOf(u)).constructor(u.length);p.set(u,b);for(let j=0;j<u.length;j++)b[j]=o(u[j],j,x,p,v);return b}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const b=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return p.set(u,b),c(b,u,x,p,v),b}if(typeof File<"u"&&u instanceof File){const b=new File([u],u.name,{type:u.type});return p.set(u,b),c(b,u,x,p,v),b}if(typeof Blob<"u"&&u instanceof Blob){const b=new Blob([u],{type:u.type});return p.set(u,b),c(b,u,x,p,v),b}if(u instanceof Error){const b=new u.constructor;return p.set(u,b),b.message=u.message,b.name=u.name,b.stack=u.stack,b.cause=u.cause,c(b,u,x,p,v),b}if(u instanceof Boolean){const b=new Boolean(u.valueOf());return p.set(u,b),c(b,u,x,p,v),b}if(u instanceof Number){const b=new Number(u.valueOf());return p.set(u,b),c(b,u,x,p,v),b}if(u instanceof String){const b=new String(u.valueOf());return p.set(u,b),c(b,u,x,p,v),b}if(typeof u=="object"&&d(u)){const b=Object.create(Object.getPrototypeOf(u));return p.set(u,b),c(b,u,x,p,v),b}return u}function c(u,f,x=u,p,v){const g=[...Object.keys(f),...t.getSymbols(f)];for(let b=0;b<g.length;b++){const j=g[b],N=Object.getOwnPropertyDescriptor(u,j);(N==null||N.writable)&&(u[j]=o(f[j],j,x,p,v))}}function d(u){switch(a.getTag(u)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=o,e.copyProperties=c})(nS)),nS}var I9;function l_e(){return I9||(I9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uK();function a(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=a})(sS)),sS}var B9;function o_e(){return B9||(B9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oK(),a=l_e();function r(n){return n=a.cloneDeep(n),i=>t.isMatch(i,n)}e.matches=r})(J3)),J3}var dS={},uS={},hS={},$9;function c_e(){return $9||($9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uK(),a=dK();function r(n,i){return t.cloneDeepWith(n,(l,o,c,d)=>{const u=i?.(l,o,c,d);if(u!==void 0)return u;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case a.numberTag:case a.stringTag:case a.booleanTag:{const f=new n.constructor(n?.valueOf());return t.copyProperties(f,n),f}case a.argumentsTag:{const f={};return t.copyProperties(f,n),f.length=n.length,f[Symbol.iterator]=n[Symbol.iterator],f}default:return}})}e.cloneDeepWith=r})(hS)),hS}var U9;function d_e(){return U9||(U9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c_e();function a(r){return t.cloneDeepWith(r)}e.cloneDeep=a})(uS)),uS}var fS={},mS={},z9;function hK(){return z9||(z9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function a(r,n=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<n;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=a})(mS)),mS}var pS={},H9;function u_e(){return H9||(H9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cK();function a(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=a})(pS)),pS}var V9;function h_e(){return V9||(V9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZG(),a=hK(),r=u_e(),n=Z_();function i(l,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&l?.[o]==null?c=n.toPath(o):c=[o],c.length===0)return!1;let d=l;for(let u=0;u<c.length;u++){const f=c[u];if((d==null||!Object.hasOwn(d,f))&&!((Array.isArray(d)||r.isArguments(d))&&a.isIndex(f)&&f<d.length))return!1;d=d[f]}return!0}e.has=i})(fS)),fS}var W9;function f_e(){return W9||(W9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oK(),a=J_(),r=d_e(),n=e8(),i=h_e();function l(o,c){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=a.toKey(o);break}}return c=r.cloneDeep(c),function(d){const u=n.get(d,o);return u===void 0?i.has(d,o):c===void 0?u===void 0:t.isMatch(u,c)}}e.matchesProperty=l})(dS)),dS}var q9;function m_e(){return q9||(q9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sK(),a=r_e(),r=o_e(),n=f_e();function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?n.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return a.property(l)}}e.iteratee=i})(X3)),X3}var G9;function p_e(){return G9||(G9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZAe(),a=sK(),r=a_e(),n=m_e();function i(l,o=a.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),n.iteratee(o)):[]}e.uniqBy=i})(H3)),H3}var xS,K9;function x_e(){return K9||(K9=1,xS=p_e().uniqBy),xS}var g_e=x_e();const Y9=vh(g_e);function v_e(e,t,a){return t===!0?Y9(e,a):typeof t=="function"?Y9(e,t):e}var gS={exports:{}},vS={},bS={exports:{}},yS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X9;function b_e(){if(X9)return yS;X9=1;var e=vx();function t(f,x){return f===x&&(f!==0||1/f===1/x)||f!==f&&x!==x}var a=typeof Object.is=="function"?Object.is:t,r=e.useState,n=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function o(f,x){var p=x(),v=r({inst:{value:p,getSnapshot:x}}),g=v[0].inst,b=v[1];return i(function(){g.value=p,g.getSnapshot=x,c(g)&&b({inst:g})},[f,p,x]),n(function(){return c(g)&&b({inst:g}),f(function(){c(g)&&b({inst:g})})},[f]),l(p),p}function c(f){var x=f.getSnapshot;f=f.value;try{var p=x();return!a(f,p)}catch{return!0}}function d(f,x){return x()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:o;return yS.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,yS}var Q9;function y_e(){return Q9||(Q9=1,bS.exports=b_e()),bS.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J9;function w_e(){if(J9)return vS;J9=1;var e=vx(),t=y_e();function a(d,u){return d===u&&(d!==0||1/d===1/u)||d!==d&&u!==u}var r=typeof Object.is=="function"?Object.is:a,n=t.useSyncExternalStore,i=e.useRef,l=e.useEffect,o=e.useMemo,c=e.useDebugValue;return vS.useSyncExternalStoreWithSelector=function(d,u,f,x,p){var v=i(null);if(v.current===null){var g={hasValue:!1,value:null};v.current=g}else g=v.current;v=o(function(){function j(_){if(!N){if(N=!0,S=_,_=x(_),p!==void 0&&g.hasValue){var M=g.value;if(p(M,_))return k=M}return k=_}if(M=k,r(S,_))return M;var L=x(_);return p!==void 0&&p(M,L)?(S=_,M):(S=_,k=L)}var N=!1,S,k,A=f===void 0?null:f;return[function(){return j(u())},A===null?void 0:function(){return j(A())}]},[u,f,x,p]);var b=n(d,v[0],v[1]);return l(function(){g.hasValue=!0,g.value=b},[b]),c(b),b},vS}var Z9;function j_e(){return Z9||(Z9=1,gS.exports=w_e()),gS.exports}var N_e=j_e(),s8=w.createContext(null),S_e=e=>e,ri=()=>{var e=w.useContext(s8);return e?e.store.dispatch:S_e},B2=()=>{},k_e=()=>B2,C_e=(e,t)=>e===t;function wa(e){var t=w.useContext(s8);return N_e.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:k_e,t?t.store.getState:B2,t?t.store.getState:B2,t?e:B2,C_e)}function A_e(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function __e(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function T_e(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(a=>typeof a=="function")){const a=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${a}]`)}}var eF=e=>Array.isArray(e)?e:[e];function E_e(e){const t=Array.isArray(e[0])?e[0]:e;return T_e(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function D_e(e,t){const a=[],{length:r}=e;for(let n=0;n<r;n++)a.push(e[n].apply(null,t));return a}var M_e=class{constructor(e){this.value=e}deref(){return this.value}},P_e=typeof WeakRef<"u"?WeakRef:M_e,L_e=0,tF=1;function u2(){return{s:L_e,v:void 0,o:null,p:null}}function fK(e,t={}){let a=u2();const{resultEqualityCheck:r}=t;let n,i=0;function l(){let o=a;const{length:c}=arguments;for(let f=0,x=c;f<x;f++){const p=arguments[f];if(typeof p=="function"||typeof p=="object"&&p!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const g=v.get(p);g===void 0?(o=u2(),v.set(p,o)):o=g}else{let v=o.p;v===null&&(o.p=v=new Map);const g=v.get(p);g===void 0?(o=u2(),v.set(p,o)):o=g}}const d=o;let u;if(o.s===tF)u=o.v;else if(u=e.apply(null,arguments),i++,r){const f=n?.deref?.()??n;f!=null&&r(f,u)&&(u=f,i!==0&&i--),n=typeof u=="object"&&u!==null||typeof u=="function"?new P_e(u):u}return d.s=tF,d.v=u,u}return l.clearCache=()=>{a=u2(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function O_e(e,...t){const a=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...n)=>{let i=0,l=0,o,c={},d=n.pop();typeof d=="object"&&(c=d,d=n.pop()),A_e(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const u={...a,...c},{memoize:f,memoizeOptions:x=[],argsMemoize:p=fK,argsMemoizeOptions:v=[]}=u,g=eF(x),b=eF(v),j=E_e(n),N=f(function(){return i++,d.apply(null,arguments)},...g),S=p(function(){l++;const A=D_e(j,arguments);return o=N.apply(null,A),o},...b);return Object.assign(S,{resultFunc:d,memoizedResultFunc:N,dependencies:j,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var pt=O_e(fK),R_e=Object.assign((e,t=pt)=>{__e(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const a=Object.keys(e),r=a.map(i=>e[i]);return t(r,(...i)=>i.reduce((l,o,c)=>(l[a[c]]=o,l),{}))},{withTypes:()=>R_e}),wS={},jS={},NS={},aF;function F_e(){return aF||(aF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const a=(r,n,i)=>{if(r!==n){const l=t(r),o=t(n);if(l===o&&l===0){if(r<n)return i==="desc"?1:-1;if(r>n)return i==="desc"?-1:1}return i==="desc"?o-l:l-o}return 0};e.compareValues=a})(NS)),NS}var SS={},kS={},rF;function mK(){return rF||(rF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"||a instanceof Symbol}e.isSymbol=t})(kS)),kS}var sF;function I_e(){return sF||(sF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mK(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function n(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!a.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=n})(SS)),SS}var nF;function B_e(){return nF||(nF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F_e(),a=I_e(),r=Z_();function n(i,l,o,c){if(i==null)return[];o=c?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const d=(p,v)=>{let g=p;for(let b=0;b<v.length&&g!=null;++b)g=g[v[b]];return g},u=(p,v)=>v==null||p==null?v:typeof p=="object"&&"key"in p?Object.hasOwn(v,p.key)?v[p.key]:d(v,p.path):typeof p=="function"?p(v):Array.isArray(p)?d(v,p):typeof v=="object"?v[p]:v,f=l.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||a.isKey(p)?p:{key:p,path:r.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(v=>u(v,p))})).slice().sort((p,v)=>{for(let g=0;g<f.length;g++){const b=t.compareValues(p.criteria[g],v.criteria[g],o[g]);if(b!==0)return b}return 0}).map(p=>p.original)}e.orderBy=n})(jS)),jS}var CS={},iF;function $_e(){return iF||(iF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r=1){const n=[],i=Math.floor(r),l=(o,c)=>{for(let d=0;d<o.length;d++){const u=o[d];Array.isArray(u)&&c<i?l(u,c+1):n.push(u)}};return l(a,0),n}e.flatten=t})(CS)),CS}var AS={},lF;function pK(){return lF||(lF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hK(),a=r8(),r=nK(),n=lK();function i(l,o,c){return r.isObject(c)&&(typeof o=="number"&&a.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?n.eq(c[o],l):!1}e.isIterateeCall=i})(AS)),AS}var oF;function U_e(){return oF||(oF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B_e(),a=$_e(),r=pK();function n(i,...l){const o=l.length;return o>1&&r.isIterateeCall(i,l[0],l[1])?l=[]:o>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,a.flatten(l),["asc"])}e.sortBy=n})(wS)),wS}var _S,cF;function z_e(){return cF||(cF=1,_S=U_e().sortBy),_S}var H_e=z_e();const dN=vh(H_e);var xK=e=>e.legend.settings,V_e=e=>e.legend.size,W_e=e=>e.legend.payload;pt([W_e,xK],(e,t)=>{var{itemSorter:a}=t,r=e.flat(1);return a?dN(r,a):r});var h2=1;function q_e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,a]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(n=>{if(n!=null){var i=n.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>h2||Math.abs(l.left-t.left)>h2||Math.abs(l.top-t.top)>h2||Math.abs(l.width-t.width)>h2)&&a({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Ii(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var G_e=typeof Symbol=="function"&&Symbol.observable||"@@observable",dF=G_e,TS=()=>Math.random().toString(36).substring(7).split("").join("."),K_e={INIT:`@@redux/INIT${TS()}`,REPLACE:`@@redux/REPLACE${TS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${TS()}`},Fw=K_e;function n8(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function gK(e,t,a){if(typeof e!="function")throw new Error(Ii(2));if(typeof t=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(Ii(0));if(typeof t=="function"&&typeof a>"u"&&(a=t,t=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(Ii(1));return a(gK)(e,t)}let r=e,n=t,i=new Map,l=i,o=0,c=!1;function d(){l===i&&(l=new Map,i.forEach((b,j)=>{l.set(j,b)}))}function u(){if(c)throw new Error(Ii(3));return n}function f(b){if(typeof b!="function")throw new Error(Ii(4));if(c)throw new Error(Ii(5));let j=!0;d();const N=o++;return l.set(N,b),function(){if(j){if(c)throw new Error(Ii(6));j=!1,d(),l.delete(N),i=null}}}function x(b){if(!n8(b))throw new Error(Ii(7));if(typeof b.type>"u")throw new Error(Ii(8));if(typeof b.type!="string")throw new Error(Ii(17));if(c)throw new Error(Ii(9));try{c=!0,n=r(n,b)}finally{c=!1}return(i=l).forEach(N=>{N()}),b}function p(b){if(typeof b!="function")throw new Error(Ii(10));r=b,x({type:Fw.REPLACE})}function v(){const b=f;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(Ii(11));function N(){const k=j;k.next&&k.next(u())}return N(),{unsubscribe:b(N)}},[dF](){return this}}}return x({type:Fw.INIT}),{dispatch:x,subscribe:f,getState:u,replaceReducer:p,[dF]:v}}function Y_e(e){Object.keys(e).forEach(t=>{const a=e[t];if(typeof a(void 0,{type:Fw.INIT})>"u")throw new Error(Ii(12));if(typeof a(void 0,{type:Fw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ii(13))})}function vK(e){const t=Object.keys(e),a={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(a[l]=e[l])}const r=Object.keys(a);let n;try{Y_e(a)}catch(i){n=i}return function(l={},o){if(n)throw n;let c=!1;const d={};for(let u=0;u<r.length;u++){const f=r[u],x=a[f],p=l[f],v=x(p,o);if(typeof v>"u")throw o&&o.type,new Error(Ii(14));d[f]=v,c=c||v!==p}return c=c||r.length!==Object.keys(l).length,c?d:l}}function Iw(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,a)=>(...r)=>t(a(...r)))}function X_e(...e){return t=>(a,r)=>{const n=t(a,r);let i=()=>{throw new Error(Ii(15))};const l={getState:n.getState,dispatch:(c,...d)=>i(c,...d)},o=e.map(c=>c(l));return i=Iw(...o)(n.dispatch),{...n,dispatch:i}}}function bK(e){return n8(e)&&"type"in e&&typeof e.type=="string"}var yK=Symbol.for("immer-nothing"),uF=Symbol.for("immer-draftable"),Ro=Symbol.for("immer-state");function rd(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var vv=Object.getPrototypeOf;function bm(e){return!!e&&!!e[Ro]}function mh(e){return e?wK(e)||Array.isArray(e)||!!e[uF]||!!e.constructor?.[uF]||ab(e)||hN(e):!1}var Q_e=Object.prototype.constructor.toString(),hF=new WeakMap;function wK(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const a=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(a===Object)return!0;if(typeof a!="function")return!1;let r=hF.get(a);return r===void 0&&(r=Function.toString.call(a),hF.set(a,r)),r===Q_e}function Bw(e,t,a=!0){uN(e)===0?(a?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{t(n,e[n],e)}):e.forEach((r,n)=>t(n,r,e))}function uN(e){const t=e[Ro];return t?t.type_:Array.isArray(e)?1:ab(e)?2:hN(e)?3:0}function JC(e,t){return uN(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function jK(e,t,a){const r=uN(e);r===2?e.set(t,a):r===3?e.add(a):e[t]=a}function J_e(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ab(e){return e instanceof Map}function hN(e){return e instanceof Set}function M0(e){return e.copy_||e.base_}function ZC(e,t){if(ab(e))return new Map(e);if(hN(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const a=wK(e);if(t===!0||t==="class_only"&&!a){const r=Object.getOwnPropertyDescriptors(e);delete r[Ro];let n=Reflect.ownKeys(r);for(let i=0;i<n.length;i++){const l=n[i],o=r[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(vv(e),r)}else{const r=vv(e);if(r!==null&&a)return{...e};const n=Object.create(r);return Object.assign(n,e)}}function i8(e,t=!1){return fN(e)||bm(e)||!mh(e)||(uN(e)>1&&Object.defineProperties(e,{set:f2,add:f2,clear:f2,delete:f2}),Object.freeze(e),t&&Object.values(e).forEach(a=>i8(a,!0))),e}function Z_e(){rd(2)}var f2={value:Z_e};function fN(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var e8e={};function ym(e){const t=e8e[e];return t||rd(0,e),t}var bv;function NK(){return bv}function t8e(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fF(e,t){t&&(ym("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function e6(e){t6(e),e.drafts_.forEach(a8e),e.drafts_=null}function t6(e){e===bv&&(bv=e.parent_)}function mF(e){return bv=t8e(bv,e)}function a8e(e){const t=e[Ro];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function pF(e,t){t.unfinalizedDrafts_=t.drafts_.length;const a=t.drafts_[0];return e!==void 0&&e!==a?(a[Ro].modified_&&(e6(t),rd(4)),mh(e)&&(e=$w(t,e),t.parent_||Uw(t,e)),t.patches_&&ym("Patches").generateReplacementPatches_(a[Ro].base_,e,t.patches_,t.inversePatches_)):e=$w(t,a,[]),e6(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==yK?e:void 0}function $w(e,t,a){if(fN(t))return t;const r=e.immer_.shouldUseStrictIteration(),n=t[Ro];if(!n)return Bw(t,(i,l)=>xF(e,n,t,i,l,a),r),t;if(n.scope_!==e)return t;if(!n.modified_)return Uw(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let l=i,o=!1;n.type_===3&&(l=new Set(i),i.clear(),o=!0),Bw(l,(c,d)=>xF(e,n,i,c,d,a,o),r),Uw(e,i,!1),a&&e.patches_&&ym("Patches").generatePatches_(n,a,e.patches_,e.inversePatches_)}return n.copy_}function xF(e,t,a,r,n,i,l){if(n==null||typeof n!="object"&&!l)return;const o=fN(n);if(!(o&&!l)){if(bm(n)){const c=i&&t&&t.type_!==3&&!JC(t.assigned_,r)?i.concat(r):void 0,d=$w(e,n,c);if(jK(a,r,d),bm(d))e.canAutoFreeze_=!1;else return}else l&&a.add(n);if(mh(n)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===n&&o)return;$w(e,n),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(ab(a)?a.has(r):Object.prototype.propertyIsEnumerable.call(a,r))&&Uw(e,n)}}}function Uw(e,t,a=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&i8(t,a)}function r8e(e,t){const a=Array.isArray(e),r={type_:a?1:0,scope_:t?t.scope_:NK(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=r,i=l8;a&&(n=[r],i=yv);const{revoke:l,proxy:o}=Proxy.revocable(n,i);return r.draft_=o,r.revoke_=l,o}var l8={get(e,t){if(t===Ro)return e;const a=M0(e);if(!JC(a,t))return s8e(e,a,t);const r=a[t];return e.finalized_||!mh(r)?r:r===ES(e.base_,t)?(DS(e),e.copy_[t]=r6(r,e)):r},has(e,t){return t in M0(e)},ownKeys(e){return Reflect.ownKeys(M0(e))},set(e,t,a){const r=SK(M0(e),t);if(r?.set)return r.set.call(e.draft_,a),!0;if(!e.modified_){const n=ES(M0(e),t),i=n?.[Ro];if(i&&i.base_===a)return e.copy_[t]=a,e.assigned_[t]=!1,!0;if(J_e(a,n)&&(a!==void 0||JC(e.base_,t)))return!0;DS(e),a6(e)}return e.copy_[t]===a&&(a!==void 0||t in e.copy_)||Number.isNaN(a)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=a,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ES(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,DS(e),a6(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const a=M0(e),r=Reflect.getOwnPropertyDescriptor(a,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:a[t]}},defineProperty(){rd(11)},getPrototypeOf(e){return vv(e.base_)},setPrototypeOf(){rd(12)}},yv={};Bw(l8,(e,t)=>{yv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});yv.deleteProperty=function(e,t){return yv.set.call(this,e,t,void 0)};yv.set=function(e,t,a){return l8.set.call(this,e[0],t,a,e[0])};function ES(e,t){const a=e[Ro];return(a?M0(a):e)[t]}function s8e(e,t,a){const r=SK(t,a);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function SK(e,t){if(!(t in e))return;let a=vv(e);for(;a;){const r=Object.getOwnPropertyDescriptor(a,t);if(r)return r;a=vv(a)}}function a6(e){e.modified_||(e.modified_=!0,e.parent_&&a6(e.parent_))}function DS(e){e.copy_||(e.copy_=ZC(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var n8e=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,a,r)=>{if(typeof t=="function"&&typeof a!="function"){const i=a;a=t;const l=this;return function(c=i,...d){return l.produce(c,u=>a.call(this,u,...d))}}typeof a!="function"&&rd(6),r!==void 0&&typeof r!="function"&&rd(7);let n;if(mh(t)){const i=mF(this),l=r6(t,void 0);let o=!0;try{n=a(l),o=!1}finally{o?e6(i):t6(i)}return fF(i,r),pF(n,i)}else if(!t||typeof t!="object"){if(n=a(t),n===void 0&&(n=t),n===yK&&(n=void 0),this.autoFreeze_&&i8(n,!0),r){const i=[],l=[];ym("Patches").generateReplacementPatches_(t,n,i,l),r(i,l)}return n}else rd(1,t)},this.produceWithPatches=(t,a)=>{if(typeof t=="function")return(l,...o)=>this.produceWithPatches(l,c=>t(c,...o));let r,n;return[this.produce(t,a,(l,o)=>{r=l,n=o}),r,n]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){mh(e)||rd(8),bm(e)&&(e=ih(e));const t=mF(this),a=r6(e,void 0);return a[Ro].isManual_=!0,t6(t),a}finishDraft(e,t){const a=e&&e[Ro];(!a||!a.isManual_)&&rd(9);const{scope_:r}=a;return fF(r,t),pF(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let a;for(a=t.length-1;a>=0;a--){const n=t[a];if(n.path.length===0&&n.op==="replace"){e=n.value;break}}a>-1&&(t=t.slice(a+1));const r=ym("Patches").applyPatches_;return bm(e)?r(e,t):this.produce(e,n=>r(n,t))}};function r6(e,t){const a=ab(e)?ym("MapSet").proxyMap_(e,t):hN(e)?ym("MapSet").proxySet_(e,t):r8e(e,t);return(t?t.scope_:NK()).drafts_.push(a),a}function ih(e){return bm(e)||rd(10,e),kK(e)}function kK(e){if(!mh(e)||fN(e))return e;const t=e[Ro];let a,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,a=ZC(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else a=ZC(e,!0);return Bw(a,(n,i)=>{jK(a,n,kK(i))},r),t&&(t.finalized_=!1),a}var i8e=new n8e,CK=i8e.produce;function AK(e){return({dispatch:a,getState:r})=>n=>i=>typeof i=="function"?i(a,r,e):n(i)}var l8e=AK(),o8e=AK,c8e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Iw:Iw.apply(null,arguments)};function Nc(e,t){function a(...r){if(t){let n=t(...r);if(!n)throw new Error(Lo(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:r[0]}}return a.toString=()=>`${e}`,a.type=e,a.match=r=>bK(r)&&r.type===e,a}var _K=class l1 extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,l1.prototype)}static get[Symbol.species](){return l1}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new l1(...t[0].concat(this)):new l1(...t.concat(this))}};function gF(e){return mh(e)?CK(e,()=>{}):e}function m2(e,t,a){return e.has(t)?e.get(t):e.set(t,a(t)).get(t)}function d8e(e){return typeof e=="boolean"}var u8e=()=>function(t){const{thunk:a=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=t??{};let l=new _K;return a&&(d8e(a)?l.push(l8e):l.push(o8e(a.extraArgument))),l},TK="RTK_autoBatch",Tl=()=>e=>({payload:e,meta:{[TK]:!0}}),vF=e=>t=>{setTimeout(t,e)},EK=(e={type:"raf"})=>t=>(...a)=>{const r=t(...a);let n=!0,i=!1,l=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:vF(10):e.type==="callback"?e.queueNotification:vF(e.timeout),d=()=>{l=!1,i&&(i=!1,o.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const f=()=>n&&u(),x=r.subscribe(f);return o.add(u),()=>{x(),o.delete(u)}},dispatch(u){try{return n=!u?.meta?.[TK],i=!n,i&&(l||(l=!0,c(d))),r.dispatch(u)}finally{n=!0}}})},h8e=e=>function(a){const{autoBatch:r=!0}=a??{};let n=new _K(e);return r&&n.push(EK(typeof r=="object"?r:void 0)),n};function f8e(e){const t=u8e(),{reducer:a=void 0,middleware:r,devTools:n=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let o;if(typeof a=="function")o=a;else if(n8(a))o=vK(a);else throw new Error(Lo(1));let c;typeof r=="function"?c=r(t):c=t();let d=Iw;n&&(d=c8e({trace:!1,...typeof n=="object"&&n}));const u=X_e(...c),f=h8e(u);let x=typeof l=="function"?l(f):f();const p=d(...x);return gK(o,i,p)}function DK(e){const t={},a=[];let r;const n={addCase(i,l){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(Lo(28));if(o in t)throw new Error(Lo(29));return t[o]=l,n},addAsyncThunk(i,l){return l.pending&&(t[i.pending.type]=l.pending),l.rejected&&(t[i.rejected.type]=l.rejected),l.fulfilled&&(t[i.fulfilled.type]=l.fulfilled),l.settled&&a.push({matcher:i.settled,reducer:l.settled}),n},addMatcher(i,l){return a.push({matcher:i,reducer:l}),n},addDefaultCase(i){return r=i,n}};return e(n),[t,a,r]}function m8e(e){return typeof e=="function"}function p8e(e,t){let[a,r,n]=DK(t),i;if(m8e(e))i=()=>gF(e());else{const o=gF(e);i=()=>o}function l(o=i(),c){let d=[a[c.type],...r.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[n]),d.reduce((u,f)=>{if(f)if(bm(u)){const p=f(u,c);return p===void 0?u:p}else{if(mh(u))return CK(u,x=>f(x,c));{const x=f(u,c);if(x===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return u},o)}return l.getInitialState=i,l}var x8e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",g8e=(e=21)=>{let t="",a=e;for(;a--;)t+=x8e[Math.random()*64|0];return t},v8e=Symbol.for("rtk-slice-createasyncthunk");function b8e(e,t){return`${e}/${t}`}function y8e({creators:e}={}){const t=e?.asyncThunk?.[v8e];return function(r){const{name:n,reducerPath:i=n}=r;if(!n)throw new Error(Lo(11));const l=(typeof r.reducers=="function"?r.reducers(j8e()):r.reducers)||{},o=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(S,k){const A=typeof S=="string"?S:S.type;if(!A)throw new Error(Lo(12));if(A in c.sliceCaseReducersByType)throw new Error(Lo(13));return c.sliceCaseReducersByType[A]=k,d},addMatcher(S,k){return c.sliceMatchers.push({matcher:S,reducer:k}),d},exposeAction(S,k){return c.actionCreators[S]=k,d},exposeCaseReducer(S,k){return c.sliceCaseReducersByName[S]=k,d}};o.forEach(S=>{const k=l[S],A={reducerName:S,type:b8e(n,S),createNotation:typeof r.reducers=="function"};S8e(k)?C8e(A,k,d,t):N8e(A,k,d)});function u(){const[S={},k=[],A=void 0]=typeof r.extraReducers=="function"?DK(r.extraReducers):[r.extraReducers],_={...S,...c.sliceCaseReducersByType};return p8e(r.initialState,M=>{for(let L in _)M.addCase(L,_[L]);for(let L of c.sliceMatchers)M.addMatcher(L.matcher,L.reducer);for(let L of k)M.addMatcher(L.matcher,L.reducer);A&&M.addDefaultCase(A)})}const f=S=>S,x=new Map,p=new WeakMap;let v;function g(S,k){return v||(v=u()),v(S,k)}function b(){return v||(v=u()),v.getInitialState()}function j(S,k=!1){function A(M){let L=M[S];return typeof L>"u"&&k&&(L=m2(p,A,b)),L}function _(M=f){const L=m2(x,k,()=>new WeakMap);return m2(L,M,()=>{const U={};for(const[z,O]of Object.entries(r.selectors??{}))U[z]=w8e(O,M,()=>m2(p,M,b),k);return U})}return{reducerPath:S,getSelectors:_,get selectors(){return _(A)},selectSlice:A}}const N={name:n,reducer:g,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:b,...j(i),injectInto(S,{reducerPath:k,...A}={}){const _=k??i;return S.inject({reducerPath:_,reducer:g},A),{...N,...j(_,!0)}}};return N}}function w8e(e,t,a,r){function n(i,...l){let o=t(i);return typeof o>"u"&&r&&(o=a()),e(o,...l)}return n.unwrapped=e,n}var Fo=y8e();function j8e(){function e(t,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...a}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...a){return t(...a)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:a}},asyncThunk:e}}function N8e({type:e,reducerName:t,createNotation:a},r,n){let i,l;if("reducer"in r){if(a&&!k8e(r))throw new Error(Lo(17));i=r.reducer,l=r.prepare}else i=r;n.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?Nc(e,l):Nc(e))}function S8e(e){return e._reducerDefinitionType==="asyncThunk"}function k8e(e){return e._reducerDefinitionType==="reducerWithPrepare"}function C8e({type:e,reducerName:t},a,r,n){if(!n)throw new Error(Lo(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:c,settled:d,options:u}=a,f=n(e,i,u);r.exposeAction(t,f),l&&r.addCase(f.fulfilled,l),o&&r.addCase(f.pending,o),c&&r.addCase(f.rejected,c),d&&r.addMatcher(f.settled,d),r.exposeCaseReducer(t,{fulfilled:l||p2,pending:o||p2,rejected:c||p2,settled:d||p2})}function p2(){}var A8e="task",MK="listener",PK="completed",o8="cancelled",_8e=`task-${o8}`,T8e=`task-${PK}`,s6=`${MK}-${o8}`,E8e=`${MK}-${PK}`,mN=class{constructor(e){this.code=e,this.message=`${A8e} ${o8} (reason: ${e})`}name="TaskAbortError";message},c8=(e,t)=>{if(typeof e!="function")throw new TypeError(Lo(32))},zw=()=>{},LK=(e,t=zw)=>(e.catch(t),e),OK=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),rm=(e,t)=>{const a=e.signal;a.aborted||("reason"in a||Object.defineProperty(a,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},sm=e=>{if(e.aborted){const{reason:t}=e;throw new mN(t)}};function RK(e,t){let a=zw;return new Promise((r,n)=>{const i=()=>n(new mN(e.reason));if(e.aborted){i();return}a=OK(e,i),t.finally(()=>a()).then(r,n)}).finally(()=>{a=zw})}var D8e=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(a){return{status:a instanceof mN?"cancelled":"rejected",error:a}}finally{t?.()}},Hw=e=>t=>LK(RK(e,t).then(a=>(sm(e),a))),FK=e=>{const t=Hw(e);return a=>t(new Promise(r=>setTimeout(r,a)))},{assign:Jp}=Object,bF={},pN="listenerMiddleware",M8e=(e,t)=>{const a=r=>OK(e,()=>rm(r,e.reason));return(r,n)=>{c8(r);const i=new AbortController;a(i);const l=D8e(async()=>{sm(e),sm(i.signal);const o=await r({pause:Hw(i.signal),delay:FK(i.signal),signal:i.signal});return sm(i.signal),o},()=>rm(i,T8e));return n?.autoJoin&&t.push(l.catch(zw)),{result:Hw(e)(l),cancel(){rm(i,_8e)}}}},P8e=(e,t)=>{const a=async(r,n)=>{sm(t);let i=()=>{};const o=[new Promise((c,d)=>{let u=e({predicate:r,effect:(f,x)=>{x.unsubscribe(),c([f,x.getState(),x.getOriginalState()])}});i=()=>{u(),d()}})];n!=null&&o.push(new Promise(c=>setTimeout(c,n,null)));try{const c=await RK(t,Promise.race(o));return sm(t),c}finally{i()}};return(r,n)=>LK(a(r,n))},IK=e=>{let{type:t,actionCreator:a,matcher:r,predicate:n,effect:i}=e;if(t)n=Nc(t).match;else if(a)t=a.type,n=a.match;else if(r)n=r;else if(!n)throw new Error(Lo(21));return c8(i),{predicate:n,type:t,effect:i}},BK=Jp(e=>{const{type:t,predicate:a,effect:r}=IK(e);return{id:g8e(),effect:r,type:t,predicate:a,pending:new Set,unsubscribe:()=>{throw new Error(Lo(22))}}},{withTypes:()=>BK}),yF=(e,t)=>{const{type:a,effect:r,predicate:n}=IK(t);return Array.from(e.values()).find(i=>(typeof a=="string"?i.type===a:i.predicate===n)&&i.effect===r)},n6=e=>{e.pending.forEach(t=>{rm(t,s6)})},L8e=(e,t)=>()=>{for(const a of t.keys())n6(a);e.clear()},wF=(e,t,a)=>{try{e(t,a)}catch(r){setTimeout(()=>{throw r},0)}},$K=Jp(Nc(`${pN}/add`),{withTypes:()=>$K}),O8e=Nc(`${pN}/removeAll`),UK=Jp(Nc(`${pN}/remove`),{withTypes:()=>UK}),R8e=(...e)=>{console.error(`${pN}/error`,...e)},rb=(e={})=>{const t=new Map,a=new Map,r=p=>{const v=a.get(p)??0;a.set(p,v+1)},n=p=>{const v=a.get(p)??1;v===1?a.delete(p):a.set(p,v-1)},{extra:i,onError:l=R8e}=e;c8(l);const o=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),v=>{p.unsubscribe(),v?.cancelActive&&n6(p)}),c=p=>{const v=yF(t,p)??BK(p);return o(v)};Jp(c,{withTypes:()=>c});const d=p=>{const v=yF(t,p);return v&&(v.unsubscribe(),p.cancelActive&&n6(v)),!!v};Jp(d,{withTypes:()=>d});const u=async(p,v,g,b)=>{const j=new AbortController,N=P8e(c,j.signal),S=[];try{p.pending.add(j),r(p),await Promise.resolve(p.effect(v,Jp({},g,{getOriginalState:b,condition:(k,A)=>N(k,A).then(Boolean),take:N,delay:FK(j.signal),pause:Hw(j.signal),extra:i,signal:j.signal,fork:M8e(j.signal,S),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((k,A,_)=>{k!==j&&(rm(k,s6),_.delete(k))})},cancel:()=>{rm(j,s6),p.pending.delete(j)},throwIfCancelled:()=>{sm(j.signal)}})))}catch(k){k instanceof mN||wF(l,k,{raisedBy:"effect"})}finally{await Promise.all(S),rm(j,E8e),n(p),p.pending.delete(j)}},f=L8e(t,a);return{middleware:p=>v=>g=>{if(!bK(g))return v(g);if($K.match(g))return c(g.payload);if(O8e.match(g)){f();return}if(UK.match(g))return d(g.payload);let b=p.getState();const j=()=>{if(b===bF)throw new Error(Lo(23));return b};let N;try{if(N=v(g),t.size>0){const S=p.getState(),k=Array.from(t.values());for(const A of k){let _=!1;try{_=A.predicate(g,S,b)}catch(M){_=!1,wF(l,M,{raisedBy:"predicate"})}_&&u(A,g,p,j)}}}finally{b=bF}return N},startListening:c,stopListening:d,clearListeners:f}};function Lo(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var F8e={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},zK=Fo({name:"chartLayout",initialState:F8e,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var a,r,n,i;e.margin.top=(a=t.payload.top)!==null&&a!==void 0?a:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(n=t.payload.bottom)!==null&&n!==void 0?n:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:I8e,setLayout:B8e,setChartSize:$8e,setScale:U8e}=zK.actions,z8e=zK.reducer;function jF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function NF(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?jF(Object(a),!0).forEach(function(r){H8e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jF(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function H8e(e,t,a){return(t=V8e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function V8e(e){var t=W8e(e,"string");return typeof t=="symbol"?t:t+""}function W8e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vw=Math.PI/180,q8e=e=>e*180/Math.PI,Hi=(e,t,a,r)=>({x:e+Math.cos(-Vw*r)*a,y:t+Math.sin(-Vw*r)*a}),G8e=function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(a-(r.top||0)-(r.bottom||0)))/2},K8e=(e,t)=>{var{x:a,y:r}=e,{x:n,y:i}=t;return Math.sqrt((a-n)**2+(r-i)**2)},Y8e=(e,t)=>{var{x:a,y:r}=e,{cx:n,cy:i}=t,l=K8e({x:a,y:r},{x:n,y:i});if(l<=0)return{radius:l,angle:0};var o=(a-n)/l,c=Math.acos(o);return r>i&&(c=2*Math.PI-c),{radius:l,angle:q8e(c),angleInRadian:c}},X8e=e=>{var{startAngle:t,endAngle:a}=e,r=Math.floor(t/360),n=Math.floor(a/360),i=Math.min(r,n);return{startAngle:t-i*360,endAngle:a-i*360}},Q8e=(e,t)=>{var{startAngle:a,endAngle:r}=t,n=Math.floor(a/360),i=Math.floor(r/360),l=Math.min(n,i);return e+l*360},J8e=(e,t)=>{var{x:a,y:r}=e,{radius:n,angle:i}=Y8e({x:a,y:r},t),{innerRadius:l,outerRadius:o}=t;if(n<l||n>o||n===0)return null;var{startAngle:c,endAngle:d}=X8e(t),u=i,f;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;f=u>=d&&u<=c}return f?NF(NF({},t),{},{radius:n,angle:Q8e(u,t)}):null};function HK(e,t,a){return Array.isArray(e)&&e&&t+a!==0?e.slice(t,a+1):e}function SF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function mc(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?SF(Object(a),!0).forEach(function(r){Z8e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):SF(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Z8e(e,t,a){return(t=eTe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function eTe(e){var t=tTe(e,"string");return typeof t=="symbol"?t:t+""}function tTe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Si(e,t,a){return Os(e)||Os(t)?a:su(t)?hx(e,t,a):typeof t=="function"?t(e):a}var aTe=(e,t,a,r,n)=>{var i,l=-1,o=(i=t?.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&n!=null&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var c=0;c<o;c++){var d=c>0?a[c-1].coordinate:a[o-1].coordinate,u=a[c].coordinate,f=c>=o-1?a[0].coordinate:a[c+1].coordinate,x=void 0;if(Zl(u-d)!==Zl(f-u)){var p=[];if(Zl(f-u)===Zl(n[1]-n[0])){x=f;var v=u+n[1]-n[0];p[0]=Math.min(v,(v+d)/2),p[1]=Math.max(v,(v+d)/2)}else{x=d;var g=f+n[1]-n[0];p[0]=Math.min(u,(g+u)/2),p[1]=Math.max(u,(g+u)/2)}var b=[Math.min(u,(x+u)/2),Math.max(u,(x+u)/2)];if(e>b[0]&&e<=b[1]||e>=p[0]&&e<=p[1]){({index:l}=a[c]);break}}else{var j=Math.min(d,f),N=Math.max(d,f);if(e>(j+u)/2&&e<=(N+u)/2){({index:l}=a[c]);break}}}else if(t){for(var S=0;S<o;S++)if(S===0&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S>0&&S<o-1&&e>(t[S].coordinate+t[S-1].coordinate)/2&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S===o-1&&e>(t[S].coordinate+t[S-1].coordinate)/2){({index:l}=t[S]);break}}return l},rTe=(e,t,a)=>{if(t&&a){var{width:r,height:n}=a,{align:i,verticalAlign:l,layout:o}=t;if((o==="vertical"||o==="horizontal"&&l==="middle")&&i!=="center"&&ja(e[i]))return mc(mc({},e),{},{[i]:e[i]+(r||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&l!=="middle"&&ja(e[l]))return mc(mc({},e),{},{[l]:e[l]+(n||0)})}return e},Gf=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",VK=(e,t,a,r)=>{if(r)return e.map(o=>o.coordinate);var n,i,l=e.map(o=>(o.coordinate===t&&(n=!0),o.coordinate===a&&(i=!0),o.coordinate));return n||l.push(t),i||l.push(a),l},WK=(e,t,a)=>{if(!e)return null;var{duplicateDomain:r,type:n,range:i,scale:l,realScaleType:o,isCategorical:c,categoricalDomain:d,tickCount:u,ticks:f,niceTicks:x,axisType:p}=e;if(!l)return null;var v=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,g=n==="category"&&l.bandwidth?l.bandwidth()/v:0;if(g=p==="angleAxis"&&i&&i.length>=2?Zl(i[0]-i[1])*2*g:g,f||x){var b=(f||x||[]).map((j,N)=>{var S=r?r.indexOf(j):j;return{coordinate:l(S)+g,value:j,offset:g,index:N}});return b.filter(j=>!jc(j.coordinate))}return c&&d?d.map((j,N)=>({coordinate:l(j)+g,value:j,index:N,offset:g})):l.ticks&&u!=null?l.ticks(u).map((j,N)=>({coordinate:l(j)+g,value:j,offset:g,index:N})):l.domain().map((j,N)=>({coordinate:l(j)+g,value:r?r[j]:j,index:N,offset:g}))},kF=1e-4,sTe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var a=t.length,r=e.range(),n=Math.min(r[0],r[1])-kF,i=Math.max(r[0],r[1])+kF,l=e(t[0]),o=e(t[a-1]);(l<n||l>i||o<n||o>i)&&e.domain([t[0],t[a-1]])}},nTe=(e,t)=>{if(!t||t.length!==2||!ja(t[0])||!ja(t[1]))return e;var a=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),n=[e[0],e[1]];return(!ja(e[0])||e[0]<a)&&(n[0]=a),(!ja(e[1])||e[1]>r)&&(n[1]=r),n[0]>r&&(n[0]=r),n[1]<a&&(n[1]=a),n},iTe=e=>{var t=e.length;if(!(t<=0))for(var a=0,r=e[0].length;a<r;++a)for(var n=0,i=0,l=0;l<t;++l){var o=jc(e[l][a][1])?e[l][a][0]:e[l][a][1];o>=0?(e[l][a][0]=n,e[l][a][1]=n+o,n=e[l][a][1]):(e[l][a][0]=i,e[l][a][1]=i+o,i=e[l][a][1])}},lTe=e=>{var t=e.length;if(!(t<=0))for(var a=0,r=e[0].length;a<r;++a)for(var n=0,i=0;i<t;++i){var l=jc(e[i][a][1])?e[i][a][0]:e[i][a][1];l>=0?(e[i][a][0]=n,e[i][a][1]=n+l,n=e[i][a][1]):(e[i][a][0]=0,e[i][a][1]=0)}},oTe={sign:iTe,expand:LAe,none:ux,silhouette:OAe,wiggle:RAe,positive:lTe},cTe=(e,t,a)=>{var r=oTe[a],n=PAe().keys(t).value((i,l)=>+Si(i,l,0)).order(XC).offset(r);return n(e)};function dTe(e){return e==null?void 0:String(e)}function CF(e){var{axis:t,ticks:a,bandSize:r,entry:n,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Os(n[t.dataKey])){var o=tK(a,"value",n[t.dataKey]);if(o)return o.coordinate+r/2}return a[i]?a[i].coordinate+r/2:null}var c=Si(n,Os(l)?t.dataKey:l);return Os(c)?null:t.scale(c)}var AF=e=>{var{axis:t,ticks:a,offset:r,bandSize:n,entry:i,index:l}=e;if(t.type==="category")return a[l]?a[l].coordinate+r:null;var o=Si(i,t.dataKey,t.scale.domain()[l]);return Os(o)?null:t.scale(o)-n/2+r},uTe=e=>{var{numericAxis:t}=e,a=t.scale.domain();if(t.type==="number"){var r=Math.min(a[0],a[1]),n=Math.max(a[0],a[1]);return r<=0&&n>=0?0:n<0?n:r}return a[0]},hTe=e=>{var t=e.flat(2).filter(ja);return[Math.min(...t),Math.max(...t)]},fTe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],mTe=(e,t,a)=>{if(e!=null)return fTe(Object.keys(e).reduce((r,n)=>{var i=e[n],{stackedData:l}=i,o=l.reduce((c,d)=>{var u=HK(d,t,a),f=hTe(u);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},_F=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wv=(e,t,a)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!a||r>0)return r}if(e&&t&&t.length>=2){for(var n=dN(t,u=>u.coordinate),i=1/0,l=1,o=n.length;l<o;l++){var c=n[l],d=n[l-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return a?void 0:0};function EF(e){var{tooltipEntrySettings:t,dataKey:a,payload:r,value:n,name:i}=e;return mc(mc({},t),{},{dataKey:a,payload:r,value:n,name:i})}function xN(e,t){if(e)return String(e);if(typeof t=="string")return t}function pTe(e,t,a,r,n){if(a==="horizontal"||a==="vertical"){var i=e>=n.left&&e<=n.left+n.width&&t>=n.top&&t<=n.top+n.height;return i?{x:e,y:t}:null}return r?J8e({x:e,y:t},r):null}var xTe=(e,t,a,r)=>{var n=t.find(d=>d&&d.index===a);if(n){if(e==="horizontal")return{x:n.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:n.coordinate};if(e==="centric"){var i=n.coordinate,{radius:l}=r;return mc(mc(mc({},r),Hi(r.cx,r.cy,l,i)),{},{angle:i,radius:l})}var o=n.coordinate,{angle:c}=r;return mc(mc(mc({},r),Hi(r.cx,r.cy,o,c)),{},{angle:c,radius:o})}return{x:0,y:0}},gTe=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Nh=e=>e.layout.width,Sh=e=>e.layout.height,vTe=e=>e.layout.scale,qK=e=>e.layout.margin,gN=pt(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),vN=pt(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),bTe="data-recharts-item-index",yTe="data-recharts-item-data-key",sb=60;function DF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function x2(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?DF(Object(a),!0).forEach(function(r){wTe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):DF(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function wTe(e,t,a){return(t=jTe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function jTe(e){var t=NTe(e,"string");return typeof t=="symbol"?t:t+""}function NTe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var STe=e=>e.brush.height;function kTe(e){var t=vN(e);return t.reduce((a,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var n=typeof r.width=="number"?r.width:sb;return a+n}return a},0)}function CTe(e){var t=vN(e);return t.reduce((a,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var n=typeof r.width=="number"?r.width:sb;return a+n}return a},0)}function ATe(e){var t=gN(e);return t.reduce((a,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?a+r.height:a,0)}function _Te(e){var t=gN(e);return t.reduce((a,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?a+r.height:a,0)}var ki=pt([Nh,Sh,qK,STe,kTe,CTe,ATe,_Te,xK,V_e],(e,t,a,r,n,i,l,o,c,d)=>{var u={left:(a.left||0)+n,right:(a.right||0)+i},f={top:(a.top||0)+l,bottom:(a.bottom||0)+o},x=x2(x2({},f),u),p=x.bottom;x.bottom+=r,x=rTe(x,c,d);var v=e-x.left-x.right,g=t-x.top-x.bottom;return x2(x2({brushBottom:p},x),{},{width:Math.max(v,0),height:Math.max(g,0)})}),TTe=pt(ki,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),d8=pt(Nh,Sh,(e,t)=>({x:0,y:0,width:e,height:t})),ETe=w.createContext(null),Ol=()=>w.useContext(ETe)!=null,bN=e=>e.brush,yN=pt([bN,ki,qK],(e,t,a)=>({height:e.height,x:ja(e.x)?e.x:t.left,y:ja(e.y)?e.y:t.top+t.height+t.brushBottom-(a?.bottom||0),width:ja(e.width)?e.width:t.width})),MS={},PS={},LS={},MF;function DTe(){return MF||(MF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r,{signal:n,edges:i}={}){let l,o=null;const c=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),u=()=>{o!==null&&(a.apply(l,o),l=void 0,o=null)},f=()=>{d&&u(),g()};let x=null;const p=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,f()},r)},v=()=>{x!==null&&(clearTimeout(x),x=null)},g=()=>{v(),l=void 0,o=null},b=()=>{u()},j=function(...N){if(n?.aborted)return;l=this,o=N;const S=x==null;p(),c&&S&&u()};return j.schedule=p,j.cancel=g,j.flush=b,n?.addEventListener("abort",g,{once:!0}),j}e.debounce=t})(LS)),LS}var PF;function MTe(){return PF||(PF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DTe();function a(r,n=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:o=!0,maxWait:c}=i,d=Array(2);l&&(d[0]="leading"),o&&(d[1]="trailing");let u,f=null;const x=t.debounce(function(...g){u=r.apply(this,g),f=null},n,{edges:d}),p=function(...g){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(u=r.apply(this,g),f=Date.now(),x.cancel(),x.schedule(),u):(x.apply(this,g),u)},v=()=>(x.flush(),u);return p.cancel=x.cancel,p.flush=v,p}e.debounce=a})(PS)),PS}var LF;function PTe(){return LF||(LF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MTe();function a(r,n=0,i={}){const{leading:l=!0,trailing:o=!0}=i;return t.debounce(r,n,{leading:l,maxWait:n,trailing:o})}e.throttle=a})(MS)),MS}var OS,OF;function LTe(){return OF||(OF=1,OS=PTe().throttle),OS}var OTe=LTe();const RTe=vh(OTe);var Ww=function(t,a){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]},GK=(e,t,a)=>{var{width:r="100%",height:n="100%",aspect:i,maxHeight:l}=a,o=fh(r)?e:Number(r),c=fh(n)?t:Number(n);return i&&i>0&&(o?c=o/i:c&&(o=c*i),l&&c>l&&(c=l)),{calculatedWidth:o,calculatedHeight:c}},FTe={width:0,height:0,overflow:"visible"},ITe={width:0,overflowX:"visible"},BTe={height:0,overflowY:"visible"},$Te={},UTe=e=>{var{width:t,height:a}=e,r=fh(t),n=fh(a);return r&&n?FTe:r?ITe:n?BTe:$Te};function zTe(e){var{width:t,height:a,aspect:r}=e,n=t,i=a;return n===void 0&&i===void 0?(n="100%",i="100%"):n===void 0?n=r&&r>0?void 0:"100%":i===void 0&&(i=r&&r>0?void 0:"100%"),{width:n,height:i}}function ml(e){return Number.isFinite(e)}function fx(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function i6(){return i6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i6.apply(null,arguments)}function RF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function FF(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?RF(Object(a),!0).forEach(function(r){HTe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):RF(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function HTe(e,t,a){return(t=VTe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function VTe(e){var t=WTe(e,"string");return typeof t=="symbol"?t:t+""}function WTe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KK=w.createContext({width:-1,height:-1});function YK(e){var{children:t,width:a,height:r}=e,n=w.useMemo(()=>({width:a,height:r}),[a,r]);return a<=0||r<=0?null:w.createElement(KK.Provider,{value:n},t)}var u8=()=>w.useContext(KK),qTe=w.forwardRef((e,t)=>{var{aspect:a,initialDimension:r={width:-1,height:-1},width:n,height:i,minWidth:l=0,minHeight:o,maxHeight:c,children:d,debounce:u=0,id:f,className:x,onResize:p,style:v={}}=e,g=w.useRef(null),b=w.useRef();b.current=p,w.useImperativeHandle(t,()=>g.current);var[j,N]=w.useState({containerWidth:r.width,containerHeight:r.height}),S=w.useCallback((L,U)=>{N(z=>{var O=Math.round(L),B=Math.round(U);return z.containerWidth===O&&z.containerHeight===B?z:{containerWidth:O,containerHeight:B}})},[]);w.useEffect(()=>{var L=B=>{var E,{width:R,height:q}=B[0].contentRect;S(R,q),(E=b.current)===null||E===void 0||E.call(b,R,q)};u>0&&(L=RTe(L,u,{trailing:!0,leading:!1}));var U=new ResizeObserver(L),{width:z,height:O}=g.current.getBoundingClientRect();return S(z,O),U.observe(g.current),()=>{U.disconnect()}},[S,u]);var{containerWidth:k,containerHeight:A}=j;Ww(!a||a>0,"The aspect(%s) must be greater than zero.",a);var{calculatedWidth:_,calculatedHeight:M}=GK(k,A,{width:n,height:i,aspect:a,maxHeight:c});return Ww(_>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,M,n,i,l,o,a),w.createElement("div",{id:f?"".concat(f):void 0,className:Jr("recharts-responsive-container",x),style:FF(FF({},v),{},{width:n,height:i,minWidth:l,minHeight:o,maxHeight:c}),ref:g},w.createElement("div",{style:UTe({width:n,height:i})},w.createElement(YK,{width:_,height:M},d)))}),qw=w.forwardRef((e,t)=>{var a=u8();if(fx(a.width)&&fx(a.height))return e.children;var{width:r,height:n}=zTe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:l}=GK(void 0,void 0,{width:r,height:n,aspect:e.aspect,maxHeight:e.maxHeight});return ja(i)&&ja(l)?w.createElement(YK,{width:i,height:l},e.children):w.createElement(qTe,i6({},e,{width:r,height:n,ref:t}))}),wN=()=>{var e,t=Ol(),a=wa(TTe),r=wa(yN),n=(e=wa(bN))===null||e===void 0?void 0:e.padding;return!t||!r||!n?a:{width:r.width-n.left-n.right,height:r.height-n.top-n.bottom,x:n.left,y:n.top}},GTe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},XK=()=>{var e;return(e=wa(ki))!==null&&e!==void 0?e:GTe},QK=()=>wa(Nh),JK=()=>wa(Sh),Or=e=>e.layout.layoutType,jN=()=>wa(Or),NN=e=>{var t=ri(),a=Ol(),{width:r,height:n}=e,i=u8(),l=r,o=n;return i&&(l=i.width>0?i.width:r,o=i.height>0?i.height:n),w.useEffect(()=>{!a&&fx(l)&&fx(o)&&t($8e({width:l,height:o}))},[t,a,l,o]),null},KTe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},ZK=Fo({name:"legend",initialState:KTe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Tl()},removeLegendPayload:{reducer(e,t){var a=ih(e).payload.indexOf(t.payload);a>-1&&e.payload.splice(a,1)},prepare:Tl()}}}),{setLegendSize:Aze,setLegendSettings:_ze,addLegendPayload:YTe,removeLegendPayload:XTe}=ZK.actions,QTe=ZK.reducer;function l6(){return l6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l6.apply(null,arguments)}function IF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function RS(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?IF(Object(a),!0).forEach(function(r){JTe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):IF(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function JTe(e,t,a){return(t=ZTe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ZTe(e){var t=eEe(e,"string");return typeof t=="symbol"?t:t+""}function eEe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tEe(e){return Array.isArray(e)&&su(e[0])&&su(e[1])?e.join(" ~ "):e}var aEe=e=>{var{separator:t=" : ",contentStyle:a={},itemStyle:r={},labelStyle:n={},payload:i,formatter:l,itemSorter:o,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:f,accessibilityLayer:x=!1}=e,p=()=>{if(i&&i.length){var A={padding:0,margin:0},_=(o?dN(i,o):i).map((M,L)=>{if(M.type==="none")return null;var U=M.formatter||l||tEe,{value:z,name:O}=M,B=z,E=O;if(U){var R=U(z,O,M,L,i);if(Array.isArray(R))[B,E]=R;else if(R!=null)B=R;else return null}var q=RS({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:q},su(E)?w.createElement("span",{className:"recharts-tooltip-item-name"},E):null,su(E)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},B),w.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:A},_)}return null},v=RS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),g=RS({margin:0},n),b=!Os(u),j=b?u:"",N=Jr("recharts-default-tooltip",c),S=Jr("recharts-tooltip-label",d);b&&f&&i!==void 0&&i!==null&&(j=f(u,i));var k=x?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",l6({className:N,style:v},k),w.createElement("p",{className:S,style:g},w.isValidElement(j)?j:"".concat(j)),p())},Wg="recharts-tooltip-wrapper",rEe={visibility:"hidden"};function sEe(e){var{coordinate:t,translateX:a,translateY:r}=e;return Jr(Wg,{["".concat(Wg,"-right")]:ja(a)&&t&&ja(t.x)&&a>=t.x,["".concat(Wg,"-left")]:ja(a)&&t&&ja(t.x)&&a<t.x,["".concat(Wg,"-bottom")]:ja(r)&&t&&ja(t.y)&&r>=t.y,["".concat(Wg,"-top")]:ja(r)&&t&&ja(t.y)&&r<t.y})}function BF(e){var{allowEscapeViewBox:t,coordinate:a,key:r,offsetTopLeft:n,position:i,reverseDirection:l,tooltipDimension:o,viewBox:c,viewBoxDimension:d}=e;if(i&&ja(i[r]))return i[r];var u=a[r]-o-(n>0?n:0),f=a[r]+n;if(t[r])return l[r]?u:f;var x=c[r];if(x==null)return 0;if(l[r]){var p=u,v=x;return p<v?Math.max(f,x):Math.max(u,x)}if(d==null)return 0;var g=f+o,b=x+d;return g>b?Math.max(u,x):Math.max(f,x)}function nEe(e){var{translateX:t,translateY:a,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(a,"px, 0)"):"translate(".concat(t,"px, ").concat(a,"px)")}}function iEe(e){var{allowEscapeViewBox:t,coordinate:a,offsetTopLeft:r,position:n,reverseDirection:i,tooltipBox:l,useTranslate3d:o,viewBox:c}=e,d,u,f;return l.height>0&&l.width>0&&a?(u=BF({allowEscapeViewBox:t,coordinate:a,key:"x",offsetTopLeft:r,position:n,reverseDirection:i,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),f=BF({allowEscapeViewBox:t,coordinate:a,key:"y",offsetTopLeft:r,position:n,reverseDirection:i,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),d=nEe({translateX:u,translateY:f,useTranslate3d:o})):d=rEe,{cssProperties:d,cssClasses:sEe({translateX:u,translateY:f,coordinate:a})}}function $F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function g2(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?$F(Object(a),!0).forEach(function(r){o6(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$F(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function o6(e,t,a){return(t=lEe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function lEe(e){var t=oEe(e,"string");return typeof t=="symbol"?t:t+""}function oEe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class cEe extends w.PureComponent{constructor(){super(...arguments),o6(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),o6(this,"handleKeyDown",t=>{if(t.key==="Escape"){var a,r,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&a!==void 0?a:0,y:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&n!==void 0?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,a;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:a,animationDuration:r,animationEasing:n,children:i,coordinate:l,hasPayload:o,isAnimationActive:c,offset:d,position:u,reverseDirection:f,useTranslate3d:x,viewBox:p,wrapperStyle:v,lastBoundingBox:g,innerRef:b,hasPortalFromProps:j}=this.props,{cssClasses:N,cssProperties:S}=iEe({allowEscapeViewBox:a,coordinate:l,offsetTopLeft:d,position:u,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:x,viewBox:p}),k=j?{}:g2(g2({transition:c&&t?"transform ".concat(r,"ms ").concat(n):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),A=g2(g2({},k),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},v);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:A,ref:b},i)}}var dEe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Bm={devToolsEnabled:!1,isSsr:dEe()},eY=()=>wa(e=>e.rootProps.accessibilityLayer);function c6(){return c6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},c6.apply(null,arguments)}function UF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function zF(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?UF(Object(a),!0).forEach(function(r){uEe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):UF(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function uEe(e,t,a){return(t=hEe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function hEe(e){var t=fEe(e,"string");return typeof t=="symbol"?t:t+""}function fEe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HF={curveBasisClosed:jAe,curveBasisOpen:NAe,curveBasis:wAe,curveBumpX:lAe,curveBumpY:oAe,curveLinearClosed:SAe,curveLinear:oN,curveMonotoneX:kAe,curveMonotoneY:CAe,curveNatural:AAe,curveStep:_Ae,curveStepAfter:EAe,curveStepBefore:TAe},v2=e=>ml(e.x)&&ml(e.y),qg=e=>e.x,Gg=e=>e.y,mEe=(e,t)=>{if(typeof e=="function")return e;var a="curve".concat(tb(e));return(a==="curveMonotone"||a==="curveBump")&&t?HF["".concat(a).concat(t==="vertical"?"Y":"X")]:HF[a]||oN},pEe=e=>{var{type:t="linear",points:a=[],baseLine:r,layout:n,connectNulls:i=!1}=e,l=mEe(t,n),o=i?a.filter(v2):a,c;if(Array.isArray(r)){var d=i?r.filter(f=>v2(f)):r,u=o.map((f,x)=>zF(zF({},f),{},{base:d[x]}));return n==="vertical"?c=d2().y(Gg).x1(qg).x0(f=>f.base.x):c=d2().x(qg).y1(Gg).y0(f=>f.base.y),c.defined(v2).curve(l),c(u)}return n==="vertical"&&ja(r)?c=d2().y(Gg).x1(qg).x0(r):ja(r)?c=d2().x(qg).y1(Gg).y0(r):c=zG().x(qg).y(Gg),c.defined(v2).curve(l),c(o)},tY=e=>{var{className:t,points:a,path:r,pathRef:n}=e;if((!a||!a.length)&&!r)return null;var i=a&&a.length?pEe(e):r;return w.createElement("path",c6({},hd(e),t8(e),{className:Jr("recharts-curve",t),d:i===null?void 0:i,ref:n}))},xEe=["x","y","top","left","width","height","className"];function d6(){return d6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},d6.apply(null,arguments)}function VF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function gEe(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?VF(Object(a),!0).forEach(function(r){vEe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):VF(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function vEe(e,t,a){return(t=bEe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function bEe(e){var t=yEe(e,"string");return typeof t=="symbol"?t:t+""}function yEe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wEe(e,t){if(e==null)return{};var a,r,n=jEe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function jEe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var NEe=(e,t,a,r,n,i)=>"M".concat(e,",").concat(n,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(a),SEe=e=>{var{x:t=0,y:a=0,top:r=0,left:n=0,width:i=0,height:l=0,className:o}=e,c=wEe(e,xEe),d=gEe({x:t,y:a,top:r,left:n,width:i,height:l},c);return!ja(t)||!ja(a)||!ja(i)||!ja(l)||!ja(r)||!ja(n)?null:w.createElement("path",d6({},Ll(d),{className:Jr("recharts-cross",o),d:NEe(t,a,i,l,r,n)}))};function kEe(e,t,a,r){var n=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-n:a.left+.5,y:e==="horizontal"?a.top+.5:t.y-n,width:e==="horizontal"?r:a.width-1,height:e==="horizontal"?a.height-1:r}}function WF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function CEe(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?WF(Object(a),!0).forEach(function(r){AEe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):WF(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function AEe(e,t,a){return(t=_Ee(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _Ee(e){var t=TEe(e,"string");return typeof t=="symbol"?t:t+""}function TEe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lo(e,t){var a=CEe({},e),r=t,n=Object.keys(t),i=n.reduce((l,o)=>(l[o]===void 0&&r[o]!==void 0&&(l[o]=r[o]),l),a);return i}function EEe(){}function DEe(e){return e!=null}function qF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function GF(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?qF(Object(a),!0).forEach(function(r){MEe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qF(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function MEe(e,t,a){return(t=PEe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function PEe(e){var t=LEe(e,"string");return typeof t=="symbol"?t:t+""}function LEe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OEe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),aY=(e,t,a)=>e.map(r=>"".concat(OEe(r)," ").concat(t,"ms ").concat(a)).join(","),REe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((a,r)=>a.filter(n=>r.includes(n))),jv=(e,t)=>Object.keys(t).reduce((a,r)=>GF(GF({},a),{},{[r]:e(r,t[r])}),{});function KF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function $i(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?KF(Object(a),!0).forEach(function(r){FEe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):KF(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function FEe(e,t,a){return(t=IEe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function IEe(e){var t=BEe(e,"string");return typeof t=="symbol"?t:t+""}function BEe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gw=(e,t,a)=>e+(t-e)*a,u6=e=>{var{from:t,to:a}=e;return t!==a},rY=(e,t,a)=>{var r=jv((n,i)=>{if(u6(i)){var[l,o]=e(i.from,i.to,i.velocity);return $i($i({},i),{},{from:l,velocity:o})}return i},t);return a<1?jv((n,i)=>u6(i)?$i($i({},i),{},{velocity:Gw(i.velocity,r[n].velocity,a),from:Gw(i.from,r[n].from,a)}):i,t):rY(e,r,a-1)};function $Ee(e,t,a,r,n,i){var l,o=r.reduce((x,p)=>$i($i({},x),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>jv((x,p)=>p.from,o),d=()=>!Object.values(o).filter(u6).length,u=null,f=x=>{l||(l=x);var p=x-l,v=p/a.dt;o=rY(a,o,v),n($i($i($i({},e),t),c())),l=x,d()||(u=i.setTimeout(f))};return()=>(u=i.setTimeout(f),()=>{u()})}function UEe(e,t,a,r,n,i,l){var o=null,c=n.reduce((f,x)=>$i($i({},f),{},{[x]:[e[x],t[x]]}),{}),d,u=f=>{d||(d=f);var x=(f-d)/r,p=jv((g,b)=>Gw(...b,a(x)),c);if(i($i($i($i({},e),t),p)),x<1)o=l.setTimeout(u);else{var v=jv((g,b)=>Gw(...b,a(1)),c);i($i($i($i({},e),t),v))}};return()=>(o=l.setTimeout(u),()=>{o()})}const zEe=(e,t,a,r,n,i)=>{var l=REe(e,t);return a.isStepper===!0?$Ee(e,t,a,l,n,i):UEe(e,t,a,r,l,n,i)};var Kw=1e-4,sY=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],nY=(e,t)=>e.map((a,r)=>a*t**r).reduce((a,r)=>a+r),YF=(e,t)=>a=>{var r=sY(e,t);return nY(r,a)},HEe=(e,t)=>a=>{var r=sY(e,t),n=[...r.map((i,l)=>i*l).slice(1),0];return nY(n,a)},XF=function(){for(var t,a,r,n,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];if(l.length===1)switch(l[0]){case"linear":[t,r,a,n]=[0,0,1,1];break;case"ease":[t,r,a,n]=[.25,.1,.25,1];break;case"ease-in":[t,r,a,n]=[.42,0,1,1];break;case"ease-out":[t,r,a,n]=[.42,0,.58,1];break;case"ease-in-out":[t,r,a,n]=[0,0,.58,1];break;default:{var c=l[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,r,a,n]=c[1].split(")")[0].split(",").map(v=>parseFloat(v)))}}else l.length===4&&([t,r,a,n]=l);var d=YF(t,a),u=YF(r,n),f=HEe(t,a),x=v=>v>1?1:v<0?0:v,p=v=>{for(var g=v>1?1:v,b=g,j=0;j<8;++j){var N=d(b)-g,S=f(b);if(Math.abs(N-g)<Kw||S<Kw)return u(b);b=x(b-N/S)}return u(b)};return p.isStepper=!1,p},VEe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:a=100,damping:r=8,dt:n=17}=t,i=(l,o,c)=>{var d=-(l-o)*a,u=c*r,f=c+(d-u)*n/1e3,x=c*n/1e3+l;return Math.abs(x-o)<Kw&&Math.abs(f)<Kw?[o,0]:[x,f]};return i.isStepper=!0,i.dt=n,i},WEe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return XF(e);case"spring":return VEe();default:if(e.split("(")[0]==="cubic-bezier")return XF(e)}return typeof e=="function"?e:null};function qEe(e){var t,a=()=>null,r=!1,n=null,i=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var o=l,[c,...d]=o;if(typeof c=="number"){n=e.setTimeout(i.bind(null,d),c);return}i(c),n=e.setTimeout(i.bind(null,d));return}typeof l=="string"&&(t=l,a(t)),typeof l=="object"&&(t=l,a(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,n&&(n(),n=null),i(l)},subscribe:l=>(a=l,()=>{a=()=>null}),getTimeoutController:()=>e}}class GEe{setTimeout(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),n=null,i=l=>{l-r>=a?t(l):typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{cancelAnimationFrame(n)}}}function KEe(){return qEe(new GEe)}var YEe=w.createContext(KEe);function XEe(e,t){var a=w.useContext(YEe);return w.useMemo(()=>t??a(e),[e,t,a])}var QEe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},QF={t:0},FS={t:1};function SN(e){var t=lo(e,QEe),{isActive:a,canBegin:r,duration:n,easing:i,begin:l,onAnimationEnd:o,onAnimationStart:c,children:d}=t,u=XEe(t.animationId,t.animationManager),[f,x]=w.useState(a?QF:FS),p=w.useRef(null);return w.useEffect(()=>{a||x(FS)},[a]),w.useEffect(()=>{if(!a||!r)return EEe;var v=zEe(QF,FS,WEe(i),n,x,u.getTimeoutController()),g=()=>{p.current=v()};return u.start([c,l,g,n,o]),()=>{u.stop(),p.current&&p.current(),o()}},[a,r,n,i,l,c,o,u]),d(f.t)}function kN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",a=w.useRef(gv(t)),r=w.useRef(e);return r.current!==e&&(a.current=gv(t),r.current=e),a.current}var JEe=["radius"],ZEe=["radius"];function JF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function ZF(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?JF(Object(a),!0).forEach(function(r){e7e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):JF(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function e7e(e,t,a){return(t=t7e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function t7e(e){var t=a7e(e,"string");return typeof t=="symbol"?t:t+""}function a7e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Yw.apply(null,arguments)}function eI(e,t){if(e==null)return{};var a,r,n=r7e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function r7e(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var tI=(e,t,a,r,n)=>{var i=Math.min(Math.abs(a)/2,Math.abs(r)/2),l=r>=0?1:-1,o=a>=0?1:-1,c=r>=0&&a>=0||r<0&&a<0?1:0,d;if(i>0&&n instanceof Array){for(var u=[0,0,0,0],f=0,x=4;f<x;f++)u[f]=n[f]>i?i:n[f];d="M".concat(e,",").concat(t+l*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+o*u[0],",").concat(t)),d+="L ".concat(e+a-o*u[1],",").concat(t),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+a,",").concat(t+l*u[1])),d+="L ".concat(e+a,",").concat(t+r-l*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+a-o*u[2],",").concat(t+r)),d+="L ".concat(e+o*u[3],",").concat(t+r),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+r-l*u[3])),d+="Z"}else if(i>0&&n===+n&&n>0){var p=Math.min(i,n);d="M ".concat(e,",").concat(t+l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+o*p,",").concat(t,`
            L `).concat(e+a-o*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+a,",").concat(t+l*p,`
            L `).concat(e+a,",").concat(t+r-l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+a-o*p,",").concat(t+r,`
            L `).concat(e+o*p,",").concat(t+r,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+r-l*p," Z")}else d="M ".concat(e,",").concat(t," h ").concat(a," v ").concat(r," h ").concat(-a," Z");return d},s7e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iY=e=>{var t=lo(e,s7e),a=w.useRef(null),[r,n]=w.useState(-1);w.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var G=a.current.getTotalLength();G&&n(G)}catch{}},[]);var{x:i,y:l,width:o,height:c,radius:d,className:u}=t,{animationEasing:f,animationDuration:x,animationBegin:p,isAnimationActive:v,isUpdateAnimationActive:g}=t,b=w.useRef(o),j=w.useRef(c),N=w.useRef(i),S=w.useRef(l),k=w.useMemo(()=>({x:i,y:l,width:o,height:c,radius:d}),[i,l,o,c,d]),A=kN(k,"rectangle-");if(i!==+i||l!==+l||o!==+o||c!==+c||o===0||c===0)return null;var _=Jr("recharts-rectangle",u);if(!g){var M=Ll(t),{radius:L}=M,U=eI(M,JEe);return w.createElement("path",Yw({},U,{radius:typeof d=="number"?d:void 0,className:_,d:tI(i,l,o,c,d)}))}var z=b.current,O=j.current,B=N.current,E=S.current,R="0px ".concat(r===-1?1:r,"px"),q="".concat(r,"px 0px"),I=aY(["strokeDasharray"],x,typeof f=="string"?f:void 0);return w.createElement(SN,{animationId:A,key:A,canBegin:r>0,duration:x,easing:f,isActive:g,begin:p},G=>{var re=Fn(z,o,G),te=Fn(O,c,G),X=Fn(B,i,G),ce=Fn(E,l,G);a.current&&(b.current=re,j.current=te,N.current=X,S.current=ce);var D;v?G>0?D={transition:I,strokeDasharray:q}:D={strokeDasharray:R}:D={strokeDasharray:q};var Q=Ll(t),{radius:H}=Q,J=eI(Q,ZEe);return w.createElement("path",Yw({},J,{radius:typeof d=="number"?d:void 0,className:_,d:tI(X,ce,re,te,d),ref:a,style:ZF(ZF({},D),t.style)}))})};function lY(e){var{cx:t,cy:a,radius:r,startAngle:n,endAngle:i}=e,l=Hi(t,a,r,n),o=Hi(t,a,r,i);return{points:[l,o],cx:t,cy:a,radius:r,startAngle:n,endAngle:i}}function h6(){return h6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},h6.apply(null,arguments)}var n7e=(e,t)=>{var a=Zl(t-e),r=Math.min(Math.abs(t-e),359.999);return a*r},b2=e=>{var{cx:t,cy:a,radius:r,angle:n,sign:i,isExternal:l,cornerRadius:o,cornerIsExternal:c}=e,d=o*(l?1:-1)+r,u=Math.asin(o/d)/Vw,f=c?n:n+i*u,x=Hi(t,a,d,f),p=Hi(t,a,r,f),v=c?n-i*u:n,g=Hi(t,a,d*Math.cos(u*Vw),v);return{center:x,circleTangency:p,lineTangency:g,theta:u}},oY=e=>{var{cx:t,cy:a,innerRadius:r,outerRadius:n,startAngle:i,endAngle:l}=e,o=n7e(i,l),c=i+o,d=Hi(t,a,n,i),u=Hi(t,a,n,c),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(n,",").concat(n,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(r>0){var x=Hi(t,a,r,i),p=Hi(t,a,r,c);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=c),`,
            `).concat(x.x,",").concat(x.y," Z")}else f+="L ".concat(t,",").concat(a," Z");return f},i7e=e=>{var{cx:t,cy:a,innerRadius:r,outerRadius:n,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:o,startAngle:c,endAngle:d}=e,u=Zl(d-c),{circleTangency:f,lineTangency:x,theta:p}=b2({cx:t,cy:a,radius:n,angle:c,sign:u,cornerRadius:i,cornerIsExternal:o}),{circleTangency:v,lineTangency:g,theta:b}=b2({cx:t,cy:a,radius:n,angle:d,sign:-u,cornerRadius:i,cornerIsExternal:o}),j=o?Math.abs(c-d):Math.abs(c-d)-p-b;if(j<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):oY({cx:t,cy:a,innerRadius:r,outerRadius:n,startAngle:c,endAngle:d});var N="M ".concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(n,",").concat(n,",0,").concat(+(j>180),",").concat(+(u<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(r>0){var{circleTangency:S,lineTangency:k,theta:A}=b2({cx:t,cy:a,radius:r,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:_,lineTangency:M,theta:L}=b2({cx:t,cy:a,radius:r,angle:d,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),U=o?Math.abs(c-d):Math.abs(c-d)-A-L;if(U<0&&i===0)return"".concat(N,"L").concat(t,",").concat(a,"Z");N+="L".concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(U>180),",").concat(+(u>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,"Z")}else N+="L".concat(t,",").concat(a,"Z");return N},l7e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},cY=e=>{var t=lo(e,l7e),{cx:a,cy:r,innerRadius:n,outerRadius:i,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:u,className:f}=t;if(i<n||d===u)return null;var x=Jr("recharts-sector",f),p=i-n,v=md(l,p,0,!0),g;return v>0&&Math.abs(d-u)<360?g=i7e({cx:a,cy:r,innerRadius:n,outerRadius:i,cornerRadius:Math.min(v,p/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:u}):g=oY({cx:a,cy:r,innerRadius:n,outerRadius:i,startAngle:d,endAngle:u}),w.createElement("path",h6({},Ll(t),{className:x,d:g}))};function o7e(e,t,a){var r,n,i,l;if(e==="horizontal")r=t.x,i=r,n=a.top,l=a.top+a.height;else if(e==="vertical")n=t.y,l=n,r=a.left,i=a.left+a.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:c,innerRadius:d,outerRadius:u,angle:f}=t,x=Hi(o,c,d,f),p=Hi(o,c,u,f);r=x.x,n=x.y,i=p.x,l=p.y}else return lY(t);return[{x:r,y:n},{x:i,y:l}]}var IS={},BS={},$S={},aI;function c7e(){return aI||(aI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mK();function a(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=a})($S)),$S}var rI;function d7e(){return rI||(rI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c7e();function a(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=a})(BS)),BS}var sI;function u7e(){return sI||(sI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pK(),a=d7e();function r(n,i,l){l&&typeof l!="number"&&t.isIterateeCall(n,i,l)&&(i=l=void 0),n=a.toFinite(n),i===void 0?(i=n,n=0):i=a.toFinite(i),l=l===void 0?n<i?1:-1:a.toFinite(l);const o=Math.max(Math.ceil((i-n)/(l||1)),0),c=new Array(o);for(let d=0;d<o;d++)c[d]=n,n+=l;return c}e.range=r})(IS)),IS}var US,nI;function h7e(){return nI||(nI=1,US=u7e().range),US}var f7e=h7e();const dY=vh(f7e);function _f(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function m7e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function h8(e){let t,a,r;e.length!==2?(t=_f,a=(o,c)=>_f(e(o),c),r=(o,c)=>e(o)-c):(t=e===_f||e===m7e?e:p7e,a=e,r=e);function n(o,c,d=0,u=o.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;a(o[f],c)<0?d=f+1:u=f}while(d<u)}return d}function i(o,c,d=0,u=o.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;a(o[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function l(o,c,d=0,u=o.length){const f=n(o,c,d,u-1);return f>d&&r(o[f-1],c)>-r(o[f],c)?f-1:f}return{left:n,center:l,right:i}}function p7e(){return 0}function uY(e){return e===null?NaN:+e}function*x7e(e,t){for(let a of e)a!=null&&(a=+a)>=a&&(yield a)}const g7e=h8(_f),nb=g7e.right;h8(uY).center;class iI extends Map{constructor(t,a=y7e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),t!=null)for(const[r,n]of t)this.set(r,n)}get(t){return super.get(lI(this,t))}has(t){return super.has(lI(this,t))}set(t,a){return super.set(v7e(this,t),a)}delete(t){return super.delete(b7e(this,t))}}function lI({_intern:e,_key:t},a){const r=t(a);return e.has(r)?e.get(r):a}function v7e({_intern:e,_key:t},a){const r=t(a);return e.has(r)?e.get(r):(e.set(r,a),a)}function b7e({_intern:e,_key:t},a){const r=t(a);return e.has(r)&&(a=e.get(r),e.delete(r)),a}function y7e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function w7e(e=_f){if(e===_f)return hY;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,a)=>{const r=e(t,a);return r||r===0?r:(e(a,a)===0)-(e(t,t)===0)}}function hY(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const j7e=Math.sqrt(50),N7e=Math.sqrt(10),S7e=Math.sqrt(2);function Xw(e,t,a){const r=(t-e)/Math.max(0,a),n=Math.floor(Math.log10(r)),i=r/Math.pow(10,n),l=i>=j7e?10:i>=N7e?5:i>=S7e?2:1;let o,c,d;return n<0?(d=Math.pow(10,-n)/l,o=Math.round(e*d),c=Math.round(t*d),o/d<e&&++o,c/d>t&&--c,d=-d):(d=Math.pow(10,n)*l,o=Math.round(e/d),c=Math.round(t/d),o*d<e&&++o,c*d>t&&--c),c<o&&.5<=a&&a<2?Xw(e,t,a*2):[o,c,d]}function f6(e,t,a){if(t=+t,e=+e,a=+a,!(a>0))return[];if(e===t)return[e];const r=t<e,[n,i,l]=r?Xw(t,e,a):Xw(e,t,a);if(!(i>=n))return[];const o=i-n+1,c=new Array(o);if(r)if(l<0)for(let d=0;d<o;++d)c[d]=(i-d)/-l;else for(let d=0;d<o;++d)c[d]=(i-d)*l;else if(l<0)for(let d=0;d<o;++d)c[d]=(n+d)/-l;else for(let d=0;d<o;++d)c[d]=(n+d)*l;return c}function m6(e,t,a){return t=+t,e=+e,a=+a,Xw(e,t,a)[2]}function p6(e,t,a){t=+t,e=+e,a=+a;const r=t<e,n=r?m6(t,e,a):m6(e,t,a);return(r?-1:1)*(n<0?1/-n:n)}function oI(e,t){let a;for(const r of e)r!=null&&(a<r||a===void 0&&r>=r)&&(a=r);return a}function cI(e,t){let a;for(const r of e)r!=null&&(a>r||a===void 0&&r>=r)&&(a=r);return a}function fY(e,t,a=0,r=1/0,n){if(t=Math.floor(t),a=Math.floor(Math.max(0,a)),r=Math.floor(Math.min(e.length-1,r)),!(a<=t&&t<=r))return e;for(n=n===void 0?hY:w7e(n);r>a;){if(r-a>600){const c=r-a+1,d=t-a+1,u=Math.log(c),f=.5*Math.exp(2*u/3),x=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),p=Math.max(a,Math.floor(t-d*f/c+x)),v=Math.min(r,Math.floor(t+(c-d)*f/c+x));fY(e,t,p,v,n)}const i=e[t];let l=a,o=r;for(Kg(e,a,t),n(e[r],i)>0&&Kg(e,a,r);l<o;){for(Kg(e,l,o),++l,--o;n(e[l],i)<0;)++l;for(;n(e[o],i)>0;)--o}n(e[a],i)===0?Kg(e,a,o):(++o,Kg(e,o,r)),o<=t&&(a=o+1),t<=o&&(r=o-1)}return e}function Kg(e,t,a){const r=e[t];e[t]=e[a],e[a]=r}function k7e(e,t,a){if(e=Float64Array.from(x7e(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return cI(e);if(t>=1)return oI(e);var r,n=(r-1)*t,i=Math.floor(n),l=oI(fY(e,i).subarray(0,i+1)),o=cI(e.subarray(i+1));return l+(o-l)*(n-i)}}function C7e(e,t,a=uY){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+a(e[0],0,e);if(t>=1)return+a(e[r-1],r-1,e);var r,n=(r-1)*t,i=Math.floor(n),l=+a(e[i],i,e),o=+a(e[i+1],i+1,e);return l+(o-l)*(n-i)}}function A7e(e,t,a){e=+e,t=+t,a=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+a;for(var r=-1,n=Math.max(0,Math.ceil((t-e)/a))|0,i=new Array(n);++r<n;)i[r]=e+r*a;return i}function _c(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function kh(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const x6=Symbol("implicit");function f8(){var e=new iI,t=[],a=[],r=x6;function n(i){let l=e.get(i);if(l===void 0){if(r!==x6)return r;e.set(i,l=t.push(i)-1)}return a[l%a.length]}return n.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new iI;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return n},n.range=function(i){return arguments.length?(a=Array.from(i),n):a.slice()},n.unknown=function(i){return arguments.length?(r=i,n):r},n.copy=function(){return f8(t,a).unknown(r)},_c.apply(n,arguments),n}function m8(){var e=f8().unknown(void 0),t=e.domain,a=e.range,r=0,n=1,i,l,o=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var x=t().length,p=n<r,v=p?n:r,g=p?r:n;i=(g-v)/Math.max(1,x-c+d*2),o&&(i=Math.floor(i)),v+=(g-v-i*(x-c))*u,l=i*(1-c),o&&(v=Math.round(v),l=Math.round(l));var b=A7e(x).map(function(j){return v+i*j});return a(p?b.reverse():b)}return e.domain=function(x){return arguments.length?(t(x),f()):t()},e.range=function(x){return arguments.length?([r,n]=x,r=+r,n=+n,f()):[r,n]},e.rangeRound=function(x){return[r,n]=x,r=+r,n=+n,o=!0,f()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(x){return arguments.length?(o=!!x,f()):o},e.padding=function(x){return arguments.length?(c=Math.min(1,d=+x),f()):c},e.paddingInner=function(x){return arguments.length?(c=Math.min(1,x),f()):c},e.paddingOuter=function(x){return arguments.length?(d=+x,f()):d},e.align=function(x){return arguments.length?(u=Math.max(0,Math.min(1,x)),f()):u},e.copy=function(){return m8(t(),[r,n]).round(o).paddingInner(c).paddingOuter(d).align(u)},_c.apply(f(),arguments)}function mY(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return mY(t())},e}function _7e(){return mY(m8.apply(null,arguments).paddingInner(1))}function p8(e,t,a){e.prototype=t.prototype=a,a.constructor=e}function pY(e,t){var a=Object.create(e.prototype);for(var r in t)a[r]=t[r];return a}function ib(){}var Nv=.7,Qw=1/Nv,Zp="\\s*([+-]?\\d+)\\s*",Sv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",au="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",T7e=/^#([0-9a-f]{3,8})$/,E7e=new RegExp(`^rgb\\(${Zp},${Zp},${Zp}\\)$`),D7e=new RegExp(`^rgb\\(${au},${au},${au}\\)$`),M7e=new RegExp(`^rgba\\(${Zp},${Zp},${Zp},${Sv}\\)$`),P7e=new RegExp(`^rgba\\(${au},${au},${au},${Sv}\\)$`),L7e=new RegExp(`^hsl\\(${Sv},${au},${au}\\)$`),O7e=new RegExp(`^hsla\\(${Sv},${au},${au},${Sv}\\)$`),dI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};p8(ib,kv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:uI,formatHex:uI,formatHex8:R7e,formatHsl:F7e,formatRgb:hI,toString:hI});function uI(){return this.rgb().formatHex()}function R7e(){return this.rgb().formatHex8()}function F7e(){return xY(this).formatHsl()}function hI(){return this.rgb().formatRgb()}function kv(e){var t,a;return e=(e+"").trim().toLowerCase(),(t=T7e.exec(e))?(a=t[1].length,t=parseInt(t[1],16),a===6?fI(t):a===3?new eo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):a===8?y2(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):a===4?y2(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=E7e.exec(e))?new eo(t[1],t[2],t[3],1):(t=D7e.exec(e))?new eo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=M7e.exec(e))?y2(t[1],t[2],t[3],t[4]):(t=P7e.exec(e))?y2(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=L7e.exec(e))?xI(t[1],t[2]/100,t[3]/100,1):(t=O7e.exec(e))?xI(t[1],t[2]/100,t[3]/100,t[4]):dI.hasOwnProperty(e)?fI(dI[e]):e==="transparent"?new eo(NaN,NaN,NaN,0):null}function fI(e){return new eo(e>>16&255,e>>8&255,e&255,1)}function y2(e,t,a,r){return r<=0&&(e=t=a=NaN),new eo(e,t,a,r)}function I7e(e){return e instanceof ib||(e=kv(e)),e?(e=e.rgb(),new eo(e.r,e.g,e.b,e.opacity)):new eo}function g6(e,t,a,r){return arguments.length===1?I7e(e):new eo(e,t,a,r??1)}function eo(e,t,a,r){this.r=+e,this.g=+t,this.b=+a,this.opacity=+r}p8(eo,g6,pY(ib,{brighter(e){return e=e==null?Qw:Math.pow(Qw,e),new eo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Nv:Math.pow(Nv,e),new eo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new eo(nm(this.r),nm(this.g),nm(this.b),Jw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mI,formatHex:mI,formatHex8:B7e,formatRgb:pI,toString:pI}));function mI(){return`#${$0(this.r)}${$0(this.g)}${$0(this.b)}`}function B7e(){return`#${$0(this.r)}${$0(this.g)}${$0(this.b)}${$0((isNaN(this.opacity)?1:this.opacity)*255)}`}function pI(){const e=Jw(this.opacity);return`${e===1?"rgb(":"rgba("}${nm(this.r)}, ${nm(this.g)}, ${nm(this.b)}${e===1?")":`, ${e})`}`}function Jw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function nm(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $0(e){return e=nm(e),(e<16?"0":"")+e.toString(16)}function xI(e,t,a,r){return r<=0?e=t=a=NaN:a<=0||a>=1?e=t=NaN:t<=0&&(e=NaN),new sd(e,t,a,r)}function xY(e){if(e instanceof sd)return new sd(e.h,e.s,e.l,e.opacity);if(e instanceof ib||(e=kv(e)),!e)return new sd;if(e instanceof sd)return e;e=e.rgb();var t=e.r/255,a=e.g/255,r=e.b/255,n=Math.min(t,a,r),i=Math.max(t,a,r),l=NaN,o=i-n,c=(i+n)/2;return o?(t===i?l=(a-r)/o+(a<r)*6:a===i?l=(r-t)/o+2:l=(t-a)/o+4,o/=c<.5?i+n:2-i-n,l*=60):o=c>0&&c<1?0:l,new sd(l,o,c,e.opacity)}function $7e(e,t,a,r){return arguments.length===1?xY(e):new sd(e,t,a,r??1)}function sd(e,t,a,r){this.h=+e,this.s=+t,this.l=+a,this.opacity=+r}p8(sd,$7e,pY(ib,{brighter(e){return e=e==null?Qw:Math.pow(Qw,e),new sd(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Nv:Math.pow(Nv,e),new sd(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,r=a+(a<.5?a:1-a)*t,n=2*a-r;return new eo(zS(e>=240?e-240:e+120,n,r),zS(e,n,r),zS(e<120?e+240:e-120,n,r),this.opacity)},clamp(){return new sd(gI(this.h),w2(this.s),w2(this.l),Jw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Jw(this.opacity);return`${e===1?"hsl(":"hsla("}${gI(this.h)}, ${w2(this.s)*100}%, ${w2(this.l)*100}%${e===1?")":`, ${e})`}`}}));function gI(e){return e=(e||0)%360,e<0?e+360:e}function w2(e){return Math.max(0,Math.min(1,e||0))}function zS(e,t,a){return(e<60?t+(a-t)*e/60:e<180?a:e<240?t+(a-t)*(240-e)/60:t)*255}const x8=e=>()=>e;function U7e(e,t){return function(a){return e+a*t}}function z7e(e,t,a){return e=Math.pow(e,a),t=Math.pow(t,a)-e,a=1/a,function(r){return Math.pow(e+r*t,a)}}function H7e(e){return(e=+e)==1?gY:function(t,a){return a-t?z7e(t,a,e):x8(isNaN(t)?a:t)}}function gY(e,t){var a=t-e;return a?U7e(e,a):x8(isNaN(e)?t:e)}const vI=(function e(t){var a=H7e(t);function r(n,i){var l=a((n=g6(n)).r,(i=g6(i)).r),o=a(n.g,i.g),c=a(n.b,i.b),d=gY(n.opacity,i.opacity);return function(u){return n.r=l(u),n.g=o(u),n.b=c(u),n.opacity=d(u),n+""}}return r.gamma=e,r})(1);function V7e(e,t){t||(t=[]);var a=e?Math.min(t.length,e.length):0,r=t.slice(),n;return function(i){for(n=0;n<a;++n)r[n]=e[n]*(1-i)+t[n]*i;return r}}function W7e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function q7e(e,t){var a=t?t.length:0,r=e?Math.min(a,e.length):0,n=new Array(r),i=new Array(a),l;for(l=0;l<r;++l)n[l]=Mx(e[l],t[l]);for(;l<a;++l)i[l]=t[l];return function(o){for(l=0;l<r;++l)i[l]=n[l](o);return i}}function G7e(e,t){var a=new Date;return e=+e,t=+t,function(r){return a.setTime(e*(1-r)+t*r),a}}function Zw(e,t){return e=+e,t=+t,function(a){return e*(1-a)+t*a}}function K7e(e,t){var a={},r={},n;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?a[n]=Mx(e[n],t[n]):r[n]=t[n];return function(i){for(n in a)r[n]=a[n](i);return r}}var v6=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,HS=new RegExp(v6.source,"g");function Y7e(e){return function(){return e}}function X7e(e){return function(t){return e(t)+""}}function Q7e(e,t){var a=v6.lastIndex=HS.lastIndex=0,r,n,i,l=-1,o=[],c=[];for(e=e+"",t=t+"";(r=v6.exec(e))&&(n=HS.exec(t));)(i=n.index)>a&&(i=t.slice(a,i),o[l]?o[l]+=i:o[++l]=i),(r=r[0])===(n=n[0])?o[l]?o[l]+=n:o[++l]=n:(o[++l]=null,c.push({i:l,x:Zw(r,n)})),a=HS.lastIndex;return a<t.length&&(i=t.slice(a),o[l]?o[l]+=i:o[++l]=i),o.length<2?c[0]?X7e(c[0].x):Y7e(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)o[(f=c[u]).i]=f.x(d);return o.join("")})}function Mx(e,t){var a=typeof t,r;return t==null||a==="boolean"?x8(t):(a==="number"?Zw:a==="string"?(r=kv(t))?(t=r,vI):Q7e:t instanceof kv?vI:t instanceof Date?G7e:W7e(t)?V7e:Array.isArray(t)?q7e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?K7e:Zw)(e,t)}function g8(e,t){return e=+e,t=+t,function(a){return Math.round(e*(1-a)+t*a)}}function J7e(e,t){t===void 0&&(t=e,e=Mx);for(var a=0,r=t.length-1,n=t[0],i=new Array(r<0?0:r);a<r;)i[a]=e(n,n=t[++a]);return function(l){var o=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return i[o](l-o)}}function Z7e(e){return function(){return e}}function ej(e){return+e}var bI=[0,1];function Ml(e){return e}function b6(e,t){return(t-=e=+e)?function(a){return(a-e)/t}:Z7e(isNaN(t)?NaN:.5)}function eDe(e,t){var a;return e>t&&(a=e,e=t,t=a),function(r){return Math.max(e,Math.min(t,r))}}function tDe(e,t,a){var r=e[0],n=e[1],i=t[0],l=t[1];return n<r?(r=b6(n,r),i=a(l,i)):(r=b6(r,n),i=a(i,l)),function(o){return i(r(o))}}function aDe(e,t,a){var r=Math.min(e.length,t.length)-1,n=new Array(r),i=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)n[l]=b6(e[l],e[l+1]),i[l]=a(t[l],t[l+1]);return function(o){var c=nb(e,o,1,r)-1;return i[c](n[c](o))}}function lb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function CN(){var e=bI,t=bI,a=Mx,r,n,i,l=Ml,o,c,d;function u(){var x=Math.min(e.length,t.length);return l!==Ml&&(l=eDe(e[0],e[x-1])),o=x>2?aDe:tDe,c=d=null,f}function f(x){return x==null||isNaN(x=+x)?i:(c||(c=o(e.map(r),t,a)))(r(l(x)))}return f.invert=function(x){return l(n((d||(d=o(t,e.map(r),Zw)))(x)))},f.domain=function(x){return arguments.length?(e=Array.from(x,ej),u()):e.slice()},f.range=function(x){return arguments.length?(t=Array.from(x),u()):t.slice()},f.rangeRound=function(x){return t=Array.from(x),a=g8,u()},f.clamp=function(x){return arguments.length?(l=x?!0:Ml,u()):l!==Ml},f.interpolate=function(x){return arguments.length?(a=x,u()):a},f.unknown=function(x){return arguments.length?(i=x,f):i},function(x,p){return r=x,n=p,u()}}function v8(){return CN()(Ml,Ml)}function rDe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function tj(e,t){if((a=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var a,r=e.slice(0,a);return[r.length>1?r[0]+r.slice(2):r,+e.slice(a+1)]}function mx(e){return e=tj(Math.abs(e)),e?e[1]:NaN}function sDe(e,t){return function(a,r){for(var n=a.length,i=[],l=0,o=e[0],c=0;n>0&&o>0&&(c+o+1>r&&(o=Math.max(1,r-c)),i.push(a.substring(n-=o,n+o)),!((c+=o+1)>r));)o=e[l=(l+1)%e.length];return i.reverse().join(t)}}function nDe(e){return function(t){return t.replace(/[0-9]/g,function(a){return e[+a]})}}var iDe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cv(e){if(!(t=iDe.exec(e)))throw new Error("invalid format: "+e);var t;return new b8({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Cv.prototype=b8.prototype;function b8(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}b8.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lDe(e){e:for(var t=e.length,a=1,r=-1,n;a<t;++a)switch(e[a]){case".":r=n=a;break;case"0":r===0&&(r=a),n=a;break;default:if(!+e[a])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(n+1):e}var vY;function oDe(e,t){var a=tj(e,t);if(!a)return e+"";var r=a[0],n=a[1],i=n-(vY=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,l=r.length;return i===l?r:i>l?r+new Array(i-l+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+tj(e,Math.max(0,t+i-1))[0]}function yI(e,t){var a=tj(e,t);if(!a)return e+"";var r=a[0],n=a[1];return n<0?"0."+new Array(-n).join("0")+r:r.length>n+1?r.slice(0,n+1)+"."+r.slice(n+1):r+new Array(n-r.length+2).join("0")}const wI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:rDe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>yI(e*100,t),r:yI,s:oDe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function jI(e){return e}var NI=Array.prototype.map,SI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cDe(e){var t=e.grouping===void 0||e.thousands===void 0?jI:sDe(NI.call(e.grouping,Number),e.thousands+""),a=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?jI:nDe(NI.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=Cv(f);var x=f.fill,p=f.align,v=f.sign,g=f.symbol,b=f.zero,j=f.width,N=f.comma,S=f.precision,k=f.trim,A=f.type;A==="n"?(N=!0,A="g"):wI[A]||(S===void 0&&(S=12),k=!0,A="g"),(b||x==="0"&&p==="=")&&(b=!0,x="0",p="=");var _=g==="$"?a:g==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",M=g==="$"?r:/[%p]/.test(A)?l:"",L=wI[A],U=/[defgprs%]/.test(A);S=S===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function z(O){var B=_,E=M,R,q,I;if(A==="c")E=L(O)+E,O="";else{O=+O;var G=O<0||1/O<0;if(O=isNaN(O)?c:L(Math.abs(O),S),k&&(O=lDe(O)),G&&+O==0&&v!=="+"&&(G=!1),B=(G?v==="("?v:o:v==="-"||v==="("?"":v)+B,E=(A==="s"?SI[8+vY/3]:"")+E+(G&&v==="("?")":""),U){for(R=-1,q=O.length;++R<q;)if(I=O.charCodeAt(R),48>I||I>57){E=(I===46?n+O.slice(R+1):O.slice(R))+E,O=O.slice(0,R);break}}}N&&!b&&(O=t(O,1/0));var re=B.length+O.length+E.length,te=re<j?new Array(j-re+1).join(x):"";switch(N&&b&&(O=t(te+O,te.length?j-E.length:1/0),te=""),p){case"<":O=B+O+E+te;break;case"=":O=B+te+O+E;break;case"^":O=te.slice(0,re=te.length>>1)+B+O+E+te.slice(re);break;default:O=te+B+O+E;break}return i(O)}return z.toString=function(){return f+""},z}function u(f,x){var p=d((f=Cv(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(mx(x)/3)))*3,g=Math.pow(10,-v),b=SI[8+v/3];return function(j){return p(g*j)+b}}return{format:d,formatPrefix:u}}var j2,y8,bY;dDe({thousands:",",grouping:[3],currency:["$",""]});function dDe(e){return j2=cDe(e),y8=j2.format,bY=j2.formatPrefix,j2}function uDe(e){return Math.max(0,-mx(Math.abs(e)))}function hDe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mx(t)/3)))*3-mx(Math.abs(e)))}function fDe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,mx(t)-mx(e))+1}function yY(e,t,a,r){var n=p6(e,t,a),i;switch(r=Cv(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=hDe(n,l))&&(r.precision=i),bY(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=fDe(n,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=uDe(n))&&(r.precision=i-(r.type==="%")*2);break}}return y8(r)}function Kf(e){var t=e.domain;return e.ticks=function(a){var r=t();return f6(r[0],r[r.length-1],a??10)},e.tickFormat=function(a,r){var n=t();return yY(n[0],n[n.length-1],a??10,r)},e.nice=function(a){a==null&&(a=10);var r=t(),n=0,i=r.length-1,l=r[n],o=r[i],c,d,u=10;for(o<l&&(d=l,l=o,o=d,d=n,n=i,i=d);u-- >0;){if(d=m6(l,o,a),d===c)return r[n]=l,r[i]=o,t(r);if(d>0)l=Math.floor(l/d)*d,o=Math.ceil(o/d)*d;else if(d<0)l=Math.ceil(l*d)/d,o=Math.floor(o*d)/d;else break;c=d}return e},e}function wY(){var e=v8();return e.copy=function(){return lb(e,wY())},_c.apply(e,arguments),Kf(e)}function jY(e){var t;function a(r){return r==null||isNaN(r=+r)?t:r}return a.invert=a,a.domain=a.range=function(r){return arguments.length?(e=Array.from(r,ej),a):e.slice()},a.unknown=function(r){return arguments.length?(t=r,a):t},a.copy=function(){return jY(e).unknown(t)},e=arguments.length?Array.from(e,ej):[0,1],Kf(a)}function NY(e,t){e=e.slice();var a=0,r=e.length-1,n=e[a],i=e[r],l;return i<n&&(l=a,a=r,r=l,l=n,n=i,i=l),e[a]=t.floor(n),e[r]=t.ceil(i),e}function kI(e){return Math.log(e)}function CI(e){return Math.exp(e)}function mDe(e){return-Math.log(-e)}function pDe(e){return-Math.exp(-e)}function xDe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function gDe(e){return e===10?xDe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function vDe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function AI(e){return(t,a)=>-e(-t,a)}function w8(e){const t=e(kI,CI),a=t.domain;let r=10,n,i;function l(){return n=vDe(r),i=gDe(r),a()[0]<0?(n=AI(n),i=AI(i),e(mDe,pDe)):e(kI,CI),t}return t.base=function(o){return arguments.length?(r=+o,l()):r},t.domain=function(o){return arguments.length?(a(o),l()):a()},t.ticks=o=>{const c=a();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let x=n(d),p=n(u),v,g;const b=o==null?10:+o;let j=[];if(!(r%1)&&p-x<b){if(x=Math.floor(x),p=Math.ceil(p),d>0){for(;x<=p;++x)for(v=1;v<r;++v)if(g=x<0?v/i(-x):v*i(x),!(g<d)){if(g>u)break;j.push(g)}}else for(;x<=p;++x)for(v=r-1;v>=1;--v)if(g=x>0?v/i(-x):v*i(x),!(g<d)){if(g>u)break;j.push(g)}j.length*2<b&&(j=f6(d,u,b))}else j=f6(x,p,Math.min(p-x,b)).map(i);return f?j.reverse():j},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Cv(c)).precision==null&&(c.trim=!0),c=y8(c)),o===1/0)return c;const d=Math.max(1,r*o/t.ticks().length);return u=>{let f=u/i(Math.round(n(u)));return f*r<r-.5&&(f*=r),f<=d?c(u):""}},t.nice=()=>a(NY(a(),{floor:o=>i(Math.floor(n(o))),ceil:o=>i(Math.ceil(n(o)))})),t}function SY(){const e=w8(CN()).domain([1,10]);return e.copy=()=>lb(e,SY()).base(e.base()),_c.apply(e,arguments),e}function _I(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function TI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function j8(e){var t=1,a=e(_I(t),TI(t));return a.constant=function(r){return arguments.length?e(_I(t=+r),TI(t)):t},Kf(a)}function kY(){var e=j8(CN());return e.copy=function(){return lb(e,kY()).constant(e.constant())},_c.apply(e,arguments)}function EI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function bDe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function yDe(e){return e<0?-e*e:e*e}function N8(e){var t=e(Ml,Ml),a=1;function r(){return a===1?e(Ml,Ml):a===.5?e(bDe,yDe):e(EI(a),EI(1/a))}return t.exponent=function(n){return arguments.length?(a=+n,r()):a},Kf(t)}function S8(){var e=N8(CN());return e.copy=function(){return lb(e,S8()).exponent(e.exponent())},_c.apply(e,arguments),e}function wDe(){return S8.apply(null,arguments).exponent(.5)}function DI(e){return Math.sign(e)*e*e}function jDe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function CY(){var e=v8(),t=[0,1],a=!1,r;function n(i){var l=jDe(e(i));return isNaN(l)?r:a?Math.round(l):l}return n.invert=function(i){return e.invert(DI(i))},n.domain=function(i){return arguments.length?(e.domain(i),n):e.domain()},n.range=function(i){return arguments.length?(e.range((t=Array.from(i,ej)).map(DI)),n):t.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(a=!!i,n):a},n.clamp=function(i){return arguments.length?(e.clamp(i),n):e.clamp()},n.unknown=function(i){return arguments.length?(r=i,n):r},n.copy=function(){return CY(e.domain(),t).round(a).clamp(e.clamp()).unknown(r)},_c.apply(n,arguments),Kf(n)}function AY(){var e=[],t=[],a=[],r;function n(){var l=0,o=Math.max(1,t.length);for(a=new Array(o-1);++l<o;)a[l-1]=C7e(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?r:t[nb(a,l)]}return i.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?a[o-1]:e[0],o<a.length?a[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(_f),n()},i.range=function(l){return arguments.length?(t=Array.from(l),n()):t.slice()},i.unknown=function(l){return arguments.length?(r=l,i):r},i.quantiles=function(){return a.slice()},i.copy=function(){return AY().domain(e).range(t).unknown(r)},_c.apply(i,arguments)}function _Y(){var e=0,t=1,a=1,r=[.5],n=[0,1],i;function l(c){return c!=null&&c<=c?n[nb(r,c,0,a)]:i}function o(){var c=-1;for(r=new Array(a);++c<a;)r[c]=((c+1)*t-(c-a)*e)/(a+1);return l}return l.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},l.range=function(c){return arguments.length?(a=(n=Array.from(c)).length-1,o()):n.slice()},l.invertExtent=function(c){var d=n.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=a?[r[a-1],t]:[r[d-1],r[d]]},l.unknown=function(c){return arguments.length&&(i=c),l},l.thresholds=function(){return r.slice()},l.copy=function(){return _Y().domain([e,t]).range(n).unknown(i)},_c.apply(Kf(l),arguments)}function TY(){var e=[.5],t=[0,1],a,r=1;function n(i){return i!=null&&i<=i?t[nb(e,i,0,r)]:a}return n.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),n):e.slice()},n.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),n):t.slice()},n.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return TY().domain(e).range(t).unknown(a)},_c.apply(n,arguments)}const VS=new Date,WS=new Date;function si(e,t,a,r){function n(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(e(i=new Date(+i)),i),n.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),n.round=i=>{const l=n(i),o=n.ceil(i);return i-l<o-i?l:o},n.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),n.range=(i,l,o)=>{const c=[];if(i=n.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return c;let d;do c.push(d=new Date(+i)),t(i,o),e(i);while(d<i&&i<l);return c},n.filter=i=>si(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!i(l););else for(;--o>=0;)for(;t(l,1),!i(l););}),a&&(n.count=(i,l)=>(VS.setTime(+i),WS.setTime(+l),e(VS),e(WS),Math.floor(a(VS,WS))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(r?l=>r(l)%i===0:l=>n.count(0,l)%i===0):n)),n}const aj=si(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);aj.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?si(t=>{t.setTime(Math.floor(t/e)*e)},(t,a)=>{t.setTime(+t+a*e)},(t,a)=>(a-t)/e):aj);aj.range;const Xu=1e3,xc=Xu*60,Qu=xc*60,ph=Qu*24,k8=ph*7,MI=ph*30,qS=ph*365,U0=si(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Xu)},(e,t)=>(t-e)/Xu,e=>e.getUTCSeconds());U0.range;const C8=si(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xu)},(e,t)=>{e.setTime(+e+t*xc)},(e,t)=>(t-e)/xc,e=>e.getMinutes());C8.range;const A8=si(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*xc)},(e,t)=>(t-e)/xc,e=>e.getUTCMinutes());A8.range;const _8=si(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xu-e.getMinutes()*xc)},(e,t)=>{e.setTime(+e+t*Qu)},(e,t)=>(t-e)/Qu,e=>e.getHours());_8.range;const T8=si(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Qu)},(e,t)=>(t-e)/Qu,e=>e.getUTCHours());T8.range;const ob=si(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xc)/ph,e=>e.getDate()-1);ob.range;const AN=si(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ph,e=>e.getUTCDate()-1);AN.range;const EY=si(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ph,e=>Math.floor(e/ph));EY.range;function $m(e){return si(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,a)=>{t.setDate(t.getDate()+a*7)},(t,a)=>(a-t-(a.getTimezoneOffset()-t.getTimezoneOffset())*xc)/k8)}const _N=$m(0),rj=$m(1),NDe=$m(2),SDe=$m(3),px=$m(4),kDe=$m(5),CDe=$m(6);_N.range;rj.range;NDe.range;SDe.range;px.range;kDe.range;CDe.range;function Um(e){return si(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCDate(t.getUTCDate()+a*7)},(t,a)=>(a-t)/k8)}const TN=Um(0),sj=Um(1),ADe=Um(2),_De=Um(3),xx=Um(4),TDe=Um(5),EDe=Um(6);TN.range;sj.range;ADe.range;_De.range;xx.range;TDe.range;EDe.range;const E8=si(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());E8.range;const D8=si(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());D8.range;const xh=si(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());xh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:si(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,a)=>{t.setFullYear(t.getFullYear()+a*e)});xh.range;const gh=si(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());gh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:si(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCFullYear(t.getUTCFullYear()+a*e)});gh.range;function DY(e,t,a,r,n,i){const l=[[U0,1,Xu],[U0,5,5*Xu],[U0,15,15*Xu],[U0,30,30*Xu],[i,1,xc],[i,5,5*xc],[i,15,15*xc],[i,30,30*xc],[n,1,Qu],[n,3,3*Qu],[n,6,6*Qu],[n,12,12*Qu],[r,1,ph],[r,2,2*ph],[a,1,k8],[t,1,MI],[t,3,3*MI],[e,1,qS]];function o(d,u,f){const x=u<d;x&&([d,u]=[u,d]);const p=f&&typeof f.range=="function"?f:c(d,u,f),v=p?p.range(d,+u+1):[];return x?v.reverse():v}function c(d,u,f){const x=Math.abs(u-d)/f,p=h8(([,,b])=>b).right(l,x);if(p===l.length)return e.every(p6(d/qS,u/qS,f));if(p===0)return aj.every(Math.max(p6(d,u,f),1));const[v,g]=l[x/l[p-1][2]<l[p][2]/x?p-1:p];return v.every(g)}return[o,c]}const[DDe,MDe]=DY(gh,D8,TN,EY,T8,A8),[PDe,LDe]=DY(xh,E8,_N,ob,_8,C8);function GS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function KS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Yg(e,t,a){return{y:e,m:t,d:a,H:0,M:0,S:0,L:0}}function ODe(e){var t=e.dateTime,a=e.date,r=e.time,n=e.periods,i=e.days,l=e.shortDays,o=e.months,c=e.shortMonths,d=Xg(n),u=Qg(n),f=Xg(i),x=Qg(i),p=Xg(l),v=Qg(l),g=Xg(o),b=Qg(o),j=Xg(c),N=Qg(c),S={a:G,A:re,b:te,B:X,c:null,d:II,e:II,f:sMe,g:mMe,G:xMe,H:tMe,I:aMe,j:rMe,L:MY,m:nMe,M:iMe,p:ce,q:D,Q:UI,s:zI,S:lMe,u:oMe,U:cMe,V:dMe,w:uMe,W:hMe,x:null,X:null,y:fMe,Y:pMe,Z:gMe,"%":$I},k={a:Q,A:H,b:J,B:ae,c:null,d:BI,e:BI,f:wMe,g:DMe,G:PMe,H:vMe,I:bMe,j:yMe,L:LY,m:jMe,M:NMe,p:ie,q:le,Q:UI,s:zI,S:SMe,u:kMe,U:CMe,V:AMe,w:_Me,W:TMe,x:null,X:null,y:EMe,Y:MMe,Z:LMe,"%":$I},A={a:z,A:O,b:B,B:E,c:R,d:RI,e:RI,f:QDe,g:OI,G:LI,H:FI,I:FI,j:GDe,L:XDe,m:qDe,M:KDe,p:U,q:WDe,Q:ZDe,s:eMe,S:YDe,u:$De,U:UDe,V:zDe,w:BDe,W:HDe,x:q,X:I,y:OI,Y:LI,Z:VDe,"%":JDe};S.x=_(a,S),S.X=_(r,S),S.c=_(t,S),k.x=_(a,k),k.X=_(r,k),k.c=_(t,k);function _(Y,oe){return function(xe){var W=[],he=-1,fe=0,de=Y.length,Oe,Fe,Ee;for(xe instanceof Date||(xe=new Date(+xe));++he<de;)Y.charCodeAt(he)===37&&(W.push(Y.slice(fe,he)),(Fe=PI[Oe=Y.charAt(++he)])!=null?Oe=Y.charAt(++he):Fe=Oe==="e"?" ":"0",(Ee=oe[Oe])&&(Oe=Ee(xe,Fe)),W.push(Oe),fe=he+1);return W.push(Y.slice(fe,he)),W.join("")}}function M(Y,oe){return function(xe){var W=Yg(1900,void 0,1),he=L(W,Y,xe+="",0),fe,de;if(he!=xe.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(oe&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(fe=KS(Yg(W.y,0,1)),de=fe.getUTCDay(),fe=de>4||de===0?sj.ceil(fe):sj(fe),fe=AN.offset(fe,(W.V-1)*7),W.y=fe.getUTCFullYear(),W.m=fe.getUTCMonth(),W.d=fe.getUTCDate()+(W.w+6)%7):(fe=GS(Yg(W.y,0,1)),de=fe.getDay(),fe=de>4||de===0?rj.ceil(fe):rj(fe),fe=ob.offset(fe,(W.V-1)*7),W.y=fe.getFullYear(),W.m=fe.getMonth(),W.d=fe.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),de="Z"in W?KS(Yg(W.y,0,1)).getUTCDay():GS(Yg(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(de+5)%7:W.w+W.U*7-(de+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,KS(W)):GS(W)}}function L(Y,oe,xe,W){for(var he=0,fe=oe.length,de=xe.length,Oe,Fe;he<fe;){if(W>=de)return-1;if(Oe=oe.charCodeAt(he++),Oe===37){if(Oe=oe.charAt(he++),Fe=A[Oe in PI?oe.charAt(he++):Oe],!Fe||(W=Fe(Y,xe,W))<0)return-1}else if(Oe!=xe.charCodeAt(W++))return-1}return W}function U(Y,oe,xe){var W=d.exec(oe.slice(xe));return W?(Y.p=u.get(W[0].toLowerCase()),xe+W[0].length):-1}function z(Y,oe,xe){var W=p.exec(oe.slice(xe));return W?(Y.w=v.get(W[0].toLowerCase()),xe+W[0].length):-1}function O(Y,oe,xe){var W=f.exec(oe.slice(xe));return W?(Y.w=x.get(W[0].toLowerCase()),xe+W[0].length):-1}function B(Y,oe,xe){var W=j.exec(oe.slice(xe));return W?(Y.m=N.get(W[0].toLowerCase()),xe+W[0].length):-1}function E(Y,oe,xe){var W=g.exec(oe.slice(xe));return W?(Y.m=b.get(W[0].toLowerCase()),xe+W[0].length):-1}function R(Y,oe,xe){return L(Y,t,oe,xe)}function q(Y,oe,xe){return L(Y,a,oe,xe)}function I(Y,oe,xe){return L(Y,r,oe,xe)}function G(Y){return l[Y.getDay()]}function re(Y){return i[Y.getDay()]}function te(Y){return c[Y.getMonth()]}function X(Y){return o[Y.getMonth()]}function ce(Y){return n[+(Y.getHours()>=12)]}function D(Y){return 1+~~(Y.getMonth()/3)}function Q(Y){return l[Y.getUTCDay()]}function H(Y){return i[Y.getUTCDay()]}function J(Y){return c[Y.getUTCMonth()]}function ae(Y){return o[Y.getUTCMonth()]}function ie(Y){return n[+(Y.getUTCHours()>=12)]}function le(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var oe=_(Y+="",S);return oe.toString=function(){return Y},oe},parse:function(Y){var oe=M(Y+="",!1);return oe.toString=function(){return Y},oe},utcFormat:function(Y){var oe=_(Y+="",k);return oe.toString=function(){return Y},oe},utcParse:function(Y){var oe=M(Y+="",!0);return oe.toString=function(){return Y},oe}}}var PI={"-":"",_:" ",0:"0"},Ci=/^\s*\d+/,RDe=/^%/,FDe=/[\\^$*+?|[\]().{}]/g;function Dr(e,t,a){var r=e<0?"-":"",n=(r?-e:e)+"",i=n.length;return r+(i<a?new Array(a-i+1).join(t)+n:n)}function IDe(e){return e.replace(FDe,"\\$&")}function Xg(e){return new RegExp("^(?:"+e.map(IDe).join("|")+")","i")}function Qg(e){return new Map(e.map((t,a)=>[t.toLowerCase(),a]))}function BDe(e,t,a){var r=Ci.exec(t.slice(a,a+1));return r?(e.w=+r[0],a+r[0].length):-1}function $De(e,t,a){var r=Ci.exec(t.slice(a,a+1));return r?(e.u=+r[0],a+r[0].length):-1}function UDe(e,t,a){var r=Ci.exec(t.slice(a,a+2));return r?(e.U=+r[0],a+r[0].length):-1}function zDe(e,t,a){var r=Ci.exec(t.slice(a,a+2));return r?(e.V=+r[0],a+r[0].length):-1}function HDe(e,t,a){var r=Ci.exec(t.slice(a,a+2));return r?(e.W=+r[0],a+r[0].length):-1}function LI(e,t,a){var r=Ci.exec(t.slice(a,a+4));return r?(e.y=+r[0],a+r[0].length):-1}function OI(e,t,a){var r=Ci.exec(t.slice(a,a+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),a+r[0].length):-1}function VDe(e,t,a){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(a,a+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),a+r[0].length):-1}function WDe(e,t,a){var r=Ci.exec(t.slice(a,a+1));return r?(e.q=r[0]*3-3,a+r[0].length):-1}function qDe(e,t,a){var r=Ci.exec(t.slice(a,a+2));return r?(e.m=r[0]-1,a+r[0].length):-1}function RI(e,t,a){var r=Ci.exec(t.slice(a,a+2));return r?(e.d=+r[0],a+r[0].length):-1}function GDe(e,t,a){var r=Ci.exec(t.slice(a,a+3));return r?(e.m=0,e.d=+r[0],a+r[0].length):-1}function FI(e,t,a){var r=Ci.exec(t.slice(a,a+2));return r?(e.H=+r[0],a+r[0].length):-1}function KDe(e,t,a){var r=Ci.exec(t.slice(a,a+2));return r?(e.M=+r[0],a+r[0].length):-1}function YDe(e,t,a){var r=Ci.exec(t.slice(a,a+2));return r?(e.S=+r[0],a+r[0].length):-1}function XDe(e,t,a){var r=Ci.exec(t.slice(a,a+3));return r?(e.L=+r[0],a+r[0].length):-1}function QDe(e,t,a){var r=Ci.exec(t.slice(a,a+6));return r?(e.L=Math.floor(r[0]/1e3),a+r[0].length):-1}function JDe(e,t,a){var r=RDe.exec(t.slice(a,a+1));return r?a+r[0].length:-1}function ZDe(e,t,a){var r=Ci.exec(t.slice(a));return r?(e.Q=+r[0],a+r[0].length):-1}function eMe(e,t,a){var r=Ci.exec(t.slice(a));return r?(e.s=+r[0],a+r[0].length):-1}function II(e,t){return Dr(e.getDate(),t,2)}function tMe(e,t){return Dr(e.getHours(),t,2)}function aMe(e,t){return Dr(e.getHours()%12||12,t,2)}function rMe(e,t){return Dr(1+ob.count(xh(e),e),t,3)}function MY(e,t){return Dr(e.getMilliseconds(),t,3)}function sMe(e,t){return MY(e,t)+"000"}function nMe(e,t){return Dr(e.getMonth()+1,t,2)}function iMe(e,t){return Dr(e.getMinutes(),t,2)}function lMe(e,t){return Dr(e.getSeconds(),t,2)}function oMe(e){var t=e.getDay();return t===0?7:t}function cMe(e,t){return Dr(_N.count(xh(e)-1,e),t,2)}function PY(e){var t=e.getDay();return t>=4||t===0?px(e):px.ceil(e)}function dMe(e,t){return e=PY(e),Dr(px.count(xh(e),e)+(xh(e).getDay()===4),t,2)}function uMe(e){return e.getDay()}function hMe(e,t){return Dr(rj.count(xh(e)-1,e),t,2)}function fMe(e,t){return Dr(e.getFullYear()%100,t,2)}function mMe(e,t){return e=PY(e),Dr(e.getFullYear()%100,t,2)}function pMe(e,t){return Dr(e.getFullYear()%1e4,t,4)}function xMe(e,t){var a=e.getDay();return e=a>=4||a===0?px(e):px.ceil(e),Dr(e.getFullYear()%1e4,t,4)}function gMe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Dr(t/60|0,"0",2)+Dr(t%60,"0",2)}function BI(e,t){return Dr(e.getUTCDate(),t,2)}function vMe(e,t){return Dr(e.getUTCHours(),t,2)}function bMe(e,t){return Dr(e.getUTCHours()%12||12,t,2)}function yMe(e,t){return Dr(1+AN.count(gh(e),e),t,3)}function LY(e,t){return Dr(e.getUTCMilliseconds(),t,3)}function wMe(e,t){return LY(e,t)+"000"}function jMe(e,t){return Dr(e.getUTCMonth()+1,t,2)}function NMe(e,t){return Dr(e.getUTCMinutes(),t,2)}function SMe(e,t){return Dr(e.getUTCSeconds(),t,2)}function kMe(e){var t=e.getUTCDay();return t===0?7:t}function CMe(e,t){return Dr(TN.count(gh(e)-1,e),t,2)}function OY(e){var t=e.getUTCDay();return t>=4||t===0?xx(e):xx.ceil(e)}function AMe(e,t){return e=OY(e),Dr(xx.count(gh(e),e)+(gh(e).getUTCDay()===4),t,2)}function _Me(e){return e.getUTCDay()}function TMe(e,t){return Dr(sj.count(gh(e)-1,e),t,2)}function EMe(e,t){return Dr(e.getUTCFullYear()%100,t,2)}function DMe(e,t){return e=OY(e),Dr(e.getUTCFullYear()%100,t,2)}function MMe(e,t){return Dr(e.getUTCFullYear()%1e4,t,4)}function PMe(e,t){var a=e.getUTCDay();return e=a>=4||a===0?xx(e):xx.ceil(e),Dr(e.getUTCFullYear()%1e4,t,4)}function LMe(){return"+0000"}function $I(){return"%"}function UI(e){return+e}function zI(e){return Math.floor(+e/1e3)}var Pp,RY,FY;OMe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function OMe(e){return Pp=ODe(e),RY=Pp.format,Pp.parse,FY=Pp.utcFormat,Pp.utcParse,Pp}function RMe(e){return new Date(e)}function FMe(e){return e instanceof Date?+e:+new Date(+e)}function M8(e,t,a,r,n,i,l,o,c,d){var u=v8(),f=u.invert,x=u.domain,p=d(".%L"),v=d(":%S"),g=d("%I:%M"),b=d("%I %p"),j=d("%a %d"),N=d("%b %d"),S=d("%B"),k=d("%Y");function A(_){return(c(_)<_?p:o(_)<_?v:l(_)<_?g:i(_)<_?b:r(_)<_?n(_)<_?j:N:a(_)<_?S:k)(_)}return u.invert=function(_){return new Date(f(_))},u.domain=function(_){return arguments.length?x(Array.from(_,FMe)):x().map(RMe)},u.ticks=function(_){var M=x();return e(M[0],M[M.length-1],_??10)},u.tickFormat=function(_,M){return M==null?A:d(M)},u.nice=function(_){var M=x();return(!_||typeof _.range!="function")&&(_=t(M[0],M[M.length-1],_??10)),_?x(NY(M,_)):u},u.copy=function(){return lb(u,M8(e,t,a,r,n,i,l,o,c,d))},u}function IMe(){return _c.apply(M8(PDe,LDe,xh,E8,_N,ob,_8,C8,U0,RY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function BMe(){return _c.apply(M8(DDe,MDe,gh,D8,TN,AN,T8,A8,U0,FY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function EN(){var e=0,t=1,a,r,n,i,l=Ml,o=!1,c;function d(f){return f==null||isNaN(f=+f)?c:l(n===0?.5:(f=(i(f)-a)*n,o?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,a=i(e=+e),r=i(t=+t),n=a===r?0:1/(r-a),d):[e,t]},d.clamp=function(f){return arguments.length?(o=!!f,d):o},d.interpolator=function(f){return arguments.length?(l=f,d):l};function u(f){return function(x){var p,v;return arguments.length?([p,v]=x,l=f(p,v),d):[l(0),l(1)]}}return d.range=u(Mx),d.rangeRound=u(g8),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return i=f,a=f(e),r=f(t),n=a===r?0:1/(r-a),d}}function Yf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function IY(){var e=Kf(EN()(Ml));return e.copy=function(){return Yf(e,IY())},kh.apply(e,arguments)}function BY(){var e=w8(EN()).domain([1,10]);return e.copy=function(){return Yf(e,BY()).base(e.base())},kh.apply(e,arguments)}function $Y(){var e=j8(EN());return e.copy=function(){return Yf(e,$Y()).constant(e.constant())},kh.apply(e,arguments)}function P8(){var e=N8(EN());return e.copy=function(){return Yf(e,P8()).exponent(e.exponent())},kh.apply(e,arguments)}function $Me(){return P8.apply(null,arguments).exponent(.5)}function UY(){var e=[],t=Ml;function a(r){if(r!=null&&!isNaN(r=+r))return t((nb(e,r,1)-1)/(e.length-1))}return a.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let n of r)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(_f),a},a.interpolator=function(r){return arguments.length?(t=r,a):t},a.range=function(){return e.map((r,n)=>t(n/(e.length-1)))},a.quantiles=function(r){return Array.from({length:r+1},(n,i)=>k7e(e,i/r))},a.copy=function(){return UY(t).domain(e)},kh.apply(a,arguments)}function DN(){var e=0,t=.5,a=1,r=1,n,i,l,o,c,d=Ml,u,f=!1,x;function p(g){return isNaN(g=+g)?x:(g=.5+((g=+u(g))-i)*(r*g<r*i?o:c),d(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,a]=g,n=u(e=+e),i=u(t=+t),l=u(a=+a),o=n===i?0:.5/(i-n),c=i===l?0:.5/(l-i),r=i<n?-1:1,p):[e,t,a]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(d=g,p):d};function v(g){return function(b){var j,N,S;return arguments.length?([j,N,S]=b,d=J7e(g,[j,N,S]),p):[d(0),d(.5),d(1)]}}return p.range=v(Mx),p.rangeRound=v(g8),p.unknown=function(g){return arguments.length?(x=g,p):x},function(g){return u=g,n=g(e),i=g(t),l=g(a),o=n===i?0:.5/(i-n),c=i===l?0:.5/(l-i),r=i<n?-1:1,p}}function zY(){var e=Kf(DN()(Ml));return e.copy=function(){return Yf(e,zY())},kh.apply(e,arguments)}function HY(){var e=w8(DN()).domain([.1,1,10]);return e.copy=function(){return Yf(e,HY()).base(e.base())},kh.apply(e,arguments)}function VY(){var e=j8(DN());return e.copy=function(){return Yf(e,VY()).constant(e.constant())},kh.apply(e,arguments)}function L8(){var e=N8(DN());return e.copy=function(){return Yf(e,L8()).exponent(e.exponent())},kh.apply(e,arguments)}function UMe(){return L8.apply(null,arguments).exponent(.5)}const o1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:m8,scaleDiverging:zY,scaleDivergingLog:HY,scaleDivergingPow:L8,scaleDivergingSqrt:UMe,scaleDivergingSymlog:VY,scaleIdentity:jY,scaleImplicit:x6,scaleLinear:wY,scaleLog:SY,scaleOrdinal:f8,scalePoint:_7e,scalePow:S8,scaleQuantile:AY,scaleQuantize:_Y,scaleRadial:CY,scaleSequential:IY,scaleSequentialLog:BY,scaleSequentialPow:P8,scaleSequentialQuantile:UY,scaleSequentialSqrt:$Me,scaleSequentialSymlog:$Y,scaleSqrt:wDe,scaleSymlog:kY,scaleThreshold:TY,scaleTime:IMe,scaleUtc:BMe,tickFormat:yY},Symbol.toStringTag,{value:"Module"}));var Xf=e=>e.chartData,zMe=pt([Xf],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),MN=(e,t,a,r)=>r?zMe(e):Xf(e);function wm(e){if(Array.isArray(e)&&e.length===2){var[t,a]=e;if(ml(t)&&ml(a))return!0}return!1}function HI(e,t,a){return a?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function WY(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[a,r]=e,n,i;if(ml(a))n=a;else if(typeof a=="function")return;if(ml(r))i=r;else if(typeof r=="function")return;var l=[n,i];if(wm(l))return l}}function HMe(e,t,a){if(!(!a&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,a);if(wm(r))return HI(r,t,a)}catch{}if(Array.isArray(e)&&e.length===2){var[n,i]=e,l,o;if(n==="auto")t!=null&&(l=Math.min(...t));else if(ja(n))l=n;else if(typeof n=="function")try{t!=null&&(l=n(t?.[0]))}catch{}else if(typeof n=="string"&&_F.test(n)){var c=_F.exec(n);if(c==null||t==null)l=void 0;else{var d=+c[1];l=t[0]-d}}else l=t?.[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(ja(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[1]))}catch{}else if(typeof i=="string"&&TF.test(i)){var u=TF.exec(i);if(u==null||t==null)o=void 0;else{var f=+u[1];o=t[1]+f}}else o=t?.[1];var x=[l,o];if(wm(x))return t==null?x:HI(x,t,a)}}}var Px=1e9,VMe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},R8,Ms=!0,Sc="[DecimalError] ",im=Sc+"Invalid argument: ",O8=Sc+"Exponent out of range: ",Lx=Math.floor,P0=Math.pow,WMe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mo,bi=1e7,us=7,qY=9007199254740991,nj=Lx(qY/us),la={};la.absoluteValue=la.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};la.comparedTo=la.cmp=function(e){var t,a,r,n,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,n=e.d.length,t=0,a=r<n?r:n;t<a;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===n?0:r>n^i.s<0?1:-1};la.decimalPlaces=la.dp=function(){var e=this,t=e.d.length-1,a=(t-e.e)*us;if(t=e.d[t],t)for(;t%10==0;t/=10)a--;return a<0?0:a};la.dividedBy=la.div=function(e){return lh(this,new this.constructor(e))};la.dividedToIntegerBy=la.idiv=function(e){var t=this,a=t.constructor;return ns(lh(t,new a(e),0,1),a.precision)};la.equals=la.eq=function(e){return!this.cmp(e)};la.exponent=function(){return Bn(this)};la.greaterThan=la.gt=function(e){return this.cmp(e)>0};la.greaterThanOrEqualTo=la.gte=function(e){return this.cmp(e)>=0};la.isInteger=la.isint=function(){return this.e>this.d.length-2};la.isNegative=la.isneg=function(){return this.s<0};la.isPositive=la.ispos=function(){return this.s>0};la.isZero=function(){return this.s===0};la.lessThan=la.lt=function(e){return this.cmp(e)<0};la.lessThanOrEqualTo=la.lte=function(e){return this.cmp(e)<1};la.logarithm=la.log=function(e){var t,a=this,r=a.constructor,n=r.precision,i=n+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Mo))throw Error(Sc+"NaN");if(a.s<1)throw Error(Sc+(a.s?"NaN":"-Infinity"));return a.eq(Mo)?new r(0):(Ms=!1,t=lh(Av(a,i),Av(e,i),i),Ms=!0,ns(t,n))};la.minus=la.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?YY(t,e):GY(t,(e.s=-e.s,e))};la.modulo=la.mod=function(e){var t,a=this,r=a.constructor,n=r.precision;if(e=new r(e),!e.s)throw Error(Sc+"NaN");return a.s?(Ms=!1,t=lh(a,e,0,1).times(e),Ms=!0,a.minus(t)):ns(new r(a),n)};la.naturalExponential=la.exp=function(){return KY(this)};la.naturalLogarithm=la.ln=function(){return Av(this)};la.negated=la.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};la.plus=la.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?GY(t,e):YY(t,(e.s=-e.s,e))};la.precision=la.sd=function(e){var t,a,r,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(im+e);if(t=Bn(n)+1,r=n.d.length-1,a=r*us+1,r=n.d[r],r){for(;r%10==0;r/=10)a--;for(r=n.d[0];r>=10;r/=10)a++}return e&&t>a?t:a};la.squareRoot=la.sqrt=function(){var e,t,a,r,n,i,l,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Sc+"NaN")}for(e=Bn(o),Ms=!1,n=Math.sqrt(+o),n==0||n==1/0?(t=Jd(o.d),(t.length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=Lx((e+1)/2)-(e<0||e%2),n==1/0?t="5e"+e:(t=n.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(n.toString()),a=c.precision,n=l=a+3;;)if(i=r,r=i.plus(lh(o,i,l+2)).times(.5),Jd(i.d).slice(0,l)===(t=Jd(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),n==l&&t=="4999"){if(ns(i,a+1,0),i.times(i).eq(o)){r=i;break}}else if(t!="9999")break;l+=4}return Ms=!0,ns(r,a)};la.times=la.mul=function(e){var t,a,r,n,i,l,o,c,d,u=this,f=u.constructor,x=u.d,p=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,a=u.e+e.e,c=x.length,d=p.length,c<d&&(i=x,x=p,p=i,l=c,c=d,d=l),i=[],l=c+d,r=l;r--;)i.push(0);for(r=d;--r>=0;){for(t=0,n=c+r;n>r;)o=i[n]+p[r]*x[n-r-1]+t,i[n--]=o%bi|0,t=o/bi|0;i[n]=(i[n]+t)%bi|0}for(;!i[--l];)i.pop();return t?++a:i.shift(),e.d=i,e.e=a,Ms?ns(e,f.precision):e};la.toDecimalPlaces=la.todp=function(e,t){var a=this,r=a.constructor;return a=new r(a),e===void 0?a:(nu(e,0,Px),t===void 0?t=r.rounding:nu(t,0,8),ns(a,e+Bn(a)+1,t))};la.toExponential=function(e,t){var a,r=this,n=r.constructor;return e===void 0?a=jm(r,!0):(nu(e,0,Px),t===void 0?t=n.rounding:nu(t,0,8),r=ns(new n(r),e+1,t),a=jm(r,!0,e+1)),a};la.toFixed=function(e,t){var a,r,n=this,i=n.constructor;return e===void 0?jm(n):(nu(e,0,Px),t===void 0?t=i.rounding:nu(t,0,8),r=ns(new i(n),e+Bn(n)+1,t),a=jm(r.abs(),!1,e+Bn(r)+1),n.isneg()&&!n.isZero()?"-"+a:a)};la.toInteger=la.toint=function(){var e=this,t=e.constructor;return ns(new t(e),Bn(e)+1,t.rounding)};la.toNumber=function(){return+this};la.toPower=la.pow=function(e){var t,a,r,n,i,l,o=this,c=o.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(Mo);if(o=new c(o),!o.s){if(e.s<1)throw Error(Sc+"Infinity");return o}if(o.eq(Mo))return o;if(r=c.precision,e.eq(Mo))return ns(o,r);if(t=e.e,a=e.d.length-1,l=t>=a,i=o.s,l){if((a=u<0?-u:u)<=qY){for(n=new c(Mo),t=Math.ceil(r/us+4),Ms=!1;a%2&&(n=n.times(o),WI(n.d,t)),a=Lx(a/2),a!==0;)o=o.times(o),WI(o.d,t);return Ms=!0,e.s<0?new c(Mo).div(n):ns(n,r)}}else if(i<0)throw Error(Sc+"NaN");return i=i<0&&e.d[Math.max(t,a)]&1?-1:1,o.s=1,Ms=!1,n=e.times(Av(o,r+d)),Ms=!0,n=KY(n),n.s=i,n};la.toPrecision=function(e,t){var a,r,n=this,i=n.constructor;return e===void 0?(a=Bn(n),r=jm(n,a<=i.toExpNeg||a>=i.toExpPos)):(nu(e,1,Px),t===void 0?t=i.rounding:nu(t,0,8),n=ns(new i(n),e,t),a=Bn(n),r=jm(n,e<=a||a<=i.toExpNeg,e)),r};la.toSignificantDigits=la.tosd=function(e,t){var a=this,r=a.constructor;return e===void 0?(e=r.precision,t=r.rounding):(nu(e,1,Px),t===void 0?t=r.rounding:nu(t,0,8)),ns(new r(a),e,t)};la.toString=la.valueOf=la.val=la.toJSON=la[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Bn(e),a=e.constructor;return jm(e,t<=a.toExpNeg||t>=a.toExpPos)};function GY(e,t){var a,r,n,i,l,o,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Ms?ns(t,f):t;if(c=e.d,d=t.d,l=e.e,n=t.e,c=c.slice(),i=l-n,i){for(i<0?(r=c,i=-i,o=d.length):(r=d,n=l,o=c.length),l=Math.ceil(f/us),o=l>o?l+1:o+1,i>o&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(o=c.length,i=d.length,o-i<0&&(i=o,r=d,d=c,c=r),a=0;i;)a=(c[--i]=c[i]+d[i]+a)/bi|0,c[i]%=bi;for(a&&(c.unshift(a),++n),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=n,Ms?ns(t,f):t}function nu(e,t,a){if(e!==~~e||e<t||e>a)throw Error(im+e)}function Jd(e){var t,a,r,n=e.length-1,i="",l=e[0];if(n>0){for(i+=l,t=1;t<n;t++)r=e[t]+"",a=us-r.length,a&&(i+=mf(a)),i+=r;l=e[t],r=l+"",a=us-r.length,a&&(i+=mf(a))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var lh=(function(){function e(r,n){var i,l=0,o=r.length;for(r=r.slice();o--;)i=r[o]*n+l,r[o]=i%bi|0,l=i/bi|0;return l&&r.unshift(l),r}function t(r,n,i,l){var o,c;if(i!=l)c=i>l?1:-1;else for(o=c=0;o<i;o++)if(r[o]!=n[o]){c=r[o]>n[o]?1:-1;break}return c}function a(r,n,i){for(var l=0;i--;)r[i]-=l,l=r[i]<n[i]?1:0,r[i]=l*bi+r[i]-n[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,n,i,l){var o,c,d,u,f,x,p,v,g,b,j,N,S,k,A,_,M,L,U=r.constructor,z=r.s==n.s?1:-1,O=r.d,B=n.d;if(!r.s)return new U(r);if(!n.s)throw Error(Sc+"Division by zero");for(c=r.e-n.e,M=B.length,A=O.length,p=new U(z),v=p.d=[],d=0;B[d]==(O[d]||0);)++d;if(B[d]>(O[d]||0)&&--c,i==null?N=i=U.precision:l?N=i+(Bn(r)-Bn(n))+1:N=i,N<0)return new U(0);if(N=N/us+2|0,d=0,M==1)for(u=0,B=B[0],N++;(d<A||u)&&N--;d++)S=u*bi+(O[d]||0),v[d]=S/B|0,u=S%B|0;else{for(u=bi/(B[0]+1)|0,u>1&&(B=e(B,u),O=e(O,u),M=B.length,A=O.length),k=M,g=O.slice(0,M),b=g.length;b<M;)g[b++]=0;L=B.slice(),L.unshift(0),_=B[0],B[1]>=bi/2&&++_;do u=0,o=t(B,g,M,b),o<0?(j=g[0],M!=b&&(j=j*bi+(g[1]||0)),u=j/_|0,u>1?(u>=bi&&(u=bi-1),f=e(B,u),x=f.length,b=g.length,o=t(f,g,x,b),o==1&&(u--,a(f,M<x?L:B,x))):(u==0&&(o=u=1),f=B.slice()),x=f.length,x<b&&f.unshift(0),a(g,f,b),o==-1&&(b=g.length,o=t(B,g,M,b),o<1&&(u++,a(g,M<b?L:B,b))),b=g.length):o===0&&(u++,g=[0]),v[d++]=u,o&&g[0]?g[b++]=O[k]||0:(g=[O[k]],b=1);while((k++<A||g[0]!==void 0)&&N--)}return v[0]||v.shift(),p.e=c,ns(p,l?i+Bn(p)+1:i)}})();function KY(e,t){var a,r,n,i,l,o,c=0,d=0,u=e.constructor,f=u.precision;if(Bn(e)>16)throw Error(O8+Bn(e));if(!e.s)return new u(Mo);for(Ms=!1,o=f,l=new u(.03125);e.abs().gte(.1);)e=e.times(l),d+=5;for(r=Math.log(P0(2,d))/Math.LN10*2+5|0,o+=r,a=n=i=new u(Mo),u.precision=o;;){if(n=ns(n.times(e),o),a=a.times(++c),l=i.plus(lh(n,a,o)),Jd(l.d).slice(0,o)===Jd(i.d).slice(0,o)){for(;d--;)i=ns(i.times(i),o);return u.precision=f,t==null?(Ms=!0,ns(i,f)):i}i=l}}function Bn(e){for(var t=e.e*us,a=e.d[0];a>=10;a/=10)t++;return t}function YS(e,t,a){if(t>e.LN10.sd())throw Ms=!0,a&&(e.precision=a),Error(Sc+"LN10 precision limit exceeded");return ns(new e(e.LN10),t)}function mf(e){for(var t="";e--;)t+="0";return t}function Av(e,t){var a,r,n,i,l,o,c,d,u,f=1,x=10,p=e,v=p.d,g=p.constructor,b=g.precision;if(p.s<1)throw Error(Sc+(p.s?"NaN":"-Infinity"));if(p.eq(Mo))return new g(0);if(t==null?(Ms=!1,d=b):d=t,p.eq(10))return t==null&&(Ms=!0),YS(g,d);if(d+=x,g.precision=d,a=Jd(v),r=a.charAt(0),i=Bn(p),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&a.charAt(1)>3;)p=p.times(e),a=Jd(p.d),r=a.charAt(0),f++;i=Bn(p),r>1?(p=new g("0."+a),i++):p=new g(r+"."+a.slice(1))}else return c=YS(g,d+2,b).times(i+""),p=Av(new g(r+"."+a.slice(1)),d-x).plus(c),g.precision=b,t==null?(Ms=!0,ns(p,b)):p;for(o=l=p=lh(p.minus(Mo),p.plus(Mo),d),u=ns(p.times(p),d),n=3;;){if(l=ns(l.times(u),d),c=o.plus(lh(l,new g(n),d)),Jd(c.d).slice(0,d)===Jd(o.d).slice(0,d))return o=o.times(2),i!==0&&(o=o.plus(YS(g,d+2,b).times(i+""))),o=lh(o,new g(f),d),g.precision=b,t==null?(Ms=!0,ns(o,b)):o;o=c,n+=2}}function VI(e,t){var a,r,n;for((a=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(a<0&&(a=r),a+=+t.slice(r+1),t=t.substring(0,r)):a<0&&(a=t.length),r=0;t.charCodeAt(r)===48;)++r;for(n=t.length;t.charCodeAt(n-1)===48;)--n;if(t=t.slice(r,n),t){if(n-=r,a=a-r-1,e.e=Lx(a/us),e.d=[],r=(a+1)%us,a<0&&(r+=us),r<n){for(r&&e.d.push(+t.slice(0,r)),n-=us;r<n;)e.d.push(+t.slice(r,r+=us));t=t.slice(r),r=us-t.length}else r-=n;for(;r--;)t+="0";if(e.d.push(+t),Ms&&(e.e>nj||e.e<-nj))throw Error(O8+a)}else e.s=0,e.e=0,e.d=[0];return e}function ns(e,t,a){var r,n,i,l,o,c,d,u,f=e.d;for(l=1,i=f[0];i>=10;i/=10)l++;if(r=t-l,r<0)r+=us,n=t,d=f[u=0];else{if(u=Math.ceil((r+1)/us),i=f.length,u>=i)return e;for(d=i=f[u],l=1;i>=10;i/=10)l++;r%=us,n=r-us+l}if(a!==void 0&&(i=P0(10,l-n-1),o=d/i%10|0,c=t<0||f[u+1]!==void 0||d%i,c=a<4?(o||c)&&(a==0||a==(e.s<0?3:2)):o>5||o==5&&(a==4||c||a==6&&(r>0?n>0?d/P0(10,l-n):0:f[u-1])%10&1||a==(e.s<0?8:7))),t<1||!f[0])return c?(i=Bn(e),f.length=1,t=t-i-1,f[0]=P0(10,(us-t%us)%us),e.e=Lx(-t/us)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=u,i=1,u--):(f.length=u+1,i=P0(10,us-r),f[u]=n>0?(d/P0(10,l-n)%P0(10,n)|0)*i:0),c)for(;;)if(u==0){(f[0]+=i)==bi&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=bi)break;f[u--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(Ms&&(e.e>nj||e.e<-nj))throw Error(O8+Bn(e));return e}function YY(e,t){var a,r,n,i,l,o,c,d,u,f,x=e.constructor,p=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),Ms?ns(t,p):t;if(c=e.d,f=t.d,r=t.e,d=e.e,c=c.slice(),l=d-r,l){for(u=l<0,u?(a=c,l=-l,o=f.length):(a=f,r=d,o=c.length),n=Math.max(Math.ceil(p/us),o)+2,l>n&&(l=n,a.length=1),a.reverse(),n=l;n--;)a.push(0);a.reverse()}else{for(n=c.length,o=f.length,u=n<o,u&&(o=n),n=0;n<o;n++)if(c[n]!=f[n]){u=c[n]<f[n];break}l=0}for(u&&(a=c,c=f,f=a,t.s=-t.s),o=c.length,n=f.length-o;n>0;--n)c[o++]=0;for(n=f.length;n>l;){if(c[--n]<f[n]){for(i=n;i&&c[--i]===0;)c[i]=bi-1;--c[i],c[n]+=bi}c[n]-=f[n]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Ms?ns(t,p):t):new x(0)}function jm(e,t,a){var r,n=Bn(e),i=Jd(e.d),l=i.length;return t?(a&&(r=a-l)>0?i=i.charAt(0)+"."+i.slice(1)+mf(r):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+mf(-n-1)+i,a&&(r=a-l)>0&&(i+=mf(r))):n>=l?(i+=mf(n+1-l),a&&(r=a-n-1)>0&&(i=i+"."+mf(r))):((r=n+1)<l&&(i=i.slice(0,r)+"."+i.slice(r)),a&&(r=a-l)>0&&(n+1===l&&(i+="."),i+=mf(r))),e.s<0?"-"+i:i}function WI(e,t){if(e.length>t)return e.length=t,!0}function XY(e){var t,a,r;function n(i){var l=this;if(!(l instanceof n))return new n(i);if(l.constructor=n,i instanceof n){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(im+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return VI(l,i.toString())}else if(typeof i!="string")throw Error(im+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,WMe.test(i))VI(l,i);else throw Error(im+i)}if(n.prototype=la,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=XY,n.config=n.set=qMe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(a=r[t++])||(e[a]=this[a]);return n.config(e),n}function qMe(e){if(!e||typeof e!="object")throw Error(Sc+"Object expected");var t,a,r,n=["precision",1,Px,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if((r=e[a=n[t]])!==void 0)if(Lx(r)===r&&r>=n[t+1]&&r<=n[t+2])this[a]=r;else throw Error(im+a+": "+r);if((r=e[a="LN10"])!==void 0)if(r==Math.LN10)this[a]=new this(r);else throw Error(im+a+": "+r);return this}var R8=XY(VMe);Mo=new R8(1);const Hr=R8;var GMe=e=>e,QY={},JY=e=>e===QY,qI=e=>function t(){return arguments.length===0||arguments.length===1&&JY(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},ZY=(e,t)=>e===1?t:qI(function(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];var i=r.filter(l=>l!==QY).length;return i>=e?t(...r):ZY(e-i,qI(function(){for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];var d=r.map(u=>JY(u)?o.shift():u);return t(...d,...o)}))}),PN=e=>ZY(e.length,e),y6=(e,t)=>{for(var a=[],r=e;r<t;++r)a[r-e]=r;return a},KMe=PN((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(a=>t[a]).map(e)),YMe=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];if(!a.length)return GMe;var n=a.reverse(),i=n[0],l=n.slice(1);return function(){return l.reduce((o,c)=>c(o),i(...arguments))}},w6=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),eX=e=>{var t=null,a=null;return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t&&n.every((l,o)=>{var c;return l===((c=t)===null||c===void 0?void 0:c[o])})||(t=n,a=e(...n)),a}};function tX(e){var t;return e===0?t=1:t=Math.floor(new Hr(e).abs().log(10).toNumber())+1,t}function aX(e,t,a){for(var r=new Hr(e),n=0,i=[];r.lt(t)&&n<1e5;)i.push(r.toNumber()),r=r.add(a),n++;return i}PN((e,t,a)=>{var r=+e,n=+t;return r+a*(n-r)});PN((e,t,a)=>{var r=t-+e;return r=r||1/0,(a-e)/r});PN((e,t,a)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(a-e)/r))});var rX=e=>{var[t,a]=e,[r,n]=[t,a];return t>a&&([r,n]=[a,t]),[r,n]},sX=(e,t,a)=>{if(e.lte(0))return new Hr(0);var r=tX(e.toNumber()),n=new Hr(10).pow(r),i=e.div(n),l=r!==1?.05:.1,o=new Hr(Math.ceil(i.div(l).toNumber())).add(a).mul(l),c=o.mul(n);return t?new Hr(c.toNumber()):new Hr(Math.ceil(c.toNumber()))},XMe=(e,t,a)=>{var r=new Hr(1),n=new Hr(e);if(!n.isint()&&a){var i=Math.abs(e);i<1?(r=new Hr(10).pow(tX(e)-1),n=new Hr(Math.floor(n.div(r).toNumber())).mul(r)):i>1&&(n=new Hr(Math.floor(e)))}else e===0?n=new Hr(Math.floor((t-1)/2)):a||(n=new Hr(Math.floor(e)));var l=Math.floor((t-1)/2),o=YMe(KMe(c=>n.add(new Hr(c-l).mul(r)).toNumber()),y6);return o(0,t)},nX=function(t,a,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((a-t)/(r-1)))return{step:new Hr(0),tickMin:new Hr(0),tickMax:new Hr(0)};var l=sX(new Hr(a).sub(t).div(r-1),n,i),o;t<=0&&a>=0?o=new Hr(0):(o=new Hr(t).add(a).div(2),o=o.sub(new Hr(o).mod(l)));var c=Math.ceil(o.sub(t).div(l).toNumber()),d=Math.ceil(new Hr(a).sub(o).div(l).toNumber()),u=c+d+1;return u>r?nX(t,a,r,n,i+1):(u<r&&(d=a>0?d+(r-u):d,c=a>0?c:c+(r-u)),{step:l,tickMin:o.sub(new Hr(c).mul(l)),tickMax:o.add(new Hr(d).mul(l))})};function QMe(e){var[t,a]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(r,2),[l,o]=rX([t,a]);if(l===-1/0||o===1/0){var c=o===1/0?[l,...y6(0,r-1).map(()=>1/0)]:[...y6(0,r-1).map(()=>-1/0),o];return t>a?w6(c):c}if(l===o)return XMe(l,r,n);var{step:d,tickMin:u,tickMax:f}=nX(l,o,i,n,0),x=aX(u,f.add(new Hr(.1).mul(d)),d);return t>a?w6(x):x}function JMe(e,t){var[a,r]=e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=rX([a,r]);if(i===-1/0||l===1/0)return[a,r];if(i===l)return[i];var o=Math.max(t,2),c=sX(new Hr(l).sub(i).div(o-1),n,0),d=[...aX(new Hr(i),new Hr(l),c),l];return n===!1&&(d=d.map(u=>Math.round(u))),a>r?w6(d):d}var ZMe=eX(QMe),ePe=eX(JMe),iX=e=>e.rootProps.maxBarSize,tPe=e=>e.rootProps.barGap,lX=e=>e.rootProps.barCategoryGap,aPe=e=>e.rootProps.barSize,LN=e=>e.rootProps.stackOffset,F8=e=>e.options.chartName,I8=e=>e.rootProps.syncId,oX=e=>e.rootProps.syncMethod,B8=e=>e.options.eventEmitter,Hu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Co={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},ON=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},rPe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Hu.angleAxisId,includeHidden:!1,name:void 0,reversed:Hu.reversed,scale:Hu.scale,tick:Hu.tick,tickCount:void 0,ticks:void 0,type:Hu.type,unit:void 0},sPe={allowDataOverflow:Co.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Co.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Co.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Co.scale,tick:Co.tick,tickCount:Co.tickCount,ticks:void 0,type:Co.type,unit:void 0},nPe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Hu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Hu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Hu.scale,tick:Hu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},iPe={allowDataOverflow:Co.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Co.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Co.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Co.scale,tick:Co.tick,tickCount:Co.tickCount,ticks:void 0,type:"category",unit:void 0},$8=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?nPe:rPe,U8=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?iPe:sPe,RN=e=>e.polarOptions,z8=pt([Nh,Sh,ki],G8e),cX=pt([RN,z8],(e,t)=>{if(e!=null)return md(e.innerRadius,t,0)}),dX=pt([RN,z8],(e,t)=>{if(e!=null)return md(e.outerRadius,t,t*.8)}),lPe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:a}=e;return[t,a]},uX=pt([RN],lPe);pt([$8,uX],ON);var hX=pt([z8,cX,dX],(e,t,a)=>{if(!(e==null||t==null||a==null))return[t,a]});pt([U8,hX],ON);var fX=pt([Or,RN,cX,dX,Nh,Sh],(e,t,a,r,n,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||a==null||r==null)){var{cx:l,cy:o,startAngle:c,endAngle:d}=t;return{cx:md(l,n,n/2),cy:md(o,i,i/2),innerRadius:a,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),ni=(e,t)=>t,FN=(e,t,a)=>a;function H8(e){return e?.id}var ii=e=>{var t=Or(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ox=e=>e.tooltip.settings.axisId,li=e=>{var t=ii(e),a=Ox(e);return cb(e,t,a)},mX=pt([li],e=>e?.dataKey);function pX(e,t,a){var{chartData:r=[]}=t,{allowDuplicatedCategory:n,dataKey:i}=a,l=new Map;return e.forEach(o=>{var c,d=(c=o.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var u=H8(o);d.forEach((f,x)=>{var p=i==null||n?x:String(Si(f,i,null)),v=Si(f,o.dataKey,0),g;l.has(p)?g=l.get(p):g={},Object.assign(g,{[u]:v}),l.set(p,g)})}}),Array.from(l.values())}function IN(e){return e.stackId!=null&&e.dataKey!=null}var BN=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function $N(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function GI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function ij(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?GI(Object(a),!0).forEach(function(r){oPe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):GI(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function oPe(e,t,a){return(t=cPe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function cPe(e){var t=dPe(e,"string");return typeof t=="symbol"?t:t+""}function dPe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j6=[0,"auto"],No={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},xX=(e,t)=>e.cartesianAxis.xAxis[t],Ch=(e,t)=>{var a=xX(e,t);return a??No},So={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:j6,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:sb},gX=(e,t)=>e.cartesianAxis.yAxis[t],Ah=(e,t)=>{var a=gX(e,t);return a??So},uPe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},V8=(e,t)=>{var a=e.cartesianAxis.zAxis[t];return a??uPe},Rl=(e,t,a)=>{switch(t){case"xAxis":return Ch(e,a);case"yAxis":return Ah(e,a);case"zAxis":return V8(e,a);case"angleAxis":return $8(e,a);case"radiusAxis":return U8(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},hPe=(e,t,a)=>{switch(t){case"xAxis":return Ch(e,a);case"yAxis":return Ah(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},cb=(e,t,a)=>{switch(t){case"xAxis":return Ch(e,a);case"yAxis":return Ah(e,a);case"angleAxis":return $8(e,a);case"radiusAxis":return U8(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},vX=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function bX(e,t){return a=>{switch(e){case"xAxis":return"xAxisId"in a&&a.xAxisId===t;case"yAxis":return"yAxisId"in a&&a.yAxisId===t;case"zAxis":return"zAxisId"in a&&a.zAxisId===t;case"angleAxis":return"angleAxisId"in a&&a.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in a&&a.radiusAxisId===t;default:return!1}}}var UN=e=>e.graphicalItems.cartesianItems,fPe=pt([ni,FN],bX),yX=(e,t,a)=>e.filter(a).filter(r=>t?.includeHidden===!0?!0:!r.hide),db=pt([UN,Rl,fPe],yX,{memoizeOptions:{resultEqualityCheck:$N}}),wX=pt([db],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(IN)),jX=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),mPe=pt([db],jX),NX=e=>e.map(t=>t.data).filter(Boolean).flat(1),pPe=pt([db],NX,{memoizeOptions:{resultEqualityCheck:$N}}),SX=(e,t)=>{var{chartData:a=[],dataStartIndex:r,dataEndIndex:n}=t;return e.length>0?e:a.slice(r,n+1)},W8=pt([pPe,MN],SX),kX=(e,t,a)=>t?.dataKey!=null?e.map(r=>({value:Si(r,t.dataKey)})):a.length>0?a.map(r=>r.dataKey).flatMap(r=>e.map(n=>({value:Si(n,r)}))):e.map(r=>({value:r})),zN=pt([W8,Rl,db],kX);function CX(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function $2(e){if(su(e)||e instanceof Date){var t=Number(e);if(ml(t))return t}}function KI(e){if(Array.isArray(e)){var t=[$2(e[0]),$2(e[1])];return wm(t)?t:void 0}var a=$2(e);if(a!=null)return[a,a]}function Rx(e){return e.map($2).filter(DEe)}function xPe(e,t,a){return!a||typeof t!="number"||jc(t)?[]:a.length?Rx(a.flatMap(r=>{var n=Si(e,r.dataKey),i,l;if(Array.isArray(n)?[i,l]=n:i=l=n,!(!ml(i)||!ml(l)))return[t-i,t+l]})):[]}var gPe=pt([wX,MN,li],pX),AX=(e,t,a)=>{var r={},n=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),r);return Object.fromEntries(Object.entries(n).map(i=>{var[l,o]=i,c=o.map(H8);return[l,{stackedData:cTe(e,c,a),graphicalItems:o}]}))},N6=pt([gPe,wX,LN],AX),_X=(e,t,a,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r==null&&a!=="zAxis"){var l=mTe(e,n,i);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},vPe=pt([Rl],e=>e.allowDataOverflow),q8=e=>{var t;if(e==null||!("domain"in e))return j6;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var a=Rx(e.ticks);return[Math.min(...a),Math.max(...a)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:j6},TX=pt([Rl],q8),EX=pt([TX,vPe],WY),bPe=pt([N6,Xf,ni,EX],_X,{memoizeOptions:{resultEqualityCheck:BN}}),G8=e=>e.errorBars,yPe=(e,t,a)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>CX(a,r)),lj=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];var n=a.filter(Boolean);if(n.length!==0){var i=n.flat(),l=Math.min(...i),o=Math.max(...i);return[l,o]}},DX=(e,t,a,r,n)=>{var i,l;if(a.length>0&&e.forEach(o=>{a.forEach(c=>{var d,u,f=(d=r[c.id])===null||d===void 0?void 0:d.filter(j=>CX(n,j)),x=Si(o,(u=t.dataKey)!==null&&u!==void 0?u:c.dataKey),p=xPe(o,x,f);if(p.length>=2){var v=Math.min(...p),g=Math.max(...p);(i==null||v<i)&&(i=v),(l==null||g>l)&&(l=g)}var b=KI(x);b!=null&&(i=i==null?b[0]:Math.min(i,b[0]),l=l==null?b[1]:Math.max(l,b[1]))})}),t?.dataKey!=null&&e.forEach(o=>{var c=KI(Si(o,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),l=l==null?c[1]:Math.max(l,c[1]))}),ml(i)&&ml(l))return[i,l]},wPe=pt([W8,Rl,mPe,G8,ni],DX,{memoizeOptions:{resultEqualityCheck:BN}});function jPe(e){var{value:t}=e;if(su(t)||t instanceof Date)return t}var NPe=(e,t,a)=>{var r=e.map(jPe).filter(n=>n!=null);return a&&(t.dataKey==null||t.allowDuplicatedCategory&&eK(r))?dY(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},MX=e=>e.referenceElements.dots,Fx=(e,t,a)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===a:r.yAxisId===a),SPe=pt([MX,ni,FN],Fx),PX=e=>e.referenceElements.areas,kPe=pt([PX,ni,FN],Fx),LX=e=>e.referenceElements.lines,CPe=pt([LX,ni,FN],Fx),OX=(e,t)=>{var a=Rx(e.map(r=>t==="xAxis"?r.x:r.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},APe=pt(SPe,ni,OX),RX=(e,t)=>{var a=Rx(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},_Pe=pt([kPe,ni],RX),FX=(e,t)=>{var a=Rx(e.map(r=>t==="xAxis"?r.x:r.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},TPe=pt(CPe,ni,FX),EPe=pt(APe,TPe,_Pe,(e,t,a)=>lj(e,a,t)),IX=(e,t,a,r,n,i,l,o)=>{if(a!=null)return a;var c=l==="vertical"&&o==="xAxis"||l==="horizontal"&&o==="yAxis",d=c?lj(r,i,n):lj(i,n);return HMe(t,d,e.allowDataOverflow)},DPe=pt([Rl,TX,EX,bPe,wPe,EPe,Or,ni],IX,{memoizeOptions:{resultEqualityCheck:BN}}),MPe=[0,1],BX=(e,t,a,r,n,i,l)=>{if(!((e==null||a==null||a.length===0)&&l===void 0)){var{dataKey:o,type:c}=e,d=Gf(t,i);return d&&o==null?dY(0,a.length):c==="category"?NPe(r,e,d):n==="expand"?MPe:l}},K8=pt([Rl,Or,W8,zN,LN,ni,DPe],BX),$X=(e,t,a,r,n)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&n==="radiusAxis"?"band":t==="radial"&&n==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(tb(i));return o in o1?o:"point"}}},ub=pt([Rl,Or,vX,F8,ni],$X);function PPe(e){if(e!=null){if(e in o1)return o1[e]();var t="scale".concat(tb(e));if(t in o1)return o1[t]()}}function Y8(e,t,a,r){if(!(a==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(a).range(r);var n=PPe(t);if(n!=null){var i=n.domain(a).range(r);return sTe(i),i}}}var UX=(e,t,a)=>{var r=q8(t);if(!(a!=="auto"&&a!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&wm(e))return ZMe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&wm(e))return ePe(e,t.tickCount,t.allowDecimals)}},X8=pt([K8,cb,ub],UX),zX=(e,t,a,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&wm(t)&&Array.isArray(a)&&a.length>0){var n=t[0],i=a[0],l=t[1],o=a[a.length-1];return[Math.min(n,i),Math.max(l,o)]}return t},LPe=pt([Rl,K8,X8,ni],zX),OPe=pt(zN,Rl,(e,t)=>{if(!(!t||t.type!=="number")){var a=1/0,r=Array.from(Rx(e.map(o=>o.value))).sort((o,c)=>o-c);if(r.length<2)return 1/0;var n=r[r.length-1]-r[0];if(n===0)return 1/0;for(var i=0;i<r.length-1;i++){var l=r[i+1]-r[i];a=Math.min(a,l)}return a/n}}),HX=pt(OPe,Or,lX,ki,(e,t,a,r)=>r,(e,t,a,r,n)=>{if(!ml(e))return 0;var i=t==="vertical"?r.height:r.width;if(n==="gap")return e*i/2;if(n==="no-gap"){var l=md(a,e*i),o=e*i/2;return o-l-(o-l)/i*l}return 0}),RPe=(e,t)=>{var a=Ch(e,t);return a==null||typeof a.padding!="string"?0:HX(e,"xAxis",t,a.padding)},FPe=(e,t)=>{var a=Ah(e,t);return a==null||typeof a.padding!="string"?0:HX(e,"yAxis",t,a.padding)},IPe=pt(Ch,RPe,(e,t)=>{var a,r;if(e==null)return{left:0,right:0};var{padding:n}=e;return typeof n=="string"?{left:t,right:t}:{left:((a=n.left)!==null&&a!==void 0?a:0)+t,right:((r=n.right)!==null&&r!==void 0?r:0)+t}}),BPe=pt(Ah,FPe,(e,t)=>{var a,r;if(e==null)return{top:0,bottom:0};var{padding:n}=e;return typeof n=="string"?{top:t,bottom:t}:{top:((a=n.top)!==null&&a!==void 0?a:0)+t,bottom:((r=n.bottom)!==null&&r!==void 0?r:0)+t}}),$Pe=pt([ki,IPe,yN,bN,(e,t,a)=>a],(e,t,a,r,n)=>{var{padding:i}=r;return n?[i.left,a.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),UPe=pt([ki,Or,BPe,yN,bN,(e,t,a)=>a],(e,t,a,r,n,i)=>{var{padding:l}=n;return i?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-a.bottom,e.top+a.top]:[e.top+a.top,e.top+e.height-a.bottom]}),hb=(e,t,a,r)=>{var n;switch(t){case"xAxis":return $Pe(e,a,r);case"yAxis":return UPe(e,a,r);case"zAxis":return(n=V8(e,a))===null||n===void 0?void 0:n.range;case"angleAxis":return uX(e);case"radiusAxis":return hX(e,a);default:return}},VX=pt([Rl,hb],ON),Ix=pt([Rl,ub,LPe,VX],Y8);pt([db,G8,ni],yPe);function WX(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var HN=(e,t)=>t,VN=(e,t,a)=>a,zPe=pt(gN,HN,VN,(e,t,a)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===a).sort(WX)),HPe=pt(vN,HN,VN,(e,t,a)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===a).sort(WX)),qX=(e,t)=>({width:e.width,height:t.height}),VPe=(e,t)=>{var a=typeof t.width=="number"?t.width:sb;return{width:a,height:e.height}},GX=pt(ki,Ch,qX),WPe=(e,t,a)=>{switch(t){case"top":return e.top;case"bottom":return a-e.bottom;default:return 0}},qPe=(e,t,a)=>{switch(t){case"left":return e.left;case"right":return a-e.right;default:return 0}},GPe=pt(Sh,ki,zPe,HN,VN,(e,t,a,r,n)=>{var i={},l;return a.forEach(o=>{var c=qX(t,o);l==null&&(l=WPe(t,r,e));var d=r==="top"&&!n||r==="bottom"&&n;i[o.id]=l-Number(d)*c.height,l+=(d?-1:1)*c.height}),i}),KPe=pt(Nh,ki,HPe,HN,VN,(e,t,a,r,n)=>{var i={},l;return a.forEach(o=>{var c=VPe(t,o);l==null&&(l=qPe(t,r,e));var d=r==="left"&&!n||r==="right"&&n;i[o.id]=l-Number(d)*c.width,l+=(d?-1:1)*c.width}),i}),YPe=(e,t)=>{var a=Ch(e,t);if(a!=null)return GPe(e,a.orientation,a.mirror)},XPe=pt([ki,Ch,YPe,(e,t)=>t],(e,t,a,r)=>{if(t!=null){var n=a?.[r];return n==null?{x:e.left,y:0}:{x:e.left,y:n}}}),QPe=(e,t)=>{var a=Ah(e,t);if(a!=null)return KPe(e,a.orientation,a.mirror)},JPe=pt([ki,Ah,QPe,(e,t)=>t],(e,t,a,r)=>{if(t!=null){var n=a?.[r];return n==null?{x:0,y:e.top}:{x:n,y:e.top}}}),KX=pt(ki,Ah,(e,t)=>{var a=typeof t.width=="number"?t.width:sb;return{width:a,height:e.height}}),YI=(e,t,a)=>{switch(t){case"xAxis":return GX(e,a).width;case"yAxis":return KX(e,a).height;default:return}},YX=(e,t,a,r)=>{if(a!=null){var{allowDuplicatedCategory:n,type:i,dataKey:l}=a,o=Gf(e,r),c=t.map(d=>d.value);if(l&&o&&i==="category"&&n&&eK(c))return c}},Q8=pt([Or,zN,Rl,ni],YX),XX=(e,t,a,r)=>{if(!(a==null||a.dataKey==null)){var{type:n,scale:i}=a,l=Gf(e,r);if(l&&(n==="number"||i!=="auto"))return t.map(o=>o.value)}},J8=pt([Or,zN,cb,ni],XX),XI=pt([Or,hPe,ub,Ix,Q8,J8,hb,X8,ni],(e,t,a,r,n,i,l,o,c)=>{if(t==null)return null;var d=Gf(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:n,isCategorical:d,niceTicks:o,range:l,realScaleType:a,scale:r}}),ZPe=(e,t,a,r,n,i,l,o,c)=>{if(!(t==null||r==null)){var d=Gf(e,c),{type:u,ticks:f,tickCount:x}=t,p=a==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,v=u==="category"&&r.bandwidth?r.bandwidth()/p:0;v=c==="angleAxis"&&i!=null&&i.length>=2?Zl(i[0]-i[1])*2*v:v;var g=f||n;if(g){var b=g.map((j,N)=>{var S=l?l.indexOf(j):j;return{index:N,coordinate:r(S)+v,value:j,offset:v}});return b.filter(j=>!jc(j.coordinate))}return d&&o?o.map((j,N)=>({coordinate:r(j)+v,value:j,index:N,offset:v})):r.ticks?r.ticks(x).map(j=>({coordinate:r(j)+v,value:j,offset:v})):r.domain().map((j,N)=>({coordinate:r(j)+v,value:l?l[j]:j,index:N,offset:v}))}},QX=pt([Or,cb,ub,Ix,X8,hb,Q8,J8,ni],ZPe),eLe=(e,t,a,r,n,i,l)=>{if(!(t==null||a==null||r==null||r[0]===r[1])){var o=Gf(e,l),{tickCount:c}=t,d=0;return d=l==="angleAxis"&&r?.length>=2?Zl(r[0]-r[1])*2*d:d,o&&i?i.map((u,f)=>({coordinate:a(u)+d,value:u,index:f,offset:d})):a.ticks?a.ticks(c).map(u=>({coordinate:a(u)+d,value:u,offset:d})):a.domain().map((u,f)=>({coordinate:a(u)+d,value:n?n[u]:u,index:f,offset:d}))}},If=pt([Or,cb,Ix,hb,Q8,J8,ni],eLe),Bf=pt(Rl,Ix,(e,t)=>{if(!(e==null||t==null))return ij(ij({},e),{},{scale:t})}),tLe=pt([Rl,ub,K8,VX],Y8);pt((e,t,a)=>V8(e,a),tLe,(e,t)=>{if(!(e==null||t==null))return ij(ij({},e),{},{scale:t})});var aLe=pt([Or,gN,vN],(e,t,a)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return a.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),JX=e=>e.options.defaultTooltipEventType,ZX=e=>e.options.validateTooltipEventTypes;function eQ(e,t,a){if(e==null)return t;var r=e?"axis":"item";return a==null?t:a.includes(r)?r:t}function Z8(e,t){var a=JX(e),r=ZX(e);return eQ(t,a,r)}function rLe(e){return wa(t=>Z8(t,e))}var tQ=(e,t)=>{var a,r=Number(t);if(!(jc(r)||t==null))return r>=0?e==null||(a=e[r])===null||a===void 0?void 0:a.value:void 0},sLe=e=>e.tooltip.settings,gf={active:!1,index:null,dataKey:void 0,coordinate:void 0},nLe={itemInteraction:{click:gf,hover:gf},axisInteraction:{click:gf,hover:gf},keyboardInteraction:gf,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},aQ=Fo({name:"tooltip",initialState:nLe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Tl()},removeTooltipEntrySettings:{reducer(e,t){var a=ih(e).tooltipItemPayloads.indexOf(t.payload);a>-1&&e.tooltipItemPayloads.splice(a,1)},prepare:Tl()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:iLe,removeTooltipEntrySettings:lLe,setTooltipSettingsState:oLe,setActiveMouseOverItemIndex:rQ,mouseLeaveItem:cLe,mouseLeaveChart:sQ,setActiveClickItemIndex:dLe,setMouseOverAxisIndex:nQ,setMouseClickAxisIndex:uLe,setSyncInteraction:S6,setKeyboardInteraction:k6}=aQ.actions,hLe=aQ.reducer;function QI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function N2(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?QI(Object(a),!0).forEach(function(r){fLe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):QI(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function fLe(e,t,a){return(t=mLe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function mLe(e){var t=pLe(e,"string");return typeof t=="symbol"?t:t+""}function pLe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xLe(e,t,a){return t==="axis"?a==="click"?e.axisInteraction.click:e.axisInteraction.hover:a==="click"?e.itemInteraction.click:e.itemInteraction.hover}function gLe(e){return e.index!=null}var iQ=(e,t,a,r)=>{if(t==null)return gf;var n=xLe(e,t,a);if(n==null)return gf;if(n.active)return n;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(gLe(n)){if(i)return N2(N2({},n),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return N2(N2({},gf),{},{coordinate:n.coordinate})},eT=(e,t)=>{var a=e?.index;if(a==null)return null;var r=Number(a);if(!ml(r))return a;var n=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(n,Math.min(r,i)))},lQ=(e,t,a,r,n,i,l,o)=>{if(!(i==null||o==null)){var c=l[0],d=c==null?void 0:o(c.positions,i);if(d!=null)return d;var u=n?.[Number(i)];if(u)switch(a){case"horizontal":return{x:u.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:u.coordinate}}}},oQ=(e,t,a,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var n;return a==="hover"?n=e.itemInteraction.hover.dataKey:n=e.itemInteraction.click.dataKey,n==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===n})},fb=e=>e.options.tooltipPayloadSearcher,Bx=e=>e.tooltip;function JI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function ZI(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?JI(Object(a),!0).forEach(function(r){vLe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):JI(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function vLe(e,t,a){return(t=bLe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function bLe(e){var t=yLe(e,"string");return typeof t=="symbol"?t:t+""}function yLe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wLe(e,t){return e??t}var cQ=(e,t,a,r,n,i,l)=>{if(!(t==null||i==null)){var{chartData:o,computedData:c,dataStartIndex:d,dataEndIndex:u}=a,f=[];return e.reduce((x,p)=>{var v,{dataDefinedOnItem:g,settings:b}=p,j=wLe(g,o),N=Array.isArray(j)?HK(j,d,u):j,S=(v=b?.dataKey)!==null&&v!==void 0?v:r,k=b?.nameKey,A;if(r&&Array.isArray(N)&&!Array.isArray(N[0])&&l==="axis"?A=tK(N,r,n):A=i(N,t,c,k),Array.isArray(A))A.forEach(M=>{var L=ZI(ZI({},b),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});x.push(EF({tooltipEntrySettings:L,dataKey:M.dataKey,payload:M.payload,value:Si(M.payload,M.dataKey),name:M.name}))});else{var _;x.push(EF({tooltipEntrySettings:b,dataKey:S,payload:A,value:Si(A,S),name:(_=Si(A,k))!==null&&_!==void 0?_:b?.name}))}return x},f)}},tT=pt([li,Or,vX,F8,ii],$X),jLe=pt([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),NLe=pt([ii,Ox],bX),mb=pt([jLe,li,NLe],yX,{memoizeOptions:{resultEqualityCheck:$N}}),SLe=pt([mb],e=>e.filter(IN)),kLe=pt([mb],NX,{memoizeOptions:{resultEqualityCheck:$N}}),$x=pt([kLe,Xf],SX),CLe=pt([SLe,Xf,li],pX),aT=pt([$x,li,mb],kX),dQ=pt([li],q8),ALe=pt([li],e=>e.allowDataOverflow),uQ=pt([dQ,ALe],WY),_Le=pt([mb],e=>e.filter(IN)),TLe=pt([CLe,_Le,LN],AX),ELe=pt([TLe,Xf,ii,uQ],_X),DLe=pt([mb],jX),MLe=pt([$x,li,DLe,G8,ii],DX,{memoizeOptions:{resultEqualityCheck:BN}}),PLe=pt([MX,ii,Ox],Fx),LLe=pt([PLe,ii],OX),OLe=pt([PX,ii,Ox],Fx),RLe=pt([OLe,ii],RX),FLe=pt([LX,ii,Ox],Fx),ILe=pt([FLe,ii],FX),BLe=pt([LLe,ILe,RLe],lj),$Le=pt([li,dQ,uQ,ELe,MLe,BLe,Or,ii],IX),hQ=pt([li,Or,$x,aT,LN,ii,$Le],BX),ULe=pt([hQ,li,tT],UX),zLe=pt([li,hQ,ULe,ii],zX),fQ=e=>{var t=ii(e),a=Ox(e),r=!1;return hb(e,t,a,r)},mQ=pt([li,fQ],ON),pQ=pt([li,tT,zLe,mQ],Y8),HLe=pt([Or,aT,li,ii],YX),VLe=pt([Or,aT,li,ii],XX),WLe=(e,t,a,r,n,i,l,o)=>{if(t){var{type:c}=t,d=Gf(e,o);if(r){var u=a==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=c==="category"&&r.bandwidth?r.bandwidth()/u:0;return f=o==="angleAxis"&&n!=null&&n?.length>=2?Zl(n[0]-n[1])*2*f:f,d&&l?l.map((x,p)=>({coordinate:r(x)+f,value:x,index:p,offset:f})):r.domain().map((x,p)=>({coordinate:r(x)+f,value:i?i[x]:x,index:p,offset:f}))}}},_h=pt([Or,li,tT,pQ,fQ,HLe,VLe,ii],WLe),rT=pt([JX,ZX,sLe],(e,t,a)=>eQ(a.shared,e,t)),xQ=e=>e.tooltip.settings.trigger,sT=e=>e.tooltip.settings.defaultIndex,WN=pt([Bx,rT,xQ,sT],iQ),Nm=pt([WN,$x],eT),gQ=pt([_h,Nm],tQ),vQ=pt([WN],e=>{if(e)return e.dataKey}),bQ=pt([Bx,rT,xQ,sT],oQ),qLe=pt([Nh,Sh,Or,ki,_h,sT,bQ,fb],lQ),GLe=pt([WN,qLe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),KLe=pt([WN],e=>e.active),YLe=pt([bQ,Nm,Xf,mX,gQ,fb,rT],cQ),XLe=pt([YLe],e=>{if(e!=null){var t=e.map(a=>a.payload).filter(a=>a!=null);return Array.from(new Set(t))}});function eB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function tB(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?eB(Object(a),!0).forEach(function(r){QLe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):eB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function QLe(e,t,a){return(t=JLe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function JLe(e){var t=ZLe(e,"string");return typeof t=="symbol"?t:t+""}function ZLe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eOe=()=>wa(li),tOe=()=>{var e=eOe(),t=wa(_h),a=wa(pQ);return wv(tB(tB({},e),{},{scale:a}),t)},aOe=()=>wa(F8),nT=(e,t)=>t,yQ=(e,t,a)=>a,iT=(e,t,a,r)=>r,rOe=pt(_h,e=>dN(e,t=>t.coordinate)),lT=pt([Bx,nT,yQ,iT],iQ),wQ=pt([lT,$x],eT),sOe=(e,t,a)=>{if(t!=null){var r=Bx(e);return t==="axis"?a==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:a==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},jQ=pt([Bx,nT,yQ,iT],oQ),oj=pt([Nh,Sh,Or,ki,_h,iT,jQ,fb],lQ),nOe=pt([lT,oj],(e,t)=>{var a;return(a=e.coordinate)!==null&&a!==void 0?a:t}),NQ=pt(_h,wQ,tQ),iOe=pt([jQ,wQ,Xf,mX,NQ,fb,nT],cQ),lOe=pt([lT],e=>({isActive:e.active,activeIndex:e.index})),oOe=(e,t,a,r,n,i,l,o)=>{if(!(!e||!t||!r||!n||!i)){var c=pTe(e.chartX,e.chartY,t,a,o);if(c){var d=gTe(c,t),u=aTe(d,l,i,r,n),f=xTe(t,i,u,c);return{activeIndex:String(u),activeCoordinate:f}}}};function C6(){return C6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},C6.apply(null,arguments)}function aB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function S2(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?aB(Object(a),!0).forEach(function(r){cOe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):aB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function cOe(e,t,a){return(t=dOe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function dOe(e){var t=uOe(e,"string");return typeof t=="symbol"?t:t+""}function uOe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hOe(e){var{coordinate:t,payload:a,index:r,offset:n,tooltipAxisBandSize:i,layout:l,cursor:o,tooltipEventType:c,chartName:d}=e,u=t,f=a,x=r;if(!o||!u||d!=="ScatterChart"&&c!=="axis")return null;var p,v;if(d==="ScatterChart")p=u,v=SEe;else if(d==="BarChart")p=kEe(l,u,n,i),v=iY;else if(l==="radial"){var{cx:g,cy:b,radius:j,startAngle:N,endAngle:S}=lY(u);p={cx:g,cy:b,startAngle:N,endAngle:S,innerRadius:j,outerRadius:j},v=cY}else p={points:o7e(l,u,n)},v=tY;var k=typeof o=="object"&&"className"in o?o.className:void 0,A=S2(S2(S2(S2({stroke:"#ccc",pointerEvents:"none"},n),p),eb(o)),{},{payload:f,payloadIndex:x,className:Jr("recharts-tooltip-cursor",k)});return w.isValidElement(o)?w.cloneElement(o,A):w.createElement(v,A)}function fOe(e){var t=tOe(),a=XK(),r=jN(),n=aOe();return w.createElement(hOe,C6({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:a,layout:r,tooltipAxisBandSize:t,chartName:n}))}var SQ=w.createContext(null),mOe=()=>w.useContext(SQ),XS={exports:{}},rB;function pOe(){return rB||(rB=1,(function(e){var t=Object.prototype.hasOwnProperty,a="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(a=!1));function n(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,f,x){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new n(u,f||c,x),v=a?a+d:d;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function l(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(a?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},o.prototype.listeners=function(d){var u=a?a+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var x=0,p=f.length,v=new Array(p);x<p;x++)v[x]=f[x].fn;return v},o.prototype.listenerCount=function(d){var u=a?a+d:d,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(d,u,f,x,p,v){var g=a?a+d:d;if(!this._events[g])return!1;var b=this._events[g],j=arguments.length,N,S;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),j){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,f),!0;case 4:return b.fn.call(b.context,u,f,x),!0;case 5:return b.fn.call(b.context,u,f,x,p),!0;case 6:return b.fn.call(b.context,u,f,x,p,v),!0}for(S=1,N=new Array(j-1);S<j;S++)N[S-1]=arguments[S];b.fn.apply(b.context,N)}else{var k=b.length,A;for(S=0;S<k;S++)switch(b[S].once&&this.removeListener(d,b[S].fn,void 0,!0),j){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,u);break;case 3:b[S].fn.call(b[S].context,u,f);break;case 4:b[S].fn.call(b[S].context,u,f,x);break;default:if(!N)for(A=1,N=new Array(j-1);A<j;A++)N[A-1]=arguments[A];b[S].fn.apply(b[S].context,N)}}return!0},o.prototype.on=function(d,u,f){return i(this,d,u,f,!1)},o.prototype.once=function(d,u,f){return i(this,d,u,f,!0)},o.prototype.removeListener=function(d,u,f,x){var p=a?a+d:d;if(!this._events[p])return this;if(!u)return l(this,p),this;var v=this._events[p];if(v.fn)v.fn===u&&(!x||v.once)&&(!f||v.context===f)&&l(this,p);else{for(var g=0,b=[],j=v.length;g<j;g++)(v[g].fn!==u||x&&!v[g].once||f&&v[g].context!==f)&&b.push(v[g]);b.length?this._events[p]=b.length===1?b[0]:b:l(this,p)}return this},o.prototype.removeAllListeners=function(d){var u;return d?(u=a?a+d:d,this._events[u]&&l(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=a,o.EventEmitter=o,e.exports=o})(XS)),XS.exports}var xOe=pOe();const gOe=vh(xOe);var _v=new gOe,A6="recharts.syncEvent.tooltip",sB="recharts.syncEvent.brush";function kQ(e,t){if(t){var a=Number.parseInt(t,10);if(!jc(a))return e?.[a]}}var vOe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},CQ=Fo({name:"options",initialState:vOe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),bOe=CQ.reducer,{createEventEmitter:yOe}=CQ.actions;function wOe(e){return e.tooltip.syncInteraction}var jOe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},AQ=Fo({name:"chartData",initialState:jOe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:a,endIndex:r}=t.payload;a!=null&&(e.dataStartIndex=a),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:nB,setDataStartEndIndexes:NOe,setComputedData:Tze}=AQ.actions,SOe=AQ.reducer,kOe=["x","y"];function iB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function Lp(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?iB(Object(a),!0).forEach(function(r){COe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):iB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function COe(e,t,a){return(t=AOe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function AOe(e){var t=_Oe(e,"string");return typeof t=="symbol"?t:t+""}function _Oe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TOe(e,t){if(e==null)return{};var a,r,n=EOe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function EOe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var _Q=()=>{};function DOe(){var e=wa(I8),t=wa(B8),a=ri(),r=wa(oX),n=wa(_h),i=jN(),l=wN(),o=wa(c=>c.rootProps.className);w.useEffect(()=>{if(e==null)return _Q;var c=(d,u,f)=>{if(t!==f&&e===d){if(r==="index"){var x;if(l&&u!==null&&u!==void 0&&(x=u.payload)!==null&&x!==void 0&&x.coordinate&&u.payload.sourceViewBox){var p=u.payload.coordinate,{x:v,y:g}=p,b=TOe(p,kOe),{x:j,y:N,width:S,height:k}=u.payload.sourceViewBox,A=Lp(Lp({},b),{},{x:l.x+(S?(v-j)/S:0)*l.width,y:l.y+(k?(g-N)/k:0)*l.height});a(Lp(Lp({},u),{},{payload:Lp(Lp({},u.payload),{},{coordinate:A})}))}else a(u);return}if(n!=null){var _;if(typeof r=="function"){var M={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},L=r(n,M);_=n[L]}else r==="value"&&(_=n.find(I=>String(I.value)===u.payload.label));var{coordinate:U}=u.payload;if(_==null||u.payload.active===!1||U==null||l==null){a(S6({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:z,y:O}=U,B=Math.min(z,l.x+l.width),E=Math.min(O,l.y+l.height),R={x:i==="horizontal"?_.coordinate:B,y:i==="horizontal"?E:_.coordinate},q=S6({active:u.payload.active,coordinate:R,dataKey:u.payload.dataKey,index:String(_.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox});a(q)}}};return _v.on(A6,c),()=>{_v.off(A6,c)}},[o,a,t,e,r,n,i,l])}function MOe(){var e=wa(I8),t=wa(B8),a=ri();w.useEffect(()=>{if(e==null)return _Q;var r=(n,i,l)=>{t!==l&&e===n&&a(NOe(i))};return _v.on(sB,r),()=>{_v.off(sB,r)}},[a,t,e])}function POe(){var e=ri();w.useEffect(()=>{e(yOe())},[e]),DOe(),MOe()}function LOe(e,t,a,r,n,i){var l=wa(p=>sOe(p,e,t)),o=wa(B8),c=wa(I8),d=wa(oX),u=wa(wOe),f=u?.active,x=wN();w.useEffect(()=>{if(!f&&c!=null&&o!=null){var p=S6({active:i,coordinate:a,dataKey:l,index:n,label:typeof r=="number"?String(r):r,sourceViewBox:x});_v.emit(A6,c,p,o)}},[f,a,l,n,r,o,c,d,i,x])}function lB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function oB(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?lB(Object(a),!0).forEach(function(r){OOe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function OOe(e,t,a){return(t=ROe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ROe(e){var t=FOe(e,"string");return typeof t=="symbol"?t:t+""}function FOe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IOe(e){return e.dataKey}function BOe(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(aEe,t)}var cB=[],$Oe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Bm.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function cj(e){var t=lo(e,$Oe),{active:a,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,content:l,filterNull:o,isAnimationActive:c,offset:d,payloadUniqBy:u,position:f,reverseDirection:x,useTranslate3d:p,wrapperStyle:v,cursor:g,shared:b,trigger:j,defaultIndex:N,portal:S,axisId:k}=t,A=ri(),_=typeof N=="number"?String(N):N;w.useEffect(()=>{A(oLe({shared:b,trigger:j,axisId:k,active:a,defaultIndex:_}))},[A,b,j,k,a,_]);var M=wN(),L=eY(),U=rLe(b),{activeIndex:z,isActive:O}=wa(J=>lOe(J,U,j,_)),B=wa(J=>iOe(J,U,j,_)),E=wa(J=>NQ(J,U,j,_)),R=wa(J=>nOe(J,U,j,_)),q=B,I=mOe(),G=a??O,[re,te]=q_e([q,G]),X=U==="axis"?E:void 0;LOe(U,j,R,X,z,G);var ce=S??I;if(ce==null)return null;var D=q??cB;G||(D=cB),o&&D.length&&(D=v_e(q.filter(J=>J.value!=null&&(J.hide!==!0||t.includeHidden)),u,IOe));var Q=D.length>0,H=w.createElement(cEe,{allowEscapeViewBox:r,animationDuration:n,animationEasing:i,isAnimationActive:c,active:G,coordinate:R,hasPayload:Q,offset:d,position:f,reverseDirection:x,useTranslate3d:p,viewBox:M,wrapperStyle:v,lastBoundingBox:re,innerRef:te,hasPortalFromProps:!!S},BOe(l,oB(oB({},t),{},{payload:D,label:X,active:G,coordinate:R,accessibilityLayer:L})));return w.createElement(w.Fragment,null,Cj.createPortal(H,ce),G&&w.createElement(fOe,{cursor:g,tooltipEventType:U,coordinate:R,payload:q,index:z}))}var oT=e=>null;oT.displayName="Cell";function UOe(e,t,a){return(t=zOe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function zOe(e){var t=HOe(e,"string");return typeof t=="symbol"?t:t+""}function HOe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class VOe{constructor(t){UOe(this,"cache",new Map),this.maxSize=t}get(t){var a=this.cache.get(t);return a!==void 0&&(this.cache.delete(t),this.cache.set(t,a)),a}set(t,a){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,a)}clear(){this.cache.clear()}size(){return this.cache.size}}function dB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function WOe(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?dB(Object(a),!0).forEach(function(r){qOe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function qOe(e,t,a){return(t=GOe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function GOe(e){var t=KOe(e,"string");return typeof t=="symbol"?t:t+""}function KOe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YOe={cacheSize:2e3,enableCache:!0},TQ=WOe({},YOe),uB=new VOe(TQ.cacheSize),XOe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hB="recharts_measurement_span";function QOe(e,t){var a=t.fontSize||"",r=t.fontFamily||"",n=t.fontWeight||"",i=t.fontStyle||"",l=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(a,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(l,"|").concat(o)}var fB=(e,t)=>{try{var a=document.getElementById(hB);a||(a=document.createElement("span"),a.setAttribute("id",hB),a.setAttribute("aria-hidden","true"),document.body.appendChild(a)),Object.assign(a.style,XOe,t),a.textContent="".concat(e);var r=a.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},L1=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Bm.isSsr)return{width:0,height:0};if(!TQ.enableCache)return fB(t,a);var r=QOe(t,a),n=uB.get(r);if(n)return n;var i=fB(t,a);return uB.set(r,i),i},mB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JOe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ZOe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,EQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},eRe=Object.keys(EQ),Vp="NaN";function tRe(e,t){return e*EQ[t]}class Xl{static parse(t){var a,[,r,n]=(a=ZOe.exec(t))!==null&&a!==void 0?a:[];return new Xl(parseFloat(r),n??"")}constructor(t,a){this.num=t,this.unit=a,this.num=t,this.unit=a,jc(t)&&(this.unit=""),a!==""&&!JOe.test(a)&&(this.num=NaN,this.unit=""),eRe.includes(a)&&(this.num=tRe(t,a),this.unit="px")}add(t){return this.unit!==t.unit?new Xl(NaN,""):new Xl(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Xl(NaN,""):new Xl(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Xl(NaN,""):new Xl(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Xl(NaN,""):new Xl(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return jc(this.num)}}function DQ(e){if(e.includes(Vp))return Vp;for(var t=e;t.includes("*")||t.includes("/");){var a,[,r,n,i]=(a=mB.exec(t))!==null&&a!==void 0?a:[],l=Xl.parse(r??""),o=Xl.parse(i??""),c=n==="*"?l.multiply(o):l.divide(o);if(c.isNaN())return Vp;t=t.replace(mB,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,u,f,x]=(d=pB.exec(t))!==null&&d!==void 0?d:[],p=Xl.parse(u??""),v=Xl.parse(x??""),g=f==="+"?p.add(v):p.subtract(v);if(g.isNaN())return Vp;t=t.replace(pB,g.toString())}return t}var xB=/\(([^()]*)\)/;function aRe(e){for(var t=e,a;(a=xB.exec(t))!=null;){var[,r]=a;t=t.replace(xB,DQ(r))}return t}function rRe(e){var t=e.replace(/\s+/g,"");return t=aRe(t),t=DQ(t),t}function sRe(e){try{return rRe(e)}catch{return Vp}}function QS(e){var t=sRe(e.slice(5,-1));return t===Vp?"":t}var nRe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],iRe=["dx","dy","angle","className","breakAll"];function _6(){return _6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},_6.apply(null,arguments)}function gB(e,t){if(e==null)return{};var a,r,n=lRe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function lRe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var MQ=/[ \f\n\r\t\v\u2028\u2029]+/,PQ=e=>{var{children:t,breakAll:a,style:r}=e;try{var n=[];Os(t)||(a?n=t.toString().split(""):n=t.toString().split(MQ));var i=n.map(o=>({word:o,width:L1(o,r).width})),l=a?0:L1("",r).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},oRe=(e,t,a,r,n)=>{var{maxLines:i,children:l,style:o,breakAll:c}=e,d=ja(i),u=l,f=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce((B,E)=>{var{word:R,width:q}=E,I=B[B.length-1];if(I&&(r==null||n||I.width+q+a<Number(r)))I.words.push(R),I.width+=q+a;else{var G={words:[R],width:q};B.push(G)}return B},[])},x=f(t),p=z=>z.reduce((O,B)=>O.width>B.width?O:B);if(!d||n)return x;var v=x.length>i||p(x).width>Number(r);if(!v)return x;for(var g="",b=z=>{var O=u.slice(0,z),B=PQ({breakAll:c,style:o,children:O+g}).wordsWithComputedWidth,E=f(B),R=E.length>i||p(E).width>Number(r);return[R,E]},j=0,N=u.length-1,S=0,k;j<=N&&S<=u.length-1;){var A=Math.floor((j+N)/2),_=A-1,[M,L]=b(_),[U]=b(A);if(!M&&!U&&(j=A+1),M&&U&&(N=A-1),!M&&U){k=L;break}S++}return k||x},vB=e=>{var t=Os(e)?[]:e.toString().split(MQ);return[{words:t}]},cRe=e=>{var{width:t,scaleToFit:a,children:r,style:n,breakAll:i,maxLines:l}=e;if((t||a)&&!Bm.isSsr){var o,c,d=PQ({breakAll:i,children:r,style:n});if(d){var{wordsWithComputedWidth:u,spaceWidth:f}=d;o=u,c=f}else return vB(r);return oRe({breakAll:i,children:r,maxLines:l,style:n},o,c,t,a)}return vB(r)},bB="#808080",cT=w.forwardRef((e,t)=>{var{x:a=0,y:r=0,lineHeight:n="1em",capHeight:i="0.71em",scaleToFit:l=!1,textAnchor:o="start",verticalAnchor:c="end",fill:d=bB}=e,u=gB(e,nRe),f=w.useMemo(()=>cRe({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:l,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,l,u.style,u.width]),{dx:x,dy:p,angle:v,className:g,breakAll:b}=u,j=gB(u,iRe);if(!su(a)||!su(r)||f.length===0)return null;var N=a+(ja(x)?x:0),S=r+(ja(p)?p:0),k;switch(c){case"start":k=QS("calc(".concat(i,")"));break;case"middle":k=QS("calc(".concat((f.length-1)/2," * -").concat(n," + (").concat(i," / 2))"));break;default:k=QS("calc(".concat(f.length-1," * -").concat(n,")"));break}var A=[];if(l){var _=f[0].width,{width:M}=u;A.push("scale(".concat(ja(M)?M/_:1,")"))}return v&&A.push("rotate(".concat(v,", ").concat(N,", ").concat(S,")")),A.length&&(j.transform=A.join(" ")),w.createElement("text",_6({},Ll(j),{ref:t,x:N,y:S,className:Jr("recharts-text",g),textAnchor:o,fill:d.includes("url")?bB:d}),f.map((L,U)=>{var z=L.words.join(b?"":" ");return w.createElement("tspan",{x:N,dy:U===0?k:n,key:"".concat(z,"-").concat(U)},z)}))});cT.displayName="Text";var dRe=["labelRef"];function uRe(e,t){if(e==null)return{};var a,r,n=hRe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function hRe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function yB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function vn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?yB(Object(a),!0).forEach(function(r){fRe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function fRe(e,t,a){return(t=mRe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function mRe(e){var t=pRe(e,"string");return typeof t=="symbol"?t:t+""}function pRe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vu(){return Vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Vu.apply(null,arguments)}var LQ=w.createContext(null),xRe=e=>{var{x:t,y:a,width:r,height:n,children:i}=e,l=w.useMemo(()=>({x:t,y:a,width:r,height:n}),[t,a,r,n]);return w.createElement(LQ.Provider,{value:l},i)},OQ=()=>{var e=w.useContext(LQ),t=wN();return e||t},gRe=w.createContext(null),vRe=()=>{var e=w.useContext(gRe),t=wa(fX);return e||t},bRe=e=>{var{value:t,formatter:a}=e,r=Os(e.children)?t:e.children;return typeof a=="function"?a(r):r},dT=e=>e!=null&&typeof e=="function",yRe=(e,t)=>{var a=Zl(t-e),r=Math.min(Math.abs(t-e),360);return a*r},wRe=(e,t,a,r,n)=>{var{offset:i,className:l}=e,{cx:o,cy:c,innerRadius:d,outerRadius:u,startAngle:f,endAngle:x,clockWise:p}=n,v=(d+u)/2,g=yRe(f,x),b=g>=0?1:-1,j,N;switch(t){case"insideStart":j=f+b*i,N=p;break;case"insideEnd":j=x-b*i,N=!p;break;case"end":j=x+b*i,N=p;break;default:throw new Error("Unsupported position ".concat(t))}N=g<=0?N:!N;var S=Hi(o,c,v,j),k=Hi(o,c,v,j+(N?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(N?0:1,`,
    `).concat(k.x,",").concat(k.y),_=Os(e.id)?gv("recharts-radial-line-"):e.id;return w.createElement("text",Vu({},r,{dominantBaseline:"central",className:Jr("recharts-radial-bar-label",l)}),w.createElement("defs",null,w.createElement("path",{id:_,d:A})),w.createElement("textPath",{xlinkHref:"#".concat(_)},a))},jRe=(e,t,a)=>{var{cx:r,cy:n,innerRadius:i,outerRadius:l,startAngle:o,endAngle:c}=e,d=(o+c)/2;if(a==="outside"){var{x:u,y:f}=Hi(r,n,l+t,d);return{x:u,y:f,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:r,y:n,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:r,y:n,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:r,y:n,textAnchor:"middle",verticalAnchor:"end"};var x=(i+l)/2,{x:p,y:v}=Hi(r,n,x,d);return{x:p,y:v,textAnchor:"middle",verticalAnchor:"middle"}},RQ=e=>"cx"in e&&ja(e.cx),NRe=(e,t)=>{var{parentViewBox:a,offset:r,position:n}=e,i;a!=null&&!RQ(a)&&(i=a);var{x:l,y:o,width:c,height:d}=t,u=d>=0?1:-1,f=u*r,x=u>0?"end":"start",p=u>0?"start":"end",v=c>=0?1:-1,g=v*r,b=v>0?"end":"start",j=v>0?"start":"end";if(n==="top"){var N={x:l+c/2,y:o-u*r,textAnchor:"middle",verticalAnchor:x};return vn(vn({},N),i?{height:Math.max(o-i.y,0),width:c}:{})}if(n==="bottom"){var S={x:l+c/2,y:o+d+f,textAnchor:"middle",verticalAnchor:p};return vn(vn({},S),i?{height:Math.max(i.y+i.height-(o+d),0),width:c}:{})}if(n==="left"){var k={x:l-g,y:o+d/2,textAnchor:b,verticalAnchor:"middle"};return vn(vn({},k),i?{width:Math.max(k.x-i.x,0),height:d}:{})}if(n==="right"){var A={x:l+c+g,y:o+d/2,textAnchor:j,verticalAnchor:"middle"};return vn(vn({},A),i?{width:Math.max(i.x+i.width-A.x,0),height:d}:{})}var _=i?{width:c,height:d}:{};return n==="insideLeft"?vn({x:l+g,y:o+d/2,textAnchor:j,verticalAnchor:"middle"},_):n==="insideRight"?vn({x:l+c-g,y:o+d/2,textAnchor:b,verticalAnchor:"middle"},_):n==="insideTop"?vn({x:l+c/2,y:o+f,textAnchor:"middle",verticalAnchor:p},_):n==="insideBottom"?vn({x:l+c/2,y:o+d-f,textAnchor:"middle",verticalAnchor:x},_):n==="insideTopLeft"?vn({x:l+g,y:o+f,textAnchor:j,verticalAnchor:p},_):n==="insideTopRight"?vn({x:l+c-g,y:o+f,textAnchor:b,verticalAnchor:p},_):n==="insideBottomLeft"?vn({x:l+g,y:o+d-f,textAnchor:j,verticalAnchor:x},_):n==="insideBottomRight"?vn({x:l+c-g,y:o+d-f,textAnchor:b,verticalAnchor:x},_):n&&typeof n=="object"&&(ja(n.x)||fh(n.x))&&(ja(n.y)||fh(n.y))?vn({x:l+md(n.x,c),y:o+md(n.y,d),textAnchor:"end",verticalAnchor:"end"},_):vn({x:l+c/2,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},SRe={offset:5};function pf(e){var t=lo(e,SRe),{viewBox:a,position:r,value:n,children:i,content:l,className:o="",textBreakAll:c,labelRef:d}=t,u=vRe(),f=OQ(),x=r==="center"?f:u??f,p=a||x;if(!p||Os(n)&&Os(i)&&!w.isValidElement(l)&&typeof l!="function")return null;var v=vn(vn({},t),{},{viewBox:p});if(w.isValidElement(l)){var{labelRef:g}=v,b=uRe(v,dRe);return w.cloneElement(l,b)}var j;if(typeof l=="function"){if(j=w.createElement(l,v),w.isValidElement(j))return j}else j=bRe(t);var N=RQ(p),S=Ll(t);if(N&&(r==="insideStart"||r==="insideEnd"||r==="end"))return wRe(t,r,j,S,p);var k=N?jRe(p,t.offset,t.position):NRe(t,p);return w.createElement(cT,Vu({ref:d,className:Jr("recharts-label",o)},S,k,{breakAll:c}),j)}pf.displayName="Label";var kRe=(e,t,a)=>{if(!e)return null;var r={viewBox:t,labelRef:a};return e===!0?w.createElement(pf,Vu({key:"label-implicit"},r)):su(e)?w.createElement(pf,Vu({key:"label-implicit",value:e},r)):w.isValidElement(e)?e.type===pf?w.cloneElement(e,vn({key:"label-implicit"},r)):w.createElement(pf,Vu({key:"label-implicit",content:e},r)):dT(e)?w.createElement(pf,Vu({key:"label-implicit",content:e},r)):e&&typeof e=="object"?w.createElement(pf,Vu({},e,{key:"label-implicit"},r)):null};function CRe(e){var{label:t,labelRef:a}=e,r=OQ();return kRe(t,r,a)||null}var JS={},ZS={},wB;function ARe(){return wB||(wB=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a[a.length-1]}e.last=t})(ZS)),ZS}var ek={},jB;function _Re(){return jB||(jB=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Array.isArray(a)?a:Array.from(a)}e.toArray=t})(ek)),ek}var NB;function TRe(){return NB||(NB=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ARe(),a=_Re(),r=r8();function n(i){if(r.isArrayLike(i))return t.last(a.toArray(i))}e.last=n})(JS)),JS}var tk,SB;function ERe(){return SB||(SB=1,tk=TRe().last),tk}var DRe=ERe();const MRe=vh(DRe);var PRe=["valueAccessor"],LRe=["dataKey","clockWise","id","textBreakAll"];function dj(){return dj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},dj.apply(null,arguments)}function kB(e,t){if(e==null)return{};var a,r,n=ORe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function ORe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var RRe=e=>Array.isArray(e.value)?MRe(e.value):e.value,FQ=w.createContext(void 0),IQ=FQ.Provider,BQ=w.createContext(void 0);BQ.Provider;function FRe(){return w.useContext(FQ)}function IRe(){return w.useContext(BQ)}function O1(e){var{valueAccessor:t=RRe}=e,a=kB(e,PRe),{dataKey:r,clockWise:n,id:i,textBreakAll:l}=a,o=kB(a,LRe),c=FRe(),d=IRe(),u=c||d;return!u||!u.length?null:w.createElement(fd,{className:"recharts-label-list"},u.map((f,x)=>{var p,v=Os(r)?t(f,x):Si(f&&f.payload,r),g=Os(i)?{}:{id:"".concat(i,"-").concat(x)};return w.createElement(pf,dj({key:"label-".concat(x)},Ll(f),o,g,{fill:(p=a.fill)!==null&&p!==void 0?p:f.fill,parentViewBox:f.parentViewBox,value:v,textBreakAll:l,viewBox:f.viewBox,index:x}))}))}O1.displayName="LabelList";function $Q(e){var{label:t}=e;return t?t===!0?w.createElement(O1,{key:"labelList-implicit"}):w.isValidElement(t)||dT(t)?w.createElement(O1,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(O1,dj({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function T6(){return T6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},T6.apply(null,arguments)}var UQ=e=>{var{cx:t,cy:a,r,className:n}=e,i=Jr("recharts-dot",n);return t===+t&&a===+a&&r===+r?w.createElement("circle",T6({},hd(e),t8(e),{className:i,cx:t,cy:a,r})):null},BRe={radiusAxis:{},angleAxis:{}},zQ=Fo({name:"polarAxis",initialState:BRe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Eze,removeRadiusAxis:Dze,addAngleAxis:Mze,removeAngleAxis:Pze}=zQ.actions,$Re=zQ.reducer,ak={exports:{}},Xr={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CB;function URe(){if(CB)return Xr;CB=1;var e=60103,t=60106,a=60107,r=60108,n=60114,i=60109,l=60110,o=60112,c=60113,d=60120,u=60115,f=60116,x=60121,p=60122,v=60117,g=60129,b=60131;if(typeof Symbol=="function"&&Symbol.for){var j=Symbol.for;e=j("react.element"),t=j("react.portal"),a=j("react.fragment"),r=j("react.strict_mode"),n=j("react.profiler"),i=j("react.provider"),l=j("react.context"),o=j("react.forward_ref"),c=j("react.suspense"),d=j("react.suspense_list"),u=j("react.memo"),f=j("react.lazy"),x=j("react.block"),p=j("react.server.block"),v=j("react.fundamental"),g=j("react.debug_trace_mode"),b=j("react.legacy_hidden")}function N(E){if(typeof E=="object"&&E!==null){var R=E.$$typeof;switch(R){case e:switch(E=E.type,E){case a:case n:case r:case c:case d:return E;default:switch(E=E&&E.$$typeof,E){case l:case o:case f:case u:case i:return E;default:return R}}case t:return R}}}var S=i,k=e,A=o,_=a,M=f,L=u,U=t,z=n,O=r,B=c;return Xr.ContextConsumer=l,Xr.ContextProvider=S,Xr.Element=k,Xr.ForwardRef=A,Xr.Fragment=_,Xr.Lazy=M,Xr.Memo=L,Xr.Portal=U,Xr.Profiler=z,Xr.StrictMode=O,Xr.Suspense=B,Xr.isAsyncMode=function(){return!1},Xr.isConcurrentMode=function(){return!1},Xr.isContextConsumer=function(E){return N(E)===l},Xr.isContextProvider=function(E){return N(E)===i},Xr.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},Xr.isForwardRef=function(E){return N(E)===o},Xr.isFragment=function(E){return N(E)===a},Xr.isLazy=function(E){return N(E)===f},Xr.isMemo=function(E){return N(E)===u},Xr.isPortal=function(E){return N(E)===t},Xr.isProfiler=function(E){return N(E)===n},Xr.isStrictMode=function(E){return N(E)===r},Xr.isSuspense=function(E){return N(E)===c},Xr.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===a||E===n||E===g||E===r||E===c||E===d||E===b||typeof E=="object"&&E!==null&&(E.$$typeof===f||E.$$typeof===u||E.$$typeof===i||E.$$typeof===l||E.$$typeof===o||E.$$typeof===v||E.$$typeof===x||E[0]===p)},Xr.typeOf=N,Xr}var AB;function zRe(){return AB||(AB=1,ak.exports=URe()),ak.exports}var HRe=zRe(),_B=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",TB=null,rk=null,HQ=e=>{if(e===TB&&Array.isArray(rk))return rk;var t=[];return w.Children.forEach(e,a=>{Os(a)||(HRe.isFragment(a)?t=t.concat(HQ(a.props.children)):t.push(a))}),rk=t,TB=e,t};function VRe(e,t){var a=[],r=[];return Array.isArray(t)?r=t.map(n=>_B(n)):r=[_B(t)],HQ(e).forEach(n=>{var i=hx(n,"type.displayName")||hx(n,"type.name");r.indexOf(i)!==-1&&a.push(n)}),a}var VQ=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,sk={},EB;function WRe(){return EB||(EB=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){if(typeof a!="object"||a==null)return!1;if(Object.getPrototypeOf(a)===null)return!0;if(Object.prototype.toString.call(a)!=="[object Object]"){const n=a[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(a,Symbol.toStringTag)?.writable?!1:a.toString()===`[object ${n}]`}let r=a;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(a)===r}e.isPlainObject=t})(sk)),sk}var nk,DB;function qRe(){return DB||(DB=1,nk=WRe().isPlainObject),nk}var GRe=qRe();const KRe=vh(GRe);function MB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function PB(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?MB(Object(a),!0).forEach(function(r){YRe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):MB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function YRe(e,t,a){return(t=XRe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function XRe(e){var t=QRe(e,"string");return typeof t=="symbol"?t:t+""}function QRe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uj(){return uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},uj.apply(null,arguments)}var LB=(e,t,a,r,n)=>{var i=a-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+a,",").concat(t),l+="L ".concat(e+a-i/2,",").concat(t+n),l+="L ".concat(e+a-i/2-r,",").concat(t+n),l+="L ".concat(e,",").concat(t," Z"),l},JRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZRe=e=>{var t=lo(e,JRe),{x:a,y:r,upperWidth:n,lowerWidth:i,height:l,className:o}=t,{animationEasing:c,animationDuration:d,animationBegin:u,isUpdateAnimationActive:f}=t,x=w.useRef(null),[p,v]=w.useState(-1),g=w.useRef(n),b=w.useRef(i),j=w.useRef(l),N=w.useRef(a),S=w.useRef(r),k=kN(e,"trapezoid-");if(w.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var R=x.current.getTotalLength();R&&v(R)}catch{}},[]),a!==+a||r!==+r||n!==+n||i!==+i||l!==+l||n===0&&i===0||l===0)return null;var A=Jr("recharts-trapezoid",o);if(!f)return w.createElement("g",null,w.createElement("path",uj({},Ll(t),{className:A,d:LB(a,r,n,i,l)})));var _=g.current,M=b.current,L=j.current,U=N.current,z=S.current,O="0px ".concat(p===-1?1:p,"px"),B="".concat(p,"px 0px"),E=aY(["strokeDasharray"],d,c);return w.createElement(SN,{animationId:k,key:k,canBegin:p>0,duration:d,easing:c,isActive:f,begin:u},R=>{var q=Fn(_,n,R),I=Fn(M,i,R),G=Fn(L,l,R),re=Fn(U,a,R),te=Fn(z,r,R);x.current&&(g.current=q,b.current=I,j.current=G,N.current=re,S.current=te);var X=R>0?{transition:E,strokeDasharray:B}:{strokeDasharray:O};return w.createElement("path",uj({},Ll(t),{className:A,d:LB(re,te,q,I,G),ref:x,style:PB(PB({},X),t.style)}))})},e9e=["option","shapeType","propTransformer","activeClassName","isActive"];function t9e(e,t){if(e==null)return{};var a,r,n=a9e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function a9e(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function OB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function hj(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?OB(Object(a),!0).forEach(function(r){r9e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):OB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function r9e(e,t,a){return(t=s9e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s9e(e){var t=n9e(e,"string");return typeof t=="symbol"?t:t+""}function n9e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i9e(e,t){return hj(hj({},t),e)}function l9e(e,t){return e==="symbols"}function RB(e){var{shapeType:t,elementProps:a}=e;switch(t){case"rectangle":return w.createElement(iY,a);case"trapezoid":return w.createElement(ZRe,a);case"sector":return w.createElement(cY,a);case"symbols":if(l9e(t))return w.createElement(rK,a);break;default:return null}}function o9e(e){return w.isValidElement(e)?e.props:e}function c9e(e){var{option:t,shapeType:a,propTransformer:r=i9e,activeClassName:n="recharts-active-shape",isActive:i}=e,l=t9e(e,e9e),o;if(w.isValidElement(t))o=w.cloneElement(t,hj(hj({},l),o9e(t)));else if(typeof t=="function")o=t(l);else if(KRe(t)&&typeof t!="boolean"){var c=r(t,l);o=w.createElement(RB,{shapeType:a,elementProps:c})}else{var d=l;o=w.createElement(RB,{shapeType:a,elementProps:d})}return i?w.createElement(fd,{className:n},o):o}var WQ=(e,t)=>{var a=ri();return(r,n)=>i=>{e?.(r,n,i),a(rQ({activeIndex:String(n),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},qQ=e=>{var t=ri();return(a,r)=>n=>{e?.(a,r,n),t(cLe())}},GQ=(e,t)=>{var a=ri();return(r,n)=>i=>{e?.(r,n,i),a(dLe({activeIndex:String(n),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function KQ(e){var{fn:t,args:a}=e,r=ri(),n=Ol();return w.useLayoutEffect(()=>{if(!n){var i=t(a);return r(iLe(i)),()=>{r(lLe(i))}}},[t,a,r,n]),null}var d9e=()=>{};function YQ(e){var{legendPayload:t}=e,a=ri(),r=Ol();return w.useLayoutEffect(()=>r?d9e:(a(YTe(t)),()=>{a(XTe(t))}),[a,r,t]),null}var ik,u9e=()=>{var[e]=w.useState(()=>gv("uid-"));return e},h9e=(ik=FZ.useId)!==null&&ik!==void 0?ik:u9e;function f9e(e,t){var a=h9e();return t||(e?"".concat(e,"-").concat(a):a)}var m9e=w.createContext(void 0),XQ=e=>{var{id:t,type:a,children:r}=e,n=f9e("recharts-".concat(a),t);return w.createElement(m9e.Provider,{value:n},r(n))},p9e={cartesianItems:[],polarItems:[]},QQ=Fo({name:"graphicalItems",initialState:p9e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Tl()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:a,next:r}=t.payload,n=ih(e).cartesianItems.indexOf(a);n>-1&&(e.cartesianItems[n]=r)},prepare:Tl()},removeCartesianGraphicalItem:{reducer(e,t){var a=ih(e).cartesianItems.indexOf(t.payload);a>-1&&e.cartesianItems.splice(a,1)},prepare:Tl()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Tl()},removePolarGraphicalItem:{reducer(e,t){var a=ih(e).polarItems.indexOf(t.payload);a>-1&&e.polarItems.splice(a,1)},prepare:Tl()}}}),{addCartesianGraphicalItem:x9e,replaceCartesianGraphicalItem:g9e,removeCartesianGraphicalItem:v9e,addPolarGraphicalItem:Lze,removePolarGraphicalItem:Oze}=QQ.actions,b9e=QQ.reducer;function JQ(e){var t=ri(),a=w.useRef(null);return w.useLayoutEffect(()=>{a.current===null?t(x9e(e)):a.current!==e&&t(g9e({prev:a.current,next:e})),a.current=e},[t,e]),w.useLayoutEffect(()=>()=>{a.current&&(t(v9e(a.current)),a.current=null)},[t]),null}function FB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function IB(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?FB(Object(a),!0).forEach(function(r){y9e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):FB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function y9e(e,t,a){return(t=w9e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function w9e(e){var t=j9e(e,"string");return typeof t=="symbol"?t:t+""}function j9e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N9e={xAxis:{},yAxis:{},zAxis:{}},ZQ=Fo({name:"cartesianAxis",initialState:N9e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Tl()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Tl()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Tl()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Tl()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Tl()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Tl()},updateYAxisWidth(e,t){var{id:a,width:r}=t.payload,n=e.yAxis[a];if(n){var i=n.widthHistory||[];if(i.length===3&&i[0]===i[2]&&r===i[1]&&r!==n.width&&Math.abs(r-i[0])<=1)return;var l=[...i,r].slice(-3);e.yAxis[a]=IB(IB({},e.yAxis[a]),{},{width:r,widthHistory:l})}}}}),{addXAxis:S9e,removeXAxis:k9e,addYAxis:C9e,removeYAxis:A9e,addZAxis:Rze,removeZAxis:Fze,updateYAxisWidth:_9e}=ZQ.actions,T9e=ZQ.reducer,E9e=pt([ki],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),D9e=pt([E9e,Nh,Sh],(e,t,a)=>{if(!(!e||t==null||a==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,a-e.top-e.bottom)}}),uT=()=>wa(D9e),M9e=()=>wa(XLe);function BB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function $B(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?BB(Object(a),!0).forEach(function(r){P9e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):BB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function P9e(e,t,a){return(t=L9e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function L9e(e){var t=O9e(e,"string");return typeof t=="symbol"?t:t+""}function O9e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R9e=e=>{var{point:t,childIndex:a,mainColor:r,activeDot:n,dataKey:i}=e;if(n===!1||t.x==null||t.y==null)return null;var l=$B($B({index:a,dataKey:i,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},eb(n)),t8(n)),o;return w.isValidElement(n)?o=w.cloneElement(n,l):typeof n=="function"?o=n(l):o=w.createElement(UQ,l),w.createElement(fd,{className:"recharts-active-dot"},o)};function F9e(e){var{points:t,mainColor:a,activeDot:r,itemDataKey:n}=e,i=wa(Nm),l=M9e();if(t==null||l==null)return null;var o=t.find(c=>l.includes(c.payload));return Os(o)?null:R9e({point:o,childIndex:Number(i),mainColor:a,dataKey:n,activeDot:r})}var I9e="Invariant failed";function B9e(e,t){throw new Error(I9e)}var $9e=["x","y"];function E6(){return E6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},E6.apply(null,arguments)}function UB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function Jg(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?UB(Object(a),!0).forEach(function(r){U9e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):UB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function U9e(e,t,a){return(t=z9e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function z9e(e){var t=H9e(e,"string");return typeof t=="symbol"?t:t+""}function H9e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V9e(e,t){if(e==null)return{};var a,r,n=W9e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function W9e(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function q9e(e,t){var{x:a,y:r}=e,n=V9e(e,$9e),i="".concat(a),l=parseInt(i,10),o="".concat(r),c=parseInt(o,10),d="".concat(t.height||n.height),u=parseInt(d,10),f="".concat(t.width||n.width),x=parseInt(f,10);return Jg(Jg(Jg(Jg(Jg({},t),n),l?{x:l}:{}),c?{y:c}:{}),{},{height:u,width:x,name:t.name,radius:t.radius})}function hT(e){return w.createElement(c9e,E6({shapeType:"rectangle",propTransformer:q9e,activeClassName:"recharts-active-bar"},e))}var G9e=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,n)=>{if(ja(t))return t;var i=ja(r)||Os(r);return i?t(r,n):(i||B9e(),a)}},K9e={},eJ=Fo({name:"errorBars",initialState:K9e,reducers:{addErrorBar:(e,t)=>{var{itemId:a,errorBar:r}=t.payload;e[a]||(e[a]=[]),e[a].push(r)},replaceErrorBar:(e,t)=>{var{itemId:a,prev:r,next:n}=t.payload;e[a]&&(e[a]=e[a].map(i=>i.dataKey===r.dataKey&&i.direction===r.direction?n:i))},removeErrorBar:(e,t)=>{var{itemId:a,errorBar:r}=t.payload;e[a]&&(e[a]=e[a].filter(n=>n.dataKey!==r.dataKey||n.direction!==r.direction))}}}),{addErrorBar:Ize,replaceErrorBar:Bze,removeErrorBar:$ze}=eJ.actions,Y9e=eJ.reducer,X9e=["children"];function Q9e(e,t){if(e==null)return{};var a,r,n=J9e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function J9e(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Z9e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},eFe=w.createContext(Z9e);function tJ(e){var{children:t}=e,a=Q9e(e,X9e);return w.createElement(eFe.Provider,{value:a},t)}function fT(e,t){var a,r,n=wa(d=>Ch(d,e)),i=wa(d=>Ah(d,t)),l=(a=n?.allowDataOverflow)!==null&&a!==void 0?a:No.allowDataOverflow,o=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:So.allowDataOverflow,c=l||o;return{needClip:c,needClipX:l,needClipY:o}}function aJ(e){var{xAxisId:t,yAxisId:a,clipPathId:r}=e,n=uT(),{needClipX:i,needClipY:l,needClip:o}=fT(t,a);if(!o)return null;var{x:c,y:d,width:u,height:f}=n;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:i?c:c-u/2,y:l?d:d-f/2,width:i?u:u*2,height:l?f:f*2}))}var tFe=["onMouseEnter","onMouseLeave","onClick"],aFe=["value","background","tooltipPosition"],rFe=["id"],sFe=["onMouseEnter","onClick","onMouseLeave"];function $f(){return $f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},$f.apply(null,arguments)}function zB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function El(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?zB(Object(a),!0).forEach(function(r){nFe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):zB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function nFe(e,t,a){return(t=iFe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function iFe(e){var t=lFe(e,"string");return typeof t=="symbol"?t:t+""}function lFe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fj(e,t){if(e==null)return{};var a,r,n=oFe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function oFe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var cFe=e=>{var{dataKey:t,name:a,fill:r,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:r,value:xN(a,t),payload:e}]};function dFe(e){var{dataKey:t,stroke:a,strokeWidth:r,fill:n,name:i,hide:l,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:r,fill:n,dataKey:t,nameKey:void 0,name:xN(i,t),hide:l,type:e.tooltipType,color:e.fill,unit:o}}}function uFe(e){var t=wa(Nm),{data:a,dataKey:r,background:n,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:o,onClick:c}=i,d=fj(i,tFe),u=WQ(l,r),f=qQ(o),x=GQ(c,r);if(!n||a==null)return null;var p=eb(n);return w.createElement(w.Fragment,null,a.map((v,g)=>{var{value:b,background:j,tooltipPosition:N}=v,S=fj(v,aFe);if(!j)return null;var k=u(v,g),A=f(v,g),_=x(v,g),M=El(El(El(El(El({option:n,isActive:String(g)===t},S),{},{fill:"#eee"},j),p),a8(d,v,g)),{},{onMouseEnter:k,onMouseLeave:A,onClick:_,dataKey:r,index:g,className:"recharts-bar-background-rectangle"});return w.createElement(hT,$f({key:"background-bar-".concat(g)},M))}))}function hFe(e){var{showLabels:t,children:a,rects:r}=e,n=r?.map(i=>{var l={x:i.x,y:i.y,width:i.width,height:i.height};return El(El({},l),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:l,fill:i.fill})});return w.createElement(IQ,{value:t?n:void 0},a)}function fFe(e){var{shape:t,activeBar:a,baseProps:r,entry:n,index:i,dataKey:l}=e,o=wa(Nm),c=wa(vQ),d=a&&String(i)===o&&(c==null||l===c),u=d?a:t;return w.createElement(hT,$f({},r,{name:String(r.name)},n,{isActive:d,option:u,index:i,dataKey:l}))}function mFe(e){var{shape:t,baseProps:a,entry:r,index:n,dataKey:i}=e;return w.createElement(hT,$f({},a,{name:String(a.name)},r,{isActive:!1,option:t,index:n,dataKey:i}))}function pFe(e){var{data:t,props:a}=e,r=hd(a),{id:n}=r,i=fj(r,rFe),{shape:l,dataKey:o,activeBar:c}=a,{onMouseEnter:d,onClick:u,onMouseLeave:f}=a,x=fj(a,sFe),p=WQ(d,o),v=qQ(f),g=GQ(u,o);return t?w.createElement(w.Fragment,null,t.map((b,j)=>w.createElement(fd,$f({key:"rectangle-".concat(b?.x,"-").concat(b?.y,"-").concat(b?.value,"-").concat(j),className:"recharts-bar-rectangle"},a8(x,b,j),{onMouseEnter:p(b,j),onMouseLeave:v(b,j),onClick:g(b,j)}),c?w.createElement(fFe,{shape:l,activeBar:c,baseProps:i,entry:b,index:j,dataKey:o}):w.createElement(mFe,{shape:l,baseProps:i,entry:b,index:j,dataKey:o})))):null}function xFe(e){var{props:t,previousRectanglesRef:a}=e,{data:r,layout:n,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:c,onAnimationEnd:d,onAnimationStart:u}=t,f=a.current,x=kN(t,"recharts-bar-"),[p,v]=w.useState(!1),g=!p,b=w.useCallback(()=>{typeof d=="function"&&d(),v(!1)},[d]),j=w.useCallback(()=>{typeof u=="function"&&u(),v(!0)},[u]);return w.createElement(hFe,{showLabels:g,rects:r},w.createElement(SN,{animationId:x,begin:l,duration:o,isActive:i,easing:c,onAnimationEnd:b,onAnimationStart:j,key:x},N=>{var S=N===1?r:r?.map((k,A)=>{var _=f&&f[A];if(_)return El(El({},k),{},{x:Fn(_.x,k.x,N),y:Fn(_.y,k.y,N),width:Fn(_.width,k.width,N),height:Fn(_.height,k.height,N)});if(n==="horizontal"){var M=Fn(0,k.height,N);return El(El({},k),{},{y:k.y+k.height-M,height:M})}var L=Fn(0,k.width,N);return El(El({},k),{},{width:L})});return N>0&&(a.current=S??null),S==null?null:w.createElement(fd,null,w.createElement(pFe,{props:t,data:S}))}),w.createElement($Q,{label:t.label}),t.children)}function gFe(e){var t=w.useRef(null);return w.createElement(xFe,{previousRectanglesRef:t,props:e})}var rJ=0,vFe=(e,t)=>{var a=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:a,errorVal:Si(e,t)}};class bFe extends w.PureComponent{render(){var{hide:t,data:a,dataKey:r,className:n,xAxisId:i,yAxisId:l,needClip:o,background:c,id:d}=this.props;if(t||a==null)return null;var u=Jr("recharts-bar",n),f=d;return w.createElement(fd,{className:u,id:d},o&&w.createElement("defs",null,w.createElement(aJ,{clipPathId:f,xAxisId:i,yAxisId:l})),w.createElement(fd,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},w.createElement(uFe,{data:a,dataKey:r,background:c,allOtherBarProps:this.props}),w.createElement(gFe,this.props)))}}var yFe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Bm.isSsr,legendType:"rect",minPointSize:rJ,xAxisId:0,yAxisId:0};function wFe(e){var{xAxisId:t,yAxisId:a,hide:r,legendType:n,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:u}=e,{needClip:f}=fT(t,a),x=jN(),p=Ol(),v=VRe(e.children,oT),g=wa(N=>YFe(N,t,a,p,e.id,v));if(x!=="vertical"&&x!=="horizontal")return null;var b,j=g?.[0];return j==null||j.height==null||j.width==null?b=0:b=x==="vertical"?j.height/2:j.width/2,w.createElement(tJ,{xAxisId:t,yAxisId:a,data:g,dataPointFormatter:vFe,errorBarOffset:b},w.createElement(bFe,$f({},e,{layout:x,needClip:f,data:g,xAxisId:t,yAxisId:a,hide:r,legendType:n,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:u})))}function jFe(e){var{layout:t,barSettings:{dataKey:a,minPointSize:r},pos:n,bandSize:i,xAxis:l,yAxis:o,xAxisTicks:c,yAxisTicks:d,stackedData:u,displayedData:f,offset:x,cells:p,parentViewBox:v}=e,g=t==="horizontal"?o:l,b=u?g.scale.domain():null,j=uTe({numericAxis:g});return f.map((N,S)=>{var k,A,_,M,L,U;u?k=nTe(u[S],b):(k=Si(N,a),Array.isArray(k)||(k=[j,k]));var z=G9e(r,rJ)(k[1],S);if(t==="horizontal"){var O,[B,E]=[o.scale(k[0]),o.scale(k[1])];A=AF({axis:l,ticks:c,bandSize:i,offset:n.offset,entry:N,index:S}),_=(O=E??B)!==null&&O!==void 0?O:void 0,M=n.size;var R=B-E;if(L=jc(R)?0:R,U={x:A,y:x.top,width:M,height:x.height},Math.abs(z)>0&&Math.abs(L)<Math.abs(z)){var q=Zl(L||z)*(Math.abs(z)-Math.abs(L));_-=q,L+=q}}else{var[I,G]=[l.scale(k[0]),l.scale(k[1])];if(A=I,_=AF({axis:o,ticks:d,bandSize:i,offset:n.offset,entry:N,index:S}),M=G-I,L=n.size,U={x:x.left,y:_,width:x.width,height:L},Math.abs(z)>0&&Math.abs(M)<Math.abs(z)){var re=Zl(M||z)*(Math.abs(z)-Math.abs(M));M+=re}}if(A==null||_==null||M==null||L==null)return null;var te=El(El({},N),{},{x:A,y:_,width:M,height:L,value:u?k:k[1],payload:N,background:U,tooltipPosition:{x:A+M/2,y:_+L/2},parentViewBox:v},p&&p[S]&&p[S].props);return te}).filter(Boolean)}function NFe(e){var t=lo(e,yFe),a=Ol();return w.createElement(XQ,{id:t.id,type:"bar"},r=>w.createElement(w.Fragment,null,w.createElement(YQ,{legendPayload:cFe(t)}),w.createElement(KQ,{fn:dFe,args:t}),w.createElement(JQ,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:dTe(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:a}),w.createElement(wFe,$f({},t,{id:r}))))}var sJ=w.memo(NFe);sJ.displayName="Bar";function HB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function k2(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?HB(Object(a),!0).forEach(function(r){SFe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):HB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function SFe(e,t,a){return(t=kFe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function kFe(e){var t=CFe(e,"string");return typeof t=="symbol"?t:t+""}function CFe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AFe=(e,t)=>t,_Fe=(e,t,a)=>a,TFe=(e,t,a,r)=>r,EFe=(e,t,a,r,n)=>n,pb=pt([UN,EFe],(e,t)=>e.filter(a=>a.type==="bar").find(a=>a.id===t)),DFe=pt([pb],e=>e?.maxBarSize),MFe=(e,t,a,r,n,i)=>i,VB=(e,t,a)=>{var r=a??e;if(!Os(r))return md(r,t,0)},PFe=pt([Or,UN,AFe,_Fe,TFe],(e,t,a,r,n)=>t.filter(i=>e==="horizontal"?i.xAxisId===a:i.yAxisId===r).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),LFe=(e,t,a,r)=>{var n=Or(e);return n==="horizontal"?N6(e,"yAxis",a,r):N6(e,"xAxis",t,r)},OFe=(e,t,a)=>{var r=Or(e);return r==="horizontal"?YI(e,"xAxis",t):YI(e,"yAxis",a)},RFe=(e,t,a)=>{var r={},n=e.filter(IN),i=e.filter(d=>d.stackId==null),l=n.reduce((d,u)=>(d[u.stackId]||(d[u.stackId]=[]),d[u.stackId].push(u),d),r),o=Object.entries(l).map(d=>{var[u,f]=d,x=f.map(v=>v.dataKey),p=VB(t,a,f[0].barSize);return{stackId:u,dataKeys:x,barSize:p}}),c=i.map(d=>{var u=[d.dataKey].filter(x=>x!=null),f=VB(t,a,d.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...o,...c]},FFe=pt([PFe,aPe,OFe],RFe),IFe=(e,t,a,r,n)=>{var i,l,o=pb(e,t,a,r,n);if(o!=null){var c=Or(e),d=iX(e),{maxBarSize:u}=o,f=Os(u)?d:u,x,p;return c==="horizontal"?(x=Bf(e,"xAxis",t,r),p=If(e,"xAxis",t,r)):(x=Bf(e,"yAxis",a,r),p=If(e,"yAxis",a,r)),(i=(l=wv(x,p,!0))!==null&&l!==void 0?l:f)!==null&&i!==void 0?i:0}},nJ=(e,t,a,r)=>{var n=Or(e),i,l;return n==="horizontal"?(i=Bf(e,"xAxis",t,r),l=If(e,"xAxis",t,r)):(i=Bf(e,"yAxis",a,r),l=If(e,"yAxis",a,r)),wv(i,l)};function BFe(e,t,a,r,n){var i=r.length;if(!(i<1)){var l=md(e,a,0,!0),o,c=[];if(ml(r[0].barSize)){var d=!1,u=a/i,f=r.reduce((j,N)=>j+(N.barSize||0),0);f+=(i-1)*l,f>=a&&(f-=(i-1)*l,l=0),f>=a&&u>0&&(d=!0,u*=.9,f=i*u);var x=(a-f)/2>>0,p={offset:x-l,size:0};o=r.reduce((j,N)=>{var S,k={stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:p.offset+p.size+l,size:d?u:(S=N.barSize)!==null&&S!==void 0?S:0}},A=[...j,k];return p=A[A.length-1].position,A},c)}else{var v=md(t,a,0,!0);a-2*v-(i-1)*l<=0&&(l=0);var g=(a-2*v-(i-1)*l)/i;g>1&&(g>>=0);var b=ml(n)?Math.min(g,n):g;o=r.reduce((j,N,S)=>[...j,{stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:v+(g+l)*S+(g-b)/2,size:b}}],c)}return o}}var $Fe=(e,t,a,r,n,i,l)=>{var o=Os(l)?t:l,c=BFe(a,r,n!==i?n:i,e,o);return n!==i&&c!=null&&(c=c.map(d=>k2(k2({},d),{},{position:k2(k2({},d.position),{},{offset:d.position.offset-n/2})}))),c},UFe=pt([FFe,iX,tPe,lX,IFe,nJ,DFe],$Fe),zFe=(e,t,a,r)=>Bf(e,"xAxis",t,r),HFe=(e,t,a,r)=>Bf(e,"yAxis",a,r),VFe=(e,t,a,r)=>If(e,"xAxis",t,r),WFe=(e,t,a,r)=>If(e,"yAxis",a,r),qFe=pt([UFe,pb],(e,t)=>{if(!(e==null||t==null)){var a=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(a!=null)return a.position}}),GFe=(e,t)=>{var a=H8(t);if(!(!e||a==null||t==null)){var{stackId:r}=t;if(r!=null){var n=e[r];if(n){var{stackedData:i}=n;if(i)return i.find(l=>l.key===a)}}}},KFe=pt([LFe,pb],GFe),YFe=pt([ki,d8,zFe,HFe,VFe,WFe,qFe,Or,MN,nJ,KFe,pb,MFe],(e,t,a,r,n,i,l,o,c,d,u,f,x)=>{var{chartData:p,dataStartIndex:v,dataEndIndex:g}=c;if(!(f==null||l==null||t==null||o!=="horizontal"&&o!=="vertical"||a==null||r==null||n==null||i==null||d==null)){var{data:b}=f,j;if(b!=null&&b.length>0?j=b:j=p?.slice(v,g+1),j!=null)return jFe({layout:o,barSettings:f,pos:l,parentViewBox:t,bandSize:d,xAxis:a,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:u,displayedData:j,offset:e,cells:x})}}),XFe=e=>{var{chartData:t}=e,a=ri(),r=Ol();return w.useEffect(()=>r?()=>{}:(a(nB(t)),()=>{a(nB(void 0))}),[t,a,r]),null},WB={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},iJ=Fo({name:"brush",initialState:WB,reducers:{setBrushSettings(e,t){return t.payload==null?WB:t.payload}}}),{setBrushSettings:Uze}=iJ.actions,QFe=iJ.reducer;function JFe(e,t,a){return(t=ZFe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ZFe(e){var t=eIe(e,"string");return typeof t=="symbol"?t:t+""}function eIe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class mT{static create(t){return new mT(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:a,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+n}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var a=this.range(),r=a[0],n=a[a.length-1];return r<=n?t>=r&&t<=n:t>=n&&t<=r}}JFe(mT,"EPS",1e-4);function tIe(e){return(e%180+180)%180}var aIe=function(t){var{width:a,height:r}=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=tIe(n),l=i*Math.PI/180,o=Math.atan(r/a),c=l>o&&l<Math.PI-o?r/Math.sin(l):a/Math.cos(l);return Math.abs(c)},rIe={dots:[],areas:[],lines:[]},lJ=Fo({name:"referenceElements",initialState:rIe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var a=ih(e).dots.findIndex(r=>r===t.payload);a!==-1&&e.dots.splice(a,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var a=ih(e).areas.findIndex(r=>r===t.payload);a!==-1&&e.areas.splice(a,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var a=ih(e).lines.findIndex(r=>r===t.payload);a!==-1&&e.lines.splice(a,1)}}}),{addDot:zze,removeDot:Hze,addArea:Vze,removeArea:Wze,addLine:qze,removeLine:Gze}=lJ.actions,sIe=lJ.reducer,nIe=w.createContext(void 0),iIe=e=>{var{children:t}=e,[a]=w.useState("".concat(gv("recharts"),"-clip")),r=uT();if(r==null)return null;var{x:n,y:i,width:l,height:o}=r;return w.createElement(nIe.Provider,{value:a},w.createElement("defs",null,w.createElement("clipPath",{id:a},w.createElement("rect",{x:n,y:i,height:o,width:l}))),t)};function gx(e,t){for(var a in e)if({}.hasOwnProperty.call(e,a)&&(!{}.hasOwnProperty.call(t,a)||e[a]!==t[a]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function oJ(e,t,a){if(t<1)return[];if(t===1&&a===void 0)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function lIe(e,t,a){var r={width:e.width+t.width,height:e.height+t.height};return aIe(r,a)}function oIe(e,t,a){var r=a==="width",{x:n,y:i,width:l,height:o}=e;return t===1?{start:r?n:i,end:r?n+l:i+o}:{start:r?n+l:i+o,end:r?n:i}}function mj(e,t,a,r,n){if(e*t<e*r||e*t>e*n)return!1;var i=a();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-n)<=0}function cIe(e,t){return oJ(e,t+1)}function dIe(e,t,a,r,n){for(var i=(r||[]).slice(),{start:l,end:o}=t,c=0,d=1,u=l,f=function(){var v=r?.[c];if(v===void 0)return{v:oJ(r,d)};var g=c,b,j=()=>(b===void 0&&(b=a(v,g)),b),N=v.coordinate,S=c===0||mj(e,N,j,u,o);S||(c=0,u=l,d+=1),S&&(u=N+e*(j()/2+n),c+=d)},x;d<=i.length;)if(x=f(),x)return x.v;return[]}function qB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function tl(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?qB(Object(a),!0).forEach(function(r){uIe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function uIe(e,t,a){return(t=hIe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function hIe(e){var t=fIe(e,"string");return typeof t=="symbol"?t:t+""}function fIe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mIe(e,t,a,r,n){for(var i=(r||[]).slice(),l=i.length,{start:o}=t,{end:c}=t,d=function(x){var p=i[x],v,g=()=>(v===void 0&&(v=a(p,x)),v);if(x===l-1){var b=e*(p.coordinate+e*g()/2-c);i[x]=p=tl(tl({},p),{},{tickCoord:b>0?p.coordinate-b*e:p.coordinate})}else i[x]=p=tl(tl({},p),{},{tickCoord:p.coordinate});var j=mj(e,p.tickCoord,g,o,c);j&&(c=p.tickCoord-e*(g()/2+n),i[x]=tl(tl({},p),{},{isShow:!0}))},u=l-1;u>=0;u--)d(u);return i}function pIe(e,t,a,r,n,i){var l=(r||[]).slice(),o=l.length,{start:c,end:d}=t;if(i){var u=r[o-1],f=a(u,o-1),x=e*(u.coordinate+e*f/2-d);l[o-1]=u=tl(tl({},u),{},{tickCoord:x>0?u.coordinate-x*e:u.coordinate});var p=mj(e,u.tickCoord,()=>f,c,d);p&&(d=u.tickCoord-e*(f/2+n),l[o-1]=tl(tl({},u),{},{isShow:!0}))}for(var v=i?o-1:o,g=function(N){var S=l[N],k,A=()=>(k===void 0&&(k=a(S,N)),k);if(N===0){var _=e*(S.coordinate-e*A()/2-c);l[N]=S=tl(tl({},S),{},{tickCoord:_<0?S.coordinate-_*e:S.coordinate})}else l[N]=S=tl(tl({},S),{},{tickCoord:S.coordinate});var M=mj(e,S.tickCoord,A,c,d);M&&(c=S.tickCoord+e*(A()/2+n),l[N]=tl(tl({},S),{},{isShow:!0}))},b=0;b<v;b++)g(b);return l}function pT(e,t,a){var{tick:r,ticks:n,viewBox:i,minTickGap:l,orientation:o,interval:c,tickFormatter:d,unit:u,angle:f}=e;if(!n||!n.length||!r)return[];if(ja(c)||Bm.isSsr){var x;return(x=cIe(n,ja(c)?c:0))!==null&&x!==void 0?x:[]}var p=[],v=o==="top"||o==="bottom"?"width":"height",g=u&&v==="width"?L1(u,{fontSize:t,letterSpacing:a}):{width:0,height:0},b=(S,k)=>{var A=typeof d=="function"?d(S.value,k):S.value;return v==="width"?lIe(L1(A,{fontSize:t,letterSpacing:a}),g,f):L1(A,{fontSize:t,letterSpacing:a})[v]},j=n.length>=2?Zl(n[1].coordinate-n[0].coordinate):1,N=oIe(i,j,v);return c==="equidistantPreserveStart"?dIe(j,N,b,n,l):(c==="preserveStart"||c==="preserveStartEnd"?p=pIe(j,N,b,n,l,c==="preserveStartEnd"):p=mIe(j,N,b,n,l),p.filter(S=>S.isShow))}var xIe=e=>{var{ticks:t,label:a,labelGapWithTick:r=5,tickSize:n=0,tickMargin:i=0}=e,l=0;if(t){Array.from(t).forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>l&&(l=f.width)}});var o=a?a.getBoundingClientRect().width:0,c=n+i,d=l+c+o+(a?r:0);return Math.round(d)}return 0},gIe=["axisLine","width","height","className","hide","ticks"],vIe=["viewBox"],bIe=["viewBox"];function D6(e,t){if(e==null)return{};var a,r,n=yIe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function yIe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Sm(){return Sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Sm.apply(null,arguments)}function GB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function Xn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?GB(Object(a),!0).forEach(function(r){wIe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):GB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function wIe(e,t,a){return(t=jIe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function jIe(e){var t=NIe(e,"string");return typeof t=="symbol"?t:t+""}function NIe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xT={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function SIe(e){var{x:t,y:a,width:r,height:n,orientation:i,mirror:l,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var d=Xn(Xn(Xn({},c),hd(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!l||i==="bottom"&&l);d=Xn(Xn({},d),{},{x1:t,y1:a+u*n,x2:t+r,y2:a+u*n})}else{var f=+(i==="left"&&!l||i==="right"&&l);d=Xn(Xn({},d),{},{x1:t+f*r,y1:a,x2:t+f*r,y2:a+n})}return w.createElement("line",Sm({},d,{className:Jr("recharts-cartesian-axis-line",hx(o,"className"))}))}function kIe(e,t,a,r,n,i,l,o,c){var d,u,f,x,p,v,g=o?-1:1,b=e.tickSize||l,j=ja(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":d=u=e.coordinate,x=a+ +!o*n,f=x-g*b,v=f-g*c,p=j;break;case"left":f=x=e.coordinate,u=t+ +!o*r,d=u-g*b,p=d-g*c,v=j;break;case"right":f=x=e.coordinate,u=t+ +o*r,d=u+g*b,p=d+g*c,v=j;break;default:d=u=e.coordinate,x=a+ +o*n,f=x+g*b,v=f+g*c,p=j;break}return{line:{x1:d,y1:f,x2:u,y2:x},tick:{x:p,y:v}}}function CIe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function AIe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function _Ie(e){var{option:t,tickProps:a,value:r}=e,n,i=Jr(a.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))n=w.cloneElement(t,Xn(Xn({},a),{},{className:i}));else if(typeof t=="function")n=t(Xn(Xn({},a),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Jr(l,t?.className)),n=w.createElement(cT,Sm({},a,{className:l}),r)}return n}function TIe(e){var{ticks:t=[],tick:a,tickLine:r,stroke:n,tickFormatter:i,unit:l,padding:o,tickTextProps:c,orientation:d,mirror:u,x:f,y:x,width:p,height:v,tickSize:g,tickMargin:b,fontSize:j,letterSpacing:N,getTicksConfig:S,events:k}=e,A=pT(Xn(Xn({},S),{},{ticks:t}),j,N),_=CIe(d,u),M=AIe(d,u),L=hd(S),U=eb(a),z={};typeof r=="object"&&(z=r);var O=Xn(Xn({},L),{},{fill:"none"},z),B=A.map((E,R)=>{var{line:q,tick:I}=kIe(E,f,x,p,v,d,g,u,b),G=Xn(Xn(Xn(Xn({textAnchor:_,verticalAnchor:M},L),{},{stroke:"none",fill:n},U),I),{},{index:R,payload:E,visibleTicksCount:A.length,tickFormatter:i,padding:o},c);return w.createElement(fd,Sm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},a8(k,E,R)),r&&w.createElement("line",Sm({},O,q,{className:Jr("recharts-cartesian-axis-tick-line",hx(r,"className"))})),a&&w.createElement(_Ie,{option:a,tickProps:G,value:"".concat(typeof i=="function"?i(E.value,R):E.value).concat(l||"")}))});return B.length>0?w.createElement("g",{className:"recharts-cartesian-axis-ticks"},B):null}var EIe=w.forwardRef((e,t)=>{var{axisLine:a,width:r,height:n,className:i,hide:l,ticks:o}=e,c=D6(e,gIe),[d,u]=w.useState(""),[f,x]=w.useState(""),p=w.useRef(null);w.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return xIe({ticks:p.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=w.useCallback(g=>{if(g){var b=g.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=b;var j=b[0];if(j){var N=window.getComputedStyle(j),S=N.fontSize,k=N.letterSpacing;(S!==d||k!==f)&&(u(S),x(k))}}},[d,f]);return l||r!=null&&r<=0||n!=null&&n<=0?null:w.createElement(fd,{className:Jr("recharts-cartesian-axis",i),ref:v},w.createElement(SIe,{x:e.x,y:e.y,width:r,height:n,orientation:e.orientation,mirror:e.mirror,axisLine:a,otherSvgProps:hd(e)}),w.createElement(TIe,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:d,letterSpacing:f,getTicksConfig:e,events:c}),w.createElement(xRe,{x:e.x,y:e.y,width:e.width,height:e.height},w.createElement(CRe,{label:e.label,labelRef:e.labelRef}),e.children))}),DIe=w.memo(EIe,(e,t)=>{var{viewBox:a}=e,r=D6(e,vIe),{viewBox:n}=t,i=D6(t,bIe);return gx(a,n)&&gx(r,i)}),gT=w.forwardRef((e,t)=>{var a=lo(e,xT);return w.createElement(DIe,Sm({},a,{ref:t}))});gT.displayName="CartesianAxis";var MIe=["x1","y1","x2","y2","key"],PIe=["offset"],LIe=["xAxisId","yAxisId"],OIe=["xAxisId","yAxisId"];function KB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function il(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?KB(Object(a),!0).forEach(function(r){RIe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):KB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function RIe(e,t,a){return(t=FIe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function FIe(e){var t=IIe(e,"string");return typeof t=="symbol"?t:t+""}function IIe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z0(){return z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},z0.apply(null,arguments)}function pj(e,t){if(e==null)return{};var a,r,n=BIe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function BIe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var $Ie=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:a,x:r,y:n,width:i,height:l,ry:o}=e;return w.createElement("rect",{x:r,y:n,ry:o,width:i,height:l,stroke:"none",fill:t,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function cJ(e,t){var a;if(w.isValidElement(e))a=w.cloneElement(e,t);else if(typeof e=="function")a=e(t);else{var{x1:r,y1:n,x2:i,y2:l,key:o}=t,c=pj(t,MIe),d=hd(c),{offset:u}=d,f=pj(d,PIe);a=w.createElement("line",z0({},f,{x1:r,y1:n,x2:i,y2:l,fill:"none",key:o}))}return a}function UIe(e){var{x:t,width:a,horizontal:r=!0,horizontalPoints:n}=e;if(!r||!n||!n.length)return null;var{xAxisId:i,yAxisId:l}=e,o=pj(e,LIe),c=n.map((d,u)=>{var f=il(il({},o),{},{x1:t,y1:d,x2:t+a,y2:d,key:"line-".concat(u),index:u});return cJ(r,f)});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function zIe(e){var{y:t,height:a,vertical:r=!0,verticalPoints:n}=e;if(!r||!n||!n.length)return null;var{xAxisId:i,yAxisId:l}=e,o=pj(e,OIe),c=n.map((d,u)=>{var f=il(il({},o),{},{x1:d,y1:t,x2:d,y2:t+a,key:"line-".concat(u),index:u});return cJ(r,f)});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function HIe(e){var{horizontalFill:t,fillOpacity:a,x:r,y:n,width:i,height:l,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=o.map(f=>Math.round(f+n-n)).sort((f,x)=>f-x);n!==d[0]&&d.unshift(0);var u=d.map((f,x)=>{var p=!d[x+1],v=p?n+l-f:d[x+1]-f;if(v<=0)return null;var g=x%t.length;return w.createElement("rect",{key:"react-".concat(x),y:f,x:r,height:v,width:i,stroke:"none",fill:t[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function VIe(e){var{vertical:t=!0,verticalFill:a,fillOpacity:r,x:n,y:i,width:l,height:o,verticalPoints:c}=e;if(!t||!a||!a.length)return null;var d=c.map(f=>Math.round(f+n-n)).sort((f,x)=>f-x);n!==d[0]&&d.unshift(0);var u=d.map((f,x)=>{var p=!d[x+1],v=p?n+l-f:d[x+1]-f;if(v<=0)return null;var g=x%a.length;return w.createElement("rect",{key:"react-".concat(x),x:f,y:i,width:v,height:o,stroke:"none",fill:a[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var WIe=(e,t)=>{var{xAxis:a,width:r,height:n,offset:i}=e;return VK(pT(il(il(il({},xT),a),{},{ticks:WK(a),viewBox:{x:0,y:0,width:r,height:n}})),i.left,i.left+i.width,t)},qIe=(e,t)=>{var{yAxis:a,width:r,height:n,offset:i}=e;return VK(pT(il(il(il({},xT),a),{},{ticks:WK(a),viewBox:{x:0,y:0,width:r,height:n}})),i.top,i.top+i.height,t)},GIe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function M6(e){var t=QK(),a=JK(),r=XK(),n=il(il({},lo(e,GIe)),{},{x:ja(e.x)?e.x:r.left,y:ja(e.y)?e.y:r.top,width:ja(e.width)?e.width:r.width,height:ja(e.height)?e.height:r.height}),{xAxisId:i,yAxisId:l,x:o,y:c,width:d,height:u,syncWithTicks:f,horizontalValues:x,verticalValues:p}=n,v=Ol(),g=wa(U=>XI(U,"xAxis",i,v)),b=wa(U=>XI(U,"yAxis",l,v));if(!ja(d)||d<=0||!ja(u)||u<=0||!ja(o)||o!==+o||!ja(c)||c!==+c)return null;var j=n.verticalCoordinatesGenerator||WIe,N=n.horizontalCoordinatesGenerator||qIe,{horizontalPoints:S,verticalPoints:k}=n;if((!S||!S.length)&&typeof N=="function"){var A=x&&x.length,_=N({yAxis:b?il(il({},b),{},{ticks:A?x:b.ticks}):void 0,width:t,height:a,offset:r},A?!0:f);Ww(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(S=_)}if((!k||!k.length)&&typeof j=="function"){var M=p&&p.length,L=j({xAxis:g?il(il({},g),{},{ticks:M?p:g.ticks}):void 0,width:t,height:a,offset:r},M?!0:f);Ww(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(k=L)}return w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement($Ie,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),w.createElement(HIe,z0({},n,{horizontalPoints:S})),w.createElement(VIe,z0({},n,{verticalPoints:k})),w.createElement(UIe,z0({},n,{offset:r,horizontalPoints:S,xAxis:g,yAxis:b})),w.createElement(zIe,z0({},n,{offset:r,verticalPoints:k,xAxis:g,yAxis:b})))}M6.displayName="CartesianGrid";var dJ=(e,t,a,r)=>Bf(e,"xAxis",t,r),uJ=(e,t,a,r)=>If(e,"xAxis",t,r),hJ=(e,t,a,r)=>Bf(e,"yAxis",a,r),fJ=(e,t,a,r)=>If(e,"yAxis",a,r),KIe=pt([Or,dJ,hJ,uJ,fJ],(e,t,a,r,n)=>Gf(e,"xAxis")?wv(t,r,!1):wv(a,n,!1)),YIe=(e,t,a,r,n)=>n;function XIe(e){return e.type==="line"}var QIe=pt([UN,YIe],(e,t)=>e.filter(XIe).find(a=>a.id===t)),JIe=pt([Or,dJ,hJ,uJ,fJ,QIe,KIe,MN],(e,t,a,r,n,i,l,o)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:u}=o;if(!(i==null||t==null||a==null||r==null||n==null||r.length===0||n.length===0||l==null)){var{dataKey:f,data:x}=i,p;if(x!=null&&x.length>0?p=x:p=c?.slice(d,u+1),p!=null)return wBe({layout:e,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:n,dataKey:f,bandSize:l,displayedData:p})}});function ZIe(e){var t=eb(e),a=3,r=2;if(t!=null){var{r:n,strokeWidth:i}=t,l=Number(n),o=Number(i);return(Number.isNaN(l)||l<0)&&(l=a),(Number.isNaN(o)||o<0)&&(o=r),{r:l,strokeWidth:o}}return{r:a,strokeWidth:r}}var eBe=["id"],tBe=["type","layout","connectNulls","needClip"],aBe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function YB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function To(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?YB(Object(a),!0).forEach(function(r){rBe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):YB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function rBe(e,t,a){return(t=sBe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function sBe(e){var t=nBe(e,"string");return typeof t=="symbol"?t:t+""}function nBe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vT(e,t){if(e==null)return{};var a,r,n=iBe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function iBe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},km.apply(null,arguments)}var lBe=e=>{var{dataKey:t,name:a,stroke:r,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:r,value:xN(a,t),payload:e}]};function oBe(e){var{dataKey:t,data:a,stroke:r,strokeWidth:n,fill:i,name:l,hide:o,unit:c}=e;return{dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:xN(l,t),hide:o,type:e.tooltipType,color:e.stroke,unit:c}}}var mJ=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function cBe(e,t){for(var a=e.length%2!==0?[...e,0]:e,r=[],n=0;n<t;++n)r=[...r,...a];return r}var dBe=(e,t,a)=>{var r=a.reduce((f,x)=>f+x);if(!r)return mJ(t,e);for(var n=Math.floor(e/r),i=e%r,l=t-e,o=[],c=0,d=0;c<a.length;d+=a[c],++c)if(d+a[c]>i){o=[...a.slice(0,c),i-d];break}var u=o.length%2===0?[0,l]:[l];return[...cBe(a,n),...o,...u].map(f=>"".concat(f,"px")).join(", ")};function uBe(e,t){var a;if(w.isValidElement(e))a=w.cloneElement(e,t);else if(typeof e=="function")a=e(t);else{var r=Jr("recharts-line-dot",typeof e!="boolean"?e.className:"");a=w.createElement(UQ,km({},t,{className:r}))}return a}function hBe(e,t){return e==null?!1:t?!0:e.length===1}function fBe(e){var{clipPathId:t,points:a,props:r}=e,{dot:n,dataKey:i,needClip:l}=r;if(!hBe(a,n))return null;var{id:o}=r,c=vT(r,eBe),d=VQ(n),u=hd(c),f=X6e(n),x=a.map((v,g)=>{var b=To(To(To({key:"dot-".concat(g),r:3},u),f),{},{index:g,cx:v.x,cy:v.y,dataKey:i,value:v.value,payload:v.payload,points:a});return uBe(n,b)}),p={clipPath:l?"url(#clipPath-".concat(d?"":"dots-").concat(t,")"):void 0};return w.createElement(fd,km({className:"recharts-line-dots",key:"dots"},p),x)}function mBe(e){var{showLabels:t,children:a,points:r}=e,n=w.useMemo(()=>r?.map(i=>{var l={x:i.x,y:i.y,width:0,height:0};return To(To({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return w.createElement(IQ,{value:t?n:null},a)}function XB(e){var{clipPathId:t,pathRef:a,points:r,strokeDasharray:n,props:i}=e,{type:l,layout:o,connectNulls:c,needClip:d}=i,u=vT(i,tBe),f=To(To({},Ll(u)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:r,type:l,layout:o,connectNulls:c,strokeDasharray:n??i.strokeDasharray});return w.createElement(w.Fragment,null,r?.length>1&&w.createElement(tY,km({},f,{pathRef:a})),w.createElement(fBe,{points:r,clipPathId:t,props:i}))}function pBe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function xBe(e){var{clipPathId:t,props:a,pathRef:r,previousPointsRef:n,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:o,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:f,animateNewValues:x,width:p,height:v,onAnimationEnd:g,onAnimationStart:b}=a,j=n.current,N=kN(a,"recharts-line-"),[S,k]=w.useState(!1),A=!S,_=w.useCallback(()=>{typeof g=="function"&&g(),k(!1)},[g]),M=w.useCallback(()=>{typeof b=="function"&&b(),k(!0)},[b]),L=pBe(r.current),U=i.current;return w.createElement(mBe,{points:l,showLabels:A},a.children,w.createElement(SN,{animationId:N,begin:d,duration:u,isActive:c,easing:f,onAnimationEnd:_,onAnimationStart:M,key:N},z=>{var O=Fn(U,L+U,z),B=Math.min(O,L),E;if(c)if(o){var R="".concat(o).split(/[,\s]+/gim).map(G=>parseFloat(G));E=dBe(B,L,R)}else E=mJ(L,B);else E=o==null?void 0:String(o);if(j){var q=j.length/l.length,I=z===1?l:l.map((G,re)=>{var te=Math.floor(re*q);if(j[te]){var X=j[te];return To(To({},G),{},{x:Fn(X.x,G.x,z),y:Fn(X.y,G.y,z)})}return x?To(To({},G),{},{x:Fn(p*2,G.x,z),y:Fn(v/2,G.y,z)}):To(To({},G),{},{x:G.x,y:G.y})});return n.current=I,w.createElement(XB,{props:a,points:I,clipPathId:t,pathRef:r,strokeDasharray:E})}return z>0&&L>0&&(n.current=l,i.current=B),w.createElement(XB,{props:a,points:l,clipPathId:t,pathRef:r,strokeDasharray:E})}),w.createElement($Q,{label:a.label}))}function gBe(e){var{clipPathId:t,props:a}=e,r=w.useRef(null),n=w.useRef(0),i=w.useRef(null);return w.createElement(xBe,{props:a,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:n,pathRef:i})}var vBe=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Si(e.payload,t)});class bBe extends w.Component{render(){var{hide:t,dot:a,points:r,className:n,xAxisId:i,yAxisId:l,top:o,left:c,width:d,height:u,id:f,needClip:x}=this.props;if(t)return null;var p=Jr("recharts-line",n),v=f,{r:g,strokeWidth:b}=ZIe(a),j=VQ(a),N=g*2+b;return w.createElement(w.Fragment,null,w.createElement(fd,{className:p},x&&w.createElement("defs",null,w.createElement(aJ,{clipPathId:v,xAxisId:i,yAxisId:l}),!j&&w.createElement("clipPath",{id:"clipPath-dots-".concat(v)},w.createElement("rect",{x:c-N/2,y:o-N/2,width:d+N,height:u+N}))),w.createElement(tJ,{xAxisId:i,yAxisId:l,data:r,dataPointFormatter:vBe,errorBarOffset:0},w.createElement(gBe,{props:this.props,clipPathId:v}))),w.createElement(F9e,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var pJ={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Bm.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function yBe(e){var t=lo(e,pJ),{activeDot:a,animateNewValues:r,animationBegin:n,animationDuration:i,animationEasing:l,connectNulls:o,dot:c,hide:d,isAnimationActive:u,label:f,legendType:x,xAxisId:p,yAxisId:v,id:g}=t,b=vT(t,aBe),{needClip:j}=fT(p,v),N=uT(),S=jN(),k=Ol(),A=wa(z=>JIe(z,p,v,k,g));if(S!=="horizontal"&&S!=="vertical"||A==null||N==null)return null;var{height:_,width:M,x:L,y:U}=N;return w.createElement(bBe,km({},b,{id:g,connectNulls:o,dot:c,activeDot:a,animateNewValues:r,animationBegin:n,animationDuration:i,animationEasing:l,isAnimationActive:u,hide:d,label:f,legendType:x,xAxisId:p,yAxisId:v,points:A,layout:S,height:_,width:M,left:L,top:U,needClip:j}))}function wBe(e){var{layout:t,xAxis:a,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:l,bandSize:o,displayedData:c}=e;return c.map((d,u)=>{var f=Si(d,l);if(t==="horizontal"){var x=CF({axis:a,ticks:n,bandSize:o,entry:d,index:u}),p=Os(f)?null:r.scale(f);return{x,y:p,value:f,payload:d}}var v=Os(f)?null:a.scale(f),g=CF({axis:r,ticks:i,bandSize:o,entry:d,index:u});return v==null||g==null?null:{x:v,y:g,value:f,payload:d}}).filter(Boolean)}function jBe(e){var t=lo(e,pJ),a=Ol();return w.createElement(XQ,{id:t.id,type:"line"},r=>w.createElement(w.Fragment,null,w.createElement(YQ,{legendPayload:lBe(t)}),w.createElement(KQ,{fn:oBe,args:t}),w.createElement(JQ,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:a}),w.createElement(yBe,km({},t,{id:r}))))}var xj=w.memo(jBe);xj.displayName="Line";var NBe=["dangerouslySetInnerHTML","ticks"],SBe=["id"],kBe=["domain"],CBe=["domain"];function P6(){return P6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},P6.apply(null,arguments)}function gj(e,t){if(e==null)return{};var a,r,n=ABe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function ABe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function _Be(e){var t=ri();return w.useLayoutEffect(()=>(t(S9e(e)),()=>{t(k9e(e))}),[e,t]),null}var TBe=e=>{var{xAxisId:t,className:a}=e,r=wa(d8),n=Ol(),i="xAxis",l=wa(b=>Ix(b,i,t,n)),o=wa(b=>QX(b,i,t,n)),c=wa(b=>GX(b,t)),d=wa(b=>XPe(b,t)),u=wa(b=>xX(b,t));if(c==null||d==null||u==null)return null;var{dangerouslySetInnerHTML:f,ticks:x}=e,p=gj(e,NBe),{id:v}=u,g=gj(u,SBe);return w.createElement(gT,P6({},p,g,{scale:l,x:d.x,y:d.y,width:c.width,height:c.height,className:Jr("recharts-".concat(i," ").concat(i),a),viewBox:r,ticks:o}))},EBe={allowDataOverflow:No.allowDataOverflow,allowDecimals:No.allowDecimals,allowDuplicatedCategory:No.allowDuplicatedCategory,height:No.height,hide:!1,mirror:No.mirror,orientation:No.orientation,padding:No.padding,reversed:No.reversed,scale:No.scale,tickCount:No.tickCount,type:No.type,xAxisId:0},DBe=e=>{var t,a,r,n,i,l=lo(e,EBe);return w.createElement(w.Fragment,null,w.createElement(_Be,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(a=l.includeHidden)!==null&&a!==void 0?a:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(n=l.minTickGap)!==null&&n!==void 0?n:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),w.createElement(TBe,l))},MBe=(e,t)=>{var{domain:a}=e,r=gj(e,kBe),{domain:n}=t,i=gj(t,CBe);return gx(r,i)?Array.isArray(a)&&a.length===2&&Array.isArray(n)&&n.length===2?a[0]===n[0]&&a[1]===n[1]:gx({domain:a},{domain:n}):!1},Tv=w.memo(DBe,MBe);Tv.displayName="XAxis";var PBe=["dangerouslySetInnerHTML","ticks"],LBe=["id"],OBe=["domain"],RBe=["domain"];function L6(){return L6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},L6.apply(null,arguments)}function vj(e,t){if(e==null)return{};var a,r,n=FBe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function FBe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function IBe(e){var t=ri();return w.useLayoutEffect(()=>(t(C9e(e)),()=>{t(A9e(e))}),[e,t]),null}var BBe=e=>{var{yAxisId:t,className:a,width:r,label:n}=e,i=w.useRef(null),l=w.useRef(null),o=wa(d8),c=Ol(),d=ri(),u="yAxis",f=wa(A=>Ix(A,u,t,c)),x=wa(A=>KX(A,t)),p=wa(A=>JPe(A,t)),v=wa(A=>QX(A,u,t,c)),g=wa(A=>gX(A,t));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!x||dT(n)||w.isValidElement(n)||g==null)){var A=i.current;if(A){var _=A.getCalculatedWidth();Math.round(x.width)!==Math.round(_)&&d(_9e({id:t,width:_}))}}},[v,x,d,n,t,r,g]),x==null||p==null||g==null)return null;var{dangerouslySetInnerHTML:b,ticks:j}=e,N=vj(e,PBe),{id:S}=g,k=vj(g,LBe);return w.createElement(gT,L6({},N,k,{ref:i,labelRef:l,scale:f,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:x.width,height:x.height,className:Jr("recharts-".concat(u," ").concat(u),a),viewBox:o,ticks:v}))},$Be={allowDataOverflow:So.allowDataOverflow,allowDecimals:So.allowDecimals,allowDuplicatedCategory:So.allowDuplicatedCategory,hide:!1,mirror:So.mirror,orientation:So.orientation,padding:So.padding,reversed:So.reversed,scale:So.scale,tickCount:So.tickCount,type:So.type,width:So.width,yAxisId:0},UBe=e=>{var t,a,r,n,i,l=lo(e,$Be);return w.createElement(w.Fragment,null,w.createElement(IBe,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(a=l.includeHidden)!==null&&a!==void 0?a:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(n=l.minTickGap)!==null&&n!==void 0?n:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),w.createElement(BBe,l))},zBe=(e,t)=>{var{domain:a}=e,r=vj(e,OBe),{domain:n}=t,i=vj(t,RBe);return gx(r,i)?Array.isArray(a)&&a.length===2&&Array.isArray(n)&&n.length===2?a[0]===n[0]&&a[1]===n[1]:gx({domain:a},{domain:n}):!1},Ev=w.memo(UBe,zBe);Ev.displayName="YAxis";var lk={exports:{}},ok={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QB;function HBe(){if(QB)return ok;QB=1;var e=vx();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var a=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,n=e.useRef,i=e.useEffect,l=e.useMemo,o=e.useDebugValue;return ok.useSyncExternalStoreWithSelector=function(c,d,u,f,x){var p=n(null);if(p.current===null){var v={hasValue:!1,value:null};p.current=v}else v=p.current;p=l(function(){function b(A){if(!j){if(j=!0,N=A,A=f(A),x!==void 0&&v.hasValue){var _=v.value;if(x(_,A))return S=_}return S=A}if(_=S,a(N,A))return _;var M=f(A);return x!==void 0&&x(_,M)?(N=A,_):(N=A,S=M)}var j=!1,N,S,k=u===void 0?null:u;return[function(){return b(d())},k===null?void 0:function(){return b(k())}]},[d,u,f,x]);var g=r(c,p[0],p[1]);return i(function(){v.hasValue=!0,v.value=g},[g]),o(g),g},ok}var JB;function VBe(){return JB||(JB=1,lk.exports=HBe()),lk.exports}VBe();function WBe(e){e()}function qBe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){WBe(()=>{let a=e;for(;a;)a.callback(),a=a.next})},get(){const a=[];let r=e;for(;r;)a.push(r),r=r.next;return a},subscribe(a){let r=!0;const n=t={callback:a,next:null,prev:t};return n.prev?n.prev.next=n:e=n,function(){!r||e===null||(r=!1,n.next?n.next.prev=n.prev:t=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}var ZB={notify(){},get:()=>[]};function GBe(e,t){let a,r=ZB,n=0,i=!1;function l(g){u();const b=r.subscribe(g);let j=!1;return()=>{j||(j=!0,b(),f())}}function o(){r.notify()}function c(){v.onStateChange&&v.onStateChange()}function d(){return i}function u(){n++,a||(a=e.subscribe(c),r=qBe())}function f(){n--,a&&n===0&&(a(),a=void 0,r.clear(),r=ZB)}function x(){i||(i=!0,u())}function p(){i&&(i=!1,f())}const v={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:d,trySubscribe:x,tryUnsubscribe:p,getListeners:()=>r};return v}var KBe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YBe=KBe(),XBe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",QBe=XBe(),JBe=()=>YBe||QBe?w.useLayoutEffect:w.useEffect,ZBe=JBe(),e$e=Symbol.for("react-redux-context"),t$e=typeof globalThis<"u"?globalThis:{};function a$e(){if(!w.createContext)return{};const e=t$e[e$e]??=new Map;let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var r$e=a$e();function s$e(e){const{children:t,context:a,serverState:r,store:n}=e,i=w.useMemo(()=>{const c=GBe(n);return{store:n,subscription:c,getServerState:r?()=>r:void 0}},[n,r]),l=w.useMemo(()=>n.getState(),[n]);ZBe(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==n.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,l]);const o=a||r$e;return w.createElement(o.Provider,{value:i},t)}var n$e=s$e,i$e=(e,t)=>t,bT=pt([i$e,Or,fX,ii,mQ,_h,rOe,ki],oOe),yT=e=>{var t=e.currentTarget.getBoundingClientRect(),a=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/a),chartY:Math.round((e.clientY-t.top)/r)}},xJ=Nc("mouseClick"),gJ=rb();gJ.startListening({actionCreator:xJ,effect:(e,t)=>{var a=e.payload,r=bT(t.getState(),yT(a));r?.activeIndex!=null&&t.dispatch(uLe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var O6=Nc("mouseMove"),vJ=rb();vJ.startListening({actionCreator:O6,effect:(e,t)=>{var a=e.payload,r=t.getState(),n=Z8(r,r.tooltip.settings.shared),i=bT(r,yT(a));n==="axis"&&(i?.activeIndex!=null?t.dispatch(nQ({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(sQ()))}});var e$={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},bJ=Fo({name:"rootProps",initialState:e$,reducers:{updateOptions:(e,t)=>{var a;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(a=t.payload.barGap)!==null&&a!==void 0?a:e$.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),l$e=bJ.reducer,{updateOptions:o$e}=bJ.actions,yJ=Fo({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Kze}=yJ.actions,c$e=yJ.reducer,wJ=Nc("keyDown"),jJ=Nc("focus"),wT=rb();wT.startListening({actionCreator:wJ,effect:(e,t)=>{var a=t.getState(),r=a.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:n}=a.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(eT(n,$x(a))),o=_h(a);if(i==="Enter"){var c=oj(a,"axis","hover",String(n.index));t.dispatch(k6({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:c}));return}var d=aLe(a),u=d==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,x=l+f*u;if(!(o==null||x>=o.length||x<0)){var p=oj(a,"axis","hover",String(x));t.dispatch(k6({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});wT.startListening({actionCreator:jJ,effect:(e,t)=>{var a=t.getState(),r=a.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:n}=a.tooltip;if(!n.active&&n.index==null){var i="0",l=oj(a,"axis","hover",String(i));t.dispatch(k6({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var dc=Nc("externalEvent"),NJ=rb();NJ.startListening({actionCreator:dc,effect:(e,t)=>{if(e.payload.handler!=null){var a=t.getState(),r={activeCoordinate:GLe(a),activeDataKey:vQ(a),activeIndex:Nm(a),activeLabel:gQ(a),activeTooltipIndex:Nm(a),isTooltipActive:KLe(a)};e.payload.handler(r,e.payload.reactEvent)}}});var d$e=pt([Bx],e=>e.tooltipItemPayloads),u$e=pt([d$e,fb,(e,t,a)=>t,(e,t,a)=>a],(e,t,a,r)=>{var n=e.find(o=>o.settings.dataKey===r);if(n!=null){var{positions:i}=n;if(i!=null){var l=t(i,a);return l}}}),SJ=Nc("touchMove"),kJ=rb();kJ.startListening({actionCreator:SJ,effect:(e,t)=>{var a=e.payload,r=t.getState(),n=Z8(r,r.tooltip.settings.shared);if(n==="axis"){var i=bT(r,yT({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY,currentTarget:a.currentTarget}));i?.activeIndex!=null&&t.dispatch(nQ({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(n==="item"){var l,o=a.touches[0],c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(bTe),u=(l=c.getAttribute(yTe))!==null&&l!==void 0?l:void 0,f=u$e(t.getState(),d,u);t.dispatch(rQ({activeDataKey:u,activeIndex:d,activeCoordinate:f}))}}});var h$e=vK({brush:QFe,cartesianAxis:T9e,chartData:SOe,errorBars:Y9e,graphicalItems:b9e,layout:z8e,legend:QTe,options:bOe,polarAxis:$Re,polarOptions:c$e,referenceElements:sIe,rootProps:l$e,tooltip:hLe}),f$e=function(t){return f8e({reducer:h$e,preloadedState:t,middleware:a=>a({serializableCheck:!1}).concat([gJ.middleware,vJ.middleware,wT.middleware,NJ.middleware,kJ.middleware]),enhancers:a=>{var r=a;return typeof a=="function"&&(r=a()),r.concat(EK({type:"raf"}))},devTools:Bm.devToolsEnabled})};function m$e(e){var{preloadedState:t,children:a,reduxStoreName:r}=e,n=Ol(),i=w.useRef(null);if(n)return a;i.current==null&&(i.current=f$e(t));var l=s8;return w.createElement(n$e,{context:l,store:i.current},a)}function p$e(e){var{layout:t,margin:a}=e,r=ri(),n=Ol();return w.useEffect(()=>{n||(r(B8e(t)),r(I8e(a)))},[r,n,t,a]),null}function x$e(e){var t=ri();return w.useEffect(()=>{t(o$e(e))},[t,e]),null}var g$e=["children"];function v$e(e,t){if(e==null)return{};var a,r,n=b$e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function b$e(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function bj(){return bj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},bj.apply(null,arguments)}var y$e={width:"100%",height:"100%",display:"block"},w$e=w.forwardRef((e,t)=>{var a=QK(),r=JK(),n=eY();if(!fx(a)||!fx(r))return null;var{children:i,otherAttributes:l,title:o,desc:c}=e,d,u;return typeof l.tabIndex=="number"?d=l.tabIndex:d=n?0:void 0,typeof l.role=="string"?u=l.role:u=n?"application":void 0,w.createElement(RG,bj({},l,{title:o,desc:c,role:u,tabIndex:d,width:a,height:r,style:y$e,ref:t}),i)}),j$e=e=>{var{children:t}=e,a=wa(yN);if(!a)return null;var{width:r,height:n,y:i,x:l}=a;return w.createElement(RG,{width:r,height:n,x:l,y:i},t)},t$=w.forwardRef((e,t)=>{var{children:a}=e,r=v$e(e,g$e),n=Ol();return n?w.createElement(j$e,null,a):w.createElement(w$e,bj({ref:t},r),a)});function N$e(){var e=ri(),[t,a]=w.useState(null),r=wa(vTe);return w.useEffect(()=>{if(t!=null){var n=t.getBoundingClientRect(),i=n.width/t.offsetWidth;ml(i)&&i!==r&&e(U8e(i))}},[t,e,r]),a}function a$(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function S$e(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?a$(Object(a),!0).forEach(function(r){k$e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):a$(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function k$e(e,t,a){return(t=C$e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function C$e(e){var t=A$e(e,"string");return typeof t=="symbol"?t:t+""}function A$e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cm(){return Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Cm.apply(null,arguments)}var _$e=()=>(POe(),null);function yj(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var T$e=w.forwardRef((e,t)=>{var a,r,n=w.useRef(null),[i,l]=w.useState({containerWidth:yj((a=e.style)===null||a===void 0?void 0:a.width),containerHeight:yj((r=e.style)===null||r===void 0?void 0:r.height)}),o=w.useCallback((d,u)=>{l(f=>{var x=Math.round(d),p=Math.round(u);return f.containerWidth===x&&f.containerHeight===p?f:{containerWidth:x,containerHeight:p}})},[]),c=w.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:u,height:f}=d.getBoundingClientRect();o(u,f);var x=v=>{var{width:g,height:b}=v[0].contentRect;o(g,b)},p=new ResizeObserver(x);p.observe(d),n.current=p}},[t,o]);return w.useEffect(()=>()=>{var d=n.current;d?.disconnect()},[o]),w.createElement(w.Fragment,null,w.createElement(NN,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",Cm({ref:c},e)))}),E$e=w.forwardRef((e,t)=>{var{width:a,height:r}=e,[n,i]=w.useState({containerWidth:yj(a),containerHeight:yj(r)}),l=w.useCallback((c,d)=>{i(u=>{var f=Math.round(c),x=Math.round(d);return u.containerWidth===f&&u.containerHeight===x?u:{containerWidth:f,containerHeight:x}})},[]),o=w.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:d,height:u}=c.getBoundingClientRect();l(d,u)}},[t,l]);return w.createElement(w.Fragment,null,w.createElement(NN,{width:n.containerWidth,height:n.containerHeight}),w.createElement("div",Cm({ref:o},e)))}),D$e=w.forwardRef((e,t)=>{var{width:a,height:r}=e;return w.createElement(w.Fragment,null,w.createElement(NN,{width:a,height:r}),w.createElement("div",Cm({ref:t},e)))}),M$e=w.forwardRef((e,t)=>{var{width:a,height:r}=e;return fh(a)||fh(r)?w.createElement(E$e,Cm({},e,{ref:t})):w.createElement(D$e,Cm({},e,{ref:t}))});function P$e(e){return e===!0?T$e:M$e}var L$e=w.forwardRef((e,t)=>{var{children:a,className:r,height:n,onClick:i,onContextMenu:l,onDoubleClick:o,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:f,onMouseUp:x,onTouchEnd:p,onTouchMove:v,onTouchStart:g,style:b,width:j,responsive:N,dispatchTouchEvents:S=!0}=e,k=w.useRef(null),A=ri(),[_,M]=w.useState(null),[L,U]=w.useState(null),z=N$e(),O=u8(),B=O?.width>0?O.width:j,E=O?.height>0?O.height:n,R=w.useCallback(Y=>{z(Y),typeof t=="function"&&t(Y),M(Y),U(Y),Y!=null&&(k.current=Y)},[z,t,M,U]),q=w.useCallback(Y=>{A(xJ(Y)),A(dc({handler:i,reactEvent:Y}))},[A,i]),I=w.useCallback(Y=>{A(O6(Y)),A(dc({handler:d,reactEvent:Y}))},[A,d]),G=w.useCallback(Y=>{A(sQ()),A(dc({handler:u,reactEvent:Y}))},[A,u]),re=w.useCallback(Y=>{A(O6(Y)),A(dc({handler:f,reactEvent:Y}))},[A,f]),te=w.useCallback(()=>{A(jJ())},[A]),X=w.useCallback(Y=>{A(wJ(Y.key))},[A]),ce=w.useCallback(Y=>{A(dc({handler:l,reactEvent:Y}))},[A,l]),D=w.useCallback(Y=>{A(dc({handler:o,reactEvent:Y}))},[A,o]),Q=w.useCallback(Y=>{A(dc({handler:c,reactEvent:Y}))},[A,c]),H=w.useCallback(Y=>{A(dc({handler:x,reactEvent:Y}))},[A,x]),J=w.useCallback(Y=>{A(dc({handler:g,reactEvent:Y}))},[A,g]),ae=w.useCallback(Y=>{S&&A(SJ(Y)),A(dc({handler:v,reactEvent:Y}))},[A,S,v]),ie=w.useCallback(Y=>{A(dc({handler:p,reactEvent:Y}))},[A,p]),le=P$e(N);return w.createElement(SQ.Provider,{value:_},w.createElement(rAe.Provider,{value:L},w.createElement(le,{width:B??b?.width,height:E??b?.height,className:Jr("recharts-wrapper",r),style:S$e({position:"relative",cursor:"default",width:B,height:E},b),onClick:q,onContextMenu:ce,onDoubleClick:D,onFocus:te,onKeyDown:X,onMouseDown:Q,onMouseEnter:I,onMouseLeave:G,onMouseMove:re,onMouseUp:H,onTouchEnd:ie,onTouchMove:ae,onTouchStart:J,ref:R},w.createElement(_$e,null),a)))}),O$e=["width","height","responsive","children","className","style","compact","title","desc"];function R$e(e,t){if(e==null)return{};var a,r,n=F$e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function F$e(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var I$e=w.forwardRef((e,t)=>{var{width:a,height:r,responsive:n,children:i,className:l,style:o,compact:c,title:d,desc:u}=e,f=R$e(e,O$e),x=hd(f);return c?w.createElement(w.Fragment,null,w.createElement(NN,{width:a,height:r}),w.createElement(t$,{otherAttributes:x,title:d,desc:u},i)):w.createElement(L$e,{className:l,style:o,width:a,height:r,responsive:n,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(t$,{otherAttributes:x,title:d,desc:u,ref:t},w.createElement(iIe,null,i)))});function R6(){return R6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},R6.apply(null,arguments)}var B$e={top:5,right:5,bottom:5,left:5},$$e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:B$e,reverseStackOrder:!1,syncMethod:"index",responsive:!1},CJ=w.forwardRef(function(t,a){var r,n=lo(t.categoricalChartProps,$$e),{chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:d}=t,u={chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return w.createElement(m$e,{preloadedState:{options:u},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:i},w.createElement(XFe,{chartData:d.data}),w.createElement(p$e,{layout:n.layout,margin:n.margin}),w.createElement(x$e,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),w.createElement(I$e,R6({},n,{ref:a})))}),U$e=["axis"],F6=w.forwardRef((e,t)=>w.createElement(CJ,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:U$e,tooltipPayloadSearcher:kQ,categoricalChartProps:e,ref:t})),z$e=["axis","item"],H$e=w.forwardRef((e,t)=>w.createElement(CJ,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:z$e,tooltipPayloadSearcher:kQ,categoricalChartProps:e,ref:t}));const r$={Answered:"#10b981","Not Answered":"#ef4444",Busy:"#f59e0b","Wrong Number":"#64748b"},V$e=({title:e,subtitle:t,data:a=[]})=>{const[r,n]=w.useState("desc"),i=w.useMemo(()=>(Array.isArray(a)?[...a]:[]).sort((c,d)=>r==="desc"?(d.value||0)-(c.value||0):(c.value||0)-(d.value||0)),[a,r]),l=w.useMemo(()=>i.reduce((o,c)=>o+(c.value||0),0),[i]);return s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h3",{className:"text-xl font-semibold",children:e}),t&&s.jsx("span",{className:"text-xs text-gray-400",children:t})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-gray-400",children:[": ",l]}),s.jsx("button",{className:`px-2 py-1 text-xs rounded-md border transition ${r==="desc"?"bg-gray-700 text-white border-gray-600":"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700"}`,onClick:()=>n(o=>o==="desc"?"asc":"desc"),title:r==="desc"?" ":" ",children:r==="desc"?" ":" "})]})]}),s.jsx("div",{style:{height:300},children:s.jsx(qw,{width:"100%",height:"100%",children:s.jsxs(H$e,{data:i,layout:"vertical",margin:{top:10,right:24,left:24,bottom:10},children:[s.jsx(Tv,{type:"number",hide:!0}),s.jsx(Ev,{type:"category",dataKey:"name",width:120,tick:{fill:"#94a3b8"}}),s.jsx(cj,{cursor:{fill:"rgba(148,163,184,0.15)"},formatter:(o,c)=>{const d=Math.round(Number(o)/Math.max(l,1)*100);return[`${o} (${d}%)`,c]}}),s.jsxs(sJ,{dataKey:"value",barSize:18,radius:[8,8,8,8],isAnimationActive:!0,animationDuration:500,children:[i.map((o,c)=>s.jsx(oT,{fill:r$[o.name]||"#3b82f6"},`cell-${c}`)),s.jsx(O1,{dataKey:"value",position:"right",formatter:o=>`${o} (${Math.round(o/Math.max(l,1)*100)}%)`,fill:"#e2e8f0"})]})]})})}),s.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:i.map((o,c)=>s.jsxs("span",{className:"inline-flex items-center gap-2 text-xs text-gray-300",children:[s.jsx("span",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:r$[o.name]||"#3b82f6"}}),s.jsx("span",{children:o.name})]},`legend-${c}`))})]})},W$e=({columns:e=[],rows:t=[],align:a=[]})=>s.jsx("div",{className:"rounded-xl border border-gray-800 bg-[#0b1220] overflow-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"sticky top-0 bg-[#0b1220]",children:s.jsx("tr",{className:"text-left",children:e.map((r,n)=>s.jsx("th",{className:"px-3 py-2 font-medium text-gray-200",children:r},n))})}),s.jsxs("tbody",{children:[t.map((r,n)=>s.jsx("tr",{className:"odd:bg-gray-900 even:bg-gray-800 hover:bg-gray-700 transition",children:r.map((i,l)=>s.jsx("td",{className:`px-3 py-2 ${a[l]==="right"?"text-right":"text-left"}`,children:i},l))},n)),t.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"px-3 py-3 text-center text-gray-400",colSpan:e.length,children:"No data"})})]})]})}),q$e=({title:e,subtitle:t,data:a=[]})=>{const r=a.slice(-6);return s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-xl font-semibold",children:e}),t&&s.jsx("span",{className:"text-xs text-gray-400",children:t})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"px-3 py-2 font-medium text-gray-200",children:"Month"}),s.jsx("th",{className:"px-3 py-2 font-medium text-gray-200",children:"Revenue"})]})}),s.jsxs("tbody",{children:[r.map((n,i)=>s.jsxs("tr",{className:"odd:bg-gray-900 even:bg-gray-800",children:[s.jsx("td",{className:"px-3 py-2",children:n.name}),s.jsx("td",{className:"px-3 py-2 text-right",children:n.revenue?.toLocaleString?.()??n.revenue})]},i)),r.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"px-3 py-3 text-center text-gray-400",colSpan:2,children:"No data"})})]})]})}),s.jsx("div",{style:{height:220},children:s.jsx(qw,{width:"100%",height:"100%",children:s.jsxs(F6,{data:r,margin:{top:10,right:20,left:0,bottom:10},children:[s.jsx(Tv,{dataKey:"name",tick:{fill:"#94a3b8"}}),s.jsx(Ev,{tick:{fill:"#94a3b8"}}),s.jsx(cj,{}),s.jsx(xj,{type:"monotone",dataKey:"revenue",stroke:"#22c55e",strokeWidth:2,dot:!1})]})})})]}),s.jsx("div",{className:"mt-2 text-xs text-gray-400",children:"Last 6 months"})]})};function s$(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 2v4"},child:[]},{tag:"path",attr:{d:"M16 2v4"},child:[]},{tag:"rect",attr:{width:"18",height:"18",x:"3",y:"4",rx:"2"},child:[]},{tag:"path",attr:{d:"M3 10h18"},child:[]},{tag:"path",attr:{d:"m9 16 2 2 4-4"},child:[]}]})(e)}function G$e(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",x2:"12",y1:"2",y2:"22"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function AJ(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function K$e(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 2v4"},child:[]},{tag:"path",attr:{d:"m16.2 7.8 2.9-2.9"},child:[]},{tag:"path",attr:{d:"M18 12h4"},child:[]},{tag:"path",attr:{d:"m16.2 16.2 2.9 2.9"},child:[]},{tag:"path",attr:{d:"M12 18v4"},child:[]},{tag:"path",attr:{d:"m4.9 19.1 2.9-2.9"},child:[]},{tag:"path",attr:{d:"M2 12h4"},child:[]},{tag:"path",attr:{d:"m4.9 4.9 2.9 2.9"},child:[]}]})(e)}function Y$e(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function X$e(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"},child:[]},{tag:"path",attr:{d:"M21 3v5h-5"},child:[]},{tag:"path",attr:{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"},child:[]},{tag:"path",attr:{d:"M8 16H3v5"},child:[]}]})(e)}function Q$e(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M22 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}const J$e=({reservationData:e=[],callsData:t=[],teamsData:a=[],totalAccounts:r=0,lastUpdate:n,onUpdate:i})=>{const{t:l,i18n:o}=Et(),c=ti(),[d,u]=w.useState(!1),[f,x]=w.useState(null),p=e.length;w.useMemo(()=>e.reduce((k,A)=>k+(A.revenue||0),0),[e]);const v=w.useMemo(()=>t.reduce((k,A)=>k+(A.value||0),0),[t]),g=w.useMemo(()=>[...a].sort((A,_)=>(_.accounts||0)-(A.accounts||0))[0]||null,[a]);w.useMemo(()=>{const k=t.map(A=>A.value||0);return Math.max(100,...k)},[t]);const b=w.useMemo(()=>t.filter(k=>/follow/i.test(k?.name||"")).reduce((k,A)=>k+(A.value||0),0),[t]),j=w.useMemo(()=>t.filter(k=>/(meeting|visit)/i.test(k?.name||"")).reduce((k,A)=>k+(A.value||0),0),[t]),N=w.useMemo(()=>v+b+j,[v,b,j]),S=w.useMemo(()=>v>0?`${Math.round(p/v*100)}%`:typeof g?.conversion=="string"?g.conversion:"",[p,v,g]);return s.jsxs("div",{className:"space-y-6 my-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h2",{className:"text-xl font-semibold",children:l("Sales Actions Overview")})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[s.jsx(Vg,{label:l("Total Actions"),value:N,tone:"default",icon:s.jsx(Q$e,{}),tooltip:"All tracked actions"}),s.jsx(Vg,{label:l("Calls Made"),value:v,tone:"warning",icon:s.jsx(Y$e,{}),tooltip:"Total calls count"}),s.jsx(Vg,{label:l("Follow-ups Done"),value:b,tone:"info",icon:s.jsx(s$,{}),tooltip:"Follow-up actions"}),s.jsx(Vg,{label:l("Meetings Scheduled"),value:j,tone:"success",icon:s.jsx(s$,{}),tooltip:"Meetings count"}),s.jsx(Vg,{label:l("Conversion Rate %"),value:S,tone:"success",icon:s.jsx(G$e,{}),tooltip:"Leads converted vs calls"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx(V$e,{title:l("Action Distribution"),subtitle:l("By type"),data:t}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition",onClick:()=>c("/reports/activity"),children:l("View Detailed Activity Report")})})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("h3",{className:"text-xl font-semibold",children:l("salesActions.topTeam")})}),g?s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm text-gray-400",children:g.team}),s.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[g.accounts," ",l("salesActions.accounts")]}),s.jsxs("div",{className:"text-xs text-gray-400",title:"Conversion Rate",children:[l("Conversion"),": ",g.conversion]}),s.jsx("div",{children:s.jsx("button",{className:"mt-2 inline-flex items-center gap-2 px-3 py-2 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition",onClick:()=>c(`/reports/team?team=${encodeURIComponent(g.team)}&manager=All`),children:l("salesActions.viewTeamDetails")})})]}):s.jsx("div",{className:"text-sm text-gray-400",children:l("salesActions.noTeamData")})]})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-xl font-semibold",children:l("salesActions.leaderboard")}),s.jsx("span",{className:"text-xs text-gray-400",children:l("salesActions.byAccounts")})]}),s.jsx(W$e,{columns:[l("Rank"),l("Team"),l("salesActions.accounts"),l("Conversion Rate"),l("Details")],align:["right","left","right","right","left"],rows:a.map(k=>[k.rank,s.jsx("button",{className:"text-blue-400 hover:underline",onClick:()=>{x({name:k.team}),u(!0)},children:k.team},`team-${k.team}`),k.accounts,k.conversion,s.jsx("button",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition text-xs",onClick:()=>c(`/reports/team?team=${encodeURIComponent(k.team)}&manager=All`),title:l("Details"),children:s.jsx(AJ,{className:"text-gray-200"})},`btn-${k.team}`)])})]}),s.jsx(q$e,{title:l("salesActions.monthlyReservationsSummary"),subtitle:l("salesActions.lastMonths",{months:Math.min(6,e.length)}),data:e}),d&&s.jsx(G6e,{onClose:()=>u(!1),team:f})]})},Z$e=e=>String(e||"").trim().toLowerCase(),eUe=({leads:e=[],onExport:t,filters:a={},setFilters:r})=>{const{t:n}=Et(),i=b=>r({...a,[b.target.name]:b.target.value}),l=e.filter(b=>{const j=!a.manager||(b.manager||"").toLowerCase().includes(a.manager.toLowerCase()),N=!a.employee||(b.employee||"").toLowerCase().includes(a.employee.toLowerCase()),S=!a.startDate||new Date(b.date||0)>=new Date(a.startDate),k=!a.endDate||new Date(b.date||0)<=new Date(a.endDate);return j&&N&&S&&k}),o=w.useMemo(()=>{const b={};return l.forEach(j=>{const N=j.employee||"Unassigned";b[N]||(b[N]={total:0,closed:0,inProgress:0,dept:j.manager||"-"}),b[N].total+=1;const S=Z$e(j.stage||j.status);S==="closed"||S==="converted"?b[N].closed+=1:b[N].inProgress+=1}),b},[l]),c=l.length,d=Object.values(o).reduce((b,j)=>b+j.closed,0),u=w.useMemo(()=>{const b=Object.values(o);if(!b.length)return 0;const j=b.reduce((N,S)=>N+(S.total?S.closed/S.total*100:0),0)/b.length;return Math.round(j)},[o]),[f,x]=w.useState({key:"total",dir:"desc"}),p=b=>{const{key:j,dir:N}=f,S=N==="asc"?1:-1;return[...b].sort((k,A)=>{const _=k[j],M=A[j];return typeof _=="number"&&typeof M=="number"?(_-M)*S:String(_).localeCompare(String(M))*S})},v=w.useMemo(()=>{const b=Object.entries(o).map(([j,N])=>({name:j,dept:N.dept,total:N.total,inProgress:N.inProgress,closed:N.closed,conversion:N.total?Math.round(N.closed/N.total*100):0}));return p(b)},[o,f]),g=w.useMemo(()=>(v.reduce((b,j)=>b+j.total,0),v.map(b=>({label:b.name,value:b.total,color:void 0}))),[v]);return s.jsxs("div",{className:"space-y-6 my-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:n("Assigned Leads Report")}),s.jsx("button",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition",onClick:t,children:n("Export")})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[s.jsx("input",{name:"manager",className:"px-3 py-2 rounded-md border border-gray-700 bg-gray-800 text-gray-100",placeholder:n("Manager"),value:a.manager||"",onChange:i}),s.jsx("input",{name:"employee",className:"px-3 py-2 rounded-md border border-gray-700 bg-gray-800 text-gray-100",placeholder:n("Salesperson"),value:a.employee||"",onChange:i}),s.jsx("input",{name:"startDate",type:"date",className:"px-3 py-2 rounded-md border border-gray-700 bg-gray-800 text-gray-100",value:a.startDate||"",onChange:i}),s.jsx("input",{name:"endDate",type:"date",className:"px-3 py-2 rounded-md border border-gray-700 bg-gray-800 text-gray-100",value:a.endDate||"",onChange:i}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition",onClick:t,children:n("Export")})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"text-sm text-gray-400",children:n("Total Assigned Leads")}),s.jsx("div",{className:"text-2xl font-bold text-green-400",children:c})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"text-sm text-gray-400",children:n("Total Closed")}),s.jsx("div",{className:"text-2xl font-bold text-green-400",children:d})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"text-sm text-gray-400",children:n("Team Average Conversion %")}),s.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[u,"%"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("h3",{className:"text-lg font-semibold",children:n("Team Distribution")})}),s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b border-gray-800",children:[[{key:"name",label:n("Salesperson Name")},{key:"dept",label:n("Department / Region")},{key:"total",label:n("Total Leads Assigned")},{key:"inProgress",label:n("Leads in Progress")},{key:"closed",label:n("Leads Closed")},{key:"conversion",label:n("Conversion %")}].map(b=>s.jsx("th",{className:"px-3 py-2",children:s.jsx("button",{className:"inline-flex items-center gap-1 text-gray-200 hover:text-white",onClick:()=>x(j=>({key:b.key,dir:j.key===b.key&&j.dir==="asc"?"desc":"asc"})),title:n("Sort"),children:b.label})},b.key)),s.jsx("th",{className:"px-3 py-2",children:n("Details")})]})}),s.jsxs("tbody",{children:[v.map((b,j)=>s.jsxs("tr",{className:"border-t border-gray-800 hover:bg-gray-900",children:[s.jsx("td",{className:"px-3 py-2",children:b.name}),s.jsx("td",{className:"px-3 py-2",children:b.dept}),s.jsx("td",{className:"px-3 py-2 text-right",children:b.total}),s.jsx("td",{className:"px-3 py-2 text-right",children:b.inProgress}),s.jsx("td",{className:"px-3 py-2 text-right",children:b.closed}),s.jsxs("td",{className:"px-3 py-2 text-right",children:[b.conversion,"%"]}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("button",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition text-xs",title:n("View Details"),children:s.jsx(AJ,{className:"text-gray-200"})})})]},j)),v.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"px-3 py-3 text-center text-[var(--muted-text)]",colSpan:7,children:n("No data")})})]})]})})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("h3",{className:"text-lg font-semibold",children:n("Leads per Salesperson")})}),s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Zn,{segments:g,size:220,cutout:70,centerValue:v.reduce((b,j)=>b+j.total,0),centerLabel:n("Leads")})})]})]})]})},tUe={New:"#60a5fa",Contacted:"#34d399",Qualified:"#f59e0b",Proposal:"#a78bfa",Closed:"#22d3ee"},aUe=({stages:e=[]})=>{const t=e.reduce((a,r)=>a+(r.count||0),0)||1;return s.jsx("div",{className:"space-y-3",children:e.map((a,r)=>{const n=Math.round((a.count||0)/t*100),i=a.color||tUe[a.label]||"#64748b";return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("div",{className:"text-sm text-gray-200",children:a.label}),s.jsxs("div",{className:"text-xs text-gray-400",children:[a.count,"  ",n,"%"]})]}),s.jsx("div",{className:"h-3 rounded-full bg-gray-800 overflow-hidden",children:s.jsx("div",{className:"h-full",style:{width:`${n}%`,backgroundColor:i}})})]},r)})})},ck=e=>String(e||"").trim().toLowerCase(),rUe=({leads:e=[]})=>{const{t}=Et(),a=w.useMemo(()=>["All",...Array.from(new Set(e.map(A=>A.source).filter(Boolean)))],[e]),[r,n]=w.useState("All"),i=w.useMemo(()=>r==="All"?e:e.filter(A=>A.source===r),[e,r]),l=["new","contacted","qualified","proposal","closed"],o=w.useMemo(()=>{const A=Object.fromEntries(l.map(_=>[_,0]));return i.forEach(_=>{const M=ck(_.stage);M in A&&(A[M]=(A[M]||0)+1)}),A},[i]),c=i.length,d=o.qualified||0,u=o.closed||0,f=i.filter(A=>ck(A.status)==="lost").length,x=c>0?Math.round(u/c*100):0,p=c>0?Math.round(d/c*100):0,v=w.useMemo(()=>{const A=i.map(M=>{const L=M.createdAt?new Date(M.createdAt).getTime():null,U=M.lastContact?new Date(M.lastContact).getTime():null;return!L||!U?null:Math.max(0,(U-L)/36e5)}).filter(M=>M!=null);if(A.length===0)return 0;const _=A.reduce((M,L)=>M+L,0)/A.length;return Math.round(_)},[i]),g=w.useMemo(()=>{const A={};i.forEach(U=>{const z=U.source||"Unknown";A[z]||(A[z]={total:0,closed:0}),A[z].total+=1,ck(U.stage)==="closed"&&(A[z].closed+=1)});const _=Object.entries(A);if(_.length===0)return null;_.sort((U,z)=>z[1].closed-U[1].closed);const[M,L]=_[0];return{name:M,stats:L}},[i]),[b,j]=w.useState(!1),[N,S]=w.useState(null),k=A=>{S(A),j(!0)};return s.jsxs("div",{className:"space-y-6 my-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:t("Sales Leads Overview")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-400",children:t("Source")}),s.jsx("select",{value:r,onChange:A=>n(A.target.value),className:"px-3 py-2 rounded-md border border-gray-700 bg-gray-800 text-gray-100",children:a.map(A=>s.jsx("option",{value:A,children:A},A))})]})]}),s.jsx(aUe,{stages:[{key:"new",label:t("New"),value:o.new},{key:"contacted",label:t("Contacted"),value:o.contacted},{key:"qualified",label:t("Qualified"),value:o.qualified},{key:"proposal",label:t("Proposal"),value:o.proposal},{key:"closed",label:t("Closed"),value:o.closed}]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"text-sm text-gray-400",children:t("Total Leads")}),s.jsx("div",{className:"text-2xl font-bold text-green-400",children:c})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"text-sm text-gray-400",children:t("Qualified Leads %")}),s.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[p,"%"]})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"text-sm text-gray-400",children:t("Average Response Time")}),s.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[v,"h"]})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"text-sm text-gray-400",children:t("Conversion Rate")}),s.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[x,"%"]})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"text-sm text-gray-400",children:t("Lost Leads")}),s.jsx("div",{className:"text-2xl font-bold text-green-400",children:f})]})]}),s.jsx("div",{className:"rounded-lg border border-gray-800 bg-[#0b1220] overflow-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-900",children:[s.jsx("th",{className:"px-3 py-2 text-left",children:t("Name")}),s.jsx("th",{className:"px-3 py-2 text-left",children:t("Phone")}),s.jsx("th",{className:"px-3 py-2 text-left",children:t("Source")}),s.jsx("th",{className:"px-3 py-2 text-left",children:t("Stage")}),s.jsx("th",{className:"px-3 py-2 text-left",children:t("Actions")})]})}),s.jsxs("tbody",{children:[i.map((A,_)=>s.jsxs("tr",{className:"border-t border-gray-800",children:[s.jsx("td",{className:"px-3 py-2",children:A.name||"-"}),s.jsx("td",{className:"px-3 py-2",children:A.phone||"-"}),s.jsx("td",{className:"px-3 py-2",children:A.source||"-"}),s.jsx("td",{className:"px-3 py-2",children:A.stage||"-"}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("button",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition text-xs",onClick:()=>k(A),children:t("View Lead Details")})})]},_)),i.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"px-3 py-3 text-center text-[var(--muted-text)]",colSpan:5,children:t("No leads")})})]})]})}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:t("Top-performing Source")}),s.jsx("span",{className:"text-xs text-gray-400",children:t("Based on closed leads")})]}),g?s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[s.jsx("span",{className:"px-2 py-1 rounded-md border border-gray-700 bg-gray-800",children:g.name}),s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Closed"),":"]}),s.jsx("span",{className:"font-semibold text-green-400",children:g.stats.closed}),s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Total"),":"]}),s.jsx("span",{className:"font-semibold",children:g.stats.total})]}):s.jsx("div",{className:"text-sm text-gray-400",children:t("No source data")})]}),b&&N&&s.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:s.jsxs("div",{className:"w-full max-w-lg rounded-xl border border-gray-700 bg-[#0b1220] p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:t("Lead Details")}),s.jsx("button",{className:"px-2 py-1 rounded-md border border-gray-700 hover:bg-gray-800",onClick:()=>j(!1),children:t("Close")})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Name"),":"]})," ",s.jsx("span",{className:"font-semibold",children:N.name})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Phone"),":"]})," ",s.jsx("span",{children:N.phone})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Source"),":"]})," ",s.jsx("span",{children:N.source})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Stage"),":"]})," ",s.jsx("span",{children:N.stage})]}),N.lastContact&&s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Last Contact"),":"]})," ",s.jsx("span",{children:new Date(N.lastContact).toLocaleString()})]}),N.createdAt&&s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Created At"),":"]})," ",s.jsx("span",{children:new Date(N.createdAt).toLocaleString()})]})]})]})})]})},n$=()=>new Promise(e=>{setTimeout(()=>{e({reservationData:U6e,callsData:z6e,teamsData:H6e,totalAccounts:V6e,leads:JSON.parse(localStorage.getItem("leads"))||[]})},1e3)}),sUe=()=>{const{t:e}=Et(),[t,a]=w.useState("Sales Actions"),[r,n]=w.useState(!0),[i,l]=w.useState(null),[o,c]=w.useState({reservationData:[],callsData:[],teamsData:[],totalAccounts:0,leads:[]}),[d,u]=w.useState(new Date().toLocaleString()),[f,x]=w.useState(!1),[p,v]=w.useState({manager:"",employee:"",startDate:"",endDate:""});w.useEffect(()=>{n(!0),n$().then(j=>{c(j),n(!1)}).catch(j=>{l("Failed to fetch data"),n(!1)})},[]);const g=()=>{f||(x(!0),n$().then(j=>{c(j),u(new Date().toLocaleString()),x(!1)}).catch(j=>{l("Failed to fetch data"),x(!1)}))};w.useEffect(()=>{const j=N=>{N.key.toLowerCase()==="u"&&g()};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[f]);const b=()=>{const j=Jt.json_to_sheet(o.leads),N=Jt.book_new();Jt.book_append_sheet(N,j,"Leads"),gs(N,"leads-report.xlsx")};return r?s.jsx(ea,{children:s.jsx("div",{children:"Loading..."})}):i?s.jsx(ea,{children:s.jsx("div",{children:i})}):s.jsx(ea,{children:s.jsxs("div",{className:"p-4 md:p-6 bg-[#0f172a] text-[#f1f5f9] rounded-lg shadow-lg",children:[s.jsxs("div",{className:"flex flex-col gap-2 md:flex-row items-start md:items-center md:justify-between",children:[s.jsx("div",{className:"self-start",children:s.jsx("h1",{className:"text-2xl font-semibold text-left",children:"Leads Report"})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-xs text-gray-400",children:[e("salesActions.lastUpdate"),": ",d]}),s.jsxs("button",{onClick:g,title:e("Update"),"aria-label":e("Update"),"aria-busy":f,"aria-disabled":f,disabled:f,className:"relative overflow-hidden inline-flex items-center gap-2 px-4 py-2 rounded-md border border-blue-500 bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/30 ring-1 ring-blue-400/40 hover:from-blue-500 hover:to-indigo-500 hover:shadow-blue-500/40 hover:scale-[1.02] active:scale-[0.98] transition disabled:opacity-60 disabled:cursor-not-allowed focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-blue-400",children:[f?s.jsx(K$e,{className:"w-4 h-4 animate-spin"}):s.jsx(X$e,{className:"w-4 h-4"}),e(f?"Updating...":"Update")]}),s.jsx("span",{className:"sr-only","aria-live":"polite",children:f?"Updating data":"Data up to date"})]})]}),s.jsx("div",{className:"mt-3 border-t border-gray-800"}),s.jsx("div",{className:"mt-4",children:s.jsx(W6e,{activeTab:t,setActiveTab:a})}),s.jsxs("div",{className:"mt-10",children:[t==="Sales Actions"&&s.jsx(J$e,{reservationData:o.reservationData,callsData:o.callsData,teamsData:o.teamsData,totalAccounts:o.totalAccounts,lastUpdate:d,onUpdate:g}),t==="Sales Leads"&&s.jsx(rUe,{leads:o.leads}),t==="Assigned Report"&&s.jsx(eUe,{leads:o.leads,onExport:b,filters:p,setFilters:v})]})]})})};function nUe(){const{t:e,i18n:t}=Et(),a=t.language==="ar",[r,n]=w.useState("Overall"),i=w.useMemo(()=>["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((xe,W)=>({day:xe,meetings:3+W%4+(W>3?2:0)})),[]),l=w.useMemo(()=>i.reduce((Y,oe)=>Y+oe.meetings,0),[i]),o=28,c=[{label:a?"":"WhatsApp",value:35,color:"#3b82f6"},{label:a?"":"Calls",value:15,color:"#8b5cf6"}],d=[{label:a?" ":"Project A",value:30,color:"#3b82f6"},{label:a?" ":"Project B",value:15,color:"#8b5cf6"}],u=[{name:"Alaa Mahamed",score:7},{name:"Mariam Salama",score:6},{name:"Mohamed Osama",score:6},{name:"Eman Anwar",score:6},{name:"Mohamed Mostafa",score:5}],f=({label:Y,icon:oe})=>s.jsxs("button",{className:`px-5 py-2 rounded-md text-sm font-semibold transition-all inline-flex items-center gap-2 ${r===Y?"bg-primary text-white shadow-lg ring-1 ring-primary/50":"btn-glass"}`,onClick:()=>n(Y),children:[oe&&s.jsx("span",{className:"text-base",children:oe}),s.jsx("span",{children:Y})]}),x=({title:Y,desc:oe,icon:xe})=>s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[xe&&s.jsx("span",{className:"text-primary",children:xe}),s.jsx("h3",{className:"text-lg font-semibold",children:Y})]}),oe&&s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:oe})]}),p=({title:Y,value:oe,icon:xe})=>s.jsxs("div",{className:"glass-panel rounded-xl p-4 h-full",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsxs("div",{className:"inline-flex items-center gap-2",children:[xe&&s.jsx("span",{className:"w-7 h-7 rounded-full bg-primary/10 text-primary flex items-center justify-center",children:xe}),s.jsx("span",{className:"text-sm text-[var(--muted-text)]",children:Y})]})}),s.jsx("div",{className:"text-3xl font-bold",children:oe})]}),[v,g]=w.useState(10),[b,j]=w.useState(1),[N,S]=w.useState({key:"name",dir:"asc"}),[k,A]=w.useState(!1),[_,M]=w.useState({salesman:"",project:"",dateFrom:"",dateTo:""}),[L,U]=w.useState([]),z=w.useMemo(()=>[{date:"2025-11-01",status:"arranged"},{date:"2025-11-02",status:"arranged"},{date:"2025-11-03",status:"done"},{date:"2025-11-04",status:"arranged"},{date:"2025-11-05",status:"done"},{date:"2025-11-06",status:"done"},{date:"2025-11-07",status:"arranged"}],[]),O=Y=>{const oe=_.dateFrom?new Date(_.dateFrom):null,xe=_.dateTo?new Date(_.dateTo):null,W=new Date(Y),he=oe?W>=oe:!0,fe=xe?W<=xe:!0;return he&&fe},B=w.useMemo(()=>z.filter(Y=>Y.status==="arranged"&&O(Y.date)).length,[z,_]),E=w.useMemo(()=>z.filter(Y=>Y.status==="done"&&O(Y.date)).length,[z,_]),R=w.useMemo(()=>[{date:"2025-11-01",name:"Abdullah Saleh",mobile:"1004******",meetings:1,project:"Crown Medical Center",salesman:"Mohamed"},{date:"2025-11-01",name:"",mobile:"1095******",meetings:1,project:"Crown Medical Center",salesman:"Mohamed"},{date:"2025-11-02",name:"Mohamed Zayed",mobile:"1012******",meetings:1,project:"Crown Plaza Mall",salesman:"Mohamed"},{date:"2025-11-02",name:"",mobile:"1094******",meetings:1,project:"Crown Plaza Mall",salesman:"Mina M"},{date:"2025-11-03",name:"ayman Shafie",mobile:"1033******",meetings:1,project:"Crown Medical Center",salesman:"Eman A"},{date:"2025-11-03",name:"Shady",mobile:"1005******",meetings:1,project:"Crown Plaza Mall",salesman:"Eman A"},{date:"2025-11-04",name:" ",mobile:"1147128208",meetings:1,project:"Crown Plaza Mall",salesman:"Mohamed"},{date:"2025-11-04",name:"Rawan Ahmed",mobile:"1006******",meetings:2,project:"Crown Medical Center",salesman:"Hossam"},{date:"2025-11-05",name:"Layla Saad",mobile:"1011******",meetings:1,project:"Crown Plaza Mall",salesman:"Khaled"},{date:"2025-11-06",name:"Omar Nabil",mobile:"1009******",meetings:3,project:"Crown Medical Center",salesman:"Nour"},{date:"2025-11-06",name:"Heba Adel",mobile:"1010******",meetings:1,project:"Crown Medical Center",salesman:"Mariam"}],[]),q=w.useMemo(()=>R.filter(Y=>{const oe=_.salesman?String(Y.salesman).toLowerCase().includes(String(_.salesman).toLowerCase().trim()):!0,xe=_.project?String(Y.project).toLowerCase().includes(String(_.project).toLowerCase().trim()):!0,W=_.dateFrom?Y.date>=_.dateFrom:!0,he=_.dateTo?Y.date<=_.dateTo:!0;return oe&&xe&&(W&&he)}),[R,_]),I=w.useMemo(()=>{const Y=[...q];return Y.sort((oe,xe)=>{const W=oe[N.key],he=xe[N.key];return typeof W=="number"&&typeof he=="number"?N.dir==="asc"?W-he:he-W:N.dir==="asc"?String(W).localeCompare(String(he)):String(he).localeCompare(String(W))}),Y},[q,N]),G=Math.max(1,Math.ceil(I.length/v)),re=w.useMemo(()=>{const Y=(b-1)*v;return I.slice(Y,Y+v)},[I,b,v]),te=Y=>`${Y.name}|${Y.mobile}`,X=w.useMemo(()=>re.length>0&&re.every(Y=>L.includes(te(Y))),[re,L]),ce=Y=>{const oe=re.map(te);U(Y?xe=>Array.from(new Set([...xe,...oe])):xe=>xe.filter(W=>!oe.includes(W)))},D=Y=>S(oe=>({key:Y,dir:oe.key===Y&&oe.dir==="asc"?"desc":"asc"})),Q=()=>{const Y=Jt.json_to_sheet(I),oe=Jt.book_new();Jt.book_append_sheet(oe,Y,"Meetings"),gs(oe,"meetings_list.xlsx")},[H,J]=w.useState("Day"),ae=[{name:"Amany Gamal",score:1}],ie=[{salesman:"Amany Gamal",date:"11-01-2024 06:02 PM",location:"#"}],le=w.useMemo(()=>ie.filter(Y=>{const oe=_.salesman?String(Y.salesman).toLowerCase().includes(String(_.salesman).toLowerCase()):!0,xe=_.dateFrom?_.dateFrom:"",W=_.dateTo?_.dateTo:"",he=Y.date?.split(" ")[0]||"",fe=se=>se?se.split("-").reverse().join("-"):"",de=fe(he),Oe=fe(xe),Fe=fe(W),Ee=(Oe?de>=Oe:!0)&&(Fe?de<=Fe:!0);return oe&&Ee}),[ie,_]);return s.jsx(ea,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between relative",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Meetings Report")}),s.jsxs("button",{onClick:()=>A(Y=>!Y),className:"btn btn-glass inline-flex items-center gap-2",children:[s.jsx(Lle,{className:"text-base"}),s.jsx("span",{children:e("Filter")})]}),k&&s.jsxs("div",{className:"absolute right-0 top-full mt-2 z-20 glass-panel rounded-xl p-4 w-80 shadow-lg",children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:a?" ":"Filter Data"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"text-xs mb-1 block",children:a?" ":"Salesman"}),s.jsx("input",{value:_.salesman,onChange:Y=>M(oe=>({...oe,salesman:Y.target.value})),className:"input w-full text-sm",placeholder:a?" ":"Type name"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"text-xs mb-1 block",children:a?"":"Project"}),s.jsx("input",{value:_.project,onChange:Y=>M(oe=>({...oe,project:Y.target.value})),className:"input w-full text-sm",placeholder:a?" ":"Type project"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs mb-1 block",children:a?" ":"From Date"}),s.jsx("input",{type:"date",value:_.dateFrom,onChange:Y=>M(oe=>({...oe,dateFrom:Y.target.value})),className:"input w-full text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs mb-1 block",children:a?" ":"To Date"}),s.jsx("input",{type:"date",value:_.dateTo,onChange:Y=>M(oe=>({...oe,dateTo:Y.target.value})),className:"input w-full text-sm"})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"btn btn-glass",onClick:()=>M({salesman:"",project:"",dateFrom:"",dateTo:""}),children:a?"":"Clear"}),s.jsx("button",{className:"btn bg-primary text-white",onClick:()=>A(!1),children:a?"":"Apply"})]})]})]}),s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("reports.meetings.desc")}),s.jsx("div",{className:"h-3"}),s.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.jsx(f,{label:"Overall",icon:s.jsx(cA,{})}),s.jsx(f,{label:"Checkin",icon:s.jsx(_le,{})})]}),s.jsx("div",{className:"h-3"}),r==="Overall"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4 lg:col-span-2",children:[s.jsx(x,{title:a?"  ":"Meeting Over time"}),s.jsx("div",{className:"h-56",children:s.jsx(qw,{width:"100%",height:"100%",children:s.jsxs(F6,{data:i,children:[s.jsx(M6,{strokeDasharray:"3 3"}),s.jsx(Tv,{dataKey:"day"}),s.jsx(Ev,{allowDecimals:!1}),s.jsx(cj,{}),s.jsx(xj,{type:"monotone",dataKey:"meetings",stroke:"#3b82f6",strokeWidth:2,dot:{r:3}})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsx(p,{title:a?" ":"Total Of Meetings",value:l,icon:""}),s.jsx(p,{title:a?"  ":"Total Of Leads",value:o,icon:""}),s.jsx(p,{title:a?"  Arrange Meetings":"Arrange Meetings Count",value:B,icon:""}),s.jsx(p,{title:a?"  Done Meetings":"Done Meetings Count",value:E,icon:""})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:a?"":"Channels"}),s.jsx("div",{className:"flex items-center justify-center h-48",children:s.jsx(Zn,{segments:c,centerValue:c.reduce((Y,oe)=>Y+oe.value,0),centerLabel:a?"":"Total",size:180})})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:a?"":"Projects"}),s.jsx("div",{className:"flex items-center justify-center h-48",children:s.jsx(Zn,{segments:d,centerValue:d.reduce((Y,oe)=>Y+oe.value,0),centerLabel:a?"":"Total",size:180})})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:a?"":"The Best"}),s.jsx("button",{className:"btn-glass px-2 py-1 rounded-md text-xs",children:"All "})]}),s.jsx("div",{className:"space-y-2",children:u.map((Y,oe)=>s.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${oe===0?"bg-yellow-100 dark:bg-yellow-900/30":"bg-transparent"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 text-primary flex items-center justify-center text-xs",children:oe+1}),s.jsx("div",{className:"text-sm",children:Y.name})]}),s.jsx("div",{className:"text-sm font-semibold",children:Y.score})]},oe))})]})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:a?" ":"Data List"}),s.jsx("button",{onClick:Q,className:"btn btn-glass",children:a?" ":"Export List"})]}),s.jsx("div",{className:"text-sm text-[var(--muted-text)] mb-3",children:a?"     .":"Manage your team members and their account permissions here."}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left",children:s.jsx("input",{type:"checkbox","aria-label":"select all",checked:X,onChange:Y=>ce(Y.target.checked)})}),s.jsxs("th",{className:"px-3 py-2 text-left cursor-pointer",onClick:()=>D("name"),children:[a?"":"Lead"," ",N.key==="name"?N.dir==="asc"?"":"":""]}),s.jsxs("th",{className:"px-3 py-2 text-left cursor-pointer",onClick:()=>D("mobile"),children:[a?"":"Mobile"," ",N.key==="mobile"?N.dir==="asc"?"":"":""]}),s.jsxs("th",{className:"px-3 py-2 text-left cursor-pointer",onClick:()=>D("meetings"),children:[a?" ":"Number Of Meetings"," ",N.key==="meetings"?N.dir==="asc"?"":"":""]}),s.jsxs("th",{className:"px-3 py-2 text-left cursor-pointer",onClick:()=>D("project"),children:[a?"":"Project"," ",N.key==="project"?N.dir==="asc"?"":"":""]}),s.jsxs("th",{className:"px-3 py-2 text-left cursor-pointer",onClick:()=>D("salesman"),children:[a?"":"Salesman"," ",N.key==="salesman"?N.dir==="asc"?"":"":""]})]})}),s.jsx("tbody",{children:re.map((Y,oe)=>s.jsxs(In.Fragment,{children:[s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-3 py-2",children:s.jsx("input",{type:"checkbox","aria-label":"select row",checked:L.includes(te(Y)),onChange:xe=>{const W=te(Y);U(he=>xe.target.checked?Array.from(new Set([...he,W])):he.filter(fe=>fe!==W))}})}),s.jsx("td",{className:"px-3 py-2",children:Y.name}),s.jsx("td",{className:"px-3 py-2",children:Y.mobile}),s.jsx("td",{className:"px-3 py-2",children:Y.meetings}),s.jsx("td",{className:"px-3 py-2",children:Y.project}),s.jsx("td",{className:"px-3 py-2",children:Y.salesman})]}),oe!==re.length-1&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"py-2"})})]},oe))})]})}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("label",{children:a?"":"Show Entries"}),s.jsxs("select",{value:v,onChange:Y=>{g(Number(Y.target.value)),j(1)},className:"input text-sm",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:20,children:"20"}),s.jsx("option",{value:50,children:"50"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{disabled:b===1,onClick:()=>j(Y=>Math.max(1,Y-1)),className:"btn btn-glass",children:a?"":"Previous"}),s.jsx("div",{className:"px-3 py-1 rounded-md bg-gray-200 dark:bg-gray-700 text-sm",children:b}),s.jsx("button",{disabled:b===G,onClick:()=>j(Y=>Math.min(G,Y+1)),className:"btn btn-glass",children:a?"":"Next"})]})]})]})]}),r==="Checkin"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:a?" ":"Check In"}),s.jsx("div",{className:"text-sm text-[var(--muted-text)] mb-3",children:a?"    .":"Manage your team members and their account permissions here."}),s.jsx("div",{className:"flex items-center gap-3",children:["Day","Weekly","Monthly","Year"].map(Y=>s.jsx("button",{onClick:()=>J(Y),className:`px-3 py-1 rounded-md text-sm ${H===Y?"bg-primary text-white":"btn-glass"}`,children:a?{Day:"",Weekly:"",Monthly:"",Year:""}[Y]:Y},Y))}),s.jsx("div",{className:"h-56 mt-3",children:s.jsx(qw,{width:"100%",height:"100%",children:s.jsxs(F6,{data:i,children:[s.jsx(M6,{strokeDasharray:"3 3"}),s.jsx(Tv,{dataKey:"day"}),s.jsx(Ev,{allowDecimals:!1}),s.jsx(cj,{}),s.jsx(xj,{type:"monotone",dataKey:"meetings",stroke:"#3b82f6",strokeWidth:2,dot:!1})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsx("div",{className:"lg:col-span-2 space-y-4",children:s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:a?" ":"Data List"}),s.jsx("div",{className:"text-sm text-[var(--muted-text)] mb-3",children:a?"    .":"Manage your team members and their account permissions here."}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left",children:s.jsx("input",{type:"checkbox","aria-label":"select all"})}),s.jsx("th",{className:"px-3 py-2 text-left",children:a?" ":"Salesman"}),s.jsx("th",{className:"px-3 py-2 text-left",children:a?"  ":"Check In Date"}),s.jsx("th",{className:"px-3 py-2 text-left",children:a?"":"Location"})]})}),s.jsx("tbody",{children:le.map((Y,oe)=>s.jsxs(In.Fragment,{children:[s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-3 py-2",children:s.jsx("input",{type:"checkbox","aria-label":"select row"})}),s.jsx("td",{className:"px-3 py-2",children:Y.salesman}),s.jsx("td",{className:"px-3 py-2",children:Y.date}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("a",{href:Y.location,className:"text-primary",children:a?"":"Location"})})]}),oe!==le.length-1&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"py-2"})})]},oe))})]})}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsx("div",{className:"text-sm",children:a?" 1":"Show Entries 1"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-glass",disabled:!0,children:"Previous"}),s.jsx("div",{className:"px-3 py-1 rounded-md bg-gray-200 dark:bg-gray-700 text-sm",children:"1"}),s.jsx("button",{className:"btn btn-glass",disabled:!0,children:"Next"})]})]})]})}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:a?"":"The Best"}),s.jsx("button",{className:"btn-glass px-2 py-1 rounded-md text-xs",children:"All "})]}),s.jsx("div",{className:"space-y-2",children:ae.map((Y,oe)=>s.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${oe===0?"bg-yellow-100 dark:bg-yellow-900/30":"bg-transparent"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 text-primary flex items-center justify-center text-xs",children:oe+1}),s.jsx("div",{className:"text-sm",children:Y.name})]}),s.jsx("div",{className:"text-sm font-semibold",children:Y.score})]},oe))})]})]})]})]})})}Nr.register(Cn,An,$n,pl,ai,rn,an);const iUe=()=>{const{t:e}=Et(),t=Rs.dir()==="rtl",a=[{id:1,fileName:"clients_nov.csv",department:"Customers",performedBy:"Ahmed Ali",manager:"Maram Admin",dateTime:"2025-11-09T08:45:00",status:"Success",notes:""},{id:2,fileName:"orders_oct.xlsx",department:"Orders",performedBy:"Sara Hassan",manager:"Maram Admin",dateTime:"2025-11-08T15:10:00",status:"Failed",notes:"Missing column Order ID"},{id:3,fileName:"inventory_11_07.csv",department:"Inventory",performedBy:"Omar Ali",manager:"Maram Admin",dateTime:"2025-11-07T10:05:00",status:"Success",notes:""},{id:4,fileName:"leads_batch_oct.xlsx",department:"Leads",performedBy:"Mona Adel",manager:"Maram Admin",dateTime:"2025-11-06T13:30:00",status:"Success",notes:""},{id:5,fileName:"marketing_campaigns.csv",department:"Marketing",performedBy:"Ahmed Ali",manager:"Maram Admin",dateTime:"2025-11-05T09:15:00",status:"Failed",notes:"Unsupported date format in column Start Date"}],[r,n]=w.useState(a),[i,l]=w.useState("all"),[o,c]=w.useState("all"),[d,u]=w.useState("all"),[f,x]=w.useState("day"),[p,v]=w.useState(""),[g,b]=w.useState(""),[j,N]=w.useState(""),[S,k]=w.useState(""),[A,_]=w.useState(""),[M,L]=w.useState(!1),[U,z]=w.useState(null),[O,B]=w.useState("Customers"),[E,R]=w.useState("Ahmed Ali"),[q,I]=w.useState("Maram Admin"),[G,re]=w.useState("Success"),[te,X]=w.useState(""),ce=w.useMemo(()=>Array.from(new Set(r.map(se=>se.department))),[r]),D=w.useMemo(()=>Array.from(new Set(r.map(se=>se.manager))),[r]),Q=w.useMemo(()=>Array.from(new Set(r.map(se=>se.performedBy))),[r]),H=se=>{const _e=new Date(Date.UTC(se.getFullYear(),se.getMonth(),se.getDate())),je=_e.getUTCDay()||7;_e.setUTCDate(_e.getUTCDate()+4-je);const rt=new Date(Date.UTC(_e.getUTCFullYear(),0,1)),ft=Math.ceil(((_e-rt)/864e5+1)/7);return`${_e.getUTCFullYear()}-W${String(ft).padStart(2,"0")}`},J=se=>{if(!f)return!0;if(f==="day")return!p||new Date(se).toISOString().slice(0,10)===p;if(f==="week")return!g||H(new Date(se))===g;if(f==="month")return!j||new Date(se).toISOString().slice(0,7)===j;if(f==="range"){const _e=new Date(se),je=S?_e>=new Date(S):!0,rt=A?_e<=new Date(A):!0;return je&&rt}return!0},ae=w.useMemo(()=>r.filter(se=>{const _e=i==="all"||se.manager===i,je=o==="all"||se.performedBy===o,rt=d==="all"||se.department===d,ft=J(se.dateTime);return _e&&je&&rt&&ft}),[r,i,o,d,f,p,g,j,S,A]),ie=ae.length,le=ae.filter(se=>se.status==="Success").length,Y=ae.filter(se=>se.status==="Failed").length,oe=w.useMemo(()=>{const se=new Map;return ae.forEach(_e=>{se.set(_e.department,(se.get(_e.department)||0)+1)}),se},[ae]),xe=w.useMemo(()=>({Success:le,Failed:Y}),[le,Y]),W=w.useMemo(()=>{const se=new Map;ae.forEach(je=>{const rt=new Date(je.dateTime).toISOString().slice(0,10);se.set(rt,(se.get(rt)||0)+1)});const _e=Array.from(se.entries()).sort((je,rt)=>je[0].localeCompare(rt[0]));return{labels:_e.map(je=>je[0]),counts:_e.map(je=>je[1])}},[ae]),he=se=>{const _e={id:r.length?Math.max(...r.map(je=>je.id))+1:1,...se,dateTime:se.dateTime||new Date().toISOString()};n(je=>[_e,...je])},fe=se=>{se.preventDefault(),U&&(he({fileName:U.name,department:O,performedBy:E,manager:q,status:G,notes:te||""}),L(!1),z(null),X(""),re("Success"))},de=se=>{he({fileName:se.fileName,department:se.department,performedBy:se.performedBy,manager:se.manager,status:"Success",notes:"Re-run completed successfully"})},Oe=()=>{const se=ae.map(rt=>({FileName:rt.fileName,Department:rt.department,PerformedBy:rt.performedBy,Manager:rt.manager,DateTime:new Date(rt.dateTime).toLocaleString(),Status:rt.status,Notes:rt.notes||""})),_e=Jt.json_to_sheet(se),je=Jt.book_new();Jt.book_append_sheet(je,_e,"Imports"),gs(je,"imports_report.xlsx")},Fe=()=>window.print(),Ee=({status:se})=>s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${se==="Success"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300"}`,children:e(se==="Success"?"Success":"Failed")});return s.jsxs(ea,{children:[s.jsx("div",{className:"mb-4",children:s.jsx("h1",{className:"text-2xl font-bold",children:t?" ":"Imports Report"})}),s.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[s.jsx("button",{onClick:Fe,className:"btn btn-primary",children:e("Download PDF","Download PDF")}),s.jsx("button",{onClick:Oe,className:"btn btn-secondary",children:e("Download Excel","Download Excel")}),s.jsxs("button",{onClick:()=>L(!0),className:"btn btn-accent inline-flex items-center gap-2",children:[s.jsx(pM,{})," ",e("Import","Import")]})]}),s.jsx("div",{className:"glass-panel p-4",children:s.jsx("div",{className:"flex items-center justify-between flex-wrap gap-3",children:s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Manager","Manager")}),s.jsxs("select",{value:i,onChange:se=>l(se.target.value),className:"input min-w-[160px]",children:[s.jsx("option",{value:"all",children:e("All","All")}),D.map(se=>s.jsx("option",{value:se,children:se},se))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Employee","Employee")}),s.jsxs("select",{value:o,onChange:se=>c(se.target.value),className:"input min-w-[160px]",children:[s.jsx("option",{value:"all",children:e("All","All")}),Q.map(se=>s.jsx("option",{value:se,children:se},se))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Department","Department")}),s.jsxs("select",{value:d,onChange:se=>u(se.target.value),className:"input min-w-[140px]",children:[s.jsx("option",{value:"all",children:e("All","All")}),ce.map(se=>s.jsx("option",{value:se,children:se},se))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Date Filter")}),s.jsxs("select",{value:f,onChange:se=>x(se.target.value),className:"input min-w-[160px]",children:[s.jsx("option",{value:"day",children:e("Day")}),s.jsx("option",{value:"week",children:e("Week")}),s.jsx("option",{value:"month",children:e("Month")}),s.jsx("option",{value:"range",children:e("Custom Range")})]})]}),f==="day"&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Date")}),s.jsx("input",{type:"date",value:p,onChange:se=>v(se.target.value),className:"input"})]}),f==="week"&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Week")}),s.jsx("input",{type:"week",value:g,onChange:se=>b(se.target.value),className:"input"})]}),f==="month"&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Month")}),s.jsx("input",{type:"month",value:j,onChange:se=>N(se.target.value),className:"input"})]}),f==="range"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("From")}),s.jsx("input",{type:"date",value:S,onChange:se=>k(se.target.value),className:"input"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("To")}),s.jsx("input",{type:"date",value:A,onChange:se=>_(se.target.value),className:"input"})]})]})]})})}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:e("Total Imports"),value:ie,color:"bg-blue-500"},{label:e("Successful"),value:le,color:"bg-emerald-500"},{label:e("Failed"),value:Y,color:"bg-rose-500"}].map((se,_e)=>s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:se.label}),s.jsx("div",{className:"mt-1 text-2xl font-semibold",children:se.value}),s.jsx("div",{className:`mt-2 h-1.5 rounded ${se.color}`})]},_e))}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Imports per Department")}),s.jsx(Ls,{data:{labels:Array.from(oe.keys()),datasets:[{label:e("Imports"),data:Array.from(oe.values()),backgroundColor:"rgba(59, 130, 246, 0.6)",borderRadius:6}]},options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{ticks:{callback:se=>`${se}`}}}}})]}),s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Success vs Failed")}),s.jsx(Zn,{segments:[{label:e("Success"),value:xe.Success,color:"#10b981"},{label:e("Failed"),value:xe.Failed,color:"#ef4444"}],totalLabel:e("Imports")})]}),s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Imports Over Time")}),s.jsx(no,{data:{labels:W.labels,datasets:[{label:e("Imports"),data:W.counts,borderColor:"rgba(16, 185, 129, 0.9)",backgroundColor:"transparent",tension:.3,pointRadius:2}]},options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{ticks:{callback:se=>`${se}`}}}}})]})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm font-medium mb-3",children:e("Import Logs")}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm nova-table nova-table--glass",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left bg-[var(--table-header-bg)]",children:[s.jsx("th",{className:"px-3 py-2",children:e("File Name")}),s.jsx("th",{className:"px-3 py-2",children:e("Department")}),s.jsx("th",{className:"px-3 py-2",children:e("Performed By")}),s.jsx("th",{className:"px-3 py-2",children:e("Date & Time")}),s.jsx("th",{className:"px-3 py-2",children:e("Status")}),s.jsx("th",{className:"px-3 py-2",children:e("Notes / Errors")}),s.jsx("th",{className:"px-3 py-2",children:e("Action")})]})}),s.jsxs("tbody",{children:[ae.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-3 py-6 text-center text-[var(--muted-text)]",children:e("No data")})}),ae.map(se=>s.jsxs("tr",{className:"border-t border-[var(--table-row-border)] odd:bg-[var(--table-row-bg)] hover:bg-[var(--table-row-hover)] transition-colors",children:[s.jsx("td",{className:"px-3 py-2",children:se.fileName}),s.jsx("td",{className:"px-3 py-2",children:se.department}),s.jsxs("td",{className:"px-3 py-2",children:[se.performedBy," ",s.jsxs("span",{className:"text-[var(--muted-text)]",children:["(",se.manager,")"]})]}),s.jsx("td",{className:"px-3 py-2",children:new Date(se.dateTime).toLocaleString()}),s.jsx("td",{className:"px-3 py-2",children:s.jsx(Ee,{status:se.status})}),s.jsx("td",{className:"px-3 py-2",children:se.notes||""}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("div",{className:"flex items-center gap-2",children:se.status==="Failed"&&s.jsxs("button",{onClick:()=>de(se),className:"btn btn-glass inline-flex items-center gap-1",children:[s.jsx(dA,{})," ",e("Re-run")]})})})]},se.id))]})]})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),M&&s.jsxs("div",{className:"fixed inset-0 z-40 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>L(!1)}),s.jsxs("form",{onSubmit:fe,className:"relative z-50 glass-panel rounded-xl p-4 w-[560px] max-w-[95vw]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:e("New Import")}),s.jsx("button",{type:"button",className:"btn btn-glass",onClick:()=>L(!1),children:e("Close")})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("File")}),s.jsx("input",{type:"file",onChange:se=>z(se.target.files?.[0]||null),className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Department")}),s.jsx("select",{value:O,onChange:se=>B(se.target.value),className:"input",children:ce.map(se=>s.jsx("option",{value:se,children:se},se))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Performed By")}),s.jsx("select",{value:E,onChange:se=>R(se.target.value),className:"input",children:Q.map(se=>s.jsx("option",{value:se,children:se},se))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Manager")}),s.jsx("select",{value:q,onChange:se=>I(se.target.value),className:"input",children:D.map(se=>s.jsx("option",{value:se,children:se},se))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Result")}),s.jsxs("select",{value:G,onChange:se=>re(se.target.value),className:"input",children:[s.jsx("option",{value:"Success",children:e("Success")}),s.jsx("option",{value:"Failed",children:e("Failed")})]})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Notes / Errors")}),s.jsx("textarea",{value:te,onChange:se=>X(se.target.value),className:"input",rows:3,placeholder:e("Optional","Optional")})]})]}),s.jsx("div",{className:"mt-3 flex items-center justify-end gap-2",children:s.jsxs("button",{type:"submit",className:"btn btn-primary inline-flex items-center gap-2",children:[s.jsx(pM,{})," ",e("Import")]})})]})]})]})};Nr.register(Cn,An,pl,ai,$n,Tm,wx,rn,an);const i$=()=>{const{t:e}=Et(),t=Rs.dir()==="rtl",[a,r]=w.useState(""),[n,i]=w.useState(10),[l,o]=w.useState(1),[c,d]=w.useState(!1),[u,f]=w.useState(null),[x,p]=w.useState(!1),[v,g]=w.useState("All"),[b,j]=w.useState("All"),[N,S]=w.useState("All"),[k,A]=w.useState("month"),[_,M]=w.useState(""),[L,U]=w.useState(""),[z,O]=w.useState(""),B=["All","Ahmed Ali","Sara Hassan"],E=["All","Maram Admin","Ibrahim Manager","Lina Ops"],R=["All","Customers","Orders","Sales","Inventory"],[q,I]=w.useState(()=>{const Ee=new Date,se=(_e,je,rt,ft,Bt,Je)=>({fileName:_e,department:je,performedBy:rt,timestamp:new Date(Ee.getTime()-ft*24*60*60*1e3),status:Bt,notes:Je});return[se("clients_nov.csv","Customers","Ahmed Ali",0,"Success",""),se("orders_oct.xlsx","Orders","Sara Hassan",1,"Failed","Connection timeout"),se("sales_week_44.xlsx","Sales","Maram Admin",3,"Success",""),se("inventory_snapshot.csv","Inventory","Lina Ops",6,"Failed","Auth token expired"),se("clients_oct.csv","Customers","Ahmed Ali",8,"Success",""),se("orders_sep.xlsx","Orders","Ibrahim Manager",11,"Success",""),se("sales_q3.xlsx","Sales","Maram Admin",15,"Failed","Network drop")]}),[G,re]=w.useState(()=>[]),te=(Ee,se,_e,je,rt,ft="")=>{re(Bt=>[{id:`${Date.now()}_${Math.random().toString(36).slice(2)}`,action:Ee,status:se,fileName:_e,user:je,department:rt,timestamp:new Date,notes:ft},...Bt])},X=w.useMemo(()=>{const Ee=q.length,se=q.filter(je=>je.status==="Success").length,_e=q.filter(je=>je.status==="Failed").length;return{total:Ee,success:se,failed:_e}},[q]),ce=(Ee,se)=>Ee.getFullYear()===se.getFullYear()&&Ee.getMonth()===se.getMonth()&&Ee.getDate()===se.getDate(),D=(Ee,se)=>{const _e=new Date(se),je=(Ee-_e)/(1e3*60*60*24);return Math.abs(je)<=3},Q=(Ee,se)=>Ee.getFullYear()===se.getFullYear()&&Ee.getMonth()===se.getMonth(),H=w.useMemo(()=>{let Ee=q;if(a&&(Ee=Ee.filter(se=>se.fileName.toLowerCase().includes(a.toLowerCase()))),v!=="All"&&(Ee=Ee.filter(se=>se.performedBy===v)),b!=="All"&&(Ee=Ee.filter(se=>se.performedBy===b)),N!=="All"&&(Ee=Ee.filter(se=>se.department===N)),k==="day"&&_){const se=new Date(_);Ee=Ee.filter(_e=>ce(_e.timestamp,se))}if(k==="week"&&_){const se=new Date(_);Ee=Ee.filter(_e=>D(_e.timestamp,se))}if(k==="month"&&_){const se=new Date(_);Ee=Ee.filter(_e=>Q(_e.timestamp,se))}if(k==="range"&&L&&z){const se=new Date(L),_e=new Date(z);Ee=Ee.filter(je=>je.timestamp>=se&&je.timestamp<=_e)}return Ee},[q,a,v,b,N,k,_,L,z]),J=Math.max(1,Math.ceil(H.length/n)),ae=w.useMemo(()=>{const Ee=(l-1)*n;return H.slice(Ee,Ee+n)},[H,l,n]),ie=Ee=>{const se=`File Name,Department,Performed By,Date & Time,Status,Notes
${Ee.fileName},${Ee.department},${Ee.performedBy},${Ee.timestamp.toLocaleString()},${Ee.status},${Ee.notes||""}`,_e=new Blob([se],{type:"text/csv;charset=utf-8;"}),je=URL.createObjectURL(_e),rt=document.createElement("a");rt.href=je;const ft=Ee.fileName?.replace(/\.(xlsx|csv)$/i,".csv")||"export.csv";rt.download=ft,document.body.appendChild(rt),rt.click(),document.body.removeChild(rt),URL.revokeObjectURL(je),te("Download Row","Success",Ee.fileName,Ee.performedBy,Ee.department,"")},le=Ee=>{I(se=>{const _e=[...se],je={..._e[Ee]},rt=Math.random()<.7;return je.status=rt?"Success":"Failed",je.notes=rt?"":"Retry failed",_e[Ee]=je,te("Re-run Export",je.status,je.fileName,je.performedBy,je.department,je.notes),_e})},Y=()=>{const Ee=H.map(je=>({"File Name":je.fileName,Department:je.department,"Performed By":je.performedBy,"Date & Time":je.timestamp.toLocaleString(),Status:je.status,"Notes / Errors":je.notes||""})),se=Jt.json_to_sheet(Ee),_e=Jt.book_new();Jt.book_append_sheet(_e,se,"Exports"),gs(_e,"exports_report.xlsx"),te("Export Excel","Success","exports_report.xlsx","System",N==="All"?"Mixed":N)},oe=()=>{const Ee=new ha("l","pt","a4");Ee.setFontSize(14),Ee.text(t?" ":"Exports Report",40,40);const se=[[t?" ":"File Name",t?"":"Department",t?" ":"Performed By",t?" ":"Date & Time",t?"":"Status",t?"":"Notes"]],_e=H.map(je=>[je.fileName,je.department,je.performedBy,je.timestamp.toLocaleString(),je.status,je.notes||""]);Ee.autoTable({head:se,body:_e,startY:60}),Ee.save("exports_report.pdf"),te("Export PDF","Success","exports_report.pdf","System",N==="All"?"Mixed":N)},xe=w.useMemo(()=>{const Ee=new Map;H.forEach(je=>Ee.set(je.department,(Ee.get(je.department)||0)+1));const se=Array.from(Ee.keys()),_e=se.map(je=>Ee.get(je));return{labels:se,data:_e}},[H]),W=w.useMemo(()=>{const Ee=H.filter(_e=>_e.status==="Success").length,se=H.filter(_e=>_e.status==="Failed").length;return{success:Ee,failed:se}},[H]),he=w.useMemo(()=>{const Ee=rt=>new Date(rt.getFullYear(),rt.getMonth(),rt.getDate()).toLocaleDateString(),se=new Map;H.forEach(rt=>{const ft=Ee(rt.timestamp);se.set(ft,(se.get(ft)||0)+1)});const _e=Array.from(se.keys()).sort((rt,ft)=>new Date(rt)-new Date(ft)),je=_e.map(rt=>se.get(rt));return{labels:_e,data:je}},[H]),fe=({status:Ee})=>{const se=Ee==="Success",_e=t?se?"":"":Ee,je=se?"ring-emerald-200":"ring-rose-200",rt=se?"bg-emerald-100":"bg-rose-100",ft=se?"text-emerald-700":"text-rose-700",Bt=se?"bg-emerald-600":"bg-rose-600";return s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${rt} ${ft} ring-1 ${je}`,title:Ee,children:[s.jsx("span",{className:`inline-block w-1.5 h-1.5 rounded-full ${Bt}`}),_e]})},[de,Oe]=w.useState({fileName:"",department:"Customers"}),Fe=()=>{const Ee="Maram Admin",se=Math.random()<.85,_e={fileName:de.fileName||`export_${Date.now()}.csv`,department:de.department,performedBy:Ee,timestamp:new Date,status:se?"Success":"Failed",notes:se?"":"Service unavailable"};I(je=>[_e,...je]),te("Export",_e.status,_e.fileName,Ee,_e.department,_e.notes),p(!1),Oe({fileName:"",department:"Customers"})};return s.jsx(ea,{children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:t?"  ":"Exports Report"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:"btn btn-glass",onClick:oe,children:[s.jsx(y5,{className:"mr-1"})," ",t?" PDF":"Download PDF"]}),s.jsxs("button",{className:"btn btn-glass",onClick:Y,children:[s.jsx(y5,{className:"mr-1"})," ",t?" Excel":"Download Excel"]}),s.jsx("button",{className:"btn btn-primary",onClick:()=>p(!0),children:t?"":"Export"})]})]})}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Manager"}),s.jsx("select",{className:"input w-full",value:v,onChange:Ee=>{g(Ee.target.value),o(1)},children:B.map(Ee=>s.jsx("option",{value:Ee,children:Ee},Ee))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Employee"}),s.jsx("select",{className:"input w-full",value:b,onChange:Ee=>{j(Ee.target.value),o(1)},children:E.map(Ee=>s.jsx("option",{value:Ee,children:Ee},Ee))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Department"}),s.jsx("select",{className:"input w-full",value:N,onChange:Ee=>{S(Ee.target.value),o(1)},children:R.map(Ee=>s.jsx("option",{value:Ee,children:Ee},Ee))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?" ":"Date Mode"}),s.jsxs("select",{className:"input w-full",value:k,onChange:Ee=>{A(Ee.target.value),o(1)},children:[s.jsx("option",{value:"day",children:t?"":"Day"}),s.jsx("option",{value:"week",children:t?"":"Week"}),s.jsx("option",{value:"month",children:t?"":"Month"}),s.jsx("option",{value:"range",children:t?"":"Range"})]})]}),k!=="range"&&s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Date"}),s.jsx("input",{type:"date",className:"input w-full",value:_,onChange:Ee=>{M(Ee.target.value),o(1)}})]}),k==="range"&&s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Start"}),s.jsx("input",{type:"date",className:"input w-full",value:L,onChange:Ee=>{U(Ee.target.value),o(1)}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"End"}),s.jsx("input",{type:"date",className:"input w-full",value:z,onChange:Ee=>{O(Ee.target.value),o(1)}})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ole,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),s.jsx("input",{value:a,onChange:Ee=>{r(Ee.target.value),o(1)},placeholder:t?" ":"Search file name",className:"input w-full pl-9"})]})]})]})}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?"  ":"Total Exports"}),s.jsx("div",{className:"text-2xl font-semibold",children:X.total})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?"":"Successful"}),s.jsx("div",{className:"text-2xl font-semibold text-emerald-600",children:X.success})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?"":"Failed"}),s.jsx("div",{className:"text-2xl font-semibold text-rose-600",children:X.failed})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:t?"  ":"Exports per Department"}),s.jsx(Ls,{data:{labels:xe.labels,datasets:[{label:t?"":"Count",data:xe.data,backgroundColor:"#4f46e5"}]},options:{responsive:!0,plugins:{legend:{display:!1}}}})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:t?"  ":"Successful vs Failed"}),s.jsx(Rj,{data:{labels:[t?"":"Successful",t?"":"Failed"],datasets:[{data:[W.success,W.failed],backgroundColor:["#10b981","#ef4444"],borderColor:["#ffffff","#ffffff"],borderWidth:2,hoverOffset:6}]},options:{responsive:!0,cutout:"70%",plugins:{legend:{position:"bottom",labels:{usePointStyle:!0}},tooltip:{callbacks:{label:Ee=>`${Ee.label}: ${Ee.raw}`}}}}}),s.jsxs("div",{className:"mt-3 flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"inline-flex items-center gap-2",children:[s.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-emerald-600"}),s.jsxs("span",{className:"text-emerald-700",children:[t?"":"Successful",": ",W.success]})]}),s.jsxs("div",{className:"inline-flex items-center gap-2",children:[s.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-rose-600"}),s.jsxs("span",{className:"text-rose-700",children:[t?"":"Failed",": ",W.failed]})]})]})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:t?"  ":"Exports Over Time"}),s.jsx(no,{data:{labels:he.labels,datasets:[{label:t?"":"Exports",data:he.data,borderColor:"#4f46e5",backgroundColor:"#4f46e5"}]},options:{responsive:!0,plugins:{legend:{display:!1}}}})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-xl p-0 overflow-hidden",children:[s.jsxs("table",{className:"nova-table nova-table--glass w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"nova-th"}),s.jsx("th",{className:"nova-th",children:t?" ":"File Name"}),s.jsx("th",{className:"nova-th",children:t?"":"Department"}),s.jsx("th",{className:"nova-th",children:t?" ":"Performed By"}),s.jsx("th",{className:"nova-th",children:t?" ":"Date & Time"}),s.jsx("th",{className:"nova-th",children:t?"":"Status"}),s.jsx("th",{className:"nova-th",children:t?"":"Notes"}),s.jsx("th",{className:"nova-th",children:t?"":"Action"})]})}),s.jsxs("tbody",{children:[ae.map((Ee,se)=>s.jsxs("tr",{className:"nova-tr",children:[s.jsx("td",{className:"nova-td",children:s.jsx("input",{type:"checkbox",checked:c,onChange:_e=>d(_e.target.checked),"aria-label":"select"})}),s.jsx("td",{className:"nova-td text-sm",children:Ee.fileName}),s.jsx("td",{className:"nova-td text-sm",children:Ee.department}),s.jsx("td",{className:"nova-td text-sm",children:Ee.performedBy}),s.jsx("td",{className:"nova-td text-sm",children:Ee.timestamp.toLocaleString()}),s.jsx("td",{className:"nova-td",children:s.jsx(fe,{status:Ee.status})}),s.jsx("td",{className:"nova-td text-sm",children:Ee.notes||"-"}),s.jsx("td",{className:"nova-td",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>f(Ee),className:"text-primary text-sm hover:underline",children:t?"":"Preview"}),s.jsx("button",{onClick:()=>ie(Ee),className:"btn btn-glass px-2 py-1",title:t?"":"Download",children:s.jsx(y5,{})}),Ee.status==="Failed"&&s.jsx("button",{onClick:()=>le((l-1)*n+se),className:"btn btn-glass px-2 py-1",title:t?" ":"Re-run",children:s.jsx(dA,{})})]})})]},se)),ae.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"nova-td text-center text-sm text-gray-500",colSpan:8,children:t?"  ":"No results"})})]})]}),s.jsxs("div",{className:"p-3 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[t?"  ":"Entries per page",s.jsxs("select",{value:n,onChange:Ee=>{i(Number(Ee.target.value)),o(1)},className:"ml-2 input w-20",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:25,children:"25"}),s.jsx("option",{value:50,children:"50"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-glass",disabled:l===1,onClick:()=>o(Ee=>Math.max(1,Ee-1)),children:t?"":"Prev"}),s.jsxs("span",{className:"text-sm",children:[l," / ",J]}),s.jsx("button",{className:"btn btn-glass",disabled:l===J,onClick:()=>o(Ee=>Math.min(J,Ee+1)),children:t?"":"Next"})]})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"font-semibold",children:t?" ":"Audit Trail"}),s.jsx("div",{className:"text-xs text-gray-500",children:t?"      ":"Logs all export, download, and re-run actions"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table nova-table--glass w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"nova-th",children:t?"":"Time"}),s.jsx("th",{className:"nova-th",children:t?"":"Action"}),s.jsx("th",{className:"nova-th",children:t?" ":"File Name"}),s.jsx("th",{className:"nova-th",children:t?"":"Department"}),s.jsx("th",{className:"nova-th",children:t?"":"User"}),s.jsx("th",{className:"nova-th",children:t?"":"Status"}),s.jsx("th",{className:"nova-th",children:t?"":"Notes"})]})}),s.jsxs("tbody",{children:[G.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"nova-td text-center text-sm text-gray-500",colSpan:7,children:t?"   ":"No logs yet"})}),G.map(Ee=>s.jsxs("tr",{className:"nova-tr",children:[s.jsx("td",{className:"nova-td text-sm",children:new Date(Ee.timestamp).toLocaleString()}),s.jsx("td",{className:"nova-td text-sm",children:Ee.action}),s.jsx("td",{className:"nova-td text-sm",children:Ee.fileName}),s.jsx("td",{className:"nova-td text-sm",children:Ee.department}),s.jsx("td",{className:"nova-td text-sm",children:Ee.user}),s.jsx("td",{className:"nova-td",children:s.jsx(fe,{status:Ee.status})}),s.jsx("td",{className:"nova-td text-sm",children:Ee.notes||"-"})]},Ee.id))]})]})})]}),u&&s.jsxs("div",{className:"fixed inset-0 z-40 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>f(null)}),s.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[560px] max-w-[95vw]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:t?" ":"File Preview"}),s.jsx("button",{className:"btn btn-glass",onClick:()=>f(null),children:t?"":"Close"})]}),s.jsxs("div",{className:"text-sm space-y-2",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[t?"":"Name",":"]})," ",u.fileName]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[t?"":"Department",":"]})," ",u.department]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[t?"":"Status",":"]})," ",u.status]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[t?" ":"Performed By",":"]})," ",u.performedBy]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[t?"":"Date",":"]})," ",u.timestamp.toLocaleString()]})]}),s.jsx("div",{className:"mt-3 p-3 rounded-lg border border-gray-200 dark:border-gray-700 bg-transparent text-xs text-gray-600 dark:text-gray-300",children:t?"  .":"This is a descriptive preview."})]})]}),x&&s.jsxs("div",{className:"fixed inset-0 z-40 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>p(!1)}),s.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[560px] max-w-[95vw]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:t?" ":"New Export"}),s.jsx("button",{className:"btn btn-glass",onClick:()=>p(!1),children:t?"":"Close"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?" ":"File Name"}),s.jsx("input",{className:"input w-full",value:de.fileName,onChange:Ee=>Oe(se=>({...se,fileName:Ee.target.value})),placeholder:"clients_export.csv"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Department"}),s.jsx("select",{className:"input w-full",value:de.department,onChange:Ee=>Oe(se=>({...se,department:Ee.target.value})),children:R.filter(Ee=>Ee!=="All").map(Ee=>s.jsx("option",{value:Ee,children:Ee},Ee))})]})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{className:"btn btn-glass",onClick:()=>p(!1),children:t?"":"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:Fe,children:t?" ":"Perform Export"})]})]})]})]})})};Nr.register(Cn,An,$n,rn,an);function lUe(){const{t:e}=Et(),t=[{name:"Ahmed Ali",calls:45,actions:30,delayed:3,stages:{lead:10,qualified:12,proposal:0,closed:8},revenue:82e3,target:1e5},{name:"Sara Hassan",calls:58,actions:40,delayed:1,stages:{lead:14,qualified:18,proposal:0,closed:8},revenue:105e3,target:1e5},{name:"Omar Mostafa",calls:32,actions:22,delayed:5,stages:{lead:8,qualified:9,proposal:3,closed:2},revenue:54e3,target:9e4},{name:"Mona Adel",calls:40,actions:27,delayed:2,stages:{lead:12,qualified:10,proposal:4,closed:6},revenue:76e3,target:11e4}],[a,r]=w.useState("all"),[n,i]=w.useState("month"),l=w.useMemo(()=>a==="all"?t:t.filter(g=>g.name===a),[a]),o=w.useMemo(()=>{const g=l.reduce((A,_)=>A+_.calls,0),b=l.reduce((A,_)=>A+_.actions,0),j=l.reduce((A,_)=>A+_.delayed,0),N=l.reduce((A,_)=>A+_.revenue,0),S=l.reduce((A,_)=>A+_.target,0),k=l.length?Math.round(l.reduce((A,_)=>A+_.revenue/_.target*100,0)/l.length):0;return{calls:g,actions:b,delayed:j,revenue:N,target:S,avgPct:k}},[l]),c=w.useMemo(()=>{const g=l.reduce((j,N)=>(j.lead+=N.stages.lead,j.qualified+=N.stages.qualified,j.proposal+=N.stages.proposal,j.closed+=N.stages.closed,j),{lead:0,qualified:0,proposal:0,closed:0}),b=typeof document<"u"&&document.documentElement.classList.contains("dark");return[{label:e("Lead"),value:g.lead,color:"#3b82f6"},{label:e("Qualified"),value:g.qualified,color:"#22c55e"},{label:e("Proposal"),value:g.proposal,color:"#f59e0b"},{label:e("Closed"),value:g.closed,color:"#8b5cf6"}]},[l,e]),d=typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",u={labels:l.map(g=>g.name),datasets:[{label:e("Calls"),data:l.map(g=>g.calls),backgroundColor:"#2563eb",borderRadius:6,barThickness:24},{label:e("Actions"),data:l.map(g=>g.actions),backgroundColor:"#22c55e",borderRadius:6,barThickness:24}]},f={responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{font:{size:12},color:d}},y:{grid:{display:!1},ticks:{font:{size:12},color:d}}},plugins:{legend:{display:!0}}},x=g=>g>=90?"bg-emerald-500":g>=60?"bg-yellow-500":"bg-red-500",p=()=>{const g=l.map(N=>({Salesperson:N.name,Calls:N.calls,Actions:N.actions,Delayed:N.delayed,Lead:N.stages.lead,Qualified:N.stages.qualified,Proposal:N.stages.proposal,Closed:N.stages.closed,RevenueAchieved:N.revenue,TargetPercent:Math.round(N.revenue/N.target*100)})),b=Jt.json_to_sheet(g),j=Jt.book_new();Jt.book_append_sheet(j,b,"SalesActivities"),gs(j,"sales-activities-dashboard.xlsx")},v=()=>{window.print()};return s.jsx(ea,{titleKey:"Sales Activities",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-2xl font-semibold",children:e("Sales Activities")})}),s.jsx("div",{className:"h-2","aria-hidden":"true"}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:v,className:"btn btn-primary",children:e("Download PDF")}),s.jsx("button",{onClick:p,className:"btn btn-secondary",children:e("Download Excel")})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:s.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Salesperson")}),s.jsxs("select",{value:a,onChange:g=>r(g.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100",children:[s.jsx("option",{value:"all",children:e("All")}),t.map(g=>s.jsx("option",{value:g.name,children:g.name},g.name))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Date Range")}),s.jsx("div",{className:"flex gap-2",children:["day","week","month"].map(g=>s.jsx("button",{onClick:()=>i(g),className:`px-3 py-2 rounded-md border text-sm ${n===g?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100 border-gray-300 dark:border-gray-700"}`,children:e(g.charAt(0).toUpperCase()+g.slice(1))},g))})]})]})}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:e("Total Calls"),value:o.calls,accent:"bg-blue-500"},{label:e("Total Actions"),value:o.actions,accent:"bg-emerald-500"},{label:e("Total Revenue"),value:`${o.revenue.toLocaleString()} EGP`,accent:"bg-purple-500"},{label:e("Average Achievement %"),value:`${o.avgPct}%`,accent:"bg-indigo-500"}].map(g=>s.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`inline-block w-2 h-6 rounded ${g.accent}`}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:g.label}),s.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:g.value})]})]})},g.label))}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:e("Calls & Actions")}),s.jsx("span",{className:"text-xs text-[var(--muted-text)]",children:e("Per Salesperson")})]}),s.jsx("div",{style:{height:"260px"},children:s.jsx(Ls,{data:u,options:f})})]}),s.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:e("Actions by Stage")})}),s.jsx(Zn,{segments:c,size:180,centerLabel:e("Stages")})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsx("tr",{className:"text-left border-b border-gray-200 dark:border-gray-700",children:[e("Salesperson"),e("Calls"),e("Actions"),e("Delayed"),e("Actions by Stage"),e("Revenue Achieved"),e("Target %")].map((g,b)=>s.jsx("th",{className:"px-3 py-2 text-gray-700 dark:text-gray-200 font-medium",children:g},b))})}),s.jsx("tbody",{children:l.map((g,b)=>{const j=Math.round(g.revenue/g.target*100);return s.jsxs(In.Fragment,{children:[s.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:g.name}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:g.calls}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:g.actions}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:g.delayed}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:`${g.stages.lead} ${e("Lead")} / ${g.stages.qualified} ${e("Qualified")} / ${g.stages.closed} ${e("Closed")}`}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:`${g.revenue.toLocaleString()} EGP`}),s.jsx("td",{className:"px-3 py-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 h-2 rounded bg-gray-200 dark:bg-gray-700 overflow-hidden",children:s.jsx("div",{className:`h-2 ${x(j)}`,style:{width:`${Math.min(100,j)}%`}})}),s.jsxs("span",{className:"text-xs text-gray-700 dark:text-gray-200 w-10 text-right",children:[j,"%"]})]})})]}),b!==l.length-1&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"py-2"})})]},g.name)})})]})})})]})})}function oUe({segments:e=[],width:t=380,sliceHeight:a=30,gap:r=10,showConversions:n=!0,formatValue:i}){const l=Math.max(...e.map(f=>f.value),1),o=e.reduce((f,x)=>f+x.value,0)||1,c=typeof document<"u"&&document.documentElement.classList.contains("dark"),d=c?"text-gray-100":"text-gray-900",u=c?"text-gray-300":"text-gray-600";return s.jsx("div",{style:{width:t},className:"mx-auto",children:e.map((f,x)=>{const p=Math.max(48,Math.round(f.value/l*t)),v=Math.round(f.value/o*100),g=i?i(f.value):f.value.toLocaleString(),b=f.colorStart||f.color||"#3b82f6",j=f.colorEnd||f.color||"#1e40af",N=e[x+1],S=N&&f.value>0?Math.round(N.value/f.value*100):null;return s.jsxs("div",{style:{marginBottom:r},children:[s.jsxs("div",{className:"relative",style:{height:a},children:[s.jsx("div",{style:{width:p,height:a,margin:"0 auto",clipPath:"polygon(6% 0%, 94% 0%, 100% 100%, 0% 100%)",backgroundImage:`linear-gradient(90deg, ${b}, ${j})`},className:"rounded-md shadow-sm transition-all duration-200 hover:shadow-md",title:`${f.label}: ${g} (${v}%)`}),s.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-3",children:[s.jsxs("span",{className:`text-xs ${d} flex items-center gap-2`,children:[f.icon?s.jsx("span",{className:"text-sm",children:f.icon}):s.jsx("span",{className:"inline-block w-2 h-2 rounded-full",style:{backgroundColor:b}}),f.label]}),s.jsxs("span",{className:`text-xs ${u}`,children:[g,"  ",v,"%"]})]})]}),n&&S!==null&&s.jsx("div",{className:"flex items-center justify-center mt-1",children:s.jsxs("span",{className:`text-[11px] ${u}`,children:[" ",S,"%"]})})]},f.label)})})}Nr.register(Cn,An,$n,rn,an);function cUe(){const{t:e,i18n:t}=Et(),{stages:a}=Ov(),r=[{name:"ABC Pharma",stage:"Qualified",expectedValue:25e3,salesperson:"Ahmed Ali",dateCreated:"2025-11-02",expectedClose:"2025-12-10",status:"Active"},{name:"Delta Med",stage:"Proposal",expectedValue:42e3,salesperson:"Sara Hassan",dateCreated:"2025-11-04",expectedClose:"2025-12-15",status:"Pending"},{name:"Green Labs",stage:"Negotiation",expectedValue:33e3,salesperson:"Omar Tarek",dateCreated:"2025-11-06",expectedClose:"2025-12-22",status:"Active"},{name:"Sun Health",stage:"Contacted",expectedValue:18e3,salesperson:"Ahmed Ali",dateCreated:"2025-11-07",expectedClose:"2025-12-05",status:"Active"},{name:"Medix Co.",stage:"New",expectedValue:15e3,salesperson:"Mona Adel",dateCreated:"2025-11-05",expectedClose:"2025-12-01",status:"Active"},{name:"BioCure",stage:"Closed Won",expectedValue:7e4,salesperson:"Sara Hassan",dateCreated:"2025-10-28",expectedClose:"2025-11-08",status:"Closed"},{name:"LifeChem",stage:"Closed Lost",expectedValue:12e3,salesperson:"Omar Tarek",dateCreated:"2025-10-26",expectedClose:"2025-11-03",status:"Lost"},{name:"CarePlus",stage:"Proposal",expectedValue:38e3,salesperson:"Mona Adel",dateCreated:"2025-11-03",expectedClose:"2025-12-18",status:"Pending"},{name:"HealRight",stage:"Qualified",expectedValue:26e3,salesperson:"Ahmed Ali",dateCreated:"2025-11-01",expectedClose:"2025-12-12",status:"Active"},{name:"NovaMed",stage:"Negotiation",expectedValue:45e3,salesperson:"Sara Hassan",dateCreated:"2025-11-02",expectedClose:"2025-12-20",status:"Active"}],n=w.useMemo(()=>Array.from(new Set(r.map(O=>O.salesperson))),[]),[i,l]=w.useState("all"),[o,c]=w.useState("created"),[d,u]=w.useState(""),[f,x]=w.useState(""),p=w.useMemo(()=>r.filter(O=>{const B=i==="all"||O.salesperson===i,E=o==="created"?O.dateCreated:O.expectedClose,R=new Date(E),q=d?R>=new Date(d):!0,I=f?R<=new Date(f):!0;return B&&q&&I}),[i,o,d,f]),v=w.useMemo(()=>{const O=p.length,B=p.reduce((E,R)=>E+R.expectedValue,0);return{totalLeads:O,totalExpected:B}},[p]),g=O=>String(O||"").trim().toLowerCase(),b=w.useMemo(()=>{const O=Object.fromEntries((a||[]).map(B=>[g(B.name),0]));return p.forEach(B=>{const E=g(B.stage);E in O&&(O[E]=(O[E]||0)+1)}),O},[p,a]),j=w.useMemo(()=>{const O=Object.fromEntries((a||[]).map(B=>[g(B.name),0]));return p.forEach(B=>{const E=g(B.stage);E in O&&(O[E]=(O[E]||0)+B.expectedValue)}),O},[p,a]),N=w.useMemo(()=>{const O={};p.forEach(E=>{O[E.salesperson]=(O[E.salesperson]||0)+1}),typeof document<"u"&&document.documentElement.classList.contains("dark");const B=["#3b82f6","#22c55e","#f59e0b","#8b5cf6","#ef4444","#10b981","#6366f1"];return Object.entries(O).map(([E,R],q)=>({label:E,value:R,color:B[q%B.length]}))},[p]),S=typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",A={labels:(a||[]).map(O=>O.name),datasets:[{label:e("Total Expected Value"),data:(a||[]).map(O=>j[g(O.name)]),backgroundColor:"#2563eb",borderRadius:6,barThickness:24}]},_={responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{color:S}},y:{grid:{display:!1},ticks:{color:S}}},plugins:{legend:{display:!0}}},M=O=>(a||[]).find(E=>g(E.name)===g(O))?.color||"#3b82f6",L=()=>{const O=p.map(R=>({LeadName:R.name,SalesStage:R.stage,ExpectedValueEGP:R.expectedValue,Salesperson:R.salesperson,DateCreated:R.dateCreated,ExpectedClosing:R.expectedClose,Status:R.status})),B=Jt.json_to_sheet(O),E=Jt.book_new();Jt.book_append_sheet(E,B,"LeadsPipeline"),gs(E,"leads-pipeline-dashboard.xlsx")},U=()=>window.print(),z=O=>(a||[]).find(B=>g(B.name)===g(O));return s.jsx(ea,{titleKey:"Leads pipeline",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-2xl font-semibold",children:e("Leads pipeline")})}),s.jsx("div",{className:"h-2","aria-hidden":"true"}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:U,className:"btn btn-primary",children:e("Download PDF")}),s.jsx("button",{onClick:L,className:"btn btn-secondary",children:e("Download Excel")})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:s.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Salesperson")}),s.jsxs("select",{value:i,onChange:O=>l(O.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100",children:[s.jsx("option",{value:"all",children:e("All")}),n.map(O=>s.jsx("option",{value:O,children:O},O))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Date Type")}),s.jsxs("select",{value:o,onChange:O=>c(O.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100",children:[s.jsx("option",{value:"created",children:e("Created Date")}),s.jsx("option",{value:"expectedClose",children:e("Expected Close Date")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("From")}),s.jsx("input",{type:"date",value:d,onChange:O=>u(O.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("To")}),s.jsx("input",{type:"date",value:f,onChange:O=>x(O.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100"})]})]})}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:e("Total Leads"),value:v.totalLeads,accent:"bg-blue-500"},{label:e("Total Expected Value"),value:`${v.totalExpected.toLocaleString()} EGP`,accent:"bg-emerald-500"}].map(O=>s.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`inline-block w-2 h-6 rounded ${O.accent}`}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:O.label}),s.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:O.value})]})]})},O.label))}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3",children:e("Funnel by Stage")}),(()=>{const O=(E,R=40)=>{try{const q=E.replace("#",""),I=parseInt(q,16);let G=I>>16&255,re=I>>8&255,te=I&255;return G=Math.max(0,G-R),re=Math.max(0,re-R),te=Math.max(0,te-R),`#${(G<<16|re<<8|te).toString(16).padStart(6,"0")}`}catch{return E}},B=(a||[]).map(E=>({label:e(E.nameAr||E.name),value:b[g(E.name)]||0,colorStart:E.color||"#3b82f6",colorEnd:O(E.color||"#3b82f6",40),icon:E.icon}));return s.jsx(oUe,{segments:B,width:460,sliceHeight:34,gap:12,showConversions:!0,formatValue:E=>E.toLocaleString()})})()]}),s.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 lg:col-span-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3",children:e("Expected Value by Stage")}),s.jsx("div",{style:{height:"260px"},children:s.jsx(Ls,{data:A,options:_})})]}),s.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3",children:e("Leads by Salesperson")}),s.jsx(Zn,{segments:N,size:200,centerLabel:e("Leads")})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsx("tr",{className:"text-left border-b border-gray-200 dark:border-gray-700",children:[e("Lead Name"),e("Sales Stage"),e("Expected Value"),e("Salesperson"),e("Date Created"),e("Status")].map((O,B)=>s.jsx("th",{className:"px-3 py-2 text-gray-700 dark:text-gray-200 font-medium",children:O},B))})}),s.jsx("tbody",{children:p.map((O,B)=>s.jsxs(In.Fragment,{children:[s.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:O.name}),s.jsx("td",{className:"px-3 py-2",children:(()=>{const E=z(O.stage),R=t.language==="ar"?E?.nameAr||E?.name||O.stage:E?.name||O.stage,q=E?.color||M(O.stage);return s.jsxs("span",{className:"inline-flex items-center gap-2 px-2 py-1 rounded text-white text-xs",style:{backgroundColor:q},children:[E?.icon&&s.jsx("span",{className:"text-sm",children:E.icon}),s.jsx("span",{children:R})]})})()}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:`${O.expectedValue.toLocaleString()} EGP`}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:O.salesperson}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:new Date(O.dateCreated).toLocaleDateString()}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:e(O.status)})]}),B!==p.length-1&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"py-2"})})]},`${O.name}-${B}`))})]})})})]})})}Nr.register(Cn,An,$n,pl,ai,rn,an);function dUe(){const{t:e}=Et(),t=[{id:1,customer:"Ahmed Hassan",contact:"+20 100 123 4567",reservationDateTime:"2025-11-09T20:00:00",type:"Table for 4",status:"confirmed",value:850,handledBy:"Omar Ali",createdOn:"2025-11-07"},{id:2,customer:"Mona Said",contact:"+20 101 555 0000",reservationDateTime:"2025-11-10T14:00:00",type:"Catering Order",status:"pending",value:1200,handledBy:"Sara Kamal",createdOn:"2025-11-08"},{id:3,customer:"Ola Sami",contact:"+20 120 222 3333",reservationDateTime:"2025-11-11T18:30:00",type:"Room",status:"confirmed",value:1800,handledBy:"Omar Ali",createdOn:"2025-11-08"},{id:4,customer:"Karim Mostafa",contact:"+20 111 777 8888",reservationDateTime:"2025-11-09T12:00:00",type:"Appointment",status:"cancelled",value:0,handledBy:"Nour El-Din",createdOn:"2025-11-07"},{id:5,customer:"Sara Hassan",contact:"+20 102 987 6543",reservationDateTime:"2025-11-12T16:00:00",type:"Table for 2",status:"completed",value:400,handledBy:"Sara Kamal",createdOn:"2025-11-09"},{id:6,customer:"Omar Mostafa",contact:"+20 103 321 0000",reservationDateTime:"2025-11-10T19:30:00",type:"Room",status:"confirmed",value:2200,handledBy:"Mona Adel",createdOn:"2025-11-08"},{id:7,customer:"Layla Ahmed",contact:"+20 104 888 1234",reservationDateTime:"2025-11-11T10:00:00",type:"Appointment",status:"pending",value:300,handledBy:"Nour El-Din",createdOn:"2025-11-09"},{id:8,customer:"Hussein Ali",contact:"+20 105 444 2222",reservationDateTime:"2025-11-12T21:00:00",type:"Table for 6",status:"cancelled",value:0,handledBy:"Mona Adel",createdOn:"2025-11-10"}],a=w.useMemo(()=>{const I=new Set(t.map(G=>G.handledBy));return["all",...Array.from(I)]},[]),[r,n]=w.useState("all"),[i,l]=w.useState("reservation"),[o,c]=w.useState(""),[d,u]=w.useState(""),[f,x]=w.useState("all"),p=I=>{if(!o&&!d)return!0;const G=new Date(I),re=o?G>=new Date(o):!0,te=d?G<=new Date(d):!0;return re&&te},v=w.useMemo(()=>t.filter(I=>{const G=i==="created"?I.createdOn:I.reservationDateTime.slice(0,10),re=r==="all"?!0:I.handledBy===r,te=f==="all"?!0:I.status===f,X=p(G);return re&&te&&X}),[t,r,f,i,o,d]),g=v.length,b=v.filter(I=>I.status==="confirmed").length,j=v.filter(I=>I.status==="cancelled").length,N=v.reduce((I,G)=>I+(G.value||0),0),S=g?Math.round(N/g):0,k=v.filter(I=>I.type.toLowerCase().includes("room"));k.length&&Math.round(k.filter(I=>I.status==="confirmed").length/k.length*100);const A=I=>I.slice(0,10),_=Array.from(new Set(v.map(I=>A(I.reservationDateTime)))).sort(),M={labels:_,datasets:[{label:e("Reservations per day"),data:_.map(I=>v.filter(G=>A(G.reservationDateTime)===I).length),borderColor:"#3b82f6",backgroundColor:"rgba(59,130,246,0.2)"}]},L={responsive:!0,plugins:{legend:{display:!1}}},U=[{label:e("Confirmed"),value:v.filter(I=>I.status==="confirmed").length,color:"#10b981"},{label:e("Pending"),value:v.filter(I=>I.status==="pending").length,color:"#f59e0b"},{label:e("Cancelled"),value:v.filter(I=>I.status==="cancelled").length,color:"#ef4444"},{label:e("Completed"),value:v.filter(I=>I.status==="completed").length,color:"#64748b"}],z=Array.from(new Set(v.map(I=>I.handledBy))),O={labels:z,datasets:[{label:e("Revenue by staff"),data:z.map(I=>v.filter(G=>G.handledBy===I).reduce((G,re)=>G+(re.value||0),0)),backgroundColor:"#10b981"}]},B={responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}},E=()=>{const I=v.map(te=>({Customer:te.customer,Contact:te.contact,ReservationDateTime:te.reservationDateTime,Type:te.type,Status:te.status,ValueEGP:te.value,HandledBy:te.handledBy,CreatedOn:te.createdOn})),G=Jt.json_to_sheet(I),re=Jt.book_new();Jt.book_append_sheet(re,G,"Reservations"),gs(re,"reservations-dashboard.xlsx")},R=()=>window.print(),q=I=>{switch(I){case"confirmed":return"bg-emerald-100 text-emerald-700 dark:bg-emerald-950 dark:text-emerald-300";case"pending":return"bg-amber-100 text-amber-700 dark:bg-amber-950 dark:text-amber-300";case"cancelled":return"bg-rose-100 text-rose-700 dark:bg-rose-950 dark:text-rose-300";case"completed":return"bg-slate-100 text-slate-700 dark:bg-slate-900 dark:text-slate-300";default:return"bg-gray-100 text-gray-700 dark:bg-gray-900 dark:text-gray-300"}};return s.jsx(ea,{titleKey:"Reservations",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Reservations")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:R,className:"btn btn-primary",children:e("Download PDF")}),s.jsx("button",{onClick:E,className:"btn btn-secondary",children:e("Download Excel")})]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:s.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Staff")}),s.jsx(rr,{value:r,onChange:I=>n(I),className:"px-3 py-2",children:a.map(I=>s.jsx("option",{value:I,children:I==="all"?e("All"):I},I))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Date Type")}),s.jsxs(rr,{value:i,onChange:I=>l(I),className:"px-3 py-2",children:[s.jsx("option",{value:"reservation",children:e("Reservation Date")}),s.jsx("option",{value:"created",children:e("Created Date")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("From")}),s.jsx("input",{type:"date",value:o,onChange:I=>c(I.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("To")}),s.jsx("input",{type:"date",value:d,onChange:I=>u(I.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Status")}),s.jsxs(rr,{value:f,onChange:I=>x(I),className:"px-3 py-2",children:[s.jsx("option",{value:"all",children:e("All")}),s.jsx("option",{value:"confirmed",children:e("Confirmed")}),s.jsx("option",{value:"pending",children:e("Pending")}),s.jsx("option",{value:"cancelled",children:e("Cancelled")}),s.jsx("option",{value:"completed",children:e("Completed")})]})]})]})}),s.jsx("div",{className:"h-3","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:e("Total Reservations"),value:g,accent:"bg-blue-500"},{label:e("Confirmed vs Cancelled"),value:`${b} / ${j}`,accent:"bg-emerald-500"},{label:e("Total Revenue"),value:`${N.toLocaleString()} EGP`,accent:"bg-indigo-500"},{label:e("Average Value"),value:`${S.toLocaleString()} EGP`,accent:"bg-amber-500"}].map(I=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:I.label}),s.jsx("div",{className:"text-lg font-semibold",children:I.value})]}),s.jsx("div",{className:`w-8 h-8 rounded-lg ${I.accent}`})]},I.label))}),s.jsx("div",{className:"h-3","aria-hidden":"true"}),s.jsx("div",{className:"h-3","aria-hidden":"true"}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:[s.jsx("div",{className:"text-sm font-semibold mb-3",children:e("Reservations")}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b border-gray-200 dark:border-gray-700",children:[s.jsx("th",{className:"py-2 px-3",children:e("Customer")}),s.jsx("th",{className:"py-2 px-3",children:e("Reservation Date")}),s.jsx("th",{className:"py-2 px-3",children:e("Type")}),s.jsx("th",{className:"py-2 px-3",children:e("Status")}),s.jsx("th",{className:"py-2 px-3",children:e("Value")}),s.jsx("th",{className:"py-2 px-3",children:e("Handled By")}),s.jsx("th",{className:"py-2 px-3",children:e("Created On")})]})}),s.jsxs("tbody",{children:[v.map(I=>s.jsxs(s.Fragment,{children:[s.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[s.jsxs("td",{className:"py-2 px-3",children:[s.jsx("div",{className:"font-medium",children:I.customer}),s.jsx("div",{className:"text-xs text-gray-500",children:I.contact})]}),s.jsx("td",{className:"py-2 px-3",children:new Date(I.reservationDateTime).toLocaleString()}),s.jsx("td",{className:"py-2 px-3",children:I.type}),s.jsx("td",{className:"py-2 px-3",children:s.jsx("span",{className:`px-2 py-1 rounded-md text-xs ${q(I.status)}`,children:e(I.status.charAt(0).toUpperCase()+I.status.slice(1))})}),s.jsx("td",{className:"py-2 px-3",children:I.value?`${I.value.toLocaleString()} EGP`:"-"}),s.jsx("td",{className:"py-2 px-3",children:I.handledBy}),s.jsx("td",{className:"py-2 px-3",children:I.createdOn})]},I.id),s.jsx("tr",{"aria-hidden":"true",children:s.jsx("td",{colSpan:7,children:s.jsx("div",{className:"h-3"})})})]})),v.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"py-6 text-center text-gray-500",children:e("No reservations found for selected filters")})})]})]})})]}),s.jsx("div",{className:"h-3","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:e("Reservations per day")}),s.jsx("div",{className:"h-48",children:s.jsx(no,{data:M,options:L})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:e("Distribution by status")}),s.jsx("div",{className:"h-48 flex items-center justify-center",children:s.jsx(Zn,{segments:U,size:170})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:e("Revenue by staff")}),s.jsx("div",{className:"h-48",children:s.jsx(Ls,{data:O,options:B})})]})]})]})})}Nr.register(Cn,An,$n,pl,ai,rn,an);function uUe(){const{t:e}=Et(),t=[{id:1,client:"ABC Pharma",value:48e3,product:"Digital Marketing Package",closedDate:"2025-11-02",salesperson:"Ahmed Ali",durationDays:7,paymentStatus:"Paid"},{id:2,client:"Delta Med",value:35e3,product:"Web Development",closedDate:"2025-11-04",salesperson:"Sara Hassan",durationDays:5,paymentStatus:"Pending"},{id:3,client:"Green Labs",value:6e4,product:"CRM System",closedDate:"2025-11-05",salesperson:"Omar Tarek",durationDays:9,paymentStatus:"Paid"},{id:4,client:"Sun Health",value:42e3,product:"SEO & Content",closedDate:"2025-11-06",salesperson:"Ahmed Ali",durationDays:8,paymentStatus:"Partial"},{id:5,client:"Medix Co.",value:28e3,product:"Landing Page + Ads",closedDate:"2025-11-07",salesperson:"Sara Hassan",durationDays:6,paymentStatus:"Paid"},{id:6,client:"BioCure",value:52e3,product:"Marketing Automation",closedDate:"2025-10-30",salesperson:"Omar Tarek",durationDays:10,paymentStatus:"Pending"},{id:7,client:"LifeChem",value:31e3,product:"Social Media Management",closedDate:"2025-10-28",salesperson:"Ahmed Ali",durationDays:4,paymentStatus:"Paid"},{id:8,client:"Nova Labs",value:65e3,product:"CRM + Training",closedDate:"2025-10-25",salesperson:"Mona Adel",durationDays:11,paymentStatus:"Partial"},{id:9,client:"HealthPro",value:47e3,product:"Web Revamp",closedDate:"2025-11-08",salesperson:"Ahmed Ali",durationDays:7,paymentStatus:"Paid"},{id:10,client:"CarePlus",value:33e3,product:"Content & Design",closedDate:"2025-11-03",salesperson:"Mona Adel",durationDays:6,paymentStatus:"Pending"}],r=Object.values({"Ahmed Ali":1e5,"Sara Hassan":9e4,"Omar Tarek":12e4,"Mona Adel":8e4}).reduce((I,G)=>I+G,0),[n,i]=w.useState("all"),[l,o]=w.useState("all"),[c,d]=w.useState("range"),[u,f]=w.useState(""),[x,p]=w.useState(""),[v,g]=w.useState(""),b=w.useMemo(()=>{let I=[...t];return n!=="all"&&(I=I.filter(G=>G.salesperson===n)),l!=="all"&&(I=I.filter(G=>G.paymentStatus===l)),c==="range"?(u&&(I=I.filter(G=>G.closedDate>=u)),x&&(I=I.filter(G=>G.closedDate<=x))):c==="month"&&v&&(I=I.filter(G=>(G.closedDate||"").startsWith(v))),I},[t,n,l,c,u,x,v]),j=b.length,N=b.reduce((I,G)=>I+(G.value||0),0),S=j?Math.round(N/j):0,k=j?Math.round(b.reduce((I,G)=>I+(G.durationDays||0),0)/j):0,A=r?Math.round(N/r*100):0,_=w.useMemo(()=>{const I=new Map;return b.forEach(G=>{I.set(G.salesperson,(I.get(G.salesperson)||0)+G.value)}),I},[b]),M=w.useMemo(()=>{const I={Paid:0,Pending:0,Partial:0};return b.forEach(G=>{I[G.paymentStatus]=(I[G.paymentStatus]||0)+1}),I},[b]),L=w.useMemo(()=>{const I=new Map;b.forEach(re=>{I.set(re.closedDate,(I.get(re.closedDate)||0)+1)});const G=Array.from(I.entries()).sort((re,te)=>re[0].localeCompare(te[0]));return{labels:G.map(re=>re[0]),counts:G.map(re=>re[1])}},[b]),U=()=>{const I=b.map(te=>({Client:te.client,Salesperson:te.salesperson,ProductService:te.product,ClosedDate:te.closedDate,DealValueEGP:te.value,DurationDays:te.durationDays,PaymentStatus:te.paymentStatus})),G=Jt.json_to_sheet(I),re=Jt.book_new();Jt.book_append_sheet(re,G,"ClosedDeals"),gs(re,"closed-deals-report.xlsx")},z=()=>{window.print()},O=I=>{const G=I==="Paid"?"bg-emerald-50 text-emerald-700 border-emerald-200":I==="Partial"?"bg-amber-50 text-amber-700 border-amber-200":"bg-red-50 text-red-700 border-red-200";return s.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-md border ${G}`,children:e(I)})},B={labels:Array.from(_.keys()),datasets:[{label:e("Deal Value (EGP)"),data:Array.from(_.values()),backgroundColor:"rgba(59, 130, 246, 0.6)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1}]},E={labels:L.labels,datasets:[{label:e("Closed Deals"),data:L.counts,fill:!1,borderColor:"rgba(16, 185, 129, 1)",backgroundColor:"rgba(16, 185, 129, 0.3)",tension:.3}]},R=[{label:e("Paid"),value:M.Paid,color:"#10b981"},{label:e("Partial"),value:M.Partial,color:"#f59e0b"},{label:e("Pending"),value:M.Pending,color:"#ef4444"}],q=Array.from(new Set(t.map(I=>I.salesperson)));return s.jsxs(ea,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:e("Closed Deals Report")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:z,className:"btn btn-primary",children:e("Download PDF")}),s.jsx("button",{onClick:U,className:"btn btn-secondary",children:e("Download Excel")})]})]}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Salesperson")}),s.jsxs(rr,{value:n,onChange:I=>i(I),className:"min-w-[180px]",children:[s.jsx("option",{value:"all",children:e("All")}),q.map(I=>s.jsx("option",{value:I,children:I},I))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Date Filter Type")}),s.jsxs(rr,{value:c,onChange:I=>d(I),className:"min-w-[160px]",children:[s.jsx("option",{value:"range",children:e("By Date Range")}),s.jsx("option",{value:"month",children:e("By Month")})]})]}),c==="range"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("From")}),s.jsx("input",{type:"date",value:u,onChange:I=>f(I.target.value),className:"input"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("To")}),s.jsx("input",{type:"date",value:x,onChange:I=>p(I.target.value),className:"input"})]})]}):s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Month")}),s.jsx("input",{type:"month",value:v,onChange:I=>g(I.target.value),className:"input"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Payment Status")}),s.jsxs(rr,{value:l,onChange:I=>o(I),className:"min-w-[160px]",children:[s.jsx("option",{value:"all",children:e("All")}),s.jsx("option",{value:"Paid",children:e("Paid")}),s.jsx("option",{value:"Partial",children:e("Partial")}),s.jsx("option",{value:"Pending",children:e("Pending")})]})]})]})}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[{label:e("Total Closed Deals"),value:j,color:"bg-blue-500"},{label:e("Total Revenue (EGP)"),value:N.toLocaleString(),color:"bg-emerald-500"},{label:e("Average Deal Value"),value:S.toLocaleString(),color:"bg-indigo-500"},{label:e("Average Closing Time"),value:`${k} ${e("days")}`,color:"bg-amber-500"},{label:e("% of Target Achieved"),value:`${A}%`,color:"bg-teal-500"}].map((I,G)=>s.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:I.label}),s.jsx("div",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:I.value})]}),s.jsx("div",{className:`w-10 h-10 rounded-lg ${I.color} opacity-80`})]})},G))}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:e("Deal Value per Salesperson")})}),s.jsx(Ls,{data:B,options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}}})]}),s.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Zn,{segments:R,centerValue:j,centerLabel:e("Deals"),size:200,cutout:"70%",borderRadius:6})}),s.jsx("div",{className:"flex-1 md:ml-6 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[{key:"Paid",color:"#10b981",value:M.Paid},{key:"Partial",color:"#f59e0b",value:M.Partial},{key:"Pending",color:"#ef4444",value:M.Pending}].map(I=>{const G=j?Math.round(I.value/j*100):0;return s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[s.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{backgroundColor:I.color}}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:e(I.key)}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[I.value," / ",j," (",G,"%)"]})]})]},I.key)})})]})}),s.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:e("Closed Deals Trend")})}),s.jsx(no,{data:E,options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,precision:0}}}})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsx("tr",{className:"text-left border-b border-gray-200 dark:border-gray-700",children:[e("Client"),e("Deal Value"),e("Product / Service"),e("Closed Date"),e("Salesperson"),e("Duration (Days)"),e("Payment Status")].map((I,G)=>s.jsx("th",{className:"px-3 py-2 text-gray-700 dark:text-gray-200 font-medium",children:I},G))})}),s.jsx("tbody",{children:b.map((I,G)=>s.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:I.client}),s.jsxs("td",{className:"px-3 py-2",children:[I.value.toLocaleString()," EGP"]}),s.jsx("td",{className:"px-3 py-2",children:I.product}),s.jsx("td",{className:"px-3 py-2",children:I.closedDate}),s.jsx("td",{className:"px-3 py-2",children:I.salesperson}),s.jsx("td",{className:"px-3 py-2",children:I.durationDays}),s.jsx("td",{className:"px-3 py-2",children:O(I.paymentStatus)})]},`${I.id}-${G}`))})]})})})]})}Nr.register(Cn,An,$n,pl,ai,rn,an);function hUe(){const{t:e}=Et(),t=w.useMemo(()=>[{id:1,property:"Villa A1",tenant:"Ahmed Hassan",start:"2025-11-01",end:"2026-10-31",monthlyRent:12e3,totalContractValue:144e3,amountPaid:12e3,balance:0,paymentStatus:"Paid",handledBy:"Sara Kamal",renewed:!0},{id:2,property:"Shop 4",tenant:"Mona Said",start:"2025-11-10",end:"2026-11-09",monthlyRent:8e3,totalContractValue:96e3,amountPaid:4e3,balance:4e3,paymentStatus:"Partial",handledBy:"Omar Ali",renewed:!1},{id:3,property:"Office 302",tenant:"Delta Group",start:"2025-09-15",end:"2026-09-14",monthlyRent:15e3,totalContractValue:18e4,amountPaid:0,balance:15e3,paymentStatus:"Pending",handledBy:"Ahmed Tarek",renewed:!1},{id:4,property:"Warehouse B2",tenant:"LogiX Co.",start:"2025-08-01",end:"2026-07-31",monthlyRent:22e3,totalContractValue:264e3,amountPaid:11e3,balance:11e3,paymentStatus:"Overdue",handledBy:"Nour El-Din",renewed:!1},{id:5,property:"Apartment 5C",tenant:"Yara Samir",start:"2025-12-01",end:"2026-11-30",monthlyRent:9e3,totalContractValue:108e3,amountPaid:9e3,balance:0,paymentStatus:"Paid",handledBy:"Omar Ali",renewed:!0},{id:6,property:"Kiosk K7",tenant:"Snack Hub",start:"2025-10-01",end:"2026-09-30",monthlyRent:4e3,totalContractValue:48e3,amountPaid:2e3,balance:2e3,paymentStatus:"Partial",handledBy:"Sara Kamal",renewed:!1},{id:7,property:"Studio S12",tenant:"Design House",start:"2025-07-01",end:"2026-06-30",monthlyRent:7e3,totalContractValue:84e3,amountPaid:0,balance:7e3,paymentStatus:"Pending",handledBy:"Omar Ali",renewed:!1},{id:8,property:"Office 101",tenant:"TechMinds",start:"2025-06-01",end:"2026-05-31",monthlyRent:13e3,totalContractValue:156e3,amountPaid:13e3,balance:0,paymentStatus:"Paid",handledBy:"Ahmed Tarek",renewed:!0},{id:9,property:"Shop 12",tenant:"Fashion Hub",start:"2025-05-15",end:"2026-05-14",monthlyRent:1e4,totalContractValue:12e4,amountPaid:5e3,balance:5e3,paymentStatus:"Overdue",handledBy:"Nour El-Din",renewed:!1},{id:10,property:"Villa B2",tenant:"Karim Mostafa",start:"2025-04-01",end:"2026-03-31",monthlyRent:11e3,totalContractValue:132e3,amountPaid:11e3,balance:0,paymentStatus:"Paid",handledBy:"Sara Kamal",renewed:!0},{id:11,property:"Office 405",tenant:"Alpha Corp",start:"2025-03-10",end:"2026-03-09",monthlyRent:2e4,totalContractValue:24e4,amountPaid:1e4,balance:1e4,paymentStatus:"Partial",handledBy:"Ahmed Tarek",renewed:!1},{id:12,property:"Warehouse C1",tenant:"AgriFoods",start:"2025-02-01",end:"2026-01-31",monthlyRent:18e3,totalContractValue:216e3,amountPaid:0,balance:18e3,paymentStatus:"Pending",handledBy:"Omar Ali",renewed:!1}],[]),[a,r]=w.useState(""),[n,i]=w.useState(""),[l,o]=w.useState(""),[c,d]=w.useState("all"),u=w.useMemo(()=>new Date().toISOString().slice(0,10),[]),f=O=>O.start<=u&&O.end>=u,x=O=>O.end<u,p=O=>O.start>u,v=w.useMemo(()=>t.filter(O=>{const B=a?String(O.handledBy).toLowerCase().includes(a.toLowerCase().trim()):!0,E=n?O.end>=n:!0,R=l?O.start<=l:!0,q=E&&R,I=c==="all"?!0:c==="active"?f(O):c==="expired"?x(O):c==="upcoming"?p(O):!0;return B&&q&&I}),[t,a,n,l,c]),g=w.useMemo(()=>v.reduce((O,B)=>O+(B.amountPaid||0),0),[v]),b=w.useMemo(()=>v.reduce((O,B)=>O+(B.balance||0),0),[v]),j=w.useMemo(()=>v.filter(f).length,[v]),N=w.useMemo(()=>v.filter(x).length,[v]),S=w.useMemo(()=>{const O=v.filter(E=>E.renewed).length,B=v.length||1;return Math.round(O/B*100)},[v]),k=w.useMemo(()=>{const O={Paid:0,Partial:0,Pending:0,Overdue:0};return v.forEach(B=>{O[B.paymentStatus]=(O[B.paymentStatus]||0)+1}),[{label:"Paid",value:O.Paid,color:"#10b981"},{label:"Partial",value:O.Partial,color:"#f59e0b"},{label:"Pending",value:O.Pending,color:"#9ca3af"},{label:"Overdue",value:O.Overdue,color:"#ef4444"}]},[v]),A=O=>{const B=new Date(O);return`${B.getFullYear()}-${String(B.getMonth()+1).padStart(2,"0")}`},_=w.useMemo(()=>{const O=new Map;v.forEach(E=>{const R=A(E.start);O.set(R,(O.get(R)||0)+(E.amountPaid||0))});const B=Array.from(O.entries()).sort((E,R)=>E[0].localeCompare(R[0]));return{labels:B.map(([E])=>E),values:B.map(([,E])=>E)}},[v]),M=w.useMemo(()=>{const O=new Map;v.forEach(E=>{const R=A(E.start);O.set(R,(O.get(R)||0)+(E.totalContractValue||0))});const B=Array.from(O.entries()).sort((E,R)=>E[0].localeCompare(R[0]));return{labels:B.map(([E])=>E),values:B.map(([,E])=>E)}},[v]),L=()=>{const O=v.map(R=>({Property:R.property,Tenant:R.tenant,StartDate:R.start,EndDate:R.end,MonthlyRent:R.monthlyRent,TotalContractValue:R.totalContractValue,AmountPaid:R.amountPaid,Balance:R.balance,PaymentStatus:R.paymentStatus,HandledBy:R.handledBy})),B=Jt.json_to_sheet(O),E=Jt.book_new();Jt.book_append_sheet(E,B,"RentReport"),gs(E,"rent_report.xlsx")},U=()=>{window.print()},z=({status:O})=>{const B="px-2 py-1 text-xs rounded-md",E=O==="Paid"?"bg-emerald-50 text-emerald-600":O==="Partial"?"bg-yellow-50 text-yellow-600":O==="Overdue"?"bg-red-50 text-red-600":"bg-gray-100 text-gray-600";return s.jsx("span",{className:`${B} ${E}`,children:O})};return s.jsx(ea,{titleKey:"Rent",children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:U,className:"btn btn-primary",children:e("Download PDF")}),s.jsx("button",{onClick:L,className:"btn btn-secondary",children:e("Download Excel")})]}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Salesperson / Manager")}),s.jsx("input",{value:a,onChange:O=>r(O.target.value),className:"input w-full",placeholder:e("e.g. Omar Ali")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Date From")}),s.jsx("input",{type:"date",value:n,onChange:O=>i(O.target.value),className:"input w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Date To")}),s.jsx("input",{type:"date",value:l,onChange:O=>o(O.target.value),className:"input w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Status")}),s.jsxs("select",{value:c,onChange:O=>d(O.target.value),className:"input w-full",children:[s.jsx("option",{value:"all",children:e("All")}),s.jsx("option",{value:"active",children:e("Active")}),s.jsx("option",{value:"expired",children:e("Expired")}),s.jsx("option",{value:"upcoming",children:e("Upcoming")})]})]})]})}),s.jsx("div",{"aria-hidden":"true",className:"h-6"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Total Rent Collected")}),s.jsxs("div",{className:"text-3xl font-bold",children:[g.toLocaleString()," EGP"]})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Total Outstanding Balance")}),s.jsxs("div",{className:"text-3xl font-bold",children:[b.toLocaleString()," EGP"]})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Active Contracts")}),s.jsx("div",{className:"text-3xl font-bold",children:j})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Expired Contracts")}),s.jsx("div",{className:"text-3xl font-bold",children:N})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Renewal Rate %")}),s.jsxs("div",{className:"text-3xl font-bold",children:[S,"%"]})]})]}),s.jsx("div",{"aria-hidden":"true",className:"h-6"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Payment Status")}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx(Zn,{segments:k,size:180,cutout:70,centerValue:v.length,centerLabel:e("Contracts")}),s.jsx("div",{className:"space-y-2 text-sm",children:k.map(O=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-block w-3 h-3 rounded",style:{backgroundColor:O.color}}),s.jsx("span",{children:e(O.label)}),s.jsxs("span",{className:"ml-auto text-[var(--muted-text)]",children:[O.value," (",v.length?Math.round(O.value/v.length*100):0,"%)"]})]},O.label))})]})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Rent Collected by Month")}),s.jsx(Ls,{data:{labels:_.labels,datasets:[{label:e("Collected (EGP)"),data:_.values,backgroundColor:"#3b82f6",borderRadius:6}]},options:{responsive:!0,plugins:{legend:{display:!0}},scales:{y:{ticks:{callback:O=>`${O}`}}}}})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Total Rent Trend")}),s.jsx(no,{data:{labels:M.labels,datasets:[{label:e("Total Contract Value (EGP)"),data:M.values,borderColor:"#10b981",backgroundColor:"rgba(16,185,129,0.2)",tension:.3,fill:!0,pointRadius:3}]},options:{responsive:!0,plugins:{legend:{display:!0}}}})]})]}),s.jsx("div",{"aria-hidden":"true",className:"h-6"}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm nova-table nova-table--glass",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left bg-[var(--table-header-bg)]",children:[s.jsx("th",{className:"px-3 py-2",children:e("Property")}),s.jsx("th",{className:"px-3 py-2",children:e("Tenant")}),s.jsx("th",{className:"px-3 py-2",children:e("Start Date")}),s.jsx("th",{className:"px-3 py-2",children:e("End Date")}),s.jsx("th",{className:"px-3 py-2",children:e("Monthly Rent")}),s.jsx("th",{className:"px-3 py-2",children:e("Amount Paid")}),s.jsx("th",{className:"px-3 py-2",children:e("Balance")}),s.jsx("th",{className:"px-3 py-2",children:e("Payment Status")}),s.jsx("th",{className:"px-3 py-2",children:e("Handled By")})]})}),s.jsxs("tbody",{children:[v.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:9,className:"px-3 py-6 text-center text-[var(--muted-text)]",children:e("No data")})}),v.map(O=>s.jsxs("tr",{className:"border-t border-[var(--table-row-border)] odd:bg-[var(--table-row-bg)] hover:bg-[var(--table-row-hover)] transition-colors",children:[s.jsx("td",{className:"px-3 py-2",children:O.property}),s.jsx("td",{className:"px-3 py-2",children:O.tenant}),s.jsx("td",{className:"px-3 py-2",children:O.start}),s.jsx("td",{className:"px-3 py-2",children:O.end}),s.jsxs("td",{className:"px-3 py-2",children:[O.monthlyRent.toLocaleString()," EGP"]}),s.jsxs("td",{className:"px-3 py-2",children:[O.amountPaid.toLocaleString()," EGP"]}),s.jsxs("td",{className:"px-3 py-2",children:[O.balance.toLocaleString()," EGP"]}),s.jsx("td",{className:"px-3 py-2",children:s.jsx(z,{status:O.paymentStatus})}),s.jsx("td",{className:"px-3 py-2",children:O.handledBy})]},O.id))]})]})})}),s.jsx("div",{"aria-hidden":"true",className:"h-6"})]})})}Nr.register(Cn,An,$n,pl,ai,rn,an);function fUe(){const{t:e}=Et(),t=w.useMemo(()=>[{id:1,name:"Ahmed Hassan",checkIn:"2025-11-09T08:00:00",checkOut:"2025-11-09T18:00:00",type:"Table Reservation",status:"Checked-in",handledBy:"Sara Kamal"},{id:2,name:"Mona Said",checkIn:"2025-11-10T14:00:00",checkOut:"2025-11-10T16:00:00",type:"Catering Appointment",status:"No-show",handledBy:"Omar Ali"},{id:3,name:"Delta Group",checkIn:"2025-11-09T10:00:00",checkOut:"2025-11-09T17:00:00",type:"Office Visit",status:"Completed",handledBy:"Ahmed Tarek"},{id:4,name:"Ola Sami",checkIn:"2025-11-11T09:30:00",checkOut:"",type:"Department Visit",status:"Pending",handledBy:"Sara Kamal"},{id:5,name:"Karim Mostafa",checkIn:"2025-11-08T11:15:00",checkOut:"",type:"Appointment",status:"Cancelled",handledBy:"Omar Ali"},{id:6,name:"Yara Samir",checkIn:"2025-11-12T13:00:00",checkOut:"2025-11-12T15:00:00",type:"Office Visit",status:"Completed",handledBy:"Ahmed Tarek"}],[]),[a,r]=w.useState(""),[n,i]=w.useState("day"),[l,o]=w.useState(()=>new Date().toISOString().slice(0,10)),[c,d]=w.useState("all"),u=I=>{const G=new Date(I),re=G.getDay(),te=(re===0?-6:1)-re;return G.setDate(G.getDate()+te),G.setHours(0,0,0,0),G},f=I=>{const G=u(I),re=new Date(G);return re.setDate(G.getDate()+6),re.setHours(23,59,59,999),re},x=I=>{const G=new Date(I);return G.setHours(0,0,0,0),G},p=I=>{const G=new Date(I);return G.setHours(23,59,59,999),G},v=I=>{const G=new Date(I);return G.setDate(1),G.setHours(0,0,0,0),G},g=I=>{const G=new Date(I);return G.setMonth(G.getMonth()+1),G.setDate(0),G.setHours(23,59,59,999),G},[b,j]=w.useMemo(()=>n==="day"?[x(l),p(l)]:n==="week"?[u(l),f(l)]:[v(l),g(l)],[n,l]),N=I=>{const G=new Date(I);return G>=b&&G<=j},S=w.useMemo(()=>t.filter(I=>{const G=a?String(I.handledBy).toLowerCase().includes(a.toLowerCase().trim()):!0,re=c==="all"?!0:I.status===c,te=N(I.checkIn);return G&&re&&te}),[t,a,c,b,j]),k=w.useMemo(()=>S.length,[S]),A=w.useMemo(()=>S.filter(I=>I.status==="No-show").length,[S]),_=w.useMemo(()=>S.filter(I=>I.status==="Completed").length,[S]),M=w.useMemo(()=>S.filter(I=>I.status==="Pending").length,[S]),L=w.useMemo(()=>{const I={Completed:0,Pending:0,"No-show":0,Cancelled:0,"Checked-in":0};return S.forEach(G=>{I[G.status]=(I[G.status]||0)+1}),[{label:"Completed",value:I.Completed,color:"#10b981"},{label:"Pending",value:I.Pending,color:"#f59e0b"},{label:"No-show",value:I["No-show"],color:"#ef4444"},{label:"Cancelled",value:I.Cancelled,color:"#9ca3af"},{label:"Checked-in",value:I["Checked-in"],color:"#3b82f6"}]},[S]),U=I=>{const G=new Date(I);return`${G.getFullYear()}-${String(G.getMonth()+1).padStart(2,"0")}-${String(G.getDate()).padStart(2,"0")}`},z=w.useMemo(()=>{const I=new Map;S.forEach(re=>{const te=U(re.checkIn);I.set(te,(I.get(te)||0)+1)});const G=Array.from(I.entries()).sort((re,te)=>re[0].localeCompare(te[0]));return{labels:G.map(([re])=>re),values:G.map(([,re])=>re)}},[S]),O=w.useMemo(()=>{const I=new Map;S.forEach(re=>{I.set(re.handledBy,(I.get(re.handledBy)||0)+1)});const G=Array.from(I.entries()).sort((re,te)=>re[0].localeCompare(te[0]));return{labels:G.map(([re])=>re),values:G.map(([,re])=>re)}},[S]),B=()=>{const I=S.map(te=>({Name:te.name,CheckIn:te.checkIn,CheckOut:te.checkOut||"",DepartmentOrReservation:te.type,Status:te.status,HandledBy:te.handledBy})),G=Jt.json_to_sheet(I),re=Jt.book_new();Jt.book_append_sheet(re,G,"CheckIns"),gs(re,"check_in_report.xlsx")},E=()=>{window.print()},R=I=>{if(!I)return"";const G=new Date(I),re=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],te=G.getHours(),X=String(G.getMinutes()).padStart(2,"0"),ce=te>=12?"PM":"AM",D=te%12||12;return`${String(G.getDate()).padStart(2,"0")}-${re[G.getMonth()]}-${G.getFullYear()}  ${String(D).padStart(2,"0")}:${X} ${ce}`},q=({status:I})=>{const G="px-2 py-1 text-xs rounded-md",re=I==="Completed"?"bg-emerald-50 text-emerald-600":I==="Pending"?"bg-yellow-50 text-yellow-600":I==="No-show"?"bg-red-50 text-red-600":I==="Cancelled"?"bg-gray-100 text-gray-600":"bg-blue-50 text-blue-600";return s.jsx("span",{className:`${G} ${re}`,children:e(I)})};return s.jsx(ea,{titleKey:"Check-in Report",children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:E,className:"btn btn-primary",children:e("Download PDF")}),s.jsx("button",{onClick:B,className:"btn btn-secondary",children:e("Download Excel")})]}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Staff / Manager")}),s.jsx("input",{value:a,onChange:I=>r(I.target.value),className:"input w-full",placeholder:e("e.g. Omar Ali")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Timeframe")}),s.jsxs("select",{value:n,onChange:I=>i(I.target.value),className:"input w-full",children:[s.jsx("option",{value:"day",children:e("Day")}),s.jsx("option",{value:"week",children:e("Week")}),s.jsx("option",{value:"month",children:e("Month")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Reference Date")}),s.jsx("input",{type:"date",value:l,onChange:I=>o(I.target.value),className:"input w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Status")}),s.jsxs("select",{value:c,onChange:I=>d(I.target.value),className:"input w-full",children:[s.jsx("option",{value:"all",children:e("All")}),s.jsx("option",{value:"Checked-in",children:e("Checked-in")}),s.jsx("option",{value:"No-show",children:e("No-show")}),s.jsx("option",{value:"Cancelled",children:e("Cancelled")}),s.jsx("option",{value:"Completed",children:e("Completed")}),s.jsx("option",{value:"Pending",children:e("Pending")})]})]})]})}),s.jsx("div",{"aria-hidden":"true",className:"h-6"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Total Check-ins")}),s.jsx("div",{className:"text-3xl font-bold",children:k})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("No-shows")}),s.jsx("div",{className:"text-3xl font-bold",children:A})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Completed")}),s.jsx("div",{className:"text-3xl font-bold",children:_})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Pending / Upcoming")}),s.jsx("div",{className:"text-3xl font-bold",children:M})]})]}),s.jsx("div",{"aria-hidden":"true",className:"h-6"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Status Distribution")}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx(Zn,{segments:L,size:180,cutout:70,centerValue:S.length,centerLabel:e("Check-ins")}),s.jsx("div",{className:"space-y-2 text-sm",children:L.map(I=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-block w-3 h-3 rounded",style:{backgroundColor:I.color}}),s.jsx("span",{children:e(I.label)}),s.jsxs("span",{className:"ml-auto text-[var(--muted-text)]",children:[I.value," (",S.length?Math.round(I.value/S.length*100):0,"%)"]})]},I.label))})]})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Check-ins Trend")}),s.jsx(no,{data:{labels:z.labels,datasets:[{label:e("Check-ins"),data:z.values,borderColor:"#3b82f6",backgroundColor:"rgba(59,130,246,0.2)",tension:.3,fill:!0,pointRadius:3}]},options:{responsive:!0,plugins:{legend:{display:!0}}}})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Check-ins per Staff")}),s.jsx(Ls,{data:{labels:O.labels,datasets:[{label:e("Check-ins"),data:O.values,backgroundColor:"#10b981",borderRadius:6}]},options:{responsive:!0,plugins:{legend:{display:!0}}}})]})]}),s.jsx("div",{"aria-hidden":"true",className:"h-6"}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm nova-table nova-table--glass",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left bg-[var(--table-header-bg)]",children:[s.jsx("th",{className:"px-3 py-2",children:e("Name")}),s.jsx("th",{className:"px-3 py-2",children:e("Check-in Date")}),s.jsx("th",{className:"px-3 py-2",children:e("Check-out Date")}),s.jsx("th",{className:"px-3 py-2",children:e("Department / Reservation")}),s.jsx("th",{className:"px-3 py-2",children:e("Status")}),s.jsx("th",{className:"px-3 py-2",children:e("Handled By")})]})}),s.jsxs("tbody",{children:[S.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-3 py-6 text-center text-[var(--muted-text)]",children:e("No data")})}),S.map(I=>s.jsxs("tr",{className:"border-t border-[var(--table-row-border)] odd:bg-[var(--table-row-bg)] hover:bg-[var(--table-row-hover)] transition-colors",children:[s.jsx("td",{className:"px-3 py-2",children:I.name}),s.jsx("td",{className:"px-3 py-2",children:R(I.checkIn)}),s.jsx("td",{className:"px-3 py-2",children:R(I.checkOut)}),s.jsx("td",{className:"px-3 py-2",children:I.type}),s.jsx("td",{className:"px-3 py-2",children:s.jsx(q,{status:I.status})}),s.jsx("td",{className:"px-3 py-2",children:I.handledBy})]},I.id))]})]})})}),s.jsx("div",{"aria-hidden":"true",className:"h-6"})]})})}Nr.register(Cn,An,$n,pl,ai,rn,an);function mUe(){const{t:e}=Et(),t=[{id:1,name:"Ahmed Hassan",type:"VIP",phone:"01012345678",email:"ahmed.hassan@example.com",joinedDate:"2025-01-12",totalRevenue:12e4,orders:15,lastActivity:"2025-11-08",salesperson:"Sara Kamal",history:[{date:"2025-07",amount:15e3},{date:"2025-08",amount:18e3},{date:"2025-09",amount:25e3},{date:"2025-10",amount:32e3},{date:"2025-11",amount:3e4}]},{id:2,name:"Delta Group",type:"Regular",phone:"01234567890",email:"finance@deltagroup.com",joinedDate:"2024-11-20",totalRevenue:85e3,orders:10,lastActivity:"2025-11-05",salesperson:"Omar Ali",history:[{date:"2025-07",amount:12e3},{date:"2025-08",amount:16e3},{date:"2025-09",amount:18e3},{date:"2025-10",amount:19e3},{date:"2025-11",amount:2e4}]},{id:3,name:"Mona Said",type:"New",phone:"01122334455",email:"mona.said@example.com",joinedDate:"2025-09-02",totalRevenue:25e3,orders:3,lastActivity:"2025-11-09",salesperson:"Ahmed Tarek",history:[{date:"2025-09",amount:8e3},{date:"2025-10",amount:9e3},{date:"2025-11",amount:8e3}]},{id:4,name:"Green Labs",type:"VIP",phone:"01098765432",email:"info@greenlabs.com",joinedDate:"2023-07-15",totalRevenue:16e4,orders:22,lastActivity:"2025-10-28",salesperson:"Sara Kamal",history:[{date:"2025-07",amount:28e3},{date:"2025-08",amount:3e4},{date:"2025-09",amount:32e3},{date:"2025-10",amount:35e3},{date:"2025-11",amount:35e3}]},{id:5,name:"ABC Pharma",type:"Regular",phone:"01000099887",email:"contact@abcpharma.co",joinedDate:"2024-03-21",totalRevenue:72e3,orders:9,lastActivity:"2025-09-30",salesperson:"Mona Adel",history:[{date:"2025-07",amount:12e3},{date:"2025-08",amount:14e3},{date:"2025-09",amount:16e3},{date:"2025-10",amount:15e3},{date:"2025-11",amount:15e3}]},{id:6,name:"Nova Tech",type:"New",phone:"01500055544",email:"hello@novatech.io",joinedDate:"2025-08-05",totalRevenue:18e3,orders:2,lastActivity:"2025-10-12",salesperson:"Omar Ali",history:[{date:"2025-08",amount:8e3},{date:"2025-10",amount:1e4}]},{id:7,name:"Medix Co.",type:"Regular",phone:"01200033322",email:"sales@medix.co",joinedDate:"2024-06-11",totalRevenue:54e3,orders:7,lastActivity:"2025-11-03",salesperson:"Ahmed Tarek",history:[{date:"2025-07",amount:9e3},{date:"2025-08",amount:1e4},{date:"2025-10",amount:17e3},{date:"2025-11",amount:18e3}]},{id:8,name:"Sun Health",type:"VIP",phone:"01100998877",email:"support@sunhealth.com",joinedDate:"2023-12-01",totalRevenue:98e3,orders:12,lastActivity:"2025-08-24",salesperson:"Mona Adel",history:[{date:"2025-07",amount:18e3},{date:"2025-08",amount:2e4},{date:"2025-09",amount:22e3},{date:"2025-10",amount:19e3},{date:"2025-11",amount:19e3}]},{id:9,name:"LifeChem",type:"Regular",phone:"01011122233",email:"info@lifechem.org",joinedDate:"2024-10-01",totalRevenue:31e3,orders:4,lastActivity:"2025-10-28",salesperson:"Ahmed Tarek",history:[{date:"2025-09",amount:9e3},{date:"2025-10",amount:11e3},{date:"2025-11",amount:11e3}]},{id:10,name:"CarePlus",type:"New",phone:"01233445566",email:"care@careplus.org",joinedDate:"2025-10-12",totalRevenue:22e3,orders:3,lastActivity:"2025-11-07",salesperson:"Sara Kamal",history:[{date:"2025-10",amount:1e4},{date:"2025-11",amount:12e3}]}],[a,r]=w.useState("all"),[n,i]=w.useState("activity"),[l,o]=w.useState(""),[c,d]=w.useState(""),[u,f]=w.useState("all"),x=z=>{if(!l&&!c)return!0;const O=new Date(z),B=l?O>=new Date(l):!0,E=c?O<=new Date(c):!0;return B&&E},p=w.useMemo(()=>t.filter(z=>{const O=a==="all"||z.salesperson===a,B=u==="all"||z.type===u;let E=z.lastActivity;if(n==="joined"&&(E=z.joinedDate),n==="last"){const q=z.history?.[z.history.length-1]?.date;E=q?`${q}-01`:z.lastActivity}const R=x(E);return O&&B&&R}),[t,a,u,n,l,c]),v=z=>{const O=new Date(z.lastActivity);return Math.floor((new Date("2025-11-09")-O)/(1e3*60*60*24))<=60},g=p.length,b=p.reduce((z,O)=>z+(O.totalRevenue||0),0),j=p.reduce((z,O)=>z+(v(O)?1:0),0),N=Math.max(0,g-j),S=[...p].sort((z,O)=>(O.totalRevenue||0)-(z.totalRevenue||0)).slice(0,5),k=w.useMemo(()=>{const z=new Map;return p.forEach(O=>{z.set(O.type,(z.get(O.type)||0)+(O.totalRevenue||0))}),z},[p]),A=w.useMemo(()=>({Active:p.filter(v).length,Inactive:p.filter(z=>!v(z)).length}),[p]),_=w.useMemo(()=>{const z=new Set;S.forEach(E=>E.history?.forEach(R=>z.add(R.date)));const O=Array.from(z).sort((E,R)=>E.localeCompare(R)),B=S.map(E=>{const R=new Map(E.history.map(q=>[q.date,q.amount]));return{label:E.name,data:O.map(q=>R.get(q)||0),borderColor:`hsl(${E.id*57%360} 70% 45%)`,backgroundColor:"transparent",tension:.3,pointRadius:2}});return{labels:O,datasets:B}},[S]),M=()=>{const z=p.map(E=>({Name:E.name,Type:E.type,Phone:E.phone,Email:E.email,Joined:E.joinedDate,TotalRevenueEGP:E.totalRevenue,Orders:E.orders,LastActivity:E.lastActivity,Salesperson:E.salesperson,Status:v(E)?"Active":"Inactive"})),O=Jt.json_to_sheet(z),B=Jt.book_new();Jt.book_append_sheet(B,O,"Customers"),gs(B,"customers_report.xlsx")},L=()=>{window.print()},U=z=>s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${z?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-300"}`,children:e(z?"Active":"Inactive")});return s.jsxs(ea,{titleKey:"Customers Report",children:[s.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[s.jsx("button",{onClick:L,className:"btn btn-primary",children:e("Download PDF")}),s.jsx("button",{onClick:M,className:"btn btn-secondary",children:e("Download Excel")})]}),s.jsx("div",{className:"glass-panel p-4",children:s.jsx("div",{className:"flex items-center justify-between flex-wrap gap-3",children:s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Salesperson")}),s.jsxs(rr,{value:a,onChange:z=>r(z),className:"min-w-[160px]",children:[s.jsx("option",{value:"all",children:e("All")}),[...new Set(t.map(z=>z.salesperson))].map(z=>s.jsx("option",{value:z,children:z},z))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Customer Type")}),s.jsxs(rr,{value:u,onChange:z=>f(z),className:"min-w-[140px]",children:[s.jsx("option",{value:"all",children:e("All")}),[...new Set(t.map(z=>z.type))].map(z=>s.jsx("option",{value:z,children:z},z))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Date Mode")}),s.jsxs(rr,{value:n,onChange:z=>i(z),className:"min-w-[180px]",children:[s.jsx("option",{value:"activity",children:e("Activity Date")}),s.jsx("option",{value:"joined",children:e("Join Date")}),s.jsx("option",{value:"last",children:e("Last Purchase Date")})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("From")}),s.jsx("input",{type:"date",value:l,onChange:z=>o(z.target.value),className:"input"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("To")}),s.jsx("input",{type:"date",value:c,onChange:z=>d(z.target.value),className:"input"})]})]})})}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[[{label:e("Total Customers"),value:g,color:"bg-blue-500"},{label:e("Total Revenue (EGP)"),value:b.toLocaleString(),color:"bg-emerald-500"},{label:e("Active Customers"),value:j,color:"bg-indigo-500"},{label:e("Inactive Customers"),value:N,color:"bg-rose-500"}].map((z,O)=>s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:z.label}),s.jsx("div",{className:"mt-1 text-2xl font-semibold",children:z.value}),s.jsx("div",{className:`mt-2 h-1.5 rounded ${z.color}`})]},O)),s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Top 5 Customers by Revenue")}),s.jsxs("ul",{className:"mt-2 space-y-1 text-sm",children:[S.map(z=>s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"truncate max-w-[60%]",children:z.name}),s.jsxs("span",{className:"font-medium",children:[z.totalRevenue.toLocaleString()," EGP"]})]},z.id)),S.length===0&&s.jsx("li",{className:"text-[var(--muted-text)]",children:e("No data")})]})]})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Revenue by Customer Type")}),s.jsx(Ls,{data:{labels:Array.from(k.keys()),datasets:[{label:e("Revenue (EGP)"),data:Array.from(k.values()),backgroundColor:"rgba(16, 185, 129, 0.6)",borderRadius:6}]},options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{ticks:{callback:z=>`${z}`}}}}})]}),s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Active vs Inactive")}),s.jsx(Zn,{segments:[{label:e("Active"),value:A.Active,color:"#10b981"},{label:e("Inactive"),value:A.Inactive,color:"#ef4444"}],totalLabel:e("Customers")})]}),s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Revenue Trend  Top Customers")}),s.jsx(no,{data:{labels:_.labels,datasets:_.datasets},options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{ticks:{callback:z=>`${z}`}}}}})]})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm font-medium mb-3",children:e("Customers")}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm nova-table nova-table--glass",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left bg-[var(--table-header-bg)]",children:[s.jsx("th",{className:"px-3 py-2",children:e("Customer Name")}),s.jsx("th",{className:"px-3 py-2",children:e("Type")}),s.jsx("th",{className:"px-3 py-2",children:e("Contact")}),s.jsx("th",{className:"px-3 py-2",children:e("Total Revenue")}),s.jsx("th",{className:"px-3 py-2",children:e("Orders")}),s.jsx("th",{className:"px-3 py-2",children:e("Last Activity")}),s.jsx("th",{className:"px-3 py-2",children:e("Status")}),s.jsx("th",{className:"px-3 py-2",children:e("Salesperson")})]})}),s.jsxs("tbody",{children:[p.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"px-3 py-6 text-center text-[var(--muted-text)]",children:e("No data")})}),p.map(z=>s.jsxs("tr",{className:"border-t border-[var(--table-row-border)] odd:bg-[var(--table-row-bg)] hover:bg-[var(--table-row-hover)] transition-colors",children:[s.jsx("td",{className:"px-3 py-2",children:z.name}),s.jsx("td",{className:"px-3 py-2",children:z.type}),s.jsx("td",{className:"px-3 py-2",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:z.phone}),s.jsx("span",{className:"text-[var(--muted-text)]",children:z.email})]})}),s.jsxs("td",{className:"px-3 py-2",children:[z.totalRevenue.toLocaleString()," EGP"]}),s.jsx("td",{className:"px-3 py-2",children:z.orders}),s.jsx("td",{className:"px-3 py-2",children:new Date(z.lastActivity).toLocaleDateString()}),s.jsx("td",{className:"px-3 py-2",children:U(v(z))}),s.jsx("td",{className:"px-3 py-2",children:z.salesperson})]},z.id))]})]})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"})]})}Nr.register(Cn,An,pl,ai,$n,Tm,wx,rn,an);const dk=e=>new Intl.NumberFormat("en-EG",{style:"currency",currency:"EGP",maximumFractionDigits:0}).format(e),uk=()=>{const{t:e}=Et(),t=Rs.dir()==="rtl",a=Cc(),[r,n]=w.useState("All"),[i,l]=w.useState("All"),[o,c]=w.useState("month"),[d,u]=w.useState(""),[f,x]=w.useState(""),[p,v]=w.useState(""),[g,b]=w.useState(""),j=["All","Ahmed Ali","Sara Hassan"],N=["All","Sales","Operations"],[S]=w.useState(()=>{const R=new Date,q=(I,G,re,te,X,ce,D,Q,H,J,ae,ie,le)=>({name:I,manager:G,team:re,calls:te,actions:X,delayed:ce,stages:{lead:D,qualified:Q,proposal:H,closed:J},revenue:ae,targetPct:ie,date:new Date(R.getTime()-le*24*60*60*1e3)});return[q("Ahmed Ali","Ahmed Ali","Sales",45,30,3,10,12,0,8,82e3,82,2),q("Sara Hassan","Sara Hassan","Sales",58,40,1,14,18,0,8,105e3,105,1),q("Omar Tarek","Ahmed Ali","Operations",32,20,2,8,7,0,5,65e3,65,6),q("Lina Ops","Sara Hassan","Operations",50,35,4,15,12,3,5,73e3,88,10),q("Maram Admin","Ahmed Ali","Sales",62,43,2,20,15,5,3,98e3,91,15)]}),k=R=>{if(o==="day"&&d){const q=new Date(d);return R.toDateString()===q.toDateString()}if(o==="week"&&d){const q=new Date(d),I=new Date(q);I.setDate(q.getDate()-q.getDay());const G=new Date(I);return G.setDate(I.getDate()+6),R>=I&&R<=G}if(o==="month"&&d){const q=new Date(d);return R.getFullYear()===q.getFullYear()&&R.getMonth()===q.getMonth()}if(o==="range"&&f&&p){const q=new Date(f),I=new Date(p);return R>=q&&R<=I}return!0},A=w.useMemo(()=>S.filter(R=>(r==="All"||R.manager===r)&&(i==="All"||R.team===i)&&k(R.date)&&(!g||R.name.toLowerCase().includes(g.toLowerCase()))),[S,r,i,o,d,f,p,g]);w.useEffect(()=>{try{const R=new URLSearchParams(a.search||""),q=R.get("team"),I=R.get("manager");q&&l(q),I&&n(I)}catch{}},[a.search]);const _=w.useMemo(()=>{const R=A.reduce((te,X)=>te+X.calls,0),q=A.reduce((te,X)=>te+X.actions,0),I=A.reduce((te,X)=>te+X.revenue,0),G=A.length?Math.round(A.reduce((te,X)=>te+X.targetPct,0)/A.length):0,re=A.slice().sort((te,X)=>X.targetPct-te.targetPct)[0]||null;return{totalCalls:R,totalActions:q,totalRevenue:I,avgTarget:G,top:re}},[A]),M=w.useMemo(()=>({labels:A.map(q=>q.name),datasets:[{label:t?"":"Calls",data:A.map(q=>q.calls),backgroundColor:"#4f46e5"},{label:t?"":"Actions",data:A.map(q=>q.actions),backgroundColor:"#10b981"}]}),[A,t]),L=w.useMemo(()=>{const R=A.reduce((re,te)=>re+(te.stages.lead||0),0),q=A.reduce((re,te)=>re+(te.stages.qualified||0),0),I=A.reduce((re,te)=>re+(te.stages.proposal||0),0),G=A.reduce((re,te)=>re+(te.stages.closed||0),0);return{labels:[t?"":"Lead",t?"":"Qualified",t?"":"Proposal",t?"":"Closed"],datasets:[{data:[R,q,I,G],backgroundColor:["#60a5fa","#f59e0b","#a78bfa","#10b981"]}]}},[A,t]),U=w.useMemo(()=>{const R=new Map;A.forEach(G=>{const re=new Date(G.date.getFullYear(),G.date.getMonth(),G.date.getDate()).toLocaleDateString();R.set(re,(R.get(re)||0)+G.targetPct)});const q=Array.from(R.keys()).sort((G,re)=>new Date(G)-new Date(re)),I=q.map(G=>Math.round((R.get(G)||0)/A.length));return{labels:q,data:I}},[A]),z=({pct:R})=>{const q=R>=90?"text-emerald-700 bg-emerald-100 ring-emerald-200":R>=60?"text-amber-700 bg-amber-100 ring-amber-200":"text-rose-700 bg-rose-100 ring-rose-200";return s.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ring-1 ${q}`,children:[R,"%"]})},O=({value:R,max:q=100})=>{const I=Math.min(100,Math.round(R/q*100)),G=R>=90?"bg-emerald-600":R>=60?"bg-amber-600":"bg-rose-600";return s.jsx("div",{className:"w-full h-2.5 rounded-full bg-gray-200 dark:bg-gray-800",children:s.jsx("div",{className:`h-2.5 rounded-full ${G}`,style:{width:`${I}%`}})})},B=()=>{const R=A.map(G=>({"Employee Name":G.name,Manager:G.manager,Team:G.team,Calls:G.calls,Actions:G.actions,Delayed:G.delayed,Lead:G.stages.lead,Qualified:G.stages.qualified,Proposal:G.stages.proposal,Closed:G.stages.closed,Revenue:G.revenue,"Target %":G.targetPct,Date:G.date.toLocaleDateString()})),q=Jt.json_to_sheet(R),I=Jt.book_new();Jt.book_append_sheet(I,q,"Team Performance"),gs(I,"team_performance_report.xlsx")},E=()=>{const R=new ha("l","pt","a4");R.setFontSize(14),R.text(t?"  ":"Team Performance Report",40,40);const q=[[t?"":"Employee",t?"":"Manager",t?"":"Team",t?"":"Calls",t?"":"Actions",t?"":"Delayed",t?"":"Lead",t?"":"Qualified",t?"":"Proposal",t?"":"Closed",t?"":"Revenue",t?" ":"Target %",t?"":"Date"]],I=A.map(G=>[G.name,G.manager,G.team,G.calls,G.actions,G.delayed,G.stages.lead,G.stages.qualified,G.stages.proposal,G.stages.closed,dk(G.revenue),`${G.targetPct}%`,G.date.toLocaleDateString()]);R.autoTable({head:q,body:I,startY:60}),R.save("team_performance_report.pdf")};return s.jsx(ea,{children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:t?"  ":"Team Performance Report"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-glass",onClick:E,children:t?" PDF":"Download PDF"}),s.jsx("button",{className:"btn btn-glass",onClick:B,children:t?" Excel":"Download Excel"})]})]})}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Manager"}),s.jsx(rr,{value:r,onChange:R=>n(R),children:j.map(R=>s.jsx("option",{value:R,children:R},R))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?" / ":"Team / Department"}),s.jsx(rr,{value:i,onChange:R=>l(R),children:N.map(R=>s.jsx("option",{value:R,children:R},R))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Search"}),s.jsx("input",{className:"input w-full",placeholder:t?" ":"Employee name",value:g,onChange:R=>b(R.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?" ":"Period Mode"}),s.jsxs(rr,{value:o,onChange:R=>{c(R),u(""),x(""),v("")},children:[s.jsx("option",{value:"day",children:t?"":"Day"}),s.jsx("option",{value:"week",children:t?"":"Week"}),s.jsx("option",{value:"month",children:t?"":"Month"}),s.jsx("option",{value:"range",children:t?" ":"Custom Range"})]})]}),o!=="range"&&s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Date"}),s.jsx("input",{type:"date",className:"input w-full",value:d,onChange:R=>u(R.target.value)})]}),o==="range"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Start"}),s.jsx("input",{type:"date",className:"input w-full",value:f,onChange:R=>x(R.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"End"}),s.jsx("input",{type:"date",className:"input w-full",value:p,onChange:R=>v(R.target.value)})]})]})]})}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Total Calls"}),s.jsx("div",{className:"text-2xl font-semibold",children:_.totalCalls})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Total Actions Completed"}),s.jsx("div",{className:"text-2xl font-semibold",children:_.totalActions})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Total Revenue Achieved"}),s.jsx("div",{className:"text-2xl font-semibold text-indigo-600",children:dk(_.totalRevenue)})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?"   ":"Avg Target Achievement %"}),s.jsx("div",{className:"text-2xl font-semibold",children:s.jsx(z,{pct:_.avgTarget})})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Top Performer of the Period"}),s.jsx("div",{className:"text-base font-semibold",children:_.top?_.top.name:t?" ":"N/A"})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:t?"   ":"Calls & Actions per Employee"}),s.jsx(Ls,{data:M,options:{responsive:!0,plugins:{legend:{position:"bottom"}}}})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:t?"   ":"Actions Distribution by Stage"}),s.jsx(Rj,{data:L,options:{responsive:!0}})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:t?"   ":"Team Performance Trend Over Time"}),s.jsx(no,{data:{labels:U.labels,datasets:[{label:t?" ":"Target %",data:U.data,borderColor:"#4f46e5",backgroundColor:"#4f46e5"}]},options:{responsive:!0,plugins:{legend:{display:!1}}}})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx("div",{className:"glass-panel rounded-xl p-0",children:s.jsxs("table",{className:"nova-table nova-table--glass w-full",children:[s.jsx("thead",{className:"nova-thead bg-gray-50 dark:bg-gray-800/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"nova-th",children:t?"":"Employee Name"}),s.jsx("th",{className:"nova-th",children:t?"":"Calls"}),s.jsx("th",{className:"nova-th",children:t?"":"Actions"}),s.jsx("th",{className:"nova-th",children:t?"":"Delayed"}),s.jsx("th",{className:"nova-th",children:t?" ":"Actions by Stage"}),s.jsx("th",{className:"nova-th",children:t?"":"Revenue"}),s.jsx("th",{className:"nova-th",children:t?"  ":"Target %"})]})}),s.jsxs("tbody",{className:"nova-tbody",children:[A.map((R,q)=>s.jsxs("tr",{className:"nova-tr",children:[s.jsxs("td",{className:"nova-td text-sm",children:[s.jsx("div",{className:"font-medium",children:R.name}),s.jsxs("div",{className:"text-xs text-gray-500",children:[R.team,"  ",R.manager]})]}),s.jsx("td",{className:"nova-td text-sm",children:R.calls}),s.jsx("td",{className:"nova-td text-sm",children:R.actions}),s.jsx("td",{className:"nova-td text-sm",children:R.delayed}),s.jsx("td",{className:"nova-td text-xs",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-blue-50 text-blue-700 ring-1 ring-blue-200",children:[t?"":"Lead",": ",R.stages.lead]}),s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-amber-50 text-amber-700 ring-1 ring-amber-200",children:[t?"":"Qualified",": ",R.stages.qualified]}),s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-violet-50 text-violet-700 ring-1 ring-violet-200",children:[t?"":"Proposal",": ",R.stages.proposal]}),s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-emerald-50 text-emerald-700 ring-1 ring-emerald-200",children:[t?"":"Closed",": ",R.stages.closed]})]})}),s.jsxs("td",{className:"nova-td text-sm",children:[dk(R.revenue),s.jsx("div",{className:"mt-1",children:s.jsx(O,{value:R.targetPct})})]}),s.jsx("td",{className:"nova-td",children:s.jsx(z,{pct:R.targetPct})})]},q)),A.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"nova-td text-center text-sm text-gray-500",colSpan:7,children:t?"  ":"No results"})})]})]})}),s.jsx("div",{className:"h-4","aria-hidden":"true"})]})})};Nr.register(Cn,An,pl,ai,$n,Tm,wx,rn,an);const hk=e=>new Intl.NumberFormat("en-EG",{style:"currency",currency:"EGP",maximumFractionDigits:0}).format(e),fk=()=>{const{t:e}=Et(),t=Rs.dir()==="rtl",[a,r]=w.useState("month"),[n,i]=w.useState(""),[l,o]=w.useState(""),[c,d]=w.useState(""),[u,f]=w.useState("All"),[x,p]=w.useState("All"),[v,g]=w.useState("All"),[b,j]=w.useState(""),N=["All","Sales","Operations","Marketing","Inventory"],S=["All","Ahmed Ali","Sara Hassan"],[k]=w.useState(()=>[{key:"campaign_summary",name:"Campaign Summary Overview",route:"/marketing/reports/campaign-summary",revenue:21e4,leads:320,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Marketing",manager:"Sara Hassan",status:"Active"},{key:"cost_vs_revenue",name:"Cost vs Revenue",route:"/marketing/reports/cost-vs-revenue",revenue:42e4,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Marketing",manager:"Sara Hassan",status:"Active"},{key:"monthly_marketing",name:"Monthly Marketing Overview",route:"/marketing/reports/monthly-overview",revenue:18e4,leads:240,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Marketing",manager:"Sara Hassan",status:"Active"},{key:"sales_activities",name:"Sales Activities Report",route:"/reports/sales/activities",revenue:31e4,leads:0,actions:1250,importsSuccess:0,exportsSuccess:0,dept:"Sales",manager:"Ahmed Ali",status:"Active"},{key:"pipeline",name:"Leads Pipeline Report",route:"/reports/sales/pipeline",revenue:53e4,leads:540,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Sales",manager:"Ahmed Ali",status:"Active"},{key:"closed_deals",name:"Closed Deals Report",route:"/reports/sales/closed-deals",revenue:26e4,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Sales",manager:"Ahmed Ali",status:"Active"},{key:"reservations",name:"Reservations Report",route:"/reports/sales/reservations",revenue:145e3,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Sales",manager:"Ahmed Ali",status:"Active"},{key:"customers",name:"Customers Report",route:"/reports/sales/customers",revenue:195e3,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Sales",manager:"Ahmed Ali",status:"Active"},{key:"imports",name:"Imports Report",route:"/reports/sales/imports",revenue:0,leads:0,actions:0,importsSuccess:38,exportsSuccess:0,dept:"Operations",manager:"Sara Hassan",status:"Success"},{key:"exports",name:"Exports Report",route:"/reports/sales/exports",revenue:0,leads:0,actions:0,importsSuccess:0,exportsSuccess:41,dept:"Operations",manager:"Sara Hassan",status:"Success"},{key:"rent",name:"Rent Report",route:"/reports/sales/rent",revenue:87e3,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Operations",manager:"Sara Hassan",status:"Active"},{key:"check_in",name:"Check-in Report",route:"/reports/sales/check-in",revenue:0,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Operations",manager:"Sara Hassan",status:"Checked-in"},{key:"team_performance",name:"Team Performance Report",route:"/reports/team",revenue:0,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Sales",manager:"Ahmed Ali",status:"Active"}]),A=w.useMemo(()=>k.filter(E=>(u==="All"||E.dept===u)&&(x==="All"||E.manager===x)&&(v==="All"||E.status===v)&&(!b||E.name.toLowerCase().includes(b.toLowerCase()))),[k,u,x,v,b]),_=w.useMemo(()=>{const E=A.reduce((re,te)=>re+(te.revenue||0),0),R=A.reduce((re,te)=>re+(te.leads||0),0),q=A.reduce((re,te)=>re+(te.actions||0),0),I=A.reduce((re,te)=>re+(te.importsSuccess||0),0),G=A.reduce((re,te)=>re+(te.exportsSuccess||0),0);return{totalRevenue:E,totalLeads:R,totalActions:q,successfulImports:I,successfulExports:G}},[A]),M=w.useMemo(()=>({labels:A.map(E=>E.name),datasets:[{label:t?"":"Actions",data:A.map(E=>E.actions||0),backgroundColor:"#4f46e5"},{label:t?" ":"Leads",data:A.map(E=>E.leads||0),backgroundColor:"#10b981"}]}),[A,t]),L=w.useMemo(()=>({labels:[t?" ":"Successful Imports",t?" ":"Successful Exports"],datasets:[{data:[_.successfulImports,_.successfulExports],backgroundColor:["#60a5fa","#f59e0b"]}]}),[_,t]),U=w.useMemo(()=>({labels:A.map(E=>E.name),datasets:[{label:t?"":"Revenue",data:A.map(E=>E.revenue||0),borderColor:"#4f46e5",backgroundColor:"#4f46e5"}]}),[A,t]),z=({status:E})=>{const q={Success:"bg-emerald-100 text-emerald-700 ring-emerald-200",Active:"bg-blue-100 text-blue-700 ring-blue-200",Expired:"bg-amber-100 text-amber-700 ring-amber-200","Checked-in":"bg-indigo-100 text-indigo-700 ring-indigo-200","No-show":"bg-rose-100 text-rose-700 ring-rose-200",Failed:"bg-rose-100 text-rose-700 ring-rose-200"}[E]||"bg-gray-100 text-gray-700 ring-gray-200";return s.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ring-1 ${q}`,children:E})},O=()=>{const E=A.map(I=>({Module:I.name,Department:I.dept,Manager:I.manager,Revenue:I.revenue,Leads:I.leads,Actions:I.actions,"Successful Imports":I.importsSuccess,"Successful Exports":I.exportsSuccess,Status:I.status,Route:I.route})),R=Jt.json_to_sheet(E),q=Jt.book_new();Jt.book_append_sheet(q,R,"Reports Dashboard"),gs(q,"reports_dashboard.xlsx")},B=()=>{const E=new ha("l","pt","a4");E.setFontSize(14),E.text(t?" ":"Reports Dashboard",40,40);const R=[[t?"":"Module",t?"":"Department",t?"":"Manager",t?"":"Revenue",t?" ":"Leads",t?"":"Actions",t?" ":"Successful Imports",t?" ":"Successful Exports",t?"":"Status"]],q=A.map(I=>[I.name,I.dept,I.manager,hk(I.revenue||0),I.leads||0,I.actions||0,I.importsSuccess||0,I.exportsSuccess||0,I.status]);E.autoTable({head:R,body:q,startY:60}),E.save("reports_dashboard.pdf")};return s.jsx(ea,{children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:t?" ":"Reports Dashboard"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-glass",onClick:B,children:t?" PDF":"Download PDF"}),s.jsx("button",{className:"btn btn-glass",onClick:O,children:t?" Excel":"Download Excel"})]})]})}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?" ":"Period Mode"}),s.jsxs(rr,{value:a,onChange:E=>{r(E),i(""),o(""),d("")},children:[s.jsx("option",{value:"day",children:t?"":"Day"}),s.jsx("option",{value:"week",children:t?"":"Week"}),s.jsx("option",{value:"month",children:t?"":"Month"}),s.jsx("option",{value:"range",children:t?" ":"Custom Range"})]})]}),a!=="range"&&s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Date"}),s.jsx("input",{type:"date",className:"input w-full",value:n,onChange:E=>i(E.target.value)})]}),a==="range"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Start"}),s.jsx("input",{type:"date",className:"input w-full",value:l,onChange:E=>o(E.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"End"}),s.jsx("input",{type:"date",className:"input w-full",value:c,onChange:E=>d(E.target.value)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?" / ":"Department / Team"}),s.jsx(rr,{value:u,onChange:E=>f(E),children:N.map(E=>s.jsx("option",{value:E,children:E},E))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Manager"}),s.jsx(rr,{value:x,onChange:E=>p(E),children:S.map(E=>s.jsx("option",{value:E,children:E},E))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Status"}),s.jsx(rr,{value:v,onChange:E=>g(E),children:["All","Active","Success","Failed","Expired","Checked-in","No-show"].map(E=>s.jsx("option",{value:E,children:E},E))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Search"}),s.jsx("input",{className:"input w-full",placeholder:t?" ":"Report name",value:b,onChange:E=>j(E.target.value)})]})]})}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Total Revenue"}),s.jsx("div",{className:"text-2xl font-semibold text-indigo-600",children:hk(_.totalRevenue)})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?"  ":"Total Leads"}),s.jsx("div",{className:"text-2xl font-semibold",children:_.totalLeads})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Total Actions"}),s.jsx("div",{className:"text-2xl font-semibold",children:_.totalActions})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Successful Imports"}),s.jsx("div",{className:"text-2xl font-semibold text-emerald-600",children:_.successfulImports})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Successful Exports"}),s.jsx("div",{className:"text-2xl font-semibold text-amber-600",children:_.successfulExports})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:t?"   ":"Actions & Leads Across Reports"}),s.jsx(Ls,{data:M,options:{responsive:!0,plugins:{legend:{position:"bottom"}}}})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:t?"/ ":"Successful Imports/Exports"}),s.jsx(Rj,{data:L,options:{responsive:!0}})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:t?"   ":"Revenue Trend by Report"}),s.jsx(no,{data:U,options:{responsive:!0,plugins:{legend:{display:!1}}}})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:A.map(E=>s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold",children:E.name}),s.jsxs("div",{className:"text-xs text-gray-500",children:[E.dept,"  ",E.manager]})]}),s.jsx(z,{status:E.status})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500",children:t?"":"Revenue"}),s.jsx("div",{className:"text-sm font-semibold",children:hk(E.revenue||0)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500",children:t?" ":"Leads"}),s.jsx("div",{className:"text-sm font-semibold",children:E.leads||0})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500",children:t?"":"Actions"}),s.jsx("div",{className:"text-sm font-semibold",children:E.actions||0})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx(xr,{to:E.route,className:"btn btn-primary",children:t?" ":"Open Report"})})]},E.key))})]})})};function pUe(){return s.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md rounded-lg border border-gray-300 dark:border-gray-700 p-6 space-y-3",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Subscription Expired"}),s.jsx("p",{children:"Your subscription has expired. Please renew to continue."})]})})}function xUe(){return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Upgrade Plan"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Your current plan limits access to this feature. Please upgrade to unlock advanced modules and settings."}),s.jsxs("div",{className:"mt-4 flex gap-3",children:[s.jsx("a",{href:"#",className:"px-4 py-2 rounded-md bg-indigo-600 text-white text-sm",children:"View Plans"}),s.jsx("a",{href:"#",className:"px-4 py-2 rounded-md border border-gray-300 dark:border-gray-700 text-sm",children:"Contact Sales"})]})]})}function gUe(){const e=ti(),t=[{key:"clients",title:"Client Management",desc:"Track clients and communication history with ease."},{key:"leads",title:"Leads Management",desc:"Manage lead stages smartly with quick filtering."},{key:"marketing",title:"Marketing & Campaigns",desc:"Launch campaigns and track landing results."},{key:"reports",title:"Reports & Analytics",desc:"Visualize performance with smart dashboards."},{key:"inventory",title:"Inventory",desc:"Manage products, stock, and transactions efficiently."},{key:"projects",title:"Projects",desc:"Track projects, timelines, and milestones with ease."},{key:"settings",title:"Settings",desc:"Configure modules, roles, and subscription details."},{key:"requests",title:"Requests",desc:"Manage requests and follow-ups efficiently."}],a=n=>{const i="w-12 h-12";switch(n){case"clients":return s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-teal-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[s.jsx("circle",{cx:"12",cy:"12",r:"6",strokeWidth:"2"}),s.jsx("path",{d:"M6 20c2-3 10-3 12 0",strokeWidth:"2"})]});case"leads":return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-orange-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:s.jsx("path",{d:"M5 13l4 4L19 7",strokeWidth:"2"})});case"marketing":return s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-purple-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[s.jsx("path",{d:"M3 8l9 6 9-6",strokeWidth:"2"}),s.jsx("path",{d:"M5 19h14",strokeWidth:"2"})]});case"reports":return s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-blue-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[s.jsx("rect",{x:"6",y:"12",width:"3",height:"8"}),s.jsx("rect",{x:"11",y:"9",width:"3",height:"11"}),s.jsx("rect",{x:"16",y:"6",width:"3",height:"14"})]});case"inventory":return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-yellow-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:s.jsx("rect",{x:"3",y:"7",width:"18",height:"14",rx:"2"})});case"projects":return s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-gray-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[s.jsx("rect",{x:"4",y:"7",width:"16",height:"12"}),s.jsx("path",{d:"M4 7l4-3h8l4 3"})]});case"settings":return s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-indigo-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[s.jsx("circle",{cx:"12",cy:"12",r:"3"}),s.jsx("path",{d:"M19 12a7 7 0 01-.3 2l2 1-2 3-2-1a7 7 0 01-2 1l-.3 2H9l-.3-2a7 7 0 01-2-1l-2 1-2-3 2-1A7 7 0 015 12a7 7 0 01.3-2L3 9l2-3 2 1a7 7 0 012-1L9 4h6l.3 2a7 7 0 012 1l2-1 2 3-2 1c.3.6.4 1.3.4 2z"})]});case"requests":return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-teal-600`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:s.jsx("path",{d:"M5 13l4 4L19 7",strokeWidth:"2"})});default:return null}},r={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08}}};return s.jsxs("div",{className:"relative min-h-screen flex flex-col pb-20 sm:pb-24 bg-gradient-to-br from-cyan-200 via-sky-300 to-indigo-200 dark:from-gray-900 dark:via-indigo-900 dark:to-purple-900",children:[s.jsx(nh.header,{className:"w-full bg-white/20 dark:bg-gray-800/25 backdrop-blur-md border-b border-white/30 dark:border-gray-600 shadow",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:s.jsxs("div",{className:"flex justify-between items-center w-full max-w-6xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:Rm,alt:"Be Souhola",className:"w-16 h-16 sm:w-20 sm:h-20 drop-shadow-lg"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs sm:text-sm text-white/90 drop-shadow-md",children:"Make everything ....."}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-white via-sky-100 to-cyan-200 text-transparent bg-clip-text drop-shadow-lg",children:"Be Souhola"})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("nav",{className:"hidden sm:flex items-center gap-4 text-white/90",children:[s.jsx(It,{to:"/",className:({isActive:n})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${n?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Home"}),s.jsx(It,{to:"/about",className:({isActive:n})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${n?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"About"}),s.jsx(It,{to:"/welcome/contact",className:({isActive:n})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${n?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Contact"}),s.jsx(It,{to:"/pricing",className:({isActive:n})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${n?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Pricing"})]}),s.jsx("button",{onClick:()=>e("/login"),className:"px-8 py-3 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow-lg transition-all duration-200 hover:bg-white/40 hover:scale-105 hover:shadow-2xl hover:ring-2 hover:ring-white/40",children:"LOGIN "})]})]})}),s.jsx(nh.div,{variants:r,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 mt-12 sm:mt-16 w-full max-w-6xl mx-auto px-6 sm:px-10",children:t.map((n,i)=>s.jsxs(nh.div,{whileHover:{scale:1.05,y:-5},className:"bg-white/30 dark:bg-gray-800/30 backdrop-blur-md rounded-3xl p-6 flex flex-col gap-4 cursor-pointer transition-all border border-white/40 dark:border-gray-600 shadow-md",children:[a(n.key),s.jsx("h3",{className:"text-lg font-semibold text-white drop-shadow-md",children:n.title}),s.jsx("p",{className:"text-sm text-white/80",children:n.desc})]},i))}),s.jsx("footer",{className:"fixed bottom-0 left-0 w-full border-t border-gray-200/60 dark:border-gray-700/60 bg-white/70 dark:bg-gray-900/40 backdrop-blur-md",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-6 sm:px-10 py-2 sm:py-3 flex items-center justify-between text-xs sm:text-sm",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" 2024 Be Souhola"}),s.jsxs("nav",{className:"flex items-center gap-4",children:[s.jsx(xr,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Privacy"}),s.jsx(xr,{to:"/terms",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Terms"}),s.jsx(xr,{to:"/welcome/contact",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Contact"})]})]})})]})}function vUe(){const e=ti(),t=[{name:"Basic",price:"$19/mo",duration:"Monthly",features:["Up to 3 users","Email support","Basic reports"]},{name:"Pro",price:"$49/mo",duration:"Monthly",features:["Up to 10 users","Priority support","Advanced analytics"]},{name:"Enterprise",price:"Custom",duration:"Annual",features:["Unlimited users","Dedicated manager","Custom integrations"]}];return s.jsxs("div",{className:"relative min-h-screen flex flex-col pb-20 sm:pb-24 bg-gradient-to-br from-cyan-200 via-sky-300 to-indigo-200 dark:from-gray-900 dark:via-indigo-900 dark:to-purple-900",children:[s.jsx(nh.header,{className:"w-full bg-white/20 dark:bg-gray-800/25 backdrop-blur-md border-b border-white/30 dark:border-gray-600 shadow",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:s.jsxs("div",{className:"flex justify-between items-center w-full max-w-6xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:Rm,alt:"Be Souhola",className:"w-16 h-16 sm:w-20 sm:h-20 drop-shadow-lg"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs sm:text-sm text-white/90 drop-shadow-md",children:"Make everything ....."}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-white via-sky-100 to-cyan-200 text-transparent bg-clip-text drop-shadow-lg",children:"Be Souhola"})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("nav",{className:"hidden sm:flex items-center gap-4 text-white/90",children:[s.jsx(It,{to:"/",className:({isActive:a})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${a?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Home"}),s.jsx(It,{to:"/about",className:({isActive:a})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${a?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"About"}),s.jsx(It,{to:"/welcome/contact",className:({isActive:a})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${a?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Contact"}),s.jsx(It,{to:"/pricing",className:({isActive:a})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${a?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Pricing"})]}),s.jsx("button",{onClick:()=>e("/login"),className:"px-8 py-3 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow-lg transition-all duration-200 hover:bg-white/40 hover:scale-105 hover:shadow-2xl hover:ring-2 hover:ring-white/40",children:"LOGIN "})]})]})}),s.jsx("main",{className:"flex-1 w-full",children:s.jsxs("div",{className:"mx-auto max-w-6xl px-6 sm:px-10 mt-8 sm:mt-12",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white/90 mb-6 text-center",children:"Plans & Pricing"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map((a,r)=>s.jsxs("div",{className:"bg-white/30 dark:bg-gray-800/30 backdrop-blur-md rounded-3xl p-6 border border-white/40 dark:border-gray-700 shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-lg font-semibold text-white",children:a.name}),s.jsx("span",{children:""})]}),s.jsx("div",{className:"text-2xl font-bold mb-1 text-white/90",children:a.price}),s.jsx("div",{className:"text-sm text-white/80 mb-3",children:a.duration}),s.jsx("ul",{className:"text-sm text-white/90 space-y-1 mb-4",children:a.features.map((n,i)=>s.jsxs("li",{children:[" ",n]},i))}),s.jsx(xr,{to:"/upgrade",className:"inline-block px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700",children:"Upgrade Plan"})]},r))})]})}),s.jsx("footer",{className:"fixed bottom-0 left-0 w-full border-t border-gray-200/60 dark:border-gray-700/60 bg-white/70 dark:bg-gray-900/40 backdrop-blur-md",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-6 sm:px-10 py-2 sm:py-3 flex items-center justify-between text-xs sm:text-sm",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" 2024 Be Souhola"}),s.jsxs("nav",{className:"flex items-center gap-4",children:[s.jsx(xr,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Privacy"}),s.jsx(xr,{to:"/terms",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Terms"}),s.jsx(xr,{to:"/welcome/contact",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Contact"})]})]})})]})}function _J({onEdit:e,onChangePassword:t,onToggleActive:a,onDelete:r,onEnable:n,onRefresh:i,onAssignRotation:l,onDelayRotation:o}){return s.jsxs("div",{className:"action-toolbar",children:[s.jsx("button",{className:"btn-icon",title:"Edit",onClick:e,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M12 20h9"}),s.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),s.jsx("button",{className:"btn-icon",title:"Change Password",onClick:t,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"11",width:"18",height:"10",rx:"2"}),s.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}),s.jsx("path",{d:"M12 16v3"}),s.jsx("path",{d:"M10 16h4"})]})}),s.jsx("button",{className:"btn-icon",title:"Toggle Active",onClick:a,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"7",width:"18",height:"10",rx:"5"}),s.jsx("circle",{cx:"9",cy:"12",r:"3"})]})}),s.jsx("button",{className:"btn-icon",title:"Delete",onClick:r,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"3 6 5 6 21 6"}),s.jsx("path",{d:"M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"}),s.jsx("path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2"})]})}),n&&s.jsx("button",{className:"btn-icon",title:"Enable",onClick:n,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"9"}),s.jsx("path",{d:"M9 12l2 2 4-4"})]})}),i&&s.jsx("button",{className:"btn-icon",title:"Refresh",onClick:i,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"23 4 23 10 17 10"}),s.jsx("polyline",{points:"1 20 1 14 7 14"}),s.jsx("path",{d:"M3.51 9a10 10 0 0 1 14.88-3.36L23 10"}),s.jsx("path",{d:"M1 14l4.62 4.62A10 10 0 0 0 20.49 15"})]})}),l&&s.jsx("button",{className:"btn-icon",title:"Assign Rotation",onClick:l,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M12 2v5"}),s.jsx("path",{d:"M12 17v5"}),s.jsx("path",{d:"M2 12h5"}),s.jsx("path",{d:"M17 12h5"}),s.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),o&&s.jsx("button",{className:"btn-icon",title:"Delay Rotation",onClick:o,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 3v5h5"}),s.jsx("path",{d:"M21 21v-5h-5"}),s.jsx("path",{d:"M5 13a7 7 0 0 0 12 3"}),s.jsx("path",{d:"M19 11a7 7 0 0 0-12-3"})]})})]})}function bUe({open:e,onClose:t,onSubmit:a,context:r="task",teams:n=[],users:i=[],leads:l=[],defaultAssignType:o="team",defaultTargetId:c}){const{i18n:d}=Et(),[u,f]=w.useState(o),[x,p]=w.useState(o==="team"?c||n[0]?.id:""),[v,g]=w.useState(o==="user"?c||i[0]?.id:""),[b,j]=w.useState(o==="team"&&c?[c]:[]),[N,S]=w.useState(o==="user"&&c?[c]:[]),[k,A]=w.useState(l[0]?.id||""),[_,M]=w.useState("Normal"),[L,U]=w.useState(""),[z,O]=w.useState(""),B=r==="task",E=d?.language==="ar",R=w.useMemo(()=>({title:E?" ":"Assignment Center",close:E?"":"Close",assignType:E?" ":"Assign Type",team:E?"":"Team",user:E?"":"User",teams:E?B?"":"":B?"Teams":"Team",users:E?B?"":"":B?"Users":"User",lead:E?"":"Lead",noLeads:E?"   ":"No leads available",priority:E?"":"Priority",priorityOptions:E?["","","",""]:["Low","Normal","High","Critical"],deadline:E?" ":"Deadline",notes:E?"":"Notes",cancel:E?"":"Cancel",assign:E?"":"Assign",selectedSuffix:E?"/":"selected",badgePrefixTeam:E?"":"Team",badgePrefixUser:E?"":"User",contextLabel:{task:E?"":"Task",lead:E?"":"Lead",ticket:E?"":"Ticket",user:E?"":"User"}}),[E,B]),q=w.useMemo(()=>{if(u==="team"){if(B){const H=n.filter(J=>b.includes(J.id));return H.length===0?"":H.length<=2?H.map(J=>J.name).join(", "):`${H.length} ${R.selectedSuffix}`}return n.find(H=>H.id===(x||c))?.name||""}if(B){const Q=i.filter(H=>N.includes(H.id));return Q.length===0?"":Q.length<=2?Q.map(H=>H.fullName).join(", "):`${Q.length} ${R.selectedSuffix}`}return i.find(Q=>Q.id===(v||c))?.fullName||""},[u,x,v,n,i,c,B,b,N,R.selectedSuffix]),I=w.useMemo(()=>x?i.filter(D=>!D.team||D.team===x||D.team===n.find(Q=>Q.id===x)?.name):i,[i,x,n]),G=w.useMemo(()=>{if(!k)return"";const D=l.find(Q=>Q.id===k);return D?.name||D?.full_name||""},[k,l]);if(!e)return null;const X=(u==="team"?B?b.length>0:!!x:B?N.length>0:!!v)&&(!(r==="lead")||!!k),ce=()=>{a?.({context:r,assignType:u,teamId:u==="team"&&!B?x:void 0,userId:u==="user"&&!B?v:void 0,teamIds:u==="team"&&B?b:void 0,userIds:u==="user"&&B?N:void 0,targetName:q,leadId:r==="lead"?k:void 0,leadName:r==="lead"?G:void 0,priority:_,deadline:L,notes:z}),t?.()};return s.jsxs("div",{className:"modal modal-open",children:[s.jsxs("div",{className:"modal-box glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-semibold",children:R.title}),!!q&&s.jsxs("span",{className:"badge badge-outline",children:[u==="team"?R.badgePrefixTeam:R.badgePrefixUser,": ",q]})]}),s.jsx("button",{className:"btn btn-ghost btn-sm",onClick:t,children:R.close})]}),s.jsx("div",{className:"mb-2 text-sm opacity-70",children:E?`: ${R.contextLabel[r]}`:`Context: ${R.contextLabel[r]}`}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"form-control",children:[s.jsx("span",{className:"label-text",children:R.assignType}),s.jsxs("select",{className:"select select-bordered bg-transparent",value:u,onChange:D=>f(D.target.value),children:[s.jsx("option",{value:"team",children:R.team}),s.jsx("option",{value:"user",children:R.user})]})]}),u==="team"&&s.jsxs("label",{className:"form-control",children:[s.jsx("span",{className:"label-text",children:R.teams}),s.jsx("select",{className:"select select-bordered bg-transparent",multiple:B,value:B?b:x,onChange:D=>{if(B){const Q=Array.from(D.target.selectedOptions).map(H=>H.value);j(Q)}else p(D.target.value)},children:n.map(D=>s.jsx("option",{value:D.id,children:D.name},D.id))})]}),u==="user"&&s.jsxs("label",{className:"form-control md:col-span-1",children:[s.jsx("span",{className:"label-text",children:R.users}),s.jsx("select",{className:"select select-bordered bg-transparent",multiple:B,value:B?N:v,onChange:D=>{if(B){const Q=Array.from(D.target.selectedOptions).map(H=>H.value);S(Q)}else g(D.target.value)},children:I.map(D=>s.jsxs("option",{value:D.id,children:[D.fullName," ",D.team?`(${D.team})`:""]},D.id))})]}),r==="lead"&&s.jsxs("label",{className:"form-control md:col-span-1",children:[s.jsx("span",{className:"label-text",children:R.lead}),s.jsxs("select",{className:"select select-bordered bg-transparent",value:k,onChange:D=>A(D.target.value),children:[l.length===0&&s.jsx("option",{value:"",disabled:!0,children:R.noLeads}),l.map(D=>s.jsx("option",{value:D.id,children:D.name||D.full_name||`Lead ${D.id}`},D.id))]})]}),r!=="user"&&s.jsxs(s.Fragment,{children:[s.jsxs("label",{className:"form-control",children:[s.jsx("span",{className:"label-text",children:R.priority}),s.jsx("select",{className:"select select-bordered bg-transparent",value:_,onChange:D=>M(D.target.value),children:R.priorityOptions.map(D=>s.jsx("option",{value:D,children:D},D))})]}),s.jsxs("label",{className:"form-control",children:[s.jsx("span",{className:"label-text",children:R.deadline}),s.jsx("input",{type:"date",className:"input input-bordered bg-transparent",value:L,onChange:D=>U(D.target.value)})]})]}),s.jsxs("label",{className:"form-control md:col-span-2",children:[s.jsx("span",{className:"label-text",children:R.notes}),s.jsx("textarea",{className:"textarea textarea-bordered bg-transparent",rows:3,value:z,onChange:D=>O(D.target.value),placeholder:`${E?"":"Context"}: ${R.contextLabel[r]}${q?`  ${E?" ":"Assigning to"} ${u==="team"?R.team:R.user}: ${q}`:""}`})]})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between gap-2",children:[s.jsx("div",{className:"text-sm opacity-70",children:u==="team"?B?`${(b||[]).length} ${R.selectedSuffix}`:x?`${R.badgePrefixTeam}: ${q}`:"":B?`${(N||[]).length} ${R.selectedSuffix}`:v?`${R.badgePrefixUser}: ${q}`:""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-ghost",onClick:t,children:R.cancel}),s.jsx("button",{className:"btn btn-primary",onClick:ce,disabled:!X,children:R.assign})]})]})]}),s.jsx("div",{className:"modal-backdrop",onClick:t})]})}const TJ=[{id:"d-3001",name:"Customer Support"},{id:"d-3002",name:"Sales"},{id:"d-3003",name:"Technical Support"},{id:"d-3004",name:"Marketing"},{id:"d-3005",name:"Operations"},{id:"d-3006",name:"Finance"},{id:"d-3007",name:"Human Resources"},{id:"d-3008",name:"Legal"},{id:"d-3009",name:"IT"},{id:"d-3010",name:"Warehouse"},{id:"d-3011",name:"Procurement"},{id:"d-3012",name:"Logistics"},{id:"d-3013",name:"Projects"},{id:"d-3014",name:"Inventory"},{id:"d-3015",name:"Quality Assurance"},{id:"d-3016",name:"Training"},{id:"d-3017",name:"Call Center"},{id:"d-3018",name:"Social Media"},{id:"d-3019",name:"CRM"},{id:"d-3020",name:"Business Development"},{id:"d-3021",name:"Partnerships"},{id:"d-3022",name:"Administration"},{id:"d-3023",name:"Facilities"},{id:"d-3024",name:"Security"},{id:"d-3025",name:"Compliance"},{id:"d-3026",name:"R&D"},{id:"d-3027",name:"Product"},{id:"d-3028",name:"Engineering"},{id:"d-3029",name:"Design"},{id:"d-3030",name:"Data Science"},{id:"d-3031",name:"Analytics"},{id:"d-3032",name:"Business Intelligence"},{id:"d-3033",name:"Content"},{id:"d-3034",name:"Public Relations"},{id:"d-3035",name:"Events"},{id:"d-3036",name:"Field Sales"},{id:"d-3037",name:"Inside Sales"},{id:"d-3038",name:"Account Management"},{id:"d-3039",name:"Retention"},{id:"d-3040",name:"Onboarding"},{id:"d-3041",name:"Implementation"},{id:"d-3042",name:"After Sales"},{id:"d-3043",name:"Billing"},{id:"d-3044",name:"Collections"},{id:"d-3045",name:"Vendor Relations"}],yUe=[{id:"u-1001",avatarUrl:"",fullName:"Ibrahim Hassan",email:"ibrahim@example.com",phone:"+20 100 000 0000",role:"Admin",status:"Active",team:"Support",department:"Customer Support",lastLogin:"2025-11-18 10:24",createdAt:"2025-10-02"},{id:"u-1002",avatarUrl:"",fullName:"Sara Ali",email:"sara.ali@example.com",phone:"+20 111 222 3333",role:"Agent",status:"Inactive",team:"Sales",department:"Sales",lastLogin:"2025-11-15 09:17",createdAt:"2025-09-12"},{id:"u-1003",avatarUrl:"",fullName:"Mohamed Salem",email:"msalem@example.com",phone:"+20 122 444 5555",role:"Manager",status:"Suspended",team:"Operations",department:"Technical Support",lastLogin:"2025-11-10 14:05",createdAt:"2025-08-20"}],wUe=["Admin","Manager","Agent","Viewer"],jUe=["Active","Inactive","Suspended"],l$=["Support","Sales","Operations","Finance"];function NUe(){const e=ti(),{i18n:t}=Et(),a=t.language==="ar",[r,n]=w.useState(""),[i,l]=w.useState(""),[o,c]=w.useState(""),[d,u]=w.useState(""),[f,x]=w.useState(""),[p,v]=w.useState(""),[g,b]=w.useState(""),[j,N]=w.useState(yUe),[S,k]=w.useState([]),A=w.useMemo(()=>{try{return JSON.parse(localStorage.getItem("leads")||"[]")}catch{return[]}},[]),[_,M]=w.useState(!1),[L,U]=w.useState("task"),[z,O]=w.useState("user"),[B,E]=w.useState(""),R=w.useMemo(()=>j.filter(Y=>{const oe=[Y.fullName,Y.email,Y.phone].join(" ").toLowerCase().includes(r.toLowerCase()),xe=i?Y.role===i:!0,W=o?Y.status===o:!0,he=d?(Y.team||"")===d:!0,fe=f?(Y.department||"")===f:!0,de=p?(Y.createdAt||"")>=p:!0,Oe=g?(Y.createdAt||"")<=g:!0;return oe&&xe&&W&&he&&fe&&de&&Oe}),[j,r,i,o,d,f,p,g]),q=R.length>0&&R.every(Y=>S.includes(Y.id)),I=Y=>{N(oe=>oe.map(xe=>xe.id===Y?{...xe,status:xe.status==="Active"?"Inactive":"Active"}:xe))},G=Y=>{window.confirm("Delete this user?")&&N(oe=>oe.filter(xe=>xe.id!==Y))},re=Y=>{alert(`Change password dialog opened for ${Y}`)},te=Y=>{alert(`Refreshed user ${Y}`)},X=Y=>{alert(`Assigned rotation to user ${Y}`)},ce=Y=>{alert(`Delayed rotation for user ${Y}`)},D=w.useMemo(()=>({title:a?"   ":"Bulk actions on selected",deleteSelected:"delete",assignTask:a?" ":"Assign task",assignLead:a?" ":"Assign lead",assignTicket:a?" ":"Assign ticket",selectUsersFirst:a?"  ":"Select users first",bulkAssignUsersFirst:a?"     ":"Select users first to perform bulk assignment",deletedMsg:a?"   ":"Selected users deleted",confirmDelete:a?`  ${S.length} ().   `:`This will delete ${S.length} user(s). Are you sure?`}),[a,S.length]),Q=()=>{if(S.length===0)return alert(D.selectUsersFirst);window.confirm(D.confirmDelete)&&(N(Y=>Y.filter(oe=>!S.includes(oe.id))),k([]),alert(D.deletedMsg))},H=Y=>{if(S.length===0)return alert(D.selectUsersFirst);U(Y),O("user"),E(""),M(!0)},J=()=>{k(q?[]:R.map(Y=>Y.id))},ae=Y=>{k(oe=>oe.includes(Y)?oe.filter(xe=>xe!==Y):[...oe,Y])},ie=()=>{const Y=["ID","Full Name","Email","Phone","Role","Status","Team","Created At"],oe=R.map(de=>[de.id,de.fullName,de.email,de.phone,de.role,de.status,de.team||"",de.createdAt||""]),xe=[Y.join(","),...oe.map(de=>de.map(Oe=>`"${String(Oe||"").replace(/"/g,'""')}"`).join(","))].join(`
`),W=new Blob([xe],{type:"text/csv;charset=utf-8;"}),he=URL.createObjectURL(W),fe=document.createElement("a");fe.href=he,fe.download="users-export.csv",fe.click(),URL.revokeObjectURL(he)},le=Y=>{console.log("Assignment payload (Users):",{...Y,selectedUserIds:S}),alert("   ")};return s.jsx(ea,{title:"User Management  Users",children:s.jsxs("div",{className:"w-full max-w-none px-0 py-0",children:[s.jsxs("div",{className:"glass-panel rounded-xl px-4 py-3 mb-4 flex items-center justify-between",children:[s.jsx("h1",{className:"text-xl font-semibold text-primary",children:"Users"}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("label",{className:"btn btn-ghost cursor-pointer",children:["Import Users",s.jsx("input",{type:"file",accept:".csv,text/csv",className:"hidden",onChange:Y=>{const oe=Y.target.files?.[0];if(!oe)return;const xe=new FileReader;xe.onload=()=>{try{const he=String(xe.result||"").split(/\r?\n/).filter(Boolean),fe=he[0].split(",").map(Je=>Je.trim().replace(/"/g,"")),de=Je=>fe.findIndex($e=>$e.toLowerCase()===Je.toLowerCase()),Oe=de("id"),Fe=de("full name"),Ee=de("email"),se=de("phone"),_e=de("role"),je=de("status"),rt=de("team"),ft=de("created at"),Bt=he.slice(1).map(Je=>{const $e=Je.split(",").map(ze=>ze.replace(/^\"|\"$/g,""));return{id:$e[Oe]||`u-${Date.now()}`,fullName:$e[Fe]||"",email:$e[Ee]||"",phone:$e[se]||"",role:$e[_e]||"Viewer",status:$e[je]||"Active",team:$e[rt]||"",createdAt:$e[ft]||""}}).filter(Je=>Je.fullName&&Je.email);N(Je=>[...Je,...Bt]),alert(`Imported ${Bt.length} users`)}catch(W){console.error(W),alert("Failed to import CSV")}},xe.readAsText(oe)}})]}),s.jsx("button",{className:"btn",onClick:ie,children:"Export Excel"}),s.jsx(xr,{to:"/user-management/users/new",className:"btn btn-primary",children:"Add New User"})]})]}),s.jsx("div",{className:"glass-panel rounded-xl p-3 mb-4 w-full",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:a?"":"Search"})}),s.jsx("input",{type:"text",className:"input-soft w-full",placeholder:a?" (  )":"Search (name, email, phone)",value:r,onChange:Y=>n(Y.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:a?"":"Role"})}),s.jsx(rr,{className:"w-full",options:wUe,value:i,onChange:Y=>l(Y),placeholder:a?" ":"Select role"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:a?"":"Status"})}),s.jsx(rr,{className:"w-full",options:jUe,value:o,onChange:Y=>c(Y),placeholder:a?" ":"Select status"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:a?"":"Team"})}),s.jsx(rr,{className:"w-full",options:l$,value:d,onChange:Y=>u(Y),placeholder:a?" ":"Select team"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:a?"":"Department"})}),s.jsx(rr,{className:"w-full",options:TJ.map(Y=>Y.name),value:f,onChange:Y=>x(Y),placeholder:a?" ":"Select department"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:a?" ":"Date From"})}),s.jsx("input",{type:"date",className:"input-soft w-full",value:p,onChange:Y=>v(Y.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:a?" ":"Date To"})}),s.jsx("input",{type:"date",className:"input-soft w-full",value:g,onChange:Y=>b(Y.target.value)})]})]})}),S.length>0&&s.jsxs("div",{className:"glass-panel rounded-xl px-3 py-2 mb-3 flex flex-wrap items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-[var(--muted-text)]",children:[D.title,":"]}),s.jsx("button",{className:"btn btn-ghost",onClick:Q,children:D.deleteSelected}),s.jsx("button",{className:"btn btn-ghost",onClick:()=>H("task"),children:D.assignTask}),s.jsx("button",{className:"btn btn-ghost",onClick:()=>H("lead"),children:D.assignLead}),s.jsx("button",{className:"btn btn-ghost",onClick:()=>H("ticket"),children:D.assignTicket})]}),s.jsx("div",{className:"glass-panel rounded-xl overflow-x-auto w-full",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"thead-soft",children:[s.jsx("th",{children:s.jsx("input",{type:"checkbox",className:"checkbox",checked:q,onChange:J})}),s.jsx("th",{children:"Avatar"}),s.jsx("th",{children:"Full Name"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Actions"}),s.jsx("th",{children:"Last Login"})]})}),s.jsx("tbody",{children:R.map(Y=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsx("input",{type:"checkbox",className:"checkbox",checked:S.includes(Y.id),onChange:()=>ae(Y.id)})}),s.jsx("td",{children:s.jsx("div",{className:"avatar placeholder",children:s.jsx("div",{className:"bg-neutral text-neutral-content rounded-full w-10",children:s.jsx("span",{children:Y.fullName?.[0]||"?"})})})}),s.jsx("td",{className:"font-medium",children:s.jsx(xr,{to:`/user-management/users/${Y.id}`,children:Y.fullName})}),s.jsx("td",{children:Y.role}),s.jsx("td",{children:s.jsx("span",{className:`badge ${Y.status==="Active"?"badge-success":Y.status==="Suspended"?"badge-error":""}`,children:Y.status})}),s.jsx("td",{children:s.jsx(_J,{onEdit:()=>e(`/user-management/users/${Y.id}?edit=1`),onChangePassword:()=>re(Y.id),onToggleActive:()=>I(Y.id),onDelete:()=>G(Y.id),onEnable:()=>I(Y.id),onRefresh:()=>te(Y.id),onAssignRotation:()=>X(Y.id),onDelayRotation:()=>ce(Y.id)})}),s.jsx("td",{children:Y.lastLogin})]},Y.id))})]})}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("div",{children:["Showing ",R.length," of ",j.length," users"]}),s.jsxs("div",{className:"join",children:[s.jsx("button",{className:"join-item btn",children:""}),s.jsx("button",{className:"join-item btn",children:"1"}),s.jsx("button",{className:"join-item btn",children:"2"}),s.jsx("button",{className:"join-item btn",children:"3"}),s.jsx("button",{className:"join-item btn",children:""})]})]}),_&&s.jsx(bUe,{open:_,onClose:()=>M(!1),onSubmit:le,context:L,teams:l$.map(Y=>({id:Y,name:Y})),users:j.map(Y=>({id:Y.id,fullName:Y.fullName,team:Y.team,role:Y.role})),leads:A,defaultAssignType:z,defaultTargetId:B})]})})}const SUe=["Sales Admin","Operation Manager","Branch Manager","Director","Sales Manager","Team Leader","Sales Person","Marketing Manager","Marketing Moderator","Customer Manager","Customer Team Leader","Customer Agent","Support Manager","Support Team Leader","Support Agent","Custom"],kUe=["Active","Inactive","Suspended"],CUe={Leads:["addLead","importLeads","addInputs","showCreator","editInfo","editPhone"],Inventory:["addProducts","addItems","addSuppliers","addWarehouse","showTransaction","addProject","addUnits"],Marketing:["showCampaigns","addLandingPages","integrations","exportReports","showReports"],Customers:["convertFromLead","addCustomer","editInfo","deleteCustomer","showModule"],Support:["showModule","addTickets","sla","editInfo","exportReports","convertFromCustomer","convertFromLead","reports","deleteTickets"],Control:["addRegions","addArea","addStage","addSource","userManagement","multiAction","salesComment","allowActionOnTeam","assignLeads","importLeads","exportLeads","showReports","addDepartment","editConfigurationSettings"]},o$={groups:{Leads:"",Inventory:"",Marketing:"",Customers:"",Support:"",Control:""},actions:{view:"",create:"",assign:"",addLead:" ",addInputs:" ",showCreator:" ",editPhone:" ",showCampaigns:" ",addLandingPages:"  ",integrations:"",exportReports:" ",showReports:" ",convertFromLead:"  ",addCustomer:" ",editInfo:" ",deleteCustomer:" ",showModule:" ",addTickets:" ",sla:"  ",convertFromCustomer:"  ",reports:"",deleteTickets:" ",addRegions:" ",addArea:" ",addStage:" ",addSource:" ",userManagement:" ",multiAction:" ",salesComment:" ",allowActionOnTeam:"   ",assignLeads:" ",importLeads:" ",exportLeads:" ",addDepartment:" ",editConfigurationSettings:"  ",addProducts:" ",addItems:" ",addSuppliers:" ",addWarehouse:" ",showTransaction:" ",addProject:" ",addUnits:" "}};function AUe(){const{i18n:e}=Et(),t=e.language==="ar",a=ti(),[r,n]=w.useState({fullName:"",firstName:"",lastName:"",email:"",phone:"",username:"",password:"",birthDate:"",avatar:"",sendInvite:!0,role:"",status:"Active",department:"",branch:"",region:"",area:"",notifEmail:!0,notifSms:!1}),[i,l]=w.useState({}),[o,c]=w.useState({}),[d,u]=w.useState("info"),f=w.useMemo(()=>r.role==="Custom",[r.role]);w.useMemo(()=>f||r.role==="Sales Admin",[f,r.role]);const x=w.useMemo(()=>["Sales Admin","Operation Manager","Branch Manager","Director"].includes(r.role),[r.role]);w.useEffect(()=>{r.role==="Sales Admin"?l({Leads:["addLead","importLeads"],Inventory:[],Marketing:["showCampaigns","addLandingPages","exportReports"],Customers:["convertFromLead","addCustomer","showModule"],Support:["showModule"],Control:["addRegions","addArea","addSource","userManagement","allowActionOnTeam","assignLeads","showReports","addDepartment"]}):r.role==="Operation Manager"?l({Leads:["addLead","importLeads","editInfo","editPhone"],Inventory:["addProducts","addItems","addSuppliers","addWarehouse","showTransaction"],Marketing:[],Customers:["editInfo","showModule"],Support:["showModule","addTickets","sla","reports"],Control:["allowActionOnTeam","showReports","addDepartment"]}):r.role==="Branch Manager"?l({Leads:["addLead","importLeads","editInfo"],Inventory:["addProducts","addItems","addWarehouse","showTransaction"],Customers:["addCustomer","editInfo","showModule"],Support:["showModule"],Control:["allowActionOnTeam","assignLeads","showReports"]}):r.role==="Director"?l({Leads:["addLead","importLeads","editInfo"],Inventory:[],Marketing:["showCampaigns","addLandingPages","integrations","exportReports","showReports"],Customers:["convertFromLead","addCustomer","editInfo","showModule"],Support:["showModule"],Control:["userManagement","assignLeads","exportLeads","showReports","multiAction","salesComment"]}):r.role==="Sales Manager"?l({Leads:["addLead","importLeads","editInfo"],Customers:["convertFromLead","addCustomer","editInfo","showModule"],Control:["assignLeads","showReports"]}):r.role==="Team Leader"?l({Leads:["addLead","importLeads"],Customers:["editInfo","showModule"],Control:["allowActionOnTeam","assignLeads"]}):r.role==="Sales Person"?l({Leads:["addLead","importLeads"],Customers:["showModule"]}):r.role==="Marketing Manager"?l({Marketing:["showCampaigns","addLandingPages","integrations","exportReports","showReports"]}):r.role==="Marketing Moderator"?l({Marketing:["showCampaigns","showReports"]}):r.role==="Customer Manager"?l({Customers:["convertFromLead","addCustomer","editInfo","deleteCustomer","showModule"],Control:["showReports"]}):r.role==="Customer Team Leader"?l({Customers:["editInfo","showModule"]}):r.role==="Customer Agent"?l({Customers:["showModule"]}):r.role==="Support Manager"?l({Support:["showModule","addTickets","sla","reports","exportReports","deleteTickets"],Control:["showReports"]}):r.role==="Support Team Leader"?l({Support:["showModule","addTickets","sla","reports"]}):r.role==="Support Agent"?l({Support:["showModule","addTickets"]}):r.role==="Custom"?l({}):l({})},[r.role]);const p=(j,N)=>{n(S=>({...S,[j]:N}))},v=(j,N)=>{l(S=>{const k=new Set(S[j]||[]);return k.has(N)?k.delete(N):k.add(N),{...S,[j]:Array.from(k)}})},g=()=>{const j={};return r.fullName?.trim()||r.firstName?.trim()&&r.lastName?.trim()||(j.fullName="Full Name is required"),r.email?.trim()||(j.email="Email is required"),r.username?.trim()||(j.username="Username is required"),r.role?.trim()||(j.role="Role is required"),(r.password?.length||0)<8&&(j.password="Password must be at least 8 characters"),c(j),Object.keys(j).length===0},b=j=>{if(j.preventDefault(),!g())return;const N={...r,fullName:r.fullName?.trim()||`${r.firstName||""} ${r.lastName||""}`.trim(),permissions:i};console.log("Create User payload",N),alert("User created (mock). Returning to Users list."),a("/user-management/users")};return s.jsx(ea,{title:"User Management  Add New User",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Add New User"}),s.jsxs("form",{onSubmit:b,className:"space-y-6",children:[s.jsx("div",{className:"glass-panel rounded-xl p-2 mb-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",className:`btn btn-ghost ${d==="info"?"btn-active":""}`,onClick:()=>u("info"),children:t?"":"Info"}),s.jsx("button",{type:"button",className:`btn btn-ghost ${d==="account"?"btn-active":""}`,onClick:()=>u("account"),children:t?" ":"Account Setting"}),s.jsx("button",{type:"button",className:`btn btn-ghost ${d==="notifications"?"btn-active":""}`,onClick:()=>u("notifications"),children:t?"":"Notifications"})]})}),d==="info"&&s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"card-title",children:"1. Basic Info"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Full Name"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:r.fullName,onChange:j=>p("fullName",j.target.value)}),o.fullName&&s.jsx("p",{className:"text-error text-sm mt-1",children:o.fullName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"First Name"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:r.firstName,onChange:j=>p("firstName",j.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Last Name"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:r.lastName,onChange:j=>p("lastName",j.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Email"})}),s.jsx("input",{type:"email",className:"input input-bordered w-full bg-transparent",value:r.email,onChange:j=>p("email",j.target.value)}),o.email&&s.jsx("p",{className:"text-error text-sm mt-1",children:o.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Phone (Optional)"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:r.phone,onChange:j=>p("phone",j.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Username"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:r.username,onChange:j=>p("username",j.target.value)}),o.username&&s.jsx("p",{className:"text-error text-sm mt-1",children:o.username})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Birth Date (Optional)"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"date",className:"input input-bordered w-full bg-transparent",value:r.birthDate,onChange:j=>p("birthDate",j.target.value)}),s.jsx("button",{type:"button",className:"btn btn-ghost btn-square",onClick:()=>{},"aria-label":"Calendar",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),s.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),s.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),s.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Profile Photo (Optional)"})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-base-200 overflow-hidden",children:r.avatar?s.jsx("img",{src:r.avatar,alt:"avatar",className:"w-full h-full object-cover"}):null}),s.jsxs("label",{className:"btn btn-ghost cursor-pointer",children:["Upload",s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:j=>{const N=j.target.files?.[0];if(!N)return;const S=new FileReader;S.onload=()=>p("avatar",S.result),S.readAsDataURL(N)}})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Password"})}),s.jsx("input",{type:"password",className:"input input-bordered w-full bg-transparent",value:r.password,onChange:j=>p("password",j.target.value)}),o.password&&s.jsx("p",{className:"text-error text-sm mt-1",children:o.password})]})]})]})}),d==="account"&&s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"card-title",children:"2. Account Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Role *"})}),s.jsx(rr,{className:"w-full",options:SUe,value:r.role,onChange:j=>p("role",j)}),o.role&&s.jsx("p",{className:"text-error text-sm mt-1",children:o.role})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Status *"})}),s.jsx(rr,{className:"w-full",options:kUe,value:r.status,onChange:j=>p("status",j)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Department (Optional)"})}),s.jsx(rr,{className:"w-full",options:TJ.map(j=>({value:j.name,label:j.name})),value:r.department,onChange:j=>{n(N=>({...N,department:j}))}})]})]}),x&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:t?" ()":"Branch (Optional)"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:r.branch,onChange:j=>p("branch",j.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:t?" ()":"Region (Optional)"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:r.region,onChange:j=>p("region",j.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:t?"/ ()":"Area (Optional)"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:r.area,onChange:j=>p("area",j.target.value)})]})]})]})}),d==="account"&&s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"card-title",children:"3. Permissions"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:Object.entries(CUe).map(([j,N])=>s.jsxs("div",{className:"glass-panel rounded-lg p-3",children:[s.jsx("h3",{className:"font-medium mb-2",children:t&&o$.groups[j]||j}),s.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(S=>{const k=(i[j]||[]).includes(S);return s.jsxs("label",{className:"cursor-pointer flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"checkbox",checked:k,onChange:()=>v(j,S)}),s.jsx("span",{children:t&&o$.actions[S]||S})]},S)})})]},j))})]})}),d==="notifications"&&s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"card-title",children:"3. Notifications"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3",children:[s.jsx("div",{className:"form-control",children:s.jsxs("label",{className:"label cursor-pointer",children:[s.jsx("span",{className:"label-text",children:"Email Notifications"}),s.jsx("input",{type:"checkbox",className:"toggle",checked:r.notifEmail,onChange:j=>p("notifEmail",j.target.checked)})]})}),s.jsx("div",{className:"form-control",children:s.jsxs("label",{className:"label cursor-pointer",children:[s.jsx("span",{className:"label-text",children:"SMS Notifications"}),s.jsx("input",{type:"checkbox",className:"toggle",checked:r.notifSms,onChange:j=>p("notifSms",j.target.checked)})]})})]})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"}),s.jsx("button",{type:"button",className:"btn",onClick:()=>a("/user-management/users"),children:"Cancel"})]})]})]})})}const _Ue=[{type:"Created",user:"Ibrahim",target:"Ticket #4531",description:"Created new ticket",ts:"2025-11-18 10:24",ip:"192.168.1.12",module:"Tickets"},{type:"Updated",user:"Sara",target:"Customer #100",description:"Updated address",ts:"2025-11-17 12:05",ip:"192.168.1.18",module:"Customers"},{type:"Login",user:"Ibrahim",target:"-",description:"Successful login",ts:"2025-11-17 08:12",ip:"192.168.1.12",module:"User Management"},{type:"Failed Login",user:"Unknown",target:"-",description:"Failed login attempt",ts:"2025-11-16 23:51",ip:"192.168.1.99",module:"User Management"}],TUe=["Created","Updated","Deleted","Login","Failed Login","Permission Change"],EUe=["Tickets","Customers","SLA","Reports","User Management","Settings","Integrations","Custom Modules"];function DUe(){const[e,t]=w.useState(""),[a,r]=w.useState(""),[n,i]=w.useState(""),[l,o]=w.useState(""),[c,d]=w.useState(""),[u,f]=w.useState(""),x=w.useMemo(()=>_Ue.filter(p=>{const v=e?p.user.toLowerCase().includes(e.toLowerCase()):!0,g=a?p.type===a:!0,b=n?p.module===n:!0,j=u?`${p.description} ${p.target}`.toLowerCase().includes(u.toLowerCase()):!0,N=l?p.ts>=l:!0,S=c?p.ts<=c:!0;return v&&g&&b&&j&&N&&S}),[e,a,n,l,c,u]);return s.jsx(ea,{title:"User Management  Activity Logs",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Activity Logs"}),s.jsxs("div",{className:"glass-panel rounded-xl p-3 mb-3 grid grid-cols-1 md:grid-cols-6 gap-3",children:[s.jsx("input",{className:"input-soft",placeholder:"Filter by user",value:e,onChange:p=>t(p.target.value)}),s.jsx(rr,{className:"w-full",options:TUe,value:a,onChange:p=>r(p),placeholder:"Action Type"}),s.jsx(rr,{className:"w-full",options:EUe,value:n,onChange:p=>i(p),placeholder:"Module"}),s.jsx("input",{type:"date",className:"input-soft",value:l,onChange:p=>o(p.target.value)}),s.jsx("input",{type:"date",className:"input-soft",value:c,onChange:p=>d(p.target.value)}),s.jsx("input",{className:"input-soft",placeholder:"Search description/target",value:u,onChange:p=>f(p.target.value)})]}),s.jsxs("div",{className:"flex gap-2 mb-3",children:[s.jsx("button",{className:"btn btn-ghost",children:"Export PDF"}),s.jsx("button",{className:"btn btn-ghost",children:"Export Excel"})]}),s.jsx("div",{className:"glass-panel rounded-xl overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"thead-soft",children:[s.jsx("th",{children:"Action Type"}),s.jsx("th",{children:"Performed By"}),s.jsx("th",{children:"Target"}),s.jsx("th",{children:"Description"}),s.jsx("th",{children:"Timestamp"}),s.jsx("th",{children:"IP Address"})]})}),s.jsx("tbody",{children:x.map((p,v)=>s.jsxs("tr",{children:[s.jsx("td",{children:p.type}),s.jsx("td",{children:p.user}),s.jsx("td",{children:p.target}),s.jsx("td",{children:p.description}),s.jsx("td",{children:p.ts}),s.jsx("td",{children:p.ip})]},v))})]})})]})})}const MUe=[{user:"Ibrahim",login:"2025-11-18 10:24",logout:"2025-11-18 18:04",ip:"192.168.1.12",location:"Cairo",device:"Windows PC",browser:"Chrome"},{user:"Sara",login:"2025-11-17 09:14",logout:"2025-11-17 17:01",ip:"192.168.1.18",location:"Giza",device:"MacBook",browser:"Safari"},{user:"Mohamed",login:"2025-11-16 08:33",logout:"2025-11-16 16:22",ip:"192.168.1.21",location:"Alexandria",device:"iPhone",browser:"Safari"}],PUe=["Windows PC","MacBook","Linux PC","iPhone","Android"];function LUe(){const[e,t]=w.useState(""),[a,r]=w.useState(""),[n,i]=w.useState(""),[l,o]=w.useState(""),c=w.useMemo(()=>MUe.filter(d=>{const u=e?d.user.toLowerCase().includes(e.toLowerCase()):!0,f=l?d.device===l:!0,x=a?d.login>=a:!0,p=n?d.login<=n:!0;return u&&f&&x&&p}),[e,l,a,n]);return s.jsx(ea,{title:"User Management  User Access Logs",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-4",children:"User Access Logs"}),s.jsxs("div",{className:"glass-panel rounded-xl p-3 mb-3 grid grid-cols-1 md:grid-cols-5 gap-3",children:[s.jsx("input",{className:"input-soft",placeholder:"Filter by user",value:e,onChange:d=>t(d.target.value)}),s.jsx("input",{type:"date",className:"input-soft",value:a,onChange:d=>r(d.target.value)}),s.jsx("input",{type:"date",className:"input-soft",value:n,onChange:d=>i(d.target.value)}),s.jsx(rr,{className:"w-full",options:PUe,value:l,onChange:d=>o(d),placeholder:"Device Type"}),s.jsx("button",{className:"btn btn-ghost",children:"Export"})]}),s.jsx("div",{className:"glass-panel rounded-xl overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"thead-soft",children:[s.jsx("th",{children:"User"}),s.jsx("th",{children:"Login Time"}),s.jsx("th",{children:"Logout Time"}),s.jsx("th",{children:"IP Address"}),s.jsx("th",{children:"Location"}),s.jsx("th",{children:"Device"}),s.jsx("th",{children:"Browser"})]})}),s.jsx("tbody",{children:c.map((d,u)=>s.jsxs("tr",{children:[s.jsx("td",{children:d.user}),s.jsx("td",{children:d.login}),s.jsx("td",{children:d.logout}),s.jsx("td",{children:d.ip}),s.jsx("td",{children:d.location}),s.jsx("td",{children:d.device}),s.jsx("td",{children:d.browser})]},u))})]})})]})})}const OUe=[{name:"Admin",users:3,createdAt:"2025-01-01",updatedAt:"2025-11-10"},{name:"Manager",users:5,createdAt:"2025-02-12",updatedAt:"2025-11-09"},{name:"Agent",users:12,createdAt:"2025-03-05",updatedAt:"2025-10-30"},{name:"Viewer",users:4,createdAt:"2025-04-15",updatedAt:"2025-09-22"}];function RUe(){const e=ti(),[t,a]=w.useState(""),[r,n]=w.useState(OUe),i=w.useMemo(()=>r.filter(o=>o.name.toLowerCase().includes(t.toLowerCase())),[r,t]),l=o=>{window.confirm("Delete this role?")&&n(c=>c.filter(d=>d.name!==o))};return s.jsx(ea,{title:"User Management  Roles & Permissions",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Roles & Permissions"}),s.jsx(xr,{to:"/user-management/roles/new",className:"btn btn-primary",children:"Add New Role"})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-3 mb-3 flex gap-2",children:[s.jsx("input",{className:"input-soft",placeholder:"Search roles",value:t,onChange:o=>a(o.target.value)}),s.jsx("button",{className:"btn btn-ghost",children:"Export"})]}),s.jsx("div",{className:"glass-panel rounded-xl overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"thead-soft",children:[s.jsx("th",{children:"Role Name"}),s.jsx("th",{children:"Number of Users"}),s.jsx("th",{children:"Created At"}),s.jsx("th",{children:"Updated At"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:i.map(o=>s.jsxs("tr",{children:[s.jsx("td",{className:"font-medium",children:o.name}),s.jsx("td",{children:o.users}),s.jsx("td",{children:o.createdAt}),s.jsx("td",{children:o.updatedAt}),s.jsx("td",{children:s.jsx(_J,{onEdit:()=>e(`/user-management/roles/${o.name}`),onToggleActive:()=>{},onDelete:()=>l(o.name)})})]},o.name))})]})})]})})}const FUe={Tickets:["view","create","update","delete","assign","close"],Customers:["view","create","update","delete"],SLA:["view","create","update","delete"],Reports:["view","export"],"User Management":["view","create","update","delete","changeRole"],Settings:["view","update"],Integrations:["view","configure"],"Custom Modules":["view","create","update","delete"]};function IUe(){const e=ti(),{id:t}=Yee(),[a,r]=w.useState(t||""),[n,i]=w.useState(""),[l,o]=w.useState({}),[c,d]=w.useState({}),u=(x,p)=>{o(v=>{const g=new Set(v[x]||[]);return g.has(p)?g.delete(p):g.add(p),{...v,[x]:Array.from(g)}})},f=x=>{x.preventDefault();const p={};if(a.trim()||(p.roleName="Role Name is required"),d(p),Object.keys(p).length)return;console.log("Save Role payload",{roleName:a,description:n,permissions:l}),alert("Role saved (mock)."),e("/user-management/roles")};return s.jsx(ea,{title:`Role  ${a||"New Role"}`,children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-4",children:t?"Edit Role":"Add Role"}),s.jsxs("form",{onSubmit:f,className:"space-y-6",children:[s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsx("div",{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Role Name"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:a,onChange:x=>r(x.target.value)}),c.roleName&&s.jsx("p",{className:"text-error text-sm mt-1",children:c.roleName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Description"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:n,onChange:x=>i(x.target.value)})]})]})})}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"card-title",children:"Permissions"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:Object.entries(FUe).map(([x,p])=>s.jsxs("div",{className:"glass-panel rounded-lg p-3",children:[s.jsx("div",{className:"font-medium mb-2",children:x}),s.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(v=>{const g=(l[x]||[]).includes(v);return s.jsxs("label",{className:"cursor-pointer flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"checkbox",checked:g,onChange:()=>u(x,v)}),s.jsx("span",{children:v})]},v)})})]},x))})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"}),s.jsx("button",{type:"button",className:"btn",onClick:()=>e("/user-management/roles"),children:"Cancel"})]})]})]})})}function mk({moduleKey:e}){return s.jsx(Sj,{})}function BUe(){return s.jsx(Sj,{})}function $Ue(){return s.jsx(Sj,{})}function UUe(){const{i18n:e}=Et();return s.jsx("div",{className:e.language==="ar"?"rtl":"ltr",children:s.jsxs(dte,{children:[s.jsx(_t,{path:"/",element:s.jsx(gUe,{})}),s.jsx(_t,{path:"/login",element:s.jsx(ude,{})}),s.jsx(_t,{path:"/subscription-expired",element:s.jsx(pUe,{})}),s.jsx(_t,{path:"/upgrade",element:s.jsx(xUe,{})}),s.jsx(_t,{path:"/pricing",element:s.jsx(vUe,{})}),s.jsx(_t,{path:"/about",element:s.jsx(O6e,{})}),s.jsx(_t,{path:"/privacy",element:s.jsx(M6e,{})}),s.jsx(_t,{path:"/terms",element:s.jsx(P6e,{})}),s.jsx(_t,{path:"/welcome/contact",element:s.jsx(L6e,{})}),s.jsx(_t,{element:s.jsx(BUe,{}),children:s.jsxs(_t,{element:s.jsx(ea,{}),children:[s.jsx(_t,{path:"/dashboard",element:s.jsx(Noe,{})}),s.jsx(_t,{path:"/customers",element:s.jsx(hde,{})}),s.jsx(_t,{path:"/support",element:s.jsx(S4e,{})}),s.jsx(_t,{path:"/support/tickets",element:s.jsx(A4e,{})}),s.jsx(_t,{path:"/support/customers",element:s.jsx(_4e,{})}),s.jsx(_t,{path:"/support/sla",element:s.jsx(T4e,{})}),s.jsx(_t,{path:"/support/reports",element:s.jsx(E4e,{})}),s.jsx(_t,{path:"/support/feedbacks",element:s.jsx(D4e,{})}),s.jsx(_t,{path:"/sales",element:s.jsx(s5,{to:"/sales/opportunities",replace:!0})}),s.jsx(_t,{path:"/sales/opportunities",element:s.jsx(Rye,{})}),s.jsx(_t,{path:"/sales/quotations",element:s.jsx(Iye,{})}),s.jsx(_t,{path:"/sales/orders",element:s.jsx($ye,{})}),s.jsx(_t,{path:"/sales/invoices",element:s.jsx(zye,{})}),s.jsxs(_t,{element:s.jsx(mk,{moduleKey:"leads"}),children:[s.jsx(_t,{path:"/leads",element:s.jsx(fye,{})}),s.jsx(_t,{path:"/leads/new",element:s.jsx(gye,{})}),s.jsx(_t,{path:"/recycle",element:s.jsx(pye,{})})]}),s.jsx(_t,{path:"/inventory/projects",element:s.jsx(M4e,{})}),s.jsx(_t,{path:"/inventory/properties",element:s.jsx(V4e,{})}),s.jsx(_t,{path:"/inventory/requests",element:s.jsx(Q4e,{})}),s.jsx(_t,{path:"/inventory/buyer-requests",element:s.jsx(J4e,{})}),s.jsx(_t,{path:"/inventory/seller-requests",element:s.jsx(Z4e,{})}),s.jsx(_t,{path:"/inventory/dev-companies",element:s.jsx(e5e,{})}),s.jsxs(_t,{element:s.jsx(mk,{moduleKey:"campaigns"}),children:[s.jsx(_t,{path:"/marketing",element:s.jsx(s5e,{})}),s.jsx(_t,{path:"/marketing/campaigns",element:s.jsx(S6e,{})}),s.jsx(_t,{path:"/marketing/landing-pages",element:s.jsx(k6e,{})}),s.jsx(_t,{path:"/marketing/landing-pages/add",element:s.jsx(R6e,{})}),s.jsx(_t,{path:"/marketing/meta-integration",element:s.jsx(C6e,{})}),s.jsx(_t,{path:"/marketing/reports",element:s.jsx(s9,{})}),s.jsx(_t,{path:"/marketing/reports/campaign-summary",element:s.jsx(s9,{})}),s.jsx(_t,{path:"/marketing/reports/lead-source-performance",element:s.jsx(_6e,{})}),s.jsx(_t,{path:"/marketing/reports/cost-vs-revenue",element:s.jsx(T6e,{})}),s.jsx(_t,{path:"/marketing/reports/monthly-overview",element:s.jsx(E6e,{})})]}),s.jsx(_t,{path:"/reports",element:s.jsx(fk,{})}),s.jsx(_t,{path:"/reports/overview",element:s.jsx(fk,{})}),s.jsx(_t,{path:"/reports/dashboard",element:s.jsx(fk,{})}),s.jsx(_t,{path:"/reports/sales",element:s.jsx($6e,{})}),s.jsx(_t,{path:"/reports/sales/activities",element:s.jsx(lUe,{})}),s.jsx(_t,{path:"/reports/sales/pipeline",element:s.jsx(cUe,{})}),s.jsx(_t,{path:"/reports/sales/reservations",element:s.jsx(dUe,{})}),s.jsx(_t,{path:"/reports/sales/closed-deals",element:s.jsx(uUe,{})}),s.jsx(_t,{path:"/reports/sales/rent",element:s.jsx(hUe,{})}),s.jsx(_t,{path:"/reports/sales/check-in",element:s.jsx(fUe,{})}),s.jsx(_t,{path:"/reports/sales/customers",element:s.jsx(mUe,{})}),s.jsx(_t,{path:"/reports/sales/imports",element:s.jsx(iUe,{})}),s.jsx(_t,{path:"/reports/sales/exports",element:s.jsx(i$,{})}),s.jsx(_t,{path:"/exports",element:s.jsx(i$,{})}),s.jsx(_t,{path:"/reports/sales/meetings",element:s.jsx(nUe,{})}),s.jsx(_t,{path:"/reports/leads",element:s.jsx(sUe,{})}),s.jsx(_t,{path:"/reports/team",element:s.jsx(uk,{})}),s.jsx(_t,{path:"/reports/sms",element:s.jsx(n9,{titleKey:"Sms Report",descKey:"reports.sms.desc"})}),s.jsx(_t,{path:"/reports/calls",element:s.jsx(n9,{titleKey:"Calls Report",descKey:"reports.calls.desc"})}),s.jsx(_t,{path:"/reports/performance",element:s.jsx(uk,{})}),s.jsx(_t,{path:"/team-performance",element:s.jsx(uk,{})}),s.jsxs(_t,{element:s.jsx(mk,{moduleKey:"settings"}),children:[s.jsx(_t,{path:"/settings",element:s.jsx(s5,{to:"/settings/profile",replace:!0})}),s.jsx(_t,{path:"/settings/profile",element:s.jsx(Wke,{})}),s.jsx(_t,{path:"/settings/profile/company",element:s.jsx(qke,{})}),s.jsx(_t,{path:"/settings/profile/contact-info",element:s.jsx(Qke,{})}),s.jsx(_t,{path:"/settings/system/preferences",element:s.jsx(Jke,{})}),s.jsx(_t,{path:"/settings/system/modules",element:s.jsx(Zke,{})}),s.jsx(_t,{path:"/settings/system/security",element:s.jsx(eCe,{})}),s.jsx(_t,{path:"/settings/system/custom-fields",element:s.jsx(tCe,{})}),s.jsx(_t,{path:"/settings/system/audit-logs",element:s.jsx(aCe,{})}),s.jsx(_t,{path:"/settings/company-setup",element:s.jsx(s5,{to:"/settings/company-setup/info",replace:!0})}),s.jsx(_t,{path:"/settings/company-setup/info",element:s.jsx(w.Suspense,{fallback:s.jsx("div",{className:"p-4 text-sm",children:"Loading"}),children:s.jsx(zUe,{})})}),s.jsx(_t,{path:"/settings/company-setup/subscription",element:s.jsx(w.Suspense,{fallback:s.jsx("div",{className:"p-4 text-sm",children:"Loading"}),children:s.jsx(HUe,{})})}),s.jsx(_t,{path:"/settings/company-setup/modules",element:s.jsx(w.Suspense,{fallback:s.jsx("div",{className:"p-4 text-sm",children:"Loading"}),children:s.jsx(VUe,{})})}),s.jsx(_t,{path:"/settings/company-setup/departments",element:s.jsx(w.Suspense,{fallback:s.jsx("div",{className:"p-4 text-sm",children:"Loading"}),children:s.jsx(WUe,{})})}),s.jsx(_t,{path:"/settings/company-setup/visibility",element:s.jsx(w.Suspense,{fallback:s.jsx("div",{className:"p-4 text-sm",children:"Loading"}),children:s.jsx(qUe,{})})}),s.jsxs(_t,{element:s.jsx($Ue,{}),children:[" ",s.jsx(_t,{path:"/settings/billing/subscription",element:s.jsx(rCe,{})})," "]}),s.jsx(_t,{path:"/settings/billing/payment-history",element:s.jsx(sCe,{})}),s.jsx(_t,{path:"/settings/billing/plans-upgrade",element:s.jsx(nCe,{})}),s.jsx(_t,{path:"/settings/integrations/api-keys",element:s.jsx(iCe,{})}),s.jsx(_t,{path:"/settings/integrations/webhooks",element:s.jsx(lCe,{})}),s.jsx(_t,{path:"/settings/integrations/whatsapp",element:s.jsx(uCe,{})}),s.jsx(_t,{path:"/settings/integrations/payment-gateway",element:s.jsx(hCe,{})}),s.jsx(_t,{path:"/settings/integrations/google-slack",element:s.jsx(fCe,{})}),s.jsx(_t,{path:"/settings/data/import",element:s.jsx(mCe,{})}),s.jsx(_t,{path:"/settings/data/export",element:s.jsx(pCe,{})}),s.jsx(_t,{path:"/settings/data/backup",element:s.jsx(xCe,{})}),s.jsx(_t,{path:"/settings/operations/scripting",element:s.jsx(bCe,{})}),s.jsx(_t,{path:"/settings/operations/eoi",element:s.jsx(jCe,{})}),s.jsx(_t,{path:"/settings/operations/reservation",element:s.jsx(kCe,{})}),s.jsx(_t,{path:"/settings/operations/rotation",element:s.jsx(GCe,{})}),s.jsx(_t,{path:"/settings/operations/contracts",element:s.jsx(XCe,{})}),s.jsx(_t,{path:"/settings/operations/buyer-request-reset",element:s.jsx(e6e,{})}),s.jsx(_t,{path:"/settings/operations/matching",element:s.jsx(l6e,{})}),s.jsx(_t,{path:"/settings/operations/rent",element:s.jsx(m6e,{})}),s.jsx(_t,{path:"/settings/operations/cil",element:s.jsx(x6e,{})})]}),s.jsx(_t,{path:"/user-management/users",element:s.jsx(NUe,{})}),s.jsx(_t,{path:"/user-management/users/new",element:s.jsx(AUe,{})}),s.jsx(_t,{path:"/user-management/activity-logs",element:s.jsx(DUe,{})}),s.jsx(_t,{path:"/user-management/access-logs",element:s.jsx(LUe,{})}),s.jsx(_t,{path:"/user-management/roles",element:s.jsx(RUe,{})}),s.jsx(_t,{path:"/user-management/roles/:name",element:s.jsx(IUe,{})}),s.jsx(_t,{path:"/inventory/products",element:s.jsx(g6e,{})}),s.jsx(_t,{path:"/inventory/items",element:s.jsx(v6e,{})}),s.jsx(_t,{path:"/inventory/stock-management",element:s.jsx(b6e,{})}),s.jsx(_t,{path:"/inventory/transactions",element:s.jsx(y6e,{})}),s.jsx(_t,{path:"/inventory/warehouse",element:s.jsx(j6e,{})}),s.jsx(_t,{path:"/inventory/suppliers",element:s.jsx(w6e,{})}),s.jsx(_t,{path:"/contact",element:s.jsx(D6e,{})}),s.jsx(_t,{path:"/tasks",element:s.jsx(B6e,{})}),s.jsx(_t,{path:"/notifications",element:s.jsx(Eye,{})})]})})]})})}const zUe=w.lazy(()=>yi(()=>import("./CompanyInfoPage-iPOpKrnU.js"),__vite__mapDeps([0,1]))),HUe=w.lazy(()=>yi(()=>import("./SubscriptionPage-BhEsbfjQ.js"),__vite__mapDeps([2,1]))),VUe=w.lazy(()=>yi(()=>import("./ModulesPage-B-vX98IM.js"),__vite__mapDeps([3,1]))),WUe=w.lazy(()=>yi(()=>import("./DepartmentsPage-CEkQ0Ikb.js"),__vite__mapDeps([4,1]))),qUe=w.lazy(()=>yi(()=>import("./VisibilityPage-C30QYqCq.js"),__vite__mapDeps([5,1])));function GUe(){const{i18n:e}=Et();return s.jsx("div",{className:e.language==="ar"?"rtl":"ltr",children:s.jsx(UUe,{})})}const KUe=w.createContext({show:()=>{}}),YUe=({children:e})=>{const[t,a]=w.useState([]),r=w.useCallback(i=>{const l=Math.random().toString(36).slice(2),o={id:l,type:i?.type||"info",message:i?.message||""};a(c=>[...c,o]),setTimeout(()=>{a(c=>c.filter(d=>d.id!==l))},3500)},[]);w.useEffect(()=>{const i=l=>r(l.detail);return window.addEventListener("app:toast",i),()=>window.removeEventListener("app:toast",i)},[r]);const n=w.useMemo(()=>({show:r}),[r]);return s.jsxs(KUe.Provider,{value:n,children:[e,s.jsx("div",{className:"fixed bottom-4 right-4 space-y-2 z-50",children:t.map(i=>s.jsx("div",{className:`${i.type==="error"?"bg-red-600":i.type==="success"?"bg-green-600":"bg-slate-700"} text-white px-4 py-2 rounded shadow`,children:i.message},i.id))})]})};class XUe extends In.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,a){try{const r=new CustomEvent("app:toast",{detail:{type:"error",message:t?.message||"Unexpected error"}});window.dispatchEvent(r)}catch{}}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"p-6 rounded-lg border bg-white/80 dark:bg-neutral-900",children:s.jsx("div",{className:"text-red-600 font-semibold",children:"Something went wrong"})})}):this.props.children}}const xb=e=>new Promise(t=>setTimeout(t,e));async function QUe(){return await xb(250),{companyInfo:{companyName:"Be Souhola",industry:"Real Estate",address:"123 Example St, Cairo",phone:"+20 111 222 3333",logoUrl:""},subscription:{plan:"Pro",features:["settings","leads","clients","deals","reservations","contracts","operations","matching","billing","reports","notifications","integrations"]},enabledModules:["settings","leads","clients","deals","reservations","contracts","operations","matching","billing","reports","notifications","integrations"],departments:[{id:"dept-sales",name:"Sales",role:"Sales",users:12},{id:"dept-ops",name:"Operations",role:"Ops",users:9},{id:"dept-fin",name:"Finance",role:"Finance",users:5}],visibility:{Sales:["settings","leads","deals","reports"],Operations:["settings","contracts","matching","reservations","operations"],Finance:["settings","billing","contracts","reports"]}}}async function JUe(e){return await xb(200),{status:200,data:{ok:!0,companyInfo:e}}}async function ZUe(e){return await xb(200),{status:200,data:{ok:!0,enabledModules:e}}}async function c$(e){return await xb(200),{status:200,data:{ok:!0,departments:e}}}async function eze(e){return await xb(200),{status:200,data:{ok:!0,visibility:e}}}const EJ=w.createContext(null);function tze({children:e}){const[t,a]=w.useState({companyName:"",industry:"",address:"",phone:"",logoUrl:""}),[r,n]=w.useState({plan:"Free",features:[]}),[i,l]=w.useState([]),[o,c]=w.useState([]),[d,u]=w.useState({}),[f,x]=w.useState(!1),p=w.useMemo(()=>({modules:i,departments:d}),[i,d]),v=w.useCallback(async k=>{a(A=>({...A,...k}));try{await JUe(k)}catch{}},[]),g=w.useCallback(async k=>{l(A=>A.includes(k)?A.filter(L=>L!==k):[...A,k]);try{await ZUe(i)}catch{}},[i]),b=w.useCallback(async k=>{c(A=>[...A,{...k,id:k.id||`dept-${Date.now()}`}]);try{await c$(o)}catch{}},[o]),j=w.useCallback(async(k,A)=>{c(_=>_.map(M=>M.id===k?{...M,...A}:M));try{await c$(o)}catch{}},[o]),N=w.useCallback(async k=>{u(k);try{await eze(k)}catch{}},[]);w.useEffect(()=>{let k=!0;return(async()=>{x(!0);try{const A=await QUe();if(!k)return;a(A.companyInfo||{}),n(A.subscription||{plan:"Free",features:[]}),l(Array.isArray(A.enabledModules)?A.enabledModules:[]),c(Array.isArray(A.departments)?A.departments:[]),u(A.visibility||{})}finally{k&&x(!1)}})(),()=>{k=!1}},[]);const S=w.useMemo(()=>({companySetup:{companyInfo:t,subscription:r,enabledModules:i,departments:o,visibility:d},permissions:p,loading:f,updateCompanyInfo:v,toggleModule:g,addDepartment:b,updateDepartment:j,updateVisibility:N}),[t,r,i,o,d,p,f,v,g,b,j,N]);return s.jsx(EJ.Provider,{value:S,children:e})}function Yze(){const e=w.useContext(EJ);if(!e)throw new Error("useCompanySetup must be used within CompanySetupProvider");return e}Nr.register(...xle);try{if(typeof window<"u"&&window.localStorage){const e=window.localStorage.getItem("systemPrefs");if(e){const t=JSON.parse(e);t&&(Nr.defaults.elements=Nr.defaults.elements||{},Nr.defaults.elements.bar={...Nr.defaults.elements.bar||{},borderRadius:t.chartsRounded?6:0},Nr.defaults.scales={...Nr.defaults.scales||{},x:{...Nr.defaults.scales?.x||{},stacked:!!t.chartsStacked},y:{...Nr.defaults.scales?.y||{},stacked:!!t.chartsStacked}})}}}catch{}const aze=new pee;HZ.createRoot(document.getElementById("root")).render(s.jsx(w.StrictMode,{children:s.jsx(rae,{i18n:Rs,children:s.jsx(gee,{client:aze,children:s.jsx(Pte,{children:s.jsx(YUe,{children:s.jsx(Ule,{children:s.jsx(dde,{children:s.jsx(tze,{children:s.jsx(XUe,{children:s.jsx(GUe,{})})})})})})})})})}));export{ea as L,Vr as _,rze as c,vh as g,s as j,w as r,Yze as u};
//# sourceMappingURL=index-BgUKnQcH.js.map
