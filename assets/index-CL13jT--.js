const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CompanyInfoPage-BPhVWoi6.js","assets/SaveButton-CEaUJRc1.js","assets/SubscriptionPage-CFUaMW0R.js","assets/ModulesPage-BmaiiH-i.js","assets/DepartmentsPage-hqLqYwrJ.js","assets/VisibilityPage-BkrEw5BS.js"])))=>i.map(i=>d[i]);
function eee(e,t){for(var a=0;a<t.length;a++){const r=t[a];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(r,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();var fHe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var r5={exports:{}},_g={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T7;function tee(){if(T7)return _g;T7=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(r,n,i){var l=null;if(i!==void 0&&(l=""+i),n.key!==void 0&&(l=""+n.key),"key"in n){i={};for(var o in n)o!=="key"&&(i[o]=n[o])}else i=n;return n=i.ref,{$$typeof:e,type:r,key:l,ref:n!==void 0?n:null,props:i}}return _g.Fragment=t,_g.jsx=a,_g.jsxs=a,_g}var E7;function aee(){return E7||(E7=1,r5.exports=tee()),r5.exports}var s=aee(),n5={exports:{}},Qa={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D7;function see(){if(D7)return Qa;D7=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function p(K){return K===null||typeof K!="object"?null:(K=f&&K[f]||K["@@iterator"],typeof K=="function"?K:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function b(K,oe,D){this.props=K,this.context=oe,this.refs=g,this.updater=D||m}b.prototype.isReactComponent={},b.prototype.setState=function(K,oe){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,oe,"setState")},b.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function j(){}j.prototype=b.prototype;function N(K,oe,D){this.props=K,this.context=oe,this.refs=g,this.updater=D||m}var k=N.prototype=new j;k.constructor=N,v(k,b.prototype),k.isPureReactComponent=!0;var S=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function P(K,oe,D,G,H,X){return D=X.ref,{$$typeof:e,type:K,key:oe,ref:D!==void 0?D:null,props:X}}function L(K,oe){return P(K.type,oe,void 0,void 0,void 0,K.props)}function U(K){return typeof K=="object"&&K!==null&&K.$$typeof===e}function z(K){var oe={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(D){return oe[D]})}var T=/\/+/g;function F(K,oe){return typeof K=="object"&&K!==null&&K.key!=null?z(""+K.key):oe.toString(36)}function M(){}function I(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(M,M):(K.status="pending",K.then(function(oe){K.status==="pending"&&(K.status="fulfilled",K.value=oe)},function(oe){K.status==="pending"&&(K.status="rejected",K.reason=oe)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function W(K,oe,D,G,H){var X=typeof K;(X==="undefined"||X==="boolean")&&(K=null);var se=!1;if(K===null)se=!0;else switch(X){case"bigint":case"string":case"number":se=!0;break;case"object":switch(K.$$typeof){case e:case t:se=!0;break;case u:return se=K._init,W(se(K._payload),oe,D,G,H)}}if(se)return H=H(K),se=G===""?"."+F(K,0):G,S(H)?(D="",se!=null&&(D=se.replace(T,"$&/")+"/"),W(H,oe,D,"",function(J){return J})):H!=null&&(U(H)&&(H=L(H,D+(H.key==null||K&&K.key===H.key?"":(""+H.key).replace(T,"$&/")+"/")+se)),oe.push(H)),1;se=0;var ie=G===""?".":G+":";if(S(K))for(var ne=0;ne<K.length;ne++)G=K[ne],X=ie+F(G,ne),se+=W(G,oe,D,X,H);else if(ne=p(K),typeof ne=="function")for(K=ne.call(K),ne=0;!(G=K.next()).done;)G=G.value,X=ie+F(G,ne++),se+=W(G,oe,D,X,H);else if(X==="object"){if(typeof K.then=="function")return W(I(K),oe,D,G,H);throw oe=String(K),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return se}function R(K,oe,D){if(K==null)return K;var G=[],H=0;return W(K,G,"","",function(X){return oe.call(D,X,H++)}),G}function q(K){if(K._status===-1){var oe=K._result;oe=oe(),oe.then(function(D){(K._status===0||K._status===-1)&&(K._status=1,K._result=D)},function(D){(K._status===0||K._status===-1)&&(K._status=2,K._result=D)}),K._status===-1&&(K._status=0,K._result=oe)}if(K._status===1)return K._result.default;throw K._result}var ae=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function te(){}return Qa.Children={map:R,forEach:function(K,oe,D){R(K,function(){oe.apply(this,arguments)},D)},count:function(K){var oe=0;return R(K,function(){oe++}),oe},toArray:function(K){return R(K,function(oe){return oe})||[]},only:function(K){if(!U(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},Qa.Component=b,Qa.Fragment=a,Qa.Profiler=n,Qa.PureComponent=N,Qa.StrictMode=r,Qa.Suspense=c,Qa.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Qa.__COMPILER_RUNTIME={__proto__:null,c:function(K){return C.H.useMemoCache(K)}},Qa.cache=function(K){return function(){return K.apply(null,arguments)}},Qa.cloneElement=function(K,oe,D){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var G=v({},K.props),H=K.key,X=void 0;if(oe!=null)for(se in oe.ref!==void 0&&(X=void 0),oe.key!==void 0&&(H=""+oe.key),oe)!_.call(oe,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&oe.ref===void 0||(G[se]=oe[se]);var se=arguments.length-2;if(se===1)G.children=D;else if(1<se){for(var ie=Array(se),ne=0;ne<se;ne++)ie[ne]=arguments[ne+2];G.children=ie}return P(K.type,H,void 0,void 0,X,G)},Qa.createContext=function(K){return K={$$typeof:l,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:i,_context:K},K},Qa.createElement=function(K,oe,D){var G,H={},X=null;if(oe!=null)for(G in oe.key!==void 0&&(X=""+oe.key),oe)_.call(oe,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(H[G]=oe[G]);var se=arguments.length-2;if(se===1)H.children=D;else if(1<se){for(var ie=Array(se),ne=0;ne<se;ne++)ie[ne]=arguments[ne+2];H.children=ie}if(K&&K.defaultProps)for(G in se=K.defaultProps,se)H[G]===void 0&&(H[G]=se[G]);return P(K,X,void 0,void 0,null,H)},Qa.createRef=function(){return{current:null}},Qa.forwardRef=function(K){return{$$typeof:o,render:K}},Qa.isValidElement=U,Qa.lazy=function(K){return{$$typeof:u,_payload:{_status:-1,_result:K},_init:q}},Qa.memo=function(K,oe){return{$$typeof:d,type:K,compare:oe===void 0?null:oe}},Qa.startTransition=function(K){var oe=C.T,D={};C.T=D;try{var G=K(),H=C.S;H!==null&&H(D,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(te,ae)}catch(X){ae(X)}finally{C.T=oe}},Qa.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Qa.use=function(K){return C.H.use(K)},Qa.useActionState=function(K,oe,D){return C.H.useActionState(K,oe,D)},Qa.useCallback=function(K,oe){return C.H.useCallback(K,oe)},Qa.useContext=function(K){return C.H.useContext(K)},Qa.useDebugValue=function(){},Qa.useDeferredValue=function(K,oe){return C.H.useDeferredValue(K,oe)},Qa.useEffect=function(K,oe,D){var G=C.H;if(typeof D=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(K,oe)},Qa.useId=function(){return C.H.useId()},Qa.useImperativeHandle=function(K,oe,D){return C.H.useImperativeHandle(K,oe,D)},Qa.useInsertionEffect=function(K,oe){return C.H.useInsertionEffect(K,oe)},Qa.useLayoutEffect=function(K,oe){return C.H.useLayoutEffect(K,oe)},Qa.useMemo=function(K,oe){return C.H.useMemo(K,oe)},Qa.useOptimistic=function(K,oe){return C.H.useOptimistic(K,oe)},Qa.useReducer=function(K,oe,D){return C.H.useReducer(K,oe,D)},Qa.useRef=function(K){return C.H.useRef(K)},Qa.useState=function(K){return C.H.useState(K)},Qa.useSyncExternalStore=function(K,oe,D){return C.H.useSyncExternalStore(K,oe,D)},Qa.useTransition=function(){return C.H.useTransition()},Qa.version="19.1.1",Qa}var M7;function bx(){return M7||(M7=1,n5.exports=see()),n5.exports}var y=bx();const Bn=xh(y),ree=eee({__proto__:null,default:Bn},[y]);var i5={exports:{}},Tg={},l5={exports:{}},o5={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P7;function nee(){return P7||(P7=1,(function(e){function t(R,q){var ae=R.length;R.push(q);e:for(;0<ae;){var te=ae-1>>>1,K=R[te];if(0<n(K,q))R[te]=q,R[ae]=K,ae=te;else break e}}function a(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var q=R[0],ae=R.pop();if(ae!==q){R[0]=ae;e:for(var te=0,K=R.length,oe=K>>>1;te<oe;){var D=2*(te+1)-1,G=R[D],H=D+1,X=R[H];if(0>n(G,ae))H<K&&0>n(X,G)?(R[te]=X,R[H]=ae,te=H):(R[te]=G,R[D]=ae,te=D);else if(H<K&&0>n(X,ae))R[te]=X,R[H]=ae,te=H;else break e}}return q}function n(R,q){var ae=R.sortIndex-q.sortIndex;return ae!==0?ae:R.id-q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,f=null,p=3,m=!1,v=!1,g=!1,b=!1,j=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function S(R){for(var q=a(d);q!==null;){if(q.callback===null)r(d);else if(q.startTime<=R)r(d),q.sortIndex=q.expirationTime,t(c,q);else break;q=a(d)}}function C(R){if(g=!1,S(R),!v)if(a(c)!==null)v=!0,_||(_=!0,F());else{var q=a(d);q!==null&&W(C,q.startTime-R)}}var _=!1,P=-1,L=5,U=-1;function z(){return b?!0:!(e.unstable_now()-U<L)}function T(){if(b=!1,_){var R=e.unstable_now();U=R;var q=!0;try{e:{v=!1,g&&(g=!1,N(P),P=-1),m=!0;var ae=p;try{t:{for(S(R),f=a(c);f!==null&&!(f.expirationTime>R&&z());){var te=f.callback;if(typeof te=="function"){f.callback=null,p=f.priorityLevel;var K=te(f.expirationTime<=R);if(R=e.unstable_now(),typeof K=="function"){f.callback=K,S(R),q=!0;break t}f===a(c)&&r(c),S(R)}else r(c);f=a(c)}if(f!==null)q=!0;else{var oe=a(d);oe!==null&&W(C,oe.startTime-R),q=!1}}break e}finally{f=null,p=ae,m=!1}q=void 0}}finally{q?F():_=!1}}}var F;if(typeof k=="function")F=function(){k(T)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,I=M.port2;M.port1.onmessage=T,F=function(){I.postMessage(null)}}else F=function(){j(T,0)};function W(R,q){P=j(function(){R(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(R){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var ae=p;p=q;try{return R()}finally{p=ae}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(R,q){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var ae=p;p=R;try{return q()}finally{p=ae}},e.unstable_scheduleCallback=function(R,q,ae){var te=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?te+ae:te):ae=te,R){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ae+K,R={id:u++,callback:q,priorityLevel:R,startTime:ae,expirationTime:K,sortIndex:-1},ae>te?(R.sortIndex=ae,t(d,R),a(c)===null&&R===a(d)&&(g?(N(P),P=-1):g=!0,W(C,ae-te))):(R.sortIndex=K,t(c,R),v||m||(v=!0,_||(_=!0,F()))),R},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(R){var q=p;return function(){var ae=p;p=q;try{return R.apply(this,arguments)}finally{p=ae}}}})(o5)),o5}var L7;function iee(){return L7||(L7=1,l5.exports=nee()),l5.exports}var c5={exports:{}},Ki={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O7;function lee(){if(O7)return Ki;O7=1;var e=bx();function t(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)d+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},n=Symbol.for("react.portal");function i(c,d,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:f==null?null:""+f,children:c,containerInfo:d,implementation:u}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ki.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ki.createPortal=function(c,d){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return i(c,d,null,u)},Ki.flushSync=function(c){var d=l.T,u=r.p;try{if(l.T=null,r.p=2,c)return c()}finally{l.T=d,r.p=u,r.d.f()}},Ki.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},Ki.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Ki.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var u=d.as,f=o(u,d.crossOrigin),p=typeof d.integrity=="string"?d.integrity:void 0,m=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;u==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:f,integrity:p,fetchPriority:m}):u==="script"&&r.d.X(c,{crossOrigin:f,integrity:p,fetchPriority:m,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ki.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var u=o(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:u,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},Ki.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var u=d.as,f=o(u,d.crossOrigin);r.d.L(c,u,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ki.preloadModule=function(c,d){if(typeof c=="string")if(d){var u=o(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:u,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},Ki.requestFormReset=function(c){r.d.r(c)},Ki.unstable_batchedUpdates=function(c,d){return c(d)},Ki.useFormState=function(c,d,u){return l.H.useFormState(c,d,u)},Ki.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ki.version="19.1.1",Ki}var R7;function T$(){if(R7)return c5.exports;R7=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),c5.exports=lee(),c5.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F7;function oee(){if(F7)return Tg;F7=1;var e=iee(),t=bx(),a=T$();function r(h){var x="https://react.dev/errors/"+h;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)x+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+h+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function i(h){var x=h,w=h;if(h.alternate)for(;x.return;)x=x.return;else{h=x;do x=h,(x.flags&4098)!==0&&(w=x.return),h=x.return;while(h)}return x.tag===3?w:null}function l(h){if(h.tag===13){var x=h.memoizedState;if(x===null&&(h=h.alternate,h!==null&&(x=h.memoizedState)),x!==null)return x.dehydrated}return null}function o(h){if(i(h)!==h)throw Error(r(188))}function c(h){var x=h.alternate;if(!x){if(x=i(h),x===null)throw Error(r(188));return x!==h?null:h}for(var w=h,A=x;;){var O=w.return;if(O===null)break;var V=O.alternate;if(V===null){if(A=O.return,A!==null){w=A;continue}break}if(O.child===V.child){for(V=O.child;V;){if(V===w)return o(O),h;if(V===A)return o(O),x;V=V.sibling}throw Error(r(188))}if(w.return!==A.return)w=O,A=V;else{for(var de=!1,be=O.child;be;){if(be===w){de=!0,w=O,A=V;break}if(be===A){de=!0,A=O,w=V;break}be=be.sibling}if(!de){for(be=V.child;be;){if(be===w){de=!0,w=V,A=O;break}if(be===A){de=!0,A=V,w=O;break}be=be.sibling}if(!de)throw Error(r(189))}}if(w.alternate!==A)throw Error(r(190))}if(w.tag!==3)throw Error(r(188));return w.stateNode.current===w?h:x}function d(h){var x=h.tag;if(x===5||x===26||x===27||x===6)return h;for(h=h.child;h!==null;){if(x=d(h),x!==null)return x;h=h.sibling}return null}var u=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),k=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function F(h){return h===null||typeof h!="object"?null:(h=T&&h[T]||h["@@iterator"],typeof h=="function"?h:null)}var M=Symbol.for("react.client.reference");function I(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===M?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case v:return"Fragment";case b:return"Profiler";case g:return"StrictMode";case C:return"Suspense";case _:return"SuspenseList";case U:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case m:return"Portal";case k:return(h.displayName||"Context")+".Provider";case N:return(h._context.displayName||"Context")+".Consumer";case S:var x=h.render;return h=h.displayName,h||(h=x.displayName||x.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case P:return x=h.displayName||null,x!==null?x:I(h.type)||"Memo";case L:x=h._payload,h=h._init;try{return I(h(x))}catch{}}return null}var W=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},te=[],K=-1;function oe(h){return{current:h}}function D(h){0>K||(h.current=te[K],te[K]=null,K--)}function G(h,x){K++,te[K]=h.current,h.current=x}var H=oe(null),X=oe(null),se=oe(null),ie=oe(null);function ne(h,x){switch(G(se,x),G(X,h),G(H,null),x.nodeType){case 9:case 11:h=(h=x.documentElement)&&(h=h.namespaceURI)?s7(h):0;break;default:if(h=x.tagName,x=x.namespaceURI)x=s7(x),h=r7(x,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}D(H),G(H,h)}function J(){D(H),D(X),D(se)}function le(h){h.memoizedState!==null&&G(ie,h);var x=H.current,w=r7(x,h.type);x!==w&&(G(X,h),G(H,w))}function pe(h){X.current===h&&(D(H),D(X)),ie.current===h&&(D(ie),Ng._currentValue=ae)}var Q=Object.prototype.hasOwnProperty,xe=e.unstable_scheduleCallback,he=e.unstable_cancelCallback,ue=e.unstable_shouldYield,Le=e.unstable_requestPaint,ze=e.unstable_now,Ce=e.unstable_getCurrentPriorityLevel,ce=e.unstable_ImmediatePriority,Ie=e.unstable_UserBlockingPriority,we=e.unstable_NormalPriority,$e=e.unstable_LowPriority,Be=e.unstable_IdlePriority,ft=e.log,Ke=e.unstable_setDisableYieldValue,Ue=null,tt=null;function ct(h){if(typeof ft=="function"&&Ke(h),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(Ue,h)}catch{}}var Je=Math.clz32?Math.clz32:Ot,pt=Math.log,kt=Math.LN2;function Ot(h){return h>>>=0,h===0?32:31-(pt(h)/kt|0)|0}var qt=256,Wt=4194304;function Te(h){var x=h&42;if(x!==0)return x;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function $t(h,x,w){var A=h.pendingLanes;if(A===0)return 0;var O=0,V=h.suspendedLanes,de=h.pingedLanes;h=h.warmLanes;var be=A&134217727;return be!==0?(A=be&~V,A!==0?O=Te(A):(de&=be,de!==0?O=Te(de):w||(w=be&~h,w!==0&&(O=Te(w))))):(be=A&~V,be!==0?O=Te(be):de!==0?O=Te(de):w||(w=A&~h,w!==0&&(O=Te(w)))),O===0?0:x!==0&&x!==O&&(x&V)===0&&(V=O&-O,w=x&-x,V>=w||V===32&&(w&4194048)!==0)?x:O}function qe(h,x){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&x)===0}function Gt(h,x){switch(h){case 1:case 2:case 4:case 8:case 64:return x+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yt(){var h=qt;return qt<<=1,(qt&4194048)===0&&(qt=256),h}function ma(){var h=Wt;return Wt<<=1,(Wt&62914560)===0&&(Wt=4194304),h}function Ia(h){for(var x=[],w=0;31>w;w++)x.push(h);return x}function Ca(h,x){h.pendingLanes|=x,x!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function la(h,x,w,A,O,V){var de=h.pendingLanes;h.pendingLanes=w,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=w,h.entangledLanes&=w,h.errorRecoveryDisabledLanes&=w,h.shellSuspendCounter=0;var be=h.entanglements,Re=h.expirationTimes,ot=h.hiddenUpdates;for(w=de&~w;0<w;){var Tt=31-Je(w),Lt=1<<Tt;be[Tt]=0,Re[Tt]=-1;var dt=ot[Tt];if(dt!==null)for(ot[Tt]=null,Tt=0;Tt<dt.length;Tt++){var ht=dt[Tt];ht!==null&&(ht.lane&=-536870913)}w&=~Lt}A!==0&&qa(h,A,0),V!==0&&O===0&&h.tag!==0&&(h.suspendedLanes|=V&~(de&~x))}function qa(h,x,w){h.pendingLanes|=x,h.suspendedLanes&=~x;var A=31-Je(x);h.entangledLanes|=x,h.entanglements[A]=h.entanglements[A]|1073741824|w&4194090}function Fe(h,x){var w=h.entangledLanes|=x;for(h=h.entanglements;w;){var A=31-Je(w),O=1<<A;O&x|h[A]&x&&(h[A]|=x),w&=~O}}function rt(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function _t(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function St(){var h=q.p;return h!==0?h:(h=window.event,h===void 0?32:N7(h.type))}function ra(h,x){var w=q.p;try{return q.p=h,x()}finally{q.p=w}}var Fs=Math.random().toString(36).slice(2),cs="__reactFiber$"+Fs,es="__reactProps$"+Fs,Ps="__reactContainer$"+Fs,as="__reactEvents$"+Fs,pa="__reactListeners$"+Fs,ee="__reactHandles$"+Fs,Se="__reactResources$"+Fs,ye="__reactMarker$"+Fs;function Ne(h){delete h[cs],delete h[es],delete h[as],delete h[pa],delete h[ee]}function Ae(h){var x=h[cs];if(x)return x;for(var w=h.parentNode;w;){if(x=w[Ps]||w[cs]){if(w=x.alternate,x.child!==null||w!==null&&w.child!==null)for(h=o7(h);h!==null;){if(w=h[cs])return w;h=o7(h)}return x}h=w,w=h.parentNode}return null}function _e(h){if(h=h[cs]||h[Ps]){var x=h.tag;if(x===5||x===6||x===13||x===26||x===27||x===3)return h}return null}function Xe(h){var x=h.tag;if(x===5||x===26||x===27||x===6)return h.stateNode;throw Error(r(33))}function ut(h){var x=h[Se];return x||(x=h[Se]={hoistableStyles:new Map,hoistableScripts:new Map}),x}function Ye(h){h[ye]=!0}var at=new Set,st={};function Et(h,x){zt(h,x),zt(h+"Capture",x)}function zt(h,x){for(st[h]=x,h=0;h<x.length;h++)at.add(x[h])}var Vt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mt={},Kt={};function ba(h){return Q.call(Kt,h)?!0:Q.call(Mt,h)?!1:Vt.test(h)?Kt[h]=!0:(Mt[h]=!0,!1)}function va(h,x,w){if(ba(x))if(w===null)h.removeAttribute(x);else{switch(typeof w){case"undefined":case"function":case"symbol":h.removeAttribute(x);return;case"boolean":var A=x.toLowerCase().slice(0,5);if(A!=="data-"&&A!=="aria-"){h.removeAttribute(x);return}}h.setAttribute(x,""+w)}}function Pe(h,x,w){if(w===null)h.removeAttribute(x);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(x);return}h.setAttribute(x,""+w)}}function yt(h,x,w,A){if(A===null)h.removeAttribute(w);else{switch(typeof A){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(w);return}h.setAttributeNS(x,w,""+A)}}var ja,za;function Is(h){if(ja===void 0)try{throw Error()}catch(w){var x=w.stack.trim().match(/\n( *(at )?)/);ja=x&&x[1]||"",za=-1<w.stack.indexOf(`
    at`)?" (<anonymous>)":-1<w.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ja+h+za}var Ur=!1;function zn(h,x){if(!h||Ur)return"";Ur=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var A={DetermineComponentFrameRoot:function(){try{if(x){var Lt=function(){throw Error()};if(Object.defineProperty(Lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Lt,[])}catch(ht){var dt=ht}Reflect.construct(h,[],Lt)}else{try{Lt.call()}catch(ht){dt=ht}h.call(Lt.prototype)}}else{try{throw Error()}catch(ht){dt=ht}(Lt=h())&&typeof Lt.catch=="function"&&Lt.catch(function(){})}}catch(ht){if(ht&&dt&&typeof ht.stack=="string")return[ht.stack,dt.stack]}return[null,null]}};A.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(A.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(A.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var V=A.DetermineComponentFrameRoot(),de=V[0],be=V[1];if(de&&be){var Re=de.split(`
`),ot=be.split(`
`);for(O=A=0;A<Re.length&&!Re[A].includes("DetermineComponentFrameRoot");)A++;for(;O<ot.length&&!ot[O].includes("DetermineComponentFrameRoot");)O++;if(A===Re.length||O===ot.length)for(A=Re.length-1,O=ot.length-1;1<=A&&0<=O&&Re[A]!==ot[O];)O--;for(;1<=A&&0<=O;A--,O--)if(Re[A]!==ot[O]){if(A!==1||O!==1)do if(A--,O--,0>O||Re[A]!==ot[O]){var Tt=`
`+Re[A].replace(" at new "," at ");return h.displayName&&Tt.includes("<anonymous>")&&(Tt=Tt.replace("<anonymous>",h.displayName)),Tt}while(1<=A&&0<=O);break}}}finally{Ur=!1,Error.prepareStackTrace=w}return(w=h?h.displayName||h.name:"")?Is(w):""}function ks(h){switch(h.tag){case 26:case 27:case 5:return Is(h.type);case 16:return Is("Lazy");case 13:return Is("Suspense");case 19:return Is("SuspenseList");case 0:case 15:return zn(h.type,!1);case 11:return zn(h.type.render,!1);case 1:return zn(h.type,!0);case 31:return Is("Activity");default:return""}}function Ah(h){try{var x="";do x+=ks(h),h=h.return;while(h);return x}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}function bs(h){switch(typeof h){case"bigint":case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function vd(h){var x=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(x==="checkbox"||x==="radio")}function ou(h){var x=vd(h)?"checked":"value",w=Object.getOwnPropertyDescriptor(h.constructor.prototype,x),A=""+h[x];if(!h.hasOwnProperty(x)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var O=w.get,V=w.set;return Object.defineProperty(h,x,{configurable:!0,get:function(){return O.call(this)},set:function(de){A=""+de,V.call(this,de)}}),Object.defineProperty(h,x,{enumerable:w.enumerable}),{getValue:function(){return A},setValue:function(de){A=""+de},stopTracking:function(){h._valueTracker=null,delete h[x]}}}}function Ci(h){h._valueTracker||(h._valueTracker=ou(h))}function uo(h){if(!h)return!1;var x=h._valueTracker;if(!x)return!0;var w=x.getValue(),A="";return h&&(A=vd(h)?h.checked?"true":"false":h.value),h=A,h!==w?(x.setValue(h),!0):!1}function dn(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}var oi=/[\n"\\]/g;function ms(h){return h.replace(oi,function(x){return"\\"+x.charCodeAt(0).toString(16)+" "})}function _c(h,x,w,A,O,V,de,be){h.name="",de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"?h.type=de:h.removeAttribute("type"),x!=null?de==="number"?(x===0&&h.value===""||h.value!=x)&&(h.value=""+bs(x)):h.value!==""+bs(x)&&(h.value=""+bs(x)):de!=="submit"&&de!=="reset"||h.removeAttribute("value"),x!=null?cu(h,de,bs(x)):w!=null?cu(h,de,bs(w)):A!=null&&h.removeAttribute("value"),O==null&&V!=null&&(h.defaultChecked=!!V),O!=null&&(h.checked=O&&typeof O!="function"&&typeof O!="symbol"),be!=null&&typeof be!="function"&&typeof be!="symbol"&&typeof be!="boolean"?h.name=""+bs(be):h.removeAttribute("name")}function _h(h,x,w,A,O,V,de,be){if(V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(h.type=V),x!=null||w!=null){if(!(V!=="submit"&&V!=="reset"||x!=null))return;w=w!=null?""+bs(w):"",x=x!=null?""+bs(x):w,be||x===h.value||(h.value=x),h.defaultValue=x}A=A??O,A=typeof A!="function"&&typeof A!="symbol"&&!!A,h.checked=be?h.checked:!!A,h.defaultChecked=!!A,de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"&&(h.name=de)}function cu(h,x,w){x==="number"&&dn(h.ownerDocument)===h||h.defaultValue===""+w||(h.defaultValue=""+w)}function Uo(h,x,w,A){if(h=h.options,x){x={};for(var O=0;O<w.length;O++)x["$"+w[O]]=!0;for(w=0;w<h.length;w++)O=x.hasOwnProperty("$"+h[w].value),h[w].selected!==O&&(h[w].selected=O),O&&A&&(h[w].defaultSelected=!0)}else{for(w=""+bs(w),x=null,O=0;O<h.length;O++){if(h[O].value===w){h[O].selected=!0,A&&(h[O].defaultSelected=!0);return}x!==null||h[O].disabled||(x=h[O])}x!==null&&(x.selected=!0)}}function gl(h,x,w){if(x!=null&&(x=""+bs(x),x!==h.value&&(h.value=x),w==null)){h.defaultValue!==x&&(h.defaultValue=x);return}h.defaultValue=w!=null?""+bs(w):""}function bd(h,x,w,A){if(x==null){if(A!=null){if(w!=null)throw Error(r(92));if(W(A)){if(1<A.length)throw Error(r(93));A=A[0]}w=A}w==null&&(w=""),x=w}w=bs(x),h.defaultValue=w,A=h.textContent,A===w&&A!==""&&A!==null&&(h.value=A)}function Hn(h,x){if(x){var w=h.firstChild;if(w&&w===h.lastChild&&w.nodeType===3){w.nodeValue=x;return}}h.textContent=x}var vl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Il(h,x,w){var A=x.indexOf("--")===0;w==null||typeof w=="boolean"||w===""?A?h.setProperty(x,""):x==="float"?h.cssFloat="":h[x]="":A?h.setProperty(x,w):typeof w!="number"||w===0||vl.has(x)?x==="float"?h.cssFloat=w:h[x]=(""+w).trim():h[x]=w+"px"}function Th(h,x,w){if(x!=null&&typeof x!="object")throw Error(r(62));if(h=h.style,w!=null){for(var A in w)!w.hasOwnProperty(A)||x!=null&&x.hasOwnProperty(A)||(A.indexOf("--")===0?h.setProperty(A,""):A==="float"?h.cssFloat="":h[A]="");for(var O in x)A=x[O],x.hasOwnProperty(O)&&w[O]!==A&&Il(h,O,A)}else for(var V in x)x.hasOwnProperty(V)&&Il(h,V,x[V])}function Oe(h){if(h.indexOf("-")===-1)return!1;switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ta=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ut(h){return ta.test(""+h)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":h}var ts=null;function or(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Bs=null,fr=null;function aa(h){var x=_e(h);if(x&&(h=x.stateNode)){var w=h[es]||null;e:switch(h=x.stateNode,x.type){case"input":if(_c(h,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name),x=w.name,w.type==="radio"&&x!=null){for(w=h;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll('input[name="'+ms(""+x)+'"][type="radio"]'),x=0;x<w.length;x++){var A=w[x];if(A!==h&&A.form===h.form){var O=A[es]||null;if(!O)throw Error(r(90));_c(A,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(x=0;x<w.length;x++)A=w[x],A.form===h.form&&uo(A)}break e;case"textarea":gl(h,w.value,w.defaultValue);break e;case"select":x=w.value,x!=null&&Uo(h,!!w.multiple,x,!1)}}}var Vn=!1;function mr(h,x,w){if(Vn)return h(x,w);Vn=!0;try{var A=h(x);return A}finally{if(Vn=!1,(Bs!==null||fr!==null)&&(Zb(),Bs&&(x=Bs,h=fr,fr=Bs=null,aa(x),h)))for(x=0;x<h.length;x++)aa(h[x])}}function bl(h,x){var w=h.stateNode;if(w===null)return null;var A=w[es]||null;if(A===null)return null;w=A[x];e:switch(x){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(h=h.type,A=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!A;break e;default:h=!1}if(h)return null;if(w&&typeof w!="function")throw Error(r(231,x,typeof w));return w}var ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ps=!1;if(ys)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){ps=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch{ps=!1}var Dn=null,ho=null,Ai=null;function Bl(){if(Ai)return Ai;var h,x=ho,w=x.length,A,O="value"in Dn?Dn.value:Dn.textContent,V=O.length;for(h=0;h<w&&x[h]===O[h];h++);var de=w-h;for(A=1;A<=de&&x[w-A]===O[V-A];A++);return Ai=O.slice(h,1<A?1-A:void 0)}function ci(h){var x=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&x===13&&(h=13)):h=x,h===10&&(h=13),32<=h||h===13?h:0}function _i(){return!0}function fo(){return!1}function Xr(h){function x(w,A,O,V,de){this._reactName=w,this._targetInst=O,this.type=A,this.nativeEvent=V,this.target=de,this.currentTarget=null;for(var be in h)h.hasOwnProperty(be)&&(w=h[be],this[be]=w?w(V):V[be]);return this.isDefaultPrevented=(V.defaultPrevented!=null?V.defaultPrevented:V.returnValue===!1)?_i:fo,this.isPropagationStopped=fo,this}return u(x.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),x}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=Xr(Vi),po=u({},Vi,{view:0,detail:0}),du=Xr(po),uu,yd,Tc,zo=u({},po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:na,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Tc&&(Tc&&h.type==="mousemove"?(uu=h.screenX-Tc.screenX,yd=h.screenY-Tc.screenY):yd=uu=0,Tc=h),uu)},movementY:function(h){return"movementY"in h?h.movementY:yd}}),Qf=Xr(zo),Hm=u({},zo,{dataTransfer:0}),Ec=Xr(Hm),Dc=u({},po,{relatedTarget:0}),Eh=Xr(Dc),Vm=u({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),hu=Xr(Vm),Wm=u({},Vi,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Y=Xr(Wm),fe=u({},Vi,{data:0}),Me=Xr(fe),He={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ze={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},At={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rt(h){var x=this.nativeEvent;return x.getModifierState?x.getModifierState(h):(h=At[h])?!!x[h]:!1}function na(){return Rt}var ga=u({},po,{key:function(h){if(h.key){var x=He[h.key]||h.key;if(x!=="Unidentified")return x}return h.type==="keypress"?(h=ci(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?Ze[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:na,charCode:function(h){return h.type==="keypress"?ci(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?ci(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),Pa=Xr(ga),Ha=u({},zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ws=Xr(Ha),pr=u({},po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:na}),Jr=Xr(pr),Xs=u({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),un=Xr(Xs),Qr=u({},zo,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),Wn=Xr(Qr),$l=u({},Vi,{newState:0,oldState:0}),Wi=Xr($l),qm=[9,13,27,32],wd=ys&&"CompositionEvent"in window,xo=null;ys&&"documentMode"in document&&(xo=document.documentMode);var jd=ys&&"TextEvent"in window&&!xo,Nd=ys&&(!wd||xo&&8<xo&&11>=xo),kd=" ",Sd=!1;function qn(h,x){switch(h){case"keyup":return qm.indexOf(x.keyCode)!==-1;case"keydown":return x.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cd(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Ul=!1;function Zf(h,x){switch(h){case"compositionend":return Cd(x);case"keypress":return x.which!==32?null:(Sd=!0,kd);case"textInput":return h=x.data,h===kd&&Sd?null:h;default:return null}}function e0(h,x){if(Ul)return h==="compositionend"||!wd&&qn(h,x)?(h=Bl(),Ai=ho=Dn=null,Ul=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(x.ctrlKey||x.altKey||x.metaKey)||x.ctrlKey&&x.altKey){if(x.char&&1<x.char.length)return x.char;if(x.which)return String.fromCharCode(x.which)}return null;case"compositionend":return Nd&&x.locale!=="ko"?null:x.data;default:return null}}var kr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ho(h){var x=h&&h.nodeName&&h.nodeName.toLowerCase();return x==="input"?!!kr[h.type]:x==="textarea"}function fu(h,x,w,A){Bs?fr?fr.push(A):fr=[A]:Bs=A,x=ny(x,"onChange"),0<x.length&&(w=new mo("onChange","change",null,w,A),h.push({event:w,listeners:x}))}var Ad=null,di=null;function mu(h){QE(h,0)}function _d(h){var x=Xe(h);if(uo(x))return h}function Dh(h,x){if(h==="change")return x}var Mc=!1;if(ys){var Pc;if(ys){var Ti="oninput"in document;if(!Ti){var qi=document.createElement("div");qi.setAttribute("oninput","return;"),Ti=typeof qi.oninput=="function"}Pc=Ti}else Pc=!1;Mc=Pc&&(!document.documentMode||9<document.documentMode)}function Lc(){Ad&&(Ad.detachEvent("onpropertychange",Vo),di=Ad=null)}function Vo(h){if(h.propertyName==="value"&&_d(di)){var x=[];fu(x,di,h,or(h)),mr(mu,x)}}function Td(h,x,w){h==="focusin"?(Lc(),Ad=x,di=w,Ad.attachEvent("onpropertychange",Vo)):h==="focusout"&&Lc()}function t0(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return _d(di)}function Mh(h,x){if(h==="click")return _d(x)}function zr(h,x){if(h==="input"||h==="change")return _d(x)}function Gm(h,x){return h===x&&(h!==0||1/h===1/x)||h!==h&&x!==x}var Sr=typeof Object.is=="function"?Object.is:Gm;function Gi(h,x){if(Sr(h,x))return!0;if(typeof h!="object"||h===null||typeof x!="object"||x===null)return!1;var w=Object.keys(h),A=Object.keys(x);if(w.length!==A.length)return!1;for(A=0;A<w.length;A++){var O=w[A];if(!Q.call(x,O)||!Sr(h[O],x[O]))return!1}return!0}function Ph(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function Lh(h,x){var w=Ph(h);h=0;for(var A;w;){if(w.nodeType===3){if(A=h+w.textContent.length,h<=x&&A>=x)return{node:w,offset:x-h};h=A}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=Ph(w)}}function Oh(h,x){return h&&x?h===x?!0:h&&h.nodeType===3?!1:x&&x.nodeType===3?Oh(h,x.parentNode):"contains"in h?h.contains(x):h.compareDocumentPosition?!!(h.compareDocumentPosition(x)&16):!1:!1}function Rh(h){h=h!=null&&h.ownerDocument!=null&&h.ownerDocument.defaultView!=null?h.ownerDocument.defaultView:window;for(var x=dn(h.document);x instanceof h.HTMLIFrameElement;){try{var w=typeof x.contentWindow.location.href=="string"}catch{w=!1}if(w)h=x.contentWindow;else break;x=dn(h.document)}return x}function Wo(h){var x=h&&h.nodeName&&h.nodeName.toLowerCase();return x&&(x==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||x==="textarea"||h.contentEditable==="true")}var Ed=ys&&"documentMode"in document&&11>=document.documentMode,yl=null,Oc=null,zl=null,Rc=!1;function wl(h,x,w){var A=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;Rc||yl==null||yl!==dn(A)||(A=yl,"selectionStart"in A&&Wo(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),zl&&Gi(zl,A)||(zl=A,A=ny(Oc,"onSelect"),0<A.length&&(x=new mo("onSelect","select",null,x,w),h.push({event:x,listeners:A}),x.target=yl)))}function ui(h,x){var w={};return w[h.toLowerCase()]=x.toLowerCase(),w["Webkit"+h]="webkit"+x,w["Moz"+h]="moz"+x,w}var ds={animationend:ui("Animation","AnimationEnd"),animationiteration:ui("Animation","AnimationIteration"),animationstart:ui("Animation","AnimationStart"),transitionrun:ui("Transition","TransitionRun"),transitionstart:ui("Transition","TransitionStart"),transitioncancel:ui("Transition","TransitionCancel"),transitionend:ui("Transition","TransitionEnd")},Ls={},Cr={};ys&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function sr(h){if(Ls[h])return Ls[h];if(!ds[h])return h;var x=ds[h],w;for(w in x)if(x.hasOwnProperty(w)&&w in Cr)return Ls[h]=x[w];return h}var qo=sr("animationend"),Fh=sr("animationiteration"),pu=sr("animationstart"),Km=sr("transitionrun"),wb=sr("transitionstart"),jb=sr("transitioncancel"),Hx=sr("transitionend"),Vx=new Map,Ym="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ym.push("scrollEnd");function Hl(h,x){Vx.set(h,x),Et(x,[h])}var Ih=new WeakMap;function jl(h,x){if(typeof h=="object"&&h!==null){var w=Ih.get(h);return w!==void 0?w:(x={value:h,source:x,stack:Ah(x)},Ih.set(h,x),x)}return{value:h,source:x,stack:Ah(x)}}var Nl=[],xu=0,Xm=0;function a0(){for(var h=xu,x=Xm=xu=0;x<h;){var w=Nl[x];Nl[x++]=null;var A=Nl[x];Nl[x++]=null;var O=Nl[x];Nl[x++]=null;var V=Nl[x];if(Nl[x++]=null,A!==null&&O!==null){var de=A.pending;de===null?O.next=O:(O.next=de.next,de.next=O),A.pending=O}V!==0&&Qm(w,O,V)}}function s0(h,x,w,A){Nl[xu++]=h,Nl[xu++]=x,Nl[xu++]=w,Nl[xu++]=A,Xm|=A,h.lanes|=A,h=h.alternate,h!==null&&(h.lanes|=A)}function Jm(h,x,w,A){return s0(h,x,w,A),vu(h)}function gu(h,x){return s0(h,null,null,x),vu(h)}function Qm(h,x,w){h.lanes|=w;var A=h.alternate;A!==null&&(A.lanes|=w);for(var O=!1,V=h.return;V!==null;)V.childLanes|=w,A=V.alternate,A!==null&&(A.childLanes|=w),V.tag===22&&(h=V.stateNode,h===null||h._visibility&1||(O=!0)),h=V,V=V.return;return h.tag===3?(V=h.stateNode,O&&x!==null&&(O=31-Je(w),h=V.hiddenUpdates,A=h[O],A===null?h[O]=[x]:A.push(x),x.lane=w|536870912),V):null}function vu(h){if(50<pg)throw pg=0,_4=null,Error(r(185));for(var x=h.return;x!==null;)h=x,x=h.return;return h.tag===3?h.stateNode:null}var Mn={};function Vl(h,x,w,A){this.tag=h,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hi(h,x,w,A){return new Vl(h,x,w,A)}function Bh(h){return h=h.prototype,!(!h||!h.isReactComponent)}function Go(h,x){var w=h.alternate;return w===null?(w=hi(h.tag,x,h.key,h.mode),w.elementType=h.elementType,w.type=h.type,w.stateNode=h.stateNode,w.alternate=h,h.alternate=w):(w.pendingProps=x,w.type=h.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=h.flags&65011712,w.childLanes=h.childLanes,w.lanes=h.lanes,w.child=h.child,w.memoizedProps=h.memoizedProps,w.memoizedState=h.memoizedState,w.updateQueue=h.updateQueue,x=h.dependencies,w.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},w.sibling=h.sibling,w.index=h.index,w.ref=h.ref,w.refCleanup=h.refCleanup,w}function r0(h,x){h.flags&=65011714;var w=h.alternate;return w===null?(h.childLanes=0,h.lanes=x,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=w.childLanes,h.lanes=w.lanes,h.child=w.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=w.memoizedProps,h.memoizedState=w.memoizedState,h.updateQueue=w.updateQueue,h.type=w.type,x=w.dependencies,h.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),h}function bu(h,x,w,A,O,V){var de=0;if(A=h,typeof h=="function")Bh(h)&&(de=1);else if(typeof h=="string")de=UZ(h,w,H.current)?26:h==="html"||h==="head"||h==="body"?27:5;else e:switch(h){case U:return h=hi(31,w,x,O),h.elementType=U,h.lanes=V,h;case v:return Fc(w.children,O,V,x);case g:de=8,O|=24;break;case b:return h=hi(12,w,x,O|2),h.elementType=b,h.lanes=V,h;case C:return h=hi(13,w,x,O),h.elementType=C,h.lanes=V,h;case _:return h=hi(19,w,x,O),h.elementType=_,h.lanes=V,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case j:case k:de=10;break e;case N:de=9;break e;case S:de=11;break e;case P:de=14;break e;case L:de=16,A=null;break e}de=29,w=Error(r(130,h===null?"null":typeof h,"")),A=null}return x=hi(de,w,x,O),x.elementType=h,x.type=A,x.lanes=V,x}function Fc(h,x,w,A){return h=hi(7,h,A,x),h.lanes=w,h}function Zm(h,x,w){return h=hi(6,h,null,x),h.lanes=w,h}function n0(h,x,w){return x=hi(4,h.children!==null?h.children:[],h.key,x),x.lanes=w,x.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},x}var Dd=[],Ic=0,$h=null,ep=0,Wl=[],kl=0,yu=null,Bc=1,$c="";function wu(h,x){Dd[Ic++]=ep,Dd[Ic++]=$h,$h=h,ep=x}function Nb(h,x,w){Wl[kl++]=Bc,Wl[kl++]=$c,Wl[kl++]=yu,yu=h;var A=Bc;h=$c;var O=32-Je(A)-1;A&=~(1<<O),w+=1;var V=32-Je(x)+O;if(30<V){var de=O-O%5;V=(A&(1<<de)-1).toString(32),A>>=de,O-=de,Bc=1<<32-Je(x)+O|w<<O|A,$c=V+h}else Bc=1<<V|w<<O|A,$c=h}function i0(h){h.return!==null&&(wu(h,1),Nb(h,1,0))}function l0(h){for(;h===$h;)$h=Dd[--Ic],Dd[Ic]=null,ep=Dd[--Ic],Dd[Ic]=null;for(;h===yu;)yu=Wl[--kl],Wl[kl]=null,$c=Wl[--kl],Wl[kl]=null,Bc=Wl[--kl],Wl[kl]=null}var hn=null,Ar=null,Ss=!1,Md=null,Ko=!1,Wx=Error(r(519));function ju(h){var x=Error(r(418,""));throw Uh(jl(x,h)),Wx}function kb(h){var x=h.stateNode,w=h.type,A=h.memoizedProps;switch(x[cs]=h,x[es]=A,w){case"dialog":hs("cancel",x),hs("close",x);break;case"iframe":case"object":case"embed":hs("load",x);break;case"video":case"audio":for(w=0;w<gg.length;w++)hs(gg[w],x);break;case"source":hs("error",x);break;case"img":case"image":case"link":hs("error",x),hs("load",x);break;case"details":hs("toggle",x);break;case"input":hs("invalid",x),_h(x,A.value,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name,!0),Ci(x);break;case"select":hs("invalid",x);break;case"textarea":hs("invalid",x),bd(x,A.value,A.defaultValue,A.children),Ci(x)}w=A.children,typeof w!="string"&&typeof w!="number"&&typeof w!="bigint"||x.textContent===""+w||A.suppressHydrationWarning===!0||a7(x.textContent,w)?(A.popover!=null&&(hs("beforetoggle",x),hs("toggle",x)),A.onScroll!=null&&hs("scroll",x),A.onScrollEnd!=null&&hs("scrollend",x),A.onClick!=null&&(x.onclick=iy),x=!0):x=!1,x||ju(h)}function Uc(h){for(hn=h.return;hn;)switch(hn.tag){case 5:case 13:Ko=!1;return;case 27:case 3:Ko=!0;return;default:hn=hn.return}}function Ei(h){if(h!==hn)return!1;if(!Ss)return Uc(h),Ss=!0,!1;var x=h.tag,w;if((w=x!==3&&x!==27)&&((w=x===5)&&(w=h.type,w=!(w!=="form"&&w!=="button")||V4(h.type,h.memoizedProps)),w=!w),w&&Ar&&ju(h),Uc(h),x===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));e:{for(h=h.nextSibling,x=0;h;){if(h.nodeType===8)if(w=h.data,w==="/$"){if(x===0){Ar=Yc(h.nextSibling);break e}x--}else w!=="$"&&w!=="$!"&&w!=="$?"||x++;h=h.nextSibling}Ar=null}}else x===27?(x=Ar,sf(h.type)?(h=K4,K4=null,Ar=h):Ar=x):Ar=hn?Yc(h.stateNode.nextSibling):null;return!0}function Sl(){Ar=hn=null,Ss=!1}function Sb(){var h=Md;return h!==null&&(Gl===null?Gl=h:Gl.push.apply(Gl,h),Md=null),h}function Uh(h){Md===null?Md=[h]:Md.push(h)}var Yo=oe(null),Pn=null,zc=null;function Pd(h,x,w){G(Yo,x._currentValue),x._currentValue=w}function Xo(h){h._currentValue=Yo.current,D(Yo)}function tp(h,x,w){for(;h!==null;){var A=h.alternate;if((h.childLanes&x)!==x?(h.childLanes|=x,A!==null&&(A.childLanes|=x)):A!==null&&(A.childLanes&x)!==x&&(A.childLanes|=x),h===w)break;h=h.return}}function ap(h,x,w,A){var O=h.child;for(O!==null&&(O.return=h);O!==null;){var V=O.dependencies;if(V!==null){var de=O.child;V=V.firstContext;e:for(;V!==null;){var be=V;V=O;for(var Re=0;Re<x.length;Re++)if(be.context===x[Re]){V.lanes|=w,be=V.alternate,be!==null&&(be.lanes|=w),tp(V.return,w,h),A||(de=null);break e}V=be.next}}else if(O.tag===18){if(de=O.return,de===null)throw Error(r(341));de.lanes|=w,V=de.alternate,V!==null&&(V.lanes|=w),tp(de,w,h),de=null}else de=O.child;if(de!==null)de.return=O;else for(de=O;de!==null;){if(de===h){de=null;break}if(O=de.sibling,O!==null){O.return=de.return,de=O;break}de=de.return}O=de}}function zh(h,x,w,A){h=null;for(var O=x,V=!1;O!==null;){if(!V){if((O.flags&524288)!==0)V=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var de=O.alternate;if(de===null)throw Error(r(387));if(de=de.memoizedProps,de!==null){var be=O.type;Sr(O.pendingProps.value,de.value)||(h!==null?h.push(be):h=[be])}}else if(O===ie.current){if(de=O.alternate,de===null)throw Error(r(387));de.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(h!==null?h.push(Ng):h=[Ng])}O=O.return}h!==null&&ap(x,h,w,A),x.flags|=262144}function sp(h){for(h=h.firstContext;h!==null;){if(!Sr(h.context._currentValue,h.memoizedValue))return!0;h=h.next}return!1}function Jo(h){Pn=h,zc=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function fn(h){return rp(Pn,h)}function Ld(h,x){return Pn===null&&Jo(h),rp(h,x)}function rp(h,x){var w=x._currentValue;if(x={context:x,memoizedValue:w,next:null},zc===null){if(h===null)throw Error(r(308));zc=x,h.dependencies={lanes:0,firstContext:x},h.flags|=524288}else zc=zc.next=x;return w}var ZN=typeof AbortController<"u"?AbortController:function(){var h=[],x=this.signal={aborted:!1,addEventListener:function(w,A){h.push(A)}};this.abort=function(){x.aborted=!0,h.forEach(function(w){return w()})}},Cb=e.unstable_scheduleCallback,e4=e.unstable_NormalPriority,mn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qx(){return{controller:new ZN,data:new Map,refCount:0}}function o0(h){h.refCount--,h.refCount===0&&Cb(e4,function(){h.controller.abort()})}var c0=null,Gx=0,Nu=0,Hc=null;function t4(h,x){if(c0===null){var w=c0=[];Gx=0,Nu=O4(),Hc={status:"pending",value:void 0,then:function(A){w.push(A)}}}return Gx++,x.then(Ab,Ab),x}function Ab(){if(--Gx===0&&c0!==null){Hc!==null&&(Hc.status="fulfilled");var h=c0;c0=null,Nu=0,Hc=null;for(var x=0;x<h.length;x++)(0,h[x])()}}function _b(h,x){var w=[],A={status:"pending",value:null,reason:null,then:function(O){w.push(O)}};return h.then(function(){A.status="fulfilled",A.value=x;for(var O=0;O<w.length;O++)(0,w[O])(x)},function(O){for(A.status="rejected",A.reason=O,O=0;O<w.length;O++)(0,w[O])(void 0)}),A}var E=R.S;R.S=function(h,x){typeof x=="object"&&x!==null&&typeof x.then=="function"&&t4(h,x),E!==null&&E(h,x)};var B=oe(null);function Z(){var h=B.current;return h!==null?h:dr.pooledCache}function re(h,x){x===null?G(B,B.current):G(B,x.pool)}function me(){var h=Z();return h===null?null:{parent:mn._currentValue,pool:h}}var ge=Error(r(460)),ve=Error(r(474)),je=Error(r(542)),ke={then:function(){}};function De(h){return h=h.status,h==="fulfilled"||h==="rejected"}function Ve(){}function lt(h,x,w){switch(w=h[w],w===void 0?h.push(x):w!==x&&(x.then(Ve,Ve),x=w),x.status){case"fulfilled":return x.value;case"rejected":throw h=x.reason,et(h),h;default:if(typeof x.status=="string")x.then(Ve,Ve);else{if(h=dr,h!==null&&100<h.shellSuspendCounter)throw Error(r(482));h=x,h.status="pending",h.then(function(A){if(x.status==="pending"){var O=x;O.status="fulfilled",O.value=A}},function(A){if(x.status==="pending"){var O=x;O.status="rejected",O.reason=A}})}switch(x.status){case"fulfilled":return x.value;case"rejected":throw h=x.reason,et(h),h}throw Ee=x,ge}}var Ee=null;function Ge(){if(Ee===null)throw Error(r(459));var h=Ee;return Ee=null,h}function et(h){if(h===ge||h===je)throw Error(r(483))}var gt=!1;function it(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jt(h,x){h=h.updateQueue,x.updateQueue===h&&(x.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function wt(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function It(h,x,w){var A=h.updateQueue;if(A===null)return null;if(A=A.shared,(Us&2)!==0){var O=A.pending;return O===null?x.next=x:(x.next=O.next,O.next=x),A.pending=x,x=vu(h),Qm(h,null,w),x}return s0(h,A,x,w),vu(h)}function Pt(h,x,w){if(x=x.updateQueue,x!==null&&(x=x.shared,(w&4194048)!==0)){var A=x.lanes;A&=h.pendingLanes,w|=A,x.lanes=w,Fe(h,w)}}function xa(h,x){var w=h.updateQueue,A=h.alternate;if(A!==null&&(A=A.updateQueue,w===A)){var O=null,V=null;if(w=w.firstBaseUpdate,w!==null){do{var de={lane:w.lane,tag:w.tag,payload:w.payload,callback:null,next:null};V===null?O=V=de:V=V.next=de,w=w.next}while(w!==null);V===null?O=V=x:V=V.next=x}else O=V=x;w={baseState:A.baseState,firstBaseUpdate:O,lastBaseUpdate:V,shared:A.shared,callbacks:A.callbacks},h.updateQueue=w;return}h=w.lastBaseUpdate,h===null?w.firstBaseUpdate=x:h.next=x,w.lastBaseUpdate=x}var sa=!1;function Ba(){if(sa){var h=Hc;if(h!==null)throw h}}function ia(h,x,w,A){sa=!1;var O=h.updateQueue;gt=!1;var V=O.firstBaseUpdate,de=O.lastBaseUpdate,be=O.shared.pending;if(be!==null){O.shared.pending=null;var Re=be,ot=Re.next;Re.next=null,de===null?V=ot:de.next=ot,de=Re;var Tt=h.alternate;Tt!==null&&(Tt=Tt.updateQueue,be=Tt.lastBaseUpdate,be!==de&&(be===null?Tt.firstBaseUpdate=ot:be.next=ot,Tt.lastBaseUpdate=Re))}if(V!==null){var Lt=O.baseState;de=0,Tt=ot=Re=null,be=V;do{var dt=be.lane&-536870913,ht=dt!==be.lane;if(ht?(Ns&dt)===dt:(A&dt)===dt){dt!==0&&dt===Nu&&(sa=!0),Tt!==null&&(Tt=Tt.next={lane:0,tag:be.tag,payload:be.payload,callback:null,next:null});e:{var Oa=h,Ta=be;dt=x;var Zs=w;switch(Ta.tag){case 1:if(Oa=Ta.payload,typeof Oa=="function"){Lt=Oa.call(Zs,Lt,dt);break e}Lt=Oa;break e;case 3:Oa.flags=Oa.flags&-65537|128;case 0:if(Oa=Ta.payload,dt=typeof Oa=="function"?Oa.call(Zs,Lt,dt):Oa,dt==null)break e;Lt=u({},Lt,dt);break e;case 2:gt=!0}}dt=be.callback,dt!==null&&(h.flags|=64,ht&&(h.flags|=8192),ht=O.callbacks,ht===null?O.callbacks=[dt]:ht.push(dt))}else ht={lane:dt,tag:be.tag,payload:be.payload,callback:be.callback,next:null},Tt===null?(ot=Tt=ht,Re=Lt):Tt=Tt.next=ht,de|=dt;if(be=be.next,be===null){if(be=O.shared.pending,be===null)break;ht=be,be=ht.next,ht.next=null,O.lastBaseUpdate=ht,O.shared.pending=null}}while(!0);Tt===null&&(Re=Lt),O.baseState=Re,O.firstBaseUpdate=ot,O.lastBaseUpdate=Tt,V===null&&(O.shared.lanes=0),Zh|=de,h.lanes=de,h.memoizedState=Lt}}function ns(h,x){if(typeof h!="function")throw Error(r(191,h));h.call(x)}function Zr(h,x){var w=h.callbacks;if(w!==null)for(h.callbacks=null,h=0;h<w.length;h++)ns(w[h],x)}var La=oe(null),oa=oe(0);function Zt(h,x){h=Du,G(oa,h),G(La,x),Du=h|x.baseLanes}function xr(){G(oa,Du),G(La,La.current)}function $a(){Du=oa.current,D(La),D(oa)}var Ya=0,da=null,Va=null,xs=null,rr=!1,Hr=!1,Vr=!1,_r=0,ss=0,gs=null,Tr=0;function _a(){throw Error(r(321))}function pn(h,x){if(x===null)return!1;for(var w=0;w<x.length&&w<h.length;w++)if(!Sr(h[w],x[w]))return!1;return!0}function Cl(h,x,w,A,O,V){return Ya=V,da=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,R.H=h===null||h.memoizedState===null?RT:FT,Vr=!1,V=w(A,O),Vr=!1,Hr&&(V=Di(x,w,A,O)),Er(h),V}function Er(h){R.H=$b;var x=Va!==null&&Va.next!==null;if(Ya=0,xs=Va=da=null,rr=!1,ss=0,gs=null,x)throw Error(r(300));h===null||mi||(h=h.dependencies,h!==null&&sp(h)&&(mi=!0))}function Di(h,x,w,A){da=h;var O=0;do{if(Hr&&(gs=null),ss=0,Hr=!1,25<=O)throw Error(r(301));if(O+=1,xs=Va=null,h.updateQueue!=null){var V=h.updateQueue;V.lastEffect=null,V.events=null,V.stores=null,V.memoCache!=null&&(V.memoCache.index=0)}R.H=QQ,V=x(w,A)}while(Hr);return V}function $s(){var h=R.H,x=h.useState()[0];return x=typeof x.then=="function"?Kn(x):x,h=h.useState()[0],(Va!==null?Va.memoizedState:null)!==h&&(da.flags|=1024),x}function Wr(){var h=_r!==0;return _r=0,h}function Mi(h,x,w){x.updateQueue=h.updateQueue,x.flags&=-2053,h.lanes&=~w}function Gn(h){if(rr){for(h=h.memoizedState;h!==null;){var x=h.queue;x!==null&&(x.pending=null),h=h.next}rr=!1}Ya=0,xs=Va=da=null,Hr=!1,ss=_r=0,gs=null}function Js(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xs===null?da.memoizedState=xs=h:xs=xs.next=h,xs}function js(){if(Va===null){var h=da.alternate;h=h!==null?h.memoizedState:null}else h=Va.next;var x=xs===null?da.memoizedState:xs.next;if(x!==null)xs=x,Va=h;else{if(h===null)throw da.alternate===null?Error(r(467)):Error(r(310));Va=h,h={memoizedState:Va.memoizedState,baseState:Va.baseState,baseQueue:Va.baseQueue,queue:Va.queue,next:null},xs===null?da.memoizedState=xs=h:xs=xs.next=h}return xs}function fi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kn(h){var x=ss;return ss+=1,gs===null&&(gs=[]),h=lt(gs,h,x),x=da,(xs===null?x.memoizedState:xs.next)===null&&(x=x.alternate,R.H=x===null||x.memoizedState===null?RT:FT),h}function Os(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return Kn(h);if(h.$$typeof===k)return fn(h)}throw Error(r(438,String(h)))}function Pi(h){var x=null,w=da.updateQueue;if(w!==null&&(x=w.memoCache),x==null){var A=da.alternate;A!==null&&(A=A.updateQueue,A!==null&&(A=A.memoCache,A!=null&&(x={data:A.data.map(function(O){return O.slice()}),index:0})))}if(x==null&&(x={data:[],index:0}),w===null&&(w=fi(),da.updateQueue=w),w.memoCache=x,w=x.data[x.index],w===void 0)for(w=x.data[x.index]=Array(h),A=0;A<h;A++)w[A]=z;return x.index++,w}function xn(h,x){return typeof x=="function"?x(h):x}function Qo(h){var x=js();return go(x,Va,h)}function go(h,x,w){var A=h.queue;if(A===null)throw Error(r(311));A.lastRenderedReducer=w;var O=h.baseQueue,V=A.pending;if(V!==null){if(O!==null){var de=O.next;O.next=V.next,V.next=de}x.baseQueue=O=V,A.pending=null}if(V=h.baseState,O===null)h.memoizedState=V;else{x=O.next;var be=de=null,Re=null,ot=x,Tt=!1;do{var Lt=ot.lane&-536870913;if(Lt!==ot.lane?(Ns&Lt)===Lt:(Ya&Lt)===Lt){var dt=ot.revertLane;if(dt===0)Re!==null&&(Re=Re.next={lane:0,revertLane:0,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),Lt===Nu&&(Tt=!0);else if((Ya&dt)===dt){ot=ot.next,dt===Nu&&(Tt=!0);continue}else Lt={lane:0,revertLane:ot.revertLane,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null},Re===null?(be=Re=Lt,de=V):Re=Re.next=Lt,da.lanes|=dt,Zh|=dt;Lt=ot.action,Vr&&w(V,Lt),V=ot.hasEagerState?ot.eagerState:w(V,Lt)}else dt={lane:Lt,revertLane:ot.revertLane,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null},Re===null?(be=Re=dt,de=V):Re=Re.next=dt,da.lanes|=Lt,Zh|=Lt;ot=ot.next}while(ot!==null&&ot!==x);if(Re===null?de=V:Re.next=be,!Sr(V,h.memoizedState)&&(mi=!0,Tt&&(w=Hc,w!==null)))throw w;h.memoizedState=V,h.baseState=de,h.baseQueue=Re,A.lastRenderedState=V}return O===null&&(A.lanes=0),[h.memoizedState,A.dispatch]}function gn(h){var x=js(),w=x.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=h;var A=w.dispatch,O=w.pending,V=x.memoizedState;if(O!==null){w.pending=null;var de=O=O.next;do V=h(V,de.action),de=de.next;while(de!==O);Sr(V,x.memoizedState)||(mi=!0),x.memoizedState=V,x.baseQueue===null&&(x.baseState=V),w.lastRenderedState=V}return[V,A]}function d0(h,x,w){var A=da,O=js(),V=Ss;if(V){if(w===void 0)throw Error(r(407));w=w()}else w=x();var de=!Sr((Va||O).memoizedState,w);de&&(O.memoizedState=w,mi=!0),O=O.queue;var be=Hh.bind(null,A,O,h);if(qh(2048,8,be,[h]),O.getSnapshot!==x||de||xs!==null&&xs.memoizedState.tag&1){if(A.flags|=2048,Wc(9,m0(),u0.bind(null,A,O,w,x),null),dr===null)throw Error(r(349));V||(Ya&124)!==0||np(A,x,w)}return w}function np(h,x,w){h.flags|=16384,h={getSnapshot:x,value:w},x=da.updateQueue,x===null?(x=fi(),da.updateQueue=x,x.stores=[h]):(w=x.stores,w===null?x.stores=[h]:w.push(h))}function u0(h,x,w,A){x.value=w,x.getSnapshot=A,Tb(x)&&Eb(h)}function Hh(h,x,w){return w(function(){Tb(x)&&Eb(h)})}function Tb(h){var x=h.getSnapshot;h=h.value;try{var w=x();return!Sr(h,w)}catch{return!0}}function Eb(h){var x=gu(h,2);x!==null&&No(x,h,2)}function h0(h){var x=Js();if(typeof h=="function"){var w=h;if(h=w(),Vr){ct(!0);try{w()}finally{ct(!1)}}}return x.memoizedState=x.baseState=h,x.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:h},x}function Vc(h,x,w,A){return h.baseState=w,go(h,Va,typeof A=="function"?A:xn)}function a4(h,x,w,A,O){if(Bb(h))throw Error(r(485));if(h=x.action,h!==null){var V={payload:O,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(de){V.listeners.push(de)}};R.T!==null?w(!0):V.isTransition=!1,A(V),w=x.pending,w===null?(V.next=x.pending=V,Db(x,V)):(V.next=w.next,x.pending=w.next=V)}}function Db(h,x){var w=x.action,A=x.payload,O=h.state;if(x.isTransition){var V=R.T,de={};R.T=de;try{var be=w(O,A),Re=R.S;Re!==null&&Re(de,be),Mb(h,x,be)}catch(ot){Vh(h,x,ot)}finally{R.T=V}}else try{V=w(O,A),Mb(h,x,V)}catch(ot){Vh(h,x,ot)}}function Mb(h,x,w){w!==null&&typeof w=="object"&&typeof w.then=="function"?w.then(function(A){Kx(h,x,A)},function(A){return Vh(h,x,A)}):Kx(h,x,w)}function Kx(h,x,w){x.status="fulfilled",x.value=w,Yx(x),h.state=w,x=h.pending,x!==null&&(w=x.next,w===x?h.pending=null:(w=w.next,x.next=w,Db(h,w)))}function Vh(h,x,w){var A=h.pending;if(h.pending=null,A!==null){A=A.next;do x.status="rejected",x.reason=w,Yx(x),x=x.next;while(x!==A)}h.action=null}function Yx(h){h=h.listeners;for(var x=0;x<h.length;x++)(0,h[x])()}function Xx(h,x){return x}function f0(h,x){if(Ss){var w=dr.formState;if(w!==null){e:{var A=da;if(Ss){if(Ar){t:{for(var O=Ar,V=Ko;O.nodeType!==8;){if(!V){O=null;break t}if(O=Yc(O.nextSibling),O===null){O=null;break t}}V=O.data,O=V==="F!"||V==="F"?O:null}if(O){Ar=Yc(O.nextSibling),A=O.data==="F!";break e}}ju(A)}A=!1}A&&(x=w[0])}}return w=Js(),w.memoizedState=w.baseState=x,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xx,lastRenderedState:x},w.queue=A,w=PT.bind(null,da,A),A.dispatch=w,A=h0(!1),V=s4.bind(null,da,!1,A.queue),A=Js(),O={state:x,dispatch:null,action:h,pending:null},A.queue=O,w=a4.bind(null,da,O,V,w),O.dispatch=w,A.memoizedState=h,[x,w,!1]}function ip(h){var x=js();return Wh(x,Va,h)}function Wh(h,x,w){if(x=go(h,x,Xx)[0],h=Qo(xn)[0],typeof x=="object"&&x!==null&&typeof x.then=="function")try{var A=Kn(x)}catch(de){throw de===ge?je:de}else A=x;x=js();var O=x.queue,V=O.dispatch;return w!==x.memoizedState&&(da.flags|=2048,Wc(9,m0(),Pb.bind(null,O,w),null)),[A,V,h]}function Pb(h,x){h.action=x}function Lb(h){var x=js(),w=Va;if(w!==null)return Wh(x,w,h);js(),x=x.memoizedState,w=js();var A=w.queue.dispatch;return w.memoizedState=h,[x,A,!1]}function Wc(h,x,w,A){return h={tag:h,create:w,deps:A,inst:x,next:null},x=da.updateQueue,x===null&&(x=fi(),da.updateQueue=x),w=x.lastEffect,w===null?x.lastEffect=h.next=h:(A=w.next,w.next=h,h.next=A,x.lastEffect=h),h}function m0(){return{destroy:void 0,resource:void 0}}function lp(){return js().memoizedState}function vo(h,x,w,A){var O=Js();A=A===void 0?null:A,da.flags|=h,O.memoizedState=Wc(1|x,m0(),w,A)}function qh(h,x,w,A){var O=js();A=A===void 0?null:A;var V=O.memoizedState.inst;Va!==null&&A!==null&&pn(A,Va.memoizedState.deps)?O.memoizedState=Wc(x,V,w,A):(da.flags|=h,O.memoizedState=Wc(1|x,V,w,A))}function Jx(h,x){vo(8390656,8,h,x)}function Ob(h,x){qh(2048,8,h,x)}function Qx(h,x){return qh(4,2,h,x)}function ku(h,x){return qh(4,4,h,x)}function Rb(h,x){if(typeof x=="function"){h=h();var w=x(h);return function(){typeof w=="function"?w():x(null)}}if(x!=null)return h=h(),x.current=h,function(){x.current=null}}function Zx(h,x,w){w=w!=null?w.concat([h]):null,qh(4,4,Rb.bind(null,x,h),w)}function eg(){}function tg(h,x){var w=js();x=x===void 0?null:x;var A=w.memoizedState;return x!==null&&pn(x,A[1])?A[0]:(w.memoizedState=[h,x],h)}function Fb(h,x){var w=js();x=x===void 0?null:x;var A=w.memoizedState;if(x!==null&&pn(x,A[1]))return A[0];if(A=h(),Vr){ct(!0);try{h()}finally{ct(!1)}}return w.memoizedState=[A,x],A}function Su(h,x,w){return w===void 0||(Ya&1073741824)!==0?h.memoizedState=x:(h.memoizedState=w,h=TE(),da.lanes|=h,Zh|=h,w)}function op(h,x,w,A){return Sr(w,x)?w:La.current!==null?(h=Su(h,w,A),Sr(h,x)||(mi=!0),h):(Ya&42)===0?(mi=!0,h.memoizedState=w):(h=TE(),da.lanes|=h,Zh|=h,x)}function p0(h,x,w,A,O){var V=q.p;q.p=V!==0&&8>V?V:8;var de=R.T,be={};R.T=be,s4(h,!1,x,w);try{var Re=O(),ot=R.S;if(ot!==null&&ot(be,Re),Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var Tt=_b(Re,A);ng(h,x,Tt,jo(h))}else ng(h,x,A,jo(h))}catch(Lt){ng(h,x,{then:function(){},status:"rejected",reason:Lt},jo())}finally{q.p=V,R.T=de}}function qc(){}function Zo(h,x,w,A){if(h.tag!==5)throw Error(r(476));var O=Gc(h).queue;p0(h,O,x,ae,w===null?qc:function(){return x0(h),w(A)})}function Gc(h){var x=h.memoizedState;if(x!==null)return x;x={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:ae},next:null};var w={};return x.next={memoizedState:w,baseState:w,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:w},next:null},h.memoizedState=x,h=h.alternate,h!==null&&(h.memoizedState=x),x}function x0(h){var x=Gc(h).next.queue;ng(h,x,{},jo())}function g0(){return fn(Ng)}function ag(){return js().memoizedState}function Ib(){return js().memoizedState}function sg(h){for(var x=h.return;x!==null;){switch(x.tag){case 24:case 3:var w=jo();h=wt(w);var A=It(x,h,w);A!==null&&(No(A,x,w),Pt(A,x,w)),x={cache:qx()},h.payload=x;return}x=x.return}}function rg(h,x,w){var A=jo();w={lane:A,revertLane:0,action:w,hasEagerState:!1,eagerState:null,next:null},Bb(h)?LT(x,w):(w=Jm(h,x,w,A),w!==null&&(No(w,h,A),OT(w,x,A)))}function PT(h,x,w){var A=jo();ng(h,x,w,A)}function ng(h,x,w,A){var O={lane:A,revertLane:0,action:w,hasEagerState:!1,eagerState:null,next:null};if(Bb(h))LT(x,O);else{var V=h.alternate;if(h.lanes===0&&(V===null||V.lanes===0)&&(V=x.lastRenderedReducer,V!==null))try{var de=x.lastRenderedState,be=V(de,w);if(O.hasEagerState=!0,O.eagerState=be,Sr(be,de))return s0(h,x,O,0),dr===null&&a0(),!1}catch{}finally{}if(w=Jm(h,x,O,A),w!==null)return No(w,h,A),OT(w,x,A),!0}return!1}function s4(h,x,w,A){if(A={lane:2,revertLane:O4(),action:A,hasEagerState:!1,eagerState:null,next:null},Bb(h)){if(x)throw Error(r(479))}else x=Jm(h,w,A,2),x!==null&&No(x,h,2)}function Bb(h){var x=h.alternate;return h===da||x!==null&&x===da}function LT(h,x){Hr=rr=!0;var w=h.pending;w===null?x.next=x:(x.next=w.next,w.next=x),h.pending=x}function OT(h,x,w){if((w&4194048)!==0){var A=x.lanes;A&=h.pendingLanes,w|=A,x.lanes=w,Fe(h,w)}}var $b={readContext:fn,use:Os,useCallback:_a,useContext:_a,useEffect:_a,useImperativeHandle:_a,useLayoutEffect:_a,useInsertionEffect:_a,useMemo:_a,useReducer:_a,useRef:_a,useState:_a,useDebugValue:_a,useDeferredValue:_a,useTransition:_a,useSyncExternalStore:_a,useId:_a,useHostTransitionStatus:_a,useFormState:_a,useActionState:_a,useOptimistic:_a,useMemoCache:_a,useCacheRefresh:_a},RT={readContext:fn,use:Os,useCallback:function(h,x){return Js().memoizedState=[h,x===void 0?null:x],h},useContext:fn,useEffect:Jx,useImperativeHandle:function(h,x,w){w=w!=null?w.concat([h]):null,vo(4194308,4,Rb.bind(null,x,h),w)},useLayoutEffect:function(h,x){return vo(4194308,4,h,x)},useInsertionEffect:function(h,x){vo(4,2,h,x)},useMemo:function(h,x){var w=Js();x=x===void 0?null:x;var A=h();if(Vr){ct(!0);try{h()}finally{ct(!1)}}return w.memoizedState=[A,x],A},useReducer:function(h,x,w){var A=Js();if(w!==void 0){var O=w(x);if(Vr){ct(!0);try{w(x)}finally{ct(!1)}}}else O=x;return A.memoizedState=A.baseState=O,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:O},A.queue=h,h=h.dispatch=rg.bind(null,da,h),[A.memoizedState,h]},useRef:function(h){var x=Js();return h={current:h},x.memoizedState=h},useState:function(h){h=h0(h);var x=h.queue,w=PT.bind(null,da,x);return x.dispatch=w,[h.memoizedState,w]},useDebugValue:eg,useDeferredValue:function(h,x){var w=Js();return Su(w,h,x)},useTransition:function(){var h=h0(!1);return h=p0.bind(null,da,h.queue,!0,!1),Js().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,x,w){var A=da,O=Js();if(Ss){if(w===void 0)throw Error(r(407));w=w()}else{if(w=x(),dr===null)throw Error(r(349));(Ns&124)!==0||np(A,x,w)}O.memoizedState=w;var V={value:w,getSnapshot:x};return O.queue=V,Jx(Hh.bind(null,A,V,h),[h]),A.flags|=2048,Wc(9,m0(),u0.bind(null,A,V,w,x),null),w},useId:function(){var h=Js(),x=dr.identifierPrefix;if(Ss){var w=$c,A=Bc;w=(A&~(1<<32-Je(A)-1)).toString(32)+w,x=""+x+"R"+w,w=_r++,0<w&&(x+="H"+w.toString(32)),x+=""}else w=Tr++,x=""+x+"r"+w.toString(32)+"";return h.memoizedState=x},useHostTransitionStatus:g0,useFormState:f0,useActionState:f0,useOptimistic:function(h){var x=Js();x.memoizedState=x.baseState=h;var w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return x.queue=w,x=s4.bind(null,da,!0,w),w.dispatch=x,[h,x]},useMemoCache:Pi,useCacheRefresh:function(){return Js().memoizedState=sg.bind(null,da)}},FT={readContext:fn,use:Os,useCallback:tg,useContext:fn,useEffect:Ob,useImperativeHandle:Zx,useInsertionEffect:Qx,useLayoutEffect:ku,useMemo:Fb,useReducer:Qo,useRef:lp,useState:function(){return Qo(xn)},useDebugValue:eg,useDeferredValue:function(h,x){var w=js();return op(w,Va.memoizedState,h,x)},useTransition:function(){var h=Qo(xn)[0],x=js().memoizedState;return[typeof h=="boolean"?h:Kn(h),x]},useSyncExternalStore:d0,useId:ag,useHostTransitionStatus:g0,useFormState:ip,useActionState:ip,useOptimistic:function(h,x){var w=js();return Vc(w,Va,h,x)},useMemoCache:Pi,useCacheRefresh:Ib},QQ={readContext:fn,use:Os,useCallback:tg,useContext:fn,useEffect:Ob,useImperativeHandle:Zx,useInsertionEffect:Qx,useLayoutEffect:ku,useMemo:Fb,useReducer:gn,useRef:lp,useState:function(){return gn(xn)},useDebugValue:eg,useDeferredValue:function(h,x){var w=js();return Va===null?Su(w,h,x):op(w,Va.memoizedState,h,x)},useTransition:function(){var h=gn(xn)[0],x=js().memoizedState;return[typeof h=="boolean"?h:Kn(h),x]},useSyncExternalStore:d0,useId:ag,useHostTransitionStatus:g0,useFormState:Lb,useActionState:Lb,useOptimistic:function(h,x){var w=js();return Va!==null?Vc(w,Va,h,x):(w.baseState=h,[h,w.queue.dispatch])},useMemoCache:Pi,useCacheRefresh:Ib},cp=null,ig=0;function Ub(h){var x=ig;return ig+=1,cp===null&&(cp=[]),lt(cp,h,x)}function lg(h,x){x=x.props.ref,h.ref=x!==void 0?x:null}function zb(h,x){throw x.$$typeof===f?Error(r(525)):(h=Object.prototype.toString.call(x),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":h)))}function IT(h){var x=h._init;return x(h._payload)}function BT(h){function x(Qe,We){if(h){var nt=Qe.deletions;nt===null?(Qe.deletions=[We],Qe.flags|=16):nt.push(We)}}function w(Qe,We){if(!h)return null;for(;We!==null;)x(Qe,We),We=We.sibling;return null}function A(Qe){for(var We=new Map;Qe!==null;)Qe.key!==null?We.set(Qe.key,Qe):We.set(Qe.index,Qe),Qe=Qe.sibling;return We}function O(Qe,We){return Qe=Go(Qe,We),Qe.index=0,Qe.sibling=null,Qe}function V(Qe,We,nt){return Qe.index=nt,h?(nt=Qe.alternate,nt!==null?(nt=nt.index,nt<We?(Qe.flags|=67108866,We):nt):(Qe.flags|=67108866,We)):(Qe.flags|=1048576,We)}function de(Qe){return h&&Qe.alternate===null&&(Qe.flags|=67108866),Qe}function be(Qe,We,nt,Dt){return We===null||We.tag!==6?(We=Zm(nt,Qe.mode,Dt),We.return=Qe,We):(We=O(We,nt),We.return=Qe,We)}function Re(Qe,We,nt,Dt){var ha=nt.type;return ha===v?Tt(Qe,We,nt.props.children,Dt,nt.key):We!==null&&(We.elementType===ha||typeof ha=="object"&&ha!==null&&ha.$$typeof===L&&IT(ha)===We.type)?(We=O(We,nt.props),lg(We,nt),We.return=Qe,We):(We=bu(nt.type,nt.key,nt.props,null,Qe.mode,Dt),lg(We,nt),We.return=Qe,We)}function ot(Qe,We,nt,Dt){return We===null||We.tag!==4||We.stateNode.containerInfo!==nt.containerInfo||We.stateNode.implementation!==nt.implementation?(We=n0(nt,Qe.mode,Dt),We.return=Qe,We):(We=O(We,nt.children||[]),We.return=Qe,We)}function Tt(Qe,We,nt,Dt,ha){return We===null||We.tag!==7?(We=Fc(nt,Qe.mode,Dt,ha),We.return=Qe,We):(We=O(We,nt),We.return=Qe,We)}function Lt(Qe,We,nt){if(typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint")return We=Zm(""+We,Qe.mode,nt),We.return=Qe,We;if(typeof We=="object"&&We!==null){switch(We.$$typeof){case p:return nt=bu(We.type,We.key,We.props,null,Qe.mode,nt),lg(nt,We),nt.return=Qe,nt;case m:return We=n0(We,Qe.mode,nt),We.return=Qe,We;case L:var Dt=We._init;return We=Dt(We._payload),Lt(Qe,We,nt)}if(W(We)||F(We))return We=Fc(We,Qe.mode,nt,null),We.return=Qe,We;if(typeof We.then=="function")return Lt(Qe,Ub(We),nt);if(We.$$typeof===k)return Lt(Qe,Ld(Qe,We),nt);zb(Qe,We)}return null}function dt(Qe,We,nt,Dt){var ha=We!==null?We.key:null;if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return ha!==null?null:be(Qe,We,""+nt,Dt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case p:return nt.key===ha?Re(Qe,We,nt,Dt):null;case m:return nt.key===ha?ot(Qe,We,nt,Dt):null;case L:return ha=nt._init,nt=ha(nt._payload),dt(Qe,We,nt,Dt)}if(W(nt)||F(nt))return ha!==null?null:Tt(Qe,We,nt,Dt,null);if(typeof nt.then=="function")return dt(Qe,We,Ub(nt),Dt);if(nt.$$typeof===k)return dt(Qe,We,Ld(Qe,nt),Dt);zb(Qe,nt)}return null}function ht(Qe,We,nt,Dt,ha){if(typeof Dt=="string"&&Dt!==""||typeof Dt=="number"||typeof Dt=="bigint")return Qe=Qe.get(nt)||null,be(We,Qe,""+Dt,ha);if(typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case p:return Qe=Qe.get(Dt.key===null?nt:Dt.key)||null,Re(We,Qe,Dt,ha);case m:return Qe=Qe.get(Dt.key===null?nt:Dt.key)||null,ot(We,Qe,Dt,ha);case L:var is=Dt._init;return Dt=is(Dt._payload),ht(Qe,We,nt,Dt,ha)}if(W(Dt)||F(Dt))return Qe=Qe.get(nt)||null,Tt(We,Qe,Dt,ha,null);if(typeof Dt.then=="function")return ht(Qe,We,nt,Ub(Dt),ha);if(Dt.$$typeof===k)return ht(Qe,We,nt,Ld(We,Dt),ha);zb(We,Dt)}return null}function Oa(Qe,We,nt,Dt){for(var ha=null,is=null,wa=We,Ea=We=0,xi=null;wa!==null&&Ea<nt.length;Ea++){wa.index>Ea?(xi=wa,wa=null):xi=wa.sibling;var Ts=dt(Qe,wa,nt[Ea],Dt);if(Ts===null){wa===null&&(wa=xi);break}h&&wa&&Ts.alternate===null&&x(Qe,wa),We=V(Ts,We,Ea),is===null?ha=Ts:is.sibling=Ts,is=Ts,wa=xi}if(Ea===nt.length)return w(Qe,wa),Ss&&wu(Qe,Ea),ha;if(wa===null){for(;Ea<nt.length;Ea++)wa=Lt(Qe,nt[Ea],Dt),wa!==null&&(We=V(wa,We,Ea),is===null?ha=wa:is.sibling=wa,is=wa);return Ss&&wu(Qe,Ea),ha}for(wa=A(wa);Ea<nt.length;Ea++)xi=ht(wa,Qe,Ea,nt[Ea],Dt),xi!==null&&(h&&xi.alternate!==null&&wa.delete(xi.key===null?Ea:xi.key),We=V(xi,We,Ea),is===null?ha=xi:is.sibling=xi,is=xi);return h&&wa.forEach(function(cf){return x(Qe,cf)}),Ss&&wu(Qe,Ea),ha}function Ta(Qe,We,nt,Dt){if(nt==null)throw Error(r(151));for(var ha=null,is=null,wa=We,Ea=We=0,xi=null,Ts=nt.next();wa!==null&&!Ts.done;Ea++,Ts=nt.next()){wa.index>Ea?(xi=wa,wa=null):xi=wa.sibling;var cf=dt(Qe,wa,Ts.value,Dt);if(cf===null){wa===null&&(wa=xi);break}h&&wa&&cf.alternate===null&&x(Qe,wa),We=V(cf,We,Ea),is===null?ha=cf:is.sibling=cf,is=cf,wa=xi}if(Ts.done)return w(Qe,wa),Ss&&wu(Qe,Ea),ha;if(wa===null){for(;!Ts.done;Ea++,Ts=nt.next())Ts=Lt(Qe,Ts.value,Dt),Ts!==null&&(We=V(Ts,We,Ea),is===null?ha=Ts:is.sibling=Ts,is=Ts);return Ss&&wu(Qe,Ea),ha}for(wa=A(wa);!Ts.done;Ea++,Ts=nt.next())Ts=ht(wa,Qe,Ea,Ts.value,Dt),Ts!==null&&(h&&Ts.alternate!==null&&wa.delete(Ts.key===null?Ea:Ts.key),We=V(Ts,We,Ea),is===null?ha=Ts:is.sibling=Ts,is=Ts);return h&&wa.forEach(function(ZZ){return x(Qe,ZZ)}),Ss&&wu(Qe,Ea),ha}function Zs(Qe,We,nt,Dt){if(typeof nt=="object"&&nt!==null&&nt.type===v&&nt.key===null&&(nt=nt.props.children),typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case p:e:{for(var ha=nt.key;We!==null;){if(We.key===ha){if(ha=nt.type,ha===v){if(We.tag===7){w(Qe,We.sibling),Dt=O(We,nt.props.children),Dt.return=Qe,Qe=Dt;break e}}else if(We.elementType===ha||typeof ha=="object"&&ha!==null&&ha.$$typeof===L&&IT(ha)===We.type){w(Qe,We.sibling),Dt=O(We,nt.props),lg(Dt,nt),Dt.return=Qe,Qe=Dt;break e}w(Qe,We);break}else x(Qe,We);We=We.sibling}nt.type===v?(Dt=Fc(nt.props.children,Qe.mode,Dt,nt.key),Dt.return=Qe,Qe=Dt):(Dt=bu(nt.type,nt.key,nt.props,null,Qe.mode,Dt),lg(Dt,nt),Dt.return=Qe,Qe=Dt)}return de(Qe);case m:e:{for(ha=nt.key;We!==null;){if(We.key===ha)if(We.tag===4&&We.stateNode.containerInfo===nt.containerInfo&&We.stateNode.implementation===nt.implementation){w(Qe,We.sibling),Dt=O(We,nt.children||[]),Dt.return=Qe,Qe=Dt;break e}else{w(Qe,We);break}else x(Qe,We);We=We.sibling}Dt=n0(nt,Qe.mode,Dt),Dt.return=Qe,Qe=Dt}return de(Qe);case L:return ha=nt._init,nt=ha(nt._payload),Zs(Qe,We,nt,Dt)}if(W(nt))return Oa(Qe,We,nt,Dt);if(F(nt)){if(ha=F(nt),typeof ha!="function")throw Error(r(150));return nt=ha.call(nt),Ta(Qe,We,nt,Dt)}if(typeof nt.then=="function")return Zs(Qe,We,Ub(nt),Dt);if(nt.$$typeof===k)return Zs(Qe,We,Ld(Qe,nt),Dt);zb(Qe,nt)}return typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint"?(nt=""+nt,We!==null&&We.tag===6?(w(Qe,We.sibling),Dt=O(We,nt),Dt.return=Qe,Qe=Dt):(w(Qe,We),Dt=Zm(nt,Qe.mode,Dt),Dt.return=Qe,Qe=Dt),de(Qe)):w(Qe,We)}return function(Qe,We,nt,Dt){try{ig=0;var ha=Zs(Qe,We,nt,Dt);return cp=null,ha}catch(wa){if(wa===ge||wa===je)throw wa;var is=hi(29,wa,null,Qe.mode);return is.lanes=Dt,is.return=Qe,is}finally{}}}var dp=BT(!0),$T=BT(!1),ec=oe(null),Od=null;function Gh(h){var x=h.alternate;G(Yn,Yn.current&1),G(ec,h),Od===null&&(x===null||La.current!==null||x.memoizedState!==null)&&(Od=h)}function UT(h){if(h.tag===22){if(G(Yn,Yn.current),G(ec,h),Od===null){var x=h.alternate;x!==null&&x.memoizedState!==null&&(Od=h)}}else Kh()}function Kh(){G(Yn,Yn.current),G(ec,ec.current)}function Cu(h){D(ec),Od===h&&(Od=null),D(Yn)}var Yn=oe(0);function Hb(h){for(var x=h;x!==null;){if(x.tag===13){var w=x.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||G4(w)))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if((x.flags&128)!==0)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}function r4(h,x,w,A){x=h.memoizedState,w=w(A,x),w=w==null?x:u({},x,w),h.memoizedState=w,h.lanes===0&&(h.updateQueue.baseState=w)}var n4={enqueueSetState:function(h,x,w){h=h._reactInternals;var A=jo(),O=wt(A);O.payload=x,w!=null&&(O.callback=w),x=It(h,O,A),x!==null&&(No(x,h,A),Pt(x,h,A))},enqueueReplaceState:function(h,x,w){h=h._reactInternals;var A=jo(),O=wt(A);O.tag=1,O.payload=x,w!=null&&(O.callback=w),x=It(h,O,A),x!==null&&(No(x,h,A),Pt(x,h,A))},enqueueForceUpdate:function(h,x){h=h._reactInternals;var w=jo(),A=wt(w);A.tag=2,x!=null&&(A.callback=x),x=It(h,A,w),x!==null&&(No(x,h,w),Pt(x,h,w))}};function zT(h,x,w,A,O,V,de){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(A,V,de):x.prototype&&x.prototype.isPureReactComponent?!Gi(w,A)||!Gi(O,V):!0}function HT(h,x,w,A){h=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(w,A),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(w,A),x.state!==h&&n4.enqueueReplaceState(x,x.state,null)}function v0(h,x){var w=x;if("ref"in x){w={};for(var A in x)A!=="ref"&&(w[A]=x[A])}if(h=h.defaultProps){w===x&&(w=u({},w));for(var O in h)w[O]===void 0&&(w[O]=h[O])}return w}var Vb=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var x=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(x))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)};function VT(h){Vb(h)}function WT(h){console.error(h)}function qT(h){Vb(h)}function Wb(h,x){try{var w=h.onUncaughtError;w(x.value,{componentStack:x.stack})}catch(A){setTimeout(function(){throw A})}}function GT(h,x,w){try{var A=h.onCaughtError;A(w.value,{componentStack:w.stack,errorBoundary:x.tag===1?x.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function i4(h,x,w){return w=wt(w),w.tag=3,w.payload={element:null},w.callback=function(){Wb(h,x)},w}function KT(h){return h=wt(h),h.tag=3,h}function YT(h,x,w,A){var O=w.type.getDerivedStateFromError;if(typeof O=="function"){var V=A.value;h.payload=function(){return O(V)},h.callback=function(){GT(x,w,A)}}var de=w.stateNode;de!==null&&typeof de.componentDidCatch=="function"&&(h.callback=function(){GT(x,w,A),typeof O!="function"&&(ef===null?ef=new Set([this]):ef.add(this));var be=A.stack;this.componentDidCatch(A.value,{componentStack:be!==null?be:""})})}function ZQ(h,x,w,A,O){if(w.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){if(x=w.alternate,x!==null&&zh(x,w,O,!0),w=ec.current,w!==null){switch(w.tag){case 13:return Od===null?E4():w.alternate===null&&en===0&&(en=3),w.flags&=-257,w.flags|=65536,w.lanes=O,A===ke?w.flags|=16384:(x=w.updateQueue,x===null?w.updateQueue=new Set([A]):x.add(A),M4(h,A,O)),!1;case 22:return w.flags|=65536,A===ke?w.flags|=16384:(x=w.updateQueue,x===null?(x={transitions:null,markerInstances:null,retryQueue:new Set([A])},w.updateQueue=x):(w=x.retryQueue,w===null?x.retryQueue=new Set([A]):w.add(A)),M4(h,A,O)),!1}throw Error(r(435,w.tag))}return M4(h,A,O),E4(),!1}if(Ss)return x=ec.current,x!==null?((x.flags&65536)===0&&(x.flags|=256),x.flags|=65536,x.lanes=O,A!==Wx&&(h=Error(r(422),{cause:A}),Uh(jl(h,w)))):(A!==Wx&&(x=Error(r(423),{cause:A}),Uh(jl(x,w))),h=h.current.alternate,h.flags|=65536,O&=-O,h.lanes|=O,A=jl(A,w),O=i4(h.stateNode,A,O),xa(h,O),en!==4&&(en=2)),!1;var V=Error(r(520),{cause:A});if(V=jl(V,w),mg===null?mg=[V]:mg.push(V),en!==4&&(en=2),x===null)return!0;A=jl(A,w),w=x;do{switch(w.tag){case 3:return w.flags|=65536,h=O&-O,w.lanes|=h,h=i4(w.stateNode,A,h),xa(w,h),!1;case 1:if(x=w.type,V=w.stateNode,(w.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(ef===null||!ef.has(V))))return w.flags|=65536,O&=-O,w.lanes|=O,O=KT(O),YT(O,h,w,A),xa(w,O),!1}w=w.return}while(w!==null);return!1}var XT=Error(r(461)),mi=!1;function Li(h,x,w,A){x.child=h===null?$T(x,null,w,A):dp(x,h.child,w,A)}function JT(h,x,w,A,O){w=w.render;var V=x.ref;if("ref"in A){var de={};for(var be in A)be!=="ref"&&(de[be]=A[be])}else de=A;return Jo(x),A=Cl(h,x,w,de,V,O),be=Wr(),h!==null&&!mi?(Mi(h,x,O),Au(h,x,O)):(Ss&&be&&i0(x),x.flags|=1,Li(h,x,A,O),x.child)}function QT(h,x,w,A,O){if(h===null){var V=w.type;return typeof V=="function"&&!Bh(V)&&V.defaultProps===void 0&&w.compare===null?(x.tag=15,x.type=V,ZT(h,x,V,A,O)):(h=bu(w.type,null,A,x,x.mode,O),h.ref=x.ref,h.return=x,x.child=h)}if(V=h.child,!m4(h,O)){var de=V.memoizedProps;if(w=w.compare,w=w!==null?w:Gi,w(de,A)&&h.ref===x.ref)return Au(h,x,O)}return x.flags|=1,h=Go(V,A),h.ref=x.ref,h.return=x,x.child=h}function ZT(h,x,w,A,O){if(h!==null){var V=h.memoizedProps;if(Gi(V,A)&&h.ref===x.ref)if(mi=!1,x.pendingProps=A=V,m4(h,O))(h.flags&131072)!==0&&(mi=!0);else return x.lanes=h.lanes,Au(h,x,O)}return l4(h,x,w,A,O)}function eE(h,x,w){var A=x.pendingProps,O=A.children,V=h!==null?h.memoizedState:null;if(A.mode==="hidden"){if((x.flags&128)!==0){if(A=V!==null?V.baseLanes|w:w,h!==null){for(O=x.child=h.child,V=0;O!==null;)V=V|O.lanes|O.childLanes,O=O.sibling;x.childLanes=V&~A}else x.childLanes=0,x.child=null;return tE(h,x,A,w)}if((w&536870912)!==0)x.memoizedState={baseLanes:0,cachePool:null},h!==null&&re(x,V!==null?V.cachePool:null),V!==null?Zt(x,V):xr(),UT(x);else return x.lanes=x.childLanes=536870912,tE(h,x,V!==null?V.baseLanes|w:w,w)}else V!==null?(re(x,V.cachePool),Zt(x,V),Kh(),x.memoizedState=null):(h!==null&&re(x,null),xr(),Kh());return Li(h,x,O,w),x.child}function tE(h,x,w,A){var O=Z();return O=O===null?null:{parent:mn._currentValue,pool:O},x.memoizedState={baseLanes:w,cachePool:O},h!==null&&re(x,null),xr(),UT(x),h!==null&&zh(h,x,A,!0),null}function qb(h,x){var w=x.ref;if(w===null)h!==null&&h.ref!==null&&(x.flags|=4194816);else{if(typeof w!="function"&&typeof w!="object")throw Error(r(284));(h===null||h.ref!==w)&&(x.flags|=4194816)}}function l4(h,x,w,A,O){return Jo(x),w=Cl(h,x,w,A,void 0,O),A=Wr(),h!==null&&!mi?(Mi(h,x,O),Au(h,x,O)):(Ss&&A&&i0(x),x.flags|=1,Li(h,x,w,O),x.child)}function aE(h,x,w,A,O,V){return Jo(x),x.updateQueue=null,w=Di(x,A,w,O),Er(h),A=Wr(),h!==null&&!mi?(Mi(h,x,V),Au(h,x,V)):(Ss&&A&&i0(x),x.flags|=1,Li(h,x,w,V),x.child)}function sE(h,x,w,A,O){if(Jo(x),x.stateNode===null){var V=Mn,de=w.contextType;typeof de=="object"&&de!==null&&(V=fn(de)),V=new w(A,V),x.memoizedState=V.state!==null&&V.state!==void 0?V.state:null,V.updater=n4,x.stateNode=V,V._reactInternals=x,V=x.stateNode,V.props=A,V.state=x.memoizedState,V.refs={},it(x),de=w.contextType,V.context=typeof de=="object"&&de!==null?fn(de):Mn,V.state=x.memoizedState,de=w.getDerivedStateFromProps,typeof de=="function"&&(r4(x,w,de,A),V.state=x.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof V.getSnapshotBeforeUpdate=="function"||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(de=V.state,typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount(),de!==V.state&&n4.enqueueReplaceState(V,V.state,null),ia(x,A,V,O),Ba(),V.state=x.memoizedState),typeof V.componentDidMount=="function"&&(x.flags|=4194308),A=!0}else if(h===null){V=x.stateNode;var be=x.memoizedProps,Re=v0(w,be);V.props=Re;var ot=V.context,Tt=w.contextType;de=Mn,typeof Tt=="object"&&Tt!==null&&(de=fn(Tt));var Lt=w.getDerivedStateFromProps;Tt=typeof Lt=="function"||typeof V.getSnapshotBeforeUpdate=="function",be=x.pendingProps!==be,Tt||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(be||ot!==de)&&HT(x,V,A,de),gt=!1;var dt=x.memoizedState;V.state=dt,ia(x,A,V,O),Ba(),ot=x.memoizedState,be||dt!==ot||gt?(typeof Lt=="function"&&(r4(x,w,Lt,A),ot=x.memoizedState),(Re=gt||zT(x,w,Re,A,dt,ot,de))?(Tt||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(x.flags|=4194308)):(typeof V.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=A,x.memoizedState=ot),V.props=A,V.state=ot,V.context=de,A=Re):(typeof V.componentDidMount=="function"&&(x.flags|=4194308),A=!1)}else{V=x.stateNode,jt(h,x),de=x.memoizedProps,Tt=v0(w,de),V.props=Tt,Lt=x.pendingProps,dt=V.context,ot=w.contextType,Re=Mn,typeof ot=="object"&&ot!==null&&(Re=fn(ot)),be=w.getDerivedStateFromProps,(ot=typeof be=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(de!==Lt||dt!==Re)&&HT(x,V,A,Re),gt=!1,dt=x.memoizedState,V.state=dt,ia(x,A,V,O),Ba();var ht=x.memoizedState;de!==Lt||dt!==ht||gt||h!==null&&h.dependencies!==null&&sp(h.dependencies)?(typeof be=="function"&&(r4(x,w,be,A),ht=x.memoizedState),(Tt=gt||zT(x,w,Tt,A,dt,ht,Re)||h!==null&&h.dependencies!==null&&sp(h.dependencies))?(ot||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(A,ht,Re),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(A,ht,Re)),typeof V.componentDidUpdate=="function"&&(x.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof V.componentDidUpdate!="function"||de===h.memoizedProps&&dt===h.memoizedState||(x.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||de===h.memoizedProps&&dt===h.memoizedState||(x.flags|=1024),x.memoizedProps=A,x.memoizedState=ht),V.props=A,V.state=ht,V.context=Re,A=Tt):(typeof V.componentDidUpdate!="function"||de===h.memoizedProps&&dt===h.memoizedState||(x.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||de===h.memoizedProps&&dt===h.memoizedState||(x.flags|=1024),A=!1)}return V=A,qb(h,x),A=(x.flags&128)!==0,V||A?(V=x.stateNode,w=A&&typeof w.getDerivedStateFromError!="function"?null:V.render(),x.flags|=1,h!==null&&A?(x.child=dp(x,h.child,null,O),x.child=dp(x,null,w,O)):Li(h,x,w,O),x.memoizedState=V.state,h=x.child):h=Au(h,x,O),h}function rE(h,x,w,A){return Sl(),x.flags|=256,Li(h,x,w,A),x.child}var o4={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function c4(h){return{baseLanes:h,cachePool:me()}}function d4(h,x,w){return h=h!==null?h.childLanes&~w:0,x&&(h|=tc),h}function nE(h,x,w){var A=x.pendingProps,O=!1,V=(x.flags&128)!==0,de;if((de=V)||(de=h!==null&&h.memoizedState===null?!1:(Yn.current&2)!==0),de&&(O=!0,x.flags&=-129),de=(x.flags&32)!==0,x.flags&=-33,h===null){if(Ss){if(O?Gh(x):Kh(),Ss){var be=Ar,Re;if(Re=be){e:{for(Re=be,be=Ko;Re.nodeType!==8;){if(!be){be=null;break e}if(Re=Yc(Re.nextSibling),Re===null){be=null;break e}}be=Re}be!==null?(x.memoizedState={dehydrated:be,treeContext:yu!==null?{id:Bc,overflow:$c}:null,retryLane:536870912,hydrationErrors:null},Re=hi(18,null,null,0),Re.stateNode=be,Re.return=x,x.child=Re,hn=x,Ar=null,Re=!0):Re=!1}Re||ju(x)}if(be=x.memoizedState,be!==null&&(be=be.dehydrated,be!==null))return G4(be)?x.lanes=32:x.lanes=536870912,null;Cu(x)}return be=A.children,A=A.fallback,O?(Kh(),O=x.mode,be=Gb({mode:"hidden",children:be},O),A=Fc(A,O,w,null),be.return=x,A.return=x,be.sibling=A,x.child=be,O=x.child,O.memoizedState=c4(w),O.childLanes=d4(h,de,w),x.memoizedState=o4,A):(Gh(x),u4(x,be))}if(Re=h.memoizedState,Re!==null&&(be=Re.dehydrated,be!==null)){if(V)x.flags&256?(Gh(x),x.flags&=-257,x=h4(h,x,w)):x.memoizedState!==null?(Kh(),x.child=h.child,x.flags|=128,x=null):(Kh(),O=A.fallback,be=x.mode,A=Gb({mode:"visible",children:A.children},be),O=Fc(O,be,w,null),O.flags|=2,A.return=x,O.return=x,A.sibling=O,x.child=A,dp(x,h.child,null,w),A=x.child,A.memoizedState=c4(w),A.childLanes=d4(h,de,w),x.memoizedState=o4,x=O);else if(Gh(x),G4(be)){if(de=be.nextSibling&&be.nextSibling.dataset,de)var ot=de.dgst;de=ot,A=Error(r(419)),A.stack="",A.digest=de,Uh({value:A,source:null,stack:null}),x=h4(h,x,w)}else if(mi||zh(h,x,w,!1),de=(w&h.childLanes)!==0,mi||de){if(de=dr,de!==null&&(A=w&-w,A=(A&42)!==0?1:rt(A),A=(A&(de.suspendedLanes|w))!==0?0:A,A!==0&&A!==Re.retryLane))throw Re.retryLane=A,gu(h,A),No(de,h,A),XT;be.data==="$?"||E4(),x=h4(h,x,w)}else be.data==="$?"?(x.flags|=192,x.child=h.child,x=null):(h=Re.treeContext,Ar=Yc(be.nextSibling),hn=x,Ss=!0,Md=null,Ko=!1,h!==null&&(Wl[kl++]=Bc,Wl[kl++]=$c,Wl[kl++]=yu,Bc=h.id,$c=h.overflow,yu=x),x=u4(x,A.children),x.flags|=4096);return x}return O?(Kh(),O=A.fallback,be=x.mode,Re=h.child,ot=Re.sibling,A=Go(Re,{mode:"hidden",children:A.children}),A.subtreeFlags=Re.subtreeFlags&65011712,ot!==null?O=Go(ot,O):(O=Fc(O,be,w,null),O.flags|=2),O.return=x,A.return=x,A.sibling=O,x.child=A,A=O,O=x.child,be=h.child.memoizedState,be===null?be=c4(w):(Re=be.cachePool,Re!==null?(ot=mn._currentValue,Re=Re.parent!==ot?{parent:ot,pool:ot}:Re):Re=me(),be={baseLanes:be.baseLanes|w,cachePool:Re}),O.memoizedState=be,O.childLanes=d4(h,de,w),x.memoizedState=o4,A):(Gh(x),w=h.child,h=w.sibling,w=Go(w,{mode:"visible",children:A.children}),w.return=x,w.sibling=null,h!==null&&(de=x.deletions,de===null?(x.deletions=[h],x.flags|=16):de.push(h)),x.child=w,x.memoizedState=null,w)}function u4(h,x){return x=Gb({mode:"visible",children:x},h.mode),x.return=h,h.child=x}function Gb(h,x){return h=hi(22,h,null,x),h.lanes=0,h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},h}function h4(h,x,w){return dp(x,h.child,null,w),h=u4(x,x.pendingProps.children),h.flags|=2,x.memoizedState=null,h}function iE(h,x,w){h.lanes|=x;var A=h.alternate;A!==null&&(A.lanes|=x),tp(h.return,x,w)}function f4(h,x,w,A,O){var V=h.memoizedState;V===null?h.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:A,tail:w,tailMode:O}:(V.isBackwards=x,V.rendering=null,V.renderingStartTime=0,V.last=A,V.tail=w,V.tailMode=O)}function lE(h,x,w){var A=x.pendingProps,O=A.revealOrder,V=A.tail;if(Li(h,x,A.children,w),A=Yn.current,(A&2)!==0)A=A&1|2,x.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=x.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&iE(h,w,x);else if(h.tag===19)iE(h,w,x);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===x)break e;for(;h.sibling===null;){if(h.return===null||h.return===x)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}A&=1}switch(G(Yn,A),O){case"forwards":for(w=x.child,O=null;w!==null;)h=w.alternate,h!==null&&Hb(h)===null&&(O=w),w=w.sibling;w=O,w===null?(O=x.child,x.child=null):(O=w.sibling,w.sibling=null),f4(x,!1,O,w,V);break;case"backwards":for(w=null,O=x.child,x.child=null;O!==null;){if(h=O.alternate,h!==null&&Hb(h)===null){x.child=O;break}h=O.sibling,O.sibling=w,w=O,O=h}f4(x,!0,w,null,V);break;case"together":f4(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function Au(h,x,w){if(h!==null&&(x.dependencies=h.dependencies),Zh|=x.lanes,(w&x.childLanes)===0)if(h!==null){if(zh(h,x,w,!1),(w&x.childLanes)===0)return null}else return null;if(h!==null&&x.child!==h.child)throw Error(r(153));if(x.child!==null){for(h=x.child,w=Go(h,h.pendingProps),x.child=w,w.return=x;h.sibling!==null;)h=h.sibling,w=w.sibling=Go(h,h.pendingProps),w.return=x;w.sibling=null}return x.child}function m4(h,x){return(h.lanes&x)!==0?!0:(h=h.dependencies,!!(h!==null&&sp(h)))}function eZ(h,x,w){switch(x.tag){case 3:ne(x,x.stateNode.containerInfo),Pd(x,mn,h.memoizedState.cache),Sl();break;case 27:case 5:le(x);break;case 4:ne(x,x.stateNode.containerInfo);break;case 10:Pd(x,x.type,x.memoizedProps.value);break;case 13:var A=x.memoizedState;if(A!==null)return A.dehydrated!==null?(Gh(x),x.flags|=128,null):(w&x.child.childLanes)!==0?nE(h,x,w):(Gh(x),h=Au(h,x,w),h!==null?h.sibling:null);Gh(x);break;case 19:var O=(h.flags&128)!==0;if(A=(w&x.childLanes)!==0,A||(zh(h,x,w,!1),A=(w&x.childLanes)!==0),O){if(A)return lE(h,x,w);x.flags|=128}if(O=x.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),G(Yn,Yn.current),A)break;return null;case 22:case 23:return x.lanes=0,eE(h,x,w);case 24:Pd(x,mn,h.memoizedState.cache)}return Au(h,x,w)}function oE(h,x,w){if(h!==null)if(h.memoizedProps!==x.pendingProps)mi=!0;else{if(!m4(h,w)&&(x.flags&128)===0)return mi=!1,eZ(h,x,w);mi=(h.flags&131072)!==0}else mi=!1,Ss&&(x.flags&1048576)!==0&&Nb(x,ep,x.index);switch(x.lanes=0,x.tag){case 16:e:{h=x.pendingProps;var A=x.elementType,O=A._init;if(A=O(A._payload),x.type=A,typeof A=="function")Bh(A)?(h=v0(A,h),x.tag=1,x=sE(null,x,A,h,w)):(x.tag=0,x=l4(null,x,A,h,w));else{if(A!=null){if(O=A.$$typeof,O===S){x.tag=11,x=JT(null,x,A,h,w);break e}else if(O===P){x.tag=14,x=QT(null,x,A,h,w);break e}}throw x=I(A)||A,Error(r(306,x,""))}}return x;case 0:return l4(h,x,x.type,x.pendingProps,w);case 1:return A=x.type,O=v0(A,x.pendingProps),sE(h,x,A,O,w);case 3:e:{if(ne(x,x.stateNode.containerInfo),h===null)throw Error(r(387));A=x.pendingProps;var V=x.memoizedState;O=V.element,jt(h,x),ia(x,A,null,w);var de=x.memoizedState;if(A=de.cache,Pd(x,mn,A),A!==V.cache&&ap(x,[mn],w,!0),Ba(),A=de.element,V.isDehydrated)if(V={element:A,isDehydrated:!1,cache:de.cache},x.updateQueue.baseState=V,x.memoizedState=V,x.flags&256){x=rE(h,x,A,w);break e}else if(A!==O){O=jl(Error(r(424)),x),Uh(O),x=rE(h,x,A,w);break e}else{switch(h=x.stateNode.containerInfo,h.nodeType){case 9:h=h.body;break;default:h=h.nodeName==="HTML"?h.ownerDocument.body:h}for(Ar=Yc(h.firstChild),hn=x,Ss=!0,Md=null,Ko=!0,w=$T(x,null,A,w),x.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling}else{if(Sl(),A===O){x=Au(h,x,w);break e}Li(h,x,A,w)}x=x.child}return x;case 26:return qb(h,x),h===null?(w=h7(x.type,null,x.pendingProps,null))?x.memoizedState=w:Ss||(w=x.type,h=x.pendingProps,A=ly(se.current).createElement(w),A[cs]=x,A[es]=h,Ri(A,w,h),Ye(A),x.stateNode=A):x.memoizedState=h7(x.type,h.memoizedProps,x.pendingProps,h.memoizedState),null;case 27:return le(x),h===null&&Ss&&(A=x.stateNode=c7(x.type,x.pendingProps,se.current),hn=x,Ko=!0,O=Ar,sf(x.type)?(K4=O,Ar=Yc(A.firstChild)):Ar=O),Li(h,x,x.pendingProps.children,w),qb(h,x),h===null&&(x.flags|=4194304),x.child;case 5:return h===null&&Ss&&((O=A=Ar)&&(A=_Z(A,x.type,x.pendingProps,Ko),A!==null?(x.stateNode=A,hn=x,Ar=Yc(A.firstChild),Ko=!1,O=!0):O=!1),O||ju(x)),le(x),O=x.type,V=x.pendingProps,de=h!==null?h.memoizedProps:null,A=V.children,V4(O,V)?A=null:de!==null&&V4(O,de)&&(x.flags|=32),x.memoizedState!==null&&(O=Cl(h,x,$s,null,null,w),Ng._currentValue=O),qb(h,x),Li(h,x,A,w),x.child;case 6:return h===null&&Ss&&((h=w=Ar)&&(w=TZ(w,x.pendingProps,Ko),w!==null?(x.stateNode=w,hn=x,Ar=null,h=!0):h=!1),h||ju(x)),null;case 13:return nE(h,x,w);case 4:return ne(x,x.stateNode.containerInfo),A=x.pendingProps,h===null?x.child=dp(x,null,A,w):Li(h,x,A,w),x.child;case 11:return JT(h,x,x.type,x.pendingProps,w);case 7:return Li(h,x,x.pendingProps,w),x.child;case 8:return Li(h,x,x.pendingProps.children,w),x.child;case 12:return Li(h,x,x.pendingProps.children,w),x.child;case 10:return A=x.pendingProps,Pd(x,x.type,A.value),Li(h,x,A.children,w),x.child;case 9:return O=x.type._context,A=x.pendingProps.children,Jo(x),O=fn(O),A=A(O),x.flags|=1,Li(h,x,A,w),x.child;case 14:return QT(h,x,x.type,x.pendingProps,w);case 15:return ZT(h,x,x.type,x.pendingProps,w);case 19:return lE(h,x,w);case 31:return A=x.pendingProps,w=x.mode,A={mode:A.mode,children:A.children},h===null?(w=Gb(A,w),w.ref=x.ref,x.child=w,w.return=x,x=w):(w=Go(h.child,A),w.ref=x.ref,x.child=w,w.return=x,x=w),x;case 22:return eE(h,x,w);case 24:return Jo(x),A=fn(mn),h===null?(O=Z(),O===null&&(O=dr,V=qx(),O.pooledCache=V,V.refCount++,V!==null&&(O.pooledCacheLanes|=w),O=V),x.memoizedState={parent:A,cache:O},it(x),Pd(x,mn,O)):((h.lanes&w)!==0&&(jt(h,x),ia(x,null,null,w),Ba()),O=h.memoizedState,V=x.memoizedState,O.parent!==A?(O={parent:A,cache:A},x.memoizedState=O,x.lanes===0&&(x.memoizedState=x.updateQueue.baseState=O),Pd(x,mn,A)):(A=V.cache,Pd(x,mn,A),A!==O.cache&&ap(x,[mn],w,!0))),Li(h,x,x.pendingProps.children,w),x.child;case 29:throw x.pendingProps}throw Error(r(156,x.tag))}function _u(h){h.flags|=4}function cE(h,x){if(x.type!=="stylesheet"||(x.state.loading&4)!==0)h.flags&=-16777217;else if(h.flags|=16777216,!g7(x)){if(x=ec.current,x!==null&&((Ns&4194048)===Ns?Od!==null:(Ns&62914560)!==Ns&&(Ns&536870912)===0||x!==Od))throw Ee=ke,ve;h.flags|=8192}}function Kb(h,x){x!==null&&(h.flags|=4),h.flags&16384&&(x=h.tag!==22?ma():536870912,h.lanes|=x,mp|=x)}function og(h,x){if(!Ss)switch(h.tailMode){case"hidden":x=h.tail;for(var w=null;x!==null;)x.alternate!==null&&(w=x),x=x.sibling;w===null?h.tail=null:w.sibling=null;break;case"collapsed":w=h.tail;for(var A=null;w!==null;)w.alternate!==null&&(A=w),w=w.sibling;A===null?x||h.tail===null?h.tail=null:h.tail.sibling=null:A.sibling=null}}function qr(h){var x=h.alternate!==null&&h.alternate.child===h.child,w=0,A=0;if(x)for(var O=h.child;O!==null;)w|=O.lanes|O.childLanes,A|=O.subtreeFlags&65011712,A|=O.flags&65011712,O.return=h,O=O.sibling;else for(O=h.child;O!==null;)w|=O.lanes|O.childLanes,A|=O.subtreeFlags,A|=O.flags,O.return=h,O=O.sibling;return h.subtreeFlags|=A,h.childLanes=w,x}function tZ(h,x,w){var A=x.pendingProps;switch(l0(x),x.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qr(x),null;case 1:return qr(x),null;case 3:return w=x.stateNode,A=null,h!==null&&(A=h.memoizedState.cache),x.memoizedState.cache!==A&&(x.flags|=2048),Xo(mn),J(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(h===null||h.child===null)&&(Ei(x)?_u(x):h===null||h.memoizedState.isDehydrated&&(x.flags&256)===0||(x.flags|=1024,Sb())),qr(x),null;case 26:return w=x.memoizedState,h===null?(_u(x),w!==null?(qr(x),cE(x,w)):(qr(x),x.flags&=-16777217)):w?w!==h.memoizedState?(_u(x),qr(x),cE(x,w)):(qr(x),x.flags&=-16777217):(h.memoizedProps!==A&&_u(x),qr(x),x.flags&=-16777217),null;case 27:pe(x),w=se.current;var O=x.type;if(h!==null&&x.stateNode!=null)h.memoizedProps!==A&&_u(x);else{if(!A){if(x.stateNode===null)throw Error(r(166));return qr(x),null}h=H.current,Ei(x)?kb(x):(h=c7(O,A,w),x.stateNode=h,_u(x))}return qr(x),null;case 5:if(pe(x),w=x.type,h!==null&&x.stateNode!=null)h.memoizedProps!==A&&_u(x);else{if(!A){if(x.stateNode===null)throw Error(r(166));return qr(x),null}if(h=H.current,Ei(x))kb(x);else{switch(O=ly(se.current),h){case 1:h=O.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:h=O.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":h=O.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":h=O.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":h=O.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof A.is=="string"?O.createElement("select",{is:A.is}):O.createElement("select"),A.multiple?h.multiple=!0:A.size&&(h.size=A.size);break;default:h=typeof A.is=="string"?O.createElement(w,{is:A.is}):O.createElement(w)}}h[cs]=x,h[es]=A;e:for(O=x.child;O!==null;){if(O.tag===5||O.tag===6)h.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===x)break e;for(;O.sibling===null;){if(O.return===null||O.return===x)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}x.stateNode=h;e:switch(Ri(h,w,A),w){case"button":case"input":case"select":case"textarea":h=!!A.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&_u(x)}}return qr(x),x.flags&=-16777217,null;case 6:if(h&&x.stateNode!=null)h.memoizedProps!==A&&_u(x);else{if(typeof A!="string"&&x.stateNode===null)throw Error(r(166));if(h=se.current,Ei(x)){if(h=x.stateNode,w=x.memoizedProps,A=null,O=hn,O!==null)switch(O.tag){case 27:case 5:A=O.memoizedProps}h[cs]=x,h=!!(h.nodeValue===w||A!==null&&A.suppressHydrationWarning===!0||a7(h.nodeValue,w)),h||ju(x)}else h=ly(h).createTextNode(A),h[cs]=x,x.stateNode=h}return qr(x),null;case 13:if(A=x.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(O=Ei(x),A!==null&&A.dehydrated!==null){if(h===null){if(!O)throw Error(r(318));if(O=x.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));O[cs]=x}else Sl(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;qr(x),O=!1}else O=Sb(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=O),O=!0;if(!O)return x.flags&256?(Cu(x),x):(Cu(x),null)}if(Cu(x),(x.flags&128)!==0)return x.lanes=w,x;if(w=A!==null,h=h!==null&&h.memoizedState!==null,w){A=x.child,O=null,A.alternate!==null&&A.alternate.memoizedState!==null&&A.alternate.memoizedState.cachePool!==null&&(O=A.alternate.memoizedState.cachePool.pool);var V=null;A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(V=A.memoizedState.cachePool.pool),V!==O&&(A.flags|=2048)}return w!==h&&w&&(x.child.flags|=8192),Kb(x,x.updateQueue),qr(x),null;case 4:return J(),h===null&&B4(x.stateNode.containerInfo),qr(x),null;case 10:return Xo(x.type),qr(x),null;case 19:if(D(Yn),O=x.memoizedState,O===null)return qr(x),null;if(A=(x.flags&128)!==0,V=O.rendering,V===null)if(A)og(O,!1);else{if(en!==0||h!==null&&(h.flags&128)!==0)for(h=x.child;h!==null;){if(V=Hb(h),V!==null){for(x.flags|=128,og(O,!1),h=V.updateQueue,x.updateQueue=h,Kb(x,h),x.subtreeFlags=0,h=w,w=x.child;w!==null;)r0(w,h),w=w.sibling;return G(Yn,Yn.current&1|2),x.child}h=h.sibling}O.tail!==null&&ze()>Jb&&(x.flags|=128,A=!0,og(O,!1),x.lanes=4194304)}else{if(!A)if(h=Hb(V),h!==null){if(x.flags|=128,A=!0,h=h.updateQueue,x.updateQueue=h,Kb(x,h),og(O,!0),O.tail===null&&O.tailMode==="hidden"&&!V.alternate&&!Ss)return qr(x),null}else 2*ze()-O.renderingStartTime>Jb&&w!==536870912&&(x.flags|=128,A=!0,og(O,!1),x.lanes=4194304);O.isBackwards?(V.sibling=x.child,x.child=V):(h=O.last,h!==null?h.sibling=V:x.child=V,O.last=V)}return O.tail!==null?(x=O.tail,O.rendering=x,O.tail=x.sibling,O.renderingStartTime=ze(),x.sibling=null,h=Yn.current,G(Yn,A?h&1|2:h&1),x):(qr(x),null);case 22:case 23:return Cu(x),$a(),A=x.memoizedState!==null,h!==null?h.memoizedState!==null!==A&&(x.flags|=8192):A&&(x.flags|=8192),A?(w&536870912)!==0&&(x.flags&128)===0&&(qr(x),x.subtreeFlags&6&&(x.flags|=8192)):qr(x),w=x.updateQueue,w!==null&&Kb(x,w.retryQueue),w=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),A=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(A=x.memoizedState.cachePool.pool),A!==w&&(x.flags|=2048),h!==null&&D(B),null;case 24:return w=null,h!==null&&(w=h.memoizedState.cache),x.memoizedState.cache!==w&&(x.flags|=2048),Xo(mn),qr(x),null;case 25:return null;case 30:return null}throw Error(r(156,x.tag))}function aZ(h,x){switch(l0(x),x.tag){case 1:return h=x.flags,h&65536?(x.flags=h&-65537|128,x):null;case 3:return Xo(mn),J(),h=x.flags,(h&65536)!==0&&(h&128)===0?(x.flags=h&-65537|128,x):null;case 26:case 27:case 5:return pe(x),null;case 13:if(Cu(x),h=x.memoizedState,h!==null&&h.dehydrated!==null){if(x.alternate===null)throw Error(r(340));Sl()}return h=x.flags,h&65536?(x.flags=h&-65537|128,x):null;case 19:return D(Yn),null;case 4:return J(),null;case 10:return Xo(x.type),null;case 22:case 23:return Cu(x),$a(),h!==null&&D(B),h=x.flags,h&65536?(x.flags=h&-65537|128,x):null;case 24:return Xo(mn),null;case 25:return null;default:return null}}function dE(h,x){switch(l0(x),x.tag){case 3:Xo(mn),J();break;case 26:case 27:case 5:pe(x);break;case 4:J();break;case 13:Cu(x);break;case 19:D(Yn);break;case 10:Xo(x.type);break;case 22:case 23:Cu(x),$a(),h!==null&&D(B);break;case 24:Xo(mn)}}function cg(h,x){try{var w=x.updateQueue,A=w!==null?w.lastEffect:null;if(A!==null){var O=A.next;w=O;do{if((w.tag&h)===h){A=void 0;var V=w.create,de=w.inst;A=V(),de.destroy=A}w=w.next}while(w!==O)}}catch(be){nr(x,x.return,be)}}function Yh(h,x,w){try{var A=x.updateQueue,O=A!==null?A.lastEffect:null;if(O!==null){var V=O.next;A=V;do{if((A.tag&h)===h){var de=A.inst,be=de.destroy;if(be!==void 0){de.destroy=void 0,O=x;var Re=w,ot=be;try{ot()}catch(Tt){nr(O,Re,Tt)}}}A=A.next}while(A!==V)}}catch(Tt){nr(x,x.return,Tt)}}function uE(h){var x=h.updateQueue;if(x!==null){var w=h.stateNode;try{Zr(x,w)}catch(A){nr(h,h.return,A)}}}function hE(h,x,w){w.props=v0(h.type,h.memoizedProps),w.state=h.memoizedState;try{w.componentWillUnmount()}catch(A){nr(h,x,A)}}function dg(h,x){try{var w=h.ref;if(w!==null){switch(h.tag){case 26:case 27:case 5:var A=h.stateNode;break;case 30:A=h.stateNode;break;default:A=h.stateNode}typeof w=="function"?h.refCleanup=w(A):w.current=A}}catch(O){nr(h,x,O)}}function Rd(h,x){var w=h.ref,A=h.refCleanup;if(w!==null)if(typeof A=="function")try{A()}catch(O){nr(h,x,O)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof w=="function")try{w(null)}catch(O){nr(h,x,O)}else w.current=null}function fE(h){var x=h.type,w=h.memoizedProps,A=h.stateNode;try{e:switch(x){case"button":case"input":case"select":case"textarea":w.autoFocus&&A.focus();break e;case"img":w.src?A.src=w.src:w.srcSet&&(A.srcset=w.srcSet)}}catch(O){nr(h,h.return,O)}}function p4(h,x,w){try{var A=h.stateNode;NZ(A,h.type,w,x),A[es]=x}catch(O){nr(h,h.return,O)}}function mE(h){return h.tag===5||h.tag===3||h.tag===26||h.tag===27&&sf(h.type)||h.tag===4}function x4(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||mE(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.tag===27&&sf(h.type)||h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function g4(h,x,w){var A=h.tag;if(A===5||A===6)h=h.stateNode,x?(w.nodeType===9?w.body:w.nodeName==="HTML"?w.ownerDocument.body:w).insertBefore(h,x):(x=w.nodeType===9?w.body:w.nodeName==="HTML"?w.ownerDocument.body:w,x.appendChild(h),w=w._reactRootContainer,w!=null||x.onclick!==null||(x.onclick=iy));else if(A!==4&&(A===27&&sf(h.type)&&(w=h.stateNode,x=null),h=h.child,h!==null))for(g4(h,x,w),h=h.sibling;h!==null;)g4(h,x,w),h=h.sibling}function Yb(h,x,w){var A=h.tag;if(A===5||A===6)h=h.stateNode,x?w.insertBefore(h,x):w.appendChild(h);else if(A!==4&&(A===27&&sf(h.type)&&(w=h.stateNode),h=h.child,h!==null))for(Yb(h,x,w),h=h.sibling;h!==null;)Yb(h,x,w),h=h.sibling}function pE(h){var x=h.stateNode,w=h.memoizedProps;try{for(var A=h.type,O=x.attributes;O.length;)x.removeAttributeNode(O[0]);Ri(x,A,w),x[cs]=h,x[es]=w}catch(V){nr(h,h.return,V)}}var Tu=!1,vn=!1,v4=!1,xE=typeof WeakSet=="function"?WeakSet:Set,pi=null;function sZ(h,x){if(h=h.containerInfo,z4=fy,h=Rh(h),Wo(h)){if("selectionStart"in h)var w={start:h.selectionStart,end:h.selectionEnd};else e:{w=(w=h.ownerDocument)&&w.defaultView||window;var A=w.getSelection&&w.getSelection();if(A&&A.rangeCount!==0){w=A.anchorNode;var O=A.anchorOffset,V=A.focusNode;A=A.focusOffset;try{w.nodeType,V.nodeType}catch{w=null;break e}var de=0,be=-1,Re=-1,ot=0,Tt=0,Lt=h,dt=null;t:for(;;){for(var ht;Lt!==w||O!==0&&Lt.nodeType!==3||(be=de+O),Lt!==V||A!==0&&Lt.nodeType!==3||(Re=de+A),Lt.nodeType===3&&(de+=Lt.nodeValue.length),(ht=Lt.firstChild)!==null;)dt=Lt,Lt=ht;for(;;){if(Lt===h)break t;if(dt===w&&++ot===O&&(be=de),dt===V&&++Tt===A&&(Re=de),(ht=Lt.nextSibling)!==null)break;Lt=dt,dt=Lt.parentNode}Lt=ht}w=be===-1||Re===-1?null:{start:be,end:Re}}else w=null}w=w||{start:0,end:0}}else w=null;for(H4={focusedElem:h,selectionRange:w},fy=!1,pi=x;pi!==null;)if(x=pi,h=x.child,(x.subtreeFlags&1024)!==0&&h!==null)h.return=x,pi=h;else for(;pi!==null;){switch(x=pi,V=x.alternate,h=x.flags,x.tag){case 0:break;case 11:case 15:break;case 1:if((h&1024)!==0&&V!==null){h=void 0,w=x,O=V.memoizedProps,V=V.memoizedState,A=w.stateNode;try{var Oa=v0(w.type,O,w.elementType===w.type);h=A.getSnapshotBeforeUpdate(Oa,V),A.__reactInternalSnapshotBeforeUpdate=h}catch(Ta){nr(w,w.return,Ta)}}break;case 3:if((h&1024)!==0){if(h=x.stateNode.containerInfo,w=h.nodeType,w===9)q4(h);else if(w===1)switch(h.nodeName){case"HEAD":case"HTML":case"BODY":q4(h);break;default:h.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(r(163))}if(h=x.sibling,h!==null){h.return=x.return,pi=h;break}pi=x.return}}function gE(h,x,w){var A=w.flags;switch(w.tag){case 0:case 11:case 15:Xh(h,w),A&4&&cg(5,w);break;case 1:if(Xh(h,w),A&4)if(h=w.stateNode,x===null)try{h.componentDidMount()}catch(de){nr(w,w.return,de)}else{var O=v0(w.type,x.memoizedProps);x=x.memoizedState;try{h.componentDidUpdate(O,x,h.__reactInternalSnapshotBeforeUpdate)}catch(de){nr(w,w.return,de)}}A&64&&uE(w),A&512&&dg(w,w.return);break;case 3:if(Xh(h,w),A&64&&(h=w.updateQueue,h!==null)){if(x=null,w.child!==null)switch(w.child.tag){case 27:case 5:x=w.child.stateNode;break;case 1:x=w.child.stateNode}try{Zr(h,x)}catch(de){nr(w,w.return,de)}}break;case 27:x===null&&A&4&&pE(w);case 26:case 5:Xh(h,w),x===null&&A&4&&fE(w),A&512&&dg(w,w.return);break;case 12:Xh(h,w);break;case 13:Xh(h,w),A&4&&yE(h,w),A&64&&(h=w.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&(w=hZ.bind(null,w),EZ(h,w))));break;case 22:if(A=w.memoizedState!==null||Tu,!A){x=x!==null&&x.memoizedState!==null||vn,O=Tu;var V=vn;Tu=A,(vn=x)&&!V?Jh(h,w,(w.subtreeFlags&8772)!==0):Xh(h,w),Tu=O,vn=V}break;case 30:break;default:Xh(h,w)}}function vE(h){var x=h.alternate;x!==null&&(h.alternate=null,vE(x)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(x=h.stateNode,x!==null&&Ne(x)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}var Dr=null,ql=!1;function Eu(h,x,w){for(w=w.child;w!==null;)bE(h,x,w),w=w.sibling}function bE(h,x,w){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(Ue,w)}catch{}switch(w.tag){case 26:vn||Rd(w,x),Eu(h,x,w),w.memoizedState?w.memoizedState.count--:w.stateNode&&(w=w.stateNode,w.parentNode.removeChild(w));break;case 27:vn||Rd(w,x);var A=Dr,O=ql;sf(w.type)&&(Dr=w.stateNode,ql=!1),Eu(h,x,w),bg(w.stateNode),Dr=A,ql=O;break;case 5:vn||Rd(w,x);case 6:if(A=Dr,O=ql,Dr=null,Eu(h,x,w),Dr=A,ql=O,Dr!==null)if(ql)try{(Dr.nodeType===9?Dr.body:Dr.nodeName==="HTML"?Dr.ownerDocument.body:Dr).removeChild(w.stateNode)}catch(V){nr(w,x,V)}else try{Dr.removeChild(w.stateNode)}catch(V){nr(w,x,V)}break;case 18:Dr!==null&&(ql?(h=Dr,l7(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,w.stateNode),Ag(h)):l7(Dr,w.stateNode));break;case 4:A=Dr,O=ql,Dr=w.stateNode.containerInfo,ql=!0,Eu(h,x,w),Dr=A,ql=O;break;case 0:case 11:case 14:case 15:vn||Yh(2,w,x),vn||Yh(4,w,x),Eu(h,x,w);break;case 1:vn||(Rd(w,x),A=w.stateNode,typeof A.componentWillUnmount=="function"&&hE(w,x,A)),Eu(h,x,w);break;case 21:Eu(h,x,w);break;case 22:vn=(A=vn)||w.memoizedState!==null,Eu(h,x,w),vn=A;break;default:Eu(h,x,w)}}function yE(h,x){if(x.memoizedState===null&&(h=x.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{Ag(h)}catch(w){nr(x,x.return,w)}}function rZ(h){switch(h.tag){case 13:case 19:var x=h.stateNode;return x===null&&(x=h.stateNode=new xE),x;case 22:return h=h.stateNode,x=h._retryCache,x===null&&(x=h._retryCache=new xE),x;default:throw Error(r(435,h.tag))}}function b4(h,x){var w=rZ(h);x.forEach(function(A){var O=fZ.bind(null,h,A);w.has(A)||(w.add(A),A.then(O,O))})}function bo(h,x){var w=x.deletions;if(w!==null)for(var A=0;A<w.length;A++){var O=w[A],V=h,de=x,be=de;e:for(;be!==null;){switch(be.tag){case 27:if(sf(be.type)){Dr=be.stateNode,ql=!1;break e}break;case 5:Dr=be.stateNode,ql=!1;break e;case 3:case 4:Dr=be.stateNode.containerInfo,ql=!0;break e}be=be.return}if(Dr===null)throw Error(r(160));bE(V,de,O),Dr=null,ql=!1,V=O.alternate,V!==null&&(V.return=null),O.return=null}if(x.subtreeFlags&13878)for(x=x.child;x!==null;)wE(x,h),x=x.sibling}var Kc=null;function wE(h,x){var w=h.alternate,A=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:bo(x,h),yo(h),A&4&&(Yh(3,h,h.return),cg(3,h),Yh(5,h,h.return));break;case 1:bo(x,h),yo(h),A&512&&(vn||w===null||Rd(w,w.return)),A&64&&Tu&&(h=h.updateQueue,h!==null&&(A=h.callbacks,A!==null&&(w=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=w===null?A:w.concat(A))));break;case 26:var O=Kc;if(bo(x,h),yo(h),A&512&&(vn||w===null||Rd(w,w.return)),A&4){var V=w!==null?w.memoizedState:null;if(A=h.memoizedState,w===null)if(A===null)if(h.stateNode===null){e:{A=h.type,w=h.memoizedProps,O=O.ownerDocument||O;t:switch(A){case"title":V=O.getElementsByTagName("title")[0],(!V||V[ye]||V[cs]||V.namespaceURI==="http://www.w3.org/2000/svg"||V.hasAttribute("itemprop"))&&(V=O.createElement(A),O.head.insertBefore(V,O.querySelector("head > title"))),Ri(V,A,w),V[cs]=h,Ye(V),A=V;break e;case"link":var de=p7("link","href",O).get(A+(w.href||""));if(de){for(var be=0;be<de.length;be++)if(V=de[be],V.getAttribute("href")===(w.href==null||w.href===""?null:w.href)&&V.getAttribute("rel")===(w.rel==null?null:w.rel)&&V.getAttribute("title")===(w.title==null?null:w.title)&&V.getAttribute("crossorigin")===(w.crossOrigin==null?null:w.crossOrigin)){de.splice(be,1);break t}}V=O.createElement(A),Ri(V,A,w),O.head.appendChild(V);break;case"meta":if(de=p7("meta","content",O).get(A+(w.content||""))){for(be=0;be<de.length;be++)if(V=de[be],V.getAttribute("content")===(w.content==null?null:""+w.content)&&V.getAttribute("name")===(w.name==null?null:w.name)&&V.getAttribute("property")===(w.property==null?null:w.property)&&V.getAttribute("http-equiv")===(w.httpEquiv==null?null:w.httpEquiv)&&V.getAttribute("charset")===(w.charSet==null?null:w.charSet)){de.splice(be,1);break t}}V=O.createElement(A),Ri(V,A,w),O.head.appendChild(V);break;default:throw Error(r(468,A))}V[cs]=h,Ye(V),A=V}h.stateNode=A}else x7(O,h.type,h.stateNode);else h.stateNode=m7(O,A,h.memoizedProps);else V!==A?(V===null?w.stateNode!==null&&(w=w.stateNode,w.parentNode.removeChild(w)):V.count--,A===null?x7(O,h.type,h.stateNode):m7(O,A,h.memoizedProps)):A===null&&h.stateNode!==null&&p4(h,h.memoizedProps,w.memoizedProps)}break;case 27:bo(x,h),yo(h),A&512&&(vn||w===null||Rd(w,w.return)),w!==null&&A&4&&p4(h,h.memoizedProps,w.memoizedProps);break;case 5:if(bo(x,h),yo(h),A&512&&(vn||w===null||Rd(w,w.return)),h.flags&32){O=h.stateNode;try{Hn(O,"")}catch(ht){nr(h,h.return,ht)}}A&4&&h.stateNode!=null&&(O=h.memoizedProps,p4(h,O,w!==null?w.memoizedProps:O)),A&1024&&(v4=!0);break;case 6:if(bo(x,h),yo(h),A&4){if(h.stateNode===null)throw Error(r(162));A=h.memoizedProps,w=h.stateNode;try{w.nodeValue=A}catch(ht){nr(h,h.return,ht)}}break;case 3:if(dy=null,O=Kc,Kc=oy(x.containerInfo),bo(x,h),Kc=O,yo(h),A&4&&w!==null&&w.memoizedState.isDehydrated)try{Ag(x.containerInfo)}catch(ht){nr(h,h.return,ht)}v4&&(v4=!1,jE(h));break;case 4:A=Kc,Kc=oy(h.stateNode.containerInfo),bo(x,h),yo(h),Kc=A;break;case 12:bo(x,h),yo(h);break;case 13:bo(x,h),yo(h),h.child.flags&8192&&h.memoizedState!==null!=(w!==null&&w.memoizedState!==null)&&(S4=ze()),A&4&&(A=h.updateQueue,A!==null&&(h.updateQueue=null,b4(h,A)));break;case 22:O=h.memoizedState!==null;var Re=w!==null&&w.memoizedState!==null,ot=Tu,Tt=vn;if(Tu=ot||O,vn=Tt||Re,bo(x,h),vn=Tt,Tu=ot,yo(h),A&8192)e:for(x=h.stateNode,x._visibility=O?x._visibility&-2:x._visibility|1,O&&(w===null||Re||Tu||vn||b0(h)),w=null,x=h;;){if(x.tag===5||x.tag===26){if(w===null){Re=w=x;try{if(V=Re.stateNode,O)de=V.style,typeof de.setProperty=="function"?de.setProperty("display","none","important"):de.display="none";else{be=Re.stateNode;var Lt=Re.memoizedProps.style,dt=Lt!=null&&Lt.hasOwnProperty("display")?Lt.display:null;be.style.display=dt==null||typeof dt=="boolean"?"":(""+dt).trim()}}catch(ht){nr(Re,Re.return,ht)}}}else if(x.tag===6){if(w===null){Re=x;try{Re.stateNode.nodeValue=O?"":Re.memoizedProps}catch(ht){nr(Re,Re.return,ht)}}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===h)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===h)break e;for(;x.sibling===null;){if(x.return===null||x.return===h)break e;w===x&&(w=null),x=x.return}w===x&&(w=null),x.sibling.return=x.return,x=x.sibling}A&4&&(A=h.updateQueue,A!==null&&(w=A.retryQueue,w!==null&&(A.retryQueue=null,b4(h,w))));break;case 19:bo(x,h),yo(h),A&4&&(A=h.updateQueue,A!==null&&(h.updateQueue=null,b4(h,A)));break;case 30:break;case 21:break;default:bo(x,h),yo(h)}}function yo(h){var x=h.flags;if(x&2){try{for(var w,A=h.return;A!==null;){if(mE(A)){w=A;break}A=A.return}if(w==null)throw Error(r(160));switch(w.tag){case 27:var O=w.stateNode,V=x4(h);Yb(h,V,O);break;case 5:var de=w.stateNode;w.flags&32&&(Hn(de,""),w.flags&=-33);var be=x4(h);Yb(h,be,de);break;case 3:case 4:var Re=w.stateNode.containerInfo,ot=x4(h);g4(h,ot,Re);break;default:throw Error(r(161))}}catch(Tt){nr(h,h.return,Tt)}h.flags&=-3}x&4096&&(h.flags&=-4097)}function jE(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var x=h;jE(x),x.tag===5&&x.flags&1024&&x.stateNode.reset(),h=h.sibling}}function Xh(h,x){if(x.subtreeFlags&8772)for(x=x.child;x!==null;)gE(h,x.alternate,x),x=x.sibling}function b0(h){for(h=h.child;h!==null;){var x=h;switch(x.tag){case 0:case 11:case 14:case 15:Yh(4,x,x.return),b0(x);break;case 1:Rd(x,x.return);var w=x.stateNode;typeof w.componentWillUnmount=="function"&&hE(x,x.return,w),b0(x);break;case 27:bg(x.stateNode);case 26:case 5:Rd(x,x.return),b0(x);break;case 22:x.memoizedState===null&&b0(x);break;case 30:b0(x);break;default:b0(x)}h=h.sibling}}function Jh(h,x,w){for(w=w&&(x.subtreeFlags&8772)!==0,x=x.child;x!==null;){var A=x.alternate,O=h,V=x,de=V.flags;switch(V.tag){case 0:case 11:case 15:Jh(O,V,w),cg(4,V);break;case 1:if(Jh(O,V,w),A=V,O=A.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(ot){nr(A,A.return,ot)}if(A=V,O=A.updateQueue,O!==null){var be=A.stateNode;try{var Re=O.shared.hiddenCallbacks;if(Re!==null)for(O.shared.hiddenCallbacks=null,O=0;O<Re.length;O++)ns(Re[O],be)}catch(ot){nr(A,A.return,ot)}}w&&de&64&&uE(V),dg(V,V.return);break;case 27:pE(V);case 26:case 5:Jh(O,V,w),w&&A===null&&de&4&&fE(V),dg(V,V.return);break;case 12:Jh(O,V,w);break;case 13:Jh(O,V,w),w&&de&4&&yE(O,V);break;case 22:V.memoizedState===null&&Jh(O,V,w),dg(V,V.return);break;case 30:break;default:Jh(O,V,w)}x=x.sibling}}function y4(h,x){var w=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),h=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(h=x.memoizedState.cachePool.pool),h!==w&&(h!=null&&h.refCount++,w!=null&&o0(w))}function w4(h,x){h=null,x.alternate!==null&&(h=x.alternate.memoizedState.cache),x=x.memoizedState.cache,x!==h&&(x.refCount++,h!=null&&o0(h))}function Fd(h,x,w,A){if(x.subtreeFlags&10256)for(x=x.child;x!==null;)NE(h,x,w,A),x=x.sibling}function NE(h,x,w,A){var O=x.flags;switch(x.tag){case 0:case 11:case 15:Fd(h,x,w,A),O&2048&&cg(9,x);break;case 1:Fd(h,x,w,A);break;case 3:Fd(h,x,w,A),O&2048&&(h=null,x.alternate!==null&&(h=x.alternate.memoizedState.cache),x=x.memoizedState.cache,x!==h&&(x.refCount++,h!=null&&o0(h)));break;case 12:if(O&2048){Fd(h,x,w,A),h=x.stateNode;try{var V=x.memoizedProps,de=V.id,be=V.onPostCommit;typeof be=="function"&&be(de,x.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(Re){nr(x,x.return,Re)}}else Fd(h,x,w,A);break;case 13:Fd(h,x,w,A);break;case 23:break;case 22:V=x.stateNode,de=x.alternate,x.memoizedState!==null?V._visibility&2?Fd(h,x,w,A):ug(h,x):V._visibility&2?Fd(h,x,w,A):(V._visibility|=2,up(h,x,w,A,(x.subtreeFlags&10256)!==0)),O&2048&&y4(de,x);break;case 24:Fd(h,x,w,A),O&2048&&w4(x.alternate,x);break;default:Fd(h,x,w,A)}}function up(h,x,w,A,O){for(O=O&&(x.subtreeFlags&10256)!==0,x=x.child;x!==null;){var V=h,de=x,be=w,Re=A,ot=de.flags;switch(de.tag){case 0:case 11:case 15:up(V,de,be,Re,O),cg(8,de);break;case 23:break;case 22:var Tt=de.stateNode;de.memoizedState!==null?Tt._visibility&2?up(V,de,be,Re,O):ug(V,de):(Tt._visibility|=2,up(V,de,be,Re,O)),O&&ot&2048&&y4(de.alternate,de);break;case 24:up(V,de,be,Re,O),O&&ot&2048&&w4(de.alternate,de);break;default:up(V,de,be,Re,O)}x=x.sibling}}function ug(h,x){if(x.subtreeFlags&10256)for(x=x.child;x!==null;){var w=h,A=x,O=A.flags;switch(A.tag){case 22:ug(w,A),O&2048&&y4(A.alternate,A);break;case 24:ug(w,A),O&2048&&w4(A.alternate,A);break;default:ug(w,A)}x=x.sibling}}var hg=8192;function hp(h){if(h.subtreeFlags&hg)for(h=h.child;h!==null;)kE(h),h=h.sibling}function kE(h){switch(h.tag){case 26:hp(h),h.flags&hg&&h.memoizedState!==null&&HZ(Kc,h.memoizedState,h.memoizedProps);break;case 5:hp(h);break;case 3:case 4:var x=Kc;Kc=oy(h.stateNode.containerInfo),hp(h),Kc=x;break;case 22:h.memoizedState===null&&(x=h.alternate,x!==null&&x.memoizedState!==null?(x=hg,hg=16777216,hp(h),hg=x):hp(h));break;default:hp(h)}}function SE(h){var x=h.alternate;if(x!==null&&(h=x.child,h!==null)){x.child=null;do x=h.sibling,h.sibling=null,h=x;while(h!==null)}}function fg(h){var x=h.deletions;if((h.flags&16)!==0){if(x!==null)for(var w=0;w<x.length;w++){var A=x[w];pi=A,AE(A,h)}SE(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)CE(h),h=h.sibling}function CE(h){switch(h.tag){case 0:case 11:case 15:fg(h),h.flags&2048&&Yh(9,h,h.return);break;case 3:fg(h);break;case 12:fg(h);break;case 22:var x=h.stateNode;h.memoizedState!==null&&x._visibility&2&&(h.return===null||h.return.tag!==13)?(x._visibility&=-3,Xb(h)):fg(h);break;default:fg(h)}}function Xb(h){var x=h.deletions;if((h.flags&16)!==0){if(x!==null)for(var w=0;w<x.length;w++){var A=x[w];pi=A,AE(A,h)}SE(h)}for(h=h.child;h!==null;){switch(x=h,x.tag){case 0:case 11:case 15:Yh(8,x,x.return),Xb(x);break;case 22:w=x.stateNode,w._visibility&2&&(w._visibility&=-3,Xb(x));break;default:Xb(x)}h=h.sibling}}function AE(h,x){for(;pi!==null;){var w=pi;switch(w.tag){case 0:case 11:case 15:Yh(8,w,x);break;case 23:case 22:if(w.memoizedState!==null&&w.memoizedState.cachePool!==null){var A=w.memoizedState.cachePool.pool;A!=null&&A.refCount++}break;case 24:o0(w.memoizedState.cache)}if(A=w.child,A!==null)A.return=w,pi=A;else e:for(w=h;pi!==null;){A=pi;var O=A.sibling,V=A.return;if(vE(A),A===w){pi=null;break e}if(O!==null){O.return=V,pi=O;break e}pi=V}}}var nZ={getCacheForType:function(h){var x=fn(mn),w=x.data.get(h);return w===void 0&&(w=h(),x.data.set(h,w)),w}},iZ=typeof WeakMap=="function"?WeakMap:Map,Us=0,dr=null,us=null,Ns=0,zs=0,wo=null,Qh=!1,fp=!1,j4=!1,Du=0,en=0,Zh=0,y0=0,N4=0,tc=0,mp=0,mg=null,Gl=null,k4=!1,S4=0,Jb=1/0,Qb=null,ef=null,Oi=0,tf=null,pp=null,xp=0,C4=0,A4=null,_E=null,pg=0,_4=null;function jo(){if((Us&2)!==0&&Ns!==0)return Ns&-Ns;if(R.T!==null){var h=Nu;return h!==0?h:O4()}return St()}function TE(){tc===0&&(tc=(Ns&536870912)===0||Ss?Yt():536870912);var h=ec.current;return h!==null&&(h.flags|=32),tc}function No(h,x,w){(h===dr&&(zs===2||zs===9)||h.cancelPendingCommit!==null)&&(gp(h,0),af(h,Ns,tc,!1)),Ca(h,w),((Us&2)===0||h!==dr)&&(h===dr&&((Us&2)===0&&(y0|=w),en===4&&af(h,Ns,tc,!1)),Id(h))}function EE(h,x,w){if((Us&6)!==0)throw Error(r(327));var A=!w&&(x&124)===0&&(x&h.expiredLanes)===0||qe(h,x),O=A?cZ(h,x):D4(h,x,!0),V=A;do{if(O===0){fp&&!A&&af(h,x,0,!1);break}else{if(w=h.current.alternate,V&&!lZ(w)){O=D4(h,x,!1),V=!1;continue}if(O===2){if(V=x,h.errorRecoveryDisabledLanes&V)var de=0;else de=h.pendingLanes&-536870913,de=de!==0?de:de&536870912?536870912:0;if(de!==0){x=de;e:{var be=h;O=mg;var Re=be.current.memoizedState.isDehydrated;if(Re&&(gp(be,de).flags|=256),de=D4(be,de,!1),de!==2){if(j4&&!Re){be.errorRecoveryDisabledLanes|=V,y0|=V,O=4;break e}V=Gl,Gl=O,V!==null&&(Gl===null?Gl=V:Gl.push.apply(Gl,V))}O=de}if(V=!1,O!==2)continue}}if(O===1){gp(h,0),af(h,x,0,!0);break}e:{switch(A=h,V=O,V){case 0:case 1:throw Error(r(345));case 4:if((x&4194048)!==x)break;case 6:af(A,x,tc,!Qh);break e;case 2:Gl=null;break;case 3:case 5:break;default:throw Error(r(329))}if((x&62914560)===x&&(O=S4+300-ze(),10<O)){if(af(A,x,tc,!Qh),$t(A,0,!0)!==0)break e;A.timeoutHandle=n7(DE.bind(null,A,w,Gl,Qb,k4,x,tc,y0,mp,Qh,V,2,-0,0),O);break e}DE(A,w,Gl,Qb,k4,x,tc,y0,mp,Qh,V,0,-0,0)}}break}while(!0);Id(h)}function DE(h,x,w,A,O,V,de,be,Re,ot,Tt,Lt,dt,ht){if(h.timeoutHandle=-1,Lt=x.subtreeFlags,(Lt&8192||(Lt&16785408)===16785408)&&(jg={stylesheets:null,count:0,unsuspend:zZ},kE(x),Lt=VZ(),Lt!==null)){h.cancelPendingCommit=Lt(IE.bind(null,h,x,V,w,A,O,de,be,Re,Tt,1,dt,ht)),af(h,V,de,!ot);return}IE(h,x,V,w,A,O,de,be,Re)}function lZ(h){for(var x=h;;){var w=x.tag;if((w===0||w===11||w===15)&&x.flags&16384&&(w=x.updateQueue,w!==null&&(w=w.stores,w!==null)))for(var A=0;A<w.length;A++){var O=w[A],V=O.getSnapshot;O=O.value;try{if(!Sr(V(),O))return!1}catch{return!1}}if(w=x.child,x.subtreeFlags&16384&&w!==null)w.return=x,x=w;else{if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function af(h,x,w,A){x&=~N4,x&=~y0,h.suspendedLanes|=x,h.pingedLanes&=~x,A&&(h.warmLanes|=x),A=h.expirationTimes;for(var O=x;0<O;){var V=31-Je(O),de=1<<V;A[V]=-1,O&=~de}w!==0&&qa(h,w,x)}function Zb(){return(Us&6)===0?(xg(0),!1):!0}function T4(){if(us!==null){if(zs===0)var h=us.return;else h=us,zc=Pn=null,Gn(h),cp=null,ig=0,h=us;for(;h!==null;)dE(h.alternate,h),h=h.return;us=null}}function gp(h,x){var w=h.timeoutHandle;w!==-1&&(h.timeoutHandle=-1,SZ(w)),w=h.cancelPendingCommit,w!==null&&(h.cancelPendingCommit=null,w()),T4(),dr=h,us=w=Go(h.current,null),Ns=x,zs=0,wo=null,Qh=!1,fp=qe(h,x),j4=!1,mp=tc=N4=y0=Zh=en=0,Gl=mg=null,k4=!1,(x&8)!==0&&(x|=x&32);var A=h.entangledLanes;if(A!==0)for(h=h.entanglements,A&=x;0<A;){var O=31-Je(A),V=1<<O;x|=h[O],A&=~V}return Du=x,a0(),w}function ME(h,x){da=null,R.H=$b,x===ge||x===je?(x=Ge(),zs=3):x===ve?(x=Ge(),zs=4):zs=x===XT?8:x!==null&&typeof x=="object"&&typeof x.then=="function"?6:1,wo=x,us===null&&(en=1,Wb(h,jl(x,h.current)))}function PE(){var h=R.H;return R.H=$b,h===null?$b:h}function LE(){var h=R.A;return R.A=nZ,h}function E4(){en=4,Qh||(Ns&4194048)!==Ns&&ec.current!==null||(fp=!0),(Zh&134217727)===0&&(y0&134217727)===0||dr===null||af(dr,Ns,tc,!1)}function D4(h,x,w){var A=Us;Us|=2;var O=PE(),V=LE();(dr!==h||Ns!==x)&&(Qb=null,gp(h,x)),x=!1;var de=en;e:do try{if(zs!==0&&us!==null){var be=us,Re=wo;switch(zs){case 8:T4(),de=6;break e;case 3:case 2:case 9:case 6:ec.current===null&&(x=!0);var ot=zs;if(zs=0,wo=null,vp(h,be,Re,ot),w&&fp){de=0;break e}break;default:ot=zs,zs=0,wo=null,vp(h,be,Re,ot)}}oZ(),de=en;break}catch(Tt){ME(h,Tt)}while(!0);return x&&h.shellSuspendCounter++,zc=Pn=null,Us=A,R.H=O,R.A=V,us===null&&(dr=null,Ns=0,a0()),de}function oZ(){for(;us!==null;)OE(us)}function cZ(h,x){var w=Us;Us|=2;var A=PE(),O=LE();dr!==h||Ns!==x?(Qb=null,Jb=ze()+500,gp(h,x)):fp=qe(h,x);e:do try{if(zs!==0&&us!==null){x=us;var V=wo;t:switch(zs){case 1:zs=0,wo=null,vp(h,x,V,1);break;case 2:case 9:if(De(V)){zs=0,wo=null,RE(x);break}x=function(){zs!==2&&zs!==9||dr!==h||(zs=7),Id(h)},V.then(x,x);break e;case 3:zs=7;break e;case 4:zs=5;break e;case 7:De(V)?(zs=0,wo=null,RE(x)):(zs=0,wo=null,vp(h,x,V,7));break;case 5:var de=null;switch(us.tag){case 26:de=us.memoizedState;case 5:case 27:var be=us;if(!de||g7(de)){zs=0,wo=null;var Re=be.sibling;if(Re!==null)us=Re;else{var ot=be.return;ot!==null?(us=ot,ey(ot)):us=null}break t}}zs=0,wo=null,vp(h,x,V,5);break;case 6:zs=0,wo=null,vp(h,x,V,6);break;case 8:T4(),en=6;break e;default:throw Error(r(462))}}dZ();break}catch(Tt){ME(h,Tt)}while(!0);return zc=Pn=null,R.H=A,R.A=O,Us=w,us!==null?0:(dr=null,Ns=0,a0(),en)}function dZ(){for(;us!==null&&!ue();)OE(us)}function OE(h){var x=oE(h.alternate,h,Du);h.memoizedProps=h.pendingProps,x===null?ey(h):us=x}function RE(h){var x=h,w=x.alternate;switch(x.tag){case 15:case 0:x=aE(w,x,x.pendingProps,x.type,void 0,Ns);break;case 11:x=aE(w,x,x.pendingProps,x.type.render,x.ref,Ns);break;case 5:Gn(x);default:dE(w,x),x=us=r0(x,Du),x=oE(w,x,Du)}h.memoizedProps=h.pendingProps,x===null?ey(h):us=x}function vp(h,x,w,A){zc=Pn=null,Gn(x),cp=null,ig=0;var O=x.return;try{if(ZQ(h,O,x,w,Ns)){en=1,Wb(h,jl(w,h.current)),us=null;return}}catch(V){if(O!==null)throw us=O,V;en=1,Wb(h,jl(w,h.current)),us=null;return}x.flags&32768?(Ss||A===1?h=!0:fp||(Ns&536870912)!==0?h=!1:(Qh=h=!0,(A===2||A===9||A===3||A===6)&&(A=ec.current,A!==null&&A.tag===13&&(A.flags|=16384))),FE(x,h)):ey(x)}function ey(h){var x=h;do{if((x.flags&32768)!==0){FE(x,Qh);return}h=x.return;var w=tZ(x.alternate,x,Du);if(w!==null){us=w;return}if(x=x.sibling,x!==null){us=x;return}us=x=h}while(x!==null);en===0&&(en=5)}function FE(h,x){do{var w=aZ(h.alternate,h);if(w!==null){w.flags&=32767,us=w;return}if(w=h.return,w!==null&&(w.flags|=32768,w.subtreeFlags=0,w.deletions=null),!x&&(h=h.sibling,h!==null)){us=h;return}us=h=w}while(h!==null);en=6,us=null}function IE(h,x,w,A,O,V,de,be,Re){h.cancelPendingCommit=null;do ty();while(Oi!==0);if((Us&6)!==0)throw Error(r(327));if(x!==null){if(x===h.current)throw Error(r(177));if(V=x.lanes|x.childLanes,V|=Xm,la(h,w,V,de,be,Re),h===dr&&(us=dr=null,Ns=0),pp=x,tf=h,xp=w,C4=V,A4=O,_E=A,(x.subtreeFlags&10256)!==0||(x.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,mZ(we,function(){return HE(),null})):(h.callbackNode=null,h.callbackPriority=0),A=(x.flags&13878)!==0,(x.subtreeFlags&13878)!==0||A){A=R.T,R.T=null,O=q.p,q.p=2,de=Us,Us|=4;try{sZ(h,x,w)}finally{Us=de,q.p=O,R.T=A}}Oi=1,BE(),$E(),UE()}}function BE(){if(Oi===1){Oi=0;var h=tf,x=pp,w=(x.flags&13878)!==0;if((x.subtreeFlags&13878)!==0||w){w=R.T,R.T=null;var A=q.p;q.p=2;var O=Us;Us|=4;try{wE(x,h);var V=H4,de=Rh(h.containerInfo),be=V.focusedElem,Re=V.selectionRange;if(de!==be&&be&&be.ownerDocument&&Oh(be.ownerDocument.documentElement,be)){if(Re!==null&&Wo(be)){var ot=Re.start,Tt=Re.end;if(Tt===void 0&&(Tt=ot),"selectionStart"in be)be.selectionStart=ot,be.selectionEnd=Math.min(Tt,be.value.length);else{var Lt=be.ownerDocument||document,dt=Lt&&Lt.defaultView||window;if(dt.getSelection){var ht=dt.getSelection(),Oa=be.textContent.length,Ta=Math.min(Re.start,Oa),Zs=Re.end===void 0?Ta:Math.min(Re.end,Oa);!ht.extend&&Ta>Zs&&(de=Zs,Zs=Ta,Ta=de);var Qe=Lh(be,Ta),We=Lh(be,Zs);if(Qe&&We&&(ht.rangeCount!==1||ht.anchorNode!==Qe.node||ht.anchorOffset!==Qe.offset||ht.focusNode!==We.node||ht.focusOffset!==We.offset)){var nt=Lt.createRange();nt.setStart(Qe.node,Qe.offset),ht.removeAllRanges(),Ta>Zs?(ht.addRange(nt),ht.extend(We.node,We.offset)):(nt.setEnd(We.node,We.offset),ht.addRange(nt))}}}}for(Lt=[],ht=be;ht=ht.parentNode;)ht.nodeType===1&&Lt.push({element:ht,left:ht.scrollLeft,top:ht.scrollTop});for(typeof be.focus=="function"&&be.focus(),be=0;be<Lt.length;be++){var Dt=Lt[be];Dt.element.scrollLeft=Dt.left,Dt.element.scrollTop=Dt.top}}fy=!!z4,H4=z4=null}finally{Us=O,q.p=A,R.T=w}}h.current=x,Oi=2}}function $E(){if(Oi===2){Oi=0;var h=tf,x=pp,w=(x.flags&8772)!==0;if((x.subtreeFlags&8772)!==0||w){w=R.T,R.T=null;var A=q.p;q.p=2;var O=Us;Us|=4;try{gE(h,x.alternate,x)}finally{Us=O,q.p=A,R.T=w}}Oi=3}}function UE(){if(Oi===4||Oi===3){Oi=0,Le();var h=tf,x=pp,w=xp,A=_E;(x.subtreeFlags&10256)!==0||(x.flags&10256)!==0?Oi=5:(Oi=0,pp=tf=null,zE(h,h.pendingLanes));var O=h.pendingLanes;if(O===0&&(ef=null),_t(w),x=x.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(Ue,x,void 0,(x.current.flags&128)===128)}catch{}if(A!==null){x=R.T,O=q.p,q.p=2,R.T=null;try{for(var V=h.onRecoverableError,de=0;de<A.length;de++){var be=A[de];V(be.value,{componentStack:be.stack})}}finally{R.T=x,q.p=O}}(xp&3)!==0&&ty(),Id(h),O=h.pendingLanes,(w&4194090)!==0&&(O&42)!==0?h===_4?pg++:(pg=0,_4=h):pg=0,xg(0)}}function zE(h,x){(h.pooledCacheLanes&=x)===0&&(x=h.pooledCache,x!=null&&(h.pooledCache=null,o0(x)))}function ty(h){return BE(),$E(),UE(),HE()}function HE(){if(Oi!==5)return!1;var h=tf,x=C4;C4=0;var w=_t(xp),A=R.T,O=q.p;try{q.p=32>w?32:w,R.T=null,w=A4,A4=null;var V=tf,de=xp;if(Oi=0,pp=tf=null,xp=0,(Us&6)!==0)throw Error(r(331));var be=Us;if(Us|=4,CE(V.current),NE(V,V.current,de,w),Us=be,xg(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(Ue,V)}catch{}return!0}finally{q.p=O,R.T=A,zE(h,x)}}function VE(h,x,w){x=jl(w,x),x=i4(h.stateNode,x,2),h=It(h,x,2),h!==null&&(Ca(h,2),Id(h))}function nr(h,x,w){if(h.tag===3)VE(h,h,w);else for(;x!==null;){if(x.tag===3){VE(x,h,w);break}else if(x.tag===1){var A=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(ef===null||!ef.has(A))){h=jl(w,h),w=KT(2),A=It(x,w,2),A!==null&&(YT(w,A,x,h),Ca(A,2),Id(A));break}}x=x.return}}function M4(h,x,w){var A=h.pingCache;if(A===null){A=h.pingCache=new iZ;var O=new Set;A.set(x,O)}else O=A.get(x),O===void 0&&(O=new Set,A.set(x,O));O.has(w)||(j4=!0,O.add(w),h=uZ.bind(null,h,x,w),x.then(h,h))}function uZ(h,x,w){var A=h.pingCache;A!==null&&A.delete(x),h.pingedLanes|=h.suspendedLanes&w,h.warmLanes&=~w,dr===h&&(Ns&w)===w&&(en===4||en===3&&(Ns&62914560)===Ns&&300>ze()-S4?(Us&2)===0&&gp(h,0):N4|=w,mp===Ns&&(mp=0)),Id(h)}function WE(h,x){x===0&&(x=ma()),h=gu(h,x),h!==null&&(Ca(h,x),Id(h))}function hZ(h){var x=h.memoizedState,w=0;x!==null&&(w=x.retryLane),WE(h,w)}function fZ(h,x){var w=0;switch(h.tag){case 13:var A=h.stateNode,O=h.memoizedState;O!==null&&(w=O.retryLane);break;case 19:A=h.stateNode;break;case 22:A=h.stateNode._retryCache;break;default:throw Error(r(314))}A!==null&&A.delete(x),WE(h,w)}function mZ(h,x){return xe(h,x)}var ay=null,bp=null,P4=!1,sy=!1,L4=!1,w0=0;function Id(h){h!==bp&&h.next===null&&(bp===null?ay=bp=h:bp=bp.next=h),sy=!0,P4||(P4=!0,xZ())}function xg(h,x){if(!L4&&sy){L4=!0;do for(var w=!1,A=ay;A!==null;){if(h!==0){var O=A.pendingLanes;if(O===0)var V=0;else{var de=A.suspendedLanes,be=A.pingedLanes;V=(1<<31-Je(42|h)+1)-1,V&=O&~(de&~be),V=V&201326741?V&201326741|1:V?V|2:0}V!==0&&(w=!0,YE(A,V))}else V=Ns,V=$t(A,A===dr?V:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),(V&3)===0||qe(A,V)||(w=!0,YE(A,V));A=A.next}while(w);L4=!1}}function pZ(){qE()}function qE(){sy=P4=!1;var h=0;w0!==0&&(kZ()&&(h=w0),w0=0);for(var x=ze(),w=null,A=ay;A!==null;){var O=A.next,V=GE(A,x);V===0?(A.next=null,w===null?ay=O:w.next=O,O===null&&(bp=w)):(w=A,(h!==0||(V&3)!==0)&&(sy=!0)),A=O}xg(h)}function GE(h,x){for(var w=h.suspendedLanes,A=h.pingedLanes,O=h.expirationTimes,V=h.pendingLanes&-62914561;0<V;){var de=31-Je(V),be=1<<de,Re=O[de];Re===-1?((be&w)===0||(be&A)!==0)&&(O[de]=Gt(be,x)):Re<=x&&(h.expiredLanes|=be),V&=~be}if(x=dr,w=Ns,w=$t(h,h===x?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),A=h.callbackNode,w===0||h===x&&(zs===2||zs===9)||h.cancelPendingCommit!==null)return A!==null&&A!==null&&he(A),h.callbackNode=null,h.callbackPriority=0;if((w&3)===0||qe(h,w)){if(x=w&-w,x===h.callbackPriority)return x;switch(A!==null&&he(A),_t(w)){case 2:case 8:w=Ie;break;case 32:w=we;break;case 268435456:w=Be;break;default:w=we}return A=KE.bind(null,h),w=xe(w,A),h.callbackPriority=x,h.callbackNode=w,x}return A!==null&&A!==null&&he(A),h.callbackPriority=2,h.callbackNode=null,2}function KE(h,x){if(Oi!==0&&Oi!==5)return h.callbackNode=null,h.callbackPriority=0,null;var w=h.callbackNode;if(ty()&&h.callbackNode!==w)return null;var A=Ns;return A=$t(h,h===dr?A:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),A===0?null:(EE(h,A,x),GE(h,ze()),h.callbackNode!=null&&h.callbackNode===w?KE.bind(null,h):null)}function YE(h,x){if(ty())return null;EE(h,x,!0)}function xZ(){CZ(function(){(Us&6)!==0?xe(ce,pZ):qE()})}function O4(){return w0===0&&(w0=Yt()),w0}function XE(h){return h==null||typeof h=="symbol"||typeof h=="boolean"?null:typeof h=="function"?h:Ut(""+h)}function JE(h,x){var w=x.ownerDocument.createElement("input");return w.name=x.name,w.value=x.value,h.id&&w.setAttribute("form",h.id),x.parentNode.insertBefore(w,x),h=new FormData(h),w.parentNode.removeChild(w),h}function gZ(h,x,w,A,O){if(x==="submit"&&w&&w.stateNode===O){var V=XE((O[es]||null).action),de=A.submitter;de&&(x=(x=de[es]||null)?XE(x.formAction):de.getAttribute("formAction"),x!==null&&(V=x,de=null));var be=new mo("action","action",null,A,O);h.push({event:be,listeners:[{instance:null,listener:function(){if(A.defaultPrevented){if(w0!==0){var Re=de?JE(O,de):new FormData(O);Zo(w,{pending:!0,data:Re,method:O.method,action:V},null,Re)}}else typeof V=="function"&&(be.preventDefault(),Re=de?JE(O,de):new FormData(O),Zo(w,{pending:!0,data:Re,method:O.method,action:V},V,Re))},currentTarget:O}]})}}for(var R4=0;R4<Ym.length;R4++){var F4=Ym[R4],vZ=F4.toLowerCase(),bZ=F4[0].toUpperCase()+F4.slice(1);Hl(vZ,"on"+bZ)}Hl(qo,"onAnimationEnd"),Hl(Fh,"onAnimationIteration"),Hl(pu,"onAnimationStart"),Hl("dblclick","onDoubleClick"),Hl("focusin","onFocus"),Hl("focusout","onBlur"),Hl(Km,"onTransitionRun"),Hl(wb,"onTransitionStart"),Hl(jb,"onTransitionCancel"),Hl(Hx,"onTransitionEnd"),zt("onMouseEnter",["mouseout","mouseover"]),zt("onMouseLeave",["mouseout","mouseover"]),zt("onPointerEnter",["pointerout","pointerover"]),zt("onPointerLeave",["pointerout","pointerover"]),Et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Et("onBeforeInput",["compositionend","keypress","textInput","paste"]),Et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yZ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gg));function QE(h,x){x=(x&4)!==0;for(var w=0;w<h.length;w++){var A=h[w],O=A.event;A=A.listeners;e:{var V=void 0;if(x)for(var de=A.length-1;0<=de;de--){var be=A[de],Re=be.instance,ot=be.currentTarget;if(be=be.listener,Re!==V&&O.isPropagationStopped())break e;V=be,O.currentTarget=ot;try{V(O)}catch(Tt){Vb(Tt)}O.currentTarget=null,V=Re}else for(de=0;de<A.length;de++){if(be=A[de],Re=be.instance,ot=be.currentTarget,be=be.listener,Re!==V&&O.isPropagationStopped())break e;V=be,O.currentTarget=ot;try{V(O)}catch(Tt){Vb(Tt)}O.currentTarget=null,V=Re}}}}function hs(h,x){var w=x[as];w===void 0&&(w=x[as]=new Set);var A=h+"__bubble";w.has(A)||(ZE(x,h,2,!1),w.add(A))}function I4(h,x,w){var A=0;x&&(A|=4),ZE(w,h,A,x)}var ry="_reactListening"+Math.random().toString(36).slice(2);function B4(h){if(!h[ry]){h[ry]=!0,at.forEach(function(w){w!=="selectionchange"&&(yZ.has(w)||I4(w,!1,h),I4(w,!0,h))});var x=h.nodeType===9?h:h.ownerDocument;x===null||x[ry]||(x[ry]=!0,I4("selectionchange",!1,x))}}function ZE(h,x,w,A){switch(N7(x)){case 2:var O=GZ;break;case 8:O=KZ;break;default:O=Z4}w=O.bind(null,x,w,h),O=void 0,!ps||x!=="touchstart"&&x!=="touchmove"&&x!=="wheel"||(O=!0),A?O!==void 0?h.addEventListener(x,w,{capture:!0,passive:O}):h.addEventListener(x,w,!0):O!==void 0?h.addEventListener(x,w,{passive:O}):h.addEventListener(x,w,!1)}function $4(h,x,w,A,O){var V=A;if((x&1)===0&&(x&2)===0&&A!==null)e:for(;;){if(A===null)return;var de=A.tag;if(de===3||de===4){var be=A.stateNode.containerInfo;if(be===O)break;if(de===4)for(de=A.return;de!==null;){var Re=de.tag;if((Re===3||Re===4)&&de.stateNode.containerInfo===O)return;de=de.return}for(;be!==null;){if(de=Ae(be),de===null)return;if(Re=de.tag,Re===5||Re===6||Re===26||Re===27){A=V=de;continue e}be=be.parentNode}}A=A.return}mr(function(){var ot=V,Tt=or(w),Lt=[];e:{var dt=Vx.get(h);if(dt!==void 0){var ht=mo,Oa=h;switch(h){case"keypress":if(ci(w)===0)break e;case"keydown":case"keyup":ht=Pa;break;case"focusin":Oa="focus",ht=Eh;break;case"focusout":Oa="blur",ht=Eh;break;case"beforeblur":case"afterblur":ht=Eh;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=Qf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=Ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=Jr;break;case qo:case Fh:case pu:ht=hu;break;case Hx:ht=un;break;case"scroll":case"scrollend":ht=du;break;case"wheel":ht=Wn;break;case"copy":case"cut":case"paste":ht=Y;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=ws;break;case"toggle":case"beforetoggle":ht=Wi}var Ta=(x&4)!==0,Zs=!Ta&&(h==="scroll"||h==="scrollend"),Qe=Ta?dt!==null?dt+"Capture":null:dt;Ta=[];for(var We=ot,nt;We!==null;){var Dt=We;if(nt=Dt.stateNode,Dt=Dt.tag,Dt!==5&&Dt!==26&&Dt!==27||nt===null||Qe===null||(Dt=bl(We,Qe),Dt!=null&&Ta.push(vg(We,Dt,nt))),Zs)break;We=We.return}0<Ta.length&&(dt=new ht(dt,Oa,null,w,Tt),Lt.push({event:dt,listeners:Ta}))}}if((x&7)===0){e:{if(dt=h==="mouseover"||h==="pointerover",ht=h==="mouseout"||h==="pointerout",dt&&w!==ts&&(Oa=w.relatedTarget||w.fromElement)&&(Ae(Oa)||Oa[Ps]))break e;if((ht||dt)&&(dt=Tt.window===Tt?Tt:(dt=Tt.ownerDocument)?dt.defaultView||dt.parentWindow:window,ht?(Oa=w.relatedTarget||w.toElement,ht=ot,Oa=Oa?Ae(Oa):null,Oa!==null&&(Zs=i(Oa),Ta=Oa.tag,Oa!==Zs||Ta!==5&&Ta!==27&&Ta!==6)&&(Oa=null)):(ht=null,Oa=ot),ht!==Oa)){if(Ta=Qf,Dt="onMouseLeave",Qe="onMouseEnter",We="mouse",(h==="pointerout"||h==="pointerover")&&(Ta=ws,Dt="onPointerLeave",Qe="onPointerEnter",We="pointer"),Zs=ht==null?dt:Xe(ht),nt=Oa==null?dt:Xe(Oa),dt=new Ta(Dt,We+"leave",ht,w,Tt),dt.target=Zs,dt.relatedTarget=nt,Dt=null,Ae(Tt)===ot&&(Ta=new Ta(Qe,We+"enter",Oa,w,Tt),Ta.target=nt,Ta.relatedTarget=Zs,Dt=Ta),Zs=Dt,ht&&Oa)t:{for(Ta=ht,Qe=Oa,We=0,nt=Ta;nt;nt=yp(nt))We++;for(nt=0,Dt=Qe;Dt;Dt=yp(Dt))nt++;for(;0<We-nt;)Ta=yp(Ta),We--;for(;0<nt-We;)Qe=yp(Qe),nt--;for(;We--;){if(Ta===Qe||Qe!==null&&Ta===Qe.alternate)break t;Ta=yp(Ta),Qe=yp(Qe)}Ta=null}else Ta=null;ht!==null&&e7(Lt,dt,ht,Ta,!1),Oa!==null&&Zs!==null&&e7(Lt,Zs,Oa,Ta,!0)}}e:{if(dt=ot?Xe(ot):window,ht=dt.nodeName&&dt.nodeName.toLowerCase(),ht==="select"||ht==="input"&&dt.type==="file")var ha=Dh;else if(Ho(dt))if(Mc)ha=zr;else{ha=t0;var is=Td}else ht=dt.nodeName,!ht||ht.toLowerCase()!=="input"||dt.type!=="checkbox"&&dt.type!=="radio"?ot&&Oe(ot.elementType)&&(ha=Dh):ha=Mh;if(ha&&(ha=ha(h,ot))){fu(Lt,ha,w,Tt);break e}is&&is(h,dt,ot),h==="focusout"&&ot&&dt.type==="number"&&ot.memoizedProps.value!=null&&cu(dt,"number",dt.value)}switch(is=ot?Xe(ot):window,h){case"focusin":(Ho(is)||is.contentEditable==="true")&&(yl=is,Oc=ot,zl=null);break;case"focusout":zl=Oc=yl=null;break;case"mousedown":Rc=!0;break;case"contextmenu":case"mouseup":case"dragend":Rc=!1,wl(Lt,w,Tt);break;case"selectionchange":if(Ed)break;case"keydown":case"keyup":wl(Lt,w,Tt)}var wa;if(wd)e:{switch(h){case"compositionstart":var Ea="onCompositionStart";break e;case"compositionend":Ea="onCompositionEnd";break e;case"compositionupdate":Ea="onCompositionUpdate";break e}Ea=void 0}else Ul?qn(h,w)&&(Ea="onCompositionEnd"):h==="keydown"&&w.keyCode===229&&(Ea="onCompositionStart");Ea&&(Nd&&w.locale!=="ko"&&(Ul||Ea!=="onCompositionStart"?Ea==="onCompositionEnd"&&Ul&&(wa=Bl()):(Dn=Tt,ho="value"in Dn?Dn.value:Dn.textContent,Ul=!0)),is=ny(ot,Ea),0<is.length&&(Ea=new Me(Ea,h,null,w,Tt),Lt.push({event:Ea,listeners:is}),wa?Ea.data=wa:(wa=Cd(w),wa!==null&&(Ea.data=wa)))),(wa=jd?Zf(h,w):e0(h,w))&&(Ea=ny(ot,"onBeforeInput"),0<Ea.length&&(is=new Me("onBeforeInput","beforeinput",null,w,Tt),Lt.push({event:is,listeners:Ea}),is.data=wa)),gZ(Lt,h,ot,w,Tt)}QE(Lt,x)})}function vg(h,x,w){return{instance:h,listener:x,currentTarget:w}}function ny(h,x){for(var w=x+"Capture",A=[];h!==null;){var O=h,V=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||V===null||(O=bl(h,w),O!=null&&A.unshift(vg(h,O,V)),O=bl(h,x),O!=null&&A.push(vg(h,O,V))),h.tag===3)return A;h=h.return}return[]}function yp(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5&&h.tag!==27);return h||null}function e7(h,x,w,A,O){for(var V=x._reactName,de=[];w!==null&&w!==A;){var be=w,Re=be.alternate,ot=be.stateNode;if(be=be.tag,Re!==null&&Re===A)break;be!==5&&be!==26&&be!==27||ot===null||(Re=ot,O?(ot=bl(w,V),ot!=null&&de.unshift(vg(w,ot,Re))):O||(ot=bl(w,V),ot!=null&&de.push(vg(w,ot,Re)))),w=w.return}de.length!==0&&h.push({event:x,listeners:de})}var wZ=/\r\n?/g,jZ=/\u0000|\uFFFD/g;function t7(h){return(typeof h=="string"?h:""+h).replace(wZ,`
`).replace(jZ,"")}function a7(h,x){return x=t7(x),t7(h)===x}function iy(){}function Qs(h,x,w,A,O,V){switch(w){case"children":typeof A=="string"?x==="body"||x==="textarea"&&A===""||Hn(h,A):(typeof A=="number"||typeof A=="bigint")&&x!=="body"&&Hn(h,""+A);break;case"className":Pe(h,"class",A);break;case"tabIndex":Pe(h,"tabindex",A);break;case"dir":case"role":case"viewBox":case"width":case"height":Pe(h,w,A);break;case"style":Th(h,A,V);break;case"data":if(x!=="object"){Pe(h,"data",A);break}case"src":case"href":if(A===""&&(x!=="a"||w!=="href")){h.removeAttribute(w);break}if(A==null||typeof A=="function"||typeof A=="symbol"||typeof A=="boolean"){h.removeAttribute(w);break}A=Ut(""+A),h.setAttribute(w,A);break;case"action":case"formAction":if(typeof A=="function"){h.setAttribute(w,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof V=="function"&&(w==="formAction"?(x!=="input"&&Qs(h,x,"name",O.name,O,null),Qs(h,x,"formEncType",O.formEncType,O,null),Qs(h,x,"formMethod",O.formMethod,O,null),Qs(h,x,"formTarget",O.formTarget,O,null)):(Qs(h,x,"encType",O.encType,O,null),Qs(h,x,"method",O.method,O,null),Qs(h,x,"target",O.target,O,null)));if(A==null||typeof A=="symbol"||typeof A=="boolean"){h.removeAttribute(w);break}A=Ut(""+A),h.setAttribute(w,A);break;case"onClick":A!=null&&(h.onclick=iy);break;case"onScroll":A!=null&&hs("scroll",h);break;case"onScrollEnd":A!=null&&hs("scrollend",h);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(r(61));if(w=A.__html,w!=null){if(O.children!=null)throw Error(r(60));h.innerHTML=w}}break;case"multiple":h.multiple=A&&typeof A!="function"&&typeof A!="symbol";break;case"muted":h.muted=A&&typeof A!="function"&&typeof A!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(A==null||typeof A=="function"||typeof A=="boolean"||typeof A=="symbol"){h.removeAttribute("xlink:href");break}w=Ut(""+A),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",w);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":A!=null&&typeof A!="function"&&typeof A!="symbol"?h.setAttribute(w,""+A):h.removeAttribute(w);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":A&&typeof A!="function"&&typeof A!="symbol"?h.setAttribute(w,""):h.removeAttribute(w);break;case"capture":case"download":A===!0?h.setAttribute(w,""):A!==!1&&A!=null&&typeof A!="function"&&typeof A!="symbol"?h.setAttribute(w,A):h.removeAttribute(w);break;case"cols":case"rows":case"size":case"span":A!=null&&typeof A!="function"&&typeof A!="symbol"&&!isNaN(A)&&1<=A?h.setAttribute(w,A):h.removeAttribute(w);break;case"rowSpan":case"start":A==null||typeof A=="function"||typeof A=="symbol"||isNaN(A)?h.removeAttribute(w):h.setAttribute(w,A);break;case"popover":hs("beforetoggle",h),hs("toggle",h),va(h,"popover",A);break;case"xlinkActuate":yt(h,"http://www.w3.org/1999/xlink","xlink:actuate",A);break;case"xlinkArcrole":yt(h,"http://www.w3.org/1999/xlink","xlink:arcrole",A);break;case"xlinkRole":yt(h,"http://www.w3.org/1999/xlink","xlink:role",A);break;case"xlinkShow":yt(h,"http://www.w3.org/1999/xlink","xlink:show",A);break;case"xlinkTitle":yt(h,"http://www.w3.org/1999/xlink","xlink:title",A);break;case"xlinkType":yt(h,"http://www.w3.org/1999/xlink","xlink:type",A);break;case"xmlBase":yt(h,"http://www.w3.org/XML/1998/namespace","xml:base",A);break;case"xmlLang":yt(h,"http://www.w3.org/XML/1998/namespace","xml:lang",A);break;case"xmlSpace":yt(h,"http://www.w3.org/XML/1998/namespace","xml:space",A);break;case"is":va(h,"is",A);break;case"innerText":case"textContent":break;default:(!(2<w.length)||w[0]!=="o"&&w[0]!=="O"||w[1]!=="n"&&w[1]!=="N")&&(w=vt.get(w)||w,va(h,w,A))}}function U4(h,x,w,A,O,V){switch(w){case"style":Th(h,A,V);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(r(61));if(w=A.__html,w!=null){if(O.children!=null)throw Error(r(60));h.innerHTML=w}}break;case"children":typeof A=="string"?Hn(h,A):(typeof A=="number"||typeof A=="bigint")&&Hn(h,""+A);break;case"onScroll":A!=null&&hs("scroll",h);break;case"onScrollEnd":A!=null&&hs("scrollend",h);break;case"onClick":A!=null&&(h.onclick=iy);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!st.hasOwnProperty(w))e:{if(w[0]==="o"&&w[1]==="n"&&(O=w.endsWith("Capture"),x=w.slice(2,O?w.length-7:void 0),V=h[es]||null,V=V!=null?V[w]:null,typeof V=="function"&&h.removeEventListener(x,V,O),typeof A=="function")){typeof V!="function"&&V!==null&&(w in h?h[w]=null:h.hasAttribute(w)&&h.removeAttribute(w)),h.addEventListener(x,A,O);break e}w in h?h[w]=A:A===!0?h.setAttribute(w,""):va(h,w,A)}}}function Ri(h,x,w){switch(x){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":hs("error",h),hs("load",h);var A=!1,O=!1,V;for(V in w)if(w.hasOwnProperty(V)){var de=w[V];if(de!=null)switch(V){case"src":A=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,x));default:Qs(h,x,V,de,w,null)}}O&&Qs(h,x,"srcSet",w.srcSet,w,null),A&&Qs(h,x,"src",w.src,w,null);return;case"input":hs("invalid",h);var be=V=de=O=null,Re=null,ot=null;for(A in w)if(w.hasOwnProperty(A)){var Tt=w[A];if(Tt!=null)switch(A){case"name":O=Tt;break;case"type":de=Tt;break;case"checked":Re=Tt;break;case"defaultChecked":ot=Tt;break;case"value":V=Tt;break;case"defaultValue":be=Tt;break;case"children":case"dangerouslySetInnerHTML":if(Tt!=null)throw Error(r(137,x));break;default:Qs(h,x,A,Tt,w,null)}}_h(h,V,be,Re,ot,de,O,!1),Ci(h);return;case"select":hs("invalid",h),A=de=V=null;for(O in w)if(w.hasOwnProperty(O)&&(be=w[O],be!=null))switch(O){case"value":V=be;break;case"defaultValue":de=be;break;case"multiple":A=be;default:Qs(h,x,O,be,w,null)}x=V,w=de,h.multiple=!!A,x!=null?Uo(h,!!A,x,!1):w!=null&&Uo(h,!!A,w,!0);return;case"textarea":hs("invalid",h),V=O=A=null;for(de in w)if(w.hasOwnProperty(de)&&(be=w[de],be!=null))switch(de){case"value":A=be;break;case"defaultValue":O=be;break;case"children":V=be;break;case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(91));break;default:Qs(h,x,de,be,w,null)}bd(h,A,O,V),Ci(h);return;case"option":for(Re in w)if(w.hasOwnProperty(Re)&&(A=w[Re],A!=null))switch(Re){case"selected":h.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:Qs(h,x,Re,A,w,null)}return;case"dialog":hs("beforetoggle",h),hs("toggle",h),hs("cancel",h),hs("close",h);break;case"iframe":case"object":hs("load",h);break;case"video":case"audio":for(A=0;A<gg.length;A++)hs(gg[A],h);break;case"image":hs("error",h),hs("load",h);break;case"details":hs("toggle",h);break;case"embed":case"source":case"link":hs("error",h),hs("load",h);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ot in w)if(w.hasOwnProperty(ot)&&(A=w[ot],A!=null))switch(ot){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,x));default:Qs(h,x,ot,A,w,null)}return;default:if(Oe(x)){for(Tt in w)w.hasOwnProperty(Tt)&&(A=w[Tt],A!==void 0&&U4(h,x,Tt,A,w,void 0));return}}for(be in w)w.hasOwnProperty(be)&&(A=w[be],A!=null&&Qs(h,x,be,A,w,null))}function NZ(h,x,w,A){switch(x){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,V=null,de=null,be=null,Re=null,ot=null,Tt=null;for(ht in w){var Lt=w[ht];if(w.hasOwnProperty(ht)&&Lt!=null)switch(ht){case"checked":break;case"value":break;case"defaultValue":Re=Lt;default:A.hasOwnProperty(ht)||Qs(h,x,ht,null,A,Lt)}}for(var dt in A){var ht=A[dt];if(Lt=w[dt],A.hasOwnProperty(dt)&&(ht!=null||Lt!=null))switch(dt){case"type":V=ht;break;case"name":O=ht;break;case"checked":ot=ht;break;case"defaultChecked":Tt=ht;break;case"value":de=ht;break;case"defaultValue":be=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(r(137,x));break;default:ht!==Lt&&Qs(h,x,dt,ht,A,Lt)}}_c(h,de,be,Re,ot,Tt,V,O);return;case"select":ht=de=be=dt=null;for(V in w)if(Re=w[V],w.hasOwnProperty(V)&&Re!=null)switch(V){case"value":break;case"multiple":ht=Re;default:A.hasOwnProperty(V)||Qs(h,x,V,null,A,Re)}for(O in A)if(V=A[O],Re=w[O],A.hasOwnProperty(O)&&(V!=null||Re!=null))switch(O){case"value":dt=V;break;case"defaultValue":be=V;break;case"multiple":de=V;default:V!==Re&&Qs(h,x,O,V,A,Re)}x=be,w=de,A=ht,dt!=null?Uo(h,!!w,dt,!1):!!A!=!!w&&(x!=null?Uo(h,!!w,x,!0):Uo(h,!!w,w?[]:"",!1));return;case"textarea":ht=dt=null;for(be in w)if(O=w[be],w.hasOwnProperty(be)&&O!=null&&!A.hasOwnProperty(be))switch(be){case"value":break;case"children":break;default:Qs(h,x,be,null,A,O)}for(de in A)if(O=A[de],V=w[de],A.hasOwnProperty(de)&&(O!=null||V!=null))switch(de){case"value":dt=O;break;case"defaultValue":ht=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:O!==V&&Qs(h,x,de,O,A,V)}gl(h,dt,ht);return;case"option":for(var Oa in w)if(dt=w[Oa],w.hasOwnProperty(Oa)&&dt!=null&&!A.hasOwnProperty(Oa))switch(Oa){case"selected":h.selected=!1;break;default:Qs(h,x,Oa,null,A,dt)}for(Re in A)if(dt=A[Re],ht=w[Re],A.hasOwnProperty(Re)&&dt!==ht&&(dt!=null||ht!=null))switch(Re){case"selected":h.selected=dt&&typeof dt!="function"&&typeof dt!="symbol";break;default:Qs(h,x,Re,dt,A,ht)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ta in w)dt=w[Ta],w.hasOwnProperty(Ta)&&dt!=null&&!A.hasOwnProperty(Ta)&&Qs(h,x,Ta,null,A,dt);for(ot in A)if(dt=A[ot],ht=w[ot],A.hasOwnProperty(ot)&&dt!==ht&&(dt!=null||ht!=null))switch(ot){case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(r(137,x));break;default:Qs(h,x,ot,dt,A,ht)}return;default:if(Oe(x)){for(var Zs in w)dt=w[Zs],w.hasOwnProperty(Zs)&&dt!==void 0&&!A.hasOwnProperty(Zs)&&U4(h,x,Zs,void 0,A,dt);for(Tt in A)dt=A[Tt],ht=w[Tt],!A.hasOwnProperty(Tt)||dt===ht||dt===void 0&&ht===void 0||U4(h,x,Tt,dt,A,ht);return}}for(var Qe in w)dt=w[Qe],w.hasOwnProperty(Qe)&&dt!=null&&!A.hasOwnProperty(Qe)&&Qs(h,x,Qe,null,A,dt);for(Lt in A)dt=A[Lt],ht=w[Lt],!A.hasOwnProperty(Lt)||dt===ht||dt==null&&ht==null||Qs(h,x,Lt,dt,A,ht)}var z4=null,H4=null;function ly(h){return h.nodeType===9?h:h.ownerDocument}function s7(h){switch(h){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r7(h,x){if(h===0)switch(x){case"svg":return 1;case"math":return 2;default:return 0}return h===1&&x==="foreignObject"?0:h}function V4(h,x){return h==="textarea"||h==="noscript"||typeof x.children=="string"||typeof x.children=="number"||typeof x.children=="bigint"||typeof x.dangerouslySetInnerHTML=="object"&&x.dangerouslySetInnerHTML!==null&&x.dangerouslySetInnerHTML.__html!=null}var W4=null;function kZ(){var h=window.event;return h&&h.type==="popstate"?h===W4?!1:(W4=h,!0):(W4=null,!1)}var n7=typeof setTimeout=="function"?setTimeout:void 0,SZ=typeof clearTimeout=="function"?clearTimeout:void 0,i7=typeof Promise=="function"?Promise:void 0,CZ=typeof queueMicrotask=="function"?queueMicrotask:typeof i7<"u"?function(h){return i7.resolve(null).then(h).catch(AZ)}:n7;function AZ(h){setTimeout(function(){throw h})}function sf(h){return h==="head"}function l7(h,x){var w=x,A=0,O=0;do{var V=w.nextSibling;if(h.removeChild(w),V&&V.nodeType===8)if(w=V.data,w==="/$"){if(0<A&&8>A){w=A;var de=h.ownerDocument;if(w&1&&bg(de.documentElement),w&2&&bg(de.body),w&4)for(w=de.head,bg(w),de=w.firstChild;de;){var be=de.nextSibling,Re=de.nodeName;de[ye]||Re==="SCRIPT"||Re==="STYLE"||Re==="LINK"&&de.rel.toLowerCase()==="stylesheet"||w.removeChild(de),de=be}}if(O===0){h.removeChild(V),Ag(x);return}O--}else w==="$"||w==="$?"||w==="$!"?O++:A=w.charCodeAt(0)-48;else A=0;w=V}while(w);Ag(x)}function q4(h){var x=h.firstChild;for(x&&x.nodeType===10&&(x=x.nextSibling);x;){var w=x;switch(x=x.nextSibling,w.nodeName){case"HTML":case"HEAD":case"BODY":q4(w),Ne(w);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(w.rel.toLowerCase()==="stylesheet")continue}h.removeChild(w)}}function _Z(h,x,w,A){for(;h.nodeType===1;){var O=w;if(h.nodeName.toLowerCase()!==x.toLowerCase()){if(!A&&(h.nodeName!=="INPUT"||h.type!=="hidden"))break}else if(A){if(!h[ye])switch(x){case"meta":if(!h.hasAttribute("itemprop"))break;return h;case"link":if(V=h.getAttribute("rel"),V==="stylesheet"&&h.hasAttribute("data-precedence"))break;if(V!==O.rel||h.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||h.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||h.getAttribute("title")!==(O.title==null?null:O.title))break;return h;case"style":if(h.hasAttribute("data-precedence"))break;return h;case"script":if(V=h.getAttribute("src"),(V!==(O.src==null?null:O.src)||h.getAttribute("type")!==(O.type==null?null:O.type)||h.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&V&&h.hasAttribute("async")&&!h.hasAttribute("itemprop"))break;return h;default:return h}}else if(x==="input"&&h.type==="hidden"){var V=O.name==null?null:""+O.name;if(O.type==="hidden"&&h.getAttribute("name")===V)return h}else return h;if(h=Yc(h.nextSibling),h===null)break}return null}function TZ(h,x,w){if(x==="")return null;for(;h.nodeType!==3;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!w||(h=Yc(h.nextSibling),h===null))return null;return h}function G4(h){return h.data==="$!"||h.data==="$?"&&h.ownerDocument.readyState==="complete"}function EZ(h,x){var w=h.ownerDocument;if(h.data!=="$?"||w.readyState==="complete")x();else{var A=function(){x(),w.removeEventListener("DOMContentLoaded",A)};w.addEventListener("DOMContentLoaded",A),h._reactRetry=A}}function Yc(h){for(;h!=null;h=h.nextSibling){var x=h.nodeType;if(x===1||x===3)break;if(x===8){if(x=h.data,x==="$"||x==="$!"||x==="$?"||x==="F!"||x==="F")break;if(x==="/$")return null}}return h}var K4=null;function o7(h){h=h.previousSibling;for(var x=0;h;){if(h.nodeType===8){var w=h.data;if(w==="$"||w==="$!"||w==="$?"){if(x===0)return h;x--}else w==="/$"&&x++}h=h.previousSibling}return null}function c7(h,x,w){switch(x=ly(w),h){case"html":if(h=x.documentElement,!h)throw Error(r(452));return h;case"head":if(h=x.head,!h)throw Error(r(453));return h;case"body":if(h=x.body,!h)throw Error(r(454));return h;default:throw Error(r(451))}}function bg(h){for(var x=h.attributes;x.length;)h.removeAttributeNode(x[0]);Ne(h)}var ac=new Map,d7=new Set;function oy(h){return typeof h.getRootNode=="function"?h.getRootNode():h.nodeType===9?h:h.ownerDocument}var Mu=q.d;q.d={f:DZ,r:MZ,D:PZ,C:LZ,L:OZ,m:RZ,X:IZ,S:FZ,M:BZ};function DZ(){var h=Mu.f(),x=Zb();return h||x}function MZ(h){var x=_e(h);x!==null&&x.tag===5&&x.type==="form"?x0(x):Mu.r(h)}var wp=typeof document>"u"?null:document;function u7(h,x,w){var A=wp;if(A&&typeof x=="string"&&x){var O=ms(x);O='link[rel="'+h+'"][href="'+O+'"]',typeof w=="string"&&(O+='[crossorigin="'+w+'"]'),d7.has(O)||(d7.add(O),h={rel:h,crossOrigin:w,href:x},A.querySelector(O)===null&&(x=A.createElement("link"),Ri(x,"link",h),Ye(x),A.head.appendChild(x)))}}function PZ(h){Mu.D(h),u7("dns-prefetch",h,null)}function LZ(h,x){Mu.C(h,x),u7("preconnect",h,x)}function OZ(h,x,w){Mu.L(h,x,w);var A=wp;if(A&&h&&x){var O='link[rel="preload"][as="'+ms(x)+'"]';x==="image"&&w&&w.imageSrcSet?(O+='[imagesrcset="'+ms(w.imageSrcSet)+'"]',typeof w.imageSizes=="string"&&(O+='[imagesizes="'+ms(w.imageSizes)+'"]')):O+='[href="'+ms(h)+'"]';var V=O;switch(x){case"style":V=jp(h);break;case"script":V=Np(h)}ac.has(V)||(h=u({rel:"preload",href:x==="image"&&w&&w.imageSrcSet?void 0:h,as:x},w),ac.set(V,h),A.querySelector(O)!==null||x==="style"&&A.querySelector(yg(V))||x==="script"&&A.querySelector(wg(V))||(x=A.createElement("link"),Ri(x,"link",h),Ye(x),A.head.appendChild(x)))}}function RZ(h,x){Mu.m(h,x);var w=wp;if(w&&h){var A=x&&typeof x.as=="string"?x.as:"script",O='link[rel="modulepreload"][as="'+ms(A)+'"][href="'+ms(h)+'"]',V=O;switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":V=Np(h)}if(!ac.has(V)&&(h=u({rel:"modulepreload",href:h},x),ac.set(V,h),w.querySelector(O)===null)){switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(w.querySelector(wg(V)))return}A=w.createElement("link"),Ri(A,"link",h),Ye(A),w.head.appendChild(A)}}}function FZ(h,x,w){Mu.S(h,x,w);var A=wp;if(A&&h){var O=ut(A).hoistableStyles,V=jp(h);x=x||"default";var de=O.get(V);if(!de){var be={loading:0,preload:null};if(de=A.querySelector(yg(V)))be.loading=5;else{h=u({rel:"stylesheet",href:h,"data-precedence":x},w),(w=ac.get(V))&&Y4(h,w);var Re=de=A.createElement("link");Ye(Re),Ri(Re,"link",h),Re._p=new Promise(function(ot,Tt){Re.onload=ot,Re.onerror=Tt}),Re.addEventListener("load",function(){be.loading|=1}),Re.addEventListener("error",function(){be.loading|=2}),be.loading|=4,cy(de,x,A)}de={type:"stylesheet",instance:de,count:1,state:be},O.set(V,de)}}}function IZ(h,x){Mu.X(h,x);var w=wp;if(w&&h){var A=ut(w).hoistableScripts,O=Np(h),V=A.get(O);V||(V=w.querySelector(wg(O)),V||(h=u({src:h,async:!0},x),(x=ac.get(O))&&X4(h,x),V=w.createElement("script"),Ye(V),Ri(V,"link",h),w.head.appendChild(V)),V={type:"script",instance:V,count:1,state:null},A.set(O,V))}}function BZ(h,x){Mu.M(h,x);var w=wp;if(w&&h){var A=ut(w).hoistableScripts,O=Np(h),V=A.get(O);V||(V=w.querySelector(wg(O)),V||(h=u({src:h,async:!0,type:"module"},x),(x=ac.get(O))&&X4(h,x),V=w.createElement("script"),Ye(V),Ri(V,"link",h),w.head.appendChild(V)),V={type:"script",instance:V,count:1,state:null},A.set(O,V))}}function h7(h,x,w,A){var O=(O=se.current)?oy(O):null;if(!O)throw Error(r(446));switch(h){case"meta":case"title":return null;case"style":return typeof w.precedence=="string"&&typeof w.href=="string"?(x=jp(w.href),w=ut(O).hoistableStyles,A=w.get(x),A||(A={type:"style",instance:null,count:0,state:null},w.set(x,A)),A):{type:"void",instance:null,count:0,state:null};case"link":if(w.rel==="stylesheet"&&typeof w.href=="string"&&typeof w.precedence=="string"){h=jp(w.href);var V=ut(O).hoistableStyles,de=V.get(h);if(de||(O=O.ownerDocument||O,de={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},V.set(h,de),(V=O.querySelector(yg(h)))&&!V._p&&(de.instance=V,de.state.loading=5),ac.has(h)||(w={rel:"preload",as:"style",href:w.href,crossOrigin:w.crossOrigin,integrity:w.integrity,media:w.media,hrefLang:w.hrefLang,referrerPolicy:w.referrerPolicy},ac.set(h,w),V||$Z(O,h,w,de.state))),x&&A===null)throw Error(r(528,""));return de}if(x&&A!==null)throw Error(r(529,""));return null;case"script":return x=w.async,w=w.src,typeof w=="string"&&x&&typeof x!="function"&&typeof x!="symbol"?(x=Np(w),w=ut(O).hoistableScripts,A=w.get(x),A||(A={type:"script",instance:null,count:0,state:null},w.set(x,A)),A):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,h))}}function jp(h){return'href="'+ms(h)+'"'}function yg(h){return'link[rel="stylesheet"]['+h+"]"}function f7(h){return u({},h,{"data-precedence":h.precedence,precedence:null})}function $Z(h,x,w,A){h.querySelector('link[rel="preload"][as="style"]['+x+"]")?A.loading=1:(x=h.createElement("link"),A.preload=x,x.addEventListener("load",function(){return A.loading|=1}),x.addEventListener("error",function(){return A.loading|=2}),Ri(x,"link",w),Ye(x),h.head.appendChild(x))}function Np(h){return'[src="'+ms(h)+'"]'}function wg(h){return"script[async]"+h}function m7(h,x,w){if(x.count++,x.instance===null)switch(x.type){case"style":var A=h.querySelector('style[data-href~="'+ms(w.href)+'"]');if(A)return x.instance=A,Ye(A),A;var O=u({},w,{"data-href":w.href,"data-precedence":w.precedence,href:null,precedence:null});return A=(h.ownerDocument||h).createElement("style"),Ye(A),Ri(A,"style",O),cy(A,w.precedence,h),x.instance=A;case"stylesheet":O=jp(w.href);var V=h.querySelector(yg(O));if(V)return x.state.loading|=4,x.instance=V,Ye(V),V;A=f7(w),(O=ac.get(O))&&Y4(A,O),V=(h.ownerDocument||h).createElement("link"),Ye(V);var de=V;return de._p=new Promise(function(be,Re){de.onload=be,de.onerror=Re}),Ri(V,"link",A),x.state.loading|=4,cy(V,w.precedence,h),x.instance=V;case"script":return V=Np(w.src),(O=h.querySelector(wg(V)))?(x.instance=O,Ye(O),O):(A=w,(O=ac.get(V))&&(A=u({},w),X4(A,O)),h=h.ownerDocument||h,O=h.createElement("script"),Ye(O),Ri(O,"link",A),h.head.appendChild(O),x.instance=O);case"void":return null;default:throw Error(r(443,x.type))}else x.type==="stylesheet"&&(x.state.loading&4)===0&&(A=x.instance,x.state.loading|=4,cy(A,w.precedence,h));return x.instance}function cy(h,x,w){for(var A=w.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=A.length?A[A.length-1]:null,V=O,de=0;de<A.length;de++){var be=A[de];if(be.dataset.precedence===x)V=be;else if(V!==O)break}V?V.parentNode.insertBefore(h,V.nextSibling):(x=w.nodeType===9?w.head:w,x.insertBefore(h,x.firstChild))}function Y4(h,x){h.crossOrigin==null&&(h.crossOrigin=x.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=x.referrerPolicy),h.title==null&&(h.title=x.title)}function X4(h,x){h.crossOrigin==null&&(h.crossOrigin=x.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=x.referrerPolicy),h.integrity==null&&(h.integrity=x.integrity)}var dy=null;function p7(h,x,w){if(dy===null){var A=new Map,O=dy=new Map;O.set(w,A)}else O=dy,A=O.get(w),A||(A=new Map,O.set(w,A));if(A.has(h))return A;for(A.set(h,null),w=w.getElementsByTagName(h),O=0;O<w.length;O++){var V=w[O];if(!(V[ye]||V[cs]||h==="link"&&V.getAttribute("rel")==="stylesheet")&&V.namespaceURI!=="http://www.w3.org/2000/svg"){var de=V.getAttribute(x)||"";de=h+de;var be=A.get(de);be?be.push(V):A.set(de,[V])}}return A}function x7(h,x,w){h=h.ownerDocument||h,h.head.insertBefore(w,x==="title"?h.querySelector("head > title"):null)}function UZ(h,x,w){if(w===1||x.itemProp!=null)return!1;switch(h){case"meta":case"title":return!0;case"style":if(typeof x.precedence!="string"||typeof x.href!="string"||x.href==="")break;return!0;case"link":if(typeof x.rel!="string"||typeof x.href!="string"||x.href===""||x.onLoad||x.onError)break;switch(x.rel){case"stylesheet":return h=x.disabled,typeof x.precedence=="string"&&h==null;default:return!0}case"script":if(x.async&&typeof x.async!="function"&&typeof x.async!="symbol"&&!x.onLoad&&!x.onError&&x.src&&typeof x.src=="string")return!0}return!1}function g7(h){return!(h.type==="stylesheet"&&(h.state.loading&3)===0)}var jg=null;function zZ(){}function HZ(h,x,w){if(jg===null)throw Error(r(475));var A=jg;if(x.type==="stylesheet"&&(typeof w.media!="string"||matchMedia(w.media).matches!==!1)&&(x.state.loading&4)===0){if(x.instance===null){var O=jp(w.href),V=h.querySelector(yg(O));if(V){h=V._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(A.count++,A=uy.bind(A),h.then(A,A)),x.state.loading|=4,x.instance=V,Ye(V);return}V=h.ownerDocument||h,w=f7(w),(O=ac.get(O))&&Y4(w,O),V=V.createElement("link"),Ye(V);var de=V;de._p=new Promise(function(be,Re){de.onload=be,de.onerror=Re}),Ri(V,"link",w),x.instance=V}A.stylesheets===null&&(A.stylesheets=new Map),A.stylesheets.set(x,h),(h=x.state.preload)&&(x.state.loading&3)===0&&(A.count++,x=uy.bind(A),h.addEventListener("load",x),h.addEventListener("error",x))}}function VZ(){if(jg===null)throw Error(r(475));var h=jg;return h.stylesheets&&h.count===0&&J4(h,h.stylesheets),0<h.count?function(x){var w=setTimeout(function(){if(h.stylesheets&&J4(h,h.stylesheets),h.unsuspend){var A=h.unsuspend;h.unsuspend=null,A()}},6e4);return h.unsuspend=x,function(){h.unsuspend=null,clearTimeout(w)}}:null}function uy(){if(this.count--,this.count===0){if(this.stylesheets)J4(this,this.stylesheets);else if(this.unsuspend){var h=this.unsuspend;this.unsuspend=null,h()}}}var hy=null;function J4(h,x){h.stylesheets=null,h.unsuspend!==null&&(h.count++,hy=new Map,x.forEach(WZ,h),hy=null,uy.call(h))}function WZ(h,x){if(!(x.state.loading&4)){var w=hy.get(h);if(w)var A=w.get(null);else{w=new Map,hy.set(h,w);for(var O=h.querySelectorAll("link[data-precedence],style[data-precedence]"),V=0;V<O.length;V++){var de=O[V];(de.nodeName==="LINK"||de.getAttribute("media")!=="not all")&&(w.set(de.dataset.precedence,de),A=de)}A&&w.set(null,A)}O=x.instance,de=O.getAttribute("data-precedence"),V=w.get(de)||A,V===A&&w.set(null,O),w.set(de,O),this.count++,A=uy.bind(this),O.addEventListener("load",A),O.addEventListener("error",A),V?V.parentNode.insertBefore(O,V.nextSibling):(h=h.nodeType===9?h.head:h,h.insertBefore(O,h.firstChild)),x.state.loading|=4}}var Ng={$$typeof:k,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function qZ(h,x,w,A,O,V,de,be){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ia(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ia(0),this.hiddenUpdates=Ia(null),this.identifierPrefix=A,this.onUncaughtError=O,this.onCaughtError=V,this.onRecoverableError=de,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=be,this.incompleteTransitions=new Map}function v7(h,x,w,A,O,V,de,be,Re,ot,Tt,Lt){return h=new qZ(h,x,w,de,be,Re,ot,Lt),x=1,V===!0&&(x|=24),V=hi(3,null,null,x),h.current=V,V.stateNode=h,x=qx(),x.refCount++,h.pooledCache=x,x.refCount++,V.memoizedState={element:A,isDehydrated:w,cache:x},it(V),h}function b7(h){return h?(h=Mn,h):Mn}function y7(h,x,w,A,O,V){O=b7(O),A.context===null?A.context=O:A.pendingContext=O,A=wt(x),A.payload={element:w},V=V===void 0?null:V,V!==null&&(A.callback=V),w=It(h,A,x),w!==null&&(No(w,h,x),Pt(w,h,x))}function w7(h,x){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var w=h.retryLane;h.retryLane=w!==0&&w<x?w:x}}function Q4(h,x){w7(h,x),(h=h.alternate)&&w7(h,x)}function j7(h){if(h.tag===13){var x=gu(h,67108864);x!==null&&No(x,h,67108864),Q4(h,67108864)}}var fy=!0;function GZ(h,x,w,A){var O=R.T;R.T=null;var V=q.p;try{q.p=2,Z4(h,x,w,A)}finally{q.p=V,R.T=O}}function KZ(h,x,w,A){var O=R.T;R.T=null;var V=q.p;try{q.p=8,Z4(h,x,w,A)}finally{q.p=V,R.T=O}}function Z4(h,x,w,A){if(fy){var O=e5(A);if(O===null)$4(h,x,A,my,w),k7(h,A);else if(XZ(O,h,x,w,A))A.stopPropagation();else if(k7(h,A),x&4&&-1<YZ.indexOf(h)){for(;O!==null;){var V=_e(O);if(V!==null)switch(V.tag){case 3:if(V=V.stateNode,V.current.memoizedState.isDehydrated){var de=Te(V.pendingLanes);if(de!==0){var be=V;for(be.pendingLanes|=2,be.entangledLanes|=2;de;){var Re=1<<31-Je(de);be.entanglements[1]|=Re,de&=~Re}Id(V),(Us&6)===0&&(Jb=ze()+500,xg(0))}}break;case 13:be=gu(V,2),be!==null&&No(be,V,2),Zb(),Q4(V,2)}if(V=e5(A),V===null&&$4(h,x,A,my,w),V===O)break;O=V}O!==null&&A.stopPropagation()}else $4(h,x,A,null,w)}}function e5(h){return h=or(h),t5(h)}var my=null;function t5(h){if(my=null,h=Ae(h),h!==null){var x=i(h);if(x===null)h=null;else{var w=x.tag;if(w===13){if(h=l(x),h!==null)return h;h=null}else if(w===3){if(x.stateNode.current.memoizedState.isDehydrated)return x.tag===3?x.stateNode.containerInfo:null;h=null}else x!==h&&(h=null)}}return my=h,null}function N7(h){switch(h){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ce()){case ce:return 2;case Ie:return 8;case we:case $e:return 32;case Be:return 268435456;default:return 32}default:return 32}}var a5=!1,rf=null,nf=null,lf=null,kg=new Map,Sg=new Map,of=[],YZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k7(h,x){switch(h){case"focusin":case"focusout":rf=null;break;case"dragenter":case"dragleave":nf=null;break;case"mouseover":case"mouseout":lf=null;break;case"pointerover":case"pointerout":kg.delete(x.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sg.delete(x.pointerId)}}function Cg(h,x,w,A,O,V){return h===null||h.nativeEvent!==V?(h={blockedOn:x,domEventName:w,eventSystemFlags:A,nativeEvent:V,targetContainers:[O]},x!==null&&(x=_e(x),x!==null&&j7(x)),h):(h.eventSystemFlags|=A,x=h.targetContainers,O!==null&&x.indexOf(O)===-1&&x.push(O),h)}function XZ(h,x,w,A,O){switch(x){case"focusin":return rf=Cg(rf,h,x,w,A,O),!0;case"dragenter":return nf=Cg(nf,h,x,w,A,O),!0;case"mouseover":return lf=Cg(lf,h,x,w,A,O),!0;case"pointerover":var V=O.pointerId;return kg.set(V,Cg(kg.get(V)||null,h,x,w,A,O)),!0;case"gotpointercapture":return V=O.pointerId,Sg.set(V,Cg(Sg.get(V)||null,h,x,w,A,O)),!0}return!1}function S7(h){var x=Ae(h.target);if(x!==null){var w=i(x);if(w!==null){if(x=w.tag,x===13){if(x=l(w),x!==null){h.blockedOn=x,ra(h.priority,function(){if(w.tag===13){var A=jo();A=rt(A);var O=gu(w,A);O!==null&&No(O,w,A),Q4(w,A)}});return}}else if(x===3&&w.stateNode.current.memoizedState.isDehydrated){h.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}h.blockedOn=null}function py(h){if(h.blockedOn!==null)return!1;for(var x=h.targetContainers;0<x.length;){var w=e5(h.nativeEvent);if(w===null){w=h.nativeEvent;var A=new w.constructor(w.type,w);ts=A,w.target.dispatchEvent(A),ts=null}else return x=_e(w),x!==null&&j7(x),h.blockedOn=w,!1;x.shift()}return!0}function C7(h,x,w){py(h)&&w.delete(x)}function JZ(){a5=!1,rf!==null&&py(rf)&&(rf=null),nf!==null&&py(nf)&&(nf=null),lf!==null&&py(lf)&&(lf=null),kg.forEach(C7),Sg.forEach(C7)}function xy(h,x){h.blockedOn===x&&(h.blockedOn=null,a5||(a5=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,JZ)))}var gy=null;function A7(h){gy!==h&&(gy=h,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){gy===h&&(gy=null);for(var x=0;x<h.length;x+=3){var w=h[x],A=h[x+1],O=h[x+2];if(typeof A!="function"){if(t5(A||w)===null)continue;break}var V=_e(w);V!==null&&(h.splice(x,3),x-=3,Zo(V,{pending:!0,data:O,method:w.method,action:A},A,O))}}))}function Ag(h){function x(Re){return xy(Re,h)}rf!==null&&xy(rf,h),nf!==null&&xy(nf,h),lf!==null&&xy(lf,h),kg.forEach(x),Sg.forEach(x);for(var w=0;w<of.length;w++){var A=of[w];A.blockedOn===h&&(A.blockedOn=null)}for(;0<of.length&&(w=of[0],w.blockedOn===null);)S7(w),w.blockedOn===null&&of.shift();if(w=(h.ownerDocument||h).$$reactFormReplay,w!=null)for(A=0;A<w.length;A+=3){var O=w[A],V=w[A+1],de=O[es]||null;if(typeof V=="function")de||A7(w);else if(de){var be=null;if(V&&V.hasAttribute("formAction")){if(O=V,de=V[es]||null)be=de.formAction;else if(t5(O)!==null)continue}else be=de.action;typeof be=="function"?w[A+1]=be:(w.splice(A,3),A-=3),A7(w)}}}function s5(h){this._internalRoot=h}vy.prototype.render=s5.prototype.render=function(h){var x=this._internalRoot;if(x===null)throw Error(r(409));var w=x.current,A=jo();y7(w,A,h,x,null,null)},vy.prototype.unmount=s5.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var x=h.containerInfo;y7(h.current,2,null,h,null,null),Zb(),x[Ps]=null}};function vy(h){this._internalRoot=h}vy.prototype.unstable_scheduleHydration=function(h){if(h){var x=St();h={blockedOn:null,target:h,priority:x};for(var w=0;w<of.length&&x!==0&&x<of[w].priority;w++);of.splice(w,0,h),w===0&&S7(h)}};var _7=t.version;if(_7!=="19.1.1")throw Error(r(527,_7,"19.1.1"));q.findDOMNode=function(h){var x=h._reactInternals;if(x===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=c(x),h=h!==null?d(h):null,h=h===null?null:h.stateNode,h};var QZ={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var by=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!by.isDisabled&&by.supportsFiber)try{Ue=by.inject(QZ),tt=by}catch{}}return Tg.createRoot=function(h,x){if(!n(h))throw Error(r(299));var w=!1,A="",O=VT,V=WT,de=qT,be=null;return x!=null&&(x.unstable_strictMode===!0&&(w=!0),x.identifierPrefix!==void 0&&(A=x.identifierPrefix),x.onUncaughtError!==void 0&&(O=x.onUncaughtError),x.onCaughtError!==void 0&&(V=x.onCaughtError),x.onRecoverableError!==void 0&&(de=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(be=x.unstable_transitionCallbacks)),x=v7(h,1,!1,null,null,w,A,O,V,de,be,null),h[Ps]=x.current,B4(h),new s5(x)},Tg.hydrateRoot=function(h,x,w){if(!n(h))throw Error(r(299));var A=!1,O="",V=VT,de=WT,be=qT,Re=null,ot=null;return w!=null&&(w.unstable_strictMode===!0&&(A=!0),w.identifierPrefix!==void 0&&(O=w.identifierPrefix),w.onUncaughtError!==void 0&&(V=w.onUncaughtError),w.onCaughtError!==void 0&&(de=w.onCaughtError),w.onRecoverableError!==void 0&&(be=w.onRecoverableError),w.unstable_transitionCallbacks!==void 0&&(Re=w.unstable_transitionCallbacks),w.formState!==void 0&&(ot=w.formState)),x=v7(h,1,!0,x,w??null,A,O,V,de,be,Re,ot),x.context=b7(null),w=x.current,A=jo(),A=rt(A),O=wt(A),O.callback=null,It(w,O,A),w=A,x.current.lanes=w,Ca(x,w),Id(x),h[Ps]=x.current,B4(h),new vy(x)},Tg.version="19.1.1",Tg}var I7;function cee(){if(I7)return i5.exports;I7=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),i5.exports=oee(),i5.exports}var dee=cee(),Aj=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uee={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},hee=class{#e=uee;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},wS=new hee;function fee(e){setTimeout(e,0)}var _j=typeof window>"u"||"Deno"in globalThis;function ed(){}function mee(e,t){return typeof e=="function"?e(t):e}function pee(e){return typeof e=="number"&&e>=0&&e!==1/0}function xee(e,t){return Math.max(e+(t||0)-Date.now(),0)}function jS(e,t){return typeof e=="function"?e(t):e}function gee(e,t){return typeof e=="function"?e(t):e}function B7(e,t){const{type:a="all",exact:r,fetchStatus:n,predicate:i,queryKey:l,stale:o}=e;if(l){if(r){if(t.queryHash!==G6(l,t.options))return!1}else if(!$v(t.queryKey,l))return!1}if(a!=="all"){const c=t.isActive();if(a==="active"&&!c||a==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||n&&n!==t.state.fetchStatus||i&&!i(t))}function $7(e,t){const{exact:a,status:r,predicate:n,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(a){if(Bv(t.options.mutationKey)!==Bv(i))return!1}else if(!$v(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||n&&!n(t))}function G6(e,t){return(t?.queryKeyHashFn||Bv)(e)}function Bv(e){return JSON.stringify(e,(t,a)=>NS(a)?Object.keys(a).sort().reduce((r,n)=>(r[n]=a[n],r),{}):a)}function $v(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(a=>$v(e[a],t[a])):!1}var vee=Object.prototype.hasOwnProperty;function E$(e,t){if(e===t)return e;const a=U7(e)&&U7(t);if(!a&&!(NS(e)&&NS(t)))return t;const n=(a?e:Object.keys(e)).length,i=a?t:Object.keys(t),l=i.length,o=a?new Array(l):{};let c=0;for(let d=0;d<l;d++){const u=a?d:i[d],f=e[u],p=t[u];if(f===p){o[u]=f,(a?d<n:vee.call(e,u))&&c++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){o[u]=p;continue}const m=E$(f,p);o[u]=m,m===f&&c++}return n===l&&c===n?e:o}function U7(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function NS(e){if(!z7(e))return!1;const t=e.constructor;if(t===void 0)return!0;const a=t.prototype;return!(!z7(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function z7(e){return Object.prototype.toString.call(e)==="[object Object]"}function bee(e){return new Promise(t=>{wS.setTimeout(t,e)})}function yee(e,t,a){return typeof a.structuralSharing=="function"?a.structuralSharing(e,t):a.structuralSharing!==!1?E$(e,t):t}function wee(e,t,a=0){const r=[...e,t];return a&&r.length>a?r.slice(1):r}function jee(e,t,a=0){const r=[t,...e];return a&&r.length>a?r.slice(0,-1):r}var K6=Symbol();function D$(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===K6?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Nee=class extends Aj{#e;#t;#a;constructor(){super(),this.#a=e=>{if(!_j&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#a)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#a=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},M$=new Nee;function kee(){let e,t;const a=new Promise((n,i)=>{e=n,t=i});a.status="pending",a.catch(()=>{});function r(n){Object.assign(a,n),delete a.resolve,delete a.reject}return a.resolve=n=>{r({status:"fulfilled",value:n}),e(n)},a.reject=n=>{r({status:"rejected",reason:n}),t(n)},a}var See=fee;function Cee(){let e=[],t=0,a=o=>{o()},r=o=>{o()},n=See;const i=o=>{t?e.push(o):n(()=>{a(o)})},l=()=>{const o=e;e=[],o.length&&n(()=>{r(()=>{o.forEach(c=>{a(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||l()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{a=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{n=o}}}var Tl=Cee(),Aee=class extends Aj{#e=!0;#t;#a;constructor(){super(),this.#a=e=>{if(!_j&&window.addEventListener){const t=()=>e(!0),a=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#a)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#a=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(a=>{a(e)}))}isOnline(){return this.#e}},q2=new Aee;function _ee(e){return Math.min(1e3*2**e,3e4)}function P$(e){return(e??"online")==="online"?q2.isOnline():!0}var kS=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function L$(e){let t=!1,a=0,r;const n=kee(),i=()=>n.status!=="pending",l=g=>{if(!i()){const b=new kS(g);p(b),e.onCancel?.(b)}},o=()=>{t=!0},c=()=>{t=!1},d=()=>M$.isFocused()&&(e.networkMode==="always"||q2.isOnline())&&e.canRun(),u=()=>P$(e.networkMode)&&e.canRun(),f=g=>{i()||(r?.(),n.resolve(g))},p=g=>{i()||(r?.(),n.reject(g))},m=()=>new Promise(g=>{r=b=>{(i()||d())&&g(b)},e.onPause?.()}).then(()=>{r=void 0,i()||e.onContinue?.()}),v=()=>{if(i())return;let g;const b=a===0?e.initialPromise:void 0;try{g=b??e.fn()}catch(j){g=Promise.reject(j)}Promise.resolve(g).then(f).catch(j=>{if(i())return;const N=e.retry??(_j?0:3),k=e.retryDelay??_ee,S=typeof k=="function"?k(a,j):k,C=N===!0||typeof N=="number"&&a<N||typeof N=="function"&&N(a,j);if(t||!C){p(j);return}a++,e.onFail?.(a,j),bee(S).then(()=>d()?void 0:m()).then(()=>{t?p(j):v()})})};return{promise:n,status:()=>n.status,cancel:l,continue:()=>(r?.(),n),cancelRetry:o,continueRetry:c,canStart:u,start:()=>(u()?v():m().then(v),n)}}var O$=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pee(this.gcTime)&&(this.#e=wS.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(_j?1/0:300*1e3))}clearGcTimeout(){this.#e&&(wS.clearTimeout(this.#e),this.#e=void 0)}},Tee=class extends O${#e;#t;#a;#r;#s;#i;#l;constructor(e){super(),this.#l=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#a=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=H7(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=H7(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#a.remove(this)}setData(e,t){const a=yee(this.state.data,e,this.options);return this.#n({data:a,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),a}setState(e,t){this.#n({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(ed).catch(ed):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>gee(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===K6||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>jS(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!xee(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#a.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#l?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#a.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#n({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const o=this.observers.find(c=>c.options.queryFn);o&&this.setOptions(o.options)}const a=new AbortController,r=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#l=!0,a.signal)})},n=()=>{const o=D$(this.options,t),d=(()=>{const u={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(u),u})();return this.#l=!1,this.options.persister?this.options.persister(o,d,this):o(d)},l=(()=>{const o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:n};return r(o),o})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#n({type:"fetch",meta:l.fetchOptions?.meta}),this.#s=L$({initialPromise:t?.initialPromise,fn:l.fetchFn,onCancel:o=>{o instanceof kS&&o.revert&&this.setState({...this.#t,fetchStatus:"idle"}),a.abort()},onFail:(o,c)=>{this.#n({type:"failed",failureCount:o,error:c})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const o=await this.#s.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#a.config.onSuccess?.(o,this),this.#a.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof kS){if(o.silent)return this.#s.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#n({type:"error",error:o}),this.#a.config.onError?.(o,this),this.#a.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#n(e){const t=a=>{switch(e.type){case"failed":return{...a,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...Eee(a.data,this.options),fetchMeta:e.meta??null};case"success":const r={...a,data:e.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const n=e.error;return{...a,error:n,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...e.state}}};this.state=t(this.state),Tl.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),this.#a.notify({query:this,type:"updated",action:e})})}};function Eee(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:P$(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function H7(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,a=t!==void 0,r=a?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:a?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}function V7(e){return{onFetch:(t,a)=>{const r=t.options,n=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let u=!1;const f=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},p=D$(t.options,t.fetchOptions),m=async(v,g,b)=>{if(u)return Promise.reject();if(g==null&&v.pages.length)return Promise.resolve(v);const N=(()=>{const _={client:t.client,queryKey:t.queryKey,pageParam:g,direction:b?"backward":"forward",meta:t.options.meta};return f(_),_})(),k=await p(N),{maxPages:S}=t.options,C=b?jee:wee;return{pages:C(v.pages,k,S),pageParams:C(v.pageParams,g,S)}};if(n&&i.length){const v=n==="backward",g=v?Dee:W7,b={pages:i,pageParams:l},j=g(r,b);o=await m(b,j,v)}else{const v=e??i.length;do{const g=c===0?l[0]??r.initialPageParam:W7(r,o);if(c>0&&g==null)break;o=await m(o,g),c++}while(c<v)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},a):t.fetchFn=d}}}function W7(e,{pages:t,pageParams:a}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,a[r],a):void 0}function Dee(e,{pages:t,pageParams:a}){return t.length>0?e.getPreviousPageParam?.(t[0],t,a[0],a):void 0}var Mee=class extends O${#e;#t;#a;#r;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#a=e.mutationCache,this.#t=[],this.state=e.state||Pee(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#a.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#a.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#a.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#s({type:"continue"})},a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=L$({fn:()=>this.options.mutationFn?this.options.mutationFn(e,a):Promise.reject(new Error("No mutationFn found")),onFail:(i,l)=>{this.#s({type:"failed",failureCount:i,error:l})},onPause:()=>{this.#s({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#a.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)t();else{this.#s({type:"pending",variables:e,isPaused:n}),await this.#a.config.onMutate?.(e,this,a);const l=await this.options.onMutate?.(e,a);l!==this.state.context&&this.#s({type:"pending",context:l,variables:e,isPaused:n})}const i=await this.#r.start();return await this.#a.config.onSuccess?.(i,e,this.state.context,this,a),await this.options.onSuccess?.(i,e,this.state.context,a),await this.#a.config.onSettled?.(i,null,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(i,null,e,this.state.context,a),this.#s({type:"success",data:i}),i}catch(i){try{throw await this.#a.config.onError?.(i,e,this.state.context,this,a),await this.options.onError?.(i,e,this.state.context,a),await this.#a.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(void 0,i,e,this.state.context,a),i}finally{this.#s({type:"error",error:i})}}finally{this.#a.runNext(this)}}#s(e){const t=a=>{switch(e.type){case"failed":return{...a,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...a,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:e.error,failureCount:a.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Tl.batch(()=>{this.#t.forEach(a=>{a.onMutationUpdate(e)}),this.#a.notify({mutation:this,type:"updated",action:e})})}};function Pee(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Lee=class extends Aj{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#a=0}#e;#t;#a;build(e,t,a){const r=new Mee({client:e,mutationCache:this,mutationId:++this.#a,options:e.defaultMutationOptions(t),state:a});return this.add(r),r}add(e){this.#e.add(e);const t=yy(e);if(typeof t=="string"){const a=this.#t.get(t);a?a.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=yy(e);if(typeof t=="string"){const a=this.#t.get(t);if(a)if(a.length>1){const r=a.indexOf(e);r!==-1&&a.splice(r,1)}else a[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=yy(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(n=>n.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=yy(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Tl.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(a=>$7(t,a))}findAll(e={}){return this.getAll().filter(t=>$7(e,t))}notify(e){Tl.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Tl.batch(()=>Promise.all(e.map(t=>t.continue().catch(ed))))}};function yy(e){return e.options.scope?.id}var Oee=class extends Aj{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,a){const r=t.queryKey,n=t.queryHash??G6(r,t);let i=this.get(n);return i||(i=new Tee({client:e,queryKey:r,queryHash:n,options:e.defaultQueryOptions(t),state:a,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Tl.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(a=>B7(t,a))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(a=>B7(e,a)):t}notify(e){Tl.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Tl.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Tl.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ree=class{#e;#t;#a;#r;#s;#i;#l;#n;constructor(e={}){this.#e=e.queryCache||new Oee,this.#t=e.mutationCache||new Lee,this.#a=e.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=M$.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#n=q2.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#n?.(),this.#n=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),a=this.#e.build(this,t),r=a.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&a.isStaleByTime(jS(t.staleTime,a))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:a})=>{const r=a.data;return[t,r]})}setQueryData(e,t,a){const r=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(r.queryHash)?.state.data,l=mee(t,i);if(l!==void 0)return this.#e.build(this,r).setData(l,{...a,manual:!0})}setQueriesData(e,t,a){return Tl.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,a)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Tl.batch(()=>{t.findAll(e).forEach(a=>{t.remove(a)})})}resetQueries(e,t){const a=this.#e;return Tl.batch(()=>(a.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const a={revert:!0,...t},r=Tl.batch(()=>this.#e.findAll(e).map(n=>n.cancel(a)));return Promise.all(r).then(ed).catch(ed)}invalidateQueries(e,t={}){return Tl.batch(()=>(this.#e.findAll(e).forEach(a=>{a.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const a={...t,cancelRefetch:t.cancelRefetch??!0},r=Tl.batch(()=>this.#e.findAll(e).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,a);return a.throwOnError||(i=i.catch(ed)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ed)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const a=this.#e.build(this,t);return a.isStaleByTime(jS(t.staleTime,a))?a.fetch(t):Promise.resolve(a.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ed).catch(ed)}fetchInfiniteQuery(e){return e.behavior=V7(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ed).catch(ed)}ensureInfiniteQueryData(e){return e.behavior=V7(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return q2.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#a}setDefaultOptions(e){this.#a=e}setQueryDefaults(e,t){this.#r.set(Bv(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],a={};return t.forEach(r=>{$v(e,r.queryKey)&&Object.assign(a,r.defaultOptions)}),a}setMutationDefaults(e,t){this.#s.set(Bv(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],a={};return t.forEach(r=>{$v(e,r.mutationKey)&&Object.assign(a,r.defaultOptions)}),a}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#a.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=G6(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===K6&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#a.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Fee=y.createContext(void 0),Iee=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Fee.Provider,{value:e,children:t}));/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var q7="popstate";function Bee(e={}){function t(n,i){let{pathname:l="/",search:o="",hash:c=""}=_m(n.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),SS("",{pathname:l,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function a(n,i){let l=n.document.querySelector("base"),o="";if(l&&l.getAttribute("href")){let c=n.location.href,d=c.indexOf("#");o=d===-1?c:c.slice(0,d)}return o+"#"+(typeof i=="string"?i:Uv(i))}function r(n,i){Fo(n.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return Uee(t,a,r,e)}function Fr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $ee(){return Math.random().toString(36).substring(2,10)}function G7(e,t){return{usr:e.state,key:e.key,idx:t}}function SS(e,t,a=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?_m(t):t,state:a,key:t&&t.key||r||$ee()}}function Uv({pathname:e="/",search:t="",hash:a=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function _m(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Uee(e,t,a,r={}){let{window:n=document.defaultView,v5Compat:i=!1}=r,l=n.history,o="POP",c=null,d=u();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function u(){return(l.state||{idx:null}).idx}function f(){o="POP";let b=u(),j=b==null?null:b-d;d=b,c&&c({action:o,location:g.location,delta:j})}function p(b,j){o="PUSH";let N=SS(g.location,b,j);a&&a(N,b),d=u()+1;let k=G7(N,d),S=g.createHref(N);try{l.pushState(k,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;n.location.assign(S)}i&&c&&c({action:o,location:g.location,delta:1})}function m(b,j){o="REPLACE";let N=SS(g.location,b,j);a&&a(N,b),d=u();let k=G7(N,d),S=g.createHref(N);l.replaceState(k,"",S),i&&c&&c({action:o,location:g.location,delta:0})}function v(b){return zee(b)}let g={get action(){return o},get location(){return e(n,l)},listen(b){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(q7,f),c=b,()=>{n.removeEventListener(q7,f),c=null}},createHref(b){return t(n,b)},createURL:v,encodeLocation(b){let j=v(b);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:p,replace:m,go(b){return l.go(b)}};return g}function zee(e,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Fr(a,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Uv(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=a+r),new URL(r,a)}function R$(e,t,a="/"){return Hee(e,t,a,!1)}function Hee(e,t,a,r){let n=typeof t=="string"?_m(t):t,i=ih(n.pathname||"/",a);if(i==null)return null;let l=F$(e);Vee(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=tte(i);o=Zee(l[c],d,r)}return o}function F$(e,t=[],a=[],r="",n=!1){let i=(l,o,c=n,d)=>{let u={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(r)&&c)return;Fr(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length)}let f=Xu([r,u.relativePath]),p=a.concat(u);l.children&&l.children.length>0&&(Fr(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),F$(l.children,t,p,f,c)),!(l.path==null&&!l.index)&&t.push({path:f,score:Jee(f,l.index),routesMeta:p})};return e.forEach((l,o)=>{if(l.path===""||!l.path?.includes("?"))i(l,o);else for(let c of I$(l.path))i(l,o,!0,c)}),t}function I$(e){let t=e.split("/");if(t.length===0)return[];let[a,...r]=t,n=a.endsWith("?"),i=a.replace(/\?$/,"");if(r.length===0)return n?[i,""]:[i];let l=I$(r.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),n&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Vee(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:Qee(t.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}var Wee=/^:[\w-]+$/,qee=3,Gee=2,Kee=1,Yee=10,Xee=-2,K7=e=>e==="*";function Jee(e,t){let a=e.split("/"),r=a.length;return a.some(K7)&&(r+=Xee),t&&(r+=Gee),a.filter(n=>!K7(n)).reduce((n,i)=>n+(Wee.test(i)?qee:i===""?Kee:Yee),r)}function Qee(e,t){return e.length===t.length&&e.slice(0,-1).every((r,n)=>r===t[n])?e[e.length-1]-t[t.length-1]:0}function Zee(e,t,a=!1){let{routesMeta:r}=e,n={},i="/",l=[];for(let o=0;o<r.length;++o){let c=r[o],d=o===r.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=G2({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),p=c.route;if(!f&&d&&a&&!r[r.length-1].route.index&&(f=G2({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(n,f.params),l.push({params:n,pathname:Xu([i,f.pathname]),pathnameBase:nte(Xu([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Xu([i,f.pathnameBase]))}return l}function G2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,r]=ete(e.path,e.caseSensitive,e.end),n=t.match(a);if(!n)return null;let i=n[0],l=i.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:r.reduce((d,{paramName:u,isOptional:f},p)=>{if(u==="*"){let v=o[p]||"";l=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const m=o[p];return f&&!m?d[u]=void 0:d[u]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:e}}function ete(e,t=!1,a=!0){Fo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),r]}function tte(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fo(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ih(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,r=e.charAt(a);return r&&r!=="/"?null:e.slice(a)||"/"}function ate(e,t="/"){let{pathname:a,search:r="",hash:n=""}=typeof e=="string"?_m(e):e;return{pathname:a?a.startsWith("/")?a:ste(a,t):t,search:ite(r),hash:lte(n)}}function ste(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function d5(e,t,a,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rte(e){return e.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function Y6(e){let t=rte(e);return t.map((a,r)=>r===t.length-1?a.pathname:a.pathnameBase)}function X6(e,t,a,r=!1){let n;typeof e=="string"?n=_m(e):(n={...e},Fr(!n.pathname||!n.pathname.includes("?"),d5("?","pathname","search",n)),Fr(!n.pathname||!n.pathname.includes("#"),d5("#","pathname","hash",n)),Fr(!n.search||!n.search.includes("#"),d5("#","search","hash",n)));let i=e===""||n.pathname==="",l=i?"/":n.pathname,o;if(l==null)o=a;else{let f=t.length-1;if(!r&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),f-=1;n.pathname=p.join("/")}o=f>=0?t[f]:"/"}let c=ate(n,o),d=l&&l!=="/"&&l.endsWith("/"),u=(i||l===".")&&a.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var Xu=e=>e.join("/").replace(/\/\/+/g,"/"),nte=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ite=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lte=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ote(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var B$=["POST","PUT","PATCH","DELETE"];new Set(B$);var cte=["GET",...B$];new Set(cte);var yx=y.createContext(null);yx.displayName="DataRouter";var Tj=y.createContext(null);Tj.displayName="DataRouterState";y.createContext(!1);var $$=y.createContext({isTransitioning:!1});$$.displayName="ViewTransition";var dte=y.createContext(new Map);dte.displayName="Fetchers";var ute=y.createContext(null);ute.displayName="Await";var fd=y.createContext(null);fd.displayName="Navigation";var L1=y.createContext(null);L1.displayName="Location";var Sc=y.createContext({outlet:null,matches:[],isDataRoute:!1});Sc.displayName="Route";var J6=y.createContext(null);J6.displayName="RouteError";function hte(e,{relative:t}={}){Fr(wx(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:r}=y.useContext(fd),{hash:n,pathname:i,search:l}=O1(e,{relative:t}),o=i;return a!=="/"&&(o=i==="/"?a:Xu([a,i])),r.createHref({pathname:o,search:l,hash:n})}function wx(){return y.useContext(L1)!=null}function io(){return Fr(wx(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(L1).location}var U$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function z$(e){y.useContext(fd).static||y.useLayoutEffect(e)}function Ys(){let{isDataRoute:e}=y.useContext(Sc);return e?Ate():fte()}function fte(){Fr(wx(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(yx),{basename:t,navigator:a}=y.useContext(fd),{matches:r}=y.useContext(Sc),{pathname:n}=io(),i=JSON.stringify(Y6(r)),l=y.useRef(!1);return z$(()=>{l.current=!0}),y.useCallback((c,d={})=>{if(Fo(l.current,U$),!l.current)return;if(typeof c=="number"){a.go(c);return}let u=X6(c,JSON.parse(i),n,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Xu([t,u.pathname])),(d.replace?a.replace:a.push)(u,d.state,d)},[t,a,i,n,e])}var mte=y.createContext(null);function pte(e){let t=y.useContext(Sc).outlet;return y.useMemo(()=>t&&y.createElement(mte.Provider,{value:e},t),[t,e])}function Ej(){let{matches:e}=y.useContext(Sc),t=e[e.length-1];return t?t.params:{}}function O1(e,{relative:t}={}){let{matches:a}=y.useContext(Sc),{pathname:r}=io(),n=JSON.stringify(Y6(a));return y.useMemo(()=>X6(e,JSON.parse(n),r,t==="path"),[e,n,r,t])}function xte(e,t){return H$(e,t)}function H$(e,t,a,r,n){Fr(wx(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=y.useContext(fd),{matches:l}=y.useContext(Sc),o=l[l.length-1],c=o?o.params:{},d=o?o.pathname:"/",u=o?o.pathnameBase:"/",f=o&&o.route;{let N=f&&f.path||"";V$(d,!f||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let p=io(),m;if(t){let N=typeof t=="string"?_m(t):t;Fr(u==="/"||N.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${N.pathname}" was given in the \`location\` prop.`),m=N}else m=p;let v=m.pathname||"/",g=v;if(u!=="/"){let N=u.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(N.length).join("/")}let b=R$(e,{pathname:g});Fo(f||b!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Fo(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=wte(b&&b.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:Xu([u,i.encodeLocation?i.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:Xu([u,i.encodeLocation?i.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),l,a,r,n);return t&&j?y.createElement(L1.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},j):j}function gte(){let e=Cte(),t=ote(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:i},"ErrorBoundary")," or"," ",y.createElement("code",{style:i},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),a?y.createElement("pre",{style:n},a):null,l)}var vte=y.createElement(gte,null),bte=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?y.createElement(Sc.Provider,{value:this.props.routeContext},y.createElement(J6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yte({routeContext:e,match:t,children:a}){let r=y.useContext(yx);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(Sc.Provider,{value:e},a)}function wte(e,t=[],a=null,r=null,n=null){if(e==null){if(!a)return null;if(a.errors)e=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let i=e,l=a?.errors;if(l!=null){let d=i.findIndex(u=>u.route.id&&l?.[u.route.id]!==void 0);Fr(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,c=-1;if(a)for(let d=0;d<i.length;d++){let u=i[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:f,errors:p}=a,m=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!p||p[u.route.id]===void 0);if(u.route.lazy||m){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,u,f)=>{let p,m=!1,v=null,g=null;a&&(p=l&&u.route.id?l[u.route.id]:void 0,v=u.route.errorElement||vte,o&&(c<0&&f===0?(V$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,g=null):c===f&&(m=!0,g=u.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,f+1)),j=()=>{let N;return p?N=v:m?N=g:u.route.Component?N=y.createElement(u.route.Component,null):u.route.element?N=u.route.element:N=d,y.createElement(yte,{match:u,routeContext:{outlet:d,matches:b,isDataRoute:a!=null},children:N})};return a&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?y.createElement(bte,{location:a.location,revalidation:a.revalidation,component:v,error:p,children:j(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:r}):j()},null)}function Q6(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jte(e){let t=y.useContext(yx);return Fr(t,Q6(e)),t}function Nte(e){let t=y.useContext(Tj);return Fr(t,Q6(e)),t}function kte(e){let t=y.useContext(Sc);return Fr(t,Q6(e)),t}function Z6(e){let t=kte(e),a=t.matches[t.matches.length-1];return Fr(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}function Ste(){return Z6("useRouteId")}function Cte(){let e=y.useContext(J6),t=Nte("useRouteError"),a=Z6("useRouteError");return e!==void 0?e:t.errors?.[a]}function Ate(){let{router:e}=jte("useNavigate"),t=Z6("useNavigate"),a=y.useRef(!1);return z$(()=>{a.current=!0}),y.useCallback(async(n,i={})=>{Fo(a.current,U$),a.current&&(typeof n=="number"?e.navigate(n):await e.navigate(n,{fromRouteId:t,...i}))},[e,t])}var Y7={};function V$(e,t,a){!t&&!Y7[e]&&(Y7[e]=!0,Fo(!1,a))}y.memo(_te);function _te({routes:e,future:t,state:a,unstable_onError:r}){return H$(e,void 0,a,r,t)}function X7({to:e,replace:t,state:a,relative:r}){Fr(wx(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=y.useContext(fd);Fo(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=y.useContext(Sc),{pathname:l}=io(),o=Ys(),c=X6(e,Y6(i),l,r==="path"),d=JSON.stringify(c);return y.useEffect(()=>{o(JSON.parse(d),{replace:t,state:a,relative:r})},[o,d,r,t,a]),null}function eA(e){return pte(e.context)}function bt(e){Fr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Tte({basename:e="/",children:t=null,location:a,navigationType:r="POP",navigator:n,static:i=!1}){Fr(!wx(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),o=y.useMemo(()=>({basename:l,navigator:n,static:i,future:{}}),[l,n,i]);typeof a=="string"&&(a=_m(a));let{pathname:c="/",search:d="",hash:u="",state:f=null,key:p="default"}=a,m=y.useMemo(()=>{let v=ih(c,l);return v==null?null:{location:{pathname:v,search:d,hash:u,state:f,key:p},navigationType:r}},[l,c,d,u,f,p,r]);return Fo(m!=null,`<Router basename="${l}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:y.createElement(fd.Provider,{value:o},y.createElement(L1.Provider,{children:t,value:m}))}function Ete({children:e,location:t}){return xte(CS(e),t)}function CS(e,t=[]){let a=[];return y.Children.forEach(e,(r,n)=>{if(!y.isValidElement(r))return;let i=[...t,n];if(r.type===y.Fragment){a.push.apply(a,CS(r.props.children,i));return}Fr(r.type===bt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=CS(r.props.children,i)),a.push(l)}),a}var D2="get",M2="application/x-www-form-urlencoded";function Dj(e){return e!=null&&typeof e.tagName=="string"}function Dte(e){return Dj(e)&&e.tagName.toLowerCase()==="button"}function Mte(e){return Dj(e)&&e.tagName.toLowerCase()==="form"}function Pte(e){return Dj(e)&&e.tagName.toLowerCase()==="input"}function Lte(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ote(e,t){return e.button===0&&(!t||t==="_self")&&!Lte(e)}function AS(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,a)=>{let r=e[a];return t.concat(Array.isArray(r)?r.map(n=>[a,n]):[[a,r]])},[]))}function Rte(e,t){let a=AS(e);return t&&t.forEach((r,n)=>{a.has(n)||t.getAll(n).forEach(i=>{a.append(n,i)})}),a}var wy=null;function Fte(){if(wy===null)try{new FormData(document.createElement("form"),0),wy=!1}catch{wy=!0}return wy}var Ite=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function u5(e){return e!=null&&!Ite.has(e)?(Fo(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${M2}"`),null):e}function Bte(e,t){let a,r,n,i,l;if(Mte(e)){let o=e.getAttribute("action");r=o?ih(o,t):null,a=e.getAttribute("method")||D2,n=u5(e.getAttribute("enctype"))||M2,i=new FormData(e)}else if(Dte(e)||Pte(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(r=c?ih(c,t):null,a=e.getAttribute("formmethod")||o.getAttribute("method")||D2,n=u5(e.getAttribute("formenctype"))||u5(o.getAttribute("enctype"))||M2,i=new FormData(o,e),!Fte()){let{name:d,type:u,value:f}=e;if(u==="image"){let p=d?`${d}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else d&&i.append(d,f)}}else{if(Dj(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=D2,r=null,n=M2,l=e}return i&&n==="text/plain"&&(l=i,i=void 0),{action:r,method:a.toLowerCase(),encType:n,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function tA(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $te(e,t,a){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${a}`:t&&ih(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${a}`,r}async function Ute(e,t){if(e.id in t)return t[e.id];try{let a=await import(e.module);return t[e.id]=a,a}catch(a){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zte(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Hte(e,t,a){let r=await Promise.all(e.map(async n=>{let i=t.routes[n.route.id];if(i){let l=await Ute(i,a);return l.links?l.links():[]}return[]}));return Gte(r.flat(1).filter(zte).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function J7(e,t,a,r,n,i){let l=(c,d)=>a[d]?c.route.id!==a[d].route.id:!0,o=(c,d)=>a[d].pathname!==c.pathname||a[d].route.path?.endsWith("*")&&a[d].params["*"]!==c.params["*"];return i==="assets"?t.filter((c,d)=>l(c,d)||o(c,d)):i==="data"?t.filter((c,d)=>{let u=r.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(l(c,d)||o(c,d))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Vte(e,t,{includeHydrateFallback:a}={}){return Wte(e.map(r=>{let n=t.routes[r.route.id];if(!n)return[];let i=[n.module];return n.clientActionModule&&(i=i.concat(n.clientActionModule)),n.clientLoaderModule&&(i=i.concat(n.clientLoaderModule)),a&&n.hydrateFallbackModule&&(i=i.concat(n.hydrateFallbackModule)),n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function Wte(e){return[...new Set(e)]}function qte(e){let t={},a=Object.keys(e).sort();for(let r of a)t[r]=e[r];return t}function Gte(e,t){let a=new Set;return new Set(t),e.reduce((r,n)=>{let i=JSON.stringify(qte(n));return a.has(i)||(a.add(i),r.push({key:i,link:n})),r},[])}function W$(){let e=y.useContext(yx);return tA(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Kte(){let e=y.useContext(Tj);return tA(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var aA=y.createContext(void 0);aA.displayName="FrameworkContext";function q$(){let e=y.useContext(aA);return tA(e,"You must render this element inside a <HydratedRouter> element"),e}function Yte(e,t){let a=y.useContext(aA),[r,n]=y.useState(!1),[i,l]=y.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:f}=t,p=y.useRef(null);y.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let g=j=>{j.forEach(N=>{l(N.isIntersecting)})},b=new IntersectionObserver(g,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[e]),y.useEffect(()=>{if(r){let g=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(g)}}},[r]);let m=()=>{n(!0)},v=()=>{n(!1),l(!1)};return a?e!=="intent"?[i,p,{}]:[i,p,{onFocus:Eg(o,m),onBlur:Eg(c,v),onMouseEnter:Eg(d,m),onMouseLeave:Eg(u,v),onTouchStart:Eg(f,m)}]:[!1,p,{}]}function Eg(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function Xte({page:e,...t}){let{router:a}=W$(),r=y.useMemo(()=>R$(a.routes,e,a.basename),[a.routes,e,a.basename]);return r?y.createElement(Qte,{page:e,matches:r,...t}):null}function Jte(e){let{manifest:t,routeModules:a}=q$(),[r,n]=y.useState([]);return y.useEffect(()=>{let i=!1;return Hte(e,t,a).then(l=>{i||n(l)}),()=>{i=!0}},[e,t,a]),r}function Qte({page:e,matches:t,...a}){let r=io(),{manifest:n,routeModules:i}=q$(),{basename:l}=W$(),{loaderData:o,matches:c}=Kte(),d=y.useMemo(()=>J7(e,t,c,n,r,"data"),[e,t,c,n,r]),u=y.useMemo(()=>J7(e,t,c,n,r,"assets"),[e,t,c,n,r]),f=y.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,g=!1;if(t.forEach(j=>{let N=n.routes[j.route.id];!N||!N.hasLoader||(!d.some(k=>k.route.id===j.route.id)&&j.route.id in o&&i[j.route.id]?.shouldRevalidate||N.hasClientLoader?g=!0:v.add(j.route.id))}),v.size===0)return[];let b=$te(e,l,"data");return g&&v.size>0&&b.searchParams.set("_routes",t.filter(j=>v.has(j.route.id)).map(j=>j.route.id).join(",")),[b.pathname+b.search]},[l,o,r,n,d,t,e,i]),p=y.useMemo(()=>Vte(u,n),[u,n]),m=Jte(u);return y.createElement(y.Fragment,null,f.map(v=>y.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...a})),p.map(v=>y.createElement("link",{key:v,rel:"modulepreload",href:v,...a})),m.map(({key:v,link:g})=>y.createElement("link",{key:v,nonce:a.nonce,...g})))}function Zte(...e){return t=>{e.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var G$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G$&&(window.__reactRouterVersion="7.9.3")}catch{}function eae({basename:e,children:t,window:a}){let r=y.useRef();r.current==null&&(r.current=Bee({window:a,v5Compat:!0}));let n=r.current,[i,l]=y.useState({action:n.action,location:n.location}),o=y.useCallback(c=>{y.startTransition(()=>l(c))},[l]);return y.useLayoutEffect(()=>n.listen(o),[n,o]),y.createElement(Tte,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:n})}var K$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,os=y.forwardRef(function({onClick:t,discover:a="render",prefetch:r="none",relative:n,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:u,viewTransition:f,...p},m){let{basename:v}=y.useContext(fd),g=typeof d=="string"&&K$.test(d),b,j=!1;if(typeof d=="string"&&g&&(b=d,G$))try{let U=new URL(window.location.href),z=d.startsWith("//")?new URL(U.protocol+d):new URL(d),T=ih(z.pathname,v);z.origin===U.origin&&T!=null?d=T+z.search+z.hash:j=!0}catch{Fo(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=hte(d,{relative:n}),[k,S,C]=Yte(r,p),_=sae(d,{replace:l,state:o,target:c,preventScrollReset:u,relative:n,viewTransition:f});function P(U){t&&t(U),U.defaultPrevented||_(U)}let L=y.createElement("a",{...p,...C,href:b||N,onClick:j||i?t:P,ref:Zte(m,S),target:c,"data-discover":!g&&a==="render"?"true":void 0});return k&&!g?y.createElement(y.Fragment,null,L,y.createElement(Xte,{page:N})):L});os.displayName="Link";var Bt=y.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:r="",end:n=!1,style:i,to:l,viewTransition:o,children:c,...d},u){let f=O1(l,{relative:d.relative}),p=io(),m=y.useContext(Tj),{navigator:v,basename:g}=y.useContext(fd),b=m!=null&&oae(f)&&o===!0,j=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,N=p.pathname,k=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;a||(N=N.toLowerCase(),k=k?k.toLowerCase():null,j=j.toLowerCase()),k&&g&&(k=ih(k,g)||k);const S=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let C=N===j||!n&&N.startsWith(j)&&N.charAt(S)==="/",_=k!=null&&(k===j||!n&&k.startsWith(j)&&k.charAt(j.length)==="/"),P={isActive:C,isPending:_,isTransitioning:b},L=C?t:void 0,U;typeof r=="function"?U=r(P):U=[r,C?"active":null,_?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let z=typeof i=="function"?i(P):i;return y.createElement(os,{...d,"aria-current":L,className:U,ref:u,style:z,to:l,viewTransition:o},typeof c=="function"?c(P):c)});Bt.displayName="NavLink";var tae=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:a,reloadDocument:r,replace:n,state:i,method:l=D2,action:o,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:f,...p},m)=>{let v=iae(),g=lae(o,{relative:d}),b=l.toLowerCase()==="get"?"get":"post",j=typeof o=="string"&&K$.test(o),N=k=>{if(c&&c(k),k.defaultPrevented)return;k.preventDefault();let S=k.nativeEvent.submitter,C=S?.getAttribute("formmethod")||l;v(S||k.currentTarget,{fetcherKey:t,method:C,navigate:a,replace:n,state:i,relative:d,preventScrollReset:u,viewTransition:f})};return y.createElement("form",{ref:m,method:b,action:g,onSubmit:r?c:N,...p,"data-discover":!j&&e==="render"?"true":void 0})});tae.displayName="Form";function aae(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y$(e){let t=y.useContext(yx);return Fr(t,aae(e)),t}function sae(e,{target:t,replace:a,state:r,preventScrollReset:n,relative:i,viewTransition:l}={}){let o=Ys(),c=io(),d=O1(e,{relative:i});return y.useCallback(u=>{if(Ote(u,t)){u.preventDefault();let f=a!==void 0?a:Uv(c)===Uv(d);o(e,{replace:f,state:r,preventScrollReset:n,relative:i,viewTransition:l})}},[c,o,d,a,r,t,e,n,i,l])}function X$(e){Fo(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=y.useRef(AS(e)),a=y.useRef(!1),r=io(),n=y.useMemo(()=>Rte(r.search,a.current?null:t.current),[r.search]),i=Ys(),l=y.useCallback((o,c)=>{const d=AS(typeof o=="function"?o(new URLSearchParams(n)):o);a.current=!0,i("?"+d,c)},[i,n]);return[n,l]}var rae=0,nae=()=>`__${String(++rae)}__`;function iae(){let{router:e}=Y$("useSubmit"),{basename:t}=y.useContext(fd),a=Ste();return y.useCallback(async(r,n={})=>{let{action:i,method:l,encType:o,formData:c,body:d}=Bte(r,t);if(n.navigate===!1){let u=n.fetcherKey||nae();await e.fetch(u,a,n.action||i,{preventScrollReset:n.preventScrollReset,formData:c,body:d,formMethod:n.method||l,formEncType:n.encType||o,flushSync:n.flushSync})}else await e.navigate(n.action||i,{preventScrollReset:n.preventScrollReset,formData:c,body:d,formMethod:n.method||l,formEncType:n.encType||o,replace:n.replace,state:n.state,fromRouteId:a,flushSync:n.flushSync,viewTransition:n.viewTransition})},[e,t,a])}function lae(e,{relative:t}={}){let{basename:a}=y.useContext(fd),r=y.useContext(Sc);Fr(r,"useFormAction must be used inside a RouteContext");let[n]=r.matches.slice(-1),i={...O1(e||".",{relative:t})},l=io();if(e==null){i.search=l.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(u=>u==="")){o.delete("index"),c.filter(f=>f).forEach(f=>o.append("index",f));let u=o.toString();i.search=u?`?${u}`:""}}return(!e||e===".")&&n.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(i.pathname=i.pathname==="/"?a:Xu([a,i.pathname])),Uv(i)}function oae(e,{relative:t}={}){let a=y.useContext($$);Fr(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Y$("useViewTransitionState"),n=O1(e,{relative:t});if(!a.isTransitioning)return!1;let i=ih(a.currentLocation.pathname,r)||a.currentLocation.pathname,l=ih(a.nextLocation.pathname,r)||a.nextLocation.pathname;return G2(n.pathname,l)!=null||G2(n.pathname,i)!=null}var Mj=T$();const cae="modulepreload",dae=function(e){return"/crm-ibrahim/"+e},Q7={},bi=function(t,a,r){let n=Promise.resolve();if(a&&a.length>0){let c=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=l?.nonce||l?.getAttribute("nonce");n=c(a.map(d=>{if(d=dae(d),d in Q7)return;Q7[d]=!0;const u=d.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":cae,u||(p.as="script"),p.crossOrigin="",p.href=d,o&&p.setAttribute("nonce",o),document.head.appendChild(p),u)return new Promise((m,v)=>{p.addEventListener("load",m),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return n.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},uae=(e,t,a,r)=>{const n=[a,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(n,"warn","react-i18next::",!0);V0(n[0])&&(n[0]=`react-i18next:: ${n[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...n):console?.warn&&console.warn(...n)},Z7={},_S=(e,t,a,r)=>{V0(a)&&Z7[a]||(V0(a)&&(Z7[a]=new Date),uae(e,t,a,r))},J$=(e,t)=>()=>{if(e.isInitialized)t();else{const a=()=>{setTimeout(()=>{e.off("initialized",a)},0),t()};e.on("initialized",a)}},TS=(e,t,a)=>{e.loadNamespaces(t,J$(e,a))},eD=(e,t,a,r)=>{if(V0(a)&&(a=[a]),e.options.preload&&e.options.preload.indexOf(t)>-1)return TS(e,a,r);a.forEach(n=>{e.options.ns.indexOf(n)<0&&e.options.ns.push(n)}),e.loadLanguages(t,J$(e,r))},hae=(e,t,a={})=>!t.languages||!t.languages.length?(_S(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:a.lng,precheck:(r,n)=>{if(a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!n(r.isLanguageChangingTo,e))return!1}}),V0=e=>typeof e=="string",fae=e=>typeof e=="object"&&e!==null,mae=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,pae={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},xae=e=>pae[e],gae=e=>e.replace(mae,xae);let ES={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:gae};const vae=(e={})=>{ES={...ES,...e}},bae=()=>ES;let Q$;const yae=e=>{Q$=e},wae=()=>Q$,jae={type:"3rdParty",init(e){vae(e.options.react),yae(e)}},Z$=y.createContext();class Nae{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(a=>{this.usedNamespaces[a]||(this.usedNamespaces[a]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const kae=(e,t)=>{const a=y.useRef();return y.useEffect(()=>{a.current=e},[e,t]),a.current},eU=(e,t,a,r)=>e.getFixedT(t,a,r),Sae=(e,t,a,r)=>y.useCallback(eU(e,t,a,r),[e,t,a,r]),Ct=(e,t={})=>{const{i18n:a}=t,{i18n:r,defaultNS:n}=y.useContext(Z$)||{},i=a||r||wae();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new Nae),!i){_S(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const S=(_,P)=>V0(P)?P:fae(P)&&V0(P.defaultValue)?P.defaultValue:Array.isArray(_)?_[_.length-1]:_,C=[S,{},!1];return C.t=S,C.i18n={},C.ready=!1,C}i.options.react?.wait&&_S(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...bae(),...i.options.react,...t},{useSuspense:o,keyPrefix:c}=l;let d=n||i.options?.defaultNS;d=V0(d)?[d]:d||["translation"],i.reportNamespaces.addUsedNamespaces?.(d);const u=(i.isInitialized||i.initializedStoreOnce)&&d.every(S=>hae(S,i,l)),f=Sae(i,t.lng||null,l.nsMode==="fallback"?d:d[0],c),p=()=>f,m=()=>eU(i,t.lng||null,l.nsMode==="fallback"?d:d[0],c),[v,g]=y.useState(p);let b=d.join();t.lng&&(b=`${t.lng}${b}`);const j=kae(b),N=y.useRef(!0);y.useEffect(()=>{const{bindI18n:S,bindI18nStore:C}=l;N.current=!0,!u&&!o&&(t.lng?eD(i,t.lng,d,()=>{N.current&&g(m)}):TS(i,d,()=>{N.current&&g(m)})),u&&j&&j!==b&&N.current&&g(m);const _=()=>{N.current&&g(m)};return S&&i?.on(S,_),C&&i?.store.on(C,_),()=>{N.current=!1,i&&S&&S?.split(" ").forEach(P=>i.off(P,_)),C&&i&&C.split(" ").forEach(P=>i.store.off(P,_))}},[i,b]),y.useEffect(()=>{N.current&&u&&g(p)},[i,c,u]);const k=[v,i,u];if(k.t=v,k.i18n=i,k.ready=u,u||!u&&!o)return k;throw new Promise(S=>{t.lng?eD(i,t.lng,d,()=>S()):TS(i,d,()=>S())})};function Cae({i18n:e,defaultNS:t,children:a}){const r=y.useMemo(()=>({i18n:e,defaultNS:t}),[e,t]);return y.createElement(Z$.Provider,{value:r},a)}const Wa=e=>typeof e=="string",Dg=()=>{let e,t;const a=new Promise((r,n)=>{e=r,t=n});return a.resolve=e,a.reject=t,a},tD=e=>e==null?"":""+e,Aae=(e,t,a)=>{e.forEach(r=>{t[r]&&(a[r]=t[r])})},_ae=/###/g,aD=e=>e&&e.indexOf("###")>-1?e.replace(_ae,"."):e,sD=e=>!e||Wa(e),hv=(e,t,a)=>{const r=Wa(t)?t.split("."):t;let n=0;for(;n<r.length-1;){if(sD(e))return{};const i=aD(r[n]);!e[i]&&a&&(e[i]=new a),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++n}return sD(e)?{}:{obj:e,k:aD(r[n])}},rD=(e,t,a)=>{const{obj:r,k:n}=hv(e,t,Object);if(r!==void 0||t.length===1){r[n]=a;return}let i=t[t.length-1],l=t.slice(0,t.length-1),o=hv(e,l,Object);for(;o.obj===void 0&&l.length;)i=`${l[l.length-1]}.${i}`,l=l.slice(0,l.length-1),o=hv(e,l,Object),o?.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=a},Tae=(e,t,a,r)=>{const{obj:n,k:i}=hv(e,t,Object);n[i]=n[i]||[],n[i].push(a)},K2=(e,t)=>{const{obj:a,k:r}=hv(e,t);if(a&&Object.prototype.hasOwnProperty.call(a,r))return a[r]},Eae=(e,t,a)=>{const r=K2(e,a);return r!==void 0?r:K2(t,a)},tU=(e,t,a)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?Wa(e[r])||e[r]instanceof String||Wa(t[r])||t[r]instanceof String?a&&(e[r]=t[r]):tU(e[r],t[r],a):e[r]=t[r]);return e},kp=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Dae={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Mae=e=>Wa(e)?e.replace(/[&<>"'\/]/g,t=>Dae[t]):e;class Pae{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const a=this.regExpMap.get(t);if(a!==void 0)return a;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const Lae=[" ",",","?","!",";"],Oae=new Pae(20),Rae=(e,t,a)=>{t=t||"",a=a||"";const r=Lae.filter(l=>t.indexOf(l)<0&&a.indexOf(l)<0);if(r.length===0)return!0;const n=Oae.getRegExp(`(${r.map(l=>l==="?"?"\\?":l).join("|")})`);let i=!n.test(e);if(!i){const l=e.indexOf(a);l>0&&!n.test(e.substring(0,l))&&(i=!0)}return i},DS=(e,t,a=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(a);let n=e;for(let i=0;i<r.length;){if(!n||typeof n!="object")return;let l,o="";for(let c=i;c<r.length;++c)if(c!==i&&(o+=a),o+=r[c],l=n[o],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&c<r.length-1)continue;i+=c-i+1;break}n=l}return n},zv=e=>e?.replace("_","-"),Fae={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class Y2{constructor(t,a={}){this.init(t,a)}init(t,a={}){this.prefix=a.prefix||"i18next:",this.logger=t||Fae,this.options=a,this.debug=a.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,a,r,n){return n&&!this.debug?null:(Wa(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[a](t))}create(t){return new Y2(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Y2(this.logger,t)}}var Gd=new Y2;let Pj=class{constructor(){this.observers={}}on(t,a){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const n=this.observers[r].get(a)||0;this.observers[r].set(a,n+1)}),this}off(t,a){if(this.observers[t]){if(!a){delete this.observers[t];return}this.observers[t].delete(a)}}emit(t,...a){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([n,i])=>{for(let l=0;l<i;l++)n(...a)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([n,i])=>{for(let l=0;l<i;l++)n.apply(n,[t,...a])})}};class nD extends Pj{constructor(t,a={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const a=this.options.ns.indexOf(t);a>-1&&this.options.ns.splice(a,1)}getResource(t,a,r,n={}){const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,l=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;t.indexOf(".")>-1?o=t.split("."):(o=[t,a],r&&(Array.isArray(r)?o.push(...r):Wa(r)&&i?o.push(...r.split(i)):o.push(r)));const c=K2(this.data,o);return!c&&!a&&!r&&t.indexOf(".")>-1&&(t=o[0],a=o[1],r=o.slice(2).join(".")),c||!l||!Wa(r)?c:DS(this.data?.[t]?.[a],r,i)}addResource(t,a,r,n,i={silent:!1}){const l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[t,a];r&&(o=o.concat(l?r.split(l):r)),t.indexOf(".")>-1&&(o=t.split("."),n=a,a=o[1]),this.addNamespaces(a),rD(this.data,o,n),i.silent||this.emit("added",t,a,r,n)}addResources(t,a,r,n={silent:!1}){for(const i in r)(Wa(r[i])||Array.isArray(r[i]))&&this.addResource(t,a,i,r[i],{silent:!0});n.silent||this.emit("added",t,a,r)}addResourceBundle(t,a,r,n,i,l={silent:!1,skipCopy:!1}){let o=[t,a];t.indexOf(".")>-1&&(o=t.split("."),n=r,r=a,a=o[1]),this.addNamespaces(a);let c=K2(this.data,o)||{};l.skipCopy||(r=JSON.parse(JSON.stringify(r))),n?tU(c,r,i):c={...c,...r},rD(this.data,o,c),l.silent||this.emit("added",t,a,r)}removeResourceBundle(t,a){this.hasResourceBundle(t,a)&&delete this.data[t][a],this.removeNamespaces(a),this.emit("removed",t,a)}hasResourceBundle(t,a){return this.getResource(t,a)!==void 0}getResourceBundle(t,a){return a||(a=this.options.defaultNS),this.getResource(t,a)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const a=this.getDataByLanguage(t);return!!(a&&Object.keys(a)||[]).find(n=>a[n]&&Object.keys(a[n]).length>0)}toJSON(){return this.data}}var aU={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,a,r,n){return e.forEach(i=>{t=this.processors[i]?.process(t,a,r,n)??t}),t}};const sU=Symbol("i18next/PATH_KEY");function Iae(){const e=[],t=Object.create(null);let a;return t.get=(r,n)=>(a?.revoke?.(),n===sU?e:(e.push(n),a=Proxy.revocable(r,t),a.proxy)),Proxy.revocable(Object.create(null),t).proxy}function MS(e,t){const{[sU]:a}=e(Iae());return a.join(t?.keySeparator??".")}const iD={},lD=e=>!Wa(e)&&typeof e!="boolean"&&typeof e!="number";class X2 extends Pj{constructor(t,a={}){super(),Aae(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Gd.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,a={interpolation:{}}){const r={...a};return t==null?!1:this.resolve(t,r)?.res!==void 0}extractFromKey(t,a){let r=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const n=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let i=a.ns||this.options.defaultNS||[];const l=r&&t.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!Rae(t,r,n);if(l&&!o){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:Wa(i)?[i]:i};const d=t.split(r);(r!==n||r===n&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),t=d.join(n)}return{key:t,namespaces:Wa(i)?[i]:i}}translate(t,a,r){let n=typeof a=="object"?{...a}:a;if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";typeof t=="function"&&(t=MS(t,{...this.options,...n})),Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,l=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:c}=this.extractFromKey(t[t.length-1],n),d=c[c.length-1];let u=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const f=n.lng||this.language,p=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f?.toLowerCase()==="cimode")return p?i?{res:`${d}${u}${o}`,usedKey:o,exactUsedKey:o,usedLng:f,usedNS:d,usedParams:this.getUsedParamsDetails(n)}:`${d}${u}${o}`:i?{res:o,usedKey:o,exactUsedKey:o,usedLng:f,usedNS:d,usedParams:this.getUsedParamsDetails(n)}:o;const m=this.resolve(t,n);let v=m?.res;const g=m?.usedKey||o,b=m?.exactUsedKey||o,j=["[object Number]","[object Function]","[object RegExp]"],N=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject,S=n.count!==void 0&&!Wa(n.count),C=X2.hasDefaultValue(n),_=S?this.pluralResolver.getSuffix(f,n.count,n):"",P=n.ordinal&&S?this.pluralResolver.getSuffix(f,n.count,{ordinal:!1}):"",L=S&&!n.ordinal&&n.count===0,U=L&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${_}`]||n[`defaultValue${P}`]||n.defaultValue;let z=v;k&&!v&&C&&(z=U);const T=lD(z),F=Object.prototype.toString.apply(z);if(k&&z&&T&&j.indexOf(F)<0&&!(Wa(N)&&Array.isArray(z))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const M=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,z,{...n,ns:c}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(m.res=M,m.usedParams=this.getUsedParamsDetails(n),m):M}if(l){const M=Array.isArray(z),I=M?[]:{},W=M?b:g;for(const R in z)if(Object.prototype.hasOwnProperty.call(z,R)){const q=`${W}${l}${R}`;C&&!v?I[R]=this.translate(q,{...n,defaultValue:lD(U)?U[R]:void 0,joinArrays:!1,ns:c}):I[R]=this.translate(q,{...n,joinArrays:!1,ns:c}),I[R]===q&&(I[R]=z[R])}v=I}}else if(k&&Wa(N)&&Array.isArray(v))v=v.join(N),v&&(v=this.extendTranslation(v,t,n,r));else{let M=!1,I=!1;!this.isValidLookup(v)&&C&&(M=!0,v=U),this.isValidLookup(v)||(I=!0,v=o);const R=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&I?void 0:v,q=C&&U!==v&&this.options.updateMissing;if(I||M||q){if(this.logger.log(q?"updateKey":"missingKey",f,d,o,q?U:v),l){const oe=this.resolve(o,{...n,keySeparator:!1});oe&&oe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ae=[];const te=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&te&&te[0])for(let oe=0;oe<te.length;oe++)ae.push(te[oe]);else this.options.saveMissingTo==="all"?ae=this.languageUtils.toResolveHierarchy(n.lng||this.language):ae.push(n.lng||this.language);const K=(oe,D,G)=>{const H=C&&G!==v?G:R;this.options.missingKeyHandler?this.options.missingKeyHandler(oe,d,D,H,q,n):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(oe,d,D,H,q,n),this.emit("missingKey",oe,d,D,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?ae.forEach(oe=>{const D=this.pluralResolver.getSuffixes(oe,n);L&&n[`defaultValue${this.options.pluralSeparator}zero`]&&D.indexOf(`${this.options.pluralSeparator}zero`)<0&&D.push(`${this.options.pluralSeparator}zero`),D.forEach(G=>{K([oe],o+G,n[`defaultValue${G}`]||U)})}):K(ae,o,U))}v=this.extendTranslation(v,t,n,m,r),I&&v===o&&this.options.appendNamespaceToMissingKey&&(v=`${d}${u}${o}`),(I||M)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${u}${o}`:o,M?v:void 0,n))}return i?(m.res=v,m.usedParams=this.getUsedParamsDetails(n),m):v}extendTranslation(t,a,r,n,i){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=Wa(t)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const f=t.match(this.interpolator.nestingRegexp);d=f&&f.length}let u=r.replace&&!Wa(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),t=this.interpolator.interpolate(t,u,r.lng||this.language||n.usedLng,r),c){const f=t.match(this.interpolator.nestingRegexp),p=f&&f.length;d<p&&(r.nest=!1)}!r.lng&&n&&n.res&&(r.lng=this.language||n.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,(...f)=>i?.[0]===f[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${a[0]}`),null):this.translate(...f,a),r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,o=Wa(l)?[l]:l;return t!=null&&o?.length&&r.applyPostProcessor!==!1&&(t=aU.handle(o,t,a,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t,a={}){let r,n,i,l,o;return Wa(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(r))return;const d=this.extractFromKey(c,a),u=d.key;n=u;let f=d.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const p=a.count!==void 0&&!Wa(a.count),m=p&&!a.ordinal&&a.count===0,v=a.context!==void 0&&(Wa(a.context)||typeof a.context=="number")&&a.context!=="",g=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);f.forEach(b=>{this.isValidLookup(r)||(o=b,!iD[`${g[0]}-${b}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(iD[`${g[0]}-${b}`]=!0,this.logger.warn(`key "${n}" for languages "${g.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(j=>{if(this.isValidLookup(r))return;l=j;const N=[u];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(N,u,j,b,a);else{let S;p&&(S=this.pluralResolver.getSuffix(j,a.count,a));const C=`${this.options.pluralSeparator}zero`,_=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(a.ordinal&&S.indexOf(_)===0&&N.push(u+S.replace(_,this.options.pluralSeparator)),N.push(u+S),m&&N.push(u+C)),v){const P=`${u}${this.options.contextSeparator||"_"}${a.context}`;N.push(P),p&&(a.ordinal&&S.indexOf(_)===0&&N.push(P+S.replace(_,this.options.pluralSeparator)),N.push(P+S),m&&N.push(P+C))}}let k;for(;k=N.pop();)this.isValidLookup(r)||(i=k,r=this.getResource(j,b,k,a))}))})}),{res:r,usedKey:n,exactUsedKey:i,usedLng:l,usedNS:o}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,a,r,n={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,a,r,n):this.resourceStore.getResource(t,a,r,n)}getUsedParamsDetails(t={}){const a=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!Wa(t.replace);let n=r?t.replace:t;if(r&&typeof t.count<"u"&&(n.count=t.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!r){n={...n};for(const i of a)delete n[i]}return n}static hasDefaultValue(t){const a="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&a===r.substring(0,a.length)&&t[r]!==void 0)return!0;return!1}}class oD{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Gd.create("languageUtils")}getScriptPartFromCode(t){if(t=zv(t),!t||t.indexOf("-")<0)return null;const a=t.split("-");return a.length===2||(a.pop(),a[a.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(a.join("-"))}getLanguagePartFromCode(t){if(t=zv(t),!t||t.indexOf("-")<0)return t;const a=t.split("-");return this.formatLanguageCode(a[0])}formatLanguageCode(t){if(Wa(t)&&t.indexOf("-")>-1){let a;try{a=Intl.getCanonicalLocales(t)[0]}catch{}return a&&this.options.lowerCaseLng&&(a=a.toLowerCase()),a||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let a;return t.forEach(r=>{if(a)return;const n=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(n))&&(a=n)}),!a&&this.options.supportedLngs&&t.forEach(r=>{if(a)return;const n=this.getScriptPartFromCode(r);if(this.isSupportedCode(n))return a=n;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return a=i;a=this.options.supportedLngs.find(l=>{if(l===i)return l;if(!(l.indexOf("-")<0&&i.indexOf("-")<0)&&(l.indexOf("-")>0&&i.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===i||l.indexOf(i)===0&&i.length>1))return l})}),a||(a=this.getFallbackCodes(this.options.fallbackLng)[0]),a}getFallbackCodes(t,a){if(!t)return[];if(typeof t=="function"&&(t=t(a)),Wa(t)&&(t=[t]),Array.isArray(t))return t;if(!a)return t.default||[];let r=t[a];return r||(r=t[this.getScriptPartFromCode(a)]),r||(r=t[this.formatLanguageCode(a)]),r||(r=t[this.getLanguagePartFromCode(a)]),r||(r=t.default),r||[]}toResolveHierarchy(t,a){const r=this.getFallbackCodes((a===!1?[]:a)||this.options.fallbackLng||[],t),n=[],i=l=>{l&&(this.isSupportedCode(l)?n.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return Wa(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):Wa(t)&&i(this.formatLanguageCode(t)),r.forEach(l=>{n.indexOf(l)<0&&i(this.formatLanguageCode(l))}),n}}const cD={zero:0,one:1,two:2,few:3,many:4,other:5},dD={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Bae{constructor(t,a={}){this.languageUtils=t,this.options=a,this.logger=Gd.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,a){this.rules[t]=a}clearCache(){this.pluralRulesCache={}}getRule(t,a={}){const r=zv(t==="dev"?"en":t),n=a.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:n});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let l;try{l=new Intl.PluralRules(r,{type:n})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),dD;if(!t.match(/-|_/))return dD;const c=this.languageUtils.getLanguagePartFromCode(t);l=this.getRule(c,a)}return this.pluralRulesCache[i]=l,l}needsPlural(t,a={}){let r=this.getRule(t,a);return r||(r=this.getRule("dev",a)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,a,r={}){return this.getSuffixes(t,r).map(n=>`${a}${n}`)}getSuffixes(t,a={}){let r=this.getRule(t,a);return r||(r=this.getRule("dev",a)),r?r.resolvedOptions().pluralCategories.sort((n,i)=>cD[n]-cD[i]).map(n=>`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${n}`):[]}getSuffix(t,a,r={}){const n=this.getRule(t,r);return n?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n.select(a)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",a,r))}}const uD=(e,t,a,r=".",n=!0)=>{let i=Eae(e,t,a);return!i&&n&&Wa(a)&&(i=DS(e,a,r),i===void 0&&(i=DS(t,a,r))),i},h5=e=>e.replace(/\$/g,"$$$$");class $ae{constructor(t={}){this.logger=Gd.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(a=>a),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:a,escapeValue:r,useRawValueToEscape:n,prefix:i,prefixEscaped:l,suffix:o,suffixEscaped:c,formatSeparator:d,unescapeSuffix:u,unescapePrefix:f,nestingPrefix:p,nestingPrefixEscaped:m,nestingSuffix:v,nestingSuffixEscaped:g,nestingOptionsSeparator:b,maxReplaces:j,alwaysFormat:N}=t.interpolation;this.escape=a!==void 0?a:Mae,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=n!==void 0?n:!1,this.prefix=i?kp(i):l||"{{",this.suffix=o?kp(o):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=u?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=p?kp(p):m||kp("$t("),this.nestingSuffix=v?kp(v):g||kp(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=j||1e3,this.alwaysFormat=N!==void 0?N:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(a,r)=>a?.source===r?(a.lastIndex=0,a):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,a,r,n){let i,l,o;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=m=>{if(m.indexOf(this.formatSeparator)<0){const j=uD(a,c,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(j,void 0,r,{...n,...a,interpolationkey:m}):j}const v=m.split(this.formatSeparator),g=v.shift().trim(),b=v.join(this.formatSeparator).trim();return this.format(uD(a,c,g,this.options.keySeparator,this.options.ignoreJSONStructure),b,r,{...n,...a,interpolationkey:g})};this.resetRegExp();const u=n?.missingInterpolationHandler||this.options.missingInterpolationHandler,f=n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>h5(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?h5(this.escape(m)):h5(m)}].forEach(m=>{for(o=0;i=m.regex.exec(t);){const v=i[1].trim();if(l=d(v),l===void 0)if(typeof u=="function"){const b=u(t,i,n);l=Wa(b)?b:""}else if(n&&Object.prototype.hasOwnProperty.call(n,v))l="";else if(f){l=i[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${t}`),l="";else!Wa(l)&&!this.useRawValueToEscape&&(l=tD(l));const g=m.safeValue(l);if(t=t.replace(i[0],g),f?(m.regex.lastIndex+=l.length,m.regex.lastIndex-=i[0].length):m.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),t}nest(t,a,r={}){let n,i,l;const o=(c,d)=>{const u=this.nestingOptionsSeparator;if(c.indexOf(u)<0)return c;const f=c.split(new RegExp(`${u}[ ]*{`));let p=`{${f[1]}`;c=f[0],p=this.interpolate(p,l);const m=p.match(/'/g),v=p.match(/"/g);((m?.length??0)%2===0&&!v||v.length%2!==0)&&(p=p.replace(/'/g,'"'));try{l=JSON.parse(p),d&&(l={...d,...l})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,g),`${c}${u}${p}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,c};for(;n=this.nestingRegexp.exec(t);){let c=[];l={...r},l=l.replace&&!Wa(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const d=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(d!==-1&&(c=n[1].slice(d).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),n[1]=n[1].slice(0,d)),i=a(o.call(this,n[1].trim(),l),l),i&&n[0]===t&&!Wa(i))return i;Wa(i)||(i=tD(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${t}`),i=""),c.length&&(i=c.reduce((u,f)=>this.format(u,f,r.lng,{...r,interpolationkey:n[1].trim()}),i.trim())),t=t.replace(n[0],i),this.regexp.lastIndex=0}return t}}const Uae=e=>{let t=e.toLowerCase().trim();const a={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const n=r[1].substring(0,r[1].length-1);t==="currency"&&n.indexOf(":")<0?a.currency||(a.currency=n.trim()):t==="relativetime"&&n.indexOf(":")<0?a.range||(a.range=n.trim()):n.split(";").forEach(l=>{if(l){const[o,...c]=l.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),u=o.trim();a[u]||(a[u]=d),d==="false"&&(a[u]=!1),d==="true"&&(a[u]=!0),isNaN(d)||(a[u]=parseInt(d,10))}})}return{formatName:t,formatOptions:a}},hD=e=>{const t={};return(a,r,n)=>{let i=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(i={...i,[n.interpolationkey]:void 0});const l=r+JSON.stringify(i);let o=t[l];return o||(o=e(zv(r),n),t[l]=o),o(a)}},zae=e=>(t,a,r)=>e(zv(a),r)(t);class Hae{constructor(t={}){this.logger=Gd.create("formatter"),this.options=t,this.init(t)}init(t,a={interpolation:{}}){this.formatSeparator=a.interpolation.formatSeparator||",";const r=a.cacheInBuiltFormats?hD:zae;this.formats={number:r((n,i)=>{const l=new Intl.NumberFormat(n,{...i});return o=>l.format(o)}),currency:r((n,i)=>{const l=new Intl.NumberFormat(n,{...i,style:"currency"});return o=>l.format(o)}),datetime:r((n,i)=>{const l=new Intl.DateTimeFormat(n,{...i});return o=>l.format(o)}),relativetime:r((n,i)=>{const l=new Intl.RelativeTimeFormat(n,{...i});return o=>l.format(o,i.range||"day")}),list:r((n,i)=>{const l=new Intl.ListFormat(n,{...i});return o=>l.format(o)})}}add(t,a){this.formats[t.toLowerCase().trim()]=a}addCached(t,a){this.formats[t.toLowerCase().trim()]=hD(a)}format(t,a,r,n={}){const i=a.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,c)=>{const{formatName:d,formatOptions:u}=Uae(c);if(this.formats[d]){let f=o;try{const p=n?.formatParams?.[n.interpolationkey]||{},m=p.locale||p.lng||n.locale||n.lng||r;f=this.formats[d](o,m,{...u,...n,...p})}catch(p){this.logger.warn(p)}return f}else this.logger.warn(`there was no format function for ${d}`);return o},t)}}const Vae=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class Wae extends Pj{constructor(t,a,r,n={}){super(),this.backend=t,this.store=a,this.services=r,this.languageUtils=r.languageUtils,this.options=n,this.logger=Gd.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,n.backend,n)}queueLoad(t,a,r,n){const i={},l={},o={},c={};return t.forEach(d=>{let u=!0;a.forEach(f=>{const p=`${d}|${f}`;!r.reload&&this.store.hasResourceBundle(d,f)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?l[p]===void 0&&(l[p]=!0):(this.state[p]=1,u=!1,l[p]===void 0&&(l[p]=!0),i[p]===void 0&&(i[p]=!0),c[f]===void 0&&(c[f]=!0)))}),u||(o[d]=!0)}),(Object.keys(i).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(i),pending:Object.keys(l),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(c)}}loaded(t,a,r){const n=t.split("|"),i=n[0],l=n[1];a&&this.emit("failedLoading",i,l,a),!a&&r&&this.store.addResourceBundle(i,l,r,void 0,void 0,{skipCopy:!0}),this.state[t]=a?-1:2,a&&r&&(this.state[t]=0);const o={};this.queue.forEach(c=>{Tae(c.loaded,[i],l),Vae(c,t),a&&c.errors.push(a),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{o[d]||(o[d]={});const u=c.loaded[d];u.length&&u.forEach(f=>{o[d][f]===void 0&&(o[d][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(c=>!c.done)}read(t,a,r,n=0,i=this.retryTimeout,l){if(!t.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:a,fcName:r,tried:n,wait:i,callback:l});return}this.readingCalls++;const o=(d,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(d&&u&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,t,a,r,n+1,i*2,l)},i);return}l(d,u)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const d=c(t,a);d&&typeof d.then=="function"?d.then(u=>o(null,u)).catch(o):o(null,d)}catch(d){o(d)}return}return c(t,a,o)}prepareLoading(t,a,r={},n){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();Wa(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Wa(a)&&(a=[a]);const i=this.queueLoad(t,a,r,n);if(!i.toLoad.length)return i.pending.length||n(),null;i.toLoad.forEach(l=>{this.loadOne(l)})}load(t,a,r){this.prepareLoading(t,a,{},r)}reload(t,a,r){this.prepareLoading(t,a,{reload:!0},r)}loadOne(t,a=""){const r=t.split("|"),n=r[0],i=r[1];this.read(n,i,"read",void 0,void 0,(l,o)=>{l&&this.logger.warn(`${a}loading namespace ${i} for language ${n} failed`,l),!l&&o&&this.logger.log(`${a}loaded namespace ${i} for language ${n}`,o),this.loaded(t,l,o)})}saveMissing(t,a,r,n,i,l={},o=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(a)){this.logger.warn(`did not save key "${r}" as the namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const c={...l,isUpdate:i},d=this.backend.create.bind(this.backend);if(d.length<6)try{let u;d.length===5?u=d(t,a,r,n,c):u=d(t,a,r,n),u&&typeof u.then=="function"?u.then(f=>o(null,f)).catch(o):o(null,u)}catch(u){o(u)}else d(t,a,r,n,o,c)}!t||!t[0]||this.store.addResource(t[0],a,r,n)}}}const fD=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Wa(e[1])&&(t.defaultValue=e[1]),Wa(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const a=e[3]||e[2];Object.keys(a).forEach(r=>{t[r]=a[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),mD=e=>(Wa(e.ns)&&(e.ns=[e.ns]),Wa(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Wa(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),jy=()=>{},qae=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(a=>{typeof e[a]=="function"&&(e[a]=e[a].bind(e))})};class Hv extends Pj{constructor(t={},a){if(super(),this.options=mD(t),this.services={},this.logger=Gd,this.modules={external:[]},qae(this),a&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,a),this;setTimeout(()=>{this.init(t,a)},0)}}init(t={},a){this.isInitializing=!0,typeof t=="function"&&(a=t,t={}),t.defaultNS==null&&t.ns&&(Wa(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=fD();this.options={...r,...this.options,...mD(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const n=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Gd.init(n(this.modules.logger),this.options):Gd.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=Hae;const u=new oD(this.options);this.store=new nD(this.options.resources,this.options);const f=this.services;f.logger=Gd,f.resourceStore=this.store,f.languageUtils=u,f.pluralResolver=new Bae(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(f.formatter=n(d),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new $ae(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new Wae(n(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(m,...v)=>{this.emit(m,...v)}),this.modules.languageDetector&&(f.languageDetector=n(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=n(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new X2(this.services,this.options),this.translator.on("*",(m,...v)=>{this.emit(m,...v)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,a||(a=jy),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...u)=>this.store[d](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...u)=>(this.store[d](...u),this)});const o=Dg(),c=()=>{const d=(u,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(f),a(u,f)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),o}loadResources(t,a=jy){let r=a;const n=Wa(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(n?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],l=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(d=>{d!=="cimode"&&i.indexOf(d)<0&&i.push(d)})};n?l(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>l(c)),this.options.preload?.forEach?.(o=>l(o)),this.services.backendConnector.load(i,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(o)})}else r(null)}reloadResources(t,a,r){const n=Dg();return typeof t=="function"&&(r=t,t=void 0),typeof a=="function"&&(r=a,a=void 0),t||(t=this.languages),a||(a=this.options.ns),r||(r=jy),this.services.backendConnector.reload(t,a,i=>{n.resolve(),r(i)}),n}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&aU.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let a=0;a<this.languages.length;a++){const r=this.languages[a];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,a){this.isLanguageChangingTo=t;const r=Dg();this.emit("languageChanging",t);const n=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},i=(o,c)=>{c?this.isLanguageChangingTo===t&&(n(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve((...d)=>this.t(...d)),a&&a(o,(...d)=>this.t(...d))},l=o=>{!t&&!o&&this.services.languageDetector&&(o=[]);const c=Wa(o)?o:o&&o[0],d=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Wa(o)?[o]:o);d&&(this.language||n(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector?.cacheUserLanguage?.(d)),this.loadResources(d,u=>{i(u,d)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t),r}getFixedT(t,a,r){const n=(i,l,...o)=>{let c;typeof l!="object"?c=this.options.overloadTranslationOptionHandler([i,l].concat(o)):c={...l},c.lng=c.lng||n.lng,c.lngs=c.lngs||n.lngs,c.ns=c.ns||n.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||n.keyPrefix);const d=this.options.keySeparator||".";let u;return c.keyPrefix&&Array.isArray(i)?u=i.map(f=>(typeof f=="function"&&(f=MS(f,{...this.options,...l})),`${c.keyPrefix}${d}${f}`)):(typeof i=="function"&&(i=MS(i,{...this.options,...l})),u=c.keyPrefix?`${c.keyPrefix}${d}${i}`:i),this.t(u,c)};return Wa(t)?n.lng=t:n.lngs=t,n.ns=a,n.keyPrefix=r,n}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,a={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=a.lng||this.resolvedLanguage||this.languages[0],n=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const l=(o,c)=>{const d=this.services.backendConnector.state[`${o}|${c}`];return d===-1||d===0||d===2};if(a.precheck){const o=a.precheck(this,l);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(r,t)&&(!n||l(i,t)))}loadNamespaces(t,a){const r=Dg();return this.options.ns?(Wa(t)&&(t=[t]),t.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{r.resolve(),a&&a(n)}),r):(a&&a(),Promise.resolve())}loadLanguages(t,a){const r=Dg();Wa(t)&&(t=[t]);const n=this.options.preload||[],i=t.filter(l=>n.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return i.length?(this.options.preload=n.concat(i),this.loadResources(l=>{r.resolve(),a&&a(l)}),r):(a&&a(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const n=new Intl.Locale(t);if(n&&n.getTextInfo){const i=n.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new oD(fD());return t.toLowerCase().indexOf("-latn")>1?"ltr":a.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},a){return new Hv(t,a)}cloneInstance(t={},a=jy){const r=t.forkResourceStore;r&&delete t.forkResourceStore;const n={...this.options,...t,isClone:!0},i=new Hv(n);if((t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const o=Object.keys(this.store.data).reduce((c,d)=>(c[d]={...this.store.data[d]},c[d]=Object.keys(c[d]).reduce((u,f)=>(u[f]={...c[d][f]},u),c[d]),c),{});i.store=new nD(o,n),i.services.resourceStore=i.store}return i.translator=new X2(i.services,n),i.translator.on("*",(o,...c)=>{i.emit(o,...c)}),i.init(n,a),i.translator.options=n,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const $r=Hv.createInstance();$r.createInstance=Hv.createInstance;$r.createInstance;$r.dir;$r.init;$r.loadResources;$r.reloadResources;$r.use;$r.changeLanguage;$r.getFixedT;$r.t;$r.exists;$r.setDefaultNamespace;$r.hasLoadedNamespace;$r.loadNamespaces;$r.loadLanguages;const rU=e=>{document.documentElement.dir=e==="ar"?"rtl":"ltr",document.documentElement.lang=e};rU($r.language||"en");$r.on("languageChanged",e=>{rU(e||"en")});const Gae={en:{translation:{Dashboard:"Dashboard","Lead Management":"Lead Management","Recycle Bin":"Recycle Bin",Inventory:"Inventory","Marketing Modules":"Marketing Modules",Campaigns:"Campaigns","Landing Pages":"Landing Pages","Meta Integration":"Meta Integration","Leads Performance":"Leads Performance",Customers:"Customers",Reports:"Reports","User Management":"User Management",Support:"Support",Settings:"Settings","Contact us":"Contact us",Logout:"Logout",Projects:"Projects",Properties:"Properties",Requests:"Requests","Buyer Requests":"Buyer Requests","Seller Requests":"Seller Requests","Dev Companies":"Dev Companies",Products:"Products",Items:"Items",Warehouse:"Warehouse",Calendar:"Calendar",Tasks:"Tasks",Language:"Language",Search:"Search",Notifications:"Notifications",Profile:"Profile","Dark Mode":"Dark Mode","Light Mode":"Light Mode",welcome_super_admin:"Welcome, Super Admin!",Filter:"Filter",All:"All",Country:"Country",City:"City",Company:"Company","Customer name":"Customer name",Orders:"Orders",Comments:"Comments",Comment:"Comment","Type to search...":"Type to search...",Search_button:"Search","Hide Tools":"Hide Tools","Show Tools":"Show Tools","Delay Leads":"Delay Leads",Activity:"Activity","To do list":"To do list","The Last Comments":"The Last Comments","Last Comments":"Last Comments","Hot Leads":"Hot Leads","Phone Calls":"Phone Calls","Recent Phone Calls":"Recent Phone Calls",Employee:"Employee",Lead:"Lead",Phone:"Phone",Duration:"Duration",Notes:"Notes",Incoming:"Incoming",Outgoing:"Outgoing",Missed:"Missed","Total Leads":"Total Leads","Conversion Rate":"Conversion Rate","Avg Response Time":"Avg Response Time","Leads by Source":"Leads by Source","Leads by Status":"Leads by Status","Leads Status":"Leads Status",Website:"Website","Social Media":"Social Media",Referrals:"Referrals","Email Campaign":"Email Campaign",Direct:"Direct",New:"New","In Progress":"In Progress",Qualified:"Qualified",Converted:"Converted",Lost:"Lost","Quick Actions":"Quick Actions","Export Data":"Export Data","Generate Report":"Generate Report","View Details":"View Details",Priority:"Priority",Type:"Type",high:"High",medium:"Medium",low:"Low",follow_up:"Follow Up",proposal:"Proposal",inquiry:"Inquiry",support:"Support",meeting:"Meeting","bulk.selectAssigneeError":"Please select or type an assignee first","bulk.assignSuccess":"Assigned {{count}} leads to: {{target}}","bulk.selectStatusError":"Please select a status first","bulk.statusUpdateSuccess":"Updated status for {{count}} leads to: {{status}}","bulk.deleteSuccess":"Successfully deleted {{count}} leads","import.title":"Import Leads from Excel","import.dropzone":"Drag & drop your file here, or click to select","import.selectedFile":"Selected file: {{file}}","import.noFileSelected":"No file selected yet","import.browseButton":"Browse","import.importing":"Importing...","import.importButton":"Import","import.supportedFiles":"Supports .xlsx and .xls files","import.selectFileError":"Please select an Excel file first","import.readFileError":"Failed to read the Excel file. Please check the format and content.","import.summary":"Added {{count}} new leads","import.supportedFields":"Supported fields: Name, Email, Phone, Company, Status, Priority, Source, Assigned To, Created At, Last Contact, Estimated Value, Probability","Import Data":"Import Data","import.uploadDescription":"Import data into the system.","import.uploadFile":"Upload file","import.dropHint":"Drag & drop file here or use the button","import.chooseFile":"Choose File","import.supportedFormats":"Supports CSV and XLSX files","import.target":"Import target","import.hasHeader":"First row contains column headers","import.updateExisting":"Update existing records on match","import.processing":"Importing...","import.successSimulated":"Import simulated successfully","import.unsupportedType":"Unsupported file type. Please upload CSV or XLSX.","import.formatGuidelines":"Format guidelines","import.guidelineUtf8":"Use UTF-8 encoding for CSV files","import.guidelineColumns":"Ensure columns match required fields","import.guidelineHeaders":"Include descriptive headers in the first row",Upload:"Upload",Preview:"Preview",Mapping:"Mapping",Summary:"Summary",Next:"Next",Back:"Back","Confirm Import":"Confirm Import",Column:"Column","Map to field":"Map to field","Start New":"Start New","New Records":"New Records","Updated Records":"Updated Records","Failed Rows":"Failed Rows","Show Export Options":"Show Export Options","Hide Export Options":"Hide Export Options","Date From":"Date From","Date To":"Date To","Assigned User/Team":"Assigned User/Team",Export:"Export",Error:"Error","Backup Management":"Backup Management","Generate Full Backup":"Generate Full Backup","Available Backups":"Available Backups","Scheduled Backups":"Scheduled Backups",Download:"Download","Save Schedule":"Save Schedule",Frequency:"Frequency",Time:"Time",Daily:"Daily",Weekly:"Weekly",Monthly:"Monthly","No backups yet.":"No backups yet.","importLogs.title":"Import Operations","importLogs.dataset":"Dataset","importLogs.status":"Status","importLogs.file":"File","importLogs.size":"Size","importLogs.options":"Options","importLogs.hasHeader":"Has Header","importLogs.updateExisting":"Update Existing","importLogs.time":"Time","importLogs.filter.dataset":"Filter by dataset","importLogs.filter.status":"Filter by status","importLogs.filter.search":"Search by file name...","importLogs.noData":"No import operations recorded","Import Logs":"Import Logs","empty.noMoreCustomers":"No other customers","template.downloadExcel":"Download Excel Template","template.downloadDescription":"Download the template and fill in the required data","template.downloadButton":"Download Template","template.requiredFields":"Required Fields:","Lead Stages":"Lead Stages","Active Campaigns":"Active Campaigns","Active Campaigns Overview":"Active Campaigns Overview","Key Performance Metrics":"Key Performance Metrics","Total Active":"Total Active","Avg. Open Rate":"Avg. Open Rate","Avg. Click Rate":"Avg. Click Rate","Conversion Rate":"Conversion Rate","Last 30 Days":"Last 30 Days","Top Campaigns":"Top Campaigns","Show Paused":"Show Paused","Hide Paused":"Hide Paused","Open Rate":"Open Rate","Click Rate":"Click Rate","On Track":"On Track","At Risk":"At Risk",Paused:"Paused","Active Users":"Active Users","Last Seen":"Last Seen",Active:"Active",Inactive:"Inactive","List View":"List View","Chart View":"Chart View",Refresh:"Refresh","All Leads":"All Leads",Duplicate:"Duplicate","New Lead":"New Lead","Cold Call":"Cold Call","follow up":"follow up","Actions at CRM":"Actions at CRM","Follow Ups":"Follow Ups",Completed:"Completed",Manager:"Manager",Employees:"Employees","Date Range":"Date Range","Date Input Placeholder":"mm/dd/yyyy",future:"Future",contacted:"Contacted",meeting_after:"Meeting after",follow_up_after:"Follow up after",cancel_after:"Cancel after",deal:"Deal",not_interested:"Not interested",next:"Next",From:"From",To:"To",Clear:"Clear","The Best":"The Best","Your top agents for the number of actions.":"Your top agents for the number of actions.",Today:"Today",Weekly:"Weekly",Monthly:"Monthly","All Time":"All Time","Quick Numbers":"Pipeline stages","Duplicate Leads":"Duplicate Leads","Fresh Leads":"Fresh Leads","New Leads":"New Leads","Pending Leads":"Pending Leads","Cold Leads":"Cold Leads","Cold Calls":"Cold Calls","of all system leads":"of all system leads","Not Available":"Not Available",Contact:"Contact","Bulk Actions":"Bulk Actions",selected:"selected","Update Status":"Update Status","Select Status":"Select Status","Apply Status":"Apply Status","Assign Owner":"Assign to","Select Owner":"Select Owner",Assign:"Assign","Apply Filters":"Apply Filters",Reset:"Reset",Delete:"Delete",Assigned:"Assigned",Value:"Value","Last Contact":"Last Contact","Import Leads from Excel file":"Import Leads from Excel file","Drag the file here or use the button to select it":"Drag the file here or use the button to select it","All Leads":"All Leads","All Managers":"All Managers","All Employees":"All Employees","Selected file: {excelFile.name}":"Selected file: {excelFile.name}","Importing...":"Importing...",Import:"Import","Supports .xlsx and .xls files":"Supports .xlsx and .xls files","Filter Options":"Filter Options","All Status":"All Status","All Sources":"All Sources","All Priority":"All Priority","Lead Statistics":"Lead Statistics",Theme:"Theme","Display Options":"Display Options","Show/Hide Columns":"Show/Hide Columns","Search columns...":"Search columns...","Reset Columns":"Reset Columns",Company:"Company",Assigned:"Assigned",Value:"Value","Last Contact":"Last Contact",Actions:"Actions",Admin:"Admin","+100% of all system leads":"+100% of all system leads","+8.2% from last month":"+8.2% from last month","+5.1% from last month":"+5.1% from last month","-2.3% from last month":"-2.3% from last month","Add Leads in Excel Sheet":"Add leads in an Excel-like sheet","Add Row":"Add Row","Delete Row":"Delete Row","Save Leads":"Save Leads",Close:"Close",Urgent:"Urgent",Referral:"Referral","Select Manager":"Select Manager","Select Employee":"Select Employee","From Date":"From Date","To Date":"To Date",Cancel:"Cancel","Add New Lead":"Add New Lead","Import Leads":"Import Leads","Add Demo Leads":"Add Demo Leads","Please select items to restore":"Please select items to restore","Please select items to delete":"Please select items to delete","Are you sure you want to restore the selected leads?":"Are you sure you want to restore the selected leads?","Are you sure you want to permanently delete the selected leads? This action cannot be undone.":"Are you sure you want to permanently delete the selected leads? This action cannot be undone.","Add Landing Page":"Add Landing Page",General:"General",Description:"Description",Media:"Media",Script:"Script",Title:"Title","Enter title":"Enter title",Channel:"Channel","Select Channel":"Select Channel",Project:"Project","Select Project":"Select Project","Target URL":"Target URL","Short Description":"Short Description","Upload Media":"Upload Media","Header Script":"Header Script","Body Script":"Body Script","Saving...":"Saving...",Create:"Create","Saved successfully":"Saved successfully",Open:"Open","Coming soon":"Coming soon","Reports Dashboard":"Reports Dashboard","Sales Report":"Sales Report","Lead Report":"Lead Report","Marketing Reports":"Marketing Reports","Team Report":"Team Report","Meetings Report":"Meetings Report","Sms Report":"Sms Report","Calls Report":"Calls Report","Team Performance Report":"Team Performance Report",Opportunities:"Opportunities",Cils:"Cils",Calls:"Calls",EOI:"EOI",Reservation:"Reservation",Deals:"Deals","Cancel Reasons":"Cancel Reasons","Opened This Month":"Opened This Month","Closed This Month":"Closed This Month","Open Chances":"Open Chances","Missed Chances":"Missed Chances",Remaining:"Remaining","Closed Chances":"Closed Chances","Data List":"Data List","Export List":"Export List","Show Entries":"Show Entries",Previous:"Previous",Next:"Next","No data":"No data","Export Report":"Export Report",Status:"Status",Reason:"Reason",Count:"Count","Reports KPIs":"Reports KPIs","Employees Reporting":"Employees Reporting","Generated Reports":"Generated Reports","Scheduled Reports":"Scheduled Reports","Failed Reports":"Failed Reports","Avg Generation Time":"Avg Generation Time","Report Types":"Report Types",PDF:"PDF",Excel:"Excel",Email:"Email","Reports per Employee":"Reports per Employee","Success Rate":"Success Rate","Last Activity":"Last Activity","Dashboard Overview":"Dashboard Overview","Show All":"Show All","Hide Less Active":"Hide Less Active",Minutes:"Minutes","reports.sales.desc":"Analyze sales data to improve performance and boost revenue.","reports.leads.desc":"Track your leads and evaluate their engagement within the system.","reports.marketing.desc":"Analyze marketing campaigns and measure their success to enhance strategies.","reports.team.desc":"Monitor team performance and track daily goal achievements.","reports.meetings.desc":"Manage meetings and follow up on discussed points and implementation.","reports.sms.desc":"Track and analyze messages sent to customers to increase engagement.","reports.calls.desc":"Monitor and analyze call data for performance and quality assessment.","reports.team_performance.desc":"Evaluate team performance and identify areas for improvement.","salesActions.lastUpdate":"Last update",Update:"Update","Updating...":"Updating...","salesActions.reservations":"Reservations","salesActions.totalRevenue":"Total Revenue","salesActions.accounts":"Accounts","salesActions.callsBreakdown":"Calls Breakdown","salesActions.byType":"By Type","salesActions.noCalls":"No calls","salesActions.topTeam":"Top Team","salesActions.viewTeamDetails":"View Team Details","salesActions.noTeamData":"No team data","salesActions.leaderboard":"Team Leaderboard","salesActions.byAccounts":"By Accounts","salesActions.monthlyReservationsSummary":"Monthly Reservations Summary","salesActions.lastMonths":"Last {{months}} months",Month:"Month",Revenue:"Revenue",View:"View",Details:"Details",Rank:"Rank",Conversion:"Conversion",Team:"Team",Excel:"Excel",PDF:"PDF",Print:"Print","teamDetails.title":"Team Details","teamDetails.roster":"Members","teamDetails.search":"Search...","teamDetails.noMembers":"No members","teamDetails.managerialControls":"Managerial Controls","teamDetails.assignNewTask":"Assign New Task","teamDetails.sendNote":"Send Note/Comment","teamDetails.openPerformanceReview":"Open Performance Review","teamDetails.suspend":"Suspend","teamDetails.reactivate":"Reactivate","teamDetails.tabs.profile":"Profile","teamDetails.tabs.performance":"Performance","teamDetails.tabs.projects":"Projects","teamDetails.tabs.permissions":"Permissions","teamDetails.tabs.activity":"Activity Log","teamDetails.basicInfo":"Basic Information","teamDetails.fields.fullName":"Full Name","teamDetails.fields.jobTitle":"Job Title","teamDetails.fields.department":"Department","teamDetails.fields.employeeId":"Employee ID","teamDetails.fields.email":"Email","teamDetails.fields.phone":"Phone","teamDetails.fields.joinDate":"Join Date","teamDetails.fields.status":"Status",Active:"Active","On Leave":"On Leave",Inactive:"Inactive","teamDetails.performanceMetrics":"Performance Metrics","teamDetails.metrics.totalTasks":"Total Tasks","teamDetails.metrics.tasksCompletionRate":"Tasks Completion Rate","teamDetails.metrics.avgResponseTime":"Average Response Time","teamDetails.metrics.attendanceRate":"Attendance Rate","teamDetails.metrics.performanceScore":"Performance Score","teamDetails.metrics.lastEvaluation":"Last Evaluation","teamDetails.projectsAndResponsibilities":"Projects & Responsibilities",Started:"Started",Tasks:"Tasks","View Project":"View Project",Reset:"Reset","teamDetails.noProjects":"No projects","teamDetails.permissionsAndAccess":"Permissions & Access","teamDetails.regionBranch":"Region/Branch","teamDetails.availableModules":"Available Modules","teamDetails.updateAccess":"Update Access","teamDetails.restrictAccess":"Restrict Access","teamDetails.activityLog":"Activity Log","teamDetails.filterByDate":"Filter by date","activity.leadUpdated":"Lead data updated","activity.dealClosed":"Deal closed","activity.newRequestCreated":"New request created","security.passwordAuth":"Password & Authentication","security.save":"Save","security.currentPassword":"Current Password","security.newPassword":"New Password","security.confirmPassword":"Confirm Password","security.passwordMismatch":"Passwords don't match","security.twoFactor":"Two-Factor Authentication","security.defaultMethod":"Default Method","security.emailOtp":"Email OTP","security.sms":"SMS","security.app":"Authenticator App","security.enableMethods":"Enable Methods","security.enableNotice":"Enable two-factor to show method settings and enable methods.","security.setup2fa":"Setup 2FA","security.accountAccess":"Account Access","security.editPermissions":"Edit Permissions","security.activeSessions":"Active Sessions","security.device":"Device","security.location":"Location","security.lastActive":"Last Active","security.action":"Action","security.noSessions":"No active sessions","security.logout":"Logout","security.logoutAll":"Logout from All Devices","security.securityNotifications":"Security Notifications","security.loginNewDevice":"Login from New Device","security.passwordChange":"Password Change","security.failedLogins":"Failed Login Attempts","security.notificationMethod":"Notification Method","security.push":"Push Notifications","security.policies":"Login & Password Policies","security.minLength":"Minimum Length","security.failedLimit":"Failed Login Attempt Limit","security.charReq":"Character Requirements","security.upper":"Uppercase","security.lower":"Lowercase","security.number":"Number","security.special":"Special Character","security.lockoutPolicy":"Lockout Policy","security.tempLockout":"Temporary Lockout","security.lockoutNote":"Applies after consecutive failed attempts.","security.auditLogs":"Audit Logs","security.modal.setupTitle":"Setup Two-Factor Authentication","security.modal.setupHelp":"Select method and follow instructions to complete setup.","security.modal.logoutTitle":"Logout Session","security.modal.logoutDesc":"This will logout the selected device.","security.modal.editPermsTitle":"Edit Permissions","security.perms.viewCustomers":"View Customers","security.perms.editCustomers":"Edit Customers","security.perms.manageUsers":"Manage Users","security.perms.viewBilling":"View Billing","common.cancel":"Cancel","common.save":"Save",Attachment:"Attachment","Selected file":"Selected file",Remove:"Remove","Tax Rate (%)":"Tax Rate (%)","Create Quotation":"Create Quotation",Opportunity:"Opportunity",Select:"Select","Loading...":"Loading...","Sent successfully":"Sent successfully","Conversion created successfully":"Conversion created successfully","Tax rate updated":"Tax rate updated","Failed to update tax rate":"Failed to update tax rate","Product / Service":"Product / Service",SKU:"SKU",Quantity:"Quantity","Unit Price":"Unit Price",Discount:"Discount",Subtotal:"Subtotal",Tax:"Tax",Total:"Total",Quotations:"Quotations",Sales:"Sales",Created:"Created",ID:"ID","Send to Customer":"Send to Customer","Convert to Sales Order":"Convert to Sales Order","Convert to Quotation":"Convert to Quotation",Amount:"Amount",Stage:"Stage","Expected Close Date":"Expected Close Date","Contact (B2B)":"Contact (B2B)","Contact person":"Contact person","Quick add":"Quick add","Add Opportunity":"Add Opportunity",Optional:"Optional",Individual:"Individual","Company name":"Company name",Tags:"Tags","Comma separated":"Comma separated","Assigned Rep":"Assigned Rep","Sales representative":"Sales representative","Quick Add Customer":"Quick Add Customer"}},ar:{translation:{Dashboard:" ","Lead Management":"  ","Recycle Bin":" ",Inventory:"","Marketing Modules":" ",Campaigns:"","Landing Pages":" ","Meta Integration":" ","Leads Performance":"  ",Customers:"",Reports:"","User Management":" ",Support:"",Settings:"","Contact us":" ",Logout:" ",Projects:"",Properties:"",Requests:"","Buyer Requests":" ","Seller Requests":" ","Dev Companies":" ",Products:"",Items:"",Warehouse:"",Calendar:"",Tasks:"",Language:"",Search:"",Notifications:"",Profile:" ","Dark Mode":" ","Light Mode":" ",welcome_super_admin:"  !",Filter:"",All:"",Country:"",City:"",Company:"","Customer name":" ",Orders:"",Comments:"",Comment:"","Type to search...":" ...",Search_button:"","Hide Tools":" ","Show Tools":" ","Delay Leads":" ",Activity:"","To do list":" ","The Last Comments":" ","Last Comments":" ","Hot Leads":"  ","Phone Calls":" ","Recent Phone Calls":"  ",Employee:"",Lead:" ",Phone:"",Duration:"",Notes:"",Incoming:"",Outgoing:"",Missed:"","Total Leads":"  ","Conversion Rate":" ","Avg Response Time":"  ","Leads by Source":"   ","Leads by Status":"   ","Leads Status":"  ",Website:" ","Social Media":"  ",Referrals:"","Email Campaign":"  ",Direct:"",New:"","In Progress":" ",Qualified:"",Converted:" ",Lost:"","Quick Actions":" ","Export Data":" ","Generate Report":" ","View Details":" ",Priority:"",Type:"",high:"",medium:"",low:"",follow_up:"",proposal:" ",inquiry:"",support:" ",meeting:"","bulk.selectAssigneeError":"      ","bulk.assignSuccess":"  {{count}}  : {{target}}","bulk.selectStatusError":"   ","bulk.statusUpdateSuccess":"   {{count}}  : {{status}}","bulk.deleteSuccess":"  {{count}}  ","import.title":"    ","import.dropzone":"      ","import.selectedFile":" : {{file}}","import.noFileSelected":"   ","import.browseButton":"","import.importing":" ...","import.importButton":"","import.supportedFiles":"  .xlsx  .xls","import.selectFileError":"    ","import.readFileError":"   .    .","import.summary":"  {{count}}  ","import.supportedFields":" :               ","Import Data":" ","import.uploadDescription":"   .","import.uploadFile":" ","import.dropHint":"     ","import.chooseFile":" ","import.supportedFormats":"  CSV  XLSX","import.target":" ","import.hasHeader":"     ","import.updateExisting":"    ","import.processing":" ...","import.successSimulated":"   ","import.unsupportedType":"   .   CSV  XLSX.","import.formatGuidelines":" ","import.guidelineUtf8":"  UTF-8  CSV","import.guidelineColumns":"     ","import.guidelineHeaders":"     ","importLogs.title":" ","importLogs.dataset":"","importLogs.status":"","importLogs.file":"","importLogs.size":"","importLogs.options":"","importLogs.hasHeader":" ","importLogs.updateExisting":" ","importLogs.time":"","importLogs.filter.dataset":"  ","importLogs.filter.status":"  ","importLogs.filter.search":"  ...","importLogs.noData":"    ","Import Logs":" ","empty.noMoreCustomers":"   ","template.downloadExcel":"  Excel","template.downloadDescription":"     ","template.downloadButton":" ","template.requiredFields":" :","Lead Stages":" ","Active Campaigns":" ","Active Campaigns Overview":"    ","Key Performance Metrics":"  ","Total Active":" ","Avg. Open Rate":"  ","Avg. Click Rate":"  ","Conversion Rate":" ","Last 30 Days":" 30 ","Top Campaigns":" ","Show Paused":" ","Hide Paused":" ","Open Rate":" ","Click Rate":" ","On Track":" ","At Risk":" ",Paused:"","Active Users":" ","Last Seen":" ","List View":" ","Chart View":"  ",Refresh:"","All Leads":" ",Duplicate:"","New Lead":"  ","Cold Call":" ","follow up":"","Actions at CRM":"  CRM","Follow Ups":"",Completed:"",Manager:"",Employees:"","Date Range":" ","Date Input Placeholder":"//",future:"",contacted:" ",meeting_after:" ",follow_up_after:" ",reschedule_meeting:"  ",no_answer_1st_call:"    ",meeting:"",follow_up:"",cancel_after:" ",deal:"",not_interested:" ",next:"",follow_up_after_meeting:"  ","Show All":" ",From:"",To:"",Clear:"","The Best":"","Your top agents for the number of actions.":"     .",Today:"",Weekly:"",Monthly:"","All Time":" ","Quick Numbers":"  ","Duplicate Leads":" ","Fresh Leads":" ","New Leads":" ","Pending Leads":"  ","Cold Leads":" ","Cold Calls":" ","of all system leads":"   ","Not Available":" ","Lead Name":" ",Mobile:"","Stage Date":" ","Last Comment":" ",preview:"",cancel_after:" ",deal:"",not_interested:" ",next:"","Show Less":" ","Show More":" ","Leads Analysis":"  ","Pipeline Analysis":"  ",Measures:"","Days to Assign":" ","Days to Close":" ","Days To Convert":" ","Exceeded Closing Days":"  ","Expected Revenue":" ","Prorated Revenue":" ",Total:"","Peak Month":" ",Average:"","vs Last Month":"  ",Active:"",Inactive:" ",Yes:"",No:"",Year:"","Previous Period":" ",Count:"","Search...":"...","Active or Inactive":"   ","Created on":"  ",Sales:"","Leads Analysis":"  ","Pipeline Analysis":"  ",Measures:"","Days to Assign":" ","Days to Close":" ","Days To Convert":" ","Exceeded Closing Days":"  ","Expected Revenue":" ","Prorated Revenue":" ",Count:"","Search...":"...","Active or Inactive":"   ","Created on":"  ",Sales:"","Search Leads":" ","All Statuses":" ",Contacted:" ","All Sources":" ",Referral:"","Email Campaign":"  ","All Priorities":" ",High:"",Medium:"",Low:"","Bulk Actions":" ","Export Selected":" ","Delete Selected":" ","Change Status":" ","Add New Lead":"  ","Lead Name":" ",Email:" ",Status:"",Priority:"",Source:"",Assigned:"",Value:"","Last Contact":" ","Created Date":" ",Actions:"",View:"",Edit:"",Delete:"",Showing:"",of:"",results:"",Previous:"",Next:"",Contact:" ",selected:"","Update Status":" ","Select Status":" ","Apply Status":" ","Assign Owner":" ","Select Owner":" ",Assign:"","Apply Filters":" ",Reset:" ","Filter Options":" ","All Status":" ","All Priority":" ","Lead Statistics":" ","Display Options":" ","Show/Hide Columns":"/ ","Search columns...":"  ...","Reset Columns":"  ",Theme:"",welcome_super_admin:"  !",Admin:"","+100% of all system leads":"+100%    ","+8.2% from last month":"+8.2%   ","+5.1% from last month":"+5.1%   ","-2.3% from last month":"-2.3%   ","Add Leads in Excel Sheet":"     ","Add Row":" ","Delete Row":" ","Save Leads":" ",Close:"",Urgent:"",Referral:"","Select Manager":" ","Select Employee":" ","From Date":" ","To Date":" ",Cancel:"","Add New Lead":"  ","Import Leads":" ","Add Demo Leads":"  ","Please select items to restore":"    ","Please select items to delete":"    ","Are you sure you want to restore the selected leads?":"      ","Are you sure you want to permanently delete the selected leads? This action cannot be undone.":"             .","Add Landing Page":"  ",General:"",Description:"",Media:"",Script:"",Title:"","Enter title":" ",Channel:"","Select Channel":" ",Project:"","Select Project":" ","Target URL":" ","Short Description":" ","Upload Media":" ","Header Script":" ","Body Script":" ","Saving...":" ...",Create:"","Saved successfully":"  ",Open:"","Coming soon":"","Reports Dashboard":" ","Sales Report":" ","Lead Report":"  ","Marketing Reports":" ","Team Report":" ","Meetings Report":" ","Sms Report":" ","Calls Report":" ","Team Performance Report":"  ",Opportunities:"",Cils:"Cils",Calls:"",EOI:" ",Reservation:"",Deals:"","Cancel Reasons":" ","Opened This Month":"  ","Closed This Month":"  ","Open Chances":" ","Missed Chances":" ",Remaining:"","Closed Chances":" ","Data List":" ","Export List":" ","Show Entries":" ",Previous:"",Next:"","No data":"  ","Export Report":" ",Status:"",Reason:"",Count:"","Reports KPIs":" ","Employees Reporting":" ","Generated Reports":" ","Scheduled Reports":" ","Failed Reports":" ","Avg Generation Time":"   ","Report Types":" ",PDF:"  ",Excel:"",Email:" ","Reports per Employee":"  ","Success Rate":" ","Last Activity":" ","Dashboard Overview":"   ","Show All":" ","Hide Less Active":"  ",Minutes:"","reports.sales.desc":"      .","reports.leads.desc":"      .","reports.marketing.desc":"      .","reports.team.desc":"      .","reports.meetings.desc":"     .","reports.sms.desc":"      .","reports.calls.desc":"      .","reports.team_performance.desc":"     .","salesActions.lastUpdate":" ",Update:"","Updating...":" ...","salesActions.reservations":"","salesActions.totalRevenue":" ","salesActions.accounts":"","salesActions.callsBreakdown":" ","salesActions.byType":" ","salesActions.noCalls":"  ","salesActions.topTeam":" ","salesActions.viewTeamDetails":"  ","salesActions.noTeamData":"   ","salesActions.leaderboard":"  ","salesActions.byAccounts":" ","salesActions.monthlyReservationsSummary":"   ","salesActions.lastMonths":" {{months}} ",Month:"",Revenue:"",View:"",Details:"",Rank:"",Conversion:"",Team:"",Excel:"",PDF:"PDF",Print:"","teamDetails.title":" ","teamDetails.roster":"","teamDetails.search":"...","teamDetails.noMembers":"  ","teamDetails.managerialControls":" ","teamDetails.assignNewTask":"  ","teamDetails.sendNote":" /","teamDetails.openPerformanceReview":"   ","teamDetails.suspend":" ","teamDetails.reactivate":" ","teamDetails.tabs.profile":"","teamDetails.tabs.performance":"","teamDetails.tabs.projects":"","teamDetails.tabs.permissions":"","teamDetails.tabs.activity":"","teamDetails.basicInfo":" ","teamDetails.fields.fullName":" ","teamDetails.fields.jobTitle":" ","teamDetails.fields.department":"","teamDetails.fields.employeeId":" ","teamDetails.fields.email":" ","teamDetails.fields.phone":"","teamDetails.fields.joinDate":" ","teamDetails.fields.status":"",Active:"","On Leave":" ",Inactive:" ","teamDetails.performanceMetrics":" ","teamDetails.metrics.totalTasks":" ","teamDetails.metrics.tasksCompletionRate":"  ","teamDetails.metrics.avgResponseTime":"  ","teamDetails.metrics.attendanceRate":" ","teamDetails.metrics.performanceScore":" ","teamDetails.metrics.lastEvaluation":" ","teamDetails.projectsAndResponsibilities":" ",Started:"",Tasks:"","View Project":" ",Reset:" ","teamDetails.noProjects":"  ","teamDetails.permissionsAndAccess":" ","teamDetails.regionBranch":"/","teamDetails.availableModules":" ","teamDetails.updateAccess":" ","teamDetails.restrictAccess":" ","teamDetails.activityLog":" ","teamDetails.filterByDate":" ","activity.leadUpdated":"   ","activity.dealClosed":"  ","activity.newRequestCreated":"   ","security.passwordAuth":"  ","security.save":"","security.currentPassword":"  ","security.newPassword":"  ","security.confirmPassword":"  ","security.passwordMismatch":"   ","security.twoFactor":" ","security.defaultMethod":" ","security.emailOtp":"  ","security.sms":" ","security.app":" ","security.enableMethods":" ","security.enableNotice":"        .","security.setup2fa":"  ","security.accountAccess":" ","security.editPermissions":" ","security.activeSessions":" ","security.device":"","security.location":"","security.lastActive":" ","security.action":"","security.noSessions":"   ","security.logout":" ","security.logoutAll":"    ","security.securityNotifications":" ","security.loginNewDevice":"    ","security.passwordChange":"  ","security.failedLogins":"   ","security.notificationMethod":" ","security.push":" ","security.policies":"   ","security.minLength":" ","security.failedLimit":"   ","security.charReq":" ","security.upper":" ","security.lower":" ","security.number":"","security.special":" ","security.lockoutPolicy":"  ","security.tempLockout":" ","security.lockoutNote":"     .","security.auditLogs":" ","security.modal.setupTitle":"  ","security.modal.setupHelp":"     .","security.modal.logoutTitle":"  ","security.modal.logoutDesc":"    .","security.modal.editPermsTitle":" ","security.perms.viewCustomers":" ","security.perms.editCustomers":" ","security.perms.manageUsers":" ","security.perms.viewBilling":" ","common.cancel":"","common.save":"",Attachment:"","Selected file":" ",Remove:"","Tax Rate (%)":"  (%)","Create Quotation":"  ",Opportunity:"",Select:"","Loading...":" ...","Sent successfully":"  ","Conversion created successfully":"   ","Tax rate updated":"   ","Failed to update tax rate":"   ","Product / Service":" / ",SKU:" ",Quantity:"","Unit Price":" ",Discount:"",Subtotal:" ",Tax:"",Total:"",Quotations:" ",Sales:"",Created:" ",ID:"","Send to Customer":"  ","Convert to Sales Order":"   ","Convert to Quotation":"   ",Amount:"",Stage:"","Expected Close Date":"  ","Contact (B2B)":"  (B2B)","Contact person":"  ","Quick add":" ","Add Opportunity":" ",Optional:"",Individual:"","Company name":" ",Tags:"","Comma separated":" ","Assigned Rep":" ","Sales representative":" ","Quick Add Customer":"  "}}};$r.use(jae).init({resources:Gae,lng:(()=>{try{if(typeof window<"u"&&window.localStorage){const e=window.localStorage.getItem("systemPrefs");if(e){const a=JSON.parse(e);if(a&&a.language)return a.language}const t=window.localStorage.getItem("language");if(t)return t}}catch{}return"en"})(),fallbackLng:"en",interpolation:{escapeValue:!1}});function nU(e,t){return function(){return e.apply(t,arguments)}}const{toString:Kae}=Object.prototype,{getPrototypeOf:sA}=Object,{iterator:Lj,toStringTag:iU}=Symbol,Oj=(e=>t=>{const a=Kae.call(t);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),md=e=>(e=e.toLowerCase(),t=>Oj(t)===e),Rj=e=>t=>typeof t===e,{isArray:jx}=Array,tx=Rj("undefined");function R1(e){return e!==null&&!tx(e)&&e.constructor!==null&&!tx(e.constructor)&&ao(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const lU=md("ArrayBuffer");function Yae(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&lU(e.buffer),t}const Xae=Rj("string"),ao=Rj("function"),oU=Rj("number"),F1=e=>e!==null&&typeof e=="object",Jae=e=>e===!0||e===!1,P2=e=>{if(Oj(e)!=="object")return!1;const t=sA(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(iU in e)&&!(Lj in e)},Qae=e=>{if(!F1(e)||R1(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Zae=md("Date"),ese=md("File"),tse=md("Blob"),ase=md("FileList"),sse=e=>F1(e)&&ao(e.pipe),rse=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ao(e.append)&&((t=Oj(e))==="formdata"||t==="object"&&ao(e.toString)&&e.toString()==="[object FormData]"))},nse=md("URLSearchParams"),[ise,lse,ose,cse]=["ReadableStream","Request","Response","Headers"].map(md),dse=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function I1(e,t,{allOwnKeys:a=!1}={}){if(e===null||typeof e>"u")return;let r,n;if(typeof e!="object"&&(e=[e]),jx(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{if(R1(e))return;const i=a?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let o;for(r=0;r<l;r++)o=i[r],t.call(null,e[o],o,e)}}function cU(e,t){if(R1(e))return null;t=t.toLowerCase();const a=Object.keys(e);let r=a.length,n;for(;r-- >0;)if(n=a[r],t===n.toLowerCase())return n;return null}const R0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dU=e=>!tx(e)&&e!==R0;function PS(){const{caseless:e,skipUndefined:t}=dU(this)&&this||{},a={},r=(n,i)=>{const l=e&&cU(a,i)||i;P2(a[l])&&P2(n)?a[l]=PS(a[l],n):P2(n)?a[l]=PS({},n):jx(n)?a[l]=n.slice():(!t||!tx(n))&&(a[l]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&I1(arguments[n],r);return a}const use=(e,t,a,{allOwnKeys:r}={})=>(I1(t,(n,i)=>{a&&ao(n)?e[i]=nU(n,a):e[i]=n},{allOwnKeys:r}),e),hse=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),fse=(e,t,a,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},mse=(e,t,a,r)=>{let n,i,l;const o={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)l=n[i],(!r||r(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=a!==!1&&sA(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},pse=(e,t,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=t.length;const r=e.indexOf(t,a);return r!==-1&&r===a},xse=e=>{if(!e)return null;if(jx(e))return e;let t=e.length;if(!oU(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},gse=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&sA(Uint8Array)),vse=(e,t)=>{const r=(e&&e[Lj]).call(e);let n;for(;(n=r.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},bse=(e,t)=>{let a;const r=[];for(;(a=e.exec(t))!==null;)r.push(a);return r},yse=md("HTMLFormElement"),wse=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,n){return r.toUpperCase()+n}),pD=(({hasOwnProperty:e})=>(t,a)=>e.call(t,a))(Object.prototype),jse=md("RegExp"),uU=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),r={};I1(a,(n,i)=>{let l;(l=t(n,i,e))!==!1&&(r[i]=l||n)}),Object.defineProperties(e,r)},Nse=e=>{uU(e,(t,a)=>{if(ao(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=e[a];if(ao(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},kse=(e,t)=>{const a={},r=n=>{n.forEach(i=>{a[i]=!0})};return jx(e)?r(e):r(String(e).split(t)),a},Sse=()=>{},Cse=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Ase(e){return!!(e&&ao(e.append)&&e[iU]==="FormData"&&e[Lj])}const _se=e=>{const t=new Array(10),a=(r,n)=>{if(F1(r)){if(t.indexOf(r)>=0)return;if(R1(r))return r;if(!("toJSON"in r)){t[n]=r;const i=jx(r)?[]:{};return I1(r,(l,o)=>{const c=a(l,n+1);!tx(c)&&(i[o]=c)}),t[n]=void 0,i}}return r};return a(e,0)},Tse=md("AsyncFunction"),Ese=e=>e&&(F1(e)||ao(e))&&ao(e.then)&&ao(e.catch),hU=((e,t)=>e?setImmediate:t?((a,r)=>(R0.addEventListener("message",({source:n,data:i})=>{n===R0&&i===a&&r.length&&r.shift()()},!1),n=>{r.push(n),R0.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",ao(R0.postMessage)),Dse=typeof queueMicrotask<"u"?queueMicrotask.bind(R0):typeof process<"u"&&process.nextTick||hU,Mse=e=>e!=null&&ao(e[Lj]),mt={isArray:jx,isArrayBuffer:lU,isBuffer:R1,isFormData:rse,isArrayBufferView:Yae,isString:Xae,isNumber:oU,isBoolean:Jae,isObject:F1,isPlainObject:P2,isEmptyObject:Qae,isReadableStream:ise,isRequest:lse,isResponse:ose,isHeaders:cse,isUndefined:tx,isDate:Zae,isFile:ese,isBlob:tse,isRegExp:jse,isFunction:ao,isStream:sse,isURLSearchParams:nse,isTypedArray:gse,isFileList:ase,forEach:I1,merge:PS,extend:use,trim:dse,stripBOM:hse,inherits:fse,toFlatObject:mse,kindOf:Oj,kindOfTest:md,endsWith:pse,toArray:xse,forEachEntry:vse,matchAll:bse,isHTMLForm:yse,hasOwnProperty:pD,hasOwnProp:pD,reduceDescriptors:uU,freezeMethods:Nse,toObjectSet:kse,toCamelCase:wse,noop:Sse,toFiniteNumber:Cse,findKey:cU,global:R0,isContextDefined:dU,isSpecCompliantForm:Ase,toJSONObject:_se,isAsyncFn:Tse,isThenable:Ese,setImmediate:hU,asap:Dse,isIterable:Mse};function Xa(e,t,a,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}mt.inherits(Xa,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:mt.toJSONObject(this.config),code:this.code,status:this.status}}});const fU=Xa.prototype,mU={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{mU[e]={value:e}});Object.defineProperties(Xa,mU);Object.defineProperty(fU,"isAxiosError",{value:!0});Xa.from=(e,t,a,r,n,i)=>{const l=Object.create(fU);mt.toFlatObject(e,l,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Xa.call(l,o,c,a,r,n),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const Pse=null;function LS(e){return mt.isPlainObject(e)||mt.isArray(e)}function pU(e){return mt.endsWith(e,"[]")?e.slice(0,-2):e}function xD(e,t,a){return e?e.concat(t).map(function(n,i){return n=pU(n),!a&&i?"["+n+"]":n}).join(a?".":""):t}function Lse(e){return mt.isArray(e)&&!e.some(LS)}const Ose=mt.toFlatObject(mt,{},null,function(t){return/^is[A-Z]/.test(t)});function Fj(e,t,a){if(!mt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,a=mt.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,b){return!mt.isUndefined(b[g])});const r=a.metaTokens,n=a.visitor||u,i=a.dots,l=a.indexes,c=(a.Blob||typeof Blob<"u"&&Blob)&&mt.isSpecCompliantForm(t);if(!mt.isFunction(n))throw new TypeError("visitor must be a function");function d(v){if(v===null)return"";if(mt.isDate(v))return v.toISOString();if(mt.isBoolean(v))return v.toString();if(!c&&mt.isBlob(v))throw new Xa("Blob is not supported. Use a Buffer instead.");return mt.isArrayBuffer(v)||mt.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function u(v,g,b){let j=v;if(v&&!b&&typeof v=="object"){if(mt.endsWith(g,"{}"))g=r?g:g.slice(0,-2),v=JSON.stringify(v);else if(mt.isArray(v)&&Lse(v)||(mt.isFileList(v)||mt.endsWith(g,"[]"))&&(j=mt.toArray(v)))return g=pU(g),j.forEach(function(k,S){!(mt.isUndefined(k)||k===null)&&t.append(l===!0?xD([g],S,i):l===null?g:g+"[]",d(k))}),!1}return LS(v)?!0:(t.append(xD(b,g,i),d(v)),!1)}const f=[],p=Object.assign(Ose,{defaultVisitor:u,convertValue:d,isVisitable:LS});function m(v,g){if(!mt.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(v),mt.forEach(v,function(j,N){(!(mt.isUndefined(j)||j===null)&&n.call(t,j,mt.isString(N)?N.trim():N,g,p))===!0&&m(j,g?g.concat(N):[N])}),f.pop()}}if(!mt.isObject(e))throw new TypeError("data must be an object");return m(e),t}function gD(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function rA(e,t){this._pairs=[],e&&Fj(e,this,t)}const xU=rA.prototype;xU.append=function(t,a){this._pairs.push([t,a])};xU.toString=function(t){const a=t?function(r){return t.call(this,r,gD)}:gD;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function Rse(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function gU(e,t,a){if(!t)return e;const r=a&&a.encode||Rse;mt.isFunction(a)&&(a={serialize:a});const n=a&&a.serialize;let i;if(n?i=n(t,a):i=mt.isURLSearchParams(t)?t.toString():new rA(t,a).toString(r),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class vD{constructor(){this.handlers=[]}use(t,a,r){return this.handlers.push({fulfilled:t,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){mt.forEach(this.handlers,function(r){r!==null&&t(r)})}}const vU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Fse=typeof URLSearchParams<"u"?URLSearchParams:rA,Ise=typeof FormData<"u"?FormData:null,Bse=typeof Blob<"u"?Blob:null,$se={isBrowser:!0,classes:{URLSearchParams:Fse,FormData:Ise,Blob:Bse},protocols:["http","https","file","blob","url","data"]},nA=typeof window<"u"&&typeof document<"u",OS=typeof navigator=="object"&&navigator||void 0,Use=nA&&(!OS||["ReactNative","NativeScript","NS"].indexOf(OS.product)<0),zse=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Hse=nA&&window.location.href||"http://localhost",Vse=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:nA,hasStandardBrowserEnv:Use,hasStandardBrowserWebWorkerEnv:zse,navigator:OS,origin:Hse},Symbol.toStringTag,{value:"Module"})),ll={...Vse,...$se};function Wse(e,t){return Fj(e,new ll.classes.URLSearchParams,{visitor:function(a,r,n,i){return ll.isNode&&mt.isBuffer(a)?(this.append(r,a.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function qse(e){return mt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Gse(e){const t={},a=Object.keys(e);let r;const n=a.length;let i;for(r=0;r<n;r++)i=a[r],t[i]=e[i];return t}function bU(e){function t(a,r,n,i){let l=a[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=a.length;return l=!l&&mt.isArray(n)?n.length:l,c?(mt.hasOwnProp(n,l)?n[l]=[n[l],r]:n[l]=r,!o):((!n[l]||!mt.isObject(n[l]))&&(n[l]=[]),t(a,r,n[l],i)&&mt.isArray(n[l])&&(n[l]=Gse(n[l])),!o)}if(mt.isFormData(e)&&mt.isFunction(e.entries)){const a={};return mt.forEachEntry(e,(r,n)=>{t(qse(r),n,a,0)}),a}return null}function Kse(e,t,a){if(mt.isString(e))try{return(t||JSON.parse)(e),mt.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(e)}const B1={transitional:vU,adapter:["xhr","http","fetch"],transformRequest:[function(t,a){const r=a.getContentType()||"",n=r.indexOf("application/json")>-1,i=mt.isObject(t);if(i&&mt.isHTMLForm(t)&&(t=new FormData(t)),mt.isFormData(t))return n?JSON.stringify(bU(t)):t;if(mt.isArrayBuffer(t)||mt.isBuffer(t)||mt.isStream(t)||mt.isFile(t)||mt.isBlob(t)||mt.isReadableStream(t))return t;if(mt.isArrayBufferView(t))return t.buffer;if(mt.isURLSearchParams(t))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Wse(t,this.formSerializer).toString();if((o=mt.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Fj(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||n?(a.setContentType("application/json",!1),Kse(t)):t}],transformResponse:[function(t){const a=this.transitional||B1.transitional,r=a&&a.forcedJSONParsing,n=this.responseType==="json";if(mt.isResponse(t)||mt.isReadableStream(t))return t;if(t&&mt.isString(t)&&(r&&!this.responseType||n)){const l=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?Xa.from(o,Xa.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ll.classes.FormData,Blob:ll.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};mt.forEach(["delete","get","head","post","put","patch"],e=>{B1.headers[e]={}});const Yse=mt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xse=e=>{const t={};let a,r,n;return e&&e.split(`
`).forEach(function(l){n=l.indexOf(":"),a=l.substring(0,n).trim().toLowerCase(),r=l.substring(n+1).trim(),!(!a||t[a]&&Yse[a])&&(a==="set-cookie"?t[a]?t[a].push(r):t[a]=[r]:t[a]=t[a]?t[a]+", "+r:r)}),t},bD=Symbol("internals");function Mg(e){return e&&String(e).trim().toLowerCase()}function L2(e){return e===!1||e==null?e:mt.isArray(e)?e.map(L2):String(e)}function Jse(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(e);)t[r[1]]=r[2];return t}const Qse=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function f5(e,t,a,r,n){if(mt.isFunction(r))return r.call(this,t,a);if(n&&(t=a),!!mt.isString(t)){if(mt.isString(r))return t.indexOf(r)!==-1;if(mt.isRegExp(r))return r.test(t)}}function Zse(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,a,r)=>a.toUpperCase()+r)}function ere(e,t){const a=mt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+a,{value:function(n,i,l){return this[r].call(this,t,n,i,l)},configurable:!0})})}let so=class{constructor(t){t&&this.set(t)}set(t,a,r){const n=this;function i(o,c,d){const u=Mg(c);if(!u)throw new Error("header name must be a non-empty string");const f=mt.findKey(n,u);(!f||n[f]===void 0||d===!0||d===void 0&&n[f]!==!1)&&(n[f||c]=L2(o))}const l=(o,c)=>mt.forEach(o,(d,u)=>i(d,u,c));if(mt.isPlainObject(t)||t instanceof this.constructor)l(t,a);else if(mt.isString(t)&&(t=t.trim())&&!Qse(t))l(Xse(t),a);else if(mt.isObject(t)&&mt.isIterable(t)){let o={},c,d;for(const u of t){if(!mt.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?mt.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}l(o,a)}else t!=null&&i(a,t,r);return this}get(t,a){if(t=Mg(t),t){const r=mt.findKey(this,t);if(r){const n=this[r];if(!a)return n;if(a===!0)return Jse(n);if(mt.isFunction(a))return a.call(this,n,r);if(mt.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=Mg(t),t){const r=mt.findKey(this,t);return!!(r&&this[r]!==void 0&&(!a||f5(this,this[r],r,a)))}return!1}delete(t,a){const r=this;let n=!1;function i(l){if(l=Mg(l),l){const o=mt.findKey(r,l);o&&(!a||f5(r,r[o],o,a))&&(delete r[o],n=!0)}}return mt.isArray(t)?t.forEach(i):i(t),n}clear(t){const a=Object.keys(this);let r=a.length,n=!1;for(;r--;){const i=a[r];(!t||f5(this,this[i],i,t,!0))&&(delete this[i],n=!0)}return n}normalize(t){const a=this,r={};return mt.forEach(this,(n,i)=>{const l=mt.findKey(r,i);if(l){a[l]=L2(n),delete a[i];return}const o=t?Zse(i):String(i).trim();o!==i&&delete a[i],a[o]=L2(n),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return mt.forEach(this,(r,n)=>{r!=null&&r!==!1&&(a[n]=t&&mt.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const r=new this(t);return a.forEach(n=>r.set(n)),r}static accessor(t){const r=(this[bD]=this[bD]={accessors:{}}).accessors,n=this.prototype;function i(l){const o=Mg(l);r[o]||(ere(n,l),r[o]=!0)}return mt.isArray(t)?t.forEach(i):i(t),this}};so.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);mt.reduceDescriptors(so.prototype,({value:e},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[a]=r}}});mt.freezeMethods(so);function m5(e,t){const a=this||B1,r=t||a,n=so.from(r.headers);let i=r.data;return mt.forEach(e,function(o){i=o.call(a,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function yU(e){return!!(e&&e.__CANCEL__)}function Nx(e,t,a){Xa.call(this,e??"canceled",Xa.ERR_CANCELED,t,a),this.name="CanceledError"}mt.inherits(Nx,Xa,{__CANCEL__:!0});function wU(e,t,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?e(a):t(new Xa("Request failed with status code "+a.status,[Xa.ERR_BAD_REQUEST,Xa.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function tre(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function are(e,t){e=e||10;const a=new Array(e),r=new Array(e);let n=0,i=0,l;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=r[i];l||(l=d),a[n]=c,r[n]=d;let f=i,p=0;for(;f!==n;)p+=a[f++],f=f%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),d-l<t)return;const m=u&&d-u;return m?Math.round(p*1e3/m):void 0}}function sre(e,t){let a=0,r=1e3/t,n,i;const l=(d,u=Date.now())=>{a=u,n=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),f=u-a;f>=r?l(d,u):(n=d,i||(i=setTimeout(()=>{i=null,l(n)},r-f)))},()=>n&&l(n)]}const J2=(e,t,a=3)=>{let r=0;const n=are(50,250);return sre(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-r,d=n(c),u=l<=o;r=l;const f={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-l)/d:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(f)},a)},yD=(e,t)=>{const a=e!=null;return[r=>t[0]({lengthComputable:a,total:e,loaded:r}),t[1]]},wD=e=>(...t)=>mt.asap(()=>e(...t)),rre=ll.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,ll.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(ll.origin),ll.navigator&&/(msie|trident)/i.test(ll.navigator.userAgent)):()=>!0,nre=ll.hasStandardBrowserEnv?{write(e,t,a,r,n,i){const l=[e+"="+encodeURIComponent(t)];mt.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),mt.isString(r)&&l.push("path="+r),mt.isString(n)&&l.push("domain="+n),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ire(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function lre(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function jU(e,t,a){let r=!ire(t);return e&&(r||a==!1)?lre(e,t):t}const jD=e=>e instanceof so?{...e}:e;function om(e,t){t=t||{};const a={};function r(d,u,f,p){return mt.isPlainObject(d)&&mt.isPlainObject(u)?mt.merge.call({caseless:p},d,u):mt.isPlainObject(u)?mt.merge({},u):mt.isArray(u)?u.slice():u}function n(d,u,f,p){if(mt.isUndefined(u)){if(!mt.isUndefined(d))return r(void 0,d,f,p)}else return r(d,u,f,p)}function i(d,u){if(!mt.isUndefined(u))return r(void 0,u)}function l(d,u){if(mt.isUndefined(u)){if(!mt.isUndefined(d))return r(void 0,d)}else return r(void 0,u)}function o(d,u,f){if(f in t)return r(d,u);if(f in e)return r(void 0,d)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(d,u,f)=>n(jD(d),jD(u),f,!0)};return mt.forEach(Object.keys({...e,...t}),function(u){const f=c[u]||n,p=f(e[u],t[u],u);mt.isUndefined(p)&&f!==o||(a[u]=p)}),a}const NU=e=>{const t=om({},e);let{data:a,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:i,headers:l,auth:o}=t;if(t.headers=l=so.from(l),t.url=gU(jU(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),mt.isFormData(a)){if(ll.hasStandardBrowserEnv||ll.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(mt.isFunction(a.getHeaders)){const c=a.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,f])=>{d.includes(u.toLowerCase())&&l.set(u,f)})}}if(ll.hasStandardBrowserEnv&&(r&&mt.isFunction(r)&&(r=r(t)),r||r!==!1&&rre(t.url))){const c=n&&i&&nre.read(i);c&&l.set(n,c)}return t},ore=typeof XMLHttpRequest<"u",cre=ore&&function(e){return new Promise(function(a,r){const n=NU(e);let i=n.data;const l=so.from(n.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=n,u,f,p,m,v;function g(){m&&m(),v&&v(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(n.method.toUpperCase(),n.url,!0),b.timeout=n.timeout;function j(){if(!b)return;const k=so.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),C={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:k,config:e,request:b};wU(function(P){a(P),g()},function(P){r(P),g()},C),b=null}"onloadend"in b?b.onloadend=j:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(j)},b.onabort=function(){b&&(r(new Xa("Request aborted",Xa.ECONNABORTED,e,b)),b=null)},b.onerror=function(S){const C=S&&S.message?S.message:"Network Error",_=new Xa(C,Xa.ERR_NETWORK,e,b);_.event=S||null,r(_),b=null},b.ontimeout=function(){let S=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const C=n.transitional||vU;n.timeoutErrorMessage&&(S=n.timeoutErrorMessage),r(new Xa(S,C.clarifyTimeoutError?Xa.ETIMEDOUT:Xa.ECONNABORTED,e,b)),b=null},i===void 0&&l.setContentType(null),"setRequestHeader"in b&&mt.forEach(l.toJSON(),function(S,C){b.setRequestHeader(C,S)}),mt.isUndefined(n.withCredentials)||(b.withCredentials=!!n.withCredentials),o&&o!=="json"&&(b.responseType=n.responseType),d&&([p,v]=J2(d,!0),b.addEventListener("progress",p)),c&&b.upload&&([f,m]=J2(c),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",m)),(n.cancelToken||n.signal)&&(u=k=>{b&&(r(!k||k.type?new Nx(null,e,b):k),b.abort(),b=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const N=tre(n.url);if(N&&ll.protocols.indexOf(N)===-1){r(new Xa("Unsupported protocol "+N+":",Xa.ERR_BAD_REQUEST,e));return}b.send(i||null)})},dre=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let r=new AbortController,n;const i=function(d){if(!n){n=!0,o();const u=d instanceof Error?d:this.reason;r.abort(u instanceof Xa?u:new Nx(u instanceof Error?u.message:u))}};let l=t&&setTimeout(()=>{l=null,i(new Xa(`timeout ${t} of ms exceeded`,Xa.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>mt.asap(o),c}},ure=function*(e,t){let a=e.byteLength;if(a<t){yield e;return}let r=0,n;for(;r<a;)n=r+t,yield e.slice(r,n),r=n},hre=async function*(e,t){for await(const a of fre(e))yield*ure(a,t)},fre=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:a,value:r}=await t.read();if(a)break;yield r}}finally{await t.cancel()}},ND=(e,t,a,r)=>{const n=hre(e,t);let i=0,l,o=c=>{l||(l=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await n.next();if(d){o(),c.close();return}let f=u.byteLength;if(a){let p=i+=f;a(p)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),n.return()}},{highWaterMark:2})},kD=64*1024,{isFunction:Ny}=mt,mre=(({Request:e,Response:t})=>({Request:e,Response:t}))(mt.global),{ReadableStream:SD,TextEncoder:CD}=mt.global,AD=(e,...t)=>{try{return!!e(...t)}catch{return!1}},pre=e=>{e=mt.merge.call({skipUndefined:!0},mre,e);const{fetch:t,Request:a,Response:r}=e,n=t?Ny(t):typeof fetch=="function",i=Ny(a),l=Ny(r);if(!n)return!1;const o=n&&Ny(SD),c=n&&(typeof CD=="function"?(v=>g=>v.encode(g))(new CD):async v=>new Uint8Array(await new a(v).arrayBuffer())),d=i&&o&&AD(()=>{let v=!1;const g=new a(ll.origin,{body:new SD,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!g}),u=l&&o&&AD(()=>mt.isReadableStream(new r("").body)),f={stream:u&&(v=>v.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!f[v]&&(f[v]=(g,b)=>{let j=g&&g[v];if(j)return j.call(g);throw new Xa(`Response type '${v}' is not supported`,Xa.ERR_NOT_SUPPORT,b)})});const p=async v=>{if(v==null)return 0;if(mt.isBlob(v))return v.size;if(mt.isSpecCompliantForm(v))return(await new a(ll.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(mt.isArrayBufferView(v)||mt.isArrayBuffer(v))return v.byteLength;if(mt.isURLSearchParams(v)&&(v=v+""),mt.isString(v))return(await c(v)).byteLength},m=async(v,g)=>{const b=mt.toFiniteNumber(v.getContentLength());return b??p(g)};return async v=>{let{url:g,method:b,data:j,signal:N,cancelToken:k,timeout:S,onDownloadProgress:C,onUploadProgress:_,responseType:P,headers:L,withCredentials:U="same-origin",fetchOptions:z}=NU(v),T=t||fetch;P=P?(P+"").toLowerCase():"text";let F=dre([N,k&&k.toAbortSignal()],S),M=null;const I=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let W;try{if(_&&d&&b!=="get"&&b!=="head"&&(W=await m(L,j))!==0){let oe=new a(g,{method:"POST",body:j,duplex:"half"}),D;if(mt.isFormData(j)&&(D=oe.headers.get("content-type"))&&L.setContentType(D),oe.body){const[G,H]=yD(W,J2(wD(_)));j=ND(oe.body,kD,G,H)}}mt.isString(U)||(U=U?"include":"omit");const R=i&&"credentials"in a.prototype,q={...z,signal:F,method:b.toUpperCase(),headers:L.normalize().toJSON(),body:j,duplex:"half",credentials:R?U:void 0};M=i&&new a(g,q);let ae=await(i?T(M,z):T(g,q));const te=u&&(P==="stream"||P==="response");if(u&&(C||te&&I)){const oe={};["status","statusText","headers"].forEach(X=>{oe[X]=ae[X]});const D=mt.toFiniteNumber(ae.headers.get("content-length")),[G,H]=C&&yD(D,J2(wD(C),!0))||[];ae=new r(ND(ae.body,kD,G,()=>{H&&H(),I&&I()}),oe)}P=P||"text";let K=await f[mt.findKey(f,P)||"text"](ae,v);return!te&&I&&I(),await new Promise((oe,D)=>{wU(oe,D,{data:K,headers:so.from(ae.headers),status:ae.status,statusText:ae.statusText,config:v,request:M})})}catch(R){throw I&&I(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new Xa("Network Error",Xa.ERR_NETWORK,v,M),{cause:R.cause||R}):Xa.from(R,R&&R.code,v,M)}}},xre=new Map,kU=e=>{let t=e?e.env:{};const{fetch:a,Request:r,Response:n}=t,i=[r,n,a];let l=i.length,o=l,c,d,u=xre;for(;o--;)c=i[o],d=u.get(c),d===void 0&&u.set(c,d=o?new Map:pre(t)),u=d;return d};kU();const RS={http:Pse,xhr:cre,fetch:{get:kU}};mt.forEach(RS,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const _D=e=>`- ${e}`,gre=e=>mt.isFunction(e)||e===null||e===!1,SU={getAdapter:(e,t)=>{e=mt.isArray(e)?e:[e];const{length:a}=e;let r,n;const i={};for(let l=0;l<a;l++){r=e[l];let o;if(n=r,!gre(r)&&(n=RS[(o=String(r)).toLowerCase()],n===void 0))throw new Xa(`Unknown adapter '${o}'`);if(n&&(mt.isFunction(n)||(n=n.get(t))))break;i[o||"#"+l]=n}if(!n){const l=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=a?l.length>1?`since :
`+l.map(_D).join(`
`):" "+_D(l[0]):"as no adapter specified";throw new Xa("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:RS};function p5(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Nx(null,e)}function TD(e){return p5(e),e.headers=so.from(e.headers),e.data=m5.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),SU.getAdapter(e.adapter||B1.adapter,e)(e).then(function(r){return p5(e),r.data=m5.call(e,e.transformResponse,r),r.headers=so.from(r.headers),r},function(r){return yU(r)||(p5(e),r&&r.response&&(r.response.data=m5.call(e,e.transformResponse,r.response),r.response.headers=so.from(r.response.headers))),Promise.reject(r)})}const CU="1.12.2",Ij={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ij[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const ED={};Ij.transitional=function(t,a,r){function n(i,l){return"[Axios v"+CU+"] Transitional option '"+i+"'"+l+(r?". "+r:"")}return(i,l,o)=>{if(t===!1)throw new Xa(n(l," has been removed"+(a?" in "+a:"")),Xa.ERR_DEPRECATED);return a&&!ED[l]&&(ED[l]=!0,console.warn(n(l," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(i,l,o):!0}};Ij.spelling=function(t){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function vre(e,t,a){if(typeof e!="object")throw new Xa("options must be an object",Xa.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let n=r.length;for(;n-- >0;){const i=r[n],l=t[i];if(l){const o=e[i],c=o===void 0||l(o,i,e);if(c!==!0)throw new Xa("option "+i+" must be "+c,Xa.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Xa("Unknown option "+i,Xa.ERR_BAD_OPTION)}}const O2={assertOptions:vre,validators:Ij},Bd=O2.validators;let W0=class{constructor(t){this.defaults=t||{},this.interceptors={request:new vD,response:new vD}}async request(t,a){try{return await this._request(t,a)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=om(this.defaults,a);const{transitional:r,paramsSerializer:n,headers:i}=a;r!==void 0&&O2.assertOptions(r,{silentJSONParsing:Bd.transitional(Bd.boolean),forcedJSONParsing:Bd.transitional(Bd.boolean),clarifyTimeoutError:Bd.transitional(Bd.boolean)},!1),n!=null&&(mt.isFunction(n)?a.paramsSerializer={serialize:n}:O2.assertOptions(n,{encode:Bd.function,serialize:Bd.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),O2.assertOptions(a,{baseUrl:Bd.spelling("baseURL"),withXsrfToken:Bd.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let l=i&&mt.merge(i.common,i[a.method]);i&&mt.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),a.headers=so.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(a)===!1||(c=c&&g.synchronous,o.unshift(g.fulfilled,g.rejected))});const d=[];this.interceptors.response.forEach(function(g){d.push(g.fulfilled,g.rejected)});let u,f=0,p;if(!c){const v=[TD.bind(this),void 0];for(v.unshift(...o),v.push(...d),p=v.length,u=Promise.resolve(a);f<p;)u=u.then(v[f++],v[f++]);return u}p=o.length;let m=a;for(;f<p;){const v=o[f++],g=o[f++];try{m=v(m)}catch(b){g.call(this,b);break}}try{u=TD.call(this,m)}catch(v){return Promise.reject(v)}for(f=0,p=d.length;f<p;)u=u.then(d[f++],d[f++]);return u}getUri(t){t=om(this.defaults,t);const a=jU(t.baseURL,t.url,t.allowAbsoluteUrls);return gU(a,t.params,t.paramsSerializer)}};mt.forEach(["delete","get","head","options"],function(t){W0.prototype[t]=function(a,r){return this.request(om(r||{},{method:t,url:a,data:(r||{}).data}))}});mt.forEach(["post","put","patch"],function(t){function a(r){return function(i,l,o){return this.request(om(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}W0.prototype[t]=a(),W0.prototype[t+"Form"]=a(!0)});let bre=class AU{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(i){a=i});const r=this;this.promise.then(n=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](n);r._listeners=null}),this.promise.then=n=>{let i;const l=new Promise(o=>{r.subscribe(o),i=o}).then(n);return l.cancel=function(){r.unsubscribe(i)},l},t(function(i,l,o){r.reason||(r.reason=new Nx(i,l,o),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const t=new AbortController,a=r=>{t.abort(r)};return this.subscribe(a),t.signal.unsubscribe=()=>this.unsubscribe(a),t.signal}static source(){let t;return{token:new AU(function(n){t=n}),cancel:t}}};function yre(e){return function(a){return e.apply(null,a)}}function wre(e){return mt.isObject(e)&&e.isAxiosError===!0}const FS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(FS).forEach(([e,t])=>{FS[t]=e});function _U(e){const t=new W0(e),a=nU(W0.prototype.request,t);return mt.extend(a,W0.prototype,t,{allOwnKeys:!0}),mt.extend(a,t,null,{allOwnKeys:!0}),a.create=function(n){return _U(om(e,n))},a}const An=_U(B1);An.Axios=W0;An.CanceledError=Nx;An.CancelToken=bre;An.isCancel=yU;An.VERSION=CU;An.toFormData=Fj;An.AxiosError=Xa;An.Cancel=An.CanceledError;An.all=function(t){return Promise.all(t)};An.spread=yre;An.isAxiosError=wre;An.mergeConfig=om;An.AxiosHeaders=so;An.formToJSON=e=>bU(mt.isHTMLForm(e)?new FormData(e):e);An.getAdapter=SU.getAdapter;An.HttpStatusCode=FS;An.default=An;const{Axios:gHe,AxiosError:vHe,CanceledError:bHe,isCancel:yHe,CancelToken:wHe,VERSION:jHe,all:NHe,Cancel:kHe,isAxiosError:SHe,spread:CHe,toFormData:AHe,AxiosHeaders:_He,HttpStatusCode:THe,formToJSON:EHe,getAdapter:DHe,mergeConfig:MHe}=An,jre={},Nre=typeof import.meta<"u"&&jre?"http://localhost:8787":"/",ya=An.create({baseURL:Nre});ya.interceptors.request.use(e=>{try{const t=window.localStorage.getItem("token");t&&(e.headers=e.headers||{},e.headers.Authorization=`Bearer ${t}`)}catch{}return e});ya.interceptors.response.use(e=>e,e=>{try{if(e?.response?.status===401){window.localStorage.removeItem("token");const a=new CustomEvent("app:toast",{detail:{type:"error",message:"Authentication required"}});window.dispatchEvent(a),typeof window<"u"&&(window.location.hash="#/login")}else{const a=e?.response?.data?.message||e?.message||"Request failed",r=new CustomEvent("app:toast",{detail:{type:"error",message:a}});window.dispatchEvent(r)}}catch{}return Promise.reject(e)});function kre(e,t,a){return t.startsWith("/api/users")?e==="GET"?/\/api\/users\/.+/.test(t)?{id:1,name:"Demo User",email:"demo@example.com",role:"admin"}:[{id:1,name:"Demo User",role:"admin"},{id:2,name:"Agent 1",role:"agent"}]:{ok:!0}:t.startsWith("/api/customers")?e==="GET"?/\/api\/customers\/.+/.test(t)?{id:101,name:"Acme Corp",phone:"+201234567890"}:[{id:101,name:"Acme Corp",phone:"+201234567890"},{id:102,name:"Globex",phone:"+201112223334"}]:{ok:!0}:t.startsWith("/api/visits")?e==="GET"?/\/api\/visits\/.+/.test(t)?{id:201,customerId:101,date:"2025-01-01",notes:"Site visit"}:[{id:201,customerId:101,date:"2025-01-01",notes:"Site visit"},{id:202,customerId:102,date:"2025-01-02",notes:"Follow-up"}]:{ok:!0}:t.startsWith("/api/tasks")?e==="GET"?/\/api\/tasks\/.+/.test(t)?{id:301,title:"Call customer",status:"open",assigneeId:1}:[{id:301,title:"Call customer",status:"open",assigneeId:1},{id:302,title:"Prepare quotation",status:"in_progress",assigneeId:2}]:{ok:!0}:t.startsWith("/api/reports")?{summary:{leads:120,deals:35,revenue:25e4},activities:[{id:1,action:"login",user:"Demo User"}]}:t.startsWith("/api/login")?{token:"demo-token"}:t.startsWith("/api/company-info")?{user:{id:1,name:"Demo User",role:"admin"},company:{id:1,name:"Demo Company"},activeModules:["leads","campaigns","settings"],subscription:{status:"active"}}:{ok:!0}}{const e=t=>async(a,r)=>({data:kre(t,a)});ya.get=e("GET"),ya.post=e("POST"),ya.put=e("PUT"),ya.delete=e("DELETE")}const Sre=async(e,t)=>{const a=await ya.post("/api/login",{email:e,password:t}),r=a?.data?.data?.token||a?.data?.token;r&&window.localStorage.setItem("token",r);const n=new CustomEvent("app:toast",{detail:{type:"success",message:"Logged in"}});return window.dispatchEvent(n),r},Cre=async()=>{const e=await ya.get("/api/company-info");return e?.data?.data||e?.data};function Are(){try{const e=typeof navigator<"u"?navigator:{},t=typeof screen<"u"?screen:{},a=[e.userAgent||"-",e.platform||"-",e.language||"-",(t.width||"-")+"x"+(t.height||"-")].join("|");let r=0;for(let n=0;n<a.length;n++)r=(r<<5)-r+a.charCodeAt(n),r|=0;return"dev-"+Math.abs(r).toString(36)}catch{return"dev-unknown"}}function _re(){const e=typeof navigator<"u"&&navigator.userAgent||"";return/iPhone|iPad|iPod/i.test(e)?"iOS Device":/Android/i.test(e)?"Android Device":/Macintosh/i.test(e)?"Mac":/Windows/i.test(e)?"Windows PC":/Linux/i.test(e)?"Linux PC":"Unknown Device"}function Tre(){const e=typeof navigator<"u"&&navigator.userAgent||"";return/Chrome\//i.test(e)&&!/Edg\//i.test(e)?"Chrome":/Safari\//i.test(e)&&!/Chrome\//i.test(e)?"Safari":/Edg\//i.test(e)?"Edge":/Firefox\//i.test(e)?"Firefox":"Unknown"}function Ere(){const e=Are(),t=_re(),a=Tre(),r=typeof navigator<"u"&&navigator.platform||"unknown",n=typeof navigator<"u"&&navigator.userAgent||"",i=typeof screen<"u"?`${screen.width||"-"}x${screen.height||"-"}`:"-";return{deviceId:e,device:t,browser:a,platform:r,userAgent:n,resolution:i,ip:"N/A",at:new Date().toISOString()}}function TU(e){try{const t=window.localStorage.getItem(`user_devices_${e}`);return t?JSON.parse(t):[]}catch{return[]}}function Dre(e,t){if(!(!e||!t))try{const a=`user_devices_${e}`,r=TU(e),i=r.some(l=>l.deviceId===t.deviceId)?r.map(l=>l.deviceId===t.deviceId?{...t}:l):[t,...r];window.localStorage.setItem(a,JSON.stringify(i))}catch{}}const EU=y.createContext(null);function Mre({children:e}){const[t,a]=y.useState({id:1,name:"Demo User",role:"admin"}),[r,n]=y.useState({id:1,name:"Demo Company"}),[i,l]=y.useState({status:"active",end_date:null}),[o,c]=y.useState(["leads","campaigns","settings"]),[d,u]=y.useState(!0),f=y.useMemo(()=>{if(!i||String(i.status||"").toLowerCase()!=="active")return!1;const N=i.end_date?new Date(i.end_date):null;return N?N.getTime()>=Date.now():!0},[i]),p=y.useCallback(j=>{j&&(a(j.user||{id:1,name:"Demo User",role:"admin"}),n(j.company||{id:1,name:"Demo Company"}),l(j.subscription||{status:"active",end_date:null}),c(Array.isArray(j.activeModules)?j.activeModules:["leads","campaigns","settings"]))},[]),m=y.useCallback(async()=>{const j=await Cre();return p(j),j},[p]),v=y.useCallback(async(j,N)=>{const k=await Sre(j,N),S=await m();try{const C=S?.user?.id||j,_=Ere();Dre(C,_)}catch{}return k},[m]),g=y.useCallback(j=>j?o.includes(j):!1,[o]),b=y.useMemo(()=>({user:t,company:r,subscription:i,activeModules:o,isSubscriptionActive:f,setProfile:p,fetchCompanyInfo:m,login:v,canAccess:g,bootstrapped:d}),[t,r,i,o,f,p,m,v,g]);return y.useEffect(()=>{u(!0)},[]),s.jsx(EU.Provider,{value:b,children:e})}function Bj(){const e=y.useContext(EU);if(!e)throw new Error("useAppState must be used within AppStateProvider");return e}const Pre={primary:"#2563eb",secondary:"#64748b",success:"#16a34a",danger:"#dc2626",warning:"#f59e0b"},Lre={heading:"ui-sans-serif, system-ui, Segoe UI",body:"ui-sans-serif, system-ui, Segoe UI"},DU=y.createContext({theme:"dark",setTheme:()=>{}}),Ore=({children:e})=>{const[t,a]=y.useState(()=>{try{const r=localStorage.getItem("systemPrefs");if(r){const i=JSON.parse(r);if(i&&(i.theme==="light"||i.theme==="dark"))return i.theme}return localStorage.getItem("theme")==="light"?"light":"dark"}catch{return"dark"}});return y.useEffect(()=>{const r=document.documentElement;t==="dark"?(r.classList.add("dark"),r.classList.remove("light")):(r.classList.remove("dark"),r.classList.add("light"));try{localStorage.setItem("theme",t);const n=localStorage.getItem("systemPrefs"),i=n?JSON.parse(n):{};i.theme=t,localStorage.setItem("systemPrefs",JSON.stringify(i))}catch{}},[t]),y.useEffect(()=>{try{const r=localStorage.getItem("systemPrefs");if(r){const n=JSON.parse(r),i=document.documentElement;if(n&&n.density){i.classList.remove("density-compact","density-comfortable","density-default");const l=`density-${n.density}`;i.classList.add(l)}n&&n.direction&&(document.dir=n.direction==="rtl"?"rtl":"ltr")}}catch{}},[]),s.jsx(DU.Provider,{value:{theme:t,setTheme:a,palette:Pre,fonts:Lre},children:e})},Uf=()=>y.useContext(DU),Tm="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='128'%20height='128'%20viewBox='0%200%20128%20128'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%3e%3cdefs%3e%3clinearGradient%20id='brandGradient'%20x1='12'%20y1='12'%20x2='116'%20y2='116'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0%25'%20stop-color='%23ffffff'/%3e%3cstop%20offset='45%25'%20stop-color='%23c7d2fe'/%3e%3c!--%20indigo-200%20--%3e%3cstop%20offset='100%25'%20stop-color='%237c3aed'/%3e%3c!--%20violet-600%20--%3e%3c/linearGradient%3e%3c/defs%3e%3crect%20x='12'%20y='12'%20width='104'%20height='104'%20rx='18'%20stroke='url(%23brandGradient)'%20stroke-width='10'%20/%3e%3c!--%20Stylized%20B%20with%20an%20arrow%20to%20suggest%20simplicity/progress%20--%3e%3cpath%20d='M44%2032%20h24%20c14%200%2022%208%2022%2020%20c0%208%20-5%2014%20-12%2016%20c8%202%2014%208%2014%2018%20c0%2012%20-10%2020%20-24%2020%20H44%20V32%20Z'%20stroke='url(%23brandGradient)'%20stroke-width='10'/%3e%3cpath%20d='M24%2064%20H64'%20stroke='url(%23brandGradient)'%20stroke-width='10'/%3e%3cpath%20d='M64%2064%20l10%20-6%20l-4%206%20l4%206%20z'%20fill='url(%23brandGradient)'/%3e%3c/svg%3e",kx=()=>{const[e,t]=y.useState([]),[a,r]=y.useState([]),n=o=>Array.isArray(o)?o.length===0?[]:typeof o[0]=="string"?o.map(d=>({name:d,nameAr:"",color:"#3b82f6",icon:""})):o.map(d=>({name:d.name||String(d),nameAr:d.nameAr||"",color:d.color||"#3b82f6",icon:d.icon||""})):[],i=()=>{try{const o=JSON.parse(localStorage.getItem("crmStages")||"[]"),c=n(o);return t(c),c}catch{return t([]),[]}},l=()=>{try{const o=JSON.parse(localStorage.getItem("crmStatuses")||"[]"),c=n(o);return r(c),c}catch{return r([]),[]}};return y.useEffect(()=>{i(),l();const o=c=>{c.key==="crmStages"?i():c.key==="crmStatuses"&&l()};return window.addEventListener("storage",o),()=>{window.removeEventListener("storage",o)}},[]),{stages:e,statuses:a,loadStages:i,loadStatuses:l}},Kl=e=>{const t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",className:"w-5 h-5",style:{display:"block"}};switch(e){case"Dashboard":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("rect",{x:"4",y:"4",width:"6",height:"6",rx:"1"}),s.jsx("rect",{x:"14",y:"4",width:"6",height:"4",rx:"1"}),s.jsx("rect",{x:"14",y:"11",width:"6",height:"9",rx:"1"}),s.jsx("rect",{x:"4",y:"13",width:"6",height:"7",rx:"1"})]});case"Lead Management":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("circle",{cx:"12",cy:"8",r:"3"}),s.jsx("path",{d:"M6 21v-2a6 6 0 0112 0v2"})]});case"Inventory":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M3 7l9-4 9 4v10l-9 4-9-4V7"}),s.jsx("path",{d:"M3 7l9 4 9-4"})]});case"Marketing Modules":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M3 10v4l12 4V6L3 10z"}),s.jsx("path",{d:"M19 8v8"}),s.jsx("circle",{cx:"7",cy:"12",r:"2"})]});case"Customers":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("circle",{cx:"8",cy:"9",r:"2.5"}),s.jsx("circle",{cx:"16",cy:"9",r:"2.5"}),s.jsx("path",{d:"M3 20v-1a5 5 0 015-5h8a5 5 0 015 5v1"})]});case"Reports":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M5 20V10"}),s.jsx("path",{d:"M10 20V6"}),s.jsx("path",{d:"M15 20V13"}),s.jsx("path",{d:"M20 20V4"})]});case"User Management":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("circle",{cx:"12",cy:"8",r:"3"}),s.jsx("path",{d:"M4 20v-1a7 7 0 0116 0v1"})]});case"Support":return s.jsx("svg",{...t,"aria-hidden":"true",children:s.jsx("path",{d:"M21 12a9 9 0 10-18 0 3 3 0 003 3h1v3l4-3h6a3 3 0 003-3z"})});case"Settings":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("circle",{cx:"12",cy:"12",r:"2.5"}),s.jsx("path",{d:"M19.4 15a7.5 7.5 0 000-6l-2 .7-1-1.7 1.3-1.6a9 9 0 00-6 0L12 7 10.3 5.4a9 9 0 00-6 0L5.6 7 4.6 8.7l-2-.7a7.5 7.5 0 000 6l2-.7 1 1.7-1.3 1.6a9 9 0 006 0L12 17l1.7 1.6a9 9 0 006 0L18.4 17l1-1.7 2 .7z"})]});case"Recycle Bin":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2"}),s.jsx("path",{d:"M19 6v12a2 2 0 01-2 2H7a2 2 0 01-2-2V6"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"})]});case"Contact us":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("rect",{x:"4",y:"6",width:"16",height:"12",rx:"2"}),s.jsx("path",{d:"M4 8l8 6 8-6"})]});default:return s.jsx("svg",{...t,"aria-hidden":"true",children:s.jsx("circle",{cx:"12",cy:"12",r:"2.5"})})}},Rre=e=>{const t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",className:"w-4 h-4",style:{display:"block"}};switch(e){case"Products":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M12 3l7 4-7 4-7-4 7-4"}),s.jsx("path",{d:"M5 7v7l7 4 7-4V7"})]});case"Items":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M6 6h12"}),s.jsx("path",{d:"M6 12h12"}),s.jsx("path",{d:"M6 18h12"}),s.jsx("circle",{cx:"3",cy:"6",r:"1"}),s.jsx("circle",{cx:"3",cy:"12",r:"1"}),s.jsx("circle",{cx:"3",cy:"18",r:"1"})]});case"Warehouse":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M3 7l9-4 9 4v10l-9 4-9-4V7"}),s.jsx("path",{d:"M7 10h10"}),s.jsx("path",{d:"M7 14h10"}),s.jsx("path",{d:"M7 18h10"})]});case"Suppliers":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("rect",{x:"3",y:"7",width:"12",height:"7",rx:"1"}),s.jsx("path",{d:"M15 10h3l2 3v1h-5v-4"}),s.jsx("circle",{cx:"7",cy:"18",r:"2"}),s.jsx("circle",{cx:"18",cy:"18",r:"2"})]});case"Stock Management":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("rect",{x:"6",y:"4",width:"12",height:"16",rx:"2"}),s.jsx("path",{d:"M9 9h6"}),s.jsx("path",{d:"M9 13h6"}),s.jsx("path",{d:"M9 17h6"})]});case"Transactions":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M5 8h10"}),s.jsx("path",{d:"M13 6l2 2-2 2"}),s.jsx("path",{d:"M19 16h-10"}),s.jsx("path",{d:"M11 14l-2 2 2 2"})]});case"Projects":return s.jsx("svg",{...t,"aria-hidden":"true",children:s.jsx("path",{d:"M3 7a2 2 0 012-2h4l2 2h6a2 2 0 012 2v7a2 2 0 01-2 2H5a2 2 0 01-2-2V7z"})});case"Properties":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M3 10l9-7 9 7"}),s.jsx("path",{d:"M5 10v9h14v-9"}),s.jsx("path",{d:"M10 19v-5h4v5"})]});case"Requests":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"14",rx:"2"}),s.jsx("path",{d:"M7 10h10"}),s.jsx("path",{d:"M7 7h10"})]});case"Buyer Requests":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("circle",{cx:"9",cy:"8",r:"2.5"}),s.jsx("path",{d:"M3 20v-1a6 6 0 016-6"}),s.jsx("path",{d:"M16 7v6"}),s.jsx("path",{d:"M13 10l3 3 3-3"})]});case"Seller Requests":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("circle",{cx:"9",cy:"8",r:"2.5"}),s.jsx("path",{d:"M3 20v-1a6 6 0 016-6"}),s.jsx("path",{d:"M16 13V7"}),s.jsx("path",{d:"M13 10l3-3 3 3"})]});case"Dev Companies":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("rect",{x:"4",y:"5",width:"6",height:"14",rx:"1"}),s.jsx("rect",{x:"12",y:"9",width:"8",height:"10",rx:"1"}),s.jsx("path",{d:"M6 7h2M6 10h2M6 13h2M6 16h2"}),s.jsx("path",{d:"M14 11h2M14 14h2M14 17h2"})]});default:return s.jsx("svg",{...t,"aria-hidden":"true",children:s.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2"})})}},Fre=e=>{const t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",className:"w-4 h-4",style:{display:"block"}};switch(e){case"Dashboard":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("rect",{x:"4",y:"4",width:"6",height:"6",rx:"1"}),s.jsx("rect",{x:"14",y:"4",width:"6",height:"4",rx:"1"}),s.jsx("rect",{x:"14",y:"11",width:"6",height:"9",rx:"1"}),s.jsx("rect",{x:"4",y:"13",width:"6",height:"7",rx:"1"})]});case"Campaigns":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M4 5h10l6 4v6l-6 4H4V5z"}),s.jsx("circle",{cx:"8",cy:"12",r:"2"})]});case"Landing Pages":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("rect",{x:"4",y:"5",width:"16",height:"14",rx:"2"}),s.jsx("path",{d:"M4 9h16"}),s.jsx("path",{d:"M8 13h8"})]});case"Meta Integration":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M6 12c0-3 2-5 5-5s5 2 5 5-2 5-5 5-5-2-5-5z"}),s.jsx("path",{d:"M7 12c1-3 3-5 4-5 2 0 4 4 6 5"})]});case"Leads Performance":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M4 18V6"}),s.jsx("path",{d:"M8 18V10"}),s.jsx("path",{d:"M12 18V8"}),s.jsx("path",{d:"M16 18V13"}),s.jsx("path",{d:"M20 18V5"})]});case"Reports":return s.jsxs("svg",{...t,"aria-hidden":"true",children:[s.jsx("path",{d:"M5 20V10"}),s.jsx("path",{d:"M10 20V6"}),s.jsx("path",{d:"M15 20V13"}),s.jsx("path",{d:"M20 20V4"})]});default:return s.jsx("svg",{...t,"aria-hidden":"true",children:s.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2"})})}},$1=({isOpen:e,onClose:t=()=>{},className:a})=>{const{activeModules:r,user:n}=Bj(),{theme:i}=Uf(),{t:l,i18n:o}=Ct(),c=io(),d=i==="light",u=(o.language||"").toLowerCase(),f=(typeof o.dir=="function"?o.dir(u)==="rtl":u.startsWith("ar"))||typeof document<"u"&&document.documentElement.dir==="rtl",[p,m]=y.useState(!1),v=c.pathname.startsWith("/inventory"),[g,b]=y.useState(()=>{try{if(typeof window<"u"&&window.localStorage){const ee=window.localStorage.getItem("leadMgmtOpen");if(ee==="true")return!0;if(ee==="false")return!1}}catch{}return!1}),j=c.pathname.startsWith("/leads")||c.pathname.startsWith("/recycle");y.useEffect(()=>{if(!j){b(!1);try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("leadMgmtOpen","false")}catch{}}},[c.pathname]),y.useEffect(()=>{if(j){b(!0);try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("leadMgmtOpen","true")}catch{}}},[j]);const N=c.pathname.startsWith("/marketing"),k=c.pathname.startsWith("/marketing/reports"),S=c.pathname.startsWith("/recycle"),[C,_]=y.useState(!1),[P,L]=y.useState(!1),[U,z]=y.useState(!1),[T,F]=y.useState(!1),[M,I]=y.useState(!1),[W,R]=y.useState(!1),[q,ae]=y.useState(!1),[te,K]=y.useState(!1),[oe,D]=y.useState(!1),[G,H]=y.useState(!1),[X,se]=y.useState(!1),[ie,ne]=y.useState(!1),J=ee=>{ae(ee==="profileCompany"),K(ee==="systemSettings"),D(ee==="companySetup"),H(ee==="notifications"),se(ee==="billing"),ne(ee==="dataMgmt")},le=ee=>{J(ee==="profileCompany"&&q||ee==="systemSettings"&&te||ee==="companySetup"&&oe||ee==="notifications"&&G||ee==="billing"&&X||ee==="dataMgmt"&&ie?"":ee)},pe=c.pathname.startsWith("/customers")||c.pathname.startsWith("/sales")||c.pathname.startsWith("/support"),Q=c.pathname.startsWith("/settings"),xe=c.pathname.startsWith("/settings/integrations"),he=c.pathname.startsWith("/settings/operations"),ue=c.pathname.startsWith("/settings/profile"),Le=c.pathname.startsWith("/settings/system"),ze=c.pathname.startsWith("/settings/company-setup"),Ce=c.pathname.startsWith("/settings/notifications"),ce=c.pathname.startsWith("/settings/billing"),Ie=c.pathname.startsWith("/settings/data"),we=String(n?.role||"").toLowerCase(),$e=we.includes("admin")||we.includes("super admin")||we.includes("owner");c.pathname.startsWith("/reports")||c.pathname.startsWith("/marketing/reports");const Be=c.pathname.startsWith("/user-management"),ft=c.pathname.startsWith("/support"),Ke=c.pathname.startsWith("/reports"),Ue=c.pathname.startsWith("/reports/sales"),[tt,ct]=y.useState(()=>{try{if(typeof window<"u"&&window.localStorage){const ee=window.localStorage.getItem("marketingOpen");if(ee==="true")return!0;if(ee==="false")return!1}}catch{}return!1});y.useEffect(()=>{if(!N){ct(!1);try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("marketingOpen","false")}catch{}}},[c.pathname]),y.useEffect(()=>{if(N){b(!1),m(!1),_(!1),L(!1),F(!1),I(!1),R(!1);try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("leadMgmtOpen","false")}catch{}}},[N]),y.useEffect(()=>{ue?J("profileCompany"):ae(!1)},[ue]),y.useEffect(()=>{Le?J("systemSettings"):K(!1)},[Le]),y.useEffect(()=>{ze?J("companySetup"):D(!1)},[ze]),y.useEffect(()=>{Ce?J("notifications"):H(!1)},[Ce]),y.useEffect(()=>{ce?J("billing"):se(!1)},[ce]),y.useEffect(()=>{Ie?J("dataMgmt"):ne(!1)},[Ie]);const Je=g||p||tt||C||P||W||T;y.useEffect(()=>{if(Ke){b(!1),m(!1),_(!1),F(!1),I(!1),R(!1),ct(!1),kt(!1);try{typeof window<"u"&&window.localStorage&&(window.localStorage.setItem("leadMgmtOpen","false"),window.localStorage.setItem("marketingOpen","false"),window.localStorage.setItem("marketingReportsOpen","false"))}catch{}}},[Ke]),y.useEffect(()=>{R(!!Q)},[Q]),y.useEffect(()=>{m(!!v)},[v]),y.useEffect(()=>{_(!!pe)},[pe]),y.useEffect(()=>{I(!!ft)},[ft]),y.useEffect(()=>{F(!!Be)},[Be]),y.useEffect(()=>{L(!!Ke)},[Ke]),y.useEffect(()=>{z(!!Ue)},[Ue]);const[pt,kt]=y.useState(()=>{try{if(typeof window<"u"&&window.localStorage){const ee=window.localStorage.getItem("marketingReportsOpen");if(ee==="true")return!0;if(ee==="false")return!1}}catch{}return!1});y.useEffect(()=>{if(!k)try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("marketingReportsOpen",String(pt))}catch{}},[k,pt]);const{stages:Ot}=kx(),qt=Array.isArray(Ot)?Ot.map(ee=>typeof ee=="string"?{name:ee,nameAr:"",color:"#3B82F6",icon:""}:ee):[],Wt=(()=>{try{return new URLSearchParams(c.search||"").get("stage")||null}catch{return null}})(),[Te,$t]=y.useState(0),qe=y.useMemo(()=>{try{const ee=localStorage.getItem("leadsData");if(!ee)return[];const Se=JSON.parse(ee);return Array.isArray(Se)?Se:[]}catch{return[]}},[Te]),Gt=y.useMemo(()=>{try{const ee=localStorage.getItem("deletedLeads");if(!ee)return[];const Se=JSON.parse(ee);return Array.isArray(Se)?Se:[]}catch{return[]}},[Te]),Yt=S?Gt:qe;y.useEffect(()=>{const ee=()=>$t(Se=>Se+1);return window.addEventListener("storage",ee),window.addEventListener("leadsDataUpdated",ee),window.addEventListener("deletedLeadsUpdated",ee),$t(Se=>Se+1),()=>{window.removeEventListener("storage",ee),window.removeEventListener("leadsDataUpdated",ee),window.removeEventListener("deletedLeadsUpdated",ee)}},[]);const ma=ee=>typeof ee=="string"&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(ee),Ia=ee=>{try{let Se=ee.replace("#","");Se.length===3&&(Se=Se.split("").map(Xe=>Xe+Xe).join(""));const ye=parseInt(Se,16),Ne=ye>>16&255,Ae=ye>>8&255,_e=ye&255;return{r:Ne,g:Ae,b:_e}}catch{return{r:0,g:0,b:0}}},Ca=(ee,Se)=>{const{r:ye,g:Ne,b:Ae}=Ia(ee);return`rgba(${ye}, ${Ne}, ${Ae}, ${Se})`},la={blue:{container:"border-blue-400 dark:border-blue-500 bg-gradient-to-br from-blue-100 via-blue-200 to-blue-300 dark:from-blue-800 dark:via-blue-700 dark:to-blue-600",iconBg:"bg-blue-600 dark:bg-blue-500"},green:{container:"border-green-400 dark:border-green-500 bg-gradient-to-br from-green-100 via-green-200 to-green-300 dark:from-green-800 dark:via-green-700 dark:to-green-600",iconBg:"bg-green-600 dark:bg-green-500"},yellow:{container:"border-yellow-400 dark:border-yellow-500 bg-gradient-to-br from-yellow-100 via-yellow-200 to-yellow-300 dark:from-yellow-800 dark:via-yellow-700 dark:to-yellow-600",iconBg:"bg-yellow-600 dark:bg-yellow-500"},red:{container:"border-red-400 dark:border-red-500 bg-gradient-to-br from-red-100 via-red-200 to-red-300 dark:from-red-800 dark:via-red-700 dark:to-red-600",iconBg:"bg-red-600 dark:bg-red-500"},purple:{container:"border-purple-400 dark:border-purple-500 bg-gradient-to-br from-purple-100 via-purple-200 to-purple-300 dark:from-purple-800 dark:via-purple-700 dark:to-purple-600",iconBg:"bg-purple-600 dark:bg-purple-500"},orange:{container:"border-orange-400 dark:border-orange-500 bg-gradient-to-br from-orange-100 via-orange-200 to-orange-300 dark:from-orange-800 dark:via-orange-700 dark:to-orange-600",iconBg:"bg-orange-600 dark:bg-orange-500"}},qa=d?"bg-gray-100 border-gray-200 text-gray-800":"bg-gray-900 border-gray-800 text-gray-100",Fe=d?"group flex items-center gap-3 px-4 py-1.5 rounded-md text-gray-700 hover:bg-blue-50 transition overflow-hidden":"group flex items-center gap-3 px-4 py-1.5 rounded-md text-gray-200 hover:bg-gray-800 transition overflow-hidden",rt="flex-shrink-0 nova-icon flex items-center justify-center",_t=d?`bg-blue-100 text-blue-700 ${f?"active-link-indicator":"border-l-4"} border-blue-500 font-medium shadow-[inset_0_1px_0_rgba(255,255,255,0.6)]`:`bg-gray-800 text-blue-400 ${f?"active-link-indicator":"border-l-4"} border-blue-500 font-medium`,St=d?"text-gray-500 group-hover:text-blue-600":"text-gray-400 group-hover:text-blue-400",ra=u.startsWith("ar")?"":"Back",Fs=[{to:"/inventory/products",key:"Products"},{to:"/inventory/items",key:"Items"},{to:"/inventory/warehouse",key:"Warehouse"},{to:"/inventory/suppliers",key:"Suppliers"},{to:"/inventory/stock-management",key:"Stock Management"},{to:"/inventory/transactions",key:"Transactions"},{to:"/inventory/projects",key:"Projects"},{to:"/inventory/properties",key:"Properties"},{to:"/inventory/requests",key:"Requests"}],cs=[{to:"/marketing",key:"Dashboard"},{to:"/marketing/campaigns",key:"Campaigns"},{to:"/marketing/landing-pages",key:"Landing Pages"},{to:"/marketing/meta-integration",key:"Meta Integration"}],[es,Ps]=y.useState(!1),[as,pa]=y.useState(!1);return y.useEffect(()=>{Ps(!!xe)},[xe]),y.useEffect(()=>{pa(!!he)},[he]),s.jsxs("aside",{id:"app-sidebar",className:`nova-sidebar group fixed inset-y-0 z-50 ${f?"pl-0 pr-4":"pl-4 pr-0"} py-4 ${qa} flex flex-col h-full relative overflow-x-hidden ${f?"right-0 border-l-0":"left-0 border-r-0"} ${e?"sidebar-open":""} ${a||""}`,children:[s.jsx("button",{type:"button","aria-label":"  ",onClick:ee=>{ee.preventDefault(),ee.stopPropagation(),console.log(" Close button clicked -    "),console.log(" Current isOpen state:",e),console.log(" onClose function exists:",!!t),t?(console.log(" Calling onClose function..."),t(),console.log(" onClose function called successfully")):console.error(" onClose function is not available!")},className:`md:hidden absolute top-4 ${f?"left-4":"right-4"} z-[60] p-3 rounded-full bg-red-500 hover:bg-red-600 active:bg-red-700 focus:outline-none focus:ring-4 focus:ring-red-300 shadow-xl transition-all duration-200 border-2 border-white`,style:{zIndex:9999},children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",className:"w-6 h-6 text-white",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),s.jsxs("div",{className:"logo-brand flex items-center gap-1 mb-1 mt-0",children:[s.jsx("img",{src:Tm,alt:"Be Souhola",className:"w-11 h-11 flex-shrink-0",style:{backgroundColor:"transparent"}}),s.jsxs("div",{className:"flex flex-col leading-tight min-w-0",children:[s.jsx("span",{className:`sidebar-label whitespace-nowrap hidden md:block ${d?"text-[11px] text-[#0b2b4f]":"text-[10px] text-white"}`,children:"Make everything..."}),s.jsx("span",{className:"sidebar-label font-semibold text-base truncate bg-gradient-to-r from-white via-indigo-200 to-indigo-400 bg-clip-text text-transparent drop-shadow-sm",children:"Be Souhola"})]})]}),s.jsx("div",{className:"sidebar-brand-spacer h-0"}),s.jsxs("nav",{className:`flex-1 md:pt-0 overflow-y-hidden overflow-x-hidden mt-0 pb-16 ${p?"inventory-open":""}`,children:[!Je&&!N&&!Ke&&s.jsxs(Bt,{to:"/dashboard",className:({isActive:ee})=>`${Fe} ${ee?_t:""}`,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:Kl("Dashboard")}),s.jsx("span",{className:"link-label",children:l("Dashboard")})]}),s.jsx("span",{className:"ml-auto nova-badge link-label",children:"1"})]}),!N&&!Ke&&(!Je||g)&&r.includes("leads")&&s.jsxs("div",{className:"w-full",children:[g&&s.jsxs("div",{className:`sticky top-0 z-10 flex items-center ${f?"justify-start":"justify-between"} mb-2 ${d?"bg-gray-100":"bg-gray-900"} px-2 py-1`,children:[s.jsxs("button",{type:"button",onClick:()=>b(!1),className:`text-sm font-semibold ${d?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M15 18l-6-6 6-6"})}),s.jsx("span",{children:ra})]}),s.jsx("span",{className:"text-sm font-bold link-label",children:l("Lead Management")})]}),!g&&s.jsxs(Bt,{to:"/leads",onClick:()=>b(!0),className:({isActive:ee})=>`${Fe} w-full justify-between`,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:Kl("Lead Management")}),s.jsx("span",{className:"link-label",children:l("Lead Management")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:g?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:g?"800px":"0",overflow:"hidden",opacity:g?1:0},children:[s.jsx(Bt,{to:"/leads",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:Kl("Lead Management")}),s.jsx("span",{className:"text-[15px] link-label",children:l("Leads")})]})}),s.jsx(Bt,{to:"/leads/new",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:Kl("Lead Management")}),s.jsx("span",{className:"text-[15px] link-label",children:l("Add New Lead")})]})}),s.jsx(Bt,{to:"/recycle",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:Kl("Recycle Bin")}),s.jsx("span",{className:"text-[15px] link-label",children:l("Recycle Bin")})]})}),s.jsx(Bt,{to:"/leads/stages-status",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Stages & Status")})]})}),s.jsxs("div",{className:`mt-1 ${f?"!pr-0":"!pl-0"}`,children:[s.jsx("div",{className:"py-1",children:s.jsx("span",{className:"text-sm font-semibold tracking-wide text-gray-700 dark:text-gray-200",children:l("Stages")})}),s.jsx("div",{className:`inline-block w-64 rounded-md ${d?"bg-blue-50 border border-blue-100":"bg-gray-800 border border-gray-700"} p-2`,children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs(Bt,{to:c.pathname.startsWith("/recycle")?"/recycle":"/leads",className:({isActive:ee})=>`block w-full relative overflow-hidden rounded-md border p-2 shadow-sm hover:shadow-md transition-all ${d?"bg-white/90":"bg-gray-900/60"} border-blue-400 dark:border-blue-500`,style:{...Wt?{}:{borderColor:"#3B82F6"}},children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`${rt} !w-6 !h-6 rounded-lg bg-blue-600 dark:bg-blue-500`,children:s.jsx("span",{className:"text-sm",children:""})}),s.jsx("span",{className:"text-sm font-semibold link-label",children:u.startsWith("ar")?"":"All Leads"})]}),s.jsx("div",{className:"text-xs font-bold bg-white/70 dark:bg-gray-700/70 px-2 py-0.5 rounded-md border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300",children:"100%"})]}),s.jsx("div",{className:"mt-1 text-lg font-black text-gray-900 dark:text-white",children:Yt.length})]}),qt&&qt.length>0?qt.map((ee,Se)=>{const ye=ee?.name||String(ee),Ne=u.startsWith("ar")&&ee?.nameAr||ye,_e=`${c.pathname.startsWith("/recycle")?"/recycle":"/leads"}?stage=${encodeURIComponent(ye)}`,Xe=Wt===ye,ut=Yt.filter(ba=>(ba.stage||ba.status||"").toLowerCase()===ye.toLowerCase()).length,Ye=Yt.length,at=Ye>0?Math.round(ut/Ye*100):0,st=ee?.color||"#3B82F6",Et=ma(st),zt=Et?{borderColor:st,background:`linear-gradient(to bottom right, ${Ca(st,.12)}, ${Ca(st,.24)})`}:void 0,Vt=Et?null:la[st]||la.blue,Mt=Et?"":Vt?.iconBg||"",Kt=Xe?{borderColor:st}:void 0;return s.jsxs(Bt,{to:_e,className:({isActive:ba})=>`block w-full relative overflow-hidden rounded-md border p-2 shadow-sm hover:shadow-md transform hover:scale-[1.01] transition-all ${d?"bg-white/90":"bg-gray-900/60"} ${Vt?.container||""}`,style:{...zt||{},...Kt||{}},children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`${rt} !w-6 !h-6 rounded-lg ${Mt}`,style:Et?{backgroundColor:st}:void 0,children:s.jsx("span",{className:"text-sm",children:ee?.icon||""})}),s.jsx("span",{className:"text-sm font-semibold link-label",children:Ne})]}),s.jsxs("div",{className:"text-xs font-bold bg-white/70 dark:bg-gray-700/70 px-2 py-0.5 rounded-md border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300",children:[at,"%"]})]}),s.jsx("div",{className:"mt-1 text-lg font-black text-gray-900 dark:text-white",children:ut})]},`stage-${Se}-${ye}`)}):s.jsx("div",{className:`text-xs ${d?"text-gray-500":"text-gray-400"} ${f?"!pr-10":"!pl-10"}`,children:l("No stages configured")})]})})]})]})]}),!N&&!Ke&&(!Je||p)&&s.jsxs("div",{className:"w-full",children:[p?s.jsxs("div",{className:`sticky top-0 z-10 flex items-center justify-between mb-2 ${d?"bg-gray-100":"bg-gray-900"} px-2 py-1`,children:[s.jsx("span",{className:"text-sm font-bold link-label",children:l("Inventory")}),s.jsxs("button",{type:"button",onClick:()=>{m(!1),_(!1),R(!1),L(!1)},className:`ml-auto text-sm font-semibold ${d?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M15 18l-6-6 6-6"})}),s.jsx("span",{children:ra})]})]}):s.jsxs("button",{type:"button",onClick:()=>{m(!0),_(!1),R(!1),L(!1)},className:`${Fe} w-full justify-between ${v?"active-parent":""}`,"aria-expanded":p,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:Kl("Inventory")}),s.jsx("span",{className:"link-label",children:l("Inventory")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:p?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsx("div",{className:`${f?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:p?"480px":"0",overflow:"hidden",opacity:p?1:0},children:Fs.map(ee=>s.jsx(Bt,{to:ee.to,className:({isActive:Se})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${Se?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:Rre(ee.key)}),s.jsx("span",{className:"text-[15px] link-label",children:l(ee.key)})]})},ee.to))})]}),!Ke&&(!Je||tt)&&r.includes("campaigns")&&s.jsxs("div",{className:"w-full",children:[(N||tt)&&s.jsxs("div",{className:`sticky top-0 z-10 flex items-center justify-between mb-2 ${d?"bg-gray-100":"bg-gray-900"} px-2 py-1`,children:[s.jsx("span",{className:"text-sm font-bold link-label",children:l("Marketing Modules")}),s.jsxs("button",{type:"button",onClick:()=>{ct(!1);try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("marketingOpen","false")}catch{}},className:`ml-auto text-sm font-semibold ${d?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M15 18l-6-6 6-6"})}),s.jsx("span",{children:ra})]})]}),!tt&&s.jsxs("button",{type:"button",onClick:ee=>{ee.preventDefault(),ee.stopPropagation(),ct(Se=>{const ye=!Se;try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("marketingOpen",String(ye))}catch{}return ye})},className:`${Fe} w-full justify-between ${N?"active-parent":""}`,"aria-expanded":tt,children:[s.jsxs("span",{className:"nova-icon-label min-w-0",children:[s.jsx("span",{className:`${rt} ${St}`,children:Kl("Marketing Modules")}),s.jsx("span",{className:"text-[15px] link-label whitespace-nowrap truncate",children:l("Marketing Modules")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:tt?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsx("div",{className:`${f?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:tt?"360px":"0",overflow:"hidden",opacity:tt?1:0},children:cs.map(ee=>s.jsx(Bt,{to:ee.to,end:ee.to==="/marketing",className:({isActive:Se})=>`${Fe} ${f?"!pr-10":"!pl-10"} ${Se?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:Fre(ee.key)}),s.jsx("span",{className:"text-[15px] link-label",children:l(ee.key)})]})},ee.to))})]}),!N&&!Ke&&(!Je||C)&&s.jsxs("div",{className:"w-full",children:[C?s.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between mb-2 glass-header glass-neon px-2 py-1",children:[s.jsx("span",{className:"text-sm font-bold link-label",children:l("Customers")}),s.jsxs("button",{type:"button",onClick:()=>{_(!1),m(!1),R(!1),L(!1)},className:`ml-auto text-sm font-semibold ${d?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M15 18l-6-6 6-6"})}),s.jsx("span",{children:ra})]})]}):s.jsxs(Bt,{to:"/customers",onClick:()=>{_(!0),m(!1),R(!1),L(!1)},className:({isActive:ee})=>`${Fe} w-full justify-between ${ee?`glass-neon border ${d?"border-blue-200":"border-blue-900"} active-parent`:""}`,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:Kl("Customers")}),s.jsx("span",{className:"link-label",children:l("Customers")})]}),s.jsx("span",{className:"ml-auto nova-badge link-label",children:"12"}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:C?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all glass-neon`,style:{maxHeight:C?"800px":"0",overflow:"hidden",opacity:C?1:0},children:[s.jsx(Bt,{to:"/customers",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:Kl("Customers")}),s.jsx("span",{className:"text-[15px] link-label",children:l("Customers")})]})}),s.jsx(Bt,{to:"/sales/opportunities",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Opportunities")})]})}),s.jsx(Bt,{to:"/sales/quotations",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Quotations")})]})}),s.jsx(Bt,{to:"/sales/orders",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Sales Orders")})]})}),s.jsx(Bt,{to:"/sales/invoices",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Invoices")})]})}),s.jsxs("div",{className:"w-full",children:[s.jsxs("button",{type:"button",onClick:()=>I(ee=>!ee),className:`${Fe} w-full justify-between ${f?"!pr-0":"!pl-0"} ${ft?"active-parent":""}`,"aria-expanded":M,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:Kl("Support")}),s.jsx("span",{className:"text-[15px] link-label",children:l("Support")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:M?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"!pr-0":"!pl-0"} space-y-0.5 transition-all`,style:{maxHeight:M?"600px":"0",overflow:"hidden",opacity:M?1:0},children:[s.jsx(Bt,{to:"/support",end:!0,className:({isActive:ee})=>`${Fe} ${f?"!pr-10":"!pl-10"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Dashboard")})]})}),s.jsx(Bt,{to:"/support/tickets",className:({isActive:ee})=>`${Fe} ${f?"!pr-10":"!pl-10"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Tickets")})]})}),s.jsx(Bt,{to:"/support/customers",className:({isActive:ee})=>`${Fe} ${f?"!pr-10":"!pl-10"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Customers")})]})}),s.jsx(Bt,{to:"/support/sla",className:({isActive:ee})=>`${Fe} ${f?"!pr-10":"!pl-10"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("SLA")})]})}),s.jsx(Bt,{to:"/support/reports",className:({isActive:ee})=>`${Fe} ${f?"!pr-10":"!pl-10"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Reports")})]})}),s.jsx(Bt,{to:"/support/feedbacks",className:({isActive:ee})=>`${Fe} ${f?"!pr-10":"!pl-10"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Feedbacks")})]})})]})]})]})]}),!N&&(!Je||P)&&s.jsxs("div",{className:"w-full",children:[P&&s.jsxs("div",{className:`sticky top-0 z-10 flex items-center justify-between mb-2 ${d?"bg-gray-100":"bg-gray-900"} px-2 py-1`,children:[s.jsx("span",{className:"text-sm font-bold link-label",children:l("Reports")}),s.jsxs("button",{type:"button",onClick:()=>L(!1),className:`ml-auto text-sm font-semibold ${d?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M15 18l-6-6 6-6"})}),s.jsx("span",{children:ra})]})]}),!P&&s.jsxs("button",{type:"button",onClick:()=>L(ee=>!ee),className:`${Fe} w-full justify-between`,"aria-expanded":P,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:Kl("Reports")}),s.jsx("span",{className:"link-label",children:l("Reports")})]}),s.jsx("span",{className:"ml-auto nova-badge link-label",children:"8"}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:P?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:P?"800px":"0",overflow:"hidden",opacity:P?1:0},children:[s.jsx(Bt,{to:"/reports",end:!0,className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Reports Dashboard")})]})}),s.jsxs("div",{className:"w-full",children:[s.jsxs("button",{type:"button",onClick:()=>z(ee=>!ee),className:`${Fe} w-full justify-between ${f?"!pr-0":"!pl-0"}`,"aria-expanded":U,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Sales Report")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:U?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"!pr-0":"!pl-0"} space-y-0.5 transition-all`,style:{maxHeight:U?"800px":"0",overflow:"hidden",opacity:U?1:0},children:[s.jsx(Bt,{to:"/reports/sales/activities",className:({isActive:ee})=>`${Fe} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Sales Activities")})]})}),s.jsx(Bt,{to:"/reports/sales/pipeline",className:({isActive:ee})=>`${Fe} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Leads pipeline")})]})}),s.jsx(Bt,{to:"/reports/sales/meetings",className:({isActive:ee})=>`${Fe} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Meetings Report")})]})}),s.jsx(Bt,{to:"/reports/sales/reservations",className:({isActive:ee})=>`${Fe} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Reservations")})]})}),s.jsx(Bt,{to:"/reports/sales/closed-deals",className:({isActive:ee})=>`${Fe} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Closed Deals")})]})}),s.jsx(Bt,{to:"/reports/sales/rent",className:({isActive:ee})=>`${Fe} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Rent")})]})}),s.jsx(Bt,{to:"/reports/sales/check-in",className:({isActive:ee})=>`${Fe} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Check in Report")})]})}),s.jsx(Bt,{to:"/reports/sales/customers",className:({isActive:ee})=>`${Fe} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Customers Report")})]})}),s.jsx(Bt,{to:"/reports/sales/imports",className:({isActive:ee})=>`${Fe} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Import")})]})}),s.jsx(Bt,{to:"/reports/sales/exports",className:({isActive:ee})=>`${Fe} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Export")})]})})]})]}),s.jsx(Bt,{to:"/reports/leads",className:({isActive:ee})=>`${Fe} ${f?"!pr-10":"!pl-10"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Lead Report")})]})}),s.jsx(Bt,{to:"/reports/team",className:({isActive:ee})=>`${Fe} ${f?"!pr-10":"!pl-10"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Team Report")})]})})]})]}),!N&&!Ke&&(!Je||T)&&s.jsxs("div",{className:"w-full",children:[T?s.jsxs("div",{className:`sticky top-0 z-10 flex items-center justify-between mb-2 ${d?"bg-gray-100":"bg-gray-900"} px-2 py-1`,children:[s.jsx("span",{className:"text-sm font-bold link-label",children:l("User Management")}),s.jsxs("button",{type:"button",onClick:()=>{F(!1),b(!1),m(!1),ct(!1),_(!1),R(!1),L(!1)},className:`ml-auto text-sm font-semibold ${d?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M15 18l-6-6 6-6"})}),s.jsx("span",{children:ra})]})]}):s.jsxs("button",{type:"button",onClick:()=>{F(!0),b(!1),m(!1),ct(!1),_(!1),R(!1),L(!1)},className:`${Fe} w-full justify-between ${Be?"active-parent":""}`,"aria-expanded":T,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:Kl("User Management")}),s.jsx("span",{className:"link-label",children:l("User Management")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:T?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:T?"480px":"0",overflow:"hidden",opacity:T?1:0},children:[s.jsx(Bt,{to:"/user-management/users",className:({isActive:ee})=>`${Fe} ${f?"!pr-10":"!pl-10"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Users")})]})}),s.jsx(Bt,{to:"/user-management/teams",className:({isActive:ee})=>`${Fe} ${f?"!pr-10":"!pl-10"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Teams")})]})}),s.jsx(Bt,{to:"/user-management/departments",className:({isActive:ee})=>`${Fe} ${f?"!pr-10":"!pl-10"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Departments")})]})}),s.jsx(Bt,{to:"/user-management/roles",className:({isActive:ee})=>`${Fe} ${f?"!pr-10":"!pl-10"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Roles")})]})}),s.jsx(Bt,{to:"/user-management/activity-logs",className:({isActive:ee})=>`${Fe} ${f?"!pr-10":"!pl-10"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Activity Logs")})]})}),s.jsx(Bt,{to:"/user-management/access-logs",className:({isActive:ee})=>`${Fe} ${f?"!pr-10":"!pl-10"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Access Logs")})]})})]})]})]}),!N&&!Ke&&(!Je||W)&&r.includes("settings")&&s.jsxs("div",{className:"pt-2 w-full",children:[s.jsx("div",{className:`border-t ${d?"border-gray-200":"border-gray-800"} mb-3`}),W?s.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between mb-2 bg-indigo-50 dark:bg-indigo-900/40 px-3 py-1 rounded-md",children:[s.jsx("span",{className:"text-sm font-bold link-label",children:l("Settings")}),s.jsxs("button",{type:"button",onClick:()=>{R(!1),m(!1),_(!1),L(!1)},className:`ml-auto text-sm font-semibold ${d?"text-gray-700 hover:text-gray-900":"text-gray-200 hover:text-white"} flex items-center gap-2`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M15 18l-6-6 6-6"})}),s.jsx("span",{children:ra})]})]}):s.jsxs(Bt,{to:"/settings/profile",onClick:()=>{R(!0),m(!1),_(!1),L(!1)},className:({isActive:ee})=>`${Fe} w-full justify-between ${Q?"active-parent":""} bg-indigo-50 dark:bg-indigo-900/40 border border-indigo-200 dark:border-indigo-800`,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:Kl("Settings")}),s.jsx("span",{className:"link-label",children:l("Settings")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:W?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-0 pr-0 border-r":"ml-0 pl-0 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:W?"60vh":"0",overflow:W?"auto":"hidden",opacity:W?1:0},children:[s.jsxs("button",{type:"button",onClick:()=>le("profileCompany"),className:`${Fe} w-full justify-between`,"aria-expanded":q,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"link-label",children:l("Profile & Company")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:q?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:q?"300px":"0",overflow:"hidden",opacity:q?1:0},children:[s.jsx(Bt,{end:!0,to:"/settings/profile",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Profile Settings")})]})}),s.jsx(Bt,{to:"/settings/profile/company",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Company Settings")})]})}),s.jsx(Bt,{to:"/settings/profile/contact-info",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Contact Info Settings")})]})})]}),s.jsxs("button",{type:"button",onClick:()=>le("systemSettings"),className:`${Fe} w-full justify-between`,"aria-expanded":te,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"link-label",children:l("System Settings")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:te?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:te?"400px":"0",overflow:"hidden",opacity:te?1:0},children:[s.jsx(Bt,{to:"/settings/system/preferences",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("System Preferences")})]})}),s.jsx(Bt,{to:"/settings/system/modules",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Modules Settings")})]})}),s.jsx(Bt,{to:"/settings/system/security",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Security Settings")})]})}),s.jsx(Bt,{to:"/settings/system/custom-fields",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Custom Fields")})]})}),s.jsx(Bt,{to:"/settings/system/audit-logs",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Audit Logs")})]})})]}),s.jsxs("button",{type:"button",onClick:()=>le("companySetup"),className:`${Fe} w-full justify-between`,"aria-expanded":oe,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"link-label",children:l("Company Setup")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:oe?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:oe?"360px":"0",overflow:"hidden",opacity:oe?1:0},children:[s.jsx(Bt,{to:"/settings/company-setup/info",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Company Info")})]})}),s.jsx(Bt,{to:"/settings/company-setup/subscription",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Subscription")})]})}),s.jsx(Bt,{to:"/settings/company-setup/modules",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Enabled Modules")})]})}),s.jsx(Bt,{to:"/settings/company-setup/departments",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Departments")})]})}),s.jsx(Bt,{to:"/settings/company-setup/visibility",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Visibility")})]})})]}),s.jsxs("button",{type:"button",onClick:()=>le("notifications"),className:`${Fe} w-full justify-between`,"aria-expanded":G,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsxs("span",{className:"link-label nova-multiline leading-tight",children:[s.jsx("span",{className:"block",children:l("Notifications")}),s.jsx("span",{className:"block",children:"&"}),s.jsx("span",{className:"block",children:l("Templates")})]})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:G?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:G?"360px":"0",overflow:"hidden",opacity:G?1:0},children:[s.jsx(Bt,{end:!0,to:"/settings/notifications",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Notifications Settings")})]})}),s.jsx(Bt,{to:"/settings/notifications/sms-templates",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("SMS Templates")})]})}),s.jsx(Bt,{to:"/settings/notifications/email-templates",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Email Templates")})]})}),s.jsx(Bt,{to:"/settings/notifications/whatsapp-templates",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("WhatsApp Templates")})]})})]}),s.jsxs("button",{type:"button",onClick:()=>le("billing"),className:`${Fe} w-full justify-between`,"aria-expanded":X,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"link-label",children:l("Billing & Subscription")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:X?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:X?"320px":"0",overflow:"hidden",opacity:X?1:0},children:[$e&&s.jsx(Bt,{to:"/settings/billing/subscription",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Billing & Subscription")})]})}),s.jsx(Bt,{to:"/settings/billing/payment-history",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Payment History")})]})}),s.jsx(Bt,{to:"/settings/billing/plans-upgrade",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Plans & Upgrade")})]})})]}),s.jsxs("button",{type:"button",onClick:()=>Ps(ee=>!ee),className:`${Fe} w-full justify-between`,"aria-expanded":es,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"link-label",children:l("Integrations")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:es?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:es?"400px":"0",overflow:"hidden",opacity:es?1:0},children:[s.jsx(Bt,{to:"/settings/integrations/api-keys",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("API Keys")})]})}),s.jsx(Bt,{to:"/settings/integrations/webhooks",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Webhooks")})]})}),s.jsx(Bt,{to:"/settings/integrations/whatsapp",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("WhatsApp Integration")})]})}),s.jsx(Bt,{to:"/settings/integrations/payment-gateway",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Payment Gateway Integration")})]})}),s.jsx(Bt,{to:"/settings/integrations/google-slack",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Google / Slack Integrations")})]})})]}),s.jsxs("button",{type:"button",onClick:()=>le("dataMgmt"),className:`${Fe} w-full justify-between`,"aria-expanded":ie,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"link-label",children:l("Data Management")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:ie?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:ie?"320px":"0",overflow:"hidden",opacity:ie?1:0},children:[s.jsx(Bt,{to:"/settings/data/import",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Import")})]})}),s.jsx(Bt,{to:"/settings/data/export",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Export")})]})}),s.jsx(Bt,{to:"/settings/data/backup",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Backup")})]})})]}),s.jsxs("button",{type:"button",onClick:()=>pa(ee=>!ee),className:`${Fe} w-full justify-between`,"aria-expanded":as,children:[s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"link-label",children:l("Configuration")})]}),s.jsx("span",{className:`link-label ${d?"text-gray-500":"text-gray-400"} transition-transform`,style:{transform:as?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsxs("div",{className:`${f?"mr-4 pr-2 border-r":"ml-4 pl-2 border-l"} border-gray-300 dark:border-gray-700 space-y-0.5 transition-all`,style:{maxHeight:as?"800px":"0",overflow:"hidden",opacity:as?1:0},children:[s.jsx(Bt,{to:"/settings/operations/scripting",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Scripting")})]})}),s.jsx(Bt,{to:"/settings/operations/eoi",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("EOI Settings")})]})}),s.jsx(Bt,{to:"/settings/operations/reservation",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Reservation Settings")})]})}),s.jsx(Bt,{to:"/settings/operations/rotation",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Rotation Settings")})]})}),s.jsx(Bt,{to:"/settings/operations/contracts",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Contracts Settings")})]})}),s.jsx(Bt,{to:"/settings/operations/buyer-request-reset",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Buyer Request Reset")})]})}),s.jsx(Bt,{to:"/settings/operations/matching",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Matching Settings")})]})}),s.jsx(Bt,{to:"/settings/operations/rent",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("Rent Configuration")})]})}),s.jsx(Bt,{to:"/settings/operations/cil",className:({isActive:ee})=>`${Fe} ${f?"!pr-0":"!pl-0"} ${ee?_t:""}`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:""}),s.jsx("span",{className:"text-[15px] link-label",children:l("CIL Settings")})]})})]})]})]}),s.jsxs("div",{className:"mt-auto pt-2 w-full",children:[s.jsx("div",{className:`border-t ${d?"border-gray-200":"border-gray-800"} mb-3`}),s.jsx(Bt,{to:"/contact",className:({isActive:ee})=>`${Fe} ${ee?_t:""} bg-emerald-50 dark:bg-emerald-900/40 border border-emerald-200 dark:border-emerald-800`,children:s.jsxs("span",{className:"nova-icon-label",children:[s.jsx("span",{className:`${rt} ${St}`,children:Kl("Contact us")}),s.jsx("span",{className:"link-label",children:l("Contact us")})]})})]})]})};var MU={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},DD=Bn.createContext&&Bn.createContext(MU),Ire=["attr","size","title"];function Bre(e,t){if(e==null)return{};var a=$re(e,t),r,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $re(e,t){if(e==null)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}function Q2(){return Q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Q2.apply(this,arguments)}function MD(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function Z2(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?MD(Object(a),!0).forEach(function(r){Ure(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):MD(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Ure(e,t,a){return t=zre(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function zre(e){var t=Hre(e,"string");return typeof t=="symbol"?t:t+""}function Hre(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PU(e){return e&&e.map((t,a)=>Bn.createElement(t.tag,Z2({key:a},t.attr),PU(t.child)))}function Qt(e){return t=>Bn.createElement(Vre,Q2({attr:Z2({},e.attr)},t),PU(e.child))}function Vre(e){var t=a=>{var{attr:r,size:n,title:i}=e,l=Bre(e,Ire),o=n||a.size||"1em",c;return a.className&&(c=a.className),e.className&&(c=(c?c+" ":"")+e.className),Bn.createElement("svg",Q2({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,r,l,{className:c,style:Z2(Z2({color:e.color||a.color},a.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&Bn.createElement("title",null,i),e.children)};return DD!==void 0?Bn.createElement(DD.Consumer,null,a=>t(a)):t(MU)}function x5(e){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function ky(e){return Qt({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(e)}function Ju(e){return Qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(e)}function Wre(e){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(e)}function LU(e){return Qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(e)}function qre(e){return Qt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 432c-101.69 0-184-82.29-184-184 0-101.69 82.29-184 184-184 101.69 0 184 82.29 184 184 0 101.69-82.29 184-184 184zm0-312c-70.69 0-128 57.31-128 128s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm0 192c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"},child:[]}]})(e)}function Vv(e){return Qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function PD(e){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function Gre(e){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function Kre(e){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function LD(e){return Qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function OD(e){return Qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(e)}function Yre(e){return Qt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm121.2 231.8l-143 141.8c-4.7 4.7-12.3 4.6-17-.1l-82.6-83.3c-4.7-4.7-4.6-12.3.1-17L99.1 285c4.7-4.7 12.3-4.6 17 .1l46 46.4 106-105.2c4.7-4.7 12.3-4.6 17 .1l28.2 28.4c4.7 4.8 4.6 12.3-.1 17z"},child:[]}]})(e)}function Xre(e){return Qt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function RD(e){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function Jre(e){return Qt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(e)}function Qre(e){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function Zre(e){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64V160h160v256zm224 0H288V160h160v256z"},child:[]}]})(e)}function IS(e){return Qt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(e)}function ene(e){return Qt({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(e)}function Qu(e){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function vf(e){return Qt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function Sf(e){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function od(e){return Qt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function tne(e){return Qt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function OU(e){return Qt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function ane(e){return Qt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"},child:[]}]})(e)}function sne(e){return Qt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(e)}function rne(e){return Qt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M218.17 424.14c-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34c-6.37 12.78-25.03 11.37-29.48-2.09L144 386.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.75-16.19 54.06-9.7 66 14.16 1.89 3.78 5.49 5.95 9.36 6.26v-82.12l128-127.09V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24v-40l-128-.11c-16.12-.31-30.58-9.28-37.83-23.75zM384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1zm-96 225.06V416h68.99l161.68-162.78-67.88-67.88L288 346.96zm280.54-179.63l-31.87-31.87c-9.94-9.94-26.07-9.94-36.01 0l-27.25 27.25 67.88 67.88 27.25-27.25c9.95-9.94 9.95-26.07 0-36.01z"},child:[]}]})(e)}function ew(e){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function nne(e){return Qt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(e)}function ine(e){return Qt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM144 32h96c8.8 0 16 7.2 16 16s-7.2 16-16 16h-96c-8.8 0-16-7.2-16-16s7.2-16 16-16zm48 128c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H102.4C90 416 80 407.4 80 396.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z"},child:[]}]})(e)}function FD(e){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function lne(e){return Qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function g5(e){return Qt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M160 448c-25.6 0-51.2-22.4-64-32-64-44.8-83.2-60.8-96-70.4V480c0 17.67 14.33 32 32 32h256c17.67 0 32-14.33 32-32V345.6c-12.8 9.6-32 25.6-96 70.4-12.8 9.6-38.4 32-64 32zm128-192H32c-17.67 0-32 14.33-32 32v16c25.6 19.2 22.4 19.2 115.2 86.4 9.6 6.4 28.8 25.6 44.8 25.6s35.2-19.2 44.8-22.4c92.8-67.2 89.6-67.2 115.2-86.4V288c0-17.67-14.33-32-32-32zm256-96H224c-17.67 0-32 14.33-32 32v32h96c33.21 0 60.59 25.42 63.71 57.82l.29-.22V416h192c17.67 0 32-14.33 32-32V192c0-17.67-14.33-32-32-32zm-32 128h-64v-64h64v64zm-352-96c0-35.29 28.71-64 64-64h224V32c0-17.67-14.33-32-32-32H96C78.33 0 64 14.33 64 32v192h96v-32z"},child:[]}]})(e)}function RU(e){return Qt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function Zu(e){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function $u(e){return Qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function one(e){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(e)}function cne(e){return Qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function ax(e){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function FU(e){return Qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(e)}function ID(e){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function dne(e){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function tu(e){return Qt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function une(e){return Qt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z"},child:[]}]})(e)}function hne(e){return Qt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128 0-70.8 57.3-128 128-128 70.8 0 128 57.3 128 128 0 70.8-57.3 128-128 128z"},child:[]}]})(e)}function BS(e){return Qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function sx(e){return Qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function fne(e){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"},child:[]}]})(e)}function $S(e){return Qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(e)}function BD(e){return Qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 256H152V152.9c0-39.6 31.7-72.5 71.3-72.9 40-.4 72.7 32.1 72.7 72v16c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24v-16C376 68 307.5-.3 223.5 0 139.5.3 72 69.5 72 153.5V256H48c-26.5 0-48 21.5-48 48v160c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function mne(e){return Qt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"},child:[]}]})(e)}function pne(e){return Qt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h274.9c-2.4-6.8-3.4-14-2.6-21.3l6.8-60.9 1.2-11.1 7.9-7.9 77.3-77.3c-24.5-27.7-60-45.5-99.9-45.5zm45.3 145.3l-6.8 61c-1.1 10.2 7.5 18.8 17.6 17.6l60.9-6.8 137.9-137.9-71.7-71.7-137.9 137.8zM633 268.9L595.1 231c-9.3-9.3-24.5-9.3-33.8 0l-37.8 37.8-4.1 4.1 71.8 71.7 41.8-41.8c9.3-9.4 9.3-24.5 0-33.9z"},child:[]}]})(e)}function IU(e){return Qt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function xne(e){return Qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(e)}function tw(e){return Qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function aw(e){return Qt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(e)}const iA=({isOpen:e,onClose:t,onSave:a,lead:r,inline:n=!1})=>{const{t:i,i18n:l}=Ct(),[o,c]=y.useState({type:"call",title:"",description:"",date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().slice(0,5),status:"pending",priority:"medium",assignedTo:"",notes:"",meetingType:"introduction",meetingLocation:"indoor",showSchedule:!1,answerStatus:"answer",selectedQuickOption:null});if(!e)return null;const d=l.language==="ar",u=[{value:"call",label:d?"":"Call",icon:Zu,color:"bg-blue-500"},{value:"follow_up",label:d?"":"Follow up",icon:IS,color:"bg-teal-500"},{value:"meeting",label:d?"":"Meeting",icon:Vv,color:"bg-purple-500"}],f=[{value:"introduction",label:d?" ":"Introduction Meeting"},{value:"follow_up",label:d?" ":"Follow-up Meeting"},{value:"presentation",label:d?" ":"Presentation Meeting"},{value:"negotiation",label:d?" ":"Negotiation Meeting"}],p=[{value:"indoor",label:d?"":"Indoor"},{value:"outdoor",label:d?"":"Outdoor"},{value:"online",label:d?" ":"Online"},{value:"client_office",label:d?" ":"Client Office"}],m=S=>{const{name:C,value:_,type:P,checked:L}=S.target;c(U=>({...U,[C]:P==="checkbox"?L:_}))},v=S=>{const C=new Date;let _;switch(S){case"after_1_hour":_=new Date(C.getTime()+3600*1e3);break;case"after_2_hours":_=new Date(C.getTime()+7200*1e3);break;case"tomorrow":_=new Date(C),_.setDate(_.getDate()+1),_.setHours(9,0,0,0);break;case"next_week":_=new Date(C),_.setDate(_.getDate()+7),_.setHours(9,0,0,0);break;default:return}c(P=>({...P,date:_.toISOString().split("T")[0],time:_.toTimeString().slice(0,5),selectedQuickOption:S}))},g=S=>{S.preventDefault();const C={...o,id:Date.now(),leadId:r?.id,leadName:r?.name,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};a(C),console.log(d?"  :":"Adding new action:",C),c({type:"call",title:"",description:"",date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().slice(0,5),status:"pending",priority:"medium",assignedTo:"",notes:"",meetingType:"introduction",meetingLocation:"indoor",showSchedule:!1,answerStatus:"answer",selectedQuickOption:null}),t()};u.find(S=>S.value===o.type)?.icon;const j=n?"relative p-0":"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-0 sm:p-6",N=n?"bg-gray-800 sm:rounded-lg shadow-xl w-full h-auto max-h-[85vh] overflow-y-auto":"bg-gray-800 sm:rounded-lg shadow-xl w-full sm:max-w-2xl max-h-[85vh] h-auto overflow-y-auto m-0 sm:m-4";y.useEffect(()=>{if(!n&&e){const S=document.body.style.overflow;return document.body.style.overflow="hidden",window.scrollTo({top:0,behavior:"smooth"}),()=>{document.body.style.overflow=S}}},[n,e]);const k=s.jsx("div",{className:j,children:s.jsxs("div",{className:N,children:[s.jsxs("div",{className:"flex items-center justify-between p-8 border-b border-gray-700",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("h2",{className:"text-xl font-semibold text-white",children:d?" ":"Add Action"})}),!n&&s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-300 transition-colors",children:s.jsx(tu,{className:"text-lg"})})})]}),s.jsx("div",{className:"px-8 pt-6",children:s.jsx("p",{className:"text-gray-400 text-sm",children:d?"    ":"Select action type and schedule details"})}),s.jsxs("form",{onSubmit:g,className:"p-8 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:d?" ":"Select type"}),s.jsx("select",{name:"type",value:o.type,onChange:m,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white",children:u.map(S=>s.jsx("option",{value:S.value,children:S.label},S.value))})]}),o.type&&s.jsx("div",{className:`flex ${d?"justify-start":"justify-end"}`,children:s.jsx("button",{type:"button",onClick:()=>c(S=>({...S,answerStatus:S.answerStatus==="answer"?"no_answer":"answer"})),className:`flex items-center gap-3 px-6 py-4 rounded-xl transition-all font-medium backdrop-blur-md bg-white/10 hover:bg-white/20 shadow-2xl shadow-black/30 hover:shadow-black/50 border ${o.answerStatus==="answer"?"text-green-300 hover:text-green-200 shadow-green-500/20 border-green-400/40":"text-red-300 hover:text-red-200 shadow-red-500/20 border-red-400/40"}`,children:o.answerStatus==="answer"?s.jsxs(s.Fragment,{children:[s.jsx(hne,{className:"text-lg text-green-400"}),s.jsx("span",{children:d?"":"Answer"})]}):s.jsxs(s.Fragment,{children:[s.jsx(une,{className:"text-lg text-red-400"}),s.jsx("span",{children:d?"  ":"No Answer"})]})})}),o.type==="meeting"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:d?" ":"Meeting Type"}),s.jsx("select",{name:"meetingType",value:o.meetingType,onChange:m,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white",children:f.map(S=>s.jsx("option",{value:S.value,children:S.label},S.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:d?" ":"Meeting Location"}),s.jsx("select",{name:"meetingLocation",value:o.meetingLocation,onChange:m,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white",children:p.map(S=>s.jsx("option",{value:S.value,children:S.label},S.value))})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text",children:d?" ":"Schedule Date"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"relative",children:s.jsx("input",{type:"datetime-local",name:"date",value:`${o.date}T${o.time}`,onChange:S=>{const[C,_]=S.target.value.split("T");c(P=>({...P,date:C,time:_}))},className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white text-sm pr-12",placeholder:"05/12/2025 23:58:53"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("button",{type:"button",onClick:()=>v("after_1_hour"),className:`px-4 py-2 text-sm rounded-lg border-2 transition-colors ${o.selectedQuickOption==="after_1_hour"?"bg-teal-600 text-white border-teal-500 ring-2 ring-teal-400/40":"bg-gray-700 text-gray-300 border-gray-500 hover:bg-gray-600"}`,children:d?" ":"After 1 hour"}),s.jsx("button",{type:"button",onClick:()=>v("after_2_hours"),className:`px-4 py-2 text-sm rounded-lg border-2 transition-colors ${o.selectedQuickOption==="after_2_hours"?"bg-teal-600 text-white border-teal-500 ring-2 ring-teal-400/40":"bg-gray-700 text-gray-300 border-gray-500 hover:bg-gray-600"}`,children:d?" ":"After 2 hours"})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("button",{type:"button",onClick:()=>v("tomorrow"),className:`px-4 py-2 text-sm rounded-lg border-2 transition-colors ${o.selectedQuickOption==="tomorrow"?"bg-teal-600 text-white border-teal-500 ring-2 ring-teal-400/40":"bg-gray-700 text-gray-300 border-gray-500 hover:bg-gray-600"}`,children:d?"":"Tomorrow"}),s.jsx("button",{type:"button",onClick:()=>v("next_week"),className:`px-4 py-2 text-sm rounded-lg border-2 transition-colors ${o.selectedQuickOption==="next_week"?"bg-teal-600 text-white border-teal-500 ring-2 ring-teal-400/40":"bg-gray-700 text-gray-300 border-gray-500 hover:bg-gray-600"}`,children:d?" ":"Next Week"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",id:"showSchedule",name:"showSchedule",checked:o.showSchedule,onChange:m,className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"showSchedule",className:"text-sm text-gray-300",children:d?" ":"Show my schedule"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:d?" *":"Comment *"}),s.jsx("textarea",{name:"notes",value:o.notes,onChange:m,placeholder:d?"  .      ...":"Write your comment here. Unlimited words are allowed...",rows:"4",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white placeholder-gray-400 resize-none",required:!0})]}),s.jsxs("div",{className:"flex justify-between gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 text-gray-300 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors",children:d?"":"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-md transition-colors",children:d?" ":"Save Action"})]})]})]})});return n?k:Mj.createPortal(k,document.body)},BU="userActionsByDate",gne=()=>{try{const e=localStorage.getItem(BU),t=e?JSON.parse(e):{},a={};return Object.keys(t).forEach(r=>{t[r]&&Array.isArray(t[r])&&(a[r]=t[r].filter(n=>{const i=String(n).toLowerCase();return i.includes("meeting")||i.includes("")||i.includes(" ")||i.includes(" ")||i.includes(" ")||i.includes(" ")}))}),a}catch{return{}}},$D=e=>{try{const t={};Object.keys(e).forEach(a=>{e[a]&&Array.isArray(e[a])&&(t[a]=e[a].filter(r=>{const n=String(r).toLowerCase();return n.includes("meeting")||n.includes("")||n.includes(" ")||n.includes(" ")||n.includes(" ")||n.includes(" ")}))}),localStorage.setItem(BU,JSON.stringify(t))}catch{}},vne=(e,t)=>{const r=new Date(e,t,1).getDay(),n=new Date(e,t+1,0).getDate(),i=new Date(e,t,0).getDate(),l=[];for(let o=0;o<r;o++){const c=i-r+1+o;l.push({date:new Date(e,t-1,c),inMonth:!1})}for(let o=1;o<=n;o++)l.push({date:new Date(e,t,o),inMonth:!0});for(;l.length%7!==0;){const o=l[l.length-1].date,c=new Date(o);c.setDate(o.getDate()+1),l.push({date:c,inMonth:!1})}return l};function bne({open:e,onClose:t,tone:a="light"}){const{t:r,i18n:n}=Ct(),i=a==="light",[l]=y.useState(new Date),[o,c]=y.useState(new Date),[d,u]=y.useState(new Date),[f,p]=y.useState(null),[m,v]=y.useState({}),[g,b]=y.useState(!1),[j,N]=y.useState(!1),[k,S]=y.useState("day"),[C,_]=y.useState(null),[P,L]=y.useState(520),U=Ue=>{L(tt=>Math.max(380,Math.min(800,tt+Ue)))},[z,T]=y.useState(""),[F,M]=y.useState(""),[I,W]=y.useState(""),[R,q]=y.useState(""),[ae,te]=y.useState(""),[K,oe]=y.useState([]),[D,G]=y.useState(!1),[H,X]=y.useState(null),se=[r("All Managers"),"Manager 1","Manager 2","Manager 3"],ie=[r("All Employees"),"Employee 1","Employee 2","Employee 3"],ne=()=>{try{const Ue=JSON.parse(localStorage.getItem("crmStages")||"[]");if(Ue.length>0){const tt=Ue.map(ct=>ct.name||String(ct)).filter(Boolean);oe([r("All Stages"),...tt])}else oe([r("All Stages"),"New Lead","Contacted","Qualified","Proposal","Negotiation","Closed Won","Closed Lost"])}catch(Ue){console.error("Failed to load stages:",Ue),oe([r("All Stages"),"New Lead","Contacted","Qualified","Proposal","Negotiation","Closed Won","Closed Lost"])}},J=()=>{try{const Ue=localStorage.getItem("leads");return Ue?JSON.parse(Ue):[]}catch(Ue){return console.error("Failed to load leads:",Ue),[]}},le=Ue=>J().find(ct=>ct.id===Ue)||null,pe=Ue=>{const tt=le(Ue);tt&&(X(tt),G(!0))};y.useEffect(()=>{const Ue=gne(),tt=qt=>{const Wt=qt.getFullYear(),Te=String(qt.getMonth()+1).padStart(2,"0"),$t=String(qt.getDate()).padStart(2,"0");return`${Wt}-${Te}-${$t}`},ct=new Date(l);ct.setDate(l.getDate()+1);const Je=new Date(l);Je.setDate(l.getDate()+3);const pt=new Date(l);pt.setDate(l.getDate()+7);const kt={[tt(ct)]:[{id:"demo-1",type:"meeting",title:"    ",description:"   ",leadId:"lead_001",leadName:" ",leadPhone:"+966501234567",assignedTo:" ",status:"scheduled",priority:"high",location:" ",time:"10:00"}],[tt(Je)]:[{id:"demo-2",type:"call",title:"Follow-up Call",description:"Follow-up with client about proposal",leadId:"lead_002",leadName:"John Smith",leadPhone:"+1-555-0123",assignedTo:"Sarah Sales",status:"scheduled",priority:"medium",location:"Remote",time:"14:30"}],[tt(pt)]:[{id:"demo-3",type:"meeting",title:"  ",description:"     ",leadId:"lead_003",leadName:" ",leadPhone:"+966509876543",assignedTo:" ",status:"scheduled",priority:"high",location:" ",time:"11:15"}]},Ot={...Ue};Object.entries(kt).forEach(([qt,Wt])=>{Ot[qt]=[...Ot[qt]||[],...Wt]}),v(Ot),$D(Ot),ne(),T(r("All Stages")),M(r("All Managers")),W(r("All Employees")),q(r("All Leads"))},[]),y.useEffect(()=>{T(r("All Stages")),M(r("All Managers")),W(r("All Employees")),q(r("All Leads")),ne()},[n.language]);const Q=o.getFullYear(),xe=o.getMonth(),he=y.useMemo(()=>vne(Q,xe),[Q,xe]),ue=Ue=>{const tt=Ue.getFullYear(),ct=String(Ue.getMonth()+1).padStart(2,"0"),Je=String(Ue.getDate()).padStart(2,"0");return`${tt}-${ct}-${Je}`},Le=Ue=>m[ue(Ue)]||[],ze=Ue=>{const tt=new Date(Ue),ct=tt.getDay();return tt.setDate(tt.getDate()-ct),tt.setHours(0,0,0,0),tt},Ce=Ue=>{const tt=new Date(ze(Ue));return tt.setDate(tt.getDate()+6),tt.setHours(23,59,59,999),tt},ce=Ue=>new Date(Ue.getFullYear(),Ue.getMonth(),1),Ie=Ue=>new Date(Ue.getFullYear(),Ue.getMonth()+1,0),we=(Ue,tt)=>{const ct=[],Je=new Date(Ue);for(;Je<=tt;)ct.push(...Le(Je)),Je.setDate(Je.getDate()+1);return ct},$e=(Ue=10,tt=30)=>{try{const ct=new Date,Je=new Date(ct);Je.setDate(Je.getDate()+tt);const pt=[];Object.entries(m||{}).forEach(([Ot,qt])=>{const Wt=new Date(Ot);qt.forEach(Te=>{const $t=new Date(Wt);if(Te&&Te.time){const[qe,Gt]=String(Te.time).split(":");isNaN(qe)||$t.setHours(parseInt(qe,10)),isNaN(Gt)||$t.setMinutes(parseInt(Gt,10))}pt.push({...Te,_dt:$t})})});let kt=pt.filter(Ot=>Ot._dt>=ct&&Ot._dt<=Je);if(I&&I!==r("All Employees")?kt=kt.filter(Ot=>Ot.assignedTo===I):F&&F!==r("All Managers")&&(kt=kt.filter(Ot=>Ot.assignedTo===F)),R&&R!==r("All Leads")&&(kt=kt.filter(Ot=>Ot.leadName===R)),ae&&String(ae).trim()){const Ot=String(ae).trim().toLowerCase();kt=kt.filter(qt=>(qt.title||"").toLowerCase().includes(Ot)||(qt.description||"").toLowerCase().includes(Ot))}return kt.sort((Ot,qt)=>Ot._dt-qt._dt),kt.slice(0,Ue)}catch{return[]}},Be=Ue=>{let tt=[];if(Ue==="day")tt=Le(l);else if(Ue==="week"){const ct=ze(l),Je=Ce(l);tt=we(ct,Je)}else if(Ue==="month"){const ct=ce(o),Je=Ie(o);tt=we(ct,Je)}else Ue==="upcoming"&&(tt=$e());if(I&&I!==r("All Employees")?tt=tt.filter(ct=>typeof ct!="string"&&ct.assignedTo===I):F&&F!==r("All Managers")&&(tt=tt.filter(ct=>typeof ct!="string"&&ct.assignedTo===F)),R&&R!==r("All Leads")&&(tt=tt.filter(ct=>typeof ct!="string"&&ct.leadName===R)),ae){const ct=String(ae).toLowerCase();tt=tt.filter(Je=>{const pt=typeof Je=="string"?Je:[Je.title,Je.leadName,Je.assignedTo,Je.location].filter(Boolean).join(" ");return String(pt).toLowerCase().includes(ct)})}return tt},ft=y.useMemo(()=>{let tt=Object.values(m).flat();I&&I!==r("All Employees")?tt=tt.filter(Je=>Je.assignedTo===I):F&&F!==r("All Managers")&&(tt=tt.filter(Je=>Je.assignedTo===F));const ct=Array.from(new Set(tt.map(Je=>Je.leadName).filter(Boolean)));return[r("All Leads"),...ct]},[m,I,F,n.language]),Ke=Ue=>{if(Ue.type!=="meeting")return;const tt=d?ue(d):Ue.date,Je=(Ue.title||"").trim()||(Ue.notes?String(Ue.notes).slice(0,60):`${Ue.type} action`),pt={...m,[tt]:[...m[tt]||[],Je]};v(pt),$D(pt),b(!1)};return e?s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-start justify-center pt-10",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px]",onClick:t,"aria-label":"Close calendar"}),s.jsxs("div",{className:`relative w-full h-screen sm:w-[90%] sm:max-w-4xl sm:h-auto sm:max-h-[90vh] overflow-y-auto rounded-none sm:rounded-xl border shadow-2xl ${i?"bg-white border-gray-200 text-gray-800":"bg-gray-900 border-gray-700 text-gray-100"}`,children:[s.jsx("button",{className:`absolute top-4 right-4 z-10 p-2 rounded-md transition-colors ${i?"hover:bg-gray-100 text-gray-500 hover:text-gray-700":"hover:bg-gray-800 text-gray-400 hover:text-gray-200"}`,onClick:t,"aria-label":"Close calendar",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"p-4 pt-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),s.jsxs("div",{children:[s.jsx("h2",{className:`text-base font-semibold ${i?"text-gray-900":"text-white"}`,children:"Calender"}),s.jsx("p",{className:`text-sm ${i?"text-gray-500":"text-gray-400"}`,children:"Select which columns you need to see lead table"})]})]}),s.jsxs("div",{className:`flex flex-col sm:flex-row items-center justify-between px-3 py-2 border-b gap-2 ${i?"bg-gray-50 border-gray-200":"bg-gray-800 border-gray-700"}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:`font-bold text-base ${i?"text-gray-800":"text-white"}`,children:o.toLocaleString(void 0,{month:"long",year:"numeric"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:`p-1 rounded-md ${i?"hover:bg-gray-200":"hover:bg-gray-700"}`,onClick:()=>c(new Date(Q,xe-1,1)),"aria-label":"Prev month",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:s.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),s.jsx("button",{className:`p-1 rounded-md ${i?"hover:bg-gray-200":"hover:bg-gray-700"}`,onClick:()=>c(new Date(Q,xe+1,1)),"aria-label":"Next month",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{className:`px-3 py-1 text-sm font-semibold rounded-md ${i?"bg-gray-200 hover:bg-gray-300":"bg-gray-700 hover:bg-gray-600"}`,onClick:()=>c(new Date),children:"Today"})})]}),s.jsxs("div",{className:"p-3",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("select",{value:z,onChange:Ue=>T(Ue.target.value),className:`px-3 py-1 text-sm rounded-md border ${i?"bg-white border-gray-300 text-gray-700":"bg-gray-700 border-gray-600 text-gray-200"}`,children:K.map(Ue=>s.jsx("option",{value:Ue,children:Ue},Ue))}),s.jsx("select",{value:F,onChange:Ue=>M(Ue.target.value),className:`px-3 py-1 text-sm rounded-md border ${i?"bg-white border-gray-300 text-gray-700":"bg-gray-700 border-gray-600 text-gray-200"}`,children:se.map(Ue=>s.jsx("option",{value:Ue,children:Ue},Ue))}),s.jsx("select",{value:I,onChange:Ue=>W(Ue.target.value),className:`px-3 py-1 text-sm rounded-md border ${i?"bg-white border-gray-300 text-gray-700":"bg-gray-700 border-gray-600 text-gray-200"}`,children:ie.map(Ue=>s.jsx("option",{value:Ue,children:Ue},Ue))}),s.jsx("select",{value:R,onChange:Ue=>q(Ue.target.value),className:`px-3 py-1 text-sm rounded-md border ${i?"bg-white border-gray-300 text-gray-700":"bg-gray-700 border-gray-600 text-gray-200"}`,children:ft.map(Ue=>s.jsx("option",{value:Ue,children:Ue},Ue))})]}),s.jsx("div",{className:"flex-1 md:flex-none",children:s.jsx("input",{type:"search",value:ae,onChange:Ue=>te(Ue.target.value),placeholder:"Search...",className:`w-full md:w-64 px-3 py-1 text-sm rounded-md border ${i?"bg-white border-gray-300 text-gray-700 placeholder-gray-400":"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-400"}`})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-stretch",children:[s.jsxs("div",{className:"min-h-[360px] flex flex-col",style:{height:P},children:[s.jsx("div",{className:"grid grid-cols-7 text-xs opacity-70 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(Ue=>s.jsx("div",{className:"text-center py-1",children:Ue},Ue))}),s.jsx("div",{className:"grid grid-cols-7 gap-1 flex-1 overflow-y-auto",children:he.map(({date:Ue,inMonth:tt},ct)=>{const Je=Ue.toDateString()===l.toDateString();let pt=Le(Ue);return I&&I!==r("All Employees")?pt=pt.filter(kt=>kt.assignedTo===I):F&&F!==r("All Managers")&&(pt=pt.filter(kt=>kt.assignedTo===F)),R&&R!==r("All Leads")&&(pt=pt.filter(kt=>kt.leadName===R)),s.jsx("div",{className:"relative group",children:s.jsxs("button",{onClick:()=>u(Ue),onMouseEnter:()=>p(Ue),onMouseLeave:()=>p(null),className:`text-center rounded-lg border p-2 min-h-[70px] w-full transition-colors duration-150 ${tt?i?"bg-white border-gray-200 hover:bg-gray-100":"bg-gray-800 border-gray-700 hover:bg-gray-700":i?"bg-gray-50 border-gray-200 opacity-50":"bg-gray-900 border-gray-800 opacity-50"} ${Je?"ring-2 ring-indigo-500":""}`,children:[s.jsx("span",{className:"text-sm font-medium",children:Ue.getDate()}),pt.length>0&&s.jsx("span",{className:`mt-1 inline-block w-2 h-2 rounded-full ${i?"bg-indigo-500":"bg-indigo-400"}`})]})},ct)})})]}),s.jsxs("div",{className:"min-h-[360px] flex flex-col",style:{height:P},children:[s.jsxs("div",{className:`rounded-xl border ${i?"bg-white border-gray-200":"bg-gray-800 border-gray-700"} shadow-sm flex-1 flex flex-col overflow-hidden`,children:[s.jsxs("div",{className:`px-4 py-2 border-b flex items-center justify-between ${i?"border-gray-200":"border-gray-700"}`,children:[s.jsx("span",{className:"font-semibold text-sm",children:r("Actions")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex items-center gap-1",children:[{key:"day",label:r("Day")},{key:"week",label:r("Week")},{key:"month",label:r("Month")},{key:"upcoming",label:r("Upcoming")}].map(Ue=>s.jsx("button",{className:`px-2 py-1 text-xs rounded-md border ${i?"border-gray-300":"border-gray-600"} ${k===Ue.key?i?"bg-gray-200":"bg-gray-700":""}`,onClick:()=>S(Ue.key),children:Ue.label},Ue.key))}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{title:r("Decrease height"),className:`px-2 py-1 text-xs rounded-md border ${i?"border-gray-300 hover:bg-gray-100":"border-gray-600 hover:bg-gray-700"}`,onClick:()=>U(-40),children:""}),s.jsx("button",{title:r("Increase height"),className:`px-2 py-1 text-xs rounded-md border ${i?"border-gray-300 hover:bg-gray-100":"border-gray-600 hover:bg-gray-700"}`,onClick:()=>U(40),children:"+"})]})]})]}),s.jsxs("div",{className:"p-3 space-y-2 overflow-y-auto flex-1",children:[Be(k).map((Ue,tt)=>{const ct=typeof Ue=="string"?Ue:Ue.title||"Action",Je=typeof Ue=="string"?"medium":Ue.priority||"medium",pt=Je==="high"?i?"bg-red-100":"bg-red-900/30":Je==="medium"?i?"bg-yellow-100":"bg-yellow-900/30":i?"bg-emerald-100":"bg-emerald-900/30",kt=Je==="high"?i?"text-red-800":"text-red-300":Je==="medium"?i?"text-yellow-800":"text-yellow-300":i?"text-emerald-800":"text-emerald-300",Ot=typeof Ue=="string"?"":Ue.leadName?Ue.leadName:"";return s.jsxs("button",{className:`w-full text-left flex items-center justify-between px-3 py-2 rounded-xl ${pt} cursor-pointer`,onClick:()=>{typeof Ue!="string"&&Ue.leadId?pe(Ue.leadId):_(Ue)},children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${kt} bg-current`}),s.jsxs("div",{children:[s.jsx("div",{className:`text-sm font-medium ${kt}`,children:ct}),Ot&&s.jsx("div",{className:"text-xs opacity-70",children:Ot})]})]}),s.jsx("span",{className:"text-white bg-gray-400/60 rounded-full w-5 h-5 flex items-center justify-center",children:""})]},tt)}),Be(k).length===0&&s.jsx("div",{className:`text-sm ${i?"text-gray-600":"text-gray-300"} opacity-70`,children:r("No actions for selected range.")})]})]}),s.jsxs("div",{className:`mt-3 rounded-xl border ${i?"bg-white border-gray-200":"bg-gray-800 border-gray-700"} shadow-sm`,children:[s.jsx("div",{className:`px-4 py-2 border-b font-semibold text-sm ${i?"border-gray-200":"border-gray-700"}`,children:r("Notifications")}),s.jsxs("div",{className:"p-3 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),s.jsx("span",{children:r("Reminder: Meeting in 15 min.")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),s.jsxs("span",{children:[r("New Lead assigned"),": John Smith"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500"}),s.jsx("span",{children:r("Update: Project status changed to In Progress")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-500"}),s.jsx("span",{children:r("New message received")})]})]})]})]})]})]}),g&&s.jsx(iA,{isOpen:!0,onClose:()=>b(!1),onSave:Ke,lead:null}),C&&s.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>_(null)}),s.jsxs("div",{className:`relative w-[92%] sm:w-[480px] rounded-2xl border shadow-xl ${i?"bg-white border-gray-200 text-gray-800":"bg-gray-800 border-gray-700 text-gray-100"}`,children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"font-semibold text-sm",children:" "}),s.jsx("button",{className:`px-2 py-1 rounded-md text-xs ${i?"bg-gray-100 hover:bg-gray-200":"bg-gray-700 hover:bg-gray-600"}`,onClick:()=>_(null),children:""})]}),s.jsxs("div",{className:"px-4 py-3 space-y-2 text-sm",children:[s.jsx("div",{className:"font-medium",children:typeof C=="string"?C:C.title||"Action"}),typeof C!="string"&&s.jsxs(s.Fragment,{children:[C.description&&s.jsx("div",{className:"opacity-80",children:C.description}),s.jsxs("div",{className:"opacity-75",children:[" ",C.leadName||""," |  ",C.assignedTo||""]}),C.location&&s.jsxs("div",{className:"opacity-75",children:[" ",C.location]}),C.leadPhone&&s.jsxs("div",{className:"opacity-75",children:[" ",C.leadPhone]})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[typeof C!="string"&&C.leadId&&s.jsx("button",{className:"text-xs px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>pe(C.leadId),children:" "}),typeof C!="string"&&C.leadPhone&&s.jsx("button",{className:"text-xs px-2 py-1 bg-green-500 text-white rounded hover:bg-green-600",onClick:()=>window.open(`tel:${C.leadPhone}`,"_self"),children:""}),typeof C!="string"&&C.leadPhone&&s.jsx("button",{className:"text-xs px-2 py-1 bg-emerald-500 text-white rounded hover:bg-emerald-600",onClick:()=>window.open(`https://wa.me/${C.leadPhone.replace("+","")}`,"_blank"),children:""})]})]})]})]}),s.jsx(yne,{lead:H,isOpen:D,onClose:()=>G(!1),isLight:i})]})]})]}):null}function yne({lead:e,isOpen:t,onClose:a,isLight:r}){return!t||!e?null:s.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:a}),s.jsx("div",{className:`relative w-full max-w-md mx-4 rounded-xl border shadow-2xl ${r?"bg-white border-gray-200 text-gray-800":"bg-gray-800 border-gray-700 text-gray-100"}`,children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:" "}),s.jsx("button",{onClick:a,className:`p-2 rounded-md transition-colors ${r?"hover:bg-gray-100 text-gray-500":"hover:bg-gray-700 text-gray-400"}`,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${r?"bg-gray-200 text-gray-600":"bg-gray-700 text-gray-300"}`,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:e.name}),s.jsx("p",{className:`text-sm ${r?"text-gray-600":"text-gray-400"}`,children:e.company||"Individual Client"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{className:`p-3 rounded-lg ${r?"bg-gray-50":"bg-gray-700"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-blue-500",children:s.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),s.jsx("span",{className:"text-sm font-medium",children:""})]}),s.jsx("p",{className:"text-sm",children:e.phone})]}),e.email&&s.jsxs("div",{className:`p-3 rounded-lg ${r?"bg-gray-50":"bg-gray-700"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-green-500",children:[s.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),s.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),s.jsx("span",{className:"text-sm font-medium",children:" "})]}),s.jsx("p",{className:"text-sm",children:e.email})]}),e.stage&&s.jsxs("div",{className:`p-3 rounded-lg ${r?"bg-gray-50":"bg-gray-700"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-purple-500",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-sm font-medium",children:""})]}),s.jsx("p",{className:"text-sm",children:e.stage})]}),e.source&&s.jsxs("div",{className:`p-3 rounded-lg ${r?"bg-gray-50":"bg-gray-700"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-orange-500",children:s.jsx("path",{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-sm font-medium",children:""})]}),s.jsx("p",{className:"text-sm",children:e.source})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsxs("button",{onClick:()=>window.open(`tel:${e.phone}`,"_self"),className:"flex-1 bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:s.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),""]}),s.jsxs("button",{onClick:()=>window.open(`https://wa.me/${e.phone.replace("+","")}`,"_blank"),className:"flex-1 bg-emerald-500 hover:bg-emerald-600 text-white py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),""]})]})]})]})})]})}function Ht({children:e}){const{t,i18n:a}=Ct();a.language;const[r,n]=y.useState(!1),i=`
    .scrollbar-thin-blue { scrollbar-width: thin; scrollbar-color: #2563eb transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar { width: 8px; }
    .scrollbar-thin-blue::-webkit-scrollbar-track { background: transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar-thumb { background-color: #2563eb; border-radius: 9999px; }
    .scrollbar-thin-blue::-webkit-scrollbar-thumb:hover { background-color: #1d4ed8; }
  `;return y.useEffect(()=>(window.matchMedia("(max-width: 768px)").matches&&r?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),()=>document.body.classList.remove("overflow-hidden")),[r]),s.jsxs("div",{className:"app-glass-neon relative min-h-screen bg-[var(--app-bg)] text-[var(--app-text)]",children:[s.jsx($1,{className:"",isOpen:r,onClose:()=>n(!1)}),r&&s.jsx("div",{className:"md:hidden fixed inset-0 bg-black/40 backdrop-blur-sm z-40",onClick:()=>n(!1),"aria-label":"Close sidebar overlay",role:"button"}),s.jsxs("div",{className:"content-container",children:[s.jsx("style",{children:i}),s.jsx(U1,{onMobileToggle:()=>{console.log("toggleMobileSidebar called, current state:",r),n(l=>(console.log("toggleMobileSidebar new state will be:",!l),!l))},mobileSidebarOpen:r}),s.jsx("main",{className:"flex-1 overflow-auto sidebar-scrollbar scrollbar-thin-blue pt-0 px-3 sm:px-4 lg:px-6 pb-4 mt-0 ml-0",children:s.jsx("div",{className:"w-full page-title-auto",children:e})})]})]})}const wne=e=>{const t={className:"w-5 h-5"};switch(e){case"task":return s.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[s.jsx("path",{d:"M9 11l2 2 4-4"}),s.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2"})]});case"lead":return s.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[s.jsx("circle",{cx:"12",cy:"7",r:"4"}),s.jsx("path",{d:"M5.5 21a6.5 6.5 0 0113 0"})]});case"campaign":return s.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[s.jsx("path",{d:"M5 12h14"}),s.jsx("path",{d:"M7 9l3-3 3 3"}),s.jsx("path",{d:"M17 15l-3 3-3-3"})]});case"inventory":return s.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"14",rx:"2"}),s.jsx("path",{d:"M3 10h18"})]});case"comment":return s.jsx("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:s.jsx("path",{d:"M21 15a4 4 0 01-4 4H7l-4 4V7a4 4 0 014-4h10a4 4 0 014 4z"})});case"system":default:return s.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[s.jsx("path",{d:"M12 9v4"}),s.jsx("path",{d:"M12 17h.01"}),s.jsx("circle",{cx:"12",cy:"12",r:"9"})]})}},jne=e=>{try{const t=Date.now()-Number(e||0),a=Math.floor(t/6e4);if(a<1)return"now";if(a<60)return`${a}m`;const r=Math.floor(a/60);return r<24?`${r}h`:`${Math.floor(r/24)}d`}catch{return""}};function Nne({data:e,onToggleRead:t,onArchive:a,onUnarchive:r}){const{t:n}=Ct(),[i,l]=y.useState(!1),o=y.useMemo(()=>{switch(e?.type){case"task":return"text-green-600 dark:text-green-400";case"lead":return"text-blue-600 dark:text-blue-400";case"campaign":return"text-purple-600 dark:text-purple-400";case"inventory":return"text-amber-600 dark:text-amber-400";case"comment":return"text-pink-600 dark:text-pink-400";case"system":default:return"text-gray-600 dark:text-gray-300"}},[e?.type]),c=e?.read?"border-gray-200 dark:border-gray-800":"border-blue-300 dark:border-blue-700",d=e?.read?"bg-[var(--content-bg)]":"bg-blue-50/50 dark:bg-blue-900/10";return s.jsxs("div",{className:`rounded-md border ${c} ${d} p-3 sm:p-4 flex items-start gap-3`,children:[s.jsx("div",{className:`flex-shrink-0 mt-0.5 ${o}`,children:wne(e?.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-medium truncate",children:e?.title||""}),e?.archived&&s.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-gray-200 dark:bg-gray-800 text-gray-600 dark:text-gray-300",children:n("Archived","Archived")}),!e?.read&&s.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-blue-600 text-white",children:n("New","New")})]}),s.jsx("p",{className:"text-sm opacity-80 truncate",children:e?.body||""}),s.jsxs("div",{className:"text-xs opacity-60 mt-0.5",children:[jne(e?.createdAt),"  ",n(e?.source)||e?.source]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>l(u=>!u),className:"btn btn-xs btn-ghost","aria-expanded":i,title:i?n("Collapse","Collapse"):n("Expand","Expand"),children:s.jsx("svg",{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})}),s.jsx("button",{onClick:t,className:"btn btn-xs",title:e?.read?n("Mark as unread","Mark as unread"):n("Mark as read","Mark as read"),children:e?.read?n("Unread","Unread"):n("Read","Read")}),e?.archived?s.jsx("button",{onClick:r,className:"btn btn-xs btn-outline",title:n("Unarchive","Unarchive"),children:n("Unarchive","Unarchive")}):s.jsx("button",{onClick:a,className:"btn btn-xs btn-outline",title:n("Archive","Archive"),children:n("Archive","Archive")})]})]}),i&&s.jsx("div",{className:"pt-3 mt-2 border-t border-gray-200 dark:border-gray-800 text-sm",children:s.jsx("div",{className:"opacity-90 whitespace-pre-wrap",children:e?.body||""})})]})]})}function UD(){const e=Date.now();return[{id:"n1",type:"task",title:"New task assigned",body:"Call client Ibrahim about contract details",createdAt:e-1e3*60*20,read:!1,archived:!1,source:"Tasks"},{id:"n2",type:"lead",title:"New lead imported",body:'Lead "Sara Ali" added from Meta campaign',createdAt:e-1e3*60*60*2,read:!1,archived:!1,source:"Leads"},{id:"n3",type:"campaign",title:"Campaign budget alert",body:"Google Ads daily budget reached 90%",createdAt:e-1e3*60*60*6,read:!0,archived:!1,source:"Marketing"},{id:"n4",type:"inventory",title:"Low stock threshold",body:'Item "SKU-AX12" is running low',createdAt:e-1e3*60*60*12,read:!1,archived:!1,source:"Inventory"},{id:"n5",type:"comment",title:"New comment on Task",body:"Omar: Please update the deadline to Friday",createdAt:e-1e3*60*60*26,read:!0,archived:!1,source:"Tasks"},{id:"n6",type:"system",title:"System updated",body:"CRM Ibrahim v1.2.3 deployed successfully",createdAt:e-1e3*60*60*48,read:!0,archived:!1,source:"System"},{id:"n7",type:"task",title:"Task deadline tomorrow",body:"Prepare product demo materials",createdAt:e-1e3*60*60*4,read:!1,archived:!1,source:"Tasks"},{id:"n8",type:"lead",title:"Lead status changed",body:'Lead "Mohamed" moved to Qualified',createdAt:e-1e3*60*10,read:!1,archived:!1,source:"Leads"}]}const kne=[{value:"All",label:"All"},{value:"task",label:"Tasks"},{value:"lead",label:"Leads"},{value:"campaign",label:"Campaigns"},{value:"inventory",label:"Inventory"},{value:"comment",label:"Comments"},{value:"system",label:"System"}];function $U({embedded:e=!1}){const{t,i18n:a}=Ct();a.language;const[r,n]=y.useState([]),[i,l]=y.useState("all"),[o,c]=y.useState(""),[d,u]=y.useState("All");y.useEffect(()=>{try{const N=localStorage.getItem("notificationsData");if(N){const k=JSON.parse(N);if(Array.isArray(k))n(k);else throw new Error("Invalid notifications")}else{const k=UD();n(k),localStorage.setItem("notificationsData",JSON.stringify(k))}}catch{const N=UD();n(N);try{localStorage.setItem("notificationsData",JSON.stringify(N))}catch{}}},[]);const f=y.useCallback(N=>{n(N);try{localStorage.setItem("notificationsData",JSON.stringify(N)),window.dispatchEvent(new Event("notificationsUpdated"))}catch{}},[]),p=y.useMemo(()=>{const N=o.trim().toLowerCase();return r.filter(k=>!(i==="unread"&&k.read||i==="archived"&&!k.archived||i!=="archived"&&k.archived||d!=="All"&&(k.type||"")!==d||N&&!`${k.title||""} ${k.body||""}`.toLowerCase().includes(N)))},[r,i,o,d]),m=y.useMemo(()=>r.filter(N=>!N.read&&!N.archived).length,[r]),v=()=>{const N=r.map(k=>({...k,read:!0}));f(N)},g=()=>{const N=r.filter(k=>!k.read);f(N)},b=N=>{const k=r.map(S=>S.id===N?{...S,read:!S.read}:S);f(k)},j=(N,k)=>{const S=r.map(C=>C.id===N?{...C,archived:k}:C);f(S)};return s.jsxs("div",{className:`space-y-6 ${e?"p-0":""}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"page-title text-xl font-semibold",children:t("Notifications","Notifications")}),s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 text-xs rounded-full bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",children:[m," ",t("Unread","Unread")]})]}),!e&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:v,className:"btn btn-sm",children:t("Mark all as read","Mark all as read")}),s.jsx("button",{type:"button",onClick:g,className:"btn btn-sm btn-outline",children:t("Clear read","Clear read")})]})]}),s.jsx("div",{className:"h-3","aria-hidden":"true"}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("button",{onClick:()=>l("all"),className:`px-3 py-1.5 text-sm rounded-md border transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 active:scale-[0.98] ${i==="all"?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-transparent border-gray-300 dark:border-gray-700 text-[var(--content-text)] hover:bg-blue-50 dark:hover:bg-blue-900/10 hover:shadow"}`,children:t("All")}),s.jsx("button",{onClick:()=>l("unread"),className:`px-3 py-1.5 text-sm rounded-md border transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 active:scale-[0.98] ${i==="unread"?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-transparent border-gray-300 dark:border-gray-700 text-[var(--content-text)] hover:bg-blue-50 dark:hover:bg-blue-900/10 hover:shadow"}`,children:t("Unread","Unread")}),s.jsx("button",{onClick:()=>l("archived"),className:`px-3 py-1.5 text-sm rounded-md border transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 active:scale-[0.98] ${i==="archived"?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-transparent border-gray-300 dark:border-gray-700 text-[var(--content-text)] hover:bg-blue-50 dark:hover:bg-blue-900/10 hover:shadow"}`,children:t("Archived","Archived")})]}),s.jsx("div",{className:"w-full max-w-xs sm:max-w-sm",children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{value:o,onChange:N=>c(N.target.value),placeholder:t("Search"),className:"w-full rounded-md border border-gray-300 dark:border-gray-700 bg-[var(--content-bg)] text-[var(--content-text)] px-3 py-2 pl-8 pr-3 focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 opacity-60",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[s.jsx("circle",{cx:"11",cy:"11",r:"6"}),s.jsx("path",{d:"M21 21l-4.5-4.5"})]})})]})}),s.jsx("div",{children:s.jsx("select",{value:d,onChange:N=>u(N.target.value),className:"rounded-md border border-gray-300 dark:border-gray-700 bg-[var(--content-bg)] text-[var(--content-text)] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:kne.map(N=>s.jsx("option",{value:N.value,children:t(N.label,N.label)},N.value))})})]}),s.jsx("div",{className:"space-y-2",children:p.length===0?s.jsx("div",{className:"text-center py-16 border border-dashed rounded-md text-sm opacity-75",children:t("No notifications","No notifications")}):p.map(N=>s.jsx(Nne,{data:N,onToggleRead:()=>b(N.id),onArchive:()=>j(N.id,!0),onUnarchive:()=>j(N.id,!1)},N.id))})]})}function Sne(){return s.jsx(Ht,{children:s.jsx($U,{embedded:!1})})}function Cne({onClose:e,variant:t="modal"}){const{t:a,i18n:r}=Ct(),n=r.language==="ar",[i,l]=y.useState("all"),[o,c]=y.useState(""),d=()=>{try{const u={filterField:i,query:o,ts:Date.now()};localStorage.setItem("globalSearch",JSON.stringify(u)),window.dispatchEvent(new CustomEvent("globalSearch",{detail:u}))}catch{}e&&e()};return t==="dropdown"?s.jsx("div",{className:`dropdown-panel absolute top-12 ${n?"left-0":"right-0"} w-80 rounded-xl backdrop-blur-md bg-white/90 dark:bg-gray-900/90 border border-gray-200 dark:border-gray-700 shadow-2xl z-50`,role:"dialog","aria-label":a("Search"),children:s.jsxs("div",{className:"px-4 py-3 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-700 dark:text-gray-300 min-w-[70px]",children:n?"":"Filter"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:i,onChange:u=>l(u.target.value),className:`appearance-none w-56 px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-100 ${n?"pl-8":"pr-8"}`,children:[s.jsx("option",{value:"all",children:n?"":"All"}),s.jsx("option",{value:"lead",children:n?"":"Lead"}),s.jsx("option",{value:"mobile",children:n?"":"Mobile"}),s.jsx("option",{value:"comment",children:n?"":"Comment"}),s.jsx("option",{value:"country",children:n?"":"Country"})]}),s.jsx("span",{className:`pointer-events-none absolute inset-y-0 ${n?"left-2":"right-2"} flex items-center opacity-60`,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-700 dark:text-gray-300 min-w-[70px]",children:a("Search")}),s.jsx("input",{type:"text",value:o,onChange:u=>c(u.target.value),placeholder:n?" ...":"Type to search...",className:"w-56 px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-100"})]}),s.jsxs("div",{className:"pt-2 flex items-center justify-end gap-2 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:()=>{c(""),l("all");try{localStorage.removeItem("globalSearch"),window.dispatchEvent(new Event("globalSearchCleared"))}catch{}},className:"text-xs px-3 py-2 rounded-md bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-700",children:n?"":"Clear"}),s.jsx("button",{onClick:()=>{d(),e&&e()},className:"text-xs px-3 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 text-white",children:n?"":"Search"})]})]})}):s.jsxs("div",{className:"fixed inset-0 z-[100]","aria-label":a("Search"),children:[s.jsx("div",{className:"absolute inset-0 bg-transparent",onClick:e,"aria-label":n?" ":"Close search"}),s.jsxs("div",{className:`absolute top-14 ${n?"left-4":"right-4"} w-[90vw] max-w-md rounded-xl backdrop-blur-md bg-white/90 dark:bg-gray-900/90 border border-gray-200 dark:border-gray-700 shadow-2xl`,role:"dialog","aria-modal":"true",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[s.jsx("div",{className:"text-sm font-semibold",children:a("Search")}),s.jsx("button",{onClick:e,className:"text-xs px-2 py-1 rounded-md bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-700",children:n?"":"Close"})]}),s.jsxs("div",{className:"px-4 py-3 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-700 dark:text-gray-300 min-w-[70px]",children:n?"":"Filter"}),s.jsxs("select",{value:i,onChange:u=>l(u.target.value),className:"flex-1 px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-100",children:[s.jsx("option",{value:"all",children:n?"":"All"}),s.jsx("option",{value:"lead",children:n?"":"Lead"}),s.jsx("option",{value:"mobile",children:n?"":"Mobile"}),s.jsx("option",{value:"comment",children:n?"":"Comment"}),s.jsx("option",{value:"country",children:n?"":"Country"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-700 dark:text-gray-300 min-w-[70px]",children:a("Search")}),s.jsx("input",{type:"text",value:o,onChange:u=>c(u.target.value),placeholder:n?" ...":"Type to search...",className:"flex-1 px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-100"})]}),s.jsxs("div",{className:"pt-2 flex items-center justify-end gap-2 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:()=>{c("")},className:"text-xs px-3 py-2 rounded-md bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-700",children:n?"":"Clear"}),s.jsx("button",{onClick:d,className:"text-xs px-3 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 text-white",children:n?"":"Search"})]})]})]})]})}const Ane=({count:e})=>s.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[10px] font-semibold rounded-full bg-red-500 text-white",children:e}),Xc=({children:e,label:t,className:a,onClick:r,showLabel:n=!0})=>s.jsxs("button",{type:"button",className:a??"btn flex-col gap-1 px-3 py-2",title:t,"aria-label":t,onClick:r,children:[e,n&&s.jsx("span",{className:"text-[8px] leading-none opacity-75 font-medium max-[480px]:hidden",children:t})]});function _ne({isLight:e,onMobileToggle:t,mobileSidebarOpen:a,text:r}){return s.jsxs("div",{className:"flex items-center gap-3 max-[800px]:gap-2 max-[480px]:gap-1 max-[320px]:gap-1 pl-0 ml-0",style:{paddingInlineStart:0,marginInlineStart:0},children:[s.jsx("button",{type:"button",onClick:()=>{typeof t=="function"&&t()},className:`md:hidden inline-flex items-center justify-center p-1.5 rounded-md transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 ${e?"text-gray-600 hover:text-gray-900 hover:bg-gray-100":"text-gray-300 hover:text-white hover:bg-gray-700"}`,"aria-label":a?"Close menu":"Open menu",children:a?s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 text-red-500",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}):s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5 transition-transform duration-300",children:s.jsx("path",{d:"M3 12h18M3 6h18M3 18h18"})})}),s.jsx("span",{className:`text-sm max-[480px]:text-xs font-semibold whitespace-nowrap flex-shrink-0 min-w-fit max-w-[40vw] truncate ${e?"text-gray-800":"text-gray-300"}`,children:r})]})}function U1({onMobileToggle:e,mobileSidebarOpen:t,isSidebarExpanded:a}){const{theme:r,setTheme:n}=Uf(),i=r==="light",{t:l,i18n:o}=Ct(),c=o.language==="ar",d=Ys(),[u,f]=y.useState(!1),[p,m]=y.useState(!1),[v,g]=y.useState(""),[b,j]=y.useState("All"),[N,k]=y.useState(!1),[S,C]=y.useState(!1),[_,P]=y.useState(!1),[L,U]=y.useState(!1),[z,T]=y.useState(0),[F,M]=y.useState(!1),[I,W]=y.useState(!1),R=y.useRef(null),q=y.useRef(null),ae=y.useRef(null);y.useEffect(()=>{try{const le=localStorage.getItem("language")||localStorage.getItem("lang");le&&le!==o.language&&o.changeLanguage(le)}catch{}},[]);const[te,K]=y.useState(!1),oe=()=>{try{const le=localStorage.getItem("notificationsData");if(!le)return 0;const pe=JSON.parse(le);return Array.isArray(pe)?pe.filter(Q=>!Q.read&&!Q.archived).length:0}catch{return 0}};y.useEffect(()=>{const le=()=>T(oe());return le(),window.addEventListener("storage",le),window.addEventListener("notificationsUpdated",le),document.addEventListener("visibilitychange",le),()=>{window.removeEventListener("storage",le),window.removeEventListener("notificationsUpdated",le),document.removeEventListener("visibilitychange",le)}},[]),y.useEffect(()=>{const le=pe=>{p&&R.current&&!R.current.contains(pe.target)&&m(!1),I&&q.current&&!q.current.contains(pe.target)&&W(!1),F&&ae.current&&!ae.current.contains(pe.target)&&M(!1)};return document.addEventListener("mousedown",le),document.addEventListener("touchstart",le),()=>{document.removeEventListener("mousedown",le),document.removeEventListener("touchstart",le)}},[p,I,F]);const D="inline-flex items-center justify-center p-2 rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500",G=i?"text-gray-600 hover:text-gray-800 backdrop-blur-md bg-white/20 hover:bg-white/40 border border-white/30 hover:border-white/50 shadow-lg hover:shadow-xl hover:scale-105 hover:-translate-y-0.5":"text-gray-400 hover:text-gray-200 backdrop-blur-md bg-gray-800/20 hover:bg-gray-700/40 border border-gray-600/30 hover:border-gray-500/50 shadow-lg hover:shadow-xl hover:scale-105 hover:-translate-y-0.5",H=i?"bg-white border-gray-200":"bg-gray-900 border-gray-800",X="flex flex-col items-center justify-center gap-1 p-2 rounded-lg border transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-400/40",se=i?"bg-purple-50 border-purple-200 hover:bg-purple-100 text-purple-700":"bg-purple-900/20 border-purple-600 hover:bg-purple-900/30 text-purple-300",ie=i?"bg-green-50 border-green-200 hover:bg-green-100 text-green-700":"bg-green-900/20 border-green-600 hover:bg-green-900/30 text-green-300",ne=i?"bg-orange-50 border-orange-200 hover:bg-orange-100 text-orange-700":"bg-orange-900/20 border-orange-600 hover:bg-orange-900/30 text-orange-300",J=()=>{n(i?"dark":"light")};return s.jsxs(s.Fragment,{children:[s.jsx("header",{className:`main-header nova-topbar fixed top-0 z-40 border-b ${H}`,children:s.jsxs("div",{className:"header-inner w-full h-14 max-[320px]:h-12 flex items-center justify-between",children:[s.jsx(_ne,{isLight:i,onMobileToggle:e,mobileSidebarOpen:t,text:l("welcome_super_admin","Welcome, Super Admin!")}),s.jsxs("div",{className:"flex items-center gap-2 max-[768px]:gap-1.5 max-[480px]:gap-1",children:[s.jsxs("div",{className:"max-[768px]:hidden relative",ref:R,children:[s.jsx(Xc,{label:l("Search"),className:`${D} ${G} p-1.5 ${p?i?"ring-2 ring-blue-400 bg-white/40":"ring-2 ring-blue-500 bg-gray-800/40":""}`,onClick:()=>m(le=>!le),"aria-expanded":p,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 max-[480px]:w-3 max-[480px]:h-3",children:[s.jsx("circle",{cx:"11",cy:"11",r:"6"}),s.jsx("path",{d:"M21 21l-4.5-4.5"})]})}),p&&s.jsx(Cne,{onClose:()=>m(!1),variant:"dropdown"})]}),s.jsx("div",{children:s.jsx(Xc,{label:l("Calendar"),className:`${D} ${G} ${i?"":"text-white bg-gray-700/40 hover:bg-gray-600/50 border border-gray-500/50"}`,onClick:()=>K(!0),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5 max-[480px]:w-4 max-[480px]:h-4",children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),s.jsx("path",{d:"M3 10h18"}),s.jsx("path",{d:"M8 2v4M16 2v4"})]})})}),s.jsx("div",{className:"max-[768px]:hidden",children:s.jsx(Xc,{label:l("Theme"),className:`${D} ${G}`,onClick:J,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5 max-[480px]:w-4 max-[480px]:h-4",children:[s.jsx("path",{d:"M12 3v1m0 16v1m8-9h-1M4 12H3m15.36-6.36l-.71.71M6.35 17.65l-.71.71m12.01 0l-.71-.71M6.35 6.35l-.71-.71"}),s.jsx("circle",{cx:"12",cy:"12",r:"5"})]})})}),s.jsx("div",{className:"max-[768px]:hidden",children:s.jsx(Xc,{label:l("Tasks"),className:`${D} ${G}`,onClick:()=>d("/tasks"),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("path",{d:"M9 11l2 2 4-4"}),s.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2"})]})})}),s.jsxs("div",{className:"relative",ref:q,children:[s.jsx(Xc,{label:l("Notifications"),className:`${D} ${G} ${I?i?"ring-2 ring-blue-400 bg-white/40":"ring-2 ring-blue-500 bg-gray-800/40":""}`,onClick:()=>W(le=>!le),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5 max-[480px]:w-4 max-[480px]:h-4",children:[s.jsx("path",{d:"M18 8a6 6 0 10-12 0v4l-2 2h16l-2-2V8"}),s.jsx("path",{d:"M13.73 21a2 2 0 01-3.46 0"})]})}),z>0&&s.jsx(Ane,{count:z}),I&&s.jsx("div",{className:`notifications-dropdown dropdown-panel absolute top-12 ${c?"left-0":"right-0"} w-[520px] max-w-[90vw] max-h-[70vh] overflow-auto backdrop-blur-md backdrop-saturate-150 ${i?"bg-white/95 border border-white/40 ring-1 ring-black/10":"bg-gray-900/95 border border-gray-600/40 ring-1 ring-white/10"} rounded-xl shadow-xl z-50`,role:"menu","aria-label":l("Notifications"),children:s.jsx("div",{className:"p-3",children:s.jsx($U,{embedded:!0})})})]}),s.jsxs("div",{className:"max-[768px]:hidden relative",ref:ae,children:[s.jsx(Xc,{label:l("Language"),className:`${D} ${G} ${F?i?"ring-2 ring-blue-400 bg-white/40":"ring-2 ring-blue-500 bg-gray-800/40":""}`,onClick:()=>M(le=>!le),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("circle",{cx:"12",cy:"12",r:"9"}),s.jsx("path",{d:"M3 12h18"}),s.jsx("path",{d:"M12 3v18"})]})}),F&&s.jsxs("div",{className:`dropdown-panel absolute top-12 ${c?"left-0":"right-0"} w-44 backdrop-blur-md ${i?"bg-white/80 border border-white/30":"bg-gray-900/80 border border-gray-600/30"} rounded-xl shadow-2xl z-50`,role:"menu","aria-label":l("Language"),children:[s.jsx("button",{className:"w-full text-center px-4 py-2 text-sm hover:bg-[var(--table-row-hover)]",onClick:()=>{o.changeLanguage("en");try{localStorage.setItem("language","en")}catch{}M(!1)},children:"English"}),s.jsx("button",{className:"w-full text-center px-4 py-2 text-sm hover:bg-[var(--table-row-hover)]",onClick:()=>{o.changeLanguage("ar");try{localStorage.setItem("language","ar")}catch{}M(!1)},children:""})]})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>U(!L),className:`flex items-center gap-2 px-3 py-2 rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 ${i?"backdrop-blur-md bg-white/20 hover:bg-white/40 border border-white/30 hover:border-white/50 shadow-lg hover:shadow-xl hover:scale-105 hover:-translate-y-0.5":"backdrop-blur-md bg-gray-800/20 hover:bg-gray-700/40 border border-gray-600/30 hover:border-gray-500/50 shadow-lg hover:shadow-xl hover:scale-105 hover:-translate-y-0.5"}`,children:[s.jsx("img",{src:"https://i.pravatar.cc/150?u=a042581f4e29026024d",alt:"User",className:"w-8 h-8 rounded-full"}),s.jsxs("div",{className:"max-[880px]:hidden text-left",children:[s.jsx("div",{className:"text-sm font-semibold",children:l("Ibrahim")}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:l("Admin")})]})]}),L&&s.jsxs("div",{className:`dropdown-panel absolute top-12 ${c?"left-0":"right-0"} w-64 backdrop-blur-md ${i?"bg-white/80":"bg-gray-900/80"} border ${i?"border-white/30":"border-gray-600/30"} rounded-xl shadow-2xl z-50`,role:"menu","aria-label":l("Profile menu"),children:[s.jsx("div",{className:`absolute -top-2 ${c?"left-6":"right-6"} w-3 h-3 backdrop-blur-md ${i?"bg-white/80":"bg-gray-900/80"} border-t border-l ${i?"border-white/30":"border-gray-600/30"} rotate-45`}),s.jsxs("div",{className:"px-4 py-3 flex items-center gap-3",children:[s.jsx("img",{src:"https://i.pravatar.cc/150?u=a042581f4e29026024d",alt:"User",className:"w-10 h-10 rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-semibold",children:l("Ibrahim")}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:l("Admin")})]})]}),s.jsx("div",{className:"h-px bg-[var(--divider)]"}),s.jsxs("button",{onClick:()=>console.log("Profile: Change Photo"),className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-[var(--content-text)] hover:bg-[var(--table-row-hover)] transition-colors",role:"menuitem",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[s.jsx("rect",{x:"3",y:"5",width:"14",height:"12",rx:"2"}),s.jsx("circle",{cx:"10",cy:"11",r:"3"}),s.jsx("path",{d:"M17 8l4-2v10l-4-2"})]}),s.jsx("span",{children:l("Change Photo")})]}),s.jsxs("button",{onClick:()=>console.log("Profile: Edit Information"),className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-[var(--content-text)] hover:bg-[var(--table-row-hover)] transition-colors",role:"menuitem",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[s.jsx("path",{d:"M12 20h9"}),s.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 113 3L7 19l-4 1 1-4 12.5-12.5z"})]}),s.jsx("span",{children:l("Edit Information")})]})]})]}),s.jsx("div",{className:"md:hidden",children:s.jsx(Xc,{label:l("More"),className:`${D} ${G}`,onClick:()=>P(!_),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("circle",{cx:"12",cy:"12",r:"1"}),s.jsx("circle",{cx:"19",cy:"12",r:"1"}),s.jsx("circle",{cx:"5",cy:"12",r:"1"})]})})})]})]})}),_&&s.jsx("div",{className:"md:hidden fixed inset-x-0 bottom-0 z-40",children:s.jsx("div",{className:`py-3 px-3 border-t backdrop-blur-sm ${H}`,children:s.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[s.jsx(Xc,{label:l("Search"),className:`${X} ${se} p-1.5`,onClick:()=>m(le=>!le),"aria-expanded":p,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[s.jsx("circle",{cx:"11",cy:"11",r:"6"}),s.jsx("path",{d:"M21 21l-4.5-4.5"})]})}),s.jsx(Xc,{label:l("Tasks"),className:`${X} ${ie}`,onClick:()=>{P(!1),d("/tasks")},children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}),s.jsx("path",{d:"M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"})]})}),s.jsx(Xc,{label:l("Language"),className:`${X} ${ne}`,onClick:()=>{const le=o.language==="en"?"ar":"en";o.changeLanguage(le);try{localStorage.setItem("language",le)}catch{}},children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("circle",{cx:"12",cy:"12",r:"9"}),s.jsx("path",{d:"M3 12h18"}),s.jsx("path",{d:"M12 3v18"})]})}),s.jsx(Xc,{label:l("Theme"),className:`${X} ${i?"bg-gray-100 border-gray-200 text-gray-600":"bg-gray-800 border-gray-700 text-gray-300"}`,onClick:J,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("path",{d:"M12 3v1m0 16v1m8-9h-1M4 12H3m15.36-6.36l-.71.71M6.35 17.65l-.71.71m12.01 0l-.71-.71M6.35 6.35l-.71-.71"}),s.jsx("circle",{cx:"12",cy:"12",r:"5"})]})})]})})}),te&&s.jsx(bne,{open:te,onClose:()=>K(!1)})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function z1(e){return e+.5|0}const bf=(e,t,a)=>Math.max(Math.min(e,a),t);function av(e){return bf(z1(e*2.55),0,255)}function Cf(e){return bf(z1(e*255),0,255)}function Iu(e){return bf(z1(e/2.55)/100,0,1)}function zD(e){return bf(z1(e*100),0,100)}const sc={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},US=[..."0123456789ABCDEF"],Tne=e=>US[e&15],Ene=e=>US[(e&240)>>4]+US[e&15],Sy=e=>(e&240)>>4===(e&15),Dne=e=>Sy(e.r)&&Sy(e.g)&&Sy(e.b)&&Sy(e.a);function Mne(e){var t=e.length,a;return e[0]==="#"&&(t===4||t===5?a={r:255&sc[e[1]]*17,g:255&sc[e[2]]*17,b:255&sc[e[3]]*17,a:t===5?sc[e[4]]*17:255}:(t===7||t===9)&&(a={r:sc[e[1]]<<4|sc[e[2]],g:sc[e[3]]<<4|sc[e[4]],b:sc[e[5]]<<4|sc[e[6]],a:t===9?sc[e[7]]<<4|sc[e[8]]:255})),a}const Pne=(e,t)=>e<255?t(e):"";function Lne(e){var t=Dne(e)?Tne:Ene;return e?"#"+t(e.r)+t(e.g)+t(e.b)+Pne(e.a,t):void 0}const One=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function UU(e,t,a){const r=t*Math.min(a,1-a),n=(i,l=(i+e/30)%12)=>a-r*Math.max(Math.min(l-3,9-l,1),-1);return[n(0),n(8),n(4)]}function Rne(e,t,a){const r=(n,i=(n+e/60)%6)=>a-a*t*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function Fne(e,t,a){const r=UU(e,1,.5);let n;for(t+a>1&&(n=1/(t+a),t*=n,a*=n),n=0;n<3;n++)r[n]*=1-t-a,r[n]+=t;return r}function Ine(e,t,a,r,n){return e===n?(t-a)/r+(t<a?6:0):t===n?(a-e)/r+2:(e-t)/r+4}function lA(e){const a=e.r/255,r=e.g/255,n=e.b/255,i=Math.max(a,r,n),l=Math.min(a,r,n),o=(i+l)/2;let c,d,u;return i!==l&&(u=i-l,d=o>.5?u/(2-i-l):u/(i+l),c=Ine(a,r,n,u,i),c=c*60+.5),[c|0,d||0,o]}function oA(e,t,a,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,a,r)).map(Cf)}function cA(e,t,a){return oA(UU,e,t,a)}function Bne(e,t,a){return oA(Fne,e,t,a)}function $ne(e,t,a){return oA(Rne,e,t,a)}function zU(e){return(e%360+360)%360}function Une(e){const t=One.exec(e);let a=255,r;if(!t)return;t[5]!==r&&(a=t[6]?av(+t[5]):Cf(+t[5]));const n=zU(+t[2]),i=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?r=Bne(n,i,l):t[1]==="hsv"?r=$ne(n,i,l):r=cA(n,i,l),{r:r[0],g:r[1],b:r[2],a}}function zne(e,t){var a=lA(e);a[0]=zU(a[0]+t),a=cA(a),e.r=a[0],e.g=a[1],e.b=a[2]}function Hne(e){if(!e)return;const t=lA(e),a=t[0],r=zD(t[1]),n=zD(t[2]);return e.a<255?`hsla(${a}, ${r}%, ${n}%, ${Iu(e.a)})`:`hsl(${a}, ${r}%, ${n}%)`}const HD={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},VD={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Vne(){const e={},t=Object.keys(VD),a=Object.keys(HD);let r,n,i,l,o;for(r=0;r<t.length;r++){for(l=o=t[r],n=0;n<a.length;n++)i=a[n],o=o.replace(i,HD[i]);i=parseInt(VD[l],16),e[o]=[i>>16&255,i>>8&255,i&255]}return e}let Cy;function Wne(e){Cy||(Cy=Vne(),Cy.transparent=[0,0,0,0]);const t=Cy[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const qne=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Gne(e){const t=qne.exec(e);let a=255,r,n,i;if(t){if(t[7]!==r){const l=+t[7];a=t[8]?av(l):bf(l*255,0,255)}return r=+t[1],n=+t[3],i=+t[5],r=255&(t[2]?av(r):bf(r,0,255)),n=255&(t[4]?av(n):bf(n,0,255)),i=255&(t[6]?av(i):bf(i,0,255)),{r,g:n,b:i,a}}}function Kne(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Iu(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const v5=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Sp=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Yne(e,t,a){const r=Sp(Iu(e.r)),n=Sp(Iu(e.g)),i=Sp(Iu(e.b));return{r:Cf(v5(r+a*(Sp(Iu(t.r))-r))),g:Cf(v5(n+a*(Sp(Iu(t.g))-n))),b:Cf(v5(i+a*(Sp(Iu(t.b))-i))),a:e.a+a*(t.a-e.a)}}function Ay(e,t,a){if(e){let r=lA(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*a,t===0?360:1)),r=cA(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function HU(e,t){return e&&Object.assign(t||{},e)}function WD(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Cf(e[3]))):(t=HU(e,{r:0,g:0,b:0,a:1}),t.a=Cf(t.a)),t}function Xne(e){return e.charAt(0)==="r"?Gne(e):Une(e)}let VU=class zS{constructor(t){if(t instanceof zS)return t;const a=typeof t;let r;a==="object"?r=WD(t):a==="string"&&(r=Mne(t)||Wne(t)||Xne(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=HU(this._rgb);return t&&(t.a=Iu(t.a)),t}set rgb(t){this._rgb=WD(t)}rgbString(){return this._valid?Kne(this._rgb):void 0}hexString(){return this._valid?Lne(this._rgb):void 0}hslString(){return this._valid?Hne(this._rgb):void 0}mix(t,a){if(t){const r=this.rgb,n=t.rgb;let i;const l=a===i?.5:a,o=2*l-1,c=r.a-n.a,d=((o*c===-1?o:(o+c)/(1+o*c))+1)/2;i=1-d,r.r=255&d*r.r+i*n.r+.5,r.g=255&d*r.g+i*n.g+.5,r.b=255&d*r.b+i*n.b+.5,r.a=l*r.a+(1-l)*n.a,this.rgb=r}return this}interpolate(t,a){return t&&(this._rgb=Yne(this._rgb,t._rgb,a)),this}clone(){return new zS(this.rgb)}alpha(t){return this._rgb.a=Cf(t),this}clearer(t){const a=this._rgb;return a.a*=1-t,this}greyscale(){const t=this._rgb,a=z1(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=a,this}opaquer(t){const a=this._rgb;return a.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ay(this._rgb,2,t),this}darken(t){return Ay(this._rgb,2,-t),this}saturate(t){return Ay(this._rgb,1,t),this}desaturate(t){return Ay(this._rgb,1,-t),this}rotate(t){return zne(this._rgb,t),this}};/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Pu(){}const Jne=(()=>{let e=0;return()=>e++})();function fs(e){return e==null}function Pr(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function vs(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function rn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Ao(e,t){return rn(e)?e:t}function Ka(e,t){return typeof e>"u"?t:e}const Qne=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,WU=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function ur(e,t,a){if(e&&typeof e.call=="function")return e.apply(a,t)}function Ws(e,t,a,r){let n,i,l;if(Pr(e))for(i=e.length,n=0;n<i;n++)t.call(a,e[n],n);else if(vs(e))for(l=Object.keys(e),i=l.length,n=0;n<i;n++)t.call(a,e[l[n]],l[n])}function sw(e,t){let a,r,n,i;if(!e||!t||e.length!==t.length)return!1;for(a=0,r=e.length;a<r;++a)if(n=e[a],i=t[a],n.datasetIndex!==i.datasetIndex||n.index!==i.index)return!1;return!0}function rw(e){if(Pr(e))return e.map(rw);if(vs(e)){const t=Object.create(null),a=Object.keys(e),r=a.length;let n=0;for(;n<r;++n)t[a[n]]=rw(e[a[n]]);return t}return e}function qU(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Zne(e,t,a,r){if(!qU(e))return;const n=t[e],i=a[e];vs(n)&&vs(i)?Wv(n,i,r):t[e]=rw(i)}function Wv(e,t,a){const r=Pr(t)?t:[t],n=r.length;if(!vs(e))return e;a=a||{};const i=a.merger||Zne;let l;for(let o=0;o<n;++o){if(l=r[o],!vs(l))continue;const c=Object.keys(l);for(let d=0,u=c.length;d<u;++d)i(c[d],e,l,a)}return e}function fv(e,t){return Wv(e,t,{merger:eie})}function eie(e,t,a){if(!qU(e))return;const r=t[e],n=a[e];vs(r)&&vs(n)?fv(r,n):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=rw(n))}const qD={"":e=>e,x:e=>e.x,y:e=>e.y};function tie(e){const t=e.split("."),a=[];let r="";for(const n of t)r+=n,r.endsWith("\\")?r=r.slice(0,-1)+".":(a.push(r),r="");return a}function aie(e){const t=tie(e);return a=>{for(const r of t){if(r==="")break;a=a&&a[r]}return a}}function Tf(e,t){return(qD[t]||(qD[t]=aie(t)))(e)}function dA(e){return e.charAt(0).toUpperCase()+e.slice(1)}const qv=e=>typeof e<"u",Ef=e=>typeof e=="function",GD=(e,t)=>{if(e.size!==t.size)return!1;for(const a of e)if(!t.has(a))return!1;return!0};function sie(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Ds=Math.PI,yr=2*Ds,rie=yr+Ds,nw=Number.POSITIVE_INFINITY,nie=Ds/180,Sn=Ds/2,j0=Ds/4,KD=Ds*2/3,yf=Math.log10,Jd=Math.sign;function mv(e,t,a){return Math.abs(e-t)<a}function YD(e){const t=Math.round(e);e=mv(e,t,e/1e3)?t:e;const a=Math.pow(10,Math.floor(yf(e))),r=e/a;return(r<=1?1:r<=2?2:r<=5?5:10)*a}function iie(e){const t=[],a=Math.sqrt(e);let r;for(r=1;r<a;r++)e%r===0&&(t.push(r),t.push(e/r));return a===(a|0)&&t.push(a),t.sort((n,i)=>n-i).pop(),t}function lie(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function rx(e){return!lie(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function oie(e,t){const a=Math.round(e);return a-t<=e&&a+t>=e}function GU(e,t,a){let r,n,i;for(r=0,n=e.length;r<n;r++)i=e[r][a],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function sd(e){return e*(Ds/180)}function uA(e){return e*(180/Ds)}function XD(e){if(!rn(e))return;let t=1,a=0;for(;Math.round(e*t)/t!==e;)t*=10,a++;return a}function KU(e,t){const a=t.x-e.x,r=t.y-e.y,n=Math.sqrt(a*a+r*r);let i=Math.atan2(r,a);return i<-.5*Ds&&(i+=yr),{angle:i,distance:n}}function HS(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function cie(e,t){return(e-t+rie)%yr-Ds}function sl(e){return(e%yr+yr)%yr}function Gv(e,t,a,r){const n=sl(e),i=sl(t),l=sl(a),o=sl(i-n),c=sl(l-n),d=sl(n-i),u=sl(n-l);return n===i||n===l||r&&i===l||o>c&&d<u}function wi(e,t,a){return Math.max(t,Math.min(a,e))}function die(e){return wi(e,-32768,32767)}function Hu(e,t,a,r=1e-6){return e>=Math.min(t,a)-r&&e<=Math.max(t,a)+r}function hA(e,t,a){a=a||(l=>e[l]<t);let r=e.length-1,n=0,i;for(;r-n>1;)i=n+r>>1,a(i)?n=i:r=i;return{lo:n,hi:r}}const Vu=(e,t,a,r)=>hA(e,a,r?n=>{const i=e[n][t];return i<a||i===a&&e[n+1][t]===a}:n=>e[n][t]<a),uie=(e,t,a)=>hA(e,a,r=>e[r][t]>=a);function hie(e,t,a){let r=0,n=e.length;for(;r<n&&e[r]<t;)r++;for(;n>r&&e[n-1]>a;)n--;return r>0||n<e.length?e.slice(r,n):e}const YU=["push","pop","shift","splice","unshift"];function fie(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),YU.forEach(a=>{const r="_onData"+dA(a),n=e[a];Object.defineProperty(e,a,{configurable:!0,enumerable:!1,value(...i){const l=n.apply(this,i);return e._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...i)}),l}})})}function JD(e,t){const a=e._chartjs;if(!a)return;const r=a.listeners,n=r.indexOf(t);n!==-1&&r.splice(n,1),!(r.length>0)&&(YU.forEach(i=>{delete e[i]}),delete e._chartjs)}function XU(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const JU=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function QU(e,t){let a=[],r=!1;return function(...n){a=n,r||(r=!0,JU.call(window,()=>{r=!1,e.apply(t,a)}))}}function mie(e,t){let a;return function(...r){return t?(clearTimeout(a),a=setTimeout(e,t,r)):e.apply(this,r),t}}const fA=e=>e==="start"?"left":e==="end"?"right":"center",el=(e,t,a)=>e==="start"?t:e==="end"?a:(t+a)/2,pie=(e,t,a,r)=>e===(r?"left":"right")?a:e==="center"?(t+a)/2:t;function ZU(e,t,a){const r=t.length;let n=0,i=r;if(e._sorted){const{iScale:l,vScale:o,_parsed:c}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=l.axis,{min:f,max:p,minDefined:m,maxDefined:v}=l.getUserBounds();if(m){if(n=Math.min(Vu(c,u,f).lo,a?r:Vu(t,u,l.getPixelForValue(f)).lo),d){const g=c.slice(0,n+1).reverse().findIndex(b=>!fs(b[o.axis]));n-=Math.max(0,g)}n=wi(n,0,r-1)}if(v){let g=Math.max(Vu(c,l.axis,p,!0).hi+1,a?0:Vu(t,u,l.getPixelForValue(p),!0).hi+1);if(d){const b=c.slice(g-1).findIndex(j=>!fs(j[o.axis]));g+=Math.max(0,b)}i=wi(g,n,r)-n}else i=r-n}return{start:n,count:i}}function ez(e){const{xScale:t,yScale:a,_scaleRanges:r}=e,n={xmin:t.min,xmax:t.max,ymin:a.min,ymax:a.max};if(!r)return e._scaleRanges=n,!0;const i=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==a.min||r.ymax!==a.max;return Object.assign(r,n),i}const _y=e=>e===0||e===1,QD=(e,t,a)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*yr/a)),ZD=(e,t,a)=>Math.pow(2,-10*e)*Math.sin((e-t)*yr/a)+1,pv={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Sn)+1,easeOutSine:e=>Math.sin(e*Sn),easeInOutSine:e=>-.5*(Math.cos(Ds*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>_y(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>_y(e)?e:QD(e,.075,.3),easeOutElastic:e=>_y(e)?e:ZD(e,.075,.3),easeInOutElastic(e){return _y(e)?e:e<.5?.5*QD(e*2,.1125,.45):.5+.5*ZD(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-pv.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?pv.easeInBounce(e*2)*.5:pv.easeOutBounce(e*2-1)*.5+.5};function mA(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function eM(e){return mA(e)?e:new VU(e)}function b5(e){return mA(e)?e:new VU(e).saturate(.5).darken(.1).hexString()}const xie=["x","y","borderWidth","radius","tension"],gie=["color","borderColor","backgroundColor"];function vie(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:gie},numbers:{type:"number",properties:xie}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function bie(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const tM=new Map;function yie(e,t){t=t||{};const a=e+JSON.stringify(t);let r=tM.get(a);return r||(r=new Intl.NumberFormat(e,t),tM.set(a,r)),r}function H1(e,t,a){return yie(t,a).format(e)}const tz={values(e){return Pr(e)?e:""+e},numeric(e,t,a){if(e===0)return"0";const r=this.chart.options.locale;let n,i=e;if(a.length>1){const d=Math.max(Math.abs(a[0].value),Math.abs(a[a.length-1].value));(d<1e-4||d>1e15)&&(n="scientific"),i=wie(e,a)}const l=yf(Math.abs(i)),o=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),c={notation:n,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(c,this.options.ticks.format),H1(e,r,c)},logarithmic(e,t,a){if(e===0)return"0";const r=a[t].significand||e/Math.pow(10,Math.floor(yf(e)));return[1,2,3,5,10,15].includes(r)||t>.8*a.length?tz.numeric.call(this,e,t,a):""}};function wie(e,t){let a=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(a)>=1&&e!==Math.floor(e)&&(a=e-Math.floor(e)),a}var $j={formatters:tz};function jie(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,a)=>a.lineWidth,tickColor:(t,a)=>a.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$j.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const cm=Object.create(null),VS=Object.create(null);function xv(e,t){if(!t)return e;const a=t.split(".");for(let r=0,n=a.length;r<n;++r){const i=a[r];e=e[i]||(e[i]=Object.create(null))}return e}function y5(e,t,a){return typeof t=="string"?Wv(xv(e,t),a):Wv(xv(e,""),t)}class Nie{constructor(t,a){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,n)=>b5(n.backgroundColor),this.hoverBorderColor=(r,n)=>b5(n.borderColor),this.hoverColor=(r,n)=>b5(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(a)}set(t,a){return y5(this,t,a)}get(t){return xv(this,t)}describe(t,a){return y5(VS,t,a)}override(t,a){return y5(cm,t,a)}route(t,a,r,n){const i=xv(this,t),l=xv(this,r),o="_"+a;Object.defineProperties(i,{[o]:{value:i[a],writable:!0},[a]:{enumerable:!0,get(){const c=this[o],d=l[n];return vs(c)?Object.assign({},d,c):Ka(c,d)},set(c){this[o]=c}}})}apply(t){t.forEach(a=>a(this))}}var Lr=new Nie({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[vie,bie,jie]);function kie(e){return!e||fs(e.size)||fs(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function iw(e,t,a,r,n){let i=t[n];return i||(i=t[n]=e.measureText(n).width,a.push(n)),i>r&&(r=i),r}function Sie(e,t,a,r){r=r||{};let n=r.data=r.data||{},i=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(n=r.data={},i=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let l=0;const o=a.length;let c,d,u,f,p;for(c=0;c<o;c++)if(f=a[c],f!=null&&!Pr(f))l=iw(e,n,i,l,f);else if(Pr(f))for(d=0,u=f.length;d<u;d++)p=f[d],p!=null&&!Pr(p)&&(l=iw(e,n,i,l,p));e.restore();const m=i.length/2;if(m>a.length){for(c=0;c<m;c++)delete n[i[c]];i.splice(0,m)}return l}function N0(e,t,a){const r=e.currentDevicePixelRatio,n=a!==0?Math.max(a/2,.5):0;return Math.round((t-n)*r)/r+n}function aM(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function WS(e,t,a,r){az(e,t,a,r,null)}function az(e,t,a,r,n){let i,l,o,c,d,u,f,p;const m=t.pointStyle,v=t.rotation,g=t.radius;let b=(v||0)*nie;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(a,r),e.rotate(b),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),m){default:n?e.ellipse(a,r,n/2,g,0,0,yr):e.arc(a,r,g,0,yr),e.closePath();break;case"triangle":u=n?n/2:g,e.moveTo(a+Math.sin(b)*u,r-Math.cos(b)*g),b+=KD,e.lineTo(a+Math.sin(b)*u,r-Math.cos(b)*g),b+=KD,e.lineTo(a+Math.sin(b)*u,r-Math.cos(b)*g),e.closePath();break;case"rectRounded":d=g*.516,c=g-d,l=Math.cos(b+j0)*c,f=Math.cos(b+j0)*(n?n/2-d:c),o=Math.sin(b+j0)*c,p=Math.sin(b+j0)*(n?n/2-d:c),e.arc(a-f,r-o,d,b-Ds,b-Sn),e.arc(a+p,r-l,d,b-Sn,b),e.arc(a+f,r+o,d,b,b+Sn),e.arc(a-p,r+l,d,b+Sn,b+Ds),e.closePath();break;case"rect":if(!v){c=Math.SQRT1_2*g,u=n?n/2:c,e.rect(a-u,r-c,2*u,2*c);break}b+=j0;case"rectRot":f=Math.cos(b)*(n?n/2:g),l=Math.cos(b)*g,o=Math.sin(b)*g,p=Math.sin(b)*(n?n/2:g),e.moveTo(a-f,r-o),e.lineTo(a+p,r-l),e.lineTo(a+f,r+o),e.lineTo(a-p,r+l),e.closePath();break;case"crossRot":b+=j0;case"cross":f=Math.cos(b)*(n?n/2:g),l=Math.cos(b)*g,o=Math.sin(b)*g,p=Math.sin(b)*(n?n/2:g),e.moveTo(a-f,r-o),e.lineTo(a+f,r+o),e.moveTo(a+p,r-l),e.lineTo(a-p,r+l);break;case"star":f=Math.cos(b)*(n?n/2:g),l=Math.cos(b)*g,o=Math.sin(b)*g,p=Math.sin(b)*(n?n/2:g),e.moveTo(a-f,r-o),e.lineTo(a+f,r+o),e.moveTo(a+p,r-l),e.lineTo(a-p,r+l),b+=j0,f=Math.cos(b)*(n?n/2:g),l=Math.cos(b)*g,o=Math.sin(b)*g,p=Math.sin(b)*(n?n/2:g),e.moveTo(a-f,r-o),e.lineTo(a+f,r+o),e.moveTo(a+p,r-l),e.lineTo(a-p,r+l);break;case"line":l=n?n/2:Math.cos(b)*g,o=Math.sin(b)*g,e.moveTo(a-l,r-o),e.lineTo(a+l,r+o);break;case"dash":e.moveTo(a,r),e.lineTo(a+Math.cos(b)*(n?n/2:g),r+Math.sin(b)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Wu(e,t,a){return a=a||.5,!t||e&&e.x>t.left-a&&e.x<t.right+a&&e.y>t.top-a&&e.y<t.bottom+a}function Uj(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function zj(e){e.restore()}function Cie(e,t,a,r,n){if(!t)return e.lineTo(a.x,a.y);if(n==="middle"){const i=(t.x+a.x)/2;e.lineTo(i,t.y),e.lineTo(i,a.y)}else n==="after"!=!!r?e.lineTo(t.x,a.y):e.lineTo(a.x,t.y);e.lineTo(a.x,a.y)}function Aie(e,t,a,r){if(!t)return e.lineTo(a.x,a.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?a.cp2x:a.cp1x,r?a.cp2y:a.cp1y,a.x,a.y)}function _ie(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),fs(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function Tie(e,t,a,r,n){if(n.strikethrough||n.underline){const i=e.measureText(r),l=t-i.actualBoundingBoxLeft,o=t+i.actualBoundingBoxRight,c=a-i.actualBoundingBoxAscent,d=a+i.actualBoundingBoxDescent,u=n.strikethrough?(c+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=n.decorationWidth||2,e.moveTo(l,u),e.lineTo(o,u),e.stroke()}}function Eie(e,t){const a=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=a}function dm(e,t,a,r,n,i={}){const l=Pr(t)?t:[t],o=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(e.save(),e.font=n.string,_ie(e,i),c=0;c<l.length;++c)d=l[c],i.backdrop&&Eie(e,i.backdrop),o&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),fs(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(d,a,r,i.maxWidth)),e.fillText(d,a,r,i.maxWidth),Tie(e,a,r,d,i),r+=Number(n.lineHeight);e.restore()}function Kv(e,t){const{x:a,y:r,w:n,h:i,radius:l}=t;e.arc(a+l.topLeft,r+l.topLeft,l.topLeft,1.5*Ds,Ds,!0),e.lineTo(a,r+i-l.bottomLeft),e.arc(a+l.bottomLeft,r+i-l.bottomLeft,l.bottomLeft,Ds,Sn,!0),e.lineTo(a+n-l.bottomRight,r+i),e.arc(a+n-l.bottomRight,r+i-l.bottomRight,l.bottomRight,Sn,0,!0),e.lineTo(a+n,r+l.topRight),e.arc(a+n-l.topRight,r+l.topRight,l.topRight,0,-Sn,!0),e.lineTo(a+l.topLeft,r)}const Die=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Mie=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Pie(e,t){const a=(""+e).match(Die);if(!a||a[1]==="normal")return t*1.2;switch(e=+a[2],a[3]){case"px":return e;case"%":e/=100;break}return t*e}const Lie=e=>+e||0;function pA(e,t){const a={},r=vs(t),n=r?Object.keys(t):t,i=vs(e)?r?l=>Ka(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of n)a[l]=Lie(i(l));return a}function sz(e){return pA(e,{top:"y",right:"x",bottom:"y",left:"x"})}function q0(e){return pA(e,["topLeft","topRight","bottomLeft","bottomRight"])}function hl(e){const t=sz(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Zn(e,t){e=e||{},t=t||Lr.font;let a=Ka(e.size,t.size);typeof a=="string"&&(a=parseInt(a,10));let r=Ka(e.style,t.style);r&&!(""+r).match(Mie)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const n={family:Ka(e.family,t.family),lineHeight:Pie(Ka(e.lineHeight,t.lineHeight),a),size:a,style:r,weight:Ka(e.weight,t.weight),string:""};return n.string=kie(n),n}function sv(e,t,a,r){let n,i,l;for(n=0,i=e.length;n<i;++n)if(l=e[n],l!==void 0&&l!==void 0)return l}function Oie(e,t,a){const{min:r,max:n}=e,i=WU(t,(n-r)/2),l=(o,c)=>a&&o===0?0:o+c;return{min:l(r,-Math.abs(i)),max:l(n,i)}}function zf(e,t){return Object.assign(Object.create(e),t)}function xA(e,t=[""],a,r,n=()=>e[0]){const i=a||e;typeof r>"u"&&(r=lz("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:r,_getTarget:n,override:o=>xA([o,...e],t,i,r)};return new Proxy(l,{deleteProperty(o,c){return delete o[c],delete o._keys,delete e[0][c],!0},get(o,c){return nz(o,c,()=>Hie(c,t,e,o))},getOwnPropertyDescriptor(o,c){return Reflect.getOwnPropertyDescriptor(o._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(o,c){return rM(o).includes(c)},ownKeys(o){return rM(o)},set(o,c,d){const u=o._storage||(o._storage=n());return o[c]=u[c]=d,delete o._keys,!0}})}function nx(e,t,a,r){const n={_cacheable:!1,_proxy:e,_context:t,_subProxy:a,_stack:new Set,_descriptors:rz(e,r),setContext:i=>nx(e,i,a,r),override:i=>nx(e.override(i),t,a,r)};return new Proxy(n,{deleteProperty(i,l){return delete i[l],delete e[l],!0},get(i,l,o){return nz(i,l,()=>Fie(i,l,o))},getOwnPropertyDescriptor(i,l){return i._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(i,l,o){return e[l]=o,delete i[l],!0}})}function rz(e,t={scriptable:!0,indexable:!0}){const{_scriptable:a=t.scriptable,_indexable:r=t.indexable,_allKeys:n=t.allKeys}=e;return{allKeys:n,scriptable:a,indexable:r,isScriptable:Ef(a)?a:()=>a,isIndexable:Ef(r)?r:()=>r}}const Rie=(e,t)=>e?e+dA(t):t,gA=(e,t)=>vs(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function nz(e,t,a){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=a();return e[t]=r,r}function Fie(e,t,a){const{_proxy:r,_context:n,_subProxy:i,_descriptors:l}=e;let o=r[t];return Ef(o)&&l.isScriptable(t)&&(o=Iie(t,o,e,a)),Pr(o)&&o.length&&(o=Bie(t,o,e,l.isIndexable)),gA(t,o)&&(o=nx(o,n,i&&i[t],l)),o}function Iie(e,t,a,r){const{_proxy:n,_context:i,_subProxy:l,_stack:o}=a;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let c=t(i,l||r);return o.delete(e),gA(e,c)&&(c=vA(n._scopes,n,e,c)),c}function Bie(e,t,a,r){const{_proxy:n,_context:i,_subProxy:l,_descriptors:o}=a;if(typeof i.index<"u"&&r(e))return t[i.index%t.length];if(vs(t[0])){const c=t,d=n._scopes.filter(u=>u!==c);t=[];for(const u of c){const f=vA(d,n,e,u);t.push(nx(f,i,l&&l[e],o))}}return t}function iz(e,t,a){return Ef(e)?e(t,a):e}const $ie=(e,t)=>e===!0?t:typeof e=="string"?Tf(t,e):void 0;function Uie(e,t,a,r,n){for(const i of t){const l=$ie(a,i);if(l){e.add(l);const o=iz(l._fallback,a,n);if(typeof o<"u"&&o!==a&&o!==r)return o}else if(l===!1&&typeof r<"u"&&a!==r)return null}return!1}function vA(e,t,a,r){const n=t._rootScopes,i=iz(t._fallback,a,r),l=[...e,...n],o=new Set;o.add(r);let c=sM(o,l,a,i||a,r);return c===null||typeof i<"u"&&i!==a&&(c=sM(o,l,i,c,r),c===null)?!1:xA(Array.from(o),[""],n,i,()=>zie(t,a,r))}function sM(e,t,a,r,n){for(;a;)a=Uie(e,t,a,r,n);return a}function zie(e,t,a){const r=e._getTarget();t in r||(r[t]={});const n=r[t];return Pr(n)&&vs(a)?a:n||{}}function Hie(e,t,a,r){let n;for(const i of t)if(n=lz(Rie(i,e),a),typeof n<"u")return gA(e,n)?vA(a,r,e,n):n}function lz(e,t){for(const a of t){if(!a)continue;const r=a[e];if(typeof r<"u")return r}}function rM(e){let t=e._keys;return t||(t=e._keys=Vie(e._scopes)),t}function Vie(e){const t=new Set;for(const a of e)for(const r of Object.keys(a).filter(n=>!n.startsWith("_")))t.add(r);return Array.from(t)}function oz(e,t,a,r){const{iScale:n}=e,{key:i="r"}=this._parsing,l=new Array(r);let o,c,d,u;for(o=0,c=r;o<c;++o)d=o+a,u=t[d],l[o]={r:n.parse(Tf(u,i),d)};return l}const Wie=Number.EPSILON||1e-14,ix=(e,t)=>t<e.length&&!e[t].skip&&e[t],cz=e=>e==="x"?"y":"x";function qie(e,t,a,r){const n=e.skip?t:e,i=t,l=a.skip?t:a,o=HS(i,n),c=HS(l,i);let d=o/(o+c),u=c/(o+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const f=r*d,p=r*u;return{previous:{x:i.x-f*(l.x-n.x),y:i.y-f*(l.y-n.y)},next:{x:i.x+p*(l.x-n.x),y:i.y+p*(l.y-n.y)}}}function Gie(e,t,a){const r=e.length;let n,i,l,o,c,d=ix(e,0);for(let u=0;u<r-1;++u)if(c=d,d=ix(e,u+1),!(!c||!d)){if(mv(t[u],0,Wie)){a[u]=a[u+1]=0;continue}n=a[u]/t[u],i=a[u+1]/t[u],o=Math.pow(n,2)+Math.pow(i,2),!(o<=9)&&(l=3/Math.sqrt(o),a[u]=n*l*t[u],a[u+1]=i*l*t[u])}}function Kie(e,t,a="x"){const r=cz(a),n=e.length;let i,l,o,c=ix(e,0);for(let d=0;d<n;++d){if(l=o,o=c,c=ix(e,d+1),!o)continue;const u=o[a],f=o[r];l&&(i=(u-l[a])/3,o[`cp1${a}`]=u-i,o[`cp1${r}`]=f-i*t[d]),c&&(i=(c[a]-u)/3,o[`cp2${a}`]=u+i,o[`cp2${r}`]=f+i*t[d])}}function Yie(e,t="x"){const a=cz(t),r=e.length,n=Array(r).fill(0),i=Array(r);let l,o,c,d=ix(e,0);for(l=0;l<r;++l)if(o=c,c=d,d=ix(e,l+1),!!c){if(d){const u=d[t]-c[t];n[l]=u!==0?(d[a]-c[a])/u:0}i[l]=o?d?Jd(n[l-1])!==Jd(n[l])?0:(n[l-1]+n[l])/2:n[l-1]:n[l]}Gie(e,n,i),Kie(e,i,t)}function Ty(e,t,a){return Math.max(Math.min(e,a),t)}function Xie(e,t){let a,r,n,i,l,o=Wu(e[0],t);for(a=0,r=e.length;a<r;++a)l=i,i=o,o=a<r-1&&Wu(e[a+1],t),i&&(n=e[a],l&&(n.cp1x=Ty(n.cp1x,t.left,t.right),n.cp1y=Ty(n.cp1y,t.top,t.bottom)),o&&(n.cp2x=Ty(n.cp2x,t.left,t.right),n.cp2y=Ty(n.cp2y,t.top,t.bottom)))}function Jie(e,t,a,r,n){let i,l,o,c;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")Yie(e,n);else{let d=r?e[e.length-1]:e[0];for(i=0,l=e.length;i<l;++i)o=e[i],c=qie(d,o,e[Math.min(i+1,l-(r?0:1))%l],t.tension),o.cp1x=c.previous.x,o.cp1y=c.previous.y,o.cp2x=c.next.x,o.cp2y=c.next.y,d=o}t.capBezierPoints&&Xie(e,a)}function bA(){return typeof window<"u"&&typeof document<"u"}function yA(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function lw(e,t,a){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[a])):r=e,r}const Hj=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Qie(e,t){return Hj(e).getPropertyValue(t)}const Zie=["top","right","bottom","left"];function G0(e,t,a){const r={};a=a?"-"+a:"";for(let n=0;n<4;n++){const i=Zie[n];r[i]=parseFloat(e[t+"-"+i+a])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const ele=(e,t,a)=>(e>0||t>0)&&(!a||!a.shadowRoot);function tle(e,t){const a=e.touches,r=a&&a.length?a[0]:e,{offsetX:n,offsetY:i}=r;let l=!1,o,c;if(ele(n,i,e.target))o=n,c=i;else{const d=t.getBoundingClientRect();o=r.clientX-d.left,c=r.clientY-d.top,l=!0}return{x:o,y:c,box:l}}function _0(e,t){if("native"in e)return e;const{canvas:a,currentDevicePixelRatio:r}=t,n=Hj(a),i=n.boxSizing==="border-box",l=G0(n,"padding"),o=G0(n,"border","width"),{x:c,y:d,box:u}=tle(e,a),f=l.left+(u&&o.left),p=l.top+(u&&o.top);let{width:m,height:v}=t;return i&&(m-=l.width+o.width,v-=l.height+o.height),{x:Math.round((c-f)/m*a.width/r),y:Math.round((d-p)/v*a.height/r)}}function ale(e,t,a){let r,n;if(t===void 0||a===void 0){const i=e&&yA(e);if(!i)t=e.clientWidth,a=e.clientHeight;else{const l=i.getBoundingClientRect(),o=Hj(i),c=G0(o,"border","width"),d=G0(o,"padding");t=l.width-d.width-c.width,a=l.height-d.height-c.height,r=lw(o.maxWidth,i,"clientWidth"),n=lw(o.maxHeight,i,"clientHeight")}}return{width:t,height:a,maxWidth:r||nw,maxHeight:n||nw}}const Ey=e=>Math.round(e*10)/10;function sle(e,t,a,r){const n=Hj(e),i=G0(n,"margin"),l=lw(n.maxWidth,e,"clientWidth")||nw,o=lw(n.maxHeight,e,"clientHeight")||nw,c=ale(e,t,a);let{width:d,height:u}=c;if(n.boxSizing==="content-box"){const p=G0(n,"border","width"),m=G0(n,"padding");d-=m.width+p.width,u-=m.height+p.height}return d=Math.max(0,d-i.width),u=Math.max(0,r?d/r:u-i.height),d=Ey(Math.min(d,l,c.maxWidth)),u=Ey(Math.min(u,o,c.maxHeight)),d&&!u&&(u=Ey(d/2)),(t!==void 0||a!==void 0)&&r&&c.height&&u>c.height&&(u=c.height,d=Ey(Math.floor(u*r))),{width:d,height:u}}function nM(e,t,a){const r=t||1,n=Math.floor(e.height*r),i=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(a||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||l.height!==n||l.width!==i?(e.currentDevicePixelRatio=r,l.height=n,l.width=i,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const rle=(function(){let e=!1;try{const t={get passive(){return e=!0,!1}};bA()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e})();function iM(e,t){const a=Qie(e,t),r=a&&a.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function T0(e,t,a,r){return{x:e.x+a*(t.x-e.x),y:e.y+a*(t.y-e.y)}}function nle(e,t,a,r){return{x:e.x+a*(t.x-e.x),y:r==="middle"?a<.5?e.y:t.y:r==="after"?a<1?e.y:t.y:a>0?t.y:e.y}}function ile(e,t,a,r){const n={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},l=T0(e,n,a),o=T0(n,i,a),c=T0(i,t,a),d=T0(l,o,a),u=T0(o,c,a);return T0(d,u,a)}const lle=function(e,t){return{x(a){return e+e+t-a},setWidth(a){t=a},textAlign(a){return a==="center"?a:a==="right"?"left":"right"},xPlus(a,r){return a-r},leftForLtr(a,r){return a-r}}},ole=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function qp(e,t,a){return e?lle(t,a):ole()}function dz(e,t){let a,r;(t==="ltr"||t==="rtl")&&(a=e.canvas.style,r=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",t,"important"),e.prevTextDirection=r)}function uz(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function hz(e){return e==="angle"?{between:Gv,compare:cie,normalize:sl}:{between:Hu,compare:(t,a)=>t-a,normalize:t=>t}}function lM({start:e,end:t,count:a,loop:r,style:n}){return{start:e%a,end:t%a,loop:r&&(t-e+1)%a===0,style:n}}function cle(e,t,a){const{property:r,start:n,end:i}=a,{between:l,normalize:o}=hz(r),c=t.length;let{start:d,end:u,loop:f}=e,p,m;if(f){for(d+=c,u+=c,p=0,m=c;p<m&&l(o(t[d%c][r]),n,i);++p)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:f,style:e.style}}function fz(e,t,a){if(!a)return[e];const{property:r,start:n,end:i}=a,l=t.length,{compare:o,between:c,normalize:d}=hz(r),{start:u,end:f,loop:p,style:m}=cle(e,t,a),v=[];let g=!1,b=null,j,N,k;const S=()=>c(n,k,j)&&o(n,k)!==0,C=()=>o(i,j)===0||c(i,k,j),_=()=>g||S(),P=()=>!g||C();for(let L=u,U=u;L<=f;++L)N=t[L%l],!N.skip&&(j=d(N[r]),j!==k&&(g=c(j,n,i),b===null&&_()&&(b=o(j,n)===0?L:U),b!==null&&P()&&(v.push(lM({start:b,end:L,loop:p,count:l,style:m})),b=null),U=L,k=j));return b!==null&&v.push(lM({start:b,end:f,loop:p,count:l,style:m})),v}function mz(e,t){const a=[],r=e.segments;for(let n=0;n<r.length;n++){const i=fz(r[n],e.points,t);i.length&&a.push(...i)}return a}function dle(e,t,a,r){let n=0,i=t-1;if(a&&!r)for(;n<t&&!e[n].skip;)n++;for(;n<t&&e[n].skip;)n++;for(n%=t,a&&(i+=n);i>n&&e[i%t].skip;)i--;return i%=t,{start:n,end:i}}function ule(e,t,a,r){const n=e.length,i=[];let l=t,o=e[t],c;for(c=t+1;c<=a;++c){const d=e[c%n];d.skip||d.stop?o.skip||(r=!1,i.push({start:t%n,end:(c-1)%n,loop:r}),t=l=d.stop?c:null):(l=c,o.skip&&(t=c)),o=d}return l!==null&&i.push({start:t%n,end:l%n,loop:r}),i}function hle(e,t){const a=e.points,r=e.options.spanGaps,n=a.length;if(!n)return[];const i=!!e._loop,{start:l,end:o}=dle(a,n,i,r);if(r===!0)return oM(e,[{start:l,end:o,loop:i}],a,t);const c=o<l?o+n:o,d=!!e._fullLoop&&l===0&&o===n-1;return oM(e,ule(a,l,c,d),a,t)}function oM(e,t,a,r){return!r||!r.setContext||!a?t:fle(e,t,a,r)}function fle(e,t,a,r){const n=e._chart.getContext(),i=cM(e.options),{_datasetIndex:l,options:{spanGaps:o}}=e,c=a.length,d=[];let u=i,f=t[0].start,p=f;function m(v,g,b,j){const N=o?-1:1;if(v!==g){for(v+=c;a[v%c].skip;)v-=N;for(;a[g%c].skip;)g+=N;v%c!==g%c&&(d.push({start:v%c,end:g%c,loop:b,style:j}),u=j,f=g%c)}}for(const v of t){f=o?f:v.start;let g=a[f%c],b;for(p=f+1;p<=v.end;p++){const j=a[p%c];b=cM(r.setContext(zf(n,{type:"segment",p0:g,p1:j,p0DataIndex:(p-1)%c,p1DataIndex:p%c,datasetIndex:l}))),mle(b,u)&&m(f,p-1,v.loop,u),g=j,u=b}f<p-1&&m(f,p-1,v.loop,u)}return d}function cM(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function mle(e,t){if(!t)return!1;const a=[],r=function(n,i){return mA(i)?(a.includes(i)||a.push(i),a.indexOf(i)):i};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function Dy(e,t,a){return e.options.clip?e[a]:t[a]}function ple(e,t){const{xScale:a,yScale:r}=e;return a&&r?{left:Dy(a,t,"left"),right:Dy(a,t,"right"),top:Dy(r,t,"top"),bottom:Dy(r,t,"bottom")}:t}function pz(e,t){const a=t._clip;if(a.disabled)return!1;const r=ple(t,e.chartArea);return{left:a.left===!1?0:r.left-(a.left===!0?0:a.left),right:a.right===!1?e.width:r.right+(a.right===!0?0:a.right),top:a.top===!1?0:r.top-(a.top===!0?0:a.top),bottom:a.bottom===!1?e.height:r.bottom+(a.bottom===!0?0:a.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class xle{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,a,r,n){const i=a.listeners[n],l=a.duration;i.forEach(o=>o({chart:t,initial:a.initial,numSteps:l,currentStep:Math.min(r-a.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=JU.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let a=0;this._charts.forEach((r,n)=>{if(!r.running||!r.items.length)return;const i=r.items;let l=i.length-1,o=!1,c;for(;l>=0;--l)c=i[l],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(t),o=!0):(i[l]=i[i.length-1],i.pop());o&&(n.draw(),this._notify(n,r,t,"progress")),i.length||(r.running=!1,this._notify(n,r,t,"complete"),r.initial=!1),a+=i.length}),this._lastDate=t,a===0&&(this._running=!1)}_getAnims(t){const a=this._charts;let r=a.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},a.set(t,r)),r}listen(t,a,r){this._getAnims(t).listeners[a].push(r)}add(t,a){!a||!a.length||this._getAnims(t).items.push(...a)}has(t){return this._getAnims(t).items.length>0}start(t){const a=this._charts.get(t);a&&(a.running=!0,a.start=Date.now(),a.duration=a.items.reduce((r,n)=>Math.max(r,n._duration),0),this._refresh())}running(t){if(!this._running)return!1;const a=this._charts.get(t);return!(!a||!a.running||!a.items.length)}stop(t){const a=this._charts.get(t);if(!a||!a.items.length)return;const r=a.items;let n=r.length-1;for(;n>=0;--n)r[n].cancel();a.items=[],this._notify(t,a,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ru=new xle;const dM="transparent",gle={boolean(e,t,a){return a>.5?t:e},color(e,t,a){const r=eM(e||dM),n=r.valid&&eM(t||dM);return n&&n.valid?n.mix(r,a).hexString():t},number(e,t,a){return e+(t-e)*a}};class vle{constructor(t,a,r,n){const i=a[r];n=sv([t.to,n,i,t.from]);const l=sv([t.from,i,n]);this._active=!0,this._fn=t.fn||gle[t.type||typeof l],this._easing=pv[t.easing]||pv.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=a,this._prop=r,this._from=l,this._to=n,this._promises=void 0}active(){return this._active}update(t,a,r){if(this._active){this._notify(!1);const n=this._target[this._prop],i=r-this._start,l=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=sv([t.to,a,n,t.from]),this._from=sv([t.from,n,a])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const a=t-this._start,r=this._duration,n=this._prop,i=this._from,l=this._loop,o=this._to;let c;if(this._active=i!==o&&(l||a<r),!this._active){this._target[n]=o,this._notify(!0);return}if(a<0){this._target[n]=i;return}c=a/r%2,c=l&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[n]=this._fn(i,o,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((a,r)=>{t.push({res:a,rej:r})})}_notify(t){const a=t?"res":"rej",r=this._promises||[];for(let n=0;n<r.length;n++)r[n][a]()}}class xz{constructor(t,a){this._chart=t,this._properties=new Map,this.configure(a)}configure(t){if(!vs(t))return;const a=Object.keys(Lr.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(n=>{const i=t[n];if(!vs(i))return;const l={};for(const o of a)l[o]=i[o];(Pr(i.properties)&&i.properties||[n]).forEach(o=>{(o===n||!r.has(o))&&r.set(o,l)})})}_animateOptions(t,a){const r=a.options,n=yle(t,r);if(!n)return[];const i=this._createAnimations(n,r);return r.$shared&&ble(t.options.$animations,r).then(()=>{t.options=r},()=>{}),i}_createAnimations(t,a){const r=this._properties,n=[],i=t.$animations||(t.$animations={}),l=Object.keys(a),o=Date.now();let c;for(c=l.length-1;c>=0;--c){const d=l[c];if(d.charAt(0)==="$")continue;if(d==="options"){n.push(...this._animateOptions(t,a));continue}const u=a[d];let f=i[d];const p=r.get(d);if(f)if(p&&f.active()){f.update(p,u,o);continue}else f.cancel();if(!p||!p.duration){t[d]=u;continue}i[d]=f=new vle(p,t,d,u),n.push(f)}return n}update(t,a){if(this._properties.size===0){Object.assign(t,a);return}const r=this._createAnimations(t,a);if(r.length)return Ru.add(this._chart,r),!0}}function ble(e,t){const a=[],r=Object.keys(t);for(let n=0;n<r.length;n++){const i=e[r[n]];i&&i.active()&&a.push(i.wait())}return Promise.all(a)}function yle(e,t){if(!t)return;let a=e.options;if(!a){e.options=t;return}return a.$shared&&(e.options=a=Object.assign({},a,{$shared:!1,$animations:{}})),a}function uM(e,t){const a=e&&e.options||{},r=a.reverse,n=a.min===void 0?t:0,i=a.max===void 0?t:0;return{start:r?i:n,end:r?n:i}}function wle(e,t,a){if(a===!1)return!1;const r=uM(e,a),n=uM(t,a);return{top:n.end,right:r.end,bottom:n.start,left:r.start}}function jle(e){let t,a,r,n;return vs(e)?(t=e.top,a=e.right,r=e.bottom,n=e.left):t=a=r=n=e,{top:t,right:a,bottom:r,left:n,disabled:e===!1}}function gz(e,t){const a=[],r=e._getSortedDatasetMetas(t);let n,i;for(n=0,i=r.length;n<i;++n)a.push(r[n].index);return a}function hM(e,t,a,r={}){const n=e.keys,i=r.mode==="single";let l,o,c,d;if(t===null)return;let u=!1;for(l=0,o=n.length;l<o;++l){if(c=+n[l],c===a){if(u=!0,r.all)continue;break}d=e.values[c],rn(d)&&(i||t===0||Jd(t)===Jd(d))&&(t+=d)}return!u&&!r.all?0:t}function Nle(e,t){const{iScale:a,vScale:r}=t,n=a.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",l=Object.keys(e),o=new Array(l.length);let c,d,u;for(c=0,d=l.length;c<d;++c)u=l[c],o[c]={[n]:u,[i]:e[u]};return o}function w5(e,t){const a=e&&e.options.stacked;return a||a===void 0&&t.stack!==void 0}function kle(e,t,a){return`${e.id}.${t.id}.${a.stack||a.type}`}function Sle(e){const{min:t,max:a,minDefined:r,maxDefined:n}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:n?a:Number.POSITIVE_INFINITY}}function Cle(e,t,a){const r=e[t]||(e[t]={});return r[a]||(r[a]={})}function fM(e,t,a,r){for(const n of t.getMatchingVisibleMetas(r).reverse()){const i=e[n.index];if(a&&i>0||!a&&i<0)return n.index}return null}function mM(e,t){const{chart:a,_cachedMeta:r}=e,n=a._stacks||(a._stacks={}),{iScale:i,vScale:l,index:o}=r,c=i.axis,d=l.axis,u=kle(i,l,r),f=t.length;let p;for(let m=0;m<f;++m){const v=t[m],{[c]:g,[d]:b}=v,j=v._stacks||(v._stacks={});p=j[d]=Cle(n,u,g),p[o]=b,p._top=fM(p,l,!0,r.type),p._bottom=fM(p,l,!1,r.type);const N=p._visualValues||(p._visualValues={});N[o]=b}}function j5(e,t){const a=e.scales;return Object.keys(a).filter(r=>a[r].axis===t).shift()}function Ale(e,t){return zf(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function _le(e,t,a){return zf(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:a,index:t,mode:"default",type:"data"})}function Pg(e,t){const a=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const n of t){const i=n._stacks;if(!i||i[r]===void 0||i[r][a]===void 0)return;delete i[r][a],i[r]._visualValues!==void 0&&i[r]._visualValues[a]!==void 0&&delete i[r]._visualValues[a]}}}const N5=e=>e==="reset"||e==="none",pM=(e,t)=>t?e:Object.assign({},e),Tle=(e,t,a)=>e&&!t.hidden&&t._stacked&&{keys:gz(a,!0),values:null};class Hf{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,a){this.chart=t,this._ctx=t.ctx,this.index=a,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=w5(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Pg(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,a=this._cachedMeta,r=this.getDataset(),n=(f,p,m,v)=>f==="x"?p:f==="r"?v:m,i=a.xAxisID=Ka(r.xAxisID,j5(t,"x")),l=a.yAxisID=Ka(r.yAxisID,j5(t,"y")),o=a.rAxisID=Ka(r.rAxisID,j5(t,"r")),c=a.indexAxis,d=a.iAxisID=n(c,i,l,o),u=a.vAxisID=n(c,l,i,o);a.xScale=this.getScaleForId(i),a.yScale=this.getScaleForId(l),a.rScale=this.getScaleForId(o),a.iScale=this.getScaleForId(d),a.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const a=this._cachedMeta;return t===a.iScale?a.vScale:a.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&JD(this._data,this),t._stacked&&Pg(t)}_dataCheck(){const t=this.getDataset(),a=t.data||(t.data=[]),r=this._data;if(vs(a)){const n=this._cachedMeta;this._data=Nle(a,n)}else if(r!==a){if(r){JD(r,this);const n=this._cachedMeta;Pg(n),n._parsed=[]}a&&Object.isExtensible(a)&&fie(a,this),this._syncList=[],this._data=a}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const a=this._cachedMeta,r=this.getDataset();let n=!1;this._dataCheck();const i=a._stacked;a._stacked=w5(a.vScale,a),a.stack!==r.stack&&(n=!0,Pg(a),a.stack=r.stack),this._resyncElements(t),(n||i!==a._stacked)&&(mM(this,a._parsed),a._stacked=w5(a.vScale,a))}configure(){const t=this.chart.config,a=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),a,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,a){const{_cachedMeta:r,_data:n}=this,{iScale:i,_stacked:l}=r,o=i.axis;let c=t===0&&a===n.length?!0:r._sorted,d=t>0&&r._parsed[t-1],u,f,p;if(this._parsing===!1)r._parsed=n,r._sorted=!0,p=n;else{Pr(n[t])?p=this.parseArrayData(r,n,t,a):vs(n[t])?p=this.parseObjectData(r,n,t,a):p=this.parsePrimitiveData(r,n,t,a);const m=()=>f[o]===null||d&&f[o]<d[o];for(u=0;u<a;++u)r._parsed[u+t]=f=p[u],c&&(m()&&(c=!1),d=f);r._sorted=c}l&&mM(this,p)}parsePrimitiveData(t,a,r,n){const{iScale:i,vScale:l}=t,o=i.axis,c=l.axis,d=i.getLabels(),u=i===l,f=new Array(n);let p,m,v;for(p=0,m=n;p<m;++p)v=p+r,f[p]={[o]:u||i.parse(d[v],v),[c]:l.parse(a[v],v)};return f}parseArrayData(t,a,r,n){const{xScale:i,yScale:l}=t,o=new Array(n);let c,d,u,f;for(c=0,d=n;c<d;++c)u=c+r,f=a[u],o[c]={x:i.parse(f[0],u),y:l.parse(f[1],u)};return o}parseObjectData(t,a,r,n){const{xScale:i,yScale:l}=t,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=new Array(n);let u,f,p,m;for(u=0,f=n;u<f;++u)p=u+r,m=a[p],d[u]={x:i.parse(Tf(m,o),p),y:l.parse(Tf(m,c),p)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,a,r){const n=this.chart,i=this._cachedMeta,l=a[t.axis],o={keys:gz(n,!0),values:a._stacks[t.axis]._visualValues};return hM(o,l,i.index,{mode:r})}updateRangeFromParsed(t,a,r,n){const i=r[a.axis];let l=i===null?NaN:i;const o=n&&r._stacks[a.axis];n&&o&&(n.values=o,l=hM(n,i,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,a){const r=this._cachedMeta,n=r._parsed,i=r._sorted&&t===r.iScale,l=n.length,o=this._getOtherScale(t),c=Tle(a,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=Sle(o);let p,m;function v(){m=n[p];const g=m[o.axis];return!rn(m[t.axis])||u>g||f<g}for(p=0;p<l&&!(!v()&&(this.updateRangeFromParsed(d,t,m,c),i));++p);if(i){for(p=l-1;p>=0;--p)if(!v()){this.updateRangeFromParsed(d,t,m,c);break}}return d}getAllParsedValues(t){const a=this._cachedMeta._parsed,r=[];let n,i,l;for(n=0,i=a.length;n<i;++n)l=a[n][t.axis],rn(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const a=this._cachedMeta,r=a.iScale,n=a.vScale,i=this.getParsed(t);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:n?""+n.getLabelForValue(i[n.axis]):""}}_update(t){const a=this._cachedMeta;this.update(t||"default"),a._clip=jle(Ka(this.options.clip,wle(a.xScale,a.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,a=this.chart,r=this._cachedMeta,n=r.data||[],i=a.chartArea,l=[],o=this._drawStart||0,c=this._drawCount||n.length-o,d=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(t,i,o,c),u=o;u<o+c;++u){const f=n[u];f.hidden||(f.active&&d?l.push(f):f.draw(t,i))}for(u=0;u<l.length;++u)l[u].draw(t,i)}getStyle(t,a){const r=a?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,a,r){const n=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];i=l.$context||(l.$context=_le(this.getContext(),t,l)),i.parsed=this.getParsed(t),i.raw=n.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=Ale(this.chart.getContext(),this.index)),i.dataset=n,i.index=i.datasetIndex=this.index;return i.active=!!a,i.mode=r,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,a){return this._resolveElementOptions(this.dataElementType.id,a,t)}_resolveElementOptions(t,a="default",r){const n=a==="active",i=this._cachedDataOpts,l=t+"-"+a,o=i[l],c=this.enableOptionSharing&&qv(r);if(o)return pM(o,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,t),f=n?[`${t}Hover`,"hover",t,""]:[t,""],p=d.getOptionScopes(this.getDataset(),u),m=Object.keys(Lr.elements[t]),v=()=>this.getContext(r,n,a),g=d.resolveNamedOptions(p,m,v,f);return g.$shared&&(g.$shared=c,i[l]=Object.freeze(pM(g,c))),g}_resolveAnimations(t,a,r){const n=this.chart,i=this._cachedDataOpts,l=`animation-${a}`,o=i[l];if(o)return o;let c;if(n.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,a),p=u.getOptionScopes(this.getDataset(),f);c=u.createResolver(p,this.getContext(t,r,a))}const d=new xz(n,c&&c.animations);return c&&c._cacheable&&(i[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,a){return!a||N5(t)||this.chart._animationsDisabled}_getSharedOptions(t,a){const r=this.resolveDataElementOptions(t,a),n=this._sharedOptions,i=this.getSharedOptions(r),l=this.includeOptions(a,i)||i!==n;return this.updateSharedOptions(i,a,r),{sharedOptions:i,includeOptions:l}}updateElement(t,a,r,n){N5(n)?Object.assign(t,r):this._resolveAnimations(a,n).update(t,r)}updateSharedOptions(t,a,r){t&&!N5(a)&&this._resolveAnimations(void 0,a).update(t,r)}_setStyle(t,a,r,n){t.active=n;const i=this.getStyle(a,n);this._resolveAnimations(a,r,n).update(t,{options:!n&&this.getSharedOptions(i)||i})}removeHoverStyle(t,a,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,a,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const a=this._data,r=this._cachedMeta.data;for(const[o,c,d]of this._syncList)this[o](c,d);this._syncList=[];const n=r.length,i=a.length,l=Math.min(i,n);l&&this.parse(0,l),i>n?this._insertElements(n,i-n,t):i<n&&this._removeElements(i,n-i)}_insertElements(t,a,r=!0){const n=this._cachedMeta,i=n.data,l=t+a;let o;const c=d=>{for(d.length+=a,o=d.length-1;o>=l;o--)d[o]=d[o-a]};for(c(i),o=t;o<l;++o)i[o]=new this.dataElementType;this._parsing&&c(n._parsed),this.parse(t,a),r&&this.updateElements(i,t,a,"reset")}updateElements(t,a,r,n){}_removeElements(t,a){const r=this._cachedMeta;if(this._parsing){const n=r._parsed.splice(t,a);r._stacked&&Pg(r,n)}r.data.splice(t,a)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[a,r,n]=t;this[a](r,n)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,a){a&&this._sync(["_removeElements",t,a]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Ele(e,t){if(!e._cache.$bar){const a=e.getMatchingVisibleMetas(t);let r=[];for(let n=0,i=a.length;n<i;n++)r=r.concat(a[n].controller.getAllParsedValues(e));e._cache.$bar=XU(r.sort((n,i)=>n-i))}return e._cache.$bar}function Dle(e){const t=e.iScale,a=Ele(t,e.type);let r=t._length,n,i,l,o;const c=()=>{l===32767||l===-32768||(qv(o)&&(r=Math.min(r,Math.abs(l-o)||r)),o=l)};for(n=0,i=a.length;n<i;++n)l=t.getPixelForValue(a[n]),c();for(o=void 0,n=0,i=t.ticks.length;n<i;++n)l=t.getPixelForTick(n),c();return r}function Mle(e,t,a,r){const n=a.barThickness;let i,l;return fs(n)?(i=t.min*a.categoryPercentage,l=a.barPercentage):(i=n*r,l=1),{chunk:i/r,ratio:l,start:t.pixels[e]-i/2}}function Ple(e,t,a,r){const n=t.pixels,i=n[e];let l=e>0?n[e-1]:null,o=e<n.length-1?n[e+1]:null;const c=a.categoryPercentage;l===null&&(l=i-(o===null?t.end-t.start:o-i)),o===null&&(o=i+i-l);const d=i-(i-Math.min(l,o))/2*c;return{chunk:Math.abs(o-l)/2*c/r,ratio:a.barPercentage,start:d}}function Lle(e,t,a,r){const n=a.parse(e[0],r),i=a.parse(e[1],r),l=Math.min(n,i),o=Math.max(n,i);let c=l,d=o;Math.abs(l)>Math.abs(o)&&(c=o,d=l),t[a.axis]=d,t._custom={barStart:c,barEnd:d,start:n,end:i,min:l,max:o}}function vz(e,t,a,r){return Pr(e)?Lle(e,t,a,r):t[a.axis]=a.parse(e,r),t}function xM(e,t,a,r){const n=e.iScale,i=e.vScale,l=n.getLabels(),o=n===i,c=[];let d,u,f,p;for(d=a,u=a+r;d<u;++d)p=t[d],f={},f[n.axis]=o||n.parse(l[d],d),c.push(vz(p,f,i,d));return c}function k5(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function Ole(e,t,a){return e!==0?Jd(e):(t.isHorizontal()?1:-1)*(t.min>=a?1:-1)}function Rle(e){let t,a,r,n,i;return e.horizontal?(t=e.base>e.x,a="left",r="right"):(t=e.base<e.y,a="bottom",r="top"),t?(n="end",i="start"):(n="start",i="end"),{start:a,end:r,reverse:t,top:n,bottom:i}}function Fle(e,t,a,r){let n=t.borderSkipped;const i={};if(!n){e.borderSkipped=i;return}if(n===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:o,reverse:c,top:d,bottom:u}=Rle(e);n==="middle"&&a&&(e.enableBorderRadius=!0,(a._top||0)===r?n=d:(a._bottom||0)===r?n=u:(i[gM(u,l,o,c)]=!0,n=d)),i[gM(n,l,o,c)]=!0,e.borderSkipped=i}function gM(e,t,a,r){return r?(e=Ile(e,t,a),e=vM(e,a,t)):e=vM(e,t,a),e}function Ile(e,t,a){return e===t?a:e===a?t:e}function vM(e,t,a){return e==="start"?t:e==="end"?a:e}function Ble(e,{inflateAmount:t},a){e.inflateAmount=t==="auto"?a===1?.33:0:t}class bz extends Hf{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,a,r,n){return xM(t,a,r,n)}parseArrayData(t,a,r,n){return xM(t,a,r,n)}parseObjectData(t,a,r,n){const{iScale:i,vScale:l}=t,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=i.axis==="x"?o:c,u=l.axis==="x"?o:c,f=[];let p,m,v,g;for(p=r,m=r+n;p<m;++p)g=a[p],v={},v[i.axis]=i.parse(Tf(g,d),p),f.push(vz(Tf(g,u),v,l,p));return f}updateRangeFromParsed(t,a,r,n){super.updateRangeFromParsed(t,a,r,n);const i=r._custom;i&&a===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const a=this._cachedMeta,{iScale:r,vScale:n}=a,i=this.getParsed(t),l=i._custom,o=k5(l)?"["+l.start+", "+l.end+"]":""+n.getLabelForValue(i[n.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const a=this._cachedMeta;this.updateElements(a.data,0,a.data.length,t)}updateElements(t,a,r,n){const i=n==="reset",{index:l,_cachedMeta:{vScale:o}}=this,c=o.getBasePixel(),d=o.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:p}=this._getSharedOptions(a,n);for(let m=a;m<a+r;m++){const v=this.getParsed(m),g=i||fs(v[o.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),b=this._calculateBarIndexPixels(m,u),j=(v._stacks||{})[o.axis],N={horizontal:d,base:g.base,enableBorderRadius:!j||k5(v._custom)||l===j._top||l===j._bottom,x:d?g.head:b.center,y:d?b.center:g.head,height:d?b.size:Math.abs(g.size),width:d?Math.abs(g.size):b.size};p&&(N.options=f||this.resolveDataElementOptions(m,t[m].active?"active":n));const k=N.options||t[m].options;Fle(N,k,j,l),Ble(N,k,u.ratio),this.updateElement(t[m],m,N,n)}}_getStacks(t,a){const{iScale:r}=this._cachedMeta,n=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=r.options.stacked,l=[],o=this._cachedMeta.controller.getParsed(a),c=o&&o[r.axis],d=u=>{const f=u._parsed.find(m=>m[r.axis]===c),p=f&&f[u.vScale.axis];if(fs(p)||isNaN(p))return!0};for(const u of n)if(!(a!==void 0&&d(u))&&((i===!1||l.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&l.push(u.stack),u.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,a=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===a).shift()}_getAxis(){const t={},a=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[Ka(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,a)]=!0;return Object.keys(t)}_getStackIndex(t,a,r){const n=this._getStacks(t,r),i=a!==void 0?n.indexOf(a):-1;return i===-1?n.length-1:i}_getRuler(){const t=this.options,a=this._cachedMeta,r=a.iScale,n=[];let i,l;for(i=0,l=a.data.length;i<l;++i)n.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const o=t.barThickness;return{min:o||Dle(a),pixels:n,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:a,_stacked:r,index:n},options:{base:i,minBarLength:l}}=this,o=i||0,c=this.getParsed(t),d=c._custom,u=k5(d);let f=c[a.axis],p=0,m=r?this.applyStack(a,c,r):f,v,g;m!==f&&(p=m-f,m=f),u&&(f=d.barStart,m=d.barEnd-d.barStart,f!==0&&Jd(f)!==Jd(d.barEnd)&&(p=0),p+=f);const b=!fs(i)&&!u?i:p;let j=a.getPixelForValue(b);if(this.chart.getDataVisibility(t)?v=a.getPixelForValue(p+m):v=j,g=v-j,Math.abs(g)<l){g=Ole(g,a,o)*l,f===o&&(j-=g/2);const N=a.getPixelForDecimal(0),k=a.getPixelForDecimal(1),S=Math.min(N,k),C=Math.max(N,k);j=Math.max(Math.min(j,C),S),v=j+g,r&&!u&&(c._stacks[a.axis]._visualValues[n]=a.getValueForPixel(v)-a.getValueForPixel(j))}if(j===a.getPixelForValue(o)){const N=Jd(g)*a.getLineWidthForValue(o)/2;j+=N,g-=N}return{size:g,base:j,head:v,center:v+g/2}}_calculateBarIndexPixels(t,a){const r=a.scale,n=this.options,i=n.skipNull,l=Ka(n.maxBarThickness,1/0);let o,c;const d=this._getAxisCount();if(a.grouped){const u=i?this._getStackCount(t):a.stackCount,f=n.barThickness==="flex"?Ple(t,a,n,u*d):Mle(t,a,n,u*d),p=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(Ka(p,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0)+m;o=f.start+f.chunk*v+f.chunk/2,c=Math.min(l,f.chunk*f.ratio)}else o=r.getPixelForValue(this.getParsed(t)[r.axis],t),c=Math.min(l,a.min*a.ratio);return{base:o-c/2,head:o+c/2,center:o,size:c}}draw(){const t=this._cachedMeta,a=t.vScale,r=t.data,n=r.length;let i=0;for(;i<n;++i)this.getParsed(i)[a.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}class $le extends Hf{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,a,r,n){const i=super.parsePrimitiveData(t,a,r,n);for(let l=0;l<i.length;l++)i[l]._custom=this.resolveDataElementOptions(l+r).radius;return i}parseArrayData(t,a,r,n){const i=super.parseArrayData(t,a,r,n);for(let l=0;l<i.length;l++){const o=a[r+l];i[l]._custom=Ka(o[2],this.resolveDataElementOptions(l+r).radius)}return i}parseObjectData(t,a,r,n){const i=super.parseObjectData(t,a,r,n);for(let l=0;l<i.length;l++){const o=a[r+l];i[l]._custom=Ka(o&&o.r&&+o.r,this.resolveDataElementOptions(l+r).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let a=0;for(let r=t.length-1;r>=0;--r)a=Math.max(a,t[r].size(this.resolveDataElementOptions(r))/2);return a>0&&a}getLabelAndValue(t){const a=this._cachedMeta,r=this.chart.data.labels||[],{xScale:n,yScale:i}=a,l=this.getParsed(t),o=n.getLabelForValue(l.x),c=i.getLabelForValue(l.y),d=l._custom;return{label:r[t]||"",value:"("+o+", "+c+(d?", "+d:"")+")"}}update(t){const a=this._cachedMeta.data;this.updateElements(a,0,a.length,t)}updateElements(t,a,r,n){const i=n==="reset",{iScale:l,vScale:o}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(a,n),u=l.axis,f=o.axis;for(let p=a;p<a+r;p++){const m=t[p],v=!i&&this.getParsed(p),g={},b=g[u]=i?l.getPixelForDecimal(.5):l.getPixelForValue(v[u]),j=g[f]=i?o.getBasePixel():o.getPixelForValue(v[f]);g.skip=isNaN(b)||isNaN(j),d&&(g.options=c||this.resolveDataElementOptions(p,m.active?"active":n),i&&(g.options.radius=0)),this.updateElement(m,p,g,n)}}resolveDataElementOptions(t,a){const r=this.getParsed(t);let n=super.resolveDataElementOptions(t,a);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const i=n.radius;return a!=="active"&&(n.radius=0),n.radius+=Ka(r&&r._custom,i),n}}function Ule(e,t,a){let r=1,n=1,i=0,l=0;if(t<yr){const o=e,c=o+t,d=Math.cos(o),u=Math.sin(o),f=Math.cos(c),p=Math.sin(c),m=(k,S,C)=>Gv(k,o,c,!0)?1:Math.max(S,S*a,C,C*a),v=(k,S,C)=>Gv(k,o,c,!0)?-1:Math.min(S,S*a,C,C*a),g=m(0,d,f),b=m(Sn,u,p),j=v(Ds,d,f),N=v(Ds+Sn,u,p);r=(g-j)/2,n=(b-N)/2,i=-(g+j)/2,l=-(b+N)/2}return{ratioX:r,ratioY:n,offsetX:i,offsetY:l}}class Vj extends Hf{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const a=t.data;if(a.labels.length&&a.datasets.length){const{labels:{pointStyle:r,color:n}}=t.legend.options;return a.labels.map((i,l)=>{const c=t.getDatasetMeta(0).controller.getStyle(l);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:n,lineWidth:c.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,a,r){r.chart.toggleDataVisibility(a.index),r.chart.update()}}}};constructor(t,a){super(t,a),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,a){const r=this.getDataset().data,n=this._cachedMeta;if(this._parsing===!1)n._parsed=r;else{let i=c=>+r[c];if(vs(r[t])){const{key:c="value"}=this._parsing;i=d=>+Tf(r[d],c)}let l,o;for(l=t,o=t+a;l<o;++l)n._parsed[l]=i(l)}}_getRotation(){return sd(this.options.rotation-90)}_getCircumference(){return sd(this.options.circumference)}_getRotationExtents(){let t=yr,a=-yr;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const n=this.chart.getDatasetMeta(r).controller,i=n._getRotation(),l=n._getCircumference();t=Math.min(t,i),a=Math.max(a,i+l)}return{rotation:t,circumference:a-t}}update(t){const a=this.chart,{chartArea:r}=a,n=this._cachedMeta,i=n.data,l=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(r.width,r.height)-l)/2,0),c=Math.min(Qne(this.options.cutout,o),1),d=this._getRingWeight(this.index),{circumference:u,rotation:f}=this._getRotationExtents(),{ratioX:p,ratioY:m,offsetX:v,offsetY:g}=Ule(f,u,c),b=(r.width-l)/p,j=(r.height-l)/m,N=Math.max(Math.min(b,j)/2,0),k=WU(this.options.radius,N),S=Math.max(k*c,0),C=(k-S)/this._getVisibleDatasetWeightTotal();this.offsetX=v*k,this.offsetY=g*k,n.total=this.calculateTotal(),this.outerRadius=k-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*d,0),this.updateElements(i,0,i.length,t)}_circumference(t,a){const r=this.options,n=this._cachedMeta,i=this._getCircumference();return a&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||n._parsed[t]===null||n.data[t].hidden?0:this.calculateCircumference(n._parsed[t]*i/yr)}updateElements(t,a,r,n){const i=n==="reset",l=this.chart,o=l.chartArea,d=l.options.animation,u=(o.left+o.right)/2,f=(o.top+o.bottom)/2,p=i&&d.animateScale,m=p?0:this.innerRadius,v=p?0:this.outerRadius,{sharedOptions:g,includeOptions:b}=this._getSharedOptions(a,n);let j=this._getRotation(),N;for(N=0;N<a;++N)j+=this._circumference(N,i);for(N=a;N<a+r;++N){const k=this._circumference(N,i),S=t[N],C={x:u+this.offsetX,y:f+this.offsetY,startAngle:j,endAngle:j+k,circumference:k,outerRadius:v,innerRadius:m};b&&(C.options=g||this.resolveDataElementOptions(N,S.active?"active":n)),j+=k,this.updateElement(S,N,C,n)}}calculateTotal(){const t=this._cachedMeta,a=t.data;let r=0,n;for(n=0;n<a.length;n++){const i=t._parsed[n];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(n)&&!a[n].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(t){const a=this._cachedMeta.total;return a>0&&!isNaN(t)?yr*(Math.abs(t)/a):0}getLabelAndValue(t){const a=this._cachedMeta,r=this.chart,n=r.data.labels||[],i=H1(a._parsed[t],r.options.locale);return{label:n[t]||"",value:i}}getMaxBorderWidth(t){let a=0;const r=this.chart;let n,i,l,o,c;if(!t){for(n=0,i=r.data.datasets.length;n<i;++n)if(r.isDatasetVisible(n)){l=r.getDatasetMeta(n),t=l.data,o=l.controller;break}}if(!t)return 0;for(n=0,i=t.length;n<i;++n)c=o.resolveDataElementOptions(n),c.borderAlign!=="inner"&&(a=Math.max(a,c.borderWidth||0,c.hoverBorderWidth||0));return a}getMaxOffset(t){let a=0;for(let r=0,n=t.length;r<n;++r){const i=this.resolveDataElementOptions(r);a=Math.max(a,i.offset||0,i.hoverOffset||0)}return a}_getRingWeightOffset(t){let a=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(a+=this._getRingWeight(r));return a}_getRingWeight(t){return Math.max(Ka(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class yz extends Hf{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const a=this._cachedMeta,{dataset:r,data:n=[],_dataset:i}=a,l=this.chart._animationsDisabled;let{start:o,count:c}=ZU(a,n,l);this._drawStart=o,this._drawCount=c,ez(a)&&(o=0,c=n.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=n;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!l,options:d},t),this.updateElements(n,o,c,t)}updateElements(t,a,r,n){const i=n==="reset",{iScale:l,vScale:o,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(a,n),p=l.axis,m=o.axis,{spanGaps:v,segment:g}=this.options,b=rx(v)?v:Number.POSITIVE_INFINITY,j=this.chart._animationsDisabled||i||n==="none",N=a+r,k=t.length;let S=a>0&&this.getParsed(a-1);for(let C=0;C<k;++C){const _=t[C],P=j?_:{};if(C<a||C>=N){P.skip=!0;continue}const L=this.getParsed(C),U=fs(L[m]),z=P[p]=l.getPixelForValue(L[p],C),T=P[m]=i||U?o.getBasePixel():o.getPixelForValue(c?this.applyStack(o,L,c):L[m],C);P.skip=isNaN(z)||isNaN(T)||U,P.stop=C>0&&Math.abs(L[p]-S[p])>b,g&&(P.parsed=L,P.raw=d.data[C]),f&&(P.options=u||this.resolveDataElementOptions(C,_.active?"active":n)),j||this.updateElement(_,C,P,n),S=L}}getMaxOverflow(){const t=this._cachedMeta,a=t.dataset,r=a.options&&a.options.borderWidth||0,n=t.data||[];if(!n.length)return r;const i=n[0].size(this.resolveDataElementOptions(0)),l=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,i,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class wz extends Hf{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const a=t.data;if(a.labels.length&&a.datasets.length){const{labels:{pointStyle:r,color:n}}=t.legend.options;return a.labels.map((i,l)=>{const c=t.getDatasetMeta(0).controller.getStyle(l);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:n,lineWidth:c.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,a,r){r.chart.toggleDataVisibility(a.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,a){super(t,a),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const a=this._cachedMeta,r=this.chart,n=r.data.labels||[],i=H1(a._parsed[t].r,r.options.locale);return{label:n[t]||"",value:i}}parseObjectData(t,a,r,n){return oz.bind(this)(t,a,r,n)}update(t){const a=this._cachedMeta.data;this._updateRadius(),this.updateElements(a,0,a.length,t)}getMinMax(){const t=this._cachedMeta,a={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<a.min&&(a.min=i),i>a.max&&(a.max=i))}),a}_updateRadius(){const t=this.chart,a=t.chartArea,r=t.options,n=Math.min(a.right-a.left,a.bottom-a.top),i=Math.max(n/2,0),l=Math.max(r.cutoutPercentage?i/100*r.cutoutPercentage:1,0),o=(i-l)/t.getVisibleDatasetCount();this.outerRadius=i-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,a,r,n){const i=n==="reset",l=this.chart,c=l.options.animation,d=this._cachedMeta.rScale,u=d.xCenter,f=d.yCenter,p=d.getIndexAngle(0)-.5*Ds;let m=p,v;const g=360/this.countVisibleElements();for(v=0;v<a;++v)m+=this._computeAngle(v,n,g);for(v=a;v<a+r;v++){const b=t[v];let j=m,N=m+this._computeAngle(v,n,g),k=l.getDataVisibility(v)?d.getDistanceFromCenterForValue(this.getParsed(v).r):0;m=N,i&&(c.animateScale&&(k=0),c.animateRotate&&(j=N=p));const S={x:u,y:f,innerRadius:0,outerRadius:k,startAngle:j,endAngle:N,options:this.resolveDataElementOptions(v,b.active?"active":n)};this.updateElement(b,v,S,n)}}countVisibleElements(){const t=this._cachedMeta;let a=0;return t.data.forEach((r,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&a++}),a}_computeAngle(t,a,r){return this.chart.getDataVisibility(t)?sd(this.resolveDataElementOptions(t,a).angle||r):0}}class jz extends Vj{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class zle extends Hf{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const a=this._cachedMeta.vScale,r=this.getParsed(t);return{label:a.getLabels()[t],value:""+a.getLabelForValue(r[a.axis])}}parseObjectData(t,a,r,n){return oz.bind(this)(t,a,r,n)}update(t){const a=this._cachedMeta,r=a.dataset,n=a.data||[],i=a.iScale.getLabels();if(r.points=n,t!=="resize"){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0);const o={_loop:!0,_fullLoop:i.length===n.length,options:l};this.updateElement(r,void 0,o,t)}this.updateElements(n,0,n.length,t)}updateElements(t,a,r,n){const i=this._cachedMeta.rScale,l=n==="reset";for(let o=a;o<a+r;o++){const c=t[o],d=this.resolveDataElementOptions(o,c.active?"active":n),u=i.getPointPositionForValue(o,this.getParsed(o).r),f=l?i.xCenter:u.x,p=l?i.yCenter:u.y,m={x:f,y:p,angle:u.angle,skip:isNaN(f)||isNaN(p),options:d};this.updateElement(c,o,m,n)}}}class Hle extends Hf{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const a=this._cachedMeta,r=this.chart.data.labels||[],{xScale:n,yScale:i}=a,l=this.getParsed(t),o=n.getLabelForValue(l.x),c=i.getLabelForValue(l.y);return{label:r[t]||"",value:"("+o+", "+c+")"}}update(t){const a=this._cachedMeta,{data:r=[]}=a,n=this.chart._animationsDisabled;let{start:i,count:l}=ZU(a,r,n);if(this._drawStart=i,this._drawCount=l,ez(a)&&(i=0,l=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:c}=a;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!c._decimated,o.points=r;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(o,void 0,{animated:!n,options:d},t)}else this.datasetElementType&&(delete a.dataset,this.datasetElementType=!1);this.updateElements(r,i,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,a,r,n){const i=n==="reset",{iScale:l,vScale:o,_stacked:c,_dataset:d}=this._cachedMeta,u=this.resolveDataElementOptions(a,n),f=this.getSharedOptions(u),p=this.includeOptions(n,f),m=l.axis,v=o.axis,{spanGaps:g,segment:b}=this.options,j=rx(g)?g:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||i||n==="none";let k=a>0&&this.getParsed(a-1);for(let S=a;S<a+r;++S){const C=t[S],_=this.getParsed(S),P=N?C:{},L=fs(_[v]),U=P[m]=l.getPixelForValue(_[m],S),z=P[v]=i||L?o.getBasePixel():o.getPixelForValue(c?this.applyStack(o,_,c):_[v],S);P.skip=isNaN(U)||isNaN(z)||L,P.stop=S>0&&Math.abs(_[m]-k[m])>j,b&&(P.parsed=_,P.raw=d.data[S]),p&&(P.options=f||this.resolveDataElementOptions(S,C.active?"active":n)),N||this.updateElement(C,S,P,n),k=_}this.updateSharedOptions(f,n,u)}getMaxOverflow(){const t=this._cachedMeta,a=t.data||[];if(!this.options.showLine){let o=0;for(let c=a.length-1;c>=0;--c)o=Math.max(o,a[c].size(this.resolveDataElementOptions(c))/2);return o>0&&o}const r=t.dataset,n=r.options&&r.options.borderWidth||0;if(!a.length)return n;const i=a[0].size(this.resolveDataElementOptions(0)),l=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,i,l)/2}}var Vle=Object.freeze({__proto__:null,BarController:bz,BubbleController:$le,DoughnutController:Vj,LineController:yz,PieController:jz,PolarAreaController:wz,RadarController:zle,ScatterController:Hle});function k0(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class wA{static override(t){Object.assign(wA.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return k0()}parse(){return k0()}format(){return k0()}add(){return k0()}diff(){return k0()}startOf(){return k0()}endOf(){return k0()}}var Wle={_date:wA};function qle(e,t,a,r){const{controller:n,data:i,_sorted:l}=e,o=n._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&t!=="r"&&l&&i.length){const d=o._reversePixels?uie:Vu;if(r){if(n._sharedOptions){const u=i[0],f=typeof u.getRange=="function"&&u.getRange(t);if(f){const p=d(i,t,a-f),m=d(i,t,a+f);return{lo:p.lo,hi:m.hi}}}}else{const u=d(i,t,a);if(c){const{vScale:f}=n._cachedMeta,{_parsed:p}=e,m=p.slice(0,u.lo+1).reverse().findIndex(g=>!fs(g[f.axis]));u.lo-=Math.max(0,m);const v=p.slice(u.hi).findIndex(g=>!fs(g[f.axis]));u.hi+=Math.max(0,v)}return u}}return{lo:0,hi:i.length-1}}function Wj(e,t,a,r,n){const i=e.getSortedVisibleDatasetMetas(),l=a[t];for(let o=0,c=i.length;o<c;++o){const{index:d,data:u}=i[o],{lo:f,hi:p}=qle(i[o],t,l,n);for(let m=f;m<=p;++m){const v=u[m];v.skip||r(v,d,m)}}}function Gle(e){const t=e.indexOf("x")!==-1,a=e.indexOf("y")!==-1;return function(r,n){const i=t?Math.abs(r.x-n.x):0,l=a?Math.abs(r.y-n.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(l,2))}}function S5(e,t,a,r,n){const i=[];return!n&&!e.isPointInArea(t)||Wj(e,a,t,function(o,c,d){!n&&!Wu(o,e.chartArea,0)||o.inRange(t.x,t.y,r)&&i.push({element:o,datasetIndex:c,index:d})},!0),i}function Kle(e,t,a,r){let n=[];function i(l,o,c){const{startAngle:d,endAngle:u}=l.getProps(["startAngle","endAngle"],r),{angle:f}=KU(l,{x:t.x,y:t.y});Gv(f,d,u)&&n.push({element:l,datasetIndex:o,index:c})}return Wj(e,a,t,i),n}function Yle(e,t,a,r,n,i){let l=[];const o=Gle(a);let c=Number.POSITIVE_INFINITY;function d(u,f,p){const m=u.inRange(t.x,t.y,n);if(r&&!m)return;const v=u.getCenterPoint(n);if(!(!!i||e.isPointInArea(v))&&!m)return;const b=o(t,v);b<c?(l=[{element:u,datasetIndex:f,index:p}],c=b):b===c&&l.push({element:u,datasetIndex:f,index:p})}return Wj(e,a,t,d),l}function C5(e,t,a,r,n,i){return!i&&!e.isPointInArea(t)?[]:a==="r"&&!r?Kle(e,t,a,n):Yle(e,t,a,r,n,i)}function bM(e,t,a,r,n){const i=[],l=a==="x"?"inXRange":"inYRange";let o=!1;return Wj(e,a,t,(c,d,u)=>{c[l]&&c[l](t[a],n)&&(i.push({element:c,datasetIndex:d,index:u}),o=o||c.inRange(t.x,t.y,n))}),r&&!o?[]:i}var Xle={modes:{index(e,t,a,r){const n=_0(t,e),i=a.axis||"x",l=a.includeInvisible||!1,o=a.intersect?S5(e,n,i,r,l):C5(e,n,i,!1,r,l),c=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const u=o[0].index,f=d.data[u];f&&!f.skip&&c.push({element:f,datasetIndex:d.index,index:u})}),c):[]},dataset(e,t,a,r){const n=_0(t,e),i=a.axis||"xy",l=a.includeInvisible||!1;let o=a.intersect?S5(e,n,i,r,l):C5(e,n,i,!1,r,l);if(o.length>0){const c=o[0].datasetIndex,d=e.getDatasetMeta(c).data;o=[];for(let u=0;u<d.length;++u)o.push({element:d[u],datasetIndex:c,index:u})}return o},point(e,t,a,r){const n=_0(t,e),i=a.axis||"xy",l=a.includeInvisible||!1;return S5(e,n,i,r,l)},nearest(e,t,a,r){const n=_0(t,e),i=a.axis||"xy",l=a.includeInvisible||!1;return C5(e,n,i,a.intersect,r,l)},x(e,t,a,r){const n=_0(t,e);return bM(e,n,"x",a.intersect,r)},y(e,t,a,r){const n=_0(t,e);return bM(e,n,"y",a.intersect,r)}}};const Nz=["left","top","right","bottom"];function Lg(e,t){return e.filter(a=>a.pos===t)}function yM(e,t){return e.filter(a=>Nz.indexOf(a.pos)===-1&&a.box.axis===t)}function Og(e,t){return e.sort((a,r)=>{const n=t?r:a,i=t?a:r;return n.weight===i.weight?n.index-i.index:n.weight-i.weight})}function Jle(e){const t=[];let a,r,n,i,l,o;for(a=0,r=(e||[]).length;a<r;++a)n=e[a],{position:i,options:{stack:l,stackWeight:o=1}}=n,t.push({index:a,box:n,pos:i,horizontal:n.isHorizontal(),weight:n.weight,stack:l&&i+l,stackWeight:o});return t}function Qle(e){const t={};for(const a of e){const{stack:r,pos:n,stackWeight:i}=a;if(!r||!Nz.includes(n))continue;const l=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=i}return t}function Zle(e,t){const a=Qle(e),{vBoxMaxWidth:r,hBoxMaxHeight:n}=t;let i,l,o;for(i=0,l=e.length;i<l;++i){o=e[i];const{fullSize:c}=o.box,d=a[o.stack],u=d&&o.stackWeight/d.weight;o.horizontal?(o.width=u?u*r:c&&t.availableWidth,o.height=n):(o.width=r,o.height=u?u*n:c&&t.availableHeight)}return a}function eoe(e){const t=Jle(e),a=Og(t.filter(d=>d.box.fullSize),!0),r=Og(Lg(t,"left"),!0),n=Og(Lg(t,"right")),i=Og(Lg(t,"top"),!0),l=Og(Lg(t,"bottom")),o=yM(t,"x"),c=yM(t,"y");return{fullSize:a,leftAndTop:r.concat(i),rightAndBottom:n.concat(c).concat(l).concat(o),chartArea:Lg(t,"chartArea"),vertical:r.concat(n).concat(c),horizontal:i.concat(l).concat(o)}}function wM(e,t,a,r){return Math.max(e[a],t[a])+Math.max(e[r],t[r])}function kz(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function toe(e,t,a,r){const{pos:n,box:i}=a,l=e.maxPadding;if(!vs(n)){a.size&&(e[n]-=a.size);const f=r[a.stack]||{size:0,count:1};f.size=Math.max(f.size,a.horizontal?i.height:i.width),a.size=f.size/f.count,e[n]+=a.size}i.getPadding&&kz(l,i.getPadding());const o=Math.max(0,t.outerWidth-wM(l,e,"left","right")),c=Math.max(0,t.outerHeight-wM(l,e,"top","bottom")),d=o!==e.w,u=c!==e.h;return e.w=o,e.h=c,a.horizontal?{same:d,other:u}:{same:u,other:d}}function aoe(e){const t=e.maxPadding;function a(r){const n=Math.max(t[r]-e[r],0);return e[r]+=n,n}e.y+=a("top"),e.x+=a("left"),a("right"),a("bottom")}function soe(e,t){const a=t.maxPadding;function r(n){const i={left:0,top:0,right:0,bottom:0};return n.forEach(l=>{i[l]=Math.max(t[l],a[l])}),i}return r(e?["left","right"]:["top","bottom"])}function rv(e,t,a,r){const n=[];let i,l,o,c,d,u;for(i=0,l=e.length,d=0;i<l;++i){o=e[i],c=o.box,c.update(o.width||t.w,o.height||t.h,soe(o.horizontal,t));const{same:f,other:p}=toe(t,a,o,r);d|=f&&n.length,u=u||p,c.fullSize||n.push(o)}return d&&rv(n,t,a,r)||u}function My(e,t,a,r,n){e.top=a,e.left=t,e.right=t+r,e.bottom=a+n,e.width=r,e.height=n}function jM(e,t,a,r){const n=a.padding;let{x:i,y:l}=t;for(const o of e){const c=o.box,d=r[o.stack]||{placed:0,weight:1},u=o.stackWeight/d.weight||1;if(o.horizontal){const f=t.w*u,p=d.size||c.height;qv(d.start)&&(l=d.start),c.fullSize?My(c,n.left,l,a.outerWidth-n.right-n.left,p):My(c,t.left+d.placed,l,f,p),d.start=l,d.placed+=f,l=c.bottom}else{const f=t.h*u,p=d.size||c.width;qv(d.start)&&(i=d.start),c.fullSize?My(c,i,n.top,p,a.outerHeight-n.bottom-n.top):My(c,i,t.top+d.placed,p,f),d.start=i,d.placed+=f,i=c.right}}t.x=i,t.y=l}var cl={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(a){t.draw(a)}}]},e.boxes.push(t)},removeBox(e,t){const a=e.boxes?e.boxes.indexOf(t):-1;a!==-1&&e.boxes.splice(a,1)},configure(e,t,a){t.fullSize=a.fullSize,t.position=a.position,t.weight=a.weight},update(e,t,a,r){if(!e)return;const n=hl(e.options.layout.padding),i=Math.max(t-n.width,0),l=Math.max(a-n.height,0),o=eoe(e.boxes),c=o.vertical,d=o.horizontal;Ws(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=c.reduce((g,b)=>b.box.options&&b.box.options.display===!1?g:g+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:a,padding:n,availableWidth:i,availableHeight:l,vBoxMaxWidth:i/2/u,hBoxMaxHeight:l/2}),p=Object.assign({},n);kz(p,hl(r));const m=Object.assign({maxPadding:p,w:i,h:l,x:n.left,y:n.top},n),v=Zle(c.concat(d),f);rv(o.fullSize,m,f,v),rv(c,m,f,v),rv(d,m,f,v)&&rv(c,m,f,v),aoe(m),jM(o.leftAndTop,m,f,v),m.x+=m.w,m.y+=m.h,jM(o.rightAndBottom,m,f,v),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Ws(o.chartArea,g=>{const b=g.box;Object.assign(b,e.chartArea),b.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class Sz{acquireContext(t,a){}releaseContext(t){return!1}addEventListener(t,a,r){}removeEventListener(t,a,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,a,r,n){return a=Math.max(0,a||t.width),r=r||t.height,{width:a,height:Math.max(0,n?Math.floor(a/n):r)}}isAttached(t){return!0}updateConfig(t){}}class roe extends Sz{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const R2="$chartjs",noe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},NM=e=>e===null||e==="";function ioe(e,t){const a=e.style,r=e.getAttribute("height"),n=e.getAttribute("width");if(e[R2]={initial:{height:r,width:n,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",a.boxSizing=a.boxSizing||"border-box",NM(n)){const i=iM(e,"width");i!==void 0&&(e.width=i)}if(NM(r))if(e.style.height==="")e.height=e.width/(t||2);else{const i=iM(e,"height");i!==void 0&&(e.height=i)}return e}const Cz=rle?{passive:!0}:!1;function loe(e,t,a){e&&e.addEventListener(t,a,Cz)}function ooe(e,t,a){e&&e.canvas&&e.canvas.removeEventListener(t,a,Cz)}function coe(e,t){const a=noe[e.type]||e.type,{x:r,y:n}=_0(e,t);return{type:a,chart:t,native:e,x:r!==void 0?r:null,y:n!==void 0?n:null}}function ow(e,t){for(const a of e)if(a===t||a.contains(t))return!0}function doe(e,t,a){const r=e.canvas,n=new MutationObserver(i=>{let l=!1;for(const o of i)l=l||ow(o.addedNodes,r),l=l&&!ow(o.removedNodes,r);l&&a()});return n.observe(document,{childList:!0,subtree:!0}),n}function uoe(e,t,a){const r=e.canvas,n=new MutationObserver(i=>{let l=!1;for(const o of i)l=l||ow(o.removedNodes,r),l=l&&!ow(o.addedNodes,r);l&&a()});return n.observe(document,{childList:!0,subtree:!0}),n}const Yv=new Map;let kM=0;function Az(){const e=window.devicePixelRatio;e!==kM&&(kM=e,Yv.forEach((t,a)=>{a.currentDevicePixelRatio!==e&&t()}))}function hoe(e,t){Yv.size||window.addEventListener("resize",Az),Yv.set(e,t)}function foe(e){Yv.delete(e),Yv.size||window.removeEventListener("resize",Az)}function moe(e,t,a){const r=e.canvas,n=r&&yA(r);if(!n)return;const i=QU((o,c)=>{const d=n.clientWidth;a(o,c),d<n.clientWidth&&a()},window),l=new ResizeObserver(o=>{const c=o[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||i(d,u)});return l.observe(n),hoe(e,i),l}function A5(e,t,a){a&&a.disconnect(),t==="resize"&&foe(e)}function poe(e,t,a){const r=e.canvas,n=QU(i=>{e.ctx!==null&&a(coe(i,e))},e);return loe(r,t,n),n}class xoe extends Sz{acquireContext(t,a){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(ioe(t,a),r):null}releaseContext(t){const a=t.canvas;if(!a[R2])return!1;const r=a[R2].initial;["height","width"].forEach(i=>{const l=r[i];fs(l)?a.removeAttribute(i):a.setAttribute(i,l)});const n=r.style||{};return Object.keys(n).forEach(i=>{a.style[i]=n[i]}),a.width=a.width,delete a[R2],!0}addEventListener(t,a,r){this.removeEventListener(t,a);const n=t.$proxies||(t.$proxies={}),l={attach:doe,detach:uoe,resize:moe}[a]||poe;n[a]=l(t,a,r)}removeEventListener(t,a){const r=t.$proxies||(t.$proxies={}),n=r[a];if(!n)return;({attach:A5,detach:A5,resize:A5}[a]||ooe)(t,a,n),r[a]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,a,r,n){return sle(t,a,r,n)}isAttached(t){const a=t&&yA(t);return!!(a&&a.isConnected)}}function goe(e){return!bA()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?roe:xoe}let gh=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:a,y:r}=this.getProps(["x","y"],t);return{x:a,y:r}}hasValue(){return rx(this.x)&&rx(this.y)}getProps(t,a){const r=this.$animations;if(!a||!r)return this;const n={};return t.forEach(i=>{n[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),n}};function voe(e,t){const a=e.options.ticks,r=boe(e),n=Math.min(a.maxTicksLimit||r,r),i=a.major.enabled?woe(t):[],l=i.length,o=i[0],c=i[l-1],d=[];if(l>n)return joe(t,d,i,l/n),d;const u=yoe(i,t,n);if(l>0){let f,p;const m=l>1?Math.round((c-o)/(l-1)):null;for(Py(t,d,u,fs(m)?0:o-m,o),f=0,p=l-1;f<p;f++)Py(t,d,u,i[f],i[f+1]);return Py(t,d,u,c,fs(m)?t.length:c+m),d}return Py(t,d,u),d}function boe(e){const t=e.options.offset,a=e._tickSize(),r=e._length/a+(t?0:1),n=e._maxLength/a;return Math.floor(Math.min(r,n))}function yoe(e,t,a){const r=Noe(e),n=t.length/a;if(!r)return Math.max(n,1);const i=iie(r);for(let l=0,o=i.length-1;l<o;l++){const c=i[l];if(c>n)return c}return Math.max(n,1)}function woe(e){const t=[];let a,r;for(a=0,r=e.length;a<r;a++)e[a].major&&t.push(a);return t}function joe(e,t,a,r){let n=0,i=a[0],l;for(r=Math.ceil(r),l=0;l<e.length;l++)l===i&&(t.push(e[l]),n++,i=a[n*r])}function Py(e,t,a,r,n){const i=Ka(r,0),l=Math.min(Ka(n,e.length),e.length);let o=0,c,d,u;for(a=Math.ceil(a),n&&(c=n-r,a=c/Math.floor(c/a)),u=i;u<0;)o++,u=Math.round(i+o*a);for(d=Math.max(i,0);d<l;d++)d===u&&(t.push(e[d]),o++,u=Math.round(i+o*a))}function Noe(e){const t=e.length;let a,r;if(t<2)return!1;for(r=e[0],a=1;a<t;++a)if(e[a]-e[a-1]!==r)return!1;return r}const koe=e=>e==="left"?"right":e==="right"?"left":e,SM=(e,t,a)=>t==="top"||t==="left"?e[t]+a:e[t]-a,CM=(e,t)=>Math.min(t||e,e);function AM(e,t){const a=[],r=e.length/t,n=e.length;let i=0;for(;i<n;i+=r)a.push(e[Math.floor(i)]);return a}function Soe(e,t,a){const r=e.ticks.length,n=Math.min(t,r-1),i=e._startPixel,l=e._endPixel,o=1e-6;let c=e.getPixelForTick(n),d;if(!(a&&(r===1?d=Math.max(c-i,l-c):t===0?d=(e.getPixelForTick(1)-c)/2:d=(c-e.getPixelForTick(n-1))/2,c+=n<t?d:-d,c<i-o||c>l+o)))return c}function Coe(e,t){Ws(e,a=>{const r=a.gc,n=r.length/2;let i;if(n>t){for(i=0;i<n;++i)delete a.data[r[i]];r.splice(0,n)}})}function Rg(e){return e.drawTicks?e.tickLength:0}function _M(e,t){if(!e.display)return 0;const a=Zn(e.font,t),r=hl(e.padding);return(Pr(e.text)?e.text.length:1)*a.lineHeight+r.height}function Aoe(e,t){return zf(e,{scale:t,type:"scale"})}function _oe(e,t,a){return zf(e,{tick:a,index:t,type:"tick"})}function Toe(e,t,a){let r=fA(e);return(a&&t!=="right"||!a&&t==="right")&&(r=koe(r)),r}function Eoe(e,t,a,r){const{top:n,left:i,bottom:l,right:o,chart:c}=e,{chartArea:d,scales:u}=c;let f=0,p,m,v;const g=l-n,b=o-i;if(e.isHorizontal()){if(m=el(r,i,o),vs(a)){const j=Object.keys(a)[0],N=a[j];v=u[j].getPixelForValue(N)+g-t}else a==="center"?v=(d.bottom+d.top)/2+g-t:v=SM(e,a,t);p=o-i}else{if(vs(a)){const j=Object.keys(a)[0],N=a[j];m=u[j].getPixelForValue(N)-b+t}else a==="center"?m=(d.left+d.right)/2-b+t:m=SM(e,a,t);v=el(r,l,n),f=a==="left"?-Sn:Sn}return{titleX:m,titleY:v,maxWidth:p,rotation:f}}class Em extends gh{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,a){return t}getUserBounds(){let{_userMin:t,_userMax:a,_suggestedMin:r,_suggestedMax:n}=this;return t=Ao(t,Number.POSITIVE_INFINITY),a=Ao(a,Number.NEGATIVE_INFINITY),r=Ao(r,Number.POSITIVE_INFINITY),n=Ao(n,Number.NEGATIVE_INFINITY),{min:Ao(t,r),max:Ao(a,n),minDefined:rn(t),maxDefined:rn(a)}}getMinMax(t){let{min:a,max:r,minDefined:n,maxDefined:i}=this.getUserBounds(),l;if(n&&i)return{min:a,max:r};const o=this.getMatchingVisibleMetas();for(let c=0,d=o.length;c<d;++c)l=o[c].controller.getMinMax(this,t),n||(a=Math.min(a,l.min)),i||(r=Math.max(r,l.max));return a=i&&a>r?r:a,r=n&&a>r?a:r,{min:Ao(a,Ao(r,a)),max:Ao(r,Ao(a,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ur(this.options.beforeUpdate,[this])}update(t,a,r){const{beginAtZero:n,grace:i,ticks:l}=this.options,o=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=a,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Oie(this,i,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=o<this.ticks.length;this._convertTicksToLabels(c?AM(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=voe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,a,r;this.isHorizontal()?(a=this.left,r=this.right):(a=this.top,r=this.bottom,t=!t),this._startPixel=a,this._endPixel=r,this._reversePixels=t,this._length=r-a,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ur(this.options.afterUpdate,[this])}beforeSetDimensions(){ur(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ur(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ur(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ur(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const a=this.options.ticks;let r,n,i;for(r=0,n=t.length;r<n;r++)i=t[r],i.label=ur(a.callback,[i.value,r,t],this)}afterTickToLabelConversion(){ur(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ur(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,a=t.ticks,r=CM(this.ticks.length,t.ticks.maxTicksLimit),n=a.minRotation||0,i=a.maxRotation;let l=n,o,c,d;if(!this._isVisible()||!a.display||n>=i||r<=1||!this.isHorizontal()){this.labelRotation=n;return}const u=this._getLabelSizes(),f=u.widest.width,p=u.highest.height,m=wi(this.chart.width-f,0,this.maxWidth);o=t.offset?this.maxWidth/r:m/(r-1),f+6>o&&(o=m/(r-(t.offset?.5:1)),c=this.maxHeight-Rg(t.grid)-a.padding-_M(t.title,this.chart.options.font),d=Math.sqrt(f*f+p*p),l=uA(Math.min(Math.asin(wi((u.highest.height+6)/o,-1,1)),Math.asin(wi(c/d,-1,1))-Math.asin(wi(p/d,-1,1)))),l=Math.max(n,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){ur(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ur(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:a,options:{ticks:r,title:n,grid:i}}=this,l=this._isVisible(),o=this.isHorizontal();if(l){const c=_M(n,a.options.font);if(o?(t.width=this.maxWidth,t.height=Rg(i)+c):(t.height=this.maxHeight,t.width=Rg(i)+c),r.display&&this.ticks.length){const{first:d,last:u,widest:f,highest:p}=this._getLabelSizes(),m=r.padding*2,v=sd(this.labelRotation),g=Math.cos(v),b=Math.sin(v);if(o){const j=r.mirror?0:b*f.width+g*p.height;t.height=Math.min(this.maxHeight,t.height+j+m)}else{const j=r.mirror?0:g*f.width+b*p.height;t.width=Math.min(this.maxWidth,t.width+j+m)}this._calculatePadding(d,u,b,g)}}this._handleMargins(),o?(this.width=this._length=a.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=a.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,a,r,n){const{ticks:{align:i,padding:l},position:o}=this.options,c=this.labelRotation!==0,d=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,m=0;c?d?(p=n*t.width,m=r*a.height):(p=r*t.height,m=n*a.width):i==="start"?m=a.width:i==="end"?p=t.width:i!=="inner"&&(p=t.width/2,m=a.width/2),this.paddingLeft=Math.max((p-u+l)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-f+l)*this.width/(this.width-f),0)}else{let u=a.height/2,f=t.height/2;i==="start"?(u=0,f=t.height):i==="end"&&(u=a.height,f=0),this.paddingTop=u+l,this.paddingBottom=f+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ur(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:a}=this.options;return a==="top"||a==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let a,r;for(a=0,r=t.length;a<r;a++)fs(t[a].label)&&(t.splice(a,1),r--,a--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const a=this.options.ticks.sampleSize;let r=this.ticks;a<r.length&&(r=AM(r,a)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,a,r){const{ctx:n,_longestTextCache:i}=this,l=[],o=[],c=Math.floor(a/CM(a,r));let d=0,u=0,f,p,m,v,g,b,j,N,k,S,C;for(f=0;f<a;f+=c){if(v=t[f].label,g=this._resolveTickFontOptions(f),n.font=b=g.string,j=i[b]=i[b]||{data:{},gc:[]},N=g.lineHeight,k=S=0,!fs(v)&&!Pr(v))k=iw(n,j.data,j.gc,k,v),S=N;else if(Pr(v))for(p=0,m=v.length;p<m;++p)C=v[p],!fs(C)&&!Pr(C)&&(k=iw(n,j.data,j.gc,k,C),S+=N);l.push(k),o.push(S),d=Math.max(k,d),u=Math.max(S,u)}Coe(i,a);const _=l.indexOf(d),P=o.indexOf(u),L=U=>({width:l[U]||0,height:o[U]||0});return{first:L(0),last:L(a-1),widest:L(_),highest:L(P),widths:l,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,a){return NaN}getValueForPixel(t){}getPixelForTick(t){const a=this.ticks;return t<0||t>a.length-1?null:this.getPixelForValue(a[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const a=this._startPixel+t*this._length;return die(this._alignToPixels?N0(this.chart,a,0):a)}getDecimalForPixel(t){const a=(t-this._startPixel)/this._length;return this._reversePixels?1-a:a}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:a}=this;return t<0&&a<0?a:t>0&&a>0?t:0}getContext(t){const a=this.ticks||[];if(t>=0&&t<a.length){const r=a[t];return r.$context||(r.$context=_oe(this.getContext(),t,r))}return this.$context||(this.$context=Aoe(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,a=sd(this.labelRotation),r=Math.abs(Math.cos(a)),n=Math.abs(Math.sin(a)),i=this._getLabelSizes(),l=t.autoSkipPadding||0,o=i?i.widest.width+l:0,c=i?i.highest.height+l:0;return this.isHorizontal()?c*r>o*n?o/r:c/n:c*n<o*r?c/r:o/n}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const a=this.axis,r=this.chart,n=this.options,{grid:i,position:l,border:o}=n,c=i.offset,d=this.isHorizontal(),f=this.ticks.length+(c?1:0),p=Rg(i),m=[],v=o.setContext(this.getContext()),g=v.display?v.width:0,b=g/2,j=function(R){return N0(r,R,g)};let N,k,S,C,_,P,L,U,z,T,F,M;if(l==="top")N=j(this.bottom),P=this.bottom-p,U=N-b,T=j(t.top)+b,M=t.bottom;else if(l==="bottom")N=j(this.top),T=t.top,M=j(t.bottom)-b,P=N+b,U=this.top+p;else if(l==="left")N=j(this.right),_=this.right-p,L=N-b,z=j(t.left)+b,F=t.right;else if(l==="right")N=j(this.left),z=t.left,F=j(t.right)-b,_=N+b,L=this.left+p;else if(a==="x"){if(l==="center")N=j((t.top+t.bottom)/2+.5);else if(vs(l)){const R=Object.keys(l)[0],q=l[R];N=j(this.chart.scales[R].getPixelForValue(q))}T=t.top,M=t.bottom,P=N+b,U=P+p}else if(a==="y"){if(l==="center")N=j((t.left+t.right)/2);else if(vs(l)){const R=Object.keys(l)[0],q=l[R];N=j(this.chart.scales[R].getPixelForValue(q))}_=N-b,L=_-p,z=t.left,F=t.right}const I=Ka(n.ticks.maxTicksLimit,f),W=Math.max(1,Math.ceil(f/I));for(k=0;k<f;k+=W){const R=this.getContext(k),q=i.setContext(R),ae=o.setContext(R),te=q.lineWidth,K=q.color,oe=ae.dash||[],D=ae.dashOffset,G=q.tickWidth,H=q.tickColor,X=q.tickBorderDash||[],se=q.tickBorderDashOffset;S=Soe(this,k,c),S!==void 0&&(C=N0(r,S,te),d?_=L=z=F=C:P=U=T=M=C,m.push({tx1:_,ty1:P,tx2:L,ty2:U,x1:z,y1:T,x2:F,y2:M,width:te,color:K,borderDash:oe,borderDashOffset:D,tickWidth:G,tickColor:H,tickBorderDash:X,tickBorderDashOffset:se}))}return this._ticksLength=f,this._borderValue=N,m}_computeLabelItems(t){const a=this.axis,r=this.options,{position:n,ticks:i}=r,l=this.isHorizontal(),o=this.ticks,{align:c,crossAlign:d,padding:u,mirror:f}=i,p=Rg(r.grid),m=p+u,v=f?-u:m,g=-sd(this.labelRotation),b=[];let j,N,k,S,C,_,P,L,U,z,T,F,M="middle";if(n==="top")_=this.bottom-v,P=this._getXAxisLabelAlignment();else if(n==="bottom")_=this.top+v,P=this._getXAxisLabelAlignment();else if(n==="left"){const W=this._getYAxisLabelAlignment(p);P=W.textAlign,C=W.x}else if(n==="right"){const W=this._getYAxisLabelAlignment(p);P=W.textAlign,C=W.x}else if(a==="x"){if(n==="center")_=(t.top+t.bottom)/2+m;else if(vs(n)){const W=Object.keys(n)[0],R=n[W];_=this.chart.scales[W].getPixelForValue(R)+m}P=this._getXAxisLabelAlignment()}else if(a==="y"){if(n==="center")C=(t.left+t.right)/2-m;else if(vs(n)){const W=Object.keys(n)[0],R=n[W];C=this.chart.scales[W].getPixelForValue(R)}P=this._getYAxisLabelAlignment(p).textAlign}a==="y"&&(c==="start"?M="top":c==="end"&&(M="bottom"));const I=this._getLabelSizes();for(j=0,N=o.length;j<N;++j){k=o[j],S=k.label;const W=i.setContext(this.getContext(j));L=this.getPixelForTick(j)+i.labelOffset,U=this._resolveTickFontOptions(j),z=U.lineHeight,T=Pr(S)?S.length:1;const R=T/2,q=W.color,ae=W.textStrokeColor,te=W.textStrokeWidth;let K=P;l?(C=L,P==="inner"&&(j===N-1?K=this.options.reverse?"left":"right":j===0?K=this.options.reverse?"right":"left":K="center"),n==="top"?d==="near"||g!==0?F=-T*z+z/2:d==="center"?F=-I.highest.height/2-R*z+z:F=-I.highest.height+z/2:d==="near"||g!==0?F=z/2:d==="center"?F=I.highest.height/2-R*z:F=I.highest.height-T*z,f&&(F*=-1),g!==0&&!W.showLabelBackdrop&&(C+=z/2*Math.sin(g))):(_=L,F=(1-T)*z/2);let oe;if(W.showLabelBackdrop){const D=hl(W.backdropPadding),G=I.heights[j],H=I.widths[j];let X=F-D.top,se=0-D.left;switch(M){case"middle":X-=G/2;break;case"bottom":X-=G;break}switch(P){case"center":se-=H/2;break;case"right":se-=H;break;case"inner":j===N-1?se-=H:j>0&&(se-=H/2);break}oe={left:se,top:X,width:H+D.width,height:G+D.height,color:W.backdropColor}}b.push({label:S,font:U,textOffset:F,options:{rotation:g,color:q,strokeColor:ae,strokeWidth:te,textAlign:K,textBaseline:M,translation:[C,_],backdrop:oe}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:a}=this.options;if(-sd(this.labelRotation))return t==="top"?"left":"right";let n="center";return a.align==="start"?n="left":a.align==="end"?n="right":a.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:a,ticks:{crossAlign:r,mirror:n,padding:i}}=this.options,l=this._getLabelSizes(),o=t+i,c=l.widest.width;let d,u;return a==="left"?n?(u=this.right+i,r==="near"?d="left":r==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-o,r==="near"?d="right":r==="center"?(d="center",u-=c/2):(d="left",u=this.left)):a==="right"?n?(u=this.left+i,r==="near"?d="right":r==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+o,r==="near"?d="left":r==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,a=this.options.position;if(a==="left"||a==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(a==="top"||a==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:a},left:r,top:n,width:i,height:l}=this;a&&(t.save(),t.fillStyle=a,t.fillRect(r,n,i,l),t.restore())}getLineWidthForValue(t){const a=this.options.grid;if(!this._isVisible()||!a.display)return 0;const n=this.ticks.findIndex(i=>i.value===t);return n>=0?a.setContext(this.getContext(n)).lineWidth:0}drawGrid(t){const a=this.options.grid,r=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,l;const o=(c,d,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(a.display)for(i=0,l=n.length;i<l;++i){const c=n[i];a.drawOnChartArea&&o({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),a.drawTicks&&o({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:a,options:{border:r,grid:n}}=this,i=r.setContext(this.getContext()),l=r.display?i.width:0;if(!l)return;const o=n.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,f,p;this.isHorizontal()?(d=N0(t,this.left,l)-l/2,u=N0(t,this.right,o)+o/2,f=p=c):(f=N0(t,this.top,l)-l/2,p=N0(t,this.bottom,o)+o/2,d=u=c),a.save(),a.lineWidth=i.width,a.strokeStyle=i.color,a.beginPath(),a.moveTo(d,f),a.lineTo(u,p),a.stroke(),a.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,n=this._computeLabelArea();n&&Uj(r,n);const i=this.getLabelItems(t);for(const l of i){const o=l.options,c=l.font,d=l.label,u=l.textOffset;dm(r,d,0,u,c,o)}n&&zj(r)}drawTitle(){const{ctx:t,options:{position:a,title:r,reverse:n}}=this;if(!r.display)return;const i=Zn(r.font),l=hl(r.padding),o=r.align;let c=i.lineHeight/2;a==="bottom"||a==="center"||vs(a)?(c+=l.bottom,Pr(r.text)&&(c+=i.lineHeight*(r.text.length-1))):c+=l.top;const{titleX:d,titleY:u,maxWidth:f,rotation:p}=Eoe(this,c,a,o);dm(t,r.text,0,0,i,{color:r.color,maxWidth:f,rotation:p,textAlign:Toe(o,a,n),textBaseline:"middle",translation:[d,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,a=t.ticks&&t.ticks.z||0,r=Ka(t.grid&&t.grid.z,-1),n=Ka(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Em.prototype.draw?[{z:a,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:a,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const a=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",n=[];let i,l;for(i=0,l=a.length;i<l;++i){const o=a[i];o[r]===this.id&&(!t||o.type===t)&&n.push(o)}return n}_resolveTickFontOptions(t){const a=this.options.ticks.setContext(this.getContext(t));return Zn(a.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Ly{constructor(t,a,r){this.type=t,this.scope=a,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const a=Object.getPrototypeOf(t);let r;Poe(a)&&(r=this.register(a));const n=this.items,i=t.id,l=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in n||(n[i]=t,Doe(t,l,r),this.override&&Lr.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const a=this.items,r=t.id,n=this.scope;r in a&&delete a[r],n&&r in Lr[n]&&(delete Lr[n][r],this.override&&delete cm[r])}}function Doe(e,t,a){const r=Wv(Object.create(null),[a?Lr.get(a):{},Lr.get(t),e.defaults]);Lr.set(t,r),e.defaultRoutes&&Moe(t,e.defaultRoutes),e.descriptors&&Lr.describe(t,e.descriptors)}function Moe(e,t){Object.keys(t).forEach(a=>{const r=a.split("."),n=r.pop(),i=[e].concat(r).join("."),l=t[a].split("."),o=l.pop(),c=l.join(".");Lr.route(i,n,c,o)})}function Poe(e){return"id"in e&&"defaults"in e}class Loe{constructor(){this.controllers=new Ly(Hf,"datasets",!0),this.elements=new Ly(gh,"elements"),this.plugins=new Ly(Object,"plugins"),this.scales=new Ly(Em,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,a,r){[...a].forEach(n=>{const i=r||this._getRegistryForType(n);r||i.isForType(n)||i===this.plugins&&n.id?this._exec(t,i,n):Ws(n,l=>{const o=r||this._getRegistryForType(l);this._exec(t,o,l)})})}_exec(t,a,r){const n=dA(t);ur(r["before"+n],[],r),a[t](r),ur(r["after"+n],[],r)}_getRegistryForType(t){for(let a=0;a<this._typedRegistries.length;a++){const r=this._typedRegistries[a];if(r.isForType(t))return r}return this.plugins}_get(t,a,r){const n=a.get(t);if(n===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return n}}var qd=new Loe;class Ooe{constructor(){this._init=[]}notify(t,a,r,n){a==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=n?this._descriptors(t).filter(n):this._descriptors(t),l=this._notify(i,t,a,r);return a==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,a,r,n){n=n||{};for(const i of t){const l=i.plugin,o=l[r],c=[a,n,i.options];if(ur(o,c,l)===!1&&n.cancelable)return!1}return!0}invalidate(){fs(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const a=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),a}_createDescriptors(t,a){const r=t&&t.config,n=Ka(r.options&&r.options.plugins,{}),i=Roe(r);return n===!1&&!a?[]:Ioe(t,i,n,a)}_notifyStateChanges(t){const a=this._oldCache||[],r=this._cache,n=(i,l)=>i.filter(o=>!l.some(c=>o.plugin.id===c.plugin.id));this._notify(n(a,r),t,"stop"),this._notify(n(r,a),t,"start")}}function Roe(e){const t={},a=[],r=Object.keys(qd.plugins.items);for(let i=0;i<r.length;i++)a.push(qd.getPlugin(r[i]));const n=e.plugins||[];for(let i=0;i<n.length;i++){const l=n[i];a.indexOf(l)===-1&&(a.push(l),t[l.id]=!0)}return{plugins:a,localIds:t}}function Foe(e,t){return!t&&e===!1?null:e===!0?{}:e}function Ioe(e,{plugins:t,localIds:a},r,n){const i=[],l=e.getContext();for(const o of t){const c=o.id,d=Foe(r[c],n);d!==null&&i.push({plugin:o,options:Boe(e.config,{plugin:o,local:a[c]},d,l)})}return i}function Boe(e,{plugin:t,local:a},r,n){const i=e.pluginScopeKeys(t),l=e.getOptionScopes(r,i);return a&&t.defaults&&l.push(t.defaults),e.createResolver(l,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function qS(e,t){const a=Lr.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||a.indexAxis||"x"}function $oe(e,t){let a=e;return e==="_index_"?a=t:e==="_value_"&&(a=t==="x"?"y":"x"),a}function Uoe(e,t){return e===t?"_index_":"_value_"}function TM(e){if(e==="x"||e==="y"||e==="r")return e}function zoe(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function GS(e,...t){if(TM(e))return e;for(const a of t){const r=a.axis||zoe(a.position)||e.length>1&&TM(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function EM(e,t,a){if(a[t+"AxisID"]===e)return{axis:t}}function Hoe(e,t){if(t.data&&t.data.datasets){const a=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(a.length)return EM(e,"x",a[0])||EM(e,"y",a[0])}return{}}function Voe(e,t){const a=cm[e.type]||{scales:{}},r=t.scales||{},n=qS(e.type,t),i=Object.create(null);return Object.keys(r).forEach(l=>{const o=r[l];if(!vs(o))return console.error(`Invalid scale configuration for scale: ${l}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const c=GS(l,o,Hoe(l,e),Lr.scales[o.type]),d=Uoe(c,n),u=a.scales||{};i[l]=fv(Object.create(null),[{axis:c},o,u[c],u[d]])}),e.data.datasets.forEach(l=>{const o=l.type||e.type,c=l.indexAxis||qS(o,t),u=(cm[o]||{}).scales||{};Object.keys(u).forEach(f=>{const p=$oe(f,c),m=l[p+"AxisID"]||p;i[m]=i[m]||Object.create(null),fv(i[m],[{axis:p},r[m],u[f]])})}),Object.keys(i).forEach(l=>{const o=i[l];fv(o,[Lr.scales[o.type],Lr.scale])}),i}function _z(e){const t=e.options||(e.options={});t.plugins=Ka(t.plugins,{}),t.scales=Voe(e,t)}function Tz(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function Woe(e){return e=e||{},e.data=Tz(e.data),_z(e),e}const DM=new Map,Ez=new Set;function Oy(e,t){let a=DM.get(e);return a||(a=t(),DM.set(e,a),Ez.add(a)),a}const Fg=(e,t,a)=>{const r=Tf(t,a);r!==void 0&&e.add(r)};class qoe{constructor(t){this._config=Woe(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Tz(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),_z(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Oy(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,a){return Oy(`${t}.transition.${a}`,()=>[[`datasets.${t}.transitions.${a}`,`transitions.${a}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,a){return Oy(`${t}-${a}`,()=>[[`datasets.${t}.elements.${a}`,`datasets.${t}`,`elements.${a}`,""]])}pluginScopeKeys(t){const a=t.id,r=this.type;return Oy(`${r}-plugin-${a}`,()=>[[`plugins.${a}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,a){const r=this._scopeCache;let n=r.get(t);return(!n||a)&&(n=new Map,r.set(t,n)),n}getOptionScopes(t,a,r){const{options:n,type:i}=this,l=this._cachedScopes(t,r),o=l.get(a);if(o)return o;const c=new Set;a.forEach(u=>{t&&(c.add(t),u.forEach(f=>Fg(c,t,f))),u.forEach(f=>Fg(c,n,f)),u.forEach(f=>Fg(c,cm[i]||{},f)),u.forEach(f=>Fg(c,Lr,f)),u.forEach(f=>Fg(c,VS,f))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),Ez.has(a)&&l.set(a,d),d}chartOptionScopes(){const{options:t,type:a}=this;return[t,cm[a]||{},Lr.datasets[a]||{},{type:a},Lr,VS]}resolveNamedOptions(t,a,r,n=[""]){const i={$shared:!0},{resolver:l,subPrefixes:o}=MM(this._resolverCache,t,n);let c=l;if(Koe(l,a)){i.$shared=!1,r=Ef(r)?r():r;const d=this.createResolver(t,r,o);c=nx(l,r,d)}for(const d of a)i[d]=c[d];return i}createResolver(t,a,r=[""],n){const{resolver:i}=MM(this._resolverCache,t,r);return vs(a)?nx(i,a,void 0,n):i}}function MM(e,t,a){let r=e.get(t);r||(r=new Map,e.set(t,r));const n=a.join();let i=r.get(n);return i||(i={resolver:xA(t,a),subPrefixes:a.filter(o=>!o.toLowerCase().includes("hover"))},r.set(n,i)),i}const Goe=e=>vs(e)&&Object.getOwnPropertyNames(e).some(t=>Ef(e[t]));function Koe(e,t){const{isScriptable:a,isIndexable:r}=rz(e);for(const n of t){const i=a(n),l=r(n),o=(l||i)&&e[n];if(i&&(Ef(o)||Goe(o))||l&&Pr(o))return!0}return!1}var Yoe="4.5.0";const Xoe=["top","bottom","left","right","chartArea"];function PM(e,t){return e==="top"||e==="bottom"||Xoe.indexOf(e)===-1&&t==="x"}function LM(e,t){return function(a,r){return a[e]===r[e]?a[t]-r[t]:a[e]-r[e]}}function OM(e){const t=e.chart,a=t.options.animation;t.notifyPlugins("afterRender"),ur(a&&a.onComplete,[e],t)}function Joe(e){const t=e.chart,a=t.options.animation;ur(a&&a.onProgress,[e],t)}function Dz(e){return bA()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const F2={},RM=e=>{const t=Dz(e);return Object.values(F2).filter(a=>a.canvas===t).pop()};function Qoe(e,t,a){const r=Object.keys(e);for(const n of r){const i=+n;if(i>=t){const l=e[n];delete e[n],(a>0||i>t)&&(e[i+a]=l)}}}function Zoe(e,t,a,r){return!a||e.type==="mouseout"?null:r?t:e}let Cs=class{static defaults=Lr;static instances=F2;static overrides=cm;static registry=qd;static version=Yoe;static getChart=RM;static register(...t){qd.add(...t),FM()}static unregister(...t){qd.remove(...t),FM()}constructor(t,a){const r=this.config=new qoe(a),n=Dz(t),i=RM(n);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||goe(n)),this.platform.updateConfig(r);const o=this.platform.acquireContext(n,l.aspectRatio),c=o&&o.canvas,d=c&&c.height,u=c&&c.width;if(this.id=Jne(),this.ctx=o,this.canvas=c,this.width=u,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ooe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=mie(f=>this.update(f),l.resizeDelay||0),this._dataChanges=[],F2[this.id]=this,!o||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ru.listen(this,"complete",OM),Ru.listen(this,"progress",Joe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:a},width:r,height:n,_aspectRatio:i}=this;return fs(t)?a&&i?i:n?r/n:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return qd}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():nM(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return aM(this.canvas,this.ctx),this}stop(){return Ru.stop(this),this}resize(t,a){Ru.running(this)?this._resizeBeforeDraw={width:t,height:a}:this._resize(t,a)}_resize(t,a){const r=this.options,n=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(n,t,a,i),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,nM(this,o,!0)&&(this.notifyPlugins("resize",{size:l}),ur(r.onResize,[this,l],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const a=this.options.scales||{};Ws(a,(r,n)=>{r.id=n})}buildOrUpdateScales(){const t=this.options,a=t.scales,r=this.scales,n=Object.keys(r).reduce((l,o)=>(l[o]=!1,l),{});let i=[];a&&(i=i.concat(Object.keys(a).map(l=>{const o=a[l],c=GS(l,o),d=c==="r",u=c==="x";return{options:o,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),Ws(i,l=>{const o=l.options,c=o.id,d=GS(c,o),u=Ka(o.type,l.dtype);(o.position===void 0||PM(o.position,d)!==PM(l.dposition))&&(o.position=l.dposition),n[c]=!0;let f=null;if(c in r&&r[c].type===u)f=r[c];else{const p=qd.getScale(u);f=new p({id:c,type:u,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(o,t)}),Ws(n,(l,o)=>{l||delete r[o]}),Ws(r,l=>{cl.configure(this,l,l.options),cl.addBox(this,l)})}_updateMetasets(){const t=this._metasets,a=this.data.datasets.length,r=t.length;if(t.sort((n,i)=>n.index-i.index),r>a){for(let n=a;n<r;++n)this._destroyDatasetMeta(n);t.splice(a,r-a)}this._sortedMetasets=t.slice(0).sort(LM("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:a}}=this;t.length>a.length&&delete this._stacks,t.forEach((r,n)=>{a.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const t=[],a=this.data.datasets;let r,n;for(this._removeUnreferencedMetasets(),r=0,n=a.length;r<n;r++){const i=a[r];let l=this.getDatasetMeta(r);const o=i.type||this.config.type;if(l.type&&l.type!==o&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=o,l.indexAxis=i.indexAxis||qS(o,this.options),l.order=i.order||0,l.index=r,l.label=""+i.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const c=qd.getController(o),{datasetElementType:d,dataElementType:u}=Lr.datasets[o];Object.assign(c,{dataElementType:qd.getElement(u),datasetElementType:d&&qd.getElement(d)}),l.controller=new c(this,r),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Ws(this.data.datasets,(t,a)=>{this.getDatasetMeta(a).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const a=this.config;a.update();const r=this._options=a.createResolver(a.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:f}=this.getDatasetMeta(d),p=!n&&i.indexOf(f)===-1;f.buildOrUpdateElements(p),l=Math.max(+f.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),n||Ws(i,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(LM("z","_idx"));const{_active:o,_lastEvent:c}=this;c?this._eventHandler(c,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Ws(this.scales,t=>{cl.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,a=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!GD(a,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,a=this._getUniformDataChanges()||[];for(const{method:r,start:n,count:i}of a){const l=r==="_removeElements"?-i:i;Qoe(t,n,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const a=this.data.datasets.length,r=i=>new Set(t.filter(l=>l[0]===i).map((l,o)=>o+","+l.splice(1).join(","))),n=r(0);for(let i=1;i<a;i++)if(!GD(n,r(i)))return;return Array.from(n).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;cl.update(this,this.width,this.height,t);const a=this.chartArea,r=a.width<=0||a.height<=0;this._layers=[],Ws(this.boxes,n=>{r&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,i)=>{n._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let a=0,r=this.data.datasets.length;a<r;++a)this.getDatasetMeta(a).controller.configure();for(let a=0,r=this.data.datasets.length;a<r;++a)this._updateDataset(a,Ef(t)?t({datasetIndex:a}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,a){const r=this.getDatasetMeta(t),n={meta:r,index:t,mode:a,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(r.controller._update(a),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ru.has(this)?this.attached&&!Ru.running(this)&&Ru.start(this):(this.draw(),OM({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const a=this._layers;for(t=0;t<a.length&&a[t].z<=0;++t)a[t].draw(this.chartArea);for(this._drawDatasets();t<a.length;++t)a[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const a=this._sortedMetasets,r=[];let n,i;for(n=0,i=a.length;n<i;++n){const l=a[n];(!t||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let a=t.length-1;a>=0;--a)this._drawDataset(t[a]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const a=this.ctx,r={meta:t,index:t.index,cancelable:!0},n=pz(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(n&&Uj(a,n),t.controller.draw(),n&&zj(a),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return Wu(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,a,r,n){const i=Xle.modes[a];return typeof i=="function"?i(this,t,r,n):[]}getDatasetMeta(t){const a=this.data.datasets[t],r=this._metasets;let n=r.filter(i=>i&&i._dataset===a).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:a&&a.order||0,index:t,_dataset:a,_parsed:[],_sorted:!1},r.push(n)),n}getContext(){return this.$context||(this.$context=zf(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const a=this.data.datasets[t];if(!a)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!a.hidden}setDatasetVisibility(t,a){const r=this.getDatasetMeta(t);r.hidden=!a}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,a,r){const n=r?"show":"hide",i=this.getDatasetMeta(t),l=i.controller._resolveAnimations(void 0,n);qv(a)?(i.data[a].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),l.update(i,{visible:r}),this.update(o=>o.datasetIndex===t?n:void 0))}hide(t,a){this._updateVisibility(t,a,!1)}show(t,a){this._updateVisibility(t,a,!0)}_destroyDatasetMeta(t){const a=this._metasets[t];a&&a.controller&&a.controller._destroy(),delete this._metasets[t]}_stop(){let t,a;for(this.stop(),Ru.remove(this),t=0,a=this.data.datasets.length;t<a;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:a}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),aM(t,a),this.platform.releaseContext(a),this.canvas=null,this.ctx=null),delete F2[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,a=this.platform,r=(i,l)=>{a.addEventListener(this,i,l),t[i]=l},n=(i,l,o)=>{i.offsetX=l,i.offsetY=o,this._eventHandler(i)};Ws(this.options.events,i=>r(i,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,a=this.platform,r=(c,d)=>{a.addEventListener(this,c,d),t[c]=d},n=(c,d)=>{t[c]&&(a.removeEventListener(this,c,d),delete t[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let l;const o=()=>{n("attach",o),this.attached=!0,this.resize(),r("resize",i),r("detach",l)};l=()=>{this.attached=!1,n("resize",i),this._stop(),this._resize(0,0),r("attach",o)},a.isAttached(this.canvas)?o():l()}unbindEvents(){Ws(this._listeners,(t,a)=>{this.platform.removeEventListener(this,a,t)}),this._listeners={},Ws(this._responsiveListeners,(t,a)=>{this.platform.removeEventListener(this,a,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,a,r){const n=r?"set":"remove";let i,l,o,c;for(a==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+n+"DatasetHoverStyle"]()),o=0,c=t.length;o<c;++o){l=t[o];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[n+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const a=this._active||[],r=t.map(({datasetIndex:i,index:l})=>{const o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[l],index:l}});!sw(r,a)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,a))}notifyPlugins(t,a,r){return this._plugins.notify(this,t,a,r)}isPluginEnabled(t){return this._plugins._cache.filter(a=>a.plugin.id===t).length===1}_updateHoverStyles(t,a,r){const n=this.options.hover,i=(c,d)=>c.filter(u=>!d.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),l=i(a,t),o=r?t:i(t,a);l.length&&this.updateHoverStyle(l,n.mode,!1),o.length&&n.mode&&this.updateHoverStyle(o,n.mode,!0)}_eventHandler(t,a){const r={event:t,replay:a,cancelable:!0,inChartArea:this.isPointInArea(t)},n=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,n)===!1)return;const i=this._handleEvent(t,a,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,n),(i||r.changed)&&this.render(),this}_handleEvent(t,a,r){const{_active:n=[],options:i}=this,l=a,o=this._getActiveElements(t,n,r,l),c=sie(t),d=Zoe(t,this._lastEvent,r,c);r&&(this._lastEvent=null,ur(i.onHover,[t,o,this],this),c&&ur(i.onClick,[t,o,this],this));const u=!sw(o,n);return(u||a)&&(this._active=o,this._updateHoverStyles(o,n,a)),this._lastEvent=d,u}_getActiveElements(t,a,r,n){if(t.type==="mouseout")return[];if(!r)return a;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,n)}};function FM(){return Ws(Cs.instances,e=>e._plugins.invalidate())}function ece(e,t,a){const{startAngle:r,x:n,y:i,outerRadius:l,innerRadius:o,options:c}=t,{borderWidth:d,borderJoinStyle:u}=c,f=Math.min(d/l,sl(r-a));if(e.beginPath(),e.arc(n,i,l-d/2,r+f/2,a-f/2),o>0){const p=Math.min(d/o,sl(r-a));e.arc(n,i,o+d/2,a-p/2,r+p/2,!0)}else{const p=Math.min(d/2,l*sl(r-a));if(u==="round")e.arc(n,i,p,a-Ds/2,r+Ds/2,!0);else if(u==="bevel"){const m=2*p*p,v=-m*Math.cos(a+Ds/2)+n,g=-m*Math.sin(a+Ds/2)+i,b=m*Math.cos(r+Ds/2)+n,j=m*Math.sin(r+Ds/2)+i;e.lineTo(v,g),e.lineTo(b,j)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function tce(e,t,a){const{startAngle:r,pixelMargin:n,x:i,y:l,outerRadius:o,innerRadius:c}=t;let d=n/o;e.beginPath(),e.arc(i,l,o,r-d,a+d),c>n?(d=n/c,e.arc(i,l,c,a+d,r-d,!0)):e.arc(i,l,n,a+Sn,r-Sn),e.closePath(),e.clip()}function ace(e){return pA(e,["outerStart","outerEnd","innerStart","innerEnd"])}function sce(e,t,a,r){const n=ace(e.options.borderRadius),i=(a-t)/2,l=Math.min(i,r*t/2),o=c=>{const d=(a-Math.min(i,c))*r/2;return wi(c,0,Math.min(i,d))};return{outerStart:o(n.outerStart),outerEnd:o(n.outerEnd),innerStart:wi(n.innerStart,0,l),innerEnd:wi(n.innerEnd,0,l)}}function Cp(e,t,a,r){return{x:a+e*Math.cos(t),y:r+e*Math.sin(t)}}function cw(e,t,a,r,n,i){const{x:l,y:o,startAngle:c,pixelMargin:d,innerRadius:u}=t,f=Math.max(t.outerRadius+r+a-d,0),p=u>0?u+r+a+d:0;let m=0;const v=n-c;if(r){const W=u>0?u-r:0,R=f>0?f-r:0,q=(W+R)/2,ae=q!==0?v*q/(q+r):v;m=(v-ae)/2}const g=Math.max(.001,v*f-a/Ds)/f,b=(v-g)/2,j=c+b+m,N=n-b-m,{outerStart:k,outerEnd:S,innerStart:C,innerEnd:_}=sce(t,p,f,N-j),P=f-k,L=f-S,U=j+k/P,z=N-S/L,T=p+C,F=p+_,M=j+C/T,I=N-_/F;if(e.beginPath(),i){const W=(U+z)/2;if(e.arc(l,o,f,U,W),e.arc(l,o,f,W,z),S>0){const te=Cp(L,z,l,o);e.arc(te.x,te.y,S,z,N+Sn)}const R=Cp(F,N,l,o);if(e.lineTo(R.x,R.y),_>0){const te=Cp(F,I,l,o);e.arc(te.x,te.y,_,N+Sn,I+Math.PI)}const q=(N-_/p+(j+C/p))/2;if(e.arc(l,o,p,N-_/p,q,!0),e.arc(l,o,p,q,j+C/p,!0),C>0){const te=Cp(T,M,l,o);e.arc(te.x,te.y,C,M+Math.PI,j-Sn)}const ae=Cp(P,j,l,o);if(e.lineTo(ae.x,ae.y),k>0){const te=Cp(P,U,l,o);e.arc(te.x,te.y,k,j-Sn,U)}}else{e.moveTo(l,o);const W=Math.cos(U)*f+l,R=Math.sin(U)*f+o;e.lineTo(W,R);const q=Math.cos(z)*f+l,ae=Math.sin(z)*f+o;e.lineTo(q,ae)}e.closePath()}function rce(e,t,a,r,n){const{fullCircles:i,startAngle:l,circumference:o}=t;let c=t.endAngle;if(i){cw(e,t,a,r,c,n);for(let d=0;d<i;++d)e.fill();isNaN(o)||(c=l+(o%yr||yr))}return cw(e,t,a,r,c,n),e.fill(),c}function nce(e,t,a,r,n){const{fullCircles:i,startAngle:l,circumference:o,options:c}=t,{borderWidth:d,borderJoinStyle:u,borderDash:f,borderDashOffset:p,borderRadius:m}=c,v=c.borderAlign==="inner";if(!d)return;e.setLineDash(f||[]),e.lineDashOffset=p,v?(e.lineWidth=d*2,e.lineJoin=u||"round"):(e.lineWidth=d,e.lineJoin=u||"bevel");let g=t.endAngle;if(i){cw(e,t,a,r,g,n);for(let b=0;b<i;++b)e.stroke();isNaN(o)||(g=l+(o%yr||yr))}v&&tce(e,t,g),c.selfJoin&&g-l>=Ds&&m===0&&u!=="miter"&&ece(e,t,g),i||(cw(e,t,a,r,g,n),e.stroke())}class Dm extends gh{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,a,r){const n=this.getProps(["x","y"],r),{angle:i,distance:l}=KU(n,{x:t,y:a}),{startAngle:o,endAngle:c,innerRadius:d,outerRadius:u,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),p=(this.options.spacing+this.options.borderWidth)/2,m=Ka(f,c-o),v=Gv(i,o,c)&&o!==c,g=m>=yr||v,b=Hu(l,d+p,u+p);return g&&b}getCenterPoint(t){const{x:a,y:r,startAngle:n,endAngle:i,innerRadius:l,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:d}=this.options,u=(n+i)/2,f=(l+o+d+c)/2;return{x:a+Math.cos(u)*f,y:r+Math.sin(u)*f}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:a,circumference:r}=this,n=(a.offset||0)/4,i=(a.spacing||0)/2,l=a.circular;if(this.pixelMargin=a.borderAlign==="inner"?.33:0,this.fullCircles=r>yr?Math.floor(r/yr):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const o=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(o)*n,Math.sin(o)*n);const c=1-Math.sin(Math.min(Ds,r||0)),d=n*c;t.fillStyle=a.backgroundColor,t.strokeStyle=a.borderColor,rce(t,this,d,i,l),nce(t,this,d,i,l),t.restore()}}function Mz(e,t,a=t){e.lineCap=Ka(a.borderCapStyle,t.borderCapStyle),e.setLineDash(Ka(a.borderDash,t.borderDash)),e.lineDashOffset=Ka(a.borderDashOffset,t.borderDashOffset),e.lineJoin=Ka(a.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Ka(a.borderWidth,t.borderWidth),e.strokeStyle=Ka(a.borderColor,t.borderColor)}function ice(e,t,a){e.lineTo(a.x,a.y)}function lce(e){return e.stepped?Cie:e.tension||e.cubicInterpolationMode==="monotone"?Aie:ice}function Pz(e,t,a={}){const r=e.length,{start:n=0,end:i=r-1}=a,{start:l,end:o}=t,c=Math.max(n,l),d=Math.min(i,o),u=n<l&&i<l||n>o&&i>o;return{count:r,start:c,loop:t.loop,ilen:d<c&&!u?r+d-c:d-c}}function oce(e,t,a,r){const{points:n,options:i}=t,{count:l,start:o,loop:c,ilen:d}=Pz(n,a,r),u=lce(i);let{move:f=!0,reverse:p}=r||{},m,v,g;for(m=0;m<=d;++m)v=n[(o+(p?d-m:m))%l],!v.skip&&(f?(e.moveTo(v.x,v.y),f=!1):u(e,g,v,p,i.stepped),g=v);return c&&(v=n[(o+(p?d:0))%l],u(e,g,v,p,i.stepped)),!!c}function cce(e,t,a,r){const n=t.points,{count:i,start:l,ilen:o}=Pz(n,a,r),{move:c=!0,reverse:d}=r||{};let u=0,f=0,p,m,v,g,b,j;const N=S=>(l+(d?o-S:S))%i,k=()=>{g!==b&&(e.lineTo(u,b),e.lineTo(u,g),e.lineTo(u,j))};for(c&&(m=n[N(0)],e.moveTo(m.x,m.y)),p=0;p<=o;++p){if(m=n[N(p)],m.skip)continue;const S=m.x,C=m.y,_=S|0;_===v?(C<g?g=C:C>b&&(b=C),u=(f*u+S)/++f):(k(),e.lineTo(S,C),v=_,f=0,g=b=C),j=C}k()}function KS(e){const t=e.options,a=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!a?cce:oce}function dce(e){return e.stepped?nle:e.tension||e.cubicInterpolationMode==="monotone"?ile:T0}function uce(e,t,a,r){let n=t._path;n||(n=t._path=new Path2D,t.path(n,a,r)&&n.closePath()),Mz(e,t.options),e.stroke(n)}function hce(e,t,a,r){const{segments:n,options:i}=t,l=KS(t);for(const o of n)Mz(e,i,o.style),e.beginPath(),l(e,t,o,{start:a,end:a+r-1})&&e.closePath(),e.stroke()}const fce=typeof Path2D=="function";function mce(e,t,a,r){fce&&!t.options.segment?uce(e,t,a,r):hce(e,t,a,r)}class ai extends gh{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,a){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const n=r.spanGaps?this._loop:this._fullLoop;Jie(this._points,r,t,n,a),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=hle(this,this.options.segment))}first(){const t=this.segments,a=this.points;return t.length&&a[t[0].start]}last(){const t=this.segments,a=this.points,r=t.length;return r&&a[t[r-1].end]}interpolate(t,a){const r=this.options,n=t[a],i=this.points,l=mz(this,{property:a,start:n,end:n});if(!l.length)return;const o=[],c=dce(r);let d,u;for(d=0,u=l.length;d<u;++d){const{start:f,end:p}=l[d],m=i[f],v=i[p];if(m===v){o.push(m);continue}const g=Math.abs((n-m[a])/(v[a]-m[a])),b=c(m,v,g,r.stepped);b[a]=t[a],o.push(b)}return o.length===1?o[0]:o}pathSegment(t,a,r){return KS(this)(t,this,a,r)}path(t,a,r){const n=this.segments,i=KS(this);let l=this._loop;a=a||0,r=r||this.points.length-a;for(const o of n)l&=i(t,this,o,{start:a,end:a+r-1});return!!l}draw(t,a,r,n){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),mce(t,this,r,n),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function IM(e,t,a,r){const n=e.options,{[a]:i}=e.getProps([a],r);return Math.abs(t-i)<n.radius+n.hitRadius}class pl extends gh{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,a,r){const n=this.options,{x:i,y:l}=this.getProps(["x","y"],r);return Math.pow(t-i,2)+Math.pow(a-l,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(t,a){return IM(this,t,"x",a)}inYRange(t,a){return IM(this,t,"y",a)}getCenterPoint(t){const{x:a,y:r}=this.getProps(["x","y"],t);return{x:a,y:r}}size(t){t=t||this.options||{};let a=t.radius||0;a=Math.max(a,a&&t.hoverRadius||0);const r=a&&t.borderWidth||0;return(a+r)*2}draw(t,a){const r=this.options;this.skip||r.radius<.1||!Wu(this,a,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,WS(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Lz(e,t){const{x:a,y:r,base:n,width:i,height:l}=e.getProps(["x","y","base","width","height"],t);let o,c,d,u,f;return e.horizontal?(f=l/2,o=Math.min(a,n),c=Math.max(a,n),d=r-f,u=r+f):(f=i/2,o=a-f,c=a+f,d=Math.min(r,n),u=Math.max(r,n)),{left:o,top:d,right:c,bottom:u}}function wf(e,t,a,r){return e?0:wi(t,a,r)}function pce(e,t,a){const r=e.options.borderWidth,n=e.borderSkipped,i=sz(r);return{t:wf(n.top,i.top,0,a),r:wf(n.right,i.right,0,t),b:wf(n.bottom,i.bottom,0,a),l:wf(n.left,i.left,0,t)}}function xce(e,t,a){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),n=e.options.borderRadius,i=q0(n),l=Math.min(t,a),o=e.borderSkipped,c=r||vs(n);return{topLeft:wf(!c||o.top||o.left,i.topLeft,0,l),topRight:wf(!c||o.top||o.right,i.topRight,0,l),bottomLeft:wf(!c||o.bottom||o.left,i.bottomLeft,0,l),bottomRight:wf(!c||o.bottom||o.right,i.bottomRight,0,l)}}function gce(e){const t=Lz(e),a=t.right-t.left,r=t.bottom-t.top,n=pce(e,a/2,r/2),i=xce(e,a/2,r/2);return{outer:{x:t.left,y:t.top,w:a,h:r,radius:i},inner:{x:t.left+n.l,y:t.top+n.t,w:a-n.l-n.r,h:r-n.t-n.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,i.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(n.b,n.r))}}}}function _5(e,t,a,r){const n=t===null,i=a===null,o=e&&!(n&&i)&&Lz(e,r);return o&&(n||Hu(t,o.left,o.right))&&(i||Hu(a,o.top,o.bottom))}function vce(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function bce(e,t){e.rect(t.x,t.y,t.w,t.h)}function T5(e,t,a={}){const r=e.x!==a.x?-t:0,n=e.y!==a.y?-t:0,i=(e.x+e.w!==a.x+a.w?t:0)-r,l=(e.y+e.h!==a.y+a.h?t:0)-n;return{x:e.x+r,y:e.y+n,w:e.w+i,h:e.h+l,radius:e.radius}}class Un extends gh{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:a,options:{borderColor:r,backgroundColor:n}}=this,{inner:i,outer:l}=gce(this),o=vce(l.radius)?Kv:bce;t.save(),(l.w!==i.w||l.h!==i.h)&&(t.beginPath(),o(t,T5(l,a,i)),t.clip(),o(t,T5(i,-a,l)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),o(t,T5(i,a)),t.fillStyle=n,t.fill(),t.restore()}inRange(t,a,r){return _5(this,t,a,r)}inXRange(t,a){return _5(this,t,null,a)}inYRange(t,a){return _5(this,null,t,a)}getCenterPoint(t){const{x:a,y:r,base:n,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(a+n)/2:a,y:i?r:(r+n)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var yce=Object.freeze({__proto__:null,ArcElement:Dm,BarElement:Un,LineElement:ai,PointElement:pl});const YS=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],BM=YS.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function Oz(e){return YS[e%YS.length]}function Rz(e){return BM[e%BM.length]}function wce(e,t){return e.borderColor=Oz(t),e.backgroundColor=Rz(t),++t}function jce(e,t){return e.backgroundColor=e.data.map(()=>Oz(t++)),t}function Nce(e,t){return e.backgroundColor=e.data.map(()=>Rz(t++)),t}function kce(e){let t=0;return(a,r)=>{const n=e.getDatasetMeta(r).controller;n instanceof Vj?t=jce(a,t):n instanceof wz?t=Nce(a,t):n&&(t=wce(a,t))}}function $M(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function Sce(e){return e&&(e.borderColor||e.backgroundColor)}function Cce(){return Lr.borderColor!=="rgba(0,0,0,0.1)"||Lr.backgroundColor!=="rgba(0,0,0,0.1)"}var Ace={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,a){if(!a.enabled)return;const{data:{datasets:r},options:n}=e.config,{elements:i}=n,l=$M(r)||Sce(n)||i&&$M(i)||Cce();if(!a.forceOverride&&l)return;const o=kce(e);r.forEach(o)}};function _ce(e,t,a,r,n){const i=n.samples||r;if(i>=a)return e.slice(t,t+a);const l=[],o=(a-2)/(i-2);let c=0;const d=t+a-1;let u=t,f,p,m,v,g;for(l[c++]=e[u],f=0;f<i-2;f++){let b=0,j=0,N;const k=Math.floor((f+1)*o)+1+t,S=Math.min(Math.floor((f+2)*o)+1,a)+t,C=S-k;for(N=k;N<S;N++)b+=e[N].x,j+=e[N].y;b/=C,j/=C;const _=Math.floor(f*o)+1+t,P=Math.min(Math.floor((f+1)*o)+1,a)+t,{x:L,y:U}=e[u];for(m=v=-1,N=_;N<P;N++)v=.5*Math.abs((L-b)*(e[N].y-U)-(L-e[N].x)*(j-U)),v>m&&(m=v,p=e[N],g=N);l[c++]=p,u=g}return l[c++]=e[d],l}function Tce(e,t,a,r){let n=0,i=0,l,o,c,d,u,f,p,m,v,g;const b=[],j=t+a-1,N=e[t].x,S=e[j].x-N;for(l=t;l<t+a;++l){o=e[l],c=(o.x-N)/S*r,d=o.y;const C=c|0;if(C===u)d<v?(v=d,f=l):d>g&&(g=d,p=l),n=(i*n+o.x)/++i;else{const _=l-1;if(!fs(f)&&!fs(p)){const P=Math.min(f,p),L=Math.max(f,p);P!==m&&P!==_&&b.push({...e[P],x:n}),L!==m&&L!==_&&b.push({...e[L],x:n})}l>0&&_!==m&&b.push(e[_]),b.push(o),u=C,i=0,v=g=d,f=p=m=l}}return b}function Fz(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function UM(e){e.data.datasets.forEach(t=>{Fz(t)})}function Ece(e,t){const a=t.length;let r=0,n;const{iScale:i}=e,{min:l,max:o,minDefined:c,maxDefined:d}=i.getUserBounds();return c&&(r=wi(Vu(t,i.axis,l).lo,0,a-1)),d?n=wi(Vu(t,i.axis,o).hi+1,r,a)-r:n=a-r,{start:r,count:n}}var Dce={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,a)=>{if(!a.enabled){UM(e);return}const r=e.width;e.data.datasets.forEach((n,i)=>{const{_data:l,indexAxis:o}=n,c=e.getDatasetMeta(i),d=l||n.data;if(sv([o,e.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const u=e.scales[c.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:f,count:p}=Ece(c,d);const m=a.threshold||4*r;if(p<=m){Fz(n);return}fs(l)&&(n._data=d,delete n.data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let v;switch(a.algorithm){case"lttb":v=_ce(d,f,p,r,a);break;case"min-max":v=Tce(d,f,p,r);break;default:throw new Error(`Unsupported decimation algorithm '${a.algorithm}'`)}n._decimated=v})},destroy(e){UM(e)}};function Mce(e,t,a){const r=e.segments,n=e.points,i=t.points,l=[];for(const o of r){let{start:c,end:d}=o;d=qj(c,d,n);const u=XS(a,n[c],n[d],o.loop);if(!t.segments){l.push({source:o,target:u,start:n[c],end:n[d]});continue}const f=mz(t,u);for(const p of f){const m=XS(a,i[p.start],i[p.end],p.loop),v=fz(o,n,m);for(const g of v)l.push({source:g,target:p,start:{[a]:zM(u,m,"start",Math.max)},end:{[a]:zM(u,m,"end",Math.min)}})}}return l}function XS(e,t,a,r){if(r)return;let n=t[e],i=a[e];return e==="angle"&&(n=sl(n),i=sl(i)),{property:e,start:n,end:i}}function Pce(e,t){const{x:a=null,y:r=null}=e||{},n=t.points,i=[];return t.segments.forEach(({start:l,end:o})=>{o=qj(l,o,n);const c=n[l],d=n[o];r!==null?(i.push({x:c.x,y:r}),i.push({x:d.x,y:r})):a!==null&&(i.push({x:a,y:c.y}),i.push({x:a,y:d.y}))}),i}function qj(e,t,a){for(;t>e;t--){const r=a[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function zM(e,t,a,r){return e&&t?r(e[a],t[a]):e?e[a]:t?t[a]:0}function Iz(e,t){let a=[],r=!1;return Pr(e)?(r=!0,a=e):a=Pce(e,t),a.length?new ai({points:a,options:{tension:0},_loop:r,_fullLoop:r}):null}function HM(e){return e&&e.fill!==!1}function Lce(e,t,a){let n=e[t].fill;const i=[t];let l;if(!a)return n;for(;n!==!1&&i.indexOf(n)===-1;){if(!rn(n))return n;if(l=e[n],!l)return!1;if(l.visible)return n;i.push(n),n=l.fill}return!1}function Oce(e,t,a){const r=Bce(e);if(vs(r))return isNaN(r.value)?!1:r;let n=parseFloat(r);return rn(n)&&Math.floor(n)===n?Rce(r[0],t,n,a):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Rce(e,t,a,r){return(e==="-"||e==="+")&&(a=t+a),a===t||a<0||a>=r?!1:a}function Fce(e,t){let a=null;return e==="start"?a=t.bottom:e==="end"?a=t.top:vs(e)?a=t.getPixelForValue(e.value):t.getBasePixel&&(a=t.getBasePixel()),a}function Ice(e,t,a){let r;return e==="start"?r=a:e==="end"?r=t.options.reverse?t.min:t.max:vs(e)?r=e.value:r=t.getBaseValue(),r}function Bce(e){const t=e.options,a=t.fill;let r=Ka(a&&a.target,a);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function $ce(e){const{scale:t,index:a,line:r}=e,n=[],i=r.segments,l=r.points,o=Uce(t,a);o.push(Iz({x:null,y:t.bottom},r));for(let c=0;c<i.length;c++){const d=i[c];for(let u=d.start;u<=d.end;u++)zce(n,l[u],o)}return new ai({points:n,options:{}})}function Uce(e,t){const a=[],r=e.getMatchingVisibleMetas("line");for(let n=0;n<r.length;n++){const i=r[n];if(i.index===t)break;i.hidden||a.unshift(i.dataset)}return a}function zce(e,t,a){const r=[];for(let n=0;n<a.length;n++){const i=a[n],{first:l,last:o,point:c}=Hce(i,t,"x");if(!(!c||l&&o)){if(l)r.unshift(c);else if(e.push(c),!o)break}}e.push(...r)}function Hce(e,t,a){const r=e.interpolate(t,a);if(!r)return{};const n=r[a],i=e.segments,l=e.points;let o=!1,c=!1;for(let d=0;d<i.length;d++){const u=i[d],f=l[u.start][a],p=l[u.end][a];if(Hu(n,f,p)){o=n===f,c=n===p;break}}return{first:o,last:c,point:r}}class Bz{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,a,r){const{x:n,y:i,radius:l}=this;return a=a||{start:0,end:yr},t.arc(n,i,l,a.end,a.start,!0),!r.bounds}interpolate(t){const{x:a,y:r,radius:n}=this,i=t.angle;return{x:a+Math.cos(i)*n,y:r+Math.sin(i)*n,angle:i}}}function Vce(e){const{chart:t,fill:a,line:r}=e;if(rn(a))return Wce(t,a);if(a==="stack")return $ce(e);if(a==="shape")return!0;const n=qce(e);return n instanceof Bz?n:Iz(n,r)}function Wce(e,t){const a=e.getDatasetMeta(t);return a&&e.isDatasetVisible(t)?a.dataset:null}function qce(e){return(e.scale||{}).getPointPositionForValue?Kce(e):Gce(e)}function Gce(e){const{scale:t={},fill:a}=e,r=Fce(a,t);if(rn(r)){const n=t.isHorizontal();return{x:n?r:null,y:n?null:r}}return null}function Kce(e){const{scale:t,fill:a}=e,r=t.options,n=t.getLabels().length,i=r.reverse?t.max:t.min,l=Ice(a,t,i),o=[];if(r.grid.circular){const c=t.getPointPositionForValue(0,i);return new Bz({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(l)})}for(let c=0;c<n;++c)o.push(t.getPointPositionForValue(c,l));return o}function E5(e,t,a){const r=Vce(t),{chart:n,index:i,line:l,scale:o,axis:c}=t,d=l.options,u=d.fill,f=d.backgroundColor,{above:p=f,below:m=f}=u||{},v=n.getDatasetMeta(i),g=pz(n,v);r&&l.points.length&&(Uj(e,a),Yce(e,{line:l,target:r,above:p,below:m,area:a,scale:o,axis:c,clip:g}),zj(e))}function Yce(e,t){const{line:a,target:r,above:n,below:i,area:l,scale:o,clip:c}=t,d=a._loop?"angle":t.axis;e.save();let u=i;i!==n&&(d==="x"?(VM(e,r,l.top),D5(e,{line:a,target:r,color:n,scale:o,property:d,clip:c}),e.restore(),e.save(),VM(e,r,l.bottom)):d==="y"&&(WM(e,r,l.left),D5(e,{line:a,target:r,color:i,scale:o,property:d,clip:c}),e.restore(),e.save(),WM(e,r,l.right),u=n)),D5(e,{line:a,target:r,color:u,scale:o,property:d,clip:c}),e.restore()}function VM(e,t,a){const{segments:r,points:n}=t;let i=!0,l=!1;e.beginPath();for(const o of r){const{start:c,end:d}=o,u=n[c],f=n[qj(c,d,n)];i?(e.moveTo(u.x,u.y),i=!1):(e.lineTo(u.x,a),e.lineTo(u.x,u.y)),l=!!t.pathSegment(e,o,{move:l}),l?e.closePath():e.lineTo(f.x,a)}e.lineTo(t.first().x,a),e.closePath(),e.clip()}function WM(e,t,a){const{segments:r,points:n}=t;let i=!0,l=!1;e.beginPath();for(const o of r){const{start:c,end:d}=o,u=n[c],f=n[qj(c,d,n)];i?(e.moveTo(u.x,u.y),i=!1):(e.lineTo(a,u.y),e.lineTo(u.x,u.y)),l=!!t.pathSegment(e,o,{move:l}),l?e.closePath():e.lineTo(a,f.y)}e.lineTo(a,t.first().y),e.closePath(),e.clip()}function D5(e,t){const{line:a,target:r,property:n,color:i,scale:l,clip:o}=t,c=Mce(a,r,n);for(const{source:d,target:u,start:f,end:p}of c){const{style:{backgroundColor:m=i}={}}=d,v=r!==!0;e.save(),e.fillStyle=m,Xce(e,l,o,v&&XS(n,f,p)),e.beginPath();const g=!!a.pathSegment(e,d);let b;if(v){g?e.closePath():qM(e,r,p,n);const j=!!r.pathSegment(e,u,{move:g,reverse:!0});b=g&&j,b||qM(e,r,f,n)}e.closePath(),e.fill(b?"evenodd":"nonzero"),e.restore()}}function Xce(e,t,a,r){const n=t.chart.chartArea,{property:i,start:l,end:o}=r||{};if(i==="x"||i==="y"){let c,d,u,f;i==="x"?(c=l,d=n.top,u=o,f=n.bottom):(c=n.left,d=l,u=n.right,f=o),e.beginPath(),a&&(c=Math.max(c,a.left),u=Math.min(u,a.right),d=Math.max(d,a.top),f=Math.min(f,a.bottom)),e.rect(c,d,u-c,f-d),e.clip()}}function qM(e,t,a,r){const n=t.interpolate(a,r);n&&e.lineTo(n.x,n.y)}var Jce={id:"filler",afterDatasetsUpdate(e,t,a){const r=(e.data.datasets||[]).length,n=[];let i,l,o,c;for(l=0;l<r;++l)i=e.getDatasetMeta(l),o=i.dataset,c=null,o&&o.options&&o instanceof ai&&(c={visible:e.isDatasetVisible(l),index:l,fill:Oce(o,l,r),chart:e,axis:i.controller.options.indexAxis,scale:i.vScale,line:o}),i.$filler=c,n.push(c);for(l=0;l<r;++l)c=n[l],!(!c||c.fill===!1)&&(c.fill=Lce(n,l,a.propagate))},beforeDraw(e,t,a){const r=a.drawTime==="beforeDraw",n=e.getSortedVisibleDatasetMetas(),i=e.chartArea;for(let l=n.length-1;l>=0;--l){const o=n[l].$filler;o&&(o.line.updateControlPoints(i,o.axis),r&&o.fill&&E5(e.ctx,o,i))}},beforeDatasetsDraw(e,t,a){if(a.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let n=r.length-1;n>=0;--n){const i=r[n].$filler;HM(i)&&E5(e.ctx,i,e.chartArea)}},beforeDatasetDraw(e,t,a){const r=t.meta.$filler;!HM(r)||a.drawTime!=="beforeDatasetDraw"||E5(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const GM=(e,t)=>{let{boxHeight:a=t,boxWidth:r=t}=e;return e.usePointStyle&&(a=Math.min(a,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:a,itemHeight:Math.max(t,a)}},Qce=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class KM extends gh{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,a,r){this.maxWidth=t,this.maxHeight=a,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let a=ur(t.generateLabels,[this.chart],this)||[];t.filter&&(a=a.filter(r=>t.filter(r,this.chart.data))),t.sort&&(a=a.sort((r,n)=>t.sort(r,n,this.chart.data))),this.options.reverse&&a.reverse(),this.legendItems=a}fit(){const{options:t,ctx:a}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,n=Zn(r.font),i=n.size,l=this._computeTitleHeight(),{boxWidth:o,itemHeight:c}=GM(r,i);let d,u;a.font=n.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(l,i,o,c)+10):(u=this.maxHeight,d=this._fitCols(l,n,o,c)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,a,r,n){const{ctx:i,maxWidth:l,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=n+o;let f=t;i.textAlign="left",i.textBaseline="middle";let p=-1,m=-u;return this.legendItems.forEach((v,g)=>{const b=r+a/2+i.measureText(v.text).width;(g===0||d[d.length-1]+b+2*o>l)&&(f+=u,d[d.length-(g>0?0:1)]=0,m+=u,p++),c[g]={left:0,top:m,row:p,width:b,height:n},d[d.length-1]+=b+o}),f}_fitCols(t,a,r,n){const{ctx:i,maxHeight:l,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=l-t;let f=o,p=0,m=0,v=0,g=0;return this.legendItems.forEach((b,j)=>{const{itemWidth:N,itemHeight:k}=Zce(r,a,i,b,n);j>0&&m+k+2*o>u&&(f+=p+o,d.push({width:p,height:m}),v+=p+o,g++,p=m=0),c[j]={left:v,top:m,col:g,width:N,height:k},p=Math.max(p,N),m+=k+o}),f+=p,d.push({width:p,height:m}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:a,options:{align:r,labels:{padding:n},rtl:i}}=this,l=qp(i,this.left,this.width);if(this.isHorizontal()){let o=0,c=el(r,this.left+n,this.right-this.lineWidths[o]);for(const d of a)o!==d.row&&(o=d.row,c=el(r,this.left+n,this.right-this.lineWidths[o])),d.top+=this.top+t+n,d.left=l.leftForLtr(l.x(c),d.width),c+=d.width+n}else{let o=0,c=el(r,this.top+t+n,this.bottom-this.columnSizes[o].height);for(const d of a)d.col!==o&&(o=d.col,c=el(r,this.top+t+n,this.bottom-this.columnSizes[o].height)),d.top=c,d.left+=this.left+n,d.left=l.leftForLtr(l.x(d.left),d.width),c+=d.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Uj(t,this),this._draw(),zj(t)}}_draw(){const{options:t,columnSizes:a,lineWidths:r,ctx:n}=this,{align:i,labels:l}=t,o=Lr.color,c=qp(t.rtl,this.left,this.width),d=Zn(l.font),{padding:u}=l,f=d.size,p=f/2;let m;this.drawTitle(),n.textAlign=c.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=d.string;const{boxWidth:v,boxHeight:g,itemHeight:b}=GM(l,f),j=function(_,P,L){if(isNaN(v)||v<=0||isNaN(g)||g<0)return;n.save();const U=Ka(L.lineWidth,1);if(n.fillStyle=Ka(L.fillStyle,o),n.lineCap=Ka(L.lineCap,"butt"),n.lineDashOffset=Ka(L.lineDashOffset,0),n.lineJoin=Ka(L.lineJoin,"miter"),n.lineWidth=U,n.strokeStyle=Ka(L.strokeStyle,o),n.setLineDash(Ka(L.lineDash,[])),l.usePointStyle){const z={radius:g*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:U},T=c.xPlus(_,v/2),F=P+p;az(n,z,T,F,l.pointStyleWidth&&v)}else{const z=P+Math.max((f-g)/2,0),T=c.leftForLtr(_,v),F=q0(L.borderRadius);n.beginPath(),Object.values(F).some(M=>M!==0)?Kv(n,{x:T,y:z,w:v,h:g,radius:F}):n.rect(T,z,v,g),n.fill(),U!==0&&n.stroke()}n.restore()},N=function(_,P,L){dm(n,L.text,_,P+b/2,d,{strikethrough:L.hidden,textAlign:c.textAlign(L.textAlign)})},k=this.isHorizontal(),S=this._computeTitleHeight();k?m={x:el(i,this.left+u,this.right-r[0]),y:this.top+u+S,line:0}:m={x:this.left+u,y:el(i,this.top+S+u,this.bottom-a[0].height),line:0},dz(this.ctx,t.textDirection);const C=b+u;this.legendItems.forEach((_,P)=>{n.strokeStyle=_.fontColor,n.fillStyle=_.fontColor;const L=n.measureText(_.text).width,U=c.textAlign(_.textAlign||(_.textAlign=l.textAlign)),z=v+p+L;let T=m.x,F=m.y;c.setWidth(this.width),k?P>0&&T+z+u>this.right&&(F=m.y+=C,m.line++,T=m.x=el(i,this.left+u,this.right-r[m.line])):P>0&&F+C>this.bottom&&(T=m.x=T+a[m.line].width+u,m.line++,F=m.y=el(i,this.top+S+u,this.bottom-a[m.line].height));const M=c.x(T);if(j(M,F,_),T=pie(U,T+v+p,k?T+z:this.right,t.rtl),N(c.x(T),F,_),k)m.x+=z+u;else if(typeof _.text!="string"){const I=d.lineHeight;m.y+=$z(_,I)+u}else m.y+=C}),uz(this.ctx,t.textDirection)}drawTitle(){const t=this.options,a=t.title,r=Zn(a.font),n=hl(a.padding);if(!a.display)return;const i=qp(t.rtl,this.left,this.width),l=this.ctx,o=a.position,c=r.size/2,d=n.top+c;let u,f=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),u=this.top+d,f=el(t.align,f,this.right-p);else{const v=this.columnSizes.reduce((g,b)=>Math.max(g,b.height),0);u=d+el(t.align,this.top,this.bottom-v-t.labels.padding-this._computeTitleHeight())}const m=el(o,f,f+p);l.textAlign=i.textAlign(fA(o)),l.textBaseline="middle",l.strokeStyle=a.color,l.fillStyle=a.color,l.font=r.string,dm(l,a.text,m,u,r)}_computeTitleHeight(){const t=this.options.title,a=Zn(t.font),r=hl(t.padding);return t.display?a.lineHeight+r.height:0}_getLegendItemAt(t,a){let r,n,i;if(Hu(t,this.left,this.right)&&Hu(a,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(n=i[r],Hu(t,n.left,n.left+n.width)&&Hu(a,n.top,n.top+n.height))return this.legendItems[r]}return null}handleEvent(t){const a=this.options;if(!ade(t.type,a))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const n=this._hoveredItem,i=Qce(n,r);n&&!i&&ur(a.onLeave,[t,n,this],this),this._hoveredItem=r,r&&!i&&ur(a.onHover,[t,r,this],this)}else r&&ur(a.onClick,[t,r,this],this)}}function Zce(e,t,a,r,n){const i=ede(r,e,t,a),l=tde(n,r,t.lineHeight);return{itemWidth:i,itemHeight:l}}function ede(e,t,a,r){let n=e.text;return n&&typeof n!="string"&&(n=n.reduce((i,l)=>i.length>l.length?i:l)),t+a.size/2+r.measureText(n).width}function tde(e,t,a){let r=e;return typeof t.text!="string"&&(r=$z(t,a)),r}function $z(e,t){const a=e.text?e.text.length:0;return t*a}function ade(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var on={id:"legend",_element:KM,start(e,t,a){const r=e.legend=new KM({ctx:e.ctx,options:a,chart:e});cl.configure(e,r,a),cl.addBox(e,r)},stop(e){cl.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,a){const r=e.legend;cl.configure(e,r,a),r.options=a},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,a){const r=t.datasetIndex,n=a.chart;n.isDatasetVisible(r)?(n.hide(r),t.hidden=!0):(n.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:a,pointStyle:r,textAlign:n,color:i,useBorderRadius:l,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(a?0:void 0),u=hl(d.borderWidth);return{text:t[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:n||d.textAlign,borderRadius:l&&(o||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class jA extends gh{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,a){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=a;const n=Pr(r.text)?r.text.length:1;this._padding=hl(r.padding);const i=n*Zn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:a,left:r,bottom:n,right:i,options:l}=this,o=l.align;let c=0,d,u,f;return this.isHorizontal()?(u=el(o,r,i),f=a+t,d=i-r):(l.position==="left"?(u=r+t,f=el(o,n,a),c=Ds*-.5):(u=i-t,f=el(o,a,n),c=Ds*.5),d=n-a),{titleX:u,titleY:f,maxWidth:d,rotation:c}}draw(){const t=this.ctx,a=this.options;if(!a.display)return;const r=Zn(a.font),i=r.lineHeight/2+this._padding.top,{titleX:l,titleY:o,maxWidth:c,rotation:d}=this._drawArgs(i);dm(t,a.text,0,0,r,{color:a.color,maxWidth:c,rotation:d,textAlign:fA(a.align),textBaseline:"middle",translation:[l,o]})}}function sde(e,t){const a=new jA({ctx:e.ctx,options:t,chart:e});cl.configure(e,a,t),cl.addBox(e,a),e.titleBlock=a}var Sx={id:"title",_element:jA,start(e,t,a){sde(e,a)},stop(e){const t=e.titleBlock;cl.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,a){const r=e.titleBlock;cl.configure(e,r,a),r.options=a},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ry=new WeakMap;var rde={id:"subtitle",start(e,t,a){const r=new jA({ctx:e.ctx,options:a,chart:e});cl.configure(e,r,a),cl.addBox(e,r),Ry.set(e,r)},stop(e){cl.removeBox(e,Ry.get(e)),Ry.delete(e)},beforeUpdate(e,t,a){const r=Ry.get(e);cl.configure(e,r,a),r.options=a},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const nv={average(e){if(!e.length)return!1;let t,a,r=new Set,n=0,i=0;for(t=0,a=e.length;t<a;++t){const o=e[t].element;if(o&&o.hasValue()){const c=o.tooltipPosition();r.add(c.x),n+=c.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((o,c)=>o+c)/r.size,y:n/i}},nearest(e,t){if(!e.length)return!1;let a=t.x,r=t.y,n=Number.POSITIVE_INFINITY,i,l,o;for(i=0,l=e.length;i<l;++i){const c=e[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=HS(t,d);u<n&&(n=u,o=c)}}if(o){const c=o.tooltipPosition();a=c.x,r=c.y}return{x:a,y:r}}};function zd(e,t){return t&&(Pr(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Fu(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function nde(e,t){const{element:a,datasetIndex:r,index:n}=t,i=e.getDatasetMeta(r).controller,{label:l,value:o}=i.getLabelAndValue(n);return{chart:e,label:l,parsed:i.getParsed(n),raw:e.data.datasets[r].data[n],formattedValue:o,dataset:i.getDataset(),dataIndex:n,datasetIndex:r,element:a}}function YM(e,t){const a=e.chart.ctx,{body:r,footer:n,title:i}=e,{boxWidth:l,boxHeight:o}=t,c=Zn(t.bodyFont),d=Zn(t.titleFont),u=Zn(t.footerFont),f=i.length,p=n.length,m=r.length,v=hl(t.padding);let g=v.height,b=0,j=r.reduce((S,C)=>S+C.before.length+C.lines.length+C.after.length,0);if(j+=e.beforeBody.length+e.afterBody.length,f&&(g+=f*d.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),j){const S=t.displayColors?Math.max(o,c.lineHeight):c.lineHeight;g+=m*S+(j-m)*c.lineHeight+(j-1)*t.bodySpacing}p&&(g+=t.footerMarginTop+p*u.lineHeight+(p-1)*t.footerSpacing);let N=0;const k=function(S){b=Math.max(b,a.measureText(S).width+N)};return a.save(),a.font=d.string,Ws(e.title,k),a.font=c.string,Ws(e.beforeBody.concat(e.afterBody),k),N=t.displayColors?l+2+t.boxPadding:0,Ws(r,S=>{Ws(S.before,k),Ws(S.lines,k),Ws(S.after,k)}),N=0,a.font=u.string,Ws(e.footer,k),a.restore(),b+=v.width,{width:b,height:g}}function ide(e,t){const{y:a,height:r}=t;return a<r/2?"top":a>e.height-r/2?"bottom":"center"}function lde(e,t,a,r){const{x:n,width:i}=r,l=a.caretSize+a.caretPadding;if(e==="left"&&n+i+l>t.width||e==="right"&&n-i-l<0)return!0}function ode(e,t,a,r){const{x:n,width:i}=a,{width:l,chartArea:{left:o,right:c}}=e;let d="center";return r==="center"?d=n<=(o+c)/2?"left":"right":n<=i/2?d="left":n>=l-i/2&&(d="right"),lde(d,e,t,a)&&(d="center"),d}function XM(e,t,a){const r=a.yAlign||t.yAlign||ide(e,a);return{xAlign:a.xAlign||t.xAlign||ode(e,t,a,r),yAlign:r}}function cde(e,t){let{x:a,width:r}=e;return t==="right"?a-=r:t==="center"&&(a-=r/2),a}function dde(e,t,a){let{y:r,height:n}=e;return t==="top"?r+=a:t==="bottom"?r-=n+a:r-=n/2,r}function JM(e,t,a,r){const{caretSize:n,caretPadding:i,cornerRadius:l}=e,{xAlign:o,yAlign:c}=a,d=n+i,{topLeft:u,topRight:f,bottomLeft:p,bottomRight:m}=q0(l);let v=cde(t,o);const g=dde(t,c,d);return c==="center"?o==="left"?v+=d:o==="right"&&(v-=d):o==="left"?v-=Math.max(u,p)+n:o==="right"&&(v+=Math.max(f,m)+n),{x:wi(v,0,r.width-t.width),y:wi(g,0,r.height-t.height)}}function Fy(e,t,a){const r=hl(a.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function QM(e){return zd([],Fu(e))}function ude(e,t,a){return zf(e,{tooltip:t,tooltipItems:a,type:"tooltip"})}function ZM(e,t){const a=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return a?e.override(a):e}const Uz={beforeTitle:Pu,title(e){if(e.length>0){const t=e[0],a=t.chart.data.labels,r=a?a.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return a[t.dataIndex]}return""},afterTitle:Pu,beforeBody:Pu,beforeLabel:Pu,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const a=e.formattedValue;return fs(a)||(t+=a),t},labelColor(e){const a=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:a.borderColor,backgroundColor:a.backgroundColor,borderWidth:a.borderWidth,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const a=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:a.pointStyle,rotation:a.rotation}},afterLabel:Pu,afterBody:Pu,beforeFooter:Pu,footer:Pu,afterFooter:Pu};function Yl(e,t,a,r){const n=e[t].call(a,r);return typeof n>"u"?Uz[t].call(a,r):n}let eP=class extends gh{static positioners=nv;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const a=this.chart,r=this.options.setContext(this.getContext()),n=r.enabled&&a.options.animation&&r.animations,i=new xz(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=ude(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,a){const{callbacks:r}=a,n=Yl(r,"beforeTitle",this,t),i=Yl(r,"title",this,t),l=Yl(r,"afterTitle",this,t);let o=[];return o=zd(o,Fu(n)),o=zd(o,Fu(i)),o=zd(o,Fu(l)),o}getBeforeBody(t,a){return QM(Yl(a.callbacks,"beforeBody",this,t))}getBody(t,a){const{callbacks:r}=a,n=[];return Ws(t,i=>{const l={before:[],lines:[],after:[]},o=ZM(r,i);zd(l.before,Fu(Yl(o,"beforeLabel",this,i))),zd(l.lines,Yl(o,"label",this,i)),zd(l.after,Fu(Yl(o,"afterLabel",this,i))),n.push(l)}),n}getAfterBody(t,a){return QM(Yl(a.callbacks,"afterBody",this,t))}getFooter(t,a){const{callbacks:r}=a,n=Yl(r,"beforeFooter",this,t),i=Yl(r,"footer",this,t),l=Yl(r,"afterFooter",this,t);let o=[];return o=zd(o,Fu(n)),o=zd(o,Fu(i)),o=zd(o,Fu(l)),o}_createItems(t){const a=this._active,r=this.chart.data,n=[],i=[],l=[];let o=[],c,d;for(c=0,d=a.length;c<d;++c)o.push(nde(this.chart,a[c]));return t.filter&&(o=o.filter((u,f,p)=>t.filter(u,f,p,r))),t.itemSort&&(o=o.sort((u,f)=>t.itemSort(u,f,r))),Ws(o,u=>{const f=ZM(t.callbacks,u);n.push(Yl(f,"labelColor",this,u)),i.push(Yl(f,"labelPointStyle",this,u)),l.push(Yl(f,"labelTextColor",this,u))}),this.labelColors=n,this.labelPointStyles=i,this.labelTextColors=l,this.dataPoints=o,o}update(t,a){const r=this.options.setContext(this.getContext()),n=this._active;let i,l=[];if(!n.length)this.opacity!==0&&(i={opacity:0});else{const o=nv[r.position].call(this,n,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const c=this._size=YM(this,r),d=Object.assign({},o,c),u=XM(this.chart,r,d),f=JM(r,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:o.x,caretY:o.y}}this._tooltipItems=l,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:a})}drawCaret(t,a,r,n){const i=this.getCaretPosition(t,r,n);a.lineTo(i.x1,i.y1),a.lineTo(i.x2,i.y2),a.lineTo(i.x3,i.y3)}getCaretPosition(t,a,r){const{xAlign:n,yAlign:i}=this,{caretSize:l,cornerRadius:o}=r,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=q0(o),{x:p,y:m}=t,{width:v,height:g}=a;let b,j,N,k,S,C;return i==="center"?(S=m+g/2,n==="left"?(b=p,j=b-l,k=S+l,C=S-l):(b=p+v,j=b+l,k=S-l,C=S+l),N=b):(n==="left"?j=p+Math.max(c,u)+l:n==="right"?j=p+v-Math.max(d,f)-l:j=this.caretX,i==="top"?(k=m,S=k-l,b=j-l,N=j+l):(k=m+g,S=k+l,b=j+l,N=j-l),C=k),{x1:b,x2:j,x3:N,y1:k,y2:S,y3:C}}drawTitle(t,a,r){const n=this.title,i=n.length;let l,o,c;if(i){const d=qp(r.rtl,this.x,this.width);for(t.x=Fy(this,r.titleAlign,r),a.textAlign=d.textAlign(r.titleAlign),a.textBaseline="middle",l=Zn(r.titleFont),o=r.titleSpacing,a.fillStyle=r.titleColor,a.font=l.string,c=0;c<i;++c)a.fillText(n[c],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+o,c+1===i&&(t.y+=r.titleMarginBottom-o)}}_drawColorBox(t,a,r,n,i){const l=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:c,boxWidth:d}=i,u=Zn(i.bodyFont),f=Fy(this,"left",i),p=n.x(f),m=c<u.lineHeight?(u.lineHeight-c)/2:0,v=a.y+m;if(i.usePointStyle){const g={radius:Math.min(d,c)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},b=n.leftForLtr(p,d)+d/2,j=v+c/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,WS(t,g,b,j),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,WS(t,g,b,j)}else{t.lineWidth=vs(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const g=n.leftForLtr(p,d),b=n.leftForLtr(n.xPlus(p,1),d-2),j=q0(l.borderRadius);Object.values(j).some(N=>N!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Kv(t,{x:g,y:v,w:d,h:c,radius:j}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Kv(t,{x:b,y:v+1,w:d-2,h:c-2,radius:j}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(g,v,d,c),t.strokeRect(g,v,d,c),t.fillStyle=l.backgroundColor,t.fillRect(b,v+1,d-2,c-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,a,r){const{body:n}=this,{bodySpacing:i,bodyAlign:l,displayColors:o,boxHeight:c,boxWidth:d,boxPadding:u}=r,f=Zn(r.bodyFont);let p=f.lineHeight,m=0;const v=qp(r.rtl,this.x,this.width),g=function(L){a.fillText(L,v.x(t.x+m),t.y+p/2),t.y+=p+i},b=v.textAlign(l);let j,N,k,S,C,_,P;for(a.textAlign=l,a.textBaseline="middle",a.font=f.string,t.x=Fy(this,b,r),a.fillStyle=r.bodyColor,Ws(this.beforeBody,g),m=o&&b!=="right"?l==="center"?d/2+u:d+2+u:0,S=0,_=n.length;S<_;++S){for(j=n[S],N=this.labelTextColors[S],a.fillStyle=N,Ws(j.before,g),k=j.lines,o&&k.length&&(this._drawColorBox(a,t,S,v,r),p=Math.max(f.lineHeight,c)),C=0,P=k.length;C<P;++C)g(k[C]),p=f.lineHeight;Ws(j.after,g)}m=0,p=f.lineHeight,Ws(this.afterBody,g),t.y-=i}drawFooter(t,a,r){const n=this.footer,i=n.length;let l,o;if(i){const c=qp(r.rtl,this.x,this.width);for(t.x=Fy(this,r.footerAlign,r),t.y+=r.footerMarginTop,a.textAlign=c.textAlign(r.footerAlign),a.textBaseline="middle",l=Zn(r.footerFont),a.fillStyle=r.footerColor,a.font=l.string,o=0;o<i;++o)a.fillText(n[o],c.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+r.footerSpacing}}drawBackground(t,a,r,n){const{xAlign:i,yAlign:l}=this,{x:o,y:c}=t,{width:d,height:u}=r,{topLeft:f,topRight:p,bottomLeft:m,bottomRight:v}=q0(n.cornerRadius);a.fillStyle=n.backgroundColor,a.strokeStyle=n.borderColor,a.lineWidth=n.borderWidth,a.beginPath(),a.moveTo(o+f,c),l==="top"&&this.drawCaret(t,a,r,n),a.lineTo(o+d-p,c),a.quadraticCurveTo(o+d,c,o+d,c+p),l==="center"&&i==="right"&&this.drawCaret(t,a,r,n),a.lineTo(o+d,c+u-v),a.quadraticCurveTo(o+d,c+u,o+d-v,c+u),l==="bottom"&&this.drawCaret(t,a,r,n),a.lineTo(o+m,c+u),a.quadraticCurveTo(o,c+u,o,c+u-m),l==="center"&&i==="left"&&this.drawCaret(t,a,r,n),a.lineTo(o,c+f),a.quadraticCurveTo(o,c,o+f,c),a.closePath(),a.fill(),n.borderWidth>0&&a.stroke()}_updateAnimationTarget(t){const a=this.chart,r=this.$animations,n=r&&r.x,i=r&&r.y;if(n||i){const l=nv[t.position].call(this,this._active,this._eventPosition);if(!l)return;const o=this._size=YM(this,t),c=Object.assign({},l,this._size),d=XM(a,t,c),u=JM(t,c,d,a);(n._to!==u.x||i._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=o.width,this.height=o.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const a=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(a);const n={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=hl(a.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;a.enabled&&o&&(t.save(),t.globalAlpha=r,this.drawBackground(i,t,n,a),dz(t,a.textDirection),i.y+=l.top,this.drawTitle(i,t,a),this.drawBody(i,t,a),this.drawFooter(i,t,a),uz(t,a.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,a){const r=this._active,n=t.map(({datasetIndex:o,index:c})=>{const d=this.chart.getDatasetMeta(o);if(!d)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:d.data[c],index:c}}),i=!sw(r,n),l=this._positionChanged(n,a);(i||l)&&(this._active=n,this._eventPosition=a,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,a,r=!0){if(a&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,i=this._active||[],l=this._getActiveElements(t,i,a,r),o=this._positionChanged(l,t),c=a||!sw(l,i)||o;return c&&(this._active=l,(n.enabled||n.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,a))),c}_getActiveElements(t,a,r,n){const i=this.options;if(t.type==="mouseout")return[];if(!n)return a.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,i.mode,i,r);return i.reverse&&l.reverse(),l}_positionChanged(t,a){const{caretX:r,caretY:n,options:i}=this,l=nv[i.position].call(this,t,a);return l!==!1&&(r!==l.x||n!==l.y)}};var cn={id:"tooltip",_element:eP,positioners:nv,afterInit(e,t,a){a&&(e.tooltip=new eP({chart:e,options:a}))},beforeUpdate(e,t,a){e.tooltip&&e.tooltip.initialize(a)},reset(e,t,a){e.tooltip&&e.tooltip.initialize(a)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const a={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...a,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",a)}},afterEvent(e,t){if(e.tooltip){const a=t.replay;e.tooltip.handleEvent(t.event,a,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Uz},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},hde=Object.freeze({__proto__:null,Colors:Ace,Decimation:Dce,Filler:Jce,Legend:on,SubTitle:rde,Title:Sx,Tooltip:cn});const fde=(e,t,a,r)=>(typeof t=="string"?(a=e.push(t)-1,r.unshift({index:a,label:t})):isNaN(t)&&(a=null),a);function mde(e,t,a,r){const n=e.indexOf(t);if(n===-1)return fde(e,t,a,r);const i=e.lastIndexOf(t);return n!==i?a:n}const pde=(e,t)=>e===null?null:wi(Math.round(e),0,t);function tP(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class _n extends Em{static id="category";static defaults={ticks:{callback:tP}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const a=this._addedLabels;if(a.length){const r=this.getLabels();for(const{index:n,label:i}of a)r[n]===i&&r.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,a){if(fs(t))return null;const r=this.getLabels();return a=isFinite(a)&&r[a]===t?a:mde(r,t,Ka(a,t),this._addedLabels),pde(a,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:a}=this.getUserBounds();let{min:r,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),a||(n=this.getLabels().length-1)),this.min=r,this.max=n}buildTicks(){const t=this.min,a=this.max,r=this.options.offset,n=[];let i=this.getLabels();i=t===0&&a===i.length-1?i:i.slice(t,a+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=t;l<=a;l++)n.push({value:l});return n}getLabelForValue(t){return tP.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const a=this.ticks;return t<0||t>a.length-1?null:this.getPixelForValue(a[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function xde(e,t){const a=[],{bounds:n,step:i,min:l,max:o,precision:c,count:d,maxTicks:u,maxDigits:f,includeBounds:p}=e,m=i||1,v=u-1,{min:g,max:b}=t,j=!fs(l),N=!fs(o),k=!fs(d),S=(b-g)/(f+1);let C=YD((b-g)/v/m)*m,_,P,L,U;if(C<1e-14&&!j&&!N)return[{value:g},{value:b}];U=Math.ceil(b/C)-Math.floor(g/C),U>v&&(C=YD(U*C/v/m)*m),fs(c)||(_=Math.pow(10,c),C=Math.ceil(C*_)/_),n==="ticks"?(P=Math.floor(g/C)*C,L=Math.ceil(b/C)*C):(P=g,L=b),j&&N&&i&&oie((o-l)/i,C/1e3)?(U=Math.round(Math.min((o-l)/C,u)),C=(o-l)/U,P=l,L=o):k?(P=j?l:P,L=N?o:L,U=d-1,C=(L-P)/U):(U=(L-P)/C,mv(U,Math.round(U),C/1e3)?U=Math.round(U):U=Math.ceil(U));const z=Math.max(XD(C),XD(P));_=Math.pow(10,fs(c)?z:c),P=Math.round(P*_)/_,L=Math.round(L*_)/_;let T=0;for(j&&(p&&P!==l?(a.push({value:l}),P<l&&T++,mv(Math.round((P+T*C)*_)/_,l,aP(l,S,e))&&T++):P<l&&T++);T<U;++T){const F=Math.round((P+T*C)*_)/_;if(N&&F>o)break;a.push({value:F})}return N&&p&&L!==o?a.length&&mv(a[a.length-1].value,o,aP(o,S,e))?a[a.length-1].value=o:a.push({value:o}):(!N||L===o)&&a.push({value:L}),a}function aP(e,t,{horizontal:a,minRotation:r}){const n=sd(r),i=(a?Math.sin(n):Math.cos(n))||.001,l=.75*t*(""+e).length;return Math.min(t/i,l)}class dw extends Em{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,a){return fs(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:a,maxDefined:r}=this.getUserBounds();let{min:n,max:i}=this;const l=c=>n=a?n:c,o=c=>i=r?i:c;if(t){const c=Jd(n),d=Jd(i);c<0&&d<0?o(0):c>0&&d>0&&l(0)}if(n===i){let c=i===0?1:Math.abs(i*.05);o(i+c),t||l(n-c)}this.min=n,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:a,stepSize:r}=t,n;return r?(n=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),a=a||11),a&&(n=Math.min(a,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,a=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const n={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:a.precision,step:a.stepSize,count:a.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:a.minRotation||0,includeBounds:a.includeBounds!==!1},i=this._range||this,l=xde(n,i);return t.bounds==="ticks"&&GU(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let a=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const n=(r-a)/Math.max(t.length-1,1)/2;a-=n,r+=n}this._startValue=a,this._endValue=r,this._valueRange=r-a}getLabelForValue(t){return H1(t,this.chart.options.locale,this.options.ticks.format)}}class Tn extends dw{static id="linear";static defaults={ticks:{callback:$j.formatters.numeric}};determineDataLimits(){const{min:t,max:a}=this.getMinMax(!0);this.min=rn(t)?t:0,this.max=rn(a)?a:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),a=t?this.width:this.height,r=sd(this.options.ticks.minRotation),n=(t?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(a/Math.min(40,i.lineHeight/n))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Xv=e=>Math.floor(yf(e)),S0=(e,t)=>Math.pow(10,Xv(e)+t);function sP(e){return e/Math.pow(10,Xv(e))===1}function rP(e,t,a){const r=Math.pow(10,a),n=Math.floor(e/r);return Math.ceil(t/r)-n}function gde(e,t){const a=t-e;let r=Xv(a);for(;rP(e,t,r)>10;)r++;for(;rP(e,t,r)<10;)r--;return Math.min(r,Xv(e))}function vde(e,{min:t,max:a}){t=Ao(e.min,t);const r=[],n=Xv(t);let i=gde(t,a),l=i<0?Math.pow(10,Math.abs(i)):1;const o=Math.pow(10,i),c=n>i?Math.pow(10,n):0,d=Math.round((t-c)*l)/l,u=Math.floor((t-c)/o/10)*o*10;let f=Math.floor((d-u)/Math.pow(10,i)),p=Ao(e.min,Math.round((c+u+f*Math.pow(10,i))*l)/l);for(;p<a;)r.push({value:p,major:sP(p),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(i++,f=2,l=i>=0?1:l),p=Math.round((c+u+f*Math.pow(10,i))*l)/l;const m=Ao(e.max,p);return r.push({value:m,major:sP(m),significand:f}),r}class bde extends Em{static id="logarithmic";static defaults={ticks:{callback:$j.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,a){const r=dw.prototype.parse.apply(this,[t,a]);if(r===0){this._zero=!0;return}return rn(r)&&r>0?r:null}determineDataLimits(){const{min:t,max:a}=this.getMinMax(!0);this.min=rn(t)?Math.max(0,t):null,this.max=rn(a)?Math.max(0,a):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!rn(this._userMin)&&(this.min=t===S0(this.min,0)?S0(this.min,-1):S0(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:a}=this.getUserBounds();let r=this.min,n=this.max;const i=o=>r=t?r:o,l=o=>n=a?n:o;r===n&&(r<=0?(i(1),l(10)):(i(S0(r,-1)),l(S0(n,1)))),r<=0&&i(S0(n,-1)),n<=0&&l(S0(r,1)),this.min=r,this.max=n}buildTicks(){const t=this.options,a={min:this._userMin,max:this._userMax},r=vde(a,this);return t.bounds==="ticks"&&GU(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return t===void 0?"0":H1(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=yf(t),this._valueRange=yf(this.max)-yf(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(yf(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const a=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+a*this._valueRange)}}function JS(e){const t=e.ticks;if(t.display&&e.display){const a=hl(t.backdropPadding);return Ka(t.font&&t.font.size,Lr.font.size)+a.height}return 0}function yde(e,t,a){return a=Pr(a)?a:[a],{w:Sie(e,t.string,a),h:a.length*t.lineHeight}}function nP(e,t,a,r,n){return e===r||e===n?{start:t-a/2,end:t+a/2}:e<r||e>n?{start:t-a,end:t}:{start:t,end:t+a}}function wde(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},a=Object.assign({},t),r=[],n=[],i=e._pointLabels.length,l=e.options.pointLabels,o=l.centerPointLabels?Ds/i:0;for(let c=0;c<i;c++){const d=l.setContext(e.getPointLabelContext(c));n[c]=d.padding;const u=e.getPointPosition(c,e.drawingArea+n[c],o),f=Zn(d.font),p=yde(e.ctx,f,e._pointLabels[c]);r[c]=p;const m=sl(e.getIndexAngle(c)+o),v=Math.round(uA(m)),g=nP(v,u.x,p.w,0,180),b=nP(v,u.y,p.h,90,270);jde(a,t,m,g,b)}e.setCenterPoint(t.l-a.l,a.r-t.r,t.t-a.t,a.b-t.b),e._pointLabelItems=Sde(e,r,n)}function jde(e,t,a,r,n){const i=Math.abs(Math.sin(a)),l=Math.abs(Math.cos(a));let o=0,c=0;r.start<t.l?(o=(t.l-r.start)/i,e.l=Math.min(e.l,t.l-o)):r.end>t.r&&(o=(r.end-t.r)/i,e.r=Math.max(e.r,t.r+o)),n.start<t.t?(c=(t.t-n.start)/l,e.t=Math.min(e.t,t.t-c)):n.end>t.b&&(c=(n.end-t.b)/l,e.b=Math.max(e.b,t.b+c))}function Nde(e,t,a){const r=e.drawingArea,{extra:n,additionalAngle:i,padding:l,size:o}=a,c=e.getPointPosition(t,r+n+l,i),d=Math.round(uA(sl(c.angle+Sn))),u=_de(c.y,o.h,d),f=Cde(d),p=Ade(c.x,o.w,f);return{visible:!0,x:c.x,y:u,textAlign:f,left:p,top:u,right:p+o.w,bottom:u+o.h}}function kde(e,t){if(!t)return!0;const{left:a,top:r,right:n,bottom:i}=e;return!(Wu({x:a,y:r},t)||Wu({x:a,y:i},t)||Wu({x:n,y:r},t)||Wu({x:n,y:i},t))}function Sde(e,t,a){const r=[],n=e._pointLabels.length,i=e.options,{centerPointLabels:l,display:o}=i.pointLabels,c={extra:JS(i)/2,additionalAngle:l?Ds/n:0};let d;for(let u=0;u<n;u++){c.padding=a[u],c.size=t[u];const f=Nde(e,u,c);r.push(f),o==="auto"&&(f.visible=kde(f,d),f.visible&&(d=f))}return r}function Cde(e){return e===0||e===180?"center":e<180?"left":"right"}function Ade(e,t,a){return a==="right"?e-=t:a==="center"&&(e-=t/2),e}function _de(e,t,a){return a===90||a===270?e-=t/2:(a>270||a<90)&&(e-=t),e}function Tde(e,t,a){const{left:r,top:n,right:i,bottom:l}=a,{backdropColor:o}=t;if(!fs(o)){const c=q0(t.borderRadius),d=hl(t.backdropPadding);e.fillStyle=o;const u=r-d.left,f=n-d.top,p=i-r+d.width,m=l-n+d.height;Object.values(c).some(v=>v!==0)?(e.beginPath(),Kv(e,{x:u,y:f,w:p,h:m,radius:c}),e.fill()):e.fillRect(u,f,p,m)}}function Ede(e,t){const{ctx:a,options:{pointLabels:r}}=e;for(let n=t-1;n>=0;n--){const i=e._pointLabelItems[n];if(!i.visible)continue;const l=r.setContext(e.getPointLabelContext(n));Tde(a,l,i);const o=Zn(l.font),{x:c,y:d,textAlign:u}=i;dm(a,e._pointLabels[n],c,d+o.lineHeight/2,o,{color:l.color,textAlign:u,textBaseline:"middle"})}}function zz(e,t,a,r){const{ctx:n}=e;if(a)n.arc(e.xCenter,e.yCenter,t,0,yr);else{let i=e.getPointPosition(0,t);n.moveTo(i.x,i.y);for(let l=1;l<r;l++)i=e.getPointPosition(l,t),n.lineTo(i.x,i.y)}}function Dde(e,t,a,r,n){const i=e.ctx,l=t.circular,{color:o,lineWidth:c}=t;!l&&!r||!o||!c||a<0||(i.save(),i.strokeStyle=o,i.lineWidth=c,i.setLineDash(n.dash||[]),i.lineDashOffset=n.dashOffset,i.beginPath(),zz(e,a,l,r),i.closePath(),i.stroke(),i.restore())}function Mde(e,t,a){return zf(e,{label:a,index:t,type:"pointLabel"})}class Pde extends dw{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:$j.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=hl(JS(this.options)/2),a=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+a/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(a,r)/2)}determineDataLimits(){const{min:t,max:a}=this.getMinMax(!1);this.min=rn(t)&&!isNaN(t)?t:0,this.max=rn(a)&&!isNaN(a)?a:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/JS(this.options))}generateTickLabels(t){dw.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((a,r)=>{const n=ur(this.options.pointLabels.callback,[a,r],this);return n||n===0?n:""}).filter((a,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?wde(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,a,r,n){this.xCenter+=Math.floor((t-a)/2),this.yCenter+=Math.floor((r-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,a,r,n))}getIndexAngle(t){const a=yr/(this._pointLabels.length||1),r=this.options.startAngle||0;return sl(t*a+sd(r))}getDistanceFromCenterForValue(t){if(fs(t))return NaN;const a=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*a:(t-this.min)*a}getValueForDistanceFromCenter(t){if(fs(t))return NaN;const a=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-a:this.min+a}getPointLabelContext(t){const a=this._pointLabels||[];if(t>=0&&t<a.length){const r=a[t];return Mde(this.getContext(),t,r)}}getPointPosition(t,a,r=0){const n=this.getIndexAngle(t)-Sn+r;return{x:Math.cos(n)*a+this.xCenter,y:Math.sin(n)*a+this.yCenter,angle:n}}getPointPositionForValue(t,a){return this.getPointPosition(t,this.getDistanceFromCenterForValue(a))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:a,top:r,right:n,bottom:i}=this._pointLabelItems[t];return{left:a,top:r,right:n,bottom:i}}drawBackground(){const{backgroundColor:t,grid:{circular:a}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),zz(this,this.getDistanceFromCenterForValue(this._endValue),a,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,a=this.options,{angleLines:r,grid:n,border:i}=a,l=this._pointLabels.length;let o,c,d;if(a.pointLabels.display&&Ede(this,l),n.display&&this.ticks.forEach((u,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);const p=this.getContext(f),m=n.setContext(p),v=i.setContext(p);Dde(this,m,c,l,v)}}),r.display){for(t.save(),o=l-1;o>=0;o--){const u=r.setContext(this.getPointLabelContext(o)),{color:f,lineWidth:p}=u;!p||!f||(t.lineWidth=p,t.strokeStyle=f,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(a.reverse?this.min:this.max),d=this.getPointPosition(o,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,a=this.options,r=a.ticks;if(!r.display)return;const n=this.getIndexAngle(0);let i,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(n),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((o,c)=>{if(c===0&&this.min>=0&&!a.reverse)return;const d=r.setContext(this.getContext(c)),u=Zn(d.font);if(i=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){t.font=u.string,l=t.measureText(o.label).width,t.fillStyle=d.backdropColor;const f=hl(d.backdropPadding);t.fillRect(-l/2-f.left,-i-u.size/2-f.top,l+f.width,u.size+f.height)}dm(t,o.label,0,-i,u,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}const Gj={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ql=Object.keys(Gj);function iP(e,t){return e-t}function lP(e,t){if(fs(t))return null;const a=e._adapter,{parser:r,round:n,isoWeekday:i}=e._parseOpts;let l=t;return typeof r=="function"&&(l=r(l)),rn(l)||(l=typeof r=="string"?a.parse(l,r):a.parse(l)),l===null?null:(n&&(l=n==="week"&&(rx(i)||i===!0)?a.startOf(l,"isoWeek",i):a.startOf(l,n)),+l)}function oP(e,t,a,r){const n=Ql.length;for(let i=Ql.indexOf(e);i<n-1;++i){const l=Gj[Ql[i]],o=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((a-t)/(o*l.size))<=r)return Ql[i]}return Ql[n-1]}function Lde(e,t,a,r,n){for(let i=Ql.length-1;i>=Ql.indexOf(a);i--){const l=Ql[i];if(Gj[l].common&&e._adapter.diff(n,r,l)>=t-1)return l}return Ql[a?Ql.indexOf(a):0]}function Ode(e){for(let t=Ql.indexOf(e)+1,a=Ql.length;t<a;++t)if(Gj[Ql[t]].common)return Ql[t]}function cP(e,t,a){if(!a)e[t]=!0;else if(a.length){const{lo:r,hi:n}=hA(a,t),i=a[r]>=t?a[r]:a[n];e[i]=!0}}function Rde(e,t,a,r){const n=e._adapter,i=+n.startOf(t[0].value,r),l=t[t.length-1].value;let o,c;for(o=i;o<=l;o=+n.add(o,1,r))c=a[o],c>=0&&(t[c].major=!0);return t}function dP(e,t,a){const r=[],n={},i=t.length;let l,o;for(l=0;l<i;++l)o=t[l],n[o]=l,r.push({value:o,major:!1});return i===0||!a?r:Rde(e,r,n,a)}class QS extends Em{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,a={}){const r=t.time||(t.time={}),n=this._adapter=new Wle._date(t.adapters.date);n.init(a),fv(r.displayFormats,n.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=a.normalized}parse(t,a){return t===void 0?null:lP(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,a=this._adapter,r=t.time.unit||"day";let{min:n,max:i,minDefined:l,maxDefined:o}=this.getUserBounds();function c(d){!l&&!isNaN(d.min)&&(n=Math.min(n,d.min)),!o&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!l||!o)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),n=rn(n)&&!isNaN(n)?n:+a.startOf(Date.now(),r),i=rn(i)&&!isNaN(i)?i:+a.endOf(Date.now(),r)+1,this.min=Math.min(n,i-1),this.max=Math.max(n+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let a=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(a=t[0],r=t[t.length-1]),{min:a,max:r}}buildTicks(){const t=this.options,a=t.time,r=t.ticks,n=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const i=this.min,l=this.max,o=hie(n,i,l);return this._unit=a.unit||(r.autoSkip?oP(a.minUnit,this.min,this.max,this._getLabelCapacity(i)):Lde(this,o.length,a.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Ode(this._unit),this.initOffsets(n),t.reverse&&o.reverse(),dP(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let a=0,r=0,n,i;this.options.offset&&t.length&&(n=this.getDecimalForValue(t[0]),t.length===1?a=1-n:a=(this.getDecimalForValue(t[1])-n)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?r=i:r=(i-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;a=wi(a,0,l),r=wi(r,0,l),this._offsets={start:a,end:r,factor:1/(a+1+r)}}_generate(){const t=this._adapter,a=this.min,r=this.max,n=this.options,i=n.time,l=i.unit||oP(i.minUnit,a,r,this._getLabelCapacity(a)),o=Ka(n.ticks.stepSize,1),c=l==="week"?i.isoWeekday:!1,d=rx(c)||c===!0,u={};let f=a,p,m;if(d&&(f=+t.startOf(f,"isoWeek",c)),f=+t.startOf(f,d?"day":l),t.diff(r,a,l)>1e5*o)throw new Error(a+" and "+r+" are too far apart with stepSize of "+o+" "+l);const v=n.ticks.source==="data"&&this.getDataTimestamps();for(p=f,m=0;p<r;p=+t.add(p,o,l),m++)cP(u,p,v);return(p===r||n.bounds==="ticks"||m===1)&&cP(u,p,v),Object.keys(u).sort(iP).map(g=>+g)}getLabelForValue(t){const a=this._adapter,r=this.options.time;return r.tooltipFormat?a.format(t,r.tooltipFormat):a.format(t,r.displayFormats.datetime)}format(t,a){const n=this.options.time.displayFormats,i=this._unit,l=a||n[i];return this._adapter.format(t,l)}_tickFormatFunction(t,a,r,n){const i=this.options,l=i.ticks.callback;if(l)return ur(l,[t,a,r],this);const o=i.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&o[c],f=d&&o[d],p=r[a],m=d&&f&&p&&p.major;return this._adapter.format(t,n||(m?f:u))}generateTickLabels(t){let a,r,n;for(a=0,r=t.length;a<r;++a)n=t[a],n.label=this._tickFormatFunction(n.value,a,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const a=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((a.start+r)*a.factor)}getValueForPixel(t){const a=this._offsets,r=this.getDecimalForPixel(t)/a.factor-a.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const a=this.options.ticks,r=this.ctx.measureText(t).width,n=sd(this.isHorizontal()?a.maxRotation:a.minRotation),i=Math.cos(n),l=Math.sin(n),o=this._resolveTickFontOptions(0).size;return{w:r*i+o*l,h:r*l+o*i}}_getLabelCapacity(t){const a=this.options.time,r=a.displayFormats,n=r[a.unit]||r.millisecond,i=this._tickFormatFunction(t,0,dP(this,[t],this._majorUnit),n),l=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return o>0?o:1}getDataTimestamps(){let t=this._cache.data||[],a,r;if(t.length)return t;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(a=0,r=n.length;a<r;++a)t=t.concat(n[a].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let a,r;if(t.length)return t;const n=this.getLabels();for(a=0,r=n.length;a<r;++a)t.push(lP(this,n[a]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return XU(t.sort(iP))}}function Iy(e,t,a){let r=0,n=e.length-1,i,l,o,c;a?(t>=e[r].pos&&t<=e[n].pos&&({lo:r,hi:n}=Vu(e,"pos",t)),{pos:i,time:o}=e[r],{pos:l,time:c}=e[n]):(t>=e[r].time&&t<=e[n].time&&({lo:r,hi:n}=Vu(e,"time",t)),{time:i,pos:o}=e[r],{time:l,pos:c}=e[n]);const d=l-i;return d?o+(c-o)*(t-i)/d:o}class Fde extends QS{static id="timeseries";static defaults=QS.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),a=this._table=this.buildLookupTable(t);this._minPos=Iy(a,this.min),this._tableRange=Iy(a,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:a,max:r}=this,n=[],i=[];let l,o,c,d,u;for(l=0,o=t.length;l<o;++l)d=t[l],d>=a&&d<=r&&n.push(d);if(n.length<2)return[{time:a,pos:0},{time:r,pos:1}];for(l=0,o=n.length;l<o;++l)u=n[l+1],c=n[l-1],d=n[l],Math.round((u+c)/2)!==d&&i.push({time:d,pos:l/(o-1)});return i}_generate(){const t=this.min,a=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(a)||r.length===1)&&r.push(a),r.sort((n,i)=>n-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const a=this.getDataTimestamps(),r=this.getLabelTimestamps();return a.length&&r.length?t=this.normalize(a.concat(r)):t=a.length?a:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Iy(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const a=this._offsets,r=this.getDecimalForPixel(t)/a.factor-a.end;return Iy(this._table,r*this._tableRange+this._minPos,!0)}}var Ide=Object.freeze({__proto__:null,CategoryScale:_n,LinearScale:Tn,LogarithmicScale:bde,RadialLinearScale:Pde,TimeScale:QS,TimeSeriesScale:Fde});const Bde=[Vle,yce,hde,Ide],Hz="label";function uP(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function $de(e,t){const a=e.options;a&&t&&Object.assign(a,t)}function Vz(e,t){e.labels=t}function Wz(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Hz;const r=[];e.datasets=t.map(n=>{const i=e.datasets.find(l=>l[a]===n[a]);return!i||!n.data||r.includes(i)?{...n}:(r.push(i),Object.assign(i,n),i)})}function Ude(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hz;const a={labels:[],datasets:[]};return Vz(a,e.labels),Wz(a,e.datasets,t),a}function zde(e,t){const{height:a=150,width:r=300,redraw:n=!1,datasetIdKey:i,type:l,data:o,options:c,plugins:d=[],fallbackContent:u,updateMode:f,...p}=e,m=y.useRef(null),v=y.useRef(null),g=()=>{m.current&&(v.current=new Cs(m.current,{type:l,data:Ude(o,i),options:c&&{...c},plugins:d}),uP(t,v.current))},b=()=>{uP(t,null),v.current&&(v.current.destroy(),v.current=null)};return y.useEffect(()=>{!n&&v.current&&c&&$de(v.current,c)},[n,c]),y.useEffect(()=>{!n&&v.current&&Vz(v.current.config.data,o.labels)},[n,o.labels]),y.useEffect(()=>{!n&&v.current&&o.datasets&&Wz(v.current.config.data,o.datasets,i)},[n,o.datasets]),y.useEffect(()=>{v.current&&(n?(b(),setTimeout(g)):v.current.update(f))},[n,c,o.labels,o.datasets,f]),y.useEffect(()=>{v.current&&(b(),setTimeout(g))},[l]),y.useEffect(()=>(g(),()=>b()),[]),Bn.createElement("canvas",{ref:m,role:"img",height:a,width:r,...p},u)}const Hde=y.forwardRef(zde);function Kj(e,t){return Cs.register(t),y.forwardRef((a,r)=>Bn.createElement(Hde,{...a,ref:r,type:e}))}const lo=Kj("line",yz),Ir=Kj("bar",bz),Yj=Kj("doughnut",Vj),qz=Kj("pie",jz);Cs.register(Dm,cn,on);const ei=({percentage:e=2,segments:t=[],centerValue:a,centerValueSuffix:r,centerLabel:n,size:i=160,centerLabelPosition:l="below",subLabel:o,primaryColor:c,secondaryColor:d,cutout:u="70%",spacing:f=0,borderRadius:p=0,centerValueClass:m,centerLabelClass:v,subLabelClass:g,innerTrack:b=!0,innerTrackRadius:j="92%",innerTrackCutout:N="86%",innerTrackColor:k,animateCenterCountUp:S=!1,centerValueDuration:C=700})=>{const _=document.documentElement.classList.contains("dark"),P=t&&t.length>0?{labels:t.map(z=>z.label),datasets:[{data:t.map(z=>z.value),backgroundColor:t.map(z=>z.color),borderColor:_?"#111827":"#ffffff",borderWidth:_?1:0,cutout:u,hoverOffset:6,spacing:2,borderRadius:p}]}:{labels:["Completed","Remaining"],datasets:[...b?[{data:[100],backgroundColor:[k||(_?"#3f4a5a":"#cbd5e1")],borderColor:_?"#111827":"#ffffff",borderWidth:0,hoverOffset:0,spacing:0,radius:j,cutout:N}]:[],{data:[e,100-e],backgroundColor:[c||"#2dd4bf",d||(_?"#475569":"#e5e7eb")],borderColor:_?"#111827":"#ffffff",borderWidth:0,cutout:u,hoverOffset:6,spacing:f,borderRadius:p,radius:"100%"}]},L={responsive:!0,maintainAspectRatio:!1,devicePixelRatio:2,plugins:{legend:{display:!1},tooltip:{callbacks:{label:z=>{const T=z.parsed,F=z.dataset.data.reduce((I,W)=>I+W,0),M=F?Math.round(T/F*100):0;return`${z.label}: ${T} (${M}%)`}}}},animation:{animateRotate:!0,animateScale:!0}};function U({value:z,duration:T}){const[F,M]=Bn.useState(z),I=Bn.useRef(z);return Bn.useEffect(()=>{if(typeof z!="number"){M(z);return}const W=typeof I.current=="number"?I.current:0,R=z;I.current=R;const q=performance.now(),ae=te=>{const K=Math.min(1,(te-q)/T),oe=Math.round(W+(R-W)*K);M(oe),K<1&&requestAnimationFrame(ae)};requestAnimationFrame(ae)},[z,T]),s.jsx("span",{children:F})}return s.jsxs("div",{className:"relative flex items-center justify-center",children:[s.jsx("div",{style:{width:i,height:i},children:s.jsx(Yj,{data:P,options:L})}),(a!==void 0||n)&&s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[n&&l==="above"&&s.jsx("div",{className:"text-xs text-[var(--muted-text)] mb-1",children:n}),a!==void 0&&s.jsxs("div",{className:m||"text-2xl font-bold flex items-baseline gap-1",children:[S&&typeof a=="number"?s.jsx(U,{value:a,duration:C}):s.jsx("span",{children:a}),r&&s.jsx("span",{className:"text-xs opacity-70",children:r})]}),n&&l!=="above"&&s.jsx("div",{className:v||"text-xs text-[var(--muted-text)] mt-1",children:n}),o&&s.jsx("div",{className:g||"text-[10px] text-[var(--muted-text)] mt-0.5",children:o})]})]})};function NA(e){return Qt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 13H8V21H2V13ZM16 8H22V21H16V8ZM9 3H15V21H9V3ZM4 15V19H6V15H4ZM11 5V19H13V5H11ZM18 10V19H20V10H18Z"},child:[]}]})(e)}function Vde(e){return Qt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9 1V3H15V1H17V3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3H7V1H9ZM20 10H4V19H20V10ZM15.0355 11.136L16.4497 12.5503L11.5 17.5L7.96447 13.9645L9.37868 12.5503L11.5 14.6716L15.0355 11.136ZM7 5H4V8H20V5H17V6H15V5H9V6H7V5Z"},child:[]}]})(e)}function Gz(e){return Qt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 3V19H21V21H3V3H5ZM20.2929 6.29289L21.7071 7.70711L16 13.4142L13 10.415L8.70711 14.7071L7.29289 13.2929L13 7.58579L16 10.585L20.2929 6.29289Z"},child:[]}]})(e)}function Kz(e){return Qt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9 2.4578V4.58152C6.06817 5.76829 4 8.64262 4 12C4 16.4183 7.58172 20 12 20C15.3574 20 18.2317 17.9318 19.4185 15H21.5422C20.2679 19.0571 16.4776 22 12 22C6.47715 22 2 17.5228 2 12C2 7.52236 4.94289 3.73207 9 2.4578ZM12 2C17.5228 2 22 6.47715 22 12C22 12.3375 21.9833 12.6711 21.9506 13H11V2.04938C11.3289 2.01672 11.6625 2 12 2ZM13 4.06189V11H19.9381C19.4869 7.38128 16.6187 4.51314 13 4.06189Z"},child:[]}]})(e)}function Wde(e){return Qt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20.0833 15.1999L21.2854 15.9212C21.5221 16.0633 21.5989 16.3704 21.4569 16.6072C21.4146 16.6776 21.3557 16.7365 21.2854 16.7787L12.5144 22.0412C12.1977 22.2313 11.8021 22.2313 11.4854 22.0412L2.71451 16.7787C2.47772 16.6366 2.40093 16.3295 2.54301 16.0927C2.58523 16.0223 2.64413 15.9634 2.71451 15.9212L3.9166 15.1999L11.9999 20.0499L20.0833 15.1999ZM20.0833 10.4999L21.2854 11.2212C21.5221 11.3633 21.5989 11.6704 21.4569 11.9072C21.4146 11.9776 21.3557 12.0365 21.2854 12.0787L11.9999 17.6499L2.71451 12.0787C2.47772 11.9366 2.40093 11.6295 2.54301 11.3927C2.58523 11.3223 2.64413 11.2634 2.71451 11.2212L3.9166 10.4999L11.9999 15.3499L20.0833 10.4999ZM12.5144 1.30864L21.2854 6.5712C21.5221 6.71327 21.5989 7.0204 21.4569 7.25719C21.4146 7.32757 21.3557 7.38647 21.2854 7.42869L11.9999 12.9999L2.71451 7.42869C2.47772 7.28662 2.40093 6.97949 2.54301 6.7427C2.58523 6.67232 2.64413 6.61343 2.71451 6.5712L11.4854 1.30864C11.8021 1.11864 12.1977 1.11864 12.5144 1.30864ZM11.9999 3.33233L5.88723 6.99995L11.9999 10.6676L18.1126 6.99995L11.9999 3.33233Z"},child:[]}]})(e)}function qde(e){return Qt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"},child:[]}]})(e)}function Yz(e){return Qt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13.2 12L16 16H13.6L12 13.7143L10.4 16H8L10.8 12L8 8H10.4L12 10.2857L13.6 8H15V4H5V20H19V8H16L13.2 12ZM3 2.9918C3 2.44405 3.44749 2 3.9985 2H16L20.9997 7L21 20.9925C21 21.5489 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5447 3 21.0082V2.9918Z"},child:[]}]})(e)}function Xz(e){return Qt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 16H8V8H12C14.2091 8 16 9.79086 16 12C16 14.2091 14.2091 16 12 16ZM10 10V14H12C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10H10ZM15 4H5V20H19V8H15V4ZM3 2.9918C3 2.44405 3.44749 2 3.9985 2H16L20.9997 7L21 20.9925C21 21.5489 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5447 3 21.0082V2.9918Z"},child:[]}]})(e)}function Gde(e){return Qt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM4.5 6.5C3.67157 6.5 3 5.82843 3 5C3 4.17157 3.67157 3.5 4.5 3.5C5.32843 3.5 6 4.17157 6 5C6 5.82843 5.32843 6.5 4.5 6.5ZM4.5 13.5C3.67157 13.5 3 12.8284 3 12C3 11.1716 3.67157 10.5 4.5 10.5C5.32843 10.5 6 11.1716 6 12C6 12.8284 5.32843 13.5 4.5 13.5ZM4.5 20.4C3.67157 20.4 3 19.7284 3 18.9C3 18.0716 3.67157 17.4 4.5 17.4C5.32843 17.4 6 18.0716 6 18.9C6 19.7284 5.32843 20.4 4.5 20.4ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(e)}function Kde(e){return Qt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 10V14H19V10H13ZM11 10H5V14H11V10ZM13 19H19V16H13V19ZM11 19V16H5V19H11ZM13 5V8H19V5H13ZM11 5H5V8H11V5ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3Z"},child:[]}]})(e)}function M5(e){return Qt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 19H21V21H3V19ZM13 13.1716L19.0711 7.1005L20.4853 8.51472L12 17L3.51472 8.51472L4.92893 7.1005L11 13.1716V2H13V13.1716Z"},child:[]}]})(e)}function Yde(e){return Qt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 4V6H20L15 13.5V22H9V13.5L4 6H3V4H21ZM6.4037 6L11 12.8944V20H13V12.8944L17.5963 6H6.4037Z"},child:[]}]})(e)}function kA(e){return Qt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5.46257 4.43262C7.21556 2.91688 9.5007 2 12 2C17.5228 2 22 6.47715 22 12C22 14.1361 21.3302 16.1158 20.1892 17.7406L17 12H20C20 7.58172 16.4183 4 12 4C9.84982 4 7.89777 4.84827 6.46023 6.22842L5.46257 4.43262ZM18.5374 19.5674C16.7844 21.0831 14.4993 22 12 22C6.47715 22 2 17.5228 2 12C2 9.86386 2.66979 7.88416 3.8108 6.25944L7 12H4C4 16.4183 7.58172 20 12 20C14.1502 20 16.1022 19.1517 17.5398 17.7716L18.5374 19.5674Z"},child:[]}]})(e)}function Xde(e){return Qt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18.031 16.6168L22.3137 20.8995L20.8995 22.3137L16.6168 18.031C15.0769 19.263 13.124 20 11 20C6.032 20 2 15.968 2 11C2 6.032 6.032 2 11 2C15.968 2 20 6.032 20 11C20 13.124 19.263 15.0769 18.031 16.6168ZM16.0247 15.8748C17.2475 14.6146 18 12.8956 18 11C18 7.1325 14.8675 4 11 4C7.1325 4 4 7.1325 4 11C4 14.8675 7.1325 18 11 18C12.8956 18 14.6146 17.2475 15.8748 16.0247L16.0247 15.8748Z"},child:[]}]})(e)}function Jde(e){return Qt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM13 12H17V14H11V7H13V12Z"},child:[]}]})(e)}function hP(e){return Qt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 19H21V21H3V19ZM13 5.82843V17H11V5.82843L4.92893 11.8995L3.51472 10.4853L12 2L20.4853 10.4853L19.0711 11.8995L13 5.82843Z"},child:[]}]})(e)}function Qde(e){return Qt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 14V16C8.68629 16 6 18.6863 6 22H4C4 17.5817 7.58172 14 12 14ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11ZM14.5946 18.8115C14.5327 18.5511 14.5 18.2794 14.5 18C14.5 17.7207 14.5327 17.449 14.5945 17.1886L13.6029 16.6161L14.6029 14.884L15.5952 15.4569C15.9883 15.0851 16.4676 14.8034 17 14.6449V13.5H19V14.6449C19.5324 14.8034 20.0116 15.0851 20.4047 15.4569L21.3971 14.8839L22.3972 16.616L21.4055 17.1885C21.4673 17.449 21.5 17.7207 21.5 18C21.5 18.2793 21.4673 18.551 21.4055 18.8114L22.3972 19.3839L21.3972 21.116L20.4048 20.543C20.0117 20.9149 19.5325 21.1966 19.0001 21.355V22.5H17.0001V21.3551C16.4677 21.1967 15.9884 20.915 15.5953 20.5431L14.603 21.1161L13.6029 19.384L14.5946 18.8115ZM18 19.5C18.8284 19.5 19.5 18.8284 19.5 18C19.5 17.1716 18.8284 16.5 18 16.5C17.1716 16.5 16.5 17.1716 16.5 18C16.5 18.8284 17.1716 19.5 18 19.5Z"},child:[]}]})(e)}function Zde(e){return Qt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 14V16C8.68629 16 6 18.6863 6 22H4C4 17.5817 7.58172 14 12 14ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11ZM18 21.5L15.0611 23.0451L15.6224 19.7725L13.2447 17.4549L16.5305 16.9775L18 14L19.4695 16.9775L22.7553 17.4549L20.3776 19.7725L20.9389 23.0451L18 21.5Z"},child:[]}]})(e)}function eue({users:e=[]}){const{t,i18n:a}=Ct(),r=a.language||"en",[n,i]=y.useState(!1),l=3,o=60,c=`
    .scrollbar-thin-blue { scrollbar-width: thin; scrollbar-color: #2563eb transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar { width: 8px; }
    .scrollbar-thin-blue::-webkit-scrollbar-track { background: transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar-thumb { background-color: #2563eb; border-radius: 9999px; }
    .scrollbar-thin-blue:hover::-webkit-scrollbar-thumb { background-color: #1d4ed8; }
  `,d=y.useRef(null),u=y.useRef(null),f=y.useRef(null),[p,m]=y.useState(null);y.useEffect(()=>{const C=()=>{const _=d.current?.clientHeight||0,P=u.current?.clientHeight||0,L=f.current?.clientHeight||0,U=Math.max(_-P-L,0);m(U||null)};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]);const v=[{name:r==="ar"?" ":"Ibrahim Ahmed",active:!0,lastSeen:new Date,role:r==="ar"?"":"Manager",avatar:""},{name:r==="ar"?" ":"Adam Mohamed",active:!1,lastSeen:new Date(Date.now()-12300*1e3),role:r==="ar"?"":"Developer",avatar:""},{name:r==="ar"?" ":"Sara Ali",active:!0,lastSeen:new Date(Date.now()-900*1e3),role:r==="ar"?"":"Designer",avatar:""},{name:r==="ar"?" ":"Mohamed Hassan",active:!1,lastSeen:new Date(Date.now()-1565*60*1e3),role:r==="ar"?"":"Analyst",avatar:""},{name:r==="ar"?" ":"Fatima Khaled",active:!0,lastSeen:new Date(Date.now()-300*1e3),role:r==="ar"?"":"Marketer",avatar:""},{name:r==="ar"?" ":"Zeinab Hossam",active:!0,lastSeen:new Date(Date.now()-420*1e3),role:r==="ar"?" ":"Marketing Manager",avatar:""},{name:r==="ar"?" ":"Karim Salah",active:!1,lastSeen:new Date(Date.now()-10800*1e3),role:r==="ar"?" ":"Security Developer",avatar:""},{name:r==="ar"?" ":"Hoda Abdullah",active:!0,lastSeen:new Date(Date.now()-1200*1e3),role:r==="ar"?" ":"Graphic Designer",avatar:""},{name:r==="ar"?" ":"Tarek Fouad",active:!0,lastSeen:new Date(Date.now()-120*1e3),role:r==="ar"?" DevOps":"DevOps Engineer",avatar:""},{name:r==="ar"?" ":"Rana Samir",active:!1,lastSeen:new Date(Date.now()-14400*1e3),role:r==="ar"?" ":"Content Writer",avatar:""},{name:r==="ar"?" ":"Hossam Eldeen",active:!0,lastSeen:new Date(Date.now()-600*1e3),role:r==="ar"?" ":"Mobile Developer",avatar:""},{name:r==="ar"?" ":"Mariam Adel",active:!1,lastSeen:new Date(Date.now()-300*60*1e3),role:r==="ar"?"":"Accountant",avatar:""},{name:r==="ar"?" ":"Khaled Waleed",active:!0,lastSeen:new Date(Date.now()-1500*1e3),role:r==="ar"?"  ":"HR Manager",avatar:""},{name:r==="ar"?" ":"Dina Mohamed",active:!0,lastSeen:new Date(Date.now()-360*1e3),role:r==="ar"?"  ":"Database Developer",avatar:""},{name:r==="ar"?" ":"Abdulrahman Ahmed",active:!1,lastSeen:new Date(Date.now()-9e3*1e3),role:r==="ar"?" ":"Network Engineer",avatar:""}],g=e.length?e:v,b=()=>{i(!0),setTimeout(()=>i(!1),1e3)},j=C=>{try{return new Intl.DateTimeFormat(r,{hour:"2-digit",minute:"2-digit",hour12:!1}).format(C)}catch{const _=P=>String(P).padStart(2,"0");return`${_(C.getHours())}:${_(C.getMinutes())}`}},N=C=>{const _=Date.now()-C.getTime(),P=Math.floor(_/6e4),L=Math.floor(P/60),U=P%60;return r==="ar"?L<=0?` ${U} `:` ${L}  ${U} `:L<=0?`${U} min ago`:`${L}h ${U}m ago`},k=g.filter(C=>C.active).length,S=g.length;return s.jsxs("div",{ref:d,className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden h-full flex flex-col",children:[s.jsx("div",{ref:u,className:"bg-gradient-to-r from-blue-500 to-purple-600 p-3 text-white flex-shrink-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:s.jsx(Zde,{className:"text-2xl"})}),s.jsxs("div",{children:[s.jsxs("div",{className:`flex items-center ${r==="ar"?"flex-row-reverse":""} gap-2`,children:[s.jsx("span",{"aria-hidden":!0,className:"inline-block w-1 h-4 rounded bg-white/80"}),s.jsx("h3",{className:"text-lg font-bold",children:t("Active Users")})]}),s.jsxs("p",{className:"text-blue-100 text-sm",children:[k," ",r==="ar"?" ":"active of"," ",S," ",r==="ar"?"":"users"]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{onClick:b,className:`p-2 bg-white/20 hover:bg-white/30 rounded-lg transition-all duration-200 hover:scale-105 ${n?"animate-spin":""}`,title:t("Refresh"),children:s.jsx(kA,{className:"text-lg"})})})]})}),s.jsx("style",{children:c}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsx("div",{className:"h-full overflow-y-auto overflow-x-hidden scrollbar-thin-blue",style:{maxHeight:Array.isArray(g)&&g.length<=3?Math.min(g.length,3)*o:p||l*o},children:s.jsx("div",{className:"p-2 space-y-2",children:g.map((C,_)=>s.jsxs("div",{className:"grid grid-cols-[auto,1fr,auto] items-center gap-2 p-2 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200/60 dark:border-gray-600/50",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white text-sm font-bold shadow-lg",children:C.avatar||C.name.charAt(0)}),s.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white dark:border-gray-700 ${C.active?"bg-emerald-500":"bg-red-500"}`,children:s.jsx(qde,{className:"w-full h-full"})})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200 truncate max-w-[14rem]",children:C.name})}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mt-0.5",children:[s.jsx(Qde,{className:"text-xs"}),s.jsx("span",{className:"truncate max-w-[14rem]",children:C.role})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"flex items-center gap-2",children:C.active?s.jsx("span",{className:"px-2 py-1 bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300 text-xs rounded-full font-medium",children:r==="ar"?"":"Online"}):s.jsx("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 text-xs rounded-full font-medium",children:r==="ar"?"":"Offline"})}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-300 mt-0.5",children:[s.jsx(Jde,{className:"text-xs"}),s.jsx("span",{children:j(C.lastSeen)})]}),s.jsx("div",{className:"text-[11px] text-gray-500 dark:text-gray-400 mt-0.5",children:N(C.lastSeen)})]})]},_))})})}),s.jsx("div",{ref:f,className:"bg-gray-50 dark:bg-gray-700 px-3 py-2 border-t border-gray-200 dark:border-gray-600 flex-shrink-0",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded-full"}),s.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[k," ",r==="ar"?"":"Active"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[S-k," ",r==="ar"?" ":"Inactive"]})]})]}),s.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:[r==="ar"?" :":"Last updated:"," ",j(new Date)]})]})})]})}function tue({segments:e,employee:t,dateFrom:a,dateTo:r}){const{t:n,i18n:i}=Ct(),[l,o]=y.useState(!0),c=i.language||"en",d=c==="ar",u=[{name:c==="ar"?" ":"Summer Promo",status:"onTrack",owner:"Osama Sales",lastActivity:"2025-01-10",openRate:32,clickRate:4.1,conversionRate:5.2},{name:c==="ar"?" ":"Winback Series",status:"atRisk",owner:"Youssef Hemeda",lastActivity:"2025-01-08",openRate:18,clickRate:2.3,conversionRate:2.1},{name:c==="ar"?" ":"Product Launch",status:"paused",owner:"Ahmed Ibrahim",lastActivity:"2025-01-06",openRate:0,clickRate:0,conversionRate:0},{name:c==="ar"?" ":"Market Expansion",status:"onTrack",owner:"Ahmed Ibrahim",lastActivity:"2025-01-05",openRate:25,clickRate:3.2,conversionRate:4},{name:c==="ar"?" ":"Upgrade Drive",status:"atRisk",owner:"Osama Sales",lastActivity:"2025-01-03",openRate:14,clickRate:1.8,conversionRate:1.5}],f=T=>{if(!a&&!r)return!0;const F=new Date(T);if(isNaN(F))return!0;const M=new Date(F.getFullYear(),F.getMonth(),F.getDate());if(a){const I=new Date(a);if(I.setHours(0,0,0,0),M<I)return!1}if(r){const I=new Date(r);if(I.setHours(0,0,0,0),M>I)return!1}return!0},p=u.filter(T=>(!t||T.owner===t)&&f(T.lastActivity)),m={onTrack:p.filter(T=>T.status==="onTrack").length,atRisk:p.filter(T=>T.status==="atRisk").length,paused:p.filter(T=>T.status==="paused").length},v=[{label:n("On Track"),value:m.onTrack,color:"#22c55e"},{label:n("At Risk"),value:m.atRisk,color:"#f59e0b"},{label:n("Paused"),value:m.paused,color:"#ef4444"}],g=l?v:v.filter(T=>T.label!==n("Paused")),b=m.onTrack+m.atRisk,j=p.filter(T=>T.status!=="paused"),N=j.length?Math.round(j.reduce((T,F)=>T+F.openRate,0)/j.length):0,k=j.length?Number((j.reduce((T,F)=>T+F.clickRate,0)/j.length).toFixed(1)):0,S=j.length?Number((j.reduce((T,F)=>T+F.conversionRate,0)/j.length).toFixed(1)):0,C=T=>T==="onTrack"?"bg-emerald-500":T==="atRisk"?"bg-amber-500":"bg-red-500",_=T=>n(T==="onTrack"?"On Track":T==="atRisk"?"At Risk":"Paused"),P=T=>T==="onTrack"?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300":T==="atRisk"?"bg-amber-50 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300":"bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-300",L=T=>{try{return new Intl.DateTimeFormat(c==="ar"?"ar-EG":"en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(T))}catch{return T}},U=!a&&!r?n("Last 30 Days"):a&&r?c==="ar"?` ${L(a)}  ${L(r)}`:`From ${L(a)} To ${L(r)}`:a?c==="ar"?` ${L(a)}`:`From ${L(a)}`:c==="ar"?` ${L(r)}`:`To ${L(r)}`;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[s.jsxs("div",{className:`flex items-center ${d?"flex-row-reverse":""} gap-2`,children:[s.jsx("span",{"aria-hidden":!0,className:"inline-block w-1 h-4 rounded bg-blue-500"}),s.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-800 dark:text-gray-100",children:n("Active Campaigns")})]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-blue-200",children:U})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-4",children:[s.jsxs("div",{className:"p-3 rounded-lg bg-gray-100 dark:bg-blue-900",children:[s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:n("Avg. Open Rate")}),s.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:[N,"%"]})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-gray-100 dark:bg-blue-900",children:[s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:n("Avg. Click Rate")}),s.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:[k,"%"]})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-gray-100 dark:bg-blue-900",children:[s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:n("Conversion Rate")}),s.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:[S,"%"]})]})]}),s.jsxs("div",{className:"flex flex-col items-start gap-3 md:gap-4",children:[s.jsxs("div",{className:`flex ${d?"flex-row-reverse":"flex-row"} items-start gap-3 md:gap-4 w-full`,children:[s.jsx("div",{className:"shrink-0 self-start",children:s.jsx(ei,{segments:g,centerValue:b,centerLabel:n("Total Active"),size:125})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-800 dark:text-gray-100",children:n("Active Campaigns Overview")}),s.jsx("button",{type:"button",onClick:()=>o(T=>!T),className:"text-xs px-2 py-1 rounded border border-gray-300 dark:border-blue-700 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-blue-800",children:n(l?"Hide Paused":"Show Paused")})]}),s.jsx("div",{className:"space-y-2 mb-4",children:g.map((T,F)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:T.color}}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:T.label}),s.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:T.value})]},F))})]})]}),s.jsxs("div",{className:"w-full",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-800 dark:text-gray-100 mt-3",children:n("Top Campaigns")}),s.jsx("style",{children:`
    .scrollbar-thin-blue { scrollbar-width: thin; scrollbar-color: #2563eb transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar { height: 6px; }
    .scrollbar-thin-blue::-webkit-scrollbar-track { background: transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar-thumb { background-color: #2563eb; border-radius: 9999px; }
    .scrollbar-thin-blue:hover::-webkit-scrollbar-thumb { background-color: #1d4ed8; }
  `}),s.jsx("div",{className:"flex flex-row flex-nowrap gap-3 w-full items-stretch overflow-x-auto overflow-y-hidden pr-1 snap-x snap-mandatory scrollbar-thin-blue",children:p.map((T,F)=>s.jsxs("div",{className:"flex flex-col p-3 rounded-xl border border-gray-200 dark:border-blue-700 bg-transparent dark:bg-transparent shadow-sm hover:shadow-md transition-shadow duration-200 h-full min-h-[120px] flex-shrink-0 w-fit max-w-[200px] md:max-w-[220px] snap-start",children:[s.jsxs("div",{className:"flex flex-col items-start gap-1 min-w-0",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 min-w-0",children:[s.jsx("span",{className:`inline-block w-3 h-3 rounded-full ${C(T.status)}`}),s.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 whitespace-normal break-words",children:T.name})]}),s.jsx("span",{className:`text-[10px] md:text-xs px-2 py-0.5 rounded-full font-medium ${P(T.status)}`,children:_(T.status)})]}),s.jsxs("div",{className:"mt-2 flex flex-col gap-1 text-xs md:text-sm text-[var(--muted-text)]",children:[s.jsxs("div",{children:[n("Open Rate"),": ",T.openRate,"%"]}),s.jsxs("div",{children:[n("Click Rate"),": ",T.clickRate,"%"]}),s.jsxs("div",{children:[n("Conversion Rate"),": ",T.conversionRate,"%"]})]})]},F))})]})]})]})}Cs.register(_n,Tn,Un,ai,pl,Dm,Sx,cn,on);const aue=({selectedEmployee:e,dateFrom:t,dateTo:a})=>{const{t:r,i18n:n}=Ct(),i=n.language||"en",[l,o]=y.useState("count"),[c,d]=y.useState("bar"),[u,f]=y.useState("sum"),[p,m]=y.useState("2025"),[v,g]=y.useState(""),[b,j]=y.useState(!1),[N,k]=y.useState({employee:"",dateFrom:"",dateTo:"",valueMin:"",valueMax:"",stage:"",leadName:""}),S=[{date:"2025-01-01",employee:"Osama Sales",leadName:"Ahmed Ali",stage:"New",value:5e3,prorated:1e3},{date:"2025-01-02",employee:"Youssef Hemeda",leadName:"Sara Mohamed",stage:"Qualified",value:7500,prorated:3750},{date:"2025-01-03",employee:"Ahmed Ibrahim",leadName:"Omar Hassan",stage:"Proposal",value:12e3,prorated:9e3},{date:"2025-01-04",employee:"Noura",leadName:"Fatima Ahmed",stage:"Negotiation",value:8500,prorated:6800},{date:"2025-01-05",employee:"Ali",leadName:"Khaled Mahmoud",stage:"Closed Won",value:15e3,prorated:15e3},{date:"2025-01-06",employee:"Osama Sales",leadName:"Mona Saleh",stage:"Closed Lost",value:6e3,prorated:0},{date:"2025-01-07",employee:"Youssef Hemeda",leadName:"Tamer Farouk",stage:"New",value:4500,prorated:900},{date:"2025-01-08",employee:"Ahmed Ibrahim",leadName:"Layla Nasser",stage:"Qualified",value:9e3,prorated:4500},{date:"2025-01-09",employee:"Noura",leadName:"Youssef Ali",stage:"Proposal",value:11e3,prorated:8250},{date:"2025-01-10",employee:"Ali",leadName:"Dina Mostafa",stage:"Negotiation",value:13500,prorated:10800}],C=["New","Qualified","Proposal","Negotiation","Closed Won","Closed Lost"],_=["Osama Sales","Youssef Hemeda","Ahmed Ibrahim","Noura","Ali"],P=X=>{const se=new Date(X);return se.setFullYear(parseInt(p)),se.toLocaleDateString()},L=y.useMemo(()=>S.filter(X=>{const se=!v||X.stage.toLowerCase().includes(v.toLowerCase())||X.leadName.toLowerCase().includes(v.toLowerCase()),ie=N.employee||e,ne=!ie||X.employee===ie,J=!N.stage||X.stage===N.stage,le=!N.leadName||X.leadName.toLowerCase().includes(N.leadName.toLowerCase()),pe=!N.valueMin||X.value>=parseFloat(N.valueMin),Q=!N.valueMax||X.value<=parseFloat(N.valueMax),xe=N.dateFrom||t,he=N.dateTo||a,ue=!xe||X.date>=xe,Le=!he||X.date<=he;return se&&ne&&J&&le&&pe&&Q&&ue&&Le}),[S,v,N,e,t,a]),U=y.useMemo(()=>{const X={};return C.forEach(se=>{if(X[se]=L.filter(ie=>ie.stage===se).reduce((ie,ne)=>{const J=l==="count"?1:l==="value"?ne.value:ne.prorated;return u==="sum"||u==="avg"?ie+J:u==="min"?Math.min(ie,J):u==="max"?Math.max(ie,J):ie+J},u==="min"?1/0:u==="max"?-1/0:0),u==="avg"){const ie=L.filter(ne=>ne.stage===se).length;X[se]=ie>0?X[se]/ie:0}}),X},[L,l,u,C]),z={labels:C,datasets:[{label:r(l),data:C.map(X=>U[X]||0),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1}]},T={labels:L.map(X=>P(X.date)),datasets:[{label:r(l),data:L.map(X=>l==="count"?1:l==="value"?X.value:X.prorated),borderColor:"rgba(59, 130, 246, 1)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4}]},F={labels:C,datasets:[{data:C.map(X=>U[X]||0),backgroundColor:["rgba(239, 68, 68, 0.8)","rgba(245, 158, 11, 0.8)","rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(139, 92, 246, 0.8)","rgba(236, 72, 153, 0.8)"]}]},I=typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",W=l==="count"?i==="ar"?"  ":"No. of Leads":l==="value"?i==="ar"?" ":"Deal Value":i==="ar"?" ":"Prorated Revenue",R=u==="sum"?i==="ar"?"":"Sum":u==="avg"?i==="ar"?"":"Average":u==="min"?i==="ar"?"":"Minimum":i==="ar"?"":"Maximum",q=i==="ar"?"":"Stage",ae=`${W} (${R})`,te=i==="ar"?"":"Date",K=W,oe={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:I}},title:{display:!0,text:`${r("Pipeline Analysis")} - ${r(l)} (${r("by Stage")})`,color:I}},scales:{x:{grid:{display:!1},ticks:{color:I,font:{size:12}},title:{display:!0,text:q,color:I}},y:{beginAtZero:!0,grid:{display:!1},ticks:{color:I,font:{size:12}},title:{display:!0,text:ae,color:I}}}},D={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:I}},title:{display:!0,text:`${r("Pipeline Analysis")} - ${r(l)} (${r("Over Time")})`,color:I}},scales:{x:{grid:{display:!1},ticks:{color:I,font:{size:12}},title:{display:!0,text:te,color:I}},y:{grid:{display:!1},ticks:{color:I,font:{size:12}},title:{display:!0,text:K,color:I}}}},G=y.useMemo(()=>C.map(X=>{const se=_.map(ne=>{const J=L.filter(pe=>pe.stage===X&&pe.employee===ne),le=J.reduce((pe,Q)=>{const xe=l==="count"?1:l==="value"?Q.value:Q.prorated;return u==="sum"||u==="avg"?pe+xe:u==="min"?Math.min(pe,xe):u==="max"?Math.max(pe,xe):pe+xe},u==="min"?1/0:u==="max"?-1/0:0);return u==="avg"&&J.length>0?le/J.length:J.length===0&&(u==="min"||u==="max")?0:le}),ie=se.reduce((ne,J)=>ne+J,0);return{stage:X,values:se,total:ie}}),[L,l,u,C,_]),H=y.useMemo(()=>L,[L]);return s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3 justify-end",children:[s.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-300",children:c==="bar"?i==="ar"?"  ":"Bar Chart":c==="line"?i==="ar"?"  ":"Line Chart":c==="pie"?i==="ar"?"  ":"Pie Chart":c==="pivot"?i==="ar"?" ":"Pivot Table":i==="ar"?"":"List"}),s.jsxs("div",{className:"flex items-center gap-2 p-1 bg-gray-100 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:()=>d("bar"),title:r("Bar"),"aria-label":r("Bar"),className:`group relative flex items-center justify-center px-3 py-2 rounded-md transition-all duration-300 ease-in-out ${c==="bar"?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-600 hover:text-blue-600 dark:hover:text-blue-400 hover:scale-105"} border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-500`,title:i==="ar"?"  ":"Bar Chart",children:s.jsx(NA,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>d("line"),title:r("Line"),"aria-label":r("Line"),className:`group relative flex items-center justify-center px-3 py-2 rounded-md transition-all duration-300 ease-in-out ${c==="line"?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg shadow-purple-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-gray-600 hover:text-purple-600 dark:hover:text-purple-400 hover:scale-105"} border border-gray-200 dark:border-gray-600 hover:border-purple-300 dark:hover:border-purple-500`,title:i==="ar"?"  ":"Line Chart",children:s.jsx(Gz,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>d("pie"),title:r("Pie"),"aria-label":r("Pie"),className:`group relative flex items-center justify-center px-3 py-2 rounded-md transition-all duration-300 ease-in-out ${c==="pie"?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg shadow-orange-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-orange-50 dark:hover:bg-gray-600 hover:text-orange-600 dark:hover:text-orange-400 hover:scale-105"} border border-gray-200 dark:border-gray-600 hover:border-orange-300 dark:hover:border-orange-500`,title:i==="ar"?"  ":"Pie Chart",children:s.jsx(Kz,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>d("pivot"),title:r("Pivot"),"aria-label":r("Pivot"),className:`group relative flex items-center justify-center px-3 py-2 rounded-md transition-all duration-300 ease-in-out ${c==="pivot"?"bg-gradient-to-r from-teal-500 to-teal-600 text-white shadow-lg shadow-teal-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-teal-50 dark:hover:bg-gray-600 hover:text-teal-600 dark:hover:text-teal-400 hover:scale-105"} border border-gray-200 dark:border-gray-600 hover:border-teal-300 dark:hover:border-teal-500`,title:i==="ar"?" ":"Pivot Table",children:s.jsx(Kde,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>d("list"),title:r("List"),"aria-label":r("List"),className:`group relative flex items-center justify-center px-3 py-2 rounded-md transition-all duration-300 ease-in-out ${c==="list"?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg shadow-green-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-green-50 dark:hover:bg-gray-600 hover:text-green-600 dark:hover:text-green-400 hover:scale-105"} border border-gray-200 dark:border-gray-600 hover:border-green-300 dark:hover:border-green-500`,title:i==="ar"?"":"List",children:s.jsx(Gde,{className:"w-4 h-4"})})]})]}),!1,c==="bar"&&s.jsx("div",{className:"w-full h-72",children:s.jsx(Ir,{options:oe,data:z})}),c==="line"&&s.jsx("div",{className:"w-full h-72",children:s.jsx(lo,{options:D,data:T})}),c==="pie"&&s.jsx("div",{className:"w-full h-72",children:s.jsx(qz,{options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:I}},title:{display:!0,text:`${r("Pipeline Analysis")} - ${r(l)} (${r("by Stage")})`,color:I}}},data:F})}),c==="pivot"&&s.jsx("div",{className:"w-full overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm border border-gray-200 dark:border-gray-700 rounded-md",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700",children:r("Stage")}),_.map((X,se)=>s.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700",children:X},se)),s.jsxs("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700",children:[r("Total")," (",r(u),")"]})]})}),s.jsx("tbody",{children:G.map((X,se)=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[s.jsx("td",{className:"px-3 py-2 font-medium text-gray-900 dark:text-white",children:X.stage}),X.values.map((ie,ne)=>s.jsx("td",{className:"px-3 py-2 text-gray-700 dark:text-gray-300",children:ie},ne)),s.jsx("td",{className:"px-3 py-2 font-semibold",children:Math.round(X.total*100)/100})]},se))})]})}),c==="list"&&s.jsx("div",{className:"w-full overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm border border-gray-200 dark:border-gray-700 rounded-md",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700",children:r("Date")}),s.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700",children:r("Employee")}),s.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700",children:r("Lead name")}),s.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700",children:r("Stage name")}),s.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700",children:r("Value")}),s.jsx("th",{className:"px-3 py-2 text-left border-b border-gray-200 dark:border-gray-700",children:r("Prorated Revenue")})]})}),s.jsx("tbody",{children:H.map((X,se)=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[s.jsx("td",{className:"px-3 py-2 text-gray-700 dark:text-gray-300",children:P(X.date)}),s.jsx("td",{className:"px-3 py-2 text-gray-700 dark:text-gray-300",children:X.employee}),s.jsx("td",{className:"px-3 py-2 text-gray-700 dark:text-gray-300",children:X.leadName}),s.jsx("td",{className:"px-3 py-2 text-gray-700 dark:text-gray-300",children:X.stage}),s.jsx("td",{className:"px-3 py-2 text-gray-700 dark:text-gray-300",children:X.value}),s.jsx("td",{className:"px-3 py-2 text-gray-700 dark:text-gray-300",children:X.prorated})]},se))})]})})]})},sue=({isOpen:e,onClose:t,onSave:a,lead:r})=>{const[n,i]=y.useState({fullName:"",mobile:"",email:"",company:"",location:"",status:"New",priority:"Medium",source:"Website",assignedTo:"Unassigned",estimatedValue:"",probability:"50",notes:""});y.useEffect(()=>{r&&i({fullName:r.fullName||"",mobile:r.mobile||"",email:r.email||"",company:r.company||"",location:r.location||"",status:r.status||"New",priority:r.priority||"Medium",source:r.source||"Website",assignedTo:r.assignedTo||"Unassigned",estimatedValue:r.estimatedValue||"",probability:r.probability||"50",notes:r.notes||""})},[r]);const l=c=>{const{name:d,value:u}=c.target;i(f=>({...f,[d]:u}))},o=c=>{c.preventDefault();const d={...r,...n,lastModified:new Date().toLocaleDateString("ar-EG")};a(d),t()};return!e||!r?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white sm:rounded-lg shadow-xl w-full h-screen sm:max-w-4xl sm:max-h-[90vh] sm:h-auto sm:mx-4 mx-0 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[s.jsx(tw,{className:"mr-2 text-blue-600"}),"   "]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",title:"",children:s.jsx(tu,{size:20})})]}),s.jsxs("form",{onSubmit:o,className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:" "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(tw,{className:"inline mr-1"}),"  *"]}),s.jsx("input",{type:"text",name:"fullName",value:n.fullName,onChange:l,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  "})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Zu,{className:"inline mr-1"}),"  *"]}),s.jsx("input",{type:"tel",name:"mobile",value:n.mobile,onChange:l,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  "})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Sf,{className:"inline mr-1"})," "]}),s.jsx("input",{type:"email",name:"email",value:n.email,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  "})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(LU,{className:"inline mr-1"}),""]}),s.jsx("input",{type:"text",name:"company",value:n.company,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  "})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(RU,{className:"inline mr-1"}),""]}),s.jsx("input",{type:"text",name:"location",value:n.location,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:" "})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"  "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),s.jsxs("select",{name:"status",value:n.status,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"New",children:""}),s.jsx("option",{value:"Contacted",children:" "}),s.jsx("option",{value:"Qualified",children:""}),s.jsx("option",{value:"Proposal",children:""}),s.jsx("option",{value:"Negotiation",children:""}),s.jsx("option",{value:"Closed Won",children:" - "}),s.jsx("option",{value:"Closed Lost",children:" - "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),s.jsxs("select",{name:"priority",value:n.priority,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"Low",children:""}),s.jsx("option",{value:"Medium",children:""}),s.jsx("option",{value:"High",children:""}),s.jsx("option",{value:"Urgent",children:""})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),s.jsxs("select",{name:"source",value:n.source,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"Website",children:" "}),s.jsx("option",{value:"Social Media",children:"  "}),s.jsx("option",{value:"Referral",children:""}),s.jsx("option",{value:"Cold Call",children:" "}),s.jsx("option",{value:"Email Campaign",children:"  "}),s.jsx("option",{value:"Event",children:""}),s.jsx("option",{value:"Other",children:""})]})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:" "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),s.jsxs("select",{name:"assignedTo",value:n.assignedTo,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"Unassigned",children:" "}),s.jsx("option",{value:"Ahmed Ali",children:" "}),s.jsx("option",{value:"Sara Mohamed",children:" "}),s.jsx("option",{value:"Omar Hassan",children:" "}),s.jsx("option",{value:"Fatima Ibrahim",children:" "})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(ene,{className:"inline mr-1"})," "]}),s.jsx("input",{type:"number",name:"estimatedValue",value:n.estimatedValue,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  "})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (%)"}),s.jsx("input",{type:"number",name:"probability",value:n.probability,onChange:l,min:"0",max:"100",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:" "})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),s.jsx("textarea",{name:"notes",value:n.notes,onChange:l,rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"   ..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:""}),s.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(cne,{className:"mr-2"})," "]})]})]})]})})},V1=({lead:e,isOpen:t,onClose:a,isArabic:r=!1,theme:n="light"})=>{const[i,l]=y.useState("overview"),[o,c]=y.useState(""),[d,u]=y.useState("all"),[f,p]=y.useState("all"),[m,v]=y.useState("date"),[g,b]=y.useState("timeline"),[j,N]=y.useState([]),[k,S]=y.useState(!1),[C,_]=y.useState(!1),[P,L]=y.useState([{id:1,type:"call",title:"   ",description:"    ",date:"2024-01-15",time:"10:30",status:"completed",priority:"high",assignee:" ",duration:"25 "},{id:2,type:"email",title:"  ",description:"     ",date:"2024-01-14",time:"14:15",status:"completed",priority:"medium",assignee:" ",duration:null},{id:3,type:"meeting",title:"   ",description:"    ",date:"2024-01-16",time:"11:00",status:"scheduled",priority:"high",assignee:" ",duration:"60 "},{id:4,type:"note",title:" ",description:"     ",date:"2024-01-13",time:"16:45",status:"completed",priority:"low",assignee:" ",duration:null},{id:5,type:"task",title:"  ",description:"    ",date:"2024-01-17",time:"09:00",status:"pending",priority:"medium",assignee:" ",duration:"120 "}]);if(!t)return null;const U=D=>{console.log("  :",D),L(G=>[{...D,assignee:D.assignedTo||D.assignee||" "},...G]),S(!1)},z={name:e?.fullName||e?.leadName||e?.name||" ",phone:e?.mobile||e?.phone||"+966512345698",email:e?.email||"lead28@example.com",company:e?.company||"   ",location:e?.location||"Not specified",source:e?.source||"referral",createdDate:e?.createdDate||"Not specified",status:e?.status||"qualified",priority:e?.priority||"high",stage:e?.stage||(r?"":"New")},{stages:T}=kx(),F=String(z.stage).toLowerCase(),M=(Array.isArray(T)?T:[]).find(D=>{const G=typeof D=="string"?D:D?.name,H=typeof D=="string"?"":D?.nameAr;return String(G||"").toLowerCase()===F||String(H||"").toLowerCase()===F}),I=M?typeof M!="string"&&typeof M.color=="string"?M.color.trim().startsWith("#")?{backgroundColor:M.color}:{background:`var(--stage-${M.color}-swatch, ${M.color})`}:{}:{},W=`px-3 py-1 text-white text-sm rounded-full font-medium${M?"":" bg-blue-500"}`,R=P.filter(D=>{const G=D.title.toLowerCase().includes(o.toLowerCase())||D.description.toLowerCase().includes(o.toLowerCase()),H=d==="all"||D.status===d,X=f==="all"||D.type===f;return G&&H&&X}).sort((D,G)=>{switch(m){case"date":const H=new Date(`${D.date}T${D.time||"00:00"}`);return new Date(`${G.date}T${G.time||"00:00"}`)-H;case"priority":const se={high:3,medium:2,low:1};return se[G.priority]-se[D.priority];case"status":return D.status.localeCompare(G.status);default:return 0}}),q={total:P.length,completed:P.filter(D=>D.status==="completed").length,pending:P.filter(D=>D.status==="pending").length,scheduled:P.filter(D=>D.status==="scheduled").length},ae=D=>{switch(D){case"call":return s.jsx(Zu,{className:"text-blue-400"});case"email":return s.jsx(Sf,{className:"text-green-400"});case"meeting":return s.jsx(Vv,{className:"text-purple-400"});case"note":return s.jsx(vf,{className:"text-yellow-400"});case"task":return s.jsx(FD,{className:"text-orange-400"});default:return s.jsx(Qre,{className:"text-gray-400"})}},te=D=>{switch(D){case"completed":return"bg-green-500";case"pending":return"bg-orange-500";case"scheduled":return"bg-blue-500";default:return"bg-gray-500"}},K=D=>{switch(D){case"high":return"text-red-400 border-red-400";case"medium":return"text-yellow-400 border-yellow-400";case"low":return"text-green-400 border-green-400";default:return"text-gray-400 border-gray-400"}},oe=[{id:"overview",label:"Overview"},{id:"all-actions",label:"All Actions"},{id:"communication",label:"Communication"}];return Mj.createPortal(s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-0",children:[s.jsxs("div",{className:"bg-slate-800 text-white w-full sm:max-w-5xl max-h-[85vh] h-auto sm:rounded-3xl overflow-y-auto shadow-2xl p-3 sm:p-4",children:[s.jsx("div",{className:"bg-slate-800 p-6 border-b border-slate-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[s.jsx("div",{className:"w-16 h-16 bg-slate-600 rounded-full flex items-center justify-center",children:s.jsx(tw,{className:"text-2xl text-slate-300"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:z.name}),s.jsx("p",{className:"text-slate-300 text-sm mb-1",children:z.phone}),s.jsx("p",{className:"text-slate-400 text-sm",children:z.email})]})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 w-[180px] sm:w-[210px]",children:[k&&s.jsx("button",{onClick:()=>S(!1),title:r?" ":"Back to Preview",className:"btn-icon",children:s.jsx(od,{className:"text-sm"})}),!k&&s.jsx("button",{onClick:()=>S(!0),"aria-label":r?" ":"Add Action",title:r?" ":"Add Action",className:"btn-icon",children:s.jsx($u,{className:"text-sm"})}),s.jsx("button",{onClick:()=>{},"aria-label":r?"":"Assign",title:r?"":"Assign",className:"btn-icon",children:s.jsx(mne,{className:"text-sm"})}),s.jsx("button",{onClick:()=>_(!0),"aria-label":r?" ":"Edit Lead",title:r?" ":"Edit Lead",className:"btn-icon",children:s.jsx(vf,{className:"text-sm"})}),s.jsx("button",{onClick:a,"aria-label":r?"":"Close",className:"btn-icon",children:s.jsx(tu,{className:"text-lg"})})]}),s.jsx("div",{className:"w-full h-px"}),s.jsxs("div",{className:"flex space-x-6 rtl:space-x-reverse",children:[s.jsx("span",{className:"px-3 py-1 bg-emerald-500 text-white text-sm rounded-full font-medium",children:"qualified"}),s.jsx("span",{className:"px-3 py-1 bg-orange-500 text-white text-sm rounded-full font-medium",children:"high"}),s.jsx("span",{className:W,style:I,children:z.stage})]})]})]})}),s.jsx(sue,{isOpen:C,onClose:()=>_(!1),onSave:D=>{},lead:e}),k&&s.jsx("div",{className:"px-6",children:s.jsx(iA,{isOpen:k,onClose:()=>S(!1),onSave:U,lead:e,inline:!0})}),s.jsx("div",{className:`bg-slate-800 px-6 border-b border-slate-700 ${k?"hidden":""}`,children:s.jsx("div",{className:"flex justify-between w-full",children:oe.map(D=>s.jsx("button",{onClick:()=>l(D.id),className:`flex-1 py-4 px-4 text-sm font-medium border-b-2 transition-all duration-200 text-center ${i===D.id?"border-emerald-400 text-white bg-emerald-500/20 rounded-t-lg shadow-lg shadow-emerald-500/10 font-semibold":"border-transparent text-slate-400 hover:text-white hover:border-slate-500 hover:bg-slate-700/30"}`,children:D.label},D.id))})}),s.jsxs("div",{className:`flex-1 overflow-y-auto p-6 bg-slate-800 ${k?"hidden":""}`,children:[i==="overview"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3 border-b border-slate-700 pb-2 text-left",children:"Current Status"}),s.jsxs("div",{className:"flex justify-start items-center gap-16 mb-6",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"relative w-24 h-24 rounded-full mb-2 bg-[conic-gradient(#34d399_0_12%,_#334155_12%)]",children:s.jsx("div",{className:"absolute inset-2 rounded-full bg-slate-700 border border-slate-600 flex items-center justify-center",children:s.jsx("span",{className:"text-2xl font-bold text-white",children:"3"})})}),s.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Total Actions"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"relative w-24 h-24 rounded-full mb-2 bg-[conic-gradient(#10b981_0_100%)]",children:s.jsx("div",{className:"absolute inset-2 rounded-full bg-slate-700 border border-emerald-400 flex items-center justify-center",children:s.jsx("span",{className:"text-2xl font-bold text-white",children:"2"})})}),s.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Completed"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"relative w-24 h-24 rounded-full mb-2 bg-[conic-gradient(#f59e0b_0_100%)]",children:s.jsx("div",{className:"absolute inset-2 rounded-full bg-slate-700 border border-orange-400 flex items-center justify-center",children:s.jsx("span",{className:"text-2xl font-bold text-white",children:"1"})})}),s.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Pending"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4 border-b border-slate-700 pb-2",children:"Lead Information"}),s.jsxs("div",{className:"space-y-4 bg-slate-700 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-slate-300 text-sm",children:"Company:"}),s.jsx("span",{className:"text-white text-sm font-medium text-right",children:z.company})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-slate-300 text-sm",children:"Location:"}),s.jsx("span",{className:"text-white text-sm",children:z.location})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-slate-300 text-sm",children:"Source:"}),s.jsx("span",{className:"text-white text-sm",children:z.source})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-slate-300 text-sm",children:"Created Date:"}),s.jsx("span",{className:"text-white text-sm",children:z.createdDate})]})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-white font-semibold mb-3 border-b border-slate-700 pb-2",children:"Quick Actions"}),s.jsxs("div",{className:"flex items-center justify-between gap-4 rtl:flex-row-reverse",children:[s.jsxs("button",{onClick:()=>S(!0),className:"bg-emerald-500 hover:bg-emerald-600 text-white py-3 px-5 rounded-full font-medium transition-colors flex items-center justify-center gap-3",children:[s.jsx("span",{className:"w-6 h-6 rounded-full bg-emerald-400 flex items-center justify-center",children:s.jsx($u,{className:"text-xs"})}),s.jsx("span",{children:"+ Add New Action"})]}),s.jsxs("button",{className:"bg-slate-700 hover:bg-slate-600 text-slate-200 py-3 px-5 rounded-full font-medium transition-colors flex items-center justify-center gap-3 border border-slate-600",children:[s.jsx("span",{className:"w-6 h-6 rounded-full bg-slate-600 flex items-center justify-center",children:s.jsx(vf,{className:"text-xs"})}),s.jsx("span",{children:"Edit Lead"})]})]})]})})]}),i==="all-actions"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{className:"bg-slate-700 p-5 rounded-xl text-center border border-slate-600",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:q.total}),s.jsx("div",{className:"text-sm text-slate-400",children:" "})]}),s.jsxs("div",{className:"bg-slate-700 p-5 rounded-xl text-center border border-slate-600",children:[s.jsx("div",{className:"text-2xl font-bold text-green-400",children:q.completed}),s.jsx("div",{className:"text-sm text-slate-400",children:""})]}),s.jsxs("div",{className:"bg-slate-700 p-5 rounded-xl text-center border border-slate-600",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-400",children:q.pending}),s.jsx("div",{className:"text-sm text-slate-400",children:""})]}),s.jsxs("div",{className:"bg-slate-700 p-5 rounded-xl text-center border border-slate-600",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-400",children:q.scheduled}),s.jsx("div",{className:"text-sm text-slate-400",children:""})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-white font-semibold",children:"Actions"}),s.jsxs("button",{onClick:()=>S(!0),className:"bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2",children:[s.jsx($u,{}),"  "]})]}),s.jsx("div",{className:"bg-slate-700 p-4 rounded-lg space-y-3 mb-2",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-center",children:[s.jsxs("div",{className:"flex-1 relative w-full",children:[s.jsx(ax,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),s.jsx("input",{type:"text",placeholder:"  ...",value:o,onChange:D=>c(D.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-600 border border-slate-500 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-emerald-400"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ew,{className:"text-slate-400"}),s.jsxs("select",{value:d,onChange:D=>u(D.target.value),className:"bg-slate-600 border border-slate-500 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-emerald-400",children:[s.jsx("option",{value:"all",children:" "}),s.jsx("option",{value:"completed",children:""}),s.jsx("option",{value:"pending",children:""}),s.jsx("option",{value:"scheduled",children:""})]}),s.jsxs("select",{value:f,onChange:D=>p(D.target.value),className:"bg-slate-600 border border-slate-500 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-emerald-400",children:[s.jsx("option",{value:"all",children:" "}),s.jsx("option",{value:"call",children:""}),s.jsx("option",{value:"email",children:""}),s.jsx("option",{value:"meeting",children:""}),s.jsx("option",{value:"task",children:""}),s.jsx("option",{value:"note",children:""})]})]})]})}),s.jsx("div",{className:"space-y-4",children:R.length===0?s.jsxs("div",{className:"text-center py-12 bg-slate-700 rounded-lg",children:[s.jsx(FD,{className:"mx-auto text-4xl text-slate-500 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-slate-300 mb-2",children:"  "}),s.jsx("p",{className:"text-slate-400 mb-4",children:o||d!=="all"||f!=="all"?"         ":"     "}),s.jsxs("button",{onClick:()=>S(!0),className:"bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[s.jsx($u,{className:"inline mr-2"}),"  "]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:R.map(D=>s.jsx("div",{className:`bg-slate-700 border border-slate-600 rounded-xl p-5 transition-all hover:bg-slate-600 ${j.includes(D.id)?"border-emerald-400 bg-emerald-500/5":"border-slate-600"}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-slate-600 rounded-xl flex items-center justify-center",children:ae(D.type)}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-white font-medium mb-1",children:D.title}),s.jsx("p",{className:"text-slate-400 text-sm mb-2",children:D.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-slate-300",children:[s.jsxs("span",{children:[" ",D.date]}),s.jsxs("span",{children:[" ",D.time]}),s.jsxs("span",{children:[" ",D.assignee]}),D.duration&&s.jsxs("span",{children:[" ",D.duration]})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs text-white ${te(D.status)}`,children:[D.status==="completed"&&"",D.status==="pending"&&"",D.status==="scheduled"&&""]}),s.jsxs("span",{className:`px-2 py-1 rounded border text-xs ${K(D.priority)}`,children:[D.priority==="high"&&"",D.priority==="medium"&&"",D.priority==="low"&&""]})]})]})}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:"p-2 text-slate-400 hover:text-white hover:bg-slate-600 rounded transition-colors",children:s.jsx(od,{})}),s.jsx("button",{className:"p-2 text-slate-400 hover:text-white hover:bg-slate-600 rounded transition-colors",children:s.jsx(vf,{})})]})]})},D.id))})})]}),i==="communication"&&s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100 shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[s.jsx("div",{className:"bg-blue-500 p-2 rounded-xl mr-3",children:s.jsx(IS,{className:"text-white text-sm"})}),r?"  ":"Client Communication",s.jsx("span",{className:"ml-3 bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"3"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"p-2 text-gray-500 hover:text-blue-500 transition-colors",children:s.jsx(ax,{})}),s.jsx("button",{className:"p-2 text-gray-500 hover:text-blue-500 transition-colors",children:s.jsx(ew,{})})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("button",{onClick:()=>window.open(`https://wa.me/${e?.phone}`,"_blank"),className:"flex flex-col items-center justify-center p-4 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[s.jsx(Ju,{className:"text-2xl mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:r?"":"WhatsApp"})]}),s.jsxs("button",{onClick:()=>window.open(`mailto:${e?.email}`,"_blank"),className:"flex flex-col items-center justify-center p-4 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[s.jsx(Sf,{className:"text-2xl mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:r?" ":"Email"})]}),s.jsxs("button",{onClick:()=>window.open(`tel:${e?.phone}`,"_blank"),className:"flex flex-col items-center justify-center p-4 bg-purple-500 text-white rounded-xl hover:bg-purple-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[s.jsx(Zu,{className:"text-2xl mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:r?"":"Call"})]}),s.jsxs("button",{onClick:()=>window.open("https://meet.google.com/new","_blank"),className:"flex flex-col items-center justify-center p-4 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[s.jsx(aw,{className:"text-2xl mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Google Meet"})]})]}),s.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:r?":":"Filter:"}),s.jsx("button",{className:"px-3 py-1 bg-blue-100 text-blue-600 rounded-full text-xs hover:bg-blue-200 transition-colors",children:r?"":"All"}),s.jsx("button",{className:"px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-xs hover:bg-gray-200 transition-colors",children:"WhatsApp"}),s.jsx("button",{className:"px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-xs hover:bg-gray-200 transition-colors",children:"Email"}),s.jsx("button",{className:"px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-xs hover:bg-gray-200 transition-colors",children:r?"":"Calls"}),s.jsx("button",{className:"px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-xs hover:bg-gray-200 transition-colors",children:r?" ":"Unread"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("input",{type:"text",placeholder:r?"  ...":"Search conversations...",className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})})]})}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-700",children:r?" ":"Communication Timeline"}),s.jsxs("button",{onClick:()=>alert(r?"   ":"New message will be added"),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center space-x-2",children:[s.jsx($u,{className:"text-sm"}),s.jsx("span",{className:"text-sm",children:r?" ":"Add Message"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-xl border-l-4 border-green-500 hover:shadow-md transition-shadow cursor-pointer",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center mr-3 shadow-md",children:s.jsx(Ju,{className:"text-white text-sm"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-gray-800",children:e?.name||(r?" ":"Mohamed Ali")}),s.jsx("p",{className:"text-xs text-gray-500",children:r?"   ":"WhatsApp Message  Incoming"})]})]}),s.jsx("p",{className:"text-sm text-gray-700 bg-white p-3 rounded-lg shadow-sm",children:r?"     .         ":"Hello, thank you for the proposal. Can we schedule a meeting to discuss the project details and pricing?"}),s.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[s.jsx("button",{className:"text-xs text-blue-500 hover:underline",children:r?"":"Reply"}),s.jsx("button",{className:"text-xs text-gray-500 hover:underline",children:r?"":"Copy"}),s.jsx("button",{className:"text-xs text-purple-500 hover:underline",children:r?" ":"Create Follow-up"})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 ml-4 text-center",children:[s.jsx("div",{className:"bg-green-500 text-white px-2 py-1 rounded-full mb-1",children:"10:30 AM"}),s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mx-auto animate-pulse"})]})]})}),s.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl border-l-4 border-blue-500 hover:shadow-md transition-shadow cursor-pointer",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center mr-3 shadow-md",children:s.jsx(Sf,{className:"text-white text-sm"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-gray-800",children:r?"":"You"}),s.jsx("p",{className:"text-xs text-gray-500",children:r?"   ":"Email  Outgoing"})]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[s.jsx("h6",{className:"font-medium text-gray-800 mb-1",children:r?":   ":"Subject: Updated Financial Proposal"}),s.jsx("p",{className:"text-sm text-gray-700",children:r?"       .       . : __.pdf":"Updated financial proposal sent with requested modifications. Please review and respond at your earliest convenience. Attachment: updated_quote.pdf"})]}),s.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[s.jsx("button",{className:"text-xs text-blue-500 hover:underline",children:r?" ":"Resend"}),s.jsx("button",{className:"text-xs text-gray-500 hover:underline",children:r?"":"Copy"}),s.jsx("button",{className:"text-xs text-green-500 hover:underline",children:r?" ":"Delivered"})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 ml-4 text-center",children:[s.jsx("div",{className:"bg-blue-500 text-white px-2 py-1 rounded-full mb-1",children:"9:15 AM"}),s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mx-auto"})]})]})}),s.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-purple-100 rounded-xl border-l-4 border-purple-500 hover:shadow-md transition-shadow cursor-pointer",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-full flex items-center justify-center mr-3 shadow-md",children:s.jsx(Zu,{className:"text-white text-sm"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-gray-800",children:r?" ":"Phone Call"}),s.jsx("p",{className:"text-xs text-gray-500",children:r?"   15 ":"Outgoing Call  15 minutes"})]})]}),s.jsx("p",{className:"text-sm text-gray-700 bg-white p-3 rounded-lg shadow-sm",children:r?"   .        .     .":"Successful call with client. Discussed all important points and clarified project details. Client is interested and wants to proceed."}),s.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[s.jsx("button",{className:"text-xs text-purple-500 hover:underline",children:r?" ":"Call Again"}),s.jsx("button",{className:"text-xs text-gray-500 hover:underline",children:r?" ":"Add Note"}),s.jsx("button",{className:"text-xs text-green-500 hover:underline",children:r?" ":"Schedule Follow-up"})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 ml-4 text-center",children:[s.jsx("div",{className:"bg-purple-500 text-white px-2 py-1 rounded-full mb-1",children:"Yesterday"}),s.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full mx-auto"})]})]})}),s.jsx("div",{className:"p-4 bg-gradient-to-r from-red-50 to-red-100 rounded-xl border-l-4 border-red-500 hover:shadow-md transition-shadow cursor-pointer",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-full flex items-center justify-center mr-3 shadow-md",children:s.jsx(aw,{className:"text-white text-sm"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-gray-800",children:r?" Google Meet":"Google Meet Session"}),s.jsx("p",{className:"text-xs text-gray-500",children:r?"   45 ":"Video Meeting  45 minutes"})]})]}),s.jsx("p",{className:"text-sm text-gray-700 bg-white p-3 rounded-lg shadow-sm",children:r?"   -      .      .    3 .":"Successful video meeting - Comprehensive project presentation to client and their team. All technical and financial details clarified. Response expected within 3 days."}),s.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[s.jsx("button",{className:"text-xs text-red-500 hover:underline",children:r?"  ":"Schedule New Meeting"}),s.jsx("button",{className:"text-xs text-gray-500 hover:underline",children:r?" ":"Share Recording"}),s.jsx("button",{className:"text-xs text-blue-500 hover:underline",children:r?" ":"Send Summary"})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 ml-4 text-center",children:[s.jsx("div",{className:"bg-red-500 text-white px-2 py-1 rounded-full mb-1",children:"2 days ago"}),s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mx-auto"})]})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-700 mb-4",children:r?"  ":"Compose New Message"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r?"":"Channel"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{children:"WhatsApp"}),s.jsx("option",{children:"Email"}),s.jsx("option",{children:"SMS"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r?"":"Template"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{children:r?" ":"Custom Message"}),s.jsx("option",{children:r?"  ":"Quote Follow-up"}),s.jsx("option",{children:r?" ":"Appointment Confirmation"}),s.jsx("option",{children:r?" ":"Document Request"}),s.jsx("option",{children:r?"  ":"Post-call Thank You"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r?" ()":"Subject (for Email)"}),s.jsx("input",{type:"text",placeholder:r?" ...":"Message subject...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r?" ":"Message Content"}),s.jsx("textarea",{rows:"4",placeholder:r?"  ...   {}  {_}  ":"Type your message here... You can use {name} and {quote_number} as dynamic variables",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",className:"mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:r?" ":"Schedule Send"})]}),s.jsx("input",{type:"datetime-local",className:"px-3 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:r?" ":"Save Draft"}),s.jsx("button",{onClick:()=>alert(r?"   !":"Message sent successfully!"),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:r?"":"Send"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-4 rounded-xl border border-green-200",children:[s.jsx("h5",{className:"font-medium text-green-800 mb-2",children:r?"  ":"Best Response Channel"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:"WhatsApp"}),s.jsx("p",{className:"text-sm text-green-600",children:r?"85%  ":"85% Response Rate"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-xl border border-blue-200",children:[s.jsx("h5",{className:"font-medium text-blue-800 mb-2",children:r?"  ":"Avg Response Time"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"2.5h"}),s.jsx("p",{className:"text-sm text-blue-600",children:r?"  15%":"15% Improvement"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-4 rounded-xl border border-purple-200",children:[s.jsx("h5",{className:"font-medium text-purple-800 mb-2",children:r?"  ":"This Week Activity"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"12"}),s.jsx("p",{className:"text-sm text-purple-600",children:r?" ":"New Interactions"})]})]})]}),i!=="overview"&&i!=="all-actions"&&i!=="communication"&&s.jsx("div",{className:"text-center py-12",children:s.jsxs("p",{className:"text-slate-400",children:["Content for ",i," tab will be implemented here."]})})]})]}),!1]}),document.body)},rue=({employee:e,dateFrom:t,dateTo:a})=>{const{t:r,i18n:n}=Ct(),[i,l]=y.useState(null),[o,c]=y.useState(!1),d=`
    .scrollbar-thin-blue { scrollbar-width: thin; scrollbar-color: #2563eb transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar { width: 8px; }
    .scrollbar-thin-blue::-webkit-scrollbar-track { background: transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar-thumb { background-color: #2563eb; border-radius: 9999px; }
    .scrollbar-thin-blue:hover::-webkit-scrollbar-thumb { background-color: #1d4ed8; }
  `,f=[{id:1,employeeName:" ",leadName:" ",comment:"       ",timestamp:" 5 ",type:"follow_up",priority:"high"},{id:2,employeeName:" ",leadName:" ",comment:"     ",timestamp:" 15 ",type:"proposal",priority:"medium"},{id:3,employeeName:" ",leadName:" ",comment:"       ",timestamp:" 30 ",type:"inquiry",priority:"low"},{id:4,employeeName:" ",leadName:" ",comment:"       ",timestamp:" ",type:"support",priority:"medium"},{id:5,employeeName:" ",leadName:" ",comment:"     3   ",timestamp:" ",type:"meeting",priority:"high"},{id:6,employeeName:" ",leadName:" ",comment:"       ",timestamp:" 3 ",type:"follow_up",priority:"low"},{id:7,employeeName:" ",leadName:" ",comment:"       ",timestamp:" 4 ",type:"proposal",priority:"high"},{id:8,employeeName:" ",leadName:" ",comment:"       ",timestamp:" 5 ",type:"inquiry",priority:"medium"},{id:9,employeeName:" ",leadName:" ",comment:"      ",timestamp:" 6 ",type:"support",priority:"low"},{id:10,employeeName:" ",leadName:" ",comment:"       ",timestamp:" 7 ",type:"meeting",priority:"high"}].map((j,N)=>({...j,createdAt:new Date(Date.now()-(N+1)*20*60*1e3).toISOString()})),p=j=>{if(!t&&!a)return!0;const N=new Date(j);if(isNaN(N))return!0;const k=new Date(N.getFullYear(),N.getMonth(),N.getDate());if(t){const S=new Date(t);if(S.setHours(0,0,0,0),k<S)return!1}if(a){const S=new Date(a);if(S.setHours(0,0,0,0),k>S)return!1}return!0},m=f.filter(j=>(!e||j.employeeName===e)&&p(j.createdAt)),v=j=>{switch(j){case"high":return"border-red-300 bg-red-50 dark:bg-red-900/20 dark:border-red-700";case"medium":return"border-yellow-300 bg-yellow-50 dark:bg-yellow-900/20 dark:border-yellow-700";case"low":return"border-green-300 bg-green-50 dark:bg-green-900/20 dark:border-green-700";default:return"border-gray-300 bg-gray-50 dark:bg-gray-800 dark:border-gray-600"}},g=j=>{switch(j){case"high":return"bg-red-500";case"medium":return"bg-yellow-500";case"low":return"bg-green-500";default:return"bg-gray-500"}},b=j=>{switch(j){case"follow_up":return s.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})});case"proposal":return s.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z"})});case"inquiry":return s.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})});case"support":return s.jsx("svg",{className:"w-4 h-4 text-orange-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})});case"meeting":return s.jsx("svg",{className:"w-4 h-4 text-indigo-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})});default:return s.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}};return s.jsxs(s.Fragment,{children:[s.jsx("style",{children:d}),s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto scrollbar-thin-blue",children:m.map(j=>s.jsxs("div",{className:`p-3 rounded-lg border ${v(j.priority)} hover:shadow-md transition-shadow`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[b(j.type),s.jsx("div",{className:`w-2 h-2 rounded-full ${g(j.priority)}`})]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:j.timestamp})]}),s.jsxs("div",{className:"space-y-2 mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:[r("Employee"),":"]}),s.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:j.employeeName})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:[r("Lead"),":"]}),s.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:j.leadName})]})]}),s.jsx("div",{className:"mt-2 p-2 bg-white dark:bg-gray-700 rounded text-sm text-gray-700 dark:text-gray-300",children:j.comment}),s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r("Priority"),": ",r(j.priority)]}),s.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r("Type"),": ",r(j.type)]})]}),s.jsx("button",{className:"px-3 py-1 text-xs bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors",onClick:()=>{l({fullName:j.leadName}),c(!0)},children:r("View Lead")})]})]},j.id))}),s.jsx(V1,{isOpen:o,lead:i,onClose:()=>c(!1),isArabic:n.language==="ar"})]})},nue=({employee:e,dateFrom:t,dateTo:a})=>{const{t:r,i18n:n}=Ct(),[i,l]=y.useState(null),[o,c]=y.useState(!1),d=`
    .scrollbar-thin-blue { scrollbar-width: thin; scrollbar-color: #2563eb transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar { width: 8px; }
    .scrollbar-thin-blue::-webkit-scrollbar-track { background: transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar-thumb { background-color: #2563eb; border-radius: 9999px; }
    .scrollbar-thin-blue:hover::-webkit-scrollbar-thumb { background-color: #1d4ed8; }
  `,f=[{id:1,employeeName:" ",leadName:" ",phoneNumber:"+966 50 123 4567",callType:"outgoing",duration:"15:30",timestamp:" 5 ",status:"answered",notes:"       "},{id:2,employeeName:" ",leadName:" ",phoneNumber:"+966 55 234 5678",callType:"incoming",duration:"08:45",timestamp:" 12 ",status:"answered",notes:"   "},{id:3,employeeName:" ",leadName:" ",phoneNumber:"+966 50 345 6789",callType:"outgoing",duration:"22:15",timestamp:" 25 ",status:"answered",notes:"      "},{id:4,employeeName:" ",leadName:" ",phoneNumber:"+966 55 456 7890",callType:"missed",duration:"00:00",timestamp:" ",status:"missed",notes:"    "},{id:5,employeeName:" ",leadName:" ",phoneNumber:"+966 50 567 8901",callType:"incoming",duration:"18:20",timestamp:" ",status:"answered",notes:"    -   "},{id:6,employeeName:" ",leadName:" ",phoneNumber:"+966 50 678 9012",callType:"outgoing",duration:"12:45",timestamp:" 3 ",status:"answered",notes:"      "},{id:7,employeeName:" ",leadName:" ",phoneNumber:"+966 55 789 0123",callType:"incoming",duration:"25:30",timestamp:" 4 ",status:"answered",notes:"     "},{id:8,employeeName:" ",leadName:" ",phoneNumber:"+966 50 890 1234",callType:"missed",duration:"00:00",timestamp:" 5 ",status:"missed",notes:"      "},{id:9,employeeName:" ",leadName:" ",phoneNumber:"+966 55 901 2345",callType:"outgoing",duration:"19:15",timestamp:" 6 ",status:"answered",notes:"      "},{id:10,employeeName:" ",leadName:" ",phoneNumber:"+966 50 012 3456",callType:"incoming",duration:"14:20",timestamp:" 7 ",status:"answered",notes:"      "}].map((b,j)=>({...b,createdAt:new Date(Date.now()-(j+1)*15*60*1e3).toISOString()})),p=b=>{if(!t&&!a)return!0;const j=new Date(b);if(isNaN(j))return!0;const N=new Date(j.getFullYear(),j.getMonth(),j.getDate());if(t){const k=new Date(t);if(k.setHours(0,0,0,0),N<k)return!1}if(a){const k=new Date(a);if(k.setHours(0,0,0,0),N>k)return!1}return!0},m=f.filter(b=>(!e||b.employeeName===e)&&p(b.createdAt)),v=b=>{switch(b){case"outgoing":return s.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});case"incoming":return s.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M2 5a2 2 0 012-2h12a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm3.293 1.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L7.586 11H5a1 1 0 110-2h2.586l-1.293-1.293a1 1 0 010-1.414zM11 5a1 1 0 011 1v2.586l1.293-1.293a1 1 0 011.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L10 8.586V6a1 1 0 011-1z",clipRule:"evenodd"})});case"missed":return s.jsx("svg",{className:"w-4 h-4 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})});default:return null}},g=b=>{switch(b){case"outgoing":return r("Outgoing");case"incoming":return r("Incoming");case"missed":return r("Missed");default:return b}};return s.jsxs(s.Fragment,{children:[s.jsx("style",{children:d}),s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto scrollbar-thin-blue",children:m.map(b=>s.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[v(b.callType),s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:g(b.callType)})]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:b.timestamp})]}),s.jsxs("div",{className:"space-y-1 mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:[r("Employee"),":"]}),s.jsx("span",{className:"text-sm text-gray-800 dark:text-gray-200",children:b.employeeName})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:[r("Lead"),":"]}),s.jsx("span",{className:"text-sm text-gray-800 dark:text-gray-200",children:b.leadName})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:[r("Phone"),":"]}),s.jsx("span",{className:"text-sm text-gray-800 dark:text-gray-200",children:b.phoneNumber})]}),b.duration!=="00:00"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:[r("Duration"),":"]}),s.jsx("span",{className:"text-sm text-gray-800 dark:text-gray-200",children:b.duration})]})]}),b.notes&&s.jsxs("div",{className:"mt-2 p-2 bg-gray-50 dark:bg-gray-700 rounded text-xs text-gray-600 dark:text-gray-300",children:[s.jsxs("span",{className:"font-medium",children:[r("Notes"),":"]})," ",b.notes]}),s.jsx("div",{className:"mt-2 flex justify-end",children:s.jsx("button",{className:"px-3 py-1 text-xs bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors",onClick:()=>{l({fullName:b.leadName,mobile:b.phoneNumber}),c(!0)},children:r("View Lead")})})]},b.id))}),s.jsx(V1,{isOpen:o,lead:i,onClose:()=>c(!1),isArabic:n.language==="ar"})]})},Jz=({lead:e,position:t,onAction:a,isRtl:r,onMouseEnter:n,onMouseLeave:i,innerRef:l})=>{const o=[{id:"view",icon:od,label:r?"":"View",color:"text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20"},{id:"call",icon:Zu,label:r?"":"Call",color:"text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20"},{id:"whatsapp",icon:Ju,label:r?"":"WhatsApp",color:"text-green-500 hover:bg-green-50 dark:hover:bg-green-900/20"},{id:"email",icon:Sf,label:r?"":"Email",color:"text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/20"},{id:"video",icon:aw,label:r?"":"Video",color:"text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20"},{id:"convert",icon:IU,label:r?" ":"Convert",color:"text-teal-600 hover:bg-teal-50 dark:hover:bg-teal-900/20"},{id:"delete",icon:sx,label:r?"":"Delete",color:"text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20"}];return s.jsx("div",{className:"fixed z-[9999]",style:{left:`${t.x}px`,top:`${t.y}px`,transform:"translate(-50%, -100%)",pointerEvents:"none",userSelect:"none"},children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-600 p-3 min-w-[220px] max-w-[280px]",style:{pointerEvents:"auto"},ref:l,onMouseEnter:n,onMouseLeave:i,children:[s.jsxs("div",{className:"px-2 py-2 border-b border-gray-200 dark:border-gray-600 mb-3",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:e?.name||e?.leadName||""}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e?.email||e?.phone||e?.mobile||""})]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:o.map(c=>{const d=c.icon;return s.jsxs("button",{onClick:u=>{u.preventDefault(),u.stopPropagation(),a(c.id)},className:`flex flex-col items-center justify-center p-3 rounded-lg transition-all duration-200 ${c.color} hover:scale-105 hover:shadow-md cursor-pointer`,title:c.label,children:[s.jsx(d,{className:"w-4 h-4 mb-1"}),s.jsx("span",{className:"text-xs font-medium",children:c.label})]},c.id)})}),s.jsx("div",{className:"absolute w-0 h-0 border-l-[6px] border-r-[6px] border-t-[6px] border-transparent border-t-white dark:border-t-gray-800",style:{bottom:"-6px",left:"50%",transform:"translateX(-50%)"}})]})})},iue=({dateFrom:e,dateTo:t,selectedEmployee:a})=>{const{t:r,i18n:n}=Ct(),{theme:i}=Uf(),l="https://img.icons8.com/color/48/google-meet.png",o=`
    .scrollbar-thin-blue { scrollbar-width: thin; scrollbar-color: #2563eb transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar { height: 6px; }
    .scrollbar-thin-blue::-webkit-scrollbar-track { background: transparent; }
    .scrollbar-thin-blue::-webkit-scrollbar-thumb { background-color: #2563eb; border-radius: 9999px; }
    .scrollbar-thin-blue:hover::-webkit-scrollbar-thumb { background-color: #1d4ed8; }
  `,c="userActionsByDate",d=()=>{try{return JSON.parse(localStorage.getItem(c)||"{}")}catch{return{}}},u=pe=>{try{localStorage.setItem(c,JSON.stringify(pe))}catch{}},[f,p]=y.useState(!1),m=pe=>{try{const Q=d(),xe=pe?.date||new Date().toISOString().slice(0,10),he=(pe?.title||"").trim()||(pe?.notes?String(pe.notes).slice(0,60):`${pe?.type||"action"}`);Q[xe]=[...Q[xe]||[],he],u(Q)}finally{p(!1)}},[v,g]=y.useState(null),[b,j]=y.useState(!1),[N,k]=y.useState(!1),[S,C]=y.useState(null),[_,P]=y.useState(null),[L,U]=y.useState({x:0,y:0}),[z,T]=y.useState(!1),F=y.useRef(null),M=y.useRef(null);y.useEffect(()=>{if(N){const pe=document.body.style.overflow;return document.body.style.overflow="hidden",window.scrollTo({top:0,behavior:"smooth"}),()=>{document.body.style.overflow=pe}}},[N]);const I=y.useMemo(()=>{try{const pe=localStorage.getItem("leadsData");if(!pe)return[];const Q=JSON.parse(pe),xe=Array.isArray(Q)?Q:[];return a?xe.filter(he=>(he.assignedTo||he.employee||"").trim()===a):xe}catch(pe){return console.warn("Failed to parse leadsData from localStorage in DelayLeads.",pe?.message),[]}},[a]),W=[{id:"DL-1001",name:"Ahmed Ali",email:"ahmed@example.com",phone:"0501234567",company:"Alpha Co",status:"new",priority:"high",source:"Website",createdAt:new Date(Date.now()-360*3600*1e3).toISOString(),lastContact:new Date(Date.now()-216*3600*1e3).toISOString(),notes:"   "},{id:"DL-1002",name:"Sara Mohamed",email:"sara@example.com",phone:"0559876543",company:"Beta Ltd",status:"in-progress",priority:"medium",source:"Facebook Ads",createdAt:new Date(Date.now()-504*3600*1e3).toISOString(),lastContact:new Date(Date.now()-288*3600*1e3).toISOString(),notes:"     "},{id:"DL-1003",name:"Hassan Youssef",email:"hassan@example.com",phone:"0563332211",company:"Gamma Inc",status:"qualified",priority:"low",source:"Referral",createdAt:new Date(Date.now()-720*3600*1e3).toISOString(),lastContact:new Date(Date.now()-480*3600*1e3).toISOString(),notes:"    "}],R=I.length>0?I:W,q=y.useMemo(()=>{try{const pe=JSON.parse(localStorage.getItem("crmStages")||"[]");return Array.isArray(pe)&&pe.length>0?pe.map(Q=>typeof Q=="string"?Q:Q?.name).filter(Boolean):["new","qualified","in-progress","converted","lost"]}catch{return["new","qualified","in-progress","converted","lost"]}},[]),ae=7,te=pe=>{const Q=(pe?.notes||"").toLowerCase();return Q.includes("meeting")||Q.includes("")?"followUpAfterMeeting":Q.includes("reschedule")||Q.includes("")?"rescheduleMeeting":Q.includes("no answer")||Q.includes(" ")?"noAnswer1stCall":"followUp"},K=pe=>{if(!["new","qualified","in-progress"].includes(pe?.status))return!1;const xe=pe?.lastContact||pe?.createdAt,he=new Date(xe);return isNaN(he)?!1:Math.floor((new Date-he)/(1e3*60*60*24))>ae},oe=y.useMemo(()=>R.filter(K).map(Q=>({id:Q.id,name:Q.name,email:Q.email,phone:Q.phone,company:Q.company,status:Q.status,priority:Q.priority,source:Q.source,createdAt:Q.createdAt,lastContact:Q.lastContact,notes:Q.notes,leadName:Q.name,mobile:Q.phone?`(${String(Q.phone).slice(0,3)}*****)`:"",actionDate:Q.lastContact||Q.createdAt,lastComment:Q.notes||"",category:te(Q)})),[R]),D=pe=>{try{const Q=new Date(pe);return new Intl.DateTimeFormat(n.language==="ar"?"ar-EG":"en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).format(Q)}catch{return pe||""}},G=pe=>{const Q=String(pe||"").toLowerCase(),xe=Q==="new"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-200":Q==="qualified"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-200":Q==="in-progress"?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-200":Q==="converted"?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-200":Q==="lost"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-200":"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-200",he=Q==="new"?r("New"):Q==="qualified"?r("Qualified"):Q==="in-progress"?r("In Progress"):Q==="converted"?r("Converted"):Q==="lost"?r("Lost"):pe||"-";return s.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded ${xe}`,children:he})},H=pe=>{if(!e&&!t)return!0;const Q=new Date(pe);if(isNaN(Q))return!0;const xe=new Date(Q.getFullYear(),Q.getMonth(),Q.getDate());if(e){const he=new Date(e);if(he.setHours(0,0,0,0),xe<he)return!1}if(t){const he=new Date(t);if(he.setHours(0,0,0,0),xe>he)return!1}return!0},X=y.useMemo(()=>{const pe=Object.fromEntries(q.map(xe=>[xe,0]));return oe.filter(xe=>H(xe.stageDate)).forEach(xe=>{const he=String(xe?.status||"").toLowerCase(),ue=q.find(Le=>String(Le).toLowerCase()===he);ue&&(pe[ue]=(pe[ue]||0)+1)}),pe},[oe,e,t,q]),se=y.useMemo(()=>{const pe=oe.filter(Q=>H(Q.actionDate));return v?pe.filter(Q=>String(Q?.status||"").toLowerCase()===String(v).toLowerCase()):pe},[oe,v,e,t]),ie=se.length>5,ne=i==="light",J=ne?"bg-gray-100":"bg-gray-900",le=ne?"text-gray-800":"text-gray-100";return y.useEffect(()=>{const pe=Q=>{z&&(F.current&&F.current.contains(Q.target)||M.current&&M.current.contains(Q.target)||(T(!1),P(null),M.current=null))};return document.addEventListener("mousedown",pe),()=>document.removeEventListener("mousedown",pe)},[z]),s.jsxs("div",{className:`p-4 ${J} h-full overflow-auto rounded-lg shadow-md border ${ne?"border-gray-200":"border-gray-700"} ${le}`,children:[s.jsxs("div",{className:`flex items-center ${n.language==="ar"?"flex-row-reverse":""} gap-2 mb-2`,children:[s.jsx("span",{"aria-hidden":!0,className:"inline-block w-1 h-5 rounded bg-blue-500"}),s.jsx("h3",{className:"text-lg font-semibold",children:r("Delay Leads")})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4 text-sm",children:(()=>{const pe=q.map(Q=>({key:Q,label:Q,count:X[Q]||0}));return s.jsxs(s.Fragment,{children:[pe.slice(0,2).map(Q=>s.jsxs("button",{onClick:()=>g(Q.key),className:`px-3 py-2 text-xs sm:px-2 sm:py-1 sm:text-sm rounded ${v===Q.key?"bg-blue-600 text-white":ne?"text-gray-600 hover:bg-gray-100":"text-gray-300 hover:bg-gray-700"}`,children:[s.jsx("span",{children:Q.label}),s.jsx("span",{className:"ml-1",children:Q.count})]},Q.key)),!b&&pe.length>2&&s.jsxs("button",{onClick:()=>j(!0),className:`px-3 py-2 text-xs sm:px-2 sm:py-1 sm:text-sm rounded border-2 border-dashed ${ne?"border-blue-300 bg-blue-50 text-blue-600":"border-blue-600 bg-blue-900/20 text-blue-400"}`,children:[s.jsxs("span",{className:"hidden sm:inline",children:[r("Show More")," (",pe.length-2,")"]}),s.jsxs("span",{className:"sm:hidden",children:["+",pe.length-2]})]}),b&&pe.slice(2).map(Q=>s.jsxs("button",{onClick:()=>g(Q.key),className:`px-3 py-2 text-xs sm:px-2 sm:py-1 sm:text-sm rounded ${v===Q.key?"bg-blue-600 text-white":ne?"text-gray-600 hover:bg-gray-100":"text-gray-300 hover:bg-gray-700"}`,children:[s.jsx("span",{children:Q.label}),s.jsx("span",{className:"ml-1",children:Q.count})]},Q.key)),v&&s.jsx("button",{onClick:()=>g(null),className:`px-3 py-2 text-xs sm:px-2 sm:py-1 sm:text-sm rounded ${ne?"text-gray-600 hover:bg-gray-100":"text-gray-300 hover:bg-gray-700"}`,children:r("Show All")}),b&&s.jsxs("button",{onClick:()=>j(!1),className:`px-3 py-2 text-xs sm:px-2 sm:py-1 sm:text-sm rounded border-2 border-dashed ${ne?"border-gray-300 bg-gray-50 text-gray-600":"border-gray-600 bg-gray-800 text-gray-400"}`,children:[s.jsx("span",{className:"hidden sm:inline",children:r("Show Less")}),s.jsx("span",{className:"sm:hidden",children:""})]})]})})()}),s.jsx("style",{children:o}),s.jsxs("div",{className:`overflow-x-auto scrollbar-thin-blue ${ie?"max-h-80 overflow-y-auto":""}`,children:[s.jsx("div",{className:"sm:hidden",children:se.map((pe,Q)=>s.jsxs("div",{className:`p-3 mb-2 rounded-lg border ${ne?"bg-white border-gray-200":"bg-gray-800 border-gray-700"} cursor-default`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:pe.leadName}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:pe.mobile}),s.jsx("div",{className:"mt-1",children:G(pe.status)})]}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:D(pe.actionDate)})]}),s.jsx("div",{className:"text-sm mb-3",children:pe.lastComment}),s.jsxs("div",{className:"flex items-center justify-end gap-2 flex-nowrap",children:[s.jsx("button",{title:r("Preview"),onClick:xe=>{xe.stopPropagation(),C(pe),k(!0)},className:`inline-flex items-center justify-center w-8 h-8 rounded-md border ${ne?"border-gray-300 text-gray-700 hover:bg-gray-50":"border-gray-600 text-gray-200 hover:bg-gray-900/30"}`,children:s.jsx(od,{size:16})}),s.jsx("button",{title:r("Add Action"),onClick:xe=>{xe.stopPropagation(),C(pe),p(!0)},className:`inline-flex items-center justify-center w-8 h-8 rounded-md border ${ne?"border-gray-300 text-gray-700 hover:bg-gray-50":"border-gray-600 text-gray-200 hover:bg-gray-900/30"}`,children:s.jsx($u,{size:16})}),s.jsx("button",{title:r("Call"),onClick:xe=>{xe.stopPropagation();const he=pe.phone||pe.mobile||"",ue=String(he).replace(/[^0-9]/g,"");ue&&window.open(`tel:${ue}`)},className:`inline-flex items-center justify-center w-8 h-8 rounded-md border ${ne?"border-gray-300 hover:bg-gray-50 text-blue-600":"border-gray-600 hover:bg-gray-900/30 text-blue-400"}`,children:s.jsx(Zu,{size:16})}),s.jsx("button",{title:"WhatsApp",onClick:xe=>{xe.stopPropagation();const he=pe.phone||pe.mobile||"",ue=String(he).replace(/[^0-9]/g,"");ue&&window.open(`https://wa.me/${ue}`)},className:`inline-flex items-center justify-center w-8 h-8 rounded-md border ${ne?"border-gray-300 hover:bg-gray-50 text-green-600":"border-gray-600 hover:bg-gray-900/30 text-green-400"}`,children:s.jsx(Ju,{size:16})}),s.jsx("button",{title:r("Email"),onClick:xe=>{xe.stopPropagation(),pe.email&&window.open(`mailto:${pe.email}`)},className:`inline-flex items-center justify-center w-8 h-8 rounded-md border ${ne?"border-gray-300 text-gray-700 hover:bg-gray-50":"border-gray-600 text-gray-200 hover:bg-gray-900/30"}`,children:s.jsx(Sf,{size:16})}),s.jsx("button",{title:"Google Meet",onClick:xe=>{xe.stopPropagation(),window.open("https://meet.google.com/","_blank")},className:`inline-flex items-center justify-center w-8 h-8 rounded-md border ${ne?"border-gray-300 hover:bg-gray-50":"border-gray-600 hover:bg-gray-900/30"}`,children:s.jsx("img",{src:l,alt:"Meet",className:"w-4 h-4"})})]})]},Q))}),s.jsx("div",{className:"hidden sm:block",children:s.jsxs("table",{className:"w-full min-w-max text-sm text-left",children:[s.jsx("thead",{className:`text-xs uppercase sticky top-0 ${ne?"bg-gray-50":"bg-gray-800"}`,children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3",children:r("Lead Name")}),s.jsx("th",{scope:"col",className:`px-6 py-3 border-l ${ne?"border-gray-200":"border-gray-700"}`,children:r("Mobile")}),s.jsx("th",{scope:"col",className:`px-6 py-3 border-l ${ne?"border-gray-200":"border-gray-700"}`,children:r("Actions")}),s.jsx("th",{scope:"col",className:`px-6 py-3 border-l ${ne?"border-gray-200":"border-gray-700"}`,children:r("Stage")}),s.jsx("th",{scope:"col",className:`px-6 py-3 border-l ${ne?"border-gray-200":"border-gray-700"}`,children:r("Last Comment")}),s.jsx("th",{scope:"col",className:`px-6 py-3 border-l ${ne?"border-gray-200":"border-gray-700"}`,children:r("Action Date")})]})}),s.jsx("tbody",{children:se.map((pe,Q)=>s.jsxs("tr",{className:`border-b ${ne?"bg-white border-gray-200":"bg-gray-800 border-gray-700"} hover:bg-gray-50 dark:hover:bg-gray-700`,children:[s.jsx("td",{className:"px-6 py-4",children:pe.leadName}),s.jsx("td",{className:`px-6 py-4 border-l ${ne?"border-gray-200":"border-gray-700"}`,children:pe.mobile}),s.jsx("td",{className:`px-6 py-4 border-l ${ne?"border-gray-200":"border-gray-700"}`,children:s.jsxs("div",{className:"flex items-center gap-2 flex-nowrap",children:[s.jsx("button",{title:r("Preview"),onClick:xe=>{xe.stopPropagation(),C(pe),k(!0)},className:`inline-flex items-center justify-center w-8 h-8 rounded-md border ${ne?"border-gray-300 text-gray-700 hover:bg-gray-50":"border-gray-600 text-gray-200 hover:bg-gray-900/30"}`,children:s.jsx(od,{size:16})}),s.jsx("button",{title:r("Add Action"),onClick:xe=>{xe.stopPropagation(),C(pe),p(!0)},className:`inline-flex items-center justify-center w-8 h-8 rounded-md border ${ne?"border-gray-300 text-gray-700 hover:bg-gray-50":"border-gray-600 text-gray-200 hover:bg-gray-900/30"}`,children:s.jsx($u,{size:16})}),s.jsx("button",{title:r("Call"),onClick:xe=>{xe.stopPropagation();const he=pe.phone||pe.mobile||"",ue=String(he).replace(/[^0-9]/g,"");ue&&window.open(`tel:${ue}`)},className:`inline-flex items-center justify-center w-8 h-8 rounded-md border ${ne?"border-gray-300 hover:bg-gray-50 text-blue-600":"border-gray-600 hover:bg-gray-900/30 text-blue-400"}`,children:s.jsx(Zu,{size:16})}),s.jsx("button",{title:"WhatsApp",onClick:xe=>{xe.stopPropagation();const he=pe.phone||pe.mobile||"",ue=String(he).replace(/[^0-9]/g,"");ue&&window.open(`https://wa.me/${ue}`)},className:`inline-flex items-center justify-center w-8 h-8 rounded-md border ${ne?"border-gray-300 hover:bg-gray-50 text-green-600":"border-gray-600 hover:bg-gray-900/30 text-green-400"}`,children:s.jsx(Ju,{size:16})}),s.jsx("button",{title:r("Email"),onClick:xe=>{xe.stopPropagation(),pe.email&&window.open(`mailto:${pe.email}`)},className:`inline-flex items-center justify-center w-8 h-8 rounded-md border ${ne?"border-gray-300 text-gray-700 hover:bg-gray-50":"border-gray-600 text-gray-200 hover:bg-gray-900/30"}`,children:s.jsx(Sf,{size:16})}),s.jsx("button",{title:"Google Meet",onClick:xe=>{xe.stopPropagation(),window.open("https://meet.google.com/","_blank")},className:`inline-flex items-center justify-center w-8 h-8 rounded-md border ${ne?"border-gray-300 hover:bg-gray-50":"border-gray-600 hover:bg-gray-900/30"}`,children:s.jsx("img",{src:l,alt:"Meet",className:"w-4 h-4"})})]})}),s.jsx("td",{className:`px-6 py-4 border-l ${ne?"border-gray-200":"border-gray-700"}`,children:G(pe.status)}),s.jsx("td",{className:`px-6 py-4 border-l ${ne?"border-gray-200":"border-gray-700"}`,children:pe.lastComment}),s.jsx("td",{className:`px-6 py-4 border-l ${ne?"border-gray-200":"border-gray-700"}`,children:D(pe.actionDate)})]},Q))})]})})]}),N&&s.jsx(V1,{isOpen:N,onClose:()=>{k(!1),C(null)},lead:S,isArabic:n.language==="ar",theme:i}),f&&s.jsx(iA,{isOpen:!0,onClose:()=>p(!1),onSave:m,lead:S})]})};Cs.register(_n,Tn,Un,pl,ai,Sx,cn,on);const lue=({data:e,chartType:t="bar",filters:a={},legendLabel:r="Sales"})=>{const{t:n,i18n:i}=Ct(),l=i.language||"en",o=l==="ar"?"":"Months",c=l==="ar"?"  ":"No. of Leads",[d,u]=y.useState([]),[f,p]=y.useState(0),[m,v]=y.useState(!1),[g,b]=y.useState(""),[j,N]=y.useState({employee:"",stage:"",leadName:"",dateFrom:"",dateTo:"",valueMin:"",valueMax:""});n("New"),n("Contacted"),n("Qualified"),n("Proposal"),n("Negotiation"),n("Closed Won"),n("Closed Lost");const k={monthly:[{label:n("January"),value:120,converted:45,lost:25,inProgress:50,employee:" ",stage:"qualified",leadName:" ",date:"2024-01-15"},{label:n("February"),value:98,converted:38,lost:20,inProgress:40,employee:" ",stage:"contacted",leadName:" ",date:"2024-02-10"},{label:n("March"),value:145,converted:55,lost:30,inProgress:60,employee:" ",stage:"proposal",leadName:" ",date:"2024-03-20"},{label:n("April"),value:167,converted:62,lost:35,inProgress:70,employee:" ",stage:"new",leadName:" ",date:"2024-04-05"},{label:n("May"),value:134,converted:48,lost:28,inProgress:58,employee:" ",stage:"negotiation",leadName:" ",date:"2024-05-12"},{label:n("June"),value:189,converted:71,lost:40,inProgress:78,employee:" ",stage:"closed_won",leadName:" ",date:"2024-06-18"},{label:n("July"),value:175,converted:68,lost:36,inProgress:71,employee:" ",stage:"qualified",leadName:" ",date:"2024-07-14"},{label:n("August"),value:160,converted:63,lost:31,inProgress:66,employee:" ",stage:"proposal",leadName:" ",date:"2024-08-09"},{label:n("September"),value:142,converted:56,lost:29,inProgress:57,employee:" ",stage:"contacted",leadName:" ",date:"2024-09-21"},{label:n("October"),value:153,converted:60,lost:30,inProgress:63,employee:" ",stage:"negotiation",leadName:" ",date:"2024-10-11"},{label:n("November"),value:171,converted:67,lost:34,inProgress:70,employee:" ",stage:"qualified",leadName:" ",date:"2024-11-16"},{label:n("December"),value:196,converted:74,lost:41,inProgress:81,employee:" ",stage:"closed_won",leadName:" ",date:"2024-12-19"}],weekly:[{label:n("Week 1"),value:45,converted:18,lost:8,inProgress:19},{label:n("Week 2"),value:52,converted:22,lost:10,inProgress:20},{label:n("Week 3"),value:38,converted:15,lost:7,inProgress:16},{label:n("Week 4"),value:61,converted:25,lost:12,inProgress:24}],bySource:[{label:n("Website"),value:245,converted:98,lost:47,inProgress:100},{label:n("Social Media"),value:189,converted:76,lost:38,inProgress:75},{label:n("Email Campaign"),value:156,converted:62,lost:31,inProgress:63},{label:n("Referral"),value:134,converted:54,lost:27,inProgress:53},{label:n("Direct"),value:98,converted:39,lost:20,inProgress:39}],byStatus:[{label:n("New"),value:234,color:"#3B82F6"},{label:n("Contacted"),value:189,color:"#10B981"},{label:n("Qualified"),value:145,color:"#F59E0B"},{label:n("Proposal"),value:98,color:"#8B5CF6"},{label:n("Negotiation"),value:67,color:"#EF4444"},{label:n("Closed Won"),value:156,color:"#059669"},{label:n("Closed Lost"),value:89,color:"#DC2626"}]},S=z=>{let T=z;g&&(T=T.filter(W=>W.label?.toLowerCase().includes(g.toLowerCase())||W.leadName?.toLowerCase().includes(g.toLowerCase())||W.employee?.toLowerCase().includes(g.toLowerCase())));const F=a?.employee||j.employee,M=a?.dateFrom||j.dateFrom,I=a?.dateTo||j.dateTo;return F&&(T=T.filter(W=>W.employee===F)),j.stage&&(T=T.filter(W=>W.stage===j.stage)),j.leadName&&(T=T.filter(W=>W.leadName?.toLowerCase().includes(j.leadName.toLowerCase()))),M&&(T=T.filter(W=>{const R=new Date(W.date),q=new Date(M);return R>=q})),I&&(T=T.filter(W=>{const R=new Date(W.date),q=new Date(I);return R<=q})),j.valueMin&&(T=T.filter(W=>W.value>=parseFloat(j.valueMin))),j.valueMax&&(T=T.filter(W=>W.value<=parseFloat(j.valueMax))),T};y.useEffect(()=>{const z=e||k[a.dataType||"monthly"],T=S(z);u(T),p(t==="pie"||t==="doughnut"?T.reduce((F,M)=>F+M.value,0):Math.max(...T.map(F=>F.value))*1.2)},[e,a,t,g,j]);const C=()=>{const z=d.map(I=>I.label),T=d.map(I=>I.value||0),F={labels:z,datasets:[{label:n(r),data:T,backgroundColor:"rgba(59, 130, 246, 0.7)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1,borderSkipped:!1,borderRadius:6,maxBarThickness:36}]},M={responsive:!0,maintainAspectRatio:!1,devicePixelRatio:2,plugins:{legend:{position:"top",display:!0,labels:{usePointStyle:!0,boxWidth:8}},tooltip:{enabled:!0}},scales:{x:{grid:{display:!1},ticks:{maxRotation:0,minRotation:0},title:{display:!0,text:o}},y:{beginAtZero:!0,grid:{display:!0},ticks:{precision:0},title:{display:!0,text:c}}}};return s.jsx("div",{className:"w-full h-48 px-2",children:s.jsx(Ir,{data:F,options:M})})},_=()=>{const z=d.map(R=>R.label),T=d.map(R=>R.converted||0),F=d.map(R=>R.inProgress||0),M=d.map(R=>R.lost||0),I={labels:z,datasets:[{label:n("Converted"),data:T,backgroundColor:"#22c55e",stack:"status"},{label:n("In Progress"),data:F,backgroundColor:"#eab308",stack:"status"},{label:n("Lost"),data:M,backgroundColor:"#ef4444",stack:"status"}]},W={responsive:!0,maintainAspectRatio:!1,devicePixelRatio:2,plugins:{legend:{position:"top",labels:{usePointStyle:!0,boxWidth:8}},tooltip:{enabled:!0}},scales:{x:{stacked:!0,grid:{display:!1},ticks:{maxRotation:0,minRotation:0},title:{display:!0,text:o}},y:{stacked:!0,beginAtZero:!0,grid:{display:!0},ticks:{precision:0},title:{display:!0,text:c}}}};return s.jsx("div",{className:"w-full h-48 px-2",children:s.jsx(Ir,{data:I,options:W})})},P=()=>{const z=d.map(I=>I.label),T=d.map(I=>I.value||0),F={labels:z,datasets:[{label:n(r),data:T,borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.15)",tension:.35,pointRadius:3,pointBackgroundColor:"#3B82F6",fill:!0}]},M={responsive:!0,maintainAspectRatio:!1,devicePixelRatio:2,plugins:{legend:{position:"top",display:!0,labels:{usePointStyle:!0,boxWidth:8}},tooltip:{enabled:!0}},scales:{x:{grid:{display:!1},ticks:{maxRotation:0,minRotation:0},title:{display:!0,text:o}},y:{beginAtZero:!0,grid:{display:!0},ticks:{precision:0},title:{display:!0,text:c}}}};return s.jsx("div",{className:"w-full h-48 px-2",children:s.jsx(lo,{data:F,options:M})})},L=()=>{const z=d.reduce((M,I)=>M+(I.value||0),0),T=["#2563eb","#06b6d4","#22c55e","#a3e635","#f59e0b","#f97316","#ef4444","#f43f5e","#a78bfa","#8b5cf6"],F=d.map((M,I)=>({label:M.label,value:M.value||0,color:T[I%T.length]}));return s.jsxs("div",{className:"flex items-center justify-center h-48",children:[s.jsx(ei,{segments:F,centerValue:z,centerLabel:n("Total Leads"),size:192}),s.jsx("div",{className:"ml-6 space-y-2",children:F.map((M,I)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:M.color}}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:M.label}),s.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:M.value})]},I))})]})},U=()=>{switch(t){case"bar":return C();case"stackedBar":return _();case"line":return P();case"pie":return L();default:return C()}};return s.jsx("div",{className:"w-full",children:U()})},By=({title:e,value:t,change:a,changeType:r,icon:n,color:i,compact:l=!1})=>{const{t:o}=Ct(),c=()=>r==="positive"?"text-green-600 dark:text-green-400":r==="negative"?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400",d=()=>r==="positive"?"":r==="negative"?"":"";return s.jsxs("div",{className:`bg-[var(--panel-bg)] ${l?"p-2":"p-4"} rounded-lg shadow-md border border-[var(--panel-border)]`,children:[s.jsxs("div",{className:`flex items-center justify-between ${l?"mb-0.5":"mb-2"}`,children:[s.jsx("div",{className:`rounded-lg ${l?"p-1":"p-2"} ${i}`,children:s.jsx("span",{className:`text-white ${l?"text-sm":"text-lg"}`,children:n})}),s.jsxs("div",{className:`${l?"text-xs":"text-sm"} font-medium ${c()}`,children:[d()," ",a]})]}),s.jsx("h4",{className:`${l?"text-xs":"text-sm"} font-medium text-transparent bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text ${l?"mb-0":"mb-1"}`,children:e}),s.jsx("p",{className:`${l?"text-lg":"text-2xl"} font-bold`,children:t})]})};function oue(e){return(e||[]).map(t=>typeof t=="string"?{value:t,label:t}:{value:t.value,label:t.label??String(t.value)})}function Aa({options:e,value:t,onChange:a,placeholder:r,className:n="",disabled:i=!1,children:l}){const{i18n:o}=Ct(),c=o.language==="ar",d=y.useMemo(()=>{if(!e&&l){const C=[];return Bn.Children.forEach(l,_=>{if(!(!_||typeof _!="object")&&_.type==="option"){const P=_.props?.value??(Array.isArray(_.props?.children)?_.props.children.join(" "):_.props?.children),L=Array.isArray(_.props?.children)?_.props.children.join(" "):_.props?.children;C.push({value:String(P??L??""),label:String(L??P??"")})}}),C}return oue(e)},[e,l]),[u,f]=y.useState(!1),[p,m]=y.useState(""),v=y.useRef(null),g=y.useRef(null),b=y.useRef(null),[j,N]=y.useState({}),k=y.useMemo(()=>{const C=(p||"").toLowerCase();return C?d.filter(_=>(_.label||"").toLowerCase().includes(C)):d},[d,p]),S=y.useMemo(()=>{const C=d.find(_=>_.value===t);return C?C.label:""},[d,t]);return y.useEffect(()=>{const C=_=>{if(!v.current)return;const P=v.current.contains(_.target),L=g.current&&g.current.contains(_.target);!P&&!L&&f(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]),y.useEffect(()=>{const C=()=>{if(!u||!v.current)return;const P=v.current.getBoundingClientRect();N({position:"fixed",left:`${P.left}px`,top:`${P.bottom+4}px`,width:`${P.width}px`,zIndex:9999})};if(C(),!u)return;const _=()=>C();return window.addEventListener("resize",_),window.addEventListener("scroll",_,!0),()=>{window.removeEventListener("resize",_),window.removeEventListener("scroll",_,!0)}},[u]),y.useEffect(()=>{if(u&&b.current)try{b.current.focus({preventScroll:!0})}catch{b.current.focus()}},[u]),s.jsxs("div",{ref:v,className:`relative ${i?"opacity-60 pointer-events-none":""}`,children:[s.jsxs("button",{type:"button",className:`input w-full flex items-center justify-between ${n}`,onClick:()=>f(C=>!C),"aria-haspopup":"listbox","aria-expanded":u,children:[s.jsx("span",{className:`truncate ${S?"":"text-[var(--muted-text)]"}`,children:S||(r??(c?"...":"Select..."))}),s.jsx("svg",{className:"w-4 h-4 opacity-80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),u&&Mj.createPortal(s.jsxs("div",{ref:g,style:j,className:"rounded-md border border-base-300 bg-[var(--content-bg)] shadow-xl",children:[s.jsx("div",{className:"p-2 border-b border-base-300",children:s.jsx("input",{className:"input input-sm w-full",placeholder:c?" ...":"Type to search...",value:p,onChange:C=>m(C.target.value),ref:b})}),s.jsxs("ul",{role:"listbox",className:"max-h-44 overflow-auto py-1",children:[k.length===0&&s.jsx("li",{className:"px-3 py-2 text-sm text-[var(--muted-text)]",children:c?"  ":"No results"}),k.map(C=>s.jsx("li",{role:"option","aria-selected":C.value===t,className:`px-3 py-2 text-sm cursor-pointer hover:bg-[var(--table-row-hover)] ${C.value===t?"bg-[var(--table-row-hover)]":""}`,onClick:()=>{a&&a(C.value),f(!1),m("")},children:C.label},C.value))]})]}),document.body)]})}const cue=()=>{const{t:e,i18n:t}=Ct(),{theme:a}=Uf(),[r,n]=y.useState(""),[i,l]=y.useState(""),[o,c]=y.useState(""),[d,u]=y.useState(""),[f,p]=y.useState(!1),[m,v]=y.useState(!1),[g,b]=y.useState(!1),[j,N]=y.useState(!1),[k,S]=y.useState(!1),[C,_]=y.useState("Count"),[P,L]=y.useState("active"),[U,z]=y.useState("2025"),[T,F]=y.useState([]),M=m?2:j?3:2,[I,W]=y.useState(0),R=y.useRef(null),q=y.useRef(null),[ae,te]=y.useState(null);y.useEffect(()=>{const ce=()=>{R.current&&te(R.current.clientHeight)};return requestAnimationFrame(ce),window.addEventListener("resize",ce),()=>window.removeEventListener("resize",ce)},[]);const K=ce=>{const Ie=(ce||"").toLowerCase();return Ie.includes("convert")?"":Ie.includes("progress")?"":Ie.includes("lost")?"":Ie.includes("new")?"":Ie.includes("qual")?"":""},oe=ce=>{const Ie=(ce||"").toLowerCase();return Ie.includes("convert")?"#10b981":Ie.includes("progress")?"#f59e0b":Ie.includes("lost")?"#ef4444":Ie.includes("new")?"#3b82f6":Ie.includes("qual")?"#8b5cf6":"#3b82f6"},[D,G]=y.useState("bar"),[H,X]=y.useState("monthly"),[se,ie]=y.useState("all"),[ne,J]=y.useState("all"),le={Count:[{label:"April 2025",value:25,color:"bg-blue-500"},{label:"May 2025",value:28,color:"bg-blue-500"},{label:"June 2025",value:15,color:"bg-blue-500"},{label:"July 2025",value:20,color:"bg-blue-500"},{label:"August 2025",value:42,color:"bg-blue-500"},{label:"September 2025",value:90,color:"bg-blue-500"}],"Days to Assign":[{label:"April 2025",value:3.2,color:"bg-green-500"},{label:"May 2025",value:2.8,color:"bg-green-500"},{label:"June 2025",value:4.1,color:"bg-green-500"},{label:"July 2025",value:3.7,color:"bg-green-500"},{label:"August 2025",value:2.5,color:"bg-green-500"},{label:"September 2025",value:1.8,color:"bg-green-500"}],"Expected Revenue":[{label:"April 2025",value:125e3,color:"bg-purple-500"},{label:"May 2025",value:145e3,color:"bg-purple-500"},{label:"June 2025",value:98e3,color:"bg-purple-500"},{label:"July 2025",value:112e3,color:"bg-purple-500"},{label:"August 2025",value:189e3,color:"bg-purple-500"},{label:"September 2025",value:234e3,color:"bg-purple-500"}]},pe=()=>le[C]||le.Count,Q=()=>pe().map(Ie=>({...Ie,label:Ie.label.replace(/\b\d{4}\b/,U)}));y.useEffect(()=>{const ce=()=>v(window.innerWidth<640);return ce(),window.addEventListener("resize",ce),()=>window.removeEventListener("resize",ce)},[]),y.useEffect(()=>{const ce=()=>N(window.innerWidth>=1024);return ce(),window.addEventListener("resize",ce),()=>window.removeEventListener("resize",ce)},[]),y.useEffect(()=>{try{const ce=JSON.parse(localStorage.getItem("crmStages")||"[]"),Ie=Array.isArray(ce)?typeof ce[0]=="string"?ce.map(we=>({name:we,color:oe(we),icon:K(we)})):ce.map(we=>({name:we.name||String(we),color:we.color||oe(we.name||String(we)),icon:we.icon||K(we.name||String(we))})):[];F(Ie)}catch{F([])}},[]);const xe=ce=>typeof ce=="string"&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(ce),he=ce=>{try{let Ie=ce.replace("#","");Ie.length===3&&(Ie=Ie.split("").map(Ke=>Ke+Ke).join(""));const we=parseInt(Ie,16),$e=we>>16&255,Be=we>>8&255,ft=we&255;return{r:$e,g:Be,b:ft}}catch{return{r:0,g:0,b:0}}},ue=(ce,Ie)=>{const{r:we,g:$e,b:Be}=he(ce);return`rgba(${we}, ${$e}, ${Be}, ${Ie})`},Le={blue:{container:"border-blue-400 dark:border-blue-500 bg-gradient-to-br from-blue-100 via-blue-200 to-blue-300 dark:from-blue-800 dark:via-blue-700 dark:to-blue-600 shadow-blue-300/50 dark:shadow-blue-500/25",patternFrom:"from-blue-200",patternTo:"to-blue-300",iconBg:"bg-blue-600 dark:bg-blue-500"},green:{container:"border-green-400 dark:border-green-500 bg-gradient-to-br from-green-100 via-green-200 to-green-300 dark:from-green-800 dark:via-green-700 dark:to-green-600 shadow-green-300/50 dark:shadow-green-500/25",patternFrom:"from-green-200",patternTo:"to-green-300",iconBg:"bg-green-600 dark:bg-green-500"},yellow:{container:"border-yellow-400 dark:border-yellow-500 bg-gradient-to-br from-yellow-100 via-yellow-200 to-yellow-300 dark:from-yellow-800 dark:via-yellow-700 dark:to-yellow-600 shadow-yellow-300/50 dark:shadow-yellow-500/25",patternFrom:"from-yellow-200",patternTo:"to-yellow-300",iconBg:"bg-yellow-600 dark:bg-yellow-500"},red:{container:"border-red-400 dark:border-red-500 bg-gradient-to-br from-red-100 via-red-200 to-red-300 dark:from-red-800 dark:via-red-700 dark:to-red-600 shadow-red-300/50 dark:shadow-red-500/25",patternFrom:"from-red-200",patternTo:"to-red-300",iconBg:"bg-red-600 dark:bg-red-500"},purple:{container:"border-purple-400 dark:border-purple-500 bg-gradient-to-br from-purple-100 via-purple-200 to-purple-300 dark:from-purple-800 dark:via-purple-700 dark:to-purple-600 shadow-purple-300/50 dark:shadow-purple-500/25",patternFrom:"from-purple-200",patternTo:"to-purple-300",iconBg:"bg-purple-600 dark:bg-purple-500"}},ze=y.useMemo(()=>{try{const ce=localStorage.getItem("leadsData");if(!ce)return[];const Ie=JSON.parse(ce),we=Array.isArray(Ie)?Ie:[],$e=(d||o||"").trim(),Be=ft=>{if(!r&&!i)return!0;const Ke=ft?.lastContact||ft?.createdAt,Ue=new Date(Ke);if(isNaN(Ue))return!0;const tt=new Date(Ue.getFullYear(),Ue.getMonth(),Ue.getDate());if(r){const ct=new Date(r);if(ct.setHours(0,0,0,0),tt<ct)return!1}if(i){const ct=new Date(i);if(ct.setHours(0,0,0,0),tt>ct)return!1}return!0};return we.filter(ft=>(!$e||(ft.assignedTo||ft.employee||"").trim()===$e)&&Be(ft))}catch(ce){return console.warn("Failed to parse leadsData from localStorage in Dashboard.",ce?.message),[]}},[I,d,o,r,i]);y.useEffect(()=>{const ce=()=>{W(Ie=>Ie+1)};return window.addEventListener("storage",ce),window.addEventListener("leadsDataUpdated",ce),W(Ie=>Ie+1),()=>{window.removeEventListener("storage",ce),window.removeEventListener("leadsDataUpdated",ce)}},[]);const Ce=y.useMemo(()=>{const ce=ze.length,Ie=ze.filter(ft=>ft.stage==="new"||ft.status==="new").length,we=ze.filter(ft=>ft.isDuplicate).length,$e=ze.filter(ft=>ft.stage==="in-progress"||ft.status==="in-progress").length,Be=ze.filter(ft=>ft.source==="direct"||ft.source==="cold-call").length;return{total:ce,new:Ie,duplicate:we,pending:$e,coldCall:Be}},[ze]);return Ce.total.toLocaleString(),`${e("of all system leads")}`,Ce.duplicate.toLocaleString(),`${Ce.total>0?(Ce.duplicate/Ce.total*100).toFixed(1):0}${e("of all system leads")}`,Ce.new.toLocaleString(),`${Ce.total>0?(Ce.new/Ce.total*100).toFixed(1):0}${e("of all system leads")}`,Ce.coldCall.toLocaleString(),`${Ce.total>0?(Ce.coldCall/Ce.total*100).toFixed(1):0}${e("of all system leads")}`,Ce.pending.toLocaleString(),`${Ce.total>0?(Ce.pending/Ce.total*100).toFixed(1):0}${e("of all system leads")}`,s.jsxs("div",{className:`app-layout ${t.language==="ar"?"rtl":"ltr"}`,children:[s.jsx($1,{isOpen:f,onClose:()=>p(!1)}),s.jsxs("div",{className:"content-container",children:[s.jsx(U1,{onMobileToggle:()=>p(!f),mobileSidebarOpen:f}),s.jsxs("main",{className:"flex-1 p-4 bg-[var(--content-bg)] text-[var(--content-text)] overflow-x-auto overflow-y-auto sidebar-scrollbar",children:[s.jsx("h1",{className:"page-title text-2xl font-bold text-primary mb-8",children:e("Dashboard")}),s.jsxs("section",{className:"p-4 rounded-xl shadow-lg glass-panel w-full mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-gray-200 dark:border-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-600 rounded-lg",children:s.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.707A1 1 0 013 7V4z"})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:e("Filter Options")})]}),s.jsxs("button",{onClick:()=>{c(""),u(""),n(""),l("")},className:"flex items-center gap-2 px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white font-medium rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e("Reset")]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e("Manager")]}),s.jsxs(Aa,{value:o,onChange:c,placeholder:e("Select Manager"),className:"w-full",children:[s.jsx("option",{value:"Manager 1",children:"Manager 1"}),s.jsx("option",{value:"Manager 2",children:"Manager 2"}),s.jsx("option",{value:"Manager 3",children:"Manager 3"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e("Employees")]}),s.jsxs(Aa,{value:d,onChange:u,placeholder:e("Select Employee"),className:"w-full",children:[s.jsx("option",{value:"Employee 1",children:"Employee 1"}),s.jsx("option",{value:"Employee 2",children:"Employee 2"}),s.jsx("option",{value:"Employee 3",children:"Employee 3"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e("From Date")]}),s.jsx("input",{type:"date",value:r,onChange:ce=>n(ce.target.value),max:i||void 0,lang:t.language==="ar"?"ar-EG":"en-US",dir:t.language==="ar"?"rtl":"ltr",placeholder:e("Date Input Placeholder"),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e("To Date")]}),s.jsx("input",{type:"date",value:i,onChange:ce=>l(ce.target.value),min:r||void 0,lang:t.language==="ar"?"ar-EG":"en-US",dir:t.language==="ar"?"rtl":"ltr",placeholder:e("Date Input Placeholder"),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]})]})]}),s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Quick Numbers")})]}),T.length>M?s.jsx("button",{onClick:()=>{m?b(ce=>!ce):j?S(ce=>!ce):b(ce=>!ce)},className:"btn btn-primary",children:e((m?g:j?k:g)?"Show Less":"Show More")}):null]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-16",children:(()=>{let ce=T;(j?k:g)||(ce=T.slice(0,M));const we=s.jsxs("div",{className:"relative overflow-hidden rounded-2xl border-2 border-blue-400 dark:border-blue-500 bg-gradient-to-br from-blue-100 via-blue-200 to-blue-300 dark:from-blue-800 dark:via-blue-700 dark:to-blue-600 p-4 shadow-blue-300/50 dark:shadow-blue-500/25 shadow-2xl hover:shadow-3xl transform hover:scale-[1.02] hover:-translate-y-1 transition-all duration-500 group",children:[s.jsxs("div",{className:"absolute inset-0 opacity-15",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-200 to-blue-300 rounded-full transform translate-x-16 -translate-y-16 group-hover:scale-125 transition-transform duration-700"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-blue-200 to-blue-300 rounded-full transform -translate-x-12 translate-y-12 group-hover:scale-110 transition-transform duration-500"})]}),s.jsxs("div",{className:"relative z-20",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1 pr-2",children:[s.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider mb-2 block",children:e("Total Leads")}),s.jsx("div",{className:"text-3xl font-black text-gray-900 dark:text-white mb-2 tracking-tight",children:ze.length})]}),s.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-600 dark:bg-blue-500 rounded-2xl shadow-xl group-hover:scale-110 group-hover:rotate-6 transition-all duration-500 border-2 border-white/30",children:s.jsx("span",{className:"text-4xl text-white",children:""})})]}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 font-semibold bg-gray-100/80 dark:bg-gray-700/80 px-3 py-2 rounded-xl backdrop-blur-sm border border-gray-200 dark:border-gray-600",children:e("+100% of all system leads")})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/15 to-transparent -skew-x-12 transform -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out"})]},"__all_leads__"),$e=ce.map((Be,ft)=>{const Ke=xe(Be.color),Ue=Ke?null:Le[Be.color]||Le.blue,tt=Ke?{borderColor:Be.color,background:`linear-gradient(to bottom right, ${ue(Be.color,.16)}, ${ue(Be.color,.32)})`}:void 0,ct=Ke?{background:`linear-gradient(to bottom right, ${ue(Be.color,.22)}, ${ue(Be.color,.36)})`}:void 0,Je=Ke?{backgroundColor:Be.color}:void 0,pt=Ke?"":Ue.iconBg,kt=ze.filter(qt=>(qt.stage||qt.status||"").toLowerCase()===(Be.name||"").toLowerCase()).length,Ot=ze.length>0?Math.round(kt/ze.length*100):0;return s.jsxs("div",{className:`relative overflow-hidden rounded-2xl border-2 p-4 shadow-2xl hover:shadow-3xl transform hover:scale-[1.02] hover:-translate-y-1 transition-all duration-500 group cursor-pointer ${Ke?"":Ue.container}`,style:tt,children:[s.jsx("div",{className:"absolute inset-0 opacity-15",children:Ke?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 rounded-full transform translate-x-16 -translate-y-16 group-hover:scale-125 transition-transform duration-700",style:ct}),s.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 rounded-full transform -translate-x-12 translate-y-12 group-hover:scale-110 transition-transform duration-500",style:ct})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${Ue.patternFrom} ${Ue.patternTo} rounded-full transform translate-x-16 -translate-y-16 group-hover:scale-125 transition-transform duration-700`}),s.jsx("div",{className:`absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr ${Ue.patternFrom} ${Ue.patternTo} rounded-full transform -translate-x-12 translate-y-12 group-hover:scale-110 transition-transform duration-500`})]})}),s.jsxs("div",{className:"relative z-20",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1 pr-2",children:[s.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider mb-2 block",children:e(Be.name)}),s.jsx("div",{className:"text-3xl font-black text-gray-900 dark:text-white mb-1 tracking-tight",children:kt}),s.jsxs("div",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 bg-white/50 dark:bg-gray-700/50 inline-flex items-center gap-2 px-2 py-1 rounded-lg border border-gray-200 dark:border-gray-600",children:[s.jsx("span",{children:""}),s.jsxs("span",{children:[Ot,"%"]})]})]}),s.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-2xl shadow-xl group-hover:scale-110 group-hover:rotate-6 transition-all duration-500 border-2 border-white/30 ${pt}`,style:Je,children:s.jsx("span",{className:"text-4xl text-white",children:Be.icon||""})})]}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 font-semibold bg-gray-100/80 dark:bg-gray-700/80 px-3 py-2 rounded-xl backdrop-blur-sm border border-gray-200 dark:border-gray-600",children:[e("Stage share of total"),": ",Ot,"%"]})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/15 to-transparent -skew-x-12 transform -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out"})]},Be.name+ft)});return[we,...$e]})()}),s.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-12 mt-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(iue,{dateFrom:r,dateTo:i,selectedEmployee:d||o})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx("div",{className:"p-4 glass-panel h-full overflow-auto rounded-lg shadow-md",children:s.jsxs("div",{className:"best-section-wrapper",children:[s.jsxs("div",{className:`flex items-center ${t.language==="ar"?"flex-row-reverse":""} gap-2 mb-3`,children:[s.jsx("span",{"aria-hidden":!0,className:"inline-block w-1 h-5 rounded bg-blue-500"}),s.jsx("h3",{className:"text-lg font-semibold text-primary",children:e("The Best")})]}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:e("Your top agents for the number of actions.")}),(()=>{const[ce,Ie]=y.useState("all"),$e={all:[{id:1,name:e("Youssef Hemeda"),avatar:"https://i.pravatar.cc/32?u=youssef",score:3329,isCrowned:!0},{id:2,name:e("Osama Sales"),avatar:"",score:1968,isCrowned:!1},{id:3,name:e("Engaz CRM Demo"),avatar:"",score:1661,isCrowned:!1}],today:[{id:1,name:e("Osama Sales"),avatar:"",score:245,isCrowned:!0},{id:2,name:e("Youssef Hemeda"),avatar:"https://i.pravatar.cc/32?u=youssef",score:187,isCrowned:!1},{id:3,name:e("Ahmed Ibrahim"),avatar:"",score:142,isCrowned:!1}],weekly:[{id:1,name:e("Youssef Hemeda"),avatar:"https://i.pravatar.cc/32?u=youssef",score:1245,isCrowned:!0},{id:2,name:e("Engaz CRM Demo"),avatar:"",score:876,isCrowned:!1},{id:3,name:e("Osama Sales"),avatar:"",score:654,isCrowned:!1}],monthly:[{id:1,name:e("Youssef Hemeda"),avatar:"https://i.pravatar.cc/32?u=youssef",score:3329,isCrowned:!0},{id:2,name:e("Osama Sales"),avatar:"",score:1968,isCrowned:!1},{id:3,name:e("Engaz CRM Demo"),avatar:"",score:1661,isCrowned:!1}]}[ce],Be=$e[0];return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-800/30 p-3 rounded-lg flex items-center justify-between mb-4 border border-yellow-300 dark:border-yellow-700",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[s.jsxs("div",{className:"relative",children:[Be.avatar?s.jsx("img",{className:"w-10 h-10 rounded-full",src:Be.avatar,alt:Be.name}):s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm",children:Be.name.split(" ").map(ft=>ft[0]).join("").toUpperCase()}),s.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-yellow-400 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs",children:""})})]}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-100 truncate",children:Be.name}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[Be.score.toLocaleString()," ",e("actions")]})]})]}),s.jsx("div",{className:"text-2xl",children:""})]}),s.jsx("div",{className:"flex gap-1 mb-4 bg-gray-100 dark:bg-gray-700 p-1 rounded-lg",children:[{key:"all",label:e("All Time")},{key:"monthly",label:e("Monthly")},{key:"weekly",label:e("Weekly")},{key:"today",label:e("Today")}].map(({key:ft,label:Ke})=>s.jsx("button",{onClick:()=>Ie(ft),className:`flex-1 px-2 py-1 text-xs rounded-md transition-all ${ce===ft?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"}`,children:Ke},ft))}),s.jsx("div",{className:"space-y-3",children:$e.map((ft,Ke)=>s.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[s.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-gray-200 dark:bg-gray-600 text-xs font-bold text-gray-700 dark:text-gray-300",children:Ke+1}),s.jsxs("div",{className:"relative",children:[ft.avatar?s.jsx("img",{className:"w-8 h-8 rounded-full",src:ft.avatar,alt:ft.name}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-xs",children:ft.name.split(" ").map(Ue=>Ue[0]).join("").toUpperCase()}),ft.isCrowned&&s.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-yellow-400 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs",children:""})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-100 truncate text-sm",children:ft.name}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[ft.score.toLocaleString()," ",e("actions")]})]})]},ft.id))})]})})()]})})})]}),s.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-12",children:[s.jsxs("div",{className:"p-4 glass-panel rounded-lg shadow-md",children:[s.jsxs("div",{className:`flex items-center ${t.language==="ar"?"flex-row-reverse":""} gap-2 mb-4`,children:[s.jsx("span",{"aria-hidden":!0,className:"inline-block w-1 h-5 rounded bg-blue-500"}),s.jsx("h3",{className:"text-2xl font-bold text-primary",children:e("Last Comments")})]}),s.jsx(rue,{employee:d||o,dateFrom:r,dateTo:i})]}),s.jsxs("div",{className:"p-4 glass-panel rounded-lg shadow-md",children:[s.jsxs("div",{className:`flex items-center ${t.language==="ar"?"flex-row-reverse":""} gap-2 mb-4`,children:[s.jsx("span",{"aria-hidden":!0,className:"inline-block w-1 h-5 rounded bg-blue-500"}),s.jsx("h3",{className:"text-2xl font-bold text-primary",children:e("Recent Phone Calls")})]}),s.jsx(nue,{employee:d||o,dateFrom:r,dateTo:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 mb-10 items-stretch",children:[s.jsx("div",{ref:q,className:"p-3 glass-panel rounded-lg shadow-md h-full lg:col-span-4",style:ae?{maxHeight:`${ae}px`}:void 0,children:s.jsx(eue,{})}),s.jsxs("div",{ref:R,className:"p-3 glass-panel rounded-lg shadow-md lg:col-span-3 h-full",children:[s.jsxs("div",{className:`flex items-center ${t.language==="ar"?"flex-row-reverse":""} gap-2 mb-2`,children:[s.jsx("span",{"aria-hidden":!0,className:"inline-block w-1 h-4 rounded bg-blue-500"}),s.jsx("h3",{className:"text-lg font-bold text-primary",children:e("Leads Status")})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2 mb-2",children:[s.jsx(By,{title:e("Total Leads"),value:"16,766",change:"+12.5%",changeType:"positive",icon:"",color:"bg-blue-500",compact:!0}),s.jsx(By,{title:e("Conversion Rate"),value:"24.3%",change:"+3.2%",changeType:"positive",icon:"",color:"bg-green-500",compact:!0}),s.jsx(By,{title:e("Avg Response Time"),value:"2.4h",change:"-15min",changeType:"positive",icon:"",color:"bg-purple-500",compact:!0}),s.jsx(By,{title:e("Hot Leads"),value:"253",change:"+18",changeType:"positive",icon:"",color:"bg-red-500",compact:!0})]})]}),s.jsx("div",{className:"p-3 glass-panel rounded-lg shadow-md lg:col-span-5 h-full",children:s.jsx(tue,{employee:d||o,dateFrom:r,dateTo:i})})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4 mb-12",children:s.jsxs("div",{className:"col-span-1 p-4 glass-panel rounded-lg shadow-md",children:[s.jsxs("div",{className:`flex items-center ${t.language==="ar"?"flex-row-reverse":""} gap-2 mb-3`,children:[s.jsx("span",{"aria-hidden":!0,className:"inline-block w-1 h-5 rounded bg-blue-500"}),s.jsx("h3",{className:"text-2xl font-bold text-primary",children:e("Leads Analysis")})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3 justify-end",children:[s.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-300",children:D==="bar"?t.language==="ar"?"  ":"Bar Chart":D==="stackedBar"?t.language==="ar"?"   ":"Stacked Bar Chart":D==="line"?t.language==="ar"?"  ":"Line Chart":t.language==="ar"?"  ":"Pie Chart"}),s.jsxs("div",{className:"flex items-center gap-2 p-1 bg-gray-100 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[s.jsxs("button",{onClick:()=>G("bar"),className:`
                      group relative flex items-center justify-center px-3 py-2 rounded-md transition-all duration-300 ease-in-out
                      ${D==="bar"?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-600 hover:text-blue-600 dark:hover:text-blue-400 hover:scale-105"}
                      border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-500
                    `,title:t.language==="ar"?"  ":"Bar Chart",children:[s.jsx(NA,{className:"w-4 h-4"}),D==="bar"&&s.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-blue-500 rounded-full"})]}),s.jsxs("button",{onClick:()=>G("stackedBar"),className:`
                      group relative flex items-center justify-center px-3 py-2 rounded-md transition-all duration-300 ease-in-out
                      ${D==="stackedBar"?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg shadow-green-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-green-50 dark:hover:bg-gray-600 hover:text-green-600 dark:hover:text-green-400 hover:scale-105"}
                      border border-gray-200 dark:border-gray-600 hover:border-green-300 dark:hover:border-green-500
                    `,title:t.language==="ar"?"   ":"Stacked Bar Chart",children:[s.jsx(Wde,{className:"w-4 h-4"}),D==="stackedBar"&&s.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-green-500 rounded-full"})]}),s.jsxs("button",{onClick:()=>G("line"),className:`
                      group relative flex items-center justify-center px-3 py-2 rounded-md transition-all duration-300 ease-in-out
                      ${D==="line"?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg shadow-purple-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-gray-600 hover:text-purple-600 dark:hover:text-purple-400 hover:scale-105"}
                      border border-gray-200 dark:border-gray-600 hover:border-purple-300 dark:hover:border-purple-500
                    `,title:t.language==="ar"?"  ":"Line Chart",children:[s.jsx(Gz,{className:"w-4 h-4"}),D==="line"&&s.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-purple-500 rounded-full"})]}),s.jsxs("button",{onClick:()=>G("pie"),className:`
                      group relative flex items-center justify-center px-3 py-2 rounded-md transition-all duration-300 ease-in-out
                      ${D==="pie"?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg shadow-orange-500/25 scale-105":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-orange-50 dark:hover:bg-gray-600 hover:text-orange-600 dark:hover:text-orange-400 hover:scale-105"}
                      border border-gray-200 dark:border-gray-600 hover:border-orange-300 dark:hover:border-orange-500
                    `,title:t.language==="ar"?"  ":"Pie Chart",children:[s.jsx(Kz,{className:"w-4 h-4"}),D==="pie"&&s.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-orange-500 rounded-full"})]})]})]}),s.jsx("div",{className:"h-auto",children:s.jsx(lue,{data:Q(),chartType:D,filters:{dataType:"monthly",status:P,year:U,employee:d||o,dateFrom:r,dateTo:i}})})]})}),s.jsx("section",{className:"grid grid-cols-1 gap-4 mt-4",children:s.jsx("div",{className:"lg:col-span-3",children:s.jsxs("div",{className:"p-4 glass-panel h-full overflow-auto rounded-lg shadow-md",children:[s.jsxs("div",{className:`flex items-center ${t.language==="ar"?"flex-row-reverse":""} gap-2 mb-4`,children:[s.jsx("span",{"aria-hidden":!0,className:"inline-block w-1 h-5 rounded bg-blue-500"}),s.jsx("h3",{className:"text-2xl font-bold text-primary",children:e("Pipeline Analysis")})]}),s.jsx(aue,{selectedEmployee:d||o,dateFrom:r,dateTo:i})]})})})]})]})]})},P5={name:"",phone:"",email:"",type:"Individual",country:"",city:"",addressLine:"",companyName:"",taxNumber:"",contacts:[],tags:[],notes:"",assignedSalesRep:""},fP=[{id:"CUST-001",name:" ",phone:"+201234567890",email:"ahmed@example.com",type:"Individual",country:"Egypt",city:"Cairo",addressLine:"Nasr City",companyName:"",taxNumber:"",contacts:[],tags:["VIP","Hot"],notes:"   ",assignedSalesRep:"Ibrahim",createdAt:new Date(Date.now()-864e5).toISOString()},{id:"CUST-002",name:"Techno LLC",phone:"+971555123456",email:"sales@techno.com",type:"Company",country:"UAE",city:"Dubai",addressLine:"Business Bay",companyName:"Techno LLC",taxNumber:"TRN-12345",contacts:[{name:"Sara Ali",phone:"+971555234567",email:"sara@techno.com"}],tags:["B2B"],notes:"    ",assignedSalesRep:"Adam",createdAt:new Date(Date.now()-36e5).toISOString()},{id:"CUST-003",name:"John Doe",phone:"+12025550123",email:"john.doe@example.com",type:"Individual",country:"USA",city:"New York",addressLine:"5th Avenue",companyName:"",taxNumber:"",contacts:[],tags:["Priority"],notes:"  ",assignedSalesRep:"Noura",createdAt:new Date().toISOString()}],due=()=>{const[e,t]=y.useState([]),[a,r]=y.useState(!1),[n,i]=y.useState(""),[l,o]=y.useState(P5),[c,d]=y.useState(null),[u,f]=y.useState(!1),[p,m]=y.useState(""),[v,g]=y.useState(""),[b,j]=y.useState(""),[N,k]=y.useState(""),[S,C]=y.useState(""),_=async()=>{try{r(!0),i("");const{data:W}=await ya.get("/api/customers",{params:{q:p,type:v||void 0,assignedSalesRep:b||void 0,dateFrom:N||void 0,dateTo:S||void 0,limit:50}}),R=W?.data?.items||[];t(Array.isArray(R)&&R.length>0?R:fP)}catch{i("Failed to load customers"),t(fP)}finally{r(!1)}};y.useEffect(()=>{_()},[]),y.useEffect(()=>{const W=setTimeout(()=>{_()},300);return()=>clearTimeout(W)},[p,v,b,N,S]);const P=()=>{o(P5),d(null),f(!1)},L=async W=>{W?.preventDefault?.();try{r(!0),i("");const R={...l,tags:Array.isArray(l.tags)?l.tags:String(l.tags||"").split(",").map(q=>q.trim()).filter(Boolean),contacts:Array.isArray(l.contacts)?l.contacts:[]};c?await ya.put(`/api/customers/${c}`,R):await ya.post("/api/customers",R),await _(),P()}catch{i("Failed to save customer")}finally{r(!1)}},U=W=>{d(W.id),o({name:W.name||"",phone:W.phone||"",email:W.email||"",type:W.type||"Individual",country:W.country||"",city:W.city||"",addressLine:W.addressLine||"",companyName:W.companyName||"",taxNumber:W.taxNumber||"",contacts:W.contacts||[],tags:W.tags||[],notes:W.notes||"",assignedSalesRep:W.assignedSalesRep||W.assignedTo||""}),f(!0)},z=async W=>{try{r(!0),await ya.delete(`/api/customers/${W}`),await _()}catch{i("Failed to delete customer")}finally{r(!1)}},T=async W=>{try{r(!0),await ya.post(`/api/customers/${W}/restore`),await _()}catch{i("Failed to restore customer")}finally{r(!1)}},F=()=>{o(W=>({...W,contacts:[...W.contacts||[],{name:"",phone:"",email:""}]}))},M=(W,R,q)=>{o(ae=>{const te=[...ae.contacts||[]];return te[W]={...te[W],[R]:q},{...ae,contacts:te}})},I=W=>{o(R=>{const q=[...R.contacts||[]];return q.splice(W,1),{...R,contacts:q}})};return s.jsx(Ht,{children:s.jsxs("div",{className:"space-y-4 bg-[var(--content-bg)] text-[var(--content-text)] overflow-x-hidden overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Customers"}),s.jsx("div",{children:s.jsx("button",{className:"btn btn-primary",onClick:()=>{f(!0),d(null),o(P5)},children:"Add Customer"})})]}),s.jsxs("section",{className:"nova-card glass-neon p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[s.jsx("input",{className:"input w-full min-w-0",placeholder:"Search name/phone/email",value:p,onChange:W=>m(W.target.value)}),s.jsxs("select",{className:"input w-full min-w-0",value:v,onChange:W=>g(W.target.value),children:[s.jsx("option",{value:"",children:"All Types"}),s.jsx("option",{value:"Individual",children:"Individual"}),s.jsx("option",{value:"Company",children:"Company"})]}),s.jsx("input",{className:"input w-full min-w-0",placeholder:"Assigned Sales Rep",value:b,onChange:W=>j(W.target.value)}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("input",{type:"date",className:"input w-full min-w-0",value:N,onChange:W=>k(W.target.value)}),s.jsx("input",{type:"date",className:"input w-full min-w-0",value:S,onChange:W=>C(W.target.value)})]})]}),s.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:s.jsx("button",{className:"btn",onClick:()=>{m(""),g(""),j(""),k(""),C(""),_()},children:"Reset"})})]}),u&&s.jsx("section",{className:"nova-card glass-neon p-4",children:s.jsxs("form",{onSubmit:L,className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Customer Name *"}),s.jsx("input",{className:"input",value:l.name,onChange:W=>o({...l,name:W.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Phone *"}),s.jsx("input",{className:"input",value:l.phone,onChange:W=>o({...l,phone:W.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Email"}),s.jsx("input",{className:"input",value:l.email,onChange:W=>o({...l,email:W.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Customer Type"}),s.jsxs("select",{className:"input",value:l.type,onChange:W=>o({...l,type:W.target.value}),children:[s.jsx("option",{children:"Individual"}),s.jsx("option",{children:"Company"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Country"}),s.jsx("input",{className:"input",value:l.country,onChange:W=>o({...l,country:W.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"City"}),s.jsx("input",{className:"input",value:l.city,onChange:W=>o({...l,city:W.target.value})})]}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("label",{className:"label",children:"Address Line"}),s.jsx("input",{className:"input",value:l.addressLine,onChange:W=>o({...l,addressLine:W.target.value})})]}),l.type==="Company"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Company Name *"}),s.jsx("input",{className:"input",value:l.companyName,onChange:W=>o({...l,companyName:W.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Tax Number"}),s.jsx("input",{className:"input",value:l.taxNumber,onChange:W=>o({...l,taxNumber:W.target.value})})]}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"label",children:"Contacts"}),s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:F,children:"Add Contact"})]}),(l.contacts||[]).length===0&&s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"No contacts"}),(l.contacts||[]).map((W,R)=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 mb-2",children:[s.jsx("input",{className:"input",placeholder:"Contact Name",value:W.name,onChange:q=>M(R,"name",q.target.value)}),s.jsx("input",{className:"input",placeholder:"Contact Phone",value:W.phone,onChange:q=>M(R,"phone",q.target.value)}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{className:"input",placeholder:"Contact Email",value:W.email,onChange:q=>M(R,"email",q.target.value)}),s.jsx("button",{type:"button",className:"btn",onClick:()=>I(R),children:"Remove"})]})]},R))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Tags (comma-separated)"}),s.jsx("input",{className:"input",value:Array.isArray(l.tags)?l.tags.join(", "):l.tags,onChange:W=>o({...l,tags:W.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Assigned Sales Rep"}),s.jsx("input",{className:"input",value:l.assignedSalesRep,onChange:W=>o({...l,assignedSalesRep:W.target.value})})]}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("label",{className:"label",children:"Notes"}),s.jsx("textarea",{className:"input",rows:3,value:l.notes,onChange:W=>o({...l,notes:W.target.value})})]}),s.jsxs("div",{className:"lg:col-span-2 flex gap-2",children:[s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a,children:c?"Save Changes":"Create Customer"}),s.jsx("button",{type:"button",className:"btn",onClick:P,children:"Cancel"})]}),n&&s.jsx("div",{className:"lg:col-span-2 text-red-500 text-sm",children:n})]})}),s.jsx("section",{className:"nova-card glass-neon p-4",children:s.jsx("div",{className:"overflow-auto -mx-4",children:s.jsxs("table",{className:"nova-table w-full text-sm min-w-[1000px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left bg-[var(--table-header-bg)]",children:[s.jsx("th",{className:"py-2 px-3",children:"Name"}),s.jsx("th",{className:"py-2 px-3",children:"Type"}),s.jsx("th",{className:"py-2 px-3",children:"Contact"}),s.jsx("th",{className:"py-2 px-3",children:"Company"}),s.jsx("th",{className:"py-2 px-3",children:"Tags"}),s.jsx("th",{className:"py-2 px-3",children:"Assigned Rep"}),s.jsx("th",{className:"py-2 px-3",children:"Created"}),s.jsx("th",{className:"py-2 px-3",children:"Actions"})]})}),s.jsxs("tbody",{children:[a&&s.jsx("tr",{children:s.jsx("td",{className:"py-3 px-3",colSpan:8,children:"Loading..."})}),!a&&e.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"py-3 px-3",colSpan:8,children:"No customers"})}),!a&&e.map(W=>s.jsxs("tr",{className:"border-t border-[var(--table-row-border)] odd:bg-[var(--table-row-bg)]",children:[s.jsxs("td",{className:"py-2 px-3",children:[s.jsx("div",{className:"font-medium",children:W.name}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:W.email}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:W.phone})]}),s.jsx("td",{className:"py-2 px-3",children:W.type||""}),s.jsx("td",{className:"py-2 px-3",children:Array.isArray(W.contacts)&&W.contacts.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-xs",children:W.contacts[0].name}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:W.contacts[0].phone}),W.contacts[0].email&&s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:W.contacts[0].email})]}):W.email||W.phone?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-xs",children:W.email||""}),W.phone&&s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:W.phone})]}):W.city?`${W.city}, ${W.country}`:W.country||""}),s.jsx("td",{className:"py-2 px-3",children:W.companyName||""}),s.jsx("td",{className:"py-2 px-3",children:Array.isArray(W.tags)?W.tags.join(", "):""}),s.jsx("td",{className:"py-2 px-3",children:W.assignedSalesRep||W.assignedTo||""}),s.jsx("td",{className:"py-2 px-3 text-xs",children:new Date(W.createdAt).toLocaleString()}),s.jsx("td",{className:"py-2 px-3",children:s.jsxs("div",{className:"flex gap-2",children:[!W.deletedAt&&s.jsx("button",{className:"btn btn-secondary",onClick:()=>U(W),children:"Edit"}),!W.deletedAt&&s.jsx("button",{className:"btn",onClick:()=>z(W.id),children:"Delete"}),W.deletedAt&&s.jsx("button",{className:"btn btn-secondary",onClick:()=>T(W.id),children:"Restore"})]})})]},W.id))]})]})})})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var uw={};uw.version="0.18.5";var Qz=1252,uue=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],SA={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},CA=function(e){uue.indexOf(e)!=-1&&(Qz=SA[0]=e)};function hue(){CA(1252)}var rd=function(e){CA(e)};function AA(){rd(1200),hue()}function mP(e){for(var t=[],a=0,r=e.length;a<r;++a)t[a]=e.charCodeAt(a);return t}function fue(e){for(var t=[],a=0;a<e.length>>1;++a)t[a]=String.fromCharCode(e.charCodeAt(2*a)+(e.charCodeAt(2*a+1)<<8));return t.join("")}function Zz(e){for(var t=[],a=0;a<e.length>>1;++a)t[a]=String.fromCharCode(e.charCodeAt(2*a+1)+(e.charCodeAt(2*a)<<8));return t.join("")}var iv=function(e){var t=e.charCodeAt(0),a=e.charCodeAt(1);return t==255&&a==254?fue(e.slice(2)):t==254&&a==255?Zz(e.slice(2)):t==65279?e.slice(1):e},$y=function(t){return String.fromCharCode(t)},pP=function(t){return String.fromCharCode(t)},Jv,jf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Qv(e){for(var t="",a=0,r=0,n=0,i=0,l=0,o=0,c=0,d=0;d<e.length;)a=e.charCodeAt(d++),i=a>>2,r=e.charCodeAt(d++),l=(a&3)<<4|r>>4,n=e.charCodeAt(d++),o=(r&15)<<2|n>>6,c=n&63,isNaN(r)?o=c=64:isNaN(n)&&(c=64),t+=jf.charAt(i)+jf.charAt(l)+jf.charAt(o)+jf.charAt(c);return t}function Io(e){var t="",a=0,r=0,n=0,i=0,l=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=jf.indexOf(e.charAt(d++)),l=jf.indexOf(e.charAt(d++)),a=i<<2|l>>4,t+=String.fromCharCode(a),o=jf.indexOf(e.charAt(d++)),r=(l&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(r)),c=jf.indexOf(e.charAt(d++)),n=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(n));return t}var rs=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),vh=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,a){return a?new Buffer(t,a):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Df(e){return rs?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function xP(e){return rs?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Mo=function(t){return rs?vh(t,"binary"):t.split("").map(function(a){return a.charCodeAt(0)&255})};function Xj(e){if(typeof ArrayBuffer>"u")return Mo(e);for(var t=new ArrayBuffer(e.length),a=new Uint8Array(t),r=0;r!=e.length;++r)a[r]=e.charCodeAt(r)&255;return t}function Vf(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],a=0;a<e.length;++a)t[a]=String.fromCharCode(e[a]);return t.join("")}function mue(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function _A(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return _A(new Uint8Array(e));for(var t=new Array(e.length),a=0;a<e.length;++a)t[a]=e[a];return t}var yi=rs?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:vh(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,a=0;for(t=0;t<e.length;++t)a+=e[t].length;var r=new Uint8Array(a),n=0;for(t=0,a=0;t<e.length;a+=n,++t)if(n=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],a);else{if(typeof e[t]=="string")throw"wtf";r.set(new Uint8Array(e[t]),a)}return r}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function pue(e){for(var t=[],a=0,r=e.length+250,n=Df(e.length+255),i=0;i<e.length;++i){var l=e.charCodeAt(i);if(l<128)n[a++]=l;else if(l<2048)n[a++]=192|l>>6&31,n[a++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var o=e.charCodeAt(++i)&1023;n[a++]=240|l>>8&7,n[a++]=128|l>>2&63,n[a++]=128|o>>6&15|(l&3)<<4,n[a++]=128|o&63}else n[a++]=224|l>>12&15,n[a++]=128|l>>6&63,n[a++]=128|l&63;a>r&&(t.push(n.slice(0,a)),a=0,n=Df(65535),r=65530)}return t.push(n.slice(0,a)),yi(t)}var Ll=/\u0000/g,lv=/[\u0001-\u0006]/g;function Gp(e){for(var t="",a=e.length-1;a>=0;)t+=e.charAt(a--);return t}function nd(e,t){var a=""+e;return a.length>=t?a:sn("0",t-a.length)+a}function TA(e,t){var a=""+e;return a.length>=t?a:sn(" ",t-a.length)+a}function hw(e,t){var a=""+e;return a.length>=t?a:a+sn(" ",t-a.length)}function xue(e,t){var a=""+Math.round(e);return a.length>=t?a:sn("0",t-a.length)+a}function gue(e,t){var a=""+e;return a.length>=t?a:sn("0",t-a.length)+a}var gP=Math.pow(2,32);function Ap(e,t){if(e>gP||e<-gP)return xue(e,t);var a=Math.round(e);return gue(a,t)}function fw(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var vP=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],L5=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function vue(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Da={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},bP={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},bue={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function mw(e,t,a){for(var r=e<0?-1:1,n=e*r,i=0,l=1,o=0,c=1,d=0,u=0,f=Math.floor(n);d<t&&(f=Math.floor(n),o=f*l+i,u=f*d+c,!(n-f<5e-8));)n=1/(n-f),i=l,l=o,c=d,d=u;if(u>t&&(d>t?(u=c,o=i):(u=d,o=l)),!a)return[0,r*o,u];var p=Math.floor(r*o/u);return[p,r*o-p*u,u]}function F0(e,t,a){if(e>2958465||e<0)return null;var r=e|0,n=Math.floor(86400*(e-r)),i=0,l=[],o={D:r,T:n,u:86400*(e-r)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++n==86400&&(o.T=n=0,++r,++o.D)),r===60)l=a?[1317,10,29]:[1900,2,29],i=3;else if(r===0)l=a?[1317,8,29]:[1900,1,0],i=6;else{r>60&&--r;var c=new Date(1900,0,1);c.setDate(c.getDate()+r-1),l=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),r<60&&(i=(i+6)%7),a&&(i=Sue(c,l))}return o.y=l[0],o.m=l[1],o.d=l[2],o.S=n%60,n=Math.floor(n/60),o.M=n%60,n=Math.floor(n/60),o.H=n,o.q=i,o}var eH=new Date(1899,11,31,0,0,0),yue=eH.getTime(),wue=new Date(1900,2,1,0,0,0);function tH(e,t){var a=e.getTime();return t?a-=1461*24*60*60*1e3:e>=wue&&(a+=1440*60*1e3),(a-(yue+(e.getTimezoneOffset()-eH.getTimezoneOffset())*6e4))/(1440*60*1e3)}function EA(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function jue(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Nue(e){var t=e<0?12:11,a=EA(e.toFixed(12));return a.length<=t||(a=e.toPrecision(10),a.length<=t)?a:e.toExponential(5)}function kue(e){var t=EA(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Zv(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),a;return t>=-4&&t<=-1?a=e.toPrecision(10+t):Math.abs(t)<=9?a=Nue(e):t===10?a=e.toFixed(10).substr(0,12):a=kue(e),EA(jue(a.toUpperCase()))}function um(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Zv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return yc(14,tH(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Sue(e,t){t[0]-=581;var a=e.getDay();return e<60&&(a=(a+6)%7),a}function Cue(e,t,a,r){var n="",i=0,l=0,o=a.y,c,d=0;switch(e){case 98:o=a.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,d=2;break;default:c=o%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=a.m,d=t.length;break;case 3:return L5[a.m-1][1];case 5:return L5[a.m-1][0];default:return L5[a.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=a.d,d=t.length;break;case 3:return vP[a.q][0];default:return vP[a.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(a.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=a.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=a.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return a.u===0&&(t=="s"||t=="ss")?nd(a.S,t.length):(r>=2?l=r===3?1e3:100:l=r===1?10:1,i=Math.round(l*(a.S+a.u)),i>=60*l&&(i=0),t==="s"?i===0?"0":""+i/l:(n=nd(i,2+r),t==="ss"?n.substr(0,2):"."+n.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=a.D*24+a.H;break;case"[m]":case"[mm]":c=(a.D*24+a.H)*60+a.M;break;case"[s]":case"[ss]":c=((a.D*24+a.H)*60+a.M)*60+Math.round(a.S+a.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=o,d=1;break}var u=d>0?nd(c,d):"";return u}function Nf(e){var t=3;if(e.length<=t)return e;for(var a=e.length%t,r=e.substr(0,a);a!=e.length;a+=t)r+=(r.length>0?",":"")+e.substr(a,t);return r}var aH=/%/g;function Aue(e,t,a){var r=t.replace(aH,""),n=t.length-r.length;return eh(e,r,a*Math.pow(10,2*n))+sn("%",n)}function _ue(e,t,a){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return eh(e,t.substr(0,r),a/Math.pow(10,3*(t.length-r)))}function sH(e,t){var a,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+sH(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),a=(t/Math.pow(10,i)).toPrecision(r+1+(n+i)%n),a.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(a.indexOf(".")===-1?a=a.charAt(0)+"."+a.substr(1)+"E+"+(l-a.length+i):a+="E+"+(l-i);a.substr(0,2)==="0.";)a=a.charAt(0)+a.substr(2,n)+"."+a.substr(2+n),a=a.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,d,u){return c+d+u.substr(0,(n+i)%n)+"."+u.substr(i)+"E"})}else a=t.toExponential(r);return e.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),e.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}var rH=/# (\?+)( ?)\/( ?)(\d+)/;function Tue(e,t,a){var r=parseInt(e[4],10),n=Math.round(t*r),i=Math.floor(n/r),l=n-i*r,o=r;return a+(i===0?"":""+i)+" "+(l===0?sn(" ",e[1].length+1+e[4].length):TA(l,e[1].length)+e[2]+"/"+e[3]+nd(o,e[4].length))}function Eue(e,t,a){return a+(t===0?"":""+t)+sn(" ",e[1].length+2+e[4].length)}var nH=/^#*0*\.([0#]+)/,iH=/\).*[0#]/,lH=/\(###\) ###\\?-####/;function Al(e){for(var t="",a,r=0;r!=e.length;++r)switch(a=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(a)}return t}function yP(e,t){var a=Math.pow(10,t);return""+Math.round(e*a)/a}function wP(e,t){var a=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(a*r)).length?0:Math.round(a*r)}function Due(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Mue(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function oc(e,t,a){if(e.charCodeAt(0)===40&&!t.match(iH)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?oc("n",r,a):"("+oc("n",r,-a)+")"}if(t.charCodeAt(t.length-1)===44)return _ue(e,t,a);if(t.indexOf("%")!==-1)return Aue(e,t,a);if(t.indexOf("E")!==-1)return sH(t,a);if(t.charCodeAt(0)===36)return"$"+oc(e,t.substr(t.charAt(1)==" "?2:1),a);var n,i,l,o,c=Math.abs(a),d=a<0?"-":"";if(t.match(/^00+$/))return d+Ap(c,t.length);if(t.match(/^[#?]+$/))return n=Ap(a,0),n==="0"&&(n=""),n.length>t.length?n:Al(t.substr(0,t.length-n.length))+n;if(i=t.match(rH))return Tue(i,c,d);if(t.match(/^#+0+$/))return d+Ap(c,t.length-t.indexOf("0"));if(i=t.match(nH))return n=yP(a,i[1].length).replace(/^([^\.]+)$/,"$1."+Al(i[1])).replace(/\.$/,"."+Al(i[1])).replace(/\.(\d*)$/,function(v,g){return"."+g+sn("0",Al(i[1]).length-g.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+yP(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Nf(Ap(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+oc(e,t,-a):Nf(""+(Math.floor(a)+Due(a,i[1].length)))+"."+nd(wP(a,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return oc(e,t.replace(/^#,#*,/,""),a);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Gp(oc(e,t.replace(/[\\-]/g,""),a)),l=0,Gp(Gp(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return l<n.length?n.charAt(l++):v==="0"?"0":""}));if(t.match(lH))return n=oc(e,"##########",a),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=mw(c,Math.pow(10,l)-1,!1),n=""+d,u=eh("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+i[2]+"/"+i[3],u=hw(o[2],l),u.length<i[4].length&&(u=Al(i[4].substr(i[4].length-u.length))+u),n+=u,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=mw(c,Math.pow(10,l)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?TA(o[1],l)+i[2]+"/"+i[3]+hw(o[2],l):sn(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=Ap(a,0),t.length<=n.length?n:Al(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){n=""+a.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var f=t.indexOf(".")-l,p=t.length-n.length-f;return Al(t.substr(0,f)+n+t.substr(t.length-p))}if(i=t.match(/^00,000\.([#0]*0)$/))return l=wP(a,i[1].length),a<0?"-"+oc(e,t,-a):Nf(Mue(a)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?nd(0,3-v.length):"")+v})+"."+nd(l,i[1].length);switch(t){case"###,##0.00":return oc(e,"#,##0.00",a);case"###,###":case"##,###":case"#,###":var m=Nf(Ap(c,0));return m!=="0"?d+m:"";case"###,###.00":return oc(e,"###,##0.00",a).replace(/^0\./,".");case"#,###.00":return oc(e,"#,##0.00",a).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Pue(e,t,a){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return eh(e,t.substr(0,r),a/Math.pow(10,3*(t.length-r)))}function Lue(e,t,a){var r=t.replace(aH,""),n=t.length-r.length;return eh(e,r,a*Math.pow(10,2*n))+sn("%",n)}function oH(e,t){var a,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+oH(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),a=(t/Math.pow(10,i)).toPrecision(r+1+(n+i)%n),!a.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);a.indexOf(".")===-1?a=a.charAt(0)+"."+a.substr(1)+"E+"+(l-a.length+i):a+="E+"+(l-i),a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,d,u){return c+d+u.substr(0,(n+i)%n)+"."+u.substr(i)+"E"})}else a=t.toExponential(r);return e.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),e.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}function Hd(e,t,a){if(e.charCodeAt(0)===40&&!t.match(iH)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?Hd("n",r,a):"("+Hd("n",r,-a)+")"}if(t.charCodeAt(t.length-1)===44)return Pue(e,t,a);if(t.indexOf("%")!==-1)return Lue(e,t,a);if(t.indexOf("E")!==-1)return oH(t,a);if(t.charCodeAt(0)===36)return"$"+Hd(e,t.substr(t.charAt(1)==" "?2:1),a);var n,i,l,o,c=Math.abs(a),d=a<0?"-":"";if(t.match(/^00+$/))return d+nd(c,t.length);if(t.match(/^[#?]+$/))return n=""+a,a===0&&(n=""),n.length>t.length?n:Al(t.substr(0,t.length-n.length))+n;if(i=t.match(rH))return Eue(i,c,d);if(t.match(/^#+0+$/))return d+nd(c,t.length-t.indexOf("0"));if(i=t.match(nH))return n=(""+a).replace(/^([^\.]+)$/,"$1."+Al(i[1])).replace(/\.$/,"."+Al(i[1])),n=n.replace(/\.(\d*)$/,function(v,g){return"."+g+sn("0",Al(i[1]).length-g.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Nf(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+Hd(e,t,-a):Nf(""+a)+"."+sn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Hd(e,t.replace(/^#,#*,/,""),a);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Gp(Hd(e,t.replace(/[\\-]/g,""),a)),l=0,Gp(Gp(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return l<n.length?n.charAt(l++):v==="0"?"0":""}));if(t.match(lH))return n=Hd(e,"##########",a),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=mw(c,Math.pow(10,l)-1,!1),n=""+d,u=eh("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+i[2]+"/"+i[3],u=hw(o[2],l),u.length<i[4].length&&(u=Al(i[4].substr(i[4].length-u.length))+u),n+=u,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=mw(c,Math.pow(10,l)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?TA(o[1],l)+i[2]+"/"+i[3]+hw(o[2],l):sn(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=""+a,t.length<=n.length?n:Al(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0]+)\.([#0]+)$/)){n=""+a.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var f=t.indexOf(".")-l,p=t.length-n.length-f;return Al(t.substr(0,f)+n+t.substr(t.length-p))}if(i=t.match(/^00,000\.([#0]*0)$/))return a<0?"-"+Hd(e,t,-a):Nf(""+a).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?nd(0,3-v.length):"")+v})+"."+nd(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=Nf(""+c);return m!=="0"?d+m:"";default:if(t.match(/\.[0#?]*$/))return Hd(e,t.slice(0,t.lastIndexOf(".")),a)+Al(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function eh(e,t,a){return(a|0)===a?Hd(e,t,a):oc(e,t,a)}function Oue(e){for(var t=[],a=!1,r=0,n=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:a=!a;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(n,r-n),n=r+1}if(t[t.length]=e.substr(n),a===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var cH=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Cx(e){for(var t=0,a="",r="";t<e.length;)switch(a=e.charAt(t)){case"G":fw(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(r=a;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(cH))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(a=e.charAt(++t))>-1||a=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===a;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Rue(e,t,a,r){for(var n=[],i="",l=0,o="",c="t",d,u,f,p="H";l<e.length;)switch(o=e.charAt(l)){case"G":if(!fw(e,l))throw new Error("unrecognized character "+o+" in "+e);n[n.length]={t:"G",v:"General"},l+=7;break;case'"':for(i="";(f=e.charCodeAt(++l))!==34&&l<e.length;)i+=String.fromCharCode(f);n[n.length]={t:"t",v:i},++l;break;case"\\":var m=e.charAt(++l),v=m==="("||m===")"?m:"t";n[n.length]={t:v,v:m},++l;break;case"_":n[n.length]={t:"t",v:" "},l+=2;break;case"@":n[n.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(d==null&&(d=F0(t,a,e.charAt(l+1)==="2"),d==null))return"";n[n.length]={t:"X",v:e.substr(l,2)},c=o,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=F0(t,a),d==null))return"";for(i=o;++l<e.length&&e.charAt(l).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=p),n[n.length]={t:o,v:i},c=o;break;case"A":case"a":case"":var g={t:o,v:o};if(d==null&&(d=F0(t,a)),e.substr(l,3).toUpperCase()==="A/P"?(d!=null&&(g.v=d.H>=12?"P":"A"),g.t="T",p="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(d!=null&&(g.v=d.H>=12?"PM":"AM"),g.t="T",l+=5,p="h"):e.substr(l,5).toUpperCase()==="/"?(d!=null&&(g.v=d.H>=12?"":""),g.t="T",l+=5,p="h"):(g.t="t",++l),d==null&&g.t==="T")return"";n[n.length]=g,c=o;break;case"[":for(i=o;e.charAt(l++)!=="]"&&l<e.length;)i+=e.charAt(l);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(cH)){if(d==null&&(d=F0(t,a),d==null))return"";n[n.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Cx(e)||(n[n.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=o;++l<e.length&&(o=e.charAt(l))==="0";)i+=o;n[n.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++l<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(l))>-1;)i+=o;n[n.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++l)===o;)i+=o;n[n.length]={t:o,v:i},c=o;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":n[n.length]={t:r===1?"t":o,v:o},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)i+=e.charAt(l);n[n.length]={t:"D",v:i};break;case" ":n[n.length]={t:o,v:o},++l;break;case"$":n[n.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);n[n.length]={t:"t",v:o},++l;break}var b=0,j=0,N;for(l=n.length-1,c="t";l>=0;--l)switch(n[l].t){case"h":case"H":n[l].t=p,c="h",b<1&&(b=1);break;case"s":(N=n[l].v.match(/\.0+$/))&&(j=Math.max(j,N[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":c=n[l].t;break;case"m":c==="s"&&(n[l].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&n[l].v.match(/[Hh]/)&&(b=1),b<2&&n[l].v.match(/[Mm]/)&&(b=2),b<3&&n[l].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var k="",S;for(l=0;l<n.length;++l)switch(n[l].t){case"t":case"T":case" ":case"D":break;case"X":n[l].v="",n[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[l].v=Cue(n[l].t.charCodeAt(0),n[l].v,d,j),n[l].t="t";break;case"n":case"?":for(S=l+1;n[S]!=null&&((o=n[S].t)==="?"||o==="D"||(o===" "||o==="t")&&n[S+1]!=null&&(n[S+1].t==="?"||n[S+1].t==="t"&&n[S+1].v==="/")||n[l].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(n[S].v==="/"||n[S].v===" "&&n[S+1]!=null&&n[S+1].t=="?"));)n[l].v+=n[S].v,n[S]={v:"",t:";"},++S;k+=n[l].v,l=S-1;break;case"G":n[l].t="t",n[l].v=um(t,a);break}var C="",_,P;if(k.length>0){k.charCodeAt(0)==40?(_=t<0&&k.charCodeAt(0)===45?-t:t,P=eh("n",k,_)):(_=t<0&&r>1?-t:t,P=eh("n",k,_),_<0&&n[0]&&n[0].t=="t"&&(P=P.substr(1),n[0].v="-"+n[0].v)),S=P.length-1;var L=n.length;for(l=0;l<n.length;++l)if(n[l]!=null&&n[l].t!="t"&&n[l].v.indexOf(".")>-1){L=l;break}var U=n.length;if(L===n.length&&P.indexOf("E")===-1){for(l=n.length-1;l>=0;--l)n[l]==null||"n?".indexOf(n[l].t)===-1||(S>=n[l].v.length-1?(S-=n[l].v.length,n[l].v=P.substr(S+1,n[l].v.length)):S<0?n[l].v="":(n[l].v=P.substr(0,S+1),S=-1),n[l].t="t",U=l);S>=0&&U<n.length&&(n[U].v=P.substr(0,S+1)+n[U].v)}else if(L!==n.length&&P.indexOf("E")===-1){for(S=P.indexOf(".")-1,l=L;l>=0;--l)if(!(n[l]==null||"n?".indexOf(n[l].t)===-1)){for(u=n[l].v.indexOf(".")>-1&&l===L?n[l].v.indexOf(".")-1:n[l].v.length-1,C=n[l].v.substr(u+1);u>=0;--u)S>=0&&(n[l].v.charAt(u)==="0"||n[l].v.charAt(u)==="#")&&(C=P.charAt(S--)+C);n[l].v=C,n[l].t="t",U=l}for(S>=0&&U<n.length&&(n[U].v=P.substr(0,S+1)+n[U].v),S=P.indexOf(".")+1,l=L;l<n.length;++l)if(!(n[l]==null||"n?(".indexOf(n[l].t)===-1&&l!==L)){for(u=n[l].v.indexOf(".")>-1&&l===L?n[l].v.indexOf(".")+1:0,C=n[l].v.substr(0,u);u<n[l].v.length;++u)S<P.length&&(C+=P.charAt(S++));n[l].v=C,n[l].t="t",U=l}}}for(l=0;l<n.length;++l)n[l]!=null&&"n?".indexOf(n[l].t)>-1&&(_=r>1&&t<0&&l>0&&n[l-1].v==="-"?-t:t,n[l].v=eh(n[l].t,n[l].v,_),n[l].t="t");var z="";for(l=0;l!==n.length;++l)n[l]!=null&&(z+=n[l].v);return z}var jP=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function NP(e,t){if(t==null)return!1;var a=parseFloat(t[2]);switch(t[1]){case"=":if(e==a)return!0;break;case">":if(e>a)return!0;break;case"<":if(e<a)return!0;break;case"<>":if(e!=a)return!0;break;case">=":if(e>=a)return!0;break;case"<=":if(e<=a)return!0;break}return!1}function Fue(e,t){var a=Oue(e),r=a.length,n=a[r-1].indexOf("@");if(r<4&&n>-1&&--r,a.length>4)throw new Error("cannot find right format for |"+a.join("|")+"|");if(typeof t!="number")return[4,a.length===4||n>-1?a[a.length-1]:"@"];switch(a.length){case 1:a=n>-1?["General","General","General",a[0]]:[a[0],a[0],a[0],"@"];break;case 2:a=n>-1?[a[0],a[0],a[0],a[1]]:[a[0],a[1],a[0],"@"];break;case 3:a=n>-1?[a[0],a[1],a[0],a[2]]:[a[0],a[1],a[2],"@"];break}var i=t>0?a[0]:t<0?a[1]:a[2];if(a[0].indexOf("[")===-1&&a[1].indexOf("[")===-1)return[r,i];if(a[0].match(/\[[=<>]/)!=null||a[1].match(/\[[=<>]/)!=null){var l=a[0].match(jP),o=a[1].match(jP);return NP(t,l)?[r,a[0]]:NP(t,o)?[r,a[1]]:[r,a[l!=null&&o!=null?2:1]]}return[r,i]}function yc(e,t,a){a==null&&(a={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&a.dateNF?r=a.dateNF:r=e;break;case"number":e==14&&a.dateNF?r=a.dateNF:r=(a.table!=null?a.table:Da)[e],r==null&&(r=a.table&&a.table[bP[e]]||Da[bP[e]]),r==null&&(r=bue[e]||"General");break}if(fw(r,0))return um(t,a);t instanceof Date&&(t=tH(t,a.date1904));var n=Fue(r,t);if(fw(n[1]))return um(t,a);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Rue(n[1],t,a,n[0])}function th(e,t){if(typeof t!="number"){t=+t||-1;for(var a=0;a<392;++a){if(Da[a]==null){t<0&&(t=a);continue}if(Da[a]==e){t=a;break}}t<0&&(t=391)}return Da[t]=e,t}function Jj(e){for(var t=0;t!=392;++t)e[t]!==void 0&&th(e[t],t)}function Ax(){Da=vue()}var Iue={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},dH=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Bue(e){var t=typeof e=="number"?Da[e]:e;return t=t.replace(dH,"(\\d+)"),new RegExp("^"+t+"$")}function $ue(e,t,a){var r=-1,n=-1,i=-1,l=-1,o=-1,c=-1;(t.match(dH)||[]).forEach(function(f,p){var m=parseInt(a[p+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=m;break;case"d":i=m;break;case"h":l=m;break;case"s":c=m;break;case"m":l>=0?o=m:n=m;break}}),c>=0&&o==-1&&n>=0&&(o=n,n=-1);var d=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return l==-1&&o==-1&&c==-1?d:r==-1&&n==-1&&i==-1?u:d+"T"+u}var Uue=(function(){var e={};e.version="1.2.0";function t(){for(var P=0,L=new Array(256),U=0;U!=256;++U)P=U,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,L[U]=P;return typeof Int32Array<"u"?new Int32Array(L):L}var a=t();function r(P){var L=0,U=0,z=0,T=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(z=0;z!=256;++z)T[z]=P[z];for(z=0;z!=256;++z)for(U=P[z],L=256+z;L<4096;L+=256)U=T[L]=U>>>8^P[U&255];var F=[];for(z=1;z!=16;++z)F[z-1]=typeof Int32Array<"u"?T.subarray(z*256,z*256+256):T.slice(z*256,z*256+256);return F}var n=r(a),i=n[0],l=n[1],o=n[2],c=n[3],d=n[4],u=n[5],f=n[6],p=n[7],m=n[8],v=n[9],g=n[10],b=n[11],j=n[12],N=n[13],k=n[14];function S(P,L){for(var U=L^-1,z=0,T=P.length;z<T;)U=U>>>8^a[(U^P.charCodeAt(z++))&255];return~U}function C(P,L){for(var U=L^-1,z=P.length-15,T=0;T<z;)U=k[P[T++]^U&255]^N[P[T++]^U>>8&255]^j[P[T++]^U>>16&255]^b[P[T++]^U>>>24]^g[P[T++]]^v[P[T++]]^m[P[T++]]^p[P[T++]]^f[P[T++]]^u[P[T++]]^d[P[T++]]^c[P[T++]]^o[P[T++]]^l[P[T++]]^i[P[T++]]^a[P[T++]];for(z+=15;T<z;)U=U>>>8^a[(U^P[T++])&255];return~U}function _(P,L){for(var U=L^-1,z=0,T=P.length,F=0,M=0;z<T;)F=P.charCodeAt(z++),F<128?U=U>>>8^a[(U^F)&255]:F<2048?(U=U>>>8^a[(U^(192|F>>6&31))&255],U=U>>>8^a[(U^(128|F&63))&255]):F>=55296&&F<57344?(F=(F&1023)+64,M=P.charCodeAt(z++)&1023,U=U>>>8^a[(U^(240|F>>8&7))&255],U=U>>>8^a[(U^(128|F>>2&63))&255],U=U>>>8^a[(U^(128|M>>6&15|(F&3)<<4))&255],U=U>>>8^a[(U^(128|M&63))&255]):(U=U>>>8^a[(U^(224|F>>12&15))&255],U=U>>>8^a[(U^(128|F>>6&63))&255],U=U>>>8^a[(U^(128|F&63))&255]);return~U}return e.table=a,e.bstr=S,e.buf=C,e.str=_,e})(),Na=(function(){var t={};t.version="1.2.1";function a(ee,Se){for(var ye=ee.split("/"),Ne=Se.split("/"),Ae=0,_e=0,Xe=Math.min(ye.length,Ne.length);Ae<Xe;++Ae){if(_e=ye[Ae].length-Ne[Ae].length)return _e;if(ye[Ae]!=Ne[Ae])return ye[Ae]<Ne[Ae]?-1:1}return ye.length-Ne.length}function r(ee){if(ee.charAt(ee.length-1)=="/")return ee.slice(0,-1).indexOf("/")===-1?ee:r(ee.slice(0,-1));var Se=ee.lastIndexOf("/");return Se===-1?ee:ee.slice(0,Se+1)}function n(ee){if(ee.charAt(ee.length-1)=="/")return n(ee.slice(0,-1));var Se=ee.lastIndexOf("/");return Se===-1?ee:ee.slice(Se+1)}function i(ee,Se){typeof Se=="string"&&(Se=new Date(Se));var ye=Se.getHours();ye=ye<<6|Se.getMinutes(),ye=ye<<5|Se.getSeconds()>>>1,ee.write_shift(2,ye);var Ne=Se.getFullYear()-1980;Ne=Ne<<4|Se.getMonth()+1,Ne=Ne<<5|Se.getDate(),ee.write_shift(2,Ne)}function l(ee){var Se=ee.read_shift(2)&65535,ye=ee.read_shift(2)&65535,Ne=new Date,Ae=ye&31;ye>>>=5;var _e=ye&15;ye>>>=4,Ne.setMilliseconds(0),Ne.setFullYear(ye+1980),Ne.setMonth(_e-1),Ne.setDate(Ae);var Xe=Se&31;Se>>>=5;var ut=Se&63;return Se>>>=6,Ne.setHours(Se),Ne.setMinutes(ut),Ne.setSeconds(Xe<<1),Ne}function o(ee){Ui(ee,0);for(var Se={},ye=0;ee.l<=ee.length-4;){var Ne=ee.read_shift(2),Ae=ee.read_shift(2),_e=ee.l+Ae,Xe={};switch(Ne){case 21589:ye=ee.read_shift(1),ye&1&&(Xe.mtime=ee.read_shift(4)),Ae>5&&(ye&2&&(Xe.atime=ee.read_shift(4)),ye&4&&(Xe.ctime=ee.read_shift(4))),Xe.mtime&&(Xe.mt=new Date(Xe.mtime*1e3));break}ee.l=_e,Se[Ne]=Xe}return Se}var c;function d(){return c||(c={})}function u(ee,Se){if(ee[0]==80&&ee[1]==75)return ma(ee,Se);if((ee[0]|32)==109&&(ee[1]|32)==105)return ra(ee,Se);if(ee.length<512)throw new Error("CFB file size "+ee.length+" < 512");var ye=3,Ne=512,Ae=0,_e=0,Xe=0,ut=0,Ye=0,at=[],st=ee.slice(0,512);Ui(st,0);var Et=f(st);switch(ye=Et[0],ye){case 3:Ne=512;break;case 4:Ne=4096;break;case 0:if(Et[1]==0)return ma(ee,Se);default:throw new Error("Major Version: Expected 3 or 4 saw "+ye)}Ne!==512&&(st=ee.slice(0,Ne),Ui(st,28));var zt=ee.slice(0,Ne);p(st,ye);var Vt=st.read_shift(4,"i");if(ye===3&&Vt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Vt);st.l+=4,Xe=st.read_shift(4,"i"),st.l+=4,st.chk("00100000","Mini Stream Cutoff Size: "),ut=st.read_shift(4,"i"),Ae=st.read_shift(4,"i"),Ye=st.read_shift(4,"i"),_e=st.read_shift(4,"i");for(var Mt=-1,Kt=0;Kt<109&&(Mt=st.read_shift(4,"i"),!(Mt<0));++Kt)at[Kt]=Mt;var ba=m(ee,Ne);b(Ye,_e,ba,Ne,at);var va=N(ba,Xe,at,Ne);va[Xe].name="!Directory",Ae>0&&ut!==M&&(va[ut].name="!MiniFAT"),va[at[0]].name="!FAT",va.fat_addrs=at,va.ssz=Ne;var Pe={},yt=[],ja=[],za=[];k(Xe,va,ba,yt,Ae,Pe,ja,ut),v(ja,za,yt),yt.shift();var Is={FileIndex:ja,FullPaths:za};return Se&&Se.raw&&(Is.raw={header:zt,sectors:ba}),Is}function f(ee){if(ee[ee.l]==80&&ee[ee.l+1]==75)return[0,0];ee.chk(I,"Header Signature: "),ee.l+=16;var Se=ee.read_shift(2,"u");return[ee.read_shift(2,"u"),Se]}function p(ee,Se){var ye=9;switch(ee.l+=2,ye=ee.read_shift(2)){case 9:if(Se!=3)throw new Error("Sector Shift: Expected 9 saw "+ye);break;case 12:if(Se!=4)throw new Error("Sector Shift: Expected 12 saw "+ye);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ye)}ee.chk("0600","Mini Sector Shift: "),ee.chk("000000000000","Reserved: ")}function m(ee,Se){for(var ye=Math.ceil(ee.length/Se)-1,Ne=[],Ae=1;Ae<ye;++Ae)Ne[Ae-1]=ee.slice(Ae*Se,(Ae+1)*Se);return Ne[ye-1]=ee.slice(ye*Se),Ne}function v(ee,Se,ye){for(var Ne=0,Ae=0,_e=0,Xe=0,ut=0,Ye=ye.length,at=[],st=[];Ne<Ye;++Ne)at[Ne]=st[Ne]=Ne,Se[Ne]=ye[Ne];for(;ut<st.length;++ut)Ne=st[ut],Ae=ee[Ne].L,_e=ee[Ne].R,Xe=ee[Ne].C,at[Ne]===Ne&&(Ae!==-1&&at[Ae]!==Ae&&(at[Ne]=at[Ae]),_e!==-1&&at[_e]!==_e&&(at[Ne]=at[_e])),Xe!==-1&&(at[Xe]=Ne),Ae!==-1&&Ne!=at[Ne]&&(at[Ae]=at[Ne],st.lastIndexOf(Ae)<ut&&st.push(Ae)),_e!==-1&&Ne!=at[Ne]&&(at[_e]=at[Ne],st.lastIndexOf(_e)<ut&&st.push(_e));for(Ne=1;Ne<Ye;++Ne)at[Ne]===Ne&&(_e!==-1&&at[_e]!==_e?at[Ne]=at[_e]:Ae!==-1&&at[Ae]!==Ae&&(at[Ne]=at[Ae]));for(Ne=1;Ne<Ye;++Ne)if(ee[Ne].type!==0){if(ut=Ne,ut!=at[ut])do ut=at[ut],Se[Ne]=Se[ut]+"/"+Se[Ne];while(ut!==0&&at[ut]!==-1&&ut!=at[ut]);at[Ne]=-1}for(Se[0]+="/",Ne=1;Ne<Ye;++Ne)ee[Ne].type!==2&&(Se[Ne]+="/")}function g(ee,Se,ye){for(var Ne=ee.start,Ae=ee.size,_e=[],Xe=Ne;ye&&Ae>0&&Xe>=0;)_e.push(Se.slice(Xe*F,Xe*F+F)),Ae-=F,Xe=O0(ye,Xe*4);return _e.length===0?Nt(0):yi(_e).slice(0,ee.size)}function b(ee,Se,ye,Ne,Ae){var _e=M;if(ee===M){if(Se!==0)throw new Error("DIFAT chain shorter than expected")}else if(ee!==-1){var Xe=ye[ee],ut=(Ne>>>2)-1;if(!Xe)return;for(var Ye=0;Ye<ut&&(_e=O0(Xe,Ye*4))!==M;++Ye)Ae.push(_e);b(O0(Xe,Ne-4),Se-1,ye,Ne,Ae)}}function j(ee,Se,ye,Ne,Ae){var _e=[],Xe=[];Ae||(Ae=[]);var ut=Ne-1,Ye=0,at=0;for(Ye=Se;Ye>=0;){Ae[Ye]=!0,_e[_e.length]=Ye,Xe.push(ee[Ye]);var st=ye[Math.floor(Ye*4/Ne)];if(at=Ye*4&ut,Ne<4+at)throw new Error("FAT boundary crossed: "+Ye+" 4 "+Ne);if(!ee[st])break;Ye=O0(ee[st],at)}return{nodes:_e,data:OP([Xe])}}function N(ee,Se,ye,Ne){var Ae=ee.length,_e=[],Xe=[],ut=[],Ye=[],at=Ne-1,st=0,Et=0,zt=0,Vt=0;for(st=0;st<Ae;++st)if(ut=[],zt=st+Se,zt>=Ae&&(zt-=Ae),!Xe[zt]){Ye=[];var Mt=[];for(Et=zt;Et>=0;){Mt[Et]=!0,Xe[Et]=!0,ut[ut.length]=Et,Ye.push(ee[Et]);var Kt=ye[Math.floor(Et*4/Ne)];if(Vt=Et*4&at,Ne<4+Vt)throw new Error("FAT boundary crossed: "+Et+" 4 "+Ne);if(!ee[Kt]||(Et=O0(ee[Kt],Vt),Mt[Et]))break}_e[zt]={nodes:ut,data:OP([Ye])}}return _e}function k(ee,Se,ye,Ne,Ae,_e,Xe,ut){for(var Ye=0,at=Ne.length?2:0,st=Se[ee].data,Et=0,zt=0,Vt;Et<st.length;Et+=128){var Mt=st.slice(Et,Et+128);Ui(Mt,64),zt=Mt.read_shift(2),Vt=FA(Mt,0,zt-at),Ne.push(Vt);var Kt={name:Vt,type:Mt.read_shift(1),color:Mt.read_shift(1),L:Mt.read_shift(4,"i"),R:Mt.read_shift(4,"i"),C:Mt.read_shift(4,"i"),clsid:Mt.read_shift(16),state:Mt.read_shift(4,"i"),start:0,size:0},ba=Mt.read_shift(2)+Mt.read_shift(2)+Mt.read_shift(2)+Mt.read_shift(2);ba!==0&&(Kt.ct=S(Mt,Mt.l-8));var va=Mt.read_shift(2)+Mt.read_shift(2)+Mt.read_shift(2)+Mt.read_shift(2);va!==0&&(Kt.mt=S(Mt,Mt.l-8)),Kt.start=Mt.read_shift(4,"i"),Kt.size=Mt.read_shift(4,"i"),Kt.size<0&&Kt.start<0&&(Kt.size=Kt.type=0,Kt.start=M,Kt.name=""),Kt.type===5?(Ye=Kt.start,Ae>0&&Ye!==M&&(Se[Ye].name="!StreamData")):Kt.size>=4096?(Kt.storage="fat",Se[Kt.start]===void 0&&(Se[Kt.start]=j(ye,Kt.start,Se.fat_addrs,Se.ssz)),Se[Kt.start].name=Kt.name,Kt.content=Se[Kt.start].data.slice(0,Kt.size)):(Kt.storage="minifat",Kt.size<0?Kt.size=0:Ye!==M&&Kt.start!==M&&Se[Ye]&&(Kt.content=g(Kt,Se[Ye].data,(Se[ut]||{}).data))),Kt.content&&Ui(Kt.content,0),_e[Vt]=Kt,Xe.push(Kt)}}function S(ee,Se){return new Date((Eo(ee,Se+4)/1e7*Math.pow(2,32)+Eo(ee,Se)/1e7-11644473600)*1e3)}function C(ee,Se){return d(),u(c.readFileSync(ee),Se)}function _(ee,Se){var ye=Se&&Se.type;switch(ye||rs&&Buffer.isBuffer(ee)&&(ye="buffer"),ye||"base64"){case"file":return C(ee,Se);case"base64":return u(Mo(Io(ee)),Se);case"binary":return u(Mo(ee),Se)}return u(ee,Se)}function P(ee,Se){var ye=Se||{},Ne=ye.root||"Root Entry";if(ee.FullPaths||(ee.FullPaths=[]),ee.FileIndex||(ee.FileIndex=[]),ee.FullPaths.length!==ee.FileIndex.length)throw new Error("inconsistent CFB structure");ee.FullPaths.length===0&&(ee.FullPaths[0]=Ne+"/",ee.FileIndex[0]={name:Ne,type:5}),ye.CLSID&&(ee.FileIndex[0].clsid=ye.CLSID),L(ee)}function L(ee){var Se="Sh33tJ5";if(!Na.find(ee,"/"+Se)){var ye=Nt(4);ye[0]=55,ye[1]=ye[3]=50,ye[2]=54,ee.FileIndex.push({name:Se,type:2,content:ye,size:4,L:69,R:69,C:69}),ee.FullPaths.push(ee.FullPaths[0]+Se),U(ee)}}function U(ee,Se){P(ee);for(var ye=!1,Ne=!1,Ae=ee.FullPaths.length-1;Ae>=0;--Ae){var _e=ee.FileIndex[Ae];switch(_e.type){case 0:Ne?ye=!0:(ee.FileIndex.pop(),ee.FullPaths.pop());break;case 1:case 2:case 5:Ne=!0,isNaN(_e.R*_e.L*_e.C)&&(ye=!0),_e.R>-1&&_e.L>-1&&_e.R==_e.L&&(ye=!0);break;default:ye=!0;break}}if(!(!ye&&!Se)){var Xe=new Date(1987,1,19),ut=0,Ye=Object.create?Object.create(null):{},at=[];for(Ae=0;Ae<ee.FullPaths.length;++Ae)Ye[ee.FullPaths[Ae]]=!0,ee.FileIndex[Ae].type!==0&&at.push([ee.FullPaths[Ae],ee.FileIndex[Ae]]);for(Ae=0;Ae<at.length;++Ae){var st=r(at[Ae][0]);Ne=Ye[st],Ne||(at.push([st,{name:n(st).replace("/",""),type:1,clsid:R,ct:Xe,mt:Xe,content:null}]),Ye[st]=!0)}for(at.sort(function(Vt,Mt){return a(Vt[0],Mt[0])}),ee.FullPaths=[],ee.FileIndex=[],Ae=0;Ae<at.length;++Ae)ee.FullPaths[Ae]=at[Ae][0],ee.FileIndex[Ae]=at[Ae][1];for(Ae=0;Ae<at.length;++Ae){var Et=ee.FileIndex[Ae],zt=ee.FullPaths[Ae];if(Et.name=n(zt).replace("/",""),Et.L=Et.R=Et.C=-(Et.color=1),Et.size=Et.content?Et.content.length:0,Et.start=0,Et.clsid=Et.clsid||R,Ae===0)Et.C=at.length>1?1:-1,Et.size=0,Et.type=5;else if(zt.slice(-1)=="/"){for(ut=Ae+1;ut<at.length&&r(ee.FullPaths[ut])!=zt;++ut);for(Et.C=ut>=at.length?-1:ut,ut=Ae+1;ut<at.length&&r(ee.FullPaths[ut])!=r(zt);++ut);Et.R=ut>=at.length?-1:ut,Et.type=1}else r(ee.FullPaths[Ae+1]||"")==r(zt)&&(Et.R=Ae+1),Et.type=2}}}function z(ee,Se){var ye=Se||{};if(ye.fileType=="mad")return Fs(ee,ye);switch(U(ee),ye.fileType){case"zip":return Ca(ee,ye)}var Ne=(function(Vt){for(var Mt=0,Kt=0,ba=0;ba<Vt.FileIndex.length;++ba){var va=Vt.FileIndex[ba];if(va.content){var Pe=va.content.length;Pe>0&&(Pe<4096?Mt+=Pe+63>>6:Kt+=Pe+511>>9)}}for(var yt=Vt.FullPaths.length+3>>2,ja=Mt+7>>3,za=Mt+127>>7,Is=ja+Kt+yt+za,Ur=Is+127>>7,zn=Ur<=109?0:Math.ceil((Ur-109)/127);Is+Ur+zn+127>>7>Ur;)zn=++Ur<=109?0:Math.ceil((Ur-109)/127);var ks=[1,zn,Ur,za,yt,Kt,Mt,0];return Vt.FileIndex[0].size=Mt<<6,ks[7]=(Vt.FileIndex[0].start=ks[0]+ks[1]+ks[2]+ks[3]+ks[4]+ks[5])+(ks[6]+7>>3),ks})(ee),Ae=Nt(Ne[7]<<9),_e=0,Xe=0;{for(_e=0;_e<8;++_e)Ae.write_shift(1,W[_e]);for(_e=0;_e<8;++_e)Ae.write_shift(2,0);for(Ae.write_shift(2,62),Ae.write_shift(2,3),Ae.write_shift(2,65534),Ae.write_shift(2,9),Ae.write_shift(2,6),_e=0;_e<3;++_e)Ae.write_shift(2,0);for(Ae.write_shift(4,0),Ae.write_shift(4,Ne[2]),Ae.write_shift(4,Ne[0]+Ne[1]+Ne[2]+Ne[3]-1),Ae.write_shift(4,0),Ae.write_shift(4,4096),Ae.write_shift(4,Ne[3]?Ne[0]+Ne[1]+Ne[2]-1:M),Ae.write_shift(4,Ne[3]),Ae.write_shift(-4,Ne[1]?Ne[0]-1:M),Ae.write_shift(4,Ne[1]),_e=0;_e<109;++_e)Ae.write_shift(-4,_e<Ne[2]?Ne[1]+_e:-1)}if(Ne[1])for(Xe=0;Xe<Ne[1];++Xe){for(;_e<236+Xe*127;++_e)Ae.write_shift(-4,_e<Ne[2]?Ne[1]+_e:-1);Ae.write_shift(-4,Xe===Ne[1]-1?M:Xe+1)}var ut=function(Vt){for(Xe+=Vt;_e<Xe-1;++_e)Ae.write_shift(-4,_e+1);Vt&&(++_e,Ae.write_shift(-4,M))};for(Xe=_e=0,Xe+=Ne[1];_e<Xe;++_e)Ae.write_shift(-4,q.DIFSECT);for(Xe+=Ne[2];_e<Xe;++_e)Ae.write_shift(-4,q.FATSECT);ut(Ne[3]),ut(Ne[4]);for(var Ye=0,at=0,st=ee.FileIndex[0];Ye<ee.FileIndex.length;++Ye)st=ee.FileIndex[Ye],st.content&&(at=st.content.length,!(at<4096)&&(st.start=Xe,ut(at+511>>9)));for(ut(Ne[6]+7>>3);Ae.l&511;)Ae.write_shift(-4,q.ENDOFCHAIN);for(Xe=_e=0,Ye=0;Ye<ee.FileIndex.length;++Ye)st=ee.FileIndex[Ye],st.content&&(at=st.content.length,!(!at||at>=4096)&&(st.start=Xe,ut(at+63>>6)));for(;Ae.l&511;)Ae.write_shift(-4,q.ENDOFCHAIN);for(_e=0;_e<Ne[4]<<2;++_e){var Et=ee.FullPaths[_e];if(!Et||Et.length===0){for(Ye=0;Ye<17;++Ye)Ae.write_shift(4,0);for(Ye=0;Ye<3;++Ye)Ae.write_shift(4,-1);for(Ye=0;Ye<12;++Ye)Ae.write_shift(4,0);continue}st=ee.FileIndex[_e],_e===0&&(st.start=st.size?st.start-1:M);var zt=_e===0&&ye.root||st.name;if(at=2*(zt.length+1),Ae.write_shift(64,zt,"utf16le"),Ae.write_shift(2,at),Ae.write_shift(1,st.type),Ae.write_shift(1,st.color),Ae.write_shift(-4,st.L),Ae.write_shift(-4,st.R),Ae.write_shift(-4,st.C),st.clsid)Ae.write_shift(16,st.clsid,"hex");else for(Ye=0;Ye<4;++Ye)Ae.write_shift(4,0);Ae.write_shift(4,st.state||0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,st.start),Ae.write_shift(4,st.size),Ae.write_shift(4,0)}for(_e=1;_e<ee.FileIndex.length;++_e)if(st=ee.FileIndex[_e],st.size>=4096)if(Ae.l=st.start+1<<9,rs&&Buffer.isBuffer(st.content))st.content.copy(Ae,Ae.l,0,st.size),Ae.l+=st.size+511&-512;else{for(Ye=0;Ye<st.size;++Ye)Ae.write_shift(1,st.content[Ye]);for(;Ye&511;++Ye)Ae.write_shift(1,0)}for(_e=1;_e<ee.FileIndex.length;++_e)if(st=ee.FileIndex[_e],st.size>0&&st.size<4096)if(rs&&Buffer.isBuffer(st.content))st.content.copy(Ae,Ae.l,0,st.size),Ae.l+=st.size+63&-64;else{for(Ye=0;Ye<st.size;++Ye)Ae.write_shift(1,st.content[Ye]);for(;Ye&63;++Ye)Ae.write_shift(1,0)}if(rs)Ae.l=Ae.length;else for(;Ae.l<Ae.length;)Ae.write_shift(1,0);return Ae}function T(ee,Se){var ye=ee.FullPaths.map(function(Ye){return Ye.toUpperCase()}),Ne=ye.map(function(Ye){var at=Ye.split("/");return at[at.length-(Ye.slice(-1)=="/"?2:1)]}),Ae=!1;Se.charCodeAt(0)===47?(Ae=!0,Se=ye[0].slice(0,-1)+Se):Ae=Se.indexOf("/")!==-1;var _e=Se.toUpperCase(),Xe=Ae===!0?ye.indexOf(_e):Ne.indexOf(_e);if(Xe!==-1)return ee.FileIndex[Xe];var ut=!_e.match(lv);for(_e=_e.replace(Ll,""),ut&&(_e=_e.replace(lv,"!")),Xe=0;Xe<ye.length;++Xe)if((ut?ye[Xe].replace(lv,"!"):ye[Xe]).replace(Ll,"")==_e||(ut?Ne[Xe].replace(lv,"!"):Ne[Xe]).replace(Ll,"")==_e)return ee.FileIndex[Xe];return null}var F=64,M=-2,I="d0cf11e0a1b11ae1",W=[208,207,17,224,161,177,26,225],R="00000000000000000000000000000000",q={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:M,FREESECT:-1,HEADER_SIGNATURE:I,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:R,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ae(ee,Se,ye){d();var Ne=z(ee,ye);c.writeFileSync(Se,Ne)}function te(ee){for(var Se=new Array(ee.length),ye=0;ye<ee.length;++ye)Se[ye]=String.fromCharCode(ee[ye]);return Se.join("")}function K(ee,Se){var ye=z(ee,Se);switch(Se&&Se.type||"buffer"){case"file":return d(),c.writeFileSync(Se.filename,ye),ye;case"binary":return typeof ye=="string"?ye:te(ye);case"base64":return Qv(typeof ye=="string"?ye:te(ye));case"buffer":if(rs)return Buffer.isBuffer(ye)?ye:vh(ye);case"array":return typeof ye=="string"?Mo(ye):ye}return ye}var oe;function D(ee){try{var Se=ee.InflateRaw,ye=new Se;if(ye._processChunk(new Uint8Array([3,0]),ye._finishFlushFlag),ye.bytesRead)oe=ee;else throw new Error("zlib does not expose bytesRead")}catch(Ne){console.error("cannot use native zlib: "+(Ne.message||Ne))}}function G(ee,Se){if(!oe)return Gt(ee,Se);var ye=oe.InflateRaw,Ne=new ye,Ae=Ne._processChunk(ee.slice(ee.l),Ne._finishFlushFlag);return ee.l+=Ne.bytesRead,Ae}function H(ee){return oe?oe.deflateRawSync(ee):pt(ee)}var X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ie=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ne(ee){var Se=(ee<<1|ee<<11)&139536|(ee<<5|ee<<15)&558144;return(Se>>16|Se>>8|Se)&255}for(var J=typeof Uint8Array<"u",le=J?new Uint8Array(256):[],pe=0;pe<256;++pe)le[pe]=ne(pe);function Q(ee,Se){var ye=le[ee&255];return Se<=8?ye>>>8-Se:(ye=ye<<8|le[ee>>8&255],Se<=16?ye>>>16-Se:(ye=ye<<8|le[ee>>16&255],ye>>>24-Se))}function xe(ee,Se){var ye=Se&7,Ne=Se>>>3;return(ee[Ne]|(ye<=6?0:ee[Ne+1]<<8))>>>ye&3}function he(ee,Se){var ye=Se&7,Ne=Se>>>3;return(ee[Ne]|(ye<=5?0:ee[Ne+1]<<8))>>>ye&7}function ue(ee,Se){var ye=Se&7,Ne=Se>>>3;return(ee[Ne]|(ye<=4?0:ee[Ne+1]<<8))>>>ye&15}function Le(ee,Se){var ye=Se&7,Ne=Se>>>3;return(ee[Ne]|(ye<=3?0:ee[Ne+1]<<8))>>>ye&31}function ze(ee,Se){var ye=Se&7,Ne=Se>>>3;return(ee[Ne]|(ye<=1?0:ee[Ne+1]<<8))>>>ye&127}function Ce(ee,Se,ye){var Ne=Se&7,Ae=Se>>>3,_e=(1<<ye)-1,Xe=ee[Ae]>>>Ne;return ye<8-Ne||(Xe|=ee[Ae+1]<<8-Ne,ye<16-Ne)||(Xe|=ee[Ae+2]<<16-Ne,ye<24-Ne)||(Xe|=ee[Ae+3]<<24-Ne),Xe&_e}function ce(ee,Se,ye){var Ne=Se&7,Ae=Se>>>3;return Ne<=5?ee[Ae]|=(ye&7)<<Ne:(ee[Ae]|=ye<<Ne&255,ee[Ae+1]=(ye&7)>>8-Ne),Se+3}function Ie(ee,Se,ye){var Ne=Se&7,Ae=Se>>>3;return ye=(ye&1)<<Ne,ee[Ae]|=ye,Se+1}function we(ee,Se,ye){var Ne=Se&7,Ae=Se>>>3;return ye<<=Ne,ee[Ae]|=ye&255,ye>>>=8,ee[Ae+1]=ye,Se+8}function $e(ee,Se,ye){var Ne=Se&7,Ae=Se>>>3;return ye<<=Ne,ee[Ae]|=ye&255,ye>>>=8,ee[Ae+1]=ye&255,ee[Ae+2]=ye>>>8,Se+16}function Be(ee,Se){var ye=ee.length,Ne=2*ye>Se?2*ye:Se+5,Ae=0;if(ye>=Se)return ee;if(rs){var _e=xP(Ne);if(ee.copy)ee.copy(_e);else for(;Ae<ee.length;++Ae)_e[Ae]=ee[Ae];return _e}else if(J){var Xe=new Uint8Array(Ne);if(Xe.set)Xe.set(ee);else for(;Ae<ye;++Ae)Xe[Ae]=ee[Ae];return Xe}return ee.length=Ne,ee}function ft(ee){for(var Se=new Array(ee),ye=0;ye<ee;++ye)Se[ye]=0;return Se}function Ke(ee,Se,ye){var Ne=1,Ae=0,_e=0,Xe=0,ut=0,Ye=ee.length,at=J?new Uint16Array(32):ft(32);for(_e=0;_e<32;++_e)at[_e]=0;for(_e=Ye;_e<ye;++_e)ee[_e]=0;Ye=ee.length;var st=J?new Uint16Array(Ye):ft(Ye);for(_e=0;_e<Ye;++_e)at[Ae=ee[_e]]++,Ne<Ae&&(Ne=Ae),st[_e]=0;for(at[0]=0,_e=1;_e<=Ne;++_e)at[_e+16]=ut=ut+at[_e-1]<<1;for(_e=0;_e<Ye;++_e)ut=ee[_e],ut!=0&&(st[_e]=at[ut+16]++);var Et=0;for(_e=0;_e<Ye;++_e)if(Et=ee[_e],Et!=0)for(ut=Q(st[_e],Ne)>>Ne-Et,Xe=(1<<Ne+4-Et)-1;Xe>=0;--Xe)Se[ut|Xe<<Et]=Et&15|_e<<4;return Ne}var Ue=J?new Uint16Array(512):ft(512),tt=J?new Uint16Array(32):ft(32);if(!J){for(var ct=0;ct<512;++ct)Ue[ct]=0;for(ct=0;ct<32;++ct)tt[ct]=0}(function(){for(var ee=[],Se=0;Se<32;Se++)ee.push(5);Ke(ee,tt,32);var ye=[];for(Se=0;Se<=143;Se++)ye.push(8);for(;Se<=255;Se++)ye.push(9);for(;Se<=279;Se++)ye.push(7);for(;Se<=287;Se++)ye.push(8);Ke(ye,Ue,288)})();var Je=(function(){for(var Se=J?new Uint8Array(32768):[],ye=0,Ne=0;ye<ie.length-1;++ye)for(;Ne<ie[ye+1];++Ne)Se[Ne]=ye;for(;Ne<32768;++Ne)Se[Ne]=29;var Ae=J?new Uint8Array(259):[];for(ye=0,Ne=0;ye<se.length-1;++ye)for(;Ne<se[ye+1];++Ne)Ae[Ne]=ye;function _e(ut,Ye){for(var at=0;at<ut.length;){var st=Math.min(65535,ut.length-at),Et=at+st==ut.length;for(Ye.write_shift(1,+Et),Ye.write_shift(2,st),Ye.write_shift(2,~st&65535);st-- >0;)Ye[Ye.l++]=ut[at++]}return Ye.l}function Xe(ut,Ye){for(var at=0,st=0,Et=J?new Uint16Array(32768):[];st<ut.length;){var zt=Math.min(65535,ut.length-st);if(zt<10){for(at=ce(Ye,at,+(st+zt==ut.length)),at&7&&(at+=8-(at&7)),Ye.l=at/8|0,Ye.write_shift(2,zt),Ye.write_shift(2,~zt&65535);zt-- >0;)Ye[Ye.l++]=ut[st++];at=Ye.l*8;continue}at=ce(Ye,at,+(st+zt==ut.length)+2);for(var Vt=0;zt-- >0;){var Mt=ut[st];Vt=(Vt<<5^Mt)&32767;var Kt=-1,ba=0;if((Kt=Et[Vt])&&(Kt|=st&-32768,Kt>st&&(Kt-=32768),Kt<st))for(;ut[Kt+ba]==ut[st+ba]&&ba<250;)++ba;if(ba>2){Mt=Ae[ba],Mt<=22?at=we(Ye,at,le[Mt+1]>>1)-1:(we(Ye,at,3),at+=5,we(Ye,at,le[Mt-23]>>5),at+=3);var va=Mt<8?0:Mt-4>>2;va>0&&($e(Ye,at,ba-se[Mt]),at+=va),Mt=Se[st-Kt],at=we(Ye,at,le[Mt]>>3),at-=3;var Pe=Mt<4?0:Mt-2>>1;Pe>0&&($e(Ye,at,st-Kt-ie[Mt]),at+=Pe);for(var yt=0;yt<ba;++yt)Et[Vt]=st&32767,Vt=(Vt<<5^ut[st])&32767,++st;zt-=ba-1}else Mt<=143?Mt=Mt+48:at=Ie(Ye,at,1),at=we(Ye,at,le[Mt]),Et[Vt]=st&32767,++st}at=we(Ye,at,0)-1}return Ye.l=(at+7)/8|0,Ye.l}return function(Ye,at){return Ye.length<8?_e(Ye,at):Xe(Ye,at)}})();function pt(ee){var Se=Nt(50+Math.floor(ee.length*1.1)),ye=Je(ee,Se);return Se.slice(0,ye)}var kt=J?new Uint16Array(32768):ft(32768),Ot=J?new Uint16Array(32768):ft(32768),qt=J?new Uint16Array(128):ft(128),Wt=1,Te=1;function $t(ee,Se){var ye=Le(ee,Se)+257;Se+=5;var Ne=Le(ee,Se)+1;Se+=5;var Ae=ue(ee,Se)+4;Se+=4;for(var _e=0,Xe=J?new Uint8Array(19):ft(19),ut=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ye=1,at=J?new Uint8Array(8):ft(8),st=J?new Uint8Array(8):ft(8),Et=Xe.length,zt=0;zt<Ae;++zt)Xe[X[zt]]=_e=he(ee,Se),Ye<_e&&(Ye=_e),at[_e]++,Se+=3;var Vt=0;for(at[0]=0,zt=1;zt<=Ye;++zt)st[zt]=Vt=Vt+at[zt-1]<<1;for(zt=0;zt<Et;++zt)(Vt=Xe[zt])!=0&&(ut[zt]=st[Vt]++);var Mt=0;for(zt=0;zt<Et;++zt)if(Mt=Xe[zt],Mt!=0){Vt=le[ut[zt]]>>8-Mt;for(var Kt=(1<<7-Mt)-1;Kt>=0;--Kt)qt[Vt|Kt<<Mt]=Mt&7|zt<<3}var ba=[];for(Ye=1;ba.length<ye+Ne;)switch(Vt=qt[ze(ee,Se)],Se+=Vt&7,Vt>>>=3){case 16:for(_e=3+xe(ee,Se),Se+=2,Vt=ba[ba.length-1];_e-- >0;)ba.push(Vt);break;case 17:for(_e=3+he(ee,Se),Se+=3;_e-- >0;)ba.push(0);break;case 18:for(_e=11+ze(ee,Se),Se+=7;_e-- >0;)ba.push(0);break;default:ba.push(Vt),Ye<Vt&&(Ye=Vt);break}var va=ba.slice(0,ye),Pe=ba.slice(ye);for(zt=ye;zt<286;++zt)va[zt]=0;for(zt=Ne;zt<30;++zt)Pe[zt]=0;return Wt=Ke(va,kt,286),Te=Ke(Pe,Ot,30),Se}function qe(ee,Se){if(ee[0]==3&&!(ee[1]&3))return[Df(Se),2];for(var ye=0,Ne=0,Ae=xP(Se||1<<18),_e=0,Xe=Ae.length>>>0,ut=0,Ye=0;(Ne&1)==0;){if(Ne=he(ee,ye),ye+=3,Ne>>>1)Ne>>1==1?(ut=9,Ye=5):(ye=$t(ee,ye),ut=Wt,Ye=Te);else{ye&7&&(ye+=8-(ye&7));var at=ee[ye>>>3]|ee[(ye>>>3)+1]<<8;if(ye+=32,at>0)for(!Se&&Xe<_e+at&&(Ae=Be(Ae,_e+at),Xe=Ae.length);at-- >0;)Ae[_e++]=ee[ye>>>3],ye+=8;continue}for(;;){!Se&&Xe<_e+32767&&(Ae=Be(Ae,_e+32767),Xe=Ae.length);var st=Ce(ee,ye,ut),Et=Ne>>>1==1?Ue[st]:kt[st];if(ye+=Et&15,Et>>>=4,(Et>>>8&255)===0)Ae[_e++]=Et;else{if(Et==256)break;Et-=257;var zt=Et<8?0:Et-4>>2;zt>5&&(zt=0);var Vt=_e+se[Et];zt>0&&(Vt+=Ce(ee,ye,zt),ye+=zt),st=Ce(ee,ye,Ye),Et=Ne>>>1==1?tt[st]:Ot[st],ye+=Et&15,Et>>>=4;var Mt=Et<4?0:Et-2>>1,Kt=ie[Et];for(Mt>0&&(Kt+=Ce(ee,ye,Mt),ye+=Mt),!Se&&Xe<Vt&&(Ae=Be(Ae,Vt+100),Xe=Ae.length);_e<Vt;)Ae[_e]=Ae[_e-Kt],++_e}}}return Se?[Ae,ye+7>>>3]:[Ae.slice(0,_e),ye+7>>>3]}function Gt(ee,Se){var ye=ee.slice(ee.l||0),Ne=qe(ye,Se);return ee.l+=Ne[1],Ne[0]}function Yt(ee,Se){if(ee)typeof console<"u"&&console.error(Se);else throw new Error(Se)}function ma(ee,Se){var ye=ee;Ui(ye,0);var Ne=[],Ae=[],_e={FileIndex:Ne,FullPaths:Ae};P(_e,{root:Se.root});for(var Xe=ye.length-4;(ye[Xe]!=80||ye[Xe+1]!=75||ye[Xe+2]!=5||ye[Xe+3]!=6)&&Xe>=0;)--Xe;ye.l=Xe+4,ye.l+=4;var ut=ye.read_shift(2);ye.l+=6;var Ye=ye.read_shift(4);for(ye.l=Ye,Xe=0;Xe<ut;++Xe){ye.l+=20;var at=ye.read_shift(4),st=ye.read_shift(4),Et=ye.read_shift(2),zt=ye.read_shift(2),Vt=ye.read_shift(2);ye.l+=8;var Mt=ye.read_shift(4),Kt=o(ye.slice(ye.l+Et,ye.l+Et+zt));ye.l+=Et+zt+Vt;var ba=ye.l;ye.l=Mt+4,Ia(ye,at,st,_e,Kt),ye.l=ba}return _e}function Ia(ee,Se,ye,Ne,Ae){ee.l+=2;var _e=ee.read_shift(2),Xe=ee.read_shift(2),ut=l(ee);if(_e&8257)throw new Error("Unsupported ZIP encryption");for(var Ye=ee.read_shift(4),at=ee.read_shift(4),st=ee.read_shift(4),Et=ee.read_shift(2),zt=ee.read_shift(2),Vt="",Mt=0;Mt<Et;++Mt)Vt+=String.fromCharCode(ee[ee.l++]);if(zt){var Kt=o(ee.slice(ee.l,ee.l+zt));(Kt[21589]||{}).mt&&(ut=Kt[21589].mt),((Ae||{})[21589]||{}).mt&&(ut=Ae[21589].mt)}ee.l+=zt;var ba=ee.slice(ee.l,ee.l+at);switch(Xe){case 8:ba=G(ee,st);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Xe)}var va=!1;_e&8&&(Ye=ee.read_shift(4),Ye==134695760&&(Ye=ee.read_shift(4),va=!0),at=ee.read_shift(4),st=ee.read_shift(4)),at!=Se&&Yt(va,"Bad compressed size: "+Se+" != "+at),st!=ye&&Yt(va,"Bad uncompressed size: "+ye+" != "+st),es(Ne,Vt,ba,{unsafe:!0,mt:ut})}function Ca(ee,Se){var ye=Se||{},Ne=[],Ae=[],_e=Nt(1),Xe=ye.compression?8:0,ut=0,Ye=0,at=0,st=0,Et=0,zt=ee.FullPaths[0],Vt=zt,Mt=ee.FileIndex[0],Kt=[],ba=0;for(Ye=1;Ye<ee.FullPaths.length;++Ye)if(Vt=ee.FullPaths[Ye].slice(zt.length),Mt=ee.FileIndex[Ye],!(!Mt.size||!Mt.content||Vt=="Sh33tJ5")){var va=st,Pe=Nt(Vt.length);for(at=0;at<Vt.length;++at)Pe.write_shift(1,Vt.charCodeAt(at)&127);Pe=Pe.slice(0,Pe.l),Kt[Et]=Uue.buf(Mt.content,0);var yt=Mt.content;Xe==8&&(yt=H(yt)),_e=Nt(30),_e.write_shift(4,67324752),_e.write_shift(2,20),_e.write_shift(2,ut),_e.write_shift(2,Xe),Mt.mt?i(_e,Mt.mt):_e.write_shift(4,0),_e.write_shift(-4,Kt[Et]),_e.write_shift(4,yt.length),_e.write_shift(4,Mt.content.length),_e.write_shift(2,Pe.length),_e.write_shift(2,0),st+=_e.length,Ne.push(_e),st+=Pe.length,Ne.push(Pe),st+=yt.length,Ne.push(yt),_e=Nt(46),_e.write_shift(4,33639248),_e.write_shift(2,0),_e.write_shift(2,20),_e.write_shift(2,ut),_e.write_shift(2,Xe),_e.write_shift(4,0),_e.write_shift(-4,Kt[Et]),_e.write_shift(4,yt.length),_e.write_shift(4,Mt.content.length),_e.write_shift(2,Pe.length),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(4,0),_e.write_shift(4,va),ba+=_e.l,Ae.push(_e),ba+=Pe.length,Ae.push(Pe),++Et}return _e=Nt(22),_e.write_shift(4,101010256),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,Et),_e.write_shift(2,Et),_e.write_shift(4,ba),_e.write_shift(4,st),_e.write_shift(2,0),yi([yi(Ne),yi(Ae),_e])}var la={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function qa(ee,Se){if(ee.ctype)return ee.ctype;var ye=ee.name||"",Ne=ye.match(/\.([^\.]+)$/);return Ne&&la[Ne[1]]||Se&&(Ne=(ye=Se).match(/[\.\\]([^\.\\])+$/),Ne&&la[Ne[1]])?la[Ne[1]]:"application/octet-stream"}function Fe(ee){for(var Se=Qv(ee),ye=[],Ne=0;Ne<Se.length;Ne+=76)ye.push(Se.slice(Ne,Ne+76));return ye.join(`\r
`)+`\r
`}function rt(ee){var Se=ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(at){var st=at.charCodeAt(0).toString(16).toUpperCase();return"="+(st.length==1?"0"+st:st)});Se=Se.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Se.charAt(0)==`
`&&(Se="=0D"+Se.slice(1)),Se=Se.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ye=[],Ne=Se.split(`\r
`),Ae=0;Ae<Ne.length;++Ae){var _e=Ne[Ae];if(_e.length==0){ye.push("");continue}for(var Xe=0;Xe<_e.length;){var ut=76,Ye=_e.slice(Xe,Xe+ut);Ye.charAt(ut-1)=="="?ut--:Ye.charAt(ut-2)=="="?ut-=2:Ye.charAt(ut-3)=="="&&(ut-=3),Ye=_e.slice(Xe,Xe+ut),Xe+=ut,Xe<_e.length&&(Ye+="="),ye.push(Ye)}}return ye.join(`\r
`)}function _t(ee){for(var Se=[],ye=0;ye<ee.length;++ye){for(var Ne=ee[ye];ye<=ee.length&&Ne.charAt(Ne.length-1)=="=";)Ne=Ne.slice(0,Ne.length-1)+ee[++ye];Se.push(Ne)}for(var Ae=0;Ae<Se.length;++Ae)Se[Ae]=Se[Ae].replace(/[=][0-9A-Fa-f]{2}/g,function(_e){return String.fromCharCode(parseInt(_e.slice(1),16))});return Mo(Se.join(`\r
`))}function St(ee,Se,ye){for(var Ne="",Ae="",_e="",Xe,ut=0;ut<10;++ut){var Ye=Se[ut];if(!Ye||Ye.match(/^\s*$/))break;var at=Ye.match(/^(.*?):\s*([^\s].*)$/);if(at)switch(at[1].toLowerCase()){case"content-location":Ne=at[2].trim();break;case"content-type":_e=at[2].trim();break;case"content-transfer-encoding":Ae=at[2].trim();break}}switch(++ut,Ae.toLowerCase()){case"base64":Xe=Mo(Io(Se.slice(ut).join("")));break;case"quoted-printable":Xe=_t(Se.slice(ut));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ae)}var st=es(ee,Ne.slice(ye.length),Xe,{unsafe:!0});_e&&(st.ctype=_e)}function ra(ee,Se){if(te(ee.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ye=Se&&Se.root||"",Ne=(rs&&Buffer.isBuffer(ee)?ee.toString("binary"):te(ee)).split(`\r
`),Ae=0,_e="";for(Ae=0;Ae<Ne.length;++Ae)if(_e=Ne[Ae],!!/^Content-Location:/i.test(_e)&&(_e=_e.slice(_e.indexOf("file")),ye||(ye=_e.slice(0,_e.lastIndexOf("/")+1)),_e.slice(0,ye.length)!=ye))for(;ye.length>0&&(ye=ye.slice(0,ye.length-1),ye=ye.slice(0,ye.lastIndexOf("/")+1),_e.slice(0,ye.length)!=ye););var Xe=(Ne[1]||"").match(/boundary="(.*?)"/);if(!Xe)throw new Error("MAD cannot find boundary");var ut="--"+(Xe[1]||""),Ye=[],at=[],st={FileIndex:Ye,FullPaths:at};P(st);var Et,zt=0;for(Ae=0;Ae<Ne.length;++Ae){var Vt=Ne[Ae];Vt!==ut&&Vt!==ut+"--"||(zt++&&St(st,Ne.slice(Et,Ae),ye),Et=Ae)}return st}function Fs(ee,Se){var ye=Se||{},Ne=ye.boundary||"SheetJS";Ne="------="+Ne;for(var Ae=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Ne.slice(2)+'"',"","",""],_e=ee.FullPaths[0],Xe=_e,ut=ee.FileIndex[0],Ye=1;Ye<ee.FullPaths.length;++Ye)if(Xe=ee.FullPaths[Ye].slice(_e.length),ut=ee.FileIndex[Ye],!(!ut.size||!ut.content||Xe=="Sh33tJ5")){Xe=Xe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ba){return"_x"+ba.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ba){return"_u"+ba.charCodeAt(0).toString(16)+"_"});for(var at=ut.content,st=rs&&Buffer.isBuffer(at)?at.toString("binary"):te(at),Et=0,zt=Math.min(1024,st.length),Vt=0,Mt=0;Mt<=zt;++Mt)(Vt=st.charCodeAt(Mt))>=32&&Vt<128&&++Et;var Kt=Et>=zt*4/5;Ae.push(Ne),Ae.push("Content-Location: "+(ye.root||"file:///C:/SheetJS/")+Xe),Ae.push("Content-Transfer-Encoding: "+(Kt?"quoted-printable":"base64")),Ae.push("Content-Type: "+qa(ut,Xe)),Ae.push(""),Ae.push(Kt?rt(st):Fe(st))}return Ae.push(Ne+`--\r
`),Ae.join(`\r
`)}function cs(ee){var Se={};return P(Se,ee),Se}function es(ee,Se,ye,Ne){var Ae=Ne&&Ne.unsafe;Ae||P(ee);var _e=!Ae&&Na.find(ee,Se);if(!_e){var Xe=ee.FullPaths[0];Se.slice(0,Xe.length)==Xe?Xe=Se:(Xe.slice(-1)!="/"&&(Xe+="/"),Xe=(Xe+Se).replace("//","/")),_e={name:n(Se),type:2},ee.FileIndex.push(_e),ee.FullPaths.push(Xe),Ae||Na.utils.cfb_gc(ee)}return _e.content=ye,_e.size=ye?ye.length:0,Ne&&(Ne.CLSID&&(_e.clsid=Ne.CLSID),Ne.mt&&(_e.mt=Ne.mt),Ne.ct&&(_e.ct=Ne.ct)),_e}function Ps(ee,Se){P(ee);var ye=Na.find(ee,Se);if(ye){for(var Ne=0;Ne<ee.FileIndex.length;++Ne)if(ee.FileIndex[Ne]==ye)return ee.FileIndex.splice(Ne,1),ee.FullPaths.splice(Ne,1),!0}return!1}function as(ee,Se,ye){P(ee);var Ne=Na.find(ee,Se);if(Ne){for(var Ae=0;Ae<ee.FileIndex.length;++Ae)if(ee.FileIndex[Ae]==Ne)return ee.FileIndex[Ae].name=n(ye),ee.FullPaths[Ae]=ye,!0}return!1}function pa(ee){U(ee,!0)}return t.find=T,t.read=_,t.parse=u,t.write=K,t.writeFile=ae,t.utils={cfb_new:cs,cfb_add:es,cfb_del:Ps,cfb_mov:as,cfb_gc:pa,ReadShift:gv,CheckField:MH,prep_blob:Ui,bconcat:yi,use_zlib:D,_deflateRaw:pt,_inflateRaw:Gt,consts:q},t})();function zue(e){return typeof e=="string"?Xj(e):Array.isArray(e)?mue(e):e}function W1(e,t,a){if(typeof Deno<"u"){if(a&&typeof t=="string")switch(a){case"utf8":t=new TextEncoder(a).encode(t);break;case"binary":t=Xj(t);break;default:throw new Error("Unsupported encoding "+a)}return Deno.writeFileSync(e,t)}var r=a=="utf8"?Kd(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,e);if(typeof Blob<"u"){var n=new Blob([zue(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,e);if(typeof saveAs<"u")return saveAs(n,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=i,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Vf(t)),o.write(t),o.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Hue(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var a=t.read();return t.close(),a}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+e)}function ln(e){for(var t=Object.keys(e),a=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&a.push(t[r]);return a}function kP(e,t){for(var a=[],r=ln(e),n=0;n!==r.length;++n)a[e[r[n]][t]]==null&&(a[e[r[n]][t]]=r[n]);return a}function Qj(e){for(var t=[],a=ln(e),r=0;r!==a.length;++r)t[e[a[r]]]=a[r];return t}function Zj(e){for(var t=[],a=ln(e),r=0;r!==a.length;++r)t[e[a[r]]]=parseInt(a[r],10);return t}function Vue(e){for(var t=[],a=ln(e),r=0;r!==a.length;++r)t[e[a[r]]]==null&&(t[e[a[r]]]=[]),t[e[a[r]]].push(a[r]);return t}var pw=new Date(1899,11,30,0,0,0);function ti(e,t){var a=e.getTime(),r=pw.getTime()+(e.getTimezoneOffset()-pw.getTimezoneOffset())*6e4;return(a-r)/(1440*60*1e3)}var uH=new Date,Wue=pw.getTime()+(uH.getTimezoneOffset()-pw.getTimezoneOffset())*6e4,SP=uH.getTimezoneOffset();function eN(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Wue),t.getTimezoneOffset()!==SP&&t.setTime(t.getTime()+(t.getTimezoneOffset()-SP)*6e4),t}function que(e){var t=0,a=0,r=!1,n=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!n)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=n.length;++i)if(n[i]){switch(a=1,i>3&&(r=!0),n[i].slice(n[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+n[i].slice(n[i].length-1));case"D":a*=24;case"H":a*=60;case"M":if(r)a*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=a*parseInt(n[i],10)}return t}var CP=new Date("2017-02-19T19:06:09.000Z"),hH=isNaN(CP.getFullYear())?new Date("2/19/17"):CP,Gue=hH.getFullYear()==2017;function wr(e,t){var a=new Date(e);if(Gue)return t>0?a.setTime(a.getTime()+a.getTimezoneOffset()*60*1e3):t<0&&a.setTime(a.getTime()-a.getTimezoneOffset()*60*1e3),a;if(e instanceof Date)return e;if(hH.getFullYear()==1917&&!isNaN(a.getFullYear())){var r=a.getFullYear();return e.indexOf(""+r)>-1||a.setFullYear(a.getFullYear()+100),a}var n=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function hm(e,t){if(rs&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Kd(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Kd(Zz(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Kd(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Kd(new TextDecoder("utf-16be").decode(e.slice(2)))}var a={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return a[i]||i})}catch{}for(var r=[],n=0;n!=e.length;++n)r.push(String.fromCharCode(e[n]));return r.join("")}function jr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=jr(e[a]));return t}function sn(e,t){for(var a="";a.length<t;)a+=e;return a}function id(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var a=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return a*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(n,i){return a=-a,i}),!isNaN(t=Number(r)))?t/a:t}var Kue=["january","february","march","april","may","june","july","august","september","october","november","december"];function lx(e){var t=new Date(e),a=new Date(NaN),r=t.getYear(),n=t.getMonth(),i=t.getDate();if(isNaN(i))return a;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&Kue.indexOf(l)==-1)return a}else if(l.match(/[a-z]/))return a;return r<0||r>8099?a:(n>0||i>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?a:t}var Yue=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(a,r,n){if(e||typeof r=="string")return a.split(r);for(var i=a.split(r),l=[i[0]],o=1;o<i.length;++o)l.push(n),l.push(i[o]);return l}})();function fH(e){return e?e.content&&e.type?hm(e.content,!0):e.data?iv(e.data):e.asNodeBuffer&&rs?iv(e.asNodeBuffer().toString("binary")):e.asBinary?iv(e.asBinary()):e._data&&e._data.getContent?iv(hm(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function mH(e){if(!e)return null;if(e.data)return mP(e.data);if(e.asNodeBuffer&&rs)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?mP(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Xue(e){return e&&e.name.slice(-4)===".bin"?mH(e):fH(e)}function fc(e,t){for(var a=e.FullPaths||ln(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),n=r.replace(/\\/g,"/"),i=0;i<a.length;++i){var l=a[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==l||n==l)return e.files?e.files[a[i]]:e.FileIndex[i]}return null}function DA(e,t){var a=fc(e,t);if(a==null)throw new Error("Cannot find file "+t+" in zip");return a}function On(e,t,a){if(!a)return Xue(DA(e,t));if(!t)return null;try{return On(e,t)}catch{return null}}function Po(e,t,a){if(!a)return fH(DA(e,t));if(!t)return null;try{return Po(e,t)}catch{return null}}function Jue(e,t,a){return mH(DA(e,t))}function AP(e){for(var t=e.FullPaths||ln(e.files),a=[],r=0;r<t.length;++r)t[r].slice(-1)!="/"&&a.push(t[r].replace(/^Root Entry[\/]/,""));return a.sort()}function Za(e,t,a){if(e.FullPaths){if(typeof a=="string"){var r;return rs?r=vh(a):r=pue(a),Na.utils.cfb_add(e,t,r)}Na.utils.cfb_add(e,t,a)}else e.file(t,a)}function MA(){return Na.utils.cfb_new()}function pH(e,t){switch(t.type){case"base64":return Na.read(e,{type:"base64"});case"binary":return Na.read(e,{type:"binary"});case"buffer":case"array":return Na.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function ov(e,t){if(e.charAt(0)=="/")return e.slice(1);var a=t.split("/");t.slice(-1)!="/"&&a.pop();for(var r=e.split("/");r.length!==0;){var n=r.shift();n===".."?a.pop():n!=="."&&a.push(n)}return a.join("/")}var En=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Que=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,_P=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Zue=/<[^>]*>/g,xl=En.match(_P)?_P:Zue,ehe=/<\w*:/,the=/<(\/?)\w+:/;function Fa(e,t,a){for(var r={},n=0,i=0;n!==e.length&&!((i=e.charCodeAt(n))===32||i===10||i===13);++n);if(t||(r[0]=e.slice(0,n)),n===e.length)return r;var l=e.match(Que),o=0,c="",d=0,u="",f="",p=1;if(l)for(d=0;d!=l.length;++d){for(f=l[d],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(u=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(p=(n=f.charCodeAt(i+1))==34||n==39?1:0,c=f.slice(i+1+p,f.length-p),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),r[u]=c,r[u.toLowerCase()]=c;else{var m=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(r[m]&&u.slice(o-3,o)=="ext")continue;r[m]=c,r[m.toLowerCase()]=c}}return r}function ru(e){return e.replace(the,"<$1")}var xH={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},PA=Qj(xH),As=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function a(r){var n=r+"",i=n.indexOf("<![CDATA[");if(i==-1)return n.replace(e,function(o,c){return xH[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,c){return String.fromCharCode(parseInt(c,16))});var l=n.indexOf("]]>");return a(n.slice(0,i))+n.slice(i+9,l)+a(n.slice(l+3))}})(),LA=/[&<>'"]/g,ahe=/[\u0000-\u0008\u000b-\u001f]/g;function Ks(e){var t=e+"";return t.replace(LA,function(a){return PA[a]}).replace(ahe,function(a){return"_x"+("000"+a.charCodeAt(0).toString(16)).slice(-4)+"_"})}function TP(e){return Ks(e).replace(/ /g,"_x0020_")}var gH=/[\u0000-\u001f]/g;function OA(e){var t=e+"";return t.replace(LA,function(a){return PA[a]}).replace(/\n/g,"<br/>").replace(gH,function(a){return"&#x"+("000"+a.charCodeAt(0).toString(16)).slice(-4)+";"})}function she(e){var t=e+"";return t.replace(LA,function(a){return PA[a]}).replace(gH,function(a){return"&#x"+a.charCodeAt(0).toString(16).toUpperCase()+";"})}var EP=(function(){var e=/&#(\d+);/g;function t(a,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(e,t)}})();function rhe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function vr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function O5(e){for(var t="",a=0,r=0,n=0,i=0,l=0,o=0;a<e.length;){if(r=e.charCodeAt(a++),r<128){t+=String.fromCharCode(r);continue}if(n=e.charCodeAt(a++),r>191&&r<224){l=(r&31)<<6,l|=n&63,t+=String.fromCharCode(l);continue}if(i=e.charCodeAt(a++),r<240){t+=String.fromCharCode((r&15)<<12|(n&63)<<6|i&63);continue}l=e.charCodeAt(a++),o=((r&7)<<18|(n&63)<<12|(i&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function DP(e){var t=Df(2*e.length),a,r,n=1,i=0,l=0,o;for(r=0;r<e.length;r+=n)n=1,(o=e.charCodeAt(r))<128?a=o:o<224?(a=(o&31)*64+(e.charCodeAt(r+1)&63),n=2):o<240?(a=(o&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),n=3):(n=4,a=(o&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),a-=65536,l=55296+(a>>>10&1023),a=56320+(a&1023)),l!==0&&(t[i++]=l&255,t[i++]=l>>>8,l=0),t[i++]=a%256,t[i++]=a>>>8;return t.slice(0,i).toString("ucs2")}function MP(e){return vh(e,"binary").toString("utf8")}var Uy="foo bar baz",tr=rs&&(MP(Uy)==O5(Uy)&&MP||DP(Uy)==O5(Uy)&&DP)||O5,Kd=rs?function(e){return vh(e,"utf8").toString("binary")}:function(e){for(var t=[],a=0,r=0,n=0;a<e.length;)switch(r=e.charCodeAt(a++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,n=e.charCodeAt(a++)-56320+(r<<10),t.push(String.fromCharCode(240+(n>>18&7))),t.push(String.fromCharCode(144+(n>>12&63))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},e1=(function(){var e={};return function(a,r){var n=a+"|"+(r||"");return e[n]?e[n]:e[n]=new RegExp("<(?:\\w+:)?"+a+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+a+">",r||"")}})(),vH=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(a){for(var r=a.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<e.length;++n)r=r.replace(e[n][0],e[n][1]);return r}})(),nhe=(function(){var e={};return function(a){return e[a]!==void 0?e[a]:e[a]=new RegExp("<(?:vt:)?"+a+">([\\s\\S]*?)</(?:vt:)?"+a+">","g")}})(),ihe=/<\/?(?:vt:)?variant>/g,lhe=/<(?:vt:)([^>]*)>([\s\S]*)</;function PP(e,t){var a=Fa(e),r=e.match(nhe(a.baseType))||[],n=[];if(r.length!=a.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+a.size);return n}return r.forEach(function(i){var l=i.replace(ihe,"").match(lhe);l&&n.push({v:tr(l[2]),t:l[1]})}),n}var bH=/(^\s|\s$|\n)/;function zi(e,t){return"<"+e+(t.match(bH)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function t1(e){return ln(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Xt(e,t,a){return"<"+e+(a!=null?t1(a):"")+(t!=null?(t.match(bH)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function ZS(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(a){if(t)throw a}return""}function ohe(e,t){switch(typeof e){case"string":var a=Xt("vt:lpwstr",Ks(e));return a=a.replace(/&quot;/g,"_x0022_"),a;case"number":return Xt((e|0)==e?"vt:i4":"vt:r8",Ks(String(e)));case"boolean":return Xt("vt:bool",e?"true":"false")}if(e instanceof Date)return Xt("vt:filetime",ZS(e));throw new Error("Unable to serialize "+e)}function RA(e){if(rs&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return tr(Vf(_A(e)));throw new Error("Bad input format: expected Buffer or string")}var a1=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Qn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Mm=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],To={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function che(e,t){for(var a=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),n=e[t+6]&15,i=5;i>=0;--i)n=n*256+e[t+i];return r==2047?n==0?a*(1/0):NaN:(r==0?r=-1022:(r-=1023,n+=Math.pow(2,52)),a*Math.pow(2,r-52)*n)}function dhe(e,t,a){var r=(t<0||1/t==-1/0?1:0)<<7,n=0,i=0,l=r?-t:t;isFinite(l)?l==0?n=i=0:(n=Math.floor(Math.log(l)/Math.LN2),i=l*Math.pow(2,52-n),n<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?n=-1022:(i-=Math.pow(2,52),n+=1023)):(n=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[a+o]=i&255;e[a+6]=(n&15)<<4|i&15,e[a+7]=n>>4|r}var LP=function(e){for(var t=[],a=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var n=0,i=e[0][r].length;n<i;n+=a)t.push.apply(t,e[0][r].slice(n,n+a));return t},OP=rs?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:vh(t)})):LP(e)}:LP,RP=function(e,t,a){for(var r=[],n=t;n<a;n+=2)r.push(String.fromCharCode(qu(e,n)));return r.join("").replace(Ll,"")},FA=rs?function(e,t,a){return Buffer.isBuffer(e)?e.toString("utf16le",t,a).replace(Ll,""):RP(e,t,a)}:RP,FP=function(e,t,a){for(var r=[],n=t;n<t+a;++n)r.push(("0"+e[n].toString(16)).slice(-2));return r.join("")},yH=rs?function(e,t,a){return Buffer.isBuffer(e)?e.toString("hex",t,t+a):FP(e,t,a)}:FP,IP=function(e,t,a){for(var r=[],n=t;n<a;n++)r.push(String.fromCharCode(Rp(e,n)));return r.join("")},q1=rs?function(t,a,r){return Buffer.isBuffer(t)?t.toString("utf8",a,r):IP(t,a,r)}:IP,wH=function(e,t){var a=Eo(e,t);return a>0?q1(e,t+4,t+4+a-1):""},jH=wH,NH=function(e,t){var a=Eo(e,t);return a>0?q1(e,t+4,t+4+a-1):""},kH=NH,SH=function(e,t){var a=2*Eo(e,t);return a>0?q1(e,t+4,t+4+a-1):""},CH=SH,AH=function(t,a){var r=Eo(t,a);return r>0?FA(t,a+4,a+4+r):""},_H=AH,TH=function(e,t){var a=Eo(e,t);return a>0?q1(e,t+4,t+4+a):""},EH=TH,DH=function(e,t){return che(e,t)},xw=DH,IA=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};rs&&(jH=function(t,a){if(!Buffer.isBuffer(t))return wH(t,a);var r=t.readUInt32LE(a);return r>0?t.toString("utf8",a+4,a+4+r-1):""},kH=function(t,a){if(!Buffer.isBuffer(t))return NH(t,a);var r=t.readUInt32LE(a);return r>0?t.toString("utf8",a+4,a+4+r-1):""},CH=function(t,a){if(!Buffer.isBuffer(t))return SH(t,a);var r=2*t.readUInt32LE(a);return t.toString("utf16le",a+4,a+4+r-1)},_H=function(t,a){if(!Buffer.isBuffer(t))return AH(t,a);var r=t.readUInt32LE(a);return t.toString("utf16le",a+4,a+4+r)},EH=function(t,a){if(!Buffer.isBuffer(t))return TH(t,a);var r=t.readUInt32LE(a);return t.toString("utf8",a+4,a+4+r)},xw=function(t,a){return Buffer.isBuffer(t)?t.readDoubleLE(a):DH(t,a)},IA=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Rp=function(e,t){return e[t]},qu=function(e,t){return e[t+1]*256+e[t]},uhe=function(e,t){var a=e[t+1]*256+e[t];return a<32768?a:(65535-a+1)*-1},Eo=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},O0=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},hhe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function gv(e,t){var a="",r,n,i=[],l,o,c,d;switch(t){case"dbcs":if(d=this.l,rs&&Buffer.isBuffer(this))a=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)a+=String.fromCharCode(qu(this,d)),d+=2;e*=2;break;case"utf8":a=q1(this,this.l,this.l+e);break;case"utf16le":e*=2,a=FA(this,this.l,this.l+e);break;case"wstr":return gv.call(this,e,"dbcs");case"lpstr-ansi":a=jH(this,this.l),e=4+Eo(this,this.l);break;case"lpstr-cp":a=kH(this,this.l),e=4+Eo(this,this.l);break;case"lpwstr":a=CH(this,this.l),e=4+2*Eo(this,this.l);break;case"lpp4":e=4+Eo(this,this.l),a=_H(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Eo(this,this.l),a=EH(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,a="";(l=Rp(this,this.l+e++))!==0;)i.push($y(l));a=i.join("");break;case"_wstr":for(e=0,a="";(l=qu(this,this.l+e))!==0;)i.push($y(l)),e+=2;e+=2,a=i.join("");break;case"dbcs-cont":for(a="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return l=Rp(this,d),this.l=d+1,o=gv.call(this,e-c,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push($y(qu(this,d))),d+=2}a=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(a="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return l=Rp(this,d),this.l=d+1,o=gv.call(this,e-c,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push($y(Rp(this,d))),d+=1}a=i.join("");break;default:switch(e){case 1:return r=Rp(this,this.l),this.l++,r;case 2:return r=(t==="i"?uhe:qu)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(r=(e>0?O0:hhe)(this,this.l),this.l+=4,r):(n=Eo(this,this.l),this.l+=4,n);case 8:case-8:if(t==="f")return e==8?n=xw(this,this.l):n=xw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:a=yH(this,this.l,e);break}}return this.l+=e,a}var fhe=function(e,t,a){e[a]=t&255,e[a+1]=t>>>8&255,e[a+2]=t>>>16&255,e[a+3]=t>>>24&255},mhe=function(e,t,a){e[a]=t&255,e[a+1]=t>>8&255,e[a+2]=t>>16&255,e[a+3]=t>>24&255},phe=function(e,t,a){e[a]=t&255,e[a+1]=t>>>8&255};function xhe(e,t,a){var r=0,n=0;if(a==="dbcs"){for(n=0;n!=t.length;++n)phe(this,t.charCodeAt(n),this.l+2*n);r=2*t.length}else if(a==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=t.length;++n)this[this.l+n]=t.charCodeAt(n)&255;r=t.length}else if(a==="hex"){for(;n<e;++n)this[this.l++]=parseInt(t.slice(2*n,2*n+2),16)||0;return this}else if(a==="utf16le"){var i=Math.min(this.l+e,this.length);for(n=0;n<Math.min(t.length,e);++n){var l=t.charCodeAt(n);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,fhe(this,t,this.l);break;case 8:if(r=8,a==="f"){dhe(this,t,this.l);break}case 16:break;case-4:r=4,mhe(this,t,this.l);break}return this.l+=r,this}function MH(e,t){var a=yH(this,this.l,e.length>>1);if(a!==e)throw new Error(t+"Expected "+e+" saw "+a);this.l+=e.length>>1}function Ui(e,t){e.l=t,e.read_shift=gv,e.chk=MH,e.write_shift=xhe}function fl(e,t){e.l+=t}function Nt(e){var t=Df(e);return Ui(t,0),t}function bh(e,t,a){if(e){var r,n,i;Ui(e,e.l||0);for(var l=e.length,o=0,c=0;e.l<l;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var d=o1[o]||o1[65535];for(r=e.read_shift(1),i=r&127,n=1;n<4&&r&128;++n)i+=((r=e.read_shift(1))&127)<<7*n;c=e.l+i;var u=d.f&&d.f(e,i,a);if(e.l=c,t(u,d,o))return}}}function ro(){var e=[],t=rs?256:2048,a=function(d){var u=Nt(d);return Ui(u,0),u},r=a(t),n=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},i=function(d){return r&&d<r.length-r.l?r:(n(),r=a(Math.max(d+1,t)))},l=function(){return n(),yi(e)},o=function(d){n(),r=d,r.l==null&&(r.l=r.length),i(t)};return{next:i,push:o,end:l,_bufs:e}}function Ft(e,t,a,r){var n=+t,i;if(!isNaN(n)){r||(r=o1[n].p||(a||[]).length||0),i=1+(n>=128?1:0)+1,r>=128&&++i,r>=16384&&++i,r>=2097152&&++i;var l=e.next(i);n<=127?l.write_shift(1,n):(l.write_shift(1,(n&127)+128),l.write_shift(1,n>>7));for(var o=0;o!=4;++o)if(r>=128)l.write_shift(1,(r&127)+128),r>>=7;else{l.write_shift(1,r);break}r>0&&IA(a)&&e.push(a)}}function vv(e,t,a){var r=jr(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!a||a.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function BP(e,t,a){var r=jr(e);return r.s=vv(r.s,t.s,a),r.e=vv(r.e,t.s,a),r}function bv(e,t){if(e.cRel&&e.c<0)for(e=jr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=jr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var a=Ma(e);return!e.cRel&&e.cRel!=null&&(a=bhe(a)),!e.rRel&&e.rRel!=null&&(a=ghe(a)),a}function R5(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Kr(e.s.c)+":"+(e.e.cRel?"":"$")+Kr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Cn(e.s.r)+":"+(e.e.rRel?"":"$")+Cn(e.e.r):bv(e.s,t.biff)+":"+bv(e.e,t.biff)}function BA(e){return parseInt(vhe(e),10)-1}function Cn(e){return""+(e+1)}function ghe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function vhe(e){return e.replace(/\$(\d+)$/,"$1")}function $A(e){for(var t=yhe(e),a=0,r=0;r!==t.length;++r)a=26*a+t.charCodeAt(r)-64;return a-1}function Kr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function bhe(e){return e.replace(/^([A-Z])/,"$$$1")}function yhe(e){return e.replace(/^\$([A-Z])/,"$1")}function whe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Yr(e){for(var t=0,a=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=48&&n<=57?t=10*t+(n-48):n>=65&&n<=90&&(a=26*a+(n-64))}return{c:a-1,r:t-1}}function Ma(e){for(var t=e.c+1,a="";t;t=(t-1)/26|0)a=String.fromCharCode((t-1)%26+65)+a;return a+(e.r+1)}function no(e){var t=e.indexOf(":");return t==-1?{s:Yr(e),e:Yr(e)}:{s:Yr(e.slice(0,t)),e:Yr(e.slice(t+1))}}function Ja(e,t){return typeof t>"u"||typeof t=="number"?Ja(e.s,e.e):(typeof e!="string"&&(e=Ma(e)),typeof t!="string"&&(t=Ma(t)),e==t?e:e+":"+t)}function _s(e){var t={s:{c:0,r:0},e:{c:0,r:0}},a=0,r=0,n=0,i=e.length;for(a=0;r<i&&!((n=e.charCodeAt(r)-64)<1||n>26);++r)a=26*a+n;for(t.s.c=--a,a=0;r<i&&!((n=e.charCodeAt(r)-48)<0||n>9);++r)a=10*a+n;if(t.s.r=--a,r===i||n!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,a=0;r!=i&&!((n=e.charCodeAt(r)-64)<1||n>26);++r)a=26*a+n;for(t.e.c=--a,a=0;r!=i&&!((n=e.charCodeAt(r)-48)<0||n>9);++r)a=10*a+n;return t.e.r=--a,t}function $P(e,t){var a=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=yc(e.z,a?ti(t):t)}catch{}try{return e.w=yc((e.XF||{}).numFmtId||(a?14:0),a?ti(t):t)}catch{return""+t}}function lh(e,t,a){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&a&&a.dateNF&&(e.z=a.dateNF),e.t=="e"?yh[e.v]||e.v:t==null?$P(e,e.v):$P(e,t))}function Wf(e,t){var a=t&&t.sheet?t.sheet:"Sheet1",r={};return r[a]=e,{SheetNames:[a],Sheets:r}}function PH(e,t,a){var r=a||{},n=e?Array.isArray(e):r.dense,i=e||(n?[]:{}),l=0,o=0;if(i&&r.origin!=null){if(typeof r.origin=="number")l=r.origin;else{var c=typeof r.origin=="string"?Yr(r.origin):r.origin;l=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=_s(i["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),l==-1&&(d.e.r=l=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=t[f].length;++p)if(!(typeof t[f][p]>"u")){var m={v:t[f][p]},v=l+f,g=o+p;if(d.s.r>v&&(d.s.r=v),d.s.c>g&&(d.s.c=g),d.e.r<v&&(d.e.r=v),d.e.c<g&&(d.e.c=g),t[f][p]&&typeof t[f][p]=="object"&&!Array.isArray(t[f][p])&&!(t[f][p]instanceof Date))m=t[f][p];else if(Array.isArray(m.v)&&(m.f=t[f][p][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(r.nullError)m.t="e",m.v=0;else if(r.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=r.dateNF||Da[14],r.cellDates?(m.t="d",m.w=yc(m.z,ti(m.v))):(m.t="n",m.v=ti(m.v),m.w=yc(m.z,m.v))):m.t="s";if(n)i[v]||(i[v]=[]),i[v][g]&&i[v][g].z&&(m.z=i[v][g].z),i[v][g]=m;else{var b=Ma({c:g,r:v});i[b]&&i[b].z&&(m.z=i[b].z),i[b]=m}}}return d.s.c<1e7&&(i["!ref"]=Ja(d)),i}function _x(e,t){return PH(null,e,t)}function jhe(e){return e.read_shift(4,"i")}function ld(e,t){return t||(t=Nt(4)),t.write_shift(4,e),t}function ul(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function ji(e,t){var a=!1;return t==null&&(a=!0,t=Nt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),a?t.slice(0,t.l):t}function Nhe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function khe(e,t){return t||(t=Nt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function UA(e,t){var a=e.l,r=e.read_shift(1),n=ul(e),i=[],l={t:n,h:n};if((r&1)!==0){for(var o=e.read_shift(4),c=0;c!=o;++c)i.push(Nhe(e));l.r=i}else l.r=[{ich:0,ifnt:0}];return e.l=a+t,l}function She(e,t){var a=!1;return t==null&&(a=!0,t=Nt(15+4*e.t.length)),t.write_shift(1,0),ji(e.t,t),a?t.slice(0,t.l):t}var Che=UA;function Ahe(e,t){var a=!1;return t==null&&(a=!0,t=Nt(23+4*e.t.length)),t.write_shift(1,1),ji(e.t,t),t.write_shift(4,1),khe({},t),a?t.slice(0,t.l):t}function Cc(e){var t=e.read_shift(4),a=e.read_shift(2);return a+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:a}}function Pm(e,t){return t==null&&(t=Nt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Lm(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Om(e,t){return t==null&&(t=Nt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var _he=ul,LH=ji;function zA(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function gw(e,t){var a=!1;return t==null&&(a=!0,t=Nt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),a?t.slice(0,t.l):t}var The=ul,eC=zA,HA=gw;function VA(e){var t=e.slice(e.l,e.l+4),a=t[0]&1,r=t[0]&2;e.l+=4;var n=r===0?xw([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):O0(t,0)>>2;return a?n/100:n}function OH(e,t){t==null&&(t=Nt(4));var a=0,r=0,n=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?r=1:n==(n|0)&&n>=-536870912&&n<1<<29&&(r=1,a=1),r)t.write_shift(-4,((a?n:e)<<2)+(a+2));else throw new Error("unsupported RkNumber "+e)}function RH(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Ehe(e,t){return t||(t=Nt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Rm=RH,Tx=Ehe;function ol(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function fm(e,t){return(t||Nt(8)).write_shift(8,e,"f")}function Dhe(e){var t={},a=e.read_shift(1),r=a>>>1,n=e.read_shift(1),i=e.read_shift(2,"i"),l=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=n;var d=K0[n];d&&(t.rgb=r1(d));break;case 2:t.rgb=r1([l,o,c]);break;case 3:t.theme=n;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function vw(e,t){if(t||(t=Nt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var a=e.tint||0;if(a>0?a*=32767:a<0&&(a*=32768),t.write_shift(2,a),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var r=e.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}return t}function Mhe(e){var t=e.read_shift(1);e.l++;var a={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return a}function Phe(e,t){t||(t=Nt(2));var a=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,a),t.write_shift(1,0),t}function FH(e,t){var a={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return a[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Lhe(e){return FH(e,1)}function Ohe(e){return FH(e,2)}var WA=2,Xl=3,zy=11,UP=12,bw=19,Hy=64,Rhe=65,Fhe=71,Ihe=4108,Bhe=4126,gi=80,IH=81,$he=[gi,IH],tC={1:{n:"CodePage",t:WA},2:{n:"Category",t:gi},3:{n:"PresentationFormat",t:gi},4:{n:"ByteCount",t:Xl},5:{n:"LineCount",t:Xl},6:{n:"ParagraphCount",t:Xl},7:{n:"SlideCount",t:Xl},8:{n:"NoteCount",t:Xl},9:{n:"HiddenCount",t:Xl},10:{n:"MultimediaClipCount",t:Xl},11:{n:"ScaleCrop",t:zy},12:{n:"HeadingPairs",t:Ihe},13:{n:"TitlesOfParts",t:Bhe},14:{n:"Manager",t:gi},15:{n:"Company",t:gi},16:{n:"LinksUpToDate",t:zy},17:{n:"CharacterCount",t:Xl},19:{n:"SharedDoc",t:zy},22:{n:"HyperlinksChanged",t:zy},23:{n:"AppVersion",t:Xl,p:"version"},24:{n:"DigSig",t:Rhe},26:{n:"ContentType",t:gi},27:{n:"ContentStatus",t:gi},28:{n:"Language",t:gi},29:{n:"Version",t:gi},255:{},2147483648:{n:"Locale",t:bw},2147483651:{n:"Behavior",t:bw},1919054434:{}},aC={1:{n:"CodePage",t:WA},2:{n:"Title",t:gi},3:{n:"Subject",t:gi},4:{n:"Author",t:gi},5:{n:"Keywords",t:gi},6:{n:"Comments",t:gi},7:{n:"Template",t:gi},8:{n:"LastAuthor",t:gi},9:{n:"RevNumber",t:gi},10:{n:"EditTime",t:Hy},11:{n:"LastPrinted",t:Hy},12:{n:"CreatedDate",t:Hy},13:{n:"ModifiedDate",t:Hy},14:{n:"PageCount",t:Xl},15:{n:"WordCount",t:Xl},16:{n:"CharCount",t:Xl},17:{n:"Thumbnail",t:Fhe},18:{n:"Application",t:gi},19:{n:"DocSecurity",t:Xl},255:{},2147483648:{n:"Locale",t:bw},2147483651:{n:"Behavior",t:bw},1919054434:{}},zP={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Uhe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function zhe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Hhe=zhe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),K0=jr(Hhe),yh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},BH={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},sC={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Vy={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function qA(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Vhe(e){var t=qA();if(!e||!e.match)return t;var a={};if((e.match(xl)||[]).forEach(function(r){var n=Fa(r);switch(n[0].replace(ehe,"<")){case"<?xml":break;case"<Types":t.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":a[n.Extension]=n.ContentType;break;case"<Override":t[sC[n.ContentType]]!==void 0&&t[sC[n.ContentType]].push(n.PartName);break}}),t.xmlns!==Qn.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=a,delete t.calcchains,t}function $H(e,t){var a=Vue(sC),r=[],n;r[r.length]=En,r[r.length]=Xt("Types",null,{xmlns:Qn.CT,"xmlns:xsd":Qn.xsd,"xmlns:xsi":Qn.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Xt("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(n=e[c][0],r[r.length]=Xt("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:Vy[c][t.bookType]||Vy[c].xlsx}))},l=function(c){(e[c]||[]).forEach(function(d){r[r.length]=Xt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:Vy[c][t.bookType]||Vy[c].xlsx})})},o=function(c){(e[c]||[]).forEach(function(d){r[r.length]=Xt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:a[c][0]})})};return i("workbooks"),l("sheets"),l("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),l("metadata"),o("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var ls={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function s1(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function yv(e,t){var a={"!id":{}};if(!e)return a;t.charAt(0)!=="/"&&(t="/"+t);var r={};return(e.match(xl)||[]).forEach(function(n){var i=Fa(n);if(i[0]==="<Relationship"){var l={};l.Type=i.Type,l.Target=i.Target,l.Id=i.Id,i.TargetMode&&(l.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:ov(i.Target,t);a[o]=l,r[i.Id]=l}}),a["!id"]=r,a}function Kp(e){var t=[En,Xt("Relationships",null,{xmlns:Qn.RELS})];return ln(e["!id"]).forEach(function(a){t[t.length]=Xt("Relationship",null,e["!id"][a])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Vs(e,t,a,r,n,i){if(n||(n={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,n.Id="rId"+t,n.Type=r,n.Target=a,[ls.HLINK,ls.XPATH,ls.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),e["!id"][n.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][n.Id]=n,e[("/"+n.Target).replace("//","/")]=n,t}var Whe="application/vnd.oasis.opendocument.spreadsheet";function qhe(e,t){for(var a=RA(e),r,n;r=a1.exec(a);)switch(r[3]){case"manifest":break;case"file-entry":if(n=Fa(r[0],!1),n.path=="/"&&n.type!==Whe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}function Ghe(e){var t=[En];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var a=0;a<e.length;++a)t.push('  <manifest:file-entry manifest:full-path="'+e[a][0]+'" manifest:media-type="'+e[a][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function HP(e,t,a){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(a||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Khe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function Yhe(e){var t=[En];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var a=0;a!=e.length;++a)t.push(HP(e[a][0],e[a][1])),t.push(Khe("",e[a][0]));return t.push(HP("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function UH(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+uw.version+"</meta:generator></office:meta></office:document-meta>"}var vc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Xhe=(function(){for(var e=new Array(vc.length),t=0;t<vc.length;++t){var a=vc[t],r="(?:"+a[0].slice(0,a[0].indexOf(":"))+":)"+a[0].slice(a[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return e})();function zH(e){var t={};e=tr(e);for(var a=0;a<vc.length;++a){var r=vc[a],n=e.match(Xhe[a]);n!=null&&n.length>0&&(t[r[1]]=As(n[1])),r[2]==="date"&&t[r[1]]&&(t[r[1]]=wr(t[r[1]]))}return t}function F5(e,t,a,r,n){n[e]!=null||t==null||t===""||(n[e]=t,t=Ks(t),r[r.length]=a?Xt(e,t,a):zi(e,t))}function HH(e,t){var a=t||{},r=[En,Xt("cp:coreProperties",null,{"xmlns:cp":Qn.CORE_PROPS,"xmlns:dc":Qn.dc,"xmlns:dcterms":Qn.dcterms,"xmlns:dcmitype":Qn.dcmitype,"xmlns:xsi":Qn.xsi})],n={};if(!e&&!a.Props)return r.join("");e&&(e.CreatedDate!=null&&F5("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:ZS(e.CreatedDate,a.WTF),{"xsi:type":"dcterms:W3CDTF"},r,n),e.ModifiedDate!=null&&F5("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:ZS(e.ModifiedDate,a.WTF),{"xsi:type":"dcterms:W3CDTF"},r,n));for(var i=0;i!=vc.length;++i){var l=vc[i],o=a.Props&&a.Props[l[1]]!=null?a.Props[l[1]]:e?e[l[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&F5(l[0],o,null,r,n)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Y0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],VH=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function WH(e,t,a,r){var n=[];if(typeof e=="string")n=PP(e,r);else for(var i=0;i<e.length;++i)n=n.concat(e[i].map(function(u){return{v:u}}));var l=typeof t=="string"?PP(t,r).map(function(u){return u.v}):t,o=0,c=0;if(l.length>0)for(var d=0;d!==n.length;d+=2){switch(c=+n[d+1].v,n[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":a.Worksheets=c,a.SheetNames=l.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":a.NamedRanges=c,a.DefinedNames=l.slice(o,o+c);break;case"Charts":case"Diagramme":a.Chartsheets=c,a.ChartNames=l.slice(o,o+c);break}o+=c}}function Jhe(e,t,a){var r={};return t||(t={}),e=tr(e),Y0.forEach(function(n){var i=(e.match(e1(n[0]))||[])[1];switch(n[2]){case"string":i&&(t[n[1]]=As(i));break;case"bool":t[n[1]]=i==="true";break;case"raw":var l=e.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));l&&l.length>0&&(r[n[1]]=l[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&WH(r.HeadingPairs,r.TitlesOfParts,t,a),t}function qH(e){var t=[],a=Xt;return e||(e={}),e.Application="SheetJS",t[t.length]=En,t[t.length]=Xt("Properties",null,{xmlns:Qn.EXT_PROPS,"xmlns:vt":Qn.vt}),Y0.forEach(function(r){if(e[r[1]]!==void 0){var n;switch(r[2]){case"string":n=Ks(String(e[r[1]]));break;case"bool":n=e[r[1]]?"true":"false";break}n!==void 0&&(t[t.length]=a(r[0],n))}}),t[t.length]=a("HeadingPairs",a("vt:vector",a("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+a("vt:variant",a("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=a("TitlesOfParts",a("vt:vector",e.SheetNames.map(function(r){return"<vt:lpstr>"+Ks(r)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Qhe=/<[^>]+>[^<]*/g;function Zhe(e,t){var a={},r="",n=e.match(Qhe);if(n)for(var i=0;i!=n.length;++i){var l=n[i],o=Fa(l);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=As(o.name);break;case"</property>":r=null;break;default:if(l.indexOf("<vt:")===0){var c=l.split(">"),d=c[0].slice(4),u=c[1];switch(d){case"lpstr":case"bstr":case"lpwstr":a[r]=As(u);break;case"bool":a[r]=vr(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":a[r]=parseInt(u,10);break;case"r4":case"r8":case"decimal":a[r]=parseFloat(u);break;case"filetime":case"date":a[r]=wr(u);break;case"cy":case"error":a[r]=As(u);break;default:if(d.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",l,d,c)}}else if(l.slice(0,2)!=="</"){if(t.WTF)throw new Error(l)}}}return a}function GH(e){var t=[En,Xt("Properties",null,{xmlns:Qn.CUST_PROPS,"xmlns:vt":Qn.vt})];if(!e)return t.join("");var a=1;return ln(e).forEach(function(n){++a,t[t.length]=Xt("property",ohe(e[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:a,name:Ks(n)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var rC={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},I5;function efe(e,t,a){I5||(I5=Qj(rC)),t=I5[t]||t,e[t]=a}function tfe(e,t){var a=[];return ln(rC).map(function(r){for(var n=0;n<vc.length;++n)if(vc[n][1]==r)return vc[n];for(n=0;n<Y0.length;++n)if(Y0[n][1]==r)return Y0[n];throw r}).forEach(function(r){if(e[r[1]]!=null){var n=t&&t.Props&&t.Props[r[1]]!=null?t.Props[r[1]]:e[r[1]];switch(r[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break}typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),a.push(zi(rC[r[1]]||r[1],n))}}),Xt("DocumentProperties",a.join(""),{xmlns:To.o})}function afe(e,t){var a=["Worksheets","SheetNames"],r="CustomDocumentProperties",n=[];return e&&ln(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var l=0;l<vc.length;++l)if(i==vc[l][1])return;for(l=0;l<Y0.length;++l)if(i==Y0[l][1])return;for(l=0;l<a.length;++l)if(i==a[l])return;var o=e[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),n.push(Xt(TP(i),o,{"dt:dt":c}))}}),t&&ln(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var l=t[i],o="string";typeof l=="number"?(o="float",l=String(l)):l===!0||l===!1?(o="boolean",l=l?"1":"0"):l instanceof Date?(o="dateTime.tz",l=l.toISOString()):l=String(l),n.push(Xt(TP(i),l,{"dt:dt":o}))}}),"<"+r+' xmlns="'+To.o+'">'+n.join("")+"</"+r+">"}function GA(e){var t=e.read_shift(4),a=e.read_shift(4);return new Date((a/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function sfe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,a=t.getTime()/1e3+11644473600,r=a%Math.pow(2,32),n=(a-r)/Math.pow(2,32);r*=1e7,n*=1e7;var i=r/Math.pow(2,32)|0;i>0&&(r=r%Math.pow(2,32),n+=i);var l=Nt(8);return l.write_shift(4,r),l.write_shift(4,n),l}function KH(e,t,a){var r=e.l,n=e.read_shift(0,"lpstr-cp");if(a)for(;e.l-r&3;)++e.l;return n}function YH(e,t,a){var r=e.read_shift(0,"lpwstr");return r}function XH(e,t,a){return t===31?YH(e):KH(e,t,a)}function nC(e,t,a){return XH(e,t,a===!1?0:4)}function rfe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return XH(e,t,0)}function nfe(e){for(var t=e.read_shift(4),a=[],r=0;r!=t;++r){var n=e.l;a[r]=e.read_shift(0,"lpwstr").replace(Ll,""),e.l-n&2&&(e.l+=2)}return a}function ife(e){for(var t=e.read_shift(4),a=[],r=0;r!=t;++r)a[r]=e.read_shift(0,"lpstr-cp").replace(Ll,"");return a}function lfe(e){var t=e.l,a=yw(e,IH);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var r=yw(e,Xl);return[a,r]}function ofe(e){for(var t=e.read_shift(4),a=[],r=0;r<t/2;++r)a.push(lfe(e));return a}function VP(e,t){for(var a=e.read_shift(4),r={},n=0;n!=a;++n){var i=e.read_shift(4),l=e.read_shift(4);r[i]=e.read_shift(l,t===1200?"utf16le":"utf8").replace(Ll,"").replace(lv,"!"),t===1200&&l%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),r}function JH(e){var t=e.read_shift(4),a=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),a}function cfe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function yw(e,t,a){var r=e.read_shift(2),n,i=a||{};if(e.l+=2,t!==UP&&r!==t&&$he.indexOf(t)===-1&&!((t&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+t+" saw "+r);switch(t===UP?r:t){case 2:return n=e.read_shift(2,"i"),i.raw||(e.l+=2),n;case 3:return n=e.read_shift(4,"i"),n;case 11:return e.read_shift(4)!==0;case 19:return n=e.read_shift(4),n;case 30:return KH(e,r,4).replace(Ll,"");case 31:return YH(e);case 64:return GA(e);case 65:return JH(e);case 71:return cfe(e);case 80:return nC(e,r,!i.raw).replace(Ll,"");case 81:return rfe(e,r).replace(Ll,"");case 4108:return ofe(e);case 4126:case 4127:return r==4127?nfe(e):ife(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}}function WP(e,t){var a=Nt(4),r=Nt(4);switch(a.write_shift(4,e==80?31:e),e){case 3:r.write_shift(-4,t);break;case 5:r=Nt(8),r.write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=sfe(t);break;case 31:case 80:for(r=Nt(4+2*(t.length+1)+(t.length%2?0:2)),r.write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return yi([a,r])}function qP(e,t){var a=e.l,r=e.read_shift(4),n=e.read_shift(4),i=[],l=0,o=0,c=-1,d={};for(l=0;l!=n;++l){var u=e.read_shift(4),f=e.read_shift(4);i[l]=[u,f+a]}i.sort(function(N,k){return N[1]-k[1]});var p={};for(l=0;l!=n;++l){if(e.l!==i[l][1]){var m=!0;if(l>0&&t)switch(t[i[l-1][0]].t){case 2:e.l+2===i[l][1]&&(e.l+=2,m=!1);break;case 80:e.l<=i[l][1]&&(e.l=i[l][1],m=!1);break;case 4108:e.l<=i[l][1]&&(e.l=i[l][1],m=!1);break}if((!t||l==0)&&e.l<=i[l][1]&&(m=!1,e.l=i[l][1]),m)throw new Error("Read Error: Expected address "+i[l][1]+" at "+e.l+" :"+l)}if(t){var v=t[i[l][0]];if(p[v.n]=yw(e,v.t,{raw:!0}),v.p==="version"&&(p[v.n]=String(p[v.n]>>16)+"."+("0000"+String(p[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(p[v.n]){case 0:p[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:rd(o=p[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[v.n])}}else if(i[l][0]===1){if(o=p.CodePage=yw(e,WA),rd(o),c!==-1){var g=e.l;e.l=i[c][1],d=VP(e,o),e.l=g}}else if(i[l][0]===0){if(o===0){c=l,e.l=i[l+1][1];continue}d=VP(e,o)}else{var b=d[i[l][0]],j;switch(e[e.l]){case 65:e.l+=4,j=JH(e);break;case 30:e.l+=4,j=nC(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,j=nC(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,j=e.read_shift(4,"i");break;case 19:e.l+=4,j=e.read_shift(4);break;case 5:e.l+=4,j=e.read_shift(8,"f");break;case 11:e.l+=4,j=bn(e,4);break;case 64:e.l+=4,j=wr(GA(e));break;default:throw new Error("unparsed value: "+e[e.l])}p[b]=j}}return e.l=a+r,p}var QH=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function dfe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function GP(e,t,a){var r=Nt(8),n=[],i=[],l=8,o=0,c=Nt(8),d=Nt(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),n.push(d),l+=8+c.length,!t){d=Nt(8),d.write_shift(4,0),n.unshift(d);var u=[Nt(4)];for(u[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(c=Nt(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=yi(u),i.unshift(c),l+=8+c.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(QH.indexOf(e[o][0])>-1||VH.indexOf(e[o][0])>-1)&&e[o][1]!=null){var p=e[o][1],m=0;if(t){m=+t[e[o][0]];var v=a[m];if(v.p=="version"&&typeof p=="string"){var g=p.split(".");p=(+g[0]<<16)+(+g[1]||0)}c=WP(v.t,p)}else{var b=dfe(p);b==-1&&(b=31,p=String(p)),c=WP(b,p)}i.push(c),d=Nt(8),d.write_shift(4,t?m:2+o),n.push(d),l+=8+c.length}var j=8*(i.length+1);for(o=0;o<i.length;++o)n[o].write_shift(4,j),j+=i[o].length;return r.write_shift(4,l),r.write_shift(4,i.length),yi([r].concat(n).concat(i))}function KP(e,t,a){var r=e.content;if(!r)return{};Ui(r,0);var n,i,l,o,c=0;r.chk("feff","Byte Order: "),r.read_shift(2);var d=r.read_shift(4),u=r.read_shift(16);if(u!==Na.utils.consts.HEADER_CLSID&&u!==a)throw new Error("Bad PropertySet CLSID "+u);if(n=r.read_shift(4),n!==1&&n!==2)throw new Error("Unrecognized #Sets: "+n);if(i=r.read_shift(16),o=r.read_shift(4),n===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);n===2&&(l=r.read_shift(16),c=r.read_shift(4));var f=qP(r,t),p={SystemIdentifier:d};for(var m in f)p[m]=f[m];if(p.FMTID=i,n===1)return p;if(c-r.l==2&&(r.l+=2),r.l!==c)throw new Error("Length mismatch 2: "+r.l+" !== "+c);var v;try{v=qP(r,null)}catch{}for(m in v)p[m]=v[m];return p.FMTID=[i,l],p}function YP(e,t,a,r,n,i){var l=Nt(n?68:48),o=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,Na.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,n?2:1),l.write_shift(16,t,"hex"),l.write_shift(4,n?68:48);var c=GP(e,a,r);if(o.push(c),n){var d=GP(n,null,null);l.write_shift(16,i,"hex"),l.write_shift(4,68+c.length),o.push(d)}return yi(o)}function df(e,t){return e.read_shift(t),null}function ufe(e,t){t||(t=Nt(e));for(var a=0;a<e;++a)t.write_shift(1,0);return t}function hfe(e,t,a){for(var r=[],n=e.l+t;e.l<n;)r.push(a(e,n-e.l));if(n!==e.l)throw new Error("Slurp error");return r}function bn(e,t){return e.read_shift(t)===1}function _l(e,t){return t||(t=Nt(2)),t.write_shift(2,+!!e),t}function Rn(e){return e.read_shift(2,"u")}function mc(e,t){return t||(t=Nt(2)),t.write_shift(2,e),t}function ZH(e,t){return hfe(e,t,Rn)}function ffe(e){var t=e.read_shift(1),a=e.read_shift(1);return a===1?t:t===1}function eV(e,t,a){return a||(a=Nt(2)),a.write_shift(1,t=="e"?+e:+!!e),a.write_shift(1,t=="e"?1:0),a}function G1(e,t,a){var r=e.read_shift(a&&a.biff>=12?2:1),n="sbcs-cont";if(a&&a.biff>=8,!a||a.biff==8){var i=e.read_shift(1);i&&(n="dbcs-cont")}else a.biff==12&&(n="wstr");a.biff>=2&&a.biff<=5&&(n="cpstr");var l=r?e.read_shift(r,n):"";return l}function mfe(e){var t=e.read_shift(2),a=e.read_shift(1),r=a&4,n=a&8,i=1+(a&1),l=0,o,c={};n&&(l=e.read_shift(2)),r&&(o=e.read_shift(4));var d=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,d);return n&&(e.l+=4*l),r&&(e.l+=o),c.t=u,n||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function pfe(e){var t=e.t||"",a=Nt(3);a.write_shift(2,t.length),a.write_shift(1,1);var r=Nt(2*t.length);r.write_shift(2*t.length,t,"utf16le");var n=[a,r];return yi(n)}function mm(e,t,a){var r;if(a){if(a.biff>=2&&a.biff<=5)return e.read_shift(t,"cpstr");if(a.biff>=12)return e.read_shift(t,"dbcs-cont")}var n=e.read_shift(1);return n===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function K1(e,t,a){var r=e.read_shift(a&&a.biff==2?1:2);return r===0?(e.l++,""):mm(e,r,a)}function Fm(e,t,a){if(a.biff>5)return K1(e,t,a);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,a.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function tV(e,t,a){return a||(a=Nt(3+2*e.length)),a.write_shift(2,e.length),a.write_shift(1,1),a.write_shift(31,e,"utf16le"),a}function xfe(e){var t=e.read_shift(1);e.l++;var a=e.read_shift(2);return e.l+=2,[t,a]}function gfe(e){var t=e.read_shift(4),a=e.l,r=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),e.l=a);var n=e.read_shift((r?t-24:t)>>1,"utf16le").replace(Ll,"");return r&&(e.l+=24),n}function vfe(e){for(var t=e.read_shift(2),a="";t-- >0;)a+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var n=e.read_shift(4);if(n===0)return a+r.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var l=e.read_shift(i>>1,"utf16le").replace(Ll,"");return a+l}function bfe(e,t){var a=e.read_shift(16);switch(a){case"e0c9ea79f9bace118c8200aa004ba90b":return gfe(e);case"0303000000000000c000000000000046":return vfe(e);default:throw new Error("Unsupported Moniker "+a)}}function Wy(e){var t=e.read_shift(4),a=t>0?e.read_shift(t,"utf16le").replace(Ll,""):"";return a}function XP(e,t){t||(t=Nt(6+e.length*2)),t.write_shift(4,1+e.length);for(var a=0;a<e.length;++a)t.write_shift(2,e.charCodeAt(a));return t.write_shift(2,0),t}function yfe(e,t){var a=e.l+t,r=e.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var n=e.read_shift(2);e.l+=2;var i,l,o,c,d="",u,f;n&16&&(i=Wy(e,a-e.l)),n&128&&(l=Wy(e,a-e.l)),(n&257)===257&&(o=Wy(e,a-e.l)),(n&257)===1&&(c=bfe(e,a-e.l)),n&8&&(d=Wy(e,a-e.l)),n&32&&(u=e.read_shift(16)),n&64&&(f=GA(e)),e.l=a;var p=l||o||c||"";p&&d&&(p+="#"+d),p||(p="#"+d),n&2&&p.charAt(0)=="/"&&p.charAt(1)!="/"&&(p="file://"+p);var m={Target:p};return u&&(m.guid=u),f&&(m.time=f),i&&(m.Tooltip=i),m}function wfe(e){var t=Nt(512),a=0,r=e.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var n=r.indexOf("#"),i=n>-1?31:23;switch(r.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var l=[8,6815827,6619237,4849780,83];for(a=0;a<l.length;++a)t.write_shift(4,l[a]);if(i==28)r=r.slice(1),XP(r,t);else if(i&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<l.length;++a)t.write_shift(1,parseInt(l[a],16));var o=n>-1?r.slice(0,n):r;for(t.write_shift(4,2*(o.length+1)),a=0;a<o.length;++a)t.write_shift(2,o.charCodeAt(a));t.write_shift(2,0),i&8&&XP(n>-1?r.slice(n+1):"",t)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),a=0;a<l.length;++a)t.write_shift(1,parseInt(l[a],16));for(var c=0;r.slice(c*3,c*3+3)=="../"||r.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,r.length-3*c+1),a=0;a<r.length-3*c;++a)t.write_shift(1,r.charCodeAt(a+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),a=0;a<6;++a)t.write_shift(4,0)}return t.slice(0,t.l)}function aV(e){var t=e.read_shift(1),a=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1);return[t,a,r,n]}function sV(e,t){var a=aV(e);return a[3]=0,a}function nu(e){var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(2);return{r:t,c:a,ixfe:r}}function pm(e,t,a,r){return r||(r=Nt(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,a||0),r}function jfe(e){var t=e.read_shift(2),a=e.read_shift(2);return e.l+=8,{type:t,flags:a}}function Nfe(e,t,a){return t===0?"":Fm(e,t,a)}function kfe(e,t,a){var r=a.biff>8?4:2,n=e.read_shift(r),i=e.read_shift(r,"i"),l=e.read_shift(r,"i");return[n,i,l]}function rV(e){var t=e.read_shift(2),a=VA(e);return[t,a]}function Sfe(e,t,a){e.l+=4,t-=4;var r=e.l+t,n=G1(e,t,a),i=e.read_shift(2);if(r-=e.l,i!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+i);return e.l+=i,n}function tN(e){var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{s:{c:r,r:t},e:{c:n,r:a}}}function nV(e,t){return t||(t=Nt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function iV(e){var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(1),n=e.read_shift(1);return{s:{c:r,r:t},e:{c:n,r:a}}}var Cfe=iV;function lV(e){e.l+=4;var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[a,t,r]}function Afe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function _fe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Yi(e){e.l+=2,e.l+=e.read_shift(2)}var Tfe={0:Yi,4:Yi,5:Yi,6:Yi,7:_fe,8:Yi,9:Yi,10:Yi,11:Yi,12:Yi,13:Afe,14:Yi,15:Yi,16:Yi,17:Yi,18:Yi,19:Yi,20:Yi,21:lV};function Efe(e,t){for(var a=e.l+t,r=[];e.l<a;){var n=e.read_shift(2);e.l-=2;try{r.push(Tfe[n](e,a-e.l))}catch{return e.l=a,r}}return e.l!=a&&(e.l=a),r}function qy(e,t){var a={BIFFVer:0,dt:0};switch(a.BIFFVer=e.read_shift(2),t-=2,t>=2&&(a.dt=e.read_shift(2),e.l-=2),a.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+a.BIFFVer)}return e.read_shift(t),a}function KA(e,t,a){var r=1536,n=16;switch(a.bookType){case"biff8":break;case"biff5":r=1280,n=8;break;case"biff4":r=4,n=6;break;case"biff3":r=3,n=6;break;case"biff2":r=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Nt(n);return i.write_shift(2,r),i.write_shift(2,t),n>4&&i.write_shift(2,29282),n>6&&i.write_shift(2,1997),n>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Dfe(e,t){return t===0||e.read_shift(2),1200}function Mfe(e,t,a){if(a.enc)return e.l+=t,"";var r=e.l,n=Fm(e,0,a);return e.read_shift(t+r-e.l),n}function Pfe(e,t){var a=!t||t.biff==8,r=Nt(a?112:54);for(r.write_shift(t.biff==8?2:1,7),a&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(a?0:536870912));r.l<r.length;)r.write_shift(1,a?0:32);return r}function Lfe(e,t,a){var r=a&&a.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function Ofe(e,t,a){var r=e.read_shift(4),n=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var l=G1(e,0,a);return l.length===0&&(l="Sheet1"),{pos:r,hs:n,dt:i,name:l}}function Rfe(e,t){var a=!t||t.biff>=8?2:1,r=Nt(8+a*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(a*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var n=r.slice(0,r.l);return n.l=r.l,n}function Ffe(e,t){for(var a=e.l+t,r=e.read_shift(4),n=e.read_shift(4),i=[],l=0;l!=n&&e.l<a;++l)i.push(mfe(e));return i.Count=r,i.Unique=n,i}function Ife(e,t){var a=Nt(8);a.write_shift(4,e.Count),a.write_shift(4,e.Unique);for(var r=[],n=0;n<e.length;++n)r[n]=pfe(e[n]);var i=yi([a].concat(r));return i.parts=[a.length].concat(r.map(function(l){return l.length})),i}function Bfe(e,t){var a={};return a.dsst=e.read_shift(2),e.l+=t-2,a}function $fe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var a=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,r&7&&(t.level=r&7),r&32&&(t.hidden=!0),r&64&&(t.hpt=a/20),t}function Ufe(e){var t=jfe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var a=e.read_shift(4);return a!==0}function zfe(e){return e.read_shift(2),e.read_shift(4)}function JP(e,t,a){var r=0;a&&a.biff==2||(r=e.read_shift(2));var n=e.read_shift(2);a&&a.biff==2&&(r=1-(n>>15),n&=32767);var i={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[i,n]}function Hfe(e){var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),d=e.read_shift(2);return{Pos:[t,a],Dim:[r,n],Flags:i,CurTab:l,FirstTab:o,Selected:c,TabRatio:d}}function Vfe(){var e=Nt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Wfe(e,t,a){if(a&&a.biff>=2&&a.biff<5)return{};var r=e.read_shift(2);return{RTL:r&64}}function qfe(e){var t=Nt(18),a=1718;return e&&e.RTL&&(a|=64),t.write_shift(2,a),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Gfe(){}function Kfe(e,t,a){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(a&&a.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return r.name=G1(e,0,a),r}function Yfe(e,t){var a=e.name||"Arial",r=t&&t.biff==5,n=r?15+a.length:16+2*a.length,i=Nt(n);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,a.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*a.length,a,r?"sbcs":"utf16le"),i}function Xfe(e){var t=nu(e);return t.isst=e.read_shift(4),t}function Jfe(e,t,a,r){var n=Nt(10);return pm(e,t,r,n),n.write_shift(4,a),n}function Qfe(e,t,a){a.biffguess&&a.biff==2&&(a.biff=5);var r=e.l+t,n=nu(e);a.biff==2&&e.l++;var i=K1(e,r-e.l,a);return n.val=i,n}function Zfe(e,t,a,r,n){var i=!n||n.biff==8,l=Nt(8+ +i+(1+i)*a.length);return pm(e,t,r,l),l.write_shift(2,a.length),i&&l.write_shift(1,1),l.write_shift((1+i)*a.length,a,i?"utf16le":"sbcs"),l}function e0e(e,t,a){var r=e.read_shift(2),n=Fm(e,0,a);return[r,n]}function t0e(e,t,a,r){var n=a&&a.biff==5;r||(r=Nt(n?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(n?1:2,t.length),n||r.write_shift(1,1),r.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le");var i=r.length>r.l?r.slice(0,r.l):r;return i.l==null&&(i.l=i.length),i}var a0e=Fm;function QP(e,t,a){var r=e.l+t,n=a.biff==8||!a.biff?4:2,i=e.read_shift(n),l=e.read_shift(n),o=e.read_shift(2),c=e.read_shift(2);return e.l=r,{s:{r:i,c:o},e:{r:l,c}}}function s0e(e,t){var a=t.biff==8||!t.biff?4:2,r=Nt(2*a+6);return r.write_shift(a,e.s.r),r.write_shift(a,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}function r0e(e){var t=e.read_shift(2),a=e.read_shift(2),r=rV(e);return{r:t,c:a,ixfe:r[0],rknum:r[1]}}function n0e(e,t){for(var a=e.l+t-2,r=e.read_shift(2),n=e.read_shift(2),i=[];e.l<a;)i.push(rV(e));if(e.l!==a)throw new Error("MulRK read error");var l=e.read_shift(2);if(i.length!=l-n+1)throw new Error("MulRK length mismatch");return{r,c:n,C:l,rkrec:i}}function i0e(e,t){for(var a=e.l+t-2,r=e.read_shift(2),n=e.read_shift(2),i=[];e.l<a;)i.push(e.read_shift(2));if(e.l!==a)throw new Error("MulBlank read error");var l=e.read_shift(2);if(i.length!=l-n+1)throw new Error("MulBlank length mismatch");return{r,c:n,C:l,ixfe:i}}function l0e(e,t,a,r){var n={},i=e.read_shift(4),l=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(2);return n.patternType=Uhe[o>>26],r.cellStyles&&(n.alc=i&7,n.fWrap=i>>3&1,n.alcV=i>>4&7,n.fJustLast=i>>7&1,n.trot=i>>8&255,n.cIndent=i>>16&15,n.fShrinkToFit=i>>20&1,n.iReadOrder=i>>22&2,n.fAtrNum=i>>26&1,n.fAtrFnt=i>>27&1,n.fAtrAlc=i>>28&1,n.fAtrBdr=i>>29&1,n.fAtrPat=i>>30&1,n.fAtrProt=i>>31&1,n.dgLeft=l&15,n.dgRight=l>>4&15,n.dgTop=l>>8&15,n.dgBottom=l>>12&15,n.icvLeft=l>>16&127,n.icvRight=l>>23&127,n.grbitDiag=l>>30&3,n.icvTop=o&127,n.icvBottom=o>>7&127,n.icvDiag=o>>14&127,n.dgDiag=o>>21&15,n.icvFore=c&127,n.icvBack=c>>7&127,n.fsxButton=c>>14&1),n}function o0e(e,t,a){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,t-=6,r.data=l0e(e,t,r.fStyle,a),r}function ZP(e,t,a,r){var n=a&&a.biff==5;r||(r=Nt(n?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&n&&(i|=1024),r.write_shift(4,i),r.write_shift(4,0),n||r.write_shift(4,0),r.write_shift(2,0),r}function c0e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function d0e(e){var t=Nt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function eL(e,t,a){var r=nu(e);(a.biff==2||t==9)&&++e.l;var n=ffe(e);return r.val=n,r.t=n===!0||n===!1?"b":"e",r}function u0e(e,t,a,r,n,i){var l=Nt(8);return pm(e,t,r,l),eV(a,i,l),l}function h0e(e,t,a){a.biffguess&&a.biff==2&&(a.biff=5);var r=nu(e),n=ol(e);return r.val=n,r}function f0e(e,t,a,r){var n=Nt(14);return pm(e,t,r,n),fm(a,n),n}var tL=Nfe;function m0e(e,t,a){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);if(a.sbcch=i,i==1025||i==14849)return[i,n];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var l=mm(e,i),o=[];r>e.l;)o.push(K1(e));return[i,n,l,o]}function aL(e,t,a){var r=e.read_shift(2),n,i={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return a.sbcch===14849&&(n=Sfe(e,t-2,a)),i.body=n||e.read_shift(t-2),typeof n=="string"&&(i.Name=n),i}var p0e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function sL(e,t,a){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(1),l=e.read_shift(1),o=e.read_shift(a&&a.biff==2?1:2),c=0;(!a||a.biff>=5)&&(a.biff!=5&&(e.l+=2),c=e.read_shift(2),a.biff==5&&(e.l+=2),e.l+=4);var d=mm(e,l,a);n&32&&(d=p0e[d.charCodeAt(0)]);var u=r-e.l;a&&a.biff==2&&--u;var f=r==e.l||o===0||!(u>0)?[]:Ege(e,u,a,o);return{chKey:i,Name:d,itab:c,rgce:f}}function oV(e,t,a){if(a.biff<8)return x0e(e,t,a);for(var r=[],n=e.l+t,i=e.read_shift(a.biff>8?4:2);i--!==0;)r.push(kfe(e,a.biff>8?12:6,a));if(e.l!=n)throw new Error("Bad ExternSheet: "+e.l+" != "+n);return r}function x0e(e,t,a){e[e.l+1]==3&&e[e.l]++;var r=G1(e,t,a);return r.charCodeAt(0)==3?r.slice(1):r}function g0e(e,t,a){if(a.biff<8){e.l+=t;return}var r=e.read_shift(2),n=e.read_shift(2),i=mm(e,r,a),l=mm(e,n,a);return[i,l]}function v0e(e,t,a){var r=iV(e);e.l++;var n=e.read_shift(1);return t-=8,[Dge(e,t,a),n,r]}function rL(e,t,a){var r=Cfe(e);switch(a.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,_ge(e,t,a)]}function b0e(e){var t=e.read_shift(4)!==0,a=e.read_shift(4)!==0,r=e.read_shift(4);return[t,a,r]}function y0e(e,t,a){if(!(a.biff<8)){var r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),o=Fm(e,0,a);return a.biff<8&&e.read_shift(1),[{r,c:n},o,l,i]}}function w0e(e,t,a){return y0e(e,t,a)}function j0e(e,t){for(var a=[],r=e.read_shift(2);r--;)a.push(tN(e));return a}function N0e(e){var t=Nt(2+e.length*8);t.write_shift(2,e.length);for(var a=0;a<e.length;++a)nV(e[a],t);return t}function k0e(e,t,a){if(a&&a.biff<8)return C0e(e,t,a);var r=lV(e),n=Efe(e,t-22,r[1]);return{cmo:r,ft:n}}var S0e={8:function(e,t){var a=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var n=e.read_shift(1);return e.l+=n,e.l=a,{fmt:r}}};function C0e(e,t,a){e.l+=4;var r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var l=[];return l.push((S0e[r]||fl)(e,t,a)),{cmo:[n,r,i],ft:l}}function A0e(e,t,a){var r=e.l,n="";try{e.l+=4;var i=(a.lastobj||{cmo:[0,0]}).cmo[1],l;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:l=xfe(e,6,a);var o=e.read_shift(2);e.read_shift(2),Rn(e,2);var c=e.read_shift(2);e.l+=c;for(var d=1;d<e.lens.length-1;++d){if(e.l-r!=e.lens[d])throw new Error("TxO: bad continue record");var u=e[e.l],f=mm(e,e.lens[d+1]-e.lens[d]-1);if(n+=f,n.length>=(u?o:2*o))break}if(n.length!==o&&n.length!==o*2)throw new Error("cchText: "+o+" != "+n.length);return e.l=r+t,{t:n}}catch{return e.l=r+t,{t:n}}}function _0e(e,t){var a=tN(e);e.l+=16;var r=yfe(e,t-24);return[a,r]}function T0e(e){var t=Nt(24),a=Yr(e[0]);t.write_shift(2,a.r),t.write_shift(2,a.r),t.write_shift(2,a.c),t.write_shift(2,a.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)t.write_shift(1,parseInt(r[n],16));return yi([t,wfe(e[1])])}function E0e(e,t){e.read_shift(2);var a=tN(e),r=e.read_shift((t-10)/2,"dbcs-cont");return r=r.replace(Ll,""),[a,r]}function D0e(e){var t=e[1].Tooltip,a=Nt(10+2*(t.length+1));a.write_shift(2,2048);var r=Yr(e[0]);a.write_shift(2,r.r),a.write_shift(2,r.r),a.write_shift(2,r.c),a.write_shift(2,r.c);for(var n=0;n<t.length;++n)a.write_shift(2,t.charCodeAt(n));return a.write_shift(2,0),a}function M0e(e){var t=[0,0],a;return a=e.read_shift(2),t[0]=zP[a]||a,a=e.read_shift(2),t[1]=zP[a]||a,t}function P0e(e){return e||(e=Nt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function L0e(e){for(var t=e.read_shift(2),a=[];t-- >0;)a.push(sV(e));return a}function O0e(e){for(var t=e.read_shift(2),a=[];t-- >0;)a.push(sV(e));return a}function R0e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function cV(e,t,a){if(!a.cellStyles)return fl(e,t);var r=a&&a.biff>=12?4:2,n=e.read_shift(r),i=e.read_shift(r),l=e.read_shift(r),o=e.read_shift(r),c=e.read_shift(2);r==2&&(e.l+=2);var d={s:n,e:i,w:l,ixfe:o,flags:c};return(a.biff>=5||!a.biff)&&(d.level=c>>8&7),d}function F0e(e,t){var a=Nt(12);a.write_shift(2,t),a.write_shift(2,t),a.write_shift(2,e.width*256),a.write_shift(2,0);var r=0;return e.hidden&&(r|=1),a.write_shift(1,r),r=e.level||0,a.write_shift(1,r),a.write_shift(2,0),a}function I0e(e,t){var a={};return t<32||(e.l+=16,a.header=ol(e),a.footer=ol(e),e.l+=2),a}function B0e(e,t,a){var r={area:!1};if(a.biff!=5)return e.l+=t,r;var n=e.read_shift(1);return e.l+=3,n&16&&(r.area=!0),r}function $0e(e){for(var t=Nt(2*e),a=0;a<e;++a)t.write_shift(2,a+1);return t}var U0e=nu,z0e=ZH,H0e=K1;function V0e(e){var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(4),n={fmt:t,env:a,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,n}function W0e(e,t,a){a.biffguess&&a.biff==5&&(a.biff=2);var r=nu(e);++e.l;var n=Fm(e,t-7,a);return r.t="str",r.val=n,r}function q0e(e){var t=nu(e);++e.l;var a=ol(e);return t.t="n",t.val=a,t}function G0e(e,t,a){var r=Nt(15);return Q1(r,e,t),r.write_shift(8,a,"f"),r}function K0e(e){var t=nu(e);++e.l;var a=e.read_shift(2);return t.t="n",t.val=a,t}function Y0e(e,t,a){var r=Nt(9);return Q1(r,e,t),r.write_shift(2,a),r}function X0e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function J0e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function Q0e(e,t,a){var r=e.l+t,n=nu(e),i=e.read_shift(2),l=mm(e,i,a);return e.l=r,n.t="str",n.val=l,n}var Z0e=[2,3,48,49,131,139,140,245],iC=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Qj({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function a(o,c){var d=[],u=Df(1);switch(c.type){case"base64":u=Mo(Io(o));break;case"binary":u=Mo(o);break;case"buffer":case"array":u=o;break}Ui(u,0);var f=u.read_shift(1),p=!!(f&136),m=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,p=!0;break;case 49:m=!0,p=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,b=521;f==2&&(g=u.read_shift(2)),u.l+=3,f!=2&&(g=u.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(b=u.read_shift(2));var j=u.read_shift(2),N=c.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(N=e[u[u.l]]),u.l+=1,u.l+=2),v&&(u.l+=36);for(var k=[],S={},C=Math.min(u.length,f==2?521:b-10-(m?264:0)),_=v?32:11;u.l<C&&u[u.l]!=13;)switch(S={},S.name=Jv.utils.decode(N,u.slice(u.l,u.l+_)).replace(/[\u0000\r\n].*$/g,""),u.l+=_,S.type=String.fromCharCode(u.read_shift(1)),f!=2&&!v&&(S.offset=u.read_shift(4)),S.len=u.read_shift(1),f==2&&(S.offset=u.read_shift(2)),S.dec=u.read_shift(1),S.name.length&&k.push(S),f!=2&&(u.l+=v?13:14),S.type){case"B":(!m||S.len!=8)&&c.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(u[u.l]!==13&&(u.l=b-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=b;var P=0,L=0;for(d[0]=[],L=0;L!=k.length;++L)d[0][L]=k[L].name;for(;g-- >0;){if(u[u.l]===42){u.l+=j;continue}for(++u.l,d[++P]=[],L=0,L=0;L!=k.length;++L){var U=u.slice(u.l,u.l+k[L].len);u.l+=k[L].len,Ui(U,0);var z=Jv.utils.decode(N,U);switch(k[L].type){case"C":z.trim().length&&(d[P][L]=z.replace(/\s+$/,""));break;case"D":z.length===8?d[P][L]=new Date(+z.slice(0,4),+z.slice(4,6)-1,+z.slice(6,8)):d[P][L]=z;break;case"F":d[P][L]=parseFloat(z.trim());break;case"+":case"I":d[P][L]=v?U.read_shift(-4,"i")^2147483648:U.read_shift(4,"i");break;case"L":switch(z.trim().toUpperCase()){case"Y":case"T":d[P][L]=!0;break;case"N":case"F":d[P][L]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+z+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));d[P][L]="##MEMO##"+(v?parseInt(z.trim(),10):U.read_shift(4));break;case"N":z=z.replace(/\u0000/g,"").trim(),z&&z!="."&&(d[P][L]=+z||0);break;case"@":d[P][L]=new Date(U.read_shift(-8,"f")-621356832e5);break;case"T":d[P][L]=new Date((U.read_shift(4)-2440588)*864e5+U.read_shift(4));break;case"Y":d[P][L]=U.read_shift(4,"i")/1e4+U.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[P][L]=-U.read_shift(-8,"f");break;case"B":if(m&&k[L].len==8){d[P][L]=U.read_shift(8,"f");break}case"G":case"P":U.l+=k[L].len;break;case"0":if(k[L].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[L].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=k,d}function r(o,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=_x(a(o,d),d);return u["!cols"]=d.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete d.DBF,u}function n(o,c){try{return Wf(r(o,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function l(o,c){var d=c||{};if(+d.codepage>=0&&rd(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=ro(),f=Nw(o,{header:1,raw:!0,cellDates:!0}),p=f[0],m=f.slice(1),v=o["!cols"]||[],g=0,b=0,j=0,N=1;for(g=0;g<p.length;++g){if(((v[g]||{}).DBF||{}).name){p[g]=v[g].DBF.name,++j;continue}if(p[g]!=null){if(++j,typeof p[g]=="number"&&(p[g]=p[g].toString(10)),typeof p[g]!="string")throw new Error("DBF Invalid column name "+p[g]+" |"+typeof p[g]+"|");if(p.indexOf(p[g])!==g){for(b=0;b<1024;++b)if(p.indexOf(p[g]+"_"+b)==-1){p[g]+="_"+b;break}}}}var k=_s(o["!ref"]),S=[],C=[],_=[];for(g=0;g<=k.e.c-k.s.c;++g){var P="",L="",U=0,z=[];for(b=0;b<m.length;++b)m[b][g]!=null&&z.push(m[b][g]);if(z.length==0||p[g]==null){S[g]="?";continue}for(b=0;b<z.length;++b){switch(typeof z[b]){case"number":L="B";break;case"string":L="C";break;case"boolean":L="L";break;case"object":L=z[b]instanceof Date?"D":"C";break;default:L="C"}U=Math.max(U,String(z[b]).length),P=P&&P!=L?"C":L}U>250&&(U=250),L=((v[g]||{}).DBF||{}).type,L=="C"&&v[g].DBF.len>U&&(U=v[g].DBF.len),P=="B"&&L=="N"&&(P="N",_[g]=v[g].DBF.dec,U=v[g].DBF.len),C[g]=P=="C"||L=="N"?U:i[P]||0,N+=C[g],S[g]=P}var T=u.next(32);for(T.write_shift(4,318902576),T.write_shift(4,m.length),T.write_shift(2,296+32*j),T.write_shift(2,N),g=0;g<4;++g)T.write_shift(4,0);for(T.write_shift(4,0|(+t[Qz]||3)<<8),g=0,b=0;g<p.length;++g)if(p[g]!=null){var F=u.next(32),M=(p[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);F.write_shift(1,M,"sbcs"),F.write_shift(1,S[g]=="?"?"C":S[g],"sbcs"),F.write_shift(4,b),F.write_shift(1,C[g]||i[S[g]]||0),F.write_shift(1,_[g]||0),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(1,0),F.write_shift(4,0),F.write_shift(4,0),b+=C[g]||i[S[g]]||0}var I=u.next(264);for(I.write_shift(4,13),g=0;g<65;++g)I.write_shift(4,0);for(g=0;g<m.length;++g){var W=u.next(N);for(W.write_shift(1,0),b=0;b<p.length;++b)if(p[b]!=null)switch(S[b]){case"L":W.write_shift(1,m[g][b]==null?63:m[g][b]?84:70);break;case"B":W.write_shift(8,m[g][b]||0,"f");break;case"N":var R="0";for(typeof m[g][b]=="number"&&(R=m[g][b].toFixed(_[b]||0)),j=0;j<C[b]-R.length;++j)W.write_shift(1,32);W.write_shift(1,R,"sbcs");break;case"D":m[g][b]?(W.write_shift(4,("0000"+m[g][b].getFullYear()).slice(-4),"sbcs"),W.write_shift(2,("00"+(m[g][b].getMonth()+1)).slice(-2),"sbcs"),W.write_shift(2,("00"+m[g][b].getDate()).slice(-2),"sbcs")):W.write_shift(8,"00000000","sbcs");break;case"C":var q=String(m[g][b]!=null?m[g][b]:"").slice(0,C[b]);for(W.write_shift(1,q,"sbcs"),j=0;j<C[b]-q.length;++j)W.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:n,to_sheet:r,from_sheet:l}})(),dV=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ln(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),a=function(p,m){var v=e[m];return typeof v=="number"?pP(v):v},r=function(p,m,v){var g=m.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return g==59?p:pP(g)};e["|"]=254;function n(p,m){switch(m.type){case"base64":return i(Io(p),m);case"binary":return i(p,m);case"buffer":return i(rs&&Buffer.isBuffer(p)?p.toString("binary"):Vf(p),m);case"array":return i(hm(p),m)}throw new Error("Unrecognized type "+m.type)}function i(p,m){var v=p.split(/[\n\r]+/),g=-1,b=-1,j=0,N=0,k=[],S=[],C=null,_={},P=[],L=[],U=[],z=0,T;for(+m.codepage>=0&&rd(+m.codepage);j!==v.length;++j){z=0;var F=v[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,a),M=F.replace(/;;/g,"\0").split(";").map(function(X){return X.replace(/\u0000/g,";")}),I=M[0],W;if(F.length>0)switch(I){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":M[1].charAt(0)=="P"&&S.push(F.slice(3).replace(/;;/g,";"));break;case"C":var R=!1,q=!1,ae=!1,te=!1,K=-1,oe=-1;for(N=1;N<M.length;++N)switch(M[N].charAt(0)){case"A":break;case"X":b=parseInt(M[N].slice(1))-1,q=!0;break;case"Y":for(g=parseInt(M[N].slice(1))-1,q||(b=0),T=k.length;T<=g;++T)k[T]=[];break;case"K":W=M[N].slice(1),W.charAt(0)==='"'?W=W.slice(1,W.length-1):W==="TRUE"?W=!0:W==="FALSE"?W=!1:isNaN(id(W))?isNaN(lx(W).getDate())||(W=wr(W)):(W=id(W),C!==null&&Cx(C)&&(W=eN(W))),R=!0;break;case"E":te=!0;var D=Yp(M[N].slice(1),{r:g,c:b});k[g][b]=[k[g][b],D];break;case"S":ae=!0,k[g][b]=[k[g][b],"S5S"];break;case"G":break;case"R":K=parseInt(M[N].slice(1))-1;break;case"C":oe=parseInt(M[N].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+F)}if(R&&(k[g][b]&&k[g][b].length==2?k[g][b][0]=W:k[g][b]=W,C=null),ae){if(te)throw new Error("SYLK shared formula cannot have own formula");var G=K>-1&&k[K][oe];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");k[g][b][1]=_V(G[1],{r:g-K,c:b-oe})}break;case"F":var H=0;for(N=1;N<M.length;++N)switch(M[N].charAt(0)){case"X":b=parseInt(M[N].slice(1))-1,++H;break;case"Y":for(g=parseInt(M[N].slice(1))-1,T=k.length;T<=g;++T)k[T]=[];break;case"M":z=parseInt(M[N].slice(1))/20;break;case"F":break;case"G":break;case"P":C=S[parseInt(M[N].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(U=M[N].slice(1).split(" "),T=parseInt(U[0],10);T<=parseInt(U[1],10);++T)z=parseInt(U[2],10),L[T-1]=z===0?{hidden:!0}:{wch:z},Mf(L[T-1]);break;case"C":b=parseInt(M[N].slice(1))-1,L[b]||(L[b]={});break;case"R":g=parseInt(M[N].slice(1))-1,P[g]||(P[g]={}),z>0?(P[g].hpt=z,P[g].hpx=cx(z)):z===0&&(P[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+F)}H<1&&(C=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+F)}}return P.length>0&&(_["!rows"]=P),L.length>0&&(_["!cols"]=L),m&&m.sheetRows&&(k=k.slice(0,m.sheetRows)),[k,_]}function l(p,m){var v=n(p,m),g=v[0],b=v[1],j=_x(g,m);return ln(b).forEach(function(N){j[N]=b[N]}),j}function o(p,m){return Wf(l(p,m),m)}function c(p,m,v,g){var b="C;Y"+(v+1)+";X"+(g+1)+";K";switch(p.t){case"n":b+=p.v||0,p.f&&!p.F&&(b+=";E"+e8(p.f,{r:v,c:g}));break;case"b":b+=p.v?"TRUE":"FALSE";break;case"e":b+=p.w||p.v;break;case"d":b+='"'+(p.w||p.v)+'"';break;case"s":b+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function d(p,m){m.forEach(function(v,g){var b="F;W"+(g+1)+" "+(g+1)+" ";v.hidden?b+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=n1(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=i1(v.wpx)),typeof v.wch=="number"&&(b+=Math.round(v.wch))),b.charAt(b.length-1)!=" "&&p.push(b)})}function u(p,m){m.forEach(function(v,g){var b="F;";v.hidden?b+="M0;":v.hpt?b+="M"+20*v.hpt+";":v.hpx&&(b+="M"+20*l1(v.hpx)+";"),b.length>2&&p.push(b+"R"+(g+1))})}function f(p,m){var v=["ID;PWXL;N;E"],g=[],b=_s(p["!ref"]),j,N=Array.isArray(p),k=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),p["!cols"]&&d(v,p["!cols"]),p["!rows"]&&u(v,p["!rows"]),v.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var S=b.s.r;S<=b.e.r;++S)for(var C=b.s.c;C<=b.e.c;++C){var _=Ma({r:S,c:C});j=N?(p[S]||[])[C]:p[_],!(!j||j.v==null&&(!j.f||j.F))&&g.push(c(j,p,S,C))}return v.join(k)+k+g.join(k)+k+"E"+k}return{to_workbook:o,to_sheet:l,from_sheet:f}})(),uV=(function(){function e(i,l){switch(l.type){case"base64":return t(Io(i),l);case"binary":return t(i,l);case"buffer":return t(rs&&Buffer.isBuffer(i)?i.toString("binary"):Vf(i),l);case"array":return t(hm(i),l)}throw new Error("Unrecognized type "+l.type)}function t(i,l){for(var o=i.split(`
`),c=-1,d=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++c]=[],d=0;continue}if(!(c<0)){var p=o[u].trim().split(","),m=p[0],v=p[1];++u;for(var g=o[u]||"";(g.match(/["]/g)||[]).length&1&&u<o.length-1;)g+=`
`+o[++u];switch(g=g.trim(),+m){case-1:if(g==="BOT"){f[++c]=[],d=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[c][d]=!0:g==="FALSE"?f[c][d]=!1:isNaN(id(v))?isNaN(lx(v).getDate())?f[c][d]=v:f[c][d]=wr(v):f[c][d]=id(v),++d;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[c][d++]=g!==""?g:null;break}if(g==="EOD")break}}return l&&l.sheetRows&&(f=f.slice(0,l.sheetRows)),f}function a(i,l){return _x(e(i,l),l)}function r(i,l){return Wf(a(i,l),l)}var n=(function(){var i=function(c,d,u,f,p){c.push(d),c.push(u+","+f),c.push('"'+p.replace(/"/g,'""')+'"')},l=function(c,d,u,f){c.push(d+","+u),c.push(d==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var d=[],u=_s(c["!ref"]),f,p=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,u.e.r-u.s.r+1,""),i(d,"TUPLES",0,u.e.c-u.s.c+1,""),i(d,"DATA",0,0,"");for(var m=u.s.r;m<=u.e.r;++m){l(d,-1,0,"BOT");for(var v=u.s.c;v<=u.e.c;++v){var g=Ma({r:m,c:v});if(f=p?(c[m]||[])[v]:c[g],!f){l(d,1,0,"");continue}switch(f.t){case"n":var b=f.w;!b&&f.v!=null&&(b=f.v),b==null?f.f&&!f.F?l(d,1,0,"="+f.f):l(d,1,0,""):l(d,0,b,"V");break;case"b":l(d,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":l(d,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=yc(f.z||Da[14],ti(wr(f.v)))),l(d,0,f.w,"V");break;default:l(d,1,0,"")}}}l(d,-1,0,"EOD");var j=`\r
`,N=d.join(j);return N}})();return{to_workbook:r,to_sheet:a,from_sheet:n}})(),hV=(function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function a(f,p){for(var m=f.split(`
`),v=-1,g=-1,b=0,j=[];b!==m.length;++b){var N=m[b].trim().split(":");if(N[0]==="cell"){var k=Yr(N[1]);if(j.length<=k.r)for(v=j.length;v<=k.r;++v)j[v]||(j[v]=[]);switch(v=k.r,g=k.c,N[2]){case"t":j[v][g]=e(N[3]);break;case"v":j[v][g]=+N[3];break;case"vtf":var S=N[N.length-1];case"vtc":switch(N[3]){case"nl":j[v][g]=!!+N[4];break;default:j[v][g]=+N[4];break}N[2]=="vtf"&&(j[v][g]=[j[v][g],S])}}}return p&&p.sheetRows&&(j=j.slice(0,p.sheetRows)),j}function r(f,p){return _x(a(f,p),p)}function n(f,p){return Wf(r(f,p),p)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(f){if(!f||!f["!ref"])return"";for(var p=[],m=[],v,g="",b=no(f["!ref"]),j=Array.isArray(f),N=b.s.r;N<=b.e.r;++N)for(var k=b.s.c;k<=b.e.c;++k)if(g=Ma({r:N,c:k}),v=j?(f[N]||[])[k]:f[g],!(!v||v.v==null||v.t==="z")){switch(m=["cell",g,"t"],v.t){case"s":case"str":m.push(t(v.v));break;case"n":v.f?(m[2]="vtf",m[3]="n",m[4]=v.v,m[5]=t(v.f)):(m[2]="v",m[3]=v.v);break;case"b":m[2]="vt"+(v.f?"f":"c"),m[3]="nl",m[4]=v.v?"1":"0",m[5]=t(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var S=ti(wr(v.v));m[2]="vtc",m[3]="nd",m[4]=""+S,m[5]=v.w||yc(v.z||Da[14],S);break;case"e":continue}p.push(m.join(":"))}return p.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function u(f){return[i,l,o,l,d(f),c].join(`
`)}return{to_workbook:n,to_sheet:r,from_sheet:u}})(),ox=(function(){function e(u,f,p,m,v){v.raw?f[p][m]=u:u===""||(u==="TRUE"?f[p][m]=!0:u==="FALSE"?f[p][m]=!1:isNaN(id(u))?isNaN(lx(u).getDate())?f[p][m]=u:f[p][m]=wr(u):f[p][m]=id(u))}function t(u,f){var p=f||{},m=[];if(!u||u.length===0)return m;for(var v=u.split(/[\r\n]/),g=v.length-1;g>=0&&v[g].length===0;)--g;for(var b=10,j=0,N=0;N<=g;++N)j=v[N].indexOf(" "),j==-1?j=v[N].length:j++,b=Math.max(b,j);for(N=0;N<=g;++N){m[N]=[];var k=0;for(e(v[N].slice(0,b).trim(),m,N,k,p),k=1;k<=(v[N].length-b)/10+1;++k)e(v[N].slice(b+(k-1)*10,b+k*10).trim(),m,N,k,p)}return p.sheetRows&&(m=m.slice(0,p.sheetRows)),m}var a={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function n(u){for(var f={},p=!1,m=0,v=0;m<u.length;++m)(v=u.charCodeAt(m))==34?p=!p:!p&&v in a&&(f[v]=(f[v]||0)+1);v=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&v.push([f[m],m]);if(!v.length){f=r;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&v.push([f[m],m])}return v.sort(function(g,b){return g[0]-b[0]||r[g[1]]-r[b[1]]}),a[v.pop()[1]]||44}function i(u,f){var p=f||{},m="",v=p.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(m=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(m=u.charAt(4),u=u.slice(6)):m=n(u.slice(0,1024)):p&&p.FS?m=p.FS:m=n(u.slice(0,1024));var b=0,j=0,N=0,k=0,S=0,C=m.charCodeAt(0),_=!1,P=0,L=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var U=p.dateNF!=null?Bue(p.dateNF):null;function z(){var T=u.slice(k,S),F={};if(T.charAt(0)=='"'&&T.charAt(T.length-1)=='"'&&(T=T.slice(1,-1).replace(/""/g,'"')),T.length===0)F.t="z";else if(p.raw)F.t="s",F.v=T;else if(T.trim().length===0)F.t="s",F.v=T;else if(T.charCodeAt(0)==61)T.charCodeAt(1)==34&&T.charCodeAt(T.length-1)==34?(F.t="s",F.v=T.slice(2,-1).replace(/""/g,'"')):mxe(T)?(F.t="n",F.f=T.slice(1)):(F.t="s",F.v=T);else if(T=="TRUE")F.t="b",F.v=!0;else if(T=="FALSE")F.t="b",F.v=!1;else if(!isNaN(N=id(T)))F.t="n",p.cellText!==!1&&(F.w=T),F.v=N;else if(!isNaN(lx(T).getDate())||U&&T.match(U)){F.z=p.dateNF||Da[14];var M=0;U&&T.match(U)&&(T=$ue(T,p.dateNF,T.match(U)||[]),M=1),p.cellDates?(F.t="d",F.v=wr(T,M)):(F.t="n",F.v=ti(wr(T,M))),p.cellText!==!1&&(F.w=yc(F.z,F.v instanceof Date?ti(F.v):F.v)),p.cellNF||delete F.z}else F.t="s",F.v=T;if(F.t=="z"||(p.dense?(v[b]||(v[b]=[]),v[b][j]=F):v[Ma({c:j,r:b})]=F),k=S+1,L=u.charCodeAt(k),g.e.c<j&&(g.e.c=j),g.e.r<b&&(g.e.r=b),P==C)++j;else if(j=0,++b,p.sheetRows&&p.sheetRows<=b)return!0}e:for(;S<u.length;++S)switch(P=u.charCodeAt(S)){case 34:L===34&&(_=!_);break;case C:case 10:case 13:if(!_&&z())break e;break}return S-k>0&&z(),v["!ref"]=Ja(g),v}function l(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):_x(t(u,f),f)}function o(u,f){var p="",m=f.type=="string"?[0,0,0,0]:c8(u,f);switch(f.type){case"base64":p=Io(u);break;case"binary":p=u;break;case"buffer":f.codepage==65001?p=u.toString("utf8"):f.codepage&&typeof Jv<"u"||(p=rs&&Buffer.isBuffer(u)?u.toString("binary"):Vf(u));break;case"array":p=hm(u);break;case"string":p=u;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?p=tr(p.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?p=tr(p):f.type=="binary"&&typeof Jv<"u",p.slice(0,19)=="socialcalc:version:"?hV.to_sheet(f.type=="string"?p:tr(p),f):l(p,f)}function c(u,f){return Wf(o(u,f),f)}function d(u){for(var f=[],p=_s(u["!ref"]),m,v=Array.isArray(u),g=p.s.r;g<=p.e.r;++g){for(var b=[],j=p.s.c;j<=p.e.c;++j){var N=Ma({r:g,c:j});if(m=v?(u[g]||[])[j]:u[N],!m||m.v==null){b.push("          ");continue}for(var k=(m.w||(lh(m),m.w)||"").slice(0,10);k.length<10;)k+=" ";b.push(k+(j===0?" ":""))}f.push(b.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:d}})();function eme(e,t){var a=t||{},r=!!a.WTF;a.WTF=!0;try{var n=dV.to_workbook(e,a);return a.WTF=r,n}catch(i){if(a.WTF=r,!i.message.match(/SYLK bad record ID/)&&r)throw i;return ox.to_workbook(e,t)}}var X0=(function(){function e(D,G,H){if(D){Ui(D,D.l||0);for(var X=H.Enum||K;D.l<D.length;){var se=D.read_shift(2),ie=X[se]||X[65535],ne=D.read_shift(2),J=D.l+ne,le=ie.f&&ie.f(D,ne,H);if(D.l=J,G(le,ie,se))return}}}function t(D,G){switch(G.type){case"base64":return a(Mo(Io(D)),G);case"binary":return a(Mo(D),G);case"buffer":case"array":return a(D,G)}throw"Unsupported type "+G.type}function a(D,G){if(!D)return D;var H=G||{},X=H.dense?[]:{},se="Sheet1",ie="",ne=0,J={},le=[],pe=[],Q={s:{r:0,c:0},e:{r:0,c:0}},xe=H.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)H.Enum=K,e(D,function(ze,Ce,ce){switch(ce){case 0:H.vers=ze,ze>=4096&&(H.qpro=!0);break;case 6:Q=ze;break;case 204:ze&&(ie=ze);break;case 222:ie=ze;break;case 15:case 51:H.qpro||(ze[1].v=ze[1].v.slice(1));case 13:case 14:case 16:ce==14&&(ze[2]&112)==112&&(ze[2]&15)>1&&(ze[2]&15)<15&&(ze[1].z=H.dateNF||Da[14],H.cellDates&&(ze[1].t="d",ze[1].v=eN(ze[1].v))),H.qpro&&ze[3]>ne&&(X["!ref"]=Ja(Q),J[se]=X,le.push(se),X=H.dense?[]:{},Q={s:{r:0,c:0},e:{r:0,c:0}},ne=ze[3],se=ie||"Sheet"+(ne+1),ie="");var Ie=H.dense?(X[ze[0].r]||[])[ze[0].c]:X[Ma(ze[0])];if(Ie){Ie.t=ze[1].t,Ie.v=ze[1].v,ze[1].z!=null&&(Ie.z=ze[1].z),ze[1].f!=null&&(Ie.f=ze[1].f);break}H.dense?(X[ze[0].r]||(X[ze[0].r]=[]),X[ze[0].r][ze[0].c]=ze[1]):X[Ma(ze[0])]=ze[1];break}},H);else if(D[2]==26||D[2]==14)H.Enum=oe,D[2]==14&&(H.qpro=!0,D.l=0),e(D,function(ze,Ce,ce){switch(ce){case 204:se=ze;break;case 22:ze[1].v=ze[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ze[3]>ne&&(X["!ref"]=Ja(Q),J[se]=X,le.push(se),X=H.dense?[]:{},Q={s:{r:0,c:0},e:{r:0,c:0}},ne=ze[3],se="Sheet"+(ne+1)),xe>0&&ze[0].r>=xe)break;H.dense?(X[ze[0].r]||(X[ze[0].r]=[]),X[ze[0].r][ze[0].c]=ze[1]):X[Ma(ze[0])]=ze[1],Q.e.c<ze[0].c&&(Q.e.c=ze[0].c),Q.e.r<ze[0].r&&(Q.e.r=ze[0].r);break;case 27:ze[14e3]&&(pe[ze[14e3][0]]=ze[14e3][1]);break;case 1537:pe[ze[0]]=ze[1],ze[0]==ne&&(se=ze[1]);break}},H);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(X["!ref"]=Ja(Q),J[ie||se]=X,le.push(ie||se),!pe.length)return{SheetNames:le,Sheets:J};for(var he={},ue=[],Le=0;Le<pe.length;++Le)J[le[Le]]?(ue.push(pe[Le]||le[Le]),he[pe[Le]]=J[pe[Le]]||J[le[Le]]):(ue.push(pe[Le]),he[pe[Le]]={"!ref":"A1"});return{SheetNames:ue,Sheets:he}}function r(D,G){var H=G||{};if(+H.codepage>=0&&rd(+H.codepage),H.type=="string")throw new Error("Cannot write WK1 to JS string");var X=ro(),se=_s(D["!ref"]),ie=Array.isArray(D),ne=[];Jt(X,0,i(1030)),Jt(X,6,c(se));for(var J=Math.min(se.e.r,8191),le=se.s.r;le<=J;++le)for(var pe=Cn(le),Q=se.s.c;Q<=se.e.c;++Q){le===se.s.r&&(ne[Q]=Kr(Q));var xe=ne[Q]+pe,he=ie?(D[le]||[])[Q]:D[xe];if(!(!he||he.t=="z"))if(he.t=="n")(he.v|0)==he.v&&he.v>=-32768&&he.v<=32767?Jt(X,13,m(le,Q,he.v)):Jt(X,14,g(le,Q,he.v));else{var ue=lh(he);Jt(X,15,f(le,Q,ue.slice(0,239)))}}return Jt(X,1),X.end()}function n(D,G){var H=G||{};if(+H.codepage>=0&&rd(+H.codepage),H.type=="string")throw new Error("Cannot write WK3 to JS string");var X=ro();Jt(X,0,l(D));for(var se=0,ie=0;se<D.SheetNames.length;++se)(D.Sheets[D.SheetNames[se]]||{})["!ref"]&&Jt(X,27,te(D.SheetNames[se],ie++));var ne=0;for(se=0;se<D.SheetNames.length;++se){var J=D.Sheets[D.SheetNames[se]];if(!(!J||!J["!ref"])){for(var le=_s(J["!ref"]),pe=Array.isArray(J),Q=[],xe=Math.min(le.e.r,8191),he=le.s.r;he<=xe;++he)for(var ue=Cn(he),Le=le.s.c;Le<=le.e.c;++Le){he===le.s.r&&(Q[Le]=Kr(Le));var ze=Q[Le]+ue,Ce=pe?(J[he]||[])[Le]:J[ze];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")Jt(X,23,z(he,Le,ne,Ce.v));else{var ce=lh(Ce);Jt(X,22,P(he,Le,ne,ce.slice(0,239)))}}++ne}}return Jt(X,1),X.end()}function i(D){var G=Nt(2);return G.write_shift(2,D),G}function l(D){var G=Nt(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var H=0,X=0,se=0,ie=0;ie<D.SheetNames.length;++ie){var ne=D.SheetNames[ie],J=D.Sheets[ne];if(!(!J||!J["!ref"])){++se;var le=no(J["!ref"]);H<le.e.r&&(H=le.e.r),X<le.e.c&&(X=le.e.c)}}return H>8191&&(H=8191),G.write_shift(2,H),G.write_shift(1,se),G.write_shift(1,X),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function o(D,G,H){var X={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&H.qpro?(X.s.c=D.read_shift(1),D.l++,X.s.r=D.read_shift(2),X.e.c=D.read_shift(1),D.l++,X.e.r=D.read_shift(2),X):(X.s.c=D.read_shift(2),X.s.r=D.read_shift(2),G==12&&H.qpro&&(D.l+=2),X.e.c=D.read_shift(2),X.e.r=D.read_shift(2),G==12&&H.qpro&&(D.l+=2),X.s.c==65535&&(X.s.c=X.e.c=X.s.r=X.e.r=0),X)}function c(D){var G=Nt(8);return G.write_shift(2,D.s.c),G.write_shift(2,D.s.r),G.write_shift(2,D.e.c),G.write_shift(2,D.e.r),G}function d(D,G,H){var X=[{c:0,r:0},{t:"n",v:0},0,0];return H.qpro&&H.vers!=20768?(X[0].c=D.read_shift(1),X[3]=D.read_shift(1),X[0].r=D.read_shift(2),D.l+=2):(X[2]=D.read_shift(1),X[0].c=D.read_shift(2),X[0].r=D.read_shift(2)),X}function u(D,G,H){var X=D.l+G,se=d(D,G,H);if(se[1].t="s",H.vers==20768){D.l++;var ie=D.read_shift(1);return se[1].v=D.read_shift(ie,"utf8"),se}return H.qpro&&D.l++,se[1].v=D.read_shift(X-D.l,"cstr"),se}function f(D,G,H){var X=Nt(7+H.length);X.write_shift(1,255),X.write_shift(2,G),X.write_shift(2,D),X.write_shift(1,39);for(var se=0;se<X.length;++se){var ie=H.charCodeAt(se);X.write_shift(1,ie>=128?95:ie)}return X.write_shift(1,0),X}function p(D,G,H){var X=d(D,G,H);return X[1].v=D.read_shift(2,"i"),X}function m(D,G,H){var X=Nt(7);return X.write_shift(1,255),X.write_shift(2,G),X.write_shift(2,D),X.write_shift(2,H,"i"),X}function v(D,G,H){var X=d(D,G,H);return X[1].v=D.read_shift(8,"f"),X}function g(D,G,H){var X=Nt(13);return X.write_shift(1,255),X.write_shift(2,G),X.write_shift(2,D),X.write_shift(8,H,"f"),X}function b(D,G,H){var X=D.l+G,se=d(D,G,H);if(se[1].v=D.read_shift(8,"f"),H.qpro)D.l=X;else{var ie=D.read_shift(2);S(D.slice(D.l,D.l+ie),se),D.l+=ie}return se}function j(D,G,H){var X=G&32768;return G&=-32769,G=(X?D:0)+(G>=8192?G-16384:G),(X?"":"$")+(H?Kr(G):Cn(G))}var N={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(D,G){Ui(D,0);for(var H=[],X=0,se="",ie="",ne="",J="";D.l<D.length;){var le=D[D.l++];switch(le){case 0:H.push(D.read_shift(8,"f"));break;case 1:ie=j(G[0].c,D.read_shift(2),!0),se=j(G[0].r,D.read_shift(2),!1),H.push(ie+se);break;case 2:{var pe=j(G[0].c,D.read_shift(2),!0),Q=j(G[0].r,D.read_shift(2),!1);ie=j(G[0].c,D.read_shift(2),!0),se=j(G[0].r,D.read_shift(2),!1),H.push(pe+Q+":"+ie+se)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:H.push("("+H.pop()+")");break;case 5:H.push(D.read_shift(2));break;case 6:{for(var xe="";le=D[D.l++];)xe+=String.fromCharCode(le);H.push('"'+xe.replace(/"/g,'""')+'"')}break;case 8:H.push("-"+H.pop());break;case 23:H.push("+"+H.pop());break;case 22:H.push("NOT("+H.pop()+")");break;case 20:case 21:J=H.pop(),ne=H.pop(),H.push(["AND","OR"][le-20]+"("+ne+","+J+")");break;default:if(le<32&&k[le])J=H.pop(),ne=H.pop(),H.push(ne+k[le]+J);else if(N[le]){if(X=N[le][1],X==69&&(X=D[D.l++]),X>H.length){console.error("WK1 bad formula parse 0x"+le.toString(16)+":|"+H.join("|")+"|");return}var he=H.slice(-X);H.length-=X,H.push(N[le][0]+"("+he.join(",")+")")}else return le<=7?console.error("WK1 invalid opcode "+le.toString(16)):le<=24?console.error("WK1 unsupported op "+le.toString(16)):le<=30?console.error("WK1 invalid opcode "+le.toString(16)):le<=115?console.error("WK1 unsupported function opcode "+le.toString(16)):console.error("WK1 unrecognized opcode "+le.toString(16))}}H.length==1?G[1].f=""+H[0]:console.error("WK1 bad formula parse |"+H.join("|")+"|")}function C(D){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=D.read_shift(2),G[3]=D[D.l++],G[0].c=D[D.l++],G}function _(D,G){var H=C(D);return H[1].t="s",H[1].v=D.read_shift(G-4,"cstr"),H}function P(D,G,H,X){var se=Nt(6+X.length);se.write_shift(2,D),se.write_shift(1,H),se.write_shift(1,G),se.write_shift(1,39);for(var ie=0;ie<X.length;++ie){var ne=X.charCodeAt(ie);se.write_shift(1,ne>=128?95:ne)}return se.write_shift(1,0),se}function L(D,G){var H=C(D);H[1].v=D.read_shift(2);var X=H[1].v>>1;if(H[1].v&1)switch(X&7){case 0:X=(X>>3)*5e3;break;case 1:X=(X>>3)*500;break;case 2:X=(X>>3)/20;break;case 3:X=(X>>3)/200;break;case 4:X=(X>>3)/2e3;break;case 5:X=(X>>3)/2e4;break;case 6:X=(X>>3)/16;break;case 7:X=(X>>3)/64;break}return H[1].v=X,H}function U(D,G){var H=C(D),X=D.read_shift(4),se=D.read_shift(4),ie=D.read_shift(2);if(ie==65535)return X===0&&se===3221225472?(H[1].t="e",H[1].v=15):X===0&&se===3489660928?(H[1].t="e",H[1].v=42):H[1].v=0,H;var ne=ie&32768;return ie=(ie&32767)-16446,H[1].v=(1-ne*2)*(se*Math.pow(2,ie+32)+X*Math.pow(2,ie)),H}function z(D,G,H,X){var se=Nt(14);if(se.write_shift(2,D),se.write_shift(1,H),se.write_shift(1,G),X==0)return se.write_shift(4,0),se.write_shift(4,0),se.write_shift(2,65535),se;var ie=0,ne=0,J=0,le=0;return X<0&&(ie=1,X=-X),ne=Math.log2(X)|0,X/=Math.pow(2,ne-31),le=X>>>0,(le&2147483648)==0&&(X/=2,++ne,le=X>>>0),X-=le,le|=2147483648,le>>>=0,X*=Math.pow(2,32),J=X>>>0,se.write_shift(4,J),se.write_shift(4,le),ne+=16383+(ie?32768:0),se.write_shift(2,ne),se}function T(D,G){var H=U(D);return D.l+=G-14,H}function F(D,G){var H=C(D),X=D.read_shift(4);return H[1].v=X>>6,H}function M(D,G){var H=C(D),X=D.read_shift(8,"f");return H[1].v=X,H}function I(D,G){var H=M(D);return D.l+=G-10,H}function W(D,G){return D[D.l+G-1]==0?D.read_shift(G,"cstr"):""}function R(D,G){var H=D[D.l++];H>G-1&&(H=G-1);for(var X="";X.length<H;)X+=String.fromCharCode(D[D.l++]);return X}function q(D,G,H){if(!(!H.qpro||G<21)){var X=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var se=D.read_shift(G-21,"cstr");return[X,se]}}function ae(D,G){for(var H={},X=D.l+G;D.l<X;){var se=D.read_shift(2);if(se==14e3){for(H[se]=[0,""],H[se][0]=D.read_shift(2);D[D.l];)H[se][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return H}function te(D,G){var H=Nt(5+D.length);H.write_shift(2,14e3),H.write_shift(2,G);for(var X=0;X<D.length;++X){var se=D.charCodeAt(X);H[H.l++]=se>127?95:se}return H[H.l++]=0,H}var K={0:{n:"BOF",f:Rn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:W},222:{n:"SHEETNAMELP",f:R},65535:{n:""}},oe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:_},23:{n:"NUMBER17",f:U},24:{n:"NUMBER18",f:L},25:{n:"FORMULA19",f:T},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ae},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:F},38:{n:"??"},39:{n:"NUMBER27",f:M},40:{n:"FORMULA28",f:I},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:W},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:q},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:n,to_workbook:t}})();function tme(e){var t={},a=e.match(xl),r=0,n=!1;if(a)for(;r!=a.length;++r){var i=Fa(a[r]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=SA[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(i[0].charCodeAt(1)!==47&&!n)throw new Error("Unrecognized rich format "+i[0])}}return t}var ame=(function(){var e=e1("t"),t=e1("rPr");function a(i){var l=i.match(e);if(!l)return{t:"s",v:""};var o={t:"s",v:As(l[1])},c=i.match(t);return c&&(o.s=tme(c[1])),o}var r=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function(l){return l.replace(r,"").split(n).map(a).filter(function(o){return o.v})}})(),sme=(function(){var t=/(\r\n|\n)/g;function a(n,i,l){var o=[];n.u&&o.push("text-decoration: underline;"),n.uval&&o.push("text-underline-style:"+n.uval+";"),n.sz&&o.push("font-size:"+n.sz+"pt;"),n.outline&&o.push("text-effect: outline;"),n.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),n.b&&(i.push("<b>"),l.push("</b>")),n.i&&(i.push("<i>"),l.push("</i>")),n.strike&&(i.push("<s>"),l.push("</s>"));var c=n.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),l.push("</"+c+">")),l.push("</span>"),n}function r(n){var i=[[],n.v,[]];return n.v?(n.s&&a(n.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(r).join("")}})(),rme=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,nme=/<(?:\w+:)?r>/,ime=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function YA(e,t){var a=t?t.cellHTML:!0,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=As(tr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=tr(e),a&&(r.h=OA(r.t))):e.match(nme)&&(r.r=tr(e),r.t=As(tr((e.replace(ime,"").match(rme)||[]).join("").replace(xl,""))),a&&(r.h=sme(ame(r.r)))),r):{t:""}}var lme=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,ome=/<(?:\w+:)?(?:si|sstItem)>/g,cme=/<\/(?:\w+:)?(?:si|sstItem)>/;function dme(e,t){var a=[],r="";if(!e)return a;var n=e.match(lme);if(n){r=n[2].replace(ome,"").split(cme);for(var i=0;i!=r.length;++i){var l=YA(r[i].trim(),t);l!=null&&(a[a.length]=l)}n=Fa(n[1]),a.Count=n.count,a.Unique=n.uniqueCount}return a}var ume=/^\s|\s$|[\t\n\r]/;function fV(e,t){if(!t.bookSST)return"";var a=[En];a[a.length]=Xt("sst",null,{xmlns:Mm[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(e[r]!=null){var n=e[r],i="<si>";n.r?i+=n.r:(i+="<t",n.t||(n.t=""),n.t.match(ume)&&(i+=' xml:space="preserve"'),i+=">"+Ks(n.t)+"</t>"),i+="</si>",a[a.length]=i}return a.length>2&&(a[a.length]="</sst>",a[1]=a[1].replace("/>",">")),a.join("")}function hme(e){return[e.read_shift(4),e.read_shift(4)]}function fme(e,t){var a=[],r=!1;return bh(e,function(i,l,o){switch(o){case 159:a.Count=i[0],a.Unique=i[1];break;case 19:a.push(i);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(l.T,!r||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),a}function mme(e,t){return t||(t=Nt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var pme=She;function xme(e){var t=ro();Ft(t,159,mme(e));for(var a=0;a<e.length;++a)Ft(t,19,pme(e[a]));return Ft(t,160),t.end()}function mV(e){for(var t=[],a=e.split(""),r=0;r<a.length;++r)t[r]=a[r].charCodeAt(0);return t}function ah(e,t){var a={};return a.Major=e.read_shift(2),a.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),a}function gme(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=ah(e,4),t.U=ah(e,4),t.W=ah(e,4),t}function vme(e){for(var t=e.read_shift(4),a=e.l+t-4,r={},n=e.read_shift(4),i=[];n-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=i,e.l!=a)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+a);return r}function bme(e){var t=[];e.l+=4;for(var a=e.read_shift(4);a-- >0;)t.push(vme(e));return t}function yme(e){var t=[];e.l+=4;for(var a=e.read_shift(4);a-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function wme(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=ah(e,4),t.U=ah(e,4),t.W=ah(e,4),t}function jme(e){var t=wme(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function pV(e,t){var a=e.l+t,r={};r.Flags=e.read_shift(4)&63,e.l+=4,r.AlgID=e.read_shift(4);var n=!1;switch(r.AlgID){case 26126:case 26127:case 26128:n=r.Flags==36;break;case 26625:n=r.Flags==4;break;case 0:n=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!n)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(a-e.l>>1,"utf16le"),e.l=a,r}function xV(e,t){var a={},r=e.l+t;return e.l+=4,a.Salt=e.slice(e.l,e.l+16),e.l+=16,a.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),a.VerifierHash=e.slice(e.l,r),e.l=r,a}function Nme(e){var t=ah(e);switch(t.Minor){case 2:return[t.Minor,kme(e)];case 3:return[t.Minor,Sme()];case 4:return[t.Minor,Cme(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function kme(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var a=e.read_shift(4),r=pV(e,a),n=xV(e,e.length-e.l);return{t:"Std",h:r,v:n}}function Sme(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Cme(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var a=e.read_shift(e.length-e.l,"utf8"),r={};return a.replace(xl,function(i){var l=Fa(i);switch(ru(l[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){r[o]=l[o]});break;case"<dataIntegrity":r.encryptedHmacKey=l.encryptedHmacKey,r.encryptedHmacValue=l.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=l.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(l);break;default:throw l[0]}}),r}function Ame(e,t){var a={},r=a.EncryptionVersionInfo=ah(e,4);if(t-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);a.Flags=e.read_shift(4),t-=4;var n=e.read_shift(4);return t-=4,a.EncryptionHeader=pV(e,n),t-=n,a.EncryptionVerifier=xV(e,t),a}function _me(e){var t={},a=t.EncryptionVersionInfo=ah(e,4);if(a.Major!=1||a.Minor!=1)throw"unrecognized version code "+a.Major+" : "+a.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function XA(e){var t=0,a,r=mV(e),n=r.length+1,i,l,o,c,d;for(a=Df(n),a[0]=r.length,i=1;i!=n;++i)a[i]=r[i-1];for(i=n-1;i>=0;--i)l=a[i],o=(t&16384)===0?0:1,c=t<<1&32767,d=o|c,t=d^l;return t^52811}var gV=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],a=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(l){return(l/2|l*128)&255},n=function(l,o){return r(l^o)},i=function(l){for(var o=t[l.length-1],c=104,d=l.length-1;d>=0;--d)for(var u=l[d],f=0;f!=7;++f)u&64&&(o^=a[c]),u*=2,--c;return o};return function(l){for(var o=mV(l),c=i(o),d=o.length,u=Df(16),f=0;f!=16;++f)u[f]=0;var p,m,v;for((d&1)===1&&(p=c>>8,u[d]=n(e[0],p),--d,p=c&255,m=o[o.length-1],u[d]=n(m,p));d>0;)--d,p=c>>8,u[d]=n(o[d],p),--d,p=c&255,u[d]=n(o[d],p);for(d=15,v=15-o.length;v>0;)p=c>>8,u[d]=n(e[v],p),--d,--v,p=c&255,u[d]=n(o[d],p),--d,--v;return u}})(),Tme=function(e,t,a,r,n){n||(n=t),r||(r=gV(e));var i,l;for(i=0;i!=t.length;++i)l=t[i],l^=r[a],l=(l>>5|l<<3)&255,n[i]=l,++a;return[n,a,r]},Eme=function(e){var t=0,a=gV(e);return function(r){var n=Tme("",r,t,a);return t=n[1],n[0]}};function Dme(e,t,a,r){var n={key:Rn(e),verificationBytes:Rn(e)};return a.password&&(n.verifier=XA(a.password)),r.valid=n.verificationBytes===n.verifier,r.valid&&(r.insitu=Eme(a.password)),n}function Mme(e,t,a){var r=a||{};return r.Info=e.read_shift(2),e.l-=2,r.Info===1?r.Data=_me(e):r.Data=Ame(e,t),r}function Pme(e,t,a){var r={Type:a.biff>=8?e.read_shift(2):0};return r.Type?Mme(e,t-2,r):Dme(e,a.biff>=8?t:t-2,a,r),r}var vV=(function(){function e(n,i){switch(i.type){case"base64":return t(Io(n),i);case"binary":return t(n,i);case"buffer":return t(rs&&Buffer.isBuffer(n)?n.toString("binary"):Vf(n),i);case"array":return t(hm(n),i)}throw new Error("Unrecognized type "+i.type)}function t(n,i){var l=i||{},o=l.dense?[]:{},c=n.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var p=/\\\w+\b/g,m=0,v,g=-1;v=p.exec(u);){switch(v[0]){case"\\cell":var b=u.slice(m,p.lastIndex-v[0].length);if(b[0]==" "&&(b=b.slice(1)),++g,b.length){var j={v:b,t:"s"};Array.isArray(o)?o[f][g]=j:o[Ma({r:f,c:g})]=j}break}m=p.lastIndex}g>d.e.c&&(d.e.c=g)}),o["!ref"]=Ja(d),o}function a(n,i){return Wf(e(n,i),i)}function r(n){for(var i=["{\\rtf1\\ansi"],l=_s(n["!ref"]),o,c=Array.isArray(n),d=l.s.r;d<=l.e.r;++d){i.push("\\trowd\\trautofit1");for(var u=l.s.c;u<=l.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=l.s.c;u<=l.e.c;++u){var f=Ma({r:d,c:u});o=c?(n[d]||[])[u]:n[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(lh(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:a,to_sheet:e,from_sheet:r}})();function Lme(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function r1(e){for(var t=0,a=1;t!=3;++t)a=a*256+(e[t]>255?255:e[t]<0?0:e[t]);return a.toString(16).toUpperCase().slice(1)}function Ome(e){var t=e[0]/255,a=e[1]/255,r=e[2]/255,n=Math.max(t,a,r),i=Math.min(t,a,r),l=n-i;if(l===0)return[0,0,t];var o=0,c=0,d=n+i;switch(c=l/(d>1?2-d:d),n){case t:o=((a-r)/l+6)%6;break;case a:o=(r-t)/l+2;break;case r:o=(t-a)/l+4;break}return[o/6,c,d/2]}function Rme(e){var t=e[0],a=e[1],r=e[2],n=a*2*(r<.5?r:1-r),i=r-n/2,l=[i,i,i],o=6*t,c;if(a!==0)switch(o|0){case 0:case 6:c=n*o,l[0]+=n,l[1]+=c;break;case 1:c=n*(2-o),l[0]+=c,l[1]+=n;break;case 2:c=n*(o-2),l[1]+=n,l[2]+=c;break;case 3:c=n*(4-o),l[1]+=c,l[2]+=n;break;case 4:c=n*(o-4),l[2]+=n,l[0]+=c;break;case 5:c=n*(6-o),l[2]+=c,l[0]+=n;break}for(var d=0;d!=3;++d)l[d]=Math.round(l[d]*255);return l}function ww(e,t){if(t===0)return e;var a=Ome(Lme(e));return t<0?a[2]=a[2]*(1+t):a[2]=1-(1-a[2])*(1-t),r1(Rme(a))}var bV=6,Fme=15,Ime=1,nl=bV;function n1(e){return Math.floor((e+Math.round(128/nl)/256)*nl)}function i1(e){return Math.floor((e-5)/nl*100+.5)/100}function jw(e){return Math.round((e*nl+5)/nl*256)/256}function B5(e){return jw(i1(n1(e)))}function JA(e){var t=Math.abs(e-B5(e)),a=nl;if(t>.005)for(nl=Ime;nl<Fme;++nl)Math.abs(e-B5(e))<=t&&(t=Math.abs(e-B5(e)),a=nl);nl=a}function Mf(e){e.width?(e.wpx=n1(e.width),e.wch=i1(e.wpx),e.MDW=nl):e.wpx?(e.wch=i1(e.wpx),e.width=jw(e.wch),e.MDW=nl):typeof e.wch=="number"&&(e.width=jw(e.wch),e.wpx=n1(e.width),e.MDW=nl),e.customWidth&&delete e.customWidth}var Bme=96,yV=Bme;function l1(e){return e*96/yV}function cx(e){return e*yV/96}var $me={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Ume(e,t,a,r){t.Borders=[];var n={},i=!1;(e[0].match(xl)||[]).forEach(function(l){var o=Fa(l);switch(ru(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":n={},o.diagonalUp&&(n.diagonalUp=vr(o.diagonalUp)),o.diagonalDown&&(n.diagonalDown=vr(o.diagonalDown)),t.Borders.push(n);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function zme(e,t,a,r){t.Fills=[];var n={},i=!1;(e[0].match(xl)||[]).forEach(function(l){var o=Fa(l);switch(ru(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":n={},t.Fills.push(n);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(n),n={};break;case"<patternFill":case"<patternFill>":o.patternType&&(n.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":n.bgColor||(n.bgColor={}),o.indexed&&(n.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(n.bgColor.theme=parseInt(o.theme,10)),o.tint&&(n.bgColor.tint=parseFloat(o.tint)),o.rgb&&(n.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":n.fgColor||(n.fgColor={}),o.theme&&(n.fgColor.theme=parseInt(o.theme,10)),o.tint&&(n.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(n.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function Hme(e,t,a,r){t.Fonts=[];var n={},i=!1;(e[0].match(xl)||[]).forEach(function(l){var o=Fa(l);switch(ru(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(n),n={};break;case"<name":o.val&&(n.name=tr(o.val));break;case"<name/>":case"</name>":break;case"<b":n.bold=o.val?vr(o.val):1;break;case"<b/>":n.bold=1;break;case"<i":n.italic=o.val?vr(o.val):1;break;case"<i/>":n.italic=1;break;case"<u":switch(o.val){case"none":n.underline=0;break;case"single":n.underline=1;break;case"double":n.underline=2;break;case"singleAccounting":n.underline=33;break;case"doubleAccounting":n.underline=34;break}break;case"<u/>":n.underline=1;break;case"<strike":n.strike=o.val?vr(o.val):1;break;case"<strike/>":n.strike=1;break;case"<outline":n.outline=o.val?vr(o.val):1;break;case"<outline/>":n.outline=1;break;case"<shadow":n.shadow=o.val?vr(o.val):1;break;case"<shadow/>":n.shadow=1;break;case"<condense":n.condense=o.val?vr(o.val):1;break;case"<condense/>":n.condense=1;break;case"<extend":n.extend=o.val?vr(o.val):1;break;case"<extend/>":n.extend=1;break;case"<sz":o.val&&(n.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(n.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(n.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(n.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=SA[parseInt(o.val,10)];break;case"<color":if(n.color||(n.color={}),o.auto&&(n.color.auto=vr(o.auto)),o.rgb)n.color.rgb=o.rgb.slice(-6);else if(o.indexed){n.color.index=parseInt(o.indexed,10);var c=K0[n.color.index];n.color.index==81&&(c=K0[1]),c||(c=K0[1]),n.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(n.color.theme=parseInt(o.theme,10),o.tint&&(n.color.tint=parseFloat(o.tint)),o.theme&&a.themeElements&&a.themeElements.clrScheme&&(n.color.rgb=ww(a.themeElements.clrScheme[n.color.theme].rgb,n.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Vme(e,t,a){t.NumberFmt=[];for(var r=ln(Da),n=0;n<r.length;++n)t.NumberFmt[r[n]]=Da[r[n]];var i=e[0].match(xl);if(i)for(n=0;n<i.length;++n){var l=Fa(i[n]);switch(ru(l[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=As(tr(l.formatCode)),c=parseInt(l.numFmtId,10);if(t.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=o}th(o,c)}}break;case"</numFmt>":break;default:if(a.WTF)throw new Error("unrecognized "+l[0]+" in numFmts")}}}function Wme(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var r=a[0];r<=a[1];++r)e[r]!=null&&(t[t.length]=Xt("numFmt",null,{numFmtId:r,formatCode:Ks(e[r])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Xt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Gy=["numFmtId","fillId","fontId","borderId","xfId"],Ky=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function qme(e,t,a){t.CellXf=[];var r,n=!1;(e[0].match(xl)||[]).forEach(function(i){var l=Fa(i),o=0;switch(ru(l[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=l,delete r[0],o=0;o<Gy.length;++o)r[Gy[o]]&&(r[Gy[o]]=parseInt(r[Gy[o]],10));for(o=0;o<Ky.length;++o)r[Ky[o]]&&(r[Ky[o]]=vr(r[Ky[o]]));if(t.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[o]){r.numFmtId=o;break}}t.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};l.vertical&&(c.vertical=l.vertical),l.horizontal&&(c.horizontal=l.horizontal),l.textRotation!=null&&(c.textRotation=l.textRotation),l.indent&&(c.indent=l.indent),l.wrapText&&(c.wrapText=vr(l.wrapText)),r.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(a&&a.WTF&&!n)throw new Error("unrecognized "+l[0]+" in cellXfs")}})}function Gme(e){var t=[];return t[t.length]=Xt("cellXfs",null),e.forEach(function(a){t[t.length]=Xt("xf",null,a)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Xt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Kme=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,a=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,d){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&Vme(f,u,d),(f=o.match(n))&&Hme(f,u,c,d),(f=o.match(r))&&zme(f,u,c,d),(f=o.match(i))&&Ume(f,u,c,d),(f=o.match(a))&&qme(f,u,d),u}})();function wV(e,t){var a=[En,Xt("styleSheet",null,{xmlns:Mm[0],"xmlns:vt":Qn.vt})],r;return e.SSF&&(r=Wme(e.SSF))!=null&&(a[a.length]=r),a[a.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',a[a.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',a[a.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',a[a.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=Gme(t.cellXfs))&&(a[a.length]=r),a[a.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',a[a.length]='<dxfs count="0"/>',a[a.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',a.length>2&&(a[a.length]="</styleSheet>",a[1]=a[1].replace("/>",">")),a.join("")}function Yme(e,t){var a=e.read_shift(2),r=ul(e);return[a,r]}function Xme(e,t,a){a||(a=Nt(6+4*t.length)),a.write_shift(2,e),ji(t,a);var r=a.length>a.l?a.slice(0,a.l):a;return a.l==null&&(a.l=a.length),r}function Jme(e,t,a){var r={};r.sz=e.read_shift(2)/20;var n=Mhe(e);n.fItalic&&(r.italic=1),n.fCondense&&(r.condense=1),n.fExtend&&(r.extend=1),n.fShadow&&(r.shadow=1),n.fOutline&&(r.outline=1),n.fStrikeout&&(r.strike=1);var i=e.read_shift(2);switch(i===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(r.underline=l);var o=e.read_shift(1);o>0&&(r.family=o);var c=e.read_shift(1);switch(c>0&&(r.charset=c),e.l++,r.color=Dhe(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=ul(e),r}function Qme(e,t){t||(t=Nt(153)),t.write_shift(2,e.sz*20),Phe(e,t),t.write_shift(2,e.bold?700:400);var a=0;e.vertAlign=="superscript"?a=1:e.vertAlign=="subscript"&&(a=2),t.write_shift(2,a),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),vw(e.color,t);var r=0;return r=2,t.write_shift(1,r),ji(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Zme=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],$5,epe=fl;function nL(e,t){t||(t=Nt(84)),$5||($5=Qj(Zme));var a=$5[e.patternType];a==null&&(a=40),t.write_shift(4,a);var r=0;if(a!=40)for(vw({auto:1},t),vw({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function tpe(e,t){var a=e.l+t,r=e.read_shift(2),n=e.read_shift(2);return e.l=a,{ixfe:r,numFmtId:n}}function jV(e,t,a){a||(a=Nt(16)),a.write_shift(2,t||0),a.write_shift(2,e.numFmtId||0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(1,0),a.write_shift(1,0);var r=0;return a.write_shift(1,r),a.write_shift(1,0),a.write_shift(1,0),a.write_shift(1,0),a}function Ig(e,t){return t||(t=Nt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var ape=fl;function spe(e,t){return t||(t=Nt(51)),t.write_shift(1,0),Ig(null,t),Ig(null,t),Ig(null,t),Ig(null,t),Ig(null,t),t.length>t.l?t.slice(0,t.l):t}function rpe(e,t){return t||(t=Nt(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),gw(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function npe(e,t,a){var r=Nt(2052);return r.write_shift(4,e),gw(t,r),gw(a,r),r.length>r.l?r.slice(0,r.l):r}function ipe(e,t,a){var r={};r.NumberFmt=[];for(var n in Da)r.NumberFmt[n]=Da[n];r.CellXf=[],r.Fonts=[];var i=[],l=!1;return bh(e,function(c,d,u){switch(u){case 44:r.NumberFmt[c[0]]=c[1],th(c[1],c[0]);break;case 43:r.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=ww(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&r.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:i.push(u),l=!0;break;case 38:i.pop(),l=!1;break;default:if(d.T>0)i.push(u);else if(d.T<0)i.pop();else if(!l||a.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}function lpe(e,t){if(t){var a=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&++a}),a!=0&&(Ft(e,615,ld(a)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&Ft(e,44,Xme(n,t[n]))}),Ft(e,616))}}function ope(e){var t=1;Ft(e,611,ld(t)),Ft(e,43,Qme({sz:12,color:{theme:1},name:"Calibri",family:2})),Ft(e,612)}function cpe(e){var t=2;Ft(e,603,ld(t)),Ft(e,45,nL({patternType:"none"})),Ft(e,45,nL({patternType:"gray125"})),Ft(e,604)}function dpe(e){var t=1;Ft(e,613,ld(t)),Ft(e,46,spe()),Ft(e,614)}function upe(e){var t=1;Ft(e,626,ld(t)),Ft(e,47,jV({numFmtId:0},65535)),Ft(e,627)}function hpe(e,t){Ft(e,617,ld(t.length)),t.forEach(function(a){Ft(e,47,jV(a,0))}),Ft(e,618)}function fpe(e){var t=1;Ft(e,619,ld(t)),Ft(e,48,rpe({xfId:0,name:"Normal"})),Ft(e,620)}function mpe(e){var t=0;Ft(e,505,ld(t)),Ft(e,506)}function ppe(e){var t=0;Ft(e,508,npe(t,"TableStyleMedium9","PivotStyleMedium4")),Ft(e,509)}function xpe(e,t){var a=ro();return Ft(a,278),lpe(a,e.SSF),ope(a),cpe(a),dpe(a),upe(a),hpe(a,t.cellXfs),fpe(a),mpe(a),ppe(a),Ft(a,279),a.end()}var gpe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function vpe(e,t,a){t.themeElements.clrScheme=[];var r={};(e[0].match(xl)||[]).forEach(function(n){var i=Fa(n);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=i.val;break;case"<a:sysClr":r.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[gpe.indexOf(i[0])]=r,r={}):r.name=i[0].slice(3,i[0].length-1);break;default:if(a&&a.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function bpe(){}function ype(){}var wpe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,jpe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Npe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function kpe(e,t,a){t.themeElements={};var r;[["clrScheme",wpe,vpe],["fontScheme",jpe,bpe],["fmtScheme",Npe,ype]].forEach(function(n){if(!(r=e.match(n[1])))throw new Error(n[0]+" not found in themeElements");n[2](r,t,a)})}var Spe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function NV(e,t){(!e||e.length===0)&&(e=QA());var a,r={};if(!(a=e.match(Spe)))throw new Error("themeElements not found in theme");return kpe(a[0],r,t),r.raw=e,r}function QA(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var a=[En];return a[a.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',a[a.length]="<a:themeElements>",a[a.length]='<a:clrScheme name="Office">',a[a.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',a[a.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',a[a.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',a[a.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',a[a.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',a[a.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',a[a.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',a[a.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',a[a.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',a[a.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',a[a.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',a[a.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',a[a.length]="</a:clrScheme>",a[a.length]='<a:fontScheme name="Office">',a[a.length]="<a:majorFont>",a[a.length]='<a:latin typeface="Cambria"/>',a[a.length]='<a:ea typeface=""/>',a[a.length]='<a:cs typeface=""/>',a[a.length]='<a:font script="Jpan" typeface=" "/>',a[a.length]='<a:font script="Hang" typeface=" "/>',a[a.length]='<a:font script="Hans" typeface=""/>',a[a.length]='<a:font script="Hant" typeface=""/>',a[a.length]='<a:font script="Arab" typeface="Times New Roman"/>',a[a.length]='<a:font script="Hebr" typeface="Times New Roman"/>',a[a.length]='<a:font script="Thai" typeface="Tahoma"/>',a[a.length]='<a:font script="Ethi" typeface="Nyala"/>',a[a.length]='<a:font script="Beng" typeface="Vrinda"/>',a[a.length]='<a:font script="Gujr" typeface="Shruti"/>',a[a.length]='<a:font script="Khmr" typeface="MoolBoran"/>',a[a.length]='<a:font script="Knda" typeface="Tunga"/>',a[a.length]='<a:font script="Guru" typeface="Raavi"/>',a[a.length]='<a:font script="Cans" typeface="Euphemia"/>',a[a.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',a[a.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',a[a.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',a[a.length]='<a:font script="Thaa" typeface="MV Boli"/>',a[a.length]='<a:font script="Deva" typeface="Mangal"/>',a[a.length]='<a:font script="Telu" typeface="Gautami"/>',a[a.length]='<a:font script="Taml" typeface="Latha"/>',a[a.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',a[a.length]='<a:font script="Orya" typeface="Kalinga"/>',a[a.length]='<a:font script="Mlym" typeface="Kartika"/>',a[a.length]='<a:font script="Laoo" typeface="DokChampa"/>',a[a.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',a[a.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',a[a.length]='<a:font script="Viet" typeface="Times New Roman"/>',a[a.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',a[a.length]='<a:font script="Geor" typeface="Sylfaen"/>',a[a.length]="</a:majorFont>",a[a.length]="<a:minorFont>",a[a.length]='<a:latin typeface="Calibri"/>',a[a.length]='<a:ea typeface=""/>',a[a.length]='<a:cs typeface=""/>',a[a.length]='<a:font script="Jpan" typeface=" "/>',a[a.length]='<a:font script="Hang" typeface=" "/>',a[a.length]='<a:font script="Hans" typeface=""/>',a[a.length]='<a:font script="Hant" typeface=""/>',a[a.length]='<a:font script="Arab" typeface="Arial"/>',a[a.length]='<a:font script="Hebr" typeface="Arial"/>',a[a.length]='<a:font script="Thai" typeface="Tahoma"/>',a[a.length]='<a:font script="Ethi" typeface="Nyala"/>',a[a.length]='<a:font script="Beng" typeface="Vrinda"/>',a[a.length]='<a:font script="Gujr" typeface="Shruti"/>',a[a.length]='<a:font script="Khmr" typeface="DaunPenh"/>',a[a.length]='<a:font script="Knda" typeface="Tunga"/>',a[a.length]='<a:font script="Guru" typeface="Raavi"/>',a[a.length]='<a:font script="Cans" typeface="Euphemia"/>',a[a.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',a[a.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',a[a.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',a[a.length]='<a:font script="Thaa" typeface="MV Boli"/>',a[a.length]='<a:font script="Deva" typeface="Mangal"/>',a[a.length]='<a:font script="Telu" typeface="Gautami"/>',a[a.length]='<a:font script="Taml" typeface="Latha"/>',a[a.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',a[a.length]='<a:font script="Orya" typeface="Kalinga"/>',a[a.length]='<a:font script="Mlym" typeface="Kartika"/>',a[a.length]='<a:font script="Laoo" typeface="DokChampa"/>',a[a.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',a[a.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',a[a.length]='<a:font script="Viet" typeface="Arial"/>',a[a.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',a[a.length]='<a:font script="Geor" typeface="Sylfaen"/>',a[a.length]="</a:minorFont>",a[a.length]="</a:fontScheme>",a[a.length]='<a:fmtScheme name="Office">',a[a.length]="<a:fillStyleLst>",a[a.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:lin ang="16200000" scaled="1"/>',a[a.length]="</a:gradFill>",a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:lin ang="16200000" scaled="0"/>',a[a.length]="</a:gradFill>",a[a.length]="</a:fillStyleLst>",a[a.length]="<a:lnStyleLst>",a[a.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]="</a:lnStyleLst>",a[a.length]="<a:effectStyleLst>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]="</a:effectStyle>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]="</a:effectStyle>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',a[a.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',a[a.length]="</a:effectStyle>",a[a.length]="</a:effectStyleLst>",a[a.length]="<a:bgFillStyleLst>",a[a.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',a[a.length]="</a:gradFill>",a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',a[a.length]="</a:gradFill>",a[a.length]="</a:bgFillStyleLst>",a[a.length]="</a:fmtScheme>",a[a.length]="</a:themeElements>",a[a.length]="<a:objectDefaults>",a[a.length]="<a:spDef>",a[a.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',a[a.length]="</a:spDef>",a[a.length]="<a:lnDef>",a[a.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',a[a.length]="</a:lnDef>",a[a.length]="</a:objectDefaults>",a[a.length]="<a:extraClrSchemeLst/>",a[a.length]="</a:theme>",a.join("")}function Cpe(e,t,a){var r=e.l+t,n=e.read_shift(4);if(n!==124226){if(!a.cellStyles){e.l=r;return}var i=e.slice(e.l);e.l=r;var l;try{l=pH(i,{type:"array"})}catch{return}var o=Po(l,"theme/theme/theme1.xml",!0);if(o)return NV(o,a)}}function Ape(e){return e.read_shift(4)}function _pe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Tpe(e,4);break;case 2:t.xclrValue=aV(e);break;case 3:t.xclrValue=Ape(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Tpe(e,t){return fl(e,t)}function Epe(e,t){return fl(e,t)}function Dpe(e){var t=e.read_shift(2),a=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=_pe(e);break;case 6:r[1]=Epe(e,a);break;case 14:case 15:r[1]=e.read_shift(a===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+a)}return r}function Mpe(e,t){var a=e.l+t;e.l+=2;var r=e.read_shift(2);e.l+=2;for(var n=e.read_shift(2),i=[];n-- >0;)i.push(Dpe(e,a-e.l));return{ixfe:r,ext:i}}function Ppe(e,t){t.forEach(function(a){a[0]})}function Lpe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ul(e)}}function Ope(e){var t=Nt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),ji(e.name,t),t.slice(0,t.l)}function Rpe(e){for(var t=[],a=e.read_shift(4);a-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Fpe(e){var t=Nt(4+8*e.length);t.write_shift(4,e.length);for(var a=0;a<e.length;++a)t.write_shift(4,e[a][0]),t.write_shift(4,e[a][1]);return t}function Ipe(e,t){var a=Nt(8+2*t.length);return a.write_shift(4,e),ji(t,a),a.slice(0,a.l)}function Bpe(e){return e.l+=4,e.read_shift(4)!=0}function $pe(e,t){var a=Nt(8);return a.write_shift(4,e),a.write_shift(4,1),a}function Upe(e,t,a){var r={Types:[],Cell:[],Value:[]},n=a||{},i=[],l=!1,o=2;return bh(e,function(c,d,u){switch(u){case 335:r.Types.push({name:c.name});break;case 51:c.forEach(function(f){o==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):o==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:i.push(u),l=!0;break;case 36:i.pop(),l=!1;break;default:if(!d.T){if(!l||n.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function zpe(){var e=ro();return Ft(e,332),Ft(e,334,ld(1)),Ft(e,335,Ope({name:"XLDAPR",version:12e4,flags:3496657072})),Ft(e,336),Ft(e,339,Ipe(1,"XLDAPR")),Ft(e,52),Ft(e,35,ld(514)),Ft(e,4096,ld(0)),Ft(e,4097,mc(1)),Ft(e,36),Ft(e,53),Ft(e,340),Ft(e,337,$pe(1)),Ft(e,51,Fpe([[1,0]])),Ft(e,338),Ft(e,333),e.end()}function Hpe(e,t,a){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var n=!1,i=2,l;return e.replace(xl,function(o){var c=Fa(o);switch(ru(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<r.Types.length;++d)r.Types[d].name==c.name&&(l=r.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?r.Cell.push({type:r.Types[c.t-1].name,index:+c.v}):i==0&&r.Value.push({type:r.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<rvb":if(!l)break;l.offsets||(l.offsets=[]),l.offsets.push(+c.i);break;default:if(!n&&a.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),r}function kV(){var e=[En];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Vpe(e){var t=[];if(!e)return t;var a=1;return(e.match(xl)||[]).forEach(function(r){var n=Fa(r);switch(n[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?a=n.i:n.i=a,t.push(n);break}}),t}function Wpe(e){var t={};t.i=e.read_shift(4);var a={};a.r=e.read_shift(4),a.c=e.read_shift(4),t.r=Ma(a);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}function qpe(e,t,a){var r=[];return bh(e,function(i,l,o){switch(o){case 63:r.push(i);break;default:if(!l.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Gpe(e,t,a,r){if(!e)return e;var n=r||{},i=!1;bh(e,function(o,c,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||n.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},n)}function Kpe(e,t){if(!e)return"??";var a=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][a].Target}var Bp=1024;function SV(e,t){for(var a=[21600,21600],r=["m0,0l0",a[1],a[0],a[1],a[0],"0xe"].join(","),n=[Xt("xml",null,{"xmlns:v":To.v,"xmlns:o":To.o,"xmlns:x":To.x,"xmlns:mv":To.mv}).replace(/\/>/,">"),Xt("o:shapelayout",Xt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Xt("v:shapetype",[Xt("v:stroke",null,{joinstyle:"miter"}),Xt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:a.join(","),path:r})];Bp<e*1e3;)Bp+=1e3;return t.forEach(function(i){var l=Yr(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?Xt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Xt("v:fill",c,o),u={on:"t",obscured:"t"};++Bp,n=n.concat(["<v:shape"+t1({id:"_x0000_s"+Bp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Xt("v:shadow",null,u),Xt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",zi("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),zi("x:AutoFill","False"),zi("x:Row",String(l.r)),zi("x:Column",String(l.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function iL(e,t,a,r){var n=Array.isArray(e),i;t.forEach(function(l){var o=Yr(l.ref);if(n?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[l.ref],!i){i={t:"z"},n?e[o.r][o.c]=i:e[l.ref]=i;var c=_s(e["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var d=Ja(c);d!==e["!ref"]&&(e["!ref"]=d)}i.c||(i.c=[]);var u={a:l.author,t:l.t,r:l.r,T:a};l.h&&(u.h=l.h);for(var f=i.c.length-1;f>=0;--f){if(!a&&i.c[f].T)return;a&&!i.c[f].T&&i.c.splice(f,1)}if(a&&r){for(f=0;f<r.length;++f)if(u.a==r[f].id){u.a=r[f].name||u.a;break}}i.c.push(u)})}function Ype(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var a=[],r=[],n=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);n&&n[1]&&n[1].split(/<\/\w*:?author>/).forEach(function(l){if(!(l===""||l.trim()==="")){var o=l.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&a.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(l){if(!(l===""||l.trim()==="")){var o=l.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=Fa(o[0]),d={author:c.authorId&&a[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},u=Yr(c.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=l.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),p=!!f&&!!f[1]&&YA(f[1])||{r:"",t:"",h:""};d.r=p.r,p.r=="<t></t>"&&(p.t=p.h=""),d.t=(p.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(d.h=p.h),r.push(d)}}}}),r}function CV(e){var t=[En,Xt("comments",null,{xmlns:Mm[0]})],a=[];return t.push("<authors>"),e.forEach(function(r){r[1].forEach(function(n){var i=Ks(n.a);a.indexOf(i)==-1&&(a.push(i),t.push("<author>"+i+"</author>")),n.T&&n.ID&&a.indexOf("tc="+n.ID)==-1&&(a.push("tc="+n.ID),t.push("<author>tc="+n.ID+"</author>"))})}),a.length==0&&(a.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(r){var n=0,i=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?n=a.indexOf("tc="+r[1][0].ID):r[1].forEach(function(c){c.a&&(n=a.indexOf(Ks(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+r[0]+'" authorId="'+n+'"><text>'),i.length<=1)t.push(zi("t",Ks(i[0]||"")));else{for(var l=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)l+=`Reply:
    `+i[o]+`
`;t.push(zi("t",Ks(l)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Xpe(e,t){var a=[],r=!1,n={},i=0;return e.replace(xl,function(o,c){var d=Fa(o);switch(ru(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":n={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":n.t!=null&&a.push(n);break;case"<text>":case"<text":i=c+o.length;break;case"</text>":n.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return o}),a}function Jpe(e,t,a){var r=[En,Xt("ThreadedComments",null,{xmlns:Qn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(n){var i="";(n[1]||[]).forEach(function(l,o){if(!l.T){delete l.ID;return}l.a&&t.indexOf(l.a)==-1&&t.push(l.a);var c={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+a.tcid++).slice(-12)+"}"};o==0?i=c.id:c.parentId=i,l.ID=c.id,l.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(l.a)).slice(-12)+"}"),r.push(Xt("threadedComment",zi("text",l.t||""),c))})}),r.push("</ThreadedComments>"),r.join("")}function Qpe(e,t){var a=[],r=!1;return e.replace(xl,function(i){var l=Fa(i);switch(ru(l[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":a.push({name:l.displayname,id:l.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return i}),a}function Zpe(e){var t=[En,Xt("personList",null,{xmlns:Qn.TCMNT,"xmlns:x":Mm[0]}).replace(/[\/]>/,">")];return e.forEach(function(a,r){t.push(Xt("person",null,{displayName:a,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:a,providerId:"None"}))}),t.push("</personList>"),t.join("")}function exe(e){var t={};t.iauthor=e.read_shift(4);var a=Rm(e);return t.rfx=a.s,t.ref=Ma(a.s),e.l+=16,t}function txe(e,t){return t==null&&(t=Nt(36)),t.write_shift(4,e[1].iauthor),Tx(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var axe=ul;function sxe(e){return ji(e.slice(0,54))}function rxe(e,t){var a=[],r=[],n={},i=!1;return bh(e,function(o,c,d){switch(d){case 632:r.push(o);break;case 635:n=o;break;case 637:n.t=o.t,n.h=o.h,n.r=o.r;break;case 636:if(n.author=r[n.iauthor],delete n.iauthor,t.sheetRows&&n.rfx&&t.sheetRows<=n.rfx.r)break;n.t||(n.t=""),delete n.rfx,a.push(n);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),a}function nxe(e){var t=ro(),a=[];return Ft(t,628),Ft(t,630),e.forEach(function(r){r[1].forEach(function(n){a.indexOf(n.a)>-1||(a.push(n.a.slice(0,54)),Ft(t,632,sxe(n.a)))})}),Ft(t,631),Ft(t,633),e.forEach(function(r){r[1].forEach(function(n){n.iauthor=a.indexOf(n.a);var i={s:Yr(r[0]),e:Yr(r[0])};Ft(t,635,txe([i,n])),n.t&&n.t.length>0&&Ft(t,637,Ahe(n)),Ft(t,636),delete n.iauthor})}),Ft(t,634),Ft(t,629),t.end()}var ixe="application/vnd.ms-office.vbaProject";function lxe(e){var t=Na.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(a,r){if(!(a.slice(-1)==="/"||!a.match(/_VBA_PROJECT_CUR/))){var n=a.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Na.utils.cfb_add(t,n,e.FileIndex[r].content)}}),Na.write(t)}function oxe(e,t){t.FullPaths.forEach(function(a,r){if(r!=0){var n=a.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&Na.utils.cfb_add(e,n,t.FileIndex[r].content)}})}var AV=["xlsb","xlsm","xlam","biff8","xla"];function cxe(){return{"!type":"dialog"}}function dxe(){return{"!type":"dialog"}}function uxe(){return{"!type":"macro"}}function hxe(){return{"!type":"macro"}}var Yp=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function a(r,n,i,l){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),l.length==0?o=!0:l.charAt(0)=="["&&(o=!0,l=l.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,u=l.length>0?parseInt(l,10)|0:0;return o?u+=t.c:--u,c?d+=t.r:--d,n+(o?"":"$")+Kr(u)+(c?"":"$")+Cn(d)}return function(n,i){return t=i,n.replace(e,a)}})(),ZA=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,e8=(function(){return function(t,a){return t.replace(ZA,function(r,n,i,l,o,c){var d=$A(l)-(i?0:a.c),u=BA(c)-(o?0:a.r),f=u==0?"":o?u+1:"["+u+"]",p=d==0?"":i?d+1:"["+d+"]";return n+"R"+f+"C"+p})}})();function _V(e,t){return e.replace(ZA,function(a,r,n,i,l,o){return r+(n=="$"?n+i:Kr($A(i)+t.c))+(l=="$"?l+o:Cn(BA(o)+t.r))})}function fxe(e,t,a){var r=no(t),n=r.s,i=Yr(a),l={r:i.r-n.r,c:i.c-n.c};return _V(e,l)}function mxe(e){return e.length!=1}function lL(e){return e.replace(/_xlfn\./g,"")}function Ln(e){e.l+=1}function Pf(e,t){var a=e.read_shift(2);return[a&16383,a>>14&1,a>>15&1]}function TV(e,t,a){var r=2;if(a){if(a.biff>=2&&a.biff<=5)return EV(e);a.biff==12&&(r=4)}var n=e.read_shift(r),i=e.read_shift(r),l=Pf(e),o=Pf(e);return{s:{r:n,c:l[0],cRel:l[1],rRel:l[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function EV(e){var t=Pf(e),a=Pf(e),r=e.read_shift(1),n=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:a[0],c:n,cRel:a[1],rRel:a[2]}}}function pxe(e,t,a){if(a.biff<8)return EV(e);var r=e.read_shift(a.biff==12?4:2),n=e.read_shift(a.biff==12?4:2),i=Pf(e),l=Pf(e);return{s:{r,c:i[0],cRel:i[1],rRel:i[2]},e:{r:n,c:l[0],cRel:l[1],rRel:l[2]}}}function DV(e,t,a){if(a&&a.biff>=2&&a.biff<=5)return xxe(e);var r=e.read_shift(a&&a.biff==12?4:2),n=Pf(e);return{r,c:n[0],cRel:n[1],rRel:n[2]}}function xxe(e){var t=Pf(e),a=e.read_shift(1);return{r:t[0],c:a,cRel:t[1],rRel:t[2]}}function gxe(e){var t=e.read_shift(2),a=e.read_shift(2);return{r:t,c:a&255,fQuoted:!!(a&16384),cRel:a>>15,rRel:a>>15}}function vxe(e,t,a){var r=a&&a.biff?a.biff:8;if(r>=2&&r<=5)return bxe(e);var n=e.read_shift(r>=12?4:2),i=e.read_shift(2),l=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;n>524287;)n-=1048576;if(l==1)for(;i>8191;)i=i-16384;return{r:n,c:i,cRel:l,rRel:o}}function bxe(e){var t=e.read_shift(2),a=e.read_shift(1),r=(t&32768)>>15,n=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),n==1&&a>=128&&(a=a-256),{r:t,c:a,cRel:n,rRel:r}}function yxe(e,t,a){var r=(e[e.l++]&96)>>5,n=TV(e,a.biff>=2&&a.biff<=5?6:8,a);return[r,n]}function wxe(e,t,a){var r=(e[e.l++]&96)>>5,n=e.read_shift(2,"i"),i=8;if(a)switch(a.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var l=TV(e,i,a);return[r,n,l]}function jxe(e,t,a){var r=(e[e.l++]&96)>>5;return e.l+=a&&a.biff>8?12:a.biff<8?6:8,[r]}function Nxe(e,t,a){var r=(e[e.l++]&96)>>5,n=e.read_shift(2),i=8;if(a)switch(a.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[r,n]}function kxe(e,t,a){var r=(e[e.l++]&96)>>5,n=pxe(e,t-1,a);return[r,n]}function Sxe(e,t,a){var r=(e[e.l++]&96)>>5;return e.l+=a.biff==2?6:a.biff==12?14:7,[r]}function oL(e){var t=e[e.l+1]&1,a=1;return e.l+=4,[t,a]}function Cxe(e,t,a){e.l+=2;for(var r=e.read_shift(a&&a.biff==2?1:2),n=[],i=0;i<=r;++i)n.push(e.read_shift(a&&a.biff==2?1:2));return n}function Axe(e,t,a){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(a&&a.biff==2?1:2)]}function _xe(e,t,a){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(a&&a.biff==2?1:2)]}function Txe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Exe(e,t,a){var r=e[e.l+1]&255?1:0;return e.l+=a&&a.biff==2?3:4,[r]}function MV(e){var t=e.read_shift(1),a=e.read_shift(1);return[t,a]}function Dxe(e){return e.read_shift(2),MV(e)}function Mxe(e){return e.read_shift(2),MV(e)}function Pxe(e,t,a){var r=(e[e.l]&96)>>5;e.l+=1;var n=DV(e,0,a);return[r,n]}function Lxe(e,t,a){var r=(e[e.l]&96)>>5;e.l+=1;var n=vxe(e,0,a);return[r,n]}function Oxe(e,t,a){var r=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(2);a&&a.biff==5&&(e.l+=12);var i=DV(e,0,a);return[r,n,i]}function Rxe(e,t,a){var r=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(a&&a.biff<=3?1:2);return[Bge[n],OV[n],r]}function Fxe(e,t,a){var r=e[e.l++],n=e.read_shift(1),i=a&&a.biff<=3?[r==88?-1:0,e.read_shift(1)]:Ixe(e);return[n,(i[0]===0?OV:Ige)[i[1]]]}function Ixe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Bxe(e,t,a){e.l+=a&&a.biff==2?3:4}function $xe(e,t,a){if(e.l++,a&&a.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),n=e.read_shift(a&&a.biff==2?1:2);return[r,n]}function Uxe(e){return e.l++,yh[e.read_shift(1)]}function zxe(e){return e.l++,e.read_shift(2)}function Hxe(e){return e.l++,e.read_shift(1)!==0}function Vxe(e){return e.l++,ol(e)}function Wxe(e,t,a){return e.l++,G1(e,t-1,a)}function qxe(e,t){var a=[e.read_shift(1)];if(t==12)switch(a[0]){case 2:a[0]=4;break;case 4:a[0]=16;break;case 0:a[0]=1;break;case 1:a[0]=2;break}switch(a[0]){case 4:a[1]=bn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:a[1]=yh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:a[1]=ol(e);break;case 2:a[1]=Fm(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+a[0])}return a}function Gxe(e,t,a){for(var r=e.read_shift(a.biff==12?4:2),n=[],i=0;i!=r;++i)n.push((a.biff==12?Rm:tN)(e));return n}function Kxe(e,t,a){var r=0,n=0;a.biff==12?(r=e.read_shift(4),n=e.read_shift(4)):(n=1+e.read_shift(1),r=1+e.read_shift(2)),a.biff>=2&&a.biff<8&&(--r,--n==0&&(n=256));for(var i=0,l=[];i!=r&&(l[i]=[]);++i)for(var o=0;o!=n;++o)l[i][o]=qxe(e,a.biff);return l}function Yxe(e,t,a){var r=e.read_shift(1)>>>5&3,n=!a||a.biff>=8?4:2,i=e.read_shift(n);switch(a.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,i]}function Xxe(e,t,a){if(a.biff==5)return Jxe(e);var r=e.read_shift(1)>>>5&3,n=e.read_shift(2),i=e.read_shift(4);return[r,n,i]}function Jxe(e){var t=e.read_shift(1)>>>5&3,a=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,a,r]}function Qxe(e,t,a){var r=e.read_shift(1)>>>5&3;e.l+=a&&a.biff==2?3:4;var n=e.read_shift(a&&a.biff==2?1:2);return[r,n]}function Zxe(e,t,a){var r=e.read_shift(1)>>>5&3,n=e.read_shift(a&&a.biff==2?1:2);return[r,n]}function ege(e,t,a){var r=e.read_shift(1)>>>5&3;return e.l+=4,a.biff<8&&e.l--,a.biff==12&&(e.l+=2),[r]}function tge(e,t,a){var r=(e[e.l++]&96)>>5,n=e.read_shift(2),i=4;if(a)switch(a.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[r,n]}var age=fl,sge=fl,rge=fl;function Y1(e,t,a){return e.l+=2,[gxe(e)]}function t8(e){return e.l+=6,[]}var nge=Y1,ige=t8,lge=t8,oge=Y1;function PV(e){return e.l+=2,[Rn(e),e.read_shift(2)&1]}var cge=Y1,dge=PV,uge=t8,hge=Y1,fge=Y1,mge=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function pge(e){e.l+=2;var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(4),n=e.read_shift(2),i=e.read_shift(2),l=mge[a>>2&31];return{ixti:t,coltype:a&3,rt:l,idx:r,c:n,C:i}}function xge(e){return e.l+=2,[e.read_shift(4)]}function gge(e,t,a){return e.l+=5,e.l+=2,e.l+=a.biff==2?1:4,["PTGSHEET"]}function vge(e,t,a){return e.l+=a.biff==2?4:5,["PTGENDSHEET"]}function bge(e){var t=e.read_shift(1)>>>5&3,a=e.read_shift(2);return[t,a]}function yge(e){var t=e.read_shift(1)>>>5&3,a=e.read_shift(2);return[t,a]}function wge(e){return e.l+=4,[0,0]}var cL={1:{n:"PtgExp",f:$xe},2:{n:"PtgTbl",f:rge},3:{n:"PtgAdd",f:Ln},4:{n:"PtgSub",f:Ln},5:{n:"PtgMul",f:Ln},6:{n:"PtgDiv",f:Ln},7:{n:"PtgPower",f:Ln},8:{n:"PtgConcat",f:Ln},9:{n:"PtgLt",f:Ln},10:{n:"PtgLe",f:Ln},11:{n:"PtgEq",f:Ln},12:{n:"PtgGe",f:Ln},13:{n:"PtgGt",f:Ln},14:{n:"PtgNe",f:Ln},15:{n:"PtgIsect",f:Ln},16:{n:"PtgUnion",f:Ln},17:{n:"PtgRange",f:Ln},18:{n:"PtgUplus",f:Ln},19:{n:"PtgUminus",f:Ln},20:{n:"PtgPercent",f:Ln},21:{n:"PtgParen",f:Ln},22:{n:"PtgMissArg",f:Ln},23:{n:"PtgStr",f:Wxe},26:{n:"PtgSheet",f:gge},27:{n:"PtgEndSheet",f:vge},28:{n:"PtgErr",f:Uxe},29:{n:"PtgBool",f:Hxe},30:{n:"PtgInt",f:zxe},31:{n:"PtgNum",f:Vxe},32:{n:"PtgArray",f:Sxe},33:{n:"PtgFunc",f:Rxe},34:{n:"PtgFuncVar",f:Fxe},35:{n:"PtgName",f:Yxe},36:{n:"PtgRef",f:Pxe},37:{n:"PtgArea",f:yxe},38:{n:"PtgMemArea",f:Qxe},39:{n:"PtgMemErr",f:age},40:{n:"PtgMemNoMem",f:sge},41:{n:"PtgMemFunc",f:Zxe},42:{n:"PtgRefErr",f:ege},43:{n:"PtgAreaErr",f:jxe},44:{n:"PtgRefN",f:Lxe},45:{n:"PtgAreaN",f:kxe},46:{n:"PtgMemAreaN",f:bge},47:{n:"PtgMemNoMemN",f:yge},57:{n:"PtgNameX",f:Xxe},58:{n:"PtgRef3d",f:Oxe},59:{n:"PtgArea3d",f:wxe},60:{n:"PtgRefErr3d",f:tge},61:{n:"PtgAreaErr3d",f:Nxe},255:{}},jge={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Nge={1:{n:"PtgElfLel",f:PV},2:{n:"PtgElfRw",f:hge},3:{n:"PtgElfCol",f:nge},6:{n:"PtgElfRwV",f:fge},7:{n:"PtgElfColV",f:oge},10:{n:"PtgElfRadical",f:cge},11:{n:"PtgElfRadicalS",f:uge},13:{n:"PtgElfColS",f:ige},15:{n:"PtgElfColSV",f:lge},16:{n:"PtgElfRadicalLel",f:dge},25:{n:"PtgList",f:pge},29:{n:"PtgSxName",f:xge},255:{}},kge={0:{n:"PtgAttrNoop",f:wge},1:{n:"PtgAttrSemi",f:Exe},2:{n:"PtgAttrIf",f:_xe},4:{n:"PtgAttrChoose",f:Cxe},8:{n:"PtgAttrGoto",f:Axe},16:{n:"PtgAttrSum",f:Bxe},32:{n:"PtgAttrBaxcel",f:oL},33:{n:"PtgAttrBaxcel",f:oL},64:{n:"PtgAttrSpace",f:Dxe},65:{n:"PtgAttrSpaceSemi",f:Mxe},128:{n:"PtgAttrIfError",f:Txe},255:{}};function X1(e,t,a,r){if(r.biff<8)return fl(e,t);for(var n=e.l+t,i=[],l=0;l!==a.length;++l)switch(a[l][0]){case"PtgArray":a[l][1]=Kxe(e,0,r),i.push(a[l][1]);break;case"PtgMemArea":a[l][2]=Gxe(e,a[l][1],r),i.push(a[l][2]);break;case"PtgExp":r&&r.biff==12&&(a[l][1][1]=e.read_shift(4),i.push(a[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+a[l][0]}return t=n-e.l,t!==0&&i.push(fl(e,t)),i}function J1(e,t,a){for(var r=e.l+t,n,i,l=[];r!=e.l;)t=r-e.l,i=e[e.l],n=cL[i]||cL[jge[i]],(i===24||i===25)&&(n=(i===24?Nge:kge)[e[e.l+1]]),!n||!n.f?fl(e,t):l.push([n.n,n.f(e,t,a)]);return l}function Sge(e){for(var t=[],a=0;a<e.length;++a){for(var r=e[a],n=[],i=0;i<r.length;++i){var l=r[i];if(l)switch(l[0]){case 2:n.push('"'+l[1].replace(/"/g,'""')+'"');break;default:n.push(l[1])}else n.push("")}t.push(n.join(","))}return t.join(";")}var Cge={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Age(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function LV(e,t,a){if(!e)return"SH33TJSERR0";if(a.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(a.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var n="";if(a.biff>8)switch(e[r[0]][0]){case 357:return n=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?n:n+":"+e.SheetNames[r[2]];case 358:return a.SID!=null?e.SheetNames[a.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return n=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?n:n+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[r[0]][0][3]?(n=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?n:n+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function dL(e,t,a){var r=LV(e,t,a);return r=="#REF"?r:Age(r,a)}function rl(e,t,a,r,n){var i=n&&n.biff||8,l={s:{c:0,r:0}},o=[],c,d,u,f=0,p=0,m,v="";if(!e[0]||!e[0][0])return"";for(var g=-1,b="",j=0,N=e[0].length;j<N;++j){var k=e[0][j];switch(k[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),d=o.pop(),g>=0){switch(e[0][g][1][0]){case 0:b=sn(" ",e[0][g][1][1]);break;case 1:b=sn("\r",e[0][g][1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}d=d+b,g=-1}o.push(d+Cge[k[0]]+c);break;case"PtgIsect":c=o.pop(),d=o.pop(),o.push(d+" "+c);break;case"PtgUnion":c=o.pop(),d=o.pop(),o.push(d+","+c);break;case"PtgRange":c=o.pop(),d=o.pop(),o.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=vv(k[1][1],l,n),o.push(bv(u,i));break;case"PtgRefN":u=a?vv(k[1][1],a,n):k[1][1],o.push(bv(u,i));break;case"PtgRef3d":f=k[1][1],u=vv(k[1][2],l,n),v=dL(r,f,n),o.push(v+"!"+bv(u,i));break;case"PtgFunc":case"PtgFuncVar":var S=k[1][0],C=k[1][1];S||(S=0),S&=127;var _=S==0?[]:o.slice(-S);o.length-=S,C==="User"&&(C=_.shift()),o.push(C+"("+_.join(",")+")");break;case"PtgBool":o.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(k[1]);break;case"PtgNum":o.push(String(k[1]));break;case"PtgStr":o.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(k[1]);break;case"PtgAreaN":m=BP(k[1][1],a?{s:a}:l,n),o.push(R5(m,n));break;case"PtgArea":m=BP(k[1][1],l,n),o.push(R5(m,n));break;case"PtgArea3d":f=k[1][1],m=k[1][2],v=dL(r,f,n),o.push(v+"!"+R5(m,n));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=k[1][2];var P=(r.names||[])[p-1]||(r[0]||[])[p],L=P?P.Name:"SH33TJSNAME"+String(p);L&&L.slice(0,6)=="_xlfn."&&!n.xlfn&&(L=L.slice(6)),o.push(L);break;case"PtgNameX":var U=k[1][1];p=k[1][2];var z;if(n.biff<=5)U<0&&(U=-U),r[U]&&(z=r[U][p]);else{var T="";if(((r[U]||[])[0]||[])[0]==14849||(((r[U]||[])[0]||[])[0]==1025?r[U][p]&&r[U][p].itab>0&&(T=r.SheetNames[r[U][p].itab-1]+"!"):T=r.SheetNames[p-1]+"!"),r[U]&&r[U][p])T+=r[U][p].Name;else if(r[0]&&r[0][p])T+=r[0][p].Name;else{var F=(LV(r,U,n)||"").split(";;");F[p-1]?T=F[p-1]:T+="SH33TJSERRX"}o.push(T);break}z||(z={Name:"SH33TJSERRY"}),o.push(z.Name);break;case"PtgParen":var M="(",I=")";if(g>=0){switch(b="",e[0][g][1][0]){case 2:M=sn(" ",e[0][g][1][1])+M;break;case 3:M=sn("\r",e[0][g][1][1])+M;break;case 4:I=sn(" ",e[0][g][1][1])+I;break;case 5:I=sn("\r",e[0][g][1][1])+I;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}o.push(M+o.pop()+I);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:k[1][1],r:k[1][0]};var W={c:a.c,r:a.r};if(r.sharedf[Ma(u)]){var R=r.sharedf[Ma(u)];o.push(rl(R,l,W,r,n))}else{var q=!1;for(c=0;c!=r.arrayf.length;++c)if(d=r.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){o.push(rl(d[1],l,W,r,n)),q=!0;break}q||o.push(k[1])}break;case"PtgArray":o.push("{"+Sge(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var ae=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&g>=0&&ae.indexOf(e[0][j][0])==-1){k=e[0][g];var te=!0;switch(k[1][0]){case 4:te=!1;case 0:b=sn(" ",k[1][1]);break;case 5:te=!1;case 1:b=sn("\r",k[1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}o.push((te?b:"")+o.pop()+(te?"":b)),g=-1}}if(o.length>1&&n.WTF)throw new Error("bad formula stack");return o[0]}function _ge(e,t,a){var r=e.l+t,n=a.biff==2?1:2,i,l=e.read_shift(n);if(l==65535)return[[],fl(e,t-2)];var o=J1(e,l,a);return t!==l+n&&(i=X1(e,t-l-n,o,a)),e.l=r,[o,i]}function Tge(e,t,a){var r=e.l+t,n=a.biff==2?1:2,i,l=e.read_shift(n);if(l==65535)return[[],fl(e,t-2)];var o=J1(e,l,a);return t!==l+n&&(i=X1(e,t-l-n,o,a)),e.l=r,[o,i]}function Ege(e,t,a,r){var n=e.l+t,i=J1(e,r,a),l;return n!==e.l&&(l=X1(e,n-e.l,i,a)),[i,l]}function Dge(e,t,a){var r=e.l+t,n,i=e.read_shift(2),l=J1(e,i,a);return i==65535?[[],fl(e,t-2)]:(t!==i+2&&(n=X1(e,r-i-2,l,a)),[l,n])}function Mge(e){var t;if(qu(e,e.l+6)!==65535)return[ol(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Pge(e){if(e==null){var t=Nt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return fm(e);return fm(0)}function U5(e,t,a){var r=e.l+t,n=nu(e);a.biff==2&&++e.l;var i=Mge(e),l=e.read_shift(1);a.biff!=2&&(e.read_shift(1),a.biff>=5&&e.read_shift(4));var o=Tge(e,r-e.l,a);return{cell:n,val:i[0],formula:o,shared:l>>3&1,tt:i[1]}}function Lge(e,t,a,r,n){var i=pm(t,a,n),l=Pge(e.v),o=Nt(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var d=Nt(e.bf.length),u=0;u<e.bf.length;++u)d[u]=e.bf[u];var f=yi([i,l,o,d]);return f}function aN(e,t,a){var r=e.read_shift(4),n=J1(e,r,a),i=e.read_shift(4),l=i>0?X1(e,i,n,a):null;return[n,l]}var Oge=aN,sN=aN,Rge=aN,Fge=aN,Ige={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},OV={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Bge={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function uL(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,a){return a.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function $ge(e){var t="of:="+e.replace(ZA,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function z5(e){var t=e.split(":"),a=t[0].split(".")[0];return[a,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function Uge(e){return e.replace(/\./,"!")}var wv={},Xp={},jv=typeof Map<"u";function a8(e,t,a){var r=0,n=e.length;if(a){if(jv?a.has(t):Object.prototype.hasOwnProperty.call(a,t)){for(var i=jv?a.get(t):a[t];r<i.length;++r)if(e[i[r]].t===t)return e.Count++,i[r]}}else for(;r<n;++r)if(e[r].t===t)return e.Count++,r;return e[n]={t},e.Count++,e.Unique++,a&&(jv?(a.has(t)||a.set(t,[]),a.get(t).push(n)):(Object.prototype.hasOwnProperty.call(a,t)||(a[t]=[]),a[t].push(n))),n}function rN(e,t){var a={min:e+1,max:e+1},r=-1;return t.MDW&&(nl=t.MDW),t.width!=null?a.customWidth=1:t.wpx!=null?r=i1(t.wpx):t.wch!=null&&(r=t.wch),r>-1?(a.width=jw(r),a.customWidth=1):t.width!=null&&(a.width=t.width),t.hidden&&(a.hidden=!0),t.level!=null&&(a.outlineLevel=a.level=t.level),a}function J0(e,t){if(e){var a=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(a=[1,1,1,1,.5,.5]),e.left==null&&(e.left=a[0]),e.right==null&&(e.right=a[1]),e.top==null&&(e.top=a[2]),e.bottom==null&&(e.bottom=a[3]),e.header==null&&(e.header=a[4]),e.footer==null&&(e.footer=a[5])}}function qf(e,t,a){var r=a.revssf[t.z!=null?t.z:"General"],n=60,i=e.length;if(r==null&&a.ssf){for(;n<392;++n)if(a.ssf[n]==null){th(t.z,n),a.ssf[n]=t.z,a.revssf[t.z]=r=n;break}}for(n=0;n!=i;++n)if(e[n].numFmtId===r)return n;return e[i]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function RV(e,t,a,r,n,i){try{r.cellNF&&(e.z=Da[t])}catch(o){if(r.WTF)throw o}if(!(e.t==="z"&&!r.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=wr(e.v)),(!r||r.cellText!==!1)&&e.t!=="z")try{if(Da[t]==null&&th(Iue[t]||"General",t),e.t==="e")e.w=e.w||yh[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Zv(e.v);else if(e.t==="d"){var l=ti(e.v);(l|0)===l?e.w=l.toString(10):e.w=Zv(l)}else{if(e.v===void 0)return"";e.w=um(e.v,Xp)}else e.t==="d"?e.w=yc(t,ti(e.v),Xp):e.w=yc(t,e.v,Xp)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&a!=null)try{e.s=i.Fills[a],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=ww(n.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=n.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=ww(n.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=n.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&i.Fills)throw o}}}function zge(e,t,a){if(e&&e["!ref"]){var r=_s(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+a+"): "+e["!ref"])}}function Hge(e,t){var a=_s(t);a.s.r<=a.e.r&&a.s.c<=a.e.c&&a.s.r>=0&&a.s.c>=0&&(e["!ref"]=Ja(a))}var Vge=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Wge=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,qge=/<(?:\w:)?hyperlink [^>]*>/mg,Gge=/"(\w*:\w*)"/,Kge=/<(?:\w:)?col\b[^>]*[\/]?>/g,Yge=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Xge=/<(?:\w:)?pageMargins[^>]*\/>/g,FV=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Jge=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Qge=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Zge(e,t,a,r,n,i,l){if(!e)return e;r||(r={"!id":{}});var o=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",u="",f=e.match(Wge);f?(d=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):d=u=e;var p=d.match(FV);p?s8(p[0],o,n,a):(p=d.match(Jge))&&tve(p[0],p[1]||"",o,n,a);var m=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var v=d.slice(m,m+50).match(Gge);v&&Hge(o,v[1])}var g=d.match(Qge);g&&g[1]&&mve(g[1],n);var b=[];if(t.cellStyles){var j=d.match(Kge);j&&cve(b,j)}f&&gve(f[1],o,t,c,i,l);var N=u.match(Yge);N&&(o["!autofilter"]=uve(N[0]));var k=[],S=u.match(Vge);if(S)for(m=0;m!=S.length;++m)k[m]=_s(S[m].slice(S[m].indexOf('"')+1));var C=u.match(qge);C&&ive(o,C,r);var _=u.match(Xge);if(_&&(o["!margins"]=lve(Fa(_[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=Ja(c)),t.sheetRows>0&&o["!ref"]){var P=_s(o["!ref"]);t.sheetRows<=+P.e.r&&(P.e.r=t.sheetRows-1,P.e.r>c.e.r&&(P.e.r=c.e.r),P.e.r<P.s.r&&(P.s.r=P.e.r),P.e.c>c.e.c&&(P.e.c=c.e.c),P.e.c<P.s.c&&(P.s.c=P.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Ja(P))}return b.length>0&&(o["!cols"]=b),k.length>0&&(o["!merges"]=k),o}function eve(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',a=0;a!=e.length;++a)t+='<mergeCell ref="'+Ja(e[a])+'"/>';return t+"</mergeCells>"}function s8(e,t,a,r){var n=Fa(e);a.Sheets[r]||(a.Sheets[r]={}),n.codeName&&(a.Sheets[r].CodeName=As(tr(n.codeName)))}function tve(e,t,a,r,n){s8(e.slice(0,e.indexOf(">")),a,r,n)}function ave(e,t,a,r,n){var i=!1,l={},o=null;if(r.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[a];try{t.Workbook&&(c=t.Workbook.Sheets[a].CodeName||c)}catch{}i=!0,l.codeName=Kd(Ks(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),o=(o||"")+Xt("outlinePr",null,d)}!i&&!o||(n[n.length]=Xt("sheetPr",o,l))}var sve=["objects","scenarios","selectLockedCells","selectUnlockedCells"],rve=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function nve(e){var t={sheet:1};return sve.forEach(function(a){e[a]!=null&&e[a]&&(t[a]="1")}),rve.forEach(function(a){e[a]!=null&&!e[a]&&(t[a]="0")}),e.password&&(t.password=XA(e.password).toString(16).toUpperCase()),Xt("sheetProtection",null,t)}function ive(e,t,a){for(var r=Array.isArray(e),n=0;n!=t.length;++n){var i=Fa(tr(t[n]),!0);if(!i.ref)return;var l=((a||{})["!id"]||[])[i.id];l?(i.Target=l.Target,i.location&&(i.Target+="#"+As(i.location))):(i.Target="#"+As(i.location),l={Target:i.Target,TargetMode:"Internal"}),i.Rel=l,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=_s(i.ref),c=o.s.r;c<=o.e.r;++c)for(var d=o.s.c;d<=o.e.c;++d){var u=Ma({c:d,r:c});r?(e[c]||(e[c]=[]),e[c][d]||(e[c][d]={t:"z",v:void 0}),e[c][d].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function lve(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(a){e[a]&&(t[a]=parseFloat(e[a]))}),t}function ove(e){return J0(e),Xt("pageMargins",null,e)}function cve(e,t){for(var a=!1,r=0;r!=t.length;++r){var n=Fa(t[r],!0);n.hidden&&(n.hidden=vr(n.hidden));var i=parseInt(n.min,10)-1,l=parseInt(n.max,10)-1;for(n.outlineLevel&&(n.level=+n.outlineLevel||0),delete n.min,delete n.max,n.width=+n.width,!a&&n.width&&(a=!0,JA(n.width)),Mf(n);i<=l;)e[i++]=jr(n)}}function dve(e,t){for(var a=["<cols>"],r,n=0;n!=t.length;++n)(r=t[n])&&(a[a.length]=Xt("col",null,rN(n,r)));return a[a.length]="</cols>",a.join("")}function uve(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function hve(e,t,a,r){var n=typeof e.ref=="string"?e.ref:Ja(e.ref);a.Workbook||(a.Workbook={Sheets:[]}),a.Workbook.Names||(a.Workbook.Names=[]);var i=a.Workbook.Names,l=no(n);l.s.r==l.e.r&&(l.e.r=no(t["!ref"]).e.r,n=Ja(l));for(var o=0;o<i.length;++o){var c=i[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r){c.Ref="'"+a.SheetNames[r]+"'!"+n;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+a.SheetNames[r]+"'!"+n}),Xt("autoFilter",null,{ref:n})}var fve=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function mve(e,t){t.Views||(t.Views=[{}]),(e.match(fve)||[]).forEach(function(a,r){var n=Fa(a);t.Views[r]||(t.Views[r]={}),+n.zoomScale&&(t.Views[r].zoom=+n.zoomScale),vr(n.rightToLeft)&&(t.Views[r].RTL=!0)})}function pve(e,t,a,r){var n={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Xt("sheetViews",Xt("sheetView",null,n),{})}function xve(e,t,a,r){if(e.c&&a["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var n="",i=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":n=e.v?"1":"0";break;case"n":n=""+e.v;break;case"e":n=yh[e.v];break;case"d":r&&r.cellDates?n=wr(e.v,-1).toISOString():(e=jr(e),e.t="n",n=""+(e.v=ti(wr(e.v)))),typeof e.z>"u"&&(e.z=Da[14]);break;default:n=e.v;break}var o=zi("v",Ks(n)),c={r:t},d=qf(r.cellXfs,e,r);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=zi("v",""+a8(r.Strings,e.v,r.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=l),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=Xt("f",Ks(e.f),u)+(e.v!=null?o:"")}return e.l&&a["!links"].push([t,e.l]),e.D&&(c.cm=1),Xt("c",o,c)}var gve=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,a=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,n=/ref=["']([^"']*)["']/,i=e1("v"),l=e1("f");return function(c,d,u,f,p,m){for(var v=0,g="",b=[],j=[],N=0,k=0,S=0,C="",_,P,L=0,U=0,z,T,F=0,M=0,I=Array.isArray(m.CellXf),W,R=[],q=[],ae=Array.isArray(d),te=[],K={},oe=!1,D=!!u.sheetStubs,G=c.split(t),H=0,X=G.length;H!=X;++H){g=G[H].trim();var se=g.length;if(se!==0){var ie=0;e:for(v=0;v<se;++v)switch(g[v]){case">":if(g[v-1]!="/"){++v;break e}if(u&&u.cellStyles){if(P=Fa(g.slice(ie,v),!0),L=P.r!=null?parseInt(P.r,10):L+1,U=-1,u.sheetRows&&u.sheetRows<L)continue;K={},oe=!1,P.ht&&(oe=!0,K.hpt=parseFloat(P.ht),K.hpx=cx(K.hpt)),P.hidden=="1"&&(oe=!0,K.hidden=!0),P.outlineLevel!=null&&(oe=!0,K.level=+P.outlineLevel),oe&&(te[L-1]=K)}break;case"<":ie=v;break}if(ie>=v)break;if(P=Fa(g.slice(ie,v),!0),L=P.r!=null?parseInt(P.r,10):L+1,U=-1,!(u.sheetRows&&u.sheetRows<L)){f.s.r>L-1&&(f.s.r=L-1),f.e.r<L-1&&(f.e.r=L-1),u&&u.cellStyles&&(K={},oe=!1,P.ht&&(oe=!0,K.hpt=parseFloat(P.ht),K.hpx=cx(K.hpt)),P.hidden=="1"&&(oe=!0,K.hidden=!0),P.outlineLevel!=null&&(oe=!0,K.level=+P.outlineLevel),oe&&(te[L-1]=K)),b=g.slice(v).split(e);for(var ne=0;ne!=b.length&&b[ne].trim().charAt(0)=="<";++ne);for(b=b.slice(ne),v=0;v!=b.length;++v)if(g=b[v].trim(),g.length!==0){if(j=g.match(a),N=v,k=0,S=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,j!=null&&j.length===2){for(N=0,C=j[1],k=0;k!=C.length&&!((S=C.charCodeAt(k)-64)<1||S>26);++k)N=26*N+S;--N,U=N}else++U;for(k=0;k!=g.length&&g.charCodeAt(k)!==62;++k);if(++k,P=Fa(g.slice(0,k),!0),P.r||(P.r=Ma({r:L-1,c:U})),C=g.slice(k),_={t:""},(j=C.match(i))!=null&&j[1]!==""&&(_.v=As(j[1])),u.cellFormula){if((j=C.match(l))!=null&&j[1]!==""){if(_.f=As(tr(j[1])).replace(/\r\n/g,`
`),u.xlfn||(_.f=lL(_.f)),j[0].indexOf('t="array"')>-1)_.F=(C.match(n)||[])[1],_.F.indexOf(":")>-1&&R.push([_s(_.F),_.F]);else if(j[0].indexOf('t="shared"')>-1){T=Fa(j[0]);var J=As(tr(j[1]));u.xlfn||(J=lL(J)),q[parseInt(T.si,10)]=[T,J,P.r]}}else(j=C.match(/<f[^>]*\/>/))&&(T=Fa(j[0]),q[T.si]&&(_.f=fxe(q[T.si][1],q[T.si][2],P.r)));var le=Yr(P.r);for(k=0;k<R.length;++k)le.r>=R[k][0].s.r&&le.r<=R[k][0].e.r&&le.c>=R[k][0].s.c&&le.c<=R[k][0].e.c&&(_.F=R[k][1])}if(P.t==null&&_.v===void 0)if(_.f||_.F)_.v=0,_.t="n";else if(D)_.t="z";else continue;else _.t=P.t||"n";switch(f.s.c>U&&(f.s.c=U),f.e.c<U&&(f.e.c=U),_.t){case"n":if(_.v==""||_.v==null){if(!D)continue;_.t="z"}else _.v=parseFloat(_.v);break;case"s":if(typeof _.v>"u"){if(!D)continue;_.t="z"}else z=wv[parseInt(_.v,10)],_.v=z.t,_.r=z.r,u.cellHTML&&(_.h=z.h);break;case"str":_.t="s",_.v=_.v!=null?tr(_.v):"",u.cellHTML&&(_.h=OA(_.v));break;case"inlineStr":j=C.match(r),_.t="s",j!=null&&(z=YA(j[1]))?(_.v=z.t,u.cellHTML&&(_.h=z.h)):_.v="";break;case"b":_.v=vr(_.v);break;case"d":u.cellDates?_.v=wr(_.v,1):(_.v=ti(wr(_.v,1)),_.t="n");break;case"e":(!u||u.cellText!==!1)&&(_.w=_.v),_.v=BH[_.v];break}if(F=M=0,W=null,I&&P.s!==void 0&&(W=m.CellXf[P.s],W!=null&&(W.numFmtId!=null&&(F=W.numFmtId),u.cellStyles&&W.fillId!=null&&(M=W.fillId))),RV(_,F,M,u,p,m),u.cellDates&&I&&_.t=="n"&&Cx(Da[F])&&(_.t="d",_.v=eN(_.v)),P.cm&&u.xlmeta){var pe=(u.xlmeta.Cell||[])[+P.cm-1];pe&&pe.type=="XLDAPR"&&(_.D=!0)}if(ae){var Q=Yr(P.r);d[Q.r]||(d[Q.r]=[]),d[Q.r][Q.c]=_}else d[P.r]=_}}}}te.length>0&&(d["!rows"]=te)}})();function vve(e,t,a,r){var n=[],i=[],l=_s(e["!ref"]),o="",c,d="",u=[],f=0,p=0,m=e["!rows"],v=Array.isArray(e),g={r:d},b,j=-1;for(p=l.s.c;p<=l.e.c;++p)u[p]=Kr(p);for(f=l.s.r;f<=l.e.r;++f){for(i=[],d=Cn(f),p=l.s.c;p<=l.e.c;++p){c=u[p]+d;var N=v?(e[f]||[])[p]:e[c];N!==void 0&&(o=xve(N,c,e,t))!=null&&i.push(o)}(i.length>0||m&&m[f])&&(g={r:d},m&&m[f]&&(b=m[f],b.hidden&&(g.hidden=1),j=-1,b.hpx?j=l1(b.hpx):b.hpt&&(j=b.hpt),j>-1&&(g.ht=j,g.customHeight=1),b.level&&(g.outlineLevel=b.level)),n[n.length]=Xt("row",i.join(""),g))}if(m)for(;f<m.length;++f)m&&m[f]&&(g={r:f+1},b=m[f],b.hidden&&(g.hidden=1),j=-1,b.hpx?j=l1(b.hpx):b.hpt&&(j=b.hpt),j>-1&&(g.ht=j,g.customHeight=1),b.level&&(g.outlineLevel=b.level),n[n.length]=Xt("row","",g));return n.join("")}function IV(e,t,a,r){var n=[En,Xt("worksheet",null,{xmlns:Mm[0],"xmlns:r":Qn.r})],i=a.SheetNames[e],l=0,o="",c=a.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",u=_s(d);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=Ja(u)}r||(r={}),c["!comments"]=[];var f=[];ave(c,a,e,t,n),n[n.length]=Xt("dimension",null,{ref:d}),n[n.length]=pve(c,t,e,a),t.sheetFormat&&(n[n.length]=Xt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(n[n.length]=dve(c,c["!cols"])),n[l=n.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=vve(c,t),o.length>0&&(n[n.length]=o)),n.length>l+1&&(n[n.length]="</sheetData>",n[l]=n[l].replace("/>",">")),c["!protect"]&&(n[n.length]=nve(c["!protect"])),c["!autofilter"]!=null&&(n[n.length]=hve(c["!autofilter"],c,a,e)),c["!merges"]!=null&&c["!merges"].length>0&&(n[n.length]=eve(c["!merges"]));var p=-1,m,v=-1;return c["!links"].length>0&&(n[n.length]="<hyperlinks>",c["!links"].forEach(function(g){g[1].Target&&(m={ref:g[0]},g[1].Target.charAt(0)!="#"&&(v=Vs(r,-1,Ks(g[1].Target).replace(/#.*$/,""),ls.HLINK),m["r:id"]="rId"+v),(p=g[1].Target.indexOf("#"))>-1&&(m.location=Ks(g[1].Target.slice(p+1))),g[1].Tooltip&&(m.tooltip=Ks(g[1].Tooltip)),n[n.length]=Xt("hyperlink",null,m))}),n[n.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(n[n.length]=ove(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(n[n.length]=zi("ignoredErrors",Xt("ignoredError",null,{numberStoredAsText:1,sqref:d}))),f.length>0&&(v=Vs(r,-1,"../drawings/drawing"+(e+1)+".xml",ls.DRAW),n[n.length]=Xt("drawing",null,{"r:id":"rId"+v}),c["!drawing"]=f),c["!comments"].length>0&&(v=Vs(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",ls.VML),n[n.length]=Xt("legacyDrawing",null,{"r:id":"rId"+v}),c["!legacy"]=v),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function bve(e,t){var a={},r=e.l+t;a.r=e.read_shift(4),e.l+=4;var n=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=r,i&7&&(a.level=i&7),i&16&&(a.hidden=!0),i&32&&(a.hpt=n/20),a}function yve(e,t,a){var r=Nt(145),n=(a["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var i=320;n.hpx?i=l1(n.hpx)*20:n.hpt&&(i=n.hpt*20),r.write_shift(2,i),r.write_shift(1,0);var l=0;n.level&&(l|=n.level),n.hidden&&(l|=16),(n.hpx||n.hpt)&&(l|=32),r.write_shift(1,l),r.write_shift(1,0);var o=0,c=r.l;r.l+=4;for(var d={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var f=-1,p=-1,m=u<<10;m<u+1<<10;++m){d.c=m;var v=Array.isArray(a)?(a[d.r]||[])[d.c]:a[Ma(d)];v&&(f<0&&(f=m),p=m)}f<0||(++o,r.write_shift(4,f),r.write_shift(4,p))}var g=r.l;return r.l=c,r.write_shift(4,o),r.l=g,r.length>r.l?r.slice(0,r.l):r}function wve(e,t,a,r){var n=yve(r,a,t);(n.length>17||(t["!rows"]||[])[r])&&Ft(e,0,n)}var jve=Rm,Nve=Tx;function kve(){}function Sve(e,t){var a={},r=e[e.l];return++e.l,a.above=!(r&64),a.left=!(r&128),e.l+=18,a.name=_he(e),a}function Cve(e,t,a){a==null&&(a=Nt(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),a.write_shift(1,r);for(var n=1;n<3;++n)a.write_shift(1,0);return vw({auto:1},a),a.write_shift(-4,-1),a.write_shift(-4,-1),LH(e,a),a.slice(0,a.l)}function Ave(e){var t=Cc(e);return[t]}function _ve(e,t,a){return a==null&&(a=Nt(8)),Pm(t,a)}function Tve(e){var t=Lm(e);return[t]}function Eve(e,t,a){return a==null&&(a=Nt(4)),Om(t,a)}function Dve(e){var t=Cc(e),a=e.read_shift(1);return[t,a,"b"]}function Mve(e,t,a){return a==null&&(a=Nt(9)),Pm(t,a),a.write_shift(1,e.v?1:0),a}function Pve(e){var t=Lm(e),a=e.read_shift(1);return[t,a,"b"]}function Lve(e,t,a){return a==null&&(a=Nt(5)),Om(t,a),a.write_shift(1,e.v?1:0),a}function Ove(e){var t=Cc(e),a=e.read_shift(1);return[t,a,"e"]}function Rve(e,t,a){return a==null&&(a=Nt(9)),Pm(t,a),a.write_shift(1,e.v),a}function Fve(e){var t=Lm(e),a=e.read_shift(1);return[t,a,"e"]}function Ive(e,t,a){return a==null&&(a=Nt(8)),Om(t,a),a.write_shift(1,e.v),a.write_shift(2,0),a.write_shift(1,0),a}function Bve(e){var t=Cc(e),a=e.read_shift(4);return[t,a,"s"]}function $ve(e,t,a){return a==null&&(a=Nt(12)),Pm(t,a),a.write_shift(4,t.v),a}function Uve(e){var t=Lm(e),a=e.read_shift(4);return[t,a,"s"]}function zve(e,t,a){return a==null&&(a=Nt(8)),Om(t,a),a.write_shift(4,t.v),a}function Hve(e){var t=Cc(e),a=ol(e);return[t,a,"n"]}function Vve(e,t,a){return a==null&&(a=Nt(16)),Pm(t,a),fm(e.v,a),a}function BV(e){var t=Lm(e),a=ol(e);return[t,a,"n"]}function Wve(e,t,a){return a==null&&(a=Nt(12)),Om(t,a),fm(e.v,a),a}function qve(e){var t=Cc(e),a=VA(e);return[t,a,"n"]}function Gve(e,t,a){return a==null&&(a=Nt(12)),Pm(t,a),OH(e.v,a),a}function Kve(e){var t=Lm(e),a=VA(e);return[t,a,"n"]}function Yve(e,t,a){return a==null&&(a=Nt(8)),Om(t,a),OH(e.v,a),a}function Xve(e){var t=Cc(e),a=UA(e);return[t,a,"is"]}function Jve(e){var t=Cc(e),a=ul(e);return[t,a,"str"]}function Qve(e,t,a){return a==null&&(a=Nt(12+4*e.v.length)),Pm(t,a),ji(e.v,a),a.length>a.l?a.slice(0,a.l):a}function Zve(e){var t=Lm(e),a=ul(e);return[t,a,"str"]}function e1e(e,t,a){return a==null&&(a=Nt(8+4*e.v.length)),Om(t,a),ji(e.v,a),a.length>a.l?a.slice(0,a.l):a}function t1e(e,t,a){var r=e.l+t,n=Cc(e);n.r=a["!row"];var i=e.read_shift(1),l=[n,i,"b"];if(a.cellFormula){e.l+=2;var o=sN(e,r-e.l,a);l[3]=rl(o,null,n,a.supbooks,a)}else e.l=r;return l}function a1e(e,t,a){var r=e.l+t,n=Cc(e);n.r=a["!row"];var i=e.read_shift(1),l=[n,i,"e"];if(a.cellFormula){e.l+=2;var o=sN(e,r-e.l,a);l[3]=rl(o,null,n,a.supbooks,a)}else e.l=r;return l}function s1e(e,t,a){var r=e.l+t,n=Cc(e);n.r=a["!row"];var i=ol(e),l=[n,i,"n"];if(a.cellFormula){e.l+=2;var o=sN(e,r-e.l,a);l[3]=rl(o,null,n,a.supbooks,a)}else e.l=r;return l}function r1e(e,t,a){var r=e.l+t,n=Cc(e);n.r=a["!row"];var i=ul(e),l=[n,i,"str"];if(a.cellFormula){e.l+=2;var o=sN(e,r-e.l,a);l[3]=rl(o,null,n,a.supbooks,a)}else e.l=r;return l}var n1e=Rm,i1e=Tx;function l1e(e,t){return t==null&&(t=Nt(4)),t.write_shift(4,e),t}function o1e(e,t){var a=e.l+t,r=Rm(e),n=zA(e),i=ul(e),l=ul(e),o=ul(e);e.l=a;var c={rfx:r,relId:n,loc:i,display:o};return l&&(c.Tooltip=l),c}function c1e(e,t){var a=Nt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Tx({s:Yr(e[0]),e:Yr(e[0])},a),HA("rId"+t,a);var r=e[1].Target.indexOf("#"),n=r==-1?"":e[1].Target.slice(r+1);return ji(n||"",a),ji(e[1].Tooltip||"",a),ji("",a),a.slice(0,a.l)}function d1e(){}function u1e(e,t,a){var r=e.l+t,n=RH(e),i=e.read_shift(1),l=[n];if(l[2]=i,a.cellFormula){var o=Oge(e,r-e.l,a);l[1]=o}else e.l=r;return l}function h1e(e,t,a){var r=e.l+t,n=Rm(e),i=[n];if(a.cellFormula){var l=Fge(e,r-e.l,a);i[1]=l,e.l=r}else e.l=r;return i}function f1e(e,t,a){a==null&&(a=Nt(18));var r=rN(e,t);a.write_shift(-4,e),a.write_shift(-4,e),a.write_shift(4,(r.width||10)*256),a.write_shift(4,0);var n=0;return t.hidden&&(n|=1),typeof r.width=="number"&&(n|=2),t.level&&(n|=t.level<<8),a.write_shift(2,n),a}var $V=["left","right","top","bottom","header","footer"];function m1e(e){var t={};return $V.forEach(function(a){t[a]=ol(e)}),t}function p1e(e,t){return t==null&&(t=Nt(48)),J0(e),$V.forEach(function(a){fm(e[a],t)}),t}function x1e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function g1e(e,t,a){a==null&&(a=Nt(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),a.write_shift(2,r),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(1,0),a.write_shift(1,0),a.write_shift(2,0),a.write_shift(2,100),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(4,0),a}function v1e(e){var t=Nt(24);return t.write_shift(4,4),t.write_shift(4,1),Tx(e,t),t}function b1e(e,t){return t==null&&(t=Nt(66)),t.write_shift(2,e.password?XA(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(a){a[1]?t.write_shift(4,e[a[0]]!=null&&!e[a[0]]?1:0):t.write_shift(4,e[a[0]]!=null&&e[a[0]]?0:1)}),t}function y1e(){}function w1e(){}function j1e(e,t,a,r,n,i,l){if(!e)return e;var o=t||{};r||(r={"!id":{}});var c=o.dense?[]:{},d,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,p=!1,m,v,g,b,j,N,k,S,C,_=[];o.biff=12,o["!row"]=0;var P=0,L=!1,U=[],z={},T=o.supbooks||n.supbooks||[[]];if(T.sharedf=z,T.arrayf=U,T.SheetNames=n.SheetNames||n.Sheets.map(function(ae){return ae.name}),!o.supbooks&&(o.supbooks=T,n.Names))for(var F=0;F<n.Names.length;++F)T[0][F+1]=n.Names[F];var M=[],I=[],W=!1;o1[16]={n:"BrtShortReal",f:BV};var R;if(bh(e,function(te,K,oe){if(!p)switch(oe){case 148:d=te;break;case 0:m=te,o.sheetRows&&o.sheetRows<=m.r&&(p=!0),S=Cn(b=m.r),o["!row"]=m.r,(te.hidden||te.hpt||te.level!=null)&&(te.hpt&&(te.hpx=cx(te.hpt)),I[te.r]=te);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:te[2]},te[2]){case"n":v.v=te[1];break;case"s":k=wv[te[1]],v.v=k.t,v.r=k.r;break;case"b":v.v=!!te[1];break;case"e":v.v=te[1],o.cellText!==!1&&(v.w=yh[v.v]);break;case"str":v.t="s",v.v=te[1];break;case"is":v.t="s",v.v=te[1].t;break}if((g=l.CellXf[te[0].iStyleRef])&&RV(v,g.numFmtId,null,o,i,l),j=te[0].c==-1?j+1:te[0].c,o.dense?(c[b]||(c[b]=[]),c[b][j]=v):c[Kr(j)+S]=v,o.cellFormula){for(L=!1,P=0;P<U.length;++P){var D=U[P];m.r>=D[0].s.r&&m.r<=D[0].e.r&&j>=D[0].s.c&&j<=D[0].e.c&&(v.F=Ja(D[0]),L=!0)}!L&&te.length>3&&(v.f=te[3])}if(u.s.r>m.r&&(u.s.r=m.r),u.s.c>j&&(u.s.c=j),u.e.r<m.r&&(u.e.r=m.r),u.e.c<j&&(u.e.c=j),o.cellDates&&g&&v.t=="n"&&Cx(Da[g.numFmtId])){var G=F0(v.v);G&&(v.t="d",v.v=new Date(G.y,G.m-1,G.d,G.H,G.M,G.S,G.u))}R&&(R.type=="XLDAPR"&&(v.D=!0),R=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;v={t:"z",v:void 0},j=te[0].c==-1?j+1:te[0].c,o.dense?(c[b]||(c[b]=[]),c[b][j]=v):c[Kr(j)+S]=v,u.s.r>m.r&&(u.s.r=m.r),u.s.c>j&&(u.s.c=j),u.e.r<m.r&&(u.e.r=m.r),u.e.c<j&&(u.e.c=j),R&&(R.type=="XLDAPR"&&(v.D=!0),R=void 0);break;case 176:_.push(te);break;case 49:R=((o.xlmeta||{}).Cell||[])[te-1];break;case 494:var H=r["!id"][te.relId];for(H?(te.Target=H.Target,te.loc&&(te.Target+="#"+te.loc),te.Rel=H):te.relId==""&&(te.Target="#"+te.loc),b=te.rfx.s.r;b<=te.rfx.e.r;++b)for(j=te.rfx.s.c;j<=te.rfx.e.c;++j)o.dense?(c[b]||(c[b]=[]),c[b][j]||(c[b][j]={t:"z",v:void 0}),c[b][j].l=te):(N=Ma({c:j,r:b}),c[N]||(c[N]={t:"z",v:void 0}),c[N].l=te);break;case 426:if(!o.cellFormula)break;U.push(te),C=o.dense?c[b][j]:c[Kr(j)+S],C.f=rl(te[1],u,{r:m.r,c:j},T,o),C.F=Ja(te[0]);break;case 427:if(!o.cellFormula)break;z[Ma(te[0].s)]=te[1],C=o.dense?c[b][j]:c[Kr(j)+S],C.f=rl(te[1],u,{r:m.r,c:j},T,o);break;case 60:if(!o.cellStyles)break;for(;te.e>=te.s;)M[te.e--]={width:te.w/256,hidden:!!(te.flags&1),level:te.level},W||(W=!0,JA(te.w/256)),Mf(M[te.e+1]);break;case 161:c["!autofilter"]={ref:Ja(te)};break;case 476:c["!margins"]=te;break;case 147:n.Sheets[a]||(n.Sheets[a]={}),te.name&&(n.Sheets[a].CodeName=te.name),(te.above||te.left)&&(c["!outline"]={above:te.above,left:te.left});break;case 137:n.Views||(n.Views=[{}]),n.Views[0]||(n.Views[0]={}),te.RTL&&(n.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!K.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+oe.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(u.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(c["!ref"]=Ja(d||u)),o.sheetRows&&c["!ref"]){var q=_s(c["!ref"]);o.sheetRows<=+q.e.r&&(q.e.r=o.sheetRows-1,q.e.r>u.e.r&&(q.e.r=u.e.r),q.e.r<q.s.r&&(q.s.r=q.e.r),q.e.c>u.e.c&&(q.e.c=u.e.c),q.e.c<q.s.c&&(q.s.c=q.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Ja(q))}return _.length>0&&(c["!merges"]=_),M.length>0&&(c["!cols"]=M),I.length>0&&(c["!rows"]=I),c}function N1e(e,t,a,r,n,i,l){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=jr(t),t.z=t.z||Da[14],t.v=ti(wr(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var c={r:a,c:r};switch(c.s=qf(n.cellXfs,t,n),t.l&&i["!links"].push([Ma(c),t.l]),t.c&&i["!comments"].push([Ma(c),t.c]),t.t){case"s":case"str":return n.bookSST?(o=a8(n.Strings,t.v,n.revStrings),c.t="s",c.v=o,l?Ft(e,18,zve(t,c)):Ft(e,7,$ve(t,c))):(c.t="str",l?Ft(e,17,e1e(t,c)):Ft(e,6,Qve(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?l?Ft(e,13,Yve(t,c)):Ft(e,2,Gve(t,c)):l?Ft(e,16,Wve(t,c)):Ft(e,5,Vve(t,c)),!0;case"b":return c.t="b",l?Ft(e,15,Lve(t,c)):Ft(e,4,Mve(t,c)),!0;case"e":return c.t="e",l?Ft(e,14,Ive(t,c)):Ft(e,3,Rve(t,c)),!0}return l?Ft(e,12,Eve(t,c)):Ft(e,1,_ve(t,c)),!0}function k1e(e,t,a,r){var n=_s(t["!ref"]||"A1"),i,l="",o=[];Ft(e,145);var c=Array.isArray(t),d=n.e.r;t["!rows"]&&(d=Math.max(n.e.r,t["!rows"].length-1));for(var u=n.s.r;u<=d;++u){l=Cn(u),wve(e,t,n,u);var f=!1;if(u<=n.e.r)for(var p=n.s.c;p<=n.e.c;++p){u===n.s.r&&(o[p]=Kr(p)),i=o[p]+l;var m=c?(t[u]||[])[p]:t[i];if(!m){f=!1;continue}f=N1e(e,m,u,p,r,t,f)}}Ft(e,146)}function S1e(e,t){!t||!t["!merges"]||(Ft(e,177,l1e(t["!merges"].length)),t["!merges"].forEach(function(a){Ft(e,176,i1e(a))}),Ft(e,178))}function C1e(e,t){!t||!t["!cols"]||(Ft(e,390),t["!cols"].forEach(function(a,r){a&&Ft(e,60,f1e(r,a))}),Ft(e,391))}function A1e(e,t){!t||!t["!ref"]||(Ft(e,648),Ft(e,649,v1e(_s(t["!ref"]))),Ft(e,650))}function _1e(e,t,a){t["!links"].forEach(function(r){if(r[1].Target){var n=Vs(a,-1,r[1].Target.replace(/#.*$/,""),ls.HLINK);Ft(e,494,c1e(r,n))}}),delete t["!links"]}function T1e(e,t,a,r){if(t["!comments"].length>0){var n=Vs(r,-1,"../drawings/vmlDrawing"+(a+1)+".vml",ls.VML);Ft(e,551,HA("rId"+n)),t["!legacy"]=n}}function E1e(e,t,a,r){if(t["!autofilter"]){var n=t["!autofilter"],i=typeof n.ref=="string"?n.ref:Ja(n.ref);a.Workbook||(a.Workbook={Sheets:[]}),a.Workbook.Names||(a.Workbook.Names=[]);var l=a.Workbook.Names,o=no(i);o.s.r==o.e.r&&(o.e.r=no(t["!ref"]).e.r,i=Ja(o));for(var c=0;c<l.length;++c){var d=l[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==r){d.Ref="'"+a.SheetNames[r]+"'!"+i;break}}c==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+a.SheetNames[r]+"'!"+i}),Ft(e,161,Tx(_s(i))),Ft(e,162)}}function D1e(e,t,a){Ft(e,133),Ft(e,137,g1e(t,a)),Ft(e,138),Ft(e,134)}function M1e(e,t){t["!protect"]&&Ft(e,535,b1e(t["!protect"]))}function P1e(e,t,a,r){var n=ro(),i=a.SheetNames[e],l=a.Sheets[i]||{},o=i;try{a&&a.Workbook&&(o=a.Workbook.Sheets[e].CodeName||o)}catch{}var c=_s(l["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Ft(n,129),(a.vbaraw||l["!outline"])&&Ft(n,147,Cve(o,l["!outline"])),Ft(n,148,Nve(c)),D1e(n,l,a.Workbook),C1e(n,l),k1e(n,l,e,t),M1e(n,l),E1e(n,l,a,e),S1e(n,l),_1e(n,l,r),l["!margins"]&&Ft(n,476,p1e(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&A1e(n,l),T1e(n,l,e,r),Ft(n,130),n.end()}function L1e(e){var t=[],a=e.match(/^<c:numCache>/),r;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var l=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);l&&(t[+l[1]]=a?+l[2]:l[2])});var n=As((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){r=i.replace(/<.*?>/g,"")}),[t,n,r]}function O1e(e,t,a,r,n,i){var l=i||{"!type":"chart"};if(!e)return i;var o=0,c=0,d="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var p=L1e(f);u.s.r=u.s.c=0,u.e.c=o,d=Kr(o),p[0].forEach(function(m,v){l[d+Cn(v)]={t:"n",v:m,z:p[1]},c=v}),u.e.r<c&&(u.e.r=c),++o}),o>0&&(l["!ref"]=Ja(u)),l}function R1e(e,t,a,r,n){if(!e)return e;r||(r={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},l,o=e.match(FV);return o&&s8(o[0],i,n,a),(l=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=l[1]),r["!id"][i["!rel"]]&&(i["!drawel"]=r["!id"][i["!rel"]]),i}function F1e(e,t){e.l+=10;var a=ul(e);return{name:a}}function I1e(e,t,a,r,n){if(!e)return e;r||(r={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},l=!1;return bh(e,function(c,d,u){switch(u){case 550:i["!rel"]=c;break;case 651:n.Sheets[a]||(n.Sheets[a]={}),c.name&&(n.Sheets[a].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!l||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),r["!id"][i["!rel"]]&&(i["!drawel"]=r["!id"][i["!rel"]]),i}var r8=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],B1e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],$1e=[],U1e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function hL(e,t){for(var a=0;a!=e.length;++a)for(var r=e[a],n=0;n!=t.length;++n){var i=t[n];if(r[i[0]]==null)r[i[0]]=i[1];else switch(i[2]){case"bool":typeof r[i[0]]=="string"&&(r[i[0]]=vr(r[i[0]]));break;case"int":typeof r[i[0]]=="string"&&(r[i[0]]=parseInt(r[i[0]],10));break}}}function fL(e,t){for(var a=0;a!=t.length;++a){var r=t[a];if(e[r[0]]==null)e[r[0]]=r[1];else switch(r[2]){case"bool":typeof e[r[0]]=="string"&&(e[r[0]]=vr(e[r[0]]));break;case"int":typeof e[r[0]]=="string"&&(e[r[0]]=parseInt(e[r[0]],10));break}}}function UV(e){fL(e.WBProps,r8),fL(e.CalcPr,U1e),hL(e.WBView,B1e),hL(e.Sheets,$1e),Xp.date1904=vr(e.WBProps.date1904)}function z1e(e){return!e.Workbook||!e.Workbook.WBProps?"false":vr(e.Workbook.WBProps.date1904)?"true":"false"}var H1e="][*?/\\".split("");function zV(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var a=!0;return H1e.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),a}function V1e(e,t,a){e.forEach(function(r,n){zV(r);for(var i=0;i<n;++i)if(r==e[i])throw new Error("Duplicate Sheet Name: "+r);if(a){var l=t&&t[n]&&t[n].CodeName||r;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function W1e(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];V1e(e.SheetNames,t,!!e.vbaraw);for(var a=0;a<e.SheetNames.length;++a)zge(e.Sheets[e.SheetNames[a]],e.SheetNames[a],a)}var q1e=/<\w+:workbook/;function G1e(e,t){if(!e)throw new Error("Could not find file");var a={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,n="xmlns",i={},l=0;if(e.replace(xl,function(c,d){var u=Fa(c);switch(ru(u[0])){case"<?xml":break;case"<workbook":c.match(q1e)&&(n="xmlns"+c.match(/<(\w+):/)[1]),a.xmlns=u[n];break;case"</workbook>":break;case"<fileVersion":delete u[0],a.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":r8.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":a.WBProps[f[0]]=vr(u[f[0]]);break;case"int":a.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:a.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(a.WBProps.CodeName=tr(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],a.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=As(tr(u.name)),delete u[0],a.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":i={},i.Name=tr(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),vr(u.hidden||"0")&&(i.Hidden=!0),l=d+c.length;break;case"</definedName>":i.Ref=As(tr(e.slice(l,d))),a.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],a.CalcPr=u;break;case"<calcPr/>":delete u[0],a.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return c}),Mm.indexOf(a.xmlns)===-1)throw new Error("Unknown Namespace: "+a.xmlns);return UV(a),a}function HV(e){var t=[En];t[t.length]=Xt("workbook",null,{xmlns:Mm[0],"xmlns:r":Qn.r});var a=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(r8.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(r[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=Xt("workbookPr",null,r);var n=e.Workbook&&e.Workbook.Sheets||[],i=0;if(n&&n[0]&&n[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!n[i]||!n[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var l={name:Ks(e.SheetNames[i].slice(0,31))};if(l.sheetId=""+(i+1),l["r:id"]="rId"+(i+1),n[i])switch(n[i].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}t[t.length]=Xt("sheet",null,l)}return t[t.length]="</sheets>",a&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(t[t.length]=Xt("definedName",Ks(o.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function K1e(e,t){var a={};return a.Hidden=e.read_shift(4),a.iTabID=e.read_shift(4),a.strRelID=eC(e),a.name=ul(e),a}function Y1e(e,t){return t||(t=Nt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),HA(e.strRelID,t),ji(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function X1e(e,t){var a={},r=e.read_shift(4);a.defaultThemeVersion=e.read_shift(4);var n=t>8?ul(e):"";return n.length>0&&(a.CodeName=n),a.autoCompressPictures=!!(r&65536),a.backupFile=!!(r&64),a.checkCompatibility=!!(r&4096),a.date1904=!!(r&1),a.filterPrivacy=!!(r&8),a.hidePivotFieldList=!!(r&1024),a.promptedSolutions=!!(r&16),a.publishItems=!!(r&2048),a.refreshAllConnections=!!(r&262144),a.saveExternalLinkValues=!!(r&128),a.showBorderUnselectedTables=!!(r&4),a.showInkAnnotation=!!(r&32),a.showObjects=["all","placeholders","none"][r>>13&3],a.showPivotChartFilter=!!(r&32768),a.updateLinks=["userSet","never","always"][r>>8&3],a}function J1e(e,t){t||(t=Nt(72));var a=0;return e&&e.filterPrivacy&&(a|=8),t.write_shift(4,a),t.write_shift(4,0),LH(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Q1e(e,t){var a={};return e.read_shift(4),a.ArchID=e.read_shift(4),e.l+=t-8,a}function Z1e(e,t,a){var r=e.l+t;e.l+=4,e.l+=1;var n=e.read_shift(4),i=The(e),l=Rge(e,0,a),o=zA(e);e.l=r;var c={Name:i,Ptg:l};return n<268435455&&(c.Sheet=n),o&&(c.Comment=o),c}function ebe(e,t){var a={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],n=!1;t||(t={}),t.biff=12;var i=[],l=[[]];return l.SheetNames=[],l.XTI=[],o1[16]={n:"BrtFRTArchID$",f:Q1e},bh(e,function(c,d,u){switch(u){case 156:l.SheetNames.push(c.name),a.Sheets.push(c);break;case 153:a.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=rl(c.Ptg,null,null,l,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:l[0].length?l.push([u,c]):l[0]=[u,c],l[l.length-1].XTI=[];break;case 362:l.length===0&&(l[0]=[],l[0].XTI=[]),l[l.length-1].XTI=l[l.length-1].XTI.concat(c),l.XTI=l.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(u),n=!0;break;case 36:r.pop(),n=!1;break;case 37:r.push(u),n=!0;break;case 38:r.pop(),n=!1;break;case 16:break;default:if(!d.T){if(!n||t.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),UV(a),a.Names=i,a.supbooks=l,a}function tbe(e,t){Ft(e,143);for(var a=0;a!=t.SheetNames.length;++a){var r=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[a]&&t.Workbook.Sheets[a].Hidden||0,n={Hidden:r,iTabID:a+1,strRelID:"rId"+(a+1),name:t.SheetNames[a]};Ft(e,156,Y1e(n))}Ft(e,144)}function abe(e,t){t||(t=Nt(127));for(var a=0;a!=4;++a)t.write_shift(4,0);return ji("SheetJS",t),ji(uw.version,t),ji(uw.version,t),ji("7262",t),t.length>t.l?t.slice(0,t.l):t}function sbe(e,t){t||(t=Nt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var a=120;return t.write_shift(1,a),t.length>t.l?t.slice(0,t.l):t}function rbe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var a=t.Workbook.Sheets,r=0,n=-1,i=-1;r<a.length;++r)!a[r]||!a[r].Hidden&&n==-1?n=r:a[r].Hidden==1&&i==-1&&(i=r);i>n||(Ft(e,135),Ft(e,158,sbe(n)),Ft(e,136))}}function nbe(e,t){var a=ro();return Ft(a,131),Ft(a,128,abe()),Ft(a,153,J1e(e.Workbook&&e.Workbook.WBProps||null)),rbe(a,e),tbe(a,e),Ft(a,132),a.end()}function ibe(e,t,a){return t.slice(-4)===".bin"?ebe(e,a):G1e(e,a)}function lbe(e,t,a,r,n,i,l,o){return t.slice(-4)===".bin"?j1e(e,r,a,n,i,l,o):Zge(e,r,a,n,i,l,o)}function obe(e,t,a,r,n,i,l,o){return t.slice(-4)===".bin"?I1e(e,r,a,n,i):R1e(e,r,a,n,i)}function cbe(e,t,a,r,n,i,l,o){return t.slice(-4)===".bin"?uxe():hxe()}function dbe(e,t,a,r,n,i,l,o){return t.slice(-4)===".bin"?cxe():dxe()}function ube(e,t,a,r){return t.slice(-4)===".bin"?ipe(e,a,r):Kme(e,a,r)}function hbe(e,t,a){return NV(e,a)}function fbe(e,t,a){return t.slice(-4)===".bin"?fme(e,a):dme(e,a)}function mbe(e,t,a){return t.slice(-4)===".bin"?rxe(e,a):Ype(e,a)}function pbe(e,t,a){return t.slice(-4)===".bin"?qpe(e):Vpe(e)}function xbe(e,t,a,r){return a.slice(-4)===".bin"?Gpe(e,t,a,r):void 0}function gbe(e,t,a){return t.slice(-4)===".bin"?Upe(e,t,a):Hpe(e,t,a)}function vbe(e,t,a){return(t.slice(-4)===".bin"?nbe:HV)(e)}function bbe(e,t,a,r,n){return(t.slice(-4)===".bin"?P1e:IV)(e,a,r,n)}function ybe(e,t,a){return(t.slice(-4)===".bin"?xpe:wV)(e,a)}function wbe(e,t,a){return(t.slice(-4)===".bin"?xme:fV)(e,a)}function jbe(e,t,a){return(t.slice(-4)===".bin"?nxe:CV)(e)}function Nbe(e){return(e.slice(-4)===".bin"?zpe:kV)()}var VV=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,WV=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Jc(e,t){var a=e.split(/\s+/),r=[];if(r[0]=a[0],a.length===1)return r;var n=e.match(VV),i,l,o,c;if(n)for(c=0;c!=n.length;++c)i=n[c].match(WV),(l=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(l+1),r[o]=i[2].slice(1,i[2].length-1));return r}function kbe(e){var t=e.split(/\s+/),a={};if(t.length===1)return a;var r=e.match(VV),n,i,l,o;if(r)for(o=0;o!=r.length;++o)n=r[o].match(WV),(i=n[1].indexOf(":"))===-1?a[n[1]]=n[2].slice(1,n[2].length-1):(n[1].slice(0,6)==="xmlns:"?l="xmlns"+n[1].slice(6):l=n[1].slice(i+1),a[l]=n[2].slice(1,n[2].length-1));return a}var Nv;function Sbe(e,t){var a=Nv[e]||As(e);return a==="General"?um(t):yc(a,t)}function Cbe(e,t,a,r){var n=r;switch((a[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":n=vr(r);break;case"i2":case"int":n=parseInt(r,10);break;case"r4":case"float":n=parseFloat(r);break;case"date":case"dateTime.tz":n=wr(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+a[0])}e[As(t)]=n}function Abe(e,t,a){if(e.t!=="z"){if(!a||a.cellText!==!1)try{e.t==="e"?e.w=e.w||yh[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Zv(e.v):e.w=um(e.v):e.w=Sbe(t||"General",e.v)}catch(i){if(a.WTF)throw i}try{var r=Nv[t]||t||"General";if(a.cellNF&&(e.z=r),a.cellDates&&e.t=="n"&&Cx(r)){var n=F0(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}catch(i){if(a.WTF)throw i}}}function _be(e,t,a){if(a.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=$me[r.Pattern]||r.Pattern)}e[t.ID]=t}function Tbe(e,t,a,r,n,i,l,o,c,d){var u="General",f=r.StyleID,p={};d=d||{};var m=[],v=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&l&&(f=l.StyleID);i[f]!==void 0&&(i[f].nf&&(u=i[f].nf),i[f].Interior&&m.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(a.Type){case"Boolean":r.t="b",r.v=vr(e);break;case"String":r.t="s",r.r=EP(As(e)),r.v=e.indexOf("<")>-1?As(t||e).replace(/<.*?>/g,""):r.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),r.v=(wr(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=As(e):r.v<60&&(r.v=r.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=BH[e],d.cellText!==!1&&(r.w=e);break;default:e==""&&t==""?r.t="z":(r.t="s",r.v=EP(t||e));break}if(Abe(r,u,d),d.cellFormula!==!1)if(r.Formula){var g=As(r.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),r.f=Yp(g,n),delete r.Formula,r.ArrayRange=="RC"?r.F=Yp("RC:RC",n):r.ArrayRange&&(r.F=Yp(r.ArrayRange,n),c.push([_s(r.F),r.F]))}else for(v=0;v<c.length;++v)n.r>=c[v][0].s.r&&n.r<=c[v][0].e.r&&n.c>=c[v][0].s.c&&n.c<=c[v][0].e.c&&(r.F=c[v][1]);d.cellStyles&&(m.forEach(function(b){!p.patternType&&b.patternType&&(p.patternType=b.patternType)}),r.s=p),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function Ebe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function H5(e,t){var a=t||{};Ax();var r=iv(RA(e));(a.type=="binary"||a.type=="array"||a.type=="base64")&&(r=tr(r));var n=r.slice(0,1024).toLowerCase(),i=!1;if(n=n.replace(/".*?"/g,""),(n.indexOf(">")&1023)>Math.min(n.indexOf(",")&1023,n.indexOf(";")&1023)){var l=jr(a);return l.type="string",ox.to_workbook(r,l)}if(n.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ce){n.indexOf("<"+Ce)>=0&&(i=!0)}),i)return pye(r,a);Nv={"General Number":"General","General Date":Da[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Da[15],"Short Date":Da[14],"Long Time":Da[19],"Medium Time":Da[18],"Short Time":Da[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Da[2],Standard:Da[4],Percent:Da[10],Scientific:Da[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],d,u={},f=[],p=a.dense?[]:{},m="",v={},g={},b=Jc('<Data ss:Type="String">'),j=0,N=0,k=0,S={s:{r:2e6,c:2e6},e:{r:0,c:0}},C={},_={},P="",L=0,U=[],z={},T={},F=0,M=[],I=[],W={},R=[],q,ae=!1,te=[],K=[],oe={},D=0,G=0,H={Sheets:[],WBProps:{date1904:!1}},X={};a1.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var se="";o=a1.exec(r);)switch(o[3]=(se=o[3]).toLowerCase()){case"data":if(se=="data"){if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?Tbe(r.slice(j,o.index),P,b,c[c.length-1][0]=="comment"?W:v,{c:N,r:k},C,R[N],g,te,a):(P="",b=Jc(o[0]),j=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(I.length>0&&(v.c=I),(!a.sheetRows||a.sheetRows>k)&&v.v!==void 0&&(a.dense?(p[k]||(p[k]=[]),p[k][N]=v):p[Kr(N)+Cn(k)]=v),v.HRef&&(v.l={Target:As(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(D=N+(parseInt(v.MergeAcross,10)|0),G=k+(parseInt(v.MergeDown,10)|0),U.push({s:{c:N,r:k},e:{c:D,r:G}})),!a.sheetStubs)v.MergeAcross?N=D+1:++N;else if(v.MergeAcross||v.MergeDown){for(var ie=N;ie<=D;++ie)for(var ne=k;ne<=G;++ne)(ie>N||ne>k)&&(a.dense?(p[ne]||(p[ne]=[]),p[ne][ie]={t:"z"}):p[Kr(ie)+Cn(ne)]={t:"z"});N=D+1}else++N;else v=kbe(o[0]),v.Index&&(N=+v.Index-1),N<S.s.c&&(S.s.c=N),N>S.e.c&&(S.e.c=N),o[0].slice(-2)==="/>"&&++N,I=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(k<S.s.r&&(S.s.r=k),k>S.e.r&&(S.e.r=k),o[0].slice(-2)==="/>"&&(g=Jc(o[0]),g.Index&&(k=+g.Index-1)),N=0,++k):(g=Jc(o[0]),g.Index&&(k=+g.Index-1),oe={},(g.AutoFitHeight=="0"||g.Height)&&(oe.hpx=parseInt(g.Height,10),oe.hpt=l1(oe.hpx),K[k]=oe),g.Hidden=="1"&&(oe.hidden=!0,K[k]=oe));break;case"worksheet":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"));f.push(m),S.s.r<=S.e.r&&S.s.c<=S.e.c&&(p["!ref"]=Ja(S),a.sheetRows&&a.sheetRows<=S.e.r&&(p["!fullref"]=p["!ref"],S.e.r=a.sheetRows-1,p["!ref"]=Ja(S))),U.length&&(p["!merges"]=U),R.length>0&&(p["!cols"]=R),K.length>0&&(p["!rows"]=K),u[m]=p}else S={s:{r:2e6,c:2e6},e:{r:0,c:0}},k=N=0,c.push([o[3],!1]),d=Jc(o[0]),m=As(d.Name),p=a.dense?[]:{},U=[],te=[],K=[],X={name:m,Hidden:0},H.Sheets.push(X);break;case"table":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),R=[],ae=!1}break;case"style":o[1]==="/"?_be(C,_,a):_=Jc(o[0]);break;case"numberformat":_.nf=As(Jc(o[0]).Format||"General"),Nv[_.nf]&&(_.nf=Nv[_.nf]);for(var J=0;J!=392&&Da[J]!=_.nf;++J);if(J==392){for(J=57;J!=392;++J)if(Da[J]==null){th(_.nf,J);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(q=Jc(o[0]),q.Hidden&&(q.hidden=!0,delete q.Hidden),q.Width&&(q.wpx=parseInt(q.Width,10)),!ae&&q.wpx>10){ae=!0,nl=bV;for(var le=0;le<R.length;++le)R[le]&&Mf(R[le])}ae&&Mf(q),R[q.Index-1||R.length]=q;for(var pe=0;pe<+q.Span;++pe)R[R.length]=jr(q);break;case"namedrange":if(o[1]==="/")break;H.Names||(H.Names=[]);var Q=Fa(o[0]),xe={Name:Q.Name,Ref:Yp(Q.RefersTo.slice(1),{r:0,c:0})};H.Sheets.length>0&&(xe.Sheet=H.Sheets.length-1),H.Names.push(xe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?P+=r.slice(L,o.index):L=o.index+o[0].length;break;case"interior":if(!a.cellStyles)break;_.Interior=Jc(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?efe(z,se,r.slice(F,o.index)):F=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"));Ebe(W),I.push(W)}else c.push([o[3],!1]),d=Jc(o[0]),W={a:d.Author};break;case"autofilter":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var he=Jc(o[0]);p["!autofilter"]={ref:Yp(he.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return vL(r,a);var ue=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ue=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ue=!1}break;case"excelworkbook":switch(o[3]){case"date1904":H.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ue=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:ue=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(F,o.index)){case"SheetHidden":X.Hidden=1;break;case"SheetVeryHidden":X.Hidden=2;break}else F=o.index+o[0].length;break;case"header":p["!margins"]||J0(p["!margins"]={},"xlml"),isNaN(+Fa(o[0]).Margin)||(p["!margins"].header=+Fa(o[0]).Margin);break;case"footer":p["!margins"]||J0(p["!margins"]={},"xlml"),isNaN(+Fa(o[0]).Margin)||(p["!margins"].footer=+Fa(o[0]).Margin);break;case"pagemargins":var Le=Fa(o[0]);p["!margins"]||J0(p["!margins"]={},"xlml"),isNaN(+Le.Top)||(p["!margins"].top=+Le.Top),isNaN(+Le.Left)||(p["!margins"].left=+Le.Left),isNaN(+Le.Right)||(p["!margins"].right=+Le.Right),isNaN(+Le.Bottom)||(p["!margins"].bottom=+Le.Bottom);break;case"displayrighttoleft":H.Views||(H.Views=[]),H.Views[0]||(H.Views[0]={}),H.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ue=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ue=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ue=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ue=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ue=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ue=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ue=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ue=!1}break;case"smarttags":break;default:ue=!1;break}if(ue||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?Cbe(T,se,M,r.slice(F,o.index)):(M=o,F=o.index+o[0].length);break}if(a.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var ze={};return!a.bookSheets&&!a.bookProps&&(ze.Sheets=u),ze.SheetNames=f,ze.Workbook=H,ze.SSF=jr(Da),ze.Props=z,ze.Custprops=T,ze}function lC(e,t){switch(l8(t=t||{}),t.type||"base64"){case"base64":return H5(Io(e),t);case"binary":case"buffer":case"file":return H5(e,t);case"array":return H5(Vf(e),t)}}function Dbe(e,t){var a=[];return e.Props&&a.push(tfe(e.Props,t)),e.Custprops&&a.push(afe(e.Props,e.Custprops)),a.join("")}function Mbe(){return""}function Pbe(e,t){var a=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(r,n){var i=[];i.push(Xt("NumberFormat",null,{"ss:Format":Ks(Da[r.numFmtId])}));var l={"ss:ID":"s"+(21+n)};a.push(Xt("Style",i.join(""),l))}),Xt("Styles",a.join(""))}function qV(e){return Xt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+e8(e.Ref,{r:0,c:0})})}function Lbe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,a=[],r=0;r<t.length;++r){var n=t[r];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||a.push(qV(n)))}return Xt("Names",a.join(""))}function Obe(e,t,a,r){if(!e||!((r||{}).Workbook||{}).Names)return"";for(var n=r.Workbook.Names,i=[],l=0;l<n.length;++l){var o=n[l];o.Sheet==a&&(o.Name.match(/^_xlfn\./)||i.push(qV(o)))}return i.join("")}function Rbe(e,t,a,r){if(!e)return"";var n=[];if(e["!margins"]&&(n.push("<PageSetup>"),e["!margins"].header&&n.push(Xt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&n.push(Xt("Footer",null,{"x:Margin":e["!margins"].footer})),n.push(Xt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),n.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[a])if(r.Workbook.Sheets[a].Hidden)n.push(Xt("Visible",r.Workbook.Sheets[a].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<a&&!(r.Workbook.Sheets[i]&&!r.Workbook.Sheets[i].Hidden);++i);i==a&&n.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),e["!protect"]&&(n.push(zi("ProtectContents","True")),e["!protect"].objects&&n.push(zi("ProtectObjects","True")),e["!protect"].scenarios&&n.push(zi("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?n.push(zi("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&n.push(zi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&n.push("<"+l[1]+"/>")})),n.length==0?"":Xt("WorksheetOptions",n.join(""),{xmlns:To.x})}function Fbe(e){return e.map(function(t){var a=rhe(t.t||""),r=Xt("ss:Data",a,{xmlns:"http://www.w3.org/TR/REC-html40"});return Xt("Comment",r,{"ss:Author":t.a})}).join("")}function Ibe(e,t,a,r,n,i,l){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+Ks(e8(e.f,l))),e.F&&e.F.slice(0,t.length)==t){var c=Yr(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==l.r?"":"["+(c.r-l.r)+"]")+"C"+(c.c==l.c?"":"["+(c.c-l.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=Ks(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=Ks(e.l.Tooltip))),a["!merges"])for(var d=a["!merges"],u=0;u!=d.length;++u)d[u].s.c!=l.c||d[u].s.r!=l.r||(d[u].e.c>d[u].s.c&&(o["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(o["ss:MergeDown"]=d[u].e.r-d[u].s.r));var f="",p="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":f="Number",p=String(e.v);break;case"b":f="Boolean",p=e.v?"1":"0";break;case"e":f="Error",p=yh[e.v];break;case"d":f="DateTime",p=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Da[14]);break;case"s":f="String",p=she(e.v||"");break}var m=qf(r.cellXfs,e,r);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=l.c+1;var v=e.v!=null?p:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+v+"</Data>";return(e.c||[]).length>0&&(g+=Fbe(e.c)),Xt("Cell",g,o)}function Bbe(e,t){var a='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=cx(t.hpt)),t.hpx&&(a+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(a+=' ss:Hidden="1"')),a+">"}function $be(e,t,a,r){if(!e["!ref"])return"";var n=_s(e["!ref"]),i=e["!merges"]||[],l=0,o=[];e["!cols"]&&e["!cols"].forEach(function(b,j){Mf(b);var N=!!b.width,k=rN(j,b),S={"ss:Index":j+1};N&&(S["ss:Width"]=n1(k.width)),b.hidden&&(S["ss:Hidden"]="1"),o.push(Xt("Column",null,S))});for(var c=Array.isArray(e),d=n.s.r;d<=n.e.r;++d){for(var u=[Bbe(d,(e["!rows"]||[])[d])],f=n.s.c;f<=n.e.c;++f){var p=!1;for(l=0;l!=i.length;++l)if(!(i[l].s.c>f)&&!(i[l].s.r>d)&&!(i[l].e.c<f)&&!(i[l].e.r<d)){(i[l].s.c!=f||i[l].s.r!=d)&&(p=!0);break}if(!p){var m={r:d,c:f},v=Ma(m),g=c?(e[d]||[])[f]:e[v];u.push(Ibe(g,v,e,t,a,r,m))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function Ube(e,t,a){var r=[],n=a.SheetNames[e],i=a.Sheets[n],l=i?Obe(i,t,e,a):"";return l.length>0&&r.push("<Names>"+l+"</Names>"),l=i?$be(i,t,e,a):"",l.length>0&&r.push("<Table>"+l+"</Table>"),r.push(Rbe(i,t,e,a)),r.join("")}function zbe(e,t){t||(t={}),e.SSF||(e.SSF=jr(Da)),e.SSF&&(Ax(),Jj(e.SSF),t.revssf=Zj(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],qf(t.cellXfs,{},{revssf:{General:0}}));var a=[];a.push(Dbe(e,t)),a.push(Mbe()),a.push(""),a.push("");for(var r=0;r<e.SheetNames.length;++r)a.push(Xt("Worksheet",Ube(r,t,e),{"ss:Name":Ks(e.SheetNames[r])}));return a[2]=Pbe(e,t),a[3]=Lbe(e),En+Xt("Workbook",a.join(""),{xmlns:To.ss,"xmlns:o":To.o,"xmlns:x":To.x,"xmlns:ss":To.ss,"xmlns:dt":To.dt,"xmlns:html":To.html})}function Hbe(e){var t={},a=e.content;if(a.l=28,t.AnsiUserType=a.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Lhe(a),a.length-a.l<=4)return t;var r=a.read_shift(4);if(r==0||r>40||(a.l-=4,t.Reserved1=a.read_shift(0,"lpstr-ansi"),a.length-a.l<=4)||(r=a.read_shift(4),r!==1907505652)||(t.UnicodeClipboardFormat=Ohe(a),r=a.read_shift(4),r==0||r>40))return t;a.l-=4,t.Reserved2=a.read_shift(0,"lpwstr")}var Vbe=[60,1084,2066,2165,2175];function Wbe(e,t,a,r,n){var i=r,l=[],o=a.slice(a.l,a.l+i);if(n&&n.enc&&n.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:n.enc.insitu(o)}l.push(o),a.l+=i;for(var c=qu(a,a.l),d=oC[c],u=0;d!=null&&Vbe.indexOf(c)>-1;)i=qu(a,a.l+2),u=a.l+4,c==2066?u+=4:(c==2165||c==2175)&&(u+=12),o=a.slice(u,a.l+4+i),l.push(o),a.l+=4+i,d=oC[c=qu(a,a.l)];var f=yi(l);Ui(f,0);var p=0;f.lens=[];for(var m=0;m<l.length;++m)f.lens.push(p),p+=l[m].length;if(f.length<r)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+r;return t.f(f,f.length,n)}function $d(e,t,a){if(e.t!=="z"&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Da[r])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||yh[e.v]:r===0||r=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Zv(e.v):e.w=um(e.v):e.w=yc(r,e.v,{date1904:!!a,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&r&&e.t=="n"&&Cx(Da[r]||String(r))){var n=F0(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}}function Yy(e,t,a){return{v:e,ixfe:t,t:a}}function qbe(e,t){var a={opts:{}},r={},n=t.dense?[]:{},i={},l={},o=null,c=[],d="",u={},f,p="",m,v,g,b,j={},N=[],k,S,C=[],_=[],P={Sheets:[],WBProps:{date1904:!1},Views:[{}]},L={},U=function(pt){return pt<8?K0[pt]:pt<64&&_[pt-8]||K0[pt]},z=function(pt,kt,Ot){var qt=kt.XF.data;if(!(!qt||!qt.patternType||!Ot||!Ot.cellStyles)){kt.s={},kt.s.patternType=qt.patternType;var Wt;(Wt=r1(U(qt.icvFore)))&&(kt.s.fgColor={rgb:Wt}),(Wt=r1(U(qt.icvBack)))&&(kt.s.bgColor={rgb:Wt})}},T=function(pt,kt,Ot){if(!(oe>1)&&!(Ot.sheetRows&&pt.r>=Ot.sheetRows)){if(Ot.cellStyles&&kt.XF&&kt.XF.data&&z(pt,kt,Ot),delete kt.ixfe,delete kt.XF,f=pt,p=Ma(pt),(!l||!l.s||!l.e)&&(l={s:{r:0,c:0},e:{r:0,c:0}}),pt.r<l.s.r&&(l.s.r=pt.r),pt.c<l.s.c&&(l.s.c=pt.c),pt.r+1>l.e.r&&(l.e.r=pt.r+1),pt.c+1>l.e.c&&(l.e.c=pt.c+1),Ot.cellFormula&&kt.f){for(var qt=0;qt<N.length;++qt)if(!(N[qt][0].s.c>pt.c||N[qt][0].s.r>pt.r)&&!(N[qt][0].e.c<pt.c||N[qt][0].e.r<pt.r)){kt.F=Ja(N[qt][0]),(N[qt][0].s.c!=pt.c||N[qt][0].s.r!=pt.r)&&delete kt.f,kt.f&&(kt.f=""+rl(N[qt][1],l,pt,te,F));break}}Ot.dense?(n[pt.r]||(n[pt.r]=[]),n[pt.r][pt.c]=kt):n[p]=kt}},F={enc:!1,sbcch:0,snames:[],sharedf:j,arrayf:N,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(F.password=t.password);var M,I=[],W=[],R=[],q=[],ae=!1,te=[];te.SheetNames=F.snames,te.sharedf=F.sharedf,te.arrayf=F.arrayf,te.names=[],te.XTI=[];var K=0,oe=0,D=0,G=[],H=[],X;F.codepage=1200,rd(1200);for(var se=!1;e.l<e.length-1;){var ie=e.l,ne=e.read_shift(2);if(ne===0&&K===10)break;var J=e.l===e.length?0:e.read_shift(2),le=oC[ne];if(le&&le.f){if(t.bookSheets&&K===133&&ne!==133)break;if(K=ne,le.r===2||le.r==12){var pe=e.read_shift(2);if(J-=2,!F.enc&&pe!==ne&&((pe&255)<<8|pe>>8)!==ne)throw new Error("rt mismatch: "+pe+"!="+ne);le.r==12&&(e.l+=10,J-=10)}var Q={};if(ne===10?Q=le.f(e,J,F):Q=Wbe(ne,le,e,J,F),oe==0&&[9,521,1033,2057].indexOf(K)===-1)continue;switch(ne){case 34:a.opts.Date1904=P.WBProps.date1904=Q;break;case 134:a.opts.WriteProtect=!0;break;case 47:if(F.enc||(e.l=0),F.enc=Q,!t.password)throw new Error("File is password-protected");if(Q.valid==null)throw new Error("Encryption scheme unsupported");if(!Q.valid)throw new Error("Password is incorrect");break;case 92:F.lastuser=Q;break;case 66:var xe=Number(Q);switch(xe){case 21010:xe=1200;break;case 32768:xe=1e4;break;case 32769:xe=1252;break}rd(F.codepage=xe),se=!0;break;case 317:F.rrtabid=Q;break;case 25:F.winlocked=Q;break;case 439:a.opts.RefreshAll=Q;break;case 12:a.opts.CalcCount=Q;break;case 16:a.opts.CalcDelta=Q;break;case 17:a.opts.CalcIter=Q;break;case 13:a.opts.CalcMode=Q;break;case 14:a.opts.CalcPrecision=Q;break;case 95:a.opts.CalcSaveRecalc=Q;break;case 15:F.CalcRefMode=Q;break;case 2211:a.opts.FullCalc=Q;break;case 129:Q.fDialog&&(n["!type"]="dialog"),Q.fBelow||((n["!outline"]||(n["!outline"]={})).above=!0),Q.fRight||((n["!outline"]||(n["!outline"]={})).left=!0);break;case 224:C.push(Q);break;case 430:te.push([Q]),te[te.length-1].XTI=[];break;case 35:case 547:te[te.length-1].push(Q);break;case 24:case 536:X={Name:Q.Name,Ref:rl(Q.rgce,l,null,te,F)},Q.itab>0&&(X.Sheet=Q.itab-1),te.names.push(X),te[0]||(te[0]=[],te[0].XTI=[]),te[te.length-1].push(Q),Q.Name=="_xlnm._FilterDatabase"&&Q.itab>0&&Q.rgce&&Q.rgce[0]&&Q.rgce[0][0]&&Q.rgce[0][0][0]=="PtgArea3d"&&(H[Q.itab-1]={ref:Ja(Q.rgce[0][0][1][2])});break;case 22:F.ExternCount=Q;break;case 23:te.length==0&&(te[0]=[],te[0].XTI=[]),te[te.length-1].XTI=te[te.length-1].XTI.concat(Q),te.XTI=te.XTI.concat(Q);break;case 2196:if(F.biff<8)break;X!=null&&(X.Comment=Q[1]);break;case 18:n["!protect"]=Q;break;case 19:Q!==0&&F.WTF&&console.error("Password verifier: "+Q);break;case 133:i[Q.pos]=Q,F.snames.push(Q.name);break;case 10:{if(--oe)break;if(l.e){if(l.e.r>0&&l.e.c>0){if(l.e.r--,l.e.c--,n["!ref"]=Ja(l),t.sheetRows&&t.sheetRows<=l.e.r){var he=l.e.r;l.e.r=t.sheetRows-1,n["!fullref"]=n["!ref"],n["!ref"]=Ja(l),l.e.r=he}l.e.r++,l.e.c++}I.length>0&&(n["!merges"]=I),W.length>0&&(n["!objects"]=W),R.length>0&&(n["!cols"]=R),q.length>0&&(n["!rows"]=q),P.Sheets.push(L)}d===""?u=n:r[d]=n,n=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(F.biff===8&&(F.biff={9:2,521:3,1033:4}[ne]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Q.BIFFVer]||8),F.biffguess=Q.BIFFVer==0,Q.BIFFVer==0&&Q.dt==4096&&(F.biff=5,se=!0,rd(F.codepage=28591)),F.biff==8&&Q.BIFFVer==0&&Q.dt==16&&(F.biff=2),oe++)break;if(n=t.dense?[]:{},F.biff<8&&!se&&(se=!0,rd(F.codepage=t.codepage||1252)),F.biff<5||Q.BIFFVer==0&&Q.dt==4096){d===""&&(d="Sheet1"),l={s:{r:0,c:0},e:{r:0,c:0}};var ue={pos:e.l-J,name:d};i[ue.pos]=ue,F.snames.push(d)}else d=(i[ie]||{name:""}).name;Q.dt==32&&(n["!type"]="chart"),Q.dt==64&&(n["!type"]="macro"),I=[],W=[],F.arrayf=N=[],R=[],q=[],ae=!1,L={Hidden:(i[ie]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:n["!type"]=="chart"&&(t.dense?(n[Q.r]||[])[Q.c]:n[Ma({c:Q.c,r:Q.r})])&&++Q.c,k={ixfe:Q.ixfe,XF:C[Q.ixfe]||{},v:Q.val,t:"n"},D>0&&(k.z=G[k.ixfe>>8&63]),$d(k,t,a.opts.Date1904),T({c:Q.c,r:Q.r},k,t);break;case 5:case 517:k={ixfe:Q.ixfe,XF:C[Q.ixfe],v:Q.val,t:Q.t},D>0&&(k.z=G[k.ixfe>>8&63]),$d(k,t,a.opts.Date1904),T({c:Q.c,r:Q.r},k,t);break;case 638:k={ixfe:Q.ixfe,XF:C[Q.ixfe],v:Q.rknum,t:"n"},D>0&&(k.z=G[k.ixfe>>8&63]),$d(k,t,a.opts.Date1904),T({c:Q.c,r:Q.r},k,t);break;case 189:for(var Le=Q.c;Le<=Q.C;++Le){var ze=Q.rkrec[Le-Q.c][0];k={ixfe:ze,XF:C[ze],v:Q.rkrec[Le-Q.c][1],t:"n"},D>0&&(k.z=G[k.ixfe>>8&63]),$d(k,t,a.opts.Date1904),T({c:Le,r:Q.r},k,t)}break;case 6:case 518:case 1030:{if(Q.val=="String"){o=Q;break}if(k=Yy(Q.val,Q.cell.ixfe,Q.tt),k.XF=C[k.ixfe],t.cellFormula){var Ce=Q.formula;if(Ce&&Ce[0]&&Ce[0][0]&&Ce[0][0][0]=="PtgExp"){var ce=Ce[0][0][1][0],Ie=Ce[0][0][1][1],we=Ma({r:ce,c:Ie});j[we]?k.f=""+rl(Q.formula,l,Q.cell,te,F):k.F=((t.dense?(n[ce]||[])[Ie]:n[we])||{}).F}else k.f=""+rl(Q.formula,l,Q.cell,te,F)}D>0&&(k.z=G[k.ixfe>>8&63]),$d(k,t,a.opts.Date1904),T(Q.cell,k,t),o=Q}break;case 7:case 519:if(o)o.val=Q,k=Yy(Q,o.cell.ixfe,"s"),k.XF=C[k.ixfe],t.cellFormula&&(k.f=""+rl(o.formula,l,o.cell,te,F)),D>0&&(k.z=G[k.ixfe>>8&63]),$d(k,t,a.opts.Date1904),T(o.cell,k,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{N.push(Q);var $e=Ma(Q[0].s);if(m=t.dense?(n[Q[0].s.r]||[])[Q[0].s.c]:n[$e],t.cellFormula&&m){if(!o||!$e||!m)break;m.f=""+rl(Q[1],l,Q[0],te,F),m.F=Ja(Q[0])}}break;case 1212:{if(!t.cellFormula)break;if(p){if(!o)break;j[Ma(o.cell)]=Q[0],m=t.dense?(n[o.cell.r]||[])[o.cell.c]:n[Ma(o.cell)],(m||{}).f=""+rl(Q[0],l,f,te,F)}}break;case 253:k=Yy(c[Q.isst].t,Q.ixfe,"s"),c[Q.isst].h&&(k.h=c[Q.isst].h),k.XF=C[k.ixfe],D>0&&(k.z=G[k.ixfe>>8&63]),$d(k,t,a.opts.Date1904),T({c:Q.c,r:Q.r},k,t);break;case 513:t.sheetStubs&&(k={ixfe:Q.ixfe,XF:C[Q.ixfe],t:"z"},D>0&&(k.z=G[k.ixfe>>8&63]),$d(k,t,a.opts.Date1904),T({c:Q.c,r:Q.r},k,t));break;case 190:if(t.sheetStubs)for(var Be=Q.c;Be<=Q.C;++Be){var ft=Q.ixfe[Be-Q.c];k={ixfe:ft,XF:C[ft],t:"z"},D>0&&(k.z=G[k.ixfe>>8&63]),$d(k,t,a.opts.Date1904),T({c:Be,r:Q.r},k,t)}break;case 214:case 516:case 4:k=Yy(Q.val,Q.ixfe,"s"),k.XF=C[k.ixfe],D>0&&(k.z=G[k.ixfe>>8&63]),$d(k,t,a.opts.Date1904),T({c:Q.c,r:Q.r},k,t);break;case 0:case 512:oe===1&&(l=Q);break;case 252:c=Q;break;case 1054:if(F.biff==4){G[D++]=Q[1];for(var Ke=0;Ke<D+163&&Da[Ke]!=Q[1];++Ke);Ke>=163&&th(Q[1],D+163)}else th(Q[1],Q[0]);break;case 30:{G[D++]=Q;for(var Ue=0;Ue<D+163&&Da[Ue]!=Q;++Ue);Ue>=163&&th(Q,D+163)}break;case 229:I=I.concat(Q);break;case 93:W[Q.cmo[0]]=F.lastobj=Q;break;case 438:F.lastobj.TxO=Q;break;case 127:F.lastobj.ImData=Q;break;case 440:for(b=Q[0].s.r;b<=Q[0].e.r;++b)for(g=Q[0].s.c;g<=Q[0].e.c;++g)m=t.dense?(n[b]||[])[g]:n[Ma({c:g,r:b})],m&&(m.l=Q[1]);break;case 2048:for(b=Q[0].s.r;b<=Q[0].e.r;++b)for(g=Q[0].s.c;g<=Q[0].e.c;++g)m=t.dense?(n[b]||[])[g]:n[Ma({c:g,r:b})],m&&m.l&&(m.l.Tooltip=Q[1]);break;case 28:{if(F.biff<=5&&F.biff>=2)break;m=t.dense?(n[Q[0].r]||[])[Q[0].c]:n[Ma(Q[0])];var tt=W[Q[2]];m||(t.dense?(n[Q[0].r]||(n[Q[0].r]=[]),m=n[Q[0].r][Q[0].c]={t:"z"}):m=n[Ma(Q[0])]={t:"z"},l.e.r=Math.max(l.e.r,Q[0].r),l.s.r=Math.min(l.s.r,Q[0].r),l.e.c=Math.max(l.e.c,Q[0].c),l.s.c=Math.min(l.s.c,Q[0].c)),m.c||(m.c=[]),v={a:Q[1],t:tt.TxO.t},m.c.push(v)}break;case 2173:Ppe(C[Q.ixfe],Q.ext);break;case 125:{if(!F.cellStyles)break;for(;Q.e>=Q.s;)R[Q.e--]={width:Q.w/256,level:Q.level||0,hidden:!!(Q.flags&1)},ae||(ae=!0,JA(Q.w/256)),Mf(R[Q.e+1])}break;case 520:{var ct={};Q.level!=null&&(q[Q.r]=ct,ct.level=Q.level),Q.hidden&&(q[Q.r]=ct,ct.hidden=!0),Q.hpt&&(q[Q.r]=ct,ct.hpt=Q.hpt,ct.hpx=cx(Q.hpt))}break;case 38:case 39:case 40:case 41:n["!margins"]||J0(n["!margins"]={}),n["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ne]]=Q;break;case 161:n["!margins"]||J0(n["!margins"]={}),n["!margins"].header=Q.header,n["!margins"].footer=Q.footer;break;case 574:Q.RTL&&(P.Views[0].RTL=!0);break;case 146:_=Q;break;case 2198:M=Q;break;case 140:S=Q;break;case 442:d?L.CodeName=Q||L.name:P.WBProps.CodeName=Q||"ThisWorkbook";break}}else le||console.error("Missing Info for XLS Record 0x"+ne.toString(16)),e.l+=J}return a.SheetNames=ln(i).sort(function(Je,pt){return Number(Je)-Number(pt)}).map(function(Je){return i[Je].name}),t.bookSheets||(a.Sheets=r),!a.SheetNames.length&&u["!ref"]?(a.SheetNames.push("Sheet1"),a.Sheets&&(a.Sheets.Sheet1=u)):a.Preamble=u,a.Sheets&&H.forEach(function(Je,pt){a.Sheets[a.SheetNames[pt]]["!autofilter"]=Je}),a.Strings=c,a.SSF=jr(Da),F.enc&&(a.Encryption=F.enc),M&&(a.Themes=M),a.Metadata={},S!==void 0&&(a.Metadata.Country=S),te.names.length>0&&(P.Names=te.names),a.Workbook=P,a}var kv={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Gbe(e,t,a){var r=Na.find(e,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var n=KP(r,tC,kv.DSI);for(var i in n)t[i]=n[i]}catch(d){if(a.WTF)throw d}var l=Na.find(e,"/!SummaryInformation");if(l&&l.size>0)try{var o=KP(l,aC,kv.SI);for(var c in o)t[c]==null&&(t[c]=o[c])}catch(d){if(a.WTF)throw d}t.HeadingPairs&&t.TitlesOfParts&&(WH(t.HeadingPairs,t.TitlesOfParts,t,a),delete t.HeadingPairs,delete t.TitlesOfParts)}function Kbe(e,t){var a=[],r=[],n=[],i=0,l,o=kP(tC,"n"),c=kP(aC,"n");if(e.Props)for(l=ln(e.Props),i=0;i<l.length;++i)(Object.prototype.hasOwnProperty.call(o,l[i])?a:Object.prototype.hasOwnProperty.call(c,l[i])?r:n).push([l[i],e.Props[l[i]]]);if(e.Custprops)for(l=ln(e.Custprops),i=0;i<l.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},l[i])||(Object.prototype.hasOwnProperty.call(o,l[i])?a:Object.prototype.hasOwnProperty.call(c,l[i])?r:n).push([l[i],e.Custprops[l[i]]]);var d=[];for(i=0;i<n.length;++i)QH.indexOf(n[i][0])>-1||VH.indexOf(n[i][0])>-1||n[i][1]!=null&&d.push(n[i]);r.length&&Na.utils.cfb_add(t,"/SummaryInformation",YP(r,kv.SI,c,aC)),(a.length||d.length)&&Na.utils.cfb_add(t,"/DocumentSummaryInformation",YP(a,kv.DSI,o,tC,d.length?d:null,kv.UDI))}function n8(e,t){t||(t={}),l8(t),AA(),t.codepage&&CA(t.codepage);var a,r;if(e.FullPaths){if(Na.find(e,"/encryption"))throw new Error("File is password-protected");a=Na.find(e,"!CompObj"),r=Na.find(e,"/Workbook")||Na.find(e,"/Book")}else{switch(t.type){case"base64":e=Mo(Io(e));break;case"binary":e=Mo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ui(e,0),r={content:e}}var n,i;if(a&&Hbe(a),t.bookProps&&!t.bookSheets)n={};else{var l=rs?"buffer":"array";if(r&&r.content)n=qbe(r.content,t);else if((i=Na.find(e,"PerfectOffice_MAIN"))&&i.content)n=X0.to_workbook(i.content,(t.type=l,t));else if((i=Na.find(e,"NativeContent_MAIN"))&&i.content)n=X0.to_workbook(i.content,(t.type=l,t));else throw(i=Na.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Na.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(n.vbaraw=lxe(e))}var o={};return e.FullPaths&&Gbe(e,o,t),n.Props=n.Custprops=o,t.bookFiles&&(n.cfb=e),n}function Ybe(e,t){var a=t||{},r=Na.utils.cfb_new({root:"R"}),n="/Workbook";switch(a.bookType||"xls"){case"xls":a.bookType="biff8";case"xla":a.bookType||(a.bookType="xla");case"biff8":n="/Workbook",a.biff=8;break;case"biff5":n="/Book",a.biff=5;break;default:throw new Error("invalid type "+a.bookType+" for XLS CFB")}return Na.utils.cfb_add(r,n,GV(e,a)),a.biff==8&&(e.Props||e.Custprops)&&Kbe(e,r),a.biff==8&&e.vbaraw&&oxe(r,Na.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),r}var o1={0:{f:bve},1:{f:Ave},2:{f:qve},3:{f:Ove},4:{f:Dve},5:{f:Hve},6:{f:Jve},7:{f:Bve},8:{f:r1e},9:{f:s1e},10:{f:t1e},11:{f:a1e},12:{f:Tve},13:{f:Kve},14:{f:Fve},15:{f:Pve},16:{f:BV},17:{f:Zve},18:{f:Uve},19:{f:UA},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Z1e},40:{},42:{},43:{f:Jme},44:{f:Yme},45:{f:epe},46:{f:ape},47:{f:tpe},48:{},49:{f:jhe},50:{},51:{f:Rpe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:cV},62:{f:Xve},63:{f:Wpe},64:{f:y1e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:fl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:x1e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Sve},148:{f:jve,p:16},151:{f:d1e},152:{},153:{f:X1e},154:{},155:{},156:{f:K1e},157:{},158:{},159:{T:1,f:hme},160:{T:-1},161:{T:1,f:Rm},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:n1e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Lpe},336:{T:-1},337:{f:Bpe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:eC},357:{},358:{},359:{},360:{T:1},361:{},362:{f:oV},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:u1e},427:{f:h1e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:m1e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:kve},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:o1e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:eC},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:axe},633:{T:1},634:{T:-1},635:{T:1,f:exe},636:{T:-1},637:{f:Che},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:F1e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:w1e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},oC={6:{f:U5},10:{f:df},12:{f:Rn},13:{f:Rn},14:{f:bn},15:{f:bn},16:{f:ol},17:{f:bn},18:{f:bn},19:{f:Rn},20:{f:tL},21:{f:tL},23:{f:oV},24:{f:sL},25:{f:bn},26:{},27:{},28:{f:w0e},29:{},34:{f:bn},35:{f:aL},38:{f:ol},39:{f:ol},40:{f:ol},41:{f:ol},42:{f:bn},43:{f:bn},47:{f:Pme},49:{f:Kfe},51:{f:Rn},60:{},61:{f:Hfe},64:{f:bn},65:{f:Gfe},66:{f:Rn},77:{},80:{},81:{},82:{},85:{f:Rn},89:{},90:{},91:{},92:{f:Mfe},93:{f:k0e},94:{},95:{f:bn},96:{},97:{},99:{f:bn},125:{f:cV},128:{f:c0e},129:{f:Lfe},130:{f:Rn},131:{f:bn},132:{f:bn},133:{f:Ofe},134:{},140:{f:M0e},141:{f:Rn},144:{},146:{f:O0e},151:{},152:{},153:{},154:{},155:{},156:{f:Rn},157:{},158:{},160:{f:z0e},161:{f:I0e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:n0e},190:{f:i0e},193:{f:df},197:{},198:{},199:{},200:{},201:{},202:{f:bn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Rn},220:{},221:{f:bn},222:{},224:{f:o0e},225:{f:Dfe},226:{f:df},227:{},229:{f:j0e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Ffe},253:{f:Xfe},255:{f:Bfe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:ZH},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:bn},353:{f:df},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:m0e},431:{f:bn},432:{},433:{},434:{},437:{},438:{f:A0e},439:{f:bn},440:{f:_0e},441:{},442:{f:K1},443:{},444:{f:Rn},445:{},446:{},448:{f:df},449:{f:zfe,r:2},450:{f:df},512:{f:QP},513:{f:U0e},515:{f:h0e},516:{f:Qfe},517:{f:eL},519:{f:H0e},520:{f:$fe},523:{},545:{f:rL},549:{f:JP},566:{},574:{f:Wfe},638:{f:r0e},659:{},1048:{},1054:{f:e0e},1084:{},1212:{f:v0e},2048:{f:E0e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:qy},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:df},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:R0e,r:12},2173:{f:Mpe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:bn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:g0e,r:12},2197:{},2198:{f:Cpe,r:12},2199:{},2200:{},2201:{},2202:{f:b0e,r:12},2203:{f:df},2204:{},2205:{},2206:{},2207:{},2211:{f:Ufe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Rn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:B0e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:L0e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:QP},1:{},2:{f:K0e},3:{f:q0e},4:{f:W0e},5:{f:eL},7:{f:X0e},8:{},9:{f:qy},11:{},22:{f:Rn},30:{f:a0e},31:{},32:{},33:{f:rL},36:{},37:{f:JP},50:{f:J0e},62:{},52:{},67:{},68:{f:Rn},69:{},86:{},126:{},127:{f:V0e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Q0e},223:{},234:{},354:{},421:{},518:{f:U5},521:{f:qy},536:{f:sL},547:{f:aL},561:{},579:{},1030:{f:U5},1033:{f:qy},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Jt(e,t,a,r){var n=t;if(!isNaN(n)){var i=r||(a||[]).length||0,l=e.next(4);l.write_shift(2,n),l.write_shift(2,i),i>0&&IA(a)&&e.push(a)}}function Xbe(e,t,a,r){var n=(a||[]).length||0;if(n<=8224)return Jt(e,t,a,n);var i=t;if(!isNaN(i)){for(var l=a.parts||[],o=0,c=0,d=0;d+(l[o]||8224)<=8224;)d+=l[o]||8224,o++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,d),e.push(a.slice(c,c+d)),c+=d;c<n;){for(u=e.next(4),u.write_shift(2,60),d=0;d+(l[o]||8224)<=8224;)d+=l[o]||8224,o++;u.write_shift(2,d),e.push(a.slice(c,c+d)),c+=d}}}function Q1(e,t,a){return e||(e=Nt(7)),e.write_shift(2,t),e.write_shift(2,a),e.write_shift(2,0),e.write_shift(1,0),e}function Jbe(e,t,a,r){var n=Nt(9);return Q1(n,e,t),eV(a,r||"b",n),n}function Qbe(e,t,a){var r=Nt(8+2*a.length);return Q1(r,e,t),r.write_shift(1,a.length),r.write_shift(a.length,a,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function Zbe(e,t,a,r){if(t.v!=null)switch(t.t){case"d":case"n":var n=t.t=="d"?ti(wr(t.v)):t.v;n==(n|0)&&n>=0&&n<65536?Jt(e,2,Y0e(a,r,n)):Jt(e,3,G0e(a,r,n));return;case"b":case"e":Jt(e,5,Jbe(a,r,t.v,t.t));return;case"s":case"str":Jt(e,4,Qbe(a,r,(t.v||"").slice(0,255)));return}Jt(e,1,Q1(null,a,r))}function eye(e,t,a,r){var n=Array.isArray(t),i=_s(t["!ref"]||"A1"),l,o="",c=[];if(i.e.c>255||i.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),l=Ja(i)}for(var d=i.s.r;d<=i.e.r;++d){o=Cn(d);for(var u=i.s.c;u<=i.e.c;++u){d===i.s.r&&(c[u]=Kr(u)),l=c[u]+o;var f=n?(t[d]||[])[u]:t[l];f&&Zbe(e,f,d,u)}}}function tye(e,t){for(var a=t||{},r=ro(),n=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==a.sheet&&(n=i);if(n==0&&a.sheet&&e.SheetNames[0]!=a.sheet)throw new Error("Sheet not found: "+a.sheet);return Jt(r,a.biff==4?1033:a.biff==3?521:9,KA(e,16,a)),eye(r,e.Sheets[e.SheetNames[n]],n,a),Jt(r,10),r.end()}function aye(e,t,a){Jt(e,49,Yfe({sz:12,name:"Arial"},a))}function sye(e,t,a){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&Jt(e,1054,t0e(n,t[n],a))})}function rye(e,t){var a=Nt(19);a.write_shift(4,2151),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,3),a.write_shift(1,1),a.write_shift(4,0),Jt(e,2151,a),a=Nt(39),a.write_shift(4,2152),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,3),a.write_shift(1,0),a.write_shift(4,0),a.write_shift(2,1),a.write_shift(4,4),a.write_shift(2,0),nV(_s(t["!ref"]||"A1"),a),a.write_shift(4,4),Jt(e,2152,a)}function nye(e,t){for(var a=0;a<16;++a)Jt(e,224,ZP({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(r){Jt(e,224,ZP(r,0,t))})}function iye(e,t){for(var a=0;a<t["!links"].length;++a){var r=t["!links"][a];Jt(e,440,T0e(r)),r[1].Tooltip&&Jt(e,2048,D0e(r))}delete t["!links"]}function lye(e,t){if(t){var a=0;t.forEach(function(r,n){++a<=256&&r&&Jt(e,125,F0e(rN(n,r),n))})}}function oye(e,t,a,r,n){var i=16+qf(n.cellXfs,t,n);if(t.v==null&&!t.bf){Jt(e,513,pm(a,r,i));return}if(t.bf)Jt(e,6,Lge(t,a,r,n,i));else switch(t.t){case"d":case"n":var l=t.t=="d"?ti(wr(t.v)):t.v;Jt(e,515,f0e(a,r,l,i));break;case"b":case"e":Jt(e,517,u0e(a,r,t.v,i,n,t.t));break;case"s":case"str":if(n.bookSST){var o=a8(n.Strings,t.v,n.revStrings);Jt(e,253,Jfe(a,r,o,i))}else Jt(e,516,Zfe(a,r,(t.v||"").slice(0,255),i,n));break;default:Jt(e,513,pm(a,r,i))}}function cye(e,t,a){var r=ro(),n=a.SheetNames[e],i=a.Sheets[n]||{},l=(a||{}).Workbook||{},o=(l.Sheets||[])[e]||{},c=Array.isArray(i),d=t.biff==8,u,f="",p=[],m=_s(i["!ref"]||"A1"),v=d?65536:16384;if(m.e.c>255||m.e.r>=v){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,v-1)}Jt(r,2057,KA(a,16,t)),Jt(r,13,mc(1)),Jt(r,12,mc(100)),Jt(r,15,_l(!0)),Jt(r,17,_l(!1)),Jt(r,16,fm(.001)),Jt(r,95,_l(!0)),Jt(r,42,_l(!1)),Jt(r,43,_l(!1)),Jt(r,130,mc(1)),Jt(r,128,d0e()),Jt(r,131,_l(!1)),Jt(r,132,_l(!1)),d&&lye(r,i["!cols"]),Jt(r,512,s0e(m,t)),d&&(i["!links"]=[]);for(var g=m.s.r;g<=m.e.r;++g){f=Cn(g);for(var b=m.s.c;b<=m.e.c;++b){g===m.s.r&&(p[b]=Kr(b)),u=p[b]+f;var j=c?(i[g]||[])[b]:i[u];j&&(oye(r,j,g,b,t),d&&j.l&&i["!links"].push([u,j.l]))}}var N=o.CodeName||o.name||n;return d&&Jt(r,574,qfe((l.Views||[])[0])),d&&(i["!merges"]||[]).length&&Jt(r,229,N0e(i["!merges"])),d&&iye(r,i),Jt(r,442,tV(N)),d&&rye(r,i),Jt(r,10),r.end()}function dye(e,t,a){var r=ro(),n=(e||{}).Workbook||{},i=n.Sheets||[],l=n.WBProps||{},o=a.biff==8,c=a.biff==5;if(Jt(r,2057,KA(e,5,a)),a.bookType=="xla"&&Jt(r,135),Jt(r,225,o?mc(1200):null),Jt(r,193,ufe(2)),c&&Jt(r,191),c&&Jt(r,192),Jt(r,226),Jt(r,92,Pfe("SheetJS",a)),Jt(r,66,mc(o?1200:1252)),o&&Jt(r,353,mc(0)),o&&Jt(r,448),Jt(r,317,$0e(e.SheetNames.length)),o&&e.vbaraw&&Jt(r,211),o&&e.vbaraw){var d=l.CodeName||"ThisWorkbook";Jt(r,442,tV(d))}Jt(r,156,mc(17)),Jt(r,25,_l(!1)),Jt(r,18,_l(!1)),Jt(r,19,mc(0)),o&&Jt(r,431,_l(!1)),o&&Jt(r,444,mc(0)),Jt(r,61,Vfe()),Jt(r,64,_l(!1)),Jt(r,141,mc(0)),Jt(r,34,_l(z1e(e)=="true")),Jt(r,14,_l(!0)),o&&Jt(r,439,_l(!1)),Jt(r,218,mc(0)),aye(r,e,a),sye(r,e.SSF,a),nye(r,a),o&&Jt(r,352,_l(!1));var u=r.end(),f=ro();o&&Jt(f,140,P0e()),o&&a.Strings&&Xbe(f,252,Ife(a.Strings)),Jt(f,10);var p=f.end(),m=ro(),v=0,g=0;for(g=0;g<e.SheetNames.length;++g)v+=(o?12:11)+(o?2:1)*e.SheetNames[g].length;var b=u.length+v+p.length;for(g=0;g<e.SheetNames.length;++g){var j=i[g]||{};Jt(m,133,Rfe({pos:b,hs:j.Hidden||0,dt:0,name:e.SheetNames[g]},a)),b+=t[g].length}var N=m.end();if(v!=N.length)throw new Error("BS8 "+v+" != "+N.length);var k=[];return u.length&&k.push(u),N.length&&k.push(N),p.length&&k.push(p),yi(k)}function uye(e,t){var a=t||{},r=[];e&&!e.SSF&&(e.SSF=jr(Da)),e&&e.SSF&&(Ax(),Jj(e.SSF),a.revssf=Zj(e.SSF),a.revssf[e.SSF[65535]]=0,a.ssf=e.SSF),a.Strings=[],a.Strings.Count=0,a.Strings.Unique=0,o8(a),a.cellXfs=[],qf(a.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var n=0;n<e.SheetNames.length;++n)r[r.length]=cye(n,a,e);return r.unshift(dye(e,r,a)),yi(r)}function GV(e,t){for(var a=0;a<=e.SheetNames.length;++a){var r=e.Sheets[e.SheetNames[a]];if(!(!r||!r["!ref"])){var n=no(r["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[a]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return uye(e,t);case 4:case 3:case 2:return tye(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function mL(e,t){var a=t||{},r=a.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var n=e.match(/<table/i);if(!n)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),l=n.index,o=i&&i.index||e.length,c=Yue(e.slice(l,o),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,u=0,f=0,p=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(l=0;l<c.length;++l){var g=c[l].trim(),b=g.slice(0,3).toLowerCase();if(b=="<tr"){if(++d,a.sheetRows&&a.sheetRows<=d){--d;break}u=0;continue}if(!(b!="<td"&&b!="<th")){var j=g.split(/<\/t[dh]>/i);for(o=0;o<j.length;++o){var N=j[o].trim();if(N.match(/<t[dh]/i)){for(var k=N,S=0;k.charAt(0)=="<"&&(S=k.indexOf(">"))>-1;)k=k.slice(S+1);for(var C=0;C<v.length;++C){var _=v[C];_.s.c==u&&_.s.r<d&&d<=_.e.r&&(u=_.e.c+1,C=-1)}var P=Fa(N.slice(0,N.indexOf(">")));p=P.colspan?+P.colspan:1,((f=+P.rowspan)>1||p>1)&&v.push({s:{r:d,c:u},e:{r:d+(f||1)-1,c:u+p-1}});var L=P.t||P["data-t"]||"";if(!k.length){u+=p;continue}if(k=vH(k),m.s.r>d&&(m.s.r=d),m.e.r<d&&(m.e.r=d),m.s.c>u&&(m.s.c=u),m.e.c<u&&(m.e.c=u),!k.length){u+=p;continue}var U={t:"s",v:k};a.raw||!k.trim().length||L=="s"||(k==="TRUE"?U={t:"b",v:!0}:k==="FALSE"?U={t:"b",v:!1}:isNaN(id(k))?isNaN(lx(k).getDate())||(U={t:"d",v:wr(k)},a.cellDates||(U={t:"n",v:ti(U.v)}),U.z=a.dateNF||Da[14]):U={t:"n",v:id(k)}),a.dense?(r[d]||(r[d]=[]),r[d][u]=U):r[Ma({r:d,c:u})]=U,u+=p}}}}return r["!ref"]=Ja(m),v.length&&(r["!merges"]=v),r}function hye(e,t,a,r){for(var n=e["!merges"]||[],i=[],l=t.s.c;l<=t.e.c;++l){for(var o=0,c=0,d=0;d<n.length;++d)if(!(n[d].s.r>a||n[d].s.c>l)&&!(n[d].e.r<a||n[d].e.c<l)){if(n[d].s.r<a||n[d].s.c<l){o=-1;break}o=n[d].e.r-n[d].s.r+1,c=n[d].e.c-n[d].s.c+1;break}if(!(o<0)){var u=Ma({r:a,c:l}),f=r.dense?(e[a]||[])[l]:e[u],p=f&&f.v!=null&&(f.h||OA(f.w||(lh(f),f.w)||""))||"",m={};o>1&&(m.rowspan=o),c>1&&(m.colspan=c),r.editable?p='<span contenteditable="true">'+p+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+f.l.Target+'">'+p+"</a>")),m.id=(r.id||"sjs")+"-"+u,i.push(Xt("td",p,m))}}var v="<tr>";return v+i.join("")+"</tr>"}var fye='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',mye="</body></html>";function pye(e,t){var a=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!a||a.length==0)throw new Error("Invalid HTML: could not find <table>");if(a.length==1)return Wf(mL(a[0],t),t);var r=h8();return a.forEach(function(n,i){f8(r,mL(n,t),"Sheet"+(i+1))}),r}function xye(e,t,a){var r=[];return r.join("")+"<table"+(a&&a.id?' id="'+a.id+'"':"")+">"}function KV(e,t){var a=t||{},r=a.header!=null?a.header:fye,n=a.footer!=null?a.footer:mye,i=[r],l=no(e["!ref"]);a.dense=Array.isArray(e),i.push(xye(e,l,a));for(var o=l.s.r;o<=l.e.r;++o)i.push(hye(e,l,o,a));return i.push("</table>"+n),i.join("")}function YV(e,t,a){var r=a||{},n=0,i=0;if(r.origin!=null)if(typeof r.origin=="number")n=r.origin;else{var l=typeof r.origin=="string"?Yr(r.origin):r.origin;n=l.r,i=l.c}var o=t.getElementsByTagName("tr"),c=Math.min(r.sheetRows||1e7,o.length),d={s:{r:0,c:0},e:{r:n,c:i}};if(e["!ref"]){var u=no(e["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),n==-1&&(d.e.r=n=u.e.r+1)}var f=[],p=0,m=e["!rows"]||(e["!rows"]=[]),v=0,g=0,b=0,j=0,N=0,k=0;for(e["!cols"]||(e["!cols"]=[]);v<o.length&&g<c;++v){var S=o[v];if(pL(S)){if(r.display)continue;m[g]={hidden:!0}}var C=S.children;for(b=j=0;b<C.length;++b){var _=C[b];if(!(r.display&&pL(_))){var P=_.hasAttribute("data-v")?_.getAttribute("data-v"):_.hasAttribute("v")?_.getAttribute("v"):vH(_.innerHTML),L=_.getAttribute("data-z")||_.getAttribute("z");for(p=0;p<f.length;++p){var U=f[p];U.s.c==j+i&&U.s.r<g+n&&g+n<=U.e.r&&(j=U.e.c+1-i,p=-1)}k=+_.getAttribute("colspan")||1,((N=+_.getAttribute("rowspan")||1)>1||k>1)&&f.push({s:{r:g+n,c:j+i},e:{r:g+n+(N||1)-1,c:j+i+(k||1)-1}});var z={t:"s",v:P},T=_.getAttribute("data-t")||_.getAttribute("t")||"";P!=null&&(P.length==0?z.t=T||"z":r.raw||P.trim().length==0||T=="s"||(P==="TRUE"?z={t:"b",v:!0}:P==="FALSE"?z={t:"b",v:!1}:isNaN(id(P))?isNaN(lx(P).getDate())||(z={t:"d",v:wr(P)},r.cellDates||(z={t:"n",v:ti(z.v)}),z.z=r.dateNF||Da[14]):z={t:"n",v:id(P)})),z.z===void 0&&L!=null&&(z.z=L);var F="",M=_.getElementsByTagName("A");if(M&&M.length)for(var I=0;I<M.length&&!(M[I].hasAttribute("href")&&(F=M[I].getAttribute("href"),F.charAt(0)!="#"));++I);F&&F.charAt(0)!="#"&&(z.l={Target:F}),r.dense?(e[g+n]||(e[g+n]=[]),e[g+n][j+i]=z):e[Ma({c:j+i,r:g+n})]=z,d.e.c<j+i&&(d.e.c=j+i),j+=k}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),d.e.r=Math.max(d.e.r,g-1+n),e["!ref"]=Ja(d),g>=c&&(e["!fullref"]=Ja((d.e.r=o.length-v+g-1+n,d))),e}function XV(e,t){var a=t||{},r=a.dense?[]:{};return YV(r,e,t)}function gye(e,t){return Wf(XV(e,t),t)}function pL(e){var t="",a=vye(e);return a&&(t=a(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function vye(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function bye(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,n){return Array(parseInt(n,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),a=As(t.replace(/<[^>]*>/g,""));return[a]}var xL={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function JV(e,t){var a=t||{},r=RA(e),n=[],i,l,o={name:""},c="",d=0,u,f,p={},m=[],v=a.dense?[]:{},g,b,j={value:""},N="",k=0,S=[],C=-1,_=-1,P={s:{r:1e6,c:1e7},e:{r:0,c:0}},L=0,U={},z=[],T={},F=0,M=0,I=[],W=1,R=1,q=[],ae={Names:[]},te={},K=["",""],oe=[],D={},G="",H=0,X=!1,se=!1,ie=0;for(a1.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=a1.exec(r);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(P.e.c>=P.s.c&&P.e.r>=P.s.r?v["!ref"]=Ja(P):v["!ref"]="A1:A1",a.sheetRows>0&&a.sheetRows<=P.e.r&&(v["!fullref"]=v["!ref"],P.e.r=a.sheetRows-1,v["!ref"]=Ja(P)),z.length&&(v["!merges"]=z),I.length&&(v["!rows"]=I),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),m.push(u.name),p[u.name]=v,se=!1):g[0].charAt(g[0].length-2)!=="/"&&(u=Fa(g[0],!1),C=_=-1,P.s.r=P.s.c=1e7,P.e.r=P.e.c=0,v=a.dense?[]:{},z=[],I=[],se=!0);break;case"table-row-group":g[1]==="/"?--L:++L;break;case"table-row":case"":if(g[1]==="/"){C+=W,W=1;break}if(f=Fa(g[0],!1),f.?C=f.-1:C==-1&&(C=0),W=+f["number-rows-repeated"]||1,W<10)for(ie=0;ie<W;++ie)L>0&&(I[C+ie]={level:L});_=-1;break;case"covered-table-cell":g[1]!=="/"&&++_,a.sheetStubs&&(a.dense?(v[C]||(v[C]=[]),v[C][_]={t:"z"}):v[Ma({r:C,c:_})]={t:"z"}),N="",S=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++_,j=Fa(g[0],!1),R=parseInt(j["number-columns-repeated"]||"1",10),b={t:"z",v:null},j.formula&&a.cellFormula!=!1&&(b.f=uL(As(j.formula))),(j.||j["value-type"])=="string"&&(b.t="s",b.v=As(j["string-value"]||""),a.dense?(v[C]||(v[C]=[]),v[C][_]=b):v[Ma({r:C,c:_})]=b),_+=R-1;else if(g[1]!=="/"){++_,N="",k=0,S=[],R=1;var ne=W?C+W-1:C;if(_>P.e.c&&(P.e.c=_),_<P.s.c&&(P.s.c=_),C<P.s.r&&(P.s.r=C),ne>P.e.r&&(P.e.r=ne),j=Fa(g[0],!1),oe=[],D={},b={t:j.||j["value-type"],v:null},a.cellFormula)if(j.formula&&(j.formula=As(j.formula)),j["number-matrix-columns-spanned"]&&j["number-matrix-rows-spanned"]&&(F=parseInt(j["number-matrix-rows-spanned"],10)||0,M=parseInt(j["number-matrix-columns-spanned"],10)||0,T={s:{r:C,c:_},e:{r:C+F-1,c:_+M-1}},b.F=Ja(T),q.push([T,b.F])),j.formula)b.f=uL(j.formula);else for(ie=0;ie<q.length;++ie)C>=q[ie][0].s.r&&C<=q[ie][0].e.r&&_>=q[ie][0].s.c&&_<=q[ie][0].e.c&&(b.F=q[ie][1]);switch((j["number-columns-spanned"]||j["number-rows-spanned"])&&(F=parseInt(j["number-rows-spanned"],10)||0,M=parseInt(j["number-columns-spanned"],10)||0,T={s:{r:C,c:_},e:{r:C+F-1,c:_+M-1}},z.push(T)),j["number-columns-repeated"]&&(R=parseInt(j["number-columns-repeated"],10)),b.t){case"boolean":b.t="b",b.v=vr(j["boolean-value"]);break;case"float":b.t="n",b.v=parseFloat(j.value);break;case"percentage":b.t="n",b.v=parseFloat(j.value);break;case"currency":b.t="n",b.v=parseFloat(j.value);break;case"date":b.t="d",b.v=wr(j["date-value"]),a.cellDates||(b.t="n",b.v=ti(b.v)),b.z="m/d/yy";break;case"time":b.t="n",b.v=que(j["time-value"])/86400,a.cellDates&&(b.t="d",b.v=eN(b.v)),b.z="HH:MM:SS";break;case"number":b.t="n",b.v=parseFloat(j.);break;default:if(b.t==="string"||b.t==="text"||!b.t)b.t="s",j["string-value"]!=null&&(N=As(j["string-value"]),S=[]);else throw new Error("Unsupported value type "+b.t)}}else{if(X=!1,b.t==="s"&&(b.v=N||"",S.length&&(b.R=S),X=k==0),te.Target&&(b.l=te),oe.length>0&&(b.c=oe,oe=[]),N&&a.cellText!==!1&&(b.w=N),X&&(b.t="z",delete b.v),(!X||a.sheetStubs)&&!(a.sheetRows&&a.sheetRows<=C))for(var J=0;J<W;++J){if(R=parseInt(j["number-columns-repeated"]||"1",10),a.dense)for(v[C+J]||(v[C+J]=[]),v[C+J][_]=J==0?b:jr(b);--R>0;)v[C+J][_+R]=jr(b);else for(v[Ma({r:C+J,c:_})]=b;--R>0;)v[Ma({r:C+J,c:_+R})]=jr(b);P.e.c<=_&&(P.e.c=_)}R=parseInt(j["number-columns-repeated"]||"1",10),_+=R-1,R=0,b={},N="",S=[]}te={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((i=n.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&n.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((i=n.pop())[0]!==g[3])throw"Bad state: "+i;D.t=N,S.length&&(D.R=S),D.a=G,oe.push(D)}else g[0].charAt(g[0].length-2)!=="/"&&n.push([g[3],!1]);G="",H=0,N="",k=0,S=[];break;case"creator":g[1]==="/"?G=r.slice(H,g.index):H=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((i=n.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&n.push([g[3],!1]);N="",k=0,S=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(U[o.name]=c,(i=n.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&(c="",o=Fa(g[0],!1),n.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(n[n.length-1][0]){case"time-style":case"date-style":l=Fa(g[0],!1),c+=xL[g[3]][l.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(n[n.length-1][0]){case"time-style":case"date-style":l=Fa(g[0],!1),c+=xL[g[3]][l.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(n[n.length-1][0]){case"number-style":case"date-style":case"time-style":c+=r.slice(d,g.index);break}else d=g.index+g[0].length;break;case"named-range":l=Fa(g[0],!1),K=z5(l["cell-range-address"]);var le={Name:l.name,Ref:K[0]+"!"+K[1]};se&&(le.Sheet=m.length),ae.Names.push(le);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(n[n.length-1][0])>-1)break;if(g[1]==="/"&&(!j||!j["string-value"])){var pe=bye(r.slice(k,g.index));N=(N.length>0?N+`
`:"")+pe[0]}else Fa(g[0],!1),k=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{K=z5(Fa(g[0])["target-range-address"]),p[K[0]]["!autofilter"]={ref:K[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(te=Fa(g[0],!1),!te.href)break;te.Target=As(te.href),delete te.href,te.Target.charAt(0)=="#"&&te.Target.indexOf(".")>-1?(K=z5(te.Target.slice(1)),te.Target="#"+K[0]+"!"+K[1]):te.Target.match(/^\.\.[\\\/]/)&&(te.Target=te.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(a.WTF)throw new Error(g)}}var Q={Sheets:p,SheetNames:m,Workbook:ae};return a.bookSheets&&delete Q.Sheets,Q}function gL(e,t){t=t||{},fc(e,"META-INF/manifest.xml")&&qhe(On(e,"META-INF/manifest.xml"),t);var a=Po(e,"content.xml");if(!a)throw new Error("Missing content.xml in ODS / UOF file");var r=JV(tr(a),t);return fc(e,"meta.xml")&&(r.Props=zH(On(e,"meta.xml"))),r}function vL(e,t){return JV(e,t)}var yye=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+t1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return En+t}})(),bL=(function(){var e=function(i){return Ks(i).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,a=`          <table:covered-table-cell/>
`,r=function(i,l,o){var c=[];c.push('      <table:table table:name="'+Ks(l.SheetNames[o])+`" table:style-name="ta1">
`);var d=0,u=0,f=no(i["!ref"]||"A1"),p=i["!merges"]||[],m=0,v=Array.isArray(i);if(i["!cols"])for(u=0;u<=f.e.c;++u)c.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var g="",b=i["!rows"]||[];for(d=0;d<f.s.r;++d)g=b[d]?' table:style-name="ro'+b[d].ods+'"':"",c.push("        <table:table-row"+g+`></table:table-row>
`);for(;d<=f.e.r;++d){for(g=b[d]?' table:style-name="ro'+b[d].ods+'"':"",c.push("        <table:table-row"+g+`>
`),u=0;u<f.s.c;++u)c.push(t);for(;u<=f.e.c;++u){var j=!1,N={},k="";for(m=0;m!=p.length;++m)if(!(p[m].s.c>u)&&!(p[m].s.r>d)&&!(p[m].e.c<u)&&!(p[m].e.r<d)){(p[m].s.c!=u||p[m].s.r!=d)&&(j=!0),N["table:number-columns-spanned"]=p[m].e.c-p[m].s.c+1,N["table:number-rows-spanned"]=p[m].e.r-p[m].s.r+1;break}if(j){c.push(a);continue}var S=Ma({r:d,c:u}),C=v?(i[d]||[])[u]:i[S];if(C&&C.f&&(N["table:formula"]=Ks($ge(C.f)),C.F&&C.F.slice(0,S.length)==S)){var _=no(C.F);N["table:number-matrix-columns-spanned"]=_.e.c-_.s.c+1,N["table:number-matrix-rows-spanned"]=_.e.r-_.s.r+1}if(!C){c.push(t);continue}switch(C.t){case"b":k=C.v?"TRUE":"FALSE",N["office:value-type"]="boolean",N["office:boolean-value"]=C.v?"true":"false";break;case"n":k=C.w||String(C.v||0),N["office:value-type"]="float",N["office:value"]=C.v||0;break;case"s":case"str":k=C.v==null?"":C.v,N["office:value-type"]="string";break;case"d":k=C.w||wr(C.v).toISOString(),N["office:value-type"]="date",N["office:date-value"]=wr(C.v).toISOString(),N["table:style-name"]="ce1";break;default:c.push(t);continue}var P=e(k);if(C.l&&C.l.Target){var L=C.l.Target;L=L.charAt(0)=="#"?"#"+Uge(L.slice(1)):L,L.charAt(0)!="#"&&!L.match(/^\w+:/)&&(L="../"+L),P=Xt("text:a",P,{"xlink:href":L.replace(/&/g,"&amp;")})}c.push("          "+Xt("table:table-cell",Xt("text:p",P,{}),N)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},n=function(i,l){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var f=d["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Mf(f),f.ods=o;var p=d["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),i.push(`  </style:style>
`),++o}}});var c=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var f=d["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(l,o){var c=[En],d=t1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=t1({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(UH().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),n(c,l),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=l.SheetNames.length;++f)c.push(r(l.Sheets[l.SheetNames[f]],l,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function QV(e,t){if(t.bookType=="fods")return bL(e,t);var a=MA(),r="",n=[],i=[];return r="mimetype",Za(a,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Za(a,r,bL(e,t)),n.push([r,"text/xml"]),i.push([r,"ContentFile"]),r="styles.xml",Za(a,r,yye(e,t)),n.push([r,"text/xml"]),i.push([r,"StylesFile"]),r="meta.xml",Za(a,r,En+UH()),n.push([r,"text/xml"]),i.push([r,"MetadataFile"]),r="manifest.rdf",Za(a,r,Yhe(i)),n.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Za(a,r,Ghe(n)),a}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function xm(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function cC(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):tr(Vf(e))}function wye(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Mo(Kd(e))}function jye(e,t){e:for(var a=0;a<=e.length-t.length;++a){for(var r=0;r<t.length;++r)if(e[a+r]!=t[r])continue e;return!0}return!1}function Lf(e){var t=e.reduce(function(n,i){return n+i.length},0),a=new Uint8Array(t),r=0;return e.forEach(function(n){a.set(n,r),r+=n.length}),a}function yL(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Nye(e,t){for(var a=(e[t+15]&127)<<7|e[t+14]>>1,r=e[t+14]&1,n=t+13;n>=t;--n)r=r*256+e[n];return(e[t+15]&128?-r:r)*Math.pow(10,a-6176)}function kye(e,t,a){var r=Math.floor(a==0?0:Math.LOG10E*Math.log(Math.abs(a)))+6176-20,n=a/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(r&127)<<1;for(var i=0;n>=1;++i,n/=256)e[t+i]=n&255;e[t+15]|=a>=0?0:128}function c1(e,t){var a=t?t[0]:0,r=e[a]&127;e:if(e[a++]>=128&&(r|=(e[a]&127)<<7,e[a++]<128||(r|=(e[a]&127)<<14,e[a++]<128)||(r|=(e[a]&127)<<21,e[a++]<128)||(r+=(e[a]&127)*Math.pow(2,28),++a,e[a++]<128)||(r+=(e[a]&127)*Math.pow(2,35),++a,e[a++]<128)||(r+=(e[a]&127)*Math.pow(2,42),++a,e[a++]<128)))break e;return t&&(t[0]=a),r}function Hs(e){var t=new Uint8Array(7);t[0]=e&127;var a=1;e:if(e>127){if(t[a-1]|=128,t[a]=e>>7&127,++a,e<=16383||(t[a-1]|=128,t[a]=e>>14&127,++a,e<=2097151)||(t[a-1]|=128,t[a]=e>>21&127,++a,e<=268435455)||(t[a-1]|=128,t[a]=e/256>>>21&127,++a,e<=34359738367)||(t[a-1]|=128,t[a]=e/65536>>>21&127,++a,e<=4398046511103))break e;t[a-1]|=128,t[a]=e/16777216>>>21&127,++a}return t.slice(0,a)}function nn(e){var t=0,a=e[t]&127;e:if(e[t++]>=128){if(a|=(e[t]&127)<<7,e[t++]<128||(a|=(e[t]&127)<<14,e[t++]<128)||(a|=(e[t]&127)<<21,e[t++]<128))break e;a|=(e[t]&127)<<28}return a}function Es(e){for(var t=[],a=[0];a[0]<e.length;){var r=a[0],n=c1(e,a),i=n&7;n=Math.floor(n/8);var l=0,o;if(n==0)break;switch(i){case 0:{for(var c=a[0];e[a[0]++]>=128;);o=e.slice(c,a[0])}break;case 5:l=4,o=e.slice(a[0],a[0]+l),a[0]+=l;break;case 1:l=8,o=e.slice(a[0],a[0]+l),a[0]+=l;break;case 2:l=c1(e,a),o=e.slice(a[0],a[0]+l),a[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(n," at offset ").concat(r))}var d={data:o,type:i};t[n]==null?t[n]=[d]:t[n].push(d)}return t}function Fi(e){var t=[];return e.forEach(function(a,r){a.forEach(function(n){n.data&&(t.push(Hs(r*8+n.type)),n.type==2&&t.push(Hs(n.data.length)),t.push(n.data))})}),Lf(t)}function i8(e,t){return e?.map(function(a){return t(a.data)})||[]}function cc(e){for(var t,a=[],r=[0];r[0]<e.length;){var n=c1(e,r),i=Es(e.slice(r[0],r[0]+n));r[0]+=n;var l={id:nn(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=Es(o.data),d=nn(c[3][0].data);l.messages.push({meta:c,data:e.slice(r[0],r[0]+d)}),r[0]+=d}),(t=i[3])!=null&&t[0]&&(l.merge=nn(i[3][0].data)>>>0>0),a.push(l)}return a}function _p(e){var t=[];return e.forEach(function(a){var r=[];r[1]=[{data:Hs(a.id),type:0}],r[2]=[],a.merge!=null&&(r[3]=[{data:Hs(+!!a.merge),type:0}]);var n=[];a.messages.forEach(function(l){n.push(l.data),l.meta[3]=[{type:0,data:Hs(l.data.length)}],r[2].push({data:Fi(l.meta),type:2})});var i=Fi(r);t.push(Hs(i.length)),t.push(i),n.forEach(function(l){return t.push(l)})}),Lf(t)}function Sye(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var a=[0],r=c1(t,a),n=[];a[0]<t.length;){var i=t[a[0]]&3;if(i==0){var l=t[a[0]++]>>2;if(l<60)++l;else{var o=l-59;l=t[a[0]],o>1&&(l|=t[a[0]+1]<<8),o>2&&(l|=t[a[0]+2]<<16),o>3&&(l|=t[a[0]+3]<<24),l>>>=0,l++,a[0]+=o}n.push(t.slice(a[0],a[0]+l)),a[0]+=l;continue}else{var c=0,d=0;if(i==1?(d=(t[a[0]]>>2&7)+4,c=(t[a[0]++]&224)<<3,c|=t[a[0]++]):(d=(t[a[0]++]>>2)+1,i==2?(c=t[a[0]]|t[a[0]+1]<<8,a[0]+=2):(c=(t[a[0]]|t[a[0]+1]<<8|t[a[0]+2]<<16|t[a[0]+3]<<24)>>>0,a[0]+=4)),n=[Lf(n)],c==0)throw new Error("Invalid offset 0");if(c>n[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(n.push(n[0].slice(-c)),d-=c;d>=n[n.length-1].length;)n.push(n[n.length-1]),d-=n[n.length-1].length;n.push(n[0].slice(-c,-c+d))}}var u=Lf(n);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function dc(e){for(var t=[],a=0;a<e.length;){var r=e[a++],n=e[a]|e[a+1]<<8|e[a+2]<<16;a+=3,t.push(Sye(r,e.slice(a,a+n))),a+=n}if(a!==e.length)throw new Error("data is not a valid framed stream!");return Lf(t)}function Tp(e){for(var t=[],a=0;a<e.length;){var r=Math.min(e.length-a,268435455),n=new Uint8Array(4);t.push(n);var i=Hs(r),l=i.length;t.push(i),r<=60?(l++,t.push(new Uint8Array([r-1<<2]))):r<=256?(l+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(l+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(l+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(l+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(a,a+r)),l+=r,n[0]=0,n[1]=l&255,n[2]=l>>8&255,n[3]=l>>16&255,a+=r}return Lf(t)}function Cye(e,t,a,r){var n=xm(e),i=n.getUint32(4,!0),l=(r>1?12:8)+yL(i&(r>1?3470:398))*4,o=-1,c=-1,d=NaN,u=new Date(2001,0,1);i&512&&(o=n.getUint32(l,!0),l+=4),l+=yL(i&(r>1?12288:4096))*4,i&16&&(c=n.getUint32(l,!0),l+=4),i&32&&(d=n.getFloat64(l,!0),l+=8),i&64&&(u.setTime(u.getTime()+n.getFloat64(l,!0)*1e3),l+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:d};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:d>0};break;case 7:f={t:"n",v:d/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:a[o]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(d))f={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function Aye(e,t,a){var r=xm(e),n=r.getUint32(8,!0),i=12,l=-1,o=-1,c=NaN,d=NaN,u=new Date(2001,0,1);n&1&&(c=Nye(e,i),i+=16),n&2&&(d=r.getFloat64(i,!0),i+=8),n&4&&(u.setTime(u.getTime()+r.getFloat64(i,!0)*1e3),i+=8),n&8&&(o=r.getUint32(i,!0),i+=4),n&16&&(l=r.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:d>0};break;case 7:f={t:"n",v:d/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:a[l]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)))}return f}function V5(e,t){var a=new Uint8Array(32),r=xm(a),n=12,i=0;switch(a[0]=5,e.t){case"n":a[1]=2,kye(a,n,e.v),i|=1,n+=16;break;case"b":a[1]=6,r.setFloat64(n,e.v?1:0,!0),i|=2,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));a[1]=3,r.setUint32(n,t.indexOf(e.v),!0),i|=8,n+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,i,!0),a.slice(0,n)}function W5(e,t){var a=new Uint8Array(32),r=xm(a),n=12,i=0;switch(a[0]=3,e.t){case"n":a[2]=2,r.setFloat64(n,e.v,!0),i|=32,n+=8;break;case"b":a[2]=6,r.setFloat64(n,e.v?1:0,!0),i|=32,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));a[2]=3,r.setUint32(n,t.indexOf(e.v),!0),i|=16,n+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,i,!0),a.slice(0,n)}function _ye(e,t,a){switch(e[0]){case 0:case 1:case 2:case 3:return Cye(e,t,a,e[0]);case 5:return Aye(e,t,a);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function al(e){var t=Es(e);return c1(t[1][0].data)}function wL(e,t){var a=Es(t.data),r=nn(a[1][0].data),n=a[3],i=[];return(n||[]).forEach(function(l){var o=Es(l.data),c=nn(o[1][0].data)>>>0;switch(r){case 1:i[c]=cC(o[3][0].data);break;case 8:{var d=e[al(o[9][0].data)][0],u=Es(d.data),f=e[al(u[1][0].data)][0],p=nn(f.meta[1][0].data);if(p!=2001)throw new Error("2000 unexpected reference to ".concat(p));var m=Es(f.data);i[c]=m[3].map(function(v){return cC(v.data)}).join("")}break}}),i}function Tye(e,t){var a,r,n,i,l,o,c,d,u,f,p,m,v,g,b=Es(e),j=nn(b[1][0].data)>>>0,N=nn(b[2][0].data)>>>0,k=((r=(a=b[8])==null?void 0:a[0])==null?void 0:r.data)&&nn(b[8][0].data)>0||!1,S,C;if((i=(n=b[7])==null?void 0:n[0])!=null&&i.data&&t!=0)S=(o=(l=b[7])==null?void 0:l[0])==null?void 0:o.data,C=(d=(c=b[6])==null?void 0:c[0])==null?void 0:d.data;else if((f=(u=b[4])==null?void 0:u[0])!=null&&f.data&&t!=1)S=(m=(p=b[4])==null?void 0:p[0])==null?void 0:m.data,C=(g=(v=b[3])==null?void 0:v[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var _=k?4:1,P=xm(S),L=[],U=0;U<S.length/2;++U){var z=P.getUint16(U*2,!0);z<65535&&L.push([U,z])}if(L.length!=N)throw"Expected ".concat(N," cells, found ").concat(L.length);var T=[];for(U=0;U<L.length-1;++U)T[L[U][0]]=C.subarray(L[U][1]*_,L[U+1][1]*_);return L.length>=1&&(T[L[L.length-1][0]]=C.subarray(L[L.length-1][1]*_)),{R:j,cells:T}}function Eye(e,t){var a,r=Es(t.data),n=(a=r?.[7])!=null&&a[0]?nn(r[7][0].data)>>>0>0?1:0:-1,i=i8(r[5],function(l){return Tye(l,n)});return{nrows:nn(r[4][0].data)>>>0,data:i.reduce(function(l,o){return l[o.R]||(l[o.R]=[]),o.cells.forEach(function(c,d){if(l[o.R][d])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(d));l[o.R][d]=c}),l},[])}}function Dye(e,t,a){var r,n=Es(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(nn(n[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(n[6][0].data));if(i.e.c=(nn(n[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(n[7][0].data));a["!ref"]=Ja(i);var l=Es(n[4][0].data),o=wL(e,e[al(l[4][0].data)][0]),c=(r=l[17])!=null&&r[0]?wL(e,e[al(l[17][0].data)][0]):[],d=Es(l[3][0].data),u=0;d[1].forEach(function(f){var p=Es(f.data),m=e[al(p[2][0].data)][0],v=nn(m.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var g=Eye(e,m);g.data.forEach(function(b,j){b.forEach(function(N,k){var S=Ma({r:u+j,c:k}),C=_ye(N,o,c);C&&(a[S]=C)})}),u+=g.nrows})}function Mye(e,t){var a=Es(t.data),r={"!ref":"A1"},n=e[al(a[2][0].data)],i=nn(n[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return Dye(e,n[0],r),r}function Pye(e,t){var a,r=Es(t.data),n={name:(a=r[1])!=null&&a[0]?cC(r[1][0].data):"",sheets:[]},i=i8(r[2],al);return i.forEach(function(l){e[l].forEach(function(o){var c=nn(o.meta[1][0].data);c==6e3&&n.sheets.push(Mye(e,o))})}),n}function Lye(e,t){var a=h8(),r=Es(t.data),n=i8(r[1],al);if(n.forEach(function(i){e[i].forEach(function(l){var o=nn(l.meta[1][0].data);if(o==2){var c=Pye(e,l);c.sheets.forEach(function(d,u){f8(a,d,u==0?c.name:c.name+"_"+u,!0)})}})}),a.SheetNames.length==0)throw new Error("Empty NUMBERS file");return a}function q5(e){var t,a,r,n,i={},l=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var d;try{d=dc(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var u;try{u=cc(d)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){i[f.id]=f.messages,l.push(f.id)})}}),!l.length)throw new Error("File has no messages");var o=((n=(r=(a=(t=i?.[1])==null?void 0:t[0])==null?void 0:a.meta)==null?void 0:r[1])==null?void 0:n[0].data)&&nn(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||l.forEach(function(c){i[c].forEach(function(d){var u=nn(d.meta[1][0].data)>>>0;if(u==1)if(!o)o=d;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Lye(i,o)}function Oye(e,t,a){var r,n,i,l;if(!((r=e[6])!=null&&r[0])||!((n=e[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var o=((l=(i=e[8])==null?void 0:i[0])==null?void 0:l.data)&&nn(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,d=xm(e[7][0].data),u=0,f=[],p=xm(e[4][0].data),m=0,v=[],g=0;g<t.length;++g){if(t[g]==null){d.setUint16(g*2,65535,!0),p.setUint16(g*2,65535);continue}d.setUint16(g*2,u,!0),p.setUint16(g*2,m,!0);var b,j;switch(typeof t[g]){case"string":b=V5({t:"s",v:t[g]},a),j=W5({t:"s",v:t[g]},a);break;case"number":b=V5({t:"n",v:t[g]},a),j=W5({t:"n",v:t[g]},a);break;case"boolean":b=V5({t:"b",v:t[g]},a),j=W5({t:"b",v:t[g]},a);break;default:throw new Error("Unsupported value "+t[g])}f.push(b),u+=b.length,v.push(j),m+=j.length,++c}for(e[2][0].data=Hs(c);g<e[7][0].data.length/2;++g)d.setUint16(g*2,65535,!0),p.setUint16(g*2,65535,!0);return e[6][0].data=Lf(f),e[3][0].data=Lf(v),c}function Rye(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var a=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=no(a["!ref"]);r.s.r=r.s.c=0;var n=!1;r.e.c>9&&(n=!0,r.e.c=9),r.e.r>49&&(n=!0,r.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(Ja(r)));var i=Nw(a,{range:r,header:1}),l=["~Sh33tJ5~"];i.forEach(function(G){return G.forEach(function(H){typeof H=="string"&&l.push(H)})});var o={},c=[],d=Na.read(t.numbers,{type:"base64"});d.FileIndex.map(function(G,H){return[G,d.FullPaths[H]]}).forEach(function(G){var H=G[0],X=G[1];if(H.type==2&&H.name.match(/\.iwa/)){var se=H.content,ie=dc(se),ne=cc(ie);ne.forEach(function(J){c.push(J.id),o[J.id]={deps:[],location:X,type:nn(J.messages[0].meta[1][0].data)}})}}),c.sort(function(G,H){return G-H});var u=c.filter(function(G){return G>1}).map(function(G){return[G,Hs(G)]});d.FileIndex.map(function(G,H){return[G,d.FullPaths[H]]}).forEach(function(G){var H=G[0];if(G[1],!!H.name.match(/\.iwa/)){var X=cc(dc(H.content));X.forEach(function(se){se.messages.forEach(function(ie){u.forEach(function(ne){se.messages.some(function(J){return nn(J.meta[1][0].data)!=11006&&jye(J.data,ne[1])})&&o[ne[0]].deps.push(se.id)})})})}});for(var f=Na.find(d,o[1].location),p=cc(dc(f.content)),m,v=0;v<p.length;++v){var g=p[v];g.id==1&&(m=g)}var b=al(Es(m.messages[0].data)[1][0].data);for(f=Na.find(d,o[b].location),p=cc(dc(f.content)),v=0;v<p.length;++v)g=p[v],g.id==b&&(m=g);for(b=al(Es(m.messages[0].data)[2][0].data),f=Na.find(d,o[b].location),p=cc(dc(f.content)),v=0;v<p.length;++v)g=p[v],g.id==b&&(m=g);for(b=al(Es(m.messages[0].data)[2][0].data),f=Na.find(d,o[b].location),p=cc(dc(f.content)),v=0;v<p.length;++v)g=p[v],g.id==b&&(m=g);var j=Es(m.messages[0].data);{j[6][0].data=Hs(r.e.r+1),j[7][0].data=Hs(r.e.c+1);var N=al(j[46][0].data),k=Na.find(d,o[N].location),S=cc(dc(k.content));{for(var C=0;C<S.length&&S[C].id!=N;++C);if(S[C].id!=N)throw"Bad ColumnRowUIDMapArchive";var _=Es(S[C].messages[0].data);_[1]=[],_[2]=[],_[3]=[];for(var P=0;P<=r.e.c;++P){var L=[];L[1]=L[2]=[{type:0,data:Hs(P+420690)}],_[1].push({type:2,data:Fi(L)}),_[2].push({type:0,data:Hs(P)}),_[3].push({type:0,data:Hs(P)})}_[4]=[],_[5]=[],_[6]=[];for(var U=0;U<=r.e.r;++U)L=[],L[1]=L[2]=[{type:0,data:Hs(U+726270)}],_[4].push({type:2,data:Fi(L)}),_[5].push({type:0,data:Hs(U)}),_[6].push({type:0,data:Hs(U)});S[C].messages[0].data=Fi(_)}k.content=Tp(_p(S)),k.size=k.content.length,delete j[46];var z=Es(j[4][0].data);{z[7][0].data=Hs(r.e.r+1);var T=Es(z[1][0].data),F=al(T[2][0].data);k=Na.find(d,o[F].location),S=cc(dc(k.content));{if(S[0].id!=F)throw"Bad HeaderStorageBucket";var M=Es(S[0].messages[0].data);for(U=0;U<i.length;++U){var I=Es(M[2][0].data);I[1][0].data=Hs(U),I[4][0].data=Hs(i[U].length),M[2][U]={type:M[2][0].type,data:Fi(I)}}S[0].messages[0].data=Fi(M)}k.content=Tp(_p(S)),k.size=k.content.length;var W=al(z[2][0].data);k=Na.find(d,o[W].location),S=cc(dc(k.content));{if(S[0].id!=W)throw"Bad HeaderStorageBucket";for(M=Es(S[0].messages[0].data),P=0;P<=r.e.c;++P)I=Es(M[2][0].data),I[1][0].data=Hs(P),I[4][0].data=Hs(r.e.r+1),M[2][P]={type:M[2][0].type,data:Fi(I)};S[0].messages[0].data=Fi(M)}k.content=Tp(_p(S)),k.size=k.content.length;var R=al(z[4][0].data);(function(){for(var G=Na.find(d,o[R].location),H=cc(dc(G.content)),X,se=0;se<H.length;++se){var ie=H[se];ie.id==R&&(X=ie)}var ne=Es(X.messages[0].data);{ne[3]=[];var J=[];l.forEach(function(Q,xe){J[1]=[{type:0,data:Hs(xe)}],J[2]=[{type:0,data:Hs(1)}],J[3]=[{type:2,data:wye(Q)}],ne[3].push({type:2,data:Fi(J)})})}X.messages[0].data=Fi(ne);var le=_p(H),pe=Tp(le);G.content=pe,G.size=G.content.length})();var q=Es(z[3][0].data);{var ae=q[1][0];delete q[2];var te=Es(ae.data);{var K=al(te[2][0].data);(function(){for(var G=Na.find(d,o[K].location),H=cc(dc(G.content)),X,se=0;se<H.length;++se){var ie=H[se];ie.id==K&&(X=ie)}var ne=Es(X.messages[0].data);{delete ne[6],delete q[7];var J=new Uint8Array(ne[5][0].data);ne[5]=[];for(var le=0,pe=0;pe<=r.e.r;++pe){var Q=Es(J);le+=Oye(Q,i[pe],l),Q[1][0].data=Hs(pe),ne[5].push({data:Fi(Q),type:2})}ne[1]=[{type:0,data:Hs(r.e.c+1)}],ne[2]=[{type:0,data:Hs(r.e.r+1)}],ne[3]=[{type:0,data:Hs(le)}],ne[4]=[{type:0,data:Hs(r.e.r+1)}]}X.messages[0].data=Fi(ne);var xe=_p(H),he=Tp(xe);G.content=he,G.size=G.content.length})()}ae.data=Fi(te)}z[3][0].data=Fi(q)}j[4][0].data=Fi(z)}m.messages[0].data=Fi(j);var oe=_p(p),D=Tp(oe);return f.content=D,f.size=f.content.length,d}function ZV(e){return function(a){for(var r=0;r!=e.length;++r){var n=e[r];a[n[0]]===void 0&&(a[n[0]]=n[1]),n[2]==="n"&&(a[n[0]]=Number(a[n[0]]))}}}function l8(e){ZV([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function o8(e){ZV([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Fye(e){return ls.WS.indexOf(e)>-1?"sheet":e==ls.CS?"chart":e==ls.DS?"dialog":e==ls.MS?"macro":e&&e.length?e:"sheet"}function Iye(e,t){if(!e)return 0;try{e=t.map(function(r){return r.id||(r.id=r.strRelID),[r.name,e["!id"][r.id].Target,Fye(e["!id"][r.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Bye(e,t,a,r,n,i,l,o,c,d,u,f){try{i[r]=yv(Po(e,a,!0),t);var p=On(e,t),m;switch(o){case"sheet":m=lbe(p,t,n,c,i[r],d,u,f);break;case"chart":if(m=obe(p,t,n,c,i[r],d,u,f),!m||!m["!drawel"])break;var v=ov(m["!drawel"].Target,t),g=s1(v),b=Kpe(Po(e,v,!0),yv(Po(e,g,!0),v)),j=ov(b,v),N=s1(j);m=O1e(Po(e,j,!0),j,c,yv(Po(e,N,!0),j),d,m);break;case"macro":m=cbe(p,t,n,c,i[r],d,u,f);break;case"dialog":m=dbe(p,t,n,c,i[r],d,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}l[r]=m;var k=[];i&&i[r]&&ln(i[r]).forEach(function(S){var C="";if(i[r][S].Type==ls.CMNT){C=ov(i[r][S].Target,t);var _=mbe(On(e,C,!0),C,c);if(!_||!_.length)return;iL(m,_,!1)}i[r][S].Type==ls.TCMNT&&(C=ov(i[r][S].Target,t),k=k.concat(Xpe(On(e,C,!0),c)))}),k&&k.length&&iL(m,k,!0,c.people||[])}catch(S){if(c.WTF)throw S}}function rc(e){return e.charAt(0)=="/"?e.slice(1):e}function eW(e,t){if(Ax(),t=t||{},l8(t),fc(e,"META-INF/manifest.xml")||fc(e,"objectdata.xml"))return gL(e,t);if(fc(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof q5<"u"){if(e.FileIndex)return q5(e);var a=Na.utils.cfb_new();return AP(e).forEach(function(I){Za(a,I,Jue(e,I))}),q5(a)}throw new Error("Unsupported NUMBERS file")}if(!fc(e,"[Content_Types].xml"))throw fc(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):fc(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=AP(e),n=Vhe(Po(e,"[Content_Types].xml")),i=!1,l,o;if(n.workbooks.length===0&&(o="xl/workbook.xml",On(e,o,!0)&&n.workbooks.push(o)),n.workbooks.length===0){if(o="xl/workbook.bin",!On(e,o,!0))throw new Error("Could not find workbook");n.workbooks.push(o),i=!0}n.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},d={};if(!t.bookSheets&&!t.bookProps){if(wv=[],n.sst)try{wv=fbe(On(e,rc(n.sst)),n.sst,t)}catch(I){if(t.WTF)throw I}t.cellStyles&&n.themes.length&&(c=hbe(Po(e,n.themes[0].replace(/^\//,""),!0)||"",n.themes[0],t)),n.style&&(d=ube(On(e,rc(n.style)),n.style,c,t))}n.links.map(function(I){try{var W=yv(Po(e,s1(rc(I))),I);return xbe(On(e,rc(I)),W,I,t)}catch{}});var u=ibe(On(e,rc(n.workbooks[0])),n.workbooks[0],t),f={},p="";n.coreprops.length&&(p=On(e,rc(n.coreprops[0]),!0),p&&(f=zH(p)),n.extprops.length!==0&&(p=On(e,rc(n.extprops[0]),!0),p&&Jhe(p,f,t)));var m={};(!t.bookSheets||t.bookProps)&&n.custprops.length!==0&&(p=Po(e,rc(n.custprops[0]),!0),p&&(m=Zhe(p,t)));var v={};if((t.bookSheets||t.bookProps)&&(u.Sheets?l=u.Sheets.map(function(W){return W.name}):f.Worksheets&&f.SheetNames.length>0&&(l=f.SheetNames),t.bookProps&&(v.Props=f,v.Custprops=m),t.bookSheets&&typeof l<"u"&&(v.SheetNames=l),t.bookSheets?v.SheetNames:t.bookProps))return v;l={};var g={};t.bookDeps&&n.calcchain&&(g=pbe(On(e,rc(n.calcchain)),n.calcchain));var b=0,j={},N,k;{var S=u.Sheets;f.Worksheets=S.length,f.SheetNames=[];for(var C=0;C!=S.length;++C)f.SheetNames[C]=S[C].name}var _=i?"bin":"xml",P=n.workbooks[0].lastIndexOf("/"),L=(n.workbooks[0].slice(0,P+1)+"_rels/"+n.workbooks[0].slice(P+1)+".rels").replace(/^\//,"");fc(e,L)||(L="xl/_rels/workbook."+_+".rels");var U=yv(Po(e,L,!0),L.replace(/_rels.*/,"s5s"));(n.metadata||[]).length>=1&&(t.xlmeta=gbe(On(e,rc(n.metadata[0])),n.metadata[0],t)),(n.people||[]).length>=1&&(t.people=Qpe(On(e,rc(n.people[0])),t)),U&&(U=Iye(U,u.Sheets));var z=On(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(b=0;b!=f.Worksheets;++b){var T="sheet";if(U&&U[b]?(N="xl/"+U[b][1].replace(/[\/]?xl\//,""),fc(e,N)||(N=U[b][1]),fc(e,N)||(N=L.replace(/_rels\/.*$/,"")+U[b][1]),T=U[b][2]):(N="xl/worksheets/sheet"+(b+1-z)+"."+_,N=N.replace(/sheet0\./,"sheet.")),k=N.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(b!=t.sheets)continue e;break;case"string":if(f.SheetNames[b].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var F=!1,M=0;M!=t.sheets.length;++M)typeof t.sheets[M]=="number"&&t.sheets[M]==b&&(F=1),typeof t.sheets[M]=="string"&&t.sheets[M].toLowerCase()==f.SheetNames[b].toLowerCase()&&(F=1);if(!F)continue e}}Bye(e,N,k,f.SheetNames[b],b,j,l,T,t,u,c,d)}return v={Directory:n,Workbook:u,Props:f,Custprops:m,Deps:g,Sheets:l,SheetNames:f.SheetNames,Strings:wv,Styles:d,Themes:c,SSF:jr(Da)},t&&t.bookFiles&&(e.files?(v.keys=r,v.files=e.files):(v.keys=[],v.files={},e.FullPaths.forEach(function(I,W){I=I.replace(/^Root Entry[\/]/,""),v.keys.push(I),v.files[I]=e.FileIndex[W]}))),t&&t.bookVBA&&(n.vba.length>0?v.vbaraw=On(e,rc(n.vba[0]),!0):n.defaults&&n.defaults.bin===ixe&&(v.vbaraw=On(e,"xl/vbaProject.bin",!0))),v}function $ye(e,t){var a=t||{},r="Workbook",n=Na.find(e,r);try{if(r="/!DataSpaces/Version",n=Na.find(e,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(gme(n.content),r="/!DataSpaces/DataSpaceMap",n=Na.find(e,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);var i=bme(n.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",n=Na.find(e,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);var l=yme(n.content);if(l.length!=1||l[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",n=Na.find(e,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);jme(n.content)}catch{}if(r="/EncryptionInfo",n=Na.find(e,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=Nme(n.content);if(r="/EncryptedPackage",n=Na.find(e,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],n.content,a.password||"",a);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],n.content,a.password||"",a);throw new Error("File is password-protected")}function Uye(e,t){return t.bookType=="ods"?QV(e,t):t.bookType=="numbers"?Rye(e,t):t.bookType=="xlsb"?zye(e,t):Hye(e,t)}function zye(e,t){Bp=1024,e&&!e.SSF&&(e.SSF=jr(Da)),e&&e.SSF&&(Ax(),Jj(e.SSF),t.revssf=Zj(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,jv?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var a=t.bookType=="xlsb"?"bin":"xml",r=AV.indexOf(t.bookType)>-1,n=qA();o8(t=t||{});var i=MA(),l="",o=0;if(t.cellXfs=[],qf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Za(i,l,HH(e.Props,t)),n.coreprops.push(l),Vs(t.rels,2,l,ls.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Za(i,l,qH(e.Props)),n.extprops.push(l),Vs(t.rels,3,l,ls.EXT_PROPS),e.Custprops!==e.Props&&ln(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Za(i,l,GH(e.Custprops)),n.custprops.push(l),Vs(t.rels,4,l,ls.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],p=(f||{})["!type"]||"sheet";switch(p){case"chart":default:l="xl/worksheets/sheet"+o+"."+a,Za(i,l,bbe(o-1,l,t,e,u)),n.sheets.push(l),Vs(t.wbrels,-1,"worksheets/sheet"+o+"."+a,ls.WS[0])}if(f){var m=f["!comments"],v=!1,g="";m&&m.length>0&&(g="xl/comments"+o+"."+a,Za(i,g,jbe(m,g)),n.comments.push(g),Vs(u,-1,"../comments"+o+"."+a,ls.CMNT),v=!0),f["!legacy"]&&v&&Za(i,"xl/drawings/vmlDrawing"+o+".vml",SV(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&Za(i,s1(l),Kp(u))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+a,Za(i,l,wbe(t.Strings,l,t)),n.strs.push(l),Vs(t.wbrels,-1,"sharedStrings."+a,ls.SST)),l="xl/workbook."+a,Za(i,l,vbe(e,l)),n.workbooks.push(l),Vs(t.rels,1,l,ls.WB),l="xl/theme/theme1.xml",Za(i,l,QA(e.Themes,t)),n.themes.push(l),Vs(t.wbrels,-1,"theme/theme1.xml",ls.THEME),l="xl/styles."+a,Za(i,l,ybe(e,l,t)),n.styles.push(l),Vs(t.wbrels,-1,"styles."+a,ls.STY),e.vbaraw&&r&&(l="xl/vbaProject.bin",Za(i,l,e.vbaraw),n.vba.push(l),Vs(t.wbrels,-1,"vbaProject.bin",ls.VBA)),l="xl/metadata."+a,Za(i,l,Nbe(l)),n.metadata.push(l),Vs(t.wbrels,-1,"metadata."+a,ls.XLMETA),Za(i,"[Content_Types].xml",$H(n,t)),Za(i,"_rels/.rels",Kp(t.rels)),Za(i,"xl/_rels/workbook."+a+".rels",Kp(t.wbrels)),delete t.revssf,delete t.ssf,i}function Hye(e,t){Bp=1024,e&&!e.SSF&&(e.SSF=jr(Da)),e&&e.SSF&&(Ax(),Jj(e.SSF),t.revssf=Zj(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,jv?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var a="xml",r=AV.indexOf(t.bookType)>-1,n=qA();o8(t=t||{});var i=MA(),l="",o=0;if(t.cellXfs=[],qf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Za(i,l,HH(e.Props,t)),n.coreprops.push(l),Vs(t.rels,2,l,ls.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Za(i,l,qH(e.Props)),n.extprops.push(l),Vs(t.rels,3,l,ls.EXT_PROPS),e.Custprops!==e.Props&&ln(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Za(i,l,GH(e.Custprops)),n.custprops.push(l),Vs(t.rels,4,l,ls.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},p=e.Sheets[e.SheetNames[o-1]],m=(p||{})["!type"]||"sheet";switch(m){case"chart":default:l="xl/worksheets/sheet"+o+"."+a,Za(i,l,IV(o-1,t,e,f)),n.sheets.push(l),Vs(t.wbrels,-1,"worksheets/sheet"+o+"."+a,ls.WS[0])}if(p){var v=p["!comments"],g=!1,b="";if(v&&v.length>0){var j=!1;v.forEach(function(N){N[1].forEach(function(k){k.T==!0&&(j=!0)})}),j&&(b="xl/threadedComments/threadedComment"+o+"."+a,Za(i,b,Jpe(v,u,t)),n.threadedcomments.push(b),Vs(f,-1,"../threadedComments/threadedComment"+o+"."+a,ls.TCMNT)),b="xl/comments"+o+"."+a,Za(i,b,CV(v)),n.comments.push(b),Vs(f,-1,"../comments"+o+"."+a,ls.CMNT),g=!0}p["!legacy"]&&g&&Za(i,"xl/drawings/vmlDrawing"+o+".vml",SV(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}f["!id"].rId1&&Za(i,s1(l),Kp(f))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+a,Za(i,l,fV(t.Strings,t)),n.strs.push(l),Vs(t.wbrels,-1,"sharedStrings."+a,ls.SST)),l="xl/workbook."+a,Za(i,l,HV(e)),n.workbooks.push(l),Vs(t.rels,1,l,ls.WB),l="xl/theme/theme1.xml",Za(i,l,QA(e.Themes,t)),n.themes.push(l),Vs(t.wbrels,-1,"theme/theme1.xml",ls.THEME),l="xl/styles."+a,Za(i,l,wV(e,t)),n.styles.push(l),Vs(t.wbrels,-1,"styles."+a,ls.STY),e.vbaraw&&r&&(l="xl/vbaProject.bin",Za(i,l,e.vbaraw),n.vba.push(l),Vs(t.wbrels,-1,"vbaProject.bin",ls.VBA)),l="xl/metadata."+a,Za(i,l,kV()),n.metadata.push(l),Vs(t.wbrels,-1,"metadata."+a,ls.XLMETA),u.length>1&&(l="xl/persons/person.xml",Za(i,l,Zpe(u)),n.people.push(l),Vs(t.wbrels,-1,"persons/person.xml",ls.PEOPLE)),Za(i,"[Content_Types].xml",$H(n,t)),Za(i,"_rels/.rels",Kp(t.rels)),Za(i,"xl/_rels/workbook."+a+".rels",Kp(t.wbrels)),delete t.revssf,delete t.ssf,i}function c8(e,t){var a="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":a=Io(e.slice(0,12));break;case"binary":a=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3),a.charCodeAt(4),a.charCodeAt(5),a.charCodeAt(6),a.charCodeAt(7)]}function Vye(e,t){return Na.find(e,"EncryptedPackage")?$ye(e,t):n8(e,t)}function Wye(e,t){var a,r=e,n=t||{};return n.type||(n.type=rs&&Buffer.isBuffer(e)?"buffer":"base64"),a=pH(r,n),eW(a,n)}function tW(e,t){var a=0;e:for(;a<e.length;)switch(e.charCodeAt(a)){case 10:case 13:case 32:++a;break;case 60:return lC(e.slice(a),t);default:break e}return ox.to_workbook(e,t)}function qye(e,t){var a="",r=c8(e,t);switch(t.type){case"base64":a=Io(e);break;case"binary":a=e;break;case"buffer":a=e.toString("binary");break;case"array":a=hm(e);break;default:throw new Error("Unrecognized type "+t.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(a=tr(a)),t.type="binary",tW(a,t)}function Gye(e,t){var a=e;return t.type=="base64"&&(a=Io(a)),a=Jv.utils.decode(1200,a.slice(2),"str"),t.type="binary",tW(a,t)}function Kye(e){return e.match(/[^\x00-\x7F]/)?Kd(e):e}function G5(e,t,a,r){return r?(a.type="string",ox.to_workbook(e,a)):ox.to_workbook(t,a)}function gm(e,t){AA();var a=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return gm(new Uint8Array(e),(a=jr(a),a.type="array",a));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!a.type&&(a.type=typeof Deno<"u"?"buffer":"array");var r=e,n=[0,0,0,0],i=!1;if(a.cellStyles&&(a.cellNF=!0,a.sheetStubs=!0),Xp={},a.dateNF&&(Xp.dateNF=a.dateNF),a.type||(a.type=rs&&Buffer.isBuffer(e)?"buffer":"base64"),a.type=="file"&&(a.type=rs?"buffer":"binary",r=Hue(e),typeof Uint8Array<"u"&&!rs&&(a.type="array")),a.type=="string"&&(i=!0,a.type="binary",a.codepage=65001,r=Kye(e)),a.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var l=new ArrayBuffer(3),o=new Uint8Array(l);if(o.foo="bar",!o.foo)return a=jr(a),a.type="array",gm(_A(r),a)}switch((n=c8(r,a))[0]){case 208:if(n[1]===207&&n[2]===17&&n[3]===224&&n[4]===161&&n[5]===177&&n[6]===26&&n[7]===225)return Vye(Na.read(r,a),a);break;case 9:if(n[1]<=8)return n8(r,a);break;case 60:return lC(r,a);case 73:if(n[1]===73&&n[2]===42&&n[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(n[1]===68)return eme(r,a);break;case 84:if(n[1]===65&&n[2]===66&&n[3]===76)return uV.to_workbook(r,a);break;case 80:return n[1]===75&&n[2]<9&&n[3]<9?Wye(r,a):G5(e,r,a,i);case 239:return n[3]===60?lC(r,a):G5(e,r,a,i);case 255:if(n[1]===254)return Gye(r,a);if(n[1]===0&&n[2]===2&&n[3]===0)return X0.to_workbook(r,a);break;case 0:if(n[1]===0&&(n[2]>=2&&n[3]===0||n[2]===0&&(n[3]===8||n[3]===9)))return X0.to_workbook(r,a);break;case 3:case 131:case 139:case 140:return iC.to_workbook(r,a);case 123:if(n[1]===92&&n[2]===114&&n[3]===116)return vV.to_workbook(r,a);break;case 10:case 13:case 32:return qye(r,a);case 137:if(n[1]===80&&n[2]===78&&n[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Z0e.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?iC.to_workbook(r,a):G5(e,r,a,i)}function aW(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return W1(t.file,Na.write(e,{type:rs?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Na.write(e,t)}function Yye(e,t){var a=jr(t||{}),r=Uye(e,a);return Xye(r,a)}function Xye(e,t){var a={},r=rs?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(a.compression="DEFLATE"),t.password)a.type=r;else switch(t.type){case"base64":a.type="base64";break;case"binary":a.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":a.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var n=e.FullPaths?Na.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[a.type]||a.type,compression:!!t.compression}):e.generate(a);if(typeof Deno<"u"&&typeof n=="string"){if(t.type=="binary"||t.type=="base64")return n;n=new Uint8Array(Xj(n))}return t.password&&typeof encrypt_agile<"u"?aW(encrypt_agile(n,t.password),t):t.type==="file"?W1(t.file,n):t.type=="string"?tr(n):n}function Jye(e,t){var a=t||{},r=Ybe(e,a);return aW(r,a)}function Vd(e,t,a){a||(a="");var r=a+e;switch(t.type){case"base64":return Qv(Kd(r));case"binary":return Kd(r);case"string":return e;case"file":return W1(t.file,r,"utf8");case"buffer":return rs?vh(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Vd(r,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Qye(e,t){switch(t.type){case"base64":return Qv(e);case"binary":return e;case"string":return e;case"file":return W1(t.file,e,"binary");case"buffer":return rs?vh(e,"binary"):e.split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Xy(e,t){switch(t.type){case"string":case"base64":case"binary":for(var a="",r=0;r<e.length;++r)a+=String.fromCharCode(e[r]);return t.type=="base64"?Qv(a):t.type=="string"?tr(a):a;case"file":return W1(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function d8(e,t){AA(),W1e(e);var a=jr(t||{});if(a.cellStyles&&(a.cellNF=!0,a.sheetStubs=!0),a.type=="array"){a.type="binary";var r=d8(e,a);return a.type="array",Xj(r)}var n=0;if(a.sheet&&(typeof a.sheet=="number"?n=a.sheet:n=e.SheetNames.indexOf(a.sheet),!e.SheetNames[n]))throw new Error("Sheet not found: "+a.sheet+" : "+typeof a.sheet);switch(a.bookType||"xlsb"){case"xml":case"xlml":return Vd(zbe(e,a),a);case"slk":case"sylk":return Vd(dV.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"htm":case"html":return Vd(KV(e.Sheets[e.SheetNames[n]],a),a);case"txt":return Qye(sW(e.Sheets[e.SheetNames[n]],a),a);case"csv":return Vd(u8(e.Sheets[e.SheetNames[n]],a),a,"\uFEFF");case"dif":return Vd(uV.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"dbf":return Xy(iC.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"prn":return Vd(ox.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"rtf":return Vd(vV.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"eth":return Vd(hV.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"fods":return Vd(QV(e,a),a);case"wk1":return Xy(X0.sheet_to_wk1(e.Sheets[e.SheetNames[n]],a),a);case"wk3":return Xy(X0.book_to_wk3(e,a),a);case"biff2":a.biff||(a.biff=2);case"biff3":a.biff||(a.biff=3);case"biff4":return a.biff||(a.biff=4),Xy(GV(e,a),a);case"biff5":a.biff||(a.biff=5);case"biff8":case"xla":case"xls":return a.biff||(a.biff=8),Jye(e,a);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Yye(e,a);default:throw new Error("Unrecognized bookType |"+a.bookType+"|")}}function Zye(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},a=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();a.match(/^\.[a-z]+$/)&&(e.bookType=a.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function Nr(e,t,a){var r={};return r.type="file",r.file=t,Zye(r),d8(e,r)}function e2e(e,t,a,r,n,i,l,o){var c=Cn(a),d=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,p=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:a,enumerable:!1})}catch{p.__rowNum__=a}else p.__rowNum__=a;if(!l||e[a])for(var m=t.s.c;m<=t.e.c;++m){var v=l?e[a][m]:e[r[m]+c];if(v===void 0||v.t===void 0){if(d===void 0)continue;i[m]!=null&&(p[i[m]]=d);continue}var g=v.v;switch(v.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(i[m]!=null){if(g==null)if(v.t=="e"&&g===null)p[i[m]]=null;else if(d!==void 0)p[i[m]]=d;else if(u&&g===null)p[i[m]]=null;else continue;else p[i[m]]=u&&(v.t!=="n"||v.t==="n"&&o.rawNumbers!==!1)?g:lh(v,g,o);g!=null&&(f=!1)}}return{row:p,isempty:f}}function Nw(e,t){if(e==null||e["!ref"]==null)return[];var a={t:"n",v:0},r=0,n=1,i=[],l=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},u=d.range!=null?d.range:e["!ref"];switch(d.header===1?r=1:d.header==="A"?r=2:Array.isArray(d.header)?r=3:d.header==null&&(r=0),typeof u){case"string":c=_s(u);break;case"number":c=_s(e["!ref"]),c.s.r=u;break;default:c=u}r>0&&(n=0);var f=Cn(c.s.r),p=[],m=[],v=0,g=0,b=Array.isArray(e),j=c.s.r,N=0,k={};b&&!e[j]&&(e[j]=[]);var S=d.skipHidden&&e["!cols"]||[],C=d.skipHidden&&e["!rows"]||[];for(N=c.s.c;N<=c.e.c;++N)if(!(S[N]||{}).hidden)switch(p[N]=Kr(N),a=b?e[j][N]:e[p[N]+f],r){case 1:i[N]=N-c.s.c;break;case 2:i[N]=p[N];break;case 3:i[N]=d.header[N-c.s.c];break;default:if(a==null&&(a={w:"__EMPTY",t:"s"}),o=l=lh(a,null,d),g=k[l]||0,!g)k[l]=1;else{do o=l+"_"+g++;while(k[o]);k[l]=g,k[o]=1}i[N]=o}for(j=c.s.r+n;j<=c.e.r;++j)if(!(C[j]||{}).hidden){var _=e2e(e,c,j,p,r,i,b,d);(_.isempty===!1||(r===1?d.blankrows!==!1:d.blankrows))&&(m[v++]=_.row)}return m.length=v,m}var jL=/"/g;function t2e(e,t,a,r,n,i,l,o){for(var c=!0,d=[],u="",f=Cn(a),p=t.s.c;p<=t.e.c;++p)if(r[p]){var m=o.dense?(e[a]||[])[p]:e[r[p]+f];if(m==null)u="";else if(m.v!=null){c=!1,u=""+(o.rawNumbers&&m.t=="n"?m.v:lh(m,null,o));for(var v=0,g=0;v!==u.length;++v)if((g=u.charCodeAt(v))===n||g===i||g===34||o.forceQuotes){u='"'+u.replace(jL,'""')+'"';break}u=="ID"&&(u='"ID"')}else m.f!=null&&!m.F?(c=!1,u="="+m.f,u.indexOf(",")>=0&&(u='"'+u.replace(jL,'""')+'"')):u="";d.push(u)}return o.blankrows===!1&&c?null:d.join(l)}function u8(e,t){var a=[],r=t??{};if(e==null||e["!ref"]==null)return"";var n=_s(e["!ref"]),i=r.FS!==void 0?r.FS:",",l=i.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,c=o.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];r.dense=Array.isArray(e);for(var p=r.skipHidden&&e["!cols"]||[],m=r.skipHidden&&e["!rows"]||[],v=n.s.c;v<=n.e.c;++v)(p[v]||{}).hidden||(f[v]=Kr(v));for(var g=0,b=n.s.r;b<=n.e.r;++b)(m[b]||{}).hidden||(u=t2e(e,n,b,f,l,c,i,r),u!=null&&(r.strip&&(u=u.replace(d,"")),(u||r.blankrows!==!1)&&a.push((g++?o:"")+u)));return delete r.dense,a.join("")}function sW(e,t){t||(t={}),t.FS="	",t.RS=`
`;var a=u8(e,t);return a}function a2e(e){var t="",a,r="";if(e==null||e["!ref"]==null)return[];var n=_s(e["!ref"]),i="",l=[],o,c=[],d=Array.isArray(e);for(o=n.s.c;o<=n.e.c;++o)l[o]=Kr(o);for(var u=n.s.r;u<=n.e.r;++u)for(i=Cn(u),o=n.s.c;o<=n.e.c;++o)if(t=l[o]+i,a=d?(e[u]||[])[o]:e[t],r="",a!==void 0){if(a.F!=null){if(t=a.F,!a.f)continue;r=a.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(a.f!=null)r=a.f;else{if(a.t=="z")continue;if(a.t=="n"&&a.v!=null)r=""+a.v;else if(a.t=="b")r=a.v?"TRUE":"FALSE";else if(a.w!==void 0)r="'"+a.w;else{if(a.v===void 0)continue;a.t=="s"?r="'"+a.v:r=""+a.v}}c[c.length]=t+"="+r}return c}function rW(e,t,a){var r=a||{},n=+!r.skipHeader,i=e||{},l=0,o=0;if(i&&r.origin!=null)if(typeof r.origin=="number")l=r.origin;else{var c=typeof r.origin=="string"?Yr(r.origin):r.origin;l=c.r,o=c.c}var d,u={s:{c:0,r:0},e:{c:o,r:l+t.length-1+n}};if(i["!ref"]){var f=_s(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),l==-1&&(l=f.e.r+1,u.e.r=l+t.length-1+n)}else l==-1&&(l=0,u.e.r=t.length-1+n);var p=r.header||[],m=0;t.forEach(function(g,b){ln(g).forEach(function(j){(m=p.indexOf(j))==-1&&(p[m=p.length]=j);var N=g[j],k="z",S="",C=Ma({c:o+m,r:l+b+n});d=d1(i,C),N&&typeof N=="object"&&!(N instanceof Date)?i[C]=N:(typeof N=="number"?k="n":typeof N=="boolean"?k="b":typeof N=="string"?k="s":N instanceof Date?(k="d",r.cellDates||(k="n",N=ti(N)),S=r.dateNF||Da[14]):N===null&&r.nullError&&(k="e",N=0),d?(d.t=k,d.v=N,delete d.w,delete d.R,S&&(d.z=S)):i[C]=d={t:k,v:N},S&&(d.z=S))})}),u.e.c=Math.max(u.e.c,o+p.length-1);var v=Cn(l);if(n)for(m=0;m<p.length;++m)i[Kr(m+o)+v]={t:"s",v:p[m]};return i["!ref"]=Ja(u),i}function s2e(e,t){return rW(null,e,t)}function d1(e,t,a){if(typeof t=="string"){if(Array.isArray(e)){var r=Yr(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?d1(e,Ma(t)):d1(e,Ma({r:t,c:a||0}))}function r2e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var a=e.SheetNames.indexOf(t);if(a>-1)return a;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function h8(){return{SheetNames:[],Sheets:{}}}function f8(e,t,a,r){var n=1;if(!a)for(;n<=65535&&e.SheetNames.indexOf(a="Sheet"+n)!=-1;++n,a=void 0);if(!a||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(a)>=0){var i=a.match(/(^.*?)(\d+)$/);n=i&&+i[2]||0;var l=i&&i[1]||a;for(++n;n<=65535&&e.SheetNames.indexOf(a=l+n)!=-1;++n);}if(zV(a),e.SheetNames.indexOf(a)>=0)throw new Error("Worksheet with name |"+a+"| already exists!");return e.SheetNames.push(a),e.Sheets[a]=t,a}function n2e(e,t,a){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=r2e(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),a){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+a)}e.Workbook.Sheets[r].Hidden=a}function i2e(e,t){return e.z=t,e}function nW(e,t,a){return t?(e.l={Target:t},a&&(e.l.Tooltip=a)):delete e.l,e}function l2e(e,t,a){return nW(e,"#"+t,a)}function o2e(e,t,a){e.c||(e.c=[]),e.c.push({t,a:a||"SheetJS"})}function c2e(e,t,a,r){for(var n=typeof t!="string"?t:_s(t),i=typeof t=="string"?t:Ja(t),l=n.s.r;l<=n.e.r;++l)for(var o=n.s.c;o<=n.e.c;++o){var c=d1(e,l,o);c.t="n",c.F=i,delete c.v,l==n.s.r&&o==n.s.c&&(c.f=a,r&&(c.D=!0))}return e}var ea={encode_col:Kr,encode_row:Cn,encode_cell:Ma,encode_range:Ja,decode_col:$A,decode_row:BA,split_cell:whe,decode_cell:Yr,decode_range:no,format_cell:lh,sheet_add_aoa:PH,sheet_add_json:rW,sheet_add_dom:YV,aoa_to_sheet:_x,json_to_sheet:s2e,table_to_sheet:XV,table_to_book:gye,sheet_to_csv:u8,sheet_to_txt:sW,sheet_to_json:Nw,sheet_to_html:KV,sheet_to_formulae:a2e,sheet_to_row_object_array:Nw,sheet_get_cell:d1,book_new:h8,book_append_sheet:f8,book_set_sheet_visibility:n2e,cell_set_number_format:i2e,cell_set_hyperlink:nW,cell_set_internal_link:l2e,cell_add_comment:o2e,sheet_set_array_formula:c2e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const iW=Object.freeze(Object.defineProperty({__proto__:null,CFB:Na,parse_xlscfb:n8,parse_zip:eW,read:gm,utils:ea,write:d8,writeFile:Nr,writeFileSync:Nr},Symbol.toStringTag,{value:"Module"})),d2e=({isOpen:e,onClose:t,excelFile:a,setExcelFile:r,importing:n,importError:i,importSummary:l,onImport:o})=>{const{t:c,i18n:d}=Ct(),u=()=>{const m=[{LEAD:" ",Email:"ahmed@example.com",Phone:"01234567890",Company:" ",Status:"new",Priority:"medium",Source:"website","Assigned To":" ","Created At":"2024-01-01","Last Contact":"2024-01-01","Estimated Value":"10000",Probability:"50",Notes:" "}],v=ea.json_to_sheet(m),g=ea.book_new();ea.book_append_sheet(g,v,"Leads Template"),Nr(g,"leads_template.xlsx")},f=m=>new Promise((v,g)=>{const b=new FileReader;b.onload=j=>{try{const N=new Uint8Array(j.target.result),k=gm(N,{type:"array"}),S=k.SheetNames[0],C=k.Sheets[S],_=ea.sheet_to_json(C,{header:1});if(_.length===0){g(new Error(" "));return}const P=_[0].map(z=>z?.toString()?.toLowerCase()?.trim()),L=["lead","email","phone"],U=[];L.forEach(z=>{P.some(F=>F.includes(z)||F.includes("name")&&z==="lead"||F.includes("")&&z==="lead"||F.includes("")&&z==="email"||F.includes("")&&z==="phone")||U.push(z)}),U.length>0?g(new Error(`  : ${U.join(", ")}`)):v(!0)}catch{g(new Error("   "))}},b.readAsArrayBuffer(m)}),p=async m=>{if(m)try{await f(m),r(m)}catch(v){alert(v.message)}};return e?s.jsxs("div",{className:`fixed inset-0 z-[2000] ${d.language==="ar"?"rtl":"ltr"} flex items-center justify-center`,children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),s.jsxs("div",{className:"relative max-w-2xl w-full mx-4 rounded-2xl bg-white dark:bg-gray-800 shadow-2xl border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-9 h-9 flex items-center justify-center rounded-xl bg-blue-600 text-white shadow-md",children:s.jsx(Qu,{className:"w-4 h-4"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:c("import.title")})]}),s.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":c("Close"),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:[s.jsx("path",{d:"M18 6L6 18"}),s.jsx("path",{d:"M6 6l12 12"})]})})]}),s.jsxs("div",{className:"px-6 py-6",children:[s.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(OU,{className:"w-5 h-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:c("template.downloadExcel")}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:c("template.downloadDescription")})]})]}),s.jsxs("button",{onClick:u,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-green-600 hover:bg-green-700 text-white text-sm font-medium transition-colors duration-200",children:[s.jsx(Qu,{className:"w-3 h-3"}),c("template.downloadButton")]})]}),s.jsxs("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:[s.jsx("strong",{children:c("template.requiredFields")})," LEAD, Email, Phone"]})]}),s.jsxs("div",{className:"group relative flex flex-col items-center justify-center gap-3 p-6 rounded-2xl border-2 border-dashed border-blue-300 dark:border-blue-600 bg-white/70 dark:bg-gray-800/60 hover:bg-white dark:hover:bg-gray-800 transition-colors duration-300",onDragOver:m=>m.preventDefault(),onDrop:async m=>{m.preventDefault();const v=m.dataTransfer.files?.[0];v&&/\.xlsx$|\.xls$/i.test(v.name)&&await p(v)},children:[s.jsx("svg",{className:"w-10 h-10 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0l-3 3m3-3l3 3m7 4v12m0 0l-3-3m3 3l3-3"})}),s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 text-center",children:c("import.dropzone")}),s.jsx("input",{id:"modal-excel-file-input",type:"file",accept:".xlsx,.xls",onChange:async m=>{const v=m.target.files?.[0]||null;v?await p(v):r(null)},className:"hidden"}),s.jsx("button",{type:"button",onClick:()=>document.getElementById("modal-excel-file-input")?.click(),className:"px-4 py-2 rounded-md text-sm font-semibold bg-blue-50 text-blue-700 hover:bg-blue-100 dark:bg-gray-700 dark:text-gray-200",children:c("import.browseButton")}),a?s.jsx("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:c("import.selectedFile",{file:a.name})}):s.jsx("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:c("import.noFileSelected")})]}),s.jsxs("div",{className:"mt-5 flex flex-col sm:flex-row gap-3 sm:items-center",children:[s.jsxs("button",{onClick:o,disabled:!a||n,className:`inline-flex items-center gap-2 px-5 py-3 rounded-xl text-sm font-bold ${n?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white shadow-md transition-colors duration-300`,children:[s.jsx(Qu,{className:"w-4 h-4"}),c(n?"import.importing":"import.importButton")]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:c("import.supportedFiles")})]}),i&&s.jsx("div",{className:"mt-4 px-4 py-3 rounded-lg bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800",children:c(i)}),l&&s.jsx("div",{className:"mt-4 px-4 py-3 rounded-lg bg-green-50 text-green-700 border border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800",children:c("import.summary",{count:l.added})}),s.jsx("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:c("import.supportedFields")})]}),s.jsx("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:s.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-sm",children:c("Close")})})]})]}):null},lW=({columns:e,visibleColumns:t,onColumnToggle:a,onResetColumns:r})=>{const{t:n}=Ct(),[i,l]=y.useState(!1),[o,c]=y.useState(""),d=y.useRef(null);return y.useEffect(()=>{const u=f=>{d.current&&!d.current.contains(f.target)&&l(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[]),s.jsxs("div",{className:"relative",ref:d,children:[s.jsxs("button",{onClick:()=>l(!i),className:"inline-flex items-center gap-2 px-3 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-expanded":i,"aria-label":n("Display Options"),title:n("Display Options"),children:[s.jsx(Zre,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm font-medium",children:n("Display Options")})]}),i&&s.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-72 rounded-lg shadow-xl bg-[var(--panel-bg)] text-[var(--content-text)] ring-1 ring-[var(--panel-border)] z-50",children:s.jsxs("div",{className:"p-3 space-y-3",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm font-semibold",children:n("Show/Hide Columns")}),r&&s.jsxs("button",{type:"button",onClick:r,className:"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs bg-[var(--table-header-bg)] hover:bg-[var(--table-row-hover)] text-[var(--content-text)]",title:n("Reset Columns"),children:[s.jsx(fne,{className:"h-3 w-3"}),n("Reset Columns")]})]}),s.jsx("input",{type:"text",value:o,onChange:u=>c(u.target.value),placeholder:n("Search columns..."),className:"w-full px-3 py-2 text-sm rounded-md border border-[var(--panel-border)] bg-[var(--panel-bg)] text-[var(--content-text)] focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("div",{className:"max-h-64 overflow-y-auto divide-y divide-[var(--divider)]",children:Object.keys(e).filter(u=>e[u].toLowerCase().includes(o.toLowerCase())).map(u=>s.jsxs("label",{className:"flex items-center gap-3 px-2 py-2 text-sm hover:bg-[var(--table-row-hover)] cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500",checked:t[u],onChange:()=>a(u)}),s.jsx("span",{children:e[u]})]},u))})]})})]})},u2e=()=>{const{t:e,i18n:t}=Ct(),{theme:a}=Uf(),r=Ys(),{stages:n,statuses:i}=kx(),[l,o]=y.useState(!1),[c,d]=y.useState([]),[u,f]=y.useState([]),[p,m]=y.useState(""),[v,g]=y.useState("all"),[b,j]=y.useState("all"),[N,k]=y.useState("all"),[S,C]=y.useState("all"),[_,P]=y.useState("all"),[L,U]=y.useState("all"),[z,T]=y.useState("all"),[F,M]=y.useState("all"),[I,W]=y.useState(""),[R,q]=y.useState(""),[ae,te]=y.useState(""),[K,oe]=y.useState("all"),[D,G]=y.useState(""),[H,X]=y.useState("all"),[se,ie]=y.useState("all"),[ne,J]=y.useState(""),[le,pe]=y.useState(""),[Q,xe]=y.useState("all"),[he,ue]=y.useState("all"),[Le,ze]=y.useState("all"),[Ce,ce]=y.useState("createdAt"),[Ie,we]=y.useState("desc"),[$e,Be]=y.useState([]),[ft,Ke]=y.useState(!1),[Ue,tt]=y.useState(null),[ct,Je]=y.useState(1),[pt,kt]=y.useState(20),[Ot,qt]=y.useState(""),[Wt,Te]=y.useState(1),[$t,qe]=y.useState(1),[Gt,Yt]=y.useState(!1),[ma,Ia]=y.useState(null),[Ca,la]=y.useState(null),[qa,Fe]=y.useState(!1),[rt,_t]=y.useState(""),[St,ra]=y.useState(null),[Fs,cs]=y.useState(!1),[es,Ps]=y.useState([]),as=io();y.useEffect(()=>{try{const vt=new URLSearchParams(as.search||"").get("stage");vt&&P(vt)}catch{}},[as.search]);const[pa,ee]=y.useState(null),[Se,ye]=y.useState({x:0,y:0}),[Ne,Ae]=y.useState(!1),_e=y.useRef(null),[Xe,ut]=y.useState(!1),Ye=y.useRef(null),at=(Oe=10)=>{const vt=c.reduce((ys,ps)=>Math.max(ys,Number(ps?.id)||0),0),ta=n&&n.length>0?n.map(ys=>typeof ys=="string"?ys:ys?.name).filter(Boolean):["new","qualified","in-progress","converted","lost"],Ut=i&&i.length>0?i.map(ys=>typeof ys=="string"?ys:ys?.name).filter(Boolean):["new","qualified","in-progress","converted","lost"],ts=["high","medium","low"],or=["website","social-media","referral","email-campaign","direct"],Bs=[" "," ","Ahmed Ali"],fr=[" ","Temporary Lead","Test Prospect","Lead Demo","Prospect Sample"],aa=[" ","Temp Co.","Demo LLC","Sample Inc."," "],Vn=new Date,mr=ys=>{const ps=ys.getFullYear(),cr=String(ys.getMonth()+1).padStart(2,"0"),Dn=String(ys.getDate()).padStart(2,"0");return`${ps}-${cr}-${Dn}`},bl=Array.from({length:Oe},(ys,ps)=>{const cr=vt+ps+1,Dn=String(ta[ps%ta.length]),ho=String(Ut[ps%Ut.length]),Ai=ts[ps%ts.length],Bl=or[ps%or.length],ci=Bs[ps%Bs.length],_i=`${fr[ps%fr.length]} ${cr}`,fo=`temp${cr}@example.com`,Xr=`+9665${String(9e7+cr).slice(-8)}`,Vi=new Date(Vn);Vi.setDate(Vn.getDate()-(3+ps%10));const mo=new Date(Vn);return mo.setDate(Vn.getDate()-(1+ps%5)),{id:cr,name:_i,email:fo,phone:Xr,company:aa[ps%aa.length],stage:Dn,status:ho,priority:Ai,source:Bl,assignedTo:ci,createdAt:mr(Vi),lastContact:mr(mo),notes:"  ",estimatedValue:1e4+ps*750,probability:ps*11%101,isTemporary:!0}});d(ys=>{const ps=[...bl,...ys];return window.dispatchEvent(new CustomEvent("leadsDataUpdated")),ps})},st=Oe=>{const vt=(Oe||"").toLowerCase();return vt.includes("convert")?"":vt.includes("progress")?"":vt.includes("lost")?"":vt.includes("new")?"":vt.includes("qual")?"":""};y.useEffect(()=>{const Oe=vt=>{const ta=(vt||"").toLowerCase();return ta.includes("convert")?"#10b981":ta.includes("progress")?"#f59e0b":ta.includes("lost")?"#ef4444":ta.includes("new")?"#3b82f6":ta.includes("qual")?"#8b5cf6":"#3b82f6"};try{const vt=JSON.parse(localStorage.getItem("crmStages")||"[]"),ta=Array.isArray(vt)?typeof vt[0]=="string"?vt.map(Ut=>({name:Ut,color:Oe(Ut),icon:st(Ut)})):vt.map(Ut=>({name:Ut.name||String(Ut),color:Ut.color||Oe(Ut.name||String(Ut)),icon:Ut.icon||st(Ut.name||String(Ut))})):[];if(ta.length===0){const Ut=[{name:"new",color:"#10b981",icon:""},{name:"qualified",color:"#3b82f6",icon:""},{name:"in-progress",color:"#f59e0b",icon:""},{name:"converted",color:"#059669",icon:""},{name:"lost",color:"#ef4444",icon:""}];Ps(Ut),localStorage.setItem("crmStages",JSON.stringify(Ut))}else Ps(ta)}catch{const ta=[{name:"new",color:"#10b981",icon:""},{name:"qualified",color:"#3b82f6",icon:""},{name:"in-progress",color:"#f59e0b",icon:""},{name:"converted",color:"#059669",icon:""},{name:"lost",color:"#ef4444",icon:""}];Ps(ta),localStorage.setItem("crmStages",JSON.stringify(ta))}},[]);const Et={lead:e("Lead"),contact:e("Contact"),source:e("Source"),project:e("Project"),sales:e("Sales"),lastComment:e("Last Comment"),stage:e("Stage"),expectedRevenue:e("Expected Revenue"),priority:e("Priority"),status:e("Status"),actions:e("Actions")},zt=Oe=>Oe?.toString()?.toLowerCase()?.trim()?.replace(/\s+/g,""),Vt={name:["name",""," ","lead","lead name"],email:["email",""," "],phone:["phone",""," ","contact"],company:["company",""],status:["status",""],priority:["priority",""],source:["source",""],assignedTo:["assignedto","assigned",""," ","salesperson"],createdAt:["createdat"," ","created"],lastContact:["lastcontact"," "],estimatedValue:["estimatedvalue"," ","value"],probability:["probability",""],notes:["notes",""]},Mt=(Oe,vt)=>{const ta=Object.keys(Oe||{});for(const Ut of ta){const ts=zt(Ut);for(const or of vt)if(ts===zt(or))return Oe[Ut]}return""},Kt=async Oe=>{const vt=await Oe.arrayBuffer(),ta=gm(vt,{type:"array"}),Ut=ta.SheetNames[0],ts=ta.Sheets[Ut],or=ea.sheet_to_json(ts,{defval:""}),Bs=new Date().toISOString().slice(0,10);return or.map(aa=>({id:Date.now()+Math.random(),name:String(Mt(aa,Vt.name)||"").trim(),email:String(Mt(aa,Vt.email)||"").trim(),phone:String(Mt(aa,Vt.phone)||"").trim(),company:String(Mt(aa,Vt.company)||"").trim(),status:String(Mt(aa,Vt.status)||"new").toLowerCase().trim(),priority:String(Mt(aa,Vt.priority)||"medium").toLowerCase().trim(),source:String(Mt(aa,Vt.source)||"import").trim(),assignedTo:String(Mt(aa,Vt.assignedTo)||"").trim(),createdAt:String(Mt(aa,Vt.createdAt)||Bs).trim(),lastContact:String(Mt(aa,Vt.lastContact)||Bs).trim(),estimatedValue:Number(Mt(aa,Vt.estimatedValue))||0,probability:Number(Mt(aa,Vt.probability))||0,notes:String(Mt(aa,Vt.notes)||"").trim()}))},ba=async()=>{if(!Ca){_t("import.selectFileError");return}Fe(!0),_t(null),ra(null);try{const Oe=await Kt(Ca);try{await fetch("/api/leads/bulk-import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({leads:Oe})})}catch(vt){console.warn("API import endpoint not reachable, adding locally only.",vt?.message)}d(vt=>[...Oe,...vt]),la(null),ra({added:Oe.length})}catch(Oe){console.error(Oe),_t("import.readFileError")}finally{Fe(!1)}},[va,Pe]=y.useState({lead:!0,contact:!0,source:!0,project:!0,sales:!0,lastComment:!0,stage:!0,expectedRevenue:!0,priority:!0,status:!0,actions:!0}),yt=Oe=>{Pe(vt=>({...vt,[Oe]:!vt[Oe]}))},ja=()=>{const Oe=Object.keys(Et).reduce((vt,ta)=>(vt[ta]=!0,vt),{});Pe(Oe)},za=Array.from({length:30},(Oe,vt)=>{const ta=vt+1,Ut=["new","in-progress","qualified","converted","lost"],ts=["high","medium","low"],or=["website","social-media","referral","email-campaign","direct"],Bs=[" "," ","Ahmed Ali"],fr=[" "," Johnson"," ","Emma Wilson"," "],aa=[" ","ABC Corporation"," ","Tech Solutions"," "],Vn=Ut[vt%Ut.length],mr=ts[vt%ts.length],bl=or[vt%or.length],ys=Bs[vt%Bs.length],ps=`${fr[vt%fr.length]} ${ta}`,cr=`lead${ta}@example.com`,Dn=`+9665${String(12345670+ta).slice(-8)}`,ho=`2024-01-${String(1+vt%28).padStart(2,"0")}`,Ai=`2024-01-${String(1+(vt+3)%28).padStart(2,"0")}`,Bl=" ",ci=5e4+vt*1e3,_i=vt*7%101;return{id:ta,name:ps,email:cr,phone:Dn,company:aa[vt%aa.length],stage:Vn,status:Vn,priority:mr,source:bl,assignedTo:ys,createdAt:ho,lastContact:Ai,notes:Bl,estimatedValue:ci,probability:_i}});y.useEffect(()=>{try{const Oe=localStorage.getItem("leadsData");if(Oe){const vt=JSON.parse(Oe);d(vt),f(vt),window.dispatchEvent(new CustomEvent("leadsDataUpdated"))}else d(za),f(za),localStorage.setItem("leadsData",JSON.stringify(za)),window.dispatchEvent(new CustomEvent("leadsDataUpdated"))}catch(Oe){console.warn("Failed to load leadsData from localStorage, using sample.",Oe?.message),d(za),f(za),window.dispatchEvent(new CustomEvent("leadsDataUpdated"))}},[]),y.useEffect(()=>{const Oe=()=>{try{const ta=JSON.parse(localStorage.getItem("leadsData")||"[]");d(ta)}catch(ta){console.warn("Failed to sync leadsData from localStorage.",ta?.message)}},vt=ta=>{ta.key==="leadsData"&&Oe()};return window.addEventListener("storage",vt),Oe(),()=>{window.removeEventListener("storage",vt)}},[]),y.useEffect(()=>{try{localStorage.setItem("leadsData",JSON.stringify(c)),window.dispatchEvent(new CustomEvent("leadsDataUpdated"))}catch(Oe){console.warn("Failed to save leadsData to localStorage.",Oe?.message)}},[c]),y.useEffect(()=>{let Oe=c.filter(vt=>{const ta=vt.name.toLowerCase().includes(p.toLowerCase())||vt.email.toLowerCase().includes(p.toLowerCase())||vt.company.toLowerCase().includes(p.toLowerCase()),Ut=v==="all"||vt.status===v,ts=b==="all"||vt.source===b,or=N==="all"||vt.priority===N,Bs=S==="all"||vt.project===S,fr=_==="all"||vt.stage===_,aa=L==="all"||vt.manager===L,Vn=z==="all"||vt.assignedTo===z,mr=F==="all"||vt.createdBy===F,bl=K==="all"||vt.oldStage===K,ys=H==="all"||vt.campaign===H,ps=se==="all"||vt.country===se,cr=Q==="all"||vt.whatsappIntents===Q,Dn=he==="all"||vt.callType===he,ho=Le==="all"||vt.duplicateStatus===Le,Ai=!I||vt.assignDate&&vt.assignDate.includes(I),Bl=!R||vt.actionDate&&vt.actionDate.includes(R),ci=!ae||vt.createdAt&&vt.createdAt.includes(ae),_i=!D||vt.closedDate&&vt.closedDate.includes(D),fo=!le||vt.email&&vt.email.toLowerCase().includes(le.toLowerCase()),Xr=!ne||vt.expectedRevenue&&vt.expectedRevenue.toString().includes(ne);return ta&&Ut&&ts&&or&&Bs&&fr&&aa&&Vn&&mr&&bl&&ys&&ps&&cr&&Dn&&ho&&Ai&&Bl&&ci&&_i&&fo&&Xr});Oe.sort((vt,ta)=>{let Ut=vt[Ce],ts=ta[Ce];return(Ce==="createdAt"||Ce==="lastContact")&&(Ut=new Date(Ut),ts=new Date(ts)),Ie==="asc"?Ut>ts?1:-1:Ut<ts?1:-1}),f(Oe),Je(1)},[c,p,v,b,N,Ce,Ie,S,_,L,z,F,I,R,ae,K,D,H,se,ne,le,Q,he,Le]);const Is=Oe=>{switch(Oe){case"new":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"qualified":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"in-progress":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"converted":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"lost":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},Ur=Oe=>{switch(Oe){case"high":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},zn=Oe=>{switch(Oe){case"Facebook":return"";case"Website":return"";case"Referral":return"";case"Campaign":return"";case"website":return"";case"social-media":return"";case"referral":return"";case"email-campaign":return"";case"direct":return"";default:return""}},ks=Oe=>{Oe.target.checked?Be(Il.map(vt=>vt.id)):Be([])},Ah=Oe=>{Be(vt=>vt.includes(Oe)?vt.filter(ta=>ta!==Oe):[...vt,Oe])},bs=(Oe,vt)=>{const ta=vt.currentTarget.getBoundingClientRect();Ye.current=vt.currentTarget,ee(Oe),ye({x:ta.left+ta.width/2,y:ta.top-10}),Ae(!0)};y.useEffect(()=>{const Oe=vt=>{Ne&&(_e.current&&_e.current.contains(vt.target)||Ye.current&&Ye.current.contains(vt.target)||(Ae(!1),ee(null),Ye.current=null))};return document.addEventListener("mousedown",Oe),()=>document.removeEventListener("mousedown",Oe)},[Ne]);const[vd,ou]=y.useState(""),[Ci,uo]=y.useState(""),[dn,oi]=y.useState(null),{canAssignNow:ms}=(()=>{try{return{canAssignNow:require("../utils/rotation").canAssignNow}}catch{return{canAssignNow:()=>({ok:!0})}}})(),_c=()=>{const Oe=vd?.trim();if(!Oe){oi({key:"bulk.selectAssigneeError"});return}const vt=ms(new Date);if(!vt.ok){oi({key:"bulk.assignBlocked",params:{reason:vt.reason}});return}d(ta=>ta.map(Ut=>$e.includes(Ut.id)?{...Ut,assignedTo:Oe}:Ut)),oi({key:"bulk.assignSuccess",params:{count:$e.length,target:Oe}}),Be([]),ou("")},_h=()=>{const Oe=Ci?.trim();if(!Oe){oi({key:"bulk.selectStatusError"});return}d(vt=>vt.map(ta=>$e.includes(ta.id)?{...ta,status:Oe}:ta)),oi({key:"bulk.statusUpdateSuccess",params:{count:$e.length,status:Oe}}),Be([]),uo("")},cu=()=>{const vt=c.filter(Ut=>$e.includes(Ut.id)).map(Ut=>({...Ut,deletedAt:new Date().toISOString()})),ta=JSON.parse(localStorage.getItem("deletedLeads")||"[]");ta.push(...vt),localStorage.setItem("deletedLeads",JSON.stringify(ta)),d(Ut=>Ut.filter(ts=>!$e.includes(ts.id))),oi({key:"bulk.deleteSuccess",params:{count:$e.length}}),Be([])},Uo=async()=>{const Oe=c.filter(Ut=>$e.includes(Ut.id));if(Oe.length===0)return;const vt=[],ta=[];for(const Ut of Oe){const ts=String(Ut?.name||Ut?.company||"").trim(),or=String(Ut?.phone||"").trim();if(!ts||!or||or.length<5){ta.push(Ut);continue}const Bs=Array.isArray(Ut?.tags)?Ut.tags:Ut?.tags?String(Ut.tags).split(",").map(aa=>aa.trim()).filter(Boolean):Ut?.source?[String(Ut.source)]:[],fr={name:ts,phone:or,email:String(Ut?.email||"").trim(),type:String(Ut?.type||(Ut?.company?"Company":"Individual")),companyName:Ut?.company||"",country:String(Ut?.country||"").trim(),city:String(Ut?.city||"").trim(),addressLine:String(Ut?.address||"").trim(),contacts:Ut?.company?[{name:String(Ut?.name||"").trim(),phone:String(Ut?.phone||"").trim(),email:String(Ut?.email||"").trim()}]:[],tags:Bs,notes:String(Ut?.notes||"").trim(),assignedSalesRep:String(Ut?.sales||Ut?.assignedTo||"").trim()};vt.push(fr)}try{await Promise.all(vt.map(Ut=>ya.post("/api/customers",Ut))),oi({key:"bulk.convertSuccess",params:{success:vt.length,failed:ta.length}}),Be([])}catch(Ut){console.error("bulk convert failed",Ut),oi({key:"bulk.convertError"})}},gl=Oe=>{const vt=c.find(ta=>ta.id===Oe);if(vt){const ta={...vt,deletedAt:new Date().toISOString()},Ut=JSON.parse(localStorage.getItem("deletedLeads")||"[]");Ut.push(ta),localStorage.setItem("deletedLeads",JSON.stringify(Ut))}d(ta=>ta.filter(Ut=>Ut.id!==Oe)),Be(ta=>ta.filter(Ut=>Ut!==Oe))},bd=async Oe=>{try{const vt=String(Oe?.name||Oe?.company||"").trim(),ta=String(Oe?.phone||"").trim();if(!vt||!ta||ta.length<5){alert(t.language==="ar"?"  : / ":e("Cannot convert: missing name/phone"));return}const Ut=Array.isArray(Oe?.tags)?Oe.tags:Oe?.tags?String(Oe.tags).split(",").map(or=>or.trim()).filter(Boolean):Oe?.source?[String(Oe.source)]:[],ts={name:vt,phone:ta,email:String(Oe?.email||"").trim(),type:String(Oe?.type||(Oe?.company?"Company":"Individual")),companyName:Oe?.company||"",country:String(Oe?.country||"").trim(),city:String(Oe?.city||"").trim(),addressLine:String(Oe?.address||"").trim(),contacts:Oe?.company?[{name:String(Oe?.name||"").trim(),phone:String(Oe?.phone||"").trim(),email:String(Oe?.email||"").trim()}]:[],tags:Ut,notes:String(Oe?.notes||"").trim(),assignedSalesRep:String(Oe?.sales||Oe?.assignedTo||"").trim()};await ya.post("/api/customers",ts),alert(t.language==="ar"?"     ":e("Lead converted to customer successfully"))}catch(vt){console.error("convert customer failed",vt),alert(t.language==="ar"?"   ":e("Failed to convert to customer"))}},Hn=1e3,vl=(ct-1)*pt,Il=u.slice(vl,vl+pt),Th=()=>{const Oe=Math.max(1,Math.ceil(u.length/pt)),vt=Math.max(1,Math.min(Number(Wt)||ct,Oe)),ta=Math.max(vt,Math.min(Number($t)||vt,Oe)),Ut=(vt-1)*pt,ts=Math.min(ta*pt,u.length),Bs=u.slice(Ut,ts).map(mr=>({Name:mr.name,Email:mr.email,Phone:mr.phone,Company:mr.company,Status:e(mr.status),Priority:e(mr.priority),Source:e(mr.source),"Assigned To":mr.assignedTo,"Created At":new Date(mr.createdAt).toLocaleDateString(),"Last Contact":new Date(mr.lastContact).toLocaleDateString(),"Estimated Value":mr.estimatedValue})),fr=ea.json_to_sheet(Bs),aa=ea.book_new();ea.book_append_sheet(aa,fr,"Leads");const Vn=`leads_pages_${vt}-${ta}.xlsx`;Nr(aa,Vn)};return s.jsxs("div",{className:`app-layout ${t.language==="ar"?"rtl":"ltr"}`,children:[s.jsx($1,{isOpen:l,onClose:()=>o(!1)}),s.jsxs("div",{className:"content-container",children:[s.jsx(U1,{onMobileToggle:()=>o(!l),mobileSidebarOpen:l}),s.jsxs("main",{className:"flex-1 p-6 bg-[var(--content-bg)] text-[var(--content-text)] overflow-x-auto overflow-y-auto space-y-8 md:space-y-10 lg:space-y-12",children:[s.jsxs("div",{className:"flex w-full items-center justify-between gap-6 mb-4 lg:gap-0",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Lead Management")})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsxs("div",{className:"flex items-center gap-2 flex-nowrap justify-end",children:[s.jsxs("button",{onClick:()=>r("/leads/new"),className:"group relative inline-flex items-center gap-2 px-6 py-3 rounded-lg text-sm font-bold bg-gradient-to-br from-green-500 via-emerald-500 to-teal-600 hover:from-emerald-400 hover:via-green-500 hover:to-emerald-700 text-white border-2 border-emerald-300/30 shadow-[0_8px_30px_rgb(34,197,94,0.3)] hover:shadow-[0_20px_40px_rgb(34,197,94,0.6)] transition-all duration-300 ease-out hover:brightness-125 hover:scale-110 hover:-translate-y-1 focus:outline-none focus-visible:ring-4 focus-visible:ring-emerald-300/50 hover:ring-4 hover:ring-emerald-300/70 active:scale-95 active:translate-y-0 overflow-hidden",children:[s.jsx("span",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-100 pointer-events-none transition-all duration-300 bg-[linear-gradient(45deg,transparent_30%,rgba(255,255,255,0.5)_50%,transparent_70%)] animate-pulse"}),s.jsx("span",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-30 pointer-events-none transition-opacity duration-300 bg-gradient-to-r from-transparent via-white to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full group-hover:duration-700"}),s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v12M6 12h12"})}),s.jsx("span",{children:e("Add New Lead")})]}),s.jsxs("button",{onClick:()=>cs(!0),className:"group relative inline-flex items-center gap-2 px-6 py-3 rounded-lg text-sm font-bold bg-gradient-to-br from-blue-500 via-indigo-500 to-purple-600 hover:from-indigo-400 hover:via-blue-500 hover:to-indigo-700 text-white border-2 border-blue-300/30 shadow-[0_8px_30px_rgb(59,130,246,0.3)] hover:shadow-[0_20px_40px_rgb(59,130,246,0.6)] transition-all duration-300 ease-out hover:brightness-125 hover:scale-110 hover:-translate-y-1 focus:outline-none focus-visible:ring-4 focus-visible:ring-blue-300/50 hover:ring-4 hover:ring-blue-300/70 active:scale-95 active:translate-y-0 overflow-hidden",children:[s.jsx("span",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-100 pointer-events-none transition-all duration-300 bg-[linear-gradient(45deg,transparent_30%,rgba(255,255,255,0.5)_50%,transparent_70%)] animate-pulse"}),s.jsx("span",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-30 pointer-events-none transition-opacity duration-300 bg-gradient-to-r from-transparent via-white to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full group-hover:duration-700"}),s.jsxs("svg",{className:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M12 3v12"}),s.jsx("path",{d:"M8 11l4 4 4-4"}),s.jsx("path",{d:"M4 20h16"})]}),s.jsx("span",{children:e("Import Leads")})]}),s.jsxs("button",{onClick:()=>at(15),className:"group relative inline-flex items-center gap-2 px-6 py-3 rounded-lg text-sm font-bold bg-gradient-to-br from-orange-500 via-amber-500 to-yellow-600 hover:from-amber-400 hover:via-orange-500 hover:to-amber-700 text-white border-2 border-orange-300/30 shadow-[0_8px_30px_rgb(245,158,11,0.3)] hover:shadow-[0_20px_40px_rgb(245,158,11,0.6)] transition-all duration-300 ease-out hover:brightness-125 hover:scale-110 hover:-translate-y-1 focus:outline-none focus-visible:ring-4 focus-visible:ring-orange-300/50 hover:ring-4 hover:ring-orange-300/70 active:scale-95 active:translate-y-0 overflow-hidden",children:[s.jsx("span",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-100 pointer-events-none transition-all duration-300 bg-[linear-gradient(45deg,transparent_30%,rgba(255,255,255,0.5)_50%,transparent_70%)] animate-pulse"}),s.jsx("span",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-30 pointer-events-none transition-opacity duration-300 bg-gradient-to-r from-transparent via-white to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full group-hover:duration-700"}),s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),s.jsx("span",{children:e("Add Demo Leads")})]})]})})]}),s.jsxs("section",{className:"p-4 rounded-xl shadow-lg glass-panel w-full mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-gray-200 dark:border-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-600 rounded-lg",children:s.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.707A1 1 0 013 7V4z"})})}),s.jsx("h3",{className:"text-lg font-bold text-primary",children:e("Filter Options")})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>ut(!Xe),className:"btn btn-primary",children:[s.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${Xe?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),e(Xe?"Show Less":"Show More")]}),s.jsxs("button",{className:"btn btn-ghost",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e("Reset")]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("Search")]}),s.jsx("input",{type:"text",placeholder:e("Search leads..."),value:p,onChange:Oe=>m(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Status")]}),s.jsxs("select",{value:v,onChange:Oe=>g(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Status")}),i.map(Oe=>s.jsxs("option",{value:Oe.name,children:[Oe.icon," ",t.language==="ar"&&Oe.nameAr?Oe.nameAr:Oe.name]},Oe.name))]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),e("Source")]}),s.jsxs("select",{value:b,onChange:Oe=>j(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Sources")}),s.jsx("option",{value:"website",children:e("Website")}),s.jsx("option",{value:"social-media",children:e("Social Media")}),s.jsx("option",{value:"referral",children:e("Referrals")}),s.jsx("option",{value:"email-campaign",children:e("Email Campaign")}),s.jsx("option",{value:"direct",children:e("Direct")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Priority")]}),s.jsxs("select",{value:N,onChange:Oe=>k(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Priority")}),s.jsx("option",{value:"high",children:e("High")}),s.jsx("option",{value:"medium",children:e("Medium")}),s.jsx("option",{value:"low",children:e("Low")})]})]})]}),Xe&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),e("Project")]}),s.jsxs("select",{value:S,onChange:Oe=>C(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Projects")}),s.jsx("option",{value:"project-a",children:e("Project A")}),s.jsx("option",{value:"project-b",children:e("Project B")}),s.jsx("option",{value:"project-c",children:e("Project C")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e("Stage")]}),s.jsxs("select",{value:_,onChange:Oe=>P(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Stages")}),n.map(Oe=>s.jsxs("option",{value:Oe.name,children:[Oe.icon," ",t.language==="ar"&&Oe.nameAr||Oe.name]},Oe.name))]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e("Manager")]}),s.jsxs("select",{value:L,onChange:Oe=>U(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Managers")}),s.jsx("option",{value:"ibrahim",children:e("Ibrahim Ahmed")}),s.jsx("option",{value:"sara",children:e("Sara Nour")}),s.jsx("option",{value:"ahmed",children:e("Ahmed Ali")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-cyan-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e("Sales Person")]}),s.jsxs("select",{value:z,onChange:Oe=>T(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Sales People")}),s.jsx("option",{value:" ",children:e("Ibrahim Ahmed")}),s.jsx("option",{value:" ",children:e("Sara Nour")}),s.jsx("option",{value:"Ahmed Ali",children:e("Ahmed Ali")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),e("Created By")]}),s.jsxs("select",{value:F,onChange:Oe=>M(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Creators")}),s.jsx("option",{value:"system",children:e("System")}),s.jsx("option",{value:"admin",children:e("Admin")}),s.jsx("option",{value:"user",children:e("User")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e("Assign Date")]}),s.jsx("input",{type:"date",value:I,onChange:Oe=>W(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Action Date")]}),s.jsx("input",{type:"date",value:R,onChange:Oe=>q(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e("Creation Date")]}),s.jsx("input",{type:"date",value:ae,onChange:Oe=>te(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Old Stage")]}),s.jsxs("select",{value:K,onChange:Oe=>oe(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Old Stages")}),n.map(Oe=>s.jsxs("option",{value:Oe.name,children:[Oe.icon," ",t.language==="ar"&&Oe.nameAr||Oe.name]},Oe.name))]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),e("Closed Date")]}),s.jsx("input",{type:"date",value:D,onChange:Oe=>G(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"})}),e("Campaign")]}),s.jsxs("select",{value:H,onChange:Oe=>X(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Campaigns")}),s.jsx("option",{value:"summer-2024",children:e("Summer 2024")}),s.jsx("option",{value:"winter-2024",children:e("Winter 2024")}),s.jsx("option",{value:"spring-2025",children:e("Spring 2025")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Country")]}),s.jsxs("select",{value:se,onChange:Oe=>ie(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Countries")}),s.jsx("option",{value:"saudi-arabia",children:e("Saudi Arabia")}),s.jsx("option",{value:"uae",children:e("UAE")}),s.jsx("option",{value:"egypt",children:e("Egypt")}),s.jsx("option",{value:"jordan",children:e("Jordan")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),e("Expected Revenue")]}),s.jsx("input",{type:"number",placeholder:e("Min amount..."),value:ne,onChange:Oe=>J(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e("Email")]}),s.jsx("input",{type:"text",placeholder:e("Search by email..."),value:le,onChange:Oe=>pe(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),e("WhatsApp Intents")]}),s.jsxs("select",{value:Q,onChange:Oe=>xe(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Intents")}),s.jsx("option",{value:"inquiry",children:e("Inquiry")}),s.jsx("option",{value:"support",children:e("Support")}),s.jsx("option",{value:"purchase",children:e("Purchase")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e("Call Type")]}),s.jsxs("select",{value:he,onChange:Oe=>ue(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Call Types")}),s.jsx("option",{value:"inbound",children:e("Inbound")}),s.jsx("option",{value:"outbound",children:e("Outbound")}),s.jsx("option",{value:"follow-up",children:e("Follow-up")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),e("Duplicate Status")]}),s.jsxs("select",{value:Le,onChange:Oe=>ze(Oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Status")}),s.jsx("option",{value:"unique",children:e("Unique")}),s.jsx("option",{value:"duplicate",children:e("Duplicate")}),s.jsx("option",{value:"potential-duplicate",children:e("Potential Duplicate")})]})]})]})]})]}),s.jsx("div",{className:"h-10 md:h-12 lg:h-14","aria-hidden":"true"}),$e.length>0&&s.jsxs("div",{className:"glass-panel rounded-2xl shadow-lg p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-xl font-bold text-primary",children:[e("Bulk Actions")," (",$e.length," ",e("selected"),")"]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("button",{onClick:cu,className:"btn btn-danger",children:[s.jsx(sx,{}),e("Delete")]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[s.jsx("label",{htmlFor:"bulk-status",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("Update Status")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("select",{id:"bulk-status",value:Ci,onChange:Oe=>uo(Oe.target.value),className:"flex-grow bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm p-2.5",children:[s.jsx("option",{value:"",children:e("Select Status")}),s.jsx("option",{value:"new",children:e("New")}),s.jsx("option",{value:"qualified",children:e("Qualified")}),s.jsx("option",{value:"in-progress",children:e("In Progress")}),s.jsx("option",{value:"converted",children:e("Converted")}),s.jsx("option",{value:"lost",children:e("Lost")})]}),s.jsx("button",{onClick:_h,className:"btn btn-primary",children:e("Apply Status")})]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[s.jsx("label",{htmlFor:"bulk-assign",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("Assign Owner")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("select",{id:"bulk-assign",value:vd,onChange:Oe=>ou(Oe.target.value),className:"flex-grow bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm p-2.5",children:[s.jsx("option",{value:"",children:e("Select Owner")}),Array.from(new Set(c.map(Oe=>Oe.assignedTo).filter(Boolean))).map(Oe=>s.jsx("option",{value:Oe,children:Oe},Oe))]}),s.jsx("button",{onClick:_c,className:"px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition-transform transform hover:scale-105",children:e("Assign")})]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("Convert Selected to Customers")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:Uo,className:"px-5 py-2.5 bg-teal-600 hover:bg-teal-700 text-white font-semibold rounded-lg shadow-md transition-transform transform hover:scale-105",children:e("Convert")}),$e.length>0&&s.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e("Selected"),": ",$e.length]})]})]})]}),dn&&s.jsx("div",{className:`mt-4 px-4 py-3 rounded-lg ${dn.key.includes("Error")?"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800":"bg-green-50 text-green-700 border border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800"}`,children:e(dn.key,dn.params)})]}),s.jsx("div",{className:"flex justify-end mt-6 mb-4",children:s.jsx(lW,{columns:Et,visibleColumns:va,onColumnToggle:yt,onResetColumns:ja})}),s.jsxs("div",{className:"glass-panel rounded-xl shadow-lg p-4 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-lg font-semibold text-primary flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a 2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e("Lead Stages")]}),s.jsx("button",{onClick:()=>P("all"),className:`btn ${_==="all"?"btn-primary":""}`,children:e("All Stages")})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(Oe=>s.jsxs("button",{onClick:()=>P(Oe.name),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 transform hover:scale-105 ${_===Oe.name?"text-white shadow-lg scale-105":"bg-[var(--panel-bg)] text-[var(--app-text)] border border-[var(--panel-border)] hover:border-[var(--panel-border)] shadow-sm hover:shadow-md"}`,style:_===Oe.name?{backgroundColor:Oe.color||"#3B82F6"}:{},children:[s.jsx("span",{className:"text-lg",children:Oe.icon}),s.jsx("span",{children:t.language==="ar"&&Oe.nameAr||Oe.name}),s.jsx("span",{className:`ml-1 px-2 py-0.5 text-xs rounded-full ${_===Oe.name?"bg-white/20 text-white":"bg-[var(--panel-bg)] text-[var(--muted-text)] border border-[var(--panel-border)]"}`,children:u.filter(vt=>vt.stage===Oe.name).length})]},Oe.name))})]}),s.jsxs("div",{className:"glass-panel rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[s.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"checkbox-all-search",type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",checked:$e.length===Il.length&&Il.length>0,onChange:ks}),s.jsx("label",{htmlFor:"checkbox-all-search",className:"sr-only",children:"checkbox"})]})}),va.lead&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Lead")}),va.contact&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Contact")}),va.source&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Source")}),va.project&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Project")}),va.sales&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Sales")}),va.lastComment&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Last Comment")}),va.stage&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Stage")}),va.expectedRevenue&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Expected Revenue")}),va.priority&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Priority")}),va.status&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Status")}),va.actions&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Actions")})]})}),s.jsx("tbody",{children:Il.map(Oe=>s.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 cursor-pointer",onClick:vt=>bs(Oe,vt),children:[s.jsx("td",{className:"w-4 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:`checkbox-table-search-${Oe.id}`,type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",checked:$e.includes(Oe.id),onChange:()=>Ah(Oe.id)}),s.jsx("label",{htmlFor:`checkbox-table-search-${Oe.id}`,className:"sr-only",children:"checkbox"})]})}),va.lead&&s.jsx("th",{scope:"row",className:"flex items-center px-6 py-4 text-gray-900 whitespace-nowrap dark:text-white",children:s.jsx("div",{className:"pl-3",children:s.jsx("div",{className:"text-base font-semibold",children:Oe.name})})}),va.contact&&s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"font-normal text-gray-500",children:Oe.email}),s.jsx("div",{className:"font-normal text-gray-500",children:Oe.phone})]}),va.source&&s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:zn(Oe.source)}),s.jsx("span",{className:"text-sm",children:e(Oe.source)})]})}),va.project&&s.jsx("td",{className:"px-6 py-4",children:Oe.company}),va.sales&&s.jsx("td",{className:"px-6 py-4",children:Oe.assignedTo}),va.lastComment&&s.jsx("td",{className:"px-6 py-4",children:Oe.notes}),va.stage&&s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${Is(Oe.stage)}`,children:e(Oe.stage)})}),va.expectedRevenue&&s.jsxs("td",{className:"px-6 py-4",children:["$",Oe.estimatedValue.toLocaleString()]}),va.priority&&s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${Ur(Oe.priority)}`,children:e(Oe.priority)})}),va.status&&s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${Is(Oe.status)}`,children:e(Oe.status)})}),va.actions&&s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>{Ia(Oe),Yt(!0)},className:"text-blue-600 hover:text-blue-900 p-1",title:e("preview"),children:s.jsx(od,{size:16})}),s.jsx("button",{onClick:()=>console.log("Call lead:",Oe?.phone),className:"text-purple-600 hover:text-purple-900 p-1",title:"Call",children:s.jsx(Zu,{size:16})}),s.jsx("button",{onClick:()=>console.log("WhatsApp lead:",Oe?.phone),className:"text-green-600 hover:text-green-900 p-1",title:"WhatsApp",children:s.jsx(Ju,{size:16})}),s.jsx("button",{onClick:()=>console.log("Email lead:",Oe?.email),className:"text-gray-600 hover:text-gray-900 p-1",title:"Email",children:s.jsx(Sf,{size:16})}),s.jsx("button",{onClick:()=>console.log("Google Meet lead:",Oe?.email),className:"text-red-600 hover:text-red-900 p-1",title:"Google Meet",children:s.jsx(aw,{size:16})}),s.jsx("button",{onClick:()=>bd(Oe),className:"text-teal-600 hover:text-teal-900 p-1",title:e("Convert Customer"),children:s.jsx(IU,{size:16})}),$e.includes(Oe.id)&&s.jsx("button",{onClick:()=>gl(Oe.id),className:"text-red-600 hover:text-red-900 p-1",title:e("Delete"),children:s.jsx(sx,{size:16})})]})})]},Oe.id))})]})}),Il.length===0&&s.jsx("div",{className:"p-6 text-center text-gray-600 dark:text-gray-300",children:e("empty.noMoreCustomers")}),s.jsxs("nav",{className:"flex items-center justify-between p-4","aria-label":"Table navigation",children:[s.jsxs("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400",children:[e("Showing")," ",s.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[vl+1,"-",Math.min(vl+pt,u.length)]})," ",e("of")," ",s.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:u.length})]}),s.jsxs("ul",{className:"inline-flex items-center -space-x-px gap-2",children:[s.jsx("li",{children:s.jsxs("button",{onClick:()=>Je(Oe=>Math.max(Oe-1,1)),disabled:ct===1,className:"block px-3 py-2 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50",children:[s.jsx("span",{className:"sr-only",children:e("Previous")}),s.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]})}),Array.from({length:Math.min(3,Hn)},(Oe,vt)=>vt+1).map(Oe=>s.jsx("li",{children:s.jsx("button",{onClick:()=>Je(Oe),className:`px-3 py-2 leading-tight ${ct===Oe?"text-blue-600 border border-blue-300 bg-blue-50 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"}`,children:Oe})},Oe)),s.jsxs("li",{className:"flex items-center gap-2 ml-3",children:[s.jsx("input",{type:"number",min:1,max:Hn,value:Ot,onChange:Oe=>qt(Oe.target.value),placeholder:e("Search"),className:"w-16 px-2 py-1 text-sm border rounded-md dark:bg-gray-800 dark:text-gray-200"}),s.jsx("button",{onClick:()=>{const Oe=Math.max(1,Math.min(Number(Ot)||1,Hn));Je(Oe)},className:"px-2 py-1 text-sm bg-gray-100 hover:bg-gray-200 border rounded-md dark:bg-gray-700 dark:border-gray-600",children:s.jsx(ax,{className:"w-4 h-4"})})]}),s.jsxs("li",{className:"flex items-center gap-2 ml-3",children:[s.jsx("input",{type:"number",min:1,max:Hn,value:Wt,onChange:Oe=>Te(Oe.target.value),placeholder:e("From"),className:"w-20 px-2 py-1 text-sm border rounded-md dark:bg-gray-800 dark:text-gray-200"}),s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:e("To")}),s.jsx("input",{type:"number",min:1,max:Hn,value:$t,onChange:Oe=>qe(Oe.target.value),placeholder:e("To"),className:"w-20 px-2 py-1 text-sm border rounded-md dark:bg-gray-800 dark:text-gray-200"}),s.jsxs("button",{onClick:Th,className:"px-3 py-1 text-sm bg-blue-600 text-white hover:bg-blue-700 border rounded-md dark:bg-blue-500 dark:border-blue-400 flex items-center gap-1",children:[s.jsx(Qu,{className:"w-4 h-4"}),e("Export Data")]})]}),s.jsx("li",{children:s.jsxs("button",{onClick:()=>Je(Oe=>Math.min(Oe+1,Hn)),disabled:ct===Hn,className:"block px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50",children:[s.jsx("span",{className:"sr-only",children:e("Next")}),s.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})})]})]})]}),Fs&&s.jsx(d2e,{isOpen:Fs,onClose:()=>cs(!1),excelFile:Ca,setExcelFile:la,importing:qa,importError:rt,importSummary:St,onImport:ba})]})]}),s.jsxs("button",{onClick:()=>r("/leads/new"),className:"fixed bottom-10 right-6 z-50 md:hidden p-4 bg-green-600 text-white rounded-full shadow-lg hover:bg-green-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500","aria-label":e("Add New Lead"),children:[s.jsx($u,{className:"w-6 h-6"}),s.jsx("span",{className:"sr-only",children:e("Add New Lead")})]}),Gt&&s.jsx(V1,{isOpen:Gt,onClose:()=>{Yt(!1),Ia(null)},lead:ma,isArabic:t.language==="ar",theme:a}),Ne&&pa&&s.jsx(Jz,{lead:pa,position:Se,innerRef:_e,onAction:Oe=>{switch(Ae(!1),ee(null),Oe){case"view":Ia(pa),Yt(!0);break;case"call":window.open(`tel:${pa.phone}`);break;case"whatsapp":window.open(`https://wa.me/${pa.phone.replace(/[^0-9]/g,"")}`);break;case"email":window.open(`mailto:${pa.email}`);break;case"video":console.log("Video call:",pa);break;case"convert":bd(pa);break;case"delete":if(window.confirm(e("Are you sure you want to delete this lead?"))){const vt={...pa,deletedAt:new Date().toISOString()},ta=JSON.parse(localStorage.getItem("deletedLeads")||"[]");ta.push(vt),localStorage.setItem("deletedLeads",JSON.stringify(ta)),d(Ut=>Ut.filter(ts=>ts.id!==pa.id))}break}},isRtl:t.language==="ar"})]})},h2e=({isOpen:e,onClose:t,lead:a,onRestore:r,onPermanentDelete:n,onView:i,position:l={x:0,y:0},theme:o="light",isArabic:c=!1})=>{if(!e||!a)return null;const d=o==="dark",u=d?"bg-gray-800":"bg-white",f=d?"border-gray-600":"border-gray-200",p=d?"text-gray-100":"text-gray-800",m=d?"hover:bg-gray-700":"hover:bg-gray-50",v=[{id:"view",title:c?" ":"View Details",icon:od,color:"text-blue-600",onClick:()=>{i(a),t()}},{id:"restore",title:c?"":"Restore",icon:$S,color:"text-green-600",onClick:()=>{r(a.id),t()}},{id:"delete",title:c?" ":"Permanent Delete",icon:BS,color:"text-red-600",onClick:()=>{n(a.id),t()}}],g={position:"fixed",left:`${Math.min(l.x,window.innerWidth-320)}px`,top:`${Math.min(l.y+10,window.innerHeight-400)}px`,zIndex:1e3};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:t}),s.jsxs("div",{className:`${u} rounded-lg shadow-xl border ${f} w-80 max-w-sm`,style:g,children:[s.jsxs("div",{className:`flex items-center justify-between p-4 border-b ${f}`,children:[s.jsx("h3",{className:`text-lg font-semibold ${p}`,children:c?" ":"Available Actions"}),s.jsx("button",{onClick:t,className:`p-1 rounded-full ${m} ${p}`,children:s.jsx(tu,{size:16})})]}),s.jsx("div",{className:`p-4 border-b ${f}`,children:s.jsx("div",{className:`text-sm ${p}`,children:s.jsx("div",{className:"font-medium",children:a.name})})}),s.jsx("div",{className:"p-2",children:v.map(b=>s.jsxs("button",{onClick:b.onClick,className:`w-full flex items-center gap-3 p-3 rounded-lg ${m} transition-colors duration-200`,children:[s.jsx(b.icon,{className:`${b.color} text-lg`}),s.jsx("span",{className:`${p} font-medium`,children:b.title})]},b.id))})]})]})};function f2e(){const{t:e,i18n:t}=Ct(),{theme:a}=Uf(),[r,n]=y.useState([]),[i,l]=y.useState([]),[o,c]=y.useState([]),[d,u]=y.useState(null),[f,p]=y.useState(!1),[m,v]=y.useState(!1),[g,b]=y.useState({x:0,y:0}),[j,N]=y.useState(!1),[k,S]=y.useState(null),[C,_]=y.useState({x:0,y:0}),P=y.useRef(null),[L,U]=y.useState(""),[z,T]=y.useState("all"),[F,M]=y.useState("all"),[I,W]=y.useState("all"),[R,q]=y.useState("all"),[ae,te]=y.useState("all"),[K,oe]=y.useState("all"),[D,G]=y.useState("all"),[H,X]=y.useState("all"),[se,ie]=y.useState(""),[ne,J]=y.useState(""),[le,pe]=y.useState(""),[Q,xe]=y.useState("all"),[he,ue]=y.useState(""),[Le,ze]=y.useState("all"),[Ce,ce]=y.useState("all"),[Ie,we]=y.useState(""),[$e,Be]=y.useState(""),[ft,Ke]=y.useState("all"),[Ue,tt]=y.useState("all"),[ct,Je]=y.useState("all"),[pt,kt]=y.useState(""),[Ot,qt]=y.useState(!1),[Wt,Te]=y.useState(!1),[$t,qe]=y.useState("deletedAt"),[Gt,Yt]=y.useState("desc"),[ma,Ia]=y.useState(1),[Ca]=y.useState(10),[la,qa]=y.useState(""),[Fe,rt]=y.useState(""),[_t,St]=y.useState(""),[ra,Fs]=y.useState(null),[cs,es]=y.useState(!1),Ps=io();y.useEffect(()=>{try{const yt=new URLSearchParams(Ps.search||"").get("stage");yt&&te(yt)}catch{}},[Ps.search]);const as={lead:e("Lead"),contact:e("Contact"),source:e("Source"),project:e("Project"),sales:e("Sales"),lastComment:e("Last Comment"),stage:e("Stage"),expectedRevenue:e("Expected Revenue"),priority:e("Priority"),status:e("Status"),deletedDate:e("Deleted Date"),actions:e("Actions")},[pa,ee]=y.useState({lead:!0,contact:!0,source:!0,project:!0,sales:!0,lastComment:!0,stage:!0,expectedRevenue:!0,priority:!0,status:!0,deletedDate:!0,actions:!0}),[Se,ye]=y.useState([]);y.useEffect(()=>{const Pe=()=>{try{const ja=localStorage.getItem("crmStages");if(ja){const za=JSON.parse(ja);ye(za)}else ye([{name:"New",nameAr:"",icon:"",color:"#3B82F6"},{name:"Qualified",nameAr:"",icon:"",color:"#10B981"},{name:"In Progress",nameAr:" ",icon:"",color:"#F59E0B"},{name:"Converted",nameAr:" ",icon:"",color:"#8B5CF6"},{name:"Lost",nameAr:"",icon:"",color:"#EF4444"}])}catch(ja){console.error("Failed to load stages:",ja),ye([])}};Pe();const yt=ja=>{ja.key==="crmStages"&&Pe()};return window.addEventListener("storage",yt),()=>window.removeEventListener("storage",yt)},[]),y.useEffect(()=>{const Pe=localStorage.getItem("deletedLeads");Pe&&n(JSON.parse(Pe))},[]),y.useEffect(()=>{let Pe=[...r];L&&(Pe=Pe.filter(yt=>yt.name?.toLowerCase().includes(L.toLowerCase())||yt.email?.toLowerCase().includes(L.toLowerCase())||yt.phone?.includes(L)||yt.company?.toLowerCase().includes(L.toLowerCase()))),z!=="all"&&(Pe=Pe.filter(yt=>yt.status===z)),F!=="all"&&(Pe=Pe.filter(yt=>yt.source===F)),I!=="all"&&(Pe=Pe.filter(yt=>yt.priority===I)),R!=="all"&&(Pe=Pe.filter(yt=>yt.company===R)),ae!=="all"&&(Pe=Pe.filter(yt=>yt.stage===ae)),K!=="all"&&(Pe=Pe.filter(yt=>yt.assignedTo===K)),D!=="all"&&(Pe=Pe.filter(yt=>yt.assignedTo===D)),H!=="all"&&(Pe=Pe.filter(yt=>yt.createdBy===H)),pt&&(Pe=Pe.filter(yt=>{const ja=new Date(yt.deletedAt).toDateString(),za=new Date(pt).toDateString();return ja===za})),$e&&(Pe=Pe.filter(yt=>yt.email?.toLowerCase().includes($e.toLowerCase()))),Ie&&(Pe=Pe.filter(yt=>yt.estimatedValue>=parseFloat(Ie))),Le!=="all"&&(Pe=Pe.filter(yt=>yt.campaign===Le)),Ce!=="all"&&(Pe=Pe.filter(yt=>yt.country===Ce)),ft!=="all"&&(Pe=Pe.filter(yt=>yt.whatsappIntent===ft)),Ue!=="all"&&(Pe=Pe.filter(yt=>yt.callType===Ue)),ct!=="all"&&(Pe=Pe.filter(yt=>yt.duplicateStatus===ct)),se&&(Pe=Pe.filter(yt=>{const ja=new Date(yt.assignedAt).toDateString(),za=new Date(se).toDateString();return ja===za})),ne&&(Pe=Pe.filter(yt=>{const ja=new Date(yt.lastActionAt).toDateString(),za=new Date(ne).toDateString();return ja===za})),le&&(Pe=Pe.filter(yt=>{const ja=new Date(yt.createdAt).toDateString(),za=new Date(le).toDateString();return ja===za})),Q!=="all"&&(Pe=Pe.filter(yt=>yt.oldStage===Q)),he&&(Pe=Pe.filter(yt=>{const ja=new Date(yt.closedAt).toDateString(),za=new Date(he).toDateString();return ja===za})),Pe.sort((yt,ja)=>{let za=yt[$t],Is=ja[$t];return $t==="deletedAt"&&(za=new Date(za),Is=new Date(Is)),Gt==="asc"?za>Is?1:-1:za<Is?1:-1}),l(Pe),Ia(1)},[r,L,z,F,I,R,ae,K,D,H,pt,$e,Ie,Le,Ce,ft,Ue,ct,se,ne,le,Q,he,$t,Gt]);const Ne=Math.ceil(i.length/Ca),Ae=(ma-1)*Ca,_e=i.slice(Ae,Ae+Ca),Xe=Pe=>({new:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",qualified:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300","in-progress":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",converted:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",lost:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"})[Pe]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",ut=Pe=>({high:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",low:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300"})[Pe]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",Ye=Pe=>({website:"","social-media":"",referral:"",email:"",phone:"",advertisement:""})[Pe]||"",at=()=>{o.length===_e.length?c([]):c(_e.map(Pe=>Pe.id))},st=Pe=>{c(yt=>yt.includes(Pe)?yt.filter(ja=>ja!==Pe):[...yt,Pe])},Et=(Pe,yt)=>{if(yt.target.type==="checkbox")return;const ja=yt.currentTarget.getBoundingClientRect(),za={x:ja.left+ja.width/2-160,y:ja.bottom};u(Pe),b(za),v(!0)},zt=Pe=>{ee(yt=>({...yt,[Pe]:!yt[Pe]}))},Vt=()=>{const Pe=Object.keys(as).reduce((yt,ja)=>(yt[ja]=!0,yt),{});ee(Pe)},Mt=Pe=>{const yt=r.find(ja=>ja.id===Pe);if(yt){const{deletedAt:ja,...za}=yt,Is=JSON.parse(localStorage.getItem("leads")||"[]");Is.push(za),localStorage.setItem("leads",JSON.stringify(Is));const Ur=r.filter(zn=>zn.id!==Pe);n(Ur),localStorage.setItem("deletedLeads",JSON.stringify(Ur)),Fs({key:"Lead restored successfully",params:{}}),setTimeout(()=>Fs(null),3e3)}},Kt=Pe=>{if(window.confirm(e("Are you sure you want to permanently delete this lead? This action cannot be undone."))){const yt=r.filter(ja=>ja.id!==Pe);n(yt),localStorage.setItem("deletedLeads",JSON.stringify(yt)),Fs({key:"Lead permanently deleted",params:{}}),setTimeout(()=>Fs(null),3e3)}},ba=()=>{const Pe=Math.max(1,parseInt(Fe)||1),yt=Math.min(Ne,parseInt(_t)||Ne),ja=(Pe-1)*Ca,za=yt*Ca,Is=i.slice(ja,za),Ur=ea.json_to_sheet(Is.map(ks=>({Name:ks.name,Email:ks.email,Phone:ks.phone,Company:ks.company,Source:ks.source,Status:ks.status,Priority:ks.priority,Stage:ks.stage,"Expected Revenue":ks.estimatedValue,"Assigned To":ks.assignedTo,"Deleted Date":new Date(ks.deletedAt).toLocaleDateString(),Notes:ks.notes}))),zn=ea.book_new();ea.book_append_sheet(zn,Ur,"Deleted Leads"),Nr(zn,`deleted_leads_${new Date().toISOString().split("T")[0]}.xlsx`)},va=()=>{U(""),T("all"),M("all"),W("all"),q("all"),te("all"),oe("all"),G("all"),X("all"),ie(""),J(""),pe(""),xe("all"),ue(""),ze("all"),ce("all"),we(""),Be(""),Ke("all"),tt("all"),Je("all"),kt("")};return s.jsxs("div",{className:`app-layout ${t.language==="ar"?"rtl":"ltr"}`,children:[s.jsx($1,{isOpen:cs,onClose:()=>es(!1)}),s.jsxs("div",{className:"content-container",children:[s.jsx(U1,{onMobileToggle:()=>es(!cs),mobileSidebarOpen:cs}),s.jsxs("main",{className:"flex-1 p-6 bg-[var(--content-bg)] text-[var(--content-text)] overflow-x-auto overflow-y-auto space-y-8 md:space-y-10 lg:space-y-12",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e("Recycle Bin")}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[e("Manage deleted leads")," (",i.length," ",e("leads"),")"]})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 mb-6 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:s.jsx("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})}),e("Filter Options")]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>Te(!Wt),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white font-medium rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[s.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${Wt?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),e(Wt?"Show Less":"Show More")]}),s.jsxs("button",{onClick:va,className:"flex items-center gap-2 px-6 py-3 bg-gray-500 hover:bg-gray-600 text-white font-medium rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e("Reset")]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("Search")]}),s.jsx("input",{type:"text",placeholder:e("Search leads..."),value:L,onChange:Pe=>U(Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Status")]}),s.jsxs("select",{value:z,onChange:Pe=>T(Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Status")}),s.jsx("option",{value:"new",children:e("New")}),s.jsx("option",{value:"qualified",children:e("Qualified")}),s.jsx("option",{value:"in-progress",children:e("In Progress")}),s.jsx("option",{value:"converted",children:e("Converted")}),s.jsx("option",{value:"lost",children:e("Lost")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),e("Source")]}),s.jsxs("select",{value:F,onChange:Pe=>M(Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Sources")}),s.jsx("option",{value:"website",children:e("Website")}),s.jsx("option",{value:"social-media",children:e("Social Media")}),s.jsx("option",{value:"referral",children:e("Referrals")}),s.jsx("option",{value:"email-campaign",children:e("Email Campaign")}),s.jsx("option",{value:"direct",children:e("Direct")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Priority")]}),s.jsxs("select",{value:I,onChange:Pe=>W(Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Priority")}),s.jsx("option",{value:"high",children:e("High")}),s.jsx("option",{value:"medium",children:e("Medium")}),s.jsx("option",{value:"low",children:e("Low")})]})]})]}),Wt&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),e("Project")]}),s.jsxs("select",{value:R,onChange:Pe=>q(Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Projects")}),s.jsx("option",{value:"project-a",children:e("Project A")}),s.jsx("option",{value:"project-b",children:e("Project B")}),s.jsx("option",{value:"project-c",children:e("Project C")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e("Stage")]}),s.jsxs("select",{value:ae,onChange:Pe=>te(Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Stages")}),Se.map(Pe=>s.jsxs("option",{value:Pe.name,children:[Pe.icon," ",t.language==="ar"&&Pe.nameAr||Pe.name]},Pe.name))]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e("Manager")]}),s.jsxs("select",{value:K,onChange:Pe=>oe(Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Managers")}),s.jsx("option",{value:"ibrahim",children:e("Ibrahim Ahmed")}),s.jsx("option",{value:"sara",children:e("Sara Nour")}),s.jsx("option",{value:"ahmed",children:e("Ahmed Ali")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-cyan-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e("Sales Person")]}),s.jsxs("select",{value:D,onChange:Pe=>G(Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Sales People")}),s.jsx("option",{value:" ",children:e("Ibrahim Ahmed")}),s.jsx("option",{value:" ",children:e("Sara Nour")}),s.jsx("option",{value:"Ahmed Ali",children:e("Ahmed Ali")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),e("Created By")]}),s.jsxs("select",{value:H,onChange:Pe=>X(Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Creators")}),s.jsx("option",{value:"system",children:e("System")}),s.jsx("option",{value:"admin",children:e("Admin")}),s.jsx("option",{value:"user",children:e("User")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e("Deleted Date")]}),s.jsx("input",{type:"date",value:pt,onChange:Pe=>kt(Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e("Email")]}),s.jsx("input",{type:"text",placeholder:e("Filter by email"),value:$e,onChange:Pe=>Be(Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),e("Expected Revenue")]}),s.jsx("input",{type:"number",placeholder:e("Minimum amount"),value:Ie,onChange:Pe=>we(Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"})}),e("Campaign")]}),s.jsxs("select",{value:Le,onChange:Pe=>ze(Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Campaigns")}),s.jsx("option",{value:"summer-2024",children:e("Summer 2024")}),s.jsx("option",{value:"winter-2024",children:e("Winter 2024")}),s.jsx("option",{value:"spring-2025",children:e("Spring 2025")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Country")]}),s.jsxs("select",{value:Ce,onChange:Pe=>ce(Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Countries")}),s.jsx("option",{value:"saudi-arabia",children:e("Saudi Arabia")}),s.jsx("option",{value:"uae",children:e("UAE")}),s.jsx("option",{value:"egypt",children:e("Egypt")}),s.jsx("option",{value:"jordan",children:e("Jordan")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),e("WhatsApp Intents")]}),s.jsxs("select",{value:ft,onChange:Pe=>Ke(Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Intents")}),s.jsx("option",{value:"inquiry",children:e("Inquiry")}),s.jsx("option",{value:"support",children:e("Support")}),s.jsx("option",{value:"purchase",children:e("Purchase")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e("Call Type")]}),s.jsxs("select",{value:Ue,onChange:Pe=>tt(Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Call Types")}),s.jsx("option",{value:"inbound",children:e("Inbound")}),s.jsx("option",{value:"outbound",children:e("Outbound")}),s.jsx("option",{value:"follow-up",children:e("Follow-up")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),e("Duplicate Status")]}),s.jsxs("select",{value:ct,onChange:Pe=>Je(Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Status")}),s.jsx("option",{value:"unique",children:e("Unique")}),s.jsx("option",{value:"duplicate",children:e("Duplicate")}),s.jsx("option",{value:"potential-duplicate",children:e("Potential Duplicate")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e("Assign Date")]}),s.jsx("input",{type:"date",value:se,onChange:Pe=>ie(Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e("Action Date")]}),s.jsx("input",{type:"date",value:ne,onChange:Pe=>J(Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),e("Creation Date")]}),s.jsx("input",{type:"date",value:le,onChange:Pe=>pe(Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("Old Stage")]}),s.jsxs("select",{value:Q,onChange:Pe=>xe(Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400",children:[s.jsx("option",{value:"all",children:e("All Stages")}),Se.map(Pe=>s.jsx("option",{value:Pe.name,children:t.language==="ar"?Pe.nameAr:Pe.name},Pe.name))]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),e("Closed Date")]}),s.jsx("input",{type:"date",value:he,onChange:Pe=>ue(Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-medium focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-400 transition-all duration-200 hover:border-blue-400"})]})]})]})]}),s.jsx("div",{className:"h-10 md:h-12 lg:h-14"}),s.jsxs("div",{className:"flex justify-between items-center mt-0 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:()=>{if(o.length===0){alert(e("Please select items to restore"));return}window.confirm(e("Are you sure you want to restore the selected leads?"))&&(o.forEach(Pe=>{const yt=r.find(ja=>ja.id===Pe);yt&&(setLeads(ja=>[...ja,yt]),n(ja=>ja.filter(za=>za.id!==Pe)))}),localStorage.setItem("crmLeads",JSON.stringify(leads.concat(r.filter(Pe=>o.includes(Pe.id))))),localStorage.setItem("deletedLeads",JSON.stringify(r.filter(Pe=>!o.includes(Pe.id)))),c([]))},className:"flex items-center gap-3 px-10 py-5 my-6 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold text-lg rounded-2xl shadow-2xl hover:shadow-green-500/50 transition-all duration-500 transform hover:scale-110 hover:-translate-y-2 active:scale-95 border-4 border-green-300 hover:border-green-200 ring-4 ring-green-200/30 hover:ring-green-300/50",children:[s.jsx($S,{className:"text-xl"}),e("Restore All")]}),s.jsxs("button",{onClick:()=>{if(o.length===0){alert(e("Please select items to delete"));return}window.confirm(e("Are you sure you want to permanently delete the selected leads? This action cannot be undone."))&&(n(Pe=>Pe.filter(yt=>!o.includes(yt.id))),localStorage.setItem("deletedLeads",JSON.stringify(r.filter(Pe=>!o.includes(Pe.id)))),c([]))},className:"flex items-center gap-3 px-10 py-5 my-6 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold text-lg rounded-2xl shadow-2xl hover:shadow-red-500/50 transition-all duration-500 transform hover:scale-110 hover:-translate-y-2 active:scale-95 border-4 border-red-300 hover:border-red-200 ring-4 ring-red-200/30 hover:ring-red-300/50",children:[s.jsx(BS,{className:"text-xl"}),e("Permanent Delete")]})]}),s.jsx(lW,{columns:as,visibleColumns:pa,onColumnToggle:zt,onResetColumns:Vt})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 mt-8 mb-0 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e("Deleted Lead Stages")]}),s.jsx("button",{onClick:()=>te("all"),className:`px-3 py-1.5 text-sm font-medium rounded-lg transition-all duration-200 ${ae==="all"?"bg-blue-600 text-white shadow-md":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:e("All Stages")})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Se.map(Pe=>s.jsxs("button",{onClick:()=>te(Pe.name),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 transform hover:scale-105 ${ae===Pe.name?"text-white shadow-lg scale-105":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500 shadow-sm hover:shadow-md"}`,style:ae===Pe.name?{backgroundColor:Pe.color||"#3B82F6"}:{},children:[s.jsx("span",{className:"text-lg",children:Pe.icon}),s.jsx("span",{children:t.language==="ar"&&Pe.nameAr||Pe.name}),s.jsx("span",{className:`ml-1 px-2 py-0.5 text-xs rounded-full ${ae===Pe.name?"bg-white/20 text-white":"bg-gray-100 dark:bg-gray-600 text-gray-600 dark:text-gray-400"}`,children:i.filter(yt=>yt.stage===Pe.name).length})]},Pe.name))})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[s.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"checkbox-all-search",type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",checked:o.length===_e.length&&_e.length>0,onChange:at}),s.jsx("label",{htmlFor:"checkbox-all-search",className:"sr-only",children:"checkbox"})]})}),pa.lead&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Lead")}),pa.contact&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Contact")}),pa.source&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Source")}),pa.project&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Project")}),pa.sales&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Sales")}),pa.lastComment&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Last Comment")}),pa.stage&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Stage")}),pa.expectedRevenue&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Expected Revenue")}),pa.priority&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Priority")}),pa.status&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Status")}),pa.deletedDate&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Deleted Date")}),pa.actions&&s.jsx("th",{scope:"col",className:"px-6 py-3",children:e("Actions")})]})}),s.jsx("tbody",{children:_e.map(Pe=>s.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 cursor-pointer",onClick:yt=>Et(Pe,yt),children:[s.jsx("td",{className:"w-4 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:`checkbox-table-search-${Pe.id}`,type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",checked:o.includes(Pe.id),onChange:()=>st(Pe.id)}),s.jsx("label",{htmlFor:`checkbox-table-search-${Pe.id}`,className:"sr-only",children:"checkbox"})]})}),pa.lead&&s.jsx("th",{scope:"row",className:"flex items-center px-6 py-4 text-gray-900 whitespace-nowrap dark:text-white",children:s.jsx("div",{className:"pl-3",children:s.jsx("div",{className:"text-base font-semibold",children:Pe.name})})}),pa.contact&&s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"font-normal text-gray-500",children:Pe.email}),s.jsx("div",{className:"font-normal text-gray-500",children:Pe.phone})]}),pa.source&&s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:Ye(Pe.source)}),s.jsx("span",{className:"text-sm",children:e(Pe.source)})]})}),pa.project&&s.jsx("td",{className:"px-6 py-4",children:Pe.company}),pa.sales&&s.jsx("td",{className:"px-6 py-4",children:Pe.assignedTo}),pa.lastComment&&s.jsx("td",{className:"px-6 py-4",children:Pe.notes}),pa.stage&&s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${Xe(Pe.stage)}`,children:e(Pe.stage)})}),pa.expectedRevenue&&s.jsxs("td",{className:"px-6 py-4",children:["$",Pe.estimatedValue?.toLocaleString()]}),pa.priority&&s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${ut(Pe.priority)}`,children:e(Pe.priority)})}),pa.status&&s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${Xe(Pe.status)}`,children:e(Pe.status)})}),pa.deletedDate&&s.jsx("td",{className:"px-6 py-4",children:new Date(Pe.deletedAt).toLocaleDateString()}),pa.actions&&s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:yt=>{yt.stopPropagation(),u(Pe),p(!0)},className:"text-blue-600 hover:text-blue-900 p-3",title:e("preview"),children:s.jsx(od,{size:16})}),s.jsx("button",{onClick:yt=>{yt.stopPropagation(),Mt(Pe.id)},className:"text-green-600 hover:text-green-900 p-3",title:e("Restore"),children:s.jsx($S,{size:16})}),s.jsx("button",{onClick:yt=>{yt.stopPropagation(),Kt(Pe.id)},className:"text-red-600 hover:text-red-900 p-3",title:e("Permanent Delete"),children:s.jsx(BS,{size:16})})]})})]},Pe.id))})]})}),_e.length===0&&s.jsx("div",{className:"p-6 text-center text-gray-600 dark:text-gray-300",children:e("No deleted leads found")}),Ne>1&&s.jsxs("nav",{className:"flex items-center justify-between p-4","aria-label":"Table navigation",children:[s.jsxs("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400",children:[e("Showing")," ",s.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[Ae+1,"-",Math.min(Ae+Ca,i.length)]})," ",e("of")," ",s.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:i.length})]}),s.jsxs("ul",{className:"inline-flex items-center -space-x-px gap-2",children:[s.jsx("li",{children:s.jsxs("button",{onClick:()=>Ia(Pe=>Math.max(Pe-1,1)),disabled:ma===1,className:"block px-4 py-3 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50",children:[s.jsx("span",{className:"sr-only",children:e("Previous")}),s.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]})}),Array.from({length:Math.min(3,Ne)},(Pe,yt)=>yt+1).map(Pe=>s.jsx("li",{children:s.jsx("button",{onClick:()=>Ia(Pe),className:`px-4 py-3 leading-tight ${ma===Pe?"text-blue-600 border border-blue-300 bg-blue-50 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"}`,children:Pe})},Pe)),s.jsxs("li",{className:"flex items-center gap-2 ml-3",children:[s.jsx("input",{type:"number",min:1,max:Ne,value:la,onChange:Pe=>qa(Pe.target.value),placeholder:e("Search"),className:"w-16 px-2 py-1 text-sm border rounded-md dark:bg-gray-800 dark:text-gray-200"}),s.jsx("button",{onClick:()=>{const Pe=Math.max(1,Math.min(Number(la)||1,Ne));Ia(Pe)},className:"px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 border rounded-md dark:bg-gray-700 dark:border-gray-600",children:s.jsx(ax,{className:"w-4 h-4"})})]}),s.jsxs("li",{className:"flex items-center gap-2 ml-3",children:[s.jsx("input",{type:"number",min:1,max:Ne,value:Fe,onChange:Pe=>rt(Pe.target.value),placeholder:e("From"),className:"w-20 px-2 py-1 text-sm border rounded-md dark:bg-gray-800 dark:text-gray-200"}),s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:e("To")}),s.jsx("input",{type:"number",min:1,max:Ne,value:_t,onChange:Pe=>St(Pe.target.value),placeholder:e("To"),className:"w-20 px-2 py-1 text-sm border rounded-md dark:bg-gray-800 dark:text-gray-200"}),s.jsxs("button",{onClick:ba,className:"px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 border rounded-md dark:bg-blue-500 dark:border-blue-400 flex items-center gap-1",children:[s.jsx(Qu,{className:"w-4 h-4"}),e("Export Data")]})]}),s.jsx("li",{children:s.jsxs("button",{onClick:()=>Ia(Pe=>Math.min(Pe+1,Ne)),disabled:ma===Ne,className:"block px-4 py-3 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50",children:[s.jsx("span",{className:"sr-only",children:e("Next")}),s.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})})]})]})]})]})]}),f&&s.jsx(V1,{isOpen:f,onClose:()=>{p(!1),u(null)},lead:d,isArabic:t.language==="ar",theme:a}),m&&s.jsx(h2e,{isOpen:m,onClose:()=>{v(!1),u(null)},lead:d,position:g,onRestore:Mt,onPermanentDelete:Kt,onView:Pe=>{u(Pe),p(!0)},theme:a,isArabic:t.language==="ar"}),j&&k&&s.jsx(Jz,{lead:k,position:C,innerRef:P,onAction:Pe=>{switch(N(!1),S(null),Pe){case"view":u(k),p(!0);break;case"restore":Mt(k.id);break;case"delete":Kt(k.id);break}},isRtl:t.language==="ar"})]})}const m2e=[{iso2:"EG",nameAr:"",nameEn:"Egypt",dialCode:"+20",flag:""},{iso2:"SA",nameAr:"",nameEn:"Saudi Arabia",dialCode:"+966",flag:""},{iso2:"AE",nameAr:"",nameEn:"United Arab Emirates",dialCode:"+971",flag:""},{iso2:"KW",nameAr:"",nameEn:"Kuwait",dialCode:"+965",flag:""},{iso2:"QA",nameAr:"",nameEn:"Qatar",dialCode:"+974",flag:""},{iso2:"BH",nameAr:"",nameEn:"Bahrain",dialCode:"+973",flag:""},{iso2:"OM",nameAr:"",nameEn:"Oman",dialCode:"+968",flag:""},{iso2:"JO",nameAr:"",nameEn:"Jordan",dialCode:"+962",flag:""},{iso2:"LB",nameAr:"",nameEn:"Lebanon",dialCode:"+961",flag:""},{iso2:"SY",nameAr:"",nameEn:"Syria",dialCode:"+963",flag:""},{iso2:"IQ",nameAr:"",nameEn:"Iraq",dialCode:"+964",flag:""},{iso2:"PS",nameAr:"",nameEn:"Palestine",dialCode:"+970",flag:""},{iso2:"MA",nameAr:"",nameEn:"Morocco",dialCode:"+212",flag:""},{iso2:"DZ",nameAr:"",nameEn:"Algeria",dialCode:"+213",flag:""},{iso2:"TN",nameAr:"",nameEn:"Tunisia",dialCode:"+216",flag:""},{iso2:"LY",nameAr:"",nameEn:"Libya",dialCode:"+218",flag:""},{iso2:"SD",nameAr:"",nameEn:"Sudan",dialCode:"+249",flag:""},{iso2:"SO",nameAr:"",nameEn:"Somalia",dialCode:"+252",flag:""},{iso2:"DJ",nameAr:"",nameEn:"Djibouti",dialCode:"+253",flag:""},{iso2:"KM",nameAr:" ",nameEn:"Comoros",dialCode:"+269",flag:""},{iso2:"MR",nameAr:"",nameEn:"Mauritania",dialCode:"+222",flag:""},{iso2:"YE",nameAr:"",nameEn:"Yemen",dialCode:"+967",flag:""},{iso2:"US",nameAr:" ",nameEn:"United States",dialCode:"+1",flag:""},{iso2:"CA",nameAr:"",nameEn:"Canada",dialCode:"+1",flag:""},{iso2:"GB",nameAr:" ",nameEn:"United Kingdom",dialCode:"+44",flag:""},{iso2:"FR",nameAr:"",nameEn:"France",dialCode:"+33",flag:""},{iso2:"DE",nameAr:"",nameEn:"Germany",dialCode:"+49",flag:""},{iso2:"IT",nameAr:"",nameEn:"Italy",dialCode:"+39",flag:""},{iso2:"ES",nameAr:"",nameEn:"Spain",dialCode:"+34",flag:""},{iso2:"JP",nameAr:"",nameEn:"Japan",dialCode:"+81",flag:""},{iso2:"KR",nameAr:" ",nameEn:"South Korea",dialCode:"+82",flag:""},{iso2:"CN",nameAr:"",nameEn:"China",dialCode:"+86",flag:""},{iso2:"IN",nameAr:"",nameEn:"India",dialCode:"+91",flag:""},{iso2:"PK",nameAr:"",nameEn:"Pakistan",dialCode:"+92",flag:""},{iso2:"BD",nameAr:"",nameEn:"Bangladesh",dialCode:"+880",flag:""},{iso2:"ID",nameAr:"",nameEn:"Indonesia",dialCode:"+62",flag:""},{iso2:"PH",nameAr:"",nameEn:"Philippines",dialCode:"+63",flag:""},{iso2:"MY",nameAr:"",nameEn:"Malaysia",dialCode:"+60",flag:""},{iso2:"SG",nameAr:"",nameEn:"Singapore",dialCode:"+65",flag:""},{iso2:"TH",nameAr:"",nameEn:"Thailand",dialCode:"+66",flag:""},{iso2:"VN",nameAr:"",nameEn:"Vietnam",dialCode:"+84",flag:""},{iso2:"IR",nameAr:"",nameEn:"Iran",dialCode:"+98",flag:""},{iso2:"TR",nameAr:"",nameEn:"Turkey",dialCode:"+90",flag:""},{iso2:"RU",nameAr:"",nameEn:"Russia",dialCode:"+7",flag:""},{iso2:"UA",nameAr:"",nameEn:"Ukraine",dialCode:"+380",flag:""},{iso2:"AU",nameAr:"",nameEn:"Australia",dialCode:"+61",flag:""},{iso2:"NZ",nameAr:"",nameEn:"New Zealand",dialCode:"+64",flag:""},{iso2:"BR",nameAr:"",nameEn:"Brazil",dialCode:"+55",flag:""},{iso2:"MX",nameAr:"",nameEn:"Mexico",dialCode:"+52",flag:""},{iso2:"AR",nameAr:"",nameEn:"Argentina",dialCode:"+54",flag:""},{iso2:"ZA",nameAr:" ",nameEn:"South Africa",dialCode:"+27",flag:""},{iso2:"NG",nameAr:"",nameEn:"Nigeria",dialCode:"+234",flag:""},{iso2:"KE",nameAr:"",nameEn:"Kenya",dialCode:"+254",flag:""},{iso2:"ET",nameAr:"",nameEn:"Ethiopia",dialCode:"+251",flag:""},{iso2:"IL",nameAr:"",nameEn:"Israel",dialCode:"+972",flag:""},{iso2:"SE",nameAr:"",nameEn:"Sweden",dialCode:"+46",flag:""},{iso2:"NO",nameAr:"",nameEn:"Norway",dialCode:"+47",flag:""},{iso2:"DK",nameAr:"",nameEn:"Denmark",dialCode:"+45",flag:""},{iso2:"FI",nameAr:"",nameEn:"Finland",dialCode:"+358",flag:""},{iso2:"NL",nameAr:"",nameEn:"Netherlands",dialCode:"+31",flag:""},{iso2:"BE",nameAr:"",nameEn:"Belgium",dialCode:"+32",flag:""},{iso2:"CH",nameAr:"",nameEn:"Switzerland",dialCode:"+41",flag:""},{iso2:"AT",nameAr:"",nameEn:"Austria",dialCode:"+43",flag:""},{iso2:"PT",nameAr:"",nameEn:"Portugal",dialCode:"+351",flag:""},{iso2:"GR",nameAr:"",nameEn:"Greece",dialCode:"+30",flag:""},{iso2:"PL",nameAr:"",nameEn:"Poland",dialCode:"+48",flag:""},{iso2:"CZ",nameAr:"",nameEn:"Czech Republic",dialCode:"+420",flag:""},{iso2:"HU",nameAr:"",nameEn:"Hungary",dialCode:"+36",flag:""}],p2e=()=>{const{t:e,i18n:t}=Ct(),{theme:a}=Uf(),r=a==="light",n=Ys(),[i,l]=y.useState(!1),[o,c]=y.useState(""),[d,u]=y.useState(""),[f,p]=y.useState(""),[m,v]=y.useState(""),[g,b]=y.useState(""),[j,N]=y.useState(""),[k,S]=y.useState(""),[C,_]=y.useState([{code:"+20",number:""}]),[P,L]=y.useState(""),[U,z]=y.useState(""),{stages:T,statuses:F}=kx(),[M,I]=y.useState(""),[W,R]=y.useState(""),[q,ae]=y.useState(""),[te,K]=y.useState("medium"),[oe,D]=y.useState(!1),[G,H]=y.useState([]),X=()=>{H(we=>[...we,{name:"",source:"",project:"",company:"",type:"",tags:"",expectedRevenue:"",mobileNumbers:[{code:C[0]?.code||"+20",number:""}],email:"",assignedTo:"",stage:"",status:"",priority:"medium",note:"",collapsed:!1}])},se=(we,$e,Be)=>{H(ft=>ft.map((Ke,Ue)=>Ue===we?{...Ke,[$e]:Be}:Ke))},ie=we=>{H($e=>$e.map((Be,ft)=>ft===we?{...Be,mobileNumbers:[...Be.mobileNumbers||[{code:"+20",number:""}],{code:Be.mobileNumbers?.[0]?.code||"+20",number:""}]}:Be))},ne=(we,$e,Be,ft)=>{H(Ke=>Ke.map((Ue,tt)=>{if(tt!==we)return Ue;const Je=(Ue.mobileNumbers||[{code:"+20",number:""}]).map((pt,kt)=>kt===$e?{...pt,[Be]:ft}:pt);return{...Ue,mobileNumbers:Je}}))},J=we=>{H($e=>$e.map((Be,ft)=>ft===we?{...Be,collapsed:!Be.collapsed}:Be))},le=we=>{H($e=>$e.filter((Be,ft)=>ft!==we))},pe=()=>{_(we=>[...we,{code:we[0]?.code||"+20",number:""}])},Q=(we,$e,Be)=>{_(ft=>ft.map((Ke,Ue)=>Ue===we?{...Ke,[$e]:Be}:Ke))},xe=r?"bg-white border-gray-200":"bg-blue-900/40 border-blue-800",he=r?"text-gray-700":"text-gray-200",ue=r?"bg-white border-gray-300 focus:ring-blue-500 focus:border-blue-500":"bg-gray-900/50 border-gray-700 text-white focus:ring-blue-400 focus:border-blue-400",Le=o.trim().length>0&&d.trim().length>0&&f.trim().length>0&&String(k).trim().length>0&&C.length>0&&C.every(we=>we.number.trim().length>0)&&P.trim().length>0&&M.trim().length>0&&W!==""&&q!=="",ze=we=>(we.name||"").trim().length>0&&(we.source||"").trim().length>0&&(we.project||"").trim().length>0&&String(we.expectedRevenue||"").trim().length>0&&Array.isArray(we.mobileNumbers)&&we.mobileNumbers.length>0&&we.mobileNumbers.every($e=>($e.number||"").trim().length>0)&&(we.email||"").trim().length>0&&(we.assignedTo||"").trim().length>0&&(we.stage||"")!==""&&(we.status||"")!=="",Ce=Le&&G.every(ze),ce=({value:we,onChange:$e})=>{const{t:Be,i18n:ft}=Ct();return ft.language,s.jsx("select",{value:we,onChange:Ke=>$e(Ke.target.value),className:`w-20 rounded-md border px-2 py-2 ${ue}`,children:m2e.map(Ke=>s.jsxs("option",{value:Ke.dialCode,children:[Ke.flag," ",Ke.dialCode]},Ke.iso2+Ke.dialCode))})},Ie=()=>{const we=o.trim(),$e=[];if(we||$e.push(t.language==="ar"?"":e("Name")),d.trim()||$e.push(t.language==="ar"?"":e("Source")),f.trim()||$e.push(t.language==="ar"?"":e("Project")),k.trim()||$e.push(t.language==="ar"?" ":e("Expected Revenue")),(!C.length||!C.every(Je=>Je.number.trim()))&&$e.push(t.language==="ar"?" ":e("Mobile")),P.trim()||$e.push(t.language==="ar"?" ":e("Email")),M.trim()||$e.push(t.language==="ar"?"":e("Sales")),W||$e.push(t.language==="ar"?"":e("Stage")),q||$e.push(t.language==="ar"?"":e("Status")),$e.length>0){alert(t.language==="ar"?`     (  ):
- ${$e.join(`
- `)}`:`Please fill all fields (except notes):
- ${$e.join(`
- `)}`);return}const Be=G.map((Je,pt)=>ze(Je)?null:pt+1).filter(Boolean);if(Be.length){alert(t.language==="ar"?`    : ${Be.join(", ")}
     (  ).`:`Some additional leads are incomplete: ${Be.join(", ")}
Please fill all required fields (except notes).`);return}const ft=new Date().toISOString(),Ke={id:Date.now(),name:we,email:P.trim()||"",phone:C.filter(Je=>Je.number.trim()).map(Je=>`${Je.code} ${Je.number}`).join(" / "),company:m.trim()||f.trim()||"",type:g||(m.trim()||f.trim()?"Company":"Individual"),tags:j.trim()||"",stage:W,status:q,priority:te,source:d,assignedTo:M.trim()||"",createdAt:ft,lastContact:ft,notes:U.trim()||"",estimatedValue:k,probability:0},Ue=G.map((Je,pt)=>({id:Date.now()+pt+1,name:(Je.name||"").trim(),email:(Je.email||"").trim(),phone:(Array.isArray(Je.mobileNumbers)?Je.mobileNumbers:[]).filter(kt=>(kt.number||"").trim()).map(kt=>`${kt.code} ${kt.number}`).join(" / "),company:(Je.company||Je.project||"").trim(),type:Je.type||(Je.company||Je.project?"Company":"Individual"),tags:(Je.tags||"").trim(),stage:Je.stage||"",status:Je.status||"",priority:Je.priority||"medium",source:Je.source||"",assignedTo:(Je.assignedTo||"").trim(),createdAt:ft,lastContact:ft,notes:(Je.note||"").trim(),estimatedValue:Je.expectedRevenue||"",probability:0})),tt=JSON.parse(localStorage.getItem("leadsData")||"[]"),ct=[Ke,...Ue,...tt];localStorage.setItem("leadsData",JSON.stringify(ct)),window.dispatchEvent(new Event("leadsDataUpdated")),alert(t.language==="ar"?"   ":e("Lead added successfully")),n("/leads")};return s.jsxs("div",{className:`app-layout ${t.language==="ar"?"rtl":"ltr"}`,children:[s.jsx($1,{isOpen:i,onClose:()=>l(!1)}),s.jsxs("div",{className:"content-container flex flex-col min-h-screen overflow-hidden",children:[s.jsx(U1,{onMobileToggle:()=>l(!i),mobileSidebarOpen:i}),s.jsxs("main",{className:"flex-1 min-h-0 p-6 pb-24 space-y-4 bg-[var(--content-bg)] text-[var(--content-text)] overflow-y-auto overflow-x-hidden",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:e("Add New Lead")}),s.jsxs("div",{className:`p-4 md:p-6 rounded-lg border ${xe}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:t.language==="ar"?" ":e("Primary Lead")}),s.jsx("button",{type:"button",onClick:()=>D(!oe),className:`p-2 rounded-md ${r?"bg-gray-100 text-gray-700":"bg-gray-800 text-gray-200"} hover:opacity-90`,"aria-label":t.language==="ar"?oe?"":"":e(oe?"Expand":"Collapse"),children:oe?s.jsx(LD,{className:"w-4 h-4"}):s.jsx(OD,{className:"w-4 h-4"})})]}),!oe&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Name")}),s.jsx("input",{type:"text",value:o,onChange:we=>c(we.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`,placeholder:e("Enter name")})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Source")}),s.jsxs("select",{value:d,onChange:we=>u(we.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`,children:[s.jsx("option",{value:"",children:e("Select")}),s.jsx("option",{value:"social-media",children:"Facebook"}),s.jsx("option",{value:"website",children:"Website"}),s.jsx("option",{value:"referral",children:"Referral"}),s.jsx("option",{value:"email-campaign",children:"Campaign"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Project")}),s.jsx("input",{type:"text",value:f,onChange:we=>p(we.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`,placeholder:e("Project name")})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Type")}),s.jsxs("select",{value:g,onChange:we=>b(we.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`,children:[s.jsx("option",{value:"",children:e("Select")}),s.jsx("option",{value:"Company",children:e("Company")}),s.jsx("option",{value:"Individual",children:e("Individual")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Company")}),s.jsx("input",{type:"text",value:m,onChange:we=>v(we.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`,placeholder:e("Company")})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Expected Revenue")}),s.jsx("input",{type:"number",value:k,onChange:we=>S(we.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`,placeholder:e("Amount")})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Stage")}),s.jsxs("select",{value:W,onChange:we=>R(we.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`,children:[s.jsx("option",{value:"",children:e("Select")}),T.map(we=>s.jsxs("option",{value:we.name,children:[we.icon," ",t.language==="ar"&&we.nameAr||we.name]},we.name))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Priority")}),s.jsxs("select",{value:te,onChange:we=>K(we.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`,children:[s.jsx("option",{value:"low",children:e("Low")}),s.jsx("option",{value:"medium",children:e("Medium")}),s.jsx("option",{value:"high",children:e("High")})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Mobile")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ce,{value:C[0]?.code,onChange:we=>Q(0,"code",we)}),s.jsx("input",{type:"tel",value:C[0]?.number,onChange:we=>Q(0,"number",we.target.value),className:`flex-1 rounded-md border px-3 py-2 ${ue}`,placeholder:e("Mobile number")}),s.jsx("button",{type:"button",onClick:pe,className:`inline-flex items-center justify-center px-3 py-2 rounded-md border ${r?"bg-blue-50 border-blue-300 text-blue-700 hover:bg-blue-100":"bg-gray-800 border-gray-700 text-blue-300 hover:bg-gray-700"}`,"aria-label":e("Add another number"),title:e("Add another number"),children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),C.slice(1).map((we,$e)=>s.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[s.jsx(ce,{value:we.code,onChange:Be=>Q($e+1,"code",Be)}),s.jsx("input",{type:"tel",value:we.number,onChange:Be=>Q($e+1,"number",Be.target.value),className:`flex-1 rounded-md border px-3 py-2 ${ue}`,placeholder:e("Another mobile number")})]},$e))]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Email")}),s.jsx("input",{type:"email",value:P,onChange:we=>L(we.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`,placeholder:e("Email address")})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Tags")}),s.jsx("input",{type:"text",value:j,onChange:we=>N(we.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`,placeholder:t.language==="ar"?"   ":"Comma-separated tags"})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Sales")}),s.jsx("input",{type:"text",value:M,onChange:we=>I(we.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`,placeholder:e("Assigned to")})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Status")}),s.jsxs("select",{value:q,onChange:we=>ae(we.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`,children:[s.jsx("option",{value:"",children:e("Select")}),F.map(we=>s.jsxs("option",{value:we.name,children:[we.icon," ",t.language==="ar"&&we.nameAr||we.name]},we.name))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Last Comment")}),s.jsx("textarea",{rows:4,value:U,onChange:we=>z(we.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`,placeholder:e("Write notes here")})]})]})]}),s.jsx("div",{className:"mt-6",children:G.map((we,$e)=>s.jsxs("div",{className:`mt-3 rounded-lg border p-4 ${xe}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-medium",children:we.name?.trim()?we.name:t.language==="ar"?` #${$e+1}`:`Lead #${$e+1}`}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>J($e),className:`p-2 rounded-md ${r?"bg-gray-100 text-gray-700":"bg-gray-800 text-gray-200"} hover:opacity-90`,"aria-label":t.language==="ar"?we.collapsed?"":"":we.collapsed?e("Expand"):e("Collapse"),title:t.language==="ar"?we.collapsed?"":"":we.collapsed?e("Expand"):e("Collapse"),children:we.collapsed?s.jsx(LD,{className:"w-4 h-4"}):s.jsx(OD,{className:"w-4 h-4"})}),s.jsx("button",{type:"button",onClick:()=>le($e),className:"px-3 py-1 rounded-md bg-red-600 text-white hover:bg-red-700",children:t.language==="ar"?"":e("Delete")})]})]}),!we.collapsed&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Name")}),s.jsx("input",{type:"text",value:we.name,onChange:Be=>se($e,"name",Be.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Source")}),s.jsxs("select",{value:we.source,onChange:Be=>se($e,"source",Be.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`,children:[s.jsx("option",{value:"",children:e("Select")}),s.jsx("option",{value:"social-media",children:"Facebook"}),s.jsx("option",{value:"website",children:"Website"}),s.jsx("option",{value:"referral",children:"Referral"}),s.jsx("option",{value:"email-campaign",children:"Campaign"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Project")}),s.jsx("input",{type:"text",value:we.project,onChange:Be=>se($e,"project",Be.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Type")}),s.jsxs("select",{value:we.type||"",onChange:Be=>se($e,"type",Be.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`,children:[s.jsx("option",{value:"",children:e("Select")}),s.jsx("option",{value:"Company",children:e("Company")}),s.jsx("option",{value:"Individual",children:e("Individual")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Company")}),s.jsx("input",{type:"text",value:we.company||"",onChange:Be=>se($e,"company",Be.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Expected Revenue")}),s.jsx("input",{type:"number",value:we.expectedRevenue,onChange:Be=>se($e,"expectedRevenue",Be.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Mobile")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ce,{value:we.mobileNumbers?.[0]?.code||"+20",onChange:Be=>ne($e,0,"code",Be)}),s.jsx("input",{type:"tel",value:we.mobileNumbers?.[0]?.number||"",onChange:Be=>ne($e,0,"number",Be.target.value),className:`flex-1 rounded-md border px-3 py-2 ${ue}`}),s.jsx("button",{type:"button",onClick:()=>ie($e),className:`inline-flex items-center justify-center px-3 py-2 rounded-md border ${r?"bg-blue-50 border-blue-300 text-blue-700 hover:bg-blue-100":"bg-gray-800 border-gray-700 text-blue-300 hover:bg-gray-700"}`,"aria-label":e("Add another number"),title:e("Add another number"),children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),(we.mobileNumbers||[]).slice(1).map((Be,ft)=>s.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[s.jsx(ce,{value:Be.code,onChange:Ke=>ne($e,ft+1,"code",Ke)}),s.jsx("input",{type:"tel",value:Be.number,onChange:Ke=>ne($e,ft+1,"number",Ke.target.value),className:`flex-1 rounded-md border px-3 py-2 ${ue}`})]},ft))]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Email")}),s.jsx("input",{type:"email",value:we.email,onChange:Be=>se($e,"email",Be.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Tags")}),s.jsx("input",{type:"text",value:we.tags||"",onChange:Be=>se($e,"tags",Be.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Sales")}),s.jsx("input",{type:"text",value:we.assignedTo,onChange:Be=>se($e,"assignedTo",Be.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Stage")}),s.jsxs("select",{value:we.stage,onChange:Be=>se($e,"stage",Be.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`,children:[s.jsx("option",{value:"",children:e("Select")}),T.map(Be=>s.jsxs("option",{value:Be.name,children:[Be.icon," ",t.language==="ar"&&Be.nameAr||Be.name]},Be.name))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Priority")}),s.jsxs("select",{value:we.priority,onChange:Be=>se($e,"priority",Be.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`,children:[s.jsx("option",{value:"low",children:e("Low")}),s.jsx("option",{value:"medium",children:e("Medium")}),s.jsx("option",{value:"high",children:e("High")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Status")}),s.jsxs("select",{value:we.status,onChange:Be=>se($e,"status",Be.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`,children:[s.jsx("option",{value:"",children:e("Select")}),F.map(Be=>s.jsxs("option",{value:Be.name,children:[Be.icon," ",t.language==="ar"&&Be.nameAr||Be.name]},Be.name))]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:`block text-sm font-medium mb-1 ${he}`,children:e("Last Comment")}),s.jsx("textarea",{rows:3,value:we.note,onChange:Be=>se($e,"note",Be.target.value),className:`w-full rounded-md border px-3 py-2 ${ue}`})]})]})]},$e))})]})]}),s.jsx("div",{className:`sticky bottom-0 left-0 right-0 z-50 border-t-2 ${r?"bg-white border-gray-300 shadow-2xl":"bg-gray-900 border-gray-600 shadow-2xl"} backdrop-blur-md mt-6`,children:s.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:`text-lg font-bold ${r?"text-purple-700":"text-cyan-300"}`,children:t.language==="ar"?" ":e("Additional Leads")}),s.jsx("button",{type:"button",onClick:X,className:`inline-flex items-center justify-center p-2 rounded-md border-2 transition-all duration-200 ${r?"bg-blue-50 border-blue-400 text-blue-700 hover:bg-blue-100 hover:border-blue-500":"bg-gray-800 border-gray-600 text-blue-300 hover:bg-gray-700 hover:border-gray-500"} hover:opacity-95 hover:shadow-lg active:scale-95`,"aria-label":t.language==="ar"?" ":e("Add Lead"),title:t.language==="ar"?" ":e("Add Lead"),children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),s.jsx("div",{className:"inline-flex w-fit",children:s.jsx("button",{type:"button",onClick:Ie,disabled:!Ce,className:`inline-flex items-center gap-2 px-6 py-2 rounded-md font-bold transition-all duration-150 ease-out transform disabled:opacity-50 disabled:cursor-not-allowed disabled:pointer-events-none hover:opacity-95 hover:-translate-y-0.5 active:scale-95 focus:outline-none focus:ring-2 focus:ring-emerald-500/60 shadow-lg hover:shadow-xl ${r?"bg-green-600 hover:bg-green-700 active:bg-green-800 text-white border-2 border-green-500":"bg-emerald-700 hover:bg-emerald-800 active:bg-emerald-900 text-white border-2 border-emerald-600"}`,children:t.language==="ar"?" ":e("Confirm Add")})})]})})]})]})};function x2e(){const{i18n:e}=Ct(),t=e.language==="ar",[a,r]=y.useState(""),[n,i]=y.useState(!1),[l,o]=y.useState(!1),[c,d]=y.useState(!1),[u,f]=y.useState(null),[p,m]=y.useState(null),[v,g]=y.useState([]),[b,j]=y.useState([]),[N,k]=y.useState(["Planning","Active","Sales","Completed"]),[S,C]=y.useState([]),[_,P]=y.useState([]),[L,U]=y.useState([0,500]),[z,T]=y.useState([0,10]),[F,M]=y.useState(1),[I,W]=y.useState(6),R=y.useMemo(()=>[{name:"Crown Medical Park",city:"Elshiekh Zayed",units:0,developer:"Crown",status:"Planning",phases:2,docs:12,lastUpdated:"2025-10-12",image:"https://images.unsplash.com/photo-1600585154526-990dced4db0f?q=80&w=1200&auto=format&fit=crop",logo:null,description:"Premium medical complex with modern facilities.",completion:25,revenue:0},{name:"Crown Medical Center",city:"Elshiekh Zayed",units:0,developer:"Crown",status:"Active",phases:4,docs:34,lastUpdated:"2025-10-11",image:"https://images.unsplash.com/photo-1509395176047-4a66953fd231?q=80&w=1200&auto=format&fit=crop",logo:"https://dummyimage.com/120x60/ffffff/2b2b2b&text=CROWN",description:"A medical facility located in the heart of Sheikh Zayed.",completion:60,revenue:12e4},{name:"Sunset Residences",city:"New Cairo",units:24,developer:"Sunrise Dev",status:"Sales",phases:3,docs:19,lastUpdated:"2025-09-30",image:"https://images.unsplash.com/photo-1560518883-ce09059eeffa?q=80&w=1200&auto=format&fit=crop",logo:null,description:"Residential compound with landscaped gardens and pools.",completion:80,revenue:45e4}],[]),q=y.useMemo(()=>Array.from(new Set(R.map(X=>X.city))),[R]),ae=y.useMemo(()=>Array.from(new Set(R.map(X=>X.developer))),[R]),te=["Planning","Active","Sales","Completed"],K=y.useMemo(()=>{const X=a.trim().toLowerCase();return R.filter(se=>{const ie=!X||[se.name,se.city,se.developer,se.description].some(xe=>(xe||"").toLowerCase().includes(X)),ne=N.includes(se.status),J=S.length===0||S.includes(se.city),le=_.length===0||_.includes(se.developer),pe=(se.units||0)>=L[0]&&(se.units||0)<=L[1],Q=(se.phases||0)>=z[0]&&(se.phases||0)<=z[1];return ie&&ne&&J&&le&&pe&&Q})},[R,a,N,S,_,L,z]),oe=y.useMemo(()=>{const X=(F-1)*I;return K.slice(X,X+I)},[K,F,I]),D=(X,se)=>{const ie=Date.now();g(ne=>[...ne,{id:ie,type:X,message:se}]),setTimeout(()=>g(ne=>ne.filter(J=>J.id!==ie)),3e3)},G=()=>{r(""),k(["Planning","Active","Sales","Completed"]),C([]),P([]),U([0,500]),T([0,10]),M(1)},H={title:t?" > ":"Inventory > Projects",search:t?"":"Search",filter:t?"":"Filter",importProjects:t?" ":"Import Projects",createProject:t?" ":"Create Project",location:t?"":"Location",units:t?"":"Units",share:t?"":"Share",more:t?"":"More",developer:t?"":"Developer",status:t?"":"Status",city:t?"":"City",phases:t?"":"Phases",clearFilters:t?" ":"Clear Filters",exportExcel:t?" ":"Export Excel",exportPdf:t?" PDF":"Export PDF"};return s.jsx(Ht,{children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative w-72",children:[s.jsx(ax,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),s.jsx("input",{value:a,onChange:X=>r(X.target.value),placeholder:H.search,className:"input w-full pl-9"})]}),s.jsx("button",{className:"btn btn-glass",onClick:()=>i(X=>!X),children:s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx(ew,{})," ",H.filter]})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{className:"px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600",onClick:()=>o(!0),children:H.importProjects}),s.jsxs("button",{className:"px-4 py-2 rounded-lg bg-primary text-white hover:brightness-110 inline-flex items-center gap-2",onClick:()=>d(!0),children:[s.jsx($u,{})," ",H.createProject]}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700",onClick:()=>w2e(K),children:H.exportExcel}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700",onClick:()=>j2e(K),children:H.exportPdf})]})]}),n&&s.jsxs("div",{className:`mt-3 p-3 rounded-lg border border-gray-200 dark:border-gray-700 text-sm ${t?"text-right":"text-left"}`,children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[H.status,":"]}),te.map(X=>s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:N.includes(X),onChange:se=>{k(ie=>se.target.checked?[...ie,X]:ie.filter(ne=>ne!==X))}}),s.jsx("span",{children:X})]},X))]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[H.city,":"]}),q.map(X=>s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:S.includes(X),onChange:se=>{C(ie=>se.target.checked?[...ie,X]:ie.filter(ne=>ne!==X))}}),s.jsx("span",{children:X})]},X))]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[H.developer,":"]}),ae.map(X=>s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:_.includes(X),onChange:se=>{P(ie=>se.target.checked?[...ie,X]:ie.filter(ne=>ne!==X))}}),s.jsx("span",{children:X})]},X))]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:H.units}),s.jsxs("span",{className:"text-xs",children:[L[0]," - ",L[1]]})]}),s.jsx("input",{type:"range",min:"0",max:"500",value:L[0],onChange:X=>U([Number(X.target.value),L[1]])}),s.jsx("input",{type:"range",min:"0",max:"500",value:L[1],onChange:X=>U([L[0],Number(X.target.value)])})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:H.phases}),s.jsxs("span",{className:"text-xs",children:[z[0]," - ",z[1]]})]}),s.jsx("input",{type:"range",min:"0",max:"10",value:z[0],onChange:X=>T([Number(X.target.value),z[1]])}),s.jsx("input",{type:"range",min:"0",max:"10",value:z[1],onChange:X=>T([z[0],Number(X.target.value)])})]})]}),s.jsx("div",{className:`mt-3 flex items-center ${t?"justify-start":"justify-end"}`,children:s.jsx("button",{className:"btn btn-glass",onClick:G,children:H.clearFilters})})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx(y2e,{projects:K,isRTL:t,onFilterStatus:X=>{k([X]),M(1)},onFilterCity:X=>{C([X]),M(1)}})}),s.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[oe.map((X,se)=>s.jsx("div",{className:"glass-panel rounded-xl overflow-hidden",children:s.jsx(b2e,{p:X,isRTL:t,Label:H,onView:ie=>f(ie),onEdit:ie=>{m(ie),d(!0)}})},se)),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"btn btn-glass",disabled:F===1,onClick:()=>M(X=>Math.max(1,X-1)),children:t?"":"Prev"}),s.jsxs("span",{className:"text-sm text-[var(--muted-text)]",children:[t?"":"Page"," ",F]}),s.jsx("button",{className:"btn btn-glass",disabled:F*I>=K.length,onClick:()=>M(X=>X+1),children:t?"":"Next"}),s.jsx("select",{className:"input",value:I,onChange:X=>{W(Number(X.target.value)),M(1)},children:[6,9,12].map(X=>s.jsxs("option",{value:X,children:[X,"/page"]},X))})]})]}),l&&s.jsx(g2e,{onClose:()=>o(!1),isRTL:t,addToast:D,addLog:X=>j(se=>[X,...se])}),c&&s.jsx(v2e,{onClose:()=>{d(!1),m(null)},isRTL:t,mode:p?"edit":"create",initialValues:p?{name:p.name||"",developer:p.developer||""}:void 0}),u&&s.jsx(N2e,{p:u,isRTL:t,onClose:()=>f(null)}),s.jsx("div",{className:"fixed z-50 top-20 right-4 flex flex-col gap-2",children:v.map(X=>s.jsx("div",{className:`px-4 py-2 rounded-lg shadow-lg ${X.type==="success"?"bg-emerald-600 text-white":X.type==="error"?"bg-rose-600 text-white":"bg-gray-800 text-white"}`,children:X.message},X.id))})]})})}function g2e({onClose:e,isRTL:t,addToast:a,addLog:r}){const[n,i]=y.useState([]),[l,o]=y.useState([]),c=(f="csv")=>{const p=["Project","City","Developer","Units","Phases","Status","Docs","LastUpdated","Image","Logo","Description"],m=["Sample Project","New Cairo","Sample Dev","12","3","Planning","5","2025-10-10","https://picsum.photos/1200/800","","Sample description"];if(f==="csv"){const v=p.join(",")+`
`+m.join(",")+`
`,g=new Blob([v],{type:"text/csv;charset=utf-8;"}),b=URL.createObjectURL(g),j=document.createElement("a");j.href=b,j.download="projects_template.csv",document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(b)}else{const v=ea.aoa_to_sheet([p,m]),g=ea.book_new();ea.book_append_sheet(g,v,"Template"),Nr(g,"projects_template.xlsx")}},d=async f=>{const p=Array.from(f.target.files||[]);if(i(p),p[0])try{const m=await p[0].arrayBuffer(),v=gm(m,{type:"array"}),g=v.SheetNames[0],b=v.Sheets[g],j=ea.sheet_to_json(b,{defval:""});o(j.slice(0,50))}catch{a("error",t?"  ":"Failed to read file")}},u=()=>{if(!n.length){a("error",t?"  ":"Select files first");return}n.forEach(f=>r({fileName:f.name,user:"Current User",timestamp:new Date().toISOString(),status:"Success"})),a("success",t?"  ":"Import successful"),e()};return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:e}),s.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[900px] max-w-[95vw]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:t?" ":"Import Projects"}),s.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Close"})]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("p",{className:"text-[var(--muted-text)]",children:t?"  CSV/XLSX  .":"Upload CSV/XLSX files, a preview will show."}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"file",accept:".csv,.xlsx",multiple:!0,onChange:d}),s.jsx("button",{className:"btn btn-glass",onClick:()=>c("csv"),children:t?"  CSV":"Download CSV Template"}),s.jsx("button",{className:"btn btn-glass",onClick:()=>c("xlsx"),children:t?"  XLSX":"Download XLSX Template"})]}),s.jsx("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 overflow-auto max-h-[300px]",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsx("tr",{className:"bg-gray-50 dark:bg-gray-800/50",children:l[0]&&Object.keys(l[0]).map(f=>s.jsx("th",{className:"px-2 py-1 text-left",children:f},f))})}),s.jsxs("tbody",{children:[l.map((f,p)=>s.jsx("tr",{className:"border-t border-gray-100 dark:border-gray-800",children:Object.values(f).map((m,v)=>s.jsx("td",{className:"px-2 py-1",children:String(m)},v))},p)),l.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"px-2 py-3 text-center text-[var(--muted-text)]",children:t?"  ":"No preview"})})]})]})}),s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:u,children:t?"":"Import"})]})]})]})]})}function v2e({onClose:e,isRTL:t,mode:a="create",initialValues:r}){const[n,i]=y.useState(t?"ar":"en"),[l,o]=y.useState("basic"),[c,d]=y.useState({name:r?.name||"",developer:r?.developer||"",category:"",unitPrefix:"",indirectName:"",indirectPhone:"",address:"",minPrice:"",maxPrice:"",minSpace:"",maxSpace:"",driveUrl:"",logoFile:null,mainImageFile:null}),u=p=>m=>d(v=>({...v,[p]:m.target.value})),f=[{id:"basic",label:t?" ":"Basic Info"},{id:"more",label:t?"":"More Info"},{id:"gallery",label:t?"":"Gallery"},{id:"layout",label:t?"":"Layout"},{id:"master",label:t?" ":"Master Plan"},{id:"pdf",label:"PDF"},{id:"3d",label:"3D"},{id:"video",label:t?"":"Video"},{id:"map",label:t?"":"Map"}];return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:e}),s.jsxs("div",{className:"relative z-50 bg-white dark:bg-gray-900 w-full h-screen sm:w-[1100px] sm:max-w-[95vw] sm:max-h-[90vh] sm:h-auto sm:rounded-2xl border border-gray-200 dark:border-gray-700 shadow-2xl overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("h2",{className:"text-xl font-bold",children:a==="edit"?t?" ":"Edit Project":t?" ":"Create Project"})}),s.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",title:t?"":"Close",children:s.jsx(tu,{})})]}),s.jsx("div",{className:"px-4 pt-4",children:s.jsx("div",{className:`flex items-center gap-4 ${t?"flex-row-reverse":""} overflow-x-auto`,children:f.map(p=>s.jsx("button",{onClick:()=>o(p.id),className:`px-3 py-2 text-sm rounded-lg border ${l===p.id?"bg-primary text-white border-primary":"border-gray-200 dark:border-gray-700 text-[var(--content-text)]"}`,children:p.label},p.id))})}),s.jsxs("div",{className:"p-4 space-y-4",children:[l==="basic"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>i("en"),className:`px-4 py-2 rounded-lg ${n==="en"?"bg-gray-200 dark:bg-gray-800":"bg-transparent border border-gray-200 dark:border-gray-700"}`,children:"English"}),s.jsx("button",{onClick:()=>i("ar"),className:`px-4 py-2 rounded-lg ${n==="ar"?"bg-gray-200 dark:bg-gray-800":"bg-transparent border border-gray-200 dark:border-gray-700"}`,children:t?" ":"Arabic"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?" ":"Upload Logo"}),s.jsx("input",{type:"file",accept:"image/*",onChange:p=>d(m=>({...m,logoFile:p.target.files?.[0]||null}))}),c.logoFile&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:URL.createObjectURL(c.logoFile),alt:"logo preview",className:"h-16 w-auto object-contain rounded-md border"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"  ":"Upload Main Image"}),s.jsx("input",{type:"file",accept:"image/*",onChange:p=>d(m=>({...m,mainImageFile:p.target.files?.[0]||null}))}),c.mainImageFile&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:URL.createObjectURL(c.mainImageFile),alt:"main preview",className:"h-28 w-full object-cover rounded-md border"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?" ":"Project Name"}),s.jsx("input",{className:"input w-full",value:c.name,onChange:u("name"),placeholder:t?" ":"Project Name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"":"Developer"}),s.jsx("input",{className:"input w-full",value:c.developer,onChange:u("developer"),placeholder:t?"":"Developer"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"":"Category"}),s.jsx("input",{className:"input w-full",value:c.category,onChange:u("category"),placeholder:t?"":"Category"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"  ":"Unit Code Prefix"}),s.jsx("input",{className:"input w-full",value:c.unitPrefix,onChange:u("unitPrefix"),placeholder:t?"  ":"Unit Code Prefix"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"   ":"Indirect Sales Name"}),s.jsx("input",{className:"input w-full",value:c.indirectName,onChange:u("indirectName"),placeholder:t?"   ":"Indirect Sales Name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"   ":"Indirect Sales Phone"}),s.jsx("input",{className:"input w-full",value:c.indirectPhone,onChange:u("indirectPhone"),placeholder:t?"   ":"Indirect Sales Phone"})]})]}),s.jsxs("div",{className:`flex items-center justify-end gap-3 ${t?"flex-row-reverse":""}`,children:[s.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:e,children:a==="edit"?t?"":"Update":t?"":"Save"})]})]}),l==="more"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:t?" ":"More Info"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"":"Address"}),s.jsx("input",{className:"input w-full",value:c.address,onChange:u("address"),placeholder:t?"":"Address"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"  ":"Min Price"}),s.jsx("input",{type:"number",className:"input w-full",value:c.minPrice,onChange:u("minPrice"),placeholder:t?" ":"Min Price"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?"  ":"Max Price"}),s.jsx("input",{type:"number",className:"input w-full",value:c.maxPrice,onChange:u("maxPrice"),placeholder:t?" ":"Max Price"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?" ":"Min Space"}),s.jsx("input",{type:"number",className:"input w-full",value:c.minSpace,onChange:u("minSpace"),placeholder:t?" ":"Min Space"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:t?" ":"Max Space"}),s.jsx("input",{type:"number",className:"input w-full",value:c.maxSpace,onChange:u("maxSpace"),placeholder:t?" ":"Max Space"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-[var(--muted-text)] mb-1",children:"Drive URL"}),s.jsx("input",{className:"input w-full",value:c.driveUrl,onChange:u("driveUrl"),placeholder:"Drive URL"})]}),s.jsxs("div",{className:`flex items-center justify-end gap-3 ${t?"flex-row-reverse":""}`,children:[s.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:e,children:t?"":"Save"})]})]})]})]})]})}function b2e({p:e,isRTL:t,Label:a,onView:r,onEdit:n}){return s.jsxs("div",{className:"p-3",children:[s.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""}`,children:[s.jsxs("div",{className:`flex items-center ${t?"flex-row-reverse":""} gap-3`,children:[e.image&&s.jsx("img",{src:e.image,alt:e.name,className:"h-16 w-28 md:h-20 md:w-32 object-cover rounded-lg"}),e.logo&&s.jsx("img",{src:e.logo,alt:`${e.name} logo`,className:"h-7 w-auto"}),s.jsx("h3",{className:"text-base font-semibold",children:e.name}),s.jsx("span",{className:"inline-flex px-2 py-1 text-xs rounded-md bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-300",children:e.status})]}),s.jsxs("div",{className:`flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[s.jsxs("button",{className:"btn btn-glass text-xs inline-flex items-center gap-2",onClick:()=>r&&r(e),children:[s.jsx(od,{})," ",t?"":"View"]}),s.jsxs("button",{className:"btn btn-glass text-xs inline-flex items-center gap-2",onClick:()=>n&&n(e),children:[s.jsx(vf,{})," ",t?"":"Edit"]}),s.jsxs("button",{className:"btn btn-glass text-xs inline-flex items-center gap-2",children:[s.jsx(sx,{})," ",t?"":"Delete"]})]})]}),s.jsxs("div",{className:`mt-2 grid grid-cols-2 md:grid-cols-6 gap-2 text-sm ${t?"text-right":"text-left"}`,children:[s.jsxs("div",{className:"px-2 py-1 rounded-md bg-gray-50 dark:bg-gray-800/40 flex items-center gap-2",children:[s.jsx(RU,{className:"opacity-70"})," ",e.city]}),s.jsxs("div",{className:"px-2 py-1 rounded-md bg-gray-50 dark:bg-gray-800/40 flex items-center gap-2",children:[s.jsx(LU,{className:"opacity-70"})," ",e.developer]}),s.jsxs("div",{className:"px-2 py-1 rounded-md bg-gray-50 dark:bg-gray-800/40",children:[a.units,": ",s.jsx("span",{className:"font-semibold",children:e.units})]}),s.jsxs("div",{className:"px-2 py-1 rounded-md bg-gray-50 dark:bg-gray-800/40",children:[t?"":"Phases",": ",s.jsx("span",{className:"font-semibold",children:e.phases})]}),s.jsxs("div",{className:"px-2 py-1 rounded-md bg-gray-50 dark:bg-gray-800/40",children:[t?"":"Docs",": ",s.jsx("span",{className:"font-semibold",children:e.docs})]}),s.jsxs("div",{className:"px-2 py-1 rounded-md bg-gray-50 dark:bg-gray-800/40",children:[t?" ":"Updated",": ",s.jsx("span",{className:"font-semibold",children:e.lastUpdated})]})]}),s.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)] mb-1",children:t?" ":"Completion"}),s.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary",style:{width:`${e.completion||0}%`}})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)] mb-1",children:t?" ":"Revenue Estimate"}),s.jsx("div",{className:"text-sm font-semibold",children:e.revenue?new Intl.NumberFormat("en-EG",{style:"currency",currency:"EGP",maximumFractionDigits:0}).format(e.revenue):t?" ":"N/A"})]})]}),s.jsx("div",{className:`mt-2 flex items-center ${t?"justify-start":"justify-end"}`,children:s.jsxs("button",{className:"inline-flex items-center gap-2 text-primary hover:underline",title:a.share,children:[s.jsx(FU,{})," ",a.share]})})]})}function y2e({projects:e,isRTL:t,onFilterStatus:a,onFilterCity:r}){const n=e.reduce((c,d)=>c+(d.units||0),0),i=Array.from(new Set(e.map(c=>c.city))),l=e.filter(c=>(c.status||"").toLowerCase()==="active"||(c.status||"").toLowerCase()==="sales").length,o=["Planning","Active","Sales","Completed"].map(c=>({s:c,count:e.filter(d=>d.status===c).length}));return s.jsxs("div",{className:"glass-panel rounded-xl p-3",children:[s.jsx("h3",{className:"text-sm font-semibold",children:t?" ":"Projects Summary"}),s.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-2 text-sm",children:[s.jsxs("button",{className:"p-3 rounded-lg bg-gray-50 dark:bg-gray-800/40 text-left",onClick:()=>a&&a("All"),children:[s.jsx("div",{className:"text-[var(--muted-text)]",children:t?" ":"Projects"}),s.jsx("div",{className:"text-xl font-bold",children:e.length})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-gray-50 dark:bg-gray-800/40",children:[s.jsx("div",{className:"text-[var(--muted-text)]",children:t?" ":"Total Units"}),s.jsx("div",{className:"text-xl font-bold",children:n})]}),s.jsxs("button",{className:"p-3 rounded-lg bg-gray-50 dark:bg-gray-800/40 text-left",onClick:()=>a&&a("Active"),children:[s.jsx("div",{className:"text-[var(--muted-text)]",children:t?"":"Active"}),s.jsx("div",{className:"text-xl font-bold",children:l})]})]}),s.jsx("div",{className:"mt-2 text-sm text-[var(--muted-text)]",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs("span",{children:[t?"":"Cities",":"]}),i.map(c=>s.jsx("button",{className:"px-2 py-0.5 text-xs rounded-md bg-gray-100 dark:bg-gray-800",onClick:()=>r&&r(c),children:c},c))]})}),s.jsx("div",{className:"mt-3 h-28",children:s.jsx(Ir,{data:{labels:o.map(c=>c.s),datasets:[{label:t?" ":"By Status",data:o.map(c=>c.count),backgroundColor:"rgba(59,130,246,0.6)",borderRadius:6}]},options:{plugins:{legend:{display:!1}},responsive:!0,maintainAspectRatio:!1,scales:{y:{ticks:{callback:c=>`${c}`}}}}})})]})}function w2e(e){const t=e.map(n=>({Name:n.name,City:n.city,Developer:n.developer,Status:n.status,Units:n.units,Phases:n.phases,Docs:n.docs,LastUpdated:n.lastUpdated,Revenue:n.revenue||0,Completion:(n.completion||0)+"%"})),a=ea.json_to_sheet(t),r=ea.book_new();ea.book_append_sheet(r,a,"Projects"),Nr(r,"projects_export.xlsx")}async function j2e(e){try{const t=(await bi(async()=>{const{default:l}=await Promise.resolve().then(()=>Mw);return{default:l}},[])).default,a=await bi(()=>Promise.resolve().then(()=>Rw),void 0),r=new t,n=[["Name","City","Developer","Status","Units","Phases","Docs","Updated"]],i=e.map(l=>[l.name,l.city,l.developer,l.status,String(l.units),String(l.phases),String(l.docs),l.lastUpdated]);a.default(r,{head:n,body:i}),r.save("projects_export.pdf")}catch(t){console.error(t),alert("Failed to export PDF")}}function N2e({p:e,isRTL:t,onClose:a}){return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:a}),s.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[900px] max-w-[95vw]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:t?" ":"Project Details"}),s.jsx("button",{className:"btn btn-glass",onClick:a,children:t?"":"Close"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Name",":"]})," ",s.jsx("span",{className:"font-semibold",children:e.name})]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Status",":"]})," ",s.jsx("span",{className:"font-semibold",children:e.status})]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"City",":"]})," ",s.jsx("span",{className:"font-semibold",children:e.city})]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Developer",":"]})," ",s.jsx("span",{className:"font-semibold",children:e.developer})]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Units",":"]})," ",s.jsx("span",{className:"font-semibold",children:e.units})]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Phases",":"]})," ",s.jsx("span",{className:"font-semibold",children:e.phases})]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Docs",":"]})," ",s.jsx("span",{className:"font-semibold",children:e.docs})]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?" ":"Updated",":"]})," ",s.jsx("span",{className:"font-semibold",children:e.lastUpdated})]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t?"":"Description",":"]})," ",s.jsx("span",{className:"font-medium",children:e.description})]})]}),s.jsx("div",{className:"rounded-lg overflow-hidden h-48 md:h-full",children:s.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"})})]})]})]})}function k2e({p:e,isRTL:t,onView:a,onEdit:r,onShare:n,onDelete:i}){return s.jsxs("div",{className:"glass-panel rounded-xl overflow-hidden",children:[s.jsxs("div",{className:"relative h-40 sm:h-48 md:h-56 w-full",children:[s.jsx("img",{src:e.mainImage,alt:e.name,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),s.jsxs("div",{className:`absolute bottom-2 left-2 right-2 flex ${t?"flex-row-reverse":""} items-center justify-between`,children:[s.jsxs("div",{className:`flex items-center gap-3 ${t?"flex-row-reverse":""}`,children:[e.logo&&s.jsx("img",{src:e.logo,alt:"logo",className:"w-10 h-10 rounded-md border border-white/30"}),s.jsxs("div",{className:"text-white",children:[s.jsx("div",{className:"text-lg font-semibold drop-shadow",children:e.name}),s.jsxs("div",{className:"text-xs opacity-90",children:[e.city,"  ",e.developer]})]})]}),s.jsx("div",{className:`flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:s.jsx("span",{className:"px-2 py-1 rounded-md text-xs bg-white/20 text-white border border-white/30",children:e.status})})]})]}),s.jsxs("div",{className:"p-3 sm:p-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:"Units:"})," ",s.jsx("span",{className:"font-semibold",children:e.units})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:"Area:"})," ",s.jsxs("span",{className:"font-semibold",children:[e.area," sqm"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:"Price:"})," ",s.jsxs("span",{className:"font-semibold",children:["EGP ",e.price.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:"Docs:"})," ",s.jsx("span",{className:"font-semibold",children:e.documents})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:"Updated:"})," ",s.jsx("span",{className:"font-semibold",children:e.lastUpdated})]}),e.estimatedRevenue!=null&&s.jsxs("div",{children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:"Est. Revenue:"})," ",s.jsxs("span",{className:"font-semibold",children:["EGP ",e.estimatedRevenue.toLocaleString()]})]})]}),e.description&&s.jsx("div",{className:"mt-3 text-sm text-[var(--muted-text)] line-clamp-2",children:e.description}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-emerald-600",style:{width:`${e.progress||0}%`}})}),s.jsxs("div",{className:"mt-1 text-xs text-[var(--muted-text)]",children:[e.progress||0,"% ",t?" ":"Progress"]})]}),s.jsxs("div",{className:`mt-4 flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[s.jsxs("button",{className:"btn btn-glass text-xs inline-flex items-center gap-2",onClick:()=>a&&a(e),children:[s.jsx(od,{})," ",t?"":"View"]}),s.jsxs("button",{className:"btn btn-glass text-xs inline-flex items-center gap-2",onClick:()=>r&&r(e),children:[s.jsx(vf,{})," ",t?"":"Edit"]}),s.jsxs("button",{className:"btn btn-glass text-xs inline-flex items-center gap-2",onClick:()=>n&&n(e),children:[s.jsx(FU,{})," ",t?"":"Share"]}),s.jsxs("button",{className:"btn btn-glass text-xs inline-flex items-center gap-2",onClick:()=>i&&i(e),children:[s.jsx(sx,{})," ",t?"":"Delete"]})]})]})]})}function S2e({stats:e,isRTL:t,onFilter:a}){const r=({label:n,value:i,filter:l})=>s.jsxs("button",{className:"glass-panel rounded-xl p-4 w-full text-left hover:shadow-md transition",onClick:()=>l&&a(l),children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:n}),s.jsx("div",{className:"text-2xl font-semibold text-indigo-600",children:i})]});return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[s.jsx(r,{label:t?" ":"Total Properties",value:e.total,filter:{type:"all"}}),s.jsx(r,{label:t?" ":"Total Units",value:e.totalUnits}),s.jsx(r,{label:t?"":"Sold",value:e.sold,filter:{type:"status",value:"Sold"}}),s.jsx(r,{label:t?"":"Available",value:e.available,filter:{type:"status",value:"Available"}}),s.jsx(r,{label:t?"":"Reserved",value:e.reserved,filter:{type:"status",value:"Reserved"}})]})}function C2e({onClose:e,isRTL:t,onImported:a}){const[r,n]=y.useState([]),[i,l]=y.useState([]),[o,c]=y.useState(null),d=v=>{const g=Array.from(v||[]);n(g)},u=async v=>{const b=(await v.text()).split(/\r?\n/).filter(Boolean),j=b[0].split(","),N=b.slice(1).map(k=>{const S=k.split(","),C={};return j.forEach((_,P)=>C[_.trim()]=(S[P]||"").trim()),C});return{headers:j,rows:N}},f=async()=>{if(!r.length)return;const v=r[0];if(v.name.toLowerCase().endsWith(".csv")){const g=await u(v);c(g)}else c({headers:["File","Type","Size"],rows:[{File:v.name,Type:v.type||"xlsx",Size:`${v.size} bytes`}]})},p=async()=>{const v="Admin",g=new Date().toISOString(),b={file:r.map(j=>j.name).join(", "),user:v,ts:g,status:"Success"};l(j=>[b,...j]),o?.rows?.length&&a(o.rows),e()},m=(v="csv")=>{const b=["name","city","developer","status","units","area","price","documents","lastUpdated","description","progress"].join(",")+`
`,j=new Blob([b],{type:"text/csv;charset=utf-8;"}),N=URL.createObjectURL(j),k=document.createElement("a");k.href=N,k.download=`properties_template.${v}`,k.click(),URL.revokeObjectURL(N)};return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:e}),s.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[900px] max-w-[95vw]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:t?" ":"Import Properties"}),s.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Close"})]}),s.jsx("div",{className:`border-2 border-dashed rounded-xl p-6 text-center ${t?"dir-rtl":""}`,onDragOver:v=>{v.preventDefault()},onDrop:v=>{v.preventDefault(),d(v.dataTransfer.files)},children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(Jre,{className:"text-2xl"}),s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:t?"    ":"Drag files here or choose files"}),s.jsx("input",{type:"file",multiple:!0,accept:".csv,.xlsx",onChange:v=>d(v.target.files),className:"mt-2"})]})}),s.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[s.jsxs("button",{className:"btn btn-glass",onClick:()=>m("csv"),children:[s.jsx(Qu,{})," CSV ",t?"":"Template"]}),s.jsxs("button",{className:"btn btn-glass",onClick:()=>m("xlsx"),children:[s.jsx(Qu,{})," XLSX ",t?"":"Template"]}),s.jsx("div",{className:"flex-1"}),s.jsx("button",{className:"btn btn-primary",onClick:f,children:t?"":"Preview"}),s.jsx("button",{className:"btn btn-success",onClick:p,disabled:!r.length,children:t?"":"Import"})]}),o&&s.jsx("div",{className:"mt-4 overflow-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsx("tr",{children:o.headers.map((v,g)=>s.jsx("th",{className:"text-left p-2 border-b",children:v},g))})}),s.jsx("tbody",{children:o.rows.slice(0,20).map((v,g)=>s.jsx("tr",{children:o.headers.map((b,j)=>s.jsx("td",{className:"p-2 border-b",children:v[b]},j))},g))})]})}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:t?" ":"Import Log"}),s.jsx("div",{className:"space-y-2",children:i.map((v,g)=>s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:[v.ts,"  ",v.user,"  ",v.file,"  ",v.status]},g))})]})]})]})}function A2e({onClose:e,isRTL:t,onSave:a}){const{t:r}=Ct(),[n,i]=y.useState("basic"),[l,o]=y.useState({name:"",city:"",developer:"",status:"Available",units:"",area:"",price:"",description:"",gallery:[],layout:[],masterPlan:[],pdfs:[],threed:[],videos:[],mapUrl:"",mainImageFile:null,logoFile:null}),c=["name","city","developer","status"],[d,u]=y.useState({}),f=()=>{const b={};return c.forEach(j=>{String(l[j]||"").trim()||(b[j]="Required")}),u(b),Object.keys(b).length===0},p=(b,j)=>{o(N=>({...N,[b]:[...N[b],...Array.from(j||[])]}))},m=()=>{f()&&(a&&a(l),e())},v=({id:b,label:j})=>s.jsx("button",{className:`px-3 py-2 rounded-md border ${n===b?"bg-blue-600 text-white":""}`,onClick:()=>i(b),children:j}),g=({label:b,keyName:j})=>s.jsxs("div",{className:"border-2 border-dashed rounded-xl p-4 text-sm",onDragOver:N=>{N.preventDefault()},onDrop:N=>{N.preventDefault(),p(j,N.dataTransfer.files)},children:[s.jsx("div",{className:"text-[var(--muted-text)] mb-2",children:b}),s.jsx("input",{type:"file",multiple:!0,onChange:N=>p(j,N.target.files)}),s.jsxs("div",{className:"mt-2 text-xs text-[var(--muted-text)]",children:[l[j]?.length||0," files"]})]});return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:e}),s.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[1000px] max-w-[95vw]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:t?" ":"Create Property"}),s.jsx("button",{className:"btn btn-glass",onClick:e,children:s.jsx(tu,{})})]}),s.jsxs("div",{className:`flex items-center gap-2 mb-4 ${t?"flex-row-reverse":""}`,children:[s.jsx(v,{id:"basic",label:t?" ":"Basic Info"}),s.jsx(v,{id:"more",label:t?" ":"More Info"}),s.jsx(v,{id:"gallery",label:t?"":"Gallery"}),s.jsx(v,{id:"layout",label:t?"":"Layout"}),s.jsx(v,{id:"master",label:t?" ":"Master Plan"}),s.jsx(v,{id:"pdf",label:"PDF"}),s.jsx(v,{id:"3d",label:"3D"}),s.jsx(v,{id:"video",label:t?"":"Video"}),s.jsx(v,{id:"map",label:t?"":"Map"})]}),n==="basic"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[["name","city","developer","status","units","area","price"].map(b=>s.jsxs("div",{children:[s.jsx("label",{className:"label capitalize",children:b}),s.jsx("input",{className:"input w-full",value:l[b]||"",onChange:j=>o(N=>({...N,[b]:j.target.value}))}),d[b]&&s.jsx("div",{className:"text-red-500 text-xs mt-1",children:t?" ":"Required field"})]},b)),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"label",children:t?"":"Description"}),s.jsx("textarea",{className:"input w-full",rows:3,value:l.description||"",onChange:b=>o(j=>({...j,description:b.target.value}))})]})]}),n==="more"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Logo URL"}),s.jsx("input",{className:"input w-full",value:l.logo||"",onChange:b=>o(j=>({...j,logo:b.target.value}))}),s.jsx("label",{className:"label mt-2",children:t?" ":"Upload Logo"}),s.jsx("input",{type:"file",accept:"image/*",onChange:b=>o(j=>({...j,logoFile:b.target.files?.[0]||null}))}),(l.logoFile||l.logo)&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:l.logoFile?URL.createObjectURL(l.logoFile):l.logo,alt:"logo preview",className:"h-16 w-auto object-contain rounded-md border"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Main Image URL"}),s.jsx("input",{className:"input w-full",value:l.mainImage||"",onChange:b=>o(j=>({...j,mainImage:b.target.value}))}),s.jsx("label",{className:"label mt-2",children:t?"  ":"Upload Main Image"}),s.jsx("input",{type:"file",accept:"image/*",onChange:b=>o(j=>({...j,mainImageFile:b.target.files?.[0]||null}))}),(l.mainImageFile||l.mainImage)&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:l.mainImageFile?URL.createObjectURL(l.mainImageFile):l.mainImage,alt:"main preview",className:"h-28 w-full object-cover rounded-md border"})})]})]}),n==="gallery"&&s.jsx(g,{label:t?" ":"Gallery Images",keyName:"gallery"}),n==="layout"&&s.jsx(g,{label:t?" ":"Layout Images",keyName:"layout"}),n==="master"&&s.jsx(g,{label:t?"  ":"Master Plan Images",keyName:"masterPlan"}),n==="pdf"&&s.jsx(g,{label:t?" PDF":"PDF Files",keyName:"pdfs"}),n==="3d"&&s.jsx(g,{label:t?"  ":"3D Files",keyName:"threed"}),n==="video"&&s.jsx(g,{label:t?" ":"Video Files",keyName:"videos"}),n==="map"&&s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Map URL"}),s.jsx("input",{className:"input w-full",value:l.mapUrl||"",onChange:b=>o(j=>({...j,mapUrl:b.target.value}))})]}),s.jsxs("div",{className:`mt-4 flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[s.jsx("button",{className:"btn btn-primary",onClick:m,children:t?"":"Save"}),s.jsx("button",{className:"btn btn-glass",onClick:e,children:t?"":"Cancel"})]})]})]})}function _2e(){const{t:e,i18n:t}=Ct(),a=t.language==="ar",r=y.useMemo(()=>[{id:1,name:"Nile View Residences",city:"Cairo",developer:"Hima Dev",status:"Available",units:120,area:120,price:25e5,documents:12,lastUpdated:"2025-11-05",logo:"https://dummyimage.com/100x100/000/fff.png&text=NV",mainImage:"https://images.unsplash.com/photo-1505691938895-1758d7feb511?q=80&w=1200&auto=format&fit=crop",description:"Prime apartments overlooking the Nile with modern amenities.",progress:35,estimatedRevenue:85e6},{id:2,name:"Palm Villas",city:"Giza",developer:"Hima Dev",status:"Reserved",units:60,area:300,price:65e5,documents:8,lastUpdated:"2025-11-06",logo:"https://dummyimage.com/100x100/111/fff.png&text=PV",mainImage:"https://images.unsplash.com/photo-1505691728975-327f93beedb3?q=80&w=1200&auto=format&fit=crop",description:"Luxury villas with private gardens and pools.",progress:60,estimatedRevenue:12e7},{id:3,name:"Smart Offices",city:"New Cairo",developer:"TechBuild",status:"Sold",units:40,area:95,price:18e5,documents:18,lastUpdated:"2025-11-03",logo:"https://dummyimage.com/100x100/333/fff.png&text=SO",mainImage:"https://images.unsplash.com/photo-1460353581641-37baddab0fa2?q=80&w=1200&auto=format&fit=crop",description:"Modern offices with smart building features.",progress:100,estimatedRevenue:48e6},{id:4,name:"Marina Bay Apartments",city:"Alexandria",developer:"SeaSide Dev",status:"Available",units:200,area:110,price:21e5,documents:10,lastUpdated:"2025-10-29",logo:"https://dummyimage.com/100x100/555/fff.png&text=MB",mainImage:"https://images.unsplash.com/photo-1449844908441-774d237f3b16?q=80&w=1200&auto=format&fit=crop",description:"Sea view apartments with premium facilities.",progress:45,estimatedRevenue:15e7}],[]),[n,i]=y.useState(""),[l,o]=y.useState([]),[c,d]=y.useState([]),[u,f]=y.useState([]),[p,m]=y.useState([]),[v,g]=y.useState([0,1e7]),[b,j]=y.useState([0,500]),[N,k]=y.useState([0,6]),[S,C]=y.useState(!1),[_,P]=y.useState(!1),[L,U]=y.useState(null),z=["Cairo","Giza","New Cairo","Alexandria"],T=["Hima Dev","TechBuild","SeaSide Dev"],F=["Apartment","Villa","Office"],M=y.useMemo(()=>r.filter(H=>{const X=n.trim().toLowerCase(),se=!X||[H.name,H.city,H.developer,H.description].some(he=>String(he).toLowerCase().includes(X)),ie=l.length===0||l.includes(H.status),ne=c.length===0||c.includes(H.city),J=u.length===0||u.includes(H.developer),le=p.length===0||p.includes(H.type||"Apartment"),pe=H.price>=v[0]&&H.price<=v[1],Q=H.area>=b[0]&&H.area<=b[1],xe=(H.rooms||3)>=N[0]&&(H.rooms||3)<=N[1];return se&&ie&&ne&&J&&le&&pe&&Q&&xe}),[r,n,l,c,u,p,v,b,N]),I=y.useMemo(()=>({total:r.length,totalUnits:r.reduce((H,X)=>H+(X.units||0),0),sold:r.filter(H=>H.status==="Sold").length,available:r.filter(H=>H.status==="Available").length,reserved:r.filter(H=>H.status==="Reserved").length}),[r]),W=()=>{i(""),o([]),d([]),f([]),m([]),g([0,1e7]),j([0,500]),k([0,6])},R=(H,X,se)=>{X.includes(se)?H(X.filter(ie=>ie!==se)):H([...X,se])},q=()=>{const H=["name","city","developer","status","units","area","price","documents","lastUpdated","progress"],X=M.map(le=>H.map(pe=>le[pe]??"")),se=H.join(",")+`
`+X.map(le=>le.join(",")).join(`
`),ie=new Blob([se],{type:"text/csv;charset=utf-8;"}),ne=URL.createObjectURL(ie),J=document.createElement("a");J.href=ne,J.download="properties.csv",J.click(),URL.revokeObjectURL(ne)},ae=async()=>{const[{default:H},X]=await Promise.all([bi(()=>Promise.resolve().then(()=>Mw),void 0),bi(()=>Promise.resolve().then(()=>Rw),void 0)]),se=new H,ie=["Name","City","Dev","Status","Units","Area","Price"],ne=M.map(J=>[J.name,J.city,J.developer,J.status,J.units,J.area,J.price]);X.default(se,{head:[ie],body:ne}),se.save("properties.pdf")},te=6,[K,oe]=y.useState(1),D=Math.max(1,Math.ceil(M.length/te)),G=y.useMemo(()=>M.slice((K-1)*te,K*te),[M,K]);return s.jsx(Ht,{children:s.jsxs("div",{className:"p-6 bg-[var(--content-bg)] text-[var(--content-text)]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("h1",{className:"text-2xl font-bold",children:a?" ":"Properties Dashboard"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-primary",onClick:()=>P(!0),children:a?" ":"Create Property"}),s.jsx("button",{className:"btn btn-glass",onClick:()=>C(!0),children:a?"":"Import"}),s.jsx("button",{className:"btn btn-glass",onClick:q,children:a?" CSV":"Export CSV"}),s.jsx("button",{className:"btn btn-glass",onClick:ae,children:a?" PDF":"Export PDF"})]})]}),s.jsx("div",{className:"h-4"}),s.jsx(S2e,{stats:I,isRTL:a,onFilter:H=>{H.type==="status"?o([H.value]):W()}}),s.jsx("div",{className:"h-4"}),s.jsxs("div",{className:"glass-panel rounded-xl p-4 mt-4",children:[s.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-4 gap-3 ${a?"dir-rtl":""}`,children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:a?"":"Search"}),s.jsx("input",{className:"input w-full",placeholder:a?" ..":"Name, city...",value:n,onChange:H=>i(H.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:a?"":"Status"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["Available","Sold","Reserved"].map(H=>s.jsx("button",{className:`chip ${l.includes(H)?"chip-active":""}`,onClick:()=>R(o,l,H),children:H},H))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:a?"":"City"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:z.map(H=>s.jsx("button",{className:`chip ${c.includes(H)?"chip-active":""}`,onClick:()=>R(d,c,H),children:H},H))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:a?"":"Developer"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(H=>s.jsx("button",{className:`chip ${u.includes(H)?"chip-active":""}`,onClick:()=>R(f,u,H),children:H},H))})]})]}),s.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-3 gap-3 mt-4 ${a?"dir-rtl":""}`,children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:a?"":"Type"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:F.map(H=>s.jsx("button",{className:`chip ${p.includes(H)?"chip-active":""}`,onClick:()=>R(m,p,H),children:H},H))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:a?"":"Price"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"range",min:"0",max:"10000000",value:v[0],onChange:H=>g([Number(H.target.value),v[1]]),className:"flex-1"}),s.jsx("input",{type:"range",min:"0",max:"10000000",value:v[1],onChange:H=>g([v[0],Number(H.target.value)]),className:"flex-1"})]}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:["EGP ",v[0].toLocaleString()," - ",v[1].toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:a?"":"Area (sqm)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"range",min:"0",max:"500",value:b[0],onChange:H=>j([Number(H.target.value),b[1]]),className:"flex-1"}),s.jsx("input",{type:"range",min:"0",max:"500",value:b[1],onChange:H=>j([b[0],Number(H.target.value)]),className:"flex-1"})]}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:[b[0]," - ",b[1]," sqm"]})]})]}),s.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-3 gap-3 mt-4 ${a?"dir-rtl":""}`,children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:a?"":"Rooms"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"range",min:"0",max:"6",value:N[0],onChange:H=>k([Number(H.target.value),N[1]]),className:"flex-1"}),s.jsx("input",{type:"range",min:"0",max:"6",value:N[1],onChange:H=>k([N[0],Number(H.target.value)]),className:"flex-1"})]}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:[N[0]," - ",N[1]]})]}),s.jsx("div",{className:"md:col-span-2 flex items-center justify-end",children:s.jsx("button",{className:"btn btn-glass",onClick:W,children:a?" ":"Clear Filters"})})]})]}),s.jsx("div",{className:"h-4"}),s.jsx("div",{className:"h-4"}),s.jsx("div",{className:"h-4"}),s.jsx("div",{className:"h-4"}),s.jsx("div",{className:"h-4"}),s.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:G.map(H=>s.jsx(k2e,{p:H,isRTL:a,onView:U,onEdit:()=>P(!0),onShare:()=>navigator?.share?navigator.share({title:H.name,text:H.description,url:window.location.href}):alert("Share not supported"),onDelete:()=>alert("Delete clicked")},H.id))}),s.jsx("div",{className:"h-4"}),s.jsxs("div",{className:`mt-4 flex items-center justify-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsx("button",{className:"btn btn-glass",onClick:()=>oe(H=>Math.max(1,H-1)),children:a?"":"Prev"}),s.jsxs("span",{className:"text-sm text-[var(--muted-text)]",children:[a?"":"Page"," ",K," / ",D]}),s.jsx("button",{className:"btn btn-glass",onClick:()=>oe(H=>Math.min(D,H+1)),children:a?"":"Next"})]}),S&&s.jsx(C2e,{onClose:()=>C(!1),isRTL:a,onImported:H=>console.log("Imported rows",H)}),_&&s.jsx(A2e,{onClose:()=>P(!1),isRTL:a,onSave:H=>console.log("New property",H)}),L&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>U(null)}),s.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[900px] max-w-[95vw]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:a?" ":"Property Details"}),s.jsx("button",{className:"btn btn-glass",onClick:()=>U(null),children:a?"":"Close"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[a?"":"Name",":"]})," ",s.jsx("span",{className:"font-semibold",children:L.name})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[a?"":"City",":"]})," ",s.jsx("span",{className:"font-semibold",children:L.city})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[a?"":"Developer",":"]})," ",s.jsx("span",{className:"font-semibold",children:L.developer})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[a?"":"Status",":"]})," ",s.jsx("span",{className:"font-semibold",children:L.status})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[a?"":"Units",":"]})," ",s.jsx("span",{className:"font-semibold",children:L.units})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[a?"":"Area",":"]})," ",s.jsxs("span",{className:"font-semibold",children:[L.area," sqm"]})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[a?"":"Price",":"]})," ",s.jsxs("span",{className:"font-semibold",children:["EGP ",L.price.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[a?" ":"Updated",":"]})," ",s.jsx("span",{className:"font-semibold",children:L.lastUpdated})]})]}),s.jsx("div",{className:"rounded-lg overflow-hidden h-48 md:h-full",children:s.jsx("img",{src:L.mainImage,alt:L.name,className:"w-full h-full object-cover"})})]})]})]})]})})}function NL(e){if(!e)return"-";try{return(typeof e=="string"?new Date(e):e).toLocaleDateString()}catch{return String(e)}}function T2e({request:e,isRTL:t=!1,onView:a,onEdit:r,onAssign:n,onApprove:i,onReject:l,onDelete:o,onExport:c}){if(!e)return null;const d=t?"rtl":"ltr",u=t?"justify-end":"justify-start";return s.jsxs("div",{dir:d,className:"bg-white dark:bg-gray-800 shadow rounded-lg p-4 flex flex-col gap-3 transition hover:shadow-md",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:["#",e.id]}),s.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-100",children:e.customerName})]}),s.jsxs("span",{className:"text-xs px-2 py-1 rounded border border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300",children:[e.type,"  ",e.priority]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Property / Unit"}),s.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:e.propertyUnit||"-"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Status"}),s.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:e.status})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Created"}),s.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:NL(e.createdAt)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Updated"}),s.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:NL(e.updatedAt)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Assigned To"}),s.jsxs("span",{className:"text-gray-800 dark:text-gray-100 flex items-center gap-1",children:[s.jsx(xne,{})," ",e.assignedTo||"-"]})]}),s.jsxs("div",{className:"flex flex-col col-span-2 md:col-span-3",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Notes"}),s.jsx("span",{className:"text-gray-800 dark:text-gray-100 line-clamp-2",children:e.description||e.notes||"-"})]})]}),s.jsxs("div",{className:`flex flex-wrap items-center gap-2 ${u}`,children:[s.jsx("button",{onClick:()=>a?.(e),className:"px-3 py-1 text-sm rounded bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100",children:"View"}),s.jsxs("button",{onClick:()=>r?.(e),className:"px-3 py-1 text-sm rounded bg-indigo-50 text-indigo-700 border border-indigo-200 hover:bg-indigo-100 flex items-center gap-1",children:[s.jsx(pne,{})," Edit"]}),s.jsx("button",{onClick:()=>n?.(e),className:"px-3 py-1 text-sm rounded bg-amber-50 text-amber-700 border border-amber-200 hover:bg-amber-100",children:"Assign"}),s.jsxs("button",{onClick:()=>i?.(e),className:"px-3 py-1 text-sm rounded bg-green-50 text-green-700 border border-green-200 hover:bg-green-100 flex items-center gap-1",children:[s.jsx(Kre,{})," Approve"]}),s.jsxs("button",{onClick:()=>l?.(e),className:"px-3 py-1 text-sm rounded bg-red-50 text-red-700 border border-red-200 hover:bg-red-100 flex items-center gap-1",children:[s.jsx(tu,{})," Reject"]}),s.jsxs("button",{onClick:()=>o?.(e),className:"px-3 py-1 text-sm rounded bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200 flex items-center gap-1",children:[s.jsx(sx,{})," Delete"]}),s.jsxs("button",{onClick:()=>c?.(e),className:"px-3 py-1 text-sm rounded bg-teal-50 text-teal-700 border border-teal-200 hover:bg-teal-100 flex items-center gap-1",children:[s.jsx(ane,{})," Export"]})]})]})}function E2e({requests:e=[],onFilterStatus:t,onFilterPriority:a,onFilterType:r,isRTL:n=!1}){const i=n?"rtl":"ltr",l=e.length,o=e.reduce((p,m)=>(p[m.status]=(p[m.status]||0)+1,p),{}),c=e.reduce((p,m)=>(p[m.priority]=(p[m.priority]||0)+1,p),{}),d=e.reduce((p,m)=>(p[m.type]=(p[m.type]||0)+1,p),{}),u=(o.Approved||0)+(o.Rejected||0),f=({label:p,value:m,onClick:v})=>s.jsxs("button",{onClick:v,className:"flex flex-col items-start bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded p-4 hover:shadow transition",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:p}),s.jsx("span",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:m})]});return s.jsxs("div",{dir:i,className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",children:[s.jsx(f,{label:"Total Requests",value:l}),s.jsx(f,{label:"Pending",value:o.Pending||0,onClick:()=>t?.("Pending")}),s.jsx(f,{label:"In Progress",value:o["In Progress"]||0,onClick:()=>t?.("In Progress")}),s.jsx(f,{label:"Approved",value:o.Approved||0,onClick:()=>t?.("Approved")}),s.jsx(f,{label:"Rejected",value:o.Rejected||0,onClick:()=>t?.("Rejected")}),s.jsx(f,{label:"Completed",value:u}),s.jsx(f,{label:"High Priority",value:c.High||0,onClick:()=>a?.("High")}),s.jsx(f,{label:"Medium Priority",value:c.Medium||0,onClick:()=>a?.("Medium")}),s.jsx(f,{label:"Low Priority",value:c.Low||0,onClick:()=>a?.("Low")}),s.jsx(f,{label:"Inquiry",value:d.Inquiry||0,onClick:()=>r?.("Inquiry")}),s.jsx(f,{label:"Maintenance",value:d.Maintenance||0,onClick:()=>r?.("Maintenance")}),s.jsx(f,{label:"Booking",value:d.Booking||0,onClick:()=>r?.("Booking")})]})}function D2e({open:e,onClose:t,onImport:a,isRTL:r=!1,currentUser:n="admin"}){const[i,l]=y.useState([]),[o,c]=y.useState([]),[d,u]=y.useState([]),f=r?"rtl":"ltr",p=y.useMemo(()=>["id","customerName","propertyUnit","status","priority","type","description","assignedTo","createdAt","updatedAt"],[]),m=y.useCallback((k,S="info")=>{u(C=>[{ts:new Date().toISOString(),level:S,message:k,user:n},...C])},[u,n]),v=k=>{const S=k.split(/\r?\n/).filter(Boolean);if(!S.length)return[];const C=S[0].split(",").map(P=>P.trim());return S.slice(1).map(P=>{const L=P.split(","),U={};return C.forEach((z,T)=>{U[z]=L[T]}),U})},g=async k=>{const S=Array.from(k||[]);l(S);for(const C of S)try{const _=C.name.toLowerCase().split(".").pop();if(_==="csv"){const P=await C.text(),L=v(P);c(L),m(`CSV parsed: ${C.name} (${L.length} rows)`,"success")}else if(_==="xlsx"||_==="xls"){const P=(await bi(async()=>{const{default:M}=await Promise.resolve().then(()=>iW);return{default:M}},void 0)).default,L=await C.arrayBuffer(),U=P.read(L,{type:"array"}),z=U.SheetNames[0],T=U.Sheets[z],F=P.utils.sheet_to_json(T);c(F),m(`XLSX parsed: ${C.name} (${F.length} rows)`,"success")}else m(`Unsupported file type: ${C.name}`,"error")}catch(_){console.error(_),m(`Failed to parse ${C.name}: ${_.message}`,"error")}},b=k=>{k.preventDefault(),k.stopPropagation(),g(k.dataTransfer.files)},j=()=>{if(!o.length){m("No rows to import","error"),alert("No rows to import");return}a?.(o),m(`Imported ${o.length} row(s)`,"success"),alert(`Imported ${o.length} row(s)`),t?.()},N=async k=>{const S=[p.join(","),""].join(`
`),C=new Blob([S],{type:"text/csv"}),_=URL.createObjectURL(C),P=document.createElement("a");P.href=_,P.download="requests_template.csv",P.click(),URL.revokeObjectURL(_),m(`Template downloaded (${k})`,"info")};return e?s.jsx("div",{dir:f,className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg w-[95vw] max-w-4xl p-4 flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Import Requests"}),s.jsx("button",{onClick:t,className:"px-3 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:"Close"})]}),s.jsxs("div",{onDrop:b,onDragOver:k=>{k.preventDefault(),k.stopPropagation()},className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded p-6 text-center text-gray-600 dark:text-gray-300",children:[s.jsx("p",{children:"Drag & drop CSV/XLSX files here, or click to select"}),s.jsx("input",{type:"file",multiple:!0,accept:".csv,.xlsx,.xls",onChange:k=>g(k.target.files),className:"mt-3"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>N("csv"),className:"px-3 py-1 rounded bg-blue-50 text-blue-700 border border-blue-200",children:"Download CSV Template"}),s.jsx("button",{onClick:()=>N("xlsx"),className:"px-3 py-1 rounded bg-indigo-50 text-indigo-700 border border-indigo-200",children:"Download XLSX Template"})]}),s.jsx("div",{className:"overflow-auto max-h-60 border border-gray-200 dark:border-gray-700 rounded",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsx("tr",{children:p.map(k=>s.jsx("th",{className:"px-2 py-1 text-left text-gray-700 dark:text-gray-200 border-b border-gray-200 dark:border-gray-700",children:k},k))})}),s.jsxs("tbody",{children:[o.slice(0,50).map((k,S)=>s.jsx("tr",{className:"odd:bg-white even:bg-gray-50 dark:odd:bg-gray-800 dark:even:bg-gray-700",children:p.map(C=>s.jsx("td",{className:"px-2 py-1 text-gray-800 dark:text-gray-100 border-b border-gray-200 dark:border-gray-700",children:k[C]},C))},S)),!o.length&&s.jsx("tr",{children:s.jsx("td",{colSpan:p.length,className:"px-2 py-6 text-center text-gray-500 dark:text-gray-400",children:"No data preview"})})]})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-xs max-h-28 overflow-auto border border-gray-200 dark:border-gray-700 rounded p-2 w-1/2",children:d.map((k,S)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-0.5 rounded ${k.level==="success"?"bg-green-50 text-green-700":k.level==="error"?"bg-red-50 text-red-700":"bg-gray-100 text-gray-700"}`,children:k.level}),s.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:k.ts}),s.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:k.user}),s.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:k.message})]},S))}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:j,className:"px-3 py-1 rounded bg-green-50 text-green-700 border border-green-200",children:"Import"}),s.jsx("button",{onClick:t,className:"px-3 py-1 rounded bg-gray-100 text-gray-700 border border-gray-200",children:"Cancel"})]})]})]})}):null}const kL=["Inquiry","Maintenance","Booking"],SL=["Low","Medium","High"],CL=["Pending","In Progress","Approved","Rejected"];function M2e({onFiles:e,label:t}){return s.jsxs("div",{onDrop:a=>{a.preventDefault(),e(Array.from(a.dataTransfer.files))},onDragOver:a=>a.preventDefault(),className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded p-4 text-center text-gray-600 dark:text-gray-300",children:[s.jsx("p",{children:t}),s.jsx("input",{type:"file",multiple:!0,onChange:a=>e(Array.from(a.target.files)),className:"mt-2"})]})}function P2e({open:e,onClose:t,onSave:a,initial:r={},isRTL:n=!1}){const[i,l]=y.useState(r.type||kL[0]),[o,c]=y.useState(r.customerName||""),[d,u]=y.useState(r.propertyUnit||""),[f,p]=y.useState(r.priority||SL[1]),[m,v]=y.useState(r.status||CL[0]),[g,b]=y.useState(r.description||""),[j,N]=y.useState(r.assignedTo||""),[k,S]=y.useState([]),[C,_]=y.useState("basic"),P=n?"rtl":"ltr",L=y.useMemo(()=>o&&i&&f,[o,i,f]),U=()=>{if(!L){alert("Please fill required fields");return}const z={id:r.id||Math.floor(Math.random()*1e5),type:i,customerName:o,propertyUnit:d,priority:f,status:m,description:g,assignedTo:j,createdAt:r.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString(),attachments:k};a?.(z),alert("Request saved"),t?.()};return e?s.jsx("div",{dir:P,className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg w-[95vw] max-w-3xl p-4 flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:r.id?"Edit Request":"Create Request"}),s.jsx("button",{onClick:t,className:"px-3 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:"Close"})]}),s.jsx("div",{className:"flex items-center gap-2 border-b border-gray-200 dark:border-gray-700 pb-2",children:["basic","attachments","notes"].map(z=>s.jsx("button",{onClick:()=>_(z),className:`px-3 py-1 rounded ${C===z?"bg-gray-200 dark:bg-gray-700":"bg-gray-100 dark:bg-gray-800"} text-gray-800 dark:text-gray-100`,children:z},z))}),C==="basic"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Request Type"}),s.jsx("select",{value:i,onChange:z=>l(z.target.value),className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",children:kL.map(z=>s.jsx("option",{value:z,children:z},z))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Priority"}),s.jsx("select",{value:f,onChange:z=>p(z.target.value),className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",children:SL.map(z=>s.jsx("option",{value:z,children:z},z))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Status"}),s.jsx("select",{value:m,onChange:z=>v(z.target.value),className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",children:CL.map(z=>s.jsx("option",{value:z,children:z},z))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Assigned Staff"}),s.jsx("input",{value:j,onChange:z=>N(z.target.value),className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",placeholder:"e.g. John Doe"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Customer Name"}),s.jsx("input",{value:o,onChange:z=>c(z.target.value),className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",placeholder:"Customer Name"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Property / Unit"}),s.jsx("input",{value:d,onChange:z=>u(z.target.value),className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",placeholder:"Property or Unit"})]})]}),C==="attachments"&&s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(M2e,{label:"Drag & drop attachments or click to upload",onFiles:z=>S(T=>[...T,...z])}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[k.map((z,T)=>s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded p-2 text-sm flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:z.name}),s.jsx("button",{onClick:()=>S(F=>F.filter((M,I)=>I!==T)),className:"text-red-600",children:"Remove"})]},T)),!k.length&&s.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No attachments"})]})]}),C==="notes"&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Description / Notes"}),s.jsx("textarea",{value:g,onChange:z=>b(z.target.value),rows:5,className:"w-full mt-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",placeholder:"Enter description"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:U,disabled:!L,className:`px-3 py-1 rounded border ${L?"bg-green-50 text-green-700 border-green-200":"bg-gray-100 text-gray-500 border-gray-200 cursor-not-allowed"}`,children:"Save"}),s.jsx("button",{onClick:t,className:"px-3 py-1 rounded bg-gray-100 text-gray-700 border border-gray-200",children:"Cancel"})]})]})}):null}const L2e=[{id:1001,customerName:"Alice Johnson",propertyUnit:"Palm Residency A-12",status:"Pending",priority:"High",type:"Inquiry",createdAt:"2025-10-02",updatedAt:"2025-10-05",assignedTo:"John Doe",description:"Interested in 2BHK, need pricing details."},{id:1002,customerName:"Omar Ali",propertyUnit:"Green Villas V-7",status:"In Progress",priority:"Medium",type:"Maintenance",createdAt:"2025-10-01",updatedAt:"2025-10-06",assignedTo:"Sara Ahmed",description:"AC unit not cooling properly."},{id:1003,customerName:"Emily Clark",propertyUnit:"Blue Towers T-22",status:"Approved",priority:"Low",type:"Booking",createdAt:"2025-09-29",updatedAt:"2025-10-03",assignedTo:"Mark Spencer",description:"Booking confirmed for 1BR apartment."},{id:1004,customerName:"Khaled Mohamed",propertyUnit:"Sunset Apartments S-9",status:"Rejected",priority:"Low",type:"Inquiry",createdAt:"2025-10-03",updatedAt:"2025-10-04",assignedTo:"Nadia Karim",description:"Requested discount not applicable."},{id:1005,customerName:"Sara Ibrahim",propertyUnit:"Palm Residency A-08",status:"Pending",priority:"High",type:"Booking",createdAt:"2025-10-05",updatedAt:"2025-10-05",assignedTo:"John Doe",description:"Urgent booking inquiry for 3BR."}];function O2e(){const{toggleTheme:e}=Uf(),[t,a]=y.useState(!1),[r,n]=y.useState(!0),[i,l]=y.useState(""),[o,c]=y.useState([]),[d,u]=y.useState([]),[f,p]=y.useState([]),[m,v]=y.useState(""),[g,b]=y.useState(""),j=["Pending","In Progress","Approved","Rejected"],N=["Inquiry","Maintenance","Booking"],k=["Low","Medium","High"],S=(ie,ne,J)=>{const le=ie.includes(J)?ie.filter(pe=>pe!==J):[...ie,J];ne(le)},C=[...o.map(ie=>({label:ie,kind:"status"})),...d.map(ie=>({label:ie,kind:"type"})),...f.map(ie=>({label:ie,kind:"priority"})),...m?[{label:`From ${m}`,kind:"from"}]:[],...g?[{label:`To ${g}`,kind:"to"}]:[]],[_,P]=y.useState(!1),[L,U]=y.useState(!1),[z,T]=y.useState(L2e),F=y.useMemo(()=>z.filter(ie=>{const ne=i.trim().toLowerCase(),J=!ne||String(ie.id).includes(ne)||(ie.customerName||"").toLowerCase().includes(ne)||(ie.propertyUnit||"").toLowerCase().includes(ne)||(ie.status||"").toLowerCase().includes(ne)||(ie.description||"").toLowerCase().includes(ne),le=!o.length||o.includes(ie.status),pe=!d.length||d.includes(ie.type),Q=!f.length||f.includes(ie.priority),xe=ie.createdAt?new Date(ie.createdAt).getTime():0,he=!m||xe>=new Date(m).getTime(),ue=!g||xe<=new Date(g).getTime();return J&&le&&pe&&Q&&he&&ue}),[z,i,o,d,f,m,g]),[M,I]=y.useState(1),W=8,R=Math.max(1,Math.ceil(F.length/W)),q=y.useMemo(()=>F.slice((M-1)*W,M*W),[F,M]),ae=()=>{l(""),c([]),u([]),p([]),v(""),b("")},te=ie=>c([ie]),K=ie=>p([ie]),oe=ie=>u([ie]),D=ie=>{T(ne=>ne.find(le=>le.id===ie.id)?ne.map(le=>le.id===ie.id?ie:le):[ie,...ne])},G=ie=>{const ne=ie.map((J,le)=>({id:Number(J.id)||1e4+le,customerName:J.customerName||J.customer||"",propertyUnit:J.propertyUnit||J.property||"",status:J.status||"Pending",priority:J.priority||"Medium",type:J.type||"Inquiry",description:J.description||"",assignedTo:J.assignedTo||"",createdAt:J.createdAt||new Date().toISOString(),updatedAt:J.updatedAt||new Date().toISOString()}));T(J=>[...ne,...J])},H=async()=>{const ie=(await bi(async()=>{const{default:le}=await Promise.resolve().then(()=>iW);return{default:le}},void 0)).default,ne=ie.utils.json_to_sheet(F),J=ie.utils.book_new();ie.utils.book_append_sheet(J,ne,"Requests"),ie.writeFile(J,"requests_export.xlsx")},X=async()=>{const ie=(await bi(async()=>{const{default:Q}=await Promise.resolve().then(()=>Mw);return{default:Q}},void 0)).default,ne=(await bi(async()=>{const{default:Q}=await Promise.resolve().then(()=>Rw);return{default:Q}},void 0)).default,J=new ie,le=[["ID","Customer","Property/Unit","Status","Priority","Type","Created","Updated"]],pe=F.map(Q=>[Q.id,Q.customerName,Q.propertyUnit,Q.status,Q.priority,Q.type,Q.createdAt,Q.updatedAt]);ne(J,{head:le,body:pe}),J.save("requests_export.pdf")},se=t?"rtl":"ltr";return s.jsx(Ht,{children:s.jsxs("div",{dir:se,className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Requests Dashboard"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>a(ie=>!ie),className:"px-3 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:t?"EN":"RTL"}),s.jsx("button",{onClick:e,className:"px-3 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:"Theme"}),s.jsx("button",{onClick:()=>U(!0),className:"px-3 py-1 rounded bg-indigo-50 text-indigo-700 border border-indigo-200",children:"Import"}),s.jsx("button",{onClick:()=>P(!0),className:"px-3 py-1 rounded bg-green-50 text-green-700 border border-green-200",children:"Create"})]})]}),s.jsx(E2e,{requests:z,onFilterStatus:te,onFilterPriority:K,onFilterType:oe,isRTL:t}),s.jsx("div",{className:"h-4"}),s.jsx("div",{className:"h-4"}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(ax,{className:"absolute left-3 top-3 text-gray-400"}),s.jsx("input",{value:i,onChange:ie=>l(ie.target.value),placeholder:"     ",className:"w-full rounded pl-9 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>n(ie=>!ie),className:"px-3 py-2 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[s.jsx(ew,{})," ",r?" ":" "]}),s.jsxs("button",{onClick:H,className:"px-3 py-2 rounded bg-teal-50 text-teal-700 border border-teal-200 flex items-center gap-2",children:[s.jsx(OU,{}),"  Excel"]}),s.jsxs("button",{onClick:X,className:"px-3 py-2 rounded bg-pink-50 text-pink-700 border border-pink-200 flex items-center gap-2",children:[s.jsx(sne,{}),"  PDF"]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[C.map((ie,ne)=>s.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 text-sm",children:[ie.label,s.jsx("button",{onClick:()=>{ie.kind==="status"&&c(J=>J.filter(le=>le!==ie.label)),ie.kind==="type"&&u(J=>J.filter(le=>le!==ie.label)),ie.kind==="priority"&&p(J=>J.filter(le=>le!==ie.label)),ie.kind==="from"&&v(""),ie.kind==="to"&&b("")},className:"hover:text-red-600","aria-label":"Remove filter",children:s.jsx(tu,{})})]},ne)),!C.length&&s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"   "})]}),r&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:""}),s.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(ie=>{const ne=o.includes(ie);return s.jsx("button",{onClick:()=>S(o,c,ie),className:`px-3 py-1 rounded-full border ${ne?"bg-blue-600 text-white border-blue-700":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:ie},ie)})})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:""}),s.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(ie=>{const ne=d.includes(ie);return s.jsx("button",{onClick:()=>S(d,u,ie),className:`px-3 py-1 rounded-full border ${ne?"bg-violet-600 text-white border-violet-700":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:ie},ie)})})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:""}),s.jsx("div",{className:"flex flex-wrap gap-2",children:k.map(ie=>{const ne=f.includes(ie);return s.jsx("button",{onClick:()=>S(f,p,ie),className:`px-3 py-1 rounded-full border ${ne?"bg-emerald-600 text-white border-emerald-700":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:ie},ie)})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-300",children:""}),s.jsx(Vv,{className:"absolute left-3 bottom-3 text-gray-400"}),s.jsx("input",{type:"date",value:m,onChange:ie=>v(ie.target.value),className:"w-full rounded pl-9 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-300",children:""}),s.jsx(Vv,{className:"absolute left-3 bottom-3 text-gray-400"}),s.jsx("input",{type:"date",value:g,onChange:ie=>b(ie.target.value),className:"w-full rounded pl-9 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"})]})]}),s.jsx("div",{className:"flex items-center justify-end",children:s.jsxs("button",{onClick:ae,className:"px-3 py-2 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[s.jsx(tu,{}),"   "]})})]})]}),s.jsx("div",{className:"h-3"}),s.jsx("div",{className:"h-3"}),s.jsx("div",{className:"h-3"}),s.jsx("div",{className:"h-3"}),s.jsx("div",{className:"h-3"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[q.map(ie=>s.jsx(T2e,{request:ie,isRTL:t,onView:()=>alert(`View request ${ie.id}`),onEdit:()=>P(!0)||null,onAssign:()=>alert(`Assign request ${ie.id}`),onApprove:()=>T(ne=>ne.map(J=>J.id===ie.id?{...J,status:"Approved",updatedAt:new Date().toISOString()}:J)),onReject:()=>T(ne=>ne.map(J=>J.id===ie.id?{...J,status:"Rejected",updatedAt:new Date().toISOString()}:J)),onDelete:()=>T(ne=>ne.filter(J=>J.id!==ie.id)),onExport:async()=>{const ne=(await bi(async()=>{const{default:xe}=await Promise.resolve().then(()=>Mw);return{default:xe}},void 0)).default,J=(await bi(async()=>{const{default:xe}=await Promise.resolve().then(()=>Rw);return{default:xe}},void 0)).default,le=new ne,pe=[["Field","Value"]],Q=Object.entries(ie).map(([xe,he])=>[xe,String(he)]);J(le,{head:pe,body:Q}),le.save(`request_${ie.id}.pdf`)}},ie.id)),!q.length&&s.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No requests match filters."})]}),s.jsx("div",{className:"h-4"}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:()=>I(ie=>Math.max(1,ie-1)),className:"px-3 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:"Prev"}),s.jsxs("span",{className:"text-gray-700 dark:text-gray-200",children:["Page ",M," / ",R]}),s.jsx("button",{onClick:()=>I(ie=>Math.min(R,ie+1)),className:"px-3 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:"Next"})]}),s.jsx(P2e,{open:_,onClose:()=>P(!1),onSave:D,isRTL:t}),s.jsx(D2e,{open:L,onClose:()=>U(!1),onImport:G,isRTL:t})]})})}function R2e(){return s.jsxs("div",{className:"p-4 bg-[var(--content-bg)] text-[var(--content-text)]",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Buyer Requests"}),s.jsx("p",{className:"mt-2 text-[var(--muted-text)]",children:"Inventory > Buyer Requests placeholder page."})]})}function F2e(){return s.jsx(Ht,{children:s.jsxs("div",{className:"p-4 bg-[var(--content-bg)] text-[var(--content-text)]",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Seller Requests"}),s.jsx("p",{className:"mt-2 text-[var(--muted-text)]",children:"Inventory > Seller Requests placeholder page."})]})})}function I2e(){return s.jsx(Ht,{children:s.jsxs("div",{className:"p-4 bg-[var(--content-bg)] text-[var(--content-text)]",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Dev Companies"}),s.jsx("p",{className:"mt-2 text-[var(--muted-text)]",children:"Inventory > Dev Companies placeholder page."})]})})}Cs.register(_n,Tn,Un,cn,on);function B2e({channelsData:e,height:t=240}){const{t:a}=Ct(),r=["Email","SMS","Social","Ads"],n=e?.values||[3200,1800,2400,1500],i=["#2563eb","#f59e0b","#22c55e","#8b5cf6"],o=typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",c={labels:r,datasets:[{label:a("Channel Performance"),data:n,backgroundColor:i,borderRadius:6,barThickness:24}]},d={responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{font:{size:12},color:o}},y:{grid:{display:!1},ticks:{font:{size:12},color:o}}},plugins:{legend:{display:!1}}};return s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-transparent bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text",children:a("Channel Performance")}),s.jsx("div",{style:{height:typeof t=="number"?`${t}px`:t},children:s.jsx(Ir,{data:c,options:d})}),s.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)] dark:text-blue-200",children:a("Last 30 Days")})]})}function $2e({isOpen:e,onClose:t,onCreate:a}){const{t:r,i18n:n}=Ct(),i=(n.language||"").toLowerCase()==="ar",[l,o]=y.useState({name:"",channel:"Email",audience:"",startAt:"",endAt:"",budget:"",description:""}),c=u=>{const{name:f,value:p}=u.target;o(m=>({...m,[f]:p}))},d=u=>{u.preventDefault(),!(!l.name||!l.channel||!l.startAt)&&(a?.(l),t?.())};return e?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),s.jsxs("div",{className:"relative bg-white dark:bg-blue-900 rounded-lg shadow-xl w-full max-w-2xl mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-blue-700",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r("Create Campaign")}),s.jsx("button",{className:"text-gray-500 hover:text-gray-700 dark:text-gray-300",onClick:t,children:""})]}),s.jsxs("form",{onSubmit:d,className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:r("Campaign Name")}),s.jsx("input",{type:"text",name:"name",value:l.name,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white",placeholder:r("e.g., Summer Promo"),required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:r("Channel")}),s.jsxs("select",{name:"channel",value:l.channel,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white",required:!0,children:[s.jsx("option",{children:"Email"}),s.jsx("option",{children:"SMS"}),s.jsx("option",{children:"Social"}),s.jsx("option",{children:"Ads"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:r("Audience Segment")}),s.jsx("input",{type:"text",name:"audience",value:l.audience,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white",placeholder:r("e.g., New Leads in 30 days")})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:r("Start At")}),s.jsx("input",{type:"datetime-local",name:"startAt",value:l.startAt,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:r("End At")}),s.jsx("input",{type:"datetime-local",name:"endAt",value:l.endAt,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:r("Budget")}),s.jsx("input",{type:"number",name:"budget",value:l.budget,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white",placeholder:"0",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:r("Description")}),s.jsx("textarea",{name:"description",value:l.description,onChange:c,className:"w-full border rounded px-3 py-2 bg-white dark:bg-blue-900 dark:text-white",rows:3,placeholder:r("Short description")})]}),s.jsxs("div",{className:`flex items-center justify-end gap-2 ${i?"flex-row-reverse":""}`,children:[s.jsx("button",{type:"button",className:"btn",onClick:t,children:r("Cancel")}),s.jsx("button",{type:"submit",className:"btn btn-primary",children:r("Create")})]})]})]})]}):null}Cs.register(_n,Tn,pl,ai,cn,on);function U2e({series:e}){const{t}=Ct(),a=e?.labels||["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=e?.values||[8,10,9,12,15,18,16,20,22,24,23,28],i=typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",l={labels:a,datasets:[{label:t("Reports"),data:r,borderColor:"#22c55e",backgroundColor:"rgba(34, 197, 94, 0.15)",tension:.35,pointRadius:3,pointBackgroundColor:"#22c55e",fill:!0}]},o={responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{color:i,font:{size:12}}},y:{grid:{display:!1},ticks:{color:i,font:{size:12}}}},plugins:{legend:{display:!1}}};return s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-transparent bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text",children:t("Reporting Over Time")}),s.jsx("div",{style:{height:"220px"},children:s.jsx(lo,{data:l,options:o})})]})}function z2e(){const{t:e,i18n:t}=Ct(),a=(t.language||"").toLowerCase()==="ar",[r,n]=y.useState(!1);e("On Track"),e("At Risk"),e("Paused");const i=18,l=25,o=3.2,c=3.7,d=[{id:"meta-1",title:"Meta Ads API",account:e("Account Linked")+": 105",status:e("Linked"),lastSync:"2h",btn:e("Configure")},{id:"meta-2",title:"Meta Ads API",account:e("Account Linked")+": 103",status:e("Linked"),lastSync:"2h",btn:e("Configure")},{id:"meta-3",title:"Meta Ads API",account:e("Account Linked")+": 102",status:e("Linked"),lastSync:"1h",btn:e("Configure")}],u=[{name:e("Summer Promo"),status:"SMS",spend:255,clicks:425,conversions:40,roi:"3.2x"},{name:e("Winback Series"),status:"SMS",spend:205,clicks:355,conversions:29,roi:"2.6x"},{name:e("Product Launch"),status:"SMS",spend:285,clicks:465,conversions:33,roi:"3.0x"},{name:e("Global Ad"),status:"SMS",spend:245,clicks:415,conversions:31,roi:"2.7x"}],f=[{platform:"Meta Ads",spend:886,impressions:6655,conversions:"26%"},{platform:"Google Ads",spend:906,impressions:6888,conversions:"29%"},{platform:"Email",spend:311,impressions:1777,conversions:"18%"},{platform:"SMS",spend:255,impressions:1555,conversions:"33%"}],p=L=>{console.log(" New Campaign Created:",L),n(!1)},[m,v]=y.useState(!1),[g,b]=y.useState(!1),j=async()=>{const L="http://localhost:8787";try{const U=await fetch(`${L}/api/gmail/labels`),z=await U.json();if(!U.ok)throw new Error(z.error||"labels_failed");const T=(z.labels||[]).map(F=>F.name).join(", ");alert(`Gmail Labels: ${T||"No labels"}`)}catch(U){console.error("Fetch Gmail labels failed:",U),alert(`  Labels  Gmail: ${U.message}`)}},N=async()=>{const L="http://localhost:8787";try{await fetch(`${L}/api/oauth/google/revoke`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:"gmail"})})}catch{}try{localStorage.removeItem("oauth_token_gmail"),localStorage.removeItem("oauth_redirect_uri_gmail")}catch{}b(!1),C(U=>U.map(z=>z.id==="gmail"?{...z,status:e("Disconnected"),connected:!1}:z))},k=async()=>{const L="http://localhost:8787";try{await fetch(`${L}/api/oauth/google/revoke`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:"ads"})})}catch{}try{localStorage.removeItem("oauth_token_ads"),localStorage.removeItem("oauth_redirect_uri_ads")}catch{}v(!1),C(U=>U.map(z=>z.id==="google-ads"?{...z,status:e("Disconnected"),connected:!1}:z))},[S,C]=y.useState([{id:"meta",name:"Meta",icon:x5,bg:"bg-[#1877F2]",status:e("Connected"),connected:!0},{id:"mailchimp",name:"MailChimp",icon:g5,bg:"bg-amber-500",status:e("Connected"),connected:!0},{id:"whatsapp",name:"WhatsApp",icon:Ju,bg:"bg-green-500",status:e("Connected"),connected:!0},{id:"gmail",name:"Gmail",icon:ky,bg:"bg-[#DB4437]",status:e("Disconnected"),connected:!1},{id:"google-ads",name:"Google Ads",icon:ky,bg:"bg-red-500",status:e("Disconnected"),connected:!1}]),_=()=>{const L="502667518650-9q9le5f8qrqu1nmolb980ohta8grsd7c.apps.googleusercontent.com",z="http://localhost:5176/crm-ibrahim/",T=encodeURIComponent("https://www.googleapis.com/auth/adwords"),F=`ads:${Math.random().toString(36).slice(2)}`;try{localStorage.setItem("oauth_redirect_uri_ads",z)}catch{}console.log("[oauth] start Google Ads",{clientId:L?.slice(0,12)+"...",redirectUri:z});const M=`https://accounts.google.com/o/oauth2/v2/auth?client_id=${L}&redirect_uri=${encodeURIComponent(z)}&response_type=code&scope=${T}&access_type=offline&prompt=consent&include_granted_scopes=true&state=${F}`;window.location.href=M},P=()=>{const L="502667518650-9q9le5f8qrqu1nmolb980ohta8grsd7c.apps.googleusercontent.com",z="http://localhost:5176/crm-ibrahim/",T=encodeURIComponent("https://www.googleapis.com/auth/gmail.readonly"),F=`gmail:${Math.random().toString(36).slice(2)}`;try{localStorage.setItem("oauth_redirect_uri_gmail",z)}catch{}console.log("[oauth] start Gmail",{clientId:L?.slice(0,12)+"...",redirectUri:z});const M=`https://accounts.google.com/o/oauth2/v2/auth?client_id=${L}&redirect_uri=${encodeURIComponent(z)}&response_type=code&scope=${T}&access_type=offline&prompt=consent&include_granted_scopes=true&state=${F}`;window.location.href=M};return y.useEffect(()=>{(async()=>{const U=new URLSearchParams(window.location.search),z=U.get("code"),T=U.get("state")||"";if(!z)return;const F="http://localhost:8787";try{if(T.startsWith("gmail:")&&!g){const M=localStorage.getItem("oauth_redirect_uri_gmail"),I=M||"http://localhost:5176/crm-ibrahim/";console.log("[oauth] exchange Gmail",{redirectUri:I,hasStored:!!M});const W=await fetch(`${F}/api/oauth/google/exchange`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:z,redirectUri:I,provider:"gmail"})}),R=await W.json();if(!W.ok){const q=R?.message||R?.error||"gmail_exchange_failed",ae=R?.details&&(R.details.error_description||R.details.error)||"";console.error("OAuth exchange failed (gmail):",R),alert(`  Gmail: ${q}${ae?"  "+ae:""}`);return}try{localStorage.setItem("oauth_token_gmail",JSON.stringify(R.token||R))}catch{}b(!0),C(q=>q.map(ae=>ae.id==="gmail"?{...ae,status:e("Connected"),connected:!0}:ae))}else if(T.startsWith("ads:")&&!m){const M=localStorage.getItem("oauth_redirect_uri_ads"),I=M||"http://localhost:5176/crm-ibrahim/";console.log("[oauth] exchange Google Ads",{redirectUri:I,hasStored:!!M});const W=await fetch(`${F}/api/oauth/google/exchange`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:z,redirectUri:I,provider:"ads"})}),R=await W.json();if(!W.ok){const q=R?.message||R?.error||"ads_exchange_failed",ae=R?.details&&(R.details.error_description||R.details.error)||"";console.error("OAuth exchange failed (ads):",R),alert(`  Google Ads: ${q}${ae?"  "+ae:""}`);return}try{localStorage.setItem("oauth_token_ads",JSON.stringify(R.token||R))}catch{}v(!0),C(q=>q.map(ae=>ae.id==="google-ads"?{...ae,status:e("Connected"),connected:!0}:ae))}}catch(M){console.error("OAuth exchange failed:",M),alert(`  ${T.startsWith("gmail:")?"Gmail":"Google Ads"}: ${M.message}`)}finally{const M=window.location.origin+"/crm-ibrahim/"+window.location.hash;window.history.replaceState({},document.title,M)}})()},[m,g,e]),s.jsxs(Ht,{children:[s.jsxs("div",{className:"space-y-6 bg-[var(--content-bg)] text-[var(--content-text)] overflow-x-hidden overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:e("Marketing Modules (Enhanced)")}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:e("Welcome, Super Admin!")})]}),s.jsx("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:s.jsx("button",{className:"btn btn-primary",onClick:()=>n(!0),children:e("Create Campaign")})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4",children:[s.jsxs("section",{className:"card glass-card p-4 lg:col-span-3",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Overview")}),s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx(ei,{percentage:80,centerValue:i,centerLabel:`${e("Total Active Campaigns")}:`,centerLabelPosition:"above",subLabel:e("Last 30 Days"),size:200,primaryColor:"#2dd4bf",secondaryColor:"#475569",cutout:"60%",spacing:0,borderRadius:12,centerValueClass:"text-4xl font-bold",centerLabelClass:"text-xs text-[var(--muted-text)] mb-1",subLabelClass:"text-[10px] text-[var(--muted-text)] mt-0.5",innerTrack:!0,innerTrackRadius:"92%",innerTrackCutout:"86%",innerTrackColor:"#3f4a5a"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[s.jsx("div",{className:"px-3 py-1 rounded-lg border border-[var(--panel-border)] bg-[var(--panel-bg)] text-xs text-[var(--muted-text)]",children:e("Avg Open Rate")}),s.jsx("div",{className:"px-3 py-1 rounded-lg border border-[var(--panel-border)] bg-[var(--panel-bg)] text-xs text-[var(--muted-text)]",children:e("Avg Click Rate")})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-baseline justify-between",children:[s.jsx("span",{className:"text-xs text-[var(--muted-text)]",children:e("Avg Open Rate")}),s.jsxs("div",{className:"flex items-baseline gap-8",children:[s.jsxs("span",{className:"text-xl font-bold",children:[l,"%"]}),s.jsxs("span",{className:"text-xl font-bold",children:[o,"%"]})]})]}),s.jsxs("div",{className:"flex items-baseline justify-between",children:[s.jsx("span",{className:"text-xs text-[var(--muted-text)]",children:e("Conversion Rate")}),s.jsxs("div",{className:"flex items-baseline gap-8",children:[s.jsxs("span",{className:"text-xl font-bold",children:[c,"%"]}),s.jsxs("span",{className:"text-xl font-bold",children:[c,"%"]})]})]})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-3",children:[d.map(L=>s.jsxs("section",{className:"card glass-card p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-semibold",children:L.title}),s.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-200",children:L.status})]}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)] mb-3",children:[L.account,"  ",e("Last Sync"),": ",L.lastSync]}),s.jsx("button",{className:"btn btn-secondary w-full h-9 text-sm",children:L.btn})]},L.id)),s.jsx("section",{className:"card glass-card p-3",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-around",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-xl bg-[#1877F2]",children:x5&&s.jsx(x5,{className:"text-white w-4 h-4"})}),s.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-xl bg-red-500",children:ky&&s.jsx(ky,{className:"text-white w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-center justify-around",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-xl bg-amber-500",children:g5&&s.jsx(g5,{className:"text-white w-4 h-4"})}),s.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 rounded-xl bg-green-500",children:Ju&&s.jsx(Ju,{className:"text-white w-4 h-4"})})]})]})})]})]}),s.jsx("div",{className:"border-t border-[var(--panel-border)] my-2 md:my-3"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 items-stretch",children:[s.jsxs("div",{className:"flex flex-col h-full gap-4",children:[s.jsxs("section",{className:"card glass-card p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Top Active Campaigns Dashboard")}),s.jsx(B2e,{height:180})]}),s.jsxs("section",{className:"card glass-card p-4 h-[300px] overflow-hidden flex flex-col",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Campaign Management Last 30 Days")}),s.jsx("div",{className:"overflow-auto -mx-4 flex-1",children:s.jsxs("table",{className:"nova-table w-full text-sm min-w-[520px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"py-2 px-4",children:e("Campaign Name")}),s.jsx("th",{className:"py-2 px-4",children:e("Status")}),s.jsx("th",{className:"py-2 px-4",children:e("Spend")}),s.jsx("th",{className:"py-2 px-4",children:e("Clicks")}),s.jsx("th",{className:"py-2 px-4",children:e("Conversions")}),s.jsx("th",{className:"py-2 px-4",children:"ROI"})]})}),s.jsx("tbody",{className:"text-gray-800 dark:text-gray-100",children:u.map((L,U)=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-800",children:[s.jsx("td",{className:"py-2 px-4",children:L.name}),s.jsx("td",{className:"py-2 px-4",children:L.status}),s.jsx("td",{className:"py-2 px-4",children:L.spend}),s.jsx("td",{className:"py-2 px-4",children:L.clicks}),s.jsx("td",{className:"py-2 px-4",children:L.conversions}),s.jsx("td",{className:"py-2 px-4",children:L.roi})]},U))})]})})]})]}),s.jsxs("div",{className:"flex flex-col h-full gap-4",children:[s.jsxs("section",{className:"card glass-card p-4 flex-1 min-h-0 overflow-hidden",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Cross-Channel Performance")}),s.jsx("div",{className:"overflow-auto -mx-4",children:s.jsxs("table",{className:"nova-table w-full text-sm min-w-[420px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"py-2 px-4",children:e("Platform")}),s.jsx("th",{className:"py-2 px-4",children:e("Spend")}),s.jsx("th",{className:"py-2 px-4",children:e("Impressions")}),s.jsx("th",{className:"py-2 px-4",children:e("Conversions")})]})}),s.jsx("tbody",{className:"text-gray-800 dark:text-gray-100",children:f.map((L,U)=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-800",children:[s.jsx("td",{className:"py-2 px-4",children:L.platform}),s.jsx("td",{className:"py-2 px-4",children:L.spend}),s.jsx("td",{className:"py-2 px-4",children:L.impressions}),s.jsx("td",{className:"py-2 px-4",children:L.conversions})]},U))})]})})]}),s.jsxs("section",{className:"card glass-card p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Automation & Rules")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsx("div",{className:"p-3 rounded border border-[var(--panel-border)] bg-[var(--panel-bg)] text-sm text-[var(--muted-text)]",children:e("Pause Google Ads campaign if CPA exceeds 3x")}),s.jsxs("button",{className:"btn btn-outline",children:["+ ",e("Create Automation Rule")]})]})]}),s.jsx("section",{className:"card glass-card p-4",children:s.jsxs("div",{className:`flex items-center justify-between gap-3 ${a?"flex-row-reverse":""}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:"btn btn-primary",onClick:()=>n(!0),children:["+ ",e("Create New Campaign")]}),s.jsx("button",{className:"btn btn-secondary",children:e("Edit")}),s.jsx("button",{className:"btn btn-outline",children:e("View")})]}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:["Increase Google budget exceeds 10%  ",e("Create Automation Rule")]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsx("section",{className:"card glass-card p-4",children:s.jsx(U2e,{})}),s.jsxs("section",{className:"card glass-card p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Integration Status")}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:S.map(L=>s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded border border-[var(--panel-border)] bg-[var(--panel-bg)]",children:[s.jsx("span",{className:`inline-flex items-center justify-center w-8 h-8 rounded-lg ${L.bg}`,children:L.icon&&L.icon({className:"text-white w-4 h-4"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:L.name}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:L.status})]}),s.jsx("span",{className:`w-2 h-2 rounded-full ${L.connected?"bg-emerald-500":"bg-red-500"}`}),L.id==="google-ads"&&!L.connected&&s.jsx("button",{className:"btn btn-primary btn-sm",onClick:_,children:e("Connect")}),L.id==="google-ads"&&L.connected&&s.jsx("button",{className:"btn btn-outline btn-sm",onClick:k,children:e("Disconnect")}),L.id==="gmail"&&!L.connected&&s.jsx("button",{className:"btn btn-primary btn-sm",onClick:P,children:e("Connect")}),L.id==="gmail"&&L.connected&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:j,children:e("Fetch")}),s.jsx("button",{className:"btn btn-outline btn-sm",onClick:N,children:e("Disconnect")})]})]},L.id))})]})]})]}),s.jsx($2e,{isOpen:r,onClose:()=>n(!1),onCreate:p})]})}const m8=y.createContext({});function p8(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const x8=typeof window<"u",oW=x8?y.useLayoutEffect:y.useEffect,nN=y.createContext(null);function g8(e,t){e.indexOf(t)===-1&&e.push(t)}function v8(e,t){const a=e.indexOf(t);a>-1&&e.splice(a,1)}const oh=(e,t,a)=>a>t?t:a<e?e:a;let b8=()=>{};const ch={},cW=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function dW(e){return typeof e=="object"&&e!==null}const uW=e=>/^0[^.\s]+$/u.test(e);function y8(e){let t;return()=>(t===void 0&&(t=e()),t)}const bc=e=>e,H2e=(e,t)=>a=>t(e(a)),Z1=(...e)=>e.reduce(H2e),u1=(e,t,a)=>{const r=t-e;return r===0?1:(a-e)/r};class w8{constructor(){this.subscriptions=[]}add(t){return g8(this.subscriptions,t),()=>v8(this.subscriptions,t)}notify(t,a,r){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](t,a,r);else for(let i=0;i<n;i++){const l=this.subscriptions[i];l&&l(t,a,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qd=e=>e*1e3,xc=e=>e/1e3;function hW(e,t){return t?e*(1e3/t):0}const fW=(e,t,a)=>(((1-3*a+3*t)*e+(3*a-6*t))*e+3*t)*e,V2e=1e-7,W2e=12;function q2e(e,t,a,r,n){let i,l,o=0;do l=t+(a-t)/2,i=fW(l,r,n)-e,i>0?a=l:t=l;while(Math.abs(i)>V2e&&++o<W2e);return l}function eb(e,t,a,r){if(e===t&&a===r)return bc;const n=i=>q2e(i,0,1,e,a);return i=>i===0||i===1?i:fW(n(i),t,r)}const mW=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,pW=e=>t=>1-e(1-t),xW=eb(.33,1.53,.69,.99),j8=pW(xW),gW=mW(j8),vW=e=>(e*=2)<1?.5*j8(e):.5*(2-Math.pow(2,-10*(e-1))),N8=e=>1-Math.sin(Math.acos(e)),bW=pW(N8),yW=mW(N8),G2e=eb(.42,0,1,1),K2e=eb(0,0,.58,1),wW=eb(.42,0,.58,1),Y2e=e=>Array.isArray(e)&&typeof e[0]!="number",jW=e=>Array.isArray(e)&&typeof e[0]=="number",X2e={linear:bc,easeIn:G2e,easeInOut:wW,easeOut:K2e,circIn:N8,circInOut:yW,circOut:bW,backIn:j8,backInOut:gW,backOut:xW,anticipate:vW},J2e=e=>typeof e=="string",AL=e=>{if(jW(e)){b8(e.length===4);const[t,a,r,n]=e;return eb(t,a,r,n)}else if(J2e(e))return X2e[e];return e},Jy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Q2e(e,t){let a=new Set,r=new Set,n=!1,i=!1;const l=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(u){l.has(u)&&(d.schedule(u),e()),u(o)}const d={schedule:(u,f=!1,p=!1)=>{const v=p&&n?a:r;return f&&l.add(u),v.has(u)||v.add(u),u},cancel:u=>{r.delete(u),l.delete(u)},process:u=>{if(o=u,n){i=!0;return}n=!0,[a,r]=[r,a],a.forEach(c),a.clear(),n=!1,i&&(i=!1,d.process(u))}};return d}const Z2e=40;function NW(e,t){let a=!1,r=!0;const n={delta:0,timestamp:0,isProcessing:!1},i=()=>a=!0,l=Jy.reduce((k,S)=>(k[S]=Q2e(i),k),{}),{setup:o,read:c,resolveKeyframes:d,preUpdate:u,update:f,preRender:p,render:m,postRender:v}=l,g=()=>{const k=ch.useManualTiming?n.timestamp:performance.now();a=!1,ch.useManualTiming||(n.delta=r?1e3/60:Math.max(Math.min(k-n.timestamp,Z2e),1)),n.timestamp=k,n.isProcessing=!0,o.process(n),c.process(n),d.process(n),u.process(n),f.process(n),p.process(n),m.process(n),v.process(n),n.isProcessing=!1,a&&t&&(r=!1,e(g))},b=()=>{a=!0,r=!0,n.isProcessing||e(g)};return{schedule:Jy.reduce((k,S)=>{const C=l[S];return k[S]=(_,P=!1,L=!1)=>(a||b(),C.schedule(_,P,L)),k},{}),cancel:k=>{for(let S=0;S<Jy.length;S++)l[Jy[S]].cancel(k)},state:n,steps:l}}const{schedule:Or,cancel:Of,state:Bi,steps:K5}=NW(typeof requestAnimationFrame<"u"?requestAnimationFrame:bc,!0);let I2;function ewe(){I2=void 0}const Zl={now:()=>(I2===void 0&&Zl.set(Bi.isProcessing||ch.useManualTiming?Bi.timestamp:performance.now()),I2),set:e=>{I2=e,queueMicrotask(ewe)}},kW=e=>t=>typeof t=="string"&&t.startsWith(e),k8=kW("--"),twe=kW("var(--"),S8=e=>twe(e)?awe.test(e.split("/*")[0].trim()):!1,awe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ex={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},h1={...Ex,transform:e=>oh(0,1,e)},Qy={...Ex,default:1},Sv=e=>Math.round(e*1e5)/1e5,C8=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function swe(e){return e==null}const rwe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,A8=(e,t)=>a=>!!(typeof a=="string"&&rwe.test(a)&&a.startsWith(e)||t&&!swe(a)&&Object.prototype.hasOwnProperty.call(a,t)),SW=(e,t,a)=>r=>{if(typeof r!="string")return r;const[n,i,l,o]=r.match(C8);return{[e]:parseFloat(n),[t]:parseFloat(i),[a]:parseFloat(l),alpha:o!==void 0?parseFloat(o):1}},nwe=e=>oh(0,255,e),Y5={...Ex,transform:e=>Math.round(nwe(e))},I0={test:A8("rgb","red"),parse:SW("red","green","blue"),transform:({red:e,green:t,blue:a,alpha:r=1})=>"rgba("+Y5.transform(e)+", "+Y5.transform(t)+", "+Y5.transform(a)+", "+Sv(h1.transform(r))+")"};function iwe(e){let t="",a="",r="",n="";return e.length>5?(t=e.substring(1,3),a=e.substring(3,5),r=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),a=e.substring(2,3),r=e.substring(3,4),n=e.substring(4,5),t+=t,a+=a,r+=r,n+=n),{red:parseInt(t,16),green:parseInt(a,16),blue:parseInt(r,16),alpha:n?parseInt(n,16)/255:1}}const dC={test:A8("#"),parse:iwe,transform:I0.transform},tb=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ff=tb("deg"),Zd=tb("%"),Ra=tb("px"),lwe=tb("vh"),owe=tb("vw"),_L={...Zd,parse:e=>Zd.parse(e)/100,transform:e=>Zd.transform(e*100)},$p={test:A8("hsl","hue"),parse:SW("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:a,alpha:r=1})=>"hsla("+Math.round(e)+", "+Zd.transform(Sv(t))+", "+Zd.transform(Sv(a))+", "+Sv(h1.transform(r))+")"},Fn={test:e=>I0.test(e)||dC.test(e)||$p.test(e),parse:e=>I0.test(e)?I0.parse(e):$p.test(e)?$p.parse(e):dC.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?I0.transform(e):$p.transform(e),getAnimatableNone:e=>{const t=Fn.parse(e);return t.alpha=0,Fn.transform(t)}},cwe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function dwe(e){return isNaN(e)&&typeof e=="string"&&(e.match(C8)?.length||0)+(e.match(cwe)?.length||0)>0}const CW="number",AW="color",uwe="var",hwe="var(",TL="${}",fwe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function f1(e){const t=e.toString(),a=[],r={color:[],number:[],var:[]},n=[];let i=0;const o=t.replace(fwe,c=>(Fn.test(c)?(r.color.push(i),n.push(AW),a.push(Fn.parse(c))):c.startsWith(hwe)?(r.var.push(i),n.push(uwe),a.push(c)):(r.number.push(i),n.push(CW),a.push(parseFloat(c))),++i,TL)).split(TL);return{values:a,split:o,indexes:r,types:n}}function _W(e){return f1(e).values}function TW(e){const{split:t,types:a}=f1(e),r=t.length;return n=>{let i="";for(let l=0;l<r;l++)if(i+=t[l],n[l]!==void 0){const o=a[l];o===CW?i+=Sv(n[l]):o===AW?i+=Fn.transform(n[l]):i+=n[l]}return i}}const mwe=e=>typeof e=="number"?0:Fn.test(e)?Fn.getAnimatableNone(e):e;function pwe(e){const t=_W(e);return TW(e)(t.map(mwe))}const Rf={test:dwe,parse:_W,createTransformer:TW,getAnimatableNone:pwe};function X5(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+(t-e)*6*a:a<1/2?t:a<2/3?e+(t-e)*(2/3-a)*6:e}function xwe({hue:e,saturation:t,lightness:a,alpha:r}){e/=360,t/=100,a/=100;let n=0,i=0,l=0;if(!t)n=i=l=a;else{const o=a<.5?a*(1+t):a+t-a*t,c=2*a-o;n=X5(c,o,e+1/3),i=X5(c,o,e),l=X5(c,o,e-1/3)}return{red:Math.round(n*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:r}}function kw(e,t){return a=>a>0?t:e}const Gr=(e,t,a)=>e+(t-e)*a,J5=(e,t,a)=>{const r=e*e,n=a*(t*t-r)+r;return n<0?0:Math.sqrt(n)},gwe=[dC,I0,$p],vwe=e=>gwe.find(t=>t.test(e));function EL(e){const t=vwe(e);if(!t)return!1;let a=t.parse(e);return t===$p&&(a=xwe(a)),a}const DL=(e,t)=>{const a=EL(e),r=EL(t);if(!a||!r)return kw(e,t);const n={...a};return i=>(n.red=J5(a.red,r.red,i),n.green=J5(a.green,r.green,i),n.blue=J5(a.blue,r.blue,i),n.alpha=Gr(a.alpha,r.alpha,i),I0.transform(n))},uC=new Set(["none","hidden"]);function bwe(e,t){return uC.has(e)?a=>a<=0?e:t:a=>a>=1?t:e}function ywe(e,t){return a=>Gr(e,t,a)}function _8(e){return typeof e=="number"?ywe:typeof e=="string"?S8(e)?kw:Fn.test(e)?DL:Nwe:Array.isArray(e)?EW:typeof e=="object"?Fn.test(e)?DL:wwe:kw}function EW(e,t){const a=[...e],r=a.length,n=e.map((i,l)=>_8(i)(i,t[l]));return i=>{for(let l=0;l<r;l++)a[l]=n[l](i);return a}}function wwe(e,t){const a={...e,...t},r={};for(const n in a)e[n]!==void 0&&t[n]!==void 0&&(r[n]=_8(e[n])(e[n],t[n]));return n=>{for(const i in r)a[i]=r[i](n);return a}}function jwe(e,t){const a=[],r={color:0,var:0,number:0};for(let n=0;n<t.values.length;n++){const i=t.types[n],l=e.indexes[i][r[i]],o=e.values[l]??0;a[n]=o,r[i]++}return a}const Nwe=(e,t)=>{const a=Rf.createTransformer(t),r=f1(e),n=f1(t);return r.indexes.var.length===n.indexes.var.length&&r.indexes.color.length===n.indexes.color.length&&r.indexes.number.length>=n.indexes.number.length?uC.has(e)&&!n.values.length||uC.has(t)&&!r.values.length?bwe(e,t):Z1(EW(jwe(r,n),n.values),a):kw(e,t)};function DW(e,t,a){return typeof e=="number"&&typeof t=="number"&&typeof a=="number"?Gr(e,t,a):_8(e)(e,t)}const kwe=e=>{const t=({timestamp:a})=>e(a);return{start:(a=!0)=>Or.update(t,a),stop:()=>Of(t),now:()=>Bi.isProcessing?Bi.timestamp:Zl.now()}},MW=(e,t,a=10)=>{let r="";const n=Math.max(Math.round(t/a),2);for(let i=0;i<n;i++)r+=Math.round(e(i/(n-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Sw=2e4;function T8(e){let t=0;const a=50;let r=e.next(t);for(;!r.done&&t<Sw;)t+=a,r=e.next(t);return t>=Sw?1/0:t}function Swe(e,t=100,a){const r=a({...e,keyframes:[0,t]}),n=Math.min(T8(r),Sw);return{type:"keyframes",ease:i=>r.next(n*i).value/t,duration:xc(n)}}const Cwe=5;function PW(e,t,a){const r=Math.max(t-Cwe,0);return hW(a-e(r),t-r)}const an={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Q5=.001;function Awe({duration:e=an.duration,bounce:t=an.bounce,velocity:a=an.velocity,mass:r=an.mass}){let n,i,l=1-t;l=oh(an.minDamping,an.maxDamping,l),e=oh(an.minDuration,an.maxDuration,xc(e)),l<1?(n=d=>{const u=d*l,f=u*e,p=u-a,m=hC(d,l),v=Math.exp(-f);return Q5-p/m*v},i=d=>{const f=d*l*e,p=f*a+a,m=Math.pow(l,2)*Math.pow(d,2)*e,v=Math.exp(-f),g=hC(Math.pow(d,2),l);return(-n(d)+Q5>0?-1:1)*((p-m)*v)/g}):(n=d=>{const u=Math.exp(-d*e),f=(d-a)*e+1;return-Q5+u*f},i=d=>{const u=Math.exp(-d*e),f=(a-d)*(e*e);return u*f});const o=5/e,c=Twe(n,i,o);if(e=Qd(e),isNaN(c))return{stiffness:an.stiffness,damping:an.damping,duration:e};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:l*2*Math.sqrt(r*d),duration:e}}}const _we=12;function Twe(e,t,a){let r=a;for(let n=1;n<_we;n++)r=r-e(r)/t(r);return r}function hC(e,t){return e*Math.sqrt(1-t*t)}const Ewe=["duration","bounce"],Dwe=["stiffness","damping","mass"];function ML(e,t){return t.some(a=>e[a]!==void 0)}function Mwe(e){let t={velocity:an.velocity,stiffness:an.stiffness,damping:an.damping,mass:an.mass,isResolvedFromDuration:!1,...e};if(!ML(e,Dwe)&&ML(e,Ewe))if(e.visualDuration){const a=e.visualDuration,r=2*Math.PI/(a*1.2),n=r*r,i=2*oh(.05,1,1-(e.bounce||0))*Math.sqrt(n);t={...t,mass:an.mass,stiffness:n,damping:i}}else{const a=Awe(e);t={...t,...a,mass:an.mass},t.isResolvedFromDuration=!0}return t}function Cw(e=an.visualDuration,t=an.bounce){const a=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:n}=a;const i=a.keyframes[0],l=a.keyframes[a.keyframes.length-1],o={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:f,velocity:p,isResolvedFromDuration:m}=Mwe({...a,velocity:-xc(a.velocity||0)}),v=p||0,g=d/(2*Math.sqrt(c*u)),b=l-i,j=xc(Math.sqrt(c/u)),N=Math.abs(b)<5;r||(r=N?an.restSpeed.granular:an.restSpeed.default),n||(n=N?an.restDelta.granular:an.restDelta.default);let k;if(g<1){const C=hC(j,g);k=_=>{const P=Math.exp(-g*j*_);return l-P*((v+g*j*b)/C*Math.sin(C*_)+b*Math.cos(C*_))}}else if(g===1)k=C=>l-Math.exp(-j*C)*(b+(v+j*b)*C);else{const C=j*Math.sqrt(g*g-1);k=_=>{const P=Math.exp(-g*j*_),L=Math.min(C*_,300);return l-P*((v+g*j*b)*Math.sinh(L)+C*b*Math.cosh(L))/C}}const S={calculatedDuration:m&&f||null,next:C=>{const _=k(C);if(m)o.done=C>=f;else{let P=C===0?v:0;g<1&&(P=C===0?Qd(v):PW(k,C,_));const L=Math.abs(P)<=r,U=Math.abs(l-_)<=n;o.done=L&&U}return o.value=o.done?l:_,o},toString:()=>{const C=Math.min(T8(S),Sw),_=MW(P=>S.next(C*P).value,C,30);return C+"ms "+_},toTransition:()=>{}};return S}Cw.applyToOptions=e=>{const t=Swe(e,100,Cw);return e.ease=t.ease,e.duration=Qd(t.duration),e.type="keyframes",e};function fC({keyframes:e,velocity:t=0,power:a=.8,timeConstant:r=325,bounceDamping:n=10,bounceStiffness:i=500,modifyTarget:l,min:o,max:c,restDelta:d=.5,restSpeed:u}){const f=e[0],p={done:!1,value:f},m=L=>o!==void 0&&L<o||c!==void 0&&L>c,v=L=>o===void 0?c:c===void 0||Math.abs(o-L)<Math.abs(c-L)?o:c;let g=a*t;const b=f+g,j=l===void 0?b:l(b);j!==b&&(g=j-f);const N=L=>-g*Math.exp(-L/r),k=L=>j+N(L),S=L=>{const U=N(L),z=k(L);p.done=Math.abs(U)<=d,p.value=p.done?j:z};let C,_;const P=L=>{m(p.value)&&(C=L,_=Cw({keyframes:[p.value,v(p.value)],velocity:PW(k,L,p.value),damping:n,stiffness:i,restDelta:d,restSpeed:u}))};return P(0),{calculatedDuration:null,next:L=>{let U=!1;return!_&&C===void 0&&(U=!0,S(L),P(L)),C!==void 0&&L>=C?_.next(L-C):(!U&&S(L),p)}}}function Pwe(e,t,a){const r=[],n=a||ch.mix||DW,i=e.length-1;for(let l=0;l<i;l++){let o=n(e[l],e[l+1]);if(t){const c=Array.isArray(t)?t[l]||bc:t;o=Z1(c,o)}r.push(o)}return r}function Lwe(e,t,{clamp:a=!0,ease:r,mixer:n}={}){const i=e.length;if(b8(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Pwe(t,r,n),c=o.length,d=u=>{if(l&&u<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const p=u1(e[f],e[f+1],u);return o[f](p)};return a?u=>d(oh(e[0],e[i-1],u)):d}function Owe(e,t){const a=e[e.length-1];for(let r=1;r<=t;r++){const n=u1(0,t,r);e.push(Gr(a,1,n))}}function Rwe(e){const t=[0];return Owe(t,e.length-1),t}function Fwe(e,t){return e.map(a=>a*t)}function Iwe(e,t){return e.map(()=>t||wW).splice(0,e.length-1)}function Cv({duration:e=300,keyframes:t,times:a,ease:r="easeInOut"}){const n=Y2e(r)?r.map(AL):AL(r),i={done:!1,value:t[0]},l=Fwe(a&&a.length===t.length?a:Rwe(t),e),o=Lwe(l,t,{ease:Array.isArray(n)?n:Iwe(t,n)});return{calculatedDuration:e,next:c=>(i.value=o(c),i.done=c>=e,i)}}const Bwe=e=>e!==null;function E8(e,{repeat:t,repeatType:a="loop"},r,n=1){const i=e.filter(Bwe),o=n<0||t&&a!=="loop"&&t%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const $we={decay:fC,inertia:fC,tween:Cv,keyframes:Cv,spring:Cw};function LW(e){typeof e.type=="string"&&(e.type=$we[e.type])}class D8{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,a){return this.finished.then(t,a)}}const Uwe=e=>e/100;class M8 extends D8{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:a}=this.options;a&&a.updatedAt!==Zl.now()&&this.tick(Zl.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;LW(t);const{type:a=Cv,repeat:r=0,repeatDelay:n=0,repeatType:i,velocity:l=0}=t;let{keyframes:o}=t;const c=a||Cv;c!==Cv&&typeof o[0]!="number"&&(this.mixKeyframes=Z1(Uwe,DW(o[0],o[1])),o=[0,100]);const d=c({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...o].reverse(),velocity:-l})),d.calculatedDuration===null&&(d.calculatedDuration=T8(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+n,this.totalDuration=this.resolvedDuration*(r+1)-n,this.generator=d}updateTime(t){const a=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(t,a=!1){const{generator:r,totalDuration:n,mixKeyframes:i,mirroredGenerator:l,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:u,repeat:f,repeatType:p,repeatDelay:m,type:v,onUpdate:g,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-n/this.speed,this.startTime)),a?this.currentTime=t:this.updateTime(t);const j=this.currentTime-d*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?j<0:j>n;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let k=this.currentTime,S=r;if(f){const L=Math.min(this.currentTime,n)/o;let U=Math.floor(L),z=L%1;!z&&L>=1&&(z=1),z===1&&U--,U=Math.min(U,f+1),!!(U%2)&&(p==="reverse"?(z=1-z,m&&(z-=m/o)):p==="mirror"&&(S=l)),k=oh(0,1,z)*o}const C=N?{done:!1,value:u[0]}:S.next(k);i&&(C.value=i(C.value));let{done:_}=C;!N&&c!==null&&(_=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return P&&v!==fC&&(C.value=E8(u,this.options,b,this.speed)),g&&g(C.value),P&&this.finish(),C}then(t,a){return this.finished.then(t,a)}get duration(){return xc(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+xc(t)}get time(){return xc(this.currentTime)}set time(t){t=Qd(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Zl.now());const a=this.playbackSpeed!==t;this.playbackSpeed=t,a&&(this.time=xc(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=kwe,startTime:a}=this.options;this.driver||(this.driver=t(n=>this.tick(n))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=a??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Zl.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function zwe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const B0=e=>e*180/Math.PI,mC=e=>{const t=B0(Math.atan2(e[1],e[0]));return pC(t)},Hwe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:mC,rotateZ:mC,skewX:e=>B0(Math.atan(e[1])),skewY:e=>B0(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},pC=e=>(e=e%360,e<0&&(e+=360),e),PL=mC,LL=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),OL=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Vwe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:LL,scaleY:OL,scale:e=>(LL(e)+OL(e))/2,rotateX:e=>pC(B0(Math.atan2(e[6],e[5]))),rotateY:e=>pC(B0(Math.atan2(-e[2],e[0]))),rotateZ:PL,rotate:PL,skewX:e=>B0(Math.atan(e[4])),skewY:e=>B0(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function xC(e){return e.includes("scale")?1:0}function gC(e,t){if(!e||e==="none")return xC(t);const a=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,n;if(a)r=Vwe,n=a;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Hwe,n=o}if(!n)return xC(t);const i=r[t],l=n[1].split(",").map(qwe);return typeof i=="function"?i(l):l[i]}const Wwe=(e,t)=>{const{transform:a="none"}=getComputedStyle(e);return gC(a,t)};function qwe(e){return parseFloat(e.trim())}const Dx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mx=new Set(Dx),RL=e=>e===Ex||e===Ra,Gwe=new Set(["x","y","z"]),Kwe=Dx.filter(e=>!Gwe.has(e));function Ywe(e){const t=[];return Kwe.forEach(a=>{const r=e.getValue(a);r!==void 0&&(t.push([a,r.get()]),r.set(a.startsWith("scale")?1:0))}),t}const Q0={width:({x:e},{paddingLeft:t="0",paddingRight:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),height:({y:e},{paddingTop:t="0",paddingBottom:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>gC(t,"x"),y:(e,{transform:t})=>gC(t,"y")};Q0.translateX=Q0.x;Q0.translateY=Q0.y;const Z0=new Set;let vC=!1,bC=!1,yC=!1;function OW(){if(bC){const e=Array.from(Z0).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),a=new Map;t.forEach(r=>{const n=Ywe(r);n.length&&(a.set(r,n),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const n=a.get(r);n&&n.forEach(([i,l])=>{r.getValue(i)?.set(l)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}bC=!1,vC=!1,Z0.forEach(e=>e.complete(yC)),Z0.clear()}function RW(){Z0.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(bC=!0)})}function Xwe(){yC=!0,RW(),OW(),yC=!1}class P8{constructor(t,a,r,n,i,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=a,this.name=r,this.motionValue=n,this.element=i,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Z0.add(this),vC||(vC=!0,Or.read(RW),Or.resolveKeyframes(OW))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:a,element:r,motionValue:n}=this;if(t[0]===null){const i=n?.get(),l=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&a){const o=r.readValue(a,l);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=l),n&&i===void 0&&n.set(t[0])}zwe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Z0.delete(this)}cancel(){this.state==="scheduled"&&(Z0.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Jwe=e=>e.startsWith("--");function Qwe(e,t,a){Jwe(t)?e.style.setProperty(t,a):e.style[t]=a}const Zwe=y8(()=>window.ScrollTimeline!==void 0),eje={};function tje(e,t){const a=y8(e);return()=>eje[t]??a()}const FW=tje(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cv=([e,t,a,r])=>`cubic-bezier(${e}, ${t}, ${a}, ${r})`,FL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cv([0,.65,.55,1]),circOut:cv([.55,0,1,.45]),backIn:cv([.31,.01,.66,-.59]),backOut:cv([.33,1.53,.69,.99])};function IW(e,t){if(e)return typeof e=="function"?FW()?MW(e,t):"ease-out":jW(e)?cv(e):Array.isArray(e)?e.map(a=>IW(a,t)||FL.easeOut):FL[e]}function aje(e,t,a,{delay:r=0,duration:n=300,repeat:i=0,repeatType:l="loop",ease:o="easeOut",times:c}={},d=void 0){const u={[t]:a};c&&(u.offset=c);const f=IW(o,n);Array.isArray(f)&&(u.easing=f);const p={delay:r,duration:n,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),e.animate(u,p)}function BW(e){return typeof e=="function"&&"applyToOptions"in e}function sje({type:e,...t}){return BW(e)&&FW()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class rje extends D8{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:a,name:r,keyframes:n,pseudoElement:i,allowFlatten:l=!1,finalKeyframe:o,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=l,this.options=t,b8(typeof t.type!="string");const d=sje(t);this.animation=aje(a,r,n,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=E8(n,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):Qwe(a,r,u),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return xc(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+xc(t)}get time(){return xc(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Qd(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:a}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Zwe()?(this.animation.timeline=t,bc):a(this)}}const $W={anticipate:vW,backInOut:gW,circInOut:yW};function nje(e){return e in $W}function ije(e){typeof e.ease=="string"&&nje(e.ease)&&(e.ease=$W[e.ease])}const IL=10;class lje extends rje{constructor(t){ije(t),LW(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:a,onUpdate:r,onComplete:n,element:i,...l}=this.options;if(!a)return;if(t!==void 0){a.set(t);return}const o=new M8({...l,autoplay:!1}),c=Qd(this.finishedTime??this.time);a.setWithVelocity(o.sample(c-IL).value,o.sample(c).value,IL),o.stop()}}const BL=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Rf.test(e)||e==="0")&&!e.startsWith("url("));function oje(e){const t=e[0];if(e.length===1)return!0;for(let a=0;a<e.length;a++)if(e[a]!==t)return!0}function cje(e,t,a,r){const n=e[0];if(n===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],l=BL(n,t),o=BL(i,t);return!l||!o?!1:oje(e)||(a==="spring"||BW(a))&&r}function wC(e){e.duration=0,e.type="keyframes"}const dje=new Set(["opacity","clipPath","filter","transform"]),uje=y8(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function hje(e){const{motionValue:t,name:a,repeatDelay:r,repeatType:n,damping:i,type:l}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return uje()&&a&&dje.has(a)&&(a!=="transform"||!d)&&!c&&!r&&n!=="mirror"&&i!==0&&l!=="inertia"}const fje=40;class mje extends D8{constructor({autoplay:t=!0,delay:a=0,type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:l="loop",keyframes:o,name:c,motionValue:d,element:u,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Zl.now();const p={autoplay:t,delay:a,type:r,repeat:n,repeatDelay:i,repeatType:l,name:c,motionValue:d,element:u,...f},m=u?.KeyframeResolver||P8;this.keyframeResolver=new m(o,(v,g,b)=>this.onKeyframesResolved(v,g,p,!b),c,d,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,a,r,n){this.keyframeResolver=void 0;const{name:i,type:l,velocity:o,delay:c,isHandoff:d,onUpdate:u}=r;this.resolvedAt=Zl.now(),cje(t,i,l,o)||((ch.instantAnimations||!c)&&u?.(E8(t,r,a)),t[0]=t[t.length-1],wC(r),r.repeat=0);const p={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>fje?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...r,keyframes:t},m=!d&&hje(p)?new lje({...p,element:p.motionValue.owner.current}):new M8(p);m.finished.then(()=>this.notifyFinished()).catch(bc),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,a){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Xwe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const pje=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xje(e){const t=pje.exec(e);if(!t)return[,];const[,a,r,n]=t;return[`--${a??r}`,n]}function UW(e,t,a=1){const[r,n]=xje(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const l=i.trim();return cW(l)?parseFloat(l):l}return S8(n)?UW(n,t,a+1):n}function L8(e,t){return e?.[t]??e?.default??e}const zW=new Set(["width","height","top","left","right","bottom",...Dx]),gje={test:e=>e==="auto",parse:e=>e},HW=e=>t=>t.test(e),VW=[Ex,Ra,Zd,ff,owe,lwe,gje],$L=e=>VW.find(HW(e));function vje(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||uW(e):!0}const bje=new Set(["brightness","contrast","saturate","opacity"]);function yje(e){const[t,a]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=a.match(C8)||[];if(!r)return e;const n=a.replace(r,"");let i=bje.has(t)?1:0;return r!==a&&(i*=100),t+"("+i+n+")"}const wje=/\b([a-z-]*)\(.*?\)/gu,jC={...Rf,getAnimatableNone:e=>{const t=e.match(wje);return t?t.map(yje).join(" "):e}},UL={...Ex,transform:Math.round},jje={rotate:ff,rotateX:ff,rotateY:ff,rotateZ:ff,scale:Qy,scaleX:Qy,scaleY:Qy,scaleZ:Qy,skew:ff,skewX:ff,skewY:ff,distance:Ra,translateX:Ra,translateY:Ra,translateZ:Ra,x:Ra,y:Ra,z:Ra,perspective:Ra,transformPerspective:Ra,opacity:h1,originX:_L,originY:_L,originZ:Ra},O8={borderWidth:Ra,borderTopWidth:Ra,borderRightWidth:Ra,borderBottomWidth:Ra,borderLeftWidth:Ra,borderRadius:Ra,radius:Ra,borderTopLeftRadius:Ra,borderTopRightRadius:Ra,borderBottomRightRadius:Ra,borderBottomLeftRadius:Ra,width:Ra,maxWidth:Ra,height:Ra,maxHeight:Ra,top:Ra,right:Ra,bottom:Ra,left:Ra,padding:Ra,paddingTop:Ra,paddingRight:Ra,paddingBottom:Ra,paddingLeft:Ra,margin:Ra,marginTop:Ra,marginRight:Ra,marginBottom:Ra,marginLeft:Ra,backgroundPositionX:Ra,backgroundPositionY:Ra,...jje,zIndex:UL,fillOpacity:h1,strokeOpacity:h1,numOctaves:UL},Nje={...O8,color:Fn,backgroundColor:Fn,outlineColor:Fn,fill:Fn,stroke:Fn,borderColor:Fn,borderTopColor:Fn,borderRightColor:Fn,borderBottomColor:Fn,borderLeftColor:Fn,filter:jC,WebkitFilter:jC},WW=e=>Nje[e];function qW(e,t){let a=WW(e);return a!==jC&&(a=Rf),a.getAnimatableNone?a.getAnimatableNone(t):void 0}const kje=new Set(["auto","none","0"]);function Sje(e,t,a){let r=0,n;for(;r<e.length&&!n;){const i=e[r];typeof i=="string"&&!kje.has(i)&&f1(i).values.length&&(n=e[r]),r++}if(n&&a)for(const i of t)e[i]=qW(a,n)}class Cje extends P8{constructor(t,a,r,n,i){super(t,a,r,n,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:a,name:r}=this;if(!a||!a.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),S8(d))){const u=UW(d,a.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!zW.has(r)||t.length!==2)return;const[n,i]=t,l=$L(n),o=$L(i);if(l!==o)if(RL(l)&&RL(o))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else Q0[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:a}=this,r=[];for(let n=0;n<t.length;n++)(t[n]===null||vje(t[n]))&&r.push(n);r.length&&Sje(t,r,a)}measureInitialState(){const{element:t,unresolvedKeyframes:a,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Q0[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a[0]=this.measuredOrigin;const n=a[a.length-1];n!==void 0&&t.getValue(r,n).jump(n,!1)}measureEndState(){const{element:t,name:a,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const n=t.getValue(a);n&&n.jump(this.measuredOrigin,!1);const i=r.length-1,l=r[i];r[i]=Q0[a](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,c])=>{t.getValue(o).set(c)}),this.resolveNoneKeyframes()}}function Aje(e,t,a){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const n=a?.[e]??r.querySelectorAll(e);return n?Array.from(n):[]}return Array.from(e)}const GW=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function KW(e){return dW(e)&&"offsetHeight"in e}const zL=30,_je=e=>!isNaN(parseFloat(e));class Tje{constructor(t,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const n=Zl.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=a.owner}setCurrent(t){this.current=t,this.updatedAt=Zl.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=_je(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,a){this.events[t]||(this.events[t]=new w8);const r=this.events[t].add(a);return t==="change"?()=>{r(),Or.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,a){this.passiveEffect=t,this.stopPassiveEffect=a}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,a,r){this.set(a),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,a=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Zl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>zL)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,zL);return hW(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(t){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=t(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dx(e,t){return new Tje(e,t)}const{schedule:R8}=NW(queueMicrotask,!1),Zc={x:!1,y:!1};function YW(){return Zc.x||Zc.y}function Eje(e){return e==="x"||e==="y"?Zc[e]?null:(Zc[e]=!0,()=>{Zc[e]=!1}):Zc.x||Zc.y?null:(Zc.x=Zc.y=!0,()=>{Zc.x=Zc.y=!1})}function XW(e,t){const a=Aje(e),r=new AbortController,n={passive:!0,...t,signal:r.signal};return[a,n,()=>r.abort()]}function HL(e){return!(e.pointerType==="touch"||YW())}function Dje(e,t,a={}){const[r,n,i]=XW(e,a),l=o=>{if(!HL(o))return;const{target:c}=o,d=t(c,o);if(typeof d!="function"||!c)return;const u=f=>{HL(f)&&(d(f),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,n)};return r.forEach(o=>{o.addEventListener("pointerenter",l,n)}),i}const JW=(e,t)=>t?e===t?!0:JW(e,t.parentElement):!1,F8=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Mje=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Pje(e){return Mje.has(e.tagName)||e.tabIndex!==-1}const B2=new WeakSet;function VL(e){return t=>{t.key==="Enter"&&e(t)}}function Z5(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Lje=(e,t)=>{const a=e.currentTarget;if(!a)return;const r=VL(()=>{if(B2.has(a))return;Z5(a,"down");const n=VL(()=>{Z5(a,"up")}),i=()=>Z5(a,"cancel");a.addEventListener("keyup",n,t),a.addEventListener("blur",i,t)});a.addEventListener("keydown",r,t),a.addEventListener("blur",()=>a.removeEventListener("keydown",r),t)};function WL(e){return F8(e)&&!YW()}function Oje(e,t,a={}){const[r,n,i]=XW(e,a),l=o=>{const c=o.currentTarget;if(!WL(o))return;B2.add(c);const d=t(c,o),u=(m,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),B2.has(c)&&B2.delete(c),WL(m)&&typeof d=="function"&&d(m,{success:v})},f=m=>{u(m,c===window||c===document||a.useGlobalTarget||JW(c,m.target))},p=m=>{u(m,!1)};window.addEventListener("pointerup",f,n),window.addEventListener("pointercancel",p,n)};return r.forEach(o=>{(a.useGlobalTarget?window:o).addEventListener("pointerdown",l,n),KW(o)&&(o.addEventListener("focus",d=>Lje(d,n)),!Pje(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function QW(e){return dW(e)&&"ownerSVGElement"in e}function Rje(e){return QW(e)&&e.tagName==="svg"}const dl=e=>!!(e&&e.getVelocity),Fje=[...VW,Fn,Rf],Ije=e=>Fje.find(HW(e)),I8=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function qL(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Bje(...e){return t=>{let a=!1;const r=e.map(n=>{const i=qL(n,t);return!a&&typeof i=="function"&&(a=!0),i});if(a)return()=>{for(let n=0;n<r.length;n++){const i=r[n];typeof i=="function"?i():qL(e[n],null)}}}}function $je(...e){return y.useCallback(Bje(...e),e)}class Uje extends y.Component{getSnapshotBeforeUpdate(t){const a=this.props.childRef.current;if(a&&t.isPresent&&!this.props.isPresent){const r=a.offsetParent,n=KW(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=a.offsetHeight||0,i.width=a.offsetWidth||0,i.top=a.offsetTop,i.left=a.offsetLeft,i.right=n-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function zje({children:e,isPresent:t,anchorX:a,root:r}){const n=y.useId(),i=y.useRef(null),l=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=y.useContext(I8),c=$je(i,e?.ref);return y.useInsertionEffect(()=>{const{width:d,height:u,top:f,left:p,right:m}=l.current;if(t||!i.current||!d||!u)return;const v=a==="left"?`left: ${p}`:`right: ${m}`;i.current.dataset.motionPopId=n;const g=document.createElement("style");o&&(g.nonce=o);const b=r??document.head;return b.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${u}px !important;
            ${v}px !important;
            top: ${f}px !important;
          }
        `),()=>{b.contains(g)&&b.removeChild(g)}},[t]),s.jsx(Uje,{isPresent:t,childRef:i,sizeRef:l,children:y.cloneElement(e,{ref:c})})}const Hje=({children:e,initial:t,isPresent:a,onExitComplete:r,custom:n,presenceAffectsLayout:i,mode:l,anchorX:o,root:c})=>{const d=p8(Vje),u=y.useId();let f=!0,p=y.useMemo(()=>(f=!1,{id:u,initial:t,isPresent:a,custom:n,onExitComplete:m=>{d.set(m,!0);for(const v of d.values())if(!v)return;r&&r()},register:m=>(d.set(m,!1),()=>d.delete(m))}),[a,d,r]);return i&&f&&(p={...p}),y.useMemo(()=>{d.forEach((m,v)=>d.set(v,!1))},[a]),y.useEffect(()=>{!a&&!d.size&&r&&r()},[a]),l==="popLayout"&&(e=s.jsx(zje,{isPresent:a,anchorX:o,root:c,children:e})),s.jsx(nN.Provider,{value:p,children:e})};function Vje(){return new Map}function ZW(e=!0){const t=y.useContext(nN);if(t===null)return[!0,null];const{isPresent:a,onExitComplete:r,register:n}=t,i=y.useId();y.useEffect(()=>{if(e)return n(i)},[e]);const l=y.useCallback(()=>e&&r&&r(i),[i,r,e]);return!a&&r?[!1,l]:[!0]}const Zy=e=>e.key||"";function GL(e){const t=[];return y.Children.forEach(e,a=>{y.isValidElement(a)&&t.push(a)}),t}const Wje=({children:e,custom:t,initial:a=!0,onExitComplete:r,presenceAffectsLayout:n=!0,mode:i="sync",propagate:l=!1,anchorX:o="left",root:c})=>{const[d,u]=ZW(l),f=y.useMemo(()=>GL(e),[e]),p=l&&!d?[]:f.map(Zy),m=y.useRef(!0),v=y.useRef(f),g=p8(()=>new Map),[b,j]=y.useState(f),[N,k]=y.useState(f);oW(()=>{m.current=!1,v.current=f;for(let _=0;_<N.length;_++){const P=Zy(N[_]);p.includes(P)?g.delete(P):g.get(P)!==!0&&g.set(P,!1)}},[N,p.length,p.join("-")]);const S=[];if(f!==b){let _=[...f];for(let P=0;P<N.length;P++){const L=N[P],U=Zy(L);p.includes(U)||(_.splice(P,0,L),S.push(L))}return i==="wait"&&S.length&&(_=S),k(GL(_)),j(f),null}const{forceRender:C}=y.useContext(m8);return s.jsx(s.Fragment,{children:N.map(_=>{const P=Zy(_),L=l&&!d?!1:f===N||p.includes(P),U=()=>{if(g.has(P))g.set(P,!0);else return;let z=!0;g.forEach(T=>{T||(z=!1)}),z&&(C?.(),k(v.current),l&&u?.(),r&&r())};return s.jsx(Hje,{isPresent:L,initial:!m.current||a?void 0:!1,custom:t,presenceAffectsLayout:n,mode:i,root:c,onExitComplete:L?void 0:U,anchorX:o,children:_},P)})})},eq=y.createContext({strict:!1}),KL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ux={};for(const e in KL)ux[e]={isEnabled:t=>KL[e].some(a=>!!t[a])};function qje(e){for(const t in e)ux[t]={...ux[t],...e[t]}}const Gje=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Aw(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Gje.has(e)}let tq=e=>!Aw(e);function Kje(e){typeof e=="function"&&(tq=t=>t.startsWith("on")?!Aw(t):e(t))}try{Kje(require("@emotion/is-prop-valid").default)}catch{}function Yje(e,t,a){const r={};for(const n in e)n==="values"&&typeof e.values=="object"||(tq(n)||a===!0&&Aw(n)||!t&&!Aw(n)||e.draggable&&n.startsWith("onDrag"))&&(r[n]=e[n]);return r}const iN=y.createContext({});function lN(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function m1(e){return typeof e=="string"||Array.isArray(e)}const B8=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$8=["initial",...B8];function oN(e){return lN(e.animate)||$8.some(t=>m1(e[t]))}function aq(e){return!!(oN(e)||e.variants)}function Xje(e,t){if(oN(e)){const{initial:a,animate:r}=e;return{initial:a===!1||m1(a)?a:void 0,animate:m1(r)?r:void 0}}return e.inherit!==!1?t:{}}function Jje(e){const{initial:t,animate:a}=Xje(e,y.useContext(iN));return y.useMemo(()=>({initial:t,animate:a}),[YL(t),YL(a)])}function YL(e){return Array.isArray(e)?e.join(" "):e}const p1={};function Qje(e){for(const t in e)p1[t]=e[t],k8(t)&&(p1[t].isCSSVariable=!0)}function sq(e,{layout:t,layoutId:a}){return Mx.has(e)||e.startsWith("origin")||(t||a!==void 0)&&(!!p1[e]||e==="opacity")}const Zje={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eNe=Dx.length;function tNe(e,t,a){let r="",n=!0;for(let i=0;i<eNe;i++){const l=Dx[i],o=e[l];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(l.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||a){const d=GW(o,O8[l]);if(!c){n=!1;const u=Zje[l]||l;r+=`${u}(${d}) `}a&&(t[l]=d)}}return r=r.trim(),a?r=a(t,n?"":r):n&&(r="none"),r}function U8(e,t,a){const{style:r,vars:n,transformOrigin:i}=e;let l=!1,o=!1;for(const c in t){const d=t[c];if(Mx.has(c)){l=!0;continue}else if(k8(c)){n[c]=d;continue}else{const u=GW(d,O8[c]);c.startsWith("origin")?(o=!0,i[c]=u):r[c]=u}}if(t.transform||(l||a?r.transform=tNe(t,e.transform,a):r.transform&&(r.transform="none")),o){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;r.transformOrigin=`${c} ${d} ${u}`}}const z8=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rq(e,t,a){for(const r in t)!dl(t[r])&&!sq(r,a)&&(e[r]=t[r])}function aNe({transformTemplate:e},t){return y.useMemo(()=>{const a=z8();return U8(a,t,e),Object.assign({},a.vars,a.style)},[t])}function sNe(e,t){const a=e.style||{},r={};return rq(r,a,e),Object.assign(r,aNe(e,t)),r}function rNe(e,t){const a={},r=sNe(e,t);return e.drag&&e.dragListener!==!1&&(a.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(a.tabIndex=0),a.style=r,a}const nNe={offset:"stroke-dashoffset",array:"stroke-dasharray"},iNe={offset:"strokeDashoffset",array:"strokeDasharray"};function lNe(e,t,a=1,r=0,n=!0){e.pathLength=1;const i=n?nNe:iNe;e[i.offset]=Ra.transform(-r);const l=Ra.transform(t),o=Ra.transform(a);e[i.array]=`${l} ${o}`}function nq(e,{attrX:t,attrY:a,attrScale:r,pathLength:n,pathSpacing:i=1,pathOffset:l=0,...o},c,d,u){if(U8(e,o,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p}=e;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=u?.transformBox??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),a!==void 0&&(f.y=a),r!==void 0&&(f.scale=r),n!==void 0&&lNe(f,n,i,l,!1)}const iq=()=>({...z8(),attrs:{}}),lq=e=>typeof e=="string"&&e.toLowerCase()==="svg";function oNe(e,t,a,r){const n=y.useMemo(()=>{const i=iq();return nq(i,t,lq(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};rq(i,e.style,e),n.style={...i,...n.style}}return n}const cNe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function H8(e){return typeof e!="string"||e.includes("-")?!1:!!(cNe.indexOf(e)>-1||/[A-Z]/u.test(e))}function dNe(e,t,a,{latestValues:r},n,i=!1){const o=(H8(e)?oNe:rNe)(t,r,n,e),c=Yje(t,typeof e=="string",i),d=e!==y.Fragment?{...c,...o,ref:a}:{},{children:u}=t,f=y.useMemo(()=>dl(u)?u.get():u,[u]);return y.createElement(e,{...d,children:f})}function XL(e){const t=[{},{}];return e?.values.forEach((a,r)=>{t[0][r]=a.get(),t[1][r]=a.getVelocity()}),t}function V8(e,t,a,r){if(typeof t=="function"){const[n,i]=XL(r);t=t(a!==void 0?a:e.custom,n,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[n,i]=XL(r);t=t(a!==void 0?a:e.custom,n,i)}return t}function $2(e){return dl(e)?e.get():e}function uNe({scrapeMotionValuesFromProps:e,createRenderState:t},a,r,n){return{latestValues:hNe(a,r,n,e),renderState:t()}}function hNe(e,t,a,r){const n={},i=r(e,{});for(const p in i)n[p]=$2(i[p]);let{initial:l,animate:o}=e;const c=oN(e),d=aq(e);t&&d&&!c&&e.inherit!==!1&&(l===void 0&&(l=t.initial),o===void 0&&(o=t.animate));let u=a?a.initial===!1:!1;u=u||l===!1;const f=u?o:l;if(f&&typeof f!="boolean"&&!lN(f)){const p=Array.isArray(f)?f:[f];for(let m=0;m<p.length;m++){const v=V8(e,p[m]);if(v){const{transitionEnd:g,transition:b,...j}=v;for(const N in j){let k=j[N];if(Array.isArray(k)){const S=u?k.length-1:0;k=k[S]}k!==null&&(n[N]=k)}for(const N in g)n[N]=g[N]}}}return n}const oq=e=>(t,a)=>{const r=y.useContext(iN),n=y.useContext(nN),i=()=>uNe(e,t,r,n);return a?i():p8(i)};function W8(e,t,a){const{style:r}=e,n={};for(const i in r)(dl(r[i])||t.style&&dl(t.style[i])||sq(i,e)||a?.getValue(i)?.liveStyle!==void 0)&&(n[i]=r[i]);return n}const fNe=oq({scrapeMotionValuesFromProps:W8,createRenderState:z8});function cq(e,t,a){const r=W8(e,t,a);for(const n in e)if(dl(e[n])||dl(t[n])){const i=Dx.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=e[n]}return r}const mNe=oq({scrapeMotionValuesFromProps:cq,createRenderState:iq}),pNe=Symbol.for("motionComponentSymbol");function Up(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function xNe(e,t,a){return y.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),a&&(typeof a=="function"?a(r):Up(a)&&(a.current=r))},[t])}const q8=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gNe="framerAppearId",dq="data-"+q8(gNe),uq=y.createContext({});function vNe(e,t,a,r,n){const{visualElement:i}=y.useContext(iN),l=y.useContext(eq),o=y.useContext(nN),c=y.useContext(I8).reducedMotion,d=y.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:i,props:a,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,f=y.useContext(uq);u&&!u.projection&&n&&(u.type==="html"||u.type==="svg")&&bNe(d.current,a,n,f);const p=y.useRef(!1);y.useInsertionEffect(()=>{u&&p.current&&u.update(a,o)});const m=a[dq],v=y.useRef(!!m&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return oW(()=>{u&&(p.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),v.current&&u.animationState&&u.animationState.animateChanges())}),y.useEffect(()=>{u&&(!v.current&&u.animationState&&u.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(m)}),v.current=!1),u.enteringChildren=void 0)}),u}function bNe(e,t,a,r){const{layoutId:n,layout:i,drag:l,dragConstraints:o,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new a(e.latestValues,t["data-framer-portal-id"]?void 0:hq(e.parent)),e.projection.setOptions({layoutId:n,layout:i,alwaysMeasureLayout:!!l||o&&Up(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:d})}function hq(e){if(e)return e.options.allowProjection!==!1?e.projection:hq(e.parent)}function e3(e,{forwardMotionProps:t=!1}={},a,r){a&&qje(a);const n=H8(e)?mNe:fNe;function i(o,c){let d;const u={...y.useContext(I8),...o,layoutId:yNe(o)},{isStatic:f}=u,p=Jje(o),m=n(o,f);if(!f&&x8){wNe();const v=jNe(u);d=v.MeasureLayout,p.visualElement=vNe(e,m,u,r,v.ProjectionNode)}return s.jsxs(iN.Provider,{value:p,children:[d&&p.visualElement?s.jsx(d,{visualElement:p.visualElement,...u}):null,dNe(e,o,xNe(m,p.visualElement,c),m,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=y.forwardRef(i);return l[pNe]=e,l}function yNe({layoutId:e}){const t=y.useContext(m8).id;return t&&e!==void 0?t+"-"+e:e}function wNe(e,t){y.useContext(eq).strict}function jNe(e){const{drag:t,layout:a}=ux;if(!t&&!a)return{};const r={...t,...a};return{MeasureLayout:t?.isEnabled(e)||a?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function NNe(e,t){if(typeof Proxy>"u")return e3;const a=new Map,r=(i,l)=>e3(i,l,e,t),n=(i,l)=>r(i,l);return new Proxy(n,{get:(i,l)=>l==="create"?r:(a.has(l)||a.set(l,e3(l,void 0,e,t)),a.get(l))})}function fq({top:e,left:t,right:a,bottom:r}){return{x:{min:t,max:a},y:{min:e,max:r}}}function kNe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function SNe(e,t){if(!t)return e;const a=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:a.y,left:a.x,bottom:r.y,right:r.x}}function t3(e){return e===void 0||e===1}function NC({scale:e,scaleX:t,scaleY:a}){return!t3(e)||!t3(t)||!t3(a)}function E0(e){return NC(e)||mq(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function mq(e){return JL(e.x)||JL(e.y)}function JL(e){return e&&e!=="0%"}function _w(e,t,a){const r=e-a,n=t*r;return a+n}function QL(e,t,a,r,n){return n!==void 0&&(e=_w(e,n,r)),_w(e,a,r)+t}function kC(e,t=0,a=1,r,n){e.min=QL(e.min,t,a,r,n),e.max=QL(e.max,t,a,r,n)}function pq(e,{x:t,y:a}){kC(e.x,t.translate,t.scale,t.originPoint),kC(e.y,a.translate,a.scale,a.originPoint)}const ZL=.999999999999,eO=1.0000000000001;function CNe(e,t,a,r=!1){const n=a.length;if(!n)return;t.x=t.y=1;let i,l;for(let o=0;o<n;o++){i=a[o],l=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Hp(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,pq(e,l)),r&&E0(i.latestValues)&&Hp(e,i.latestValues))}t.x<eO&&t.x>ZL&&(t.x=1),t.y<eO&&t.y>ZL&&(t.y=1)}function zp(e,t){e.min=e.min+t,e.max=e.max+t}function tO(e,t,a,r,n=.5){const i=Gr(e.min,e.max,n);kC(e,t,a,i,r)}function Hp(e,t){tO(e.x,t.x,t.scaleX,t.scale,t.originX),tO(e.y,t.y,t.scaleY,t.scale,t.originY)}function xq(e,t){return fq(SNe(e.getBoundingClientRect(),t))}function ANe(e,t,a){const r=xq(e,a),{scroll:n}=t;return n&&(zp(r.x,n.offset.x),zp(r.y,n.offset.y)),r}const aO=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vp=()=>({x:aO(),y:aO()}),sO=()=>({min:0,max:0}),wn=()=>({x:sO(),y:sO()}),SC={current:null},gq={current:!1};function _Ne(){if(gq.current=!0,!!x8)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>SC.current=e.matches;e.addEventListener("change",t),t()}else SC.current=!1}const TNe=new WeakMap;function ENe(e,t,a){for(const r in t){const n=t[r],i=a[r];if(dl(n))e.addValue(r,n);else if(dl(i))e.addValue(r,dx(n,{owner:e}));else if(i!==n)if(e.hasValue(r)){const l=e.getValue(r);l.liveStyle===!0?l.jump(n):l.hasAnimated||l.set(n)}else{const l=e.getStaticValue(r);e.addValue(r,dx(l!==void 0?l:n,{owner:e}))}}for(const r in a)t[r]===void 0&&e.removeValue(r);return t}const rO=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class DNe{scrapeMotionValuesFromProps(t,a,r){return{}}constructor({parent:t,props:a,presenceContext:r,reducedMotionConfig:n,blockInitialAnimation:i,visualState:l},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=P8,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Zl.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Or.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=l;this.latestValues=c,this.baseTarget={...c},this.initialValues=a.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=a,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=oN(a),this.isVariantNode=aq(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(a,{},this);for(const p in f){const m=f[p];c[p]!==void 0&&dl(m)&&m.set(c[p])}}mount(t){this.current=t,TNe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,r)=>this.bindToMotionValue(r,a)),gq.current||_Ne(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:SC.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Of(this.notifyUpdate),Of(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const a=this.features[t];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,a){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Mx.has(t);r&&this.onBindTransform&&this.onBindTransform();const n=a.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Or.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,a)),this.valueSubscriptions.set(t,()=>{n(),i&&i(),a.owner&&a.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ux){const a=ux[t];if(!a)continue;const{isEnabled:r,Feature:n}=a;if(!this.features[t]&&n&&r(this.props)&&(this.features[t]=new n(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,a){this.latestValues[t]=a}update(t,a){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let r=0;r<rO.length;r++){const n=rO[r];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const i="on"+n,l=t[i];l&&(this.propEventSubscriptions[n]=this.on(n,l))}this.prevMotionValues=ENe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(t),()=>a.variantChildren.delete(t)}addValue(t,a){const r=this.values.get(t);a!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,a),this.values.set(t,a),this.latestValues[t]=a.get())}removeValue(t){this.values.delete(t);const a=this.valueSubscriptions.get(t);a&&(a(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,a){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&a!==void 0&&(r=dx(a===null?void 0:a,{owner:this}),this.addValue(t,r)),r}readValue(t,a){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(cW(r)||uW(r))?r=parseFloat(r):!Ije(r)&&Rf.test(a)&&(r=qW(t,a)),this.setBaseTarget(t,dl(r)?r.get():r)),dl(r)?r.get():r}setBaseTarget(t,a){this.baseTarget[t]=a}getBaseTarget(t){const{initial:a}=this.props;let r;if(typeof a=="string"||typeof a=="object"){const i=V8(this.props,a,this.presenceContext?.custom);i&&(r=i[t])}if(a&&r!==void 0)return r;const n=this.getBaseTargetFromProps(this.props,t);return n!==void 0&&!dl(n)?n:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,a){return this.events[t]||(this.events[t]=new w8),this.events[t].add(a)}notify(t,...a){this.events[t]&&this.events[t].notify(...a)}scheduleRenderMicrotask(){R8.render(this.render)}}class vq extends DNe{constructor(){super(...arguments),this.KeyframeResolver=Cje}sortInstanceNodePosition(t,a){return t.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(t,a){return t.style?t.style[a]:void 0}removeValueFromRenderState(t,{vars:a,style:r}){delete a[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;dl(t)&&(this.childSubscription=t.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function bq(e,{style:t,vars:a},r,n){const i=e.style;let l;for(l in t)i[l]=t[l];n?.applyProjectionStyles(i,r);for(l in a)i.setProperty(l,a[l])}function MNe(e){return window.getComputedStyle(e)}class PNe extends vq{constructor(){super(...arguments),this.type="html",this.renderInstance=bq}readValueFromInstance(t,a){if(Mx.has(a))return this.projection?.isProjecting?xC(a):Wwe(t,a);{const r=MNe(t),n=(k8(a)?r.getPropertyValue(a):r[a])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(t,{transformPagePoint:a}){return xq(t,a)}build(t,a,r){U8(t,a,r.transformTemplate)}scrapeMotionValuesFromProps(t,a,r){return W8(t,a,r)}}const yq=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function LNe(e,t,a,r){bq(e,t,void 0,r);for(const n in t.attrs)e.setAttribute(yq.has(n)?n:q8(n),t.attrs[n])}class ONe extends vq{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wn}getBaseTargetFromProps(t,a){return t[a]}readValueFromInstance(t,a){if(Mx.has(a)){const r=WW(a);return r&&r.default||0}return a=yq.has(a)?a:q8(a),t.getAttribute(a)}scrapeMotionValuesFromProps(t,a,r){return cq(t,a,r)}build(t,a,r){nq(t,a,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,a,r,n){LNe(t,a,r,n)}mount(t){this.isSVGTag=lq(t.tagName),super.mount(t)}}const RNe=(e,t)=>H8(e)?new ONe(t):new PNe(t,{allowProjection:e!==y.Fragment});function Jp(e,t,a){const r=e.getProps();return V8(r,t,a!==void 0?a:r.custom,e)}const CC=e=>Array.isArray(e);function FNe(e,t,a){e.hasValue(t)?e.getValue(t).set(a):e.addValue(t,dx(a))}function INe(e){return CC(e)?e[e.length-1]||0:e}function BNe(e,t){const a=Jp(e,t);let{transitionEnd:r={},transition:n={},...i}=a||{};i={...i,...r};for(const l in i){const o=INe(i[l]);FNe(e,l,o)}}function $Ne(e){return!!(dl(e)&&e.add)}function AC(e,t){const a=e.getValue("willChange");if($Ne(a))return a.add(t);if(!a&&ch.WillChange){const r=new ch.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function wq(e){return e.props[dq]}const UNe=e=>e!==null;function zNe(e,{repeat:t,repeatType:a="loop"},r){const n=e.filter(UNe),i=t&&a!=="loop"&&t%2===1?0:n.length-1;return n[i]}const HNe={type:"spring",stiffness:500,damping:25,restSpeed:10},VNe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),WNe={type:"keyframes",duration:.8},qNe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GNe=(e,{keyframes:t})=>t.length>2?WNe:Mx.has(e)?e.startsWith("scale")?VNe(t[1]):HNe:qNe;function KNe({when:e,delay:t,delayChildren:a,staggerChildren:r,staggerDirection:n,repeat:i,repeatType:l,repeatDelay:o,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const G8=(e,t,a,r={},n,i)=>l=>{const o=L8(r,e)||{},c=o.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Qd(c);const u={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-d,onUpdate:p=>{t.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{l(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:n};KNe(o)||Object.assign(u,GNe(e,u)),u.duration&&(u.duration=Qd(u.duration)),u.repeatDelay&&(u.repeatDelay=Qd(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(wC(u),u.delay===0&&(f=!0)),(ch.instantAnimations||ch.skipAnimations)&&(f=!0,wC(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!i&&t.get()!==void 0){const p=zNe(u.keyframes,o);if(p!==void 0){Or.update(()=>{u.onUpdate(p),u.onComplete()});return}}return o.isSync?new M8(u):new mje(u)};function YNe({protectedKeys:e,needsAnimating:t},a){const r=e.hasOwnProperty(a)&&t[a]!==!0;return t[a]=!1,r}function jq(e,t,{delay:a=0,transitionOverride:r,type:n}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:l,...o}=t;r&&(i=r);const c=[],d=n&&e.animationState&&e.animationState.getState()[n];for(const u in o){const f=e.getValue(u,e.latestValues[u]??null),p=o[u];if(p===void 0||d&&YNe(d,u))continue;const m={delay:a,...L8(i||{},u)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===v&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const j=wq(e);if(j){const N=window.MotionHandoffAnimation(j,u,Or);N!==null&&(m.startTime=N,g=!0)}}AC(e,u),f.start(G8(u,f,p,e.shouldReduceMotion&&zW.has(u)?{type:!1}:m,e,g));const b=f.animation;b&&c.push(b)}return l&&Promise.all(c).then(()=>{Or.update(()=>{l&&BNe(e,l)})}),c}function Nq(e,t,a,r=0,n=1){const i=Array.from(e).sort((d,u)=>d.sortNodePosition(u)).indexOf(t),l=e.size,o=(l-1)*r;return typeof a=="function"?a(i,l):n===1?i*r:o-i*r}function _C(e,t,a={}){const r=Jp(e,t,a.type==="exit"?e.presenceContext?.custom:void 0);let{transition:n=e.getDefaultTransition()||{}}=r||{};a.transitionOverride&&(n=a.transitionOverride);const i=r?()=>Promise.all(jq(e,r,a)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:f}=n;return XNe(e,t,c,d,u,f,a)}:()=>Promise.resolve(),{when:o}=n;if(o){const[c,d]=o==="beforeChildren"?[i,l]:[l,i];return c().then(()=>d())}else return Promise.all([i(),l(a.delay)])}function XNe(e,t,a=0,r=0,n=0,i=1,l){const o=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),o.push(_C(c,t,{...l,delay:a+(typeof r=="function"?0:r)+Nq(e.variantChildren,c,r,n,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(o)}function JNe(e,t,a={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const n=t.map(i=>_C(e,i,a));r=Promise.all(n)}else if(typeof t=="string")r=_C(e,t,a);else{const n=typeof t=="function"?Jp(e,t,a.custom):t;r=Promise.all(jq(e,n,a))}return r.then(()=>{e.notify("AnimationComplete",t)})}function kq(e,t){if(!Array.isArray(t))return!1;const a=t.length;if(a!==e.length)return!1;for(let r=0;r<a;r++)if(t[r]!==e[r])return!1;return!0}const QNe=$8.length;function Sq(e){if(!e)return;if(!e.isControllingVariants){const a=e.parent?Sq(e.parent)||{}:{};return e.props.initial!==void 0&&(a.initial=e.props.initial),a}const t={};for(let a=0;a<QNe;a++){const r=$8[a],n=e.props[r];(m1(n)||n===!1)&&(t[r]=n)}return t}const ZNe=[...B8].reverse(),e4e=B8.length;function t4e(e){return t=>Promise.all(t.map(({animation:a,options:r})=>JNe(e,a,r)))}function a4e(e){let t=t4e(e),a=nO(),r=!0;const n=c=>(d,u)=>{const f=Jp(e,u,c==="exit"?e.presenceContext?.custom:void 0);if(f){const{transition:p,transitionEnd:m,...v}=f;d={...d,...v,...m}}return d};function i(c){t=c(e)}function l(c){const{props:d}=e,u=Sq(e.parent)||{},f=[],p=new Set;let m={},v=1/0;for(let b=0;b<e4e;b++){const j=ZNe[b],N=a[j],k=d[j]!==void 0?d[j]:u[j],S=m1(k),C=j===c?N.isActive:null;C===!1&&(v=b);let _=k===u[j]&&k!==d[j]&&S;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),N.protectedKeys={...m},!N.isActive&&C===null||!k&&!N.prevProp||lN(k)||typeof k=="boolean")continue;const P=s4e(N.prevProp,k);let L=P||j===c&&N.isActive&&!_&&S||b>v&&S,U=!1;const z=Array.isArray(k)?k:[k];let T=z.reduce(n(j),{});C===!1&&(T={});const{prevResolvedValues:F={}}=N,M={...F,...T},I=q=>{L=!0,p.has(q)&&(U=!0,p.delete(q)),N.needsAnimating[q]=!0;const ae=e.getValue(q);ae&&(ae.liveStyle=!1)};for(const q in M){const ae=T[q],te=F[q];if(m.hasOwnProperty(q))continue;let K=!1;CC(ae)&&CC(te)?K=!kq(ae,te):K=ae!==te,K?ae!=null?I(q):p.add(q):ae!==void 0&&p.has(q)?I(q):N.protectedKeys[q]=!0}N.prevProp=k,N.prevResolvedValues=T,N.isActive&&(m={...m,...T}),r&&e.blockInitialAnimation&&(L=!1);const W=_&&P;L&&(!W||U)&&f.push(...z.map(q=>{const ae={type:j};if(typeof q=="string"&&r&&!W&&e.manuallyAnimateOnMount&&e.parent){const{parent:te}=e,K=Jp(te,q);if(te.enteringChildren&&K){const{delayChildren:oe}=K.transition||{};ae.delay=Nq(te.enteringChildren,e,oe)}}return{animation:q,options:ae}}))}if(p.size){const b={};if(typeof d.initial!="boolean"){const j=Jp(e,Array.isArray(d.initial)?d.initial[0]:d.initial);j&&j.transition&&(b.transition=j.transition)}p.forEach(j=>{const N=e.getBaseTarget(j),k=e.getValue(j);k&&(k.liveStyle=!0),b[j]=N??null}),f.push({animation:b})}let g=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(f):Promise.resolve()}function o(c,d){if(a[c].isActive===d)return Promise.resolve();e.variantChildren?.forEach(f=>f.animationState?.setActive(c,d)),a[c].isActive=d;const u=l(c);for(const f in a)a[f].protectedKeys={};return u}return{animateChanges:l,setActive:o,setAnimateFunction:i,getState:()=>a,reset:()=>{a=nO()}}}function s4e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!kq(t,e):!1}function C0(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nO(){return{animate:C0(!0),whileInView:C0(),whileHover:C0(),whileTap:C0(),whileDrag:C0(),whileFocus:C0(),exit:C0()}}class Gf{constructor(t){this.isMounted=!1,this.node=t}update(){}}class r4e extends Gf{constructor(t){super(t),t.animationState||(t.animationState=a4e(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();lN(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:a}=this.node.prevProps||{};t!==a&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let n4e=0;class i4e extends Gf{constructor(){super(...arguments),this.id=n4e++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:a}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const n=this.node.animationState.setActive("exit",!t);a&&!t&&n.then(()=>{a(this.id)})}mount(){const{register:t,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const l4e={animation:{Feature:r4e},exit:{Feature:i4e}};function x1(e,t,a,r={passive:!0}){return e.addEventListener(t,a,r),()=>e.removeEventListener(t,a)}function ab(e){return{point:{x:e.pageX,y:e.pageY}}}const o4e=e=>t=>F8(t)&&e(t,ab(t));function Av(e,t,a,r){return x1(e,t,o4e(a),r)}const Cq=1e-4,c4e=1-Cq,d4e=1+Cq,Aq=.01,u4e=0-Aq,h4e=0+Aq;function Ml(e){return e.max-e.min}function f4e(e,t,a){return Math.abs(e-t)<=a}function iO(e,t,a,r=.5){e.origin=r,e.originPoint=Gr(t.min,t.max,e.origin),e.scale=Ml(a)/Ml(t),e.translate=Gr(a.min,a.max,e.origin)-e.originPoint,(e.scale>=c4e&&e.scale<=d4e||isNaN(e.scale))&&(e.scale=1),(e.translate>=u4e&&e.translate<=h4e||isNaN(e.translate))&&(e.translate=0)}function _v(e,t,a,r){iO(e.x,t.x,a.x,r?r.originX:void 0),iO(e.y,t.y,a.y,r?r.originY:void 0)}function lO(e,t,a){e.min=a.min+t.min,e.max=e.min+Ml(t)}function m4e(e,t,a){lO(e.x,t.x,a.x),lO(e.y,t.y,a.y)}function oO(e,t,a){e.min=t.min-a.min,e.max=e.min+Ml(t)}function Tv(e,t,a){oO(e.x,t.x,a.x),oO(e.y,t.y,a.y)}function hc(e){return[e("x"),e("y")]}const _q=({current:e})=>e?e.ownerDocument.defaultView:null,cO=(e,t)=>Math.abs(e-t);function p4e(e,t){const a=cO(e.x,t.x),r=cO(e.y,t.y);return Math.sqrt(a**2+r**2)}class Tq{constructor(t,a,{transformPagePoint:r,contextWindow:n=window,dragSnapToOrigin:i=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=s3(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=p4e(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!v)return;const{point:g}=p,{timestamp:b}=Bi;this.history.push({...g,timestamp:b});const{onStart:j,onMove:N}=this.handlers;m||(j&&j(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=a3(m,this.transformPagePoint),Or.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:v,onSessionEnd:g,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=s3(p.type==="pointercancel"?this.lastMoveEventInfo:a3(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,j),g&&g(p,j)},!F8(t))return;this.dragSnapToOrigin=i,this.handlers=a,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=n||window;const o=ab(t),c=a3(o,this.transformPagePoint),{point:d}=c,{timestamp:u}=Bi;this.history=[{...d,timestamp:u}];const{onSessionStart:f}=a;f&&f(t,s3(c,this.history)),this.removeListeners=Z1(Av(this.contextWindow,"pointermove",this.handlePointerMove),Av(this.contextWindow,"pointerup",this.handlePointerUp),Av(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Of(this.updatePoint)}}function a3(e,t){return t?{point:t(e.point)}:e}function dO(e,t){return{x:e.x-t.x,y:e.y-t.y}}function s3({point:e},t){return{point:e,delta:dO(e,Eq(t)),offset:dO(e,x4e(t)),velocity:g4e(t,.1)}}function x4e(e){return e[0]}function Eq(e){return e[e.length-1]}function g4e(e,t){if(e.length<2)return{x:0,y:0};let a=e.length-1,r=null;const n=Eq(e);for(;a>=0&&(r=e[a],!(n.timestamp-r.timestamp>Qd(t)));)a--;if(!r)return{x:0,y:0};const i=xc(n.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const l={x:(n.x-r.x)/i,y:(n.y-r.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function v4e(e,{min:t,max:a},r){return t!==void 0&&e<t?e=r?Gr(t,e,r.min):Math.max(e,t):a!==void 0&&e>a&&(e=r?Gr(a,e,r.max):Math.min(e,a)),e}function uO(e,t,a){return{min:t!==void 0?e.min+t:void 0,max:a!==void 0?e.max+a-(e.max-e.min):void 0}}function b4e(e,{top:t,left:a,bottom:r,right:n}){return{x:uO(e.x,a,n),y:uO(e.y,t,r)}}function hO(e,t){let a=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([a,r]=[r,a]),{min:a,max:r}}function y4e(e,t){return{x:hO(e.x,t.x),y:hO(e.y,t.y)}}function w4e(e,t){let a=.5;const r=Ml(e),n=Ml(t);return n>r?a=u1(t.min,t.max-r,e.min):r>n&&(a=u1(e.min,e.max-n,t.min)),oh(0,1,a)}function j4e(e,t){const a={};return t.min!==void 0&&(a.min=t.min-e.min),t.max!==void 0&&(a.max=t.max-e.min),a}const TC=.35;function N4e(e=TC){return e===!1?e=0:e===!0&&(e=TC),{x:fO(e,"left","right"),y:fO(e,"top","bottom")}}function fO(e,t,a){return{min:mO(e,t),max:mO(e,a)}}function mO(e,t){return typeof e=="number"?e:e[t]||0}const k4e=new WeakMap;class S4e{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:a=!1,distanceThreshold:r}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(ab(f).point)},l=(f,p)=>{const{drag:m,dragPropagation:v,onDragStart:g}=this.getProps();if(m&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Eje(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hc(j=>{let N=this.getAxisMotionValue(j).get()||0;if(Zd.test(N)){const{projection:k}=this.visualElement;if(k&&k.layout){const S=k.layout.layoutBox[j];S&&(N=Ml(S)*(parseFloat(N)/100))}}this.originPoint[j]=N}),g&&Or.postRender(()=>g(f,p)),AC(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p;const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:g,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:j}=p;if(v&&this.currentDirection===null){this.currentDirection=C4e(j),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",p.point,j),this.updateAxis("y",p.point,j),this.visualElement.render(),b&&b(f,p)},c=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p,this.stop(f,p),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>hc(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Tq(t,{onSessionStart:i,onStart:l,onMove:o,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:_q(this.visualElement)})}stop(t,a){const r=t||this.latestPointerEvent,n=a||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!n||!r)return;const{velocity:l}=n;this.startAnimation(l);const{onDragEnd:o}=this.getProps();o&&Or.postRender(()=>o(r,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:a}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(t,a,r){const{drag:n}=this.getProps();if(!r||!e2(t,n,this.currentDirection))return;const i=this.getAxisMotionValue(t);let l=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(l=v4e(l,this.constraints[t],this.elastic[t])),i.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:a}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,n=this.constraints;t&&Up(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=b4e(r.layoutBox,t):this.constraints=!1,this.elastic=N4e(a),n!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&hc(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=j4e(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:a}=this.getProps();if(!t||!Up(t))return!1;const r=t.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const i=ANe(r,n.root,this.visualElement.getTransformPagePoint());let l=y4e(n.layout.layoutBox,i);if(a){const o=a(kNe(l));this.hasMutatedConstraints=!!o,o&&(l=fq(o))}return l}startAnimation(t){const{drag:a,dragMomentum:r,dragElastic:n,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},d=hc(u=>{if(!e2(u,a,this.currentDirection))return;let f=c&&c[u]||{};l&&(f={min:0,max:0});const p=n?200:1e6,m=n?40:1e7,v={type:"inertia",velocity:r?t[u]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,v)});return Promise.all(d).then(o)}startAxisValueAnimation(t,a){const r=this.getAxisMotionValue(t);return AC(this.visualElement,t),r.start(G8(t,r,0,a,this.visualElement,!1))}stopAnimation(){hc(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){hc(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const a=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),n=r[a];return n||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){hc(a=>{const{drag:r}=this.getProps();if(!e2(a,r,this.currentDirection))return;const{projection:n}=this.visualElement,i=this.getAxisMotionValue(a);if(n&&n.layout){const{min:l,max:o}=n.layout.layoutBox[a];i.set(t[a]-Gr(l,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:a}=this.getProps(),{projection:r}=this.visualElement;if(!Up(a)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};hc(l=>{const o=this.getAxisMotionValue(l);if(o&&this.constraints!==!1){const c=o.get();n[l]=w4e({min:c,max:c},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),hc(l=>{if(!e2(l,t,null))return;const o=this.getAxisMotionValue(l),{min:c,max:d}=this.constraints[l];o.set(Gr(c,d,n[l]))})}addListeners(){if(!this.visualElement.current)return;k4e.set(this.visualElement,this);const t=this.visualElement.current,a=Av(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Up(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Or.read(r);const l=x1(window,"resize",()=>this.scalePositionWithinConstraints()),o=n.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(hc(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=c[u].translate,f.set(f.get()+c[u].translate))}),this.visualElement.render())}));return()=>{l(),a(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:l=TC,dragMomentum:o=!0}=t;return{...t,drag:a,dragDirectionLock:r,dragPropagation:n,dragConstraints:i,dragElastic:l,dragMomentum:o}}}function e2(e,t,a){return(t===!0||t===e)&&(a===null||a===e)}function C4e(e,t=10){let a=null;return Math.abs(e.y)>t?a="y":Math.abs(e.x)>t&&(a="x"),a}class A4e extends Gf{constructor(t){super(t),this.removeGroupControls=bc,this.removeListeners=bc,this.controls=new S4e(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bc}unmount(){this.removeGroupControls(),this.removeListeners()}}const pO=e=>(t,a)=>{e&&Or.postRender(()=>e(t,a))};class _4e extends Gf{constructor(){super(...arguments),this.removePointerDownListener=bc}onPointerDown(t){this.session=new Tq(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_q(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:a,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:pO(t),onStart:pO(a),onMove:r,onEnd:(i,l)=>{delete this.session,n&&Or.postRender(()=>n(i,l))}}}mount(){this.removePointerDownListener=Av(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const U2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xO(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Bg={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ra.test(e))e=parseFloat(e);else return e;const a=xO(e,t.target.x),r=xO(e,t.target.y);return`${a}% ${r}%`}},T4e={correct:(e,{treeScale:t,projectionDelta:a})=>{const r=e,n=Rf.parse(e);if(n.length>5)return r;const i=Rf.createTransformer(e),l=typeof n[0]!="number"?1:0,o=a.x.scale*t.x,c=a.y.scale*t.y;n[0+l]/=o,n[1+l]/=c;const d=Gr(o,c,.5);return typeof n[2+l]=="number"&&(n[2+l]/=d),typeof n[3+l]=="number"&&(n[3+l]/=d),i(n)}};let r3=!1;class E4e extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r,layoutId:n}=this.props,{projection:i}=t;Qje(D4e),i&&(a.group&&a.group.add(i),r&&r.register&&n&&r.register(i),r3&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),U2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:a,visualElement:r,drag:n,isPresent:i}=this.props,{projection:l}=r;return l&&(l.isPresent=i,r3=!0,n||t.layoutDependency!==a||a===void 0||t.isPresent!==i?l.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?l.promote():l.relegate()||Or.postRender(()=>{const o=l.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),R8.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r}=this.props,{projection:n}=t;r3=!0,n&&(n.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Dq(e){const[t,a]=ZW(),r=y.useContext(m8);return s.jsx(E4e,{...e,layoutGroup:r,switchLayoutGroup:y.useContext(uq),isPresent:t,safeToRemove:a})}const D4e={borderRadius:{...Bg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bg,borderTopRightRadius:Bg,borderBottomLeftRadius:Bg,borderBottomRightRadius:Bg,boxShadow:T4e};function M4e(e,t,a){const r=dl(e)?e:dx(e);return r.start(G8("",r,t,a)),r.animation}const P4e=(e,t)=>e.depth-t.depth;class L4e{constructor(){this.children=[],this.isDirty=!1}add(t){g8(this.children,t),this.isDirty=!0}remove(t){v8(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(P4e),this.isDirty=!1,this.children.forEach(t)}}function O4e(e,t){const a=Zl.now(),r=({timestamp:n})=>{const i=n-a;i>=t&&(Of(r),e(i-t))};return Or.setup(r,!0),()=>Of(r)}const Mq=["TopLeft","TopRight","BottomLeft","BottomRight"],R4e=Mq.length,gO=e=>typeof e=="string"?parseFloat(e):e,vO=e=>typeof e=="number"||Ra.test(e);function F4e(e,t,a,r,n,i){n?(e.opacity=Gr(0,a.opacity??1,I4e(r)),e.opacityExit=Gr(t.opacity??1,0,B4e(r))):i&&(e.opacity=Gr(t.opacity??1,a.opacity??1,r));for(let l=0;l<R4e;l++){const o=`border${Mq[l]}Radius`;let c=bO(t,o),d=bO(a,o);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||vO(c)===vO(d)?(e[o]=Math.max(Gr(gO(c),gO(d),r),0),(Zd.test(d)||Zd.test(c))&&(e[o]+="%")):e[o]=d}(t.rotate||a.rotate)&&(e.rotate=Gr(t.rotate||0,a.rotate||0,r))}function bO(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const I4e=Pq(0,.5,bW),B4e=Pq(.5,.95,bc);function Pq(e,t,a){return r=>r<e?0:r>t?1:a(u1(e,t,r))}function yO(e,t){e.min=t.min,e.max=t.max}function nc(e,t){yO(e.x,t.x),yO(e.y,t.y)}function wO(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function jO(e,t,a,r,n){return e-=t,e=_w(e,1/a,r),n!==void 0&&(e=_w(e,1/n,r)),e}function $4e(e,t=0,a=1,r=.5,n,i=e,l=e){if(Zd.test(t)&&(t=parseFloat(t),t=Gr(l.min,l.max,t/100)-l.min),typeof t!="number")return;let o=Gr(i.min,i.max,r);e===i&&(o-=t),e.min=jO(e.min,t,a,o,n),e.max=jO(e.max,t,a,o,n)}function NO(e,t,[a,r,n],i,l){$4e(e,t[a],t[r],t[n],t.scale,i,l)}const U4e=["x","scaleX","originX"],z4e=["y","scaleY","originY"];function kO(e,t,a,r){NO(e.x,t,U4e,a?a.x:void 0,r?r.x:void 0),NO(e.y,t,z4e,a?a.y:void 0,r?r.y:void 0)}function SO(e){return e.translate===0&&e.scale===1}function Lq(e){return SO(e.x)&&SO(e.y)}function CO(e,t){return e.min===t.min&&e.max===t.max}function H4e(e,t){return CO(e.x,t.x)&&CO(e.y,t.y)}function AO(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Oq(e,t){return AO(e.x,t.x)&&AO(e.y,t.y)}function _O(e){return Ml(e.x)/Ml(e.y)}function TO(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class V4e{constructor(){this.members=[]}add(t){g8(this.members,t),t.scheduleRender()}remove(t){if(v8(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(t){const a=this.members.findIndex(n=>t===n);if(a===0)return!1;let r;for(let n=a;n>=0;n--){const i=this.members[n];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,a){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,a&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:n}=t.options;n===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:a,resumingFrom:r}=t;a.onExitComplete&&a.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function W4e(e,t,a){let r="";const n=e.x.translate/t.x,i=e.y.translate/t.y,l=a?.z||0;if((n||i||l)&&(r=`translate3d(${n}px, ${i}px, ${l}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),a){const{transformPerspective:d,rotate:u,rotateX:f,rotateY:p,skewX:m,skewY:v}=a;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(r+=`scale(${o}, ${c})`),r||"none"}const n3=["","X","Y","Z"],q4e=1e3;let G4e=0;function i3(e,t,a,r){const{latestValues:n}=t;n[e]&&(a[e]=n[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Rq(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const a=wq(t);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:n,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(a,"transform",Or,!(n||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Rq(r)}function Fq({attachResizeListener:e,defaultParent:t,measureScroll:a,checkIsScrollRoot:r,resetTransform:n}){return class{constructor(l={},o=t?.()){this.id=G4e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(X4e),this.nodes.forEach(e5e),this.nodes.forEach(t5e),this.nodes.forEach(J4e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new L4e)}addEventListener(l,o){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new w8),this.eventHandlers.get(l).add(o)}notifyListeners(l,...o){const c=this.eventHandlers.get(l);c&&c.notify(...o)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=QW(l)&&!Rje(l),this.instance=l;const{layoutId:o,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),e){let u,f=0;const p=()=>this.root.updateBlockedByResize=!1;Or.read(()=>{f=window.innerWidth}),e(l,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,u&&u(),u=O4e(p,250),U2.hasAnimatedSinceResize&&(U2.hasAnimatedSinceResize=!1,this.nodes.forEach(MO)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&d&&(o||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||i5e,{onLayoutAnimationStart:g,onLayoutAnimationComplete:b}=d.getProps(),j=!this.targetLayout||!Oq(this.targetLayout,m),N=!f&&p;if(this.options.layoutRoot||this.resumeFrom||N||f&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...L8(v,"layout"),onPlay:g,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(u,N)}else f||MO(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Of(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(a5e),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Rq(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(EO);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(DO);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Z4e),this.nodes.forEach(K4e),this.nodes.forEach(Y4e)):this.nodes.forEach(DO),this.clearAllSnapshots();const o=Zl.now();Bi.delta=oh(0,1e3/60,o-Bi.timestamp),Bi.timestamp=o,Bi.isProcessing=!0,K5.update.process(Bi),K5.preRender.process(Bi),K5.render.process(Bi),Bi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,R8.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Q4e),this.sharedNodes.forEach(s5e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Or.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Or.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ml(this.snapshot.measuredBox.x)&&!Ml(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=wn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(o=!1),o&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:c,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!n)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Lq(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;l&&this.instance&&(o||E0(this.latestValues)||u)&&(n(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return l&&(c=this.removeTransform(c)),l5e(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return wn();const o=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(o5e))){const{scroll:d}=this.root;d&&(zp(o.x,d.offset.x),zp(o.y,d.offset.y))}return o}removeElementScroll(l){const o=wn();if(nc(o,l),this.scroll?.wasRoot)return o;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:f}=d;d!==this.root&&u&&f.layoutScroll&&(u.wasRoot&&nc(o,l),zp(o.x,u.offset.x),zp(o.y,u.offset.y))}return o}applyTransform(l,o=!1){const c=wn();nc(c,l);for(let d=0;d<this.path.length;d++){const u=this.path[d];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Hp(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),E0(u.latestValues)&&Hp(c,u.latestValues)}return E0(this.latestValues)&&Hp(c,this.latestValues),c}removeTransform(l){const o=wn();nc(o,l);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!E0(d.latestValues))continue;NC(d.latestValues)&&d.updateSnapshot();const u=wn(),f=d.measurePageBox();nc(u,f),kO(o,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return E0(this.latestValues)&&kO(o,this.latestValues),o}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(l||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=Bi.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wn(),this.relativeTargetOrigin=wn(),Tv(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),nc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=wn(),this.targetWithTransforms=wn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),m4e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nc(this.target,this.layout.layoutBox),pq(this.target,this.targetDelta)):nc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wn(),this.relativeTargetOrigin=wn(),Tv(this.relativeTargetOrigin,this.target,p.target),nc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||NC(this.parent.latestValues)||mq(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),o=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Bi.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;nc(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;CNe(this.layoutCorrected,this.treeScale,this.path,o),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=wn());const{target:m}=l;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wO(this.prevProjectionDelta.x,this.projectionDelta.x),wO(this.prevProjectionDelta.y,this.projectionDelta.y)),_v(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!TO(this.projectionDelta.x,this.prevProjectionDelta.x)||!TO(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vp(),this.projectionDelta=Vp(),this.projectionDeltaWithTransform=Vp()}setAnimationOrigin(l,o=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},f=Vp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const p=wn(),m=c?c.source:void 0,v=this.layout?this.layout.source:void 0,g=m!==v,b=this.getStack(),j=!b||b.members.length<=1,N=!!(g&&!j&&this.options.crossfade===!0&&!this.path.some(n5e));this.animationProgress=0;let k;this.mixTargetDelta=S=>{const C=S/1e3;PO(f.x,l.x,C),PO(f.y,l.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tv(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),r5e(this.relativeTarget,this.relativeTargetOrigin,p,C),k&&H4e(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=wn()),nc(k,this.relativeTarget)),g&&(this.animationValues=u,F4e(u,d,this.latestValues,C,N,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Of(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Or.update(()=>{U2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=dx(0)),this.currentAnimation=M4e(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),l.onUpdate&&l.onUpdate(o)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(q4e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:o,target:c,layout:d,latestValues:u}=l;if(!(!o||!c||!d)){if(this!==l&&this.layout&&d&&Iq(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||wn();const f=Ml(this.layout.layoutBox.x);c.x.min=l.target.x.min,c.x.max=c.x.min+f;const p=Ml(this.layout.layoutBox.y);c.y.min=l.target.y.min,c.y.max=c.y.min+p}nc(o,c),Hp(o,u),_v(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(l,o){this.sharedNodes.has(l)||this.sharedNodes.set(l,new V4e),this.sharedNodes.get(l).add(o);const d=o.options.initialPromotionConfig;o.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(o):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:o,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),l&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let o=!1;const{latestValues:c}=l;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const d={};c.z&&i3("z",l,d,this.animationValues);for(let u=0;u<n3.length;u++)i3(`rotate${n3[u]}`,l,d,this.animationValues),i3(`skew${n3[u]}`,l,d,this.animationValues);l.render();for(const u in d)l.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);l.scheduleRender()}applyProjectionStyles(l,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=$2(o?.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=$2(o?.pointerEvents)||""),this.hasProjected&&!E0(this.latestValues)&&(l.transform=c?c({},""):"none",this.hasProjected=!1);return}l.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let f=W4e(this.projectionDeltaWithTransform,this.treeScale,u);c&&(f=c(u,f)),l.transform=f;const{x:p,y:m}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,d.animationValues?l.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:l.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const v in p1){if(u[v]===void 0)continue;const{correct:g,applyTo:b,isCSSVariable:j}=p1[v],N=f==="none"?u[v]:g(u[v],d);if(b){const k=b.length;for(let S=0;S<k;S++)l[b[S]]=N}else j?this.options.visualElement.renderState.vars[v]=N:l[v]=N}this.options.layoutId&&(l.pointerEvents=d===this?$2(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(EO),this.root.sharedNodes.clear()}}}function K4e(e){e.updateLayout()}function Y4e(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:r}=e.layout,{animationType:n}=e.options,i=t.source!==e.layout.source;n==="size"?hc(u=>{const f=i?t.measuredBox[u]:t.layoutBox[u],p=Ml(f);f.min=a[u].min,f.max=f.min+p}):Iq(n,t.layoutBox,a)&&hc(u=>{const f=i?t.measuredBox[u]:t.layoutBox[u],p=Ml(a[u]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+p)});const l=Vp();_v(l,a,t.layoutBox);const o=Vp();i?_v(o,e.applyTransform(r,!0),t.measuredBox):_v(o,a,t.layoutBox);const c=!Lq(l);let d=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:f,layout:p}=u;if(f&&p){const m=wn();Tv(m,t.layoutBox,f.layoutBox);const v=wn();Tv(v,a,p.layoutBox),Oq(m,v)||(d=!0),u.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=m,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:o,layoutDelta:l,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function X4e(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function J4e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Q4e(e){e.clearSnapshot()}function EO(e){e.clearMeasurements()}function DO(e){e.isLayoutDirty=!1}function Z4e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function MO(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function e5e(e){e.resolveTargetDelta()}function t5e(e){e.calcProjection()}function a5e(e){e.resetSkewAndRotation()}function s5e(e){e.removeLeadSnapshot()}function PO(e,t,a){e.translate=Gr(t.translate,0,a),e.scale=Gr(t.scale,1,a),e.origin=t.origin,e.originPoint=t.originPoint}function LO(e,t,a,r){e.min=Gr(t.min,a.min,r),e.max=Gr(t.max,a.max,r)}function r5e(e,t,a,r){LO(e.x,t.x,a.x,r),LO(e.y,t.y,a.y,r)}function n5e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const i5e={duration:.45,ease:[.4,0,.1,1]},OO=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),RO=OO("applewebkit/")&&!OO("chrome/")?Math.round:bc;function FO(e){e.min=RO(e.min),e.max=RO(e.max)}function l5e(e){FO(e.x),FO(e.y)}function Iq(e,t,a){return e==="position"||e==="preserve-aspect"&&!f4e(_O(t),_O(a),.2)}function o5e(e){return e!==e.root&&e.scroll?.wasRoot}const c5e=Fq({attachResizeListener:(e,t)=>x1(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),l3={current:void 0},Bq=Fq({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!l3.current){const e=new c5e({});e.mount(window),e.setOptions({layoutScroll:!0}),l3.current=e}return l3.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),d5e={pan:{Feature:_4e},drag:{Feature:A4e,ProjectionNode:Bq,MeasureLayout:Dq}};function IO(e,t,a){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",a==="Start");const n="onHover"+a,i=r[n];i&&Or.postRender(()=>i(t,ab(t)))}class u5e extends Gf{mount(){const{current:t}=this.node;t&&(this.unmount=Dje(t,(a,r)=>(IO(this.node,r,"Start"),n=>IO(this.node,n,"End"))))}unmount(){}}class h5e extends Gf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Z1(x1(this.node.current,"focus",()=>this.onFocus()),x1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function BO(e,t,a){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",a==="Start");const n="onTap"+(a==="End"?"":a),i=r[n];i&&Or.postRender(()=>i(t,ab(t)))}class f5e extends Gf{mount(){const{current:t}=this.node;t&&(this.unmount=Oje(t,(a,r)=>(BO(this.node,r,"Start"),(n,{success:i})=>BO(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const EC=new WeakMap,o3=new WeakMap,m5e=e=>{const t=EC.get(e.target);t&&t(e)},p5e=e=>{e.forEach(m5e)};function x5e({root:e,...t}){const a=e||document;o3.has(a)||o3.set(a,{});const r=o3.get(a),n=JSON.stringify(t);return r[n]||(r[n]=new IntersectionObserver(p5e,{root:e,...t})),r[n]}function g5e(e,t,a){const r=x5e(t);return EC.set(e,a),r.observe(e),()=>{EC.delete(e),r.unobserve(e)}}const v5e={some:0,all:1};class b5e extends Gf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:a,margin:r,amount:n="some",once:i}=t,l={root:a?a.current:void 0,rootMargin:r,threshold:typeof n=="number"?n:v5e[n]},o=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),p=d?u:f;p&&p(c)};return g5e(this.node.current,l,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:a}=this.node;["amount","margin","root"].some(y5e(t,a))&&this.startObserver()}unmount(){}}function y5e({viewport:e={}},{viewport:t={}}={}){return a=>e[a]!==t[a]}const w5e={inView:{Feature:b5e},tap:{Feature:f5e},focus:{Feature:h5e},hover:{Feature:u5e}},j5e={layout:{ProjectionNode:Bq,MeasureLayout:Dq}},N5e={...l4e,...w5e,...d5e,...j5e},sh=NNe(N5e,RNe);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5e=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),S5e=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,r)=>r?r.toUpperCase():a.toLowerCase()),$O=e=>{const t=S5e(e);return t.charAt(0).toUpperCase()+t.slice(1)},$q=(...e)=>e.filter((t,a,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===a).join(" ").trim(),C5e=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var A5e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5e=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:n="",children:i,iconNode:l,...o},c)=>y.createElement("svg",{ref:c,...A5e,width:t,height:t,stroke:e,strokeWidth:r?Number(a)*24/Number(t):a,className:$q("lucide",n),...!i&&!C5e(o)&&{"aria-hidden":"true"},...o},[...l.map(([d,u])=>y.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=(e,t)=>{const a=y.forwardRef(({className:r,...n},i)=>y.createElement(_5e,{ref:i,iconNode:t,className:$q(`lucide-${k5e($O(e))}`,`lucide-${e}`,r),...n}));return a.displayName=$O(e),a};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5e=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],E5e=iu("eye",T5e);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5e=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],M5e=iu("key-round",D5e);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5e=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],L5e=iu("lock-open",P5e);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5e=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],R5e=iu("lock",O5e);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5e=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Uq=iu("square-pen",F5e);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5e=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zq=iu("trash",I5e);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5e=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],$5e=iu("upload",B5e);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5e=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],z5e=iu("user-minus",U5e);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5e=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],V5e=iu("user-plus",H5e);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5e=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],DC=iu("x",W5e),q5e=()=>{const[e,t]=y.useState({name:"Acme Inc.",logo:"",address:"123 Nile St, Cairo",phone:"+201000000000",email:"info@acme.com",description:"Leading CRM company",currency:"EGP",timezone:"Africa/Cairo"}),a=(r,n)=>t(i=>({...i,[r]:n}));return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Company Name"}),s.jsx("input",{value:e.name,onChange:r=>a("name",r.target.value),className:"input-soft w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Phone"}),s.jsx("input",{value:e.phone,onChange:r=>a("phone",r.target.value),className:"input-soft w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Email"}),s.jsx("input",{type:"email",value:e.email,onChange:r=>a("email",r.target.value),className:"input-soft w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Address"}),s.jsx("input",{value:e.address,onChange:r=>a("address",r.target.value),className:"input-soft w-full"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:"Description"}),s.jsx("textarea",{value:e.description,onChange:r=>a("description",r.target.value),className:"input-soft w-full",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Currency"}),s.jsxs("select",{value:e.currency,onChange:r=>a("currency",r.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"EGP",children:"EGP"}),s.jsx("option",{value:"USD",children:"USD"}),s.jsx("option",{value:"EUR",children:"EUR"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Timezone"}),s.jsx("input",{value:e.timezone,onChange:r=>a("timezone",r.target.value),className:"input-soft w-full"})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{className:"btn btn-primary",children:"Save"})})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Logo"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-24 h-24 rounded-xl bg-gray-200 dark:bg-gray-700 overflow-hidden",children:e.logo?s.jsx("img",{src:e.logo,alt:"logo",className:"w-full h-full object-contain"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:"LOGO"})}),s.jsxs("label",{className:"btn btn-glass inline-flex items-center gap-2 cursor-pointer",children:[s.jsx($5e,{className:"w-4 h-4"}),s.jsx("span",{children:"Upload"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:r=>{const n=r.target.files?.[0];if(!n)return;const i=new FileReader;i.onload=()=>a("logo",i.result),i.readAsDataURL(n)}})]})]})]})]}),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Preview"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-200 dark:bg-gray-700 overflow-hidden",children:e.logo?s.jsx("img",{src:e.logo,alt:"logo"}):null}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:e.name}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.email})]})]}),s.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:e.address}),s.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:e.phone}),s.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:e.description}),s.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:["Currency: ",e.currency]}),s.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:["Timezone: ",e.timezone]})]})]})})]})},G5e=()=>{const[e,t]=y.useState({email:!0,inapp:!0,sms:!1}),[a,r]=y.useState({newClient:!0,invoiceCreated:!0,paymentReceived:!0,taskAssigned:!1}),n=(l,o)=>t(c=>({...c,[l]:o})),i=(l,o)=>r(c=>({...c,[l]:o}));return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Channels"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:e.email,onChange:l=>n("email",l.target.checked)}),s.jsx("span",{children:"Email Alerts"})]}),s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:e.inapp,onChange:l=>n("inapp",l.target.checked)}),s.jsx("span",{children:"In-App Alerts"})]}),s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:e.sms,onChange:l=>n("sms",l.target.checked)}),s.jsx("span",{children:"SMS Alerts"})]})]})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Events"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:a.newClient,onChange:l=>i("newClient",l.target.checked)}),s.jsx("span",{children:"New Client Added"})]}),s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:a.invoiceCreated,onChange:l=>i("invoiceCreated",l.target.checked)}),s.jsx("span",{children:"Invoice Created"})]}),s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:a.paymentReceived,onChange:l=>i("paymentReceived",l.target.checked)}),s.jsx("span",{children:"Payment Received"})]}),s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:a.taskAssigned,onChange:l=>i("taskAssigned",l.target.checked)}),s.jsx("span",{children:"Task Assigned"})]})]})]})]})};Cs.register(_n,Tn,pl,ai,Un,cn,on);const K5e=e=>{switch(e){case"Active":return"bg-green-100 text-green-700 border-green-200";case"Pending":return"bg-amber-100 text-amber-700 border-amber-200";case"Expired":return"bg-gray-200 text-gray-700 border-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600";case"Cancelled":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},Y5e=({status:e})=>s.jsx("span",{className:`px-2 py-1 text-xs rounded-full border ${K5e(e)}`,children:e}),X5e=()=>{const[e,t]=y.useState([{id:"SUB-001",customer:"Acme Corp",plan:"Pro",start:"2025-01-01",end:"2026-01-01",status:"Active"},{id:"SUB-002",customer:"Globex LLC",plan:"Basic",start:"2025-06-01",end:"2025-12-01",status:"Pending"},{id:"SUB-003",customer:"Soylent Inc",plan:"Enterprise",start:"2024-01-01",end:"2025-01-01",status:"Expired"},{id:"SUB-004",customer:"Umbrella Co",plan:"Pro",start:"2025-02-15",end:"2026-02-15",status:"Cancelled"}]),[a,r]=y.useState(""),[n,i]=y.useState("All"),[l,o]=y.useState("All"),[c,d]=y.useState({address:"Building 12, Business Park, Cairo",method:"Credit Card",taxId:"EG-123456789",cardLast4:"4242"}),[u,f]=y.useState([{id:"INV-1001",amount:49,currency:"USD",date:"2025-10-01",status:"Paid"},{id:"INV-1002",amount:49,currency:"USD",date:"2025-11-01",status:"Paid"},{id:"INV-1003",amount:49,currency:"USD",date:"2025-12-01",status:"Unpaid"},{id:"INV-1004",amount:49,currency:"USD",date:"2026-01-01",status:"Overdue"}]),[p,m]=y.useState("All"),[v,g]=y.useState(""),[b,j]=y.useState(!1),[N,k]=y.useState(!1),[S,C]=y.useState(null),_=y.useMemo(()=>e.filter(H=>(n==="All"||H.plan===n)&&(l==="All"||H.status===l)&&(!a||H.customer.toLowerCase().includes(a.toLowerCase()))),[e,n,l,a]),P=y.useMemo(()=>u.filter(H=>(p==="All"||H.status===p)&&(!v||H.date.startsWith(v))),[u,p,v]),L=y.useMemo(()=>{const H=u.filter(ie=>ie.status==="Paid").reduce((ie,ne)=>ie+ne.amount,0),X=e.filter(ie=>ie.status==="Active").length,se=e.filter(ie=>ie.status==="Expired").length;return{totalRevenue:H,active:X,expired:se}},[u,e]),U={Basic:19,Pro:49,Enterprise:99},[z,T]=y.useState(6),[F,M]=y.useState(!1),[I,W]=y.useState("line"),R=y.useMemo(()=>{const H=e.filter(le=>le.status==="Active"),X=H.reduce((le,pe)=>le+(U[pe.plan]||0),0),se=H.length?Math.round(X/H.length*100)/100:0,ie=e.filter(le=>le.status==="Cancelled").length,ne=H.length+ie?Math.round(ie/(H.length+ie)*1e3)/10:0,J=u.filter(le=>le.status==="Overdue").length;return{mrr:X,arpu:se,churnRate:ne,overdueInvoices:J}},[e,u]),q=y.useMemo(()=>{const H=new Date,X=new Date(H);X.setMonth(H.getMonth()-(z-1));const se=Ce=>`${Ce.getFullYear()}-${String(Ce.getMonth()+1).padStart(2,"0")}`,ie=Ce=>Ce.toLocaleString(void 0,{month:"short"})+" "+String(Ce.getFullYear()).slice(2),ne={},J={},le=[],pe=new Date(X);for(;pe<=H;){const Ce=se(pe);ne[Ce]=0,J[Ce]=0,le.push(ie(pe)),pe.setMonth(pe.getMonth()+1)}u.forEach(Ce=>{const ce=new Date(Ce.date);if(ce>=X&&ce<=H){const Ie=se(ce);Ce.status==="Paid"&&ne[Ie]!==void 0&&(ne[Ie]+=Ce.amount),Ce.status==="Unpaid"&&J[Ie]!==void 0&&(J[Ie]+=Ce.amount)}});const Q=Object.keys(ne).map(Ce=>ne[Ce]),xe=Object.keys(J).map(Ce=>J[Ce]),he=Q.reduce((Ce,ce)=>Ce+ce,0),ue=Q[Q.length-1]||0,Le=Q[Q.length-2]||0,ze=Le?Math.round((ue-Le)/Le*1e3)/10:0;return{labels:le,paidValues:Q,unpaidValues:xe,total:he,last:ue,mom:ze}},[u,z,F]),ae=H=>{C(H),j(!0)},te=H=>{C(H),k(!0)},K=H=>{t(X=>X.map(se=>se.id===H.id?H:se)),j(!1)},oe=()=>{S&&(t(H=>H.map(X=>X.id===S.id?{...X,status:"Cancelled"}:X)),k(!1))},D=()=>{const H=`INV-${String(1e3+u.length+1)}`;f(X=>[{id:H,amount:49,currency:"USD",date:new Date().toISOString().slice(0,10),status:"Unpaid"},...X])},G=()=>{alert("Payment info updated")};return s.jsxs("div",{className:"space-y-0",children:[s.jsxs("div",{className:"glass-panel rounded-2xl p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Active Subscriptions"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{value:a,onChange:H=>r(H.target.value),placeholder:"Search by customer",className:"input-soft w-[180px]"}),s.jsx("select",{value:n,onChange:H=>i(H.target.value),className:"input-soft",children:["All","Basic","Pro","Enterprise"].map(H=>s.jsx("option",{value:H,children:H},H))}),s.jsx("select",{value:l,onChange:H=>o(H.target.value),className:"input-soft",children:["All","Active","Pending","Expired","Cancelled"].map(H=>s.jsx("option",{value:H,children:H},H))})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"separate",borderSpacing:"0 12px"},children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"px-4 py-3",children:"Customer Name"}),s.jsx("th",{className:"px-4 py-3",children:"Plan"}),s.jsx("th",{className:"px-4 py-3",children:"Start Date"}),s.jsx("th",{className:"px-4 py-3",children:"End Date"}),s.jsx("th",{className:"px-4 py-3",children:"Status"}),s.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),s.jsx("tbody",{children:_.map(H=>s.jsxs("tr",{className:"rounded-lg bg-white/40 dark:bg-gray-800/40",children:[s.jsx("td",{className:"px-4 py-3",children:H.customer}),s.jsx("td",{className:"px-4 py-3",children:H.plan}),s.jsx("td",{className:"px-4 py-3",children:H.start}),s.jsx("td",{className:"px-4 py-3",children:H.end}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(Y5e,{status:H.status})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"px-3 py-1 rounded-lg bg-white/60 dark:bg-gray-800/60 border hover:bg-white",onClick:()=>ae(H),title:"Edit",children:" Edit"}),s.jsx("button",{className:"px-3 py-1 rounded-lg bg-white/60 dark:bg-gray-800/60 border hover:bg-white",onClick:()=>te(H),title:"Cancel",children:" Cancel"})]})})]},H.id))})]})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-4 md:p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Billing Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:"Customer Billing Address"}),s.jsx("textarea",{value:c.address,onChange:H=>d({...c,address:H.target.value}),className:"input-soft w-full h-[90px]"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:"Payment Method"}),s.jsx("select",{value:c.method,onChange:H=>d({...c,method:H.target.value}),className:"input-soft w-full",children:["Credit Card","PayPal"].map(H=>s.jsx("option",{value:H,children:H},H))}),c.method==="Credit Card"&&s.jsxs("div",{className:"mt-2 text-sm text-[var(--muted-text)]",children:["Card ending in ",c.cardLast4]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:"Tax Info"}),s.jsx("input",{value:c.taxId,onChange:H=>d({...c,taxId:H.target.value}),className:"input-soft w-full"})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700",onClick:G,children:"Update Payment Info"})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Invoices & Payments"}),s.jsx("button",{className:"px-4 py-2 rounded-lg bg-indigo-600 text-white shadow hover:bg-indigo-700",onClick:D,children:"Generate New Invoice"})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("select",{value:p,onChange:H=>m(H.target.value),className:"input-soft",children:["All","Paid","Unpaid","Overdue"].map(H=>s.jsx("option",{value:H,children:H},H))}),s.jsx("input",{type:"month",value:v,onChange:H=>g(H.target.value),className:"input-soft"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"separate",borderSpacing:"0 12px"},children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"px-4 py-3",children:"Invoice Number"}),s.jsx("th",{className:"px-4 py-3",children:"Date"}),s.jsx("th",{className:"px-4 py-3",children:"Amount"}),s.jsx("th",{className:"px-4 py-3",children:"Status"}),s.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),s.jsx("tbody",{children:P.map(H=>s.jsxs("tr",{className:"rounded-lg bg-white/40 dark:bg-gray-800/40",children:[s.jsx("td",{className:"px-4 py-3",children:H.id}),s.jsx("td",{className:"px-4 py-3",children:H.date}),s.jsxs("td",{className:"px-4 py-3",children:[H.amount," ",H.currency]}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`px-2 py-1 text-xs rounded-full border ${H.status==="Paid"?"bg-green-100 text-green-700 border-green-200":H.status==="Unpaid"?"bg-amber-100 text-amber-700 border-amber-200":"bg-red-100 text-red-700 border-red-200"}`,children:H.status})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("button",{className:"px-3 py-1 rounded-lg bg-white/60 dark:bg-gray-800/60 border hover:bg-white",title:"Download",children:" Download PDF"})})]},H.id))})]})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{name:"Basic",price:"$19/mo",duration:"Monthly",features:["Up to 3 users","Email support","Basic reports"]},{name:"Pro",price:"$49/mo",duration:"Monthly",features:["Up to 10 users","Priority support","Advanced analytics"]},{name:"Enterprise",price:"Custom",duration:"Annual",features:["Unlimited users","Dedicated manager","Custom integrations"]}].map((H,X)=>s.jsxs("div",{className:"glass-panel rounded-2xl p-6 hover:shadow-xl transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-lg font-semibold",children:H.name}),s.jsx("span",{children:""})]}),s.jsx("div",{className:"text-2xl font-bold mb-1",children:H.price}),s.jsx("div",{className:"text-sm text-[var(--muted-text)] mb-3",children:H.duration}),s.jsx("ul",{className:"text-sm space-y-1 mb-4",children:H.features.map((se,ie)=>s.jsxs("li",{children:[" ",se]},ie))}),s.jsx("button",{className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700",children:"Upgrade Plan"})]},X))}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Reports & Analytics"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("select",{className:"input-soft",value:z,onChange:H=>T(Number(H.target.value)),children:[6,12,24].map(H=>s.jsxs("option",{value:H,children:["Last ",H," months"]},H))}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:F,onChange:H=>M(H.target.checked)}),"Include Unpaid"]}),s.jsxs("div",{className:"rounded-lg border bg-white/60 dark:bg-gray-800/60 overflow-hidden",children:[s.jsx("button",{"aria-pressed":I==="line",className:`px-3 py-1 text-sm border-r border-gray-300 dark:border-gray-700 ${I==="line"?"bg-blue-600 text-white":"text-[var(--text-muted)]"}`,onClick:()=>W("line"),children:"Line"}),s.jsx("button",{"aria-pressed":I==="bar",className:`px-3 py-1 text-sm ${I==="bar"?"bg-blue-600 text-white":"text-[var(--text-muted)]"}`,onClick:()=>W("bar"),children:"Bar"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"Total Revenue (Paid)"}),s.jsxs("div",{className:"text-2xl font-bold",children:["$",L.totalRevenue]})]}),s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"MRR (Active)"}),s.jsxs("div",{className:"text-2xl font-bold",children:["$",R.mrr]})]}),s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"ARPU"}),s.jsxs("div",{className:"text-2xl font-bold",children:["$",R.arpu]})]}),s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"Churn Rate"}),s.jsxs("div",{className:"text-2xl font-bold",children:[R.churnRate,"%"]})]})]}),I==="line"?s.jsx("div",{className:"h-64 w-full",children:s.jsx(lo,{options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:F},tooltip:{mode:"index",intersect:!1}},scales:{x:{grid:{display:!1},ticks:{color:"#94a3b8",font:{size:12}}},y:{grid:{color:"rgba(255,255,255,0.08)"},ticks:{color:"#94a3b8",font:{size:12}}}}},data:{labels:q.labels,datasets:[{label:"Paid",data:q.paidValues,borderColor:"#3B82F6",backgroundColor:"rgba(59,130,246,0.25)",tension:.3,pointRadius:2,fill:!0},...F?[{label:"Unpaid",data:q.unpaidValues,borderColor:"#f59e0b",backgroundColor:"rgba(245,158,11,0.25)",tension:.3,pointRadius:2,fill:!0}]:[]]}})}):s.jsx("div",{className:"h-64 w-full",children:s.jsx(Ir,{options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:F},tooltip:{mode:"index",intersect:!1}},scales:{x:{grid:{display:!1},ticks:{color:"#94a3b8",font:{size:12}}},y:{grid:{color:"rgba(255,255,255,0.08)"},ticks:{color:"#94a3b8",font:{size:12}}}}},data:{labels:q.labels,datasets:[{label:"Paid",data:q.paidValues,backgroundColor:"rgba(59,130,246,0.6)",borderRadius:8},...F?[{label:"Unpaid",data:q.unpaidValues,backgroundColor:"rgba(245,158,11,0.6)",borderRadius:8}]:[]]}})}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-3",children:["Period Total: ",s.jsxs("span",{className:"font-semibold",children:["$",q.total]})]}),s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-3",children:["Last Month: ",s.jsxs("span",{className:"font-semibold",children:["$",q.last]})]}),s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-3",children:["MoM Change: ",s.jsxs("span",{className:`font-semibold ${q.mom>=0?"text-green-500":"text-red-500"}`,children:[q.mom,"%"]})]})]})]}),b&&S&&s.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>j(!1)}),s.jsx("div",{className:"relative z-[1001] w-[92vw] max-w-[520px]",children:s.jsxs("div",{className:"glass-panel rounded-2xl p-6 space-y-3",children:[s.jsx("h4",{className:"text-lg font-semibold",children:"Edit Subscription"}),s.jsx("input",{className:"input-soft w-full",value:S.customer,onChange:H=>C({...S,customer:H.target.value})}),s.jsx("select",{className:"input-soft w-full",value:S.plan,onChange:H=>C({...S,plan:H.target.value}),children:["Basic","Pro","Enterprise"].map(H=>s.jsx("option",{value:H,children:H},H))}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"px-3 py-2 rounded-lg border bg-white/60 dark:bg-gray-800/60",onClick:()=>j(!1),children:"Cancel"}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-blue-600 text-white",onClick:()=>K(S),children:"Save"})]})]})})]}),N&&S&&s.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>k(!1)}),s.jsx("div",{className:"relative z-[1001] w-[92vw] max-w-[520px]",children:s.jsxs("div",{className:"glass-panel rounded-2xl p-6 space-y-3",children:[s.jsx("h4",{className:"text-lg font-semibold",children:"Confirm Cancellation"}),s.jsxs("p",{className:"text-sm text-[var(--muted-text)]",children:["Cancel subscription for ",S.customer,"? This action can be reverted by re-activating later."]}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"px-3 py-2 rounded-lg border bg-white/60 dark:bg-gray-800/60",onClick:()=>k(!1),children:"Close"}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-red-600 text-white",onClick:oe,children:"Confirm Cancel"})]})]})})]})]})},MC=[{key:"core",name:"Core CRM",modules:[{key:"dashboard",label:"Dashboard",route:"/dashboard",icon:""},{key:"customers",label:"Customers",route:"/customers",icon:""},{key:"leads",label:"Leads",route:"/leads",icon:""},{key:"projects",label:"Projects",route:"/projects",icon:""},{key:"properties",label:"Properties",route:"/properties",icon:""},{key:"requests",label:"Requests",route:"/requests",icon:""},{key:"buyerRequests",label:"Buyer Requests",route:"/buyer-requests",icon:""},{key:"sellerRequests",label:"Seller Requests",route:"/seller-requests",icon:""},{key:"developers",label:"Developers",route:"/dev-companies",icon:""},{key:"recycle",label:"Recycle Bin",route:"/recycle",icon:""},{key:"contact",label:"Contact Us",route:"/contact",icon:""}]},{key:"marketing",name:"Marketing",modules:[{key:"marketing",label:"Marketing",route:"/marketing",icon:""},{key:"campaigns",label:"Campaigns",route:"/campaigns",icon:""},{key:"landingPages",label:"Landing Pages",route:"/landing-pages",icon:""},{key:"metaIntegration",label:"Meta Integration",route:"/meta-integration",icon:""},{key:"mktReports",label:"Marketing Reports",route:"/marketing/reports",icon:""}]},{key:"inventory",name:"Inventory",modules:[{key:"products",label:"Products",route:"/inventory/products",icon:""},{key:"items",label:"Items",route:"/inventory/items",icon:""},{key:"suppliers",label:"Suppliers",route:"/inventory/suppliers",icon:""},{key:"warehouse",label:"Warehouse",route:"/inventory/warehouse",icon:""},{key:"stockManagement",label:"Stock Management",route:"/inventory/stock-management",icon:""},{key:"inventoryTransactions",label:"Inventory Transactions",route:"/inventory/transactions",icon:""}]},{key:"reports",name:"Reports",modules:[{key:"reportsDashboard",label:"Reports Dashboard",route:"/reports",icon:""},{key:"leadsReport",label:"Leads Report",route:"/reports/leads",icon:""},{key:"teamPerformance",label:"Team Performance",route:"/reports/team",icon:""},{key:"meetingsReport",label:"Meetings Report",route:"/reports/sales/meetings",icon:""},{key:"exportsReport",label:"Exports Report",route:"/exports",icon:""},{key:"importsReport",label:"Imports Report",route:"/imports",icon:""},{key:"campaignSummary",label:"Campaign Summary",route:"/campaign-summary",icon:""},{key:"leadSourcePerf",label:"Lead Source Performance",route:"/lead-source-performance",icon:""},{key:"costVsRevenue",label:"Cost vs Revenue",route:"/cost-vs-revenue",icon:""},{key:"monthlyMarketingOverview",label:"Monthly Marketing Overview",route:"/monthly-marketing-overview",icon:""}]},{key:"settings",name:"Settings & Extensions",modules:[{key:"settingsProfile",label:"Profile Settings",route:"/settings/profile",icon:""},{key:"settingsCompany",label:"Company Settings",route:"/settings/company",icon:""},{key:"settingsUsers",label:"Users & Roles",route:"/settings/users",icon:""},{key:"settingsNotifications",label:"Notifications Settings",route:"/settings/notifications",icon:""},{key:"settingsBilling",label:"Billing & Subscription",route:"/settings/billing",icon:""},{key:"settingsModules",label:"Modules Settings",route:"/settings/modules",icon:""},{key:"settingsSystem",label:"System Preferences",route:"/settings/system",icon:""},{key:"settingsSecurity",label:"Security Settings",route:"/settings/security",icon:""},{key:"settingsSms",label:"SMS Settings",route:"/settings/sms",icon:""},{key:"settingsSmsTemplates",label:"SMS Templates",route:"/settings/sms-templates",icon:""},{key:"settingsEmail",label:"Email Settings",route:"/settings/email",icon:""},{key:"settingsWhatsApp",label:"WhatsApp Settings",route:"/settings/whatsapp",icon:""},{key:"settingsSocialMedia",label:"Social Media Settings",route:"/settings/social-media",icon:""},{key:"settingsContactInfo",label:"Contact Info Settings",route:"/settings/contact-info",icon:""},{key:"settingsScripting",label:"Scripting",route:"/settings/scripting",icon:""},{key:"settingsEoi",label:"EOI Settings",route:"/settings/eoi",icon:""},{key:"settingsReservations",label:"Reservation Settings",route:"/settings/reservations",icon:""},{key:"settingsRotation",label:"Rotation Settings",route:"/settings/rotation",icon:""},{key:"settingsContracts",label:"Contracts Settings",route:"/settings/contracts",icon:""},{key:"settingsConfiguration",label:"Configuration",route:"/settings/configuration",icon:""},{key:"settingsBuyerReset",label:"Buyer Request Reset",route:"/settings/buyer-request-reset",icon:""},{key:"settingsMatching",label:"Matching",route:"/settings/matching",icon:""},{key:"settingsRent",label:"Rent Configuration",route:"/settings/rent",icon:""},{key:"settingsCil",label:"CIL Settings",route:"/settings/cil",icon:""}]}],c3=MC.flatMap(e=>e.modules.map(t=>t.key)),J5e=()=>{const[e,t]=y.useState(""),[a,r]=y.useState(()=>{try{const u=typeof window<"u"?window.localStorage.getItem("enabledModules"):null;if(u)return JSON.parse(u)}catch{}const d={};return c3.forEach(u=>{d[u]=!0}),d}),n=d=>r(u=>({...u,[d]:!u[d]})),i=()=>r(d=>{const u={...d};return c3.forEach(f=>{u[f]=!0}),u}),l=()=>r(d=>{const u={...d};return c3.forEach(f=>{u[f]=!1}),u}),o=()=>{try{typeof window<"u"&&window.localStorage.setItem("enabledModules",JSON.stringify(a))}catch{}alert("Modules settings saved")},c=y.useMemo(()=>{const d=e.trim().toLowerCase();return d?MC.map(u=>({...u,modules:u.modules.filter(f=>f.label.toLowerCase().includes(d))})).filter(u=>u.modules.length>0):MC},[e]);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"glass-panel rounded-2xl p-4 md:p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Modules"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{value:e,onChange:d=>t(d.target.value),placeholder:"Search modules",className:"input-soft w-[220px]"}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",onClick:i,children:"Enable All"}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-gray-700 text-white hover:bg-gray-800",onClick:l,children:"Disable All"}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700",onClick:o,children:"Save"})]})]})}),c.map(d=>s.jsxs("div",{className:"glass-panel rounded-2xl p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"text-md font-semibold",children:d.name}),s.jsxs("span",{className:"text-xs text-[var(--muted-text)]",children:[d.modules.filter(u=>a[u.key]).length,"/",d.modules.length," enabled"]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:d.modules.map(u=>s.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border bg-white/60 dark:bg-gray-800/60",children:[s.jsx("input",{type:"checkbox",checked:!!a[u.key],onChange:()=>n(u.key)}),s.jsx("span",{className:"text-lg","aria-hidden":"true",children:u.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:u.label}),u.route&&s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:u.route})]})]},u.key))})]},d.key))]})},d3={theme:"auto",language:"ar",direction:"auto",timezone:"Africa/Cairo",dateFormat:"DD/MM/YYYY",timeFormat:"24h",currency:"EGP",numberFormat:"1,234.56",units:"sqm",density:"comfortable",animations:!0,sidebarExpanded:!0,notificationsSound:!0,chartsStyle:"line",chartsRounded:!0,chartsStacked:!1},Q5e=()=>{const{t:e,i18n:t}=Ct(),[a,r]=y.useState(()=>{try{const u=typeof window<"u"?window.localStorage.getItem("systemPrefs"):null;if(u)return{...d3,...JSON.parse(u)}}catch{}return d3}),n=(u,f)=>r(p=>({...p,[u]:f})),i=u=>{const f=document.documentElement,p=u==="dark"||u==="auto"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;f.classList.toggle("dark",!!p)},l=(u,f)=>{const p=document.documentElement,m=u==="auto"?f==="ar"?"rtl":"ltr":u;p.setAttribute("dir",m)};y.useEffect(()=>{try{a.language&&t?.changeLanguage&&t.changeLanguage(a.language)}catch{}i(a.theme),l(a.direction,a.language);const u=document.documentElement;u.classList.remove("density-compact","density-comfortable"),u.classList.add(a.density==="compact"?"density-compact":"density-comfortable")},[a.theme,a.direction,a.language,a.density]);const o=()=>{try{window.localStorage.setItem("systemPrefs",JSON.stringify(a))}catch{}},c=()=>{r(d3);try{window.localStorage.removeItem("systemPrefs")}catch{}},d=u=>s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("div",{className:"text-sm font-semibold text-[var(--content-text)]",children:u})]});return s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("System Preferences")}),d(e("Appearance")),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Theme")}),s.jsxs("select",{value:a.theme,onChange:u=>n("theme",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"auto",children:e("Auto")}),s.jsx("option",{value:"light",children:e("Light")}),s.jsx("option",{value:"dark",children:e("Dark")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Density")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:()=>n("density","compact"),className:`px-3 py-2 rounded-lg border ${a.density==="compact"?"bg-blue-50 border-blue-300 text-blue-700 dark:bg-blue-900/30 dark:border-blue-700":"bg-white/80 dark:bg-gray-800/70"}`,children:e("Compact")}),s.jsx("button",{type:"button",onClick:()=>n("density","comfortable"),className:`px-3 py-2 rounded-lg border ${a.density==="comfortable"?"bg-blue-50 border-blue-300 text-blue-700 dark:bg-blue-900/30 dark:border-blue-700":"bg-white/80 dark:bg-gray-800/70"}`,children:e("Comfortable")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Animations")}),s.jsxs("label",{className:"inline-flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",className:"sr-only",checked:a.animations,onChange:u=>n("animations",u.target.checked)}),s.jsx("span",{className:`w-10 h-5 flex items-center bg-gray-300 dark:bg-gray-700 rounded-full p-1 ${a.animations?"justify-end":"justify-start"}`,children:s.jsx("span",{className:`w-4 h-4 rounded-full bg-white transition ${a.animations?"shadow-[0_0_0_2px_rgba(59,130,246,0.6)]":""}`})}),s.jsx("span",{className:"text-sm",children:a.animations?e("Enabled"):e("Disabled")})]})]})]}),s.jsx("div",{className:"h-4"}),d(e("Language & Region")),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Language")}),s.jsxs("select",{value:a.language,onChange:u=>n("language",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"ar",children:e("Arabic")}),s.jsx("option",{value:"en",children:e("English")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Layout Direction")}),s.jsxs("select",{value:a.direction,onChange:u=>n("direction",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"auto",children:e("Auto")}),s.jsx("option",{value:"ltr",children:"LTR"}),s.jsx("option",{value:"rtl",children:"RTL"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Time Zone")}),s.jsxs("select",{value:a.timezone,onChange:u=>n("timezone",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"Africa/Cairo",children:"Africa/Cairo"}),s.jsx("option",{value:"Asia/Riyadh",children:"Asia/Riyadh"}),s.jsx("option",{value:"Europe/London",children:"Europe/London"}),s.jsx("option",{value:"UTC",children:"UTC"})]})]})]}),s.jsx("div",{className:"h-4"}),d(e("Formatting")),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Date Format")}),s.jsxs("select",{value:a.dateFormat,onChange:u=>n("dateFormat",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),s.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),s.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Time Format")}),s.jsxs("select",{value:a.timeFormat,onChange:u=>n("timeFormat",u.target.value),className:"input-soft w-full",children:[s.jsxs("option",{value:"24h",children:["24 ",e("Hours")]}),s.jsxs("option",{value:"12h",children:["12 ",e("Hours")]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Currency")}),s.jsxs("select",{value:a.currency,onChange:u=>n("currency",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"EGP",children:"EGP"}),s.jsx("option",{value:"USD",children:"USD"}),s.jsx("option",{value:"EUR",children:"EUR"}),s.jsx("option",{value:"SAR",children:"SAR"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Number Format")}),s.jsxs("select",{value:a.numberFormat,onChange:u=>n("numberFormat",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"1,234.56",children:"1,234.56"}),s.jsx("option",{value:"1.234,56",children:"1.234,56"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Units")}),s.jsxs("select",{value:a.units,onChange:u=>n("units",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"sqm",children:"m"}),s.jsx("option",{value:"sqft",children:"ft"})]})]})]}),s.jsx("div",{className:"h-4"}),d(e("Interface")),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Sidebar Expanded on Start")}),s.jsxs("label",{className:"inline-flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",className:"sr-only",checked:a.sidebarExpanded,onChange:u=>n("sidebarExpanded",u.target.checked)}),s.jsx("span",{className:`w-10 h-5 flex items-center bg-gray-300 dark:bg-gray-700 rounded-full p-1 ${a.sidebarExpanded?"justify-end":"justify-start"}`,children:s.jsx("span",{className:`w-4 h-4 rounded-full bg-white transition ${a.sidebarExpanded?"shadow-[0_0_0_2px_rgba(59,130,246,0.6)]":""}`})}),s.jsx("span",{className:"text-sm",children:a.sidebarExpanded?e("Enabled"):e("Disabled")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Notification Sound")}),s.jsxs("label",{className:"inline-flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",className:"sr-only",checked:a.notificationsSound,onChange:u=>n("notificationsSound",u.target.checked)}),s.jsx("span",{className:`w-10 h-5 flex items-center bg-gray-300 dark:bg-gray-700 rounded-full p-1 ${a.notificationsSound?"justify-end":"justify-start"}`,children:s.jsx("span",{className:`w-4 h-4 rounded-full bg-white transition ${a.notificationsSound?"shadow-[0_0_0_2px_rgba(59,130,246,0.6)]":""}`})}),s.jsx("span",{className:"text-sm",children:a.notificationsSound?e("Enabled"):e("Disabled")})]})]})]}),s.jsx("div",{className:"h-4"}),d(e("Charts")),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Default Chart Type")}),s.jsxs("select",{value:a.chartsStyle,onChange:u=>n("chartsStyle",u.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"line",children:e("Line")}),s.jsx("option",{value:"bar",children:e("Bar")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Rounded Corners")}),s.jsxs("label",{className:"inline-flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",className:"sr-only",checked:a.chartsRounded,onChange:u=>n("chartsRounded",u.target.checked)}),s.jsx("span",{className:`w-10 h-5 flex items-center bg-gray-300 dark:bg-gray-700 rounded-full p-1 ${a.chartsRounded?"justify-end":"justify-start"}`,children:s.jsx("span",{className:`w-4 h-4 rounded-full bg-white transition ${a.chartsRounded?"shadow-[0_0_0_2px_rgba(59,130,246,0.6)]":""}`})}),s.jsx("span",{className:"text-sm",children:a.chartsRounded?e("Enabled"):e("Disabled")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs text-[var(--muted-text)]",children:e("Stacked Bars")}),s.jsxs("label",{className:"inline-flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",className:"sr-only",checked:a.chartsStacked,onChange:u=>n("chartsStacked",u.target.checked)}),s.jsx("span",{className:`w-10 h-5 flex items-center bg-gray-300 dark:bg-gray-700 rounded-full p-1 ${a.chartsStacked?"justify-end":"justify-start"}`,children:s.jsx("span",{className:`w-4 h-4 rounded-full bg-white transition ${a.chartsStacked?"shadow-[0_0_0_2px_rgba(59,130,246,0.6)]":""}`})}),s.jsx("span",{className:"text-sm",children:a.chartsStacked?e("Enabled"):e("Disabled")})]})]})]}),s.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[s.jsx("button",{className:"btn btn-primary",onClick:o,children:e("Save Preferences")}),s.jsx("button",{className:"btn btn-soft",onClick:c,children:e("Reset to Defaults")})]})]})})},u3=({open:e,title:t,children:a,onClose:r,onConfirm:n,confirmText:i="Confirm"})=>{const{t:l}=Ct();return e?s.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:r}),s.jsx("div",{className:"relative z-[1001] w-[92vw] max-w-[560px]",children:s.jsxs("div",{className:"glass-panel rounded-2xl shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"px-5 py-4 border-b border-white/20 dark:border-gray-700 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:t}),s.jsx("button",{className:"btn btn-glass",onClick:r,children:""})]}),s.jsx("div",{className:"p-5 space-y-4",children:a}),s.jsxs("div",{className:"px-5 py-4 border-t border-white/20 dark:border-gray-700 flex items-center justify-end gap-3",children:[s.jsx("button",{className:"btn btn-glass",onClick:r,children:l("common.cancel")}),s.jsx("button",{className:"btn btn-primary",onClick:n,children:i})]})]})})]}):null},Z5e=()=>{const{t:e}=Ct(),[t,a]=y.useState(""),[r,n]=y.useState(""),[i,l]=y.useState(""),[o,c]=y.useState(!0),[d,u]=y.useState("email"),[f,p]=y.useState(!1),[m,v]=y.useState({email:!0,sms:!0,app:!0});y.useEffect(()=>{if(!m[d]){const Le=m.email?"email":m.sms?"sms":m.app?"app":"email";u(Le)}},[m,d]),y.useEffect(()=>{try{const Le=window.localStorage.getItem("securitySettings");if(Le){const ze=JSON.parse(Le);typeof ze.twoFactor=="boolean"&&c(ze.twoFactor),ze.twoFactorMethod&&u(ze.twoFactorMethod),ze.available2fa&&v(ze.available2fa)}}catch{}},[]);const g=y.useMemo(()=>{let Le=0;return r.length>=8&&Le++,/[A-Z]/.test(r)&&Le++,/[a-z]/.test(r)&&Le++,/[0-9]/.test(r)&&Le++,/[^A-Za-z0-9]/.test(r)&&Le++,Le},[r]),[b]=y.useState([{name:"Admin"},{name:"Sales"}]),[j,N]=y.useState({viewCustomers:!0,editCustomers:!1,manageUsers:!1,viewBilling:!0}),[k,S]=y.useState(!1),[C,_]=y.useState([{id:1,device:"Windows PC",location:"Cairo, EG",lastActive:"2025-11-10 12:33"},{id:2,device:"iPhone 15",location:"Giza, EG",lastActive:"2025-11-11 08:21"}]),[P,L]=y.useState(null),[U,z]=y.useState(!0),[T,F]=y.useState(!0),[M,I]=y.useState(!0),[W,R]=y.useState("email"),[q,ae]=y.useState(8),[te,K]=y.useState(!0),[oe,D]=y.useState(!0),[G,H]=y.useState(!0),[X,se]=y.useState(!1),[ie,ne]=y.useState(5),[J,le]=y.useState(!0),[pe,Q]=y.useState([{id:"a1",action:"Password Change",by:"John Doe",at:"2025-11-10 09:20"},{id:"a2",action:"2FA Enabled",by:"John Doe",at:"2025-11-10 09:25"},{id:"a3",action:"Permissions Updated",by:"Admin",at:"2025-11-11 15:12"}]),xe=()=>{const Le={twoFactor:o,twoFactorMethod:d,available2fa:m,notifications:{notifNewDevice:U,notifPwdChange:T,notifFailedLogins:M,notifMethod:W},policies:{minLength:q,reqUpper:te,reqLower:oe,reqNumber:G,reqSpecial:X,failedLimit:ie,temporaryLockout:J}};try{window.localStorage.setItem("securitySettings",JSON.stringify(Le))}catch{}},he=()=>{P&&(_(Le=>Le.filter(ze=>ze.id!==P.id)),L(null))},ue=()=>{_([])};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"xl:col-span-2",children:[s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:e("security.passwordAuth")}),s.jsx("button",{className:"btn btn-primary",onClick:xe,children:e("security.save")})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("security.currentPassword")}),s.jsx("input",{type:"password",className:"input-soft w-full",placeholder:e("security.currentPassword"),value:t,onChange:Le=>a(Le.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("security.newPassword")}),s.jsx("input",{type:"password",className:"input-soft w-full",placeholder:e("security.newPassword"),value:r,onChange:Le=>n(Le.target.value)}),s.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded overflow-hidden mt-2",children:s.jsx("div",{className:`h-2 transition-all ${g<=2?"bg-red-500":g===3?"bg-yellow-500":"bg-emerald-500"}`,style:{width:`${g/5*100}%`}})})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:e("security.confirmPassword")}),s.jsx("input",{type:"password",className:"input-soft w-full",placeholder:e("security.confirmPassword"),value:i,onChange:Le=>l(Le.target.value)}),i&&i!==r&&s.jsx("div",{className:"text-xs text-rose-600 mt-1",children:e("security.passwordMismatch")})]})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-sm",children:e("security.twoFactor")}),s.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"hidden",checked:o,onChange:Le=>c(Le.target.checked)}),s.jsx("span",{className:`w-10 h-6 rounded-full p-1 ${o?"bg-emerald-500":"bg-gray-400"} transition-all`,children:s.jsx("span",{className:`block w-4 h-4 bg-white rounded-full transition-transform ${o?"translate-x-4":"translate-x-0"}`})})]})]}),!o&&s.jsx("div",{className:"md:col-span-2 p-3 rounded-lg border bg-white/70 dark:bg-gray-800/70",children:s.jsx("div",{className:"text-sm",children:e("security.enableNotice")})}),o&&s.jsxs("div",{className:"p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("div",{className:"text-sm mb-2",children:e("security.defaultMethod")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"twofactor",disabled:!m.email,checked:d==="email",onChange:()=>u("email")})," ",e("security.emailOtp")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"twofactor",disabled:!m.sms,checked:d==="sms",onChange:()=>u("sms")})," ",e("security.sms")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"twofactor",disabled:!m.app,checked:d==="app",onChange:()=>u("app")})," ",e("security.app")]})]})]}),o&&s.jsxs("div",{className:"p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("div",{className:"text-sm mb-2",children:e("security.enableMethods")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:m.email,onChange:Le=>v(ze=>({...ze,email:Le.target.checked}))})," ",e("security.emailOtp")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:m.sms,onChange:Le=>v(ze=>({...ze,sms:Le.target.checked}))})," ",e("security.sms")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:m.app,onChange:Le=>v(ze=>({...ze,app:Le.target.checked}))})," ",e("security.app")]})]}),s.jsx("div",{className:"text-xs text-[var(--muted-text)] mt-1",children:e("security.enableNotice")})]}),s.jsx("div",{className:"md:col-span-3 flex items-center justify-end",children:s.jsx("button",{className:"btn btn-primary",disabled:!o,onClick:()=>p(!0),children:e("security.setup2fa")})})]})]}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsx("div",{className:"glass-panel rounded-2xl overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:e("security.accountAccess")}),s.jsx("button",{className:"btn btn-glass",onClick:()=>S(!0),children:e("security.editPermissions")})]}),s.jsx("div",{className:"mb-4 flex flex-wrap gap-2",children:b.map(Le=>s.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-50 text-blue-700 dark:bg-gray-800 dark:text-blue-400 border border-blue-100 dark:border-gray-700 text-xs",children:Le.name},Le.name))}),s.jsx("div",{className:"text-sm font-medium mb-2",children:e("security.activeSessions")}),s.jsxs("table",{className:"w-full table-auto text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[s.jsx("th",{className:"px-4 py-3 text-left",children:e("security.device")}),s.jsx("th",{className:"px-4 py-3 text-left",children:e("security.location")}),s.jsx("th",{className:"px-4 py-3 text-left",children:e("security.lastActive")}),s.jsx("th",{className:"px-4 py-3 text-left",children:e("security.action")})]})}),s.jsx("tbody",{children:C.length===0?s.jsx("tr",{children:s.jsx("td",{className:"px-4 py-4 text-center text-gray-500",colSpan:4,children:e("security.noSessions")})}):C.map(Le=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[s.jsx("td",{className:"px-4 py-2",children:Le.device}),s.jsx("td",{className:"px-4 py-2",children:Le.location}),s.jsx("td",{className:"px-4 py-2",children:Le.lastActive}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>L(Le),children:e("security.logout")})})]},Le.id))})]}),s.jsx("div",{className:"mt-3 flex items-center justify-end",children:s.jsx("button",{className:"btn btn-danger",onClick:ue,children:e("security.logoutAll")})})]})}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("security.securityNotifications")}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-sm",children:e("security.loginNewDevice")}),s.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"hidden",checked:U,onChange:Le=>z(Le.target.checked)}),s.jsx("span",{className:`w-10 h-6 rounded-full p-1 ${U?"bg-emerald-500":"bg-gray-400"} transition-all`,children:s.jsx("span",{className:`block w-4 h-4 bg-white rounded-full transition-transform ${U?"translate-x-4":"translate-x-0"}`})})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-sm",children:e("security.passwordChange")}),s.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"hidden",checked:T,onChange:Le=>F(Le.target.checked)}),s.jsx("span",{className:`w-10 h-6 rounded-full p-1 ${T?"bg-emerald-500":"bg-gray-400"} transition-all`,children:s.jsx("span",{className:`block w-4 h-4 bg-white rounded-full transition-transform ${T?"translate-x-4":"translate-x-0"}`})})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-sm",children:e("security.failedLogins")}),s.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"hidden",checked:M,onChange:Le=>I(Le.target.checked)}),s.jsx("span",{className:`w-10 h-6 rounded-full p-1 ${M?"bg-emerald-500":"bg-gray-400"} transition-all`,children:s.jsx("span",{className:`block w-4 h-4 bg-white rounded-full transition-transform ${M?"translate-x-4":"translate-x-0"}`})})]})]}),s.jsxs("div",{className:"p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("div",{className:"text-sm mb-2",children:e("security.notificationMethod")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"notif",checked:W==="email",onChange:()=>R("email")})," Email"]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"notif",checked:W==="sms",onChange:()=>R("sms")})," ",e("security.sms")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"notif",checked:W==="push",onChange:()=>R("push")})," ",e("security.push")]})]})]})]})]}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("security.policies")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("security.minLength")}),s.jsx("input",{type:"number",min:4,className:"input-soft w-full",value:q,onChange:Le=>ae(Number(Le.target.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("security.failedLimit")}),s.jsx("input",{type:"number",min:1,className:"input-soft w-full",value:ie,onChange:Le=>ne(Number(Le.target.value))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{className:"space-y-2 p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("div",{className:"text-sm font-medium",children:e("security.charReq")}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:te,onChange:Le=>K(Le.target.checked)})," ",e("security.upper")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:oe,onChange:Le=>D(Le.target.checked)})," ",e("security.lower")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:G,onChange:Le=>H(Le.target.checked)})," ",e("security.number")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:X,onChange:Le=>se(Le.target.checked)})," ",e("security.special")]})]}),s.jsxs("div",{className:"space-y-2 p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("div",{className:"text-sm font-medium",children:e("security.lockoutPolicy")}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:J,onChange:Le=>le(Le.target.checked)})," ",e("security.tempLockout")]}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("security.lockoutNote")})]})]})]})]}),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("security.auditLogs")}),s.jsx("div",{className:"space-y-2",children:pe.map(Le=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-white/90 dark:bg-gray-800/80 hover:shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"w-8 h-8 rounded-md bg-blue-50 text-blue-700 dark:bg-gray-700 dark:text-blue-400 flex items-center justify-center",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium",children:Le.action}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:Le.at})]})]}),s.jsx("div",{className:"text-xs",children:Le.by})]},Le.id))})]})})]}),s.jsx(u3,{open:f,title:e("security.modal.setupTitle"),onClose:()=>p(!1),onConfirm:()=>{p(!1),c(!0),Q(Le=>[{id:Math.random().toString(36).slice(2),action:"2FA Setup",by:"You",at:new Date().toLocaleString()},...Le])},confirmText:e("security.setup2fa"),children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm",children:e("security.modal.setupHelp")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"twofactor-modal",checked:d==="email",onChange:()=>u("email")})," ",e("security.emailOtp")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"twofactor-modal",checked:d==="sms",onChange:()=>u("sms")})," ",e("security.sms")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",name:"twofactor-modal",checked:d==="app",onChange:()=>u("app")})," ",e("security.app")]})]})]})}),s.jsx(u3,{open:!!P,title:e("security.modal.logoutTitle"),onClose:()=>L(null),onConfirm:he,confirmText:e("security.logout"),children:s.jsx("div",{className:"text-sm",children:e("security.modal.logoutDesc")})}),s.jsx(u3,{open:k,title:e("security.modal.editPermsTitle"),onClose:()=>S(!1),onConfirm:()=>{S(!1),Q(Le=>[{id:Math.random().toString(36).slice(2),action:"Permissions Updated",by:"You",at:new Date().toLocaleString()},...Le])},confirmText:e("common.save"),children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:j.viewCustomers,onChange:Le=>N(ze=>({...ze,viewCustomers:Le.target.checked}))})," ",e("security.perms.viewCustomers")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:j.editCustomers,onChange:Le=>N(ze=>({...ze,editCustomers:Le.target.checked}))})," ",e("security.perms.editCustomers")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:j.manageUsers,onChange:Le=>N(ze=>({...ze,manageUsers:Le.target.checked}))})," ",e("security.perms.manageUsers")]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:j.viewBilling,onChange:Le=>N(ze=>({...ze,viewBilling:Le.target.checked}))})," ",e("security.perms.viewBilling")]})]})})]})};function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}var cd=Uint8Array,Oo=Uint16Array,K8=Int32Array,Y8=new cd([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),X8=new cd([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),UO=new cd([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Hq=function(e,t){for(var a=new Oo(31),r=0;r<31;++r)a[r]=t+=1<<e[r-1];for(var n=new K8(a[30]),r=1;r<30;++r)for(var i=a[r];i<a[r+1];++i)n[i]=i-a[r]<<5|r;return{b:a,r:n}},Vq=Hq(Y8,2),e3e=Vq.b,PC=Vq.r;e3e[28]=258,PC[258]=28;var t3e=Hq(X8,0),zO=t3e.r,LC=new Oo(32768);for(var br=0;br<32768;++br){var uf=(br&43690)>>1|(br&21845)<<1;uf=(uf&52428)>>2|(uf&13107)<<2,uf=(uf&61680)>>4|(uf&3855)<<4,LC[br]=((uf&65280)>>8|(uf&255)<<8)>>1}var Ev=(function(e,t,a){for(var r=e.length,n=0,i=new Oo(t);n<r;++n)e[n]&&++i[e[n]-1];var l=new Oo(t);for(n=1;n<t;++n)l[n]=l[n-1]+i[n-1]<<1;var o;if(a){o=new Oo(1<<t);var c=15-t;for(n=0;n<r;++n)if(e[n])for(var d=n<<4|e[n],u=t-e[n],f=l[e[n]-1]++<<u,p=f|(1<<u)-1;f<=p;++f)o[LC[f]>>c]=d}else for(o=new Oo(r),n=0;n<r;++n)e[n]&&(o[n]=LC[l[e[n]-1]++]>>15-e[n]);return o}),vm=new cd(288);for(var br=0;br<144;++br)vm[br]=8;for(var br=144;br<256;++br)vm[br]=9;for(var br=256;br<280;++br)vm[br]=7;for(var br=280;br<288;++br)vm[br]=8;var Tw=new cd(32);for(var br=0;br<32;++br)Tw[br]=5;var a3e=Ev(vm,9,0),s3e=Ev(Tw,5,0),Wq=function(e){return(e+7)/8|0},r3e=function(e,t,a){return(a==null||a>e.length)&&(a=e.length),new cd(e.subarray(t,a))},Lu=function(e,t,a){a<<=t&7;var r=t/8|0;e[r]|=a,e[r+1]|=a>>8},$g=function(e,t,a){a<<=t&7;var r=t/8|0;e[r]|=a,e[r+1]|=a>>8,e[r+2]|=a>>16},h3=function(e,t){for(var a=[],r=0;r<e.length;++r)e[r]&&a.push({s:r,f:e[r]});var n=a.length,i=a.slice();if(!n)return{t:Gq,l:0};if(n==1){var l=new cd(a[0].s+1);return l[a[0].s]=1,{t:l,l:1}}a.sort(function(C,_){return C.f-_.f}),a.push({s:-1,f:25001});var o=a[0],c=a[1],d=0,u=1,f=2;for(a[0]={s:-1,f:o.f+c.f,l:o,r:c};u!=n-1;)o=a[a[d].f<a[f].f?d++:f++],c=a[d!=u&&a[d].f<a[f].f?d++:f++],a[u++]={s:-1,f:o.f+c.f,l:o,r:c};for(var p=i[0].s,r=1;r<n;++r)i[r].s>p&&(p=i[r].s);var m=new Oo(p+1),v=OC(a[u-1],m,0);if(v>t){var r=0,g=0,b=v-t,j=1<<b;for(i.sort(function(_,P){return m[P.s]-m[_.s]||_.f-P.f});r<n;++r){var N=i[r].s;if(m[N]>t)g+=j-(1<<v-m[N]),m[N]=t;else break}for(g>>=b;g>0;){var k=i[r].s;m[k]<t?g-=1<<t-m[k]++-1:++r}for(;r>=0&&g;--r){var S=i[r].s;m[S]==t&&(--m[S],++g)}v=t}return{t:new cd(m),l:v}},OC=function(e,t,a){return e.s==-1?Math.max(OC(e.l,t,a+1),OC(e.r,t,a+1)):t[e.s]=a},HO=function(e){for(var t=e.length;t&&!e[--t];);for(var a=new Oo(++t),r=0,n=e[0],i=1,l=function(c){a[r++]=c},o=1;o<=t;++o)if(e[o]==n&&o!=t)++i;else{if(!n&&i>2){for(;i>138;i-=138)l(32754);i>2&&(l(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(l(n),--i;i>6;i-=6)l(8304);i>2&&(l(i-3<<5|8208),i=0)}for(;i--;)l(n);i=1,n=e[o]}return{c:a.subarray(0,r),n:t}},Ug=function(e,t){for(var a=0,r=0;r<t.length;++r)a+=e[r]*t[r];return a},qq=function(e,t,a){var r=a.length,n=Wq(t+2);e[n]=r&255,e[n+1]=r>>8,e[n+2]=e[n]^255,e[n+3]=e[n+1]^255;for(var i=0;i<r;++i)e[n+i+4]=a[i];return(n+4+r)*8},VO=function(e,t,a,r,n,i,l,o,c,d,u){Lu(t,u++,a),++n[256];for(var f=h3(n,15),p=f.t,m=f.l,v=h3(i,15),g=v.t,b=v.l,j=HO(p),N=j.c,k=j.n,S=HO(g),C=S.c,_=S.n,P=new Oo(19),L=0;L<N.length;++L)++P[N[L]&31];for(var L=0;L<C.length;++L)++P[C[L]&31];for(var U=h3(P,7),z=U.t,T=U.l,F=19;F>4&&!z[UO[F-1]];--F);var M=d+5<<3,I=Ug(n,vm)+Ug(i,Tw)+l,W=Ug(n,p)+Ug(i,g)+l+14+3*F+Ug(P,z)+2*P[16]+3*P[17]+7*P[18];if(c>=0&&M<=I&&M<=W)return qq(t,u,e.subarray(c,c+d));var R,q,ae,te;if(Lu(t,u,1+(W<I)),u+=2,W<I){R=Ev(p,m,0),q=p,ae=Ev(g,b,0),te=g;var K=Ev(z,T,0);Lu(t,u,k-257),Lu(t,u+5,_-1),Lu(t,u+10,F-4),u+=14;for(var L=0;L<F;++L)Lu(t,u+3*L,z[UO[L]]);u+=3*F;for(var oe=[N,C],D=0;D<2;++D)for(var G=oe[D],L=0;L<G.length;++L){var H=G[L]&31;Lu(t,u,K[H]),u+=z[H],H>15&&(Lu(t,u,G[L]>>5&127),u+=G[L]>>12)}}else R=a3e,q=vm,ae=s3e,te=Tw;for(var L=0;L<o;++L){var X=r[L];if(X>255){var H=X>>18&31;$g(t,u,R[H+257]),u+=q[H+257],H>7&&(Lu(t,u,X>>23&31),u+=Y8[H]);var se=X&31;$g(t,u,ae[se]),u+=te[se],se>3&&($g(t,u,X>>5&8191),u+=X8[se])}else $g(t,u,R[X]),u+=q[X]}return $g(t,u,R[256]),u+q[256]},n3e=new K8([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Gq=new cd(0),i3e=function(e,t,a,r,n,i){var l=i.z||e.length,o=new cd(r+l+5*(1+Math.ceil(l/7e3))+n),c=o.subarray(r,o.length-n),d=i.l,u=(i.r||0)&7;if(t){u&&(c[0]=i.r>>3);for(var f=n3e[t-1],p=f>>13,m=f&8191,v=(1<<a)-1,g=i.p||new Oo(32768),b=i.h||new Oo(v+1),j=Math.ceil(a/3),N=2*j,k=function(he){return(e[he]^e[he+1]<<j^e[he+2]<<N)&v},S=new K8(25e3),C=new Oo(288),_=new Oo(32),P=0,L=0,U=i.i||0,z=0,T=i.w||0,F=0;U+2<l;++U){var M=k(U),I=U&32767,W=b[M];if(g[I]=W,b[M]=I,T<=U){var R=l-U;if((P>7e3||z>24576)&&(R>423||!d)){u=VO(e,c,0,S,C,_,L,z,F,U-F,u),z=P=L=0,F=U;for(var q=0;q<286;++q)C[q]=0;for(var q=0;q<30;++q)_[q]=0}var ae=2,te=0,K=m,oe=I-W&32767;if(R>2&&M==k(U-oe))for(var D=Math.min(p,R)-1,G=Math.min(32767,U),H=Math.min(258,R);oe<=G&&--K&&I!=W;){if(e[U+ae]==e[U+ae-oe]){for(var X=0;X<H&&e[U+X]==e[U+X-oe];++X);if(X>ae){if(ae=X,te=oe,X>D)break;for(var se=Math.min(oe,X-2),ie=0,q=0;q<se;++q){var ne=U-oe+q&32767,J=g[ne],le=ne-J&32767;le>ie&&(ie=le,W=ne)}}}I=W,W=g[I],oe+=I-W&32767}if(te){S[z++]=268435456|PC[ae]<<18|zO[te];var pe=PC[ae]&31,Q=zO[te]&31;L+=Y8[pe]+X8[Q],++C[257+pe],++_[Q],T=U+ae,++P}else S[z++]=e[U],++C[e[U]]}}for(U=Math.max(U,T);U<l;++U)S[z++]=e[U],++C[e[U]];u=VO(e,c,d,S,C,_,L,z,F,U-F,u),d||(i.r=u&7|c[u/8|0]<<3,u-=7,i.h=b,i.p=g,i.i=U,i.w=T)}else{for(var U=i.w||0;U<l+d;U+=65535){var xe=U+65535;xe>=l&&(c[u/8|0]=d,xe=l),u=qq(c,u+1,e.subarray(U,xe))}i.i=l}return r3e(o,0,r+Wq(u)+n)},Kq=function(){var e=1,t=0;return{p:function(a){for(var r=e,n=t,i=a.length|0,l=0;l!=i;){for(var o=Math.min(l+2655,i);l<o;++l)n+=r+=a[l];r=(r&65535)+15*(r>>16),n=(n&65535)+15*(n>>16)}e=r,t=n},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},l3e=function(e,t,a,r,n){if(!n&&(n={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),l=new cd(i.length+e.length);l.set(i),l.set(e,i.length),e=l,n.w=i.length}return i3e(e,t.level==null?6:t.level,t.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,a,r,n)},Yq=function(e,t,a){for(;a;++t)e[t]=a,a>>>=8},o3e=function(e,t){var a=t.level,r=a==0?0:a<6?1:a==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var n=Kq();n.p(t.dictionary),Yq(e,2,n.d())}};function RC(e,t){t||(t={});var a=Kq();a.p(e);var r=l3e(e,t,t.dictionary?6:2,4);return o3e(r,t),Yq(r,r.length-4,a.d()),r}var c3e=typeof TextDecoder<"u"&&new TextDecoder,d3e=0;try{c3e.decode(Gq,{stream:!0}),d3e=1}catch{}function u3e(e){if(Array.isArray(e))return e}function h3e(e,t){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var r,n,i,l,o=[],c=!0,d=!1;try{if(i=(a=a.call(e)).next,t!==0)for(;!(c=(r=i.call(a)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&a.return!=null&&(l=a.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}function WO(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function f3e(e,t){if(e){if(typeof e=="string")return WO(e,t);var a={}.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(e):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?WO(e,t):void 0}}function m3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qO(e,t){return u3e(e)||h3e(e,t)||f3e(e,t)||m3e()}function GO(e,t="utf8"){return new TextDecoder(t).decode(e)}const p3e=new TextEncoder;function x3e(e){return p3e.encode(e)}const g3e=1024*8,v3e=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),f3={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class J8{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=g3e,a={}){let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const n=a.offset?a.offset>>>0:0,i=t.byteLength-n;let l=n;(ArrayBuffer.isView(t)||t instanceof J8)&&(t.byteLength!==t.buffer.byteLength&&(l=t.byteOffset+n),t=t.buffer),r?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,n=new Uint8Array(r);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,a){const r=f3[a].BYTES_PER_ELEMENT*t,n=this.byteOffset+this.offset,i=this.buffer.slice(n,n+r);if(this.littleEndian===v3e&&a!=="uint8"&&a!=="int8"){const o=new Uint8Array(this.buffer.slice(n,n+r));o.reverse();const c=new f3[a](o.buffer);return this.offset+=r,c.reverse(),c}const l=new f3[a](i);return this.offset+=r,l}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let a="";for(let r=0;r<t;r++)a+=this.readChar();return a}readUtf8(t=1){return GO(this.readBytes(t))}decodeText(t=1,a="utf8"){return GO(this.readBytes(t),a)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let a=0;a<t.length;a++)this._data.setUint8(this.offset++,t[a]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let a=0;a<t.length;a++)this.writeUint8(t.charCodeAt(a));return this}writeUtf8(t){return this.writeBytes(x3e(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Px(e){let t=e.length;for(;--t>=0;)e[t]=0}const b3e=3,y3e=258,Xq=29,w3e=256,j3e=w3e+1+Xq,Jq=30,N3e=512,k3e=new Array((j3e+2)*2);Px(k3e);const S3e=new Array(Jq*2);Px(S3e);const C3e=new Array(N3e);Px(C3e);const A3e=new Array(y3e-b3e+1);Px(A3e);const _3e=new Array(Xq);Px(_3e);const T3e=new Array(Jq);Px(T3e);const E3e=(e,t,a,r)=>{let n=e&65535|0,i=e>>>16&65535|0,l=0;for(;a!==0;){l=a>2e3?2e3:a,a-=l;do n=n+t[r++]|0,i=i+n|0;while(--l);n%=65521,i%=65521}return n|i<<16|0};var FC=E3e;const D3e=()=>{let e,t=[];for(var a=0;a<256;a++){e=a;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[a]=e}return t},M3e=new Uint32Array(D3e()),P3e=(e,t,a,r)=>{const n=M3e,i=r+a;e^=-1;for(let l=r;l<i;l++)e=e>>>8^n[(e^t[l])&255];return e^-1};var Ud=P3e,IC={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Qq={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const L3e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var O3e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const a=t.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(const r in a)L3e(a,r)&&(e[r]=a[r])}}return e},R3e=e=>{let t=0;for(let r=0,n=e.length;r<n;r++)t+=e[r].length;const a=new Uint8Array(t);for(let r=0,n=0,i=e.length;r<i;r++){let l=e[r];a.set(l,n),n+=l.length}return a},Zq={assign:O3e,flattenChunks:R3e};let eG=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{eG=!1}const g1=new Uint8Array(256);for(let e=0;e<256;e++)g1[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;g1[254]=g1[254]=1;var F3e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,a,r,n,i,l=e.length,o=0;for(n=0;n<l;n++)a=e.charCodeAt(n),(a&64512)===55296&&n+1<l&&(r=e.charCodeAt(n+1),(r&64512)===56320&&(a=65536+(a-55296<<10)+(r-56320),n++)),o+=a<128?1:a<2048?2:a<65536?3:4;for(t=new Uint8Array(o),i=0,n=0;i<o;n++)a=e.charCodeAt(n),(a&64512)===55296&&n+1<l&&(r=e.charCodeAt(n+1),(r&64512)===56320&&(a=65536+(a-55296<<10)+(r-56320),n++)),a<128?t[i++]=a:a<2048?(t[i++]=192|a>>>6,t[i++]=128|a&63):a<65536?(t[i++]=224|a>>>12,t[i++]=128|a>>>6&63,t[i++]=128|a&63):(t[i++]=240|a>>>18,t[i++]=128|a>>>12&63,t[i++]=128|a>>>6&63,t[i++]=128|a&63);return t};const I3e=(e,t)=>{if(t<65534&&e.subarray&&eG)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let a="";for(let r=0;r<t;r++)a+=String.fromCharCode(e[r]);return a};var B3e=(e,t)=>{const a=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,n;const i=new Array(a*2);for(n=0,r=0;r<a;){let l=e[r++];if(l<128){i[n++]=l;continue}let o=g1[l];if(o>4){i[n++]=65533,r+=o-1;continue}for(l&=o===2?31:o===3?15:7;o>1&&r<a;)l=l<<6|e[r++]&63,o--;if(o>1){i[n++]=65533;continue}l<65536?i[n++]=l:(l-=65536,i[n++]=55296|l>>10&1023,i[n++]=56320|l&1023)}return I3e(i,n)},$3e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let a=t-1;for(;a>=0&&(e[a]&192)===128;)a--;return a<0||a===0?t:a+g1[e[a]]>t?a:t},BC={string2buf:F3e,buf2string:B3e,utf8border:$3e};function U3e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var z3e=U3e;const t2=16209,H3e=16191;var V3e=function(t,a){let r,n,i,l,o,c,d,u,f,p,m,v,g,b,j,N,k,S,C,_,P,L,U,z;const T=t.state;r=t.next_in,U=t.input,n=r+(t.avail_in-5),i=t.next_out,z=t.output,l=i-(a-t.avail_out),o=i+(t.avail_out-257),c=T.dmax,d=T.wsize,u=T.whave,f=T.wnext,p=T.window,m=T.hold,v=T.bits,g=T.lencode,b=T.distcode,j=(1<<T.lenbits)-1,N=(1<<T.distbits)-1;e:do{v<15&&(m+=U[r++]<<v,v+=8,m+=U[r++]<<v,v+=8),k=g[m&j];t:for(;;){if(S=k>>>24,m>>>=S,v-=S,S=k>>>16&255,S===0)z[i++]=k&65535;else if(S&16){C=k&65535,S&=15,S&&(v<S&&(m+=U[r++]<<v,v+=8),C+=m&(1<<S)-1,m>>>=S,v-=S),v<15&&(m+=U[r++]<<v,v+=8,m+=U[r++]<<v,v+=8),k=b[m&N];a:for(;;){if(S=k>>>24,m>>>=S,v-=S,S=k>>>16&255,S&16){if(_=k&65535,S&=15,v<S&&(m+=U[r++]<<v,v+=8,v<S&&(m+=U[r++]<<v,v+=8)),_+=m&(1<<S)-1,_>c){t.msg="invalid distance too far back",T.mode=t2;break e}if(m>>>=S,v-=S,S=i-l,_>S){if(S=_-S,S>u&&T.sane){t.msg="invalid distance too far back",T.mode=t2;break e}if(P=0,L=p,f===0){if(P+=d-S,S<C){C-=S;do z[i++]=p[P++];while(--S);P=i-_,L=z}}else if(f<S){if(P+=d+f-S,S-=f,S<C){C-=S;do z[i++]=p[P++];while(--S);if(P=0,f<C){S=f,C-=S;do z[i++]=p[P++];while(--S);P=i-_,L=z}}}else if(P+=f-S,S<C){C-=S;do z[i++]=p[P++];while(--S);P=i-_,L=z}for(;C>2;)z[i++]=L[P++],z[i++]=L[P++],z[i++]=L[P++],C-=3;C&&(z[i++]=L[P++],C>1&&(z[i++]=L[P++]))}else{P=i-_;do z[i++]=z[P++],z[i++]=z[P++],z[i++]=z[P++],C-=3;while(C>2);C&&(z[i++]=z[P++],C>1&&(z[i++]=z[P++]))}}else if((S&64)===0){k=b[(k&65535)+(m&(1<<S)-1)];continue a}else{t.msg="invalid distance code",T.mode=t2;break e}break}}else if((S&64)===0){k=g[(k&65535)+(m&(1<<S)-1)];continue t}else if(S&32){T.mode=H3e;break e}else{t.msg="invalid literal/length code",T.mode=t2;break e}break}}while(r<n&&i<o);C=v>>3,r-=C,v-=C<<3,m&=(1<<v)-1,t.next_in=r,t.next_out=i,t.avail_in=r<n?5+(n-r):5-(r-n),t.avail_out=i<o?257+(o-i):257-(i-o),T.hold=m,T.bits=v};const Ep=15,KO=852,YO=592,XO=0,m3=1,JO=2,W3e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),q3e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),G3e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),K3e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Y3e=(e,t,a,r,n,i,l,o)=>{const c=o.bits;let d=0,u=0,f=0,p=0,m=0,v=0,g=0,b=0,j=0,N=0,k,S,C,_,P,L=null,U;const z=new Uint16Array(Ep+1),T=new Uint16Array(Ep+1);let F=null,M,I,W;for(d=0;d<=Ep;d++)z[d]=0;for(u=0;u<r;u++)z[t[a+u]]++;for(m=c,p=Ep;p>=1&&z[p]===0;p--);if(m>p&&(m=p),p===0)return n[i++]=1<<24|64<<16|0,n[i++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<p&&z[f]===0;f++);for(m<f&&(m=f),b=1,d=1;d<=Ep;d++)if(b<<=1,b-=z[d],b<0)return-1;if(b>0&&(e===XO||p!==1))return-1;for(T[1]=0,d=1;d<Ep;d++)T[d+1]=T[d]+z[d];for(u=0;u<r;u++)t[a+u]!==0&&(l[T[t[a+u]]++]=u);if(e===XO?(L=F=l,U=20):e===m3?(L=W3e,F=q3e,U=257):(L=G3e,F=K3e,U=0),N=0,u=0,d=f,P=i,v=m,g=0,C=-1,j=1<<m,_=j-1,e===m3&&j>KO||e===JO&&j>YO)return 1;for(;;){M=d-g,l[u]+1<U?(I=0,W=l[u]):l[u]>=U?(I=F[l[u]-U],W=L[l[u]-U]):(I=96,W=0),k=1<<d-g,S=1<<v,f=S;do S-=k,n[P+(N>>g)+S]=M<<24|I<<16|W|0;while(S!==0);for(k=1<<d-1;N&k;)k>>=1;if(k!==0?(N&=k-1,N+=k):N=0,u++,--z[d]===0){if(d===p)break;d=t[a+l[u]]}if(d>m&&(N&_)!==C){for(g===0&&(g=m),P+=f,v=d-g,b=1<<v;v+g<p&&(b-=z[v+g],!(b<=0));)v++,b<<=1;if(j+=1<<v,e===m3&&j>KO||e===JO&&j>YO)return 1;C=N&_,n[C]=m<<24|v<<16|P-i|0}}return N!==0&&(n[P+N]=d-g<<24|64<<16|0),o.bits=m,0};var Dv=Y3e;const X3e=0,tG=1,aG=2,{Z_FINISH:QO,Z_BLOCK:J3e,Z_TREES:a2,Z_OK:bm,Z_STREAM_END:Q3e,Z_NEED_DICT:Z3e,Z_STREAM_ERROR:wc,Z_DATA_ERROR:sG,Z_MEM_ERROR:rG,Z_BUF_ERROR:eke,Z_DEFLATED:ZO}=Qq,cN=16180,eR=16181,tR=16182,aR=16183,sR=16184,rR=16185,nR=16186,iR=16187,lR=16188,oR=16189,Ew=16190,Ou=16191,p3=16192,cR=16193,x3=16194,dR=16195,uR=16196,hR=16197,fR=16198,s2=16199,r2=16200,mR=16201,pR=16202,xR=16203,gR=16204,vR=16205,g3=16206,bR=16207,yR=16208,Mr=16209,nG=16210,iG=16211,tke=852,ake=592,ske=15,rke=ske,wR=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function nke(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Im=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<cN||t.mode>iG?1:0},lG=e=>{if(Im(e))return wc;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=cN,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(tke),t.distcode=t.distdyn=new Int32Array(ake),t.sane=1,t.back=-1,bm},oG=e=>{if(Im(e))return wc;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,lG(e)},cG=(e,t)=>{let a;if(Im(e))return wc;const r=e.state;return t<0?(a=0,t=-t):(a=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?wc:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=a,r.wbits=t,oG(e))},dG=(e,t)=>{if(!e)return wc;const a=new nke;e.state=a,a.strm=e,a.window=null,a.mode=cN;const r=cG(e,t);return r!==bm&&(e.state=null),r},ike=e=>dG(e,rke);let jR=!0,v3,b3;const lke=e=>{if(jR){v3=new Int32Array(512),b3=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Dv(tG,e.lens,0,288,v3,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Dv(aG,e.lens,0,32,b3,0,e.work,{bits:5}),jR=!1}e.lencode=v3,e.lenbits=9,e.distcode=b3,e.distbits=5},uG=(e,t,a,r)=>{let n;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(a-i.wsize,a),0),i.wnext=0,i.whave=i.wsize):(n=i.wsize-i.wnext,n>r&&(n=r),i.window.set(t.subarray(a-r,a-r+n),i.wnext),r-=n,r?(i.window.set(t.subarray(a-r,a),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=n,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=n))),0},oke=(e,t)=>{let a,r,n,i,l,o,c,d,u,f,p,m,v,g,b=0,j,N,k,S,C,_,P,L;const U=new Uint8Array(4);let z,T;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Im(e)||!e.output||!e.input&&e.avail_in!==0)return wc;a=e.state,a.mode===Ou&&(a.mode=p3),l=e.next_out,n=e.output,c=e.avail_out,i=e.next_in,r=e.input,o=e.avail_in,d=a.hold,u=a.bits,f=o,p=c,L=bm;e:for(;;)switch(a.mode){case cN:if(a.wrap===0){a.mode=p3;break}for(;u<16;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if(a.wrap&2&&d===35615){a.wbits===0&&(a.wbits=15),a.check=0,U[0]=d&255,U[1]=d>>>8&255,a.check=Ud(a.check,U,2,0),d=0,u=0,a.mode=eR;break}if(a.head&&(a.head.done=!1),!(a.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",a.mode=Mr;break}if((d&15)!==ZO){e.msg="unknown compression method",a.mode=Mr;break}if(d>>>=4,u-=4,P=(d&15)+8,a.wbits===0&&(a.wbits=P),P>15||P>a.wbits){e.msg="invalid window size",a.mode=Mr;break}a.dmax=1<<a.wbits,a.flags=0,e.adler=a.check=1,a.mode=d&512?oR:Ou,d=0,u=0;break;case eR:for(;u<16;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if(a.flags=d,(a.flags&255)!==ZO){e.msg="unknown compression method",a.mode=Mr;break}if(a.flags&57344){e.msg="unknown header flags set",a.mode=Mr;break}a.head&&(a.head.text=d>>8&1),a.flags&512&&a.wrap&4&&(U[0]=d&255,U[1]=d>>>8&255,a.check=Ud(a.check,U,2,0)),d=0,u=0,a.mode=tR;case tR:for(;u<32;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}a.head&&(a.head.time=d),a.flags&512&&a.wrap&4&&(U[0]=d&255,U[1]=d>>>8&255,U[2]=d>>>16&255,U[3]=d>>>24&255,a.check=Ud(a.check,U,4,0)),d=0,u=0,a.mode=aR;case aR:for(;u<16;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}a.head&&(a.head.xflags=d&255,a.head.os=d>>8),a.flags&512&&a.wrap&4&&(U[0]=d&255,U[1]=d>>>8&255,a.check=Ud(a.check,U,2,0)),d=0,u=0,a.mode=sR;case sR:if(a.flags&1024){for(;u<16;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}a.length=d,a.head&&(a.head.extra_len=d),a.flags&512&&a.wrap&4&&(U[0]=d&255,U[1]=d>>>8&255,a.check=Ud(a.check,U,2,0)),d=0,u=0}else a.head&&(a.head.extra=null);a.mode=rR;case rR:if(a.flags&1024&&(m=a.length,m>o&&(m=o),m&&(a.head&&(P=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Uint8Array(a.head.extra_len)),a.head.extra.set(r.subarray(i,i+m),P)),a.flags&512&&a.wrap&4&&(a.check=Ud(a.check,r,m,i)),o-=m,i+=m,a.length-=m),a.length))break e;a.length=0,a.mode=nR;case nR:if(a.flags&2048){if(o===0)break e;m=0;do P=r[i+m++],a.head&&P&&a.length<65536&&(a.head.name+=String.fromCharCode(P));while(P&&m<o);if(a.flags&512&&a.wrap&4&&(a.check=Ud(a.check,r,m,i)),o-=m,i+=m,P)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=iR;case iR:if(a.flags&4096){if(o===0)break e;m=0;do P=r[i+m++],a.head&&P&&a.length<65536&&(a.head.comment+=String.fromCharCode(P));while(P&&m<o);if(a.flags&512&&a.wrap&4&&(a.check=Ud(a.check,r,m,i)),o-=m,i+=m,P)break e}else a.head&&(a.head.comment=null);a.mode=lR;case lR:if(a.flags&512){for(;u<16;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if(a.wrap&4&&d!==(a.check&65535)){e.msg="header crc mismatch",a.mode=Mr;break}d=0,u=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),e.adler=a.check=0,a.mode=Ou;break;case oR:for(;u<32;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}e.adler=a.check=wR(d),d=0,u=0,a.mode=Ew;case Ew:if(a.havedict===0)return e.next_out=l,e.avail_out=c,e.next_in=i,e.avail_in=o,a.hold=d,a.bits=u,Z3e;e.adler=a.check=1,a.mode=Ou;case Ou:if(t===J3e||t===a2)break e;case p3:if(a.last){d>>>=u&7,u-=u&7,a.mode=g3;break}for(;u<3;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}switch(a.last=d&1,d>>>=1,u-=1,d&3){case 0:a.mode=cR;break;case 1:if(lke(a),a.mode=s2,t===a2){d>>>=2,u-=2;break e}break;case 2:a.mode=uR;break;case 3:e.msg="invalid block type",a.mode=Mr}d>>>=2,u-=2;break;case cR:for(d>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",a.mode=Mr;break}if(a.length=d&65535,d=0,u=0,a.mode=x3,t===a2)break e;case x3:a.mode=dR;case dR:if(m=a.length,m){if(m>o&&(m=o),m>c&&(m=c),m===0)break e;n.set(r.subarray(i,i+m),l),o-=m,i+=m,c-=m,l+=m,a.length-=m;break}a.mode=Ou;break;case uR:for(;u<14;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if(a.nlen=(d&31)+257,d>>>=5,u-=5,a.ndist=(d&31)+1,d>>>=5,u-=5,a.ncode=(d&15)+4,d>>>=4,u-=4,a.nlen>286||a.ndist>30){e.msg="too many length or distance symbols",a.mode=Mr;break}a.have=0,a.mode=hR;case hR:for(;a.have<a.ncode;){for(;u<3;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}a.lens[F[a.have++]]=d&7,d>>>=3,u-=3}for(;a.have<19;)a.lens[F[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,z={bits:a.lenbits},L=Dv(X3e,a.lens,0,19,a.lencode,0,a.work,z),a.lenbits=z.bits,L){e.msg="invalid code lengths set",a.mode=Mr;break}a.have=0,a.mode=fR;case fR:for(;a.have<a.nlen+a.ndist;){for(;b=a.lencode[d&(1<<a.lenbits)-1],j=b>>>24,N=b>>>16&255,k=b&65535,!(j<=u);){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if(k<16)d>>>=j,u-=j,a.lens[a.have++]=k;else{if(k===16){for(T=j+2;u<T;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if(d>>>=j,u-=j,a.have===0){e.msg="invalid bit length repeat",a.mode=Mr;break}P=a.lens[a.have-1],m=3+(d&3),d>>>=2,u-=2}else if(k===17){for(T=j+3;u<T;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}d>>>=j,u-=j,P=0,m=3+(d&7),d>>>=3,u-=3}else{for(T=j+7;u<T;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}d>>>=j,u-=j,P=0,m=11+(d&127),d>>>=7,u-=7}if(a.have+m>a.nlen+a.ndist){e.msg="invalid bit length repeat",a.mode=Mr;break}for(;m--;)a.lens[a.have++]=P}}if(a.mode===Mr)break;if(a.lens[256]===0){e.msg="invalid code -- missing end-of-block",a.mode=Mr;break}if(a.lenbits=9,z={bits:a.lenbits},L=Dv(tG,a.lens,0,a.nlen,a.lencode,0,a.work,z),a.lenbits=z.bits,L){e.msg="invalid literal/lengths set",a.mode=Mr;break}if(a.distbits=6,a.distcode=a.distdyn,z={bits:a.distbits},L=Dv(aG,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,z),a.distbits=z.bits,L){e.msg="invalid distances set",a.mode=Mr;break}if(a.mode=s2,t===a2)break e;case s2:a.mode=r2;case r2:if(o>=6&&c>=258){e.next_out=l,e.avail_out=c,e.next_in=i,e.avail_in=o,a.hold=d,a.bits=u,V3e(e,p),l=e.next_out,n=e.output,c=e.avail_out,i=e.next_in,r=e.input,o=e.avail_in,d=a.hold,u=a.bits,a.mode===Ou&&(a.back=-1);break}for(a.back=0;b=a.lencode[d&(1<<a.lenbits)-1],j=b>>>24,N=b>>>16&255,k=b&65535,!(j<=u);){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if(N&&(N&240)===0){for(S=j,C=N,_=k;b=a.lencode[_+((d&(1<<S+C)-1)>>S)],j=b>>>24,N=b>>>16&255,k=b&65535,!(S+j<=u);){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}d>>>=S,u-=S,a.back+=S}if(d>>>=j,u-=j,a.back+=j,a.length=k,N===0){a.mode=vR;break}if(N&32){a.back=-1,a.mode=Ou;break}if(N&64){e.msg="invalid literal/length code",a.mode=Mr;break}a.extra=N&15,a.mode=mR;case mR:if(a.extra){for(T=a.extra;u<T;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}a.length+=d&(1<<a.extra)-1,d>>>=a.extra,u-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=pR;case pR:for(;b=a.distcode[d&(1<<a.distbits)-1],j=b>>>24,N=b>>>16&255,k=b&65535,!(j<=u);){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if((N&240)===0){for(S=j,C=N,_=k;b=a.distcode[_+((d&(1<<S+C)-1)>>S)],j=b>>>24,N=b>>>16&255,k=b&65535,!(S+j<=u);){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}d>>>=S,u-=S,a.back+=S}if(d>>>=j,u-=j,a.back+=j,N&64){e.msg="invalid distance code",a.mode=Mr;break}a.offset=k,a.extra=N&15,a.mode=xR;case xR:if(a.extra){for(T=a.extra;u<T;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}a.offset+=d&(1<<a.extra)-1,d>>>=a.extra,u-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){e.msg="invalid distance too far back",a.mode=Mr;break}a.mode=gR;case gR:if(c===0)break e;if(m=p-c,a.offset>m){if(m=a.offset-m,m>a.whave&&a.sane){e.msg="invalid distance too far back",a.mode=Mr;break}m>a.wnext?(m-=a.wnext,v=a.wsize-m):v=a.wnext-m,m>a.length&&(m=a.length),g=a.window}else g=n,v=l-a.offset,m=a.length;m>c&&(m=c),c-=m,a.length-=m;do n[l++]=g[v++];while(--m);a.length===0&&(a.mode=r2);break;case vR:if(c===0)break e;n[l++]=a.length,c--,a.mode=r2;break;case g3:if(a.wrap){for(;u<32;){if(o===0)break e;o--,d|=r[i++]<<u,u+=8}if(p-=c,e.total_out+=p,a.total+=p,a.wrap&4&&p&&(e.adler=a.check=a.flags?Ud(a.check,n,p,l-p):FC(a.check,n,p,l-p)),p=c,a.wrap&4&&(a.flags?d:wR(d))!==a.check){e.msg="incorrect data check",a.mode=Mr;break}d=0,u=0}a.mode=bR;case bR:if(a.wrap&&a.flags){for(;u<32;){if(o===0)break e;o--,d+=r[i++]<<u,u+=8}if(a.wrap&4&&d!==(a.total&4294967295)){e.msg="incorrect length check",a.mode=Mr;break}d=0,u=0}a.mode=yR;case yR:L=Q3e;break e;case Mr:L=sG;break e;case nG:return rG;case iG:default:return wc}return e.next_out=l,e.avail_out=c,e.next_in=i,e.avail_in=o,a.hold=d,a.bits=u,(a.wsize||p!==e.avail_out&&a.mode<Mr&&(a.mode<g3||t!==QO))&&uG(e,e.output,e.next_out,p-e.avail_out),f-=e.avail_in,p-=e.avail_out,e.total_in+=f,e.total_out+=p,a.total+=p,a.wrap&4&&p&&(e.adler=a.check=a.flags?Ud(a.check,n,p,e.next_out-p):FC(a.check,n,p,e.next_out-p)),e.data_type=a.bits+(a.last?64:0)+(a.mode===Ou?128:0)+(a.mode===s2||a.mode===x3?256:0),(f===0&&p===0||t===QO)&&L===bm&&(L=eke),L},cke=e=>{if(Im(e))return wc;let t=e.state;return t.window&&(t.window=null),e.state=null,bm},dke=(e,t)=>{if(Im(e))return wc;const a=e.state;return(a.wrap&2)===0?wc:(a.head=t,t.done=!1,bm)},uke=(e,t)=>{const a=t.length;let r,n,i;return Im(e)||(r=e.state,r.wrap!==0&&r.mode!==Ew)?wc:r.mode===Ew&&(n=1,n=FC(n,t,a,0),n!==r.check)?sG:(i=uG(e,t,a,a),i?(r.mode=nG,rG):(r.havedict=1,bm))};var hke=oG,fke=cG,mke=lG,pke=ike,xke=dG,gke=oke,vke=cke,bke=dke,yke=uke,wke="pako inflate (from Nodeca project)",Bu={inflateReset:hke,inflateReset2:fke,inflateResetKeep:mke,inflateInit:pke,inflateInit2:xke,inflate:gke,inflateEnd:vke,inflateGetHeader:bke,inflateSetDictionary:yke,inflateInfo:wke};function jke(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Nke=jke;const hG=Object.prototype.toString,{Z_NO_FLUSH:kke,Z_FINISH:Ske,Z_OK:v1,Z_STREAM_END:y3,Z_NEED_DICT:w3,Z_STREAM_ERROR:Cke,Z_DATA_ERROR:NR,Z_MEM_ERROR:Ake}=Qq;function sb(e){this.options=Zq.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new z3e,this.strm.avail_out=0;let a=Bu.inflateInit2(this.strm,t.windowBits);if(a!==v1)throw new Error(IC[a]);if(this.header=new Nke,Bu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=BC.string2buf(t.dictionary):hG.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(a=Bu.inflateSetDictionary(this.strm,t.dictionary),a!==v1)))throw new Error(IC[a])}sb.prototype.push=function(e,t){const a=this.strm,r=this.options.chunkSize,n=this.options.dictionary;let i,l,o;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?Ske:kke,hG.call(e)==="[object ArrayBuffer]"?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;;){for(a.avail_out===0&&(a.output=new Uint8Array(r),a.next_out=0,a.avail_out=r),i=Bu.inflate(a,l),i===w3&&n&&(i=Bu.inflateSetDictionary(a,n),i===v1?i=Bu.inflate(a,l):i===NR&&(i=w3));a.avail_in>0&&i===y3&&a.state.wrap>0&&e[a.next_in]!==0;)Bu.inflateReset(a),i=Bu.inflate(a,l);switch(i){case Cke:case NR:case w3:case Ake:return this.onEnd(i),this.ended=!0,!1}if(o=a.avail_out,a.next_out&&(a.avail_out===0||i===y3))if(this.options.to==="string"){let c=BC.utf8border(a.output,a.next_out),d=a.next_out-c,u=BC.buf2string(a.output,c);a.next_out=d,a.avail_out=r-d,d&&a.output.set(a.output.subarray(c,c+d),0),this.onData(u)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(!(i===v1&&o===0)){if(i===y3)return i=Bu.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(a.avail_in===0)break}}return!0};sb.prototype.onData=function(e){this.chunks.push(e)};sb.prototype.onEnd=function(e){e===v1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Zq.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function _ke(e,t){const a=new sb(t);if(a.push(e),a.err)throw a.msg||IC[a.err];return a.result}var Tke=sb,Eke=_ke,Dke={Inflate:Tke,inflate:Eke};const{Inflate:Mke,inflate:Pke}=Dke;var kR=Mke,Lke=Pke;const fG=[];for(let e=0;e<256;e++){let t=e;for(let a=0;a<8;a++)t&1?t=3988292384^t>>>1:t=t>>>1;fG[e]=t}const SR=4294967295;function Oke(e,t,a){let r=e;for(let n=0;n<a;n++)r=fG[(r^t[n])&255]^r>>>8;return r}function Rke(e,t){return(Oke(SR,e,t)^SR)>>>0}function CR(e,t,a){const r=e.readUint32(),n=Rke(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(n!==r)throw new Error(`CRC mismatch for chunk ${a}. Expected ${r}, found ${n}`)}function mG(e,t,a){for(let r=0;r<a;r++)t[r]=e[r]}function pG(e,t,a,r){let n=0;for(;n<r;n++)t[n]=e[n];for(;n<a;n++)t[n]=e[n]+t[n-r]&255}function xG(e,t,a,r){let n=0;if(a.length===0)for(;n<r;n++)t[n]=e[n];else for(;n<r;n++)t[n]=e[n]+a[n]&255}function gG(e,t,a,r,n){let i=0;if(a.length===0){for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+(t[i-n]>>1)&255}else{for(;i<n;i++)t[i]=e[i]+(a[i]>>1)&255;for(;i<r;i++)t[i]=e[i]+(t[i-n]+a[i]>>1)&255}}function vG(e,t,a,r,n){let i=0;if(a.length===0){for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}else{for(;i<n;i++)t[i]=e[i]+a[i]&255;for(;i<r;i++)t[i]=e[i]+Fke(t[i-n],a[i],a[i-n])&255}}function Fke(e,t,a){const r=e+t-a,n=Math.abs(r-e),i=Math.abs(r-t),l=Math.abs(r-a);return n<=i&&n<=l?e:i<=l?t:a}function Ike(e,t,a,r,n,i){switch(e){case 0:mG(t,a,n);break;case 1:pG(t,a,n,i);break;case 2:xG(t,a,r,n);break;case 3:gG(t,a,r,n,i);break;case 4:vG(t,a,r,n,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const Bke=new Uint16Array([255]),$ke=new Uint8Array(Bke.buffer),Uke=$ke[0]===255;function zke(e){const{data:t,width:a,height:r,channels:n,depth:i}=e,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*n,c=new Uint8Array(r*a*o);let d=0;for(let u=0;u<7;u++){const f=l[u],p=Math.ceil((a-f.x)/f.xStep),m=Math.ceil((r-f.y)/f.yStep);if(p<=0||m<=0)continue;const v=p*o,g=new Uint8Array(v);for(let b=0;b<m;b++){const j=t[d++],N=t.subarray(d,d+v);d+=v;const k=new Uint8Array(v);Ike(j,N,k,g,v,o),g.set(k);for(let S=0;S<p;S++){const C=f.x+S*f.xStep,_=f.y+b*f.yStep;if(!(C>=a||_>=r))for(let P=0;P<o;P++)c[(_*a+C)*o+P]=k[S*o+P]}}}if(i===16){const u=new Uint16Array(c.buffer);if(Uke)for(let f=0;f<u.length;f++)u[f]=Hke(u[f]);return u}else return c}function Hke(e){return(e&255)<<8|e>>8&255}const Vke=new Uint16Array([255]),Wke=new Uint8Array(Vke.buffer),qke=Wke[0]===255,Gke=new Uint8Array(0);function AR(e){const{data:t,width:a,height:r,channels:n,depth:i}=e,l=Math.ceil(i/8)*n,o=Math.ceil(i/8*n*a),c=new Uint8Array(r*o);let d=Gke,u=0,f,p;for(let m=0;m<r;m++){switch(f=t.subarray(u+1,u+1+o),p=c.subarray(m*o,(m+1)*o),t[u]){case 0:mG(f,p,o);break;case 1:pG(f,p,o,l);break;case 2:xG(f,p,d,o);break;case 3:gG(f,p,d,o,l);break;case 4:vG(f,p,d,o,l);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}d=p,u+=o+1}if(i===16){const m=new Uint16Array(c.buffer);if(qke)for(let v=0;v<m.length;v++)m[v]=Kke(m[v]);return m}else return c}function Kke(e){return(e&255)<<8|e>>8&255}const z2=Uint8Array.of(137,80,78,71,13,10,26,10);function _R(e){if(!Yke(e.readBytes(z2.length)))throw new Error("wrong PNG signature")}function Yke(e){if(e.length<z2.length)return!1;for(let t=0;t<z2.length;t++)if(e[t]!==z2[t])return!1;return!0}const Xke="tEXt",Jke=0,bG=new TextDecoder("latin1");function Qke(e){if(eSe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Zke=/^[\u0000-\u00FF]*$/;function eSe(e){if(!Zke.test(e))throw new Error("invalid latin1 text")}function tSe(e,t,a){const r=yG(t);e[r]=aSe(t,a-r.length-1)}function yG(e){for(e.mark();e.readByte()!==Jke;);const t=e.offset;e.reset();const a=bG.decode(e.readBytes(t-e.offset-1));return e.skip(1),Qke(a),a}function aSe(e,t){return bG.decode(e.readBytes(t))}const ko={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},j3={UNKNOWN:-1,DEFLATE:0},TR={UNKNOWN:-1,ADAPTIVE:0},N3={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},n2={NONE:0,BACKGROUND:1,PREVIOUS:2},k3={SOURCE:0,OVER:1};class sSe extends J8{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,a={}){super(t);const{checkCrc:r=!1}=a;this._checkCrc=r,this._inflator=new kR,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=j3.UNKNOWN,this._filterMethod=TR.UNKNOWN,this._interlaceMethod=N3.UNKNOWN,this._colorType=ko.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(_R(this);!this._end;){const t=this.readUint32(),a=this.readChars(4);this.decodeChunk(t,a)}return this.decodeImage(),this._png}decodeApng(){for(_R(this);!this._end;){const t=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(t,a)}return this.decodeApngImage(),this._apng}decodeChunk(t,a){const r=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case Xke:tSe(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?CR(this,t+4,a):this.skip(4)}decodeApngChunk(t,a){const r=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,a),this.offset=r+t;break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?CR(this,t+4,a):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=rSe(this.readUint8());const a=this.readUint8();this._colorType=a;let r;switch(a){case ko.GREYSCALE:r=1;break;case ko.TRUECOLOUR:r=3;break;case ko.INDEXED_COLOUR:r=1;break;case ko.GREYSCALE_ALPHA:r=2;break;case ko.TRUECOLOUR_ALPHA:r=4;break;case ko.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==j3.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const a=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let n=0;n<a;n++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const a=t,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let a=t,r=this.offset+this.byteOffset;if(r+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,r,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case ko.GREYSCALE:case ko.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let a=0;a<t/2;a++)this._transparency[a]=this.readUint16();break}case ko.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let a=0;for(;a<t;a++){const r=this.readByte();this._palette[a].push(r)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case ko.UNKNOWN:case ko.GREYSCALE_ALPHA:case ko.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const a=yG(this),r=this.readUint8();if(r!==j3.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const n=this.readBytes(t-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:Lke(n)}}decodepHYs(){const t=this.readUint32(),a=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:a,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const a={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(t);if(r){if(r.data=AR({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)a.data=r.data;else{const n=this._apng.frames.at(t-1);this.disposeFrame(r,n,a),this.addFrameDataToCanvas(a,r)}this._apng.frames.push(a)}}return this._apng}disposeFrame(t,a,r){switch(t.disposeOp){case n2.NONE:break;case n2.BACKGROUND:for(let n=0;n<this._png.height;n++)for(let i=0;i<this._png.width;i++){const l=(n*t.width+i)*this._png.channels;for(let o=0;o<this._png.channels;o++)r.data[l+o]=0}break;case n2.PREVIOUS:r.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,a){const r=1<<this._png.depth,n=(i,l)=>{const o=((i+a.yOffset)*this._png.width+a.xOffset+l)*this._png.channels,c=(i*a.width+l)*this._png.channels;return{index:o,frameIndex:c}};switch(a.blendOp){case k3.SOURCE:for(let i=0;i<a.height;i++)for(let l=0;l<a.width;l++){const{index:o,frameIndex:c}=n(i,l);for(let d=0;d<this._png.channels;d++)t.data[o+d]=a.data[c+d]}break;case k3.OVER:for(let i=0;i<a.height;i++)for(let l=0;l<a.width;l++){const{index:o,frameIndex:c}=n(i,l);for(let d=0;d<this._png.channels;d++){const u=a.data[c+this._png.channels-1]/r,f=d%(this._png.channels-1)===0?1:a.data[c+d],p=Math.floor(u*f+(1-u)*t.data[o+d]);t.data[o+d]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==TR.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===N3.NO_INTERLACE)this._png.data=AR({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===N3.ADAM7)this._png.data=zke({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,a=this._frames.at(-1);a?a.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:n2.NONE,blendOp:k3.SOURCE,data:t}),this._inflator=new kR,this._writingDataChunks=!1}}function rSe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var ER;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(ER||(ER={}));function nSe(e,t){return new sSe(e,t).decode()}var Ua=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function S3(){Ua.console&&typeof Ua.console.log=="function"&&Ua.console.log.apply(Ua.console,arguments)}var ir={log:S3,warn:function(e){Ua.console&&(typeof Ua.console.warn=="function"?Ua.console.warn.apply(Ua.console,arguments):S3.call(null,arguments))},error:function(e){Ua.console&&(typeof Ua.console.error=="function"?Ua.console.error.apply(Ua.console,arguments):S3(e))}};function C3(e,t,a){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){D0(r.response,t,a)},r.onerror=function(){ir.error("could not download file")},r.send()}function DR(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function i2(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var D0=Ua.saveAs||((typeof window>"u"?"undefined":Gs(window))!=="object"||window!==Ua?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,a){var r=Ua.URL||Ua.webkitURL,n=document.createElement("a");t=t||e.name||"download",n.download=t,n.rel="noopener",typeof e=="string"?(n.href=e,n.origin!==location.origin?DR(n.href)?C3(e,t,a):i2(n,n.target="_blank"):i2(n)):(n.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(n.href)},4e4),setTimeout(function(){i2(n)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,a){if(t=t||e.name||"download",typeof e=="string")if(DR(e))C3(e,t,a);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){i2(r)})}else navigator.msSaveOrOpenBlob((function(n,i){return i===void 0?i={autoBom:!1}:Gs(i)!=="object"&&(ir.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n})(e,a),t)}:function(e,t,a,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return C3(e,t,a);var n=e.type==="application/octet-stream",i=/constructor/i.test(Ua.HTMLElement)||Ua.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||n&&i)&&(typeof FileReader>"u"?"undefined":Gs(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=l?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},o.readAsDataURL(e)}else{var c=Ua.URL||Ua.webkitURL,d=c.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function wG(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var a=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<a.length;r++){var n=a[r].re,i=a[r].process,l=n.exec(e);l&&(t=i(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+o+c+d}}var H2=Ua.atob.bind(Ua),MR=Ua.btoa.bind(Ua);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function A3(e,t){var a=e[0],r=e[1],n=e[2],i=e[3];a=Xi(a,r,n,i,t[0],7,-680876936),i=Xi(i,a,r,n,t[1],12,-389564586),n=Xi(n,i,a,r,t[2],17,606105819),r=Xi(r,n,i,a,t[3],22,-1044525330),a=Xi(a,r,n,i,t[4],7,-176418897),i=Xi(i,a,r,n,t[5],12,1200080426),n=Xi(n,i,a,r,t[6],17,-1473231341),r=Xi(r,n,i,a,t[7],22,-45705983),a=Xi(a,r,n,i,t[8],7,1770035416),i=Xi(i,a,r,n,t[9],12,-1958414417),n=Xi(n,i,a,r,t[10],17,-42063),r=Xi(r,n,i,a,t[11],22,-1990404162),a=Xi(a,r,n,i,t[12],7,1804603682),i=Xi(i,a,r,n,t[13],12,-40341101),n=Xi(n,i,a,r,t[14],17,-1502002290),a=Ji(a,r=Xi(r,n,i,a,t[15],22,1236535329),n,i,t[1],5,-165796510),i=Ji(i,a,r,n,t[6],9,-1069501632),n=Ji(n,i,a,r,t[11],14,643717713),r=Ji(r,n,i,a,t[0],20,-373897302),a=Ji(a,r,n,i,t[5],5,-701558691),i=Ji(i,a,r,n,t[10],9,38016083),n=Ji(n,i,a,r,t[15],14,-660478335),r=Ji(r,n,i,a,t[4],20,-405537848),a=Ji(a,r,n,i,t[9],5,568446438),i=Ji(i,a,r,n,t[14],9,-1019803690),n=Ji(n,i,a,r,t[3],14,-187363961),r=Ji(r,n,i,a,t[8],20,1163531501),a=Ji(a,r,n,i,t[13],5,-1444681467),i=Ji(i,a,r,n,t[2],9,-51403784),n=Ji(n,i,a,r,t[7],14,1735328473),a=Qi(a,r=Ji(r,n,i,a,t[12],20,-1926607734),n,i,t[5],4,-378558),i=Qi(i,a,r,n,t[8],11,-2022574463),n=Qi(n,i,a,r,t[11],16,1839030562),r=Qi(r,n,i,a,t[14],23,-35309556),a=Qi(a,r,n,i,t[1],4,-1530992060),i=Qi(i,a,r,n,t[4],11,1272893353),n=Qi(n,i,a,r,t[7],16,-155497632),r=Qi(r,n,i,a,t[10],23,-1094730640),a=Qi(a,r,n,i,t[13],4,681279174),i=Qi(i,a,r,n,t[0],11,-358537222),n=Qi(n,i,a,r,t[3],16,-722521979),r=Qi(r,n,i,a,t[6],23,76029189),a=Qi(a,r,n,i,t[9],4,-640364487),i=Qi(i,a,r,n,t[12],11,-421815835),n=Qi(n,i,a,r,t[15],16,530742520),a=Zi(a,r=Qi(r,n,i,a,t[2],23,-995338651),n,i,t[0],6,-198630844),i=Zi(i,a,r,n,t[7],10,1126891415),n=Zi(n,i,a,r,t[14],15,-1416354905),r=Zi(r,n,i,a,t[5],21,-57434055),a=Zi(a,r,n,i,t[12],6,1700485571),i=Zi(i,a,r,n,t[3],10,-1894986606),n=Zi(n,i,a,r,t[10],15,-1051523),r=Zi(r,n,i,a,t[1],21,-2054922799),a=Zi(a,r,n,i,t[8],6,1873313359),i=Zi(i,a,r,n,t[15],10,-30611744),n=Zi(n,i,a,r,t[6],15,-1560198380),r=Zi(r,n,i,a,t[13],21,1309151649),a=Zi(a,r,n,i,t[4],6,-145523070),i=Zi(i,a,r,n,t[11],10,-1120210379),n=Zi(n,i,a,r,t[2],15,718787259),r=Zi(r,n,i,a,t[9],21,-343485551),e[0]=kf(a,e[0]),e[1]=kf(r,e[1]),e[2]=kf(n,e[2]),e[3]=kf(i,e[3])}function dN(e,t,a,r,n,i){return t=kf(kf(t,e),kf(r,i)),kf(t<<n|t>>>32-n,a)}function Xi(e,t,a,r,n,i,l){return dN(t&a|~t&r,e,t,n,i,l)}function Ji(e,t,a,r,n,i,l){return dN(t&r|a&~r,e,t,n,i,l)}function Qi(e,t,a,r,n,i,l){return dN(t^a^r,e,t,n,i,l)}function Zi(e,t,a,r,n,i,l){return dN(a^(t|~r),e,t,n,i,l)}function jG(e){var t,a=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)A3(r,iSe(e.substring(t-64,t)));e=e.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(A3(r,n),t=0;t<16;t++)n[t]=0;return n[14]=8*a,A3(r,n),r}function iSe(e){var t,a=[];for(t=0;t<64;t+=4)a[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return a}var PR="0123456789abcdef".split("");function lSe(e){for(var t="",a=0;a<4;a++)t+=PR[e>>8*a+4&15]+PR[e>>8*a&15];return t}function oSe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function $C(e){return jG(e).map(oSe).join("")}var cSe=(function(e){for(var t=0;t<e.length;t++)e[t]=lSe(e[t]);return e.join("")})(jG("hello"))!="5d41402abc4b2a76b9719d911017c592";function kf(e,t){if(cSe){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function UC(e,t){var a,r,n,i;if(e!==a){for(var l=(n=e,i=1+(256/e.length|0),new Array(i+1).join(n)),o=[],c=0;c<256;c++)o[c]=c;var d=0;for(c=0;c<256;c++){var u=o[c];d=(d+u+l.charCodeAt(c))%256,o[c]=o[d],o[d]=u}a=e,r=o}else o=r;var f=t.length,p=0,m=0,v="";for(c=0;c<f;c++)m=(m+(u=o[p=(p+1)%256]))%256,o[p]=o[m],o[m]=u,l=o[(o[p]+o[m])%256],v+=String.fromCharCode(t.charCodeAt(c)^l);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var LR={print:4,modify:8,copy:16,"annot-forms":32};function Fp(e,t,a,r){this.v=1,this.r=2;var n=192;e.forEach(function(o){if(LR.perm!==void 0)throw new Error("Invalid permission: "+o);n+=LR[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),l=(a+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,l),this.P=-(1+(255^n)),this.encryptionKey=$C(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=UC(this.encryptionKey,this.padding)}function Ip(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",a=e.length,r=0;r<a;r++){var n=e.charCodeAt(r);t+=n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?"#"+("0"+n.toString(16)).slice(-2):e[r]}return t}function OR(e){if(Gs(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(a,r,n){if(n=n||!1,typeof a!="string"||typeof r!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(a)||(t[a]={});var i=Math.random().toString(35);return t[a][i]=[r,!!n],i},this.unsubscribe=function(a){for(var r in t)if(t[r][a])return delete t[r][a],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(a){if(t.hasOwnProperty(a)){var r=Array.prototype.slice.call(arguments,1),n=[];for(var i in t[a]){var l=t[a][i];try{l[0].apply(e,r)}catch(o){Ua.console&&ir.error("jsPDF PubSub Error",o.message,o)}l[1]&&n.push(i)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function b1(e){if(!(this instanceof b1))return new b1(e);var t="opacity,stroke-opacity".split(",");for(var a in e)e.hasOwnProperty(a)&&t.indexOf(a)>=0&&(this[a]=e[a]);this.id="",this.objectNumber=-1}function NG(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function xf(e,t,a,r,n){if(!(this instanceof xf))return new xf(e,t,a,r,n);this.type=e==="axial"?2:3,this.coords=t,this.colors=a,NG.call(this,r,n)}function $0(e,t,a,r,n){if(!(this instanceof $0))return new $0(e,t,a,r,n);this.boundingBox=e,this.xStep=t,this.yStep=a,this.stream="",this.cloneIndex=0,NG.call(this,r,n)}function fa(e){var t,a=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],n=arguments[2],i=arguments[3],l=[],o=1,c=16,d="S",u=null;Gs(e=e||{})==="object"&&(a=e.orientation,r=e.unit||r,n=e.format||n,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),l=e.filters||(i===!0?["FlateEncode"]:l),r=r||"mm",a=(""+(a||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,p={},m={internal:{},__private__:{}};m.__private__.PubSub=OR;var v="1.3",g=m.__private__.getPdfVersion=function(){return v};m.__private__.setPdfVersion=function(Y){v=Y};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return b};var j=m.__private__.getPageFormat=function(Y){return b[Y]};n=n||"a4";var N="compat",k="advanced",S=N;function C(){this.saveGraphicsState(),ue(new ra(pt,0,0,-pt,0,hu()*pt).toString()+" cm"),this.setFontSize(this.getFontSize()/pt),d="n",S=k}function _(){this.restoreGraphicsState(),d="S",S=N}var P=m.__private__.combineFontStyleAndFontWeight=function(Y,fe){if(Y=="bold"&&fe=="normal"||Y=="bold"&&fe==400||Y=="normal"&&fe=="italic"||Y=="bold"&&fe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return fe&&(Y=fe==400||fe==="normal"?Y==="italic"?"italic":"normal":fe!=700&&fe!=="bold"||Y!=="normal"?(fe==700?"bold":fe)+""+Y:"bold"),Y};m.advancedAPI=function(Y){var fe=S===N;return fe&&C.call(this),typeof Y!="function"||(Y(this),fe&&_.call(this)),this},m.compatAPI=function(Y){var fe=S===k;return fe&&_.call(this),typeof Y!="function"||(Y(this),fe&&C.call(this)),this},m.isAdvancedAPI=function(){return S===k};var L,U=function(Y){if(S!==k)throw new Error(Y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=m.roundToPrecision=m.__private__.roundToPrecision=function(Y,fe){var Me=t||fe;if(isNaN(Y)||isNaN(Me))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Y.toFixed(Me).replace(/0+$/,"")};L=m.hpf=m.__private__.hpf=typeof c=="number"?function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.hpf");return z(Y,c)}:c==="smart"?function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.hpf");return z(Y,Y>-1&&Y<1?16:5)}:function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.hpf");return z(Y,16)};var T=m.f2=m.__private__.f2=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.f2");return z(Y,2)},F=m.__private__.f3=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.f3");return z(Y,3)},M=m.scale=m.__private__.scale=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.scale");return S===N?Y*pt:S===k?Y:void 0},I=function(Y){return M((function(fe){return S===N?hu()-fe:S===k?fe:void 0})(Y))};m.__private__.setPrecision=m.setPrecision=function(Y){typeof parseInt(Y,10)=="number"&&(t=parseInt(Y,10))};var W,R="00000000000000000000000000000000",q=m.__private__.getFileId=function(){return R},ae=m.__private__.setFileId=function(Y){return R=Y!==void 0&&/^[a-fA-F0-9]{32}$/.test(Y)?Y.toUpperCase():R.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(ms=new Fp(u.userPermissions,u.userPassword,u.ownerPassword,R)),R};m.setFileId=function(Y){return ae(Y),this},m.getFileId=function(){return q()};var te=m.__private__.convertDateToPDFDate=function(Y){var fe=Y.getTimezoneOffset(),Me=fe<0?"+":"-",He=Math.floor(Math.abs(fe/60)),Ze=Math.abs(fe%60),At=[Me,H(He),"'",H(Ze),"'"].join("");return["D:",Y.getFullYear(),H(Y.getMonth()+1),H(Y.getDate()),H(Y.getHours()),H(Y.getMinutes()),H(Y.getSeconds()),At].join("")},K=m.__private__.convertPDFDateToDate=function(Y){var fe=parseInt(Y.substr(2,4),10),Me=parseInt(Y.substr(6,2),10)-1,He=parseInt(Y.substr(8,2),10),Ze=parseInt(Y.substr(10,2),10),At=parseInt(Y.substr(12,2),10),Rt=parseInt(Y.substr(14,2),10);return new Date(fe,Me,He,Ze,At,Rt,0)},oe=m.__private__.setCreationDate=function(Y){var fe;if(Y===void 0&&(Y=new Date),Y instanceof Date)fe=te(Y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");fe=Y}return W=fe},D=m.__private__.getCreationDate=function(Y){var fe=W;return Y==="jsDate"&&(fe=K(W)),fe};m.setCreationDate=function(Y){return oe(Y),this},m.getCreationDate=function(Y){return D(Y)};var G,H=m.__private__.padd2=function(Y){return("0"+parseInt(Y)).slice(-2)},X=m.__private__.padd2Hex=function(Y){return("00"+(Y=Y.toString())).substr(Y.length)},se=0,ie=[],ne=[],J=0,le=[],pe=[],Q=!1,xe=ne;m.__private__.setCustomOutputDestination=function(Y){Q=!0,xe=Y};var he=function(Y){Q||(xe=Y)};m.__private__.resetCustomOutputDestination=function(){Q=!1,xe=ne};var ue=m.__private__.out=function(Y){return Y=Y.toString(),J+=Y.length+1,xe.push(Y),xe},Le=m.__private__.write=function(Y){return ue(arguments.length===1?Y.toString():Array.prototype.join.call(arguments," "))},ze=m.__private__.getArrayBuffer=function(Y){for(var fe=Y.length,Me=new ArrayBuffer(fe),He=new Uint8Array(Me);fe--;)He[fe]=Y.charCodeAt(fe);return Me},Ce=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ce};var ce=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(Y){return ce=S===k?Y/pt:Y,this};var Ie,we=m.__private__.getFontSize=m.getFontSize=function(){return S===N?ce:ce*pt},$e=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(Y){return $e=Y,this},m.__private__.getR2L=m.getR2L=function(){return $e};var Be,ft=m.__private__.setZoomMode=function(Y){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Y))Ie=Y;else if(isNaN(Y)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(Y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Y+'" is not recognized.');Ie=Y}else Ie=parseInt(Y,10)};m.__private__.getZoomMode=function(){return Ie};var Ke,Ue=m.__private__.setPageMode=function(Y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Y+'" is not recognized.');Be=Y};m.__private__.getPageMode=function(){return Be};var tt=m.__private__.setLayoutMode=function(Y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Y+'" is not recognized.');Ke=Y};m.__private__.getLayoutMode=function(){return Ke},m.__private__.setDisplayMode=m.setDisplayMode=function(Y,fe,Me){return ft(Y),tt(fe),Ue(Me),this};var ct={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(Y){if(Object.keys(ct).indexOf(Y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ct[Y]},m.__private__.getDocumentProperties=function(){return ct},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(Y){for(var fe in ct)ct.hasOwnProperty(fe)&&Y[fe]&&(ct[fe]=Y[fe]);return this},m.__private__.setDocumentProperty=function(Y,fe){if(Object.keys(ct).indexOf(Y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ct[Y]=fe};var Je,pt,kt,Ot,qt,Wt={},Te={},$t=[],qe={},Gt={},Yt={},ma={},Ia=null,Ca=0,la=[],qa=new OR(m),Fe=e.hotfixes||[],rt={},_t={},St=[],ra=function Y(fe,Me,He,Ze,At,Rt){if(!(this instanceof Y))return new Y(fe,Me,He,Ze,At,Rt);isNaN(fe)&&(fe=1),isNaN(Me)&&(Me=0),isNaN(He)&&(He=0),isNaN(Ze)&&(Ze=1),isNaN(At)&&(At=0),isNaN(Rt)&&(Rt=0),this._matrix=[fe,Me,He,Ze,At,Rt]};Object.defineProperty(ra.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Y){this._matrix[0]=Y}}),Object.defineProperty(ra.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Y){this._matrix[1]=Y}}),Object.defineProperty(ra.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Y){this._matrix[2]=Y}}),Object.defineProperty(ra.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Y){this._matrix[3]=Y}}),Object.defineProperty(ra.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Y){this._matrix[4]=Y}}),Object.defineProperty(ra.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Y){this._matrix[5]=Y}}),Object.defineProperty(ra.prototype,"a",{get:function(){return this._matrix[0]},set:function(Y){this._matrix[0]=Y}}),Object.defineProperty(ra.prototype,"b",{get:function(){return this._matrix[1]},set:function(Y){this._matrix[1]=Y}}),Object.defineProperty(ra.prototype,"c",{get:function(){return this._matrix[2]},set:function(Y){this._matrix[2]=Y}}),Object.defineProperty(ra.prototype,"d",{get:function(){return this._matrix[3]},set:function(Y){this._matrix[3]=Y}}),Object.defineProperty(ra.prototype,"e",{get:function(){return this._matrix[4]},set:function(Y){this._matrix[4]=Y}}),Object.defineProperty(ra.prototype,"f",{get:function(){return this._matrix[5]},set:function(Y){this._matrix[5]=Y}}),Object.defineProperty(ra.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ra.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ra.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ra.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ra.prototype.join=function(Y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(Y)},ra.prototype.multiply=function(Y){var fe=Y.sx*this.sx+Y.shy*this.shx,Me=Y.sx*this.shy+Y.shy*this.sy,He=Y.shx*this.sx+Y.sy*this.shx,Ze=Y.shx*this.shy+Y.sy*this.sy,At=Y.tx*this.sx+Y.ty*this.shx+this.tx,Rt=Y.tx*this.shy+Y.ty*this.sy+this.ty;return new ra(fe,Me,He,Ze,At,Rt)},ra.prototype.decompose=function(){var Y=this.sx,fe=this.shy,Me=this.shx,He=this.sy,Ze=this.tx,At=this.ty,Rt=Math.sqrt(Y*Y+fe*fe),na=(Y/=Rt)*Me+(fe/=Rt)*He;Me-=Y*na,He-=fe*na;var ga=Math.sqrt(Me*Me+He*He);return na/=ga,Y*(He/=ga)<fe*(Me/=ga)&&(Y=-Y,fe=-fe,na=-na,Rt=-Rt),{scale:new ra(Rt,0,0,ga,0,0),translate:new ra(1,0,0,1,Ze,At),rotate:new ra(Y,fe,-fe,Y,0,0),skew:new ra(1,0,na,1,0,0)}},ra.prototype.toString=function(Y){return this.join(" ")},ra.prototype.inversed=function(){var Y=this.sx,fe=this.shy,Me=this.shx,He=this.sy,Ze=this.tx,At=this.ty,Rt=1/(Y*He-fe*Me),na=He*Rt,ga=-fe*Rt,Pa=-Me*Rt,Ha=Y*Rt;return new ra(na,ga,Pa,Ha,-na*Ze-Pa*At,-ga*Ze-Ha*At)},ra.prototype.applyToPoint=function(Y){var fe=Y.x*this.sx+Y.y*this.shx+this.tx,Me=Y.x*this.shy+Y.y*this.sy+this.ty;return new du(fe,Me)},ra.prototype.applyToRectangle=function(Y){var fe=this.applyToPoint(Y),Me=this.applyToPoint(new du(Y.x+Y.w,Y.y+Y.h));return new uu(fe.x,fe.y,Me.x-fe.x,Me.y-fe.y)},ra.prototype.clone=function(){var Y=this.sx,fe=this.shy,Me=this.shx,He=this.sy,Ze=this.tx,At=this.ty;return new ra(Y,fe,Me,He,Ze,At)},m.Matrix=ra;var Fs=m.matrixMult=function(Y,fe){return fe.multiply(Y)},cs=new ra(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=cs;var es=function(Y,fe){if(!Gt[Y]){var Me=(fe instanceof xf?"Sh":"P")+(Object.keys(qe).length+1).toString(10);fe.id=Me,Gt[Y]=Me,qe[Me]=fe,qa.publish("addPattern",fe)}};m.ShadingPattern=xf,m.TilingPattern=$0,m.addShadingPattern=function(Y,fe){return U("addShadingPattern()"),es(Y,fe),this},m.beginTilingPattern=function(Y){U("beginTilingPattern()"),Tc(Y.boundingBox[0],Y.boundingBox[1],Y.boundingBox[2]-Y.boundingBox[0],Y.boundingBox[3]-Y.boundingBox[1],Y.matrix)},m.endTilingPattern=function(Y,fe){U("endTilingPattern()"),fe.stream=pe[G].join(`
`),es(Y,fe),qa.publish("endTilingPattern",fe),St.pop().restore()};var Ps,as=m.__private__.newObject=function(){var Y=pa();return ee(Y,!0),Y},pa=m.__private__.newObjectDeferred=function(){return se++,ie[se]=function(){return J},se},ee=function(Y,fe){return fe=typeof fe=="boolean"&&fe,ie[Y]=J,fe&&ue(Y+" 0 obj"),Y},Se=m.__private__.newAdditionalObject=function(){var Y={objId:pa(),content:""};return le.push(Y),Y},ye=pa(),Ne=pa(),Ae=m.__private__.decodeColorString=function(Y){var fe=Y.split(" ");if(fe.length!==2||fe[1]!=="g"&&fe[1]!=="G")fe.length!==5||fe[4]!=="k"&&fe[4]!=="K"||(fe=[(1-fe[0])*(1-fe[3]),(1-fe[1])*(1-fe[3]),(1-fe[2])*(1-fe[3]),"r"]);else{var Me=parseFloat(fe[0]);fe=[Me,Me,Me,"r"]}for(var He="#",Ze=0;Ze<3;Ze++)He+=("0"+Math.floor(255*parseFloat(fe[Ze])).toString(16)).slice(-2);return He},_e=m.__private__.encodeColorString=function(Y){var fe;typeof Y=="string"&&(Y={ch1:Y});var Me=Y.ch1,He=Y.ch2,Ze=Y.ch3,At=Y.ch4,Rt=Y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Me=="string"&&Me.charAt(0)!=="#"){var na=new wG(Me);if(na.ok)Me=na.toHex();else if(!/^\d*\.?\d*$/.test(Me))throw new Error('Invalid color "'+Me+'" passed to jsPDF.encodeColorString.')}if(typeof Me=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Me)&&(Me="#"+Me[1]+Me[1]+Me[2]+Me[2]+Me[3]+Me[3]),typeof Me=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Me)){var ga=parseInt(Me.substr(1),16);Me=ga>>16&255,He=ga>>8&255,Ze=255&ga}if(He===void 0||At===void 0&&Me===He&&He===Ze)fe=typeof Me=="string"?Me+" "+Rt[0]:Y.precision===2?T(Me/255)+" "+Rt[0]:F(Me/255)+" "+Rt[0];else if(At===void 0||Gs(At)==="object"){if(At&&!isNaN(At.a)&&At.a===0)return["1.","1.","1.",Rt[1]].join(" ");fe=typeof Me=="string"?[Me,He,Ze,Rt[1]].join(" "):Y.precision===2?[T(Me/255),T(He/255),T(Ze/255),Rt[1]].join(" "):[F(Me/255),F(He/255),F(Ze/255),Rt[1]].join(" ")}else fe=typeof Me=="string"?[Me,He,Ze,At,Rt[2]].join(" "):Y.precision===2?[T(Me),T(He),T(Ze),T(At),Rt[2]].join(" "):[F(Me),F(He),F(Ze),F(At),Rt[2]].join(" ");return fe},Xe=m.__private__.getFilters=function(){return l},ut=m.__private__.putStream=function(Y){var fe=(Y=Y||{}).data||"",Me=Y.filters||Xe(),He=Y.alreadyAppliedFilters||[],Ze=Y.addLength1||!1,At=fe.length,Rt=Y.objectId,na=function(un){return un};if(u!==null&&Rt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(na=ms.encryptor(Rt,0));var ga={};Me===!0&&(Me=["FlateEncode"]);var Pa=Y.additionalKeyValues||[],Ha=(ga=fa.API.processDataByFilters!==void 0?fa.API.processDataByFilters(fe,Me):{data:fe,reverseChain:[]}).reverseChain+(Array.isArray(He)?He.join(" "):He.toString());if(ga.data.length!==0&&(Pa.push({key:"Length",value:ga.data.length}),Ze===!0&&Pa.push({key:"Length1",value:At})),Ha.length!=0)if(Ha.split("/").length-1==1)Pa.push({key:"Filter",value:Ha});else{Pa.push({key:"Filter",value:"["+Ha+"]"});for(var ws=0;ws<Pa.length;ws+=1)if(Pa[ws].key==="DecodeParms"){for(var pr=[],Jr=0;Jr<ga.reverseChain.split("/").length-1;Jr+=1)pr.push("null");pr.push(Pa[ws].value),Pa[ws].value="["+pr.join(" ")+"]"}}ue("<<");for(var Xs=0;Xs<Pa.length;Xs++)ue("/"+Pa[Xs].key+" "+Pa[Xs].value);ue(">>"),ga.data.length!==0&&(ue("stream"),ue(na(ga.data)),ue("endstream"))},Ye=m.__private__.putPage=function(Y){var fe=Y.number,Me=Y.data,He=Y.objId,Ze=Y.contentsObjId;ee(He,!0),ue("<</Type /Page"),ue("/Parent "+Y.rootDictionaryObjId+" 0 R"),ue("/Resources "+Y.resourceDictionaryObjId+" 0 R"),ue("/MediaBox ["+parseFloat(L(Y.mediaBox.bottomLeftX))+" "+parseFloat(L(Y.mediaBox.bottomLeftY))+" "+L(Y.mediaBox.topRightX)+" "+L(Y.mediaBox.topRightY)+"]"),Y.cropBox!==null&&ue("/CropBox ["+L(Y.cropBox.bottomLeftX)+" "+L(Y.cropBox.bottomLeftY)+" "+L(Y.cropBox.topRightX)+" "+L(Y.cropBox.topRightY)+"]"),Y.bleedBox!==null&&ue("/BleedBox ["+L(Y.bleedBox.bottomLeftX)+" "+L(Y.bleedBox.bottomLeftY)+" "+L(Y.bleedBox.topRightX)+" "+L(Y.bleedBox.topRightY)+"]"),Y.trimBox!==null&&ue("/TrimBox ["+L(Y.trimBox.bottomLeftX)+" "+L(Y.trimBox.bottomLeftY)+" "+L(Y.trimBox.topRightX)+" "+L(Y.trimBox.topRightY)+"]"),Y.artBox!==null&&ue("/ArtBox ["+L(Y.artBox.bottomLeftX)+" "+L(Y.artBox.bottomLeftY)+" "+L(Y.artBox.topRightX)+" "+L(Y.artBox.topRightY)+"]"),typeof Y.userUnit=="number"&&Y.userUnit!==1&&ue("/UserUnit "+Y.userUnit),qa.publish("putPage",{objId:He,pageContext:la[fe],pageNumber:fe,page:Me}),ue("/Contents "+Ze+" 0 R"),ue(">>"),ue("endobj");var At=Me.join(`
`);return S===k&&(At+=`
Q`),ee(Ze,!0),ut({data:At,filters:Xe(),objectId:Ze}),ue("endobj"),He},at=m.__private__.putPages=function(){var Y,fe,Me=[];for(Y=1;Y<=Ca;Y++)la[Y].objId=pa(),la[Y].contentsObjId=pa();for(Y=1;Y<=Ca;Y++)Me.push(Ye({number:Y,data:pe[Y],objId:la[Y].objId,contentsObjId:la[Y].contentsObjId,mediaBox:la[Y].mediaBox,cropBox:la[Y].cropBox,bleedBox:la[Y].bleedBox,trimBox:la[Y].trimBox,artBox:la[Y].artBox,userUnit:la[Y].userUnit,rootDictionaryObjId:ye,resourceDictionaryObjId:Ne}));ee(ye,!0),ue("<</Type /Pages");var He="/Kids [";for(fe=0;fe<Ca;fe++)He+=Me[fe]+" 0 R ";ue(He+"]"),ue("/Count "+Ca),ue(">>"),ue("endobj"),qa.publish("postPutPages")},st=function(Y){qa.publish("putFont",{font:Y,out:ue,newObject:as,putStream:ut}),Y.isAlreadyPutted!==!0&&(Y.objectNumber=as(),ue("<<"),ue("/Type /Font"),ue("/BaseFont /"+Ip(Y.postScriptName)),ue("/Subtype /Type1"),typeof Y.encoding=="string"&&ue("/Encoding /"+Y.encoding),ue("/FirstChar 32"),ue("/LastChar 255"),ue(">>"),ue("endobj"))},Et=function(Y){Y.objectNumber=as();var fe=[];fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Form"}),fe.push({key:"BBox",value:"["+[L(Y.x),L(Y.y),L(Y.x+Y.width),L(Y.y+Y.height)].join(" ")+"]"}),fe.push({key:"Matrix",value:"["+Y.matrix.toString()+"]"});var Me=Y.pages[1].join(`
`);ut({data:Me,additionalKeyValues:fe,objectId:Y.objectNumber}),ue("endobj")},zt=function(Y,fe){fe||(fe=21);var Me=as(),He=(function(Rt,na){var ga,Pa=[],Ha=1/(na-1);for(ga=0;ga<1;ga+=Ha)Pa.push(ga);if(Pa.push(1),Rt[0].offset!=0){var ws={offset:0,color:Rt[0].color};Rt.unshift(ws)}if(Rt[Rt.length-1].offset!=1){var pr={offset:1,color:Rt[Rt.length-1].color};Rt.push(pr)}for(var Jr="",Xs=0,un=0;un<Pa.length;un++){for(ga=Pa[un];ga>Rt[Xs+1].offset;)Xs++;var Qr=Rt[Xs].offset,Wn=(ga-Qr)/(Rt[Xs+1].offset-Qr),$l=Rt[Xs].color,Wi=Rt[Xs+1].color;Jr+=X(Math.round((1-Wn)*$l[0]+Wn*Wi[0]).toString(16))+X(Math.round((1-Wn)*$l[1]+Wn*Wi[1]).toString(16))+X(Math.round((1-Wn)*$l[2]+Wn*Wi[2]).toString(16))}return Jr.trim()})(Y.colors,fe),Ze=[];Ze.push({key:"FunctionType",value:"0"}),Ze.push({key:"Domain",value:"[0.0 1.0]"}),Ze.push({key:"Size",value:"["+fe+"]"}),Ze.push({key:"BitsPerSample",value:"8"}),Ze.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ze.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ut({data:He,additionalKeyValues:Ze,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Me}),ue("endobj"),Y.objectNumber=as(),ue("<< /ShadingType "+Y.type),ue("/ColorSpace /DeviceRGB");var At="/Coords ["+L(parseFloat(Y.coords[0]))+" "+L(parseFloat(Y.coords[1]))+" ";Y.type===2?At+=L(parseFloat(Y.coords[2]))+" "+L(parseFloat(Y.coords[3])):At+=L(parseFloat(Y.coords[2]))+" "+L(parseFloat(Y.coords[3]))+" "+L(parseFloat(Y.coords[4]))+" "+L(parseFloat(Y.coords[5])),ue(At+="]"),Y.matrix&&ue("/Matrix ["+Y.matrix.toString()+"]"),ue("/Function "+Me+" 0 R"),ue("/Extend [true true]"),ue(">>"),ue("endobj")},Vt=function(Y,fe){var Me=pa(),He=as();fe.push({resourcesOid:Me,objectOid:He}),Y.objectNumber=He;var Ze=[];Ze.push({key:"Type",value:"/Pattern"}),Ze.push({key:"PatternType",value:"1"}),Ze.push({key:"PaintType",value:"1"}),Ze.push({key:"TilingType",value:"1"}),Ze.push({key:"BBox",value:"["+Y.boundingBox.map(L).join(" ")+"]"}),Ze.push({key:"XStep",value:L(Y.xStep)}),Ze.push({key:"YStep",value:L(Y.yStep)}),Ze.push({key:"Resources",value:Me+" 0 R"}),Y.matrix&&Ze.push({key:"Matrix",value:"["+Y.matrix.toString()+"]"}),ut({data:Y.stream,additionalKeyValues:Ze,objectId:Y.objectNumber}),ue("endobj")},Mt=function(Y){for(var fe in Y.objectNumber=as(),ue("<<"),Y)switch(fe){case"opacity":ue("/ca "+T(Y[fe]));break;case"stroke-opacity":ue("/CA "+T(Y[fe]))}ue(">>"),ue("endobj")},Kt=function(Y){ee(Y.resourcesOid,!0),ue("<<"),ue("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var fe in ue("/Font <<"),Wt)Wt.hasOwnProperty(fe)&&(f===!1||f===!0&&p.hasOwnProperty(fe))&&ue("/"+fe+" "+Wt[fe].objectNumber+" 0 R");ue(">>")})(),(function(){if(Object.keys(qe).length>0){for(var fe in ue("/Shading <<"),qe)qe.hasOwnProperty(fe)&&qe[fe]instanceof xf&&qe[fe].objectNumber>=0&&ue("/"+fe+" "+qe[fe].objectNumber+" 0 R");qa.publish("putShadingPatternDict"),ue(">>")}})(),(function(fe){if(Object.keys(qe).length>0){for(var Me in ue("/Pattern <<"),qe)qe.hasOwnProperty(Me)&&qe[Me]instanceof m.TilingPattern&&qe[Me].objectNumber>=0&&qe[Me].objectNumber<fe&&ue("/"+Me+" "+qe[Me].objectNumber+" 0 R");qa.publish("putTilingPatternDict"),ue(">>")}})(Y.objectOid),(function(){if(Object.keys(Yt).length>0){var fe;for(fe in ue("/ExtGState <<"),Yt)Yt.hasOwnProperty(fe)&&Yt[fe].objectNumber>=0&&ue("/"+fe+" "+Yt[fe].objectNumber+" 0 R");qa.publish("putGStateDict"),ue(">>")}})(),(function(){for(var fe in ue("/XObject <<"),rt)rt.hasOwnProperty(fe)&&rt[fe].objectNumber>=0&&ue("/"+fe+" "+rt[fe].objectNumber+" 0 R");qa.publish("putXobjectDict"),ue(">>")})(),ue(">>"),ue("endobj")},ba=function(Y){Te[Y.fontName]=Te[Y.fontName]||{},Te[Y.fontName][Y.fontStyle]=Y.id},va=function(Y,fe,Me,He,Ze){var At={id:"F"+(Object.keys(Wt).length+1).toString(10),postScriptName:Y,fontName:fe,fontStyle:Me,encoding:He,isStandardFont:Ze||!1,metadata:{}};return qa.publish("addFont",{font:At,instance:this}),Wt[At.id]=At,ba(At),At.id},Pe=m.__private__.pdfEscape=m.pdfEscape=function(Y,fe){return(function(Me,He){var Ze,At,Rt,na,ga,Pa,Ha,ws,pr;if(Rt=(He=He||{}).sourceEncoding||"Unicode",ga=He.outputEncoding,(He.autoencode||ga)&&Wt[Je].metadata&&Wt[Je].metadata[Rt]&&Wt[Je].metadata[Rt].encoding&&(na=Wt[Je].metadata[Rt].encoding,!ga&&Wt[Je].encoding&&(ga=Wt[Je].encoding),!ga&&na.codePages&&(ga=na.codePages[0]),typeof ga=="string"&&(ga=na[ga]),ga)){for(Ha=!1,Pa=[],Ze=0,At=Me.length;Ze<At;Ze++)(ws=ga[Me.charCodeAt(Ze)])?Pa.push(String.fromCharCode(ws)):Pa.push(Me[Ze]),Pa[Ze].charCodeAt(0)>>8&&(Ha=!0);Me=Pa.join("")}for(Ze=Me.length;Ha===void 0&&Ze!==0;)Me.charCodeAt(Ze-1)>>8&&(Ha=!0),Ze--;if(!Ha)return Me;for(Pa=He.noBOM?[]:[254,255],Ze=0,At=Me.length;Ze<At;Ze++){if((pr=(ws=Me.charCodeAt(Ze))>>8)>>8)throw new Error("Character at position "+Ze+" of string '"+Me+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Pa.push(pr),Pa.push(ws-(pr<<8))}return String.fromCharCode.apply(void 0,Pa)})(Y,fe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yt=m.__private__.beginPage=function(Y){pe[++Ca]=[],la[Ca]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Y[0]),topRightY:Number(Y[1])}},Is(Ca),he(pe[G])},ja=function(Y,fe){var Me,He,Ze;switch(a=fe||a,typeof Y=="string"&&(Me=j(Y.toLowerCase()),Array.isArray(Me)&&(He=Me[0],Ze=Me[1])),Array.isArray(Y)&&(He=Y[0]*pt,Ze=Y[1]*pt),isNaN(He)&&(He=n[0],Ze=n[1]),(He>14400||Ze>14400)&&(ir.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),He=Math.min(14400,He),Ze=Math.min(14400,Ze)),n=[He,Ze],a.substr(0,1)){case"l":Ze>He&&(n=[Ze,He]);break;case"p":He>Ze&&(n=[Ze,He])}yt(n),Vn(fr),ue(Ai),Vi!==0&&ue(Vi+" J"),mo!==0&&ue(mo+" j"),qa.publish("addPage",{pageNumber:Ca})},za=function(Y){Y>0&&Y<=Ca&&(pe.splice(Y,1),la.splice(Y,1),Ca--,G>Ca&&(G=Ca),this.setPage(G))},Is=function(Y){Y>0&&Y<=Ca&&(G=Y)},Ur=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return pe.length-1},zn=function(Y,fe,Me){var He,Ze=void 0;return Me=Me||{},Y=Y!==void 0?Y:Wt[Je].fontName,fe=fe!==void 0?fe:Wt[Je].fontStyle,He=Y.toLowerCase(),Te[He]!==void 0&&Te[He][fe]!==void 0?Ze=Te[He][fe]:Te[Y]!==void 0&&Te[Y][fe]!==void 0?Ze=Te[Y][fe]:Me.disableWarning===!1&&ir.warn("Unable to look up font label for font '"+Y+"', '"+fe+"'. Refer to getFontList() for available fonts."),Ze||Me.noFallback||(Ze=Te.times[fe])==null&&(Ze=Te.times.normal),Ze},ks=m.__private__.putInfo=function(){var Y=as(),fe=function(He){return He};for(var Me in u!==null&&(fe=ms.encryptor(Y,0)),ue("<<"),ue("/Producer ("+Pe(fe("jsPDF "+fa.version))+")"),ct)ct.hasOwnProperty(Me)&&ct[Me]&&ue("/"+Me.substr(0,1).toUpperCase()+Me.substr(1)+" ("+Pe(fe(ct[Me]))+")");ue("/CreationDate ("+Pe(fe(W))+")"),ue(">>"),ue("endobj")},Ah=m.__private__.putCatalog=function(Y){var fe=(Y=Y||{}).rootDictionaryObjId||ye;switch(as(),ue("<<"),ue("/Type /Catalog"),ue("/Pages "+fe+" 0 R"),Ie||(Ie="fullwidth"),Ie){case"fullwidth":ue("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ue("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ue("/OpenAction [3 0 R /Fit]");break;case"original":ue("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Me=""+Ie;Me.substr(Me.length-1)==="%"&&(Ie=parseInt(Ie)/100),typeof Ie=="number"&&ue("/OpenAction [3 0 R /XYZ null null "+T(Ie)+"]")}switch(Ke||(Ke="continuous"),Ke){case"continuous":ue("/PageLayout /OneColumn");break;case"single":ue("/PageLayout /SinglePage");break;case"two":case"twoleft":ue("/PageLayout /TwoColumnLeft");break;case"tworight":ue("/PageLayout /TwoColumnRight")}Be&&ue("/PageMode /"+Be),qa.publish("putCatalog"),ue(">>"),ue("endobj")},bs=m.__private__.putTrailer=function(){ue("trailer"),ue("<<"),ue("/Size "+(se+1)),ue("/Root "+se+" 0 R"),ue("/Info "+(se-1)+" 0 R"),u!==null&&ue("/Encrypt "+ms.oid+" 0 R"),ue("/ID [ <"+R+"> <"+R+"> ]"),ue(">>")},vd=m.__private__.putHeader=function(){ue("%PDF-"+v),ue("%")},ou=m.__private__.putXRef=function(){var Y="0000000000";ue("xref"),ue("0 "+(se+1)),ue("0000000000 65535 f ");for(var fe=1;fe<=se;fe++)typeof ie[fe]=="function"?ue((Y+ie[fe]()).slice(-10)+" 00000 n "):ie[fe]!==void 0?ue((Y+ie[fe]).slice(-10)+" 00000 n "):ue("0000000000 00000 n ")},Ci=m.__private__.buildDocument=function(){var Y;se=0,J=0,ne=[],ie=[],le=[],ye=pa(),Ne=pa(),he(ne),qa.publish("buildDocument"),vd(),at(),(function(){qa.publish("putAdditionalObjects");for(var Me=0;Me<le.length;Me++){var He=le[Me];ee(He.objId,!0),ue(He.content),ue("endobj")}qa.publish("postPutAdditionalObjects")})(),Y=[],(function(){for(var Me in Wt)Wt.hasOwnProperty(Me)&&(f===!1||f===!0&&p.hasOwnProperty(Me))&&st(Wt[Me])})(),(function(){var Me;for(Me in Yt)Yt.hasOwnProperty(Me)&&Mt(Yt[Me])})(),(function(){for(var Me in rt)rt.hasOwnProperty(Me)&&Et(rt[Me])})(),(function(Me){var He;for(He in qe)qe.hasOwnProperty(He)&&(qe[He]instanceof xf?zt(qe[He]):qe[He]instanceof $0&&Vt(qe[He],Me))})(Y),qa.publish("putResources"),Y.forEach(Kt),Kt({resourcesOid:Ne,objectOid:Number.MAX_SAFE_INTEGER}),qa.publish("postPutResources"),u!==null&&(ms.oid=as(),ue("<<"),ue("/Filter /Standard"),ue("/V "+ms.v),ue("/R "+ms.r),ue("/U <"+ms.toHexString(ms.U)+">"),ue("/O <"+ms.toHexString(ms.O)+">"),ue("/P "+ms.P),ue(">>"),ue("endobj")),ks(),Ah();var fe=J;return ou(),bs(),ue("startxref"),ue(""+fe),ue("%%EOF"),he(pe[G]),ne.join(`
`)},uo=m.__private__.getBlob=function(Y){return new Blob([ze(Y)],{type:"application/pdf"})},dn=m.output=m.__private__.output=(Ps=function(Y,fe){switch(typeof(fe=fe||{})=="string"?fe={filename:fe}:fe.filename=fe.filename||"generated.pdf",Y){case void 0:return Ci();case"save":m.save(fe.filename);break;case"arraybuffer":return ze(Ci());case"blob":return uo(Ci());case"bloburi":case"bloburl":if(Ua.URL!==void 0&&typeof Ua.URL.createObjectURL=="function")return Ua.URL&&Ua.URL.createObjectURL(uo(Ci()))||void 0;ir.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Me="",He=Ci();try{Me=MR(He)}catch{Me=MR(unescape(encodeURIComponent(He)))}return"data:application/pdf;filename="+fe.filename+";base64,"+Me;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ua)==="[object Window]"){var Ze="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",At=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';fe.pdfObjectUrl&&(Ze=fe.pdfObjectUrl,At="");var Rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ze+'"'+At+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(fe)+");<\/script></body></html>",na=Ua.open();return na!==null&&na.document.write(Rt),na}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ua)==="[object Window]"){var ga='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(fe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+fe.filename+'" width="500px" height="400px" /></body></html>',Pa=Ua.open();if(Pa!==null){Pa.document.write(ga);var Ha=this;Pa.document.documentElement.querySelector("#pdfViewer").onload=function(){Pa.document.title=fe.filename,Pa.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ha.output("bloburl"))}}return Pa}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ua)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ws='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",fe)+'"></iframe></body></html>',pr=Ua.open();if(pr!==null&&(pr.document.write(ws),pr.document.title=fe.filename),pr||typeof safari>"u")return pr;break;case"datauri":case"dataurl":return Ua.document.location.href=this.output("datauristring",fe);default:return null}},Ps.foo=function(){try{return Ps.apply(this,arguments)}catch(Me){var Y=Me.stack||"";~Y.indexOf(" at ")&&(Y=Y.split(" at ")[1]);var fe="Error in function "+Y.split(`
`)[0].split("<")[0]+": "+Me.message;if(!Ua.console)throw new Error(fe);Ua.console.error(fe,Me),Ua.alert&&alert(fe)}},Ps.foo.bar=Ps,Ps.foo),oi=function(Y){return Array.isArray(Fe)===!0&&Fe.indexOf(Y)>-1};switch(r){case"pt":pt=1;break;case"mm":pt=72/25.4;break;case"cm":pt=72/2.54;break;case"in":pt=72;break;case"px":pt=oi("px_scaling")==1?.75:96/72;break;case"pc":case"em":pt=12;break;case"ex":pt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);pt=r}var ms=null;oe(),ae();var _c=m.__private__.getPageInfo=m.getPageInfo=function(Y){if(isNaN(Y)||Y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:la[Y].objId,pageNumber:Y,pageContext:la[Y]}},_h=m.__private__.getPageInfoByObjId=function(Y){if(isNaN(Y)||Y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var fe in la)if(la[fe].objId===Y)break;return _c(fe)},cu=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:la[G].objId,pageNumber:G,pageContext:la[G]}};m.addPage=function(){return ja.apply(this,arguments),this},m.setPage=function(){return Is.apply(this,arguments),he.call(this,pe[G]),this},m.insertPage=function(Y){return this.addPage(),this.movePage(G,Y),this},m.movePage=function(Y,fe){var Me,He;if(Y>fe){Me=pe[Y],He=la[Y];for(var Ze=Y;Ze>fe;Ze--)pe[Ze]=pe[Ze-1],la[Ze]=la[Ze-1];pe[fe]=Me,la[fe]=He,this.setPage(fe)}else if(Y<fe){Me=pe[Y],He=la[Y];for(var At=Y;At<fe;At++)pe[At]=pe[At+1],la[At]=la[At+1];pe[fe]=Me,la[fe]=He,this.setPage(fe)}return this},m.deletePage=function(){return za.apply(this,arguments),this},m.__private__.text=m.text=function(Y,fe,Me,He,Ze){var At,Rt,na,ga,Pa,Ha,ws,pr,Jr,Xs=(He=He||{}).scope||this;if(typeof Y=="number"&&typeof fe=="number"&&(typeof Me=="string"||Array.isArray(Me))){var un=Me;Me=fe,fe=Y,Y=un}if(arguments[3]instanceof ra==0?(na=arguments[4],ga=arguments[5],Gs(ws=arguments[3])==="object"&&ws!==null||(typeof na=="string"&&(ga=na,na=null),typeof ws=="string"&&(ga=ws,ws=null),typeof ws=="number"&&(na=ws,ws=null),He={flags:ws,angle:na,align:ga})):(U("The transform parameter of text() with a Matrix value"),Jr=Ze),isNaN(fe)||isNaN(Me)||Y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Y.length===0)return Xs;var Qr,Wn="",$l=typeof He.lineHeightFactor=="number"?He.lineHeightFactor:Bs,Wi=Xs.internal.scaleFactor;function qm(ds){return ds=ds.split("	").join(Array(He.TabLen||9).join(" ")),Pe(ds,ws)}function wd(ds){for(var Ls,Cr=ds.concat(),sr=[],qo=Cr.length;qo--;)typeof(Ls=Cr.shift())=="string"?sr.push(Ls):Array.isArray(ds)&&(Ls.length===1||Ls[1]===void 0&&Ls[2]===void 0)?sr.push(Ls[0]):sr.push([Ls[0],Ls[1],Ls[2]]);return sr}function xo(ds,Ls){var Cr;if(typeof ds=="string")Cr=Ls(ds)[0];else if(Array.isArray(ds)){for(var sr,qo,Fh=ds.concat(),pu=[],Km=Fh.length;Km--;)typeof(sr=Fh.shift())=="string"?pu.push(Ls(sr)[0]):Array.isArray(sr)&&typeof sr[0]=="string"&&(qo=Ls(sr[0],sr[1],sr[2]),pu.push([qo[0],qo[1],qo[2]]));Cr=pu}return Cr}var jd=!1,Nd=!0;if(typeof Y=="string")jd=!0;else if(Array.isArray(Y)){var kd=Y.concat();Rt=[];for(var Sd,qn=kd.length;qn--;)(typeof(Sd=kd.shift())!="string"||Array.isArray(Sd)&&typeof Sd[0]!="string")&&(Nd=!1);jd=Nd}if(jd===!1)throw new Error('Type of text must be string or Array. "'+Y+'" is not recognized.');typeof Y=="string"&&(Y=Y.match(/[\r?\n]/)?Y.split(/\r\n|\r|\n/g):[Y]);var Cd=ce/Xs.internal.scaleFactor,Ul=Cd*($l-1);switch(He.baseline){case"bottom":Me-=Ul;break;case"top":Me+=Cd-Ul;break;case"hanging":Me+=Cd-2*Ul;break;case"middle":Me+=Cd/2-Ul}if((Ha=He.maxWidth||0)>0&&(typeof Y=="string"?Y=Xs.splitTextToSize(Y,Ha):Object.prototype.toString.call(Y)==="[object Array]"&&(Y=Y.reduce(function(ds,Ls){return ds.concat(Xs.splitTextToSize(Ls,Ha))},[]))),At={text:Y,x:fe,y:Me,options:He,mutex:{pdfEscape:Pe,activeFontKey:Je,fonts:Wt,activeFontSize:ce}},qa.publish("preProcessText",At),Y=At.text,na=(He=At.options).angle,Jr instanceof ra==0&&na&&typeof na=="number"){na*=Math.PI/180,He.rotationDirection===0&&(na=-na),S===k&&(na=-na);var Zf=Math.cos(na),e0=Math.sin(na);Jr=new ra(Zf,e0,-e0,Zf,0,0)}else na&&na instanceof ra&&(Jr=na);S!==k||Jr||(Jr=cs),(Pa=He.charSpace||fo)!==void 0&&(Wn+=L(M(Pa))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(pr=He.horizontalScale)!==void 0&&(Wn+=L(100*pr)+` Tz
`),He.lang;var kr=-1,Ho=He.renderingMode!==void 0?He.renderingMode:He.stroke,fu=Xs.internal.getCurrentPageInfo().pageContext;switch(Ho){case 0:case!1:case"fill":kr=0;break;case 1:case!0:case"stroke":kr=1;break;case 2:case"fillThenStroke":kr=2;break;case 3:case"invisible":kr=3;break;case 4:case"fillAndAddForClipping":kr=4;break;case 5:case"strokeAndAddPathForClipping":kr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":kr=6;break;case 7:case"addToPathForClipping":kr=7}var Ad=fu.usedRenderingMode!==void 0?fu.usedRenderingMode:-1;kr!==-1?Wn+=kr+` Tr
`:Ad!==-1&&(Wn+=`0 Tr
`),kr!==-1&&(fu.usedRenderingMode=kr),ga=He.align||"left";var di,mu=ce*$l,_d=Xs.internal.pageSize.getWidth(),Dh=Wt[Je];Pa=He.charSpace||fo,Ha=He.maxWidth||0,ws=Object.assign({autoencode:!0,noBOM:!0},He.flags);var Mc=[],Pc=function(ds){return Xs.getStringUnitWidth(ds,{font:Dh,charSpace:Pa,fontSize:ce,doKerning:!1})*ce/Wi};if(Object.prototype.toString.call(Y)==="[object Array]"){var Ti;Rt=wd(Y),ga!=="left"&&(di=Rt.map(Pc));var qi,Lc=0;if(ga==="right"){fe-=di[0],Y=[],qn=Rt.length;for(var Vo=0;Vo<qn;Vo++)Vo===0?(qi=ps(fe),Ti=cr(Me)):(qi=M(Lc-di[Vo]),Ti=-mu),Y.push([Rt[Vo],qi,Ti]),Lc=di[Vo]}else if(ga==="center"){fe-=di[0]/2,Y=[],qn=Rt.length;for(var Td=0;Td<qn;Td++)Td===0?(qi=ps(fe),Ti=cr(Me)):(qi=M((Lc-di[Td])/2),Ti=-mu),Y.push([Rt[Td],qi,Ti]),Lc=di[Td]}else if(ga==="left"){Y=[],qn=Rt.length;for(var t0=0;t0<qn;t0++)Y.push(Rt[t0])}else if(ga==="justify"&&Dh.encoding==="Identity-H"){Y=[],qn=Rt.length,Ha=Ha!==0?Ha:_d;for(var Mh=0,zr=0;zr<qn;zr++)if(Ti=zr===0?cr(Me):-mu,qi=zr===0?ps(fe):Mh,zr<qn-1){var Gm=M((Ha-di[zr])/(Rt[zr].split(" ").length-1)),Sr=Rt[zr].split(" ");Y.push([Sr[0]+" ",qi,Ti]),Mh=0;for(var Gi=1;Gi<Sr.length;Gi++){var Ph=(Pc(Sr[Gi-1]+" "+Sr[Gi])-Pc(Sr[Gi]))*Wi+Gm;Gi==Sr.length-1?Y.push([Sr[Gi],Ph,0]):Y.push([Sr[Gi]+" ",Ph,0]),Mh-=Ph}}else Y.push([Rt[zr],qi,Ti]);Y.push(["",Mh,0])}else{if(ga!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Y=[],qn=Rt.length,Ha=Ha!==0?Ha:_d,zr=0;zr<qn;zr++){Ti=zr===0?cr(Me):-mu,qi=zr===0?ps(fe):0;var Lh=Rt[zr].split(" ").length-1,Oh=Lh>0?(Ha-di[zr])/Lh:0;zr<qn-1?Mc.push(L(M(Oh))):Mc.push(0),Y.push([Rt[zr],qi,Ti])}}}(typeof He.R2L=="boolean"?He.R2L:$e)===!0&&(Y=xo(Y,function(ds,Ls,Cr){return[ds.split("").reverse().join(""),Ls,Cr]})),At={text:Y,x:fe,y:Me,options:He,mutex:{pdfEscape:Pe,activeFontKey:Je,fonts:Wt,activeFontSize:ce}},qa.publish("postProcessText",At),Y=At.text,Qr=At.mutex.isHex||!1;var Rh=Wt[Je].encoding;Rh!=="WinAnsiEncoding"&&Rh!=="StandardEncoding"||(Y=xo(Y,function(ds,Ls,Cr){return[qm(ds),Ls,Cr]})),Rt=wd(Y),Y=[];for(var Wo,Ed,yl,Oc=Array.isArray(Rt[0])?1:0,zl="",Rc=function(ds,Ls,Cr){var sr="";return Cr instanceof ra?(Cr=typeof He.angle=="number"?Fs(Cr,new ra(1,0,0,1,ds,Ls)):Fs(new ra(1,0,0,1,ds,Ls),Cr),S===k&&(Cr=Fs(new ra(1,0,0,-1,0,0),Cr)),sr=Cr.join(" ")+` Tm
`):sr=L(ds)+" "+L(Ls)+` Td
`,sr},wl=0;wl<Rt.length;wl++){switch(zl="",Oc){case 1:yl=(Qr?"<":"(")+Rt[wl][0]+(Qr?">":")"),Wo=parseFloat(Rt[wl][1]),Ed=parseFloat(Rt[wl][2]);break;case 0:yl=(Qr?"<":"(")+Rt[wl]+(Qr?">":")"),Wo=ps(fe),Ed=cr(Me)}Mc!==void 0&&Mc[wl]!==void 0&&(zl=Mc[wl]+` Tw
`),wl===0?Y.push(zl+Rc(Wo,Ed,Jr)+yl):Oc===0?Y.push(zl+yl):Oc===1&&Y.push(zl+Rc(Wo,Ed,Jr)+yl)}Y=Oc===0?Y.join(` Tj
T* `):Y.join(` Tj
`),Y+=` Tj
`;var ui=`BT
/`;return ui+=Je+" "+ce+` Tf
`,ui+=L(ce*$l)+` TL
`,ui+=ci+`
`,ui+=Wn,ui+=Y,ue(ui+="ET"),p[Je]=!0,Xs};var Uo=m.__private__.clip=m.clip=function(Y){return ue(Y==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Uo("evenodd")},m.__private__.discardPath=m.discardPath=function(){return ue("n"),this};var gl=m.__private__.isValidStyle=function(Y){var fe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Y)!==-1&&(fe=!0),fe};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(Y){return gl(Y)&&(d=Y),this};var bd=m.__private__.getStyle=m.getStyle=function(Y){var fe=d;switch(Y){case"D":case"S":fe="S";break;case"F":fe="f";break;case"FD":case"DF":fe="B";break;case"f":case"f*":case"B":case"B*":fe=Y}return fe},Hn=m.close=function(){return ue("h"),this};m.stroke=function(){return ue("S"),this},m.fill=function(Y){return vl("f",Y),this},m.fillEvenOdd=function(Y){return vl("f*",Y),this},m.fillStroke=function(Y){return vl("B",Y),this},m.fillStrokeEvenOdd=function(Y){return vl("B*",Y),this};var vl=function(Y,fe){Gs(fe)==="object"?Oe(fe,Y):ue(Y)},Il=function(Y){Y===null||S===k&&Y===void 0||(Y=bd(Y),ue(Y))};function Th(Y,fe,Me,He,Ze){var At=new $0(fe||this.boundingBox,Me||this.xStep,He||this.yStep,this.gState,Ze||this.matrix);At.stream=this.stream;var Rt=Y+"$$"+this.cloneIndex+++"$$";return es(Rt,At),At}var Oe=function(Y,fe){var Me=Gt[Y.key],He=qe[Me];if(He instanceof xf)ue("q"),ue(vt(fe)),He.gState&&m.setGState(He.gState),ue(Y.matrix.toString()+" cm"),ue("/"+Me+" sh"),ue("Q");else if(He instanceof $0){var Ze=new ra(1,0,0,-1,0,hu());Y.matrix&&(Ze=Ze.multiply(Y.matrix||cs),Me=Th.call(He,Y.key,Y.boundingBox,Y.xStep,Y.yStep,Ze).id),ue("q"),ue("/Pattern cs"),ue("/"+Me+" scn"),He.gState&&m.setGState(He.gState),ue(fe),ue("Q")}},vt=function(Y){switch(Y){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ta=m.moveTo=function(Y,fe){return ue(L(M(Y))+" "+L(I(fe))+" m"),this},Ut=m.lineTo=function(Y,fe){return ue(L(M(Y))+" "+L(I(fe))+" l"),this},ts=m.curveTo=function(Y,fe,Me,He,Ze,At){return ue([L(M(Y)),L(I(fe)),L(M(Me)),L(I(He)),L(M(Ze)),L(I(At)),"c"].join(" ")),this};m.__private__.line=m.line=function(Y,fe,Me,He,Ze){if(isNaN(Y)||isNaN(fe)||isNaN(Me)||isNaN(He)||!gl(Ze))throw new Error("Invalid arguments passed to jsPDF.line");return S===N?this.lines([[Me-Y,He-fe]],Y,fe,[1,1],Ze||"S"):this.lines([[Me-Y,He-fe]],Y,fe,[1,1]).stroke()},m.__private__.lines=m.lines=function(Y,fe,Me,He,Ze,At){var Rt,na,ga,Pa,Ha,ws,pr,Jr,Xs,un,Qr,Wn;if(typeof Y=="number"&&(Wn=Me,Me=fe,fe=Y,Y=Wn),He=He||[1,1],At=At||!1,isNaN(fe)||isNaN(Me)||!Array.isArray(Y)||!Array.isArray(He)||!gl(Ze)||typeof At!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ta(fe,Me),Rt=He[0],na=He[1],Pa=Y.length,un=fe,Qr=Me,ga=0;ga<Pa;ga++)(Ha=Y[ga]).length===2?(un=Ha[0]*Rt+un,Qr=Ha[1]*na+Qr,Ut(un,Qr)):(ws=Ha[0]*Rt+un,pr=Ha[1]*na+Qr,Jr=Ha[2]*Rt+un,Xs=Ha[3]*na+Qr,un=Ha[4]*Rt+un,Qr=Ha[5]*na+Qr,ts(ws,pr,Jr,Xs,un,Qr));return At&&Hn(),Il(Ze),this},m.path=function(Y){for(var fe=0;fe<Y.length;fe++){var Me=Y[fe],He=Me.c;switch(Me.op){case"m":ta(He[0],He[1]);break;case"l":Ut(He[0],He[1]);break;case"c":ts.apply(this,He);break;case"h":Hn()}}return this},m.__private__.rect=m.rect=function(Y,fe,Me,He,Ze){if(isNaN(Y)||isNaN(fe)||isNaN(Me)||isNaN(He)||!gl(Ze))throw new Error("Invalid arguments passed to jsPDF.rect");return S===N&&(He=-He),ue([L(M(Y)),L(I(fe)),L(M(Me)),L(M(He)),"re"].join(" ")),Il(Ze),this},m.__private__.triangle=m.triangle=function(Y,fe,Me,He,Ze,At,Rt){if(isNaN(Y)||isNaN(fe)||isNaN(Me)||isNaN(He)||isNaN(Ze)||isNaN(At)||!gl(Rt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Me-Y,He-fe],[Ze-Me,At-He],[Y-Ze,fe-At]],Y,fe,[1,1],Rt,!0),this},m.__private__.roundedRect=m.roundedRect=function(Y,fe,Me,He,Ze,At,Rt){if(isNaN(Y)||isNaN(fe)||isNaN(Me)||isNaN(He)||isNaN(Ze)||isNaN(At)||!gl(Rt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var na=4/3*(Math.SQRT2-1);return Ze=Math.min(Ze,.5*Me),At=Math.min(At,.5*He),this.lines([[Me-2*Ze,0],[Ze*na,0,Ze,At-At*na,Ze,At],[0,He-2*At],[0,At*na,-Ze*na,At,-Ze,At],[2*Ze-Me,0],[-Ze*na,0,-Ze,-At*na,-Ze,-At],[0,2*At-He],[0,-At*na,Ze*na,-At,Ze,-At]],Y+Ze,fe,[1,1],Rt,!0),this},m.__private__.ellipse=m.ellipse=function(Y,fe,Me,He,Ze){if(isNaN(Y)||isNaN(fe)||isNaN(Me)||isNaN(He)||!gl(Ze))throw new Error("Invalid arguments passed to jsPDF.ellipse");var At=4/3*(Math.SQRT2-1)*Me,Rt=4/3*(Math.SQRT2-1)*He;return ta(Y+Me,fe),ts(Y+Me,fe-Rt,Y+At,fe-He,Y,fe-He),ts(Y-At,fe-He,Y-Me,fe-Rt,Y-Me,fe),ts(Y-Me,fe+Rt,Y-At,fe+He,Y,fe+He),ts(Y+At,fe+He,Y+Me,fe+Rt,Y+Me,fe),Il(Ze),this},m.__private__.circle=m.circle=function(Y,fe,Me,He){if(isNaN(Y)||isNaN(fe)||isNaN(Me)||!gl(He))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Y,fe,Me,Me,He)},m.setFont=function(Y,fe,Me){return Me&&(fe=P(fe,Me)),Je=zn(Y,fe,{disableWarning:!1}),this};var or=m.__private__.getFont=m.getFont=function(){return Wt[zn.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var Y,fe,Me={};for(Y in Te)if(Te.hasOwnProperty(Y))for(fe in Me[Y]=[],Te[Y])Te[Y].hasOwnProperty(fe)&&Me[Y].push(fe);return Me},m.addFont=function(Y,fe,Me,He,Ze){var At=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&At.indexOf(arguments[3])!==-1?Ze=arguments[3]:arguments[3]&&At.indexOf(arguments[3])==-1&&(Me=P(Me,He)),va.call(this,Y,fe,Me,Ze=Ze||"Identity-H")};var Bs,fr=e.lineWidth||.200025,aa=m.__private__.getLineWidth=m.getLineWidth=function(){return fr},Vn=m.__private__.setLineWidth=m.setLineWidth=function(Y){return fr=Y,ue(L(M(Y))+" w"),this};m.__private__.setLineDash=fa.API.setLineDash=fa.API.setLineDashPattern=function(Y,fe){if(Y=Y||[],fe=fe||0,isNaN(fe)||!Array.isArray(Y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Y=Y.map(function(Me){return L(M(Me))}).join(" "),fe=L(M(fe)),ue("["+Y+"] "+fe+" d"),this};var mr=m.__private__.getLineHeight=m.getLineHeight=function(){return ce*Bs};m.__private__.getLineHeight=m.getLineHeight=function(){return ce*Bs};var bl=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(Y){return typeof(Y=Y||1.15)=="number"&&(Bs=Y),this},ys=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Bs};bl(e.lineHeight);var ps=m.__private__.getHorizontalCoordinate=function(Y){return M(Y)},cr=m.__private__.getVerticalCoordinate=function(Y){return S===k?Y:la[G].mediaBox.topRightY-la[G].mediaBox.bottomLeftY-M(Y)},Dn=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(Y){return L(ps(Y))},ho=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(Y){return L(cr(Y))},Ai=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Ae(Ai)},m.__private__.setStrokeColor=m.setDrawColor=function(Y,fe,Me,He){return Ai=_e({ch1:Y,ch2:fe,ch3:Me,ch4:He,pdfColorType:"draw",precision:2}),ue(Ai),this};var Bl=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Ae(Bl)},m.__private__.setFillColor=m.setFillColor=function(Y,fe,Me,He){return Bl=_e({ch1:Y,ch2:fe,ch3:Me,ch4:He,pdfColorType:"fill",precision:2}),ue(Bl),this};var ci=e.textColor||"0 g",_i=m.__private__.getTextColor=m.getTextColor=function(){return Ae(ci)};m.__private__.setTextColor=m.setTextColor=function(Y,fe,Me,He){return ci=_e({ch1:Y,ch2:fe,ch3:Me,ch4:He,pdfColorType:"text",precision:3}),this};var fo=e.charSpace,Xr=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(fo||0)};m.__private__.setCharSpace=m.setCharSpace=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return fo=Y,this};var Vi=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(Y){var fe=m.CapJoinStyles[Y];if(fe===void 0)throw new Error("Line cap style of '"+Y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vi=fe,ue(fe+" J"),this};var mo=0;m.__private__.setLineJoin=m.setLineJoin=function(Y){var fe=m.CapJoinStyles[Y];if(fe===void 0)throw new Error("Line join style of '"+Y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return mo=fe,ue(fe+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(Y){if(Y=Y||0,isNaN(Y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ue(L(M(Y))+" M"),this},m.GState=b1,m.setGState=function(Y){(Y=typeof Y=="string"?Yt[ma[Y]]:po(null,Y)).equals(Ia)||(ue("/"+Y.id+" gs"),Ia=Y)};var po=function(Y,fe){if(!Y||!ma[Y]){var Me=!1;for(var He in Yt)if(Yt.hasOwnProperty(He)&&Yt[He].equals(fe)){Me=!0;break}if(Me)fe=Yt[He];else{var Ze="GS"+(Object.keys(Yt).length+1).toString(10);Yt[Ze]=fe,fe.id=Ze}return Y&&(ma[Y]=fe.id),qa.publish("addGState",fe),fe}};m.addGState=function(Y,fe){return po(Y,fe),this},m.saveGraphicsState=function(){return ue("q"),$t.push({key:Je,size:ce,color:ci}),this},m.restoreGraphicsState=function(){ue("Q");var Y=$t.pop();return Je=Y.key,ce=Y.size,ci=Y.color,Ia=null,this},m.setCurrentTransformationMatrix=function(Y){return ue(Y.toString()+" cm"),this},m.comment=function(Y){return ue("#"+Y),this};var du=function(Y,fe){var Me=Y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Me},set:function(At){isNaN(At)||(Me=parseFloat(At))}});var He=fe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return He},set:function(At){isNaN(At)||(He=parseFloat(At))}});var Ze="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ze},set:function(At){Ze=At.toString()}}),this},uu=function(Y,fe,Me,He){du.call(this,Y,fe),this.type="rect";var Ze=Me||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ze},set:function(Rt){isNaN(Rt)||(Ze=parseFloat(Rt))}});var At=He||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return At},set:function(Rt){isNaN(Rt)||(At=parseFloat(Rt))}}),this},yd=function(){this.page=Ca,this.currentPage=G,this.pages=pe.slice(0),this.pagesContext=la.slice(0),this.x=kt,this.y=Ot,this.matrix=qt,this.width=Qf(G),this.height=Ec(G),this.outputDestination=xe,this.id="",this.objectNumber=-1};yd.prototype.restore=function(){Ca=this.page,G=this.currentPage,la=this.pagesContext,pe=this.pages,kt=this.x,Ot=this.y,qt=this.matrix,Hm(G,this.width),Dc(G,this.height),xe=this.outputDestination};var Tc=function(Y,fe,Me,He,Ze){St.push(new yd),Ca=G=0,pe=[],kt=Y,Ot=fe,qt=Ze,yt([Me,He])};for(var zo in m.beginFormObject=function(Y,fe,Me,He,Ze){return Tc(Y,fe,Me,He,Ze),this},m.endFormObject=function(Y){return(function(fe){if(_t[fe])St.pop().restore();else{var Me=new yd,He="Xo"+(Object.keys(rt).length+1).toString(10);Me.id=He,_t[fe]=He,rt[He]=Me,qa.publish("addFormObject",Me),St.pop().restore()}})(Y),this},m.doFormObject=function(Y,fe){var Me=rt[_t[Y]];return ue("q"),ue(fe.toString()+" cm"),ue("/"+Me.id+" Do"),ue("Q"),this},m.getFormObject=function(Y){var fe=rt[_t[Y]];return{x:fe.x,y:fe.y,width:fe.width,height:fe.height,matrix:fe.matrix}},m.save=function(Y,fe){return Y=Y||"generated.pdf",(fe=fe||{}).returnPromise=fe.returnPromise||!1,fe.returnPromise===!1?(D0(uo(Ci()),Y),typeof D0.unload=="function"&&Ua.setTimeout&&setTimeout(D0.unload,911),this):new Promise(function(Me,He){try{var Ze=D0(uo(Ci()),Y);typeof D0.unload=="function"&&Ua.setTimeout&&setTimeout(D0.unload,911),Me(Ze)}catch(At){He(At.message)}})},fa.API)fa.API.hasOwnProperty(zo)&&(zo==="events"&&fa.API.events.length?(function(Y,fe){var Me,He,Ze;for(Ze=fe.length-1;Ze!==-1;Ze--)Me=fe[Ze][0],He=fe[Ze][1],Y.subscribe.apply(Y,[Me].concat(typeof He=="function"?[He]:He))})(qa,fa.API.events):m[zo]=fa.API[zo]);function Qf(Y){return la[Y].mediaBox.topRightX-la[Y].mediaBox.bottomLeftX}function Hm(Y,fe){la[Y].mediaBox.topRightX=fe+la[Y].mediaBox.bottomLeftX}function Ec(Y){return la[Y].mediaBox.topRightY-la[Y].mediaBox.bottomLeftY}function Dc(Y,fe){la[Y].mediaBox.topRightY=fe+la[Y].mediaBox.bottomLeftY}var Eh=m.getPageWidth=function(Y){return Qf(Y=Y||G)/pt},Vm=m.setPageWidth=function(Y,fe){Hm(Y,fe*pt)},hu=m.getPageHeight=function(Y){return Ec(Y=Y||G)/pt},Wm=m.setPageHeight=function(Y,fe){Dc(Y,fe*pt)};return m.internal={pdfEscape:Pe,getStyle:bd,getFont:or,getFontSize:we,getCharSpace:Xr,getTextColor:_i,getLineHeight:mr,getLineHeightFactor:ys,getLineWidth:aa,write:Le,getHorizontalCoordinate:ps,getVerticalCoordinate:cr,getCoordinateString:Dn,getVerticalCoordinateString:ho,collections:{},newObject:as,newAdditionalObject:Se,newObjectDeferred:pa,newObjectDeferredBegin:ee,getFilters:Xe,putStream:ut,events:qa,scaleFactor:pt,pageSize:{getWidth:function(){return Eh(G)},setWidth:function(Y){Vm(G,Y)},getHeight:function(){return hu(G)},setHeight:function(Y){Wm(G,Y)}},encryptionOptions:u,encryption:ms,getEncryptor:function(Y){return u!==null?ms.encryptor(Y,0):function(fe){return fe}},output:dn,getNumberOfPages:Ur,pages:pe,out:ue,f2:T,f3:F,getPageInfo:_c,getPageInfoByObjId:_h,getCurrentPageInfo:cu,getPDFVersion:g,Point:du,Rectangle:uu,Matrix:ra,hasHotfix:oi},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Eh(G)},set:function(Y){Vm(G,Y)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return hu(G)},set:function(Y){Wm(G,Y)},enumerable:!0,configurable:!0}),(function(Y){for(var fe=0,Me=Ce.length;fe<Me;fe++){var He=va.call(this,Y[fe][0],Y[fe][1],Y[fe][2],Ce[fe][3],!0);f===!1&&(p[He]=!0);var Ze=Y[fe][0].split("-");ba({id:He,fontName:Ze[0],fontStyle:Ze[1]||""})}qa.publish("addFonts",{fonts:Wt,dictionary:Te})}).call(m,Ce),Je="F1",ja(n,a),qa.publish("initialized"),m}Fp.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Fp.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Fp.prototype.hexToBytes=function(e){for(var t=[],a=0;a<e.length;a+=2)t.push(String.fromCharCode(parseInt(e.substr(a,2),16)));return t.join("")},Fp.prototype.processOwnerPassword=function(e,t){return UC($C(t).substr(0,5),e)},Fp.prototype.encryptor=function(e,t){var a=$C(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return UC(a,r)}},b1.prototype.equals=function(e){var t,a="id,objectNumber,equals";if(!e||Gs(e)!==Gs(this))return!1;var r=0;for(t in this)if(!(a.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&a.indexOf(t)<0&&r--;return r===0},fa.API={events:[]},fa.version="3.0.3";var tn=fa.API,Q8=1,Bm=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Dp=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ga=function(e){return e.toFixed(2)},hf=function(e){return e.toFixed(5)};tn.__acroform__={};var oo=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},RR=function(e){return e*Q8},Wd=function(e){var t=new SG,a=ua.internal.getHeight(e)||0,r=ua.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Ga(r)),Number(Ga(a))],t},dSe=tn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},uSe=tn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},hSe=tn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},jn=tn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return hSe(e,t-1)},Nn=tn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return dSe(e,t-1)},kn=tn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return uSe(e,t-1)},fSe=tn.__acroform__.calculateCoordinates=function(e,t){var a=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,n=e[0],i=e[1],l=e[2],o=e[3],c={};return c.lowerLeft_X=a(n)||0,c.lowerLeft_Y=r(i+o)||0,c.upperRight_X=a(n+l)||0,c.upperRight_Y=r(i)||0,[Number(Ga(c.lowerLeft_X)),Number(Ga(c.lowerLeft_Y)),Number(Ga(c.upperRight_X)),Number(Ga(c.upperRight_Y))]},mSe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],a=e._V||e.DV,r=zC(e,a),n=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+n+" "+Ga(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Wd(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},zC=function(e,t){var a=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},n=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");n=e.multiline?n.map(function(T){return T.split(`
`)}):n.map(function(T){return[T]});var i=a,l=ua.internal.getHeight(e)||0;l=l<0?-l:l;var o=ua.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(T,F,M){if(T+1<n.length){var I=F+" "+n[T+1][0];return l2(I,e,M).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var d,u,f=l2("3",e,i).height,p=e.multiline?l-i:(l-f)/2,m=p+=2,v=0,g=0,b=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+l2(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var j="",N=0,k=0;k<n.length;k++)if(n.hasOwnProperty(k)){var S=!1;if(n[k].length!==1&&b!==n[k].length-1){if((f+2)*(N+2)+2>l)continue e;j+=n[k][b],S=!0,g=k,k--}else{j=(j+=n[k][b]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var C=parseInt(k),_=c(C,j,i),P=k>=n.length-1;if(_&&!P){j+=" ",b=0;continue}if(_||P){if(P)g=C;else if(e.multiline&&(f+2)*(N+2)+2>l)continue e}else{if(!e.multiline||(f+2)*(N+2)+2>l)continue e;g=C}}for(var L="",U=v;U<=g;U++){var z=n[U];if(e.multiline){if(U===g){L+=z[b]+" ",b=(b+1)%z.length;continue}if(U===v){L+=z[z.length-1]+" ";continue}}L+=z[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,u=l2(L,e,i).width,e.textAlign){case"right":d=o-u-2;break;case"center":d=(o-u)/2;break;default:d=2}t+=Ga(d)+" "+Ga(m)+` Td
`,t+="("+Bm(L)+`) Tj
`,t+=-Ga(d)+` 0 Td
`,m=-(i+2),u=0,v=S?g:g+1,N++,j=""}break}return r.text=t,r.fontSize=i,r},l2=function(e,t,a){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),n=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(a),charSpace:0})*parseFloat(a);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(a),charSpace:0})*parseFloat(a)*1.5,width:n}},pSe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},xSe=function(e,t){var a={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===a.type&&r.object===a.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(a)},gSe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(pd.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(pSe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Q8=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new CG,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(a){a.internal.events.unsubscribe(a.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete a.internal.acroformPlugin.acroFormDictionaryRoot._eventID,a.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(a){a.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=a.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in r)if(r.hasOwnProperty(n)){var i=r[n];i.objId=void 0,i.hasAnnotation&&xSe(i,a)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(a){if(a.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");a.internal.write("/AcroForm "+a.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(a){(function(r,n){var i=!r;for(var l in r||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var o=r[l],c=[],d=o.Rect;if(o.Rect&&(o.Rect=fSe(o.Rect,n)),n.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ua.createDefaultAppearanceStream(o),Gs(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=d,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=mSe(o);c.push({key:"AP",value:"<</N "+u+">>"}),n.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var m=o.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var l in m)if(m.hasOwnProperty(l)){var v=m[l];typeof v=="function"&&(v=v.call(n,o)),f+="/"+l+" "+v+" ",n.internal.acroformPlugin.xForms.indexOf(v)>=0||n.internal.acroformPlugin.xForms.push(v)}}else typeof(v=m)=="function"&&(v=v.call(n,o)),f+="/"+l+" "+v,n.internal.acroformPlugin.xForms.indexOf(v)>=0||n.internal.acroformPlugin.xForms.push(v);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}n.internal.putStream({additionalKeyValues:c,objectId:o.objId}),n.internal.out("endobj")}i&&(function(g,b){for(var j in g)if(g.hasOwnProperty(j)){var N=j,k=g[j];b.internal.newObjectDeferredBegin(k.objId,!0),Gs(k)==="object"&&typeof k.putStream=="function"&&k.putStream(),delete g[N]}})(n.internal.acroformPlugin.xForms,n)})(a,e)}),e.internal.acroformPlugin.isInitialized=!0}},kG=tn.__acroform__.arrayToPdfArray=function(e,t,a){var r=function(l){return l};if(Array.isArray(e)){for(var n="[",i=0;i<e.length;i++)switch(i!==0&&(n+=" "),Gs(e[i])){case"boolean":case"number":case"object":n+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&a&&(r=a.internal.getEncryptor(t)),n+="("+Bm(r(e[i].toString()))+")"):n+=e[i].toString()}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},_3=function(e,t,a){var r=function(n){return n};return t!==void 0&&a&&(r=a.internal.getEncryptor(t)),(e=e||"").toString(),"("+Bm(r(e))+")"},Yd=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Yd.prototype.toString=function(){return this.objId+" 0 R"},Yd.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Yd.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var a in t)if(Object.getOwnPropertyDescriptor(this,t[a]).configurable===!1){var r=t[a],n=this[r];n&&(Array.isArray(n)?e.push({key:r,value:kG(n,this.objId,this.scope)}):n instanceof Yd?(n.scope=this.scope,e.push({key:r,value:n.objId+" 0 R"})):typeof n!="function"&&e.push({key:r,value:n}))}return e};var SG=function(){Yd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(a){e=a.trim()},get:function(){return e||null}})};oo(SG,Yd);var CG=function(){Yd.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var a=function(r){return r};return this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),"("+Bm(a(e))+")"}},set:function(a){e=a}})};oo(CG,Yd);var pd=function e(){Yd.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');t=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!jn(t,3)},set:function(j){j?this.F=Nn(t,3):this.F=kn(t,3)}});var a=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return a},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');a=j}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(j){r=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(j){r[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(j){r[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(j){r[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(j){r[3]=j}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Dw)return;i="FieldObject"+e.FieldNum++}var j=function(N){return N};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+Bm(j(i))+")"},set:function(j){i=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(j){i=j}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(j){l=j}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(j){o=j}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(j){c=j}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Q8:d},set:function(j){d=j}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(j){u=j}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Dw||this instanceof Af))return _3(f,this.objId,this.scope)},set:function(j){j=j.toString(),f=j}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Xn==0?_3(p,this.objId,this.scope):p},set:function(j){j=j.toString(),p=this instanceof Xn==0?j.substr(0,1)==="("?Dp(j.substr(1,j.length-2)):Dp(j):j}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xn==1?Dp(p.substr(1,p.length-1)):p},set:function(j){j=j.toString(),p=this instanceof Xn==1?"/"+j:j}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Xn==0?_3(m,this.objId,this.scope):m},set:function(j){j=j.toString(),m=this instanceof Xn==0?j.substr(0,1)==="("?Dp(j.substr(1,j.length-2)):Dp(j):j}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xn==1?Dp(m.substr(1,m.length-1)):m},set:function(j){j=j.toString(),m=this instanceof Xn==1?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(j){j=!!j,g=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(j){v=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,1)},set:function(j){j?this.Ff=Nn(this.Ff,1):this.Ff=kn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,2)},set:function(j){j?this.Ff=Nn(this.Ff,2):this.Ff=kn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,3)},set:function(j){j?this.Ff=Nn(this.Ff,3):this.Ff=kn(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');b=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(b){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};oo(pd,Yd);var em=function(){pd.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(a){e=a}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return kG(t,this.objId,this.scope)},set:function(a){var r,n;n=[],typeof(r=a)=="string"&&(n=(function(i,l,o){o||(o=1);for(var c,d=[];c=l.exec(i);)d.push(c[o]);return d})(r,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(a){t=a,this.sort&&t.sort()},this.addOption=function(a){a=(a=a||"").toString(),t.push(a),this.sort&&t.sort()},this.removeOption=function(a,r){for(r=r||!1,a=(a=a||"").toString();t.indexOf(a)!==-1&&(t.splice(t.indexOf(a),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,18)},set:function(a){a?this.Ff=Nn(this.Ff,18):this.Ff=kn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,19)},set:function(a){this.combo===!0&&(a?this.Ff=Nn(this.Ff,19):this.Ff=kn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,20)},set:function(a){a?(this.Ff=Nn(this.Ff,20),t.sort()):this.Ff=kn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,22)},set:function(a){a?this.Ff=Nn(this.Ff,22):this.Ff=kn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,23)},set:function(a){a?this.Ff=Nn(this.Ff,23):this.Ff=kn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,27)},set:function(a){a?this.Ff=Nn(this.Ff,27):this.Ff=kn(this.Ff,27)}}),this.hasAppearanceStream=!1};oo(em,pd);var tm=function(){em.call(this),this.fontName="helvetica",this.combo=!1};oo(tm,em);var am=function(){tm.call(this),this.combo=!0};oo(am,tm);var Mv=function(){am.call(this),this.edit=!0};oo(Mv,am);var Xn=function(){pd.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,15)},set:function(a){a?this.Ff=Nn(this.Ff,15):this.Ff=kn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,16)},set:function(a){a?this.Ff=Nn(this.Ff,16):this.Ff=kn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,17)},set:function(a){a?this.Ff=Nn(this.Ff,17):this.Ff=kn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,26)},set:function(a){a?this.Ff=Nn(this.Ff,26):this.Ff=kn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(i){return i};if(this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,n=[];for(r in n.push("<<"),t)n.push("/"+r+" ("+Bm(a(t[r]))+")");return n.push(">>"),n.join(`
`)}},set:function(a){Gs(a)==="object"&&(t=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(a){typeof a=="string"&&(t.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(a){e="/"+a}})};oo(Xn,pd);var Pv=function(){Xn.call(this),this.pushButton=!0};oo(Pv,Xn);var sm=function(){Xn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};oo(sm,Xn);var Dw=function(){var e,t;pd.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n}});var a,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var i,l=[];for(i in l.push("<<"),r)l.push("/"+i+" ("+Bm(n(r[i]))+")");return l.push(">>"),l.join(`
`)},set:function(n){Gs(n)==="object"&&(r=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(n){typeof n=="string"&&(r.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return a},set:function(n){a=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return a.substr(1,a.length-1)},set:function(n){a="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ua.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};oo(Dw,pd),sm.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var a=this.Kids[t];a.appearanceStreamContent=e.createAppearanceStream(a.optionName),a.caption=e.getCA()}},sm.prototype.createOption=function(e){var t=new Dw;return t.Parent=this,t.optionName=e,this.Kids.push(t),vSe.call(this.scope,t),t};var Lv=function(){Xn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ua.CheckBox.createAppearanceStream()};oo(Lv,Xn);var Af=function(){pd.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,13)},set:function(t){t?this.Ff=Nn(this.Ff,13):this.Ff=kn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,21)},set:function(t){t?this.Ff=Nn(this.Ff,21):this.Ff=kn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,23)},set:function(t){t?this.Ff=Nn(this.Ff,23):this.Ff=kn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,24)},set:function(t){t?this.Ff=Nn(this.Ff,24):this.Ff=kn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,25)},set:function(t){t?this.Ff=Nn(this.Ff,25):this.Ff=kn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,26)},set:function(t){t?this.Ff=Nn(this.Ff,26):this.Ff=kn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};oo(Af,pd);var Ov=function(){Af.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,14)},set:function(e){e?this.Ff=Nn(this.Ff,14):this.Ff=kn(this.Ff,14)}}),this.password=!0};oo(Ov,Af);var ua={CheckBox:{createAppearanceStream:function(){return{N:{On:ua.CheckBox.YesNormal},D:{On:ua.CheckBox.YesPushDown,Off:ua.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Wd(e);t.scope=e.scope;var a=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=zC(e,e.caption);return a.push("0.749023 g"),a.push("0 0 "+Ga(ua.internal.getWidth(e))+" "+Ga(ua.internal.getHeight(e))+" re"),a.push("f"),a.push("BMC"),a.push("q"),a.push("0 0 1 rg"),a.push("/"+r+" "+Ga(i.fontSize)+" Tf "+n),a.push("BT"),a.push(i.text),a.push("ET"),a.push("Q"),a.push("EMC"),t.stream=a.join(`
`),t},YesNormal:function(e){var t=Wd(e);t.scope=e.scope;var a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),n=[],i=ua.internal.getHeight(e),l=ua.internal.getWidth(e),o=zC(e,e.caption);return n.push("1 g"),n.push("0 0 "+Ga(l)+" "+Ga(i)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+Ga(l-1)+" "+Ga(i-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+a+" "+Ga(o.fontSize)+" Tf "+r),n.push(o.text),n.push("ET"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Wd(e);t.scope=e.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+Ga(ua.internal.getWidth(e))+" "+Ga(ua.internal.getHeight(e))+" re"),a.push("f"),t.stream=a.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:ua.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=ua.RadioButton.Circle.YesNormal,t.D[e]=ua.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Wd(e);t.scope=e.scope;var a=[],r=ua.internal.getWidth(e)<=ua.internal.getHeight(e)?ua.internal.getWidth(e)/4:ua.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var n=ua.internal.Bezier_C,i=Number((r*n).toFixed(5));return a.push("q"),a.push("1 0 0 1 "+hf(ua.internal.getWidth(e)/2)+" "+hf(ua.internal.getHeight(e)/2)+" cm"),a.push(r+" 0 m"),a.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),a.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),a.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),a.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join(`
`),t},YesPushDown:function(e){var t=Wd(e);t.scope=e.scope;var a=[],r=ua.internal.getWidth(e)<=ua.internal.getHeight(e)?ua.internal.getWidth(e)/4:ua.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var n=Number((2*r).toFixed(5)),i=Number((n*ua.internal.Bezier_C).toFixed(5)),l=Number((r*ua.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+hf(ua.internal.getWidth(e)/2)+" "+hf(ua.internal.getHeight(e)/2)+" cm"),a.push(n+" 0 m"),a.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),a.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),a.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),a.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),a.push("f"),a.push("Q"),a.push("0 g"),a.push("q"),a.push("1 0 0 1 "+hf(ua.internal.getWidth(e)/2)+" "+hf(ua.internal.getHeight(e)/2)+" cm"),a.push(r+" 0 m"),a.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),a.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),a.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),a.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Wd(e);t.scope=e.scope;var a=[],r=ua.internal.getWidth(e)<=ua.internal.getHeight(e)?ua.internal.getWidth(e)/4:ua.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var n=Number((2*r).toFixed(5)),i=Number((n*ua.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+hf(ua.internal.getWidth(e)/2)+" "+hf(ua.internal.getHeight(e)/2)+" cm"),a.push(n+" 0 m"),a.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),a.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),a.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),a.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:ua.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=ua.RadioButton.Cross.YesNormal,t.D[e]=ua.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Wd(e);t.scope=e.scope;var a=[],r=ua.internal.calculateCross(e);return a.push("q"),a.push("1 1 "+Ga(ua.internal.getWidth(e)-2)+" "+Ga(ua.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(Ga(r.x1.x)+" "+Ga(r.x1.y)+" m"),a.push(Ga(r.x2.x)+" "+Ga(r.x2.y)+" l"),a.push(Ga(r.x4.x)+" "+Ga(r.x4.y)+" m"),a.push(Ga(r.x3.x)+" "+Ga(r.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},YesPushDown:function(e){var t=Wd(e);t.scope=e.scope;var a=ua.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Ga(ua.internal.getWidth(e))+" "+Ga(ua.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Ga(ua.internal.getWidth(e)-2)+" "+Ga(ua.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Ga(a.x1.x)+" "+Ga(a.x1.y)+" m"),r.push(Ga(a.x2.x)+" "+Ga(a.x2.y)+" l"),r.push(Ga(a.x4.x)+" "+Ga(a.x4.y)+" m"),r.push(Ga(a.x3.x)+" "+Ga(a.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Wd(e);t.scope=e.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+Ga(ua.internal.getWidth(e))+" "+Ga(ua.internal.getHeight(e))+" re"),a.push("f"),t.stream=a.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+a}};ua.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=ua.internal.getWidth(e),a=ua.internal.getHeight(e),r=Math.min(t,a);return{x1:{x:(t-r)/2,y:(a-r)/2+r},x2:{x:(t-r)/2+r,y:(a-r)/2},x3:{x:(t-r)/2,y:(a-r)/2},x4:{x:(t-r)/2+r,y:(a-r)/2+r}}}},ua.internal.getWidth=function(e){var t=0;return Gs(e)==="object"&&(t=RR(e.Rect[2])),t},ua.internal.getHeight=function(e){var t=0;return Gs(e)==="object"&&(t=RR(e.Rect[3])),t};var vSe=tn.addField=function(e){if(gSe(this,e),!(e instanceof pd))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};tn.AcroFormChoiceField=em,tn.AcroFormListBox=tm,tn.AcroFormComboBox=am,tn.AcroFormEditBox=Mv,tn.AcroFormButton=Xn,tn.AcroFormPushButton=Pv,tn.AcroFormRadioButton=sm,tn.AcroFormCheckBox=Lv,tn.AcroFormTextField=Af,tn.AcroFormPasswordField=Ov,tn.AcroFormAppearance=ua,tn.AcroForm={ChoiceField:em,ListBox:tm,ComboBox:am,EditBox:Mv,Button:Xn,PushButton:Pv,RadioButton:sm,CheckBox:Lv,TextField:Af,PasswordField:Ov,Appearance:ua},fa.AcroForm={ChoiceField:em,ListBox:tm,ComboBox:am,EditBox:Mv,Button:Xn,PushButton:Pv,RadioButton:sm,CheckBox:Lv,TextField:Af,PasswordField:Ov,Appearance:ua};var bSe=fa.AcroForm;function AG(e){return e.reduce(function(t,a,r){return t[a]=r,t},{})}(function(e){var t="addImage_";e.__addimage__={};var a="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(T,F){var M,I,W,R,q,ae=a;if((F=F||a)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(_(T))for(q in r)for(W=r[q],M=0;M<W.length;M+=1){for(R=!0,I=0;I<W[M].length;I+=1)if(W[M][I]!==void 0&&W[M][I]!==T[I]){R=!1;break}if(R===!0){ae=q;break}}else for(q in r)for(W=r[q],M=0;M<W.length;M+=1){for(R=!0,I=0;I<W[M].length;I+=1)if(W[M][I]!==void 0&&W[M][I]!==T.charCodeAt(I)){R=!1;break}if(R===!0){ae=q;break}}return ae===a&&F!==a&&(ae=F),ae},i=function T(F){for(var M=this.internal.write,I=this.internal.putStream,W=(0,this.internal.getFilters)();W.indexOf("FlateEncode")!==-1;)W.splice(W.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var R=[];if(R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Image"}),R.push({key:"Width",value:F.width}),R.push({key:"Height",value:F.height}),F.colorSpace===j.INDEXED?R.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(R.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===j.DEVICE_CMYK&&R.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),R.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&R.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var q="",ae=0,te=F.transparency.length;ae<te;ae++)q+=F.transparency[ae]+" "+F.transparency[ae]+" ";R.push({key:"Mask",value:"["+q+"]"})}F.sMask!==void 0&&R.push({key:"SMask",value:F.objectId+1+" 0 R"});var K=F.filter!==void 0?["/"+F.filter]:void 0;if(I({data:F.data,additionalKeyValues:R,alreadyAppliedFilters:K,objectId:F.objectId}),M("endobj"),"sMask"in F&&F.sMask!==void 0){var oe,D=(oe=F.sMaskBitsPerComponent)!==null&&oe!==void 0?oe:F.bitsPerComponent,G={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:D,data:F.sMask};"filter"in F&&(G.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(D," /Columns ").concat(F.width),G.filter=F.filter),T.call(this,G)}if(F.colorSpace===j.INDEXED){var H=this.internal.newObject();I({data:L(new Uint8Array(F.palette)),objectId:H}),M("endobj")}},l=function(){var T=this.internal.collections[t+"images"];for(var F in T)i.call(this,T[F])},o=function(){var T,F=this.internal.collections[t+"images"],M=this.internal.write;for(var I in F)M("/I"+(T=F[I]).index,T.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",o))},d=function(){var T=this.internal.collections[t+"images"];return c.call(this),T},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(T){return typeof e["process"+T.toUpperCase()]=="function"},p=function(T){return Gs(T)==="object"&&T.nodeType===1},m=function(T,F){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var M=""+T.getAttribute("src");if(M.indexOf("data:image/")===0)return H2(unescape(M).split("base64,").pop());var I=e.loadFile(M,!0);if(I!==void 0)return I}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var W;switch(F){case"PNG":W="image/png";break;case"WEBP":W="image/webp";break;default:W="image/jpeg"}return H2(T.toDataURL(W,1).split("base64,").pop())}},v=function(T){var F=this.internal.collections[t+"images"];if(F){for(var M in F)if(T===F[M].alias)return F[M]}},g=function(T,F,M){return T||F||(T=-96,F=-96),T<0&&(T=-1*M.width*72/T/this.internal.scaleFactor),F<0&&(F=-1*M.height*72/F/this.internal.scaleFactor),T===0&&(T=F*M.width/M.height),F===0&&(F=T*M.height/M.width),[T,F]},b=function(T,F,M,I,W,R){var q=g.call(this,M,I,W),ae=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,K=d.call(this);if(M=q[0],I=q[1],K[W.index]=W,R){R*=Math.PI/180;var oe=Math.cos(R),D=Math.sin(R),G=function(X){return X.toFixed(4)},H=[G(oe),G(D),G(-1*D),G(oe),0,0,"cm"]}this.internal.write("q"),R?(this.internal.write([1,"0","0",1,ae(T),te(F+I),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([ae(M),"0","0",ae(I),"0","0","cm"].join(" "))):this.internal.write([ae(M),"0","0",ae(I),ae(T),te(F+I),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+W.index+" Do"),this.internal.write("Q")},j=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=e.__addimage__.sHashCode=function(T){var F,M,I=0;if(typeof T=="string")for(M=T.length,F=0;F<M;F++)I=(I<<5)-I+T.charCodeAt(F),I|=0;else if(_(T))for(M=T.byteLength/2,F=0;F<M;F++)I=(I<<5)-I+T[F],I|=0;return I},S=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var F=!0;return T.length===0&&(F=!1),T.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(F=!1),F},C=e.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var F=T.indexOf(",");return F<0?null:T.substring(0,F).trim().endsWith("base64")?T.substring(F+1):null};e.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var _=e.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},P=e.__addimage__.binaryStringToUint8Array=function(T){for(var F=T.length,M=new Uint8Array(F),I=0;I<F;I++)M[I]=T.charCodeAt(I);return M},L=e.__addimage__.arrayBufferToBinaryString=function(T){for(var F="",M=_(T)?T:new Uint8Array(T),I=0;I<M.length;I+=8192)F+=String.fromCharCode.apply(null,M.subarray(I,I+8192));return F};e.addImage=function(){var T,F,M,I,W,R,q,ae,te;if(typeof arguments[1]=="number"?(F=a,M=arguments[1],I=arguments[2],W=arguments[3],R=arguments[4],q=arguments[5],ae=arguments[6],te=arguments[7]):(F=arguments[1],M=arguments[2],I=arguments[3],W=arguments[4],R=arguments[5],q=arguments[6],ae=arguments[7],te=arguments[8]),Gs(T=arguments[0])==="object"&&!p(T)&&"imageData"in T){var K=T;T=K.imageData,F=K.format||F||a,M=K.x||M||0,I=K.y||I||0,W=K.w||K.width||W,R=K.h||K.height||R,q=K.alias||q,ae=K.compression||ae,te=K.rotation||K.angle||te}var oe=this.internal.getFilters();if(ae===void 0&&oe.indexOf("FlateEncode")!==-1&&(ae="SLOW"),isNaN(M)||isNaN(I))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var D=U.call(this,T,F,q,ae);return b.call(this,M,I,W,R,D,te),this};var U=function(T,F,M,I){var W,R,q;if(typeof T=="string"&&n(T)===a){T=unescape(T);var ae=z(T,!1);(ae!==""||(ae=e.loadFile(T,!0))!==void 0)&&(T=ae)}if(p(T)&&(T=m(T,F)),F=n(T,F),!f(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((q=M)==null||q.length===0)&&(M=(function(te){return typeof te=="string"||_(te)?k(te):_(te.data)?k(te.data):null})(T)),(W=v.call(this,M))||(T instanceof Uint8Array||F==="RGBA"||(R=T,T=P(T)),W=this["process"+F.toUpperCase()](T,u.call(this),M,(function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in e.image_compression?te:N.NONE})(I),R)),!W)throw new Error("An unknown error occurred whilst processing the image.");return W},z=e.__addimage__.convertBase64ToBinaryString=function(T,F){F=typeof F!="boolean"||F;var M,I="";if(typeof T=="string"){var W;M=(W=C(T))!==null&&W!==void 0?W:T;try{I=H2(M)}catch(R){if(F)throw S(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+R.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return I};e.getImageProperties=function(T){var F,M,I="";if(p(T)&&(T=m(T)),typeof T=="string"&&n(T)===a&&((I=z(T,!1))===""&&(I=e.loadFile(T)||""),T=I),M=n(T),!f(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(T instanceof Uint8Array||(T=P(T)),!(F=this["process"+M.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=M,F}})(fa.API),(function(e){var t=function(a){if(a!==void 0&&a!="")return!0};fa.API.events.push(["addPage",function(a){this.internal.getPageInfo(a.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(a){for(var r,n,i,l=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(a.objId),d=a.pageContext.annotations,u=!1,f=0;f<d.length&&!u;f++)switch((r=d[f]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<d.length;p++){r=d[p];var m=this.internal.pdfEscape,v=this.internal.getEncryptor(a.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(g.objId),N=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(n="/Rect ["+l(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+m(j(r.contents))+")",i+=" /Popup "+b.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+m(j(N))+") >>",g.content=i;var k=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+l(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+k,r.open&&(i+=" /Open true"),i+=" >>",b.content=i,this.internal.write(g.objId,"0 R",b.objId,"0 R");break;case"freetext":n="/Rect ["+l(r.bounds.x)+" "+o(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var S=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+m(v(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var C=this.annotations._nameMap[r.options.name];r.options.pageNumber=C.page,r.options.top=C.y}else r.options.top||(r.options.top=0);if(n="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+m(v(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;default:var _=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+_+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(a){var r=this.internal.getCurrentPageInfo();switch(a.type){case"link":this.link(a.bounds.x,a.bounds.y,a.bounds.w,a.bounds.h,a);break;case"text":case"freetext":r.pageContext.annotations.push(a)}},e.link=function(a,r,n,i,l){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(a),y:d(r),w:c(a+n),h:d(r+i)},options:l,type:"link"})},e.textWithLink=function(a,r,n,i){var l,o,c=this.getTextWidth(a),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(a,o).length;l=Math.ceil(d*u)}else o=c,l=d;return this.text(a,r,n,i),n+=.2*d,i.align==="center"&&(r-=c/2),i.align==="right"&&(r-=c),this.link(r,n-d,o,l,i),c},e.getTextWidth=function(a){var r=this.internal.getFontSize();return this.getStringUnitWidth(a)*r/this.internal.scaleFactor}})(fa.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},a={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=e.__arabicParser__.isArabicEndLetter=function(g){return l(g)&&i(g)&&t[g.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(g){return l(g)&&n.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return l(g)&&i(g)&&t[g.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return l(g)&&i(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return l(g)&&i(g)&&t[g.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return l(g)&&i(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var b=0,j=a,N="",k=0;for(b=0;b<g.length;b+=1)j[g.charCodeAt(b)]!==void 0?(k++,typeof(j=j[g.charCodeAt(b)])=="number"&&(N+=String.fromCharCode(j),j=a,k=0),b===g.length-1&&(j=a,N+=g.charAt(b-(k-1)),b-=k-1,k=0)):(j=a,N+=g.charAt(b-k),b-=k,k=0);return N};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&r[g.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(g,b,j){return l(g)?i(g)===!1?-1:!d(g)||!l(b)&&!l(j)||!l(j)&&o(b)||o(g)&&!l(b)||o(g)&&c(b)||o(g)&&o(b)?0:u(g)&&l(b)&&!o(b)&&l(j)&&d(j)?3:o(g)||!l(j)?1:2:-1},m=function(g){var b=0,j=0,N=0,k="",S="",C="",_=(g=g||"").split("\\s+"),P=[];for(b=0;b<_.length;b+=1){for(P.push(""),j=0;j<_[b].length;j+=1)k=_[b][j],S=_[b][j-1],C=_[b][j+1],l(k)?(N=p(k,S,C),P[b]+=N!==-1?String.fromCharCode(t[k.charCodeAt(0)][N]):k):P[b]+=k;P[b]=f(P[b])}return P.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var g,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(b)){var N=0;for(j=[],N=0;N<b.length;N+=1)Array.isArray(b[N])?j.push([m(b[N][0]),b[N][1],b[N][2]]):j.push([m(b[N])]);g=j}else g=m(b);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",v])})(fa.API),fa.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var a=void 0;Object.defineProperty(this,"pdf",{get:function(){return a},set:function(o){a=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(o){l=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(a,r){var n;if((a=a||"2d")!=="2d")return null;for(n in r)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=r[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(fa.API),(function(e){var t={left:0,top:0,bottom:0,right:0},a=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(g){v=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){r.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),f=d.font||this.getFont(),p=d.scaleFactor||this.internal.scaleFactor,m=0,v=0,g=0,b=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var j=d.maxWidth;j>0?typeof c=="string"?c=this.splitTextToSize(c,j):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(k,S){return k.concat(b.splitTextToSize(S,j))},[])):c=Array.isArray(c)?c:[c];for(var N=0;N<c.length;N++)m<(g=this.getStringUnitWidth(c[N],{font:f})*u)&&(m=g);return m!==0&&(v=c.length),{w:m/=p,h:Math.max((v*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,m&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,a===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,u,f,p){if(r.call(this),!u)throw new Error("No data for PDF table.");var m,v,g,b,j=[],N=[],k=[],S={},C={},_=[],P=[],L=(p=p||{}).autoSize||!1,U=p.printHeaders!==!1,z=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,T=p.margins||Object.assign({width:this.getPageWidth()},t),F=typeof p.padding=="number"?p.padding:3,M=p.headerBackgroundColor||"#c8c8c8",I=p.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=I,this.setFontSize(z),f==null)N=j=Object.keys(u[0]),k=j.map(function(){return"left"});else if(Array.isArray(f)&&Gs(f[0])==="object")for(j=f.map(function(K){return K.name}),N=f.map(function(K){return K.prompt||K.name||""}),k=f.map(function(K){return K.align||"left"}),m=0;m<f.length;m+=1)C[f[m].name]=.7499990551181103*f[m].width;else Array.isArray(f)&&typeof f[0]=="string"&&(N=j=f,k=j.map(function(){return"left"}));if(L||Array.isArray(f)&&typeof f[0]=="string")for(m=0;m<j.length;m+=1){for(S[b=j[m]]=u.map(function(K){return K[b]}),this.setFont(void 0,"bold"),_.push(this.getTextDimensions(N[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=S[b],this.setFont(void 0,"normal"),g=0;g<v.length;g+=1)_.push(this.getTextDimensions(v[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[b]=Math.max.apply(null,_)+F+F,_=[]}if(U){var W={};for(m=0;m<j.length;m+=1)W[j[m]]={},W[j[m]].text=N[m],W[j[m]].align=k[m];var R=o.call(this,W,C);P=j.map(function(K){return new i(c,d,C[K],R,W[K].text,void 0,W[K].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var q=f.reduce(function(K,oe){return K[oe.name]=oe.align,K},{});for(m=0;m<u.length;m+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:m,data:u[m]},this);var ae=o.call(this,u[m],C);for(g=0;g<j.length;g+=1){var te=u[m][j[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:m,col:g,data:te},this),l.call(this,new i(c,d,C[j[g]],ae,te,m+2,q[j[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var o=function(c,d){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(m){var v=c[m];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,d[m]-u-u)},this).map(function(m){return this.getLineHeightFactor()*m.length*f/p+u+u},this).reduce(function(m,v){return Math.max(m,v)},0)};e.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(a=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){u=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,u),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),a=!1}})(fa.API);var _G={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},TG=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],HC=AG(TG),EG=[100,200,300,400,500,600,700,800,900],ySe=AG(EG);function T3(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),a=(function(i){return _G[i=i||"normal"]?i:"normal"})(e.style),r=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),n=(function(i){return typeof HC[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:a,weight:r,stretch:n,src:e.src||[],ref:e.ref||{name:t,style:[n,a,r].join(" ")}}}function FR(e,t,a,r){var n;for(n=a;n>=0&&n<t.length;n+=r)if(e[t[n]])return e[t[n]];for(n=a;n>=0&&n<t.length;n-=r)if(e[t[n]])return e[t[n]]}var wSe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},IR={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function BR(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function $R(e){return e.trimLeft()}function jSe(e,t){for(var a=0;a<e.length;){if(e.charAt(a)===t)return[e.substring(0,a),e.substring(a+1)];a+=1}return null}function NSe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var o2,UR,zR,Mp,c2,HR,VR,WR,E3=["times"];function qR(e,t,a,r,n){var i=4,l=KR;switch(n){case fa.API.image_compression.FAST:i=1,l=GR;break;case fa.API.image_compression.MEDIUM:i=6,l=YR;break;case fa.API.image_compression.SLOW:i=9,l=XR}e=(function(c,d,u,f){for(var p,m=c.length/d,v=new Uint8Array(c.length+m),g=[kSe,GR,KR,YR,XR],b=0;b<m;b+=1){var j=b*d,N=c.subarray(j,j+d);if(f)v.set(f(N,u,p),j+b);else{for(var k=g.length,S=[],C=0;C<k;C+=1)S[C]=g[C](N,u,p);var _=CSe(S.concat());v.set(S[_],j+b)}p=N}return v})(e,t,Math.ceil(a*r/8),l);var o=RC(e,{level:i});return fa.API.__addimage__.arrayBufferToBinaryString(o)}function kSe(e){var t=Array.apply([],e);return t.unshift(0),t}function GR(e,t){var a=e.length,r=[];r[0]=1;for(var n=0;n<a;n+=1){var i=e[n-t]||0;r[n+1]=e[n]-i+256&255}return r}function KR(e,t,a){var r=e.length,n=[];n[0]=2;for(var i=0;i<r;i+=1){var l=a&&a[i]||0;n[i+1]=e[i]-l+256&255}return n}function YR(e,t,a){var r=e.length,n=[];n[0]=3;for(var i=0;i<r;i+=1){var l=e[i-t]||0,o=a&&a[i]||0;n[i+1]=e[i]+256-(l+o>>>1)&255}return n}function XR(e,t,a){var r=e.length,n=[];n[0]=4;for(var i=0;i<r;i+=1){var l=SSe(e[i-t]||0,a&&a[i]||0,a&&a[i-t]||0);n[i+1]=e[i]-l+256&255}return n}function SSe(e,t,a){if(e===t&&t===a)return e;var r=Math.abs(t-a),n=Math.abs(e-a),i=Math.abs(e+t-a-a);return r<=n&&r<=i?e:n<=i?t:a}function CSe(e){var t=e.map(function(a){return a.reduce(function(r,n){return r+Math.abs(n)},0)});return t.indexOf(Math.min.apply(null,t))}function D3(e,t,a){var r=t*a,n=Math.floor(r/8),i=16-(r-8*n+a),l=(1<<a)-1;return DG(e,n)>>i&l}function JR(e,t,a,r){var n=a*r,i=Math.floor(n/8),l=16-(n-8*i+r),o=(1<<r)-1,c=(t&o)<<l;(function(d,u,f){if(u+1<d.byteLength)d.setUint16(u,f,!1);else{var p=f>>8&255;d.setUint8(u,p)}})(e,i,DG(e,i)&~(o<<l)&65535|c)}function DG(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function ASe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var a=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,n=e[t++],i=n>>7,l=1<<1+(7&n);e[t++],e[t++];var o=null,c=null;i&&(o=t,c=l,t+=3*l);var d=!0,u=[],f=0,p=null,m=0,v=null;for(this.width=a,this.height=r;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,p=e[t++],1&g||(p=null),m=g>>2&7,t++;break;case 254:for(;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var b=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,S=e[t++],C=S>>6&1,_=1<<1+(7&S),P=o,L=c,U=!1;S>>7&&(U=!0,P=t,L=_,t+=3*_);var z=t;for(t++;;){var T;if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}u.push({x:b,y:j,width:N,height:k,has_local_palette:U,palette_offset:P,palette_size:L,data_offset:z,data_length:t-z,transparent_index:p,interlaced:!!C,delay:f,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return v},this.frameInfo=function(F){if(F<0||F>=u.length)throw new Error("Frame index out of range.");return u[F]},this.decodeAndBlitFrameBGRA=function(F,M){var I=this.frameInfo(F),W=I.width*I.height,R=new Uint8Array(W);QR(e,I.data_offset,R,W);var q=I.palette_offset,ae=I.transparent_index;ae===null&&(ae=256);var te=I.width,K=a-te,oe=te,D=4*(I.y*a+I.x),G=4*((I.y+I.height)*a+I.x),H=D,X=4*K;I.interlaced===!0&&(X+=4*a*7);for(var se=8,ie=0,ne=R.length;ie<ne;++ie){var J=R[ie];if(oe===0&&(oe=te,(H+=X)>=G&&(X=4*K+4*a*(se-1),H=D+(te+K)*(se<<1),se>>=1)),J===ae)H+=4;else{var le=e[q+3*J],pe=e[q+3*J+1],Q=e[q+3*J+2];M[H++]=Q,M[H++]=pe,M[H++]=le,M[H++]=255}--oe}},this.decodeAndBlitFrameRGBA=function(F,M){var I=this.frameInfo(F),W=I.width*I.height,R=new Uint8Array(W);QR(e,I.data_offset,R,W);var q=I.palette_offset,ae=I.transparent_index;ae===null&&(ae=256);var te=I.width,K=a-te,oe=te,D=4*(I.y*a+I.x),G=4*((I.y+I.height)*a+I.x),H=D,X=4*K;I.interlaced===!0&&(X+=4*a*7);for(var se=8,ie=0,ne=R.length;ie<ne;++ie){var J=R[ie];if(oe===0&&(oe=te,(H+=X)>=G&&(X=4*K+4*a*(se-1),H=D+(te+K)*(se<<1),se>>=1)),J===ae)H+=4;else{var le=e[q+3*J],pe=e[q+3*J+1],Q=e[q+3*J+2];M[H++]=le,M[H++]=pe,M[H++]=Q,M[H++]=255}--oe}}}function QR(e,t,a,r){for(var n=e[t++],i=1<<n,l=i+1,o=l+1,c=n+1,d=(1<<c)-1,u=0,f=0,p=0,m=e[t++],v=new Int32Array(4096),g=null;;){for(;u<16&&m!==0;)f|=e[t++]<<u,u+=8,m===1?m=e[t++]:--m;if(u<c)break;var b=f&d;if(f>>=c,u-=c,b!==i){if(b===l)break;for(var j=b<o?b:g,N=0,k=j;k>i;)k=v[k]>>8,++N;var S=k;if(p+N+(j!==b?1:0)>r)return void ir.log("Warning, gif stream longer than expected.");a[p++]=S;var C=p+=N;for(j!==b&&(a[p++]=S),k=j;N--;)k=v[k],a[--C]=255&k,k>>=8;g!==null&&o<4096&&(v[o++]=g<<8|S,o>=d+1&&c<12&&(++c,d=d<<1|1)),g=b}else o=l+1,d=(1<<(c=n+1))-1,g=null}return p!==r&&ir.log("Warning, gif stream shorter than expected."),a}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function M3(e){var t,a,r,n,i,l=Math.floor,o=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),f=new Array(65535),p=new Array(65535),m=new Array(64),v=new Array(64),g=[],b=0,j=7,N=new Array(64),k=new Array(64),S=new Array(64),C=new Array(256),_=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],W=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function R(D,G){for(var H=0,X=0,se=new Array,ie=1;ie<=16;ie++){for(var ne=1;ne<=D[ie];ne++)se[G[X]]=[],se[G[X]][0]=H,se[G[X]][1]=ie,X++,H++;H*=2}return se}function q(D){for(var G=D[0],H=D[1]-1;H>=0;)G&1<<H&&(b|=1<<j),H--,--j<0&&(b==255?(ae(255),ae(0)):ae(b),j=7,b=0)}function ae(D){g.push(D)}function te(D){ae(D>>8&255),ae(255&D)}function K(D,G,H,X,se){for(var ie,ne=se[0],J=se[240],le=(function(ce,Ie){var we,$e,Be,ft,Ke,Ue,tt,ct,Je,pt,kt=0;for(Je=0;Je<8;++Je){we=ce[kt],$e=ce[kt+1],Be=ce[kt+2],ft=ce[kt+3],Ke=ce[kt+4],Ue=ce[kt+5],tt=ce[kt+6];var Ot=we+(ct=ce[kt+7]),qt=we-ct,Wt=$e+tt,Te=$e-tt,$t=Be+Ue,qe=Be-Ue,Gt=ft+Ke,Yt=ft-Ke,ma=Ot+Gt,Ia=Ot-Gt,Ca=Wt+$t,la=Wt-$t;ce[kt]=ma+Ca,ce[kt+4]=ma-Ca;var qa=.707106781*(la+Ia);ce[kt+2]=Ia+qa,ce[kt+6]=Ia-qa;var Fe=.382683433*((ma=Yt+qe)-(la=Te+qt)),rt=.5411961*ma+Fe,_t=1.306562965*la+Fe,St=.707106781*(Ca=qe+Te),ra=qt+St,Fs=qt-St;ce[kt+5]=Fs+rt,ce[kt+3]=Fs-rt,ce[kt+1]=ra+_t,ce[kt+7]=ra-_t,kt+=8}for(kt=0,Je=0;Je<8;++Je){we=ce[kt],$e=ce[kt+8],Be=ce[kt+16],ft=ce[kt+24],Ke=ce[kt+32],Ue=ce[kt+40],tt=ce[kt+48];var cs=we+(ct=ce[kt+56]),es=we-ct,Ps=$e+tt,as=$e-tt,pa=Be+Ue,ee=Be-Ue,Se=ft+Ke,ye=ft-Ke,Ne=cs+Se,Ae=cs-Se,_e=Ps+pa,Xe=Ps-pa;ce[kt]=Ne+_e,ce[kt+32]=Ne-_e;var ut=.707106781*(Xe+Ae);ce[kt+16]=Ae+ut,ce[kt+48]=Ae-ut;var Ye=.382683433*((Ne=ye+ee)-(Xe=as+es)),at=.5411961*Ne+Ye,st=1.306562965*Xe+Ye,Et=.707106781*(_e=ee+as),zt=es+Et,Vt=es-Et;ce[kt+40]=Vt+at,ce[kt+24]=Vt-at,ce[kt+8]=zt+st,ce[kt+56]=zt-st,kt++}for(Je=0;Je<64;++Je)pt=ce[Je]*Ie[Je],m[Je]=pt>0?pt+.5|0:pt-.5|0;return m})(D,G),pe=0;pe<64;++pe)v[P[pe]]=le[pe];var Q=v[0]-H;H=v[0],Q==0?q(X[0]):(q(X[p[ie=32767+Q]]),q(f[ie]));for(var xe=63;xe>0&&v[xe]==0;)xe--;if(xe==0)return q(ne),H;for(var he,ue=1;ue<=xe;){for(var Le=ue;v[ue]==0&&ue<=xe;)++ue;var ze=ue-Le;if(ze>=16){he=ze>>4;for(var Ce=1;Ce<=he;++Ce)q(J);ze&=15}ie=32767+v[ue],q(se[(ze<<4)+p[ie]]),q(f[ie]),ue++}return xe!=63&&q(ne),H}function oe(D){D=Math.min(Math.max(D,1),100),i!=D&&((function(G){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var se=l((H[X]*G+50)/100);se=Math.min(Math.max(se,1),255),o[P[X]]=se}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ne=0;ne<64;ne++){var J=l((ie[ne]*G+50)/100);J=Math.min(Math.max(J,1),255),c[P[ne]]=J}for(var le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],pe=0,Q=0;Q<8;Q++)for(var xe=0;xe<8;xe++)d[pe]=1/(o[P[pe]]*le[Q]*le[xe]*8),u[pe]=1/(c[P[pe]]*le[Q]*le[xe]*8),pe++})(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),i=D)}this.encode=function(D,G){G&&oe(G),g=new Array,b=0,j=7,te(65496),te(65504),te(16),ae(74),ae(70),ae(73),ae(70),ae(0),ae(1),ae(1),ae(0),te(1),te(1),ae(0),ae(0),(function(){te(65499),te(132),ae(0);for(var $e=0;$e<64;$e++)ae(o[$e]);ae(1);for(var Be=0;Be<64;Be++)ae(c[Be])})(),(function($e,Be){te(65472),te(17),ae(8),te(Be),te($e),ae(3),ae(1),ae(17),ae(0),ae(2),ae(17),ae(1),ae(3),ae(17),ae(1)})(D.width,D.height),(function(){te(65476),te(418),ae(0);for(var $e=0;$e<16;$e++)ae(L[$e+1]);for(var Be=0;Be<=11;Be++)ae(U[Be]);ae(16);for(var ft=0;ft<16;ft++)ae(z[ft+1]);for(var Ke=0;Ke<=161;Ke++)ae(T[Ke]);ae(1);for(var Ue=0;Ue<16;Ue++)ae(F[Ue+1]);for(var tt=0;tt<=11;tt++)ae(M[tt]);ae(17);for(var ct=0;ct<16;ct++)ae(I[ct+1]);for(var Je=0;Je<=161;Je++)ae(W[Je])})(),te(65498),te(12),ae(3),ae(1),ae(0),ae(2),ae(17),ae(3),ae(17),ae(0),ae(63),ae(0);var H=0,X=0,se=0;b=0,j=7,this.encode.displayName="_encode_";for(var ie,ne,J,le,pe,Q,xe,he,ue,Le=D.data,ze=D.width,Ce=D.height,ce=4*ze,Ie=0;Ie<Ce;){for(ie=0;ie<ce;){for(pe=ce*Ie+ie,xe=-1,he=0,ue=0;ue<64;ue++)Q=pe+(he=ue>>3)*ce+(xe=4*(7&ue)),Ie+he>=Ce&&(Q-=ce*(Ie+1+he-Ce)),ie+xe>=ce&&(Q-=ie+xe-ce+4),ne=Le[Q++],J=Le[Q++],le=Le[Q++],N[ue]=(_[ne]+_[J+256|0]+_[le+512|0]>>16)-128,k[ue]=(_[ne+768|0]+_[J+1024|0]+_[le+1280|0]>>16)-128,S[ue]=(_[ne+1280|0]+_[J+1536|0]+_[le+1792|0]>>16)-128;H=K(N,d,H,t,r),X=K(k,u,X,a,n),se=K(S,u,se,a,n),ie+=32}Ie+=8}if(j>=0){var we=[];we[1]=j+1,we[0]=(1<<j+1)-1,q(we)}return te(65497),new Uint8Array(g)},e=e||50,(function(){for(var D=String.fromCharCode,G=0;G<256;G++)C[G]=D(G)})(),t=R(L,U),a=R(F,M),r=R(z,T),n=R(I,W),(function(){for(var D=1,G=2,H=1;H<=15;H++){for(var X=D;X<G;X++)p[32767+X]=H,f[32767+X]=[],f[32767+X][1]=H,f[32767+X][0]=X;for(var se=-(G-1);se<=-D;se++)p[32767+se]=H,f[32767+se]=[],f[32767+se][1]=H,f[32767+se][0]=G-1+se;D<<=1,G<<=1}})(),(function(){for(var D=0;D<256;D++)_[D]=19595*D,_[D+256|0]=38470*D,_[D+512|0]=7471*D+32768,_[D+768|0]=-11059*D,_[D+1024|0]=-21709*D,_[D+1280|0]=32768*D+8421375,_[D+1536|0]=-27439*D,_[D+1792|0]=-5329*D})(),oe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Qc(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ZR(e){function t(U){if(!U)throw Error("assert :P")}function a(U,z,T){for(var F=0;4>F;F++)if(U[z+F]!=T.charCodeAt(F))return!0;return!1}function r(U,z,T,F,M){for(var I=0;I<M;I++)U[z+I]=T[F+I]}function n(U,z,T,F){for(var M=0;M<F;M++)U[z+M]=T}function i(U){return new Int32Array(U)}function l(U,z){for(var T=[],F=0;F<U;F++)T.push(new z);return T}function o(U,z){var T=[];return(function F(M,I,W){for(var R=W[I],q=0;q<R&&(M.push(W.length>I+1?[]:new z),!(W.length<I+1));q++)F(M[q],I+1,W)})(T,0,U),T}var c=function(){var U=this;function z(E,B){for(var Z=1<<B-1>>>0;E&Z;)Z>>>=1;return Z?(E&Z-1)+Z:E}function T(E,B,Z,re,me){t(!(re%Z));do E[B+(re-=Z)]=me;while(0<re)}function F(E,B,Z,re,me){if(t(2328>=me),512>=me)var ge=i(512);else if((ge=i(me))==null)return 0;return(function(ve,je,ke,De,Ve,lt){var Ee,Ge,et=je,gt=1<<ke,it=i(16),jt=i(16);for(t(Ve!=0),t(De!=null),t(ve!=null),t(0<ke),Ge=0;Ge<Ve;++Ge){if(15<De[Ge])return 0;++it[De[Ge]]}if(it[0]==Ve)return 0;for(jt[1]=0,Ee=1;15>Ee;++Ee){if(it[Ee]>1<<Ee)return 0;jt[Ee+1]=jt[Ee]+it[Ee]}for(Ge=0;Ge<Ve;++Ge)Ee=De[Ge],0<De[Ge]&&(lt[jt[Ee]++]=Ge);if(jt[15]==1)return(De=new M).g=0,De.value=lt[0],T(ve,et,1,gt,De),gt;var wt,It=-1,Pt=gt-1,xa=0,sa=1,Ba=1,ia=1<<ke;for(Ge=0,Ee=1,Ve=2;Ee<=ke;++Ee,Ve<<=1){if(sa+=Ba<<=1,0>(Ba-=it[Ee]))return 0;for(;0<it[Ee];--it[Ee])(De=new M).g=Ee,De.value=lt[Ge++],T(ve,et+xa,Ve,ia,De),xa=z(xa,Ee)}for(Ee=ke+1,Ve=2;15>=Ee;++Ee,Ve<<=1){if(sa+=Ba<<=1,0>(Ba-=it[Ee]))return 0;for(;0<it[Ee];--it[Ee]){if(De=new M,(xa&Pt)!=It){for(et+=ia,wt=1<<(It=Ee)-ke;15>It&&!(0>=(wt-=it[It]));)++It,wt<<=1;gt+=ia=1<<(wt=It-ke),ve[je+(It=xa&Pt)].g=wt+ke,ve[je+It].value=et-je-It}De.g=Ee-ke,De.value=lt[Ge++],T(ve,et+(xa>>ke),Ve,ia,De),xa=z(xa,Ee)}}return sa!=2*jt[15]-1?0:gt})(E,B,Z,re,me,ge)}function M(){this.value=this.g=0}function I(){this.value=this.g=0}function W(){this.G=l(5,M),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Pc,I)}function R(E,B,Z,re){t(E!=null),t(B!=null),t(2147483648>re),E.Ca=254,E.I=0,E.b=-8,E.Ka=0,E.oa=B,E.pa=Z,E.Jd=B,E.Yc=Z+re,E.Zc=4<=re?Z+re-4+1:Z,ne(E)}function q(E,B){for(var Z=0;0<B--;)Z|=le(E,128)<<B;return Z}function ae(E,B){var Z=q(E,B);return J(E)?-Z:Z}function te(E,B,Z,re){var me,ge=0;for(t(E!=null),t(B!=null),t(4294967288>re),E.Sb=re,E.Ra=0,E.u=0,E.h=0,4<re&&(re=4),me=0;me<re;++me)ge+=B[Z+me]<<8*me;E.Ra=ge,E.bb=re,E.oa=B,E.pa=Z}function K(E){for(;8<=E.u&&E.bb<E.Sb;)E.Ra>>>=8,E.Ra+=E.oa[E.pa+E.bb]<<Lc-8>>>0,++E.bb,E.u-=8;X(E)&&(E.h=1,E.u=0)}function oe(E,B){if(t(0<=B),!E.h&&B<=qi){var Z=H(E)&Ti[B];return E.u+=B,K(E),Z}return E.h=1,E.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(E){return E.Ra>>>(E.u&Lc-1)>>>0}function X(E){return t(E.bb<=E.Sb),E.h||E.bb==E.Sb&&E.u>Lc}function se(E,B){E.u=B,E.h=X(E)}function ie(E){E.u>=Vo&&(t(E.u>=Vo),K(E))}function ne(E){t(E!=null&&E.oa!=null),E.pa<E.Zc?(E.I=(E.oa[E.pa++]|E.I<<8)>>>0,E.b+=8):(t(E!=null&&E.oa!=null),E.pa<E.Yc?(E.b+=8,E.I=E.oa[E.pa++]|E.I<<8):E.Ka?E.b=0:(E.I<<=8,E.b+=8,E.Ka=1))}function J(E){return q(E,1)}function le(E,B){var Z=E.Ca;0>E.b&&ne(E);var re=E.b,me=Z*B>>>8,ge=(E.I>>>re>me)+0;for(ge?(Z-=me,E.I-=me+1<<re>>>0):Z=me+1,re=Z,me=0;256<=re;)me+=8,re>>=8;return re=7^me+Td[re],E.b-=re,E.Ca=(Z<<re)-1,ge}function pe(E,B,Z){E[B+0]=Z>>24&255,E[B+1]=Z>>16&255,E[B+2]=Z>>8&255,E[B+3]=255&Z}function Q(E,B){return E[B+0]|E[B+1]<<8}function xe(E,B){return Q(E,B)|E[B+2]<<16}function he(E,B){return Q(E,B)|Q(E,B+2)<<16}function ue(E,B){var Z=1<<B;return t(E!=null),t(0<B),E.X=i(Z),E.X==null?0:(E.Mb=32-B,E.Xa=B,1)}function Le(E,B){t(E!=null),t(B!=null),t(E.Xa==B.Xa),r(B.X,0,E.X,0,1<<B.Xa)}function ze(){this.X=[],this.Xa=this.Mb=0}function Ce(E,B,Z,re){t(Z!=null),t(re!=null);var me=Z[0],ge=re[0];return me==0&&(me=(E*ge+B/2)/B),ge==0&&(ge=(B*me+E/2)/E),0>=me||0>=ge?0:(Z[0]=me,re[0]=ge,1)}function ce(E,B){return E+(1<<B)-1>>>B}function Ie(E,B){return((4278255360&E)+(4278255360&B)>>>0&4278255360)+((16711935&E)+(16711935&B)>>>0&16711935)>>>0}function we(E,B){U[B]=function(Z,re,me,ge,ve,je,ke){var De;for(De=0;De<ve;++De){var Ve=U[E](je[ke+De-1],me,ge+De);je[ke+De]=Ie(Z[re+De],Ve)}}}function $e(){this.ud=this.hd=this.jd=0}function Be(E,B){return((4278124286&(E^B))>>>1)+(E&B)>>>0}function ft(E){return 0<=E&&256>E?E:0>E?0:255<E?255:void 0}function Ke(E,B){return ft(E+(E-B+.5>>1))}function Ue(E,B,Z){return Math.abs(B-Z)-Math.abs(E-Z)}function tt(E,B,Z,re,me,ge,ve){for(re=ge[ve-1],Z=0;Z<me;++Z)ge[ve+Z]=re=Ie(E[B+Z],re)}function ct(E,B,Z,re,me){var ge;for(ge=0;ge<Z;++ge){var ve=E[B+ge],je=ve>>8&255,ke=16711935&(ke=(ke=16711935&ve)+((je<<16)+je));re[me+ge]=(4278255360&ve)+ke>>>0}}function Je(E,B){B.jd=255&E,B.hd=E>>8&255,B.ud=E>>16&255}function pt(E,B,Z,re,me,ge){var ve;for(ve=0;ve<re;++ve){var je=B[Z+ve],ke=je>>>8,De=je,Ve=255&(Ve=(Ve=je>>>16)+((E.jd<<24>>24)*(ke<<24>>24)>>>5));De=255&(De=(De+=(E.hd<<24>>24)*(ke<<24>>24)>>>5)+((E.ud<<24>>24)*(Ve<<24>>24)>>>5)),me[ge+ve]=(4278255360&je)+(Ve<<16)+De}}function kt(E,B,Z,re,me){U[B]=function(ge,ve,je,ke,De,Ve,lt,Ee,Ge){for(ke=lt;ke<Ee;++ke)for(lt=0;lt<Ge;++lt)De[Ve++]=me(je[re(ge[ve++])])},U[E]=function(ge,ve,je,ke,De,Ve,lt){var Ee=8>>ge.b,Ge=ge.Ea,et=ge.K[0],gt=ge.w;if(8>Ee)for(ge=(1<<ge.b)-1,gt=(1<<Ee)-1;ve<je;++ve){var it,jt=0;for(it=0;it<Ge;++it)it&ge||(jt=re(ke[De++])),Ve[lt++]=me(et[jt&gt]),jt>>=Ee}else U["VP8LMapColor"+Z](ke,De,et,gt,Ve,lt,ve,je,Ge)}}function Ot(E,B,Z,re,me){for(Z=B+Z;B<Z;){var ge=E[B++];re[me++]=ge>>16&255,re[me++]=ge>>8&255,re[me++]=255&ge}}function qt(E,B,Z,re,me){for(Z=B+Z;B<Z;){var ge=E[B++];re[me++]=ge>>16&255,re[me++]=ge>>8&255,re[me++]=255&ge,re[me++]=ge>>24&255}}function Wt(E,B,Z,re,me){for(Z=B+Z;B<Z;){var ge=(ve=E[B++])>>16&240|ve>>12&15,ve=240&ve|ve>>28&15;re[me++]=ge,re[me++]=ve}}function Te(E,B,Z,re,me){for(Z=B+Z;B<Z;){var ge=(ve=E[B++])>>16&248|ve>>13&7,ve=ve>>5&224|ve>>3&31;re[me++]=ge,re[me++]=ve}}function $t(E,B,Z,re,me){for(Z=B+Z;B<Z;){var ge=E[B++];re[me++]=255&ge,re[me++]=ge>>8&255,re[me++]=ge>>16&255}}function qe(E,B,Z,re,me,ge){if(ge==0)for(Z=B+Z;B<Z;)pe(re,((ge=E[B++])[0]>>24|ge[1]>>8&65280|ge[2]<<8&16711680|ge[3]<<24)>>>0),me+=32;else r(re,me,E,B,Z)}function Gt(E,B){U[B][0]=U[E+"0"],U[B][1]=U[E+"1"],U[B][2]=U[E+"2"],U[B][3]=U[E+"3"],U[B][4]=U[E+"4"],U[B][5]=U[E+"5"],U[B][6]=U[E+"6"],U[B][7]=U[E+"7"],U[B][8]=U[E+"8"],U[B][9]=U[E+"9"],U[B][10]=U[E+"10"],U[B][11]=U[E+"11"],U[B][12]=U[E+"12"],U[B][13]=U[E+"13"],U[B][14]=U[E+"0"],U[B][15]=U[E+"0"]}function Yt(E){return E==n0||E==Dd||E==Ic||E==$h}function ma(){this.eb=[],this.size=this.A=this.fb=0}function Ia(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ca(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ma,this.f.kb=new Ia,this.sd=null}function la(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function qa(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Fe(E){return alert("todo:WebPSamplerProcessPlane"),E.T}function rt(E,B){var Z=E.T,re=B.ba.f.RGBA,me=re.eb,ge=re.fb+E.ka*re.A,ve=Pn[B.ba.S],je=E.y,ke=E.O,De=E.f,Ve=E.N,lt=E.ea,Ee=E.W,Ge=B.cc,et=B.dc,gt=B.Mc,it=B.Nc,jt=E.ka,wt=E.ka+E.T,It=E.U,Pt=It+1>>1;for(jt==0?ve(je,ke,null,null,De,Ve,lt,Ee,De,Ve,lt,Ee,me,ge,null,null,It):(ve(B.ec,B.fc,je,ke,Ge,et,gt,it,De,Ve,lt,Ee,me,ge-re.A,me,ge,It),++Z);jt+2<wt;jt+=2)Ge=De,et=Ve,gt=lt,it=Ee,Ve+=E.Rc,Ee+=E.Rc,ge+=2*re.A,ve(je,(ke+=2*E.fa)-E.fa,je,ke,Ge,et,gt,it,De,Ve,lt,Ee,me,ge-re.A,me,ge,It);return ke+=E.fa,E.j+wt<E.o?(r(B.ec,B.fc,je,ke,It),r(B.cc,B.dc,De,Ve,Pt),r(B.Mc,B.Nc,lt,Ee,Pt),Z--):1&wt||ve(je,ke,null,null,De,Ve,lt,Ee,De,Ve,lt,Ee,me,ge+re.A,null,null,It),Z}function _t(E,B,Z){var re=E.F,me=[E.J];if(re!=null){var ge=E.U,ve=B.ba.S,je=ve==bu||ve==Ic;B=B.ba.f.RGBA;var ke=[0],De=E.ka;ke[0]=E.T,E.Kb&&(De==0?--ke[0]:(--De,me[0]-=E.width),E.j+E.ka+E.T==E.o&&(ke[0]=E.o-E.j-De));var Ve=B.eb;De=B.fb+De*B.A,E=Nl(re,me[0],E.width,ge,ke,Ve,De+(je?0:3),B.A),t(Z==ke),E&&Yt(ve)&&Ih(Ve,De,je,ge,ke,B.A)}return 0}function St(E){var B=E.ma,Z=B.ba.S,re=11>Z,me=Z==Bh||Z==r0||Z==bu||Z==Fc||Z==12||Yt(Z);if(B.memory=null,B.Ib=null,B.Jb=null,B.Nd=null,!_d(B.Oa,E,me?11:12))return 0;if(me&&Yt(Z)&&qm(),E.da)alert("todo:use_scaling");else{if(re){if(B.Ib=Fe,E.Kb){if(Z=E.U+1>>1,B.memory=i(E.U+2*Z),B.memory==null)return 0;B.ec=B.memory,B.fc=0,B.cc=B.ec,B.dc=B.fc+E.U,B.Mc=B.cc,B.Nc=B.dc+Z,B.Ib=rt,qm()}}else alert("todo:EmitYUV");me&&(B.Jb=_t,re&&$l())}if(re&&!Cb){for(E=0;256>E;++E)e4[E]=89858*(E-128)+fn>>Jo,o0[E]=-22014*(E-128)+fn,qx[E]=-45773*(E-128),mn[E]=113618*(E-128)+fn>>Jo;for(E=Ld;E<rp;++E)B=76283*(E-16)+fn>>Jo,c0[E-Ld]=kr(B,255),Gx[E-Ld]=kr(B+8>>4,15);Cb=1}return 1}function ra(E){var B=E.ma,Z=E.U,re=E.T;return t(!(1&E.ka)),0>=Z||0>=re?0:(Z=B.Ib(E,B),B.Jb!=null&&B.Jb(E,B,Z),B.Dc+=Z,1)}function Fs(E){E.ma.memory=null}function cs(E,B,Z,re){return oe(E,8)!=47?0:(B[0]=oe(E,14)+1,Z[0]=oe(E,14)+1,re[0]=oe(E,1),oe(E,3)!=0?0:!E.h)}function es(E,B){if(4>E)return E+1;var Z=E-2>>1;return(2+(1&E)<<Z)+oe(B,Z)+1}function Ps(E,B){return 120<B?B-120:1<=(Z=((Z=$c[B-1])>>4)*E+(8-(15&Z)))?Z:1;var Z}function as(E,B,Z){var re=H(Z),me=E[B+=255&re].g-8;return 0<me&&(se(Z,Z.u+8),re=H(Z),B+=E[B].value,B+=re&(1<<me)-1),se(Z,Z.u+E[B].g),E[B].value}function pa(E,B,Z){return Z.g+=E.g,Z.value+=E.value<<B>>>0,t(8>=Z.g),E.g}function ee(E,B,Z){var re=E.xc;return t((B=re==0?0:E.vc[E.md*(Z>>re)+(B>>re)])<E.Wb),E.Ya[B]}function Se(E,B,Z,re){var me=E.ab,ge=E.c*B,ve=E.C;B=ve+B;var je=Z,ke=re;for(re=E.Ta,Z=E.Ua;0<me--;){var De=E.gc[me],Ve=ve,lt=B,Ee=je,Ge=ke,et=(ke=re,je=Z,De.Ea);switch(t(Ve<lt),t(lt<=De.nc),De.hc){case 2:zr(Ee,Ge,(lt-Ve)*et,ke,je);break;case 0:var gt=Ve,it=lt,jt=ke,wt=je,It=(ia=De).Ea;gt==0&&(t0(Ee,Ge,null,null,1,jt,wt),tt(Ee,Ge+1,0,0,It-1,jt,wt+1),Ge+=It,wt+=It,++gt);for(var Pt=1<<ia.b,xa=Pt-1,sa=ce(It,ia.b),Ba=ia.K,ia=ia.w+(gt>>ia.b)*sa;gt<it;){var ns=Ba,Zr=ia,La=1;for(Mh(Ee,Ge,jt,wt-It,1,jt,wt);La<It;){var oa=(La&~xa)+Pt;oa>It&&(oa=It),(0,Lh[ns[Zr++]>>8&15])(Ee,Ge+ +La,jt,wt+La-It,oa-La,jt,wt+La),La=oa}Ge+=It,wt+=It,++gt&xa||(ia+=sa)}lt!=De.nc&&r(ke,je-et,ke,je+(lt-Ve-1)*et,et);break;case 1:for(et=Ee,it=Ge,It=(Ee=De.Ea)-(wt=Ee&~(jt=(Ge=1<<De.b)-1)),gt=ce(Ee,De.b),Pt=De.K,De=De.w+(Ve>>De.b)*gt;Ve<lt;){for(xa=Pt,sa=De,Ba=new $e,ia=it+wt,ns=it+Ee;it<ia;)Je(xa[sa++],Ba),Oh(Ba,et,it,Ge,ke,je),it+=Ge,je+=Ge;it<ns&&(Je(xa[sa++],Ba),Oh(Ba,et,it,It,ke,je),it+=It,je+=It),++Ve&jt||(De+=gt)}break;case 3:if(Ee==ke&&Ge==je&&0<De.b){for(it=ke,Ee=et=je+(lt-Ve)*et-(wt=(lt-Ve)*ce(De.Ea,De.b)),Ge=ke,jt=je,gt=[],wt=(It=wt)-1;0<=wt;--wt)gt[wt]=Ge[jt+wt];for(wt=It-1;0<=wt;--wt)it[Ee+wt]=gt[wt];Gm(De,Ve,lt,ke,et,ke,je)}else Gm(De,Ve,lt,Ee,Ge,ke,je)}je=re,ke=Z}ke!=Z&&r(re,Z,je,ke,ge)}function ye(E,B){var Z=E.V,re=E.Ba+E.c*E.C,me=B-E.C;if(t(B<=E.l.o),t(16>=me),0<me){var ge=E.l,ve=E.Ta,je=E.Ua,ke=ge.width;if(Se(E,me,Z,re),me=je=[je],t((Z=E.C)<(re=B)),t(ge.v<ge.va),re>ge.o&&(re=ge.o),Z<ge.j){var De=ge.j-Z;Z=ge.j,me[0]+=De*ke}if(Z>=re?Z=0:(me[0]+=4*ge.v,ge.ka=Z-ge.j,ge.U=ge.va-ge.v,ge.T=re-Z,Z=1),Z){if(je=je[0],11>(Z=E.ca).S){var Ve=Z.f.RGBA,lt=(re=Z.S,me=ge.U,ge=ge.T,De=Ve.eb,Ve.A),Ee=ge;for(Ve=Ve.fb+E.Ma*Ve.A;0<Ee--;){var Ge=ve,et=je,gt=me,it=De,jt=Ve;switch(re){case hi:Rh(Ge,et,gt,it,jt);break;case Bh:Wo(Ge,et,gt,it,jt);break;case n0:Wo(Ge,et,gt,it,jt),Ih(it,jt,0,gt,1,0);break;case Go:Oc(Ge,et,gt,it,jt);break;case r0:qe(Ge,et,gt,it,jt,1);break;case Dd:qe(Ge,et,gt,it,jt,1),Ih(it,jt,0,gt,1,0);break;case bu:qe(Ge,et,gt,it,jt,0);break;case Ic:qe(Ge,et,gt,it,jt,0),Ih(it,jt,1,gt,1,0);break;case Fc:Ed(Ge,et,gt,it,jt);break;case $h:Ed(Ge,et,gt,it,jt),jl(it,jt,gt,1,0);break;case Zm:yl(Ge,et,gt,it,jt);break;default:t(0)}je+=ke,Ve+=lt}E.Ma+=ge}else alert("todo:EmitRescaledRowsYUVA");t(E.Ma<=Z.height)}}E.C=B,t(E.C<=E.i)}function Ne(E){var B;if(0<E.ua)return 0;for(B=0;B<E.Wb;++B){var Z=E.Ya[B].G,re=E.Ya[B].H;if(0<Z[1][re[1]+0].g||0<Z[2][re[2]+0].g||0<Z[3][re[3]+0].g)return 0}return 1}function Ae(E,B,Z,re,me,ge){if(E.Z!=0){var ve=E.qd,je=E.rd;for(t(Yo[E.Z]!=null);B<Z;++B)Yo[E.Z](ve,je,re,me,re,me,ge),ve=re,je=me,me+=ge;E.qd=ve,E.rd=je}}function _e(E,B){var Z=E.l.ma,re=Z.Z==0||Z.Z==1?E.l.j:E.C;if(re=E.C<re?re:E.C,t(B<=E.l.o),B>re){var me=E.l.width,ge=Z.ca,ve=Z.tb+me*re,je=E.V,ke=E.Ba+E.c*re,De=E.gc;t(E.ab==1),t(De[0].hc==3),Gi(De[0],re,B,je,ke,ge,ve),Ae(Z,re,B,ge,ve,me)}E.C=E.Ma=B}function Xe(E,B,Z,re,me,ge,ve){var je=E.$/re,ke=E.$%re,De=E.m,Ve=E.s,lt=Z+E.$,Ee=lt;me=Z+re*me;var Ge=Z+re*ge,et=280+Ve.ua,gt=E.Pb?je:16777216,it=0<Ve.ua?Ve.Wa:null,jt=Ve.wc,wt=lt<Ge?ee(Ve,ke,je):null;t(E.C<ge),t(Ge<=me);var It=!1;e:for(;;){for(;It||lt<Ge;){var Pt=0;if(je>=gt){var xa=lt-Z;t((gt=E).Pb),gt.wd=gt.m,gt.xd=xa,0<gt.s.ua&&Le(gt.s.Wa,gt.s.vb),gt=je+Nb}if(ke&jt||(wt=ee(Ve,ke,je)),t(wt!=null),wt.Qb&&(B[lt]=wt.qb,It=!0),!It)if(ie(De),wt.jc){Pt=De,xa=B;var sa=lt,Ba=wt.pd[H(Pt)&Pc-1];t(wt.jc),256>Ba.g?(se(Pt,Pt.u+Ba.g),xa[sa]=Ba.value,Pt=0):(se(Pt,Pt.u+Ba.g-256),t(256<=Ba.value),Pt=Ba.value),Pt==0&&(It=!0)}else Pt=as(wt.G[0],wt.H[0],De);if(De.h)break;if(It||256>Pt){if(!It)if(wt.nd)B[lt]=(wt.qb|Pt<<8)>>>0;else{if(ie(De),It=as(wt.G[1],wt.H[1],De),ie(De),xa=as(wt.G[2],wt.H[2],De),sa=as(wt.G[3],wt.H[3],De),De.h)break;B[lt]=(sa<<24|It<<16|Pt<<8|xa)>>>0}if(It=!1,++lt,++ke>=re&&(ke=0,++je,ve!=null&&je<=ge&&!(je%16)&&ve(E,je),it!=null))for(;Ee<lt;)Pt=B[Ee++],it.X[(506832829*Pt&4294967295)>>>it.Mb]=Pt}else if(280>Pt){if(Pt=es(Pt-256,De),xa=as(wt.G[4],wt.H[4],De),ie(De),xa=Ps(re,xa=es(xa,De)),De.h)break;if(lt-Z<xa||me-lt<Pt)break e;for(sa=0;sa<Pt;++sa)B[lt+sa]=B[lt+sa-xa];for(lt+=Pt,ke+=Pt;ke>=re;)ke-=re,++je,ve!=null&&je<=ge&&!(je%16)&&ve(E,je);if(t(lt<=me),ke&jt&&(wt=ee(Ve,ke,je)),it!=null)for(;Ee<lt;)Pt=B[Ee++],it.X[(506832829*Pt&4294967295)>>>it.Mb]=Pt}else{if(!(Pt<et))break e;for(It=Pt-280,t(it!=null);Ee<lt;)Pt=B[Ee++],it.X[(506832829*Pt&4294967295)>>>it.Mb]=Pt;Pt=lt,t(!(It>>>(xa=it).Xa)),B[Pt]=xa.X[It],It=!0}It||t(De.h==X(De))}if(E.Pb&&De.h&&lt<me)t(E.m.h),E.a=5,E.m=E.wd,E.$=E.xd,0<E.s.ua&&Le(E.s.vb,E.s.Wa);else{if(De.h)break e;ve?.(E,je>ge?ge:je),E.a=0,E.$=lt-Z}return 1}return E.a=3,0}function ut(E){t(E!=null),E.vc=null,E.yc=null,E.Ya=null;var B=E.Wa;B!=null&&(B.X=null),E.vb=null,t(E!=null)}function Ye(){var E=new ga;return E==null?null:(E.a=0,E.xb=Uh,Gt("Predictor","VP8LPredictors"),Gt("Predictor","VP8LPredictors_C"),Gt("PredictorAdd","VP8LPredictorsAdd"),Gt("PredictorAdd","VP8LPredictorsAdd_C"),zr=ct,Oh=pt,Rh=Ot,Wo=qt,Ed=Wt,yl=Te,Oc=$t,U.VP8LMapColor32b=Sr,U.VP8LMapColor8b=Ph,E)}function at(E,B,Z,re,me){var ge=1,ve=[E],je=[B],ke=re.m,De=re.s,Ve=null,lt=0;e:for(;;){if(Z)for(;ge&&oe(ke,1);){var Ee=ve,Ge=je,et=re,gt=1,it=et.m,jt=et.gc[et.ab],wt=oe(it,2);if(et.Oc&1<<wt)ge=0;else{switch(et.Oc|=1<<wt,jt.hc=wt,jt.Ea=Ee[0],jt.nc=Ge[0],jt.K=[null],++et.ab,t(4>=et.ab),wt){case 0:case 1:jt.b=oe(it,3)+2,gt=at(ce(jt.Ea,jt.b),ce(jt.nc,jt.b),0,et,jt.K),jt.K=jt.K[0];break;case 3:var It,Pt=oe(it,8)+1,xa=16<Pt?0:4<Pt?1:2<Pt?2:3;if(Ee[0]=ce(jt.Ea,xa),jt.b=xa,It=gt=at(Pt,1,0,et,jt.K)){var sa,Ba=Pt,ia=jt,ns=1<<(8>>ia.b),Zr=i(ns);if(Zr==null)It=0;else{var La=ia.K[0],oa=ia.w;for(Zr[0]=ia.K[0][0],sa=1;sa<1*Ba;++sa)Zr[sa]=Ie(La[oa+sa],Zr[sa-1]);for(;sa<4*ns;++sa)Zr[sa]=0;ia.K[0]=null,ia.K[0]=Zr,It=1}}gt=It;break;case 2:break;default:t(0)}ge=gt}}if(ve=ve[0],je=je[0],ge&&oe(ke,1)&&!(ge=1<=(lt=oe(ke,4))&&11>=lt)){re.a=3;break e}var Zt;if(Zt=ge)t:{var xr,$a,Ya,da=re,Va=ve,xs=je,rr=lt,Hr=Z,Vr=da.m,_r=da.s,ss=[null],gs=1,Tr=0,_a=wu[rr];a:for(;;){if(Hr&&oe(Vr,1)){var pn=oe(Vr,3)+2,Cl=ce(Va,pn),Er=ce(xs,pn),Di=Cl*Er;if(!at(Cl,Er,0,da,ss))break a;for(ss=ss[0],_r.xc=pn,xr=0;xr<Di;++xr){var $s=ss[xr]>>8&65535;ss[xr]=$s,$s>=gs&&(gs=$s+1)}}if(Vr.h)break a;for($a=0;5>$a;++$a){var Wr=kl[$a];!$a&&0<rr&&(Wr+=1<<rr),Tr<Wr&&(Tr=Wr)}var Mi=l(gs*_a,M),Gn=gs,Js=l(Gn,W);if(Js==null)var js=null;else t(65536>=Gn),js=Js;var fi=i(Tr);if(js==null||fi==null||Mi==null){da.a=1;break a}var Kn=Mi;for(xr=Ya=0;xr<gs;++xr){var Os=js[xr],Pi=Os.G,xn=Os.H,Qo=0,go=1,gn=0;for($a=0;5>$a;++$a){Wr=kl[$a],Pi[$a]=Kn,xn[$a]=Ya,!$a&&0<rr&&(Wr+=1<<rr);r:{var d0,np=Wr,u0=da,Hh=fi,Tb=Kn,Eb=Ya,h0=0,Vc=u0.m,a4=oe(Vc,1);if(n(Hh,0,0,np),a4){var Db=oe(Vc,1)+1,Mb=oe(Vc,1),Kx=oe(Vc,Mb==0?1:8);Hh[Kx]=1,Db==2&&(Hh[Kx=oe(Vc,8)]=1);var Vh=1}else{var Yx=i(19),Xx=oe(Vc,4)+4;if(19<Xx){u0.a=3;var f0=0;break r}for(d0=0;d0<Xx;++d0)Yx[Bc[d0]]=oe(Vc,3);var ip=void 0,Wh=void 0,Pb=u0,Lb=Yx,Wc=np,m0=Hh,lp=0,vo=Pb.m,qh=8,Jx=l(128,M);s:for(;F(Jx,0,7,Lb,19);){if(oe(vo,1)){var Ob=2+2*oe(vo,3);if((ip=2+oe(vo,Ob))>Wc)break s}else ip=Wc;for(Wh=0;Wh<Wc&&ip--;){ie(vo);var Qx=Jx[0+(127&H(vo))];se(vo,vo.u+Qx.g);var ku=Qx.value;if(16>ku)m0[Wh++]=ku,ku!=0&&(qh=ku);else{var Rb=ku==16,Zx=ku-16,eg=Wl[Zx],tg=oe(vo,ep[Zx])+eg;if(Wh+tg>Wc)break s;for(var Fb=Rb?qh:0;0<tg--;)m0[Wh++]=Fb}}lp=1;break s}lp||(Pb.a=3),Vh=lp}(Vh=Vh&&!Vc.h)&&(h0=F(Tb,Eb,8,Hh,np)),Vh&&h0!=0?f0=h0:(u0.a=3,f0=0)}if(f0==0)break a;if(go&&yu[$a]==1&&(go=Kn[Ya].g==0),Qo+=Kn[Ya].g,Ya+=f0,3>=$a){var Su,op=fi[0];for(Su=1;Su<Wr;++Su)fi[Su]>op&&(op=fi[Su]);gn+=op}}if(Os.nd=go,Os.Qb=0,go&&(Os.qb=(Pi[3][xn[3]+0].value<<24|Pi[1][xn[1]+0].value<<16|Pi[2][xn[2]+0].value)>>>0,Qo==0&&256>Pi[0][xn[0]+0].value&&(Os.Qb=1,Os.qb+=Pi[0][xn[0]+0].value<<8)),Os.jc=!Os.Qb&&6>gn,Os.jc){var p0,qc=Os;for(p0=0;p0<Pc;++p0){var Zo=p0,Gc=qc.pd[Zo],x0=qc.G[0][qc.H[0]+Zo];256<=x0.value?(Gc.g=x0.g+256,Gc.value=x0.value):(Gc.g=0,Gc.value=0,Zo>>=pa(x0,8,Gc),Zo>>=pa(qc.G[1][qc.H[1]+Zo],16,Gc),Zo>>=pa(qc.G[2][qc.H[2]+Zo],0,Gc),pa(qc.G[3][qc.H[3]+Zo],24,Gc))}}}_r.vc=ss,_r.Wb=gs,_r.Ya=js,_r.yc=Mi,Zt=1;break t}Zt=0}if(!(ge=Zt)){re.a=3;break e}if(0<lt){if(De.ua=1<<lt,!ue(De.Wa,lt)){re.a=1,ge=0;break e}}else De.ua=0;var g0=re,ag=ve,Ib=je,sg=g0.s,rg=sg.xc;if(g0.c=ag,g0.i=Ib,sg.md=ce(ag,rg),sg.wc=rg==0?-1:(1<<rg)-1,Z){re.xb=Sb;break e}if((Ve=i(ve*je))==null){re.a=1,ge=0;break e}ge=(ge=Xe(re,Ve,0,ve,je,je,null))&&!ke.h;break e}return ge?(me!=null?me[0]=Ve:(t(Ve==null),t(Z)),re.$=0,Z||ut(De)):ut(De),ge}function st(E,B){var Z=E.c*E.i,re=Z+B+16*B;return t(E.c<=B),E.V=i(re),E.V==null?(E.Ta=null,E.Ua=0,E.a=1,0):(E.Ta=E.V,E.Ua=E.Ba+Z+B,1)}function Et(E,B){var Z=E.C,re=B-Z,me=E.V,ge=E.Ba+E.c*Z;for(t(B<=E.l.o);0<re;){var ve=16<re?16:re,je=E.l.ma,ke=E.l.width,De=ke*ve,Ve=je.ca,lt=je.tb+ke*Z,Ee=E.Ta,Ge=E.Ua;Se(E,ve,me,ge),xu(Ee,Ge,Ve,lt,De),Ae(je,Z,Z+ve,Ve,lt,ke),re-=ve,me+=ve*E.c,Z+=ve}t(Z==B),E.C=E.Ma=B}function zt(){this.ub=this.yd=this.td=this.Rb=0}function Vt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Mt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Kt(){this.Yb=(function(){var E=[];return(function B(Z,re,me){for(var ge=me[re],ve=0;ve<ge&&(Z.push(me.length>re+1?[]:0),!(me.length<re+1));ve++)B(Z[ve],re+1,me)})(E,0,[3,11]),E})()}function ba(){this.jb=i(3),this.Wc=o([4,8],Kt),this.Xc=o([4,17],Kt)}function va(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Pe(){this.ld=this.La=this.dd=this.tc=0}function yt(){this.Na=this.la=0}function ja(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function za(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Is(){this.uc=this.M=this.Nb=0,this.wa=Array(new Pe),this.Y=0,this.ya=Array(new za),this.aa=0,this.l=new ks}function Ur(){this.y=i(16),this.f=i(8),this.ea=i(8)}function zn(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new zt,this.Kc=new Vt,this.ed=new va,this.Qa=new Mt,this.Ic=this.$c=this.Aa=0,this.D=new Is,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,D),this.ia=0,this.pb=l(4,ja),this.Pa=new ba,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ur),this.Hd=0,this.rb=Array(new yt),this.sb=0,this.wa=Array(new Pe),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new za),this.L=this.aa=0,this.gd=o([4,2],Pe),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ks(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ah(){var E=new zn;return E!=null&&(E.a=0,E.sc="OK",E.cb=0,E.Xb=0,hn||(hn=Ci)),E}function bs(E,B,Z){return E.a==0&&(E.a=B,E.sc=Z,E.cb=0),0}function vd(E,B,Z){return 3<=Z&&E[B+0]==157&&E[B+1]==1&&E[B+2]==42}function ou(E,B){if(E==null)return 0;if(E.a=0,E.sc="OK",B==null)return bs(E,2,"null VP8Io passed to VP8GetHeaders()");var Z=B.data,re=B.w,me=B.ha;if(4>me)return bs(E,7,"Truncated header.");var ge=Z[re+0]|Z[re+1]<<8|Z[re+2]<<16,ve=E.Od;if(ve.Rb=!(1&ge),ve.td=ge>>1&7,ve.yd=ge>>4&1,ve.ub=ge>>5,3<ve.td)return bs(E,3,"Incorrect keyframe parameters.");if(!ve.yd)return bs(E,4,"Frame not displayable.");re+=3,me-=3;var je=E.Kc;if(ve.Rb){if(7>me)return bs(E,7,"cannot parse picture header");if(!vd(Z,re,me))return bs(E,3,"Bad code word");je.c=16383&(Z[re+4]<<8|Z[re+3]),je.Td=Z[re+4]>>6,je.i=16383&(Z[re+6]<<8|Z[re+5]),je.Ud=Z[re+6]>>6,re+=7,me-=7,E.za=je.c+15>>4,E.Ub=je.i+15>>4,B.width=je.c,B.height=je.i,B.Da=0,B.j=0,B.v=0,B.va=B.width,B.o=B.height,B.da=0,B.ib=B.width,B.hb=B.height,B.U=B.width,B.T=B.height,n((ge=E.Pa).jb,0,255,ge.jb.length),t((ge=E.Qa)!=null),ge.Cb=0,ge.Bb=0,ge.Fb=1,n(ge.Zb,0,0,ge.Zb.length),n(ge.Lb,0,0,ge.Lb)}if(ve.ub>me)return bs(E,7,"bad partition length");R(ge=E.m,Z,re,ve.ub),re+=ve.ub,me-=ve.ub,ve.Rb&&(je.Ld=J(ge),je.Kd=J(ge)),je=E.Qa;var ke,De=E.Pa;if(t(ge!=null),t(je!=null),je.Cb=J(ge),je.Cb){if(je.Bb=J(ge),J(ge)){for(je.Fb=J(ge),ke=0;4>ke;++ke)je.Zb[ke]=J(ge)?ae(ge,7):0;for(ke=0;4>ke;++ke)je.Lb[ke]=J(ge)?ae(ge,6):0}if(je.Bb)for(ke=0;3>ke;++ke)De.jb[ke]=J(ge)?q(ge,8):255}else je.Bb=0;if(ge.Ka)return bs(E,3,"cannot parse segment header");if((je=E.ed).zd=J(ge),je.Tb=q(ge,6),je.wb=q(ge,3),je.Pc=J(ge),je.Pc&&J(ge)){for(De=0;4>De;++De)J(ge)&&(je.vd[De]=ae(ge,6));for(De=0;4>De;++De)J(ge)&&(je.od[De]=ae(ge,6))}if(E.L=je.Tb==0?0:je.zd?1:2,ge.Ka)return bs(E,3,"cannot parse filter header");var Ve=me;if(me=ke=re,re=ke+Ve,je=Ve,E.Xb=(1<<q(E.m,2))-1,Ve<3*(De=E.Xb))Z=7;else{for(ke+=3*De,je-=3*De,Ve=0;Ve<De;++Ve){var lt=Z[me+0]|Z[me+1]<<8|Z[me+2]<<16;lt>je&&(lt=je),R(E.Jc[+Ve],Z,ke,lt),ke+=lt,je-=lt,me+=3}R(E.Jc[+De],Z,ke,je),Z=ke<re?0:5}if(Z!=0)return bs(E,Z,"cannot parse partitions");for(Z=q(ke=E.m,7),me=J(ke)?ae(ke,4):0,re=J(ke)?ae(ke,4):0,je=J(ke)?ae(ke,4):0,De=J(ke)?ae(ke,4):0,ke=J(ke)?ae(ke,4):0,Ve=E.Qa,lt=0;4>lt;++lt){if(Ve.Cb){var Ee=Ve.Zb[lt];Ve.Fb||(Ee+=Z)}else{if(0<lt){E.pb[lt]=E.pb[0];continue}Ee=Z}var Ge=E.pb[lt];Ge.Sc[0]=i0[kr(Ee+me,127)],Ge.Sc[1]=l0[kr(Ee+0,127)],Ge.Eb[0]=2*i0[kr(Ee+re,127)],Ge.Eb[1]=101581*l0[kr(Ee+je,127)]>>16,8>Ge.Eb[1]&&(Ge.Eb[1]=8),Ge.Qc[0]=i0[kr(Ee+De,117)],Ge.Qc[1]=l0[kr(Ee+ke,127)],Ge.lc=Ee+ke}if(!ve.Rb)return bs(E,4,"Not a key frame.");for(J(ge),ve=E.Pa,Z=0;4>Z;++Z){for(me=0;8>me;++me)for(re=0;3>re;++re)for(je=0;11>je;++je)De=le(ge,ju[Z][me][re][je])?q(ge,8):Ko[Z][me][re][je],ve.Wc[Z][me].Yb[re][je]=De;for(me=0;17>me;++me)ve.Xc[Z][me]=ve.Wc[Z][kb[me]]}return E.kc=J(ge),E.kc&&(E.Bd=q(ge,8)),E.cb=1}function Ci(E,B,Z,re,me,ge,ve){var je=B[me].Yb[Z];for(Z=0;16>me;++me){if(!le(E,je[Z+0]))return me;for(;!le(E,je[Z+1]);)if(je=B[++me].Yb[0],Z=0,me==16)return 16;var ke=B[me+1].Yb;if(le(E,je[Z+2])){var De=E,Ve=0;if(le(De,(Ee=je)[(lt=Z)+3]))if(le(De,Ee[lt+6])){for(je=0,lt=2*(Ve=le(De,Ee[lt+8]))+(Ee=le(De,Ee[lt+9+Ve])),Ve=0,Ee=Ar[lt];Ee[je];++je)Ve+=Ve+le(De,Ee[je]);Ve+=3+(8<<lt)}else le(De,Ee[lt+7])?(Ve=7+2*le(De,165),Ve+=le(De,145)):Ve=5+le(De,159);else Ve=le(De,Ee[lt+4])?3+le(De,Ee[lt+5]):2;je=ke[2]}else Ve=1,je=ke[1];ke=ve+Ss[me],0>(De=E).b&&ne(De);var lt,Ee=De.b,Ge=(lt=De.Ca>>1)-(De.I>>Ee)>>31;--De.b,De.Ca+=Ge,De.Ca|=1,De.I-=(lt+1&Ge)<<Ee,ge[ke]=((Ve^Ge)-Ge)*re[(0<me)+0]}return 16}function uo(E){var B=E.rb[E.sb-1];B.la=0,B.Na=0,n(E.zc,0,0,E.zc.length),E.ja=0}function dn(E,B,Z,re,me){me=E[B+Z+32*re]+(me>>3),E[B+Z+32*re]=-256&me?0>me?0:255:me}function oi(E,B,Z,re,me,ge){dn(E,B,0,Z,re+me),dn(E,B,1,Z,re+ge),dn(E,B,2,Z,re-ge),dn(E,B,3,Z,re-me)}function ms(E){return(20091*E>>16)+E}function _c(E,B,Z,re){var me,ge=0,ve=i(16);for(me=0;4>me;++me){var je=E[B+0]+E[B+8],ke=E[B+0]-E[B+8],De=(35468*E[B+4]>>16)-ms(E[B+12]),Ve=ms(E[B+4])+(35468*E[B+12]>>16);ve[ge+0]=je+Ve,ve[ge+1]=ke+De,ve[ge+2]=ke-De,ve[ge+3]=je-Ve,ge+=4,B++}for(me=ge=0;4>me;++me)je=(E=ve[ge+0]+4)+ve[ge+8],ke=E-ve[ge+8],De=(35468*ve[ge+4]>>16)-ms(ve[ge+12]),dn(Z,re,0,0,je+(Ve=ms(ve[ge+4])+(35468*ve[ge+12]>>16))),dn(Z,re,1,0,ke+De),dn(Z,re,2,0,ke-De),dn(Z,re,3,0,je-Ve),ge++,re+=32}function _h(E,B,Z,re){var me=E[B+0]+4,ge=35468*E[B+4]>>16,ve=ms(E[B+4]),je=35468*E[B+1]>>16;oi(Z,re,0,me+ve,E=ms(E[B+1]),je),oi(Z,re,1,me+ge,E,je),oi(Z,re,2,me-ge,E,je),oi(Z,re,3,me-ve,E,je)}function cu(E,B,Z,re,me){_c(E,B,Z,re),me&&_c(E,B+16,Z,re+4)}function Uo(E,B,Z,re){Rc(E,B+0,Z,re,1),Rc(E,B+32,Z,re+128,1)}function gl(E,B,Z,re){var me;for(E=E[B+0]+4,me=0;4>me;++me)for(B=0;4>B;++B)dn(Z,re,B,me,E)}function bd(E,B,Z,re){E[B+0]&&ds(E,B+0,Z,re),E[B+16]&&ds(E,B+16,Z,re+4),E[B+32]&&ds(E,B+32,Z,re+128),E[B+48]&&ds(E,B+48,Z,re+128+4)}function Hn(E,B,Z,re){var me,ge=i(16);for(me=0;4>me;++me){var ve=E[B+0+me]+E[B+12+me],je=E[B+4+me]+E[B+8+me],ke=E[B+4+me]-E[B+8+me],De=E[B+0+me]-E[B+12+me];ge[0+me]=ve+je,ge[8+me]=ve-je,ge[4+me]=De+ke,ge[12+me]=De-ke}for(me=0;4>me;++me)ve=(E=ge[0+4*me]+3)+ge[3+4*me],je=ge[1+4*me]+ge[2+4*me],ke=ge[1+4*me]-ge[2+4*me],De=E-ge[3+4*me],Z[re+0]=ve+je>>3,Z[re+16]=De+ke>>3,Z[re+32]=ve-je>>3,Z[re+48]=De-ke>>3,re+=64}function vl(E,B,Z){var re,me=B-32,ge=Mn,ve=255-E[me-1];for(re=0;re<Z;++re){var je,ke=ge,De=ve+E[B-1];for(je=0;je<Z;++je)E[B+je]=ke[De+E[me+je]];B+=32}}function Il(E,B){vl(E,B,4)}function Th(E,B){vl(E,B,8)}function Oe(E,B){vl(E,B,16)}function vt(E,B){var Z;for(Z=0;16>Z;++Z)r(E,B+32*Z,E,B-32,16)}function ta(E,B){var Z;for(Z=16;0<Z;--Z)n(E,B,E[B-1],16),B+=32}function Ut(E,B,Z){var re;for(re=0;16>re;++re)n(B,Z+32*re,E,16)}function ts(E,B){var Z,re=16;for(Z=0;16>Z;++Z)re+=E[B-1+32*Z]+E[B+Z-32];Ut(re>>5,E,B)}function or(E,B){var Z,re=8;for(Z=0;16>Z;++Z)re+=E[B-1+32*Z];Ut(re>>4,E,B)}function Bs(E,B){var Z,re=8;for(Z=0;16>Z;++Z)re+=E[B+Z-32];Ut(re>>4,E,B)}function fr(E,B){Ut(128,E,B)}function aa(E,B,Z){return E+2*B+Z+2>>2}function Vn(E,B){var Z,re=B-32;for(re=new Uint8Array([aa(E[re-1],E[re+0],E[re+1]),aa(E[re+0],E[re+1],E[re+2]),aa(E[re+1],E[re+2],E[re+3]),aa(E[re+2],E[re+3],E[re+4])]),Z=0;4>Z;++Z)r(E,B+32*Z,re,0,re.length)}function mr(E,B){var Z=E[B-1],re=E[B-1+32],me=E[B-1+64],ge=E[B-1+96];pe(E,B+0,16843009*aa(E[B-1-32],Z,re)),pe(E,B+32,16843009*aa(Z,re,me)),pe(E,B+64,16843009*aa(re,me,ge)),pe(E,B+96,16843009*aa(me,ge,ge))}function bl(E,B){var Z,re=4;for(Z=0;4>Z;++Z)re+=E[B+Z-32]+E[B-1+32*Z];for(re>>=3,Z=0;4>Z;++Z)n(E,B+32*Z,re,4)}function ys(E,B){var Z=E[B-1+0],re=E[B-1+32],me=E[B-1+64],ge=E[B-1-32],ve=E[B+0-32],je=E[B+1-32],ke=E[B+2-32],De=E[B+3-32];E[B+0+96]=aa(re,me,E[B-1+96]),E[B+1+96]=E[B+0+64]=aa(Z,re,me),E[B+2+96]=E[B+1+64]=E[B+0+32]=aa(ge,Z,re),E[B+3+96]=E[B+2+64]=E[B+1+32]=E[B+0+0]=aa(ve,ge,Z),E[B+3+64]=E[B+2+32]=E[B+1+0]=aa(je,ve,ge),E[B+3+32]=E[B+2+0]=aa(ke,je,ve),E[B+3+0]=aa(De,ke,je)}function ps(E,B){var Z=E[B+1-32],re=E[B+2-32],me=E[B+3-32],ge=E[B+4-32],ve=E[B+5-32],je=E[B+6-32],ke=E[B+7-32];E[B+0+0]=aa(E[B+0-32],Z,re),E[B+1+0]=E[B+0+32]=aa(Z,re,me),E[B+2+0]=E[B+1+32]=E[B+0+64]=aa(re,me,ge),E[B+3+0]=E[B+2+32]=E[B+1+64]=E[B+0+96]=aa(me,ge,ve),E[B+3+32]=E[B+2+64]=E[B+1+96]=aa(ge,ve,je),E[B+3+64]=E[B+2+96]=aa(ve,je,ke),E[B+3+96]=aa(je,ke,ke)}function cr(E,B){var Z=E[B-1+0],re=E[B-1+32],me=E[B-1+64],ge=E[B-1-32],ve=E[B+0-32],je=E[B+1-32],ke=E[B+2-32],De=E[B+3-32];E[B+0+0]=E[B+1+64]=ge+ve+1>>1,E[B+1+0]=E[B+2+64]=ve+je+1>>1,E[B+2+0]=E[B+3+64]=je+ke+1>>1,E[B+3+0]=ke+De+1>>1,E[B+0+96]=aa(me,re,Z),E[B+0+64]=aa(re,Z,ge),E[B+0+32]=E[B+1+96]=aa(Z,ge,ve),E[B+1+32]=E[B+2+96]=aa(ge,ve,je),E[B+2+32]=E[B+3+96]=aa(ve,je,ke),E[B+3+32]=aa(je,ke,De)}function Dn(E,B){var Z=E[B+0-32],re=E[B+1-32],me=E[B+2-32],ge=E[B+3-32],ve=E[B+4-32],je=E[B+5-32],ke=E[B+6-32],De=E[B+7-32];E[B+0+0]=Z+re+1>>1,E[B+1+0]=E[B+0+64]=re+me+1>>1,E[B+2+0]=E[B+1+64]=me+ge+1>>1,E[B+3+0]=E[B+2+64]=ge+ve+1>>1,E[B+0+32]=aa(Z,re,me),E[B+1+32]=E[B+0+96]=aa(re,me,ge),E[B+2+32]=E[B+1+96]=aa(me,ge,ve),E[B+3+32]=E[B+2+96]=aa(ge,ve,je),E[B+3+64]=aa(ve,je,ke),E[B+3+96]=aa(je,ke,De)}function ho(E,B){var Z=E[B-1+0],re=E[B-1+32],me=E[B-1+64],ge=E[B-1+96];E[B+0+0]=Z+re+1>>1,E[B+2+0]=E[B+0+32]=re+me+1>>1,E[B+2+32]=E[B+0+64]=me+ge+1>>1,E[B+1+0]=aa(Z,re,me),E[B+3+0]=E[B+1+32]=aa(re,me,ge),E[B+3+32]=E[B+1+64]=aa(me,ge,ge),E[B+3+64]=E[B+2+64]=E[B+0+96]=E[B+1+96]=E[B+2+96]=E[B+3+96]=ge}function Ai(E,B){var Z=E[B-1+0],re=E[B-1+32],me=E[B-1+64],ge=E[B-1+96],ve=E[B-1-32],je=E[B+0-32],ke=E[B+1-32],De=E[B+2-32];E[B+0+0]=E[B+2+32]=Z+ve+1>>1,E[B+0+32]=E[B+2+64]=re+Z+1>>1,E[B+0+64]=E[B+2+96]=me+re+1>>1,E[B+0+96]=ge+me+1>>1,E[B+3+0]=aa(je,ke,De),E[B+2+0]=aa(ve,je,ke),E[B+1+0]=E[B+3+32]=aa(Z,ve,je),E[B+1+32]=E[B+3+64]=aa(re,Z,ve),E[B+1+64]=E[B+3+96]=aa(me,re,Z),E[B+1+96]=aa(ge,me,re)}function Bl(E,B){var Z;for(Z=0;8>Z;++Z)r(E,B+32*Z,E,B-32,8)}function ci(E,B){var Z;for(Z=0;8>Z;++Z)n(E,B,E[B-1],8),B+=32}function _i(E,B,Z){var re;for(re=0;8>re;++re)n(B,Z+32*re,E,8)}function fo(E,B){var Z,re=8;for(Z=0;8>Z;++Z)re+=E[B+Z-32]+E[B-1+32*Z];_i(re>>4,E,B)}function Xr(E,B){var Z,re=4;for(Z=0;8>Z;++Z)re+=E[B+Z-32];_i(re>>3,E,B)}function Vi(E,B){var Z,re=4;for(Z=0;8>Z;++Z)re+=E[B-1+32*Z];_i(re>>3,E,B)}function mo(E,B){_i(128,E,B)}function po(E,B,Z){var re=E[B-Z],me=E[B+0],ge=3*(me-re)+Qm[1020+E[B-2*Z]-E[B+Z]],ve=vu[112+(ge+4>>3)];E[B-Z]=Mn[255+re+vu[112+(ge+3>>3)]],E[B+0]=Mn[255+me-ve]}function du(E,B,Z,re){var me=E[B+0],ge=E[B+Z];return Vl[255+E[B-2*Z]-E[B-Z]]>re||Vl[255+ge-me]>re}function uu(E,B,Z,re){return 4*Vl[255+E[B-Z]-E[B+0]]+Vl[255+E[B-2*Z]-E[B+Z]]<=re}function yd(E,B,Z,re,me){var ge=E[B-3*Z],ve=E[B-2*Z],je=E[B-Z],ke=E[B+0],De=E[B+Z],Ve=E[B+2*Z],lt=E[B+3*Z];return 4*Vl[255+je-ke]+Vl[255+ve-De]>re?0:Vl[255+E[B-4*Z]-ge]<=me&&Vl[255+ge-ve]<=me&&Vl[255+ve-je]<=me&&Vl[255+lt-Ve]<=me&&Vl[255+Ve-De]<=me&&Vl[255+De-ke]<=me}function Tc(E,B,Z,re){var me=2*re+1;for(re=0;16>re;++re)uu(E,B+re,Z,me)&&po(E,B+re,Z)}function zo(E,B,Z,re){var me=2*re+1;for(re=0;16>re;++re)uu(E,B+re*Z,1,me)&&po(E,B+re*Z,1)}function Qf(E,B,Z,re){var me;for(me=3;0<me;--me)Tc(E,B+=4*Z,Z,re)}function Hm(E,B,Z,re){var me;for(me=3;0<me;--me)zo(E,B+=4,Z,re)}function Ec(E,B,Z,re,me,ge,ve,je){for(ge=2*ge+1;0<me--;){if(yd(E,B,Z,ge,ve))if(du(E,B,Z,je))po(E,B,Z);else{var ke=E,De=B,Ve=Z,lt=ke[De-2*Ve],Ee=ke[De-Ve],Ge=ke[De+0],et=ke[De+Ve],gt=ke[De+2*Ve],it=27*(wt=Qm[1020+3*(Ge-Ee)+Qm[1020+lt-et]])+63>>7,jt=18*wt+63>>7,wt=9*wt+63>>7;ke[De-3*Ve]=Mn[255+ke[De-3*Ve]+wt],ke[De-2*Ve]=Mn[255+lt+jt],ke[De-Ve]=Mn[255+Ee+it],ke[De+0]=Mn[255+Ge-it],ke[De+Ve]=Mn[255+et-jt],ke[De+2*Ve]=Mn[255+gt-wt]}B+=re}}function Dc(E,B,Z,re,me,ge,ve,je){for(ge=2*ge+1;0<me--;){if(yd(E,B,Z,ge,ve))if(du(E,B,Z,je))po(E,B,Z);else{var ke=E,De=B,Ve=Z,lt=ke[De-Ve],Ee=ke[De+0],Ge=ke[De+Ve],et=vu[112+(4+(gt=3*(Ee-lt))>>3)],gt=vu[112+(gt+3>>3)],it=et+1>>1;ke[De-2*Ve]=Mn[255+ke[De-2*Ve]+it],ke[De-Ve]=Mn[255+lt+gt],ke[De+0]=Mn[255+Ee-et],ke[De+Ve]=Mn[255+Ge-it]}B+=re}}function Eh(E,B,Z,re,me,ge){Ec(E,B,Z,1,16,re,me,ge)}function Vm(E,B,Z,re,me,ge){Ec(E,B,1,Z,16,re,me,ge)}function hu(E,B,Z,re,me,ge){var ve;for(ve=3;0<ve;--ve)Dc(E,B+=4*Z,Z,1,16,re,me,ge)}function Wm(E,B,Z,re,me,ge){var ve;for(ve=3;0<ve;--ve)Dc(E,B+=4,1,Z,16,re,me,ge)}function Y(E,B,Z,re,me,ge,ve,je){Ec(E,B,me,1,8,ge,ve,je),Ec(Z,re,me,1,8,ge,ve,je)}function fe(E,B,Z,re,me,ge,ve,je){Ec(E,B,1,me,8,ge,ve,je),Ec(Z,re,1,me,8,ge,ve,je)}function Me(E,B,Z,re,me,ge,ve,je){Dc(E,B+4*me,me,1,8,ge,ve,je),Dc(Z,re+4*me,me,1,8,ge,ve,je)}function He(E,B,Z,re,me,ge,ve,je){Dc(E,B+4,1,me,8,ge,ve,je),Dc(Z,re+4,1,me,8,ge,ve,je)}function Ze(){this.ba=new Ca,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new qa,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function At(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Rt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function na(){this.ua=0,this.Wa=new ze,this.vb=new ze,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new W,this.yc=new M}function ga(){this.xb=this.a=0,this.l=new ks,this.ca=new Ca,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new na,this.ab=0,this.gc=l(4,Rt),this.Oc=0}function Pa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ks,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ha(E,B,Z,re,me,ge,ve){for(E=E==null?0:E[B+0],B=0;B<ve;++B)me[ge+B]=E+Z[re+B]&255,E=me[ge+B]}function ws(E,B,Z,re,me,ge,ve){var je;if(E==null)Ha(null,null,Z,re,me,ge,ve);else for(je=0;je<ve;++je)me[ge+je]=E[B+je]+Z[re+je]&255}function pr(E,B,Z,re,me,ge,ve){if(E==null)Ha(null,null,Z,re,me,ge,ve);else{var je,ke=E[B+0],De=ke,Ve=ke;for(je=0;je<ve;++je)De=Ve+(ke=E[B+je])-De,Ve=Z[re+je]+(-256&De?0>De?0:255:De)&255,De=ke,me[ge+je]=Ve}}function Jr(E,B,Z,re){var me=B.width,ge=B.o;if(t(E!=null&&B!=null),0>Z||0>=re||Z+re>ge)return null;if(!E.Cc){if(E.ga==null){var ve;if(E.ga=new Pa,(ve=E.ga==null)||(ve=B.width*B.o,t(E.Gb.length==0),E.Gb=i(ve),E.Uc=0,E.Gb==null?ve=0:(E.mb=E.Gb,E.nb=E.Uc,E.rc=null,ve=1),ve=!ve),!ve){ve=E.ga;var je=E.Fa,ke=E.P,De=E.qc,Ve=E.mb,lt=E.nb,Ee=ke+1,Ge=De-1,et=ve.l;if(t(je!=null&&Ve!=null&&B!=null),Yo[0]=null,Yo[1]=Ha,Yo[2]=ws,Yo[3]=pr,ve.ca=Ve,ve.tb=lt,ve.c=B.width,ve.i=B.height,t(0<ve.c&&0<ve.i),1>=De)B=0;else if(ve.$a=3&je[ke+0],ve.Z=je[ke+0]>>2&3,ve.Lc=je[ke+0]>>4&3,ke=je[ke+0]>>6&3,0>ve.$a||1<ve.$a||4<=ve.Z||1<ve.Lc||ke)B=0;else if(et.put=ra,et.ac=St,et.bc=Fs,et.ma=ve,et.width=B.width,et.height=B.height,et.Da=B.Da,et.v=B.v,et.va=B.va,et.j=B.j,et.o=B.o,ve.$a)e:{t(ve.$a==1),B=Ye();t:for(;;){if(B==null){B=0;break e}if(t(ve!=null),ve.mc=B,B.c=ve.c,B.i=ve.i,B.l=ve.l,B.l.ma=ve,B.l.width=ve.c,B.l.height=ve.i,B.a=0,te(B.m,je,Ee,Ge),!at(ve.c,ve.i,1,B,null)||(B.ab==1&&B.gc[0].hc==3&&Ne(B.s)?(ve.ic=1,je=B.c*B.i,B.Ta=null,B.Ua=0,B.V=i(je),B.Ba=0,B.V==null?(B.a=1,B=0):B=1):(ve.ic=0,B=st(B,ve.c)),!B))break t;B=1;break e}ve.mc=null,B=0}else B=Ge>=ve.c*ve.i;ve=!B}if(ve)return null;E.ga.Lc!=1?E.Ga=0:re=ge-Z}t(E.ga!=null),t(Z+re<=ge);e:{if(B=(je=E.ga).c,ge=je.l.o,je.$a==0){if(Ee=E.rc,Ge=E.Vc,et=E.Fa,ke=E.P+1+Z*B,De=E.mb,Ve=E.nb+Z*B,t(ke<=E.P+E.qc),je.Z!=0)for(t(Yo[je.Z]!=null),ve=0;ve<re;++ve)Yo[je.Z](Ee,Ge,et,ke,De,Ve,B),Ee=De,Ge=Ve,Ve+=B,ke+=B;else for(ve=0;ve<re;++ve)r(De,Ve,et,ke,B),Ee=De,Ge=Ve,Ve+=B,ke+=B;E.rc=Ee,E.Vc=Ge}else{if(t(je.mc!=null),B=Z+re,t((ve=je.mc)!=null),t(B<=ve.i),ve.C>=B)B=1;else if(je.ic||$l(),je.ic){je=ve.V,Ee=ve.Ba,Ge=ve.c;var gt=ve.i,it=(et=1,ke=ve.$/Ge,De=ve.$%Ge,Ve=ve.m,lt=ve.s,ve.$),jt=Ge*gt,wt=Ge*B,It=lt.wc,Pt=it<wt?ee(lt,De,ke):null;t(it<=jt),t(B<=gt),t(Ne(lt));t:for(;;){for(;!Ve.h&&it<wt;){if(De&It||(Pt=ee(lt,De,ke)),t(Pt!=null),ie(Ve),256>(gt=as(Pt.G[0],Pt.H[0],Ve)))je[Ee+it]=gt,++it,++De>=Ge&&(De=0,++ke<=B&&!(ke%16)&&_e(ve,ke));else{if(!(280>gt)){et=0;break t}gt=es(gt-256,Ve);var xa,sa=as(Pt.G[4],Pt.H[4],Ve);if(ie(Ve),!(it>=(sa=Ps(Ge,sa=es(sa,Ve)))&&jt-it>=gt)){et=0;break t}for(xa=0;xa<gt;++xa)je[Ee+it+xa]=je[Ee+it+xa-sa];for(it+=gt,De+=gt;De>=Ge;)De-=Ge,++ke<=B&&!(ke%16)&&_e(ve,ke);it<wt&&De&It&&(Pt=ee(lt,De,ke))}t(Ve.h==X(Ve))}_e(ve,ke>B?B:ke);break t}!et||Ve.h&&it<jt?(et=0,ve.a=Ve.h?5:3):ve.$=it,B=et}else B=Xe(ve,ve.V,ve.Ba,ve.c,ve.i,B,Et);if(!B){re=0;break e}}Z+re>=ge&&(E.Cc=1),re=1}if(!re)return null;if(E.Cc&&((re=E.ga)!=null&&(re.mc=null),E.ga=null,0<E.Ga))return alert("todo:WebPDequantizeLevels"),null}return E.nb+Z*me}function Xs(E,B,Z,re,me,ge){for(;0<me--;){var ve,je=E,ke=B+(Z?1:0),De=E,Ve=B+(Z?0:3);for(ve=0;ve<re;++ve){var lt=De[Ve+4*ve];lt!=255&&(lt*=32897,je[ke+4*ve+0]=je[ke+4*ve+0]*lt>>23,je[ke+4*ve+1]=je[ke+4*ve+1]*lt>>23,je[ke+4*ve+2]=je[ke+4*ve+2]*lt>>23)}B+=ge}}function un(E,B,Z,re,me){for(;0<re--;){var ge;for(ge=0;ge<Z;++ge){var ve=E[B+2*ge+0],je=15&(De=E[B+2*ge+1]),ke=4369*je,De=(240&De|De>>4)*ke>>16;E[B+2*ge+0]=(240&ve|ve>>4)*ke>>16&240|(15&ve|ve<<4)*ke>>16>>4&15,E[B+2*ge+1]=240&De|je}B+=me}}function Qr(E,B,Z,re,me,ge,ve,je){var ke,De,Ve=255;for(De=0;De<me;++De){for(ke=0;ke<re;++ke){var lt=E[B+ke];ge[ve+4*ke]=lt,Ve&=lt}B+=Z,ve+=je}return Ve!=255}function Wn(E,B,Z,re,me){var ge;for(ge=0;ge<me;++ge)Z[re+ge]=E[B+ge]>>8}function $l(){Ih=Xs,jl=un,Nl=Qr,xu=Wn}function Wi(E,B,Z){U[E]=function(re,me,ge,ve,je,ke,De,Ve,lt,Ee,Ge,et,gt,it,jt,wt,It){var Pt,xa=It-1>>1,sa=je[ke+0]|De[Ve+0]<<16,Ba=lt[Ee+0]|Ge[et+0]<<16;t(re!=null);var ia=3*sa+Ba+131074>>2;for(B(re[me+0],255&ia,ia>>16,gt,it),ge!=null&&(ia=3*Ba+sa+131074>>2,B(ge[ve+0],255&ia,ia>>16,jt,wt)),Pt=1;Pt<=xa;++Pt){var ns=je[ke+Pt]|De[Ve+Pt]<<16,Zr=lt[Ee+Pt]|Ge[et+Pt]<<16,La=sa+ns+Ba+Zr+524296,oa=La+2*(ns+Ba)>>3;ia=oa+sa>>1,sa=(La=La+2*(sa+Zr)>>3)+ns>>1,B(re[me+2*Pt-1],255&ia,ia>>16,gt,it+(2*Pt-1)*Z),B(re[me+2*Pt-0],255&sa,sa>>16,gt,it+(2*Pt-0)*Z),ge!=null&&(ia=La+Ba>>1,sa=oa+Zr>>1,B(ge[ve+2*Pt-1],255&ia,ia>>16,jt,wt+(2*Pt-1)*Z),B(ge[ve+2*Pt+0],255&sa,sa>>16,jt,wt+(2*Pt+0)*Z)),sa=ns,Ba=Zr}1&It||(ia=3*sa+Ba+131074>>2,B(re[me+It-1],255&ia,ia>>16,gt,it+(It-1)*Z),ge!=null&&(ia=3*Ba+sa+131074>>2,B(ge[ve+It-1],255&ia,ia>>16,jt,wt+(It-1)*Z)))}}function qm(){Pn[hi]=zc,Pn[Bh]=Xo,Pn[Go]=Pd,Pn[r0]=tp,Pn[bu]=ap,Pn[Fc]=zh,Pn[Zm]=sp,Pn[n0]=Xo,Pn[Dd]=tp,Pn[Ic]=ap,Pn[$h]=zh}function wd(E){return E&-16384?0>E?0:255:E>>ZN}function xo(E,B){return wd((19077*E>>8)+(26149*B>>8)-14234)}function jd(E,B,Z){return wd((19077*E>>8)-(6419*B>>8)-(13320*Z>>8)+8708)}function Nd(E,B){return wd((19077*E>>8)+(33050*B>>8)-17685)}function kd(E,B,Z,re,me){re[me+0]=xo(E,Z),re[me+1]=jd(E,B,Z),re[me+2]=Nd(E,B)}function Sd(E,B,Z,re,me){re[me+0]=Nd(E,B),re[me+1]=jd(E,B,Z),re[me+2]=xo(E,Z)}function qn(E,B,Z,re,me){var ge=jd(E,B,Z);B=ge<<3&224|Nd(E,B)>>3,re[me+0]=248&xo(E,Z)|ge>>5,re[me+1]=B}function Cd(E,B,Z,re,me){var ge=240&Nd(E,B)|15;re[me+0]=240&xo(E,Z)|jd(E,B,Z)>>4,re[me+1]=ge}function Ul(E,B,Z,re,me){re[me+0]=255,kd(E,B,Z,re,me+1)}function Zf(E,B,Z,re,me){Sd(E,B,Z,re,me),re[me+3]=255}function e0(E,B,Z,re,me){kd(E,B,Z,re,me),re[me+3]=255}function kr(E,B){return 0>E?0:E>B?B:E}function Ho(E,B,Z){U[E]=function(re,me,ge,ve,je,ke,De,Ve,lt){for(var Ee=Ve+(-2&lt)*Z;Ve!=Ee;)B(re[me+0],ge[ve+0],je[ke+0],De,Ve),B(re[me+1],ge[ve+0],je[ke+0],De,Ve+Z),me+=2,++ve,++ke,Ve+=2*Z;1&lt&&B(re[me+0],ge[ve+0],je[ke+0],De,Ve)}}function fu(E,B,Z){return Z==0?E==0?B==0?6:5:B==0?4:0:Z}function Ad(E,B,Z,re,me){switch(E>>>30){case 3:Rc(B,Z,re,me,0);break;case 2:wl(B,Z,re,me);break;case 1:ds(B,Z,re,me)}}function di(E,B){var Z,re,me=B.M,ge=B.Nb,ve=E.oc,je=E.pc+40,ke=E.oc,De=E.pc+584,Ve=E.oc,lt=E.pc+600;for(Z=0;16>Z;++Z)ve[je+32*Z-1]=129;for(Z=0;8>Z;++Z)ke[De+32*Z-1]=129,Ve[lt+32*Z-1]=129;for(0<me?ve[je-1-32]=ke[De-1-32]=Ve[lt-1-32]=129:(n(ve,je-32-1,127,21),n(ke,De-32-1,127,9),n(Ve,lt-32-1,127,9)),re=0;re<E.za;++re){var Ee=B.ya[B.aa+re];if(0<re){for(Z=-1;16>Z;++Z)r(ve,je+32*Z-4,ve,je+32*Z+12,4);for(Z=-1;8>Z;++Z)r(ke,De+32*Z-4,ke,De+32*Z+4,4),r(Ve,lt+32*Z-4,Ve,lt+32*Z+4,4)}var Ge=E.Gd,et=E.Hd+re,gt=Ee.ad,it=Ee.Hc;if(0<me&&(r(ve,je-32,Ge[et].y,0,16),r(ke,De-32,Ge[et].f,0,8),r(Ve,lt-32,Ge[et].ea,0,8)),Ee.Za){var jt=ve,wt=je-32+16;for(0<me&&(re>=E.za-1?n(jt,wt,Ge[et].y[15],4):r(jt,wt,Ge[et+1].y,0,4)),Z=0;4>Z;Z++)jt[wt+128+Z]=jt[wt+256+Z]=jt[wt+384+Z]=jt[wt+0+Z];for(Z=0;16>Z;++Z,it<<=2)jt=ve,wt=je+Nu[Z],Ei[Ee.Ob[Z]](jt,wt),Ad(it,gt,16*+Z,jt,wt)}else if(jt=fu(re,me,Ee.Ob[0]),Uc[jt](ve,je),it!=0)for(Z=0;16>Z;++Z,it<<=2)Ad(it,gt,16*+Z,ve,je+Nu[Z]);for(Z=Ee.Gc,jt=fu(re,me,Ee.Dd),Sl[jt](ke,De),Sl[jt](Ve,lt),it=gt,jt=ke,wt=De,255&(Ee=0|Z)&&(170&Ee?ui(it,256,jt,wt):Ls(it,256,jt,wt)),Ee=Ve,it=lt,255&(Z>>=8)&&(170&Z?ui(gt,320,Ee,it):Ls(gt,320,Ee,it)),me<E.Ub-1&&(r(Ge[et].y,0,ve,je+480,16),r(Ge[et].f,0,ke,De+224,8),r(Ge[et].ea,0,Ve,lt+224,8)),Z=8*ge*E.B,Ge=E.sa,et=E.ta+16*re+16*ge*E.R,gt=E.qa,Ee=E.ra+8*re+Z,it=E.Ha,jt=E.Ia+8*re+Z,Z=0;16>Z;++Z)r(Ge,et+Z*E.R,ve,je+32*Z,16);for(Z=0;8>Z;++Z)r(gt,Ee+Z*E.B,ke,De+32*Z,8),r(it,jt+Z*E.B,Ve,lt+32*Z,8)}}function mu(E,B,Z,re,me,ge,ve,je,ke){var De=[0],Ve=[0],lt=0,Ee=ke!=null?ke.kd:0,Ge=ke??new At;if(E==null||12>Z)return 7;Ge.data=E,Ge.w=B,Ge.ha=Z,B=[B],Z=[Z],Ge.gb=[Ge.gb];e:{var et=B,gt=Z,it=Ge.gb;if(t(E!=null),t(gt!=null),t(it!=null),it[0]=0,12<=gt[0]&&!a(E,et[0],"RIFF")){if(a(E,et[0]+8,"WEBP")){it=3;break e}var jt=he(E,et[0]+4);if(12>jt||4294967286<jt){it=3;break e}if(Ee&&jt>gt[0]-8){it=7;break e}it[0]=jt,et[0]+=12,gt[0]-=12}it=0}if(it!=0)return it;for(jt=0<Ge.gb[0],Z=Z[0];;){e:{var wt=E;gt=B,it=Z;var It=De,Pt=Ve,xa=et=[0];if((ia=lt=[lt])[0]=0,8>it[0])it=7;else{if(!a(wt,gt[0],"VP8X")){if(he(wt,gt[0]+4)!=10){it=3;break e}if(18>it[0]){it=7;break e}var sa=he(wt,gt[0]+8),Ba=1+xe(wt,gt[0]+12);if(2147483648<=Ba*(wt=1+xe(wt,gt[0]+15))){it=3;break e}xa!=null&&(xa[0]=sa),It!=null&&(It[0]=Ba),Pt!=null&&(Pt[0]=wt),gt[0]+=18,it[0]-=18,ia[0]=1}it=0}}if(lt=lt[0],et=et[0],it!=0)return it;if(gt=!!(2&et),!jt&&lt)return 3;if(ge!=null&&(ge[0]=!!(16&et)),ve!=null&&(ve[0]=gt),je!=null&&(je[0]=0),ve=De[0],et=Ve[0],lt&&gt&&ke==null){it=0;break}if(4>Z){it=7;break}if(jt&&lt||!jt&&!lt&&!a(E,B[0],"ALPH")){Z=[Z],Ge.na=[Ge.na],Ge.P=[Ge.P],Ge.Sa=[Ge.Sa];e:{sa=E,it=B,jt=Z;var ia=Ge.gb;It=Ge.na,Pt=Ge.P,xa=Ge.Sa,Ba=22,t(sa!=null),t(jt!=null),wt=it[0];var ns=jt[0];for(t(It!=null),t(xa!=null),It[0]=null,Pt[0]=null,xa[0]=0;;){if(it[0]=wt,jt[0]=ns,8>ns){it=7;break e}var Zr=he(sa,wt+4);if(4294967286<Zr){it=3;break e}var La=8+Zr+1&-2;if(Ba+=La,0<ia&&Ba>ia){it=3;break e}if(!a(sa,wt,"VP8 ")||!a(sa,wt,"VP8L")){it=0;break e}if(ns[0]<La){it=7;break e}a(sa,wt,"ALPH")||(It[0]=sa,Pt[0]=wt+8,xa[0]=Zr),wt+=La,ns-=La}}if(Z=Z[0],Ge.na=Ge.na[0],Ge.P=Ge.P[0],Ge.Sa=Ge.Sa[0],it!=0)break}Z=[Z],Ge.Ja=[Ge.Ja],Ge.xa=[Ge.xa];e:if(ia=E,it=B,jt=Z,It=Ge.gb[0],Pt=Ge.Ja,xa=Ge.xa,sa=it[0],wt=!a(ia,sa,"VP8 "),Ba=!a(ia,sa,"VP8L"),t(ia!=null),t(jt!=null),t(Pt!=null),t(xa!=null),8>jt[0])it=7;else{if(wt||Ba){if(ia=he(ia,sa+4),12<=It&&ia>It-12){it=3;break e}if(Ee&&ia>jt[0]-8){it=7;break e}Pt[0]=ia,it[0]+=8,jt[0]-=8,xa[0]=Ba}else xa[0]=5<=jt[0]&&ia[sa+0]==47&&!(ia[sa+4]>>5),Pt[0]=jt[0];it=0}if(Z=Z[0],Ge.Ja=Ge.Ja[0],Ge.xa=Ge.xa[0],B=B[0],it!=0)break;if(4294967286<Ge.Ja)return 3;if(je==null||gt||(je[0]=Ge.xa?2:1),ve=[ve],et=[et],Ge.xa){if(5>Z){it=7;break}je=ve,Ee=et,gt=ge,E==null||5>Z?E=0:5<=Z&&E[B+0]==47&&!(E[B+4]>>5)?(jt=[0],ia=[0],It=[0],te(Pt=new G,E,B,Z),cs(Pt,jt,ia,It)?(je!=null&&(je[0]=jt[0]),Ee!=null&&(Ee[0]=ia[0]),gt!=null&&(gt[0]=It[0]),E=1):E=0):E=0}else{if(10>Z){it=7;break}je=et,E==null||10>Z||!vd(E,B+3,Z-3)?E=0:(Ee=E[B+0]|E[B+1]<<8|E[B+2]<<16,gt=16383&(E[B+7]<<8|E[B+6]),E=16383&(E[B+9]<<8|E[B+8]),1&Ee||3<(Ee>>1&7)||!(Ee>>4&1)||Ee>>5>=Ge.Ja||!gt||!E?E=0:(ve&&(ve[0]=gt),je&&(je[0]=E),E=1))}if(!E||(ve=ve[0],et=et[0],lt&&(De[0]!=ve||Ve[0]!=et)))return 3;ke!=null&&(ke[0]=Ge,ke.offset=B-ke.w,t(4294967286>B-ke.w),t(ke.offset==ke.ha-Z));break}return it==0||it==7&&lt&&ke==null?(ge!=null&&(ge[0]|=Ge.na!=null&&0<Ge.na.length),re!=null&&(re[0]=ve),me!=null&&(me[0]=et),0):it}function _d(E,B,Z){var re=B.width,me=B.height,ge=0,ve=0,je=re,ke=me;if(B.Da=E!=null&&0<E.Da,B.Da&&(je=E.cd,ke=E.bd,ge=E.v,ve=E.j,11>Z||(ge&=-2,ve&=-2),0>ge||0>ve||0>=je||0>=ke||ge+je>re||ve+ke>me))return 0;if(B.v=ge,B.j=ve,B.va=ge+je,B.o=ve+ke,B.U=je,B.T=ke,B.da=E!=null&&0<E.da,B.da){if(!Ce(je,ke,Z=[E.ib],ge=[E.hb]))return 0;B.ib=Z[0],B.hb=ge[0]}return B.ob=E!=null&&E.ob,B.Kb=E==null||!E.Sd,B.da&&(B.ob=B.ib<3*re/4&&B.hb<3*me/4,B.Kb=0),1}function Dh(E){if(E==null)return 2;if(11>E.S){var B=E.f.RGBA;B.fb+=(E.height-1)*B.A,B.A=-B.A}else B=E.f.kb,E=E.height,B.O+=(E-1)*B.fa,B.fa=-B.fa,B.N+=(E-1>>1)*B.Ab,B.Ab=-B.Ab,B.W+=(E-1>>1)*B.Db,B.Db=-B.Db,B.F!=null&&(B.J+=(E-1)*B.lb,B.lb=-B.lb);return 0}function Mc(E,B,Z,re){if(re==null||0>=E||0>=B)return 2;if(Z!=null){if(Z.Da){var me=Z.cd,ge=Z.bd,ve=-2&Z.v,je=-2&Z.j;if(0>ve||0>je||0>=me||0>=ge||ve+me>E||je+ge>B)return 2;E=me,B=ge}if(Z.da){if(!Ce(E,B,me=[Z.ib],ge=[Z.hb]))return 2;E=me[0],B=ge[0]}}re.width=E,re.height=B;e:{var ke=re.width,De=re.height;if(E=re.S,0>=ke||0>=De||!(E>=hi&&13>E))E=2;else{if(0>=re.Rd&&re.sd==null){ve=ge=me=B=0;var Ve=(je=ke*_b[E])*De;if(11>E||(ge=(De+1)/2*(B=(ke+1)/2),E==12&&(ve=(me=ke)*De)),(De=i(Ve+2*ge+ve))==null){E=1;break e}re.sd=De,11>E?((ke=re.f.RGBA).eb=De,ke.fb=0,ke.A=je,ke.size=Ve):((ke=re.f.kb).y=De,ke.O=0,ke.fa=je,ke.Fd=Ve,ke.f=De,ke.N=0+Ve,ke.Ab=B,ke.Cd=ge,ke.ea=De,ke.W=0+Ve+ge,ke.Db=B,ke.Ed=ge,E==12&&(ke.F=De,ke.J=0+Ve+2*ge),ke.Tc=ve,ke.lb=me)}if(B=1,me=re.S,ge=re.width,ve=re.height,me>=hi&&13>me)if(11>me)E=re.f.RGBA,B&=(je=Math.abs(E.A))*(ve-1)+ge<=E.size,B&=je>=ge*_b[me],B&=E.eb!=null;else{E=re.f.kb,je=(ge+1)/2,Ve=(ve+1)/2,ke=Math.abs(E.fa),De=Math.abs(E.Ab);var lt=Math.abs(E.Db),Ee=Math.abs(E.lb),Ge=Ee*(ve-1)+ge;B&=ke*(ve-1)+ge<=E.Fd,B&=De*(Ve-1)+je<=E.Cd,B=(B&=lt*(Ve-1)+je<=E.Ed)&ke>=ge&De>=je&lt>=je,B&=E.y!=null,B&=E.f!=null,B&=E.ea!=null,me==12&&(B&=Ee>=ge,B&=Ge<=E.Tc,B&=E.F!=null)}else B=0;E=B?0:2}}return E!=0||Z!=null&&Z.fd&&(E=Dh(re)),E}var Pc=64,Ti=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],qi=24,Lc=32,Vo=8,Td=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];we("Predictor0","PredictorAdd0"),U.Predictor0=function(){return 4278190080},U.Predictor1=function(E){return E},U.Predictor2=function(E,B,Z){return B[Z+0]},U.Predictor3=function(E,B,Z){return B[Z+1]},U.Predictor4=function(E,B,Z){return B[Z-1]},U.Predictor5=function(E,B,Z){return Be(Be(E,B[Z+1]),B[Z+0])},U.Predictor6=function(E,B,Z){return Be(E,B[Z-1])},U.Predictor7=function(E,B,Z){return Be(E,B[Z+0])},U.Predictor8=function(E,B,Z){return Be(B[Z-1],B[Z+0])},U.Predictor9=function(E,B,Z){return Be(B[Z+0],B[Z+1])},U.Predictor10=function(E,B,Z){return Be(Be(E,B[Z-1]),Be(B[Z+0],B[Z+1]))},U.Predictor11=function(E,B,Z){var re=B[Z+0];return 0>=Ue(re>>24&255,E>>24&255,(B=B[Z-1])>>24&255)+Ue(re>>16&255,E>>16&255,B>>16&255)+Ue(re>>8&255,E>>8&255,B>>8&255)+Ue(255&re,255&E,255&B)?re:E},U.Predictor12=function(E,B,Z){var re=B[Z+0];return(ft((E>>24&255)+(re>>24&255)-((B=B[Z-1])>>24&255))<<24|ft((E>>16&255)+(re>>16&255)-(B>>16&255))<<16|ft((E>>8&255)+(re>>8&255)-(B>>8&255))<<8|ft((255&E)+(255&re)-(255&B)))>>>0},U.Predictor13=function(E,B,Z){var re=B[Z-1];return(Ke((E=Be(E,B[Z+0]))>>24&255,re>>24&255)<<24|Ke(E>>16&255,re>>16&255)<<16|Ke(E>>8&255,re>>8&255)<<8|Ke(255&E,255&re))>>>0};var t0=U.PredictorAdd0;U.PredictorAdd1=tt,we("Predictor2","PredictorAdd2"),we("Predictor3","PredictorAdd3"),we("Predictor4","PredictorAdd4"),we("Predictor5","PredictorAdd5"),we("Predictor6","PredictorAdd6"),we("Predictor7","PredictorAdd7"),we("Predictor8","PredictorAdd8"),we("Predictor9","PredictorAdd9"),we("Predictor10","PredictorAdd10"),we("Predictor11","PredictorAdd11"),we("Predictor12","PredictorAdd12"),we("Predictor13","PredictorAdd13");var Mh=U.PredictorAdd2;kt("ColorIndexInverseTransform","MapARGB","32b",function(E){return E>>8&255},function(E){return E}),kt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(E){return E},function(E){return E>>8&255});var zr,Gm=U.ColorIndexInverseTransform,Sr=U.MapARGB,Gi=U.VP8LColorIndexInverseTransformAlpha,Ph=U.MapAlpha,Lh=U.VP8LPredictorsAdd=[];Lh.length=16,(U.VP8LPredictors=[]).length=16,(U.VP8LPredictorsAdd_C=[]).length=16,(U.VP8LPredictors_C=[]).length=16;var Oh,Rh,Wo,Ed,yl,Oc,zl,Rc,wl,ui,ds,Ls,Cr,sr,qo,Fh,pu,Km,wb,jb,Hx,Vx,Ym,Hl,Ih,jl,Nl,xu,Xm=i(511),a0=i(2041),s0=i(225),Jm=i(767),gu=0,Qm=a0,vu=s0,Mn=Jm,Vl=Xm,hi=0,Bh=1,Go=2,r0=3,bu=4,Fc=5,Zm=6,n0=7,Dd=8,Ic=9,$h=10,ep=[2,3,7],Wl=[3,3,11],kl=[280,256,256,256,40],yu=[0,1,1,1,0],Bc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$c=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],wu=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Nb=8,i0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],l0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],hn=null,Ar=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ss=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Md=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ko=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Wx=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ju=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],kb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Uc=[],Ei=[],Sl=[],Sb=1,Uh=2,Yo=[],Pn=[];Wi("UpsampleRgbLinePair",kd,3),Wi("UpsampleBgrLinePair",Sd,3),Wi("UpsampleRgbaLinePair",e0,4),Wi("UpsampleBgraLinePair",Zf,4),Wi("UpsampleArgbLinePair",Ul,4),Wi("UpsampleRgba4444LinePair",Cd,2),Wi("UpsampleRgb565LinePair",qn,2);var zc=U.UpsampleRgbLinePair,Pd=U.UpsampleBgrLinePair,Xo=U.UpsampleRgbaLinePair,tp=U.UpsampleBgraLinePair,ap=U.UpsampleArgbLinePair,zh=U.UpsampleRgba4444LinePair,sp=U.UpsampleRgb565LinePair,Jo=16,fn=1<<Jo-1,Ld=-227,rp=482,ZN=6,Cb=0,e4=i(256),mn=i(256),qx=i(256),o0=i(256),c0=i(rp-Ld),Gx=i(rp-Ld);Ho("YuvToRgbRow",kd,3),Ho("YuvToBgrRow",Sd,3),Ho("YuvToRgbaRow",e0,4),Ho("YuvToBgraRow",Zf,4),Ho("YuvToArgbRow",Ul,4),Ho("YuvToRgba4444Row",Cd,2),Ho("YuvToRgb565Row",qn,2);var Nu=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Hc=[0,2,8],t4=[8,7,6,4,4,2,2,2,1,1,1,1],Ab=1;this.WebPDecodeRGBA=function(E,B,Z,re,me){var ge=Bh,ve=new Ze,je=new Ca;ve.ba=je,je.S=ge,je.width=[je.width],je.height=[je.height];var ke=je.width,De=je.height,Ve=new la;if(Ve==null||E==null)var lt=2;else t(Ve!=null),lt=mu(E,B,Z,Ve.width,Ve.height,Ve.Pd,Ve.Qd,Ve.format,null);if(lt!=0?ke=0:(ke!=null&&(ke[0]=Ve.width[0]),De!=null&&(De[0]=Ve.height[0]),ke=1),ke){je.width=je.width[0],je.height=je.height[0],re!=null&&(re[0]=je.width),me!=null&&(me[0]=je.height);e:{if(re=new ks,(me=new At).data=E,me.w=B,me.ha=Z,me.kd=1,B=[0],t(me!=null),((E=mu(me.data,me.w,me.ha,null,null,null,B,null,me))==0||E==7)&&B[0]&&(E=4),(B=E)==0){if(t(ve!=null),re.data=me.data,re.w=me.w+me.offset,re.ha=me.ha-me.offset,re.put=ra,re.ac=St,re.bc=Fs,re.ma=ve,me.xa){if((E=Ye())==null){ve=1;break e}if((function(Ee,Ge){var et=[0],gt=[0],it=[0];t:for(;;){if(Ee==null)return 0;if(Ge==null)return Ee.a=2,0;if(Ee.l=Ge,Ee.a=0,te(Ee.m,Ge.data,Ge.w,Ge.ha),!cs(Ee.m,et,gt,it)){Ee.a=3;break t}if(Ee.xb=Uh,Ge.width=et[0],Ge.height=gt[0],!at(et[0],gt[0],1,Ee,null))break t;return 1}return t(Ee.a!=0),0})(E,re)){if(re=(B=Mc(re.width,re.height,ve.Oa,ve.ba))==0){t:{re=E;a:for(;;){if(re==null){re=0;break t}if(t(re.s.yc!=null),t(re.s.Ya!=null),t(0<re.s.Wb),t((Z=re.l)!=null),t((me=Z.ma)!=null),re.xb!=0){if(re.ca=me.ba,re.tb=me.tb,t(re.ca!=null),!_d(me.Oa,Z,r0)){re.a=2;break a}if(!st(re,Z.width)||Z.da)break a;if((Z.da||Yt(re.ca.S))&&$l(),11>re.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),re.ca.f.kb.F!=null&&$l()),re.Pb&&0<re.s.ua&&re.s.vb.X==null&&!ue(re.s.vb,re.s.Wa.Xa)){re.a=1;break a}re.xb=0}if(!Xe(re,re.V,re.Ba,re.c,re.i,Z.o,ye))break a;me.Dc=re.Ma,re=1;break t}t(re.a!=0),re=0}re=!re}re&&(B=E.a)}else B=E.a}else{if((E=new Ah)==null){ve=1;break e}if(E.Fa=me.na,E.P=me.P,E.qc=me.Sa,ou(E,re)){if((B=Mc(re.width,re.height,ve.Oa,ve.ba))==0){if(E.Aa=0,Z=ve.Oa,t((me=E)!=null),Z!=null){if(0<(ke=0>(ke=Z.Md)?0:100<ke?255:255*ke/100)){for(De=Ve=0;4>De;++De)12>(lt=me.pb[De]).lc&&(lt.ia=ke*t4[0>lt.lc?0:lt.lc]>>3),Ve|=lt.ia;Ve&&(alert("todo:VP8InitRandom"),me.ia=1)}me.Ga=Z.Id,100<me.Ga?me.Ga=100:0>me.Ga&&(me.Ga=0)}(function(Ee,Ge){if(Ee==null)return 0;if(Ge==null)return bs(Ee,2,"NULL VP8Io parameter in VP8Decode().");if(!Ee.cb&&!ou(Ee,Ge))return 0;if(t(Ee.cb),Ge.ac==null||Ge.ac(Ge)){Ge.ob&&(Ee.L=0);var et=Hc[Ee.L];if(Ee.L==2?(Ee.yb=0,Ee.zb=0):(Ee.yb=Ge.v-et>>4,Ee.zb=Ge.j-et>>4,0>Ee.yb&&(Ee.yb=0),0>Ee.zb&&(Ee.zb=0)),Ee.Va=Ge.o+15+et>>4,Ee.Hb=Ge.va+15+et>>4,Ee.Hb>Ee.za&&(Ee.Hb=Ee.za),Ee.Va>Ee.Ub&&(Ee.Va=Ee.Ub),0<Ee.L){var gt=Ee.ed;for(et=0;4>et;++et){var it;if(Ee.Qa.Cb){var jt=Ee.Qa.Lb[et];Ee.Qa.Fb||(jt+=gt.Tb)}else jt=gt.Tb;for(it=0;1>=it;++it){var wt=Ee.gd[et][it],It=jt;if(gt.Pc&&(It+=gt.vd[0],it&&(It+=gt.od[0])),0<(It=0>It?0:63<It?63:It)){var Pt=It;0<gt.wb&&(Pt=4<gt.wb?Pt>>2:Pt>>1)>9-gt.wb&&(Pt=9-gt.wb),1>Pt&&(Pt=1),wt.dd=Pt,wt.tc=2*It+Pt,wt.ld=40<=It?2:15<=It?1:0}else wt.tc=0;wt.La=it}}}et=0}else bs(Ee,6,"Frame setup failed"),et=Ee.a;if(et=et==0){if(et){Ee.$c=0,0<Ee.Aa||(Ee.Ic=Ab);t:{et=Ee.Ic,gt=4*(Pt=Ee.za);var xa=32*Pt,sa=Pt+1,Ba=0<Ee.L?Pt*(0<Ee.Aa?2:1):0,ia=(Ee.Aa==2?2:1)*Pt;if((wt=gt+832+(it=3*(16*et+Hc[Ee.L])/2*xa)+(jt=Ee.Fa!=null&&0<Ee.Fa.length?Ee.Kc.c*Ee.Kc.i:0))!=wt)et=0;else{if(wt>Ee.Vb){if(Ee.Vb=0,Ee.Ec=i(wt),Ee.Fc=0,Ee.Ec==null){et=bs(Ee,1,"no memory during frame initialization.");break t}Ee.Vb=wt}wt=Ee.Ec,It=Ee.Fc,Ee.Ac=wt,Ee.Bc=It,It+=gt,Ee.Gd=l(xa,Ur),Ee.Hd=0,Ee.rb=l(sa+1,yt),Ee.sb=1,Ee.wa=Ba?l(Ba,Pe):null,Ee.Y=0,Ee.D.Nb=0,Ee.D.wa=Ee.wa,Ee.D.Y=Ee.Y,0<Ee.Aa&&(Ee.D.Y+=Pt),t(!0),Ee.oc=wt,Ee.pc=It,It+=832,Ee.ya=l(ia,za),Ee.aa=0,Ee.D.ya=Ee.ya,Ee.D.aa=Ee.aa,Ee.Aa==2&&(Ee.D.aa+=Pt),Ee.R=16*Pt,Ee.B=8*Pt,Pt=(xa=Hc[Ee.L])*Ee.R,xa=xa/2*Ee.B,Ee.sa=wt,Ee.ta=It+Pt,Ee.qa=Ee.sa,Ee.ra=Ee.ta+16*et*Ee.R+xa,Ee.Ha=Ee.qa,Ee.Ia=Ee.ra+8*et*Ee.B+xa,Ee.$c=0,It+=it,Ee.mb=jt?wt:null,Ee.nb=jt?It:null,t(It+jt<=Ee.Fc+Ee.Vb),uo(Ee),n(Ee.Ac,Ee.Bc,0,gt),et=1}}if(et){if(Ge.ka=0,Ge.y=Ee.sa,Ge.O=Ee.ta,Ge.f=Ee.qa,Ge.N=Ee.ra,Ge.ea=Ee.Ha,Ge.Vd=Ee.Ia,Ge.fa=Ee.R,Ge.Rc=Ee.B,Ge.F=null,Ge.J=0,!gu){for(et=-255;255>=et;++et)Xm[255+et]=0>et?-et:et;for(et=-1020;1020>=et;++et)a0[1020+et]=-128>et?-128:127<et?127:et;for(et=-112;112>=et;++et)s0[112+et]=-16>et?-16:15<et?15:et;for(et=-255;510>=et;++et)Jm[255+et]=0>et?0:255<et?255:et;gu=1}zl=Hn,Rc=cu,ui=Uo,ds=gl,Ls=bd,wl=_h,Cr=Eh,sr=Vm,qo=Y,Fh=fe,pu=hu,Km=Wm,wb=Me,jb=He,Hx=Tc,Vx=zo,Ym=Qf,Hl=Hm,Ei[0]=bl,Ei[1]=Il,Ei[2]=Vn,Ei[3]=mr,Ei[4]=ys,Ei[5]=cr,Ei[6]=ps,Ei[7]=Dn,Ei[8]=Ai,Ei[9]=ho,Uc[0]=ts,Uc[1]=Oe,Uc[2]=vt,Uc[3]=ta,Uc[4]=or,Uc[5]=Bs,Uc[6]=fr,Sl[0]=fo,Sl[1]=Th,Sl[2]=Bl,Sl[3]=ci,Sl[4]=Vi,Sl[5]=Xr,Sl[6]=mo,et=1}else et=0}et&&(et=(function(ns,Zr){for(ns.M=0;ns.M<ns.Va;++ns.M){var La,oa=ns.Jc[ns.M&ns.Xb],Zt=ns.m,xr=ns;for(La=0;La<xr.za;++La){var $a=Zt,Ya=xr,da=Ya.Ac,Va=Ya.Bc+4*La,xs=Ya.zc,rr=Ya.ya[Ya.aa+La];if(Ya.Qa.Bb?rr.$b=le($a,Ya.Pa.jb[0])?2+le($a,Ya.Pa.jb[2]):le($a,Ya.Pa.jb[1]):rr.$b=0,Ya.kc&&(rr.Ad=le($a,Ya.Bd)),rr.Za=!le($a,145)+0,rr.Za){var Hr=rr.Ob,Vr=0;for(Ya=0;4>Ya;++Ya){var _r,ss=xs[0+Ya];for(_r=0;4>_r;++_r){ss=Wx[da[Va+_r]][ss];for(var gs=Md[le($a,ss[0])];0<gs;)gs=Md[2*gs+le($a,ss[gs])];ss=-gs,da[Va+_r]=ss}r(Hr,Vr,da,Va,4),Vr+=4,xs[0+Ya]=ss}}else ss=le($a,156)?le($a,128)?1:3:le($a,163)?2:0,rr.Ob[0]=ss,n(da,Va,ss,4),n(xs,0,ss,4);rr.Dd=le($a,142)?le($a,114)?le($a,183)?1:3:2:0}if(xr.m.Ka)return bs(ns,7,"Premature end-of-partition0 encountered.");for(;ns.ja<ns.za;++ns.ja){if(xr=oa,$a=(Zt=ns).rb[Zt.sb-1],da=Zt.rb[Zt.sb+Zt.ja],La=Zt.ya[Zt.aa+Zt.ja],Va=Zt.kc?La.Ad:0)$a.la=da.la=0,La.Za||($a.Na=da.Na=0),La.Hc=0,La.Gc=0,La.ia=0;else{var Tr,_a;if($a=da,da=xr,Va=Zt.Pa.Xc,xs=Zt.ya[Zt.aa+Zt.ja],rr=Zt.pb[xs.$b],Ya=xs.ad,Hr=0,Vr=Zt.rb[Zt.sb-1],ss=_r=0,n(Ya,Hr,0,384),xs.Za)var pn=0,Cl=Va[3];else{gs=i(16);var Er=$a.Na+Vr.Na;if(Er=hn(da,Va[1],Er,rr.Eb,0,gs,0),$a.Na=Vr.Na=(0<Er)+0,1<Er)zl(gs,0,Ya,Hr);else{var Di=gs[0]+3>>3;for(gs=0;256>gs;gs+=16)Ya[Hr+gs]=Di}pn=1,Cl=Va[0]}var $s=15&$a.la,Wr=15&Vr.la;for(gs=0;4>gs;++gs){var Mi=1&Wr;for(Di=_a=0;4>Di;++Di)$s=$s>>1|(Mi=(Er=hn(da,Cl,Er=Mi+(1&$s),rr.Sc,pn,Ya,Hr))>pn)<<7,_a=_a<<2|(3<Er?3:1<Er?2:Ya[Hr+0]!=0),Hr+=16;$s>>=4,Wr=Wr>>1|Mi<<7,_r=(_r<<8|_a)>>>0}for(Cl=$s,pn=Wr>>4,Tr=0;4>Tr;Tr+=2){for(_a=0,$s=$a.la>>4+Tr,Wr=Vr.la>>4+Tr,gs=0;2>gs;++gs){for(Mi=1&Wr,Di=0;2>Di;++Di)Er=Mi+(1&$s),$s=$s>>1|(Mi=0<(Er=hn(da,Va[2],Er,rr.Qc,0,Ya,Hr)))<<3,_a=_a<<2|(3<Er?3:1<Er?2:Ya[Hr+0]!=0),Hr+=16;$s>>=2,Wr=Wr>>1|Mi<<5}ss|=_a<<4*Tr,Cl|=$s<<4<<Tr,pn|=(240&Wr)<<Tr}$a.la=Cl,Vr.la=pn,xs.Hc=_r,xs.Gc=ss,xs.ia=43690&ss?0:rr.ia,Va=!(_r|ss)}if(0<Zt.L&&(Zt.wa[Zt.Y+Zt.ja]=Zt.gd[La.$b][La.Za],Zt.wa[Zt.Y+Zt.ja].La|=!Va),xr.Ka)return bs(ns,7,"Premature end-of-file encountered.")}if(uo(ns),Zt=Zr,xr=1,La=(oa=ns).D,$a=0<oa.L&&oa.M>=oa.zb&&oa.M<=oa.Va,oa.Aa==0)t:{if(La.M=oa.M,La.uc=$a,di(oa,La),xr=1,La=(_a=oa.D).Nb,$a=(ss=Hc[oa.L])*oa.R,da=ss/2*oa.B,gs=16*La*oa.R,Di=8*La*oa.B,Va=oa.sa,xs=oa.ta-$a+gs,rr=oa.qa,Ya=oa.ra-da+Di,Hr=oa.Ha,Vr=oa.Ia-da+Di,Wr=($s=_a.M)==0,_r=$s>=oa.Va-1,oa.Aa==2&&di(oa,_a),_a.uc)for(Mi=(Er=oa).D.M,t(Er.D.uc),_a=Er.yb;_a<Er.Hb;++_a){pn=_a,Cl=Mi;var Gn=(Js=(gn=Er).D).Nb;Tr=gn.R;var Js=Js.wa[Js.Y+pn],js=gn.sa,fi=gn.ta+16*Gn*Tr+16*pn,Kn=Js.dd,Os=Js.tc;if(Os!=0)if(t(3<=Os),gn.L==1)0<pn&&Vx(js,fi,Tr,Os+4),Js.La&&Hl(js,fi,Tr,Os),0<Cl&&Hx(js,fi,Tr,Os+4),Js.La&&Ym(js,fi,Tr,Os);else{var Pi=gn.B,xn=gn.qa,Qo=gn.ra+8*Gn*Pi+8*pn,go=gn.Ha,gn=gn.Ia+8*Gn*Pi+8*pn;Gn=Js.ld,0<pn&&(sr(js,fi,Tr,Os+4,Kn,Gn),Fh(xn,Qo,go,gn,Pi,Os+4,Kn,Gn)),Js.La&&(Km(js,fi,Tr,Os,Kn,Gn),jb(xn,Qo,go,gn,Pi,Os,Kn,Gn)),0<Cl&&(Cr(js,fi,Tr,Os+4,Kn,Gn),qo(xn,Qo,go,gn,Pi,Os+4,Kn,Gn)),Js.La&&(pu(js,fi,Tr,Os,Kn,Gn),wb(xn,Qo,go,gn,Pi,Os,Kn,Gn))}}if(oa.ia&&alert("todo:DitherRow"),Zt.put!=null){if(_a=16*$s,$s=16*($s+1),Wr?(Zt.y=oa.sa,Zt.O=oa.ta+gs,Zt.f=oa.qa,Zt.N=oa.ra+Di,Zt.ea=oa.Ha,Zt.W=oa.Ia+Di):(_a-=ss,Zt.y=Va,Zt.O=xs,Zt.f=rr,Zt.N=Ya,Zt.ea=Hr,Zt.W=Vr),_r||($s-=ss),$s>Zt.o&&($s=Zt.o),Zt.F=null,Zt.J=null,oa.Fa!=null&&0<oa.Fa.length&&_a<$s&&(Zt.J=Jr(oa,Zt,_a,$s-_a),Zt.F=oa.mb,Zt.F==null&&Zt.F.length==0)){xr=bs(oa,3,"Could not decode alpha data.");break t}_a<Zt.j&&(ss=Zt.j-_a,_a=Zt.j,t(!(1&ss)),Zt.O+=oa.R*ss,Zt.N+=oa.B*(ss>>1),Zt.W+=oa.B*(ss>>1),Zt.F!=null&&(Zt.J+=Zt.width*ss)),_a<$s&&(Zt.O+=Zt.v,Zt.N+=Zt.v>>1,Zt.W+=Zt.v>>1,Zt.F!=null&&(Zt.J+=Zt.v),Zt.ka=_a-Zt.j,Zt.U=Zt.va-Zt.v,Zt.T=$s-_a,xr=Zt.put(Zt))}La+1!=oa.Ic||_r||(r(oa.sa,oa.ta-$a,Va,xs+16*oa.R,$a),r(oa.qa,oa.ra-da,rr,Ya+8*oa.B,da),r(oa.Ha,oa.Ia-da,Hr,Vr+8*oa.B,da))}if(!xr)return bs(ns,6,"Output aborted.")}return 1})(Ee,Ge)),Ge.bc!=null&&Ge.bc(Ge),et&=1}return et?(Ee.cb=0,et):0})(E,re)||(B=E.a)}}else B=E.a}B==0&&ve.Oa!=null&&ve.Oa.fd&&(B=Dh(ve.ba))}ve=B}ge=ve!=0?null:11>ge?je.f.RGBA.eb:je.f.kb.y}else ge=null;return ge};var _b=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(U,z){for(var T="",F=0;F<4;F++)T+=String.fromCharCode(U[z++]);return T}function u(U,z){return U[z+0]|U[z+1]<<8}function f(U,z){return(U[z+0]|U[z+1]<<8|U[z+2]<<16)>>>0}function p(U,z){return(U[z+0]|U[z+1]<<8|U[z+2]<<16|U[z+3]<<24)>>>0}new c;var m=[0],v=[0],g=[],b=new c,j=e,N=(function(U,z){var T={},F=0,M=!1,I=0,W=0;if(T.frames=[],!(function(D,G){for(var H=0;H<4;H++)if(D[G+H]!="RIFF".charCodeAt(H))return!0;return!1})(U,z)){for(p(U,z+=4),z+=8;z<U.length;){var R=d(U,z),q=p(U,z+=4);z+=4;var ae=q+(1&q);switch(R){case"VP8 ":case"VP8L":T.frames[F]===void 0&&(T.frames[F]={}),(oe=T.frames[F]).src_off=M?W:z-8,oe.src_size=I+q+8,F++,M&&(M=!1,I=0,W=0);break;case"VP8X":(oe=T.header={}).feature_flags=U[z];var te=z+4;oe.canvas_width=1+f(U,te),te+=3,oe.canvas_height=1+f(U,te),te+=3;break;case"ALPH":M=!0,I=ae+8,W=z-8;break;case"ANIM":(oe=T.header).bgcolor=p(U,z),te=z+4,oe.loop_count=u(U,te),te+=2;break;case"ANMF":var K,oe;(oe=T.frames[F]={}).offset_x=2*f(U,z),z+=3,oe.offset_y=2*f(U,z),z+=3,oe.width=1+f(U,z),z+=3,oe.height=1+f(U,z),z+=3,oe.duration=f(U,z),z+=3,K=U[z++],oe.dispose=1&K,oe.blend=K>>1&1}R!="ANMF"&&(z+=ae)}return T}})(j,0);N.response=j,N.rgbaoutput=!0,N.dataurl=!1;var k=N.header?N.header:null,S=N.frames?N.frames:null;if(k){k.loop_counter=k.loop_count,m=[k.canvas_height],v=[k.canvas_width];for(var C=0;C<S.length&&S[C].blend!=0;C++);}var _=S[0],P=b.WebPDecodeRGBA(j,_.src_off,_.src_size,v,m);_.rgba=P,_.imgwidth=v[0],_.imgheight=m[0];for(var L=0;L<v[0]*m[0]*4;L++)g[L]=P[L];return this.width=v,this.height=m,this.data=g,this}(function(e){var t,a,r,n,i,l,o,c,d,u=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new c,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new l,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new l,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,a=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,l=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var f=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=D;Object.defineProperty(this,"pdf",{get:function(){return G}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(he){H=!!he}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(he){X=!!he}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(he){isNaN(he)||(se=he)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(he){isNaN(he)||(ie=he)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(he){var ue;typeof he=="number"?ue=[he,he,he,he]:((ue=new Array(4))[0]=he[0],ue[1]=he.length>=2?he[1]:ue[0],ue[2]=he.length>=3?he[2]:ue[0],ue[3]=he.length>=4?he[3]:ue[1]),d.margin=ue}});var ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ne},set:function(he){ne=he}});var J=0;Object.defineProperty(this,"lastBreak",{get:function(){return J},set:function(he){J=he}});var le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return le},set:function(he){le=he}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(he){he instanceof u&&(d=he)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(he){d.path=he}});var pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return pe},set:function(he){pe=he}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(he){var ue;ue=p(he),this.ctx.fillStyle=ue.style,this.ctx.isFillTransparent=ue.a===0,this.ctx.fillOpacity=ue.a,this.pdf.setFillColor(ue.r,ue.g,ue.b,{a:ue.a}),this.pdf.setTextColor(ue.r,ue.g,ue.b,{a:ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(he){var ue=p(he);this.ctx.strokeStyle=ue.style,this.ctx.isStrokeTransparent=ue.a===0,this.ctx.strokeOpacity=ue.a,ue.a===0?this.pdf.setDrawColor(255,255,255):(ue.a,this.pdf.setDrawColor(ue.r,ue.g,ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(he){["butt","round","square"].indexOf(he)!==-1&&(this.ctx.lineCap=he,this.pdf.setLineCap(he))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(he){isNaN(he)||(this.ctx.lineWidth=he,this.pdf.setLineWidth(he))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(he){["bevel","round","miter"].indexOf(he)!==-1&&(this.ctx.lineJoin=he,this.pdf.setLineJoin(he))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(he){isNaN(he)||(this.ctx.miterLimit=he,this.pdf.setMiterLimit(he))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(he){this.ctx.textBaseline=he}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(he){["right","end","center","left","start"].indexOf(he)!==-1&&(this.ctx.textAlign=he)}});var Q=null,xe=null;Object.defineProperty(this,"fontFaces",{get:function(){return xe},set:function(he){Q=null,xe=he}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(he){var ue;if(this.ctx.font=he,(ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(he))!==null){var Le=ue[1];ue[2];var ze=ue[3],Ce=ue[4];ue[5];var ce=ue[6],Ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ce)[2];Ce=Math.floor(Ie==="px"?parseFloat(Ce)*this.pdf.internal.scaleFactor:Ie==="em"?parseFloat(Ce)*this.pdf.getFontSize():parseFloat(Ce)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ce);var we=(function(pt){var kt,Ot,qt=[],Wt=pt.trim();if(Wt==="")return E3;if(Wt in IR)return[IR[Wt]];for(;Wt!=="";){switch(Ot=null,kt=(Wt=$R(Wt)).charAt(0)){case'"':case"'":Ot=jSe(Wt.substring(1),kt);break;default:Ot=NSe(Wt)}if(Ot===null||(qt.push(Ot[0]),(Wt=$R(Ot[1]))!==""&&Wt.charAt(0)!==","))return E3;Wt=Wt.replace(/^,/,"")}return qt})(ce);if(this.fontFaces){var $e=(function(pt,kt){if(Q===null){var Ot=(function(qt){var Wt=[];return Object.keys(qt).forEach(function(Te){qt[Te].forEach(function($t){var qe=null;switch($t){case"bold":qe={family:Te,weight:"bold"};break;case"italic":qe={family:Te,style:"italic"};break;case"bolditalic":qe={family:Te,weight:"bold",style:"italic"};break;case"":case"normal":qe={family:Te}}qe!==null&&(qe.ref={name:Te,style:$t},Wt.push(qe))})}),Wt})(pt.getFontList());Q=(function(qt){for(var Wt={},Te=0;Te<qt.length;++Te){var $t=T3(qt[Te]),qe=$t.family,Gt=$t.stretch,Yt=$t.style,ma=$t.weight;Wt[qe]=Wt[qe]||{},Wt[qe][Gt]=Wt[qe][Gt]||{},Wt[qe][Gt][Yt]=Wt[qe][Gt][Yt]||{},Wt[qe][Gt][Yt][ma]=$t}return Wt})(Ot.concat(kt))}return Q})(this.pdf,this.fontFaces),Be=we.map(function(pt){return{family:pt,stretch:"normal",weight:ze,style:Le}}),ft=(function(pt,kt,Ot){for(var qt=(Ot=Ot||{}).defaultFontFamily||"times",Wt=Object.assign({},wSe,Ot.genericFontFamilies||{}),Te=null,$t=null,qe=0;qe<kt.length;++qe)if(Wt[(Te=T3(kt[qe])).family]&&(Te.family=Wt[Te.family]),pt.hasOwnProperty(Te.family)){$t=pt[Te.family];break}if(!($t=$t||pt[qt]))throw new Error("Could not find a font-family for the rule '"+BR(Te)+"' and default family '"+qt+"'.");if($t=(function(Gt,Yt){if(Yt[Gt])return Yt[Gt];var ma=HC[Gt],Ia=ma<=HC.normal?-1:1,Ca=FR(Yt,TG,ma,Ia);if(!Ca)throw new Error("Could not find a matching font-stretch value for "+Gt);return Ca})(Te.stretch,$t),$t=(function(Gt,Yt){if(Yt[Gt])return Yt[Gt];for(var ma=_G[Gt],Ia=0;Ia<ma.length;++Ia)if(Yt[ma[Ia]])return Yt[ma[Ia]];throw new Error("Could not find a matching font-style for "+Gt)})(Te.style,$t),!($t=(function(Gt,Yt){if(Yt[Gt])return Yt[Gt];if(Gt===400&&Yt[500])return Yt[500];if(Gt===500&&Yt[400])return Yt[400];var ma=ySe[Gt],Ia=FR(Yt,EG,ma,Gt<400?-1:1);if(!Ia)throw new Error("Could not find a matching font-weight for value "+Gt);return Ia})(Te.weight,$t)))throw new Error("Failed to resolve a font for the rule '"+BR(Te)+"'.");return $t})($e,Be);this.pdf.setFont(ft.ref.name,ft.ref.style)}else{var Ke="";(ze==="bold"||parseInt(ze,10)>=700||Le==="bold")&&(Ke="bold"),Le==="italic"&&(Ke+="italic"),Ke.length===0&&(Ke="normal");for(var Ue="",tt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ct=0;ct<we.length;ct++){if(this.pdf.internal.getFont(we[ct],Ke,{noFallback:!0,disableWarning:!0})!==void 0){Ue=we[ct];break}if(Ke==="bolditalic"&&this.pdf.internal.getFont(we[ct],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ue=we[ct],Ke="bold";else if(this.pdf.internal.getFont(we[ct],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ue=we[ct],Ke="normal";break}}if(Ue===""){for(var Je=0;Je<we.length;Je++)if(tt[we[Je]]){Ue=tt[we[Je]];break}}Ue=Ue===""?"Times":Ue,this.pdf.setFont(Ue,Ke)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(he){this.ctx.globalCompositeOperation=he}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(he){this.ctx.globalAlpha=he}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(he){this.ctx.lineDashOffset=he,oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(he){this.ctx.lineDash=he,oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(he){this.ctx.ignoreClearRect=!!he}})};f.prototype.setLineDash=function(D){this.lineDash=D},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){S.call(this,"fill",!1)},f.prototype.stroke=function(){S.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(D,G){if(isNaN(D)||isNaN(G))throw ir.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new l(D,G));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new l(D,G)},f.prototype.closePath=function(){var D=new l(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&Gs(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){D=new l(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(D.x,D.y)},f.prototype.lineTo=function(D,G){if(isNaN(D)||isNaN(G))throw ir.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new l(D,G));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new l(H.x,H.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},f.prototype.quadraticCurveTo=function(D,G,H,X){if(isNaN(H)||isNaN(X)||isNaN(D)||isNaN(G))throw ir.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new l(H,X)),ie=this.ctx.transform.applyToPoint(new l(D,G));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:se.x,y:se.y}),this.ctx.lastPoint=new l(se.x,se.y)},f.prototype.bezierCurveTo=function(D,G,H,X,se,ie){if(isNaN(se)||isNaN(ie)||isNaN(D)||isNaN(G)||isNaN(H)||isNaN(X))throw ir.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ne=this.ctx.transform.applyToPoint(new l(se,ie)),J=this.ctx.transform.applyToPoint(new l(D,G)),le=this.ctx.transform.applyToPoint(new l(H,X));this.path.push({type:"bct",x1:J.x,y1:J.y,x2:le.x,y2:le.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new l(ne.x,ne.y)},f.prototype.arc=function(D,G,H,X,se,ie){if(isNaN(D)||isNaN(G)||isNaN(H)||isNaN(X)||isNaN(se))throw ir.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var ne=this.ctx.transform.applyToPoint(new l(D,G));D=ne.x,G=ne.y;var J=this.ctx.transform.applyToPoint(new l(0,H)),le=this.ctx.transform.applyToPoint(new l(0,0));H=Math.sqrt(Math.pow(J.x-le.x,2)+Math.pow(J.y-le.y,2))}Math.abs(se-X)>=2*Math.PI&&(X=0,se=2*Math.PI),this.path.push({type:"arc",x:D,y:G,radius:H,startAngle:X,endAngle:se,counterclockwise:ie})},f.prototype.arcTo=function(D,G,H,X,se){throw new Error("arcTo not implemented.")},f.prototype.rect=function(D,G,H,X){if(isNaN(D)||isNaN(G)||isNaN(H)||isNaN(X))throw ir.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,G),this.lineTo(D+H,G),this.lineTo(D+H,G+X),this.lineTo(D,G+X),this.lineTo(D,G),this.lineTo(D+H,G),this.lineTo(D,G)},f.prototype.fillRect=function(D,G,H,X){if(isNaN(D)||isNaN(G)||isNaN(H)||isNaN(X))throw ir.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,G,H,X),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},f.prototype.strokeRect=function(D,G,H,X){if(isNaN(D)||isNaN(G)||isNaN(H)||isNaN(X))throw ir.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(D,G,H,X),this.stroke())},f.prototype.clearRect=function(D,G,H,X){if(isNaN(D)||isNaN(G)||isNaN(H)||isNaN(X))throw ir.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,G,H,X))},f.prototype.save=function(D){D=typeof D!="boolean"||D;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},f.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(G),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(D){var G,H,X,se;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))G=0,H=0,X=0,se=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(ie!==null)G=parseInt(ie[1]),H=parseInt(ie[2]),X=parseInt(ie[3]),se=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)G=parseInt(ie[1]),H=parseInt(ie[2]),X=parseInt(ie[3]),se=parseFloat(ie[4]);else{if(se=1,typeof D=="string"&&D.charAt(0)!=="#"){var ne=new wG(D);D=ne.ok?ne.toHex():"#000000"}D.length===4?(G=D.substring(1,2),G+=G,H=D.substring(2,3),H+=H,X=D.substring(3,4),X+=X):(G=D.substring(1,3),H=D.substring(3,5),X=D.substring(5,7)),G=parseInt(G,16),H=parseInt(H,16),X=parseInt(X,16)}}return{r:G,g:H,b:X,a:se,style:D}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(D,G,H,X){if(isNaN(G)||isNaN(H)||typeof D!="string")throw ir.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!m.call(this)){var se=ae(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;F.call(this,{text:D,x:G,y:H,scale:ie,angle:se,align:this.textAlign,maxWidth:X})}},f.prototype.strokeText=function(D,G,H,X){if(isNaN(G)||isNaN(H)||typeof D!="string")throw ir.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){X=isNaN(X)?void 0:X;var se=ae(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;F.call(this,{text:D,x:G,y:H,scale:ie,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:X})}},f.prototype.measureText=function(D){if(typeof D!="string")throw ir.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,H=this.pdf.internal.scaleFactor,X=G.internal.getFontSize(),se=G.getStringUnitWidth(D)*X/G.internal.scaleFactor;return new function(ie){var ne=(ie=ie||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ne}}),this}({width:se*=Math.round(96*H/72*1e4)/1e4})},f.prototype.scale=function(D,G){if(isNaN(D)||isNaN(G))throw ir.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new c(D,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},f.prototype.rotate=function(D){if(isNaN(D))throw ir.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new c(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},f.prototype.translate=function(D,G){if(isNaN(D)||isNaN(G))throw ir.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new c(1,0,0,1,D,G);this.ctx.transform=this.ctx.transform.multiply(H)},f.prototype.transform=function(D,G,H,X,se,ie){if(isNaN(D)||isNaN(G)||isNaN(H)||isNaN(X)||isNaN(se)||isNaN(ie))throw ir.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ne=new c(D,G,H,X,se,ie);this.ctx.transform=this.ctx.transform.multiply(ne)},f.prototype.setTransform=function(D,G,H,X,se,ie){D=isNaN(D)?1:D,G=isNaN(G)?0:G,H=isNaN(H)?0:H,X=isNaN(X)?1:X,se=isNaN(se)?0:se,ie=isNaN(ie)?0:ie,this.ctx.transform=new c(D,G,H,X,se,ie)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(D,G,H,X,se,ie,ne,J,le){var pe=this.pdf.getImageProperties(D),Q=1,xe=1,he=1,ue=1;X!==void 0&&J!==void 0&&(he=J/X,ue=le/se,Q=pe.width/X*J/X,xe=pe.height/se*le/se),ie===void 0&&(ie=G,ne=H,G=0,H=0),X!==void 0&&J===void 0&&(J=X,le=se),X===void 0&&J===void 0&&(J=pe.width,le=pe.height);for(var Le,ze=this.ctx.transform.decompose(),Ce=ae(ze.rotate.shx),ce=new c,Ie=(ce=(ce=(ce=ce.multiply(ze.translate)).multiply(ze.skew)).multiply(ze.scale)).applyToRectangle(new o(ie-G*he,ne-H*ue,X*Q,se*xe)),we=b.call(this,Ie),$e=[],Be=0;Be<we.length;Be+=1)$e.indexOf(we[Be])===-1&&$e.push(we[Be]);if(k($e),this.autoPaging)for(var ft=$e[0],Ke=$e[$e.length-1],Ue=ft;Ue<Ke+1;Ue++){this.pdf.setPage(Ue);var tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=Ue===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],kt=Ue===1?0:Je+(Ue-2)*pt;if(this.ctx.clip_path.length!==0){var Ot=this.path;Le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(Le,this.posX+this.margin[3],-kt+ct+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=Ot}var qt=JSON.parse(JSON.stringify(Ie));qt=N([qt],this.posX+this.margin[3],-kt+ct+this.ctx.prevPageLastElemOffset)[0];var Wt=(Ue>ft||Ue<Ke)&&g.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,pt,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",qt.x,qt.y,qt.w,qt.h,null,null,Ce),Wt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",Ie.x,Ie.y,Ie.w,Ie.h,null,null,Ce)};var b=function(D,G,H){var X=[];G=G||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":X.push(Math.floor((D.y+se)/H)+1);break;case"arc":X.push(Math.floor((D.y+se-D.radius)/H)+1),X.push(Math.floor((D.y+se+D.radius)/H)+1);break;case"qct":var ie=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);X.push(Math.floor((ie.y+se)/H)+1),X.push(Math.floor((ie.y+ie.h+se)/H)+1);break;case"bct":var ne=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);X.push(Math.floor((ne.y+se)/H)+1),X.push(Math.floor((ne.y+ne.h+se)/H)+1);break;case"rect":X.push(Math.floor((D.y+se)/H)+1),X.push(Math.floor((D.y+D.h+se)/H)+1)}for(var J=0;J<X.length;J+=1)for(;this.pdf.internal.getNumberOfPages()<X[J];)j.call(this);return X},j=function(){var D=this.fillStyle,G=this.strokeStyle,H=this.font,X=this.lineCap,se=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=G,this.font=H,this.lineCap=X,this.lineWidth=se,this.lineJoin=ie},N=function(D,G,H){for(var X=0;X<D.length;X++)switch(D[X].type){case"bct":D[X].x2+=G,D[X].y2+=H;case"qct":D[X].x1+=G,D[X].y1+=H;default:D[X].x+=G,D[X].y+=H}return D},k=function(D){return D.sort(function(G,H){return G-H})},S=function(D,G){for(var H,X,se=this.fillStyle,ie=this.strokeStyle,ne=this.lineCap,J=this.lineWidth,le=Math.abs(J*this.ctx.transform.scaleX),pe=this.lineJoin,Q=JSON.parse(JSON.stringify(this.path)),xe=JSON.parse(JSON.stringify(this.path)),he=[],ue=0;ue<xe.length;ue++)if(xe[ue].x!==void 0)for(var Le=b.call(this,xe[ue]),ze=0;ze<Le.length;ze+=1)he.indexOf(Le[ze])===-1&&he.push(Le[ze]);for(var Ce=0;Ce<he.length;Ce++)for(;this.pdf.internal.getNumberOfPages()<he[Ce];)j.call(this);if(k(he),this.autoPaging)for(var ce=he[0],Ie=he[he.length-1],we=ce;we<Ie+1;we++){this.pdf.setPage(we),this.fillStyle=se,this.strokeStyle=ie,this.lineCap=ne,this.lineWidth=le,this.lineJoin=pe;var $e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Be=we===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ue=we===1?0:ft+(we-2)*Ke;if(this.ctx.clip_path.length!==0){var tt=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(H,this.posX+this.margin[3],-Ue+Be+this.ctx.prevPageLastElemOffset),C.call(this,D,!0),this.path=tt}if(X=JSON.parse(JSON.stringify(Q)),this.path=N(X,this.posX+this.margin[3],-Ue+Be+this.ctx.prevPageLastElemOffset),G===!1||we===0){var ct=(we>ce||we<Ie)&&g.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,Ke,null).clip().discardPath()),C.call(this,D,G),ct&&this.pdf.restoreGraphicsState()}this.lineWidth=J}else this.lineWidth=le,C.call(this,D,G),this.lineWidth=J;this.path=Q},C=function(D,G){if((D!=="stroke"||G||!v.call(this))&&(D==="stroke"||G||!m.call(this))){for(var H,X,se=[],ie=this.path,ne=0;ne<ie.length;ne++){var J=ie[ne];switch(J.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:J,deltas:[],abs:[]});break;case"lt":var le=se.length;if(ie[ne-1]&&!isNaN(ie[ne-1].x)&&(H=[J.x-ie[ne-1].x,J.y-ie[ne-1].y],le>0)){for(;le>=0;le--)if(se[le-1].close!==!0&&se[le-1].begin!==!0){se[le-1].deltas.push(H),se[le-1].abs.push(J);break}}break;case"bct":H=[J.x1-ie[ne-1].x,J.y1-ie[ne-1].y,J.x2-ie[ne-1].x,J.y2-ie[ne-1].y,J.x-ie[ne-1].x,J.y-ie[ne-1].y],se[se.length-1].deltas.push(H);break;case"qct":var pe=ie[ne-1].x+2/3*(J.x1-ie[ne-1].x),Q=ie[ne-1].y+2/3*(J.y1-ie[ne-1].y),xe=J.x+2/3*(J.x1-J.x),he=J.y+2/3*(J.y1-J.y),ue=J.x,Le=J.y;H=[pe-ie[ne-1].x,Q-ie[ne-1].y,xe-ie[ne-1].x,he-ie[ne-1].y,ue-ie[ne-1].x,Le-ie[ne-1].y],se[se.length-1].deltas.push(H);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(J)}}X=G?null:D==="stroke"?"stroke":"fill";for(var ze=!1,Ce=0;Ce<se.length;Ce++)if(se[Ce].arc)for(var ce=se[Ce].abs,Ie=0;Ie<ce.length;Ie++){var we=ce[Ie];we.type==="arc"?L.call(this,we.x,we.y,we.radius,we.startAngle,we.endAngle,we.counterclockwise,void 0,G,!ze):M.call(this,we.x,we.y),ze=!0}else if(se[Ce].close===!0)this.pdf.internal.out("h"),ze=!1;else if(se[Ce].begin!==!0){var $e=se[Ce].start.x,Be=se[Ce].start.y;I.call(this,se[Ce].deltas,$e,Be),ze=!0}X&&U.call(this,X),G&&z.call(this)}},_=function(D){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-H;case"top":return D+G-H;case"hanging":return D+G-2*H;case"middle":return D+G/2-H;default:return D}},P=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(G,H){this.colorStops.push([G,H])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(D,G,H,X,se,ie,ne,J,le){for(var pe=R.call(this,H,X,se,ie),Q=0;Q<pe.length;Q++){var xe=pe[Q];Q===0&&(le?T.call(this,xe.x1+D,xe.y1+G):M.call(this,xe.x1+D,xe.y1+G)),W.call(this,D,G,xe.x2,xe.y2,xe.x3,xe.y3,xe.x4,xe.y4)}J?z.call(this):U.call(this,ne)},U=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(D,G){this.pdf.internal.out(a(D)+" "+r(G)+" m")},F=function(D){var G;switch(D.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var H=this.pdf.getTextDimensions(D.text),X=_.call(this,D.y),se=P.call(this,X)-H.h,ie=this.ctx.transform.applyToPoint(new l(D.x,X)),ne=this.ctx.transform.decompose(),J=new c;J=(J=(J=J.multiply(ne.translate)).multiply(ne.skew)).multiply(ne.scale);for(var le,pe,Q,xe=this.ctx.transform.applyToRectangle(new o(D.x,X,H.w,H.h)),he=J.applyToRectangle(new o(D.x,se,H.w,H.h)),ue=b.call(this,he),Le=[],ze=0;ze<ue.length;ze+=1)Le.indexOf(ue[ze])===-1&&Le.push(ue[ze]);if(k(Le),this.autoPaging)for(var Ce=Le[0],ce=Le[Le.length-1],Ie=Ce;Ie<ce+1;Ie++){this.pdf.setPage(Ie);var we=Ie===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Be=this.pdf.internal.pageSize.height-this.margin[2],ft=Be-this.margin[0],Ke=this.pdf.internal.pageSize.width-this.margin[1],Ue=Ke-this.margin[3],tt=Ie===1?0:$e+(Ie-2)*ft;if(this.ctx.clip_path.length!==0){var ct=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(le,this.posX+this.margin[3],-1*tt+we),C.call(this,"fill",!0),this.path=ct}var Je=N([JSON.parse(JSON.stringify(he))],this.posX+this.margin[3],-tt+we+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*D.scale),Q=this.lineWidth,this.lineWidth=Q*D.scale);var pt=this.autoPaging!=="text";if(pt||Je.y+Je.h<=Be){if(pt||Je.y>=we&&Je.x<=Ke){var kt=pt?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||Ke-Je.x)[0],Ot=N([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-tt+we+this.ctx.prevPageLastElemOffset)[0],qt=pt&&(Ie>Ce||Ie<ce)&&g.call(this);qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ue,ft,null).clip().discardPath()),this.pdf.text(kt,Ot.x,Ot.y,{angle:D.angle,align:G,renderingMode:D.renderingMode}),qt&&this.pdf.restoreGraphicsState()}}else Je.y<Be&&(this.ctx.prevPageLastElemOffset+=Be-Je.y);D.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=Q)}else D.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*D.scale),Q=this.lineWidth,this.lineWidth=Q*D.scale),this.pdf.text(D.text,ie.x+this.posX,ie.y+this.posY,{angle:D.angle,align:G,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=Q)},M=function(D,G,H,X){H=H||0,X=X||0,this.pdf.internal.out(a(D+H)+" "+r(G+X)+" l")},I=function(D,G,H){return this.pdf.lines(D,G,H,null,null)},W=function(D,G,H,X,se,ie,ne,J){this.pdf.internal.out([t(n(H+D)),t(i(X+G)),t(n(se+D)),t(i(ie+G)),t(n(ne+D)),t(i(J+G)),"c"].join(" "))},R=function(D,G,H,X){for(var se=2*Math.PI,ie=Math.PI/2;G>H;)G-=se;var ne=Math.abs(H-G);ne<se&&X&&(ne=se-ne);for(var J=[],le=X?-1:1,pe=G;ne>1e-5;){var Q=pe+le*Math.min(ne,ie);J.push(q.call(this,D,pe,Q)),ne-=Math.abs(Q-pe),pe=Q}return J},q=function(D,G,H){var X=(H-G)/2,se=D*Math.cos(X),ie=D*Math.sin(X),ne=se,J=-ie,le=ne*ne+J*J,pe=le+ne*se+J*ie,Q=4/3*(Math.sqrt(2*le*pe)-pe)/(ne*ie-J*se),xe=ne-Q*J,he=J+Q*ne,ue=xe,Le=-he,ze=X+G,Ce=Math.cos(ze),ce=Math.sin(ze);return{x1:D*Math.cos(G),y1:D*Math.sin(G),x2:xe*Ce-he*ce,y2:xe*ce+he*Ce,x3:ue*Ce-Le*ce,y3:ue*ce+Le*Ce,x4:D*Math.cos(H),y4:D*Math.sin(H)}},ae=function(D){return 180*D/Math.PI},te=function(D,G,H,X,se,ie){var ne=D+.5*(H-D),J=G+.5*(X-G),le=se+.5*(H-se),pe=ie+.5*(X-ie),Q=Math.min(D,se,ne,le),xe=Math.max(D,se,ne,le),he=Math.min(G,ie,J,pe),ue=Math.max(G,ie,J,pe);return new o(Q,he,xe-Q,ue-he)},K=function(D,G,H,X,se,ie,ne,J){var le,pe,Q,xe,he,ue,Le,ze,Ce,ce,Ie,we,$e,Be,ft=H-D,Ke=X-G,Ue=se-H,tt=ie-X,ct=ne-se,Je=J-ie;for(pe=0;pe<41;pe++)Ce=(Le=(Q=D+(le=pe/40)*ft)+le*((he=H+le*Ue)-Q))+le*(he+le*(se+le*ct-he)-Le),ce=(ze=(xe=G+le*Ke)+le*((ue=X+le*tt)-xe))+le*(ue+le*(ie+le*Je-ue)-ze),pe==0?(Ie=Ce,we=ce,$e=Ce,Be=ce):(Ie=Math.min(Ie,Ce),we=Math.min(we,ce),$e=Math.max($e,Ce),Be=Math.max(Be,ce));return new o(Math.round(Ie),Math.round(we),Math.round($e-Ie),Math.round(Be-we))},oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,G,H=(D=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:G}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(fa.API),(function(e){var t=function(l){var o,c,d,u,f,p,m,v,g,b;for(c=[],d=0,u=(l+=o="\0\0\0\0".slice(l.length%4||4)).length;u>d;d+=4)(f=(l.charCodeAt(d)<<24)+(l.charCodeAt(d+1)<<16)+(l.charCodeAt(d+2)<<8)+l.charCodeAt(d+3))!==0?(p=(f=((f=((f=((f=(f-(b=f%85))/85)-(g=f%85))/85)-(v=f%85))/85)-(m=f%85))/85)%85,c.push(p+33,m+33,v+33,g+33,b+33)):c.push(122);return(function(j,N){for(var k=N;k>0;k--)j.pop()})(c,o.length),String.fromCharCode.apply(String,c)+"~>"},a=function(l){var o,c,d,u,f,p=String,m="length",v=255,g="charCodeAt",b="slice",j="replace";for(l[b](-2),l=l[b](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),d=[],u=0,f=(l+=o="uuuuu"[b](l[m]%5||5))[m];f>u;u+=5)c=52200625*(l[g](u)-33)+614125*(l[g](u+1)-33)+7225*(l[g](u+2)-33)+85*(l[g](u+3)-33)+(l[g](u+4)-33),d.push(v&c>>24,v&c>>16,v&c>>8,v&c);return(function(N,k){for(var S=k;S>0;S--)N.pop()})(d,o[m]),p.fromCharCode.apply(p,d)},r=function(l){return l.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},n=function(l){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),o.test(l)===!1)return"";for(var c="",d=0;d<l.length;d+=2)c+=String.fromCharCode("0x"+(l[d]+l[d+1]));return c},i=function(l){for(var o=new Uint8Array(l.length),c=l.length;c--;)o[c]=l.charCodeAt(c);return(o=RC(o)).reduce(function(d,u){return d+String.fromCharCode(u)},"")};e.processDataByFilters=function(l,o){var c=0,d=l||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":d=a(d),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=n(d),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:d,reverseChain:u.reverse().join(" ")}}})(fa.API),(function(e){e.loadFile=function(t,a,r){return(function(n,i,l){i=i!==!1,l=typeof l=="function"?l:function(){};var o=void 0;try{o=(function(c,d,u){var f=new XMLHttpRequest,p=0,m=function(v){var g=v.length,b=[],j=String.fromCharCode;for(p=0;p<g;p+=1)b.push(j(255&v.charCodeAt(p)));return b.join("")};if(f.open("GET",c,!d),f.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(f.onload=function(){f.status===200?u(m(this.responseText)):u(void 0)}),f.send(null),d&&f.status===200)return m(f.responseText)})(n,i,l)}catch{}return o})(t,a,r)},e.loadImageFile=e.loadFile})(fa.API),(function(e){function t(){return(Ua.html2canvas?Promise.resolve(Ua.html2canvas):bi(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function a(){return(Ua.DOMPurify?Promise.resolve(Ua.DOMPurify):bi(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var c=Gs(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},n=function(o,c){var d=document.createElement(o);for(var u in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[u]=c.style[u];return d},i=function o(c,d){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)d!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(o(f,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},l=function o(c){var d=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),d);return(u=u.setProgress(1,o,1,[o])).set(c)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(o,c){return o.__proto__=c||l.prototype,o},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(o,c){return this.then(function(){switch(c=c||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),c){case"string":return this.then(a).then(function(d){return this.set({src:n("div",{innerHTML:o,dompurify:d})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},l.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var d=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var v=u[m],g=v.src.find(function(b){return b.format==="truetype"});g&&d.addFont(g.url,v.ref.name,v.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,d.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(o,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},l.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},l.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},l.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(o){if(r(o)!=="object")return this;var c=Object.keys(o||{}).map(function(d){if(d in l.template.prop)return function(){this.prop[d]=o[d]};switch(d){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[d]=o[d]}}},this);return this.then(function(){return this.thenList(c)})},l.prototype.get=function(o,c){return this.then(function(){var d=o in l.template.prop?this.prop[o]:this.opt[o];return c?c(d):d})},l.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},l.prototype.setPageSize=function(o){function c(d,u){return Math.floor(d*u/72*96)}return this.then(function(){(o=o||fa.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},l.prototype.setProgress=function(o,c,d,u){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(o,c,d,u){return this.setProgress(o?this.progress.val+o:null,c||null,d?this.progress.n+d:null,u?this.progress.stack.concat(u):null)},l.prototype.then=function(o,c){var d=this;return this.thenCore(o,c,function(u,f){return d.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return d.updateProgress(null,u),p}).then(u,f).then(function(p){return d.updateProgress(1),p})})},l.prototype.thenCore=function(o,c,d){d=d||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),c&&(c=c.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:l.convert(Object.assign({},u),Promise.prototype),p=d.call(f,o,c);return l.convert(p,u.__proto__)},l.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},l.prototype.thenList=function(o){var c=this;return o.forEach(function(d){c=c.thenCore(d)}),c},l.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return l.convert(c,this)},l.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},l.prototype.error=function(o){return this.then(function(){throw new Error(o)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,fa.getPageSize=function(o,c,d){if(Gs(o)==="object"){var u=o;o=u.orientation,c=u.unit||c,d=u.format||d}c=c||"mm",d=d||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+d).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var v,g=0,b=0;if(m.hasOwnProperty(p))g=m[p][1]/f,b=m[p][0]/f;else try{g=d[1],b=d[0]}catch{throw new Error("Invalid format: "+d)}if(o==="p"||o==="portrait")o="p",b>g&&(v=b,b=g,g=v);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>b&&(v=b,b=g,g=v)}return{width:b,height:g,unit:c,k:f,orientation:o}},e.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(T3):null;var d=new l(c);return c.worker?d:d.from(o).doCallback()}})(fa.API),fa.API.addJS=function(e){return zR=e,this.internal.events.subscribe("postPutResources",function(){o2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(o2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),UR=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+zR+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){o2!==void 0&&UR!==void 0&&this.internal.out("/Names <</JavaScript "+o2+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var a=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=a.outline.render().split(/\r\n/),i=0;i<n.length;i++){var l=n[i],o=r.exec(l);if(o!=null){var c=o[1];a.internal.newObjectDeferredBegin(c,!1)}a.internal.write(l)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(i=0;i<d;i++){var f=a.internal.newObject();u.push(f);var p=a.internal.getPageInfo(i+1);a.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var m=a.internal.newObject();for(a.internal.write("<< /Names [ "),i=0;i<u.length;i++)a.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");a.internal.write(" ] >>","endobj"),t=a.internal.newObject(),a.internal.write("<< /Dests "+m+" 0 R"),a.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var a=this;a.outline.root.children.length>0&&(a.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&a.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var a=this;a.outline={createNamedDestinations:!1,root:{children:[]}},a.outline.add=function(r,n,i){var l={title:n,options:i,children:[]};return r==null&&(r=this.root),r.children.push(l),l},a.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=a,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},a.outline.genIds_r=function(r){r.id=a.internal.newObjectDeferred();for(var n=0;n<r.children.length;n++)this.genIds_r(r.children[n])},a.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},a.outline.renderItems=function(r){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var l=r.children[i];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var o=this.count=this.count_r({count:0},l);if(o>0&&this.line("/Count "+o),l.options&&l.options.pageNumber){var c=a.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},a.outline.line=function(r){this.ctx.val+=r+`\r
`},a.outline.makeRef=function(r){return r.id+" 0 R"},a.outline.makeString=function(r){return"("+a.internal.pdfEscape(r)+")"},a.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},a.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},a.outline.count_r=function(r,n){for(var i=0;i<n.children.length;i++)r.count++,this.count_r(r,n.children[i]);return r.count}}])})(fa.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(a,r,n,i,l,o){var c,d=this.decode.DCT_DECODE,u=null;if(typeof a=="string"||this.__addimage__.isArrayBuffer(a)||this.__addimage__.isArrayBufferView(a)){switch(a=l||a,a=this.__addimage__.isArrayBuffer(a)?new Uint8Array(a):a,c=(function(f){for(var p,m=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,g={width:0,height:0,numcomponents:1},b=4;b<v;b+=2){if(b+=m,t.indexOf(f.charCodeAt(b+1))!==-1){p=256*f.charCodeAt(b+5)+f.charCodeAt(b+6),g={width:256*f.charCodeAt(b+7)+f.charCodeAt(b+8),height:p,numcomponents:f.charCodeAt(b+9)};break}m=256*f.charCodeAt(b+2)+f.charCodeAt(b+3)}return g})(a=this.__addimage__.isArrayBufferView(a)?this.__addimage__.arrayBufferToBinaryString(a):a),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:a,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:d,index:r,alias:n}}return u}})(fa.API),fa.API.processPNG=function(e,t,a,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var n,i=nSe(e,{checkCrc:!0}),l=i.width,o=i.height,c=i.channels,d=i.palette,u=i.depth;n=d&&c===1?(function(L){for(var U=L.width,z=L.height,T=L.data,F=L.palette,M=L.depth,I=!1,W=[],R=[],q=void 0,ae=!1,te=0,K=0;K<F.length;K++){var oe=qO(F[K],4),D=oe[0],G=oe[1],H=oe[2],X=oe[3];W.push(D,G,H),X!=null&&(X===0?(te++,R.length<1&&R.push(K)):X<255&&(ae=!0))}if(ae||te>1){I=!0,R=void 0;var se=U*z;q=new Uint8Array(se);for(var ie=new DataView(T.buffer),ne=0;ne<se;ne++){var J=D3(ie,ne,M),le=qO(F[J],4)[3];q[ne]=le}}else te===0&&(R=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:I?8:void 0,colorBytes:T,alphaBytes:q,needSMask:I,palette:W,mask:R}})(i):c===2||c===4?(function(L){for(var U=L.data,z=L.width,T=L.height,F=L.channels,M=L.depth,I=F===2?"DeviceGray":"DeviceRGB",W=F-1,R=z*T,q=W,ae=R*q,te=1*R,K=Math.ceil(ae*M/8),oe=Math.ceil(te*M/8),D=new Uint8Array(K),G=new Uint8Array(oe),H=new DataView(U.buffer),X=new DataView(D.buffer),se=new DataView(G.buffer),ie=!1,ne=0;ne<R;ne++){for(var J=ne*F,le=0;le<q;le++)JR(X,D3(H,J+le,M),ne*q+le,M);var pe=D3(H,J+q,M);pe<(1<<M)-1&&(ie=!0),JR(se,pe,1*ne,M)}return{colorSpace:I,colorsPerPixel:W,sMaskBitsPerComponent:ie?M:void 0,colorBytes:D,alphaBytes:G,needSMask:ie}})(i):(function(L){var U=L.data,z=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:z,colorsPerPixel:z==="DeviceGray"?1:3,colorBytes:U instanceof Uint16Array?(function(T){for(var F=T.length,M=new Uint8Array(2*F),I=new DataView(M.buffer,M.byteOffset,M.byteLength),W=0;W<F;W++)I.setUint16(2*W,T[W],!1);return M})(U):U,needSMask:!1}})(i);var f,p,m,v=n,g=v.colorSpace,b=v.colorsPerPixel,j=v.sMaskBitsPerComponent,N=v.colorBytes,k=v.alphaBytes,S=v.needSMask,C=v.palette,_=v.mask,P=null;return r!==fa.API.image_compression.NONE&&typeof RC=="function"?(P=(function(L){var U;switch(L){case fa.API.image_compression.FAST:U=11;break;case fa.API.image_compression.MEDIUM:U=13;break;case fa.API.image_compression.SLOW:U=14;break;default:U=12}return U})(r),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(P," /Colors ").concat(b," /BitsPerComponent ").concat(u," /Columns ").concat(l),e=qR(N,Math.ceil(l*b*u/8),b,u,r),S&&(m=qR(k,Math.ceil(l*j/8),1,j,r))):(f=void 0,p=void 0,e=N,S&&(m=k)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:a,data:e,index:t,filter:f,decodeParameters:p,transparency:_,palette:C,sMask:m,predictor:P,width:l,height:o,bitsPerComponent:u,sMaskBitsPerComponent:j,colorSpace:g}}},(function(e){e.processGIF89A=function(t,a,r,n){var i=new ASe(t),l=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:l,height:o},u=new M3(100).encode(d,100);return e.processJPEG.call(this,u,a,r,n)},e.processGIF87A=e.processGIF89A})(fa.API),Qc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:n,green:r,blue:a,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Qc.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(a){ir.log("bit decode error:"+a)}},Qc.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),a=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<t;n++)for(var i=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*n*4,o=0;o<8&&8*n+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[l+4*o]=c.blue,this.data[l+4*o+1]=c.green,this.data[l+4*o+2]=c.red,this.data[l+4*o+3]=255}a!==0&&(this.pos+=4-a)}},Qc.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,a=this.height-1;a>=0;a--){for(var r=this.bottom_up?a:this.height-1-a,n=0;n<e;n++){var i=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*n*4,o=i>>4,c=15&i,d=this.palette[o];if(this.data[l]=d.blue,this.data[l+1]=d.green,this.data[l+2]=d.red,this.data[l+3]=255,2*n+1>=this.width)break;d=this.palette[c],this.data[l+4]=d.blue,this.data[l+4+1]=d.green,this.data[l+4+2]=d.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},Qc.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=a*this.width*4+4*r;if(n<this.palette.length){var l=this.palette[n];this.data[i]=l.red,this.data[i+1]=l.green,this.data[i+2]=l.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Qc.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),a=this.height-1;a>=0;a--){for(var r=this.bottom_up?a:this.height-1-a,n=0;n<this.width;n++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,d=i>>15?255:0,u=r*this.width*4+4*n;this.data[u]=c,this.data[u+1]=o,this.data[u+2]=l,this.data[u+3]=d}this.pos+=e}},Qc.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),a=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(l&t)/t*255|0,c=(l>>5&a)/a*255|0,d=(l>>11)/t*255|0,u=n*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},Qc.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*a;this.data[l]=i,this.data[l+1]=n,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},Qc.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*a;this.data[o]=i,this.data[o+1]=n,this.data[o+2]=r,this.data[o+3]=l}},Qc.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,a,r,n){var i=new Qc(t,!1),l=i.width,o=i.height,c={data:i.getData(),width:l,height:o},d=new M3(100).encode(c,100);return e.processJPEG.call(this,d,a,r,n)}})(fa.API),ZR.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,a,r,n){var i=new ZR(t),l=i.width,o=i.height,c={data:i.getData(),width:l,height:o},d=new M3(100).encode(c,100);return e.processJPEG.call(this,d,a,r,n)}})(fa.API),fa.API.processRGBA=function(e,t,a){for(var r=e.data,n=r.length,i=new Uint8Array(n/4*3),l=new Uint8Array(n/4),o=0,c=0,d=0;d<n;d+=4){var u=r[d],f=r[d+1],p=r[d+2],m=r[d+3];i[o++]=u,i[o++]=f,i[o++]=p,l[c++]=m}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:v,index:t,alias:a,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},fa.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Mp=fa.API,c2=Mp.getCharWidthsArray=function(e,t){var a,r,n=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:n.metadata.Unicode.widths,c=o.fof?o.fof:1,d=t.kerning?t.kerning:n.metadata.Unicode.kerning,u=d.fof?d.fof:1,f=t.doKerning!==!1,p=0,m=e.length,v=0,g=o[0]||c,b=[];for(a=0;a<m;a++)r=e.charCodeAt(a),typeof n.metadata.widthOfString=="function"?b.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(r))+l*(1e3/i)||0)/1e3):(p=f&&Gs(d[r])==="object"&&!isNaN(parseInt(d[r][v],10))?d[r][v]/u:0,b.push((o[r]||g)/c+p)),v=r;return b},HR=Mp.getStringUnitWidth=function(e,t){var a=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),n=t.charSpace||this.internal.getCharSpace();return Mp.processArabic&&(e=Mp.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,a,n)/a:c2.apply(this,arguments).reduce(function(i,l){return i+l},0)},VR=function(e,t,a,r){for(var n=[],i=0,l=e.length,o=0;i!==l&&o+t[i]<a;)o+=t[i],i++;n.push(e.slice(0,i));var c=i;for(o=0;i!==l;)o+t[i]>r&&(n.push(e.slice(c,i)),o=0,c=i),o+=t[i],i++;return c!==i&&n.push(e.slice(c,i)),n},WR=function(e,t,a){a||(a={});var r,n,i,l,o,c,d,u=[],f=[u],p=a.textIndent||0,m=0,v=0,g=e.split(" "),b=c2.apply(this,[" ",a])[0];if(c=a.lineIndent===-1?g[0].length+2:a.lineIndent||0){var j=Array(c).join(" "),N=[];g.map(function(S){(S=S.split(/\s*\n/)).length>1?N=N.concat(S.map(function(C,_){return(_&&C.length?`
`:"")+C})):N.push(S[0])}),g=N,c=HR.apply(this,[j,a])}for(i=0,l=g.length;i<l;i++){var k=0;if(r=g[i],c&&r[0]==`
`&&(r=r.substr(1),k=1),p+m+(v=(n=c2.apply(this,[r,a])).reduce(function(S,C){return S+C},0))>t||k){if(v>t){for(o=VR.apply(this,[r,n,t-(p+m),t]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);v=n.slice(r.length-(u[0]?u[0].length:0)).reduce(function(S,C){return S+C},0)}else u=[r];f.push(u),p=v+c,m=b}else u.push(r),p+=m+v,m=b}return d=c?function(S,C){return(C?j:"")+S.join(" ")}:function(S){return S.join(" ")},f.map(d)},Mp.splitTextToSize=function(e,t,a){var r,n=(a=a||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,a);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/n;i.textIndent=a.textIndent?1*a.textIndent*this.internal.scaleFactor/n:0,i.lineIndent=a.lineIndent;var o,c,d=[];for(o=0,c=r.length;o<c;o++)d=d.concat(WR.apply(this,[r[o],l,i]));return d},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",a="klmnopqrstuvwxyz",r={},n={},i=0;i<16;i++)r[a[i]]=t[i],n[t[i]]=a[i];var l=function(p){return"0x"+parseInt(p,10).toString(16)},o=e.__fontmetrics__.compress=function(p){var m,v,g,b,j=["{"];for(var N in p){if(m=p[N],isNaN(parseInt(N,10))?v="'"+N+"'":(N=parseInt(N,10),v=(v=l(N).slice(2)).slice(0,-1)+n[v.slice(-1)]),typeof m=="number")m<0?(g=l(m).slice(3),b="-"):(g=l(m).slice(2),b=""),g=b+g.slice(0,-1)+n[g.slice(-1)];else{if(Gs(m)!=="object")throw new Error("Don't know what to do with value type "+Gs(m)+".");g=o(m)}j.push(v+g)}return j.push("}"),j.join("")},c=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,v,g,b,j={},N=1,k=j,S=[],C="",_="",P=p.length-1,L=1;L<P;L+=1)(b=p[L])=="'"?m?(g=m.join(""),m=void 0):m=[]:m?m.push(b):b=="{"?(S.push([k,g]),k={},g=void 0):b=="}"?((v=S.pop())[0][v[1]]=k,g=void 0,k=v[0]):b=="-"?N=-1:g===void 0?r.hasOwnProperty(b)?(C+=r[b],g=parseInt(C,16)*N,N=1,C=""):C+=b:r.hasOwnProperty(b)?(_+=r[b],k[g]=parseInt(_,16)*N,N=1,g=void 0,_=""):_+=b;return j},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var m=p.font,v=f.Unicode[m.postScriptName];v&&(m.metadata.Unicode={},m.metadata.Unicode.widths=v.widths,m.metadata.Unicode.kerning=v.kerning);var g=u.Unicode[m.postScriptName];g&&(m.metadata.Unicode.encoding=g,m.encoding=g.codePages[0])}])})(fa.API),(function(e){var t=function(a){for(var r=a.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=a.charCodeAt(i);return n};e.API.events.push(["addFont",function(a){var r=void 0,n=a.font,i=a.instance;if(!n.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(r=i.existsFileInVFS(n.postScriptName)===!1?i.loadFile(n.postScriptName):i.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(l,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(H2(o)),l.metadata=e.API.TTFFont.open(o),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(n,r)}}])})(fa),fa.API.addSvgAsImage=function(e,t,a,r,n,i,l,o){if(isNaN(t)||isNaN(a))throw ir.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(n))throw ir.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=n;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Ua.canvg?Promise.resolve(Ua.canvg):bi(()=>import("./index.es-U1LcGest.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(d,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(u)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),t,a,r,n,l,o)})},fa.API.putTotalPages=function(e){var t,a=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),a=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),a=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var n=0;n<this.internal.pages[r].length;n++)this.internal.pages[r][n]=this.internal.pages[r][n].replace(t,a);return this},fa.API.viewerPreferences=function(e,t){var a;e=e||{},t=t||!1;var r,n,i,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(l),c=[],d=0,u=0,f=0;function p(v,g){var b,j=!1;for(b=0;b<v.length;b+=1)v[b]===g&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),a=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=o.length;for(f=0;f<m;f+=1)a[o[f]].value=a[o[f]].defaultValue,a[o[f]].explicitSet=!1}if(Gs(e)==="object"){for(n in e)if(i=e[n],p(o,n)&&i!==void 0){if(a[n].type==="boolean"&&typeof i=="boolean")a[n].value=i;else if(a[n].type==="name"&&p(a[n].valueSet,i))a[n].value=i;else if(a[n].type==="integer"&&Number.isInteger(i))a[n].value=i;else if(a[n].type==="array"){for(d=0;d<i.length;d+=1)if(r=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)typeof i[d][u]!="number"&&(r=!1);r===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}a[n].value="["+c.join(" ")+"]"}else a[n].value=a[n].defaultValue;a[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,g=[];for(v in a)a[v].explicitSet===!0&&(a[v].type==="name"?g.push("/"+v+" /"+a[v].value):g.push("/"+v+" "+a[v].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=a,this},(function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+l.length+o.length+n.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(n+i+l+o+c),this.internal.write("endstream"),this.internal.write("endobj")},a=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",a),this.internal.events.subscribe("postPutResources",t)),this}})(fa.API),(function(e){var t=e.API,a=t.pdfEscape16=function(i,l){for(var o,c=l.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],f=0,p=i.length;f<p;++f){if(o=l.metadata.characterToGlyph(i.charCodeAt(f)),l.metadata.glyIdsUsed.push(o),l.metadata.toUnicode[o]=i.charCodeAt(f),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(l.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(d[4-o.length],o)}return u.join("")},r=function(i){var l,o,c,d,u,f,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,p=(o=Object.keys(i).sort(function(m,v){return m-v})).length;f<p;f++)l=o[f],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[l]!==void 0&&i[l]!==null&&typeof i[l].toString=="function"&&(d=("0000"+i[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),c.push("<"+l+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(l){var o=l.font,c=l.out,d=l.newObject,u=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",v=0;v<p.length;v++)m+=String.fromCharCode(p[v]);var g=d();u({data:m,addLength1:!0,objectId:g}),c("endobj");var b=d();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var j=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Ip(o.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var N=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Ip(o.fontName)),c("/FontDescriptor "+j+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+b+" 0 R"),c("/BaseFont /"+Ip(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+N+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(l){var o=l.font,c=l.out,d=l.newObject,u=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,p="",m=0;m<f.length;m++)p+=String.fromCharCode(f[m]);var v=d();u({data:p,addLength1:!0,objectId:v}),c("endobj");var g=d();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var b=d();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Ip(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=d();for(var j=0;j<o.metadata.hmtx.widths.length;j++)o.metadata.hmtx.widths[j]=parseInt(o.metadata.hmtx.widths[j]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Ip(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var n=function(i){var l,o=i.text||"",c=i.x,d=i.y,u=i.options||{},f=i.mutex||{},p=f.pdfEscape,m=f.activeFontKey,v=f.fonts,g=m,b="",j=0,N="",k=v[g].encoding;if(v[g].encoding!=="Identity-H")return{text:o,x:c,y:d,options:u,mutex:f};for(N=o,g=m,Array.isArray(o)&&(N=o[0]),j=0;j<N.length;j+=1)v[g].metadata.hasOwnProperty("cmap")&&(l=v[g].metadata.cmap.unicode.codeMap[N[j].charCodeAt(0)]),l||N[j].charCodeAt(0)<256&&v[g].metadata.hasOwnProperty("Unicode")?b+=N[j]:b+="";var S="";return parseInt(g.slice(1))<14||k==="WinAnsiEncoding"?S=p(b,g).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(S=a(b,v[g])),f.isHex=!0,{text:S,x:c,y:d,options:u,mutex:f}};t.events.push(["postProcessText",function(i){var l=i.text||"",o=[],c={text:l,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(l)){var d=0;for(d=0;d<l.length;d+=1)Array.isArray(l[d])&&l[d].length===3?o.push([n(Object.assign({},c,{text:l[d][0]})).text,l[d][1],l[d][2]]):o.push(n(Object.assign({},c,{text:l[d]})).text);i.text=o}else i.text=n(Object.assign({},c,{text:l})).text}])})(fa),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(a){return t.call(this),this.internal.vFS[a]!==void 0},e.addFileToVFS=function(a,r){return t.call(this),this.internal.vFS[a]=r,this},e.getFileFromVFS=function(a){return t.call(this),this.internal.vFS[a]!==void 0?this.internal.vFS[a]:null}})(fa.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var n,i,l,o,c,d,u,f=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,k=0;this.__bidiEngine__={};var S=function(T){var F=T.charCodeAt(),M=F>>8,I=g[M];return I!==void 0?f[256*I+(255&F)]:M===252||M===253?"AL":j.test(M)?"L":M===8?"R":"N"},C=function(T){for(var F,M=0;M<T.length;M++){if((F=S(T.charAt(M)))==="L")return!1;if(F==="R")return!0}return!1},_=function(T,F,M,I){var W,R,q,ae,te=F[I];switch(te){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"N":case"AN":break;case"EN":N&&(te="AN");break;case"AL":N=!0,te="R";break;case"WS":case"BN":te="N";break;case"CS":I<1||I+1>=F.length||(W=M[I-1])!=="EN"&&W!=="AN"||(R=F[I+1])!=="EN"&&R!=="AN"?te="N":N&&(R="AN"),te=R===W?R:"N";break;case"ES":te=(W=I>0?M[I-1]:"B")==="EN"&&I+1<F.length&&F[I+1]==="EN"?"EN":"N";break;case"ET":if(I>0&&M[I-1]==="EN"){te="EN";break}if(N){te="N";break}for(q=I+1,ae=F.length;q<ae&&F[q]==="ET";)q++;te=q<ae&&F[q]==="EN"?"EN":"N";break;case"NSM":if(l&&!o){for(ae=F.length,q=I+1;q<ae&&F[q]==="NSM";)q++;if(q<ae){var K=T[I],oe=K>=1425&&K<=2303||K===64286;if(W=F[q],oe&&(W==="R"||W==="AL")){te="R";break}}}te=I<1||(W=F[I-1])==="B"?"N":M[I-1];break;case"B":N=!1,n=!0,te=k;break;case"S":i=!0,te="N"}return te},P=function(T,F,M){var I=T.split("");return M&&L(I,M,{hiLevel:k}),I.reverse(),F&&F.reverse(),I.join("")},L=function(T,F,M){var I,W,R,q,ae,te=-1,K=T.length,oe=0,D=[],G=k?m:p,H=[];for(N=!1,n=!1,i=!1,W=0;W<K;W++)H[W]=S(T[W]);for(R=0;R<K;R++){if(ae=oe,D[R]=_(T,H,D,R),I=240&(oe=G[ae][v[D[R]]]),oe&=15,F[R]=q=G[oe][5],I>0)if(I===16){for(W=te;W<R;W++)F[W]=1;te=-1}else te=-1;if(G[oe][6])te===-1&&(te=R);else if(te>-1){for(W=te;W<R;W++)F[W]=q;te=-1}H[R]==="B"&&(F[R]=0),M.hiLevel|=q}i&&(function(X,se,ie){for(var ne=0;ne<ie;ne++)if(X[ne]==="S"){se[ne]=k;for(var J=ne-1;J>=0&&X[J]==="WS";J--)se[J]=k}})(H,F,K)},U=function(T,F,M,I,W){if(!(W.hiLevel<T)){if(T===1&&k===1&&!n)return F.reverse(),void(M&&M.reverse());for(var R,q,ae,te,K=F.length,oe=0;oe<K;){if(I[oe]>=T){for(ae=oe+1;ae<K&&I[ae]>=T;)ae++;for(te=oe,q=ae-1;te<q;te++,q--)R=F[te],F[te]=F[q],F[q]=R,M&&(R=M[te],M[te]=M[q],M[q]=R);oe=ae}oe++}}},z=function(T,F,M){var I=T.split(""),W={hiLevel:k};return M||(M=[]),L(I,M,W),(function(R,q,ae){if(ae.hiLevel!==0&&u)for(var te,K=0;K<R.length;K++)q[K]===1&&(te=b.indexOf(R[K]))>=0&&(R[K]=b[te+1])})(I,M,W),U(2,I,F,M,W),U(1,I,F,M,W),I.join("")};return this.__bidiEngine__.doBidiReorder=function(T,F,M){if((function(W,R){if(R)for(var q=0;q<W.length;q++)R[q]=q;o===void 0&&(o=C(W)),d===void 0&&(d=C(W))})(T,F),l||!c||d)if(l&&c&&o^d)k=o?1:0,T=P(T,F,M);else if(!l&&c&&d)k=o?1:0,T=z(T,F,M),T=P(T,F);else if(!l||o||c||d){if(l&&!c&&o^d)T=P(T,F),o?(k=0,T=z(T,F,M)):(k=1,T=z(T,F,M),T=P(T,F));else if(l&&o&&!c&&d)k=1,T=z(T,F,M),T=P(T,F);else if(!l&&!c&&o^d){var I=u;o?(k=1,T=z(T,F,M),k=0,u=!1,T=z(T,F,M),u=I):(k=0,T=z(T,F,M),T=P(T,F),k=1,u=!1,T=z(T,F,M),u=I,T=P(T,F))}}else k=0,T=z(T,F,M);else k=o?1:0,T=z(T,F,M);return T},this.__bidiEngine__.setOptions=function(T){T&&(l=T.isInputVisual,c=T.isOutputVisual,o=T.isInputRtl,d=T.isOutputRtl,u=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],a=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var n=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var l=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,a.setOptions(i),Object.prototype.toString.call(n)==="[object Array]"){var o=0;for(l=[],o=0;o<n.length;o+=1)Object.prototype.toString.call(n[o])==="[object Array]"?l.push([a.doBidiReorder(n[o][0]),n[o][1],n[o][2]]):l.push([a.doBidiReorder(n[o])]);r.text=l}else r.text=a.doBidiReorder(n);a.setOptions({isInputVisual:!0})}])})(fa),fa.API.TTFFont=(function(){function e(t){var a;if(this.rawData=t,a=this.contents=new Ff(t),this.contents.pos=4,a.readString(4)==="ttcf")throw new Error("TTCF not supported.");a.pos=0,this.parse(),this.subset=new zSe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new _Se(this.contents),this.head=new ESe(this),this.name=new OSe(this),this.cmap=new MG(this),this.toUnicode={},this.hhea=new DSe(this),this.maxp=new RSe(this),this.hmtx=new FSe(this),this.post=new PSe(this),this.os2=new MSe(this),this.loca=new USe(this),this.glyf=new ISe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,a,r,n,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,o,c,d;for(d=[],l=0,o=(c=this.bbox).length;l<o;l++)t=c[l],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(n=this.post.italic_angle),32768&(a=n>>16)&&(a=-(1+(65535^a))),this.italicAngle=+(a+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var a;return((a=this.cmap.unicode)!=null?a.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var a;return a=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*a},e.prototype.widthOfString=function(t,a,r){var n,i,l,o;for(l=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)n=t.charCodeAt(i),l+=this.widthOfGlyph(this.characterToGlyph(n))+r*(1e3/a)||0;return l*(a/1e3)},e.prototype.lineHeight=function(t,a){var r;return a==null&&(a=!1),r=a?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e})();var xd,Ff=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var a,r;for(r=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)r[a]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var a,r,n;for(n=[],a=0,r=t.length;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push(this.writeByte(t.charCodeAt(a)));return n},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,a,r,n,i,l,o,c;return t=this.readByte(),a=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),l=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^a)+1099511627776*(255^r)+4294967296*(255^n)+16777216*(255^i)+65536*(255^l)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*a+1099511627776*r+4294967296*n+16777216*i+65536*l+256*o+c},e.prototype.writeLongLong=function(t){var a,r;return a=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var a,r;for(a=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)a.push(this.readByte());return a},e.prototype.write=function(t){var a,r,n,i;for(i=[],r=0,n=t.length;r<n;r++)a=t[r],i.push(this.writeByte(a));return i},e})(),_Se=(function(){var e;function t(a){var r,n,i;for(this.scalarType=a.readInt(),this.tableCount=a.readShort(),this.searchRange=a.readShort(),this.entrySelector=a.readShort(),this.rangeShift=a.readShort(),this.tables={},n=0,i=this.tableCount;0<=i?n<i:n>i;n=0<=i?++n:--n)r={tag:a.readString(4),checksum:a.readInt(),offset:a.readInt(),length:a.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(a){var r,n,i,l,o,c,d,u,f,p,m,v,g;for(g in m=Object.keys(a).length,c=Math.log(2),f=16*Math.floor(Math.log(m)/c),l=Math.floor(f/c),u=16*m-f,(n=new Ff).writeInt(this.scalarType),n.writeShort(m),n.writeShort(f),n.writeShort(l),n.writeShort(u),i=16*m,d=n.pos+i,o=null,v=[],a)for(p=a[g],n.writeString(g),n.writeInt(e(p)),n.writeInt(d),n.writeInt(p.length),v=v.concat(p),g==="head"&&(o=d),d+=p.length;d%4;)v.push(0),d++;return n.write(v),r=2981146554-e(n.data),n.pos=o+8,n.writeUInt32(r),n.data},e=function(a){var r,n,i,l;for(a=PG.call(a);a.length%4;)a.push(0);for(i=new Ff(a),n=0,r=0,l=a.length;r<l;r=r+=4)n+=i.readUInt32();return 4294967295&n},t})(),TSe={}.hasOwnProperty,lu=function(e,t){for(var a in t)TSe.call(t,a)&&(e[a]=t[a]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};xd=(function(){function e(t){var a;this.file=t,a=this.file.directory.tables[this.tag],this.exists=!!a,a&&(this.offset=a.offset,this.length=a.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var ESe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return lu(e,xd),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var a;return(a=new Ff).writeInt(this.version),a.writeInt(this.revision),a.writeInt(this.checkSumAdjustment),a.writeInt(this.magicNumber),a.writeShort(this.flags),a.writeShort(this.unitsPerEm),a.writeLongLong(this.created),a.writeLongLong(this.modified),a.writeShort(this.xMin),a.writeShort(this.yMin),a.writeShort(this.xMax),a.writeShort(this.yMax),a.writeShort(this.macStyle),a.writeShort(this.lowestRecPPEM),a.writeShort(this.fontDirectionHint),a.writeShort(t),a.writeShort(this.glyphDataFormat),a.data},e})(),e9=(function(){function e(t,a){var r,n,i,l,o,c,d,u,f,p,m,v,g,b,j,N,k;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=a+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(m=t.readUInt16(),p=m/2,t.pos+=6,i=(function(){var S,C;for(C=[],c=S=0;0<=p?S<p:S>p;c=0<=p?++S:--S)C.push(t.readUInt16());return C})(),t.pos+=2,g=(function(){var S,C;for(C=[],c=S=0;0<=p?S<p:S>p;c=0<=p?++S:--S)C.push(t.readUInt16());return C})(),d=(function(){var S,C;for(C=[],c=S=0;0<=p?S<p:S>p;c=0<=p?++S:--S)C.push(t.readUInt16());return C})(),u=(function(){var S,C;for(C=[],c=S=0;0<=p?S<p:S>p;c=0<=p?++S:--S)C.push(t.readUInt16());return C})(),n=(this.length-t.pos+this.offset)/2,o=(function(){var S,C;for(C=[],c=S=0;0<=n?S<n:S>n;c=0<=n?++S:--S)C.push(t.readUInt16());return C})(),c=j=0,k=i.length;j<k;c=++j)for(b=i[c],r=N=v=g[c];v<=b?N<=b:N>=b;r=v<=b?++N:--N)u[c]===0?l=r+d[c]:(l=o[u[c]/2+(r-v)-(p-c)]||0)!==0&&(l+=d[c]),this.codeMap[r]=65535&l}t.pos=f}return e.encode=function(t,a){var r,n,i,l,o,c,d,u,f,p,m,v,g,b,j,N,k,S,C,_,P,L,U,z,T,F,M,I,W,R,q,ae,te,K,oe,D,G,H,X,se,ie,ne,J,le,pe,Q;switch(I=new Ff,l=Object.keys(t).sort(function(xe,he){return xe-he}),a){case"macroman":for(g=0,b=(function(){var xe=[];for(v=0;v<256;++v)xe.push(0);return xe})(),N={0:0},i={},W=0,te=l.length;W<te;W++)N[J=t[n=l[W]]]==null&&(N[J]=++g),i[n]={old:t[n],new:N[t[n]]},b[n]=N[t[n]];return I.writeUInt16(1),I.writeUInt16(0),I.writeUInt32(12),I.writeUInt16(0),I.writeUInt16(262),I.writeUInt16(0),I.write(b),{charMap:i,subtable:I.data,maxGlyphID:g+1};case"unicode":for(F=[],f=[],k=0,N={},r={},j=d=null,R=0,K=l.length;R<K;R++)N[C=t[n=l[R]]]==null&&(N[C]=++k),r[n]={old:C,new:N[C]},o=N[C]-n,j!=null&&o===d||(j&&f.push(j),F.push(n),d=o),j=n;for(j&&f.push(j),f.push(65535),F.push(65535),z=2*(U=F.length),L=2*Math.pow(Math.log(U)/Math.LN2,2),p=Math.log(L/2)/Math.LN2,P=2*U-L,c=[],_=[],m=[],v=q=0,oe=F.length;q<oe;v=++q){if(T=F[v],u=f[v],T===65535){c.push(0),_.push(0);break}if(T-(M=r[T].new)>=32768)for(c.push(0),_.push(2*(m.length+U-v)),n=ae=T;T<=u?ae<=u:ae>=u;n=T<=u?++ae:--ae)m.push(r[n].new);else c.push(M-T),_.push(0)}for(I.writeUInt16(3),I.writeUInt16(1),I.writeUInt32(12),I.writeUInt16(4),I.writeUInt16(16+8*U+2*m.length),I.writeUInt16(0),I.writeUInt16(z),I.writeUInt16(L),I.writeUInt16(p),I.writeUInt16(P),ie=0,D=f.length;ie<D;ie++)n=f[ie],I.writeUInt16(n);for(I.writeUInt16(0),ne=0,G=F.length;ne<G;ne++)n=F[ne],I.writeUInt16(n);for(le=0,H=c.length;le<H;le++)o=c[le],I.writeUInt16(o);for(pe=0,X=_.length;pe<X;pe++)S=_[pe],I.writeUInt16(S);for(Q=0,se=m.length;Q<se;Q++)g=m[Q],I.writeUInt16(g);return{charMap:r,subtable:I.data,maxGlyphID:k+1}}},e})(),MG=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return lu(e,xd),e.prototype.tag="cmap",e.prototype.parse=function(t){var a,r,n;for(t.pos=this.offset,this.version=t.readUInt16(),n=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)a=new e9(t,this.offset),this.tables.push(a),a.isUnicode&&this.unicode==null&&(this.unicode=a);return!0},e.encode=function(t,a){var r,n;return a==null&&(a="macroman"),r=e9.encode(t,a),(n=new Ff).writeUInt16(0),n.writeUInt16(1),r.table=n.data.concat(r.subtable),r},e})(),DSe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return lu(e,xd),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),MSe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return lu(e,xd),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var a,r;for(r=[],a=0;a<10;++a)r.push(t.readByte());return r})(),this.charRange=(function(){var a,r;for(r=[],a=0;a<4;++a)r.push(t.readInt());return r})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var a,r;for(r=[],a=0;a<2;a=++a)r.push(t.readInt());return r})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),PSe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return lu(e,xd),e.prototype.tag="post",e.prototype.parse=function(t){var a,r,n;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(r=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],n=[];t.pos<this.offset+this.length;)a=t.readByte(),n.push(this.names.push(t.readString(a)));return n;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var l,o,c;for(c=[],i=l=0,o=this.file.maxp.numGlyphs;0<=o?l<o:l>o;i=0<=o?++l:--l)c.push(t.readUInt32());return c}).call(this)}},e})(),LSe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},OSe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return lu(e,xd),e.prototype.tag="name",e.prototype.parse=function(t){var a,r,n,i,l,o,c,d,u,f,p;for(t.pos=this.offset,t.readShort(),a=t.readShort(),o=t.readShort(),r=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(c={},i=u=0,f=r.length;u<f;i=++u)n=r[i],t.pos=n.offset,d=t.readString(n.length),l=new LSe(d,n),c[p=n.nameID]==null&&(c[p]=[]),c[n.nameID].push(l);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e})(),RSe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return lu(e,xd),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),FSe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return lu(e,xd),e.prototype.tag="hmtx",e.prototype.parse=function(t){var a,r,n,i,l,o,c;for(t.pos=this.offset,this.metrics=[],a=0,o=this.file.hhea.numberOfMetrics;0<=o?a<o:a>o;a=0<=o?++a:--a)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,u;for(u=[],a=d=0;0<=n?d<n:d>n;a=0<=n?++d:--d)u.push(t.readInt16());return u})(),this.widths=(function(){var d,u,f,p;for(p=[],d=0,u=(f=this.metrics).length;d<u;d++)i=f[d],p.push(i.advance);return p}).call(this),r=this.widths[this.widths.length-1],c=[],a=l=0;0<=n?l<n:l>n;a=0<=n?++l:--l)c.push(this.widths.push(r));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),PG=[].slice,ISe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return lu(e,xd),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var a,r,n,i,l,o,c,d,u,f;return t in this.cache?this.cache[t]:(i=this.file.loca,a=this.file.contents,r=i.indexOf(t),(n=i.lengthOf(t))===0?this.cache[t]=null:(a.pos=this.offset+r,l=(o=new Ff(a.read(n))).readShort(),d=o.readShort(),f=o.readShort(),c=o.readShort(),u=o.readShort(),this.cache[t]=l===-1?new $Se(o,d,f,c,u):new BSe(o,l,d,f,c,u),this.cache[t]))},e.prototype.encode=function(t,a,r){var n,i,l,o,c;for(l=[],i=[],o=0,c=a.length;o<c;o++)n=t[a[o]],i.push(l.length),n&&(l=l.concat(n.encode(r)));return i.push(l.length),{table:l,offsets:i}},e})(),BSe=(function(){function e(t,a,r,n,i,l){this.raw=t,this.numberOfContours=a,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),$Se=(function(){function e(t,a,r,n,i){var l,o;for(this.raw=t,this.xMin=a,this.yMin=r,this.xMax=n,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;o=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&o;)l.pos+=1&o?4:2,128&o?l.pos+=8:64&o?l.pos+=4:8&o&&(l.pos+=2)}return e.prototype.encode=function(){var t,a,r;for(a=new Ff(PG.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)a.pos=this.glyphOffsets[t];return a.data},e})(),USe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return lu(e,xd),e.prototype.tag="loca",e.prototype.parse=function(t){var a,r;return t.pos=this.offset,a=this.file.head.indexToLocFormat,this.offsets=a===0?(function(){var n,i;for(i=[],r=0,n=this.length;r<n;r+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var n,i;for(i=[],r=0,n=this.length;r<n;r+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,a){for(var r=new Uint32Array(this.offsets.length),n=0,i=0,l=0;l<r.length;++l)if(r[l]=n,i<a.length&&a[i]==l){++i,r[l]=n;var o=this.offsets[l],c=this.offsets[l+1]-o;c>0&&(n+=c)}for(var d=new Array(4*r.length),u=0;u<r.length;++u)d[4*u+3]=255&r[u],d[4*u+2]=(65280&r[u])>>8,d[4*u+1]=(16711680&r[u])>>16,d[4*u]=(4278190080&r[u])>>24;return d},e})(),zSe=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,a,r,n,i;for(a in n=this.font.cmap.tables[0].codeMap,t={},i=this.subset)r=i[a],t[a]=n[r];return t},e.prototype.glyphsFor=function(t){var a,r,n,i,l,o,c;for(n={},l=0,o=t.length;l<o;l++)n[i=t[l]]=this.font.glyf.glyphFor(i);for(i in a=[],n)(r=n[i])!=null&&r.compound&&a.push.apply(a,r.glyphIDs);if(a.length>0)for(i in c=this.glyphsFor(a))r=c[i],n[i]=r;return n},e.prototype.encode=function(t,a){var r,n,i,l,o,c,d,u,f,p,m,v,g,b,j;for(n in r=MG.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),m={0:0},j=r.charMap)m[(c=j[n]).old]=c.new;for(v in p=r.maxGlyphID,l)v in m||(m[v]=p++);return u=(function(N){var k,S;for(k in S={},N)S[N[k]]=k;return S})(m),f=Object.keys(u).sort(function(N,k){return N-k}),g=(function(){var N,k,S;for(S=[],N=0,k=f.length;N<k;N++)o=f[N],S.push(u[o]);return S})(),i=this.font.glyf.encode(l,g,m),d=this.font.loca.encode(i.offsets,g),b={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(a)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},e})();fa.API.PDFObject=(function(){var e;function t(){}return e=function(a,r){return(Array(r+1).join("0")+a).slice(-r)},t.convert=function(a){var r,n,i,l;if(Array.isArray(a))return"["+(function(){var o,c,d;for(d=[],o=0,c=a.length;o<c;o++)r=a[o],d.push(t.convert(r));return d})().join(" ")+"]";if(typeof a=="string")return"/"+a;if(a?.isString)return"("+a+")";if(a instanceof Date)return"(D:"+e(a.getUTCFullYear(),4)+e(a.getUTCMonth(),2)+e(a.getUTCDate(),2)+e(a.getUTCHours(),2)+e(a.getUTCMinutes(),2)+e(a.getUTCSeconds(),2)+"Z)";if({}.toString.call(a)==="[object Object]"){for(n in i=["<<"],a)l=a[n],i.push("/"+n+" "+t.convert(l));return i.push(">>"),i.join(`
`)}return""+a},t})();const Mw=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:bSe,AcroFormAppearance:ua,AcroFormButton:Xn,AcroFormCheckBox:Lv,AcroFormChoiceField:em,AcroFormComboBox:am,AcroFormEditBox:Mv,AcroFormListBox:tm,AcroFormPasswordField:Ov,AcroFormPushButton:Pv,AcroFormRadioButton:sm,AcroFormTextField:Af,GState:b1,ShadingPattern:xf,TilingPattern:$0,default:fa,jsPDF:fa},Symbol.toStringTag,{value:"Module"}));function LG(e,t,a,r,n){r=r||{};var i=1.15,l=n.internal.scaleFactor,o=n.internal.getFontSize()/l,c=n.getLineHeightFactor?n.getLineHeightFactor():i,d=o*c,u=/\r\n|\r|\n/g,f="",p=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(f=typeof e=="string"?e.split(u):e,p=f.length||1),a+=o*(2-i),r.valign==="middle"?a-=p/2*d:r.valign==="bottom"&&(a-=p*d),r.halign==="center"||r.halign==="right"){var m=o;if(r.halign==="center"&&(m*=.5),f&&p>=1){for(var v=0;v<f.length;v++)n.text(f[v],t-n.getStringUnitWidth(f[v])*m,a),a+=d;return n}t-=n.getStringUnitWidth(e)*m}return r.halign==="justify"?n.text(e,t,a,{maxWidth:r.maxWidth||100,align:"justify"}):n.text(e,t,a),n}var t9={},Qp=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,a){a===void 0&&(a=null),a?a.__autoTableDocumentDefaults=t:t9=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,a){var r,n,i;a===void 0&&(a=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var l=this.jsPDFDocument.internal.getFont(),o=l.fontStyle,c=l.fontName;if(t.font&&(c=t.font),t.fontStyle){o=t.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),o=d[0])}if(this.jsPDFDocument.setFont(c,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!a){var u=e.unifyColor(t.fillColor);u&&(r=this.jsPDFDocument).setFillColor.apply(r,u),u=e.unifyColor(t.textColor),u&&(n=this.jsPDFDocument).setTextColor.apply(n,u),u=e.unifyColor(t.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,a,r){return this.jsPDFDocument.splitTextToSize(t,a,r)},e.prototype.rect=function(t,a,r,n,i){return this.jsPDFDocument.rect(t,a,r,n,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return t9||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),VC=function(e,t){return VC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n])},VC(e,t)};function OG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");VC(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}var RG=(function(e){OG(t,e);function t(a){var r=e.call(this)||this;return r._element=a,r}return t})(Array);function HSe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function VSe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Pw(e,t,a){a.applyStyles(t,!0);var r=Array.isArray(e)?e:[e],n=r.map(function(i){return a.getTextWidth(i)}).reduce(function(i,l){return Math.max(i,l)},0);return n}function FG(e,t,a,r){var n=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:n,lineColor:i});var l=IG(n,!1);l&&e.rect(a.x,a.y,t.getWidth(e.pageSize().width),r.y-a.y,l)}function IG(e,t){var a=e>0,r=t||t===0;return a&&r?"DF":a?"S":r?"F":null}function uN(e,t){var a,r,n,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(a=e.left)!==null&&a!==void 0?a:t,top:(r=e.top)!==null&&r!==void 0?r:t,right:(n=e.right)!==null&&n!==void 0?n:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function BG(e,t){var a=uN(t.settings.margin,0);return e.pageSize().width-(a.left+a.right)}function WSe(e,t,a,r,n){var i={},l=1.3333333333333333,o=P3(t,function(k){return n.getComputedStyle(k).backgroundColor});o!=null&&(i.fillColor=o);var c=P3(t,function(k){return n.getComputedStyle(k).color});c!=null&&(i.textColor=c);var d=GSe(r,a);d&&(i.cellPadding=d);var u="borderTopColor",f=l*a,p=r.borderTopWidth;if(r.borderBottomWidth===p&&r.borderRightWidth===p&&r.borderLeftWidth===p){var m=(parseFloat(p)||0)/f;m&&(i.lineWidth=m)}else i.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/f,right:(parseFloat(r.borderRightWidth)||0)/f,bottom:(parseFloat(r.borderBottomWidth)||0)/f,left:(parseFloat(r.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var v=P3(t,function(k){return n.getComputedStyle(k)[u]});v!=null&&(i.lineColor=v);var g=["left","right","center","justify"];g.indexOf(r.textAlign)!==-1&&(i.halign=r.textAlign),g=["middle","bottom","top"],g.indexOf(r.verticalAlign)!==-1&&(i.valign=r.verticalAlign);var b=parseInt(r.fontSize||"");isNaN(b)||(i.fontSize=b/l);var j=qSe(r);j&&(i.fontStyle=j);var N=(r.fontFamily||"").toLowerCase();return e.indexOf(N)!==-1&&(i.font=N),i}function qSe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function P3(e,t){var a=$G(e,t);if(!a)return null;var r=a.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var n=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],i=parseInt(r[4]);return i===0||isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function $G(e,t){var a=t(e);return a==="rgba(0, 0, 0, 0)"||a==="transparent"||a==="initial"||a==="inherit"?e.parentElement==null?null:$G(e.parentElement,t):a}function GSe(e,t){var a=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],r=96/(72/t),n=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=a.map(function(o){return parseInt(o||"0")/r}),l=uN(i,0);return n>l.top&&(l.top=n),n>l.bottom&&(l.bottom=n),l}function UG(e,t,a,r,n){var i,l;r===void 0&&(r=!1),n===void 0&&(n=!1);var o;typeof t=="string"?o=a.document.querySelector(t):o=t;var c=Object.keys(e.getFontList()),d=e.scaleFactor(),u=[],f=[],p=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:f,foot:p};for(var m=0;m<o.rows.length;m++){var v=o.rows[m],g=(l=(i=v?.parentElement)===null||i===void 0?void 0:i.tagName)===null||l===void 0?void 0:l.toLowerCase(),b=KSe(c,d,a,v,r,n);b&&(g==="thead"?u.push(b):g==="tfoot"?p.push(b):f.push(b))}return{head:u,body:f,foot:p}}function KSe(e,t,a,r,n,i){for(var l=new RG(r),o=0;o<r.cells.length;o++){var c=r.cells[o],d=a.getComputedStyle(c);if(n||d.display!=="none"){var u=void 0;i&&(u=WSe(e,c,t,d,a)),l.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:u,_element:c,content:YSe(c)})}}var f=a.getComputedStyle(r);if(l.length>0&&(n||f.display!=="none"))return l}function YSe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(a){return a.trim()}).join(`
`),t.innerText||t.textContent||""}function XSe(e,t,a){for(var r=0,n=[e,t,a];r<n.length;r++){var i=n[r];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Gu(e,t,a,r,n){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),l=1;l<arguments.length;l++){var o=arguments[l];if(o!=null)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])}return i}function Z8(e,t){var a=new Qp(e),r=a.getDocumentOptions(),n=a.getGlobalOptions();XSe(n,r,t);var i=Gu({},n,r,t),l;typeof window<"u"&&(l=window);var o=JSe(n,r,t),c=QSe(n,r,t),d=ZSe(a,i),u=tCe(a,i,l);return{id:t.tableId,content:u,hooks:c,styles:o,settings:d}}function JSe(e,t,a){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},n=function(c){if(c==="columnStyles"){var d=e[c],u=t[c],f=a[c];r.columnStyles=Gu({},d,u,f)}else{var p=[e,t,a],m=p.map(function(v){return v[c]||{}});r[c]=Gu({},m[0],m[1],m[2])}},i=0,l=Object.keys(r);i<l.length;i++){var o=l[i];n(o)}return r}function QSe(e,t,a){for(var r=[e,t,a],n={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,l=r;i<l.length;i++){var o=l[i];o.didParseCell&&n.didParseCell.push(o.didParseCell),o.willDrawCell&&n.willDrawCell.push(o.willDrawCell),o.didDrawCell&&n.didDrawCell.push(o.didDrawCell),o.willDrawPage&&n.willDrawPage.push(o.willDrawPage),o.didDrawPage&&n.didDrawPage.push(o.didDrawPage)}return n}function ZSe(e,t){var a,r,n,i,l,o,c,d,u,f,p,m,v=uN(t.margin,40/e.scaleFactor()),g=(a=eCe(e,t.startY))!==null&&a!==void 0?a:v.top,b;t.showFoot===!0?b="everyPage":t.showFoot===!1?b="never":b=(r=t.showFoot)!==null&&r!==void 0?r:"everyPage";var j;t.showHead===!0?j="everyPage":t.showHead===!1?j="never":j=(n=t.showHead)!==null&&n!==void 0?n:"everyPage";var N=(i=t.useCss)!==null&&i!==void 0?i:!1,k=t.theme||(N?"plain":"striped"),S=!!t.horizontalPageBreak,C=(l=t.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:N,theme:k,startY:g,margin:v,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=t.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:j,showFoot:b,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(p=t.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:S,horizontalPageBreakRepeat:C,horizontalPageBreakBehaviour:(m=t.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function eCe(e,t){var a=e.getLastAutoTable(),r=e.scaleFactor(),n=e.pageNumber(),i=!1;if(a&&a.startPageNumber){var l=a.startPageNumber+a.pageNumber-1;i=l===n}return typeof t=="number"?t:(t==null||t===!1)&&i&&a?.finalY!=null?a.finalY+20/r:null}function tCe(e,t,a){var r=t.head||[],n=t.body||[],i=t.foot||[];if(t.html){var l=t.includeHiddenHtml;if(a){var o=UG(e,t.html,a,l,t.useCss)||{};r=o.head||r,n=o.body||r,i=o.foot||r}else console.error("Cannot parse html in non browser environment")}var c=t.columns||aCe(r,n,i);return{columns:c,head:r,body:n,foot:i}}function aCe(e,t,a){var r=e[0]||t[0]||a[0]||[],n=[];return Object.keys(r).filter(function(i){return i!=="_element"}).forEach(function(i){var l=1,o;Array.isArray(r)?o=r[parseInt(i)]:o=r[i],typeof o=="object"&&!Array.isArray(o)&&(l=o?.colSpan||1);for(var c=0;c<l;c++){var d=void 0;Array.isArray(r)?d=n.length:d=i+(c>0?"_".concat(c):"");var u={dataKey:d};n.push(u)}}),n}var Lw=(function(){function e(t,a,r){this.table=a,this.pageNumber=a.pageNumber,this.settings=a.settings,this.cursor=r,this.doc=t.getDocument()}return e})(),zG=(function(e){OG(t,e);function t(a,r,n,i,l,o){var c=e.call(this,a,r,o)||this;return c.cell=n,c.row=i,c.column=l,c.section=i.section,c}return t})(Lw),HG=(function(){function e(t,a){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=a.columns,this.head=a.head,this.body=a.body,this.foot=a.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(a,r){return a+r.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(a,r){return a+r.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,a,r,n,i,l){for(var o=0,c=a;o<c.length;o++){var d=c[o],u=new zG(t,this,r,n,i,l),f=d(u)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,a){t.applyStyles(t.userStyles);for(var r=0,n=this.hooks.didDrawPage;r<n.length;r++){var i=n[r];i(new Lw(t,this,a))}},e.prototype.callWillDrawPageHooks=function(t,a){for(var r=0,n=this.hooks.willDrawPage;r<n.length;r++){var i=n[r];i(new Lw(t,this,a))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var a=this.columns.reduce(function(n,i){return n+i.wrappedWidth},0);return a}else{var r=this.settings.margin;return t-r.left-r.right}},e})(),e_=(function(){function e(t,a,r,n,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof RG&&(this.raw=t._element,this.element=t._element),this.index=a,this.section=r,this.cells=n,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var a=this;return t.reduce(function(r,n){var i;return Math.max(r,((i=a.cells[n.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var a=this;return t.filter(function(r){var n=a.cells[r.index];return n?n.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,a){return this.getMaxCellHeight(a)<=t},e.prototype.getMinimumRowHeight=function(t,a){var r=this;return t.reduce(function(n,i){var l=r.cells[i.index];if(!l)return 0;var o=a.getLineHeight(l.styles.fontSize),c=l.padding("vertical"),d=c+o;return d>n?d:n},0)},e})(),t_=(function(){function e(t,a,r){var n;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=a,this.section=r,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(n=t.content)!==null&&n!==void 0?n:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var l=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=l.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var a=this.height-this.padding("vertical");t=this.y+a/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var n=this.width-this.padding("horizontal");r=this.x+n/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:t}},e.prototype.getContentHeight=function(t,a){a===void 0&&(a=1.15);var r=Array.isArray(this.text)?this.text.length:1,n=this.styles.fontSize/t*a,i=r*n+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var a=uN(this.styles.cellPadding,0);return t==="vertical"?a.top+a.bottom:t==="horizontal"?a.left+a.right:a[t]},e})(),VG=(function(){function e(t,a,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=a,this.index=r}return e.prototype.getMaxCustomCellWidth=function(t){for(var a=0,r=0,n=t.allRows();r<n.length;r++){var i=n[r],l=i.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(a=Math.max(a,l.styles.cellWidth))}return a},e})();function sCe(e,t){rCe(e,t);var a=[],r=0;t.columns.forEach(function(i){var l=i.getMaxCustomCellWidth(t);l?i.width=l:(i.width=i.wrappedWidth,a.push(i)),r+=i.width});var n=t.getWidth(e.pageSize().width)-r;n&&(n=WC(a,n,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),n&&(n=WC(a,n,function(i){return i.minWidth})),n=Math.abs(n),!t.settings.horizontalPageBreak&&n>.1/e.scaleFactor()&&(n=n<1?n:Math.round(n),console.warn("Of the table content, ".concat(n," units width could not fit page"))),iCe(t),lCe(t,e),nCe(t)}function rCe(e,t){var a=e.scaleFactor(),r=t.settings.horizontalPageBreak,n=BG(e,t);t.allRows().forEach(function(i){for(var l=0,o=t.columns;l<o.length;l++){var c=o[l],d=i.cells[c.index];if(d){var u=t.hooks.didParseCell;t.callCellHooks(e,u,d,i,c,null);var f=d.padding("horizontal");d.contentWidth=Pw(d.text,d.styles,e)+f;var p=Pw(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=p+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||r===!0)d.contentWidth>n?(d.minWidth=n,d.wrappedWidth=n):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var m=10/a;d.minWidth=d.styles.minCellWidth||m,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(i){for(var l=0,o=t.columns;l<o.length;l++){var c=o[l],d=i.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var u=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},f=u.cellWidth||u.minCellWidth;f&&typeof f=="number"&&(c.minWidth=f,c.wrappedWidth=f)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function WC(e,t,a){for(var r=t,n=e.reduce(function(m,v){return m+v.wrappedWidth},0),i=0;i<e.length;i++){var l=e[i],o=l.wrappedWidth/n,c=r*o,d=l.width+c,u=a(l),f=d<u?u:d;t-=f-l.width,l.width=f}if(t=Math.round(t*1e10)/1e10,t){var p=e.filter(function(m){return t<0?m.width>a(m):!0});p.length&&(t=WC(p,t,a))}return t}function nCe(e){for(var t={},a=1,r=e.allRows(),n=0;n<r.length;n++)for(var i=r[n],l=0,o=e.columns;l<o.length;l++){var c=o[l],d=t[c.index];if(a>1)a--,delete i.cells[c.index];else if(d)d.cell.height+=i.height,a=d.cell.colSpan,delete i.cells[c.index],d.left--,d.left<=1&&delete t[c.index];else{var u=i.cells[c.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var f=r.length-n,p=u.rowSpan>f?f:u.rowSpan;t[c.index]={cell:u,left:p,row:i}}}}}function iCe(e){for(var t=e.allRows(),a=0;a<t.length;a++)for(var r=t[a],n=null,i=0,l=0,o=0;o<e.columns.length;o++){var c=e.columns[o];if(l-=1,l>1&&e.columns[o+1])i+=c.width,delete r.cells[c.index];else if(n){var d=n;delete r.cells[c.index],n=null,d.width=c.width+i}else{var d=r.cells[c.index];if(!d)continue;if(l=d.colSpan,i=0,d.colSpan>1){n=d,i+=c.width;continue}d.width=c.width+i}}}function lCe(e,t){for(var a={count:0,height:0},r=0,n=e.allRows();r<n.length;r++){for(var i=n[r],l=0,o=e.columns;l<o.length;l++){var c=o[l],d=i.cells[c.index];if(d){t.applyStyles(d.styles,!0);var u=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=t.splitTextToSize(d.text,u+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=a9(d.text,u,d.styles,t,"...");else if(d.styles.overflow==="hidden")d.text=a9(d.text,u,d.styles,t,"");else if(typeof d.styles.overflow=="function"){var f=d.styles.overflow(d.text,u);typeof f=="string"?d.text=[f]:d.text=f}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var p=d.contentHeight/d.rowSpan;d.rowSpan>1&&a.count*a.height<p*d.rowSpan?a={height:p,count:d.rowSpan}:a&&a.count>0&&a.height>p&&(p=a.height),p>i.height&&(i.height=p)}}a.count--}}function a9(e,t,a,r,n){return e.map(function(i){return oCe(i,t,a,r,n)})}function oCe(e,t,a,r,n){var i=1e4*r.scaleFactor();if(t=Math.ceil(t*i)/i,t>=Pw(e,a,r))return e;for(;t<Pw(e+n,a,r)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+n}function a_(e,t){var a=new Qp(e),r=cCe(t,a.scaleFactor()),n=new HG(t,r);return sCe(a,n),a.applyStyles(a.userStyles),n}function cCe(e,t){var a=e.content,r=uCe(a.columns);if(a.head.length===0){var n=s9(r,"head");n&&a.head.push(n)}if(a.foot.length===0){var n=s9(r,"foot");n&&a.foot.push(n)}var i=e.settings.theme,l=e.styles;return{columns:r,head:L3("head",a.head,r,l,i,t),body:L3("body",a.body,r,l,i,t),foot:L3("foot",a.foot,r,l,i,t)}}function L3(e,t,a,r,n,i){var l={},o=t.map(function(c,d){for(var u=0,f={},p=0,m=0,v=0,g=a;v<g.length;v++){var b=g[v];if(l[b.index]==null||l[b.index].left===0)if(m===0){var j=void 0;Array.isArray(c)?j=c[b.index-p-u]:j=c[b.dataKey];var N={};typeof j=="object"&&!Array.isArray(j)&&(N=j?.styles||{});var k=hCe(e,b,d,n,r,i,N),S=new t_(j,k,e);f[b.dataKey]=S,f[b.index]=S,m=S.colSpan-1,l[b.index]={left:S.rowSpan-1,times:m}}else m--,p++;else l[b.index].left--,m=l[b.index].times,u++}return new e_(c,d,e,f)});return o}function s9(e,t){var a={};return e.forEach(function(r){if(r.raw!=null){var n=dCe(t,r.raw);n!=null&&(a[r.dataKey]=n)}}),Object.keys(a).length>0?a:null}function dCe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function uCe(e){return e.map(function(t,a){var r,n;return typeof t=="object"?n=(r=t.dataKey)!==null&&r!==void 0?r:a:n=a,new VG(n,t,a)})}function hCe(e,t,a,r,n,i,l){var o=VSe(r),c;e==="head"?c=n.headStyles:e==="body"?c=n.bodyStyles:e==="foot"&&(c=n.footStyles);var d=Gu({},o.table,o[e],n.styles,c),u=n.columnStyles[t.dataKey]||n.columnStyles[t.index]||{},f=e==="body"?u:{},p=e==="body"&&a%2===0?Gu({},o.alternateRow,n.alternateRowStyles):{},m=HSe(i),v=Gu({},m,d,p,f);return Gu(v,l)}function fCe(e,t,a){var r;a===void 0&&(a={});var n=BG(e,t),i=new Map,l=[],o=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(p){var m=t.columns.find(function(v){return v.dataKey===p||v.index===p});m&&!i.has(m.index)&&(i.set(m.index,!0),l.push(m.index),o.push(t.columns[m.index]),n-=m.wrappedWidth)});for(var d=!0,u=(r=a?.start)!==null&&r!==void 0?r:0;u<t.columns.length;){if(i.has(u)){u++;continue}var f=t.columns[u].wrappedWidth;if(d||n>=f)d=!1,l.push(u),o.push(t.columns[u]),n-=f;else break;u++}return{colIndexes:l,columns:o,lastIndex:u-1}}function mCe(e,t){for(var a=[],r=0;r<t.columns.length;r++){var n=fCe(e,t,{start:r});n.columns.length&&(a.push(n),r=n.lastIndex)}return a}function s_(e,t){var a=t.settings,r=a.startY,n=a.margin,i={x:n.left,y:r},l=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=r+n.bottom+l;if(a.pageBreak==="avoid"){var c=t.body,d=c.reduce(function(p,m){return p+m.height},0);o+=d}var u=new Qp(e);(a.pageBreak==="always"||a.startY!=null&&o>u.pageSize().height)&&(qG(u),i.y=n.top),t.callWillDrawPageHooks(u,i);var f=Gu({},i);t.startPageNumber=u.pageNumber(),a.horizontalPageBreak?pCe(u,t,f,i):(u.applyStyles(u.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(p){return dh(u,t,p,i,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(p,m){var v=m===t.body.length-1;Ow(u,t,p,v,f,i,t.columns)}),u.applyStyles(u.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(p){return dh(u,t,p,i,t.columns)})),FG(u,t,f,i),t.callEndPageHooks(u,i),t.finalY=i.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function pCe(e,t,a,r){var n=mCe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")n.forEach(function(d,u){e.applyStyles(e.userStyles),u>0?Rv(e,t,a,r,d.columns,!0):r9(e,t,r,d.columns),xCe(e,t,a,r,d.columns),O3(e,t,r,d.columns)});else for(var l=-1,o=n[0],c=function(){var d=l;if(o){e.applyStyles(e.userStyles);var u=o.columns;l>=0?Rv(e,t,a,r,u,!0):r9(e,t,r,u),d=n9(e,t,l+1,r,u),O3(e,t,r,u)}var f=d-l;n.slice(1).forEach(function(p){e.applyStyles(e.userStyles),Rv(e,t,a,r,p.columns,!0),n9(e,t,l+1,r,p.columns,f),O3(e,t,r,p.columns)}),l=d};l<t.body.length-1;)c()}function r9(e,t,a,r){var n=t.settings;e.applyStyles(e.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(i){return dh(e,t,i,a,r)})}function xCe(e,t,a,r,n){e.applyStyles(e.userStyles),t.body.forEach(function(i,l){var o=l===t.body.length-1;Ow(e,t,i,o,a,r,n)})}function n9(e,t,a,r,n,i){e.applyStyles(e.userStyles),i=i??t.body.length;var l=Math.min(a+i,t.body.length),o=-1;return t.body.slice(a,l).forEach(function(c,d){var u=a+d===t.body.length-1,f=WG(e,t,u,r);c.canEntireRowFit(f,n)&&(dh(e,t,c,r,n),o=a+d)}),o}function O3(e,t,a,r){var n=t.settings;e.applyStyles(e.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(i){return dh(e,t,i,a,r)})}function gCe(e,t,a){var r=a.getLineHeight(e.styles.fontSize),n=e.padding("vertical"),i=Math.floor((t-n)/r);return Math.max(0,i)}function vCe(e,t,a,r){var n={};e.spansMultiplePages=!0,e.height=0;for(var i=0,l=0,o=a.columns;l<o.length;l++){var c=o[l],d=e.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var u=new t_(d.raw,d.styles,d.section);u=Gu(u,d),u.text=[];var f=gCe(d,t,r);d.text.length>f&&(u.text=d.text.splice(f,d.text.length));var p=r.scaleFactor(),m=r.getLineHeightFactor();d.contentHeight=d.getContentHeight(p,m),d.contentHeight>=t&&(d.contentHeight=t,u.styles.minCellHeight-=t),d.contentHeight>e.height&&(e.height=d.contentHeight),u.contentHeight=u.getContentHeight(p,m),u.contentHeight>i&&(i=u.contentHeight),n[c.index]=u}}var v=new e_(e.raw,-1,e.section,n,!0);v.height=i;for(var g=0,b=a.columns;g<b.length;g++){var c=b[g],u=v.cells[c.index];u&&(u.height=v.height);var d=e.cells[c.index];d&&(d.height=e.height)}return v}function bCe(e,t,a,r){var n=e.pageSize().height,i=r.settings.margin,l=i.top+i.bottom,o=n-l;t.section==="body"&&(o-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var c=t.getMinimumRowHeight(r.columns,e),d=c<a;if(c>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var u=t.hasRowSpan(r.columns),f=t.getMaxCellHeight(r.columns)>o;return f?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||r.settings.rowPageBreak==="avoid")}function Ow(e,t,a,r,n,i,l){var o=WG(e,t,r,i);if(a.canEntireRowFit(o,l))dh(e,t,a,i,l);else if(bCe(e,a,o,t)){var c=vCe(a,o,t,e);dh(e,t,a,i,l),Rv(e,t,n,i,l),Ow(e,t,c,r,n,i,l)}else Rv(e,t,n,i,l),Ow(e,t,a,r,n,i,l)}function dh(e,t,a,r,n){r.x=t.settings.margin.left;for(var i=0,l=n;i<l.length;i++){var o=l[i],c=a.cells[o.index];if(!c){r.x+=o.width;continue}e.applyStyles(c.styles),c.x=r.x,c.y=r.y;var d=t.callCellHooks(e,t.hooks.willDrawCell,c,a,o,r);if(d===!1){r.x+=o.width;continue}yCe(e,c,r);var u=c.getTextPos();LG(c.text,u.x,u.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,a,o,r),r.x+=o.width}r.y+=a.height}function yCe(e,t,a){var r=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof r.lineWidth=="number"){var n=IG(r.lineWidth,r.fillColor);n&&e.rect(t.x,a.y,t.width,t.height,n)}else typeof r.lineWidth=="object"&&(r.fillColor&&e.rect(t.x,a.y,t.width,t.height,"F"),wCe(e,t,a,r.lineWidth))}function wCe(e,t,a,r){var n,i,l,o;r.top&&(n=a.x,i=a.y,l=a.x+t.width,o=a.y,r.right&&(l+=.5*r.right),r.left&&(n-=.5*r.left),c(r.top,n,i,l,o)),r.bottom&&(n=a.x,i=a.y+t.height,l=a.x+t.width,o=a.y+t.height,r.right&&(l+=.5*r.right),r.left&&(n-=.5*r.left),c(r.bottom,n,i,l,o)),r.left&&(n=a.x,i=a.y,l=a.x,o=a.y+t.height,r.top&&(i-=.5*r.top),r.bottom&&(o+=.5*r.bottom),c(r.left,n,i,l,o)),r.right&&(n=a.x+t.width,i=a.y,l=a.x+t.width,o=a.y+t.height,r.top&&(i-=.5*r.top),r.bottom&&(o+=.5*r.bottom),c(r.right,n,i,l,o));function c(d,u,f,p,m){e.getDocument().setLineWidth(d),e.getDocument().line(u,f,p,m,"S")}}function WG(e,t,a,r){var n=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&a)&&(n+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-n}function Rv(e,t,a,r,n,i){n===void 0&&(n=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return dh(e,t,o,r,n)}),t.callEndPageHooks(e,r);var l=t.settings.margin;FG(e,t,a,r),qG(e),t.pageNumber++,r.x=l.left,r.y=l.top,a.y=l.top,t.callWillDrawPageHooks(e,r),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return dh(e,t,o,r,n)}),e.applyStyles(e.userStyles))}function qG(e){var t=e.pageNumber();e.setPage(t+1);var a=e.pageNumber();return a===t?(e.addPage(),!0):!1}function GG(e){e.API.autoTable=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var r=t[0],n=Z8(this,r),i=a_(this,n);return s_(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,a,r,n){LG(t,a,r,n,this)},e.API.autoTableSetDefaults=function(t){return Qp.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,a){Qp.setDefaults(t,a)},e.API.autoTableHtmlToJson=function(t,a){var r;if(a===void 0&&(a=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var n=new Qp(this),i=UG(n,t,window,a,!1),l=i.head,o=i.body,c=((r=l[0])===null||r===void 0?void 0:r.map(function(d){return d.content}))||[];return{columns:c,rows:o,data:o}}}var R3;function i9(e,t){var a=Z8(e,t),r=a_(e,a);s_(e,r)}function jCe(e,t){var a=Z8(e,t);return a_(e,a)}function NCe(e,t){s_(e,t)}try{if(typeof window<"u"&&window){var l9=window,o9=l9.jsPDF||((R3=l9.jspdf)===null||R3===void 0?void 0:R3.jsPDF);o9&&GG(o9)}}catch(e){console.error("Could not apply autoTable plugin",e)}const Rw=Object.freeze(Object.defineProperty({__proto__:null,Cell:t_,CellHookData:zG,Column:VG,HookData:Lw,Row:e_,Table:HG,__createTable:jCe,__drawTable:NCe,applyPlugin:GG,autoTable:i9,default:i9},Symbol.toStringTag,{value:"Module"})),zg=({active:e,onClick:t,children:a})=>s.jsx("button",{onClick:t,className:`px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm rounded-t-lg transition-all duration-300 whitespace-nowrap border-b-2 ${e?"border-blue-500 text-blue-600 font-medium bg-white/60 dark:bg-gray-800/60 shadow-sm":"border-transparent text-gray-700 dark:text-gray-200 hover:text-blue-600 hover:bg-white/40 dark:hover:bg-gray-800/40"}`,children:a});function kCe(){const{t:e,i18n:t}=Ct(),[a,r]=y.useState("personal"),[n,i]=y.useState(!1),l={fullName:"Ibrahim Mohamed",jobTitle:"Sales Manager",department:"Sales",email:"ibrahim@example.com",phone:"+2010XXXXXXX",lang:t.language.startsWith("ar")?"Arabic":"English",tz:"Africa/Cairo",theme:"Dark",notifEmail:!0,notifApp:!0,notifMonthly:!1,notifNewDevice:!0},[o,c]=y.useState(l.fullName),[d,u]=y.useState(l.jobTitle),[f,p]=y.useState(l.department),[m,v]=y.useState(l.email),[g,b]=y.useState(l.phone),[j,N]=y.useState(""),[k,S]=y.useState(""),[C,_]=y.useState(""),[P,L]=y.useState(""),[U,z]=y.useState(""),[T,F]=y.useState(!1),[M,I]=y.useState(!1),[W,R]=y.useState(!1),[q,ae]=y.useState(l.notifEmail),[te,K]=y.useState(l.notifApp),[oe,D]=y.useState(l.notifMonthly),[G,H]=y.useState(l.notifNewDevice),[X,se]=y.useState(l.lang),[ie,ne]=y.useState(l.tz),[J,le]=y.useState(l.theme),[pe,Q]=y.useState(""),[xe,he]=y.useState(""),[ue,Le]=y.useState("All"),ze=y.useMemo(()=>{let Ke=0;return P.length>=8&&Ke++,/[A-Z]/.test(P)&&Ke++,/[a-z]/.test(P)&&Ke++,/\d/.test(P)&&Ke++,/[^A-Za-z0-9]/.test(P)&&Ke++,Ke},[P]),Ce=y.useMemo(()=>[{date:"2025-11-12",action:"Login",device:"Chrome (Windows)",location:"Cairo, Egypt"},{date:"2025-11-11",action:"Password Change",device:"Edge (Windows)",location:"Giza, Egypt"},{date:"2025-11-09",action:"Login",device:"Safari (iOS)",location:"Alexandria, Egypt"}],[]),ce=y.useMemo(()=>Ce.filter(Ke=>{const Ue=ue==="All"||(Ke.device||"").toLowerCase().includes(ue.toLowerCase()),tt=!pe||Ke.date>=pe,ct=!xe||Ke.date<=xe;return Ue&&tt&&ct}),[Ce,ue,pe,xe]),Ie=()=>{const Ke=ea.json_to_sheet(ce),Ue=ea.book_new();ea.book_append_sheet(Ue,Ke,"SecurityLog"),Nr(Ue,"security_log.xlsx")},we=()=>{const Ke=new fa("p","pt","a4");Ke.setFontSize(14),Ke.text("Security Log",40,40);const Ue=[["Date","Action","Device","Location"]],tt=ce.map(ct=>[ct.date,ct.action,ct.device,ct.location]);Ke.autoTable({head:Ue,body:tt,startY:60}),Ke.save("security_log.pdf")},$e=Ke=>{const Ue=Ke.target.files?.[0];if(!Ue)return;N(Ue);const tt=new FileReader;tt.onload=ct=>S(ct.target?.result||""),tt.readAsDataURL(Ue)},Be=()=>{i(!0),setTimeout(()=>{i(!1)},900)},ft=()=>{c(l.fullName),u(l.jobTitle),p(l.department),v(l.email),b(l.phone),N(""),S(""),_(""),L(""),z(""),F(!1),I(!1),R(!1),ae(l.notifEmail),K(l.notifApp),D(l.notifMonthly),H(l.notifNewDevice),se(l.lang),ne(l.tz),le(l.theme),Q(""),he(""),Le("All"),r("personal")};return s.jsxs("div",{className:"rounded-2xl glass-panel w-full overflow-hidden shadow-2xl",children:[s.jsx("div",{className:"px-3 sm:px-4 pt-2 sm:pt-3",children:s.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar",children:[s.jsx(zg,{active:a==="personal",onClick:()=>r("personal"),children:e("Personal Info")}),s.jsx(zg,{active:a==="account",onClick:()=>r("account"),children:e("Account & Password")}),s.jsx(zg,{active:a==="notifications",onClick:()=>r("notifications"),children:e("Notifications")}),s.jsx(zg,{active:a==="preferences",onClick:()=>r("preferences"),children:e("Preferences")}),s.jsx(zg,{active:a==="log",onClick:()=>r("log"),children:e("Security Log")})]})}),s.jsxs("div",{className:"flex-1 overflow-auto p-3 sm:p-4 md:p-6 space-y-4 sm:space-y-6",children:[a==="personal"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Full Name")}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("input",{disabled:!0,className:"flex-1 bg-transparent outline-none opacity-70 cursor-not-allowed",value:o,onChange:Ke=>c(Ke.target.value),placeholder:e("Enter full name")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Job Title")}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("input",{disabled:!0,className:"flex-1 bg-transparent outline-none opacity-70 cursor-not-allowed",value:d,onChange:Ke=>u(Ke.target.value),placeholder:e("Enter job title")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Department")}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("input",{disabled:!0,className:"flex-1 bg-transparent outline-none opacity-70 cursor-not-allowed",value:f,onChange:Ke=>p(Ke.target.value),placeholder:e("Enter department")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Email")}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("input",{className:"flex-1 bg-transparent outline-none",value:m,onChange:Ke=>v(Ke.target.value),placeholder:e("Enter email")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Phone")}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("input",{className:"flex-1 bg-transparent outline-none",value:g,onChange:Ke=>b(Ke.target.value),placeholder:e("Enter phone")})]})]})]}),s.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-white/30 dark:via-gray-700 to-transparent"}),s.jsx("div",{className:"flex items-center gap-4 flex-wrap",children:s.jsxs("div",{className:"relative w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-full overflow-hidden ring-2 ring-white/30",children:[k?s.jsx("img",{src:k,alt:"avatar",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-xl sm:text-2xl",children:""}),s.jsxs("label",{className:"absolute inset-0 bg-black/40 opacity-0 hover:opacity-100 transition flex items-center justify-center text-xs text-white cursor-pointer",children:[e("Update Photo"),s.jsx("input",{type:"file",accept:"image/*",onChange:$e,className:"hidden"})]})]})}),s.jsx("div",{className:"h-4"})]}),a==="account"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Current Password")}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("input",{type:T?"text":"password",className:"flex-1 bg-transparent outline-none",value:C,onChange:Ke=>_(Ke.target.value),placeholder:e("Enter current password")}),s.jsx("button",{type:"button",className:"text-xs text-blue-600 hover:underline",onClick:()=>F(Ke=>!Ke),children:e(T?"Hide":"Show")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("New Password")}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("input",{type:M?"text":"password",className:"flex-1 bg-transparent outline-none",value:P,onChange:Ke=>L(Ke.target.value),placeholder:e("Enter new password")}),s.jsx("button",{type:"button",className:"text-xs text-blue-600 hover:underline",onClick:()=>I(Ke=>!Ke),children:e(M?"Hide":"Show")})]}),s.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded overflow-hidden",children:s.jsx("div",{className:`h-2 transition-all ${ze<=2?"bg-red-500":ze===3?"bg-yellow-500":"bg-emerald-500"}`,style:{width:`${ze/5*100}%`}})})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Confirm Password")}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",children:[s.jsx("input",{type:W?"text":"password",className:"flex-1 bg-transparent outline-none",value:U,onChange:Ke=>z(Ke.target.value),placeholder:e("Confirm new password")}),s.jsx("button",{type:"button",className:"text-xs text-blue-600 hover:underline",onClick:()=>R(Ke=>!Ke),children:e(W?"Hide":"Show")})]}),U&&U!==P&&s.jsx("div",{className:"text-xs text-rose-600",children:e("Passwords don't match")})]})]}),s.jsx("div",{className:"h-4"})]}),a==="notifications"&&s.jsxs("div",{className:"space-y-3",children:[[{key:"email",label:"Email Alerts",state:q,set:ae,icon:""},{key:"app",label:"App Notifications",state:te,set:K,icon:""},{key:"reports",label:"Monthly Reports",state:oe,set:D,icon:""},{key:"newdev",label:"Login from new devices",state:G,set:H,icon:""}].map(Ke=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-white/80 dark:bg-gray-800/80 hover:shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-lg",children:Ke.icon}),s.jsx("span",{className:"text-sm font-medium",children:e(Ke.label)})]}),s.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only",checked:Ke.state,onChange:Ue=>Ke.set(Ue.target.checked)}),s.jsx("span",{className:`w-10 h-5 flex items-center bg-gray-300 dark:bg-gray-700 rounded-full p-1 ${Ke.state?"justify-end":"justify-start"}`,children:s.jsx("span",{className:`w-4 h-4 rounded-full bg-white transition ${Ke.state?"shadow-[0_0_0_2px_rgba(59,130,246,0.6)]":""}`})})]})]},Ke.key)),s.jsx("div",{className:"h-4"})]}),a==="preferences"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Language")}),s.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:X,onChange:Ke=>se(Ke.target.value),children:[s.jsx("option",{children:"English"}),s.jsx("option",{children:"Arabic"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Time Zone")}),s.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:ie,onChange:Ke=>ne(Ke.target.value),children:[s.jsx("option",{children:"Africa/Cairo"}),s.jsx("option",{children:"Asia/Riyadh"}),s.jsx("option",{children:"Europe/London"}),s.jsx("option",{children:"UTC"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Theme")}),s.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:J,onChange:Ke=>le(Ke.target.value),children:[s.jsx("option",{children:"Dark"}),s.jsx("option",{children:"Light"}),s.jsx("option",{children:"Auto"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:s.jsxs("div",{className:"rounded-xl p-4 border bg-white/60 dark:bg-gray-800/60",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Live Preview")}),s.jsxs("div",{className:`rounded-lg h-24 flex items-center justify-center ${J==="Dark"?"bg-gradient-to-r from-gray-800 to-gray-900 text-white":"bg-gradient-to-r from-gray-100 to-white text-gray-800"}`,children:[J," Theme"]})]})}),s.jsx("div",{className:"h-4"})]}),a==="log"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Start Date")}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:pe,onChange:Ke=>Q(Ke.target.value)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("End Date")}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:xe,onChange:Ke=>he(Ke.target.value)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Device")}),s.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:ue,onChange:Ke=>Le(Ke.target.value),children:[s.jsx("option",{children:"All"}),s.jsx("option",{children:"Chrome"}),s.jsx("option",{children:"Edge"}),s.jsx("option",{children:"Safari"})]})]}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx("button",{className:"px-4 py-2 rounded-lg border bg-white/70 dark:bg-gray-800/70",onClick:Ie,children:e("Download Excel")}),s.jsx("button",{className:"px-4 py-2 rounded-lg border bg-white/70 dark:bg-gray-800/70",onClick:we,children:e("Download PDF")})]})]}),s.jsx("div",{className:"h-2"}),s.jsx("div",{className:"overflow-auto -mx-2 sm:-mx-4",children:s.jsxs("table",{className:"nova-table w-full text-sm min-w-[600px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"py-2 px-4",children:e("Date")}),s.jsx("th",{className:"py-2 px-4",children:e("Action")}),s.jsx("th",{className:"py-2 px-4",children:e("Device")}),s.jsx("th",{className:"py-2 px-4",children:e("Location")})]})}),s.jsxs("tbody",{className:"text-gray-800 dark:text-gray-100",children:[s.jsx("tr",{children:s.jsx("td",{className:"py-1",colSpan:"4"})}),ce.map((Ke,Ue)=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-800 hover:bg-white/40 dark:hover:bg-gray-800/40",children:[s.jsx("td",{className:"py-2 px-4",children:Ke.date}),s.jsx("td",{className:"py-2 px-4",children:Ke.action}),s.jsx("td",{className:"py-2 px-4",children:Ke.device}),s.jsx("td",{className:"py-2 px-4",children:Ke.location})]},Ue)),s.jsx("tr",{children:s.jsx("td",{className:"py-1",colSpan:"4"})})]})]})}),s.jsx("div",{className:"h-4"})]})]}),s.jsxs("div",{className:"px-3 sm:px-4 md:px-6 py-4 border-t border-white/20 dark:border-gray-700 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("Last updated: 2 days ago")}),s.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[s.jsx("button",{className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700",onClick:Be,children:e("Save")}),s.jsx("button",{className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600",onClick:ft,children:e("Reset")})]})]})]})}function SCe(){const{t:e}=Ct();return s.jsx(Ht,{children:s.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Profile Settings")})]}),s.jsx(kCe,{})]})})}function CCe(){const{t:e}=Ct();return s.jsx(Ht,{children:s.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Company Settings")})]}),s.jsx(q5e,{})]})})}const Hg=({title:e,icon:t,children:a,defaultOpen:r=!0})=>{const[n,i]=y.useState(r);return s.jsxs("div",{className:"glass-panel rounded-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:t}),s.jsx("h3",{className:"text-lg font-semibold",children:e})]}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>i(l=>!l),children:n?"Collapse":"Expand"})]}),n&&s.jsx("div",{className:"p-4 pt-0",children:a})]})},c9=e=>new Promise((t,a)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=a,r.readAsDataURL(e)}),ACe=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e||""),_Ce=e=>/^https?:\/\//i.test(e||""),TCe=e=>/^[+]?([0-9\-\s()]){6,}$/.test(e||"");function ECe(){const{t:e}=Ct(),t={companyName:"",tagline:"",businessType:"Real Estate",country:"Egypt",city:"",street:"",zip:"",lat:"",lng:"",phones:[""],whatsapp:"",fax:"",email:"",website:"",social:{facebook:"",instagram:"",linkedin:"",twitter:"",youtube:""},logo:"",favicon:"",publicVisible:!0},[a,r]=y.useState(t),[n,i]=y.useState(null);y.useEffect(()=>{const k=localStorage.getItem("contact-info-settings");if(k)try{r({...t,...JSON.parse(k)})}catch{}},[]),y.useEffect(()=>{const k=()=>l(),S=()=>o();return window.addEventListener("save-contact-info",k),window.addEventListener("reset-contact-info",S),()=>{window.removeEventListener("save-contact-info",k),window.removeEventListener("reset-contact-info",S)}},[a]);const l=()=>{localStorage.setItem("contact-info-settings",JSON.stringify(a)),i({type:"success",message:e("Settings saved")}),setTimeout(()=>i(null),2e3)},o=()=>{r(t),i({type:"success",message:e("Settings reset to default")}),setTimeout(()=>i(null),2e3)},c=(k,S)=>r(C=>({...C,[k]:S})),d=(k,S)=>r(C=>({...C,social:{...C.social,[k]:S}})),u=()=>r(k=>({...k,phones:[...k.phones,""]})),f=(k,S)=>r(C=>({...C,phones:C.phones.map((_,P)=>P===k?S:_)})),p=k=>r(S=>({...S,phones:S.phones.filter((C,_)=>_!==k)})),m=async k=>{const S=await c9(k);c("logo",S)},v=async k=>{const S=await c9(k);c("favicon",S)},g=y.useMemo(()=>a.email&&!ACe(a.email)?e("Invalid email"):"",[a.email,e]),b=y.useMemo(()=>a.website&&!_Ce(a.website)?e("Invalid URL (use http/https)"):"",[a.website,e]),j=y.useMemo(()=>a.phones.map(k=>k&&!TCe(k)?e("Invalid phone"):""),[a.phones,e]),N=y.useMemo(()=>{if(a.lat&&a.lng)return`https://www.google.com/maps?q=${a.lat},${a.lng}&z=14&output=embed`;const k=[a.street,a.city,a.country].filter(Boolean).join(", ");return k?`https://www.google.com/maps?q=${encodeURIComponent(k)}&z=14&output=embed`:""},[a.lat,a.lng,a.street,a.city,a.country]);return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Hg,{title:e("Company Information"),icon:"",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Company Name")}),s.jsx("input",{className:"input-soft w-full",value:a.companyName,onChange:k=>c("companyName",k.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Tagline / Slogan")}),s.jsx("input",{className:"input-soft w-full",value:a.tagline,onChange:k=>c("tagline",k.target.value),placeholder:e("Optional")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Business Type")}),s.jsx("select",{className:"input-soft w-full",value:a.businessType,onChange:k=>c("businessType",k.target.value),children:["Medical","Real Estate","Marketing","Retail","Education","Other"].map(k=>s.jsx("option",{value:k,children:k},k))})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("label",{className:"text-sm flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:a.publicVisible,onChange:k=>c("publicVisible",k.target.checked)})," ",e("Show contact info publicly")]})})]})}),s.jsxs(Hg,{title:e("Address"),icon:"",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Country")}),s.jsx("select",{className:"input-soft w-full",value:a.country,onChange:k=>c("country",k.target.value),children:["Egypt","Saudi Arabia","UAE","Jordan","Kuwait","Qatar","Other"].map(k=>s.jsx("option",{value:k,children:k},k))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("City")}),s.jsx("input",{className:"input-soft w-full",value:a.city,onChange:k=>c("city",k.target.value)})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"label",children:e("Street Address")}),s.jsx("textarea",{className:"input-soft w-full h-20",value:a.street,onChange:k=>c("street",k.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Zip Code")}),s.jsx("input",{className:"input-soft w-full",value:a.zip,onChange:k=>c("zip",k.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Latitude")}),s.jsx("input",{className:"input-soft w-full",value:a.lat,onChange:k=>c("lat",k.target.value),placeholder:"30.0444"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Longitude")}),s.jsx("input",{className:"input-soft w-full",value:a.lng,onChange:k=>c("lng",k.target.value),placeholder:"31.2357"})]})]})]}),N&&s.jsx("div",{className:"mt-4",children:s.jsx("iframe",{title:"map",src:N,className:"w-full h-56 rounded-xl border border-gray-200 dark:border-gray-800",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]}),s.jsx(Hg,{title:e("Communication"),icon:"",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Phone Numbers")}),s.jsxs("div",{className:"space-y-2",children:[a.phones.map((k,S)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:`input-soft flex-1 ${j[S]?"border-rose-400":""}`,value:k,onChange:C=>f(S,C.target.value),placeholder:e("e.g., +2010XXXXXXX")}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>p(S),disabled:a.phones.length===1,children:e("Remove")})]},S)),j.some(Boolean)&&s.jsx("div",{className:"text-xs text-rose-600",children:e("Please check phone formats")}),s.jsx("button",{className:"btn btn-primary btn-sm",onClick:u,children:e("Add Phone")})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("WhatsApp Number")}),s.jsx("input",{className:"input-soft w-full",value:a.whatsapp,onChange:k=>c("whatsapp",k.target.value),placeholder:e("e.g., +2010XXXXXXX")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Fax")}),s.jsx("input",{className:"input-soft w-full",value:a.fax,onChange:k=>c("fax",k.target.value),placeholder:e("Optional")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Email")}),s.jsx("input",{className:`input-soft w-full ${g?"border-rose-400":""}`,value:a.email,onChange:k=>c("email",k.target.value),placeholder:e("e.g., support@example.com")}),g&&s.jsx("div",{className:"text-xs text-rose-600 mt-1",children:g})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Website URL")}),s.jsx("input",{className:`input-soft w-full ${b?"border-rose-400":""}`,value:a.website,onChange:k=>c("website",k.target.value),placeholder:e("e.g., https://example.com")}),b&&s.jsx("div",{className:"text-xs text-rose-600 mt-1",children:b})]})]})]})}),s.jsx(Hg,{title:e("Social Links"),icon:"",defaultOpen:!1,children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"facebook",label:"Facebook",icon:""},{key:"instagram",label:"Instagram",icon:""},{key:"linkedin",label:"LinkedIn",icon:""},{key:"twitter",label:"X (Twitter)",icon:""},{key:"youtube",label:"YouTube",icon:""}].map(k=>s.jsxs("div",{children:[s.jsxs("label",{className:"label flex items-center gap-2",children:[s.jsx("span",{children:k.icon})," ",e(k.label)]}),s.jsx("input",{className:"input-soft w-full",value:a.social[k.key],onChange:S=>d(k.key,S.target.value),placeholder:e("Profile URL")})]},k.key))})}),s.jsxs(Hg,{title:e("Upload Assets"),icon:"",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-start",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Company Logo")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:k=>k.target.files?.[0]&&m(k.target.files[0])}),a.logo&&s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>c("logo",""),children:e("Remove")})]}),a.logo&&s.jsx("div",{className:"mt-2 w-40 h-40 rounded-xl overflow-hidden border",children:s.jsx("img",{src:a.logo,alt:"logo",className:"w-full h-full object-contain bg-white"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Favicon")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:k=>k.target.files?.[0]&&v(k.target.files[0])}),a.favicon&&s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>c("favicon",""),children:e("Remove")})]}),a.favicon&&s.jsx("div",{className:"mt-2 w-16 h-16 rounded-xl overflow-hidden border",children:s.jsx("img",{src:a.favicon,alt:"favicon",className:"w-full h-full object-contain bg-white"})})]})]}),s.jsx("div",{className:"text-xs text-[var(--muted-text)] mt-2",children:e("Logo and favicon will auto-preview and be used across the system.")})]}),n&&s.jsx("div",{className:`fixed top-4 right-4 z-50 px-3 py-2 rounded-lg shadow-lg ${n.type==="success"?"bg-emerald-600 text-white":"bg-rose-600 text-white"}`,children:n.message})]})}function DCe(){const{t:e}=Ct(),t=()=>{window.dispatchEvent(new Event("save-contact-info"))},a=()=>{window.dispatchEvent(new Event("reset-contact-info"))},r=s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-primary btn-sm",onClick:t,children:e("Save Changes")}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:a,children:e("Reset to Default")})]});return s.jsx(Ht,{title:e("Contact Info Settings"),actions:r,children:s.jsx("div",{className:"p-3 sm:p-4",children:s.jsx(ECe,{})})})}function MCe(){const{t:e}=Ct();return s.jsx(Ht,{children:s.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("System Preferences")})]}),s.jsx(Q5e,{})]})})}function PCe(){const{t:e}=Ct();return s.jsx(Ht,{children:s.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Modules Settings")})]}),s.jsx(J5e,{})]})})}function LCe(){const{t:e}=Ct();return s.jsx(Ht,{children:s.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Security Settings")})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[s.jsx("button",{className:"w-full sm:w-auto btn btn-primary",children:e("Save Changes")}),s.jsx("button",{className:"btn btn-glass p-2","aria-label":"Notifications",children:s.jsx("span",{role:"img","aria-hidden":!0,children:""})}),s.jsx("button",{className:"btn btn-glass p-2","aria-label":"Alerts",children:s.jsx("span",{role:"img","aria-hidden":!0,children:""})})]})]}),s.jsx(Z5e,{})]})})}function OCe(){return s.jsx(Ht,{title:"Custom Fields",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-3",children:"Custom Fields"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"Configure custom fields across entities."})]})})}function RCe(){return s.jsx(Ht,{title:"Audit Logs",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-3",children:"Audit Logs"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"Review system changes and activities."})]})})}function FCe(){const{t:e}=Ct();return s.jsx(Ht,{children:s.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Notifications Settings")})]}),s.jsx(G5e,{})]})})}const ICe=({open:e,title:t,children:a,onClose:r,onConfirm:n,confirmText:i="Save Template"})=>e?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:r}),s.jsxs("div",{className:"relative w-full max-w-xl glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:t}),s.jsx("button",{className:"btn btn-glass",onClick:r,children:"Cancel"})]}),s.jsx("div",{children:a}),s.jsxs("div",{className:"mt-5 flex items-center justify-end gap-2",children:[s.jsx("button",{className:"btn btn-glass",onClick:r,children:"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:n,children:i})]})]})]}):null,BCe=()=>s.jsx("span",{role:"img","aria-label":"preview",children:""}),$Ce=()=>s.jsx("span",{role:"img","aria-label":"edit",children:""}),UCe=()=>s.jsx("span",{role:"img","aria-label":"delete",children:""}),zCe=()=>s.jsx("span",{role:"img","aria-label":"duplicate",children:""});function HCe(){const[e,t]=y.useState([{id:"tpl-otp",name:"OTP Verification",type:"OTP",body:"Hi {{name}}, your verification code is {{otp}}.",status:"Active",updatedAt:new Date().toLocaleString()},{id:"tpl-payment",name:"Payment Confirmation",type:"Payment",body:"Dear {{name}}, your payment of {{amount}} on {{date}} was successful.",status:"Active",updatedAt:new Date().toLocaleString()},{id:"tpl-renewal",name:"Renewal Reminder",type:"Renewal",body:"Hi {{name}}, your plan renewal is due on {{date}}.",status:"Inactive",updatedAt:new Date().toLocaleString()}]),[a,r]=y.useState(""),[n,i]=y.useState("All"),[l,o]=y.useState("All"),[c,d]=y.useState(1),u=5,[f,p]=y.useState(null),[m,v]=y.useState(!1),[g,b]=y.useState(null),[j,N]=y.useState(""),[k,S]=y.useState("OTP"),[C,_]=y.useState(""),[P,L]=y.useState("Active"),[U,z]=y.useState("tpl-otp"),T=y.useMemo(()=>e.filter(D=>D.status==="Active").length,[e]),F=y.useMemo(()=>{const D=a.trim().toLowerCase();return e.filter(G=>{const H=!D||G.name.toLowerCase().includes(D)||G.body.toLowerCase().includes(D),X=n==="All"||G.type===n,se=l==="All"||G.status===l;return H&&X&&se})},[e,a,n,l]),M=Math.max(1,Math.ceil(F.length/u)),I=F.slice((c-1)*u,c*u);y.useEffect(()=>{c>M&&d(1)},[M,c]);const W=()=>{b(null),N(""),S("OTP"),_(""),L("Active"),v(!0)},R=D=>{b(D),N(D.name),S(D.type),_(D.body),L(D.status),v(!0)},q=()=>{const D=j.trim(),G=C.trim();if(!D||!G){p({type:"error",message:"Please fill in all required fields."}),setTimeout(()=>p(null),2500);return}if(g)t(H=>H.map(X=>X.id===g.id?{...X,name:D,type:k,body:G,status:P,updatedAt:new Date().toLocaleString()}:X)),p({type:"success",message:"Template updated successfully."});else{const H="tpl-"+D.toLowerCase().replace(/\s+/g,"-")+"-"+Math.random().toString(36).slice(2);t(X=>[{id:H,name:D,type:k,body:G,status:P,updatedAt:new Date().toLocaleString()},...X]),p({type:"success",message:"Template saved successfully."})}setTimeout(()=>p(null),2500),v(!1)},ae=D=>{t(G=>G.filter(H=>H.id!==D.id)),p({type:"success",message:"Template deleted."}),setTimeout(()=>p(null),2e3)},te=D=>{const G=D.id+"-copy-"+Math.random().toString(36).slice(2),H={...D,id:G,name:D.name+" (Copy)",updatedAt:new Date().toLocaleString()};t(X=>[H,...X]),p({type:"success",message:"Template duplicated."}),setTimeout(()=>p(null),2e3)},K=y.useMemo(()=>(m?C:e.find(G=>G.id===U)?.body||"").replaceAll("{{name}}","John Doe").replaceAll("{{amount}}","$99.00").replaceAll("{{date}}","2025-01-31").replaceAll("{{otp}}","482913"),[m,C,U,e]),oe=(m?C:e.find(D=>D.id===U)?.body||"").length;return s.jsxs("div",{className:"p-6 bg-[var(--content-bg)] text-[var(--content-text)]",children:[f&&s.jsx("div",{className:`fixed top-4 right-4 z-50 px-3 py-2 rounded-lg shadow-lg ${f.type==="success"?"bg-emerald-600 text-white":"bg-rose-600 text-white"}`,children:f.message}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"SMS Templates"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-sm text-[var(--muted-text)]",children:["Active ",T," / Total ",e.length]}),s.jsx("button",{className:"btn btn-primary",onClick:W,children:"Add New Template"})]})]}),s.jsx("div",{className:"glass-panel rounded-2xl p-4 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsx("input",{className:"input-soft",placeholder:"Search templates",value:a,onChange:D=>r(D.target.value)}),s.jsxs("select",{className:"input-soft",value:n,onChange:D=>{i(D.target.value),d(1)},children:[s.jsx("option",{children:"All"}),s.jsx("option",{children:"OTP"}),s.jsx("option",{children:"Payment"}),s.jsx("option",{children:"Renewal"}),s.jsx("option",{children:"Reminder"}),s.jsx("option",{children:"Custom"})]}),s.jsxs("select",{className:"input-soft",value:l,onChange:D=>{o(D.target.value),d(1)},children:[s.jsx("option",{children:"All"}),s.jsx("option",{children:"Active"}),s.jsx("option",{children:"Inactive"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Templates"}),s.jsxs("div",{className:"text-sm text-[var(--muted-text)]",children:["Page ",c," of ",M]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full table-auto text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[s.jsx("th",{className:"px-4 py-3 text-left",children:"Template Name"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Template Type"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Last Updated"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Actions"})]})}),s.jsx("tbody",{children:I.length===0?s.jsx("tr",{children:s.jsx("td",{className:"px-4 py-4 text-center text-gray-500",colSpan:5,children:"No templates"})}):I.map(D=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[s.jsx("td",{className:"px-4 py-2",children:D.name}),s.jsx("td",{className:"px-4 py-2",children:D.type}),s.jsx("td",{className:"px-4 py-2",children:D.updatedAt}),s.jsx("td",{className:`px-4 py-2 font-medium ${D.status==="Active"?"text-emerald-600":"text-rose-600"}`,children:D.status}),s.jsxs("td",{className:"px-4 py-2 flex items-center gap-1",children:[s.jsxs("button",{className:"btn btn-glass btn-sm text-xs scale-90",onClick:()=>z(D.id),children:[s.jsx(BCe,{})," Preview"]}),s.jsxs("button",{className:"btn btn-glass btn-sm text-xs scale-90",onClick:()=>R(D),children:[s.jsx($Ce,{})," Edit"]}),s.jsxs("button",{className:"btn btn-glass btn-sm text-xs scale-90",onClick:()=>te(D),children:[s.jsx(zCe,{})," Duplicate"]}),s.jsxs("button",{className:"btn btn-danger btn-sm text-xs scale-90",onClick:()=>ae(D),children:[s.jsx(UCe,{})," Delete"]})]})]},D.id))})]})}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:["Showing ",I.length," of ",F.length]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-glass btn-sm",disabled:c===1,onClick:()=>d(D=>Math.max(1,D-1)),children:"Prev"}),s.jsx("button",{className:"btn btn-glass btn-sm",disabled:c===M,onClick:()=>d(D=>Math.min(M,D+1)),children:"Next"})]})]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Placeholder Guide"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[s.jsx("th",{className:"px-3 py-2 text-left",children:"Placeholder"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Description"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[s.jsx("td",{className:"px-3 py-2",children:"{{name}}"}),s.jsx("td",{className:"px-3 py-2",children:"Customer Name"})]}),s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[s.jsx("td",{className:"px-3 py-2",children:"{{amount}}"}),s.jsx("td",{className:"px-3 py-2",children:"Payment Amount"})]}),s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[s.jsx("td",{className:"px-3 py-2",children:"{{date}}"}),s.jsx("td",{className:"px-3 py-2",children:"Renewal Date"})]}),s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[s.jsx("td",{className:"px-3 py-2",children:"{{otp}}"}),s.jsx("td",{className:"px-3 py-2",children:"Verification Code"})]})]})]})}),s.jsx("p",{className:"text-xs text-[var(--muted-text)] mt-2",children:"System replaces placeholders automatically when sending."})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Message Preview"}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:["Characters: ",oe]})]}),s.jsx("div",{className:"rounded-xl border border-gray-200 dark:border-gray-700 p-4 bg-white dark:bg-gray-900 shadow-sm",children:s.jsx("div",{className:"w-full h-48 rounded-lg bg-gray-50 dark:bg-gray-800 p-4 overflow-auto",children:s.jsx("p",{className:"text-sm leading-6 whitespace-pre-wrap",children:K})})})]})]})]}),s.jsx(ICe,{open:m,title:g?"Edit Template":"Add New Template",onClose:()=>v(!1),onConfirm:q,children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Template Name"}),s.jsx("input",{className:"input-soft w-full",value:j,onChange:D=>N(D.target.value),placeholder:"e.g., Payment Confirmation"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Template Type"}),s.jsxs("select",{className:"input-soft w-full",value:k,onChange:D=>S(D.target.value),children:[s.jsx("option",{children:"OTP"}),s.jsx("option",{children:"Payment"}),s.jsx("option",{children:"Renewal"}),s.jsx("option",{children:"Reminder"}),s.jsx("option",{children:"Custom"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Message Body"}),s.jsx("textarea",{className:"input-soft w-full h-32",value:C,onChange:D=>_(D.target.value),placeholder:"Hi {{name}}, your verification code is {{otp}}."}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)] mt-1",children:["Supports placeholders like ","{{name}}",", ","{{amount}}",", ","{{date}}",", ","{{otp}}","."]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Status"}),s.jsxs("select",{className:"input-soft w-full",value:P,onChange:D=>L(D.target.value),children:[s.jsx("option",{children:"Active"}),s.jsx("option",{children:"Inactive"})]})]})]})})]})}function VCe(){return s.jsx(Ht,{children:s.jsx(HCe,{})})}const d2=({title:e,icon:t,children:a})=>s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("span",{children:t}),s.jsx("h3",{className:"text-lg font-semibold",children:e})]}),a]}),Vg=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e||""),WCe=e=>/^[a-zA-Z0-9.-]+$/.test(e||"")&&(e||"").includes("."),qCe=e=>Number(e)>=1&&Number(e)<=65535;function GCe(){const{t:e}=Ct(),t={smtpHost:"",smtpPort:587,encryption:"TLS",username:"",password:"",senderName:"Tagen Hekaya CRM",senderEmail:"",replyToEmail:"",notifAdmin:"",notifSupport:"",notifSales:"",logsTargets:{Admin:!0,Developer:!1,None:!1},signatureHtml:'Best Regards,<br><b>Tagin Hekaya Team</b><br><a href="https://www.taginhekaya.com">www.taginhekaya.com</a>'},[a,r]=y.useState(t),[n,i]=y.useState(!1),[l,o]=y.useState(""),[c,d]=y.useState(null),u=y.useRef(null);y.useEffect(()=>{const T=localStorage.getItem("email-settings");if(T)try{r({...t,...JSON.parse(T)})}catch{}},[]),y.useEffect(()=>{const T=()=>f(),F=()=>p(),M=()=>P();return window.addEventListener("save-email-settings",T),window.addEventListener("reset-email-settings",F),window.addEventListener("test-email-settings",M),()=>{window.removeEventListener("save-email-settings",T),window.removeEventListener("reset-email-settings",F),window.removeEventListener("test-email-settings",M)}},[a]);const f=()=>{localStorage.setItem("email-settings",JSON.stringify(a)),d({type:"success",message:e("Settings saved")}),setTimeout(()=>d(null),2e3)},p=()=>{r(t),d({type:"success",message:e("Settings reset to default")}),setTimeout(()=>d(null),2e3)},m=(T,F)=>r(M=>({...M,[T]:F})),v=(T,F)=>{r(M=>{const I={...M.logsTargets,[T]:F};return T==="None"&&F?(I.Admin=!1,I.Developer=!1):T!=="None"&&F&&(I.None=!1),{...M,logsTargets:I}})},g=y.useMemo(()=>a.smtpHost&&!WCe(a.smtpHost)?e("Invalid SMTP host"):"",[a.smtpHost,e]),b=y.useMemo(()=>a.smtpPort&&!qCe(a.smtpPort)?e("Invalid SMTP port"):"",[a.smtpPort,e]),j=y.useMemo(()=>a.senderEmail&&!Vg(a.senderEmail)?e("Invalid email"):"",[a.senderEmail,e]),N=y.useMemo(()=>a.replyToEmail&&!Vg(a.replyToEmail)?e("Invalid email"):"",[a.replyToEmail,e]),k=y.useMemo(()=>a.notifAdmin&&!Vg(a.notifAdmin)?e("Invalid email"):"",[a.notifAdmin,e]),S=y.useMemo(()=>a.notifSupport&&!Vg(a.notifSupport)?e("Invalid email"):"",[a.notifSupport,e]),C=y.useMemo(()=>a.notifSales&&!Vg(a.notifSales)?e("Invalid email"):"",[a.notifSales,e]),_=async()=>{o(e("Testing SMTP connection...")),await new Promise(T=>setTimeout(T,800)),!g&&!b&&a.username&&a.password?(o(e("Connection successful")),d({type:"success",message:e("SMTP connection verified!")})):(o(e("Connection failed")),d({type:"error",message:e("Please fix validation errors before testing.")})),setTimeout(()=>d(null),2e3)},P=async()=>{o(e("Sending test email...")),await new Promise(T=>setTimeout(T,800)),!j&&a.senderName&&a.senderEmail?(o(e("Test email sent successfully!")),d({type:"success",message:e("Test email sent successfully!")})):(o(e("Failed to send test email")),d({type:"error",message:e("Please fix sender details and try again.")})),setTimeout(()=>d(null),2e3)},L=(T,F=null)=>{document.execCommand(T,!1,F);const M=u.current?.innerHTML||"";m("signatureHtml",M)},U=()=>{const T=prompt(e("Enter link URL"));T&&L("createLink",T)},z=()=>{const T=prompt(e("Enter image URL"));T&&L("insertImage",T)};return y.useEffect(()=>{u.current&&a.signatureHtml&&(u.current.innerHTML=a.signatureHtml)},[u,a.signatureHtml]),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(d2,{title:e("SMTP Configuration"),icon:"",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("SMTP Host")}),s.jsx("input",{className:`input-soft w-full ${g?"border-rose-400":""}`,value:a.smtpHost,onChange:T=>m("smtpHost",T.target.value),placeholder:"smtp.gmail.com"}),g&&s.jsx("div",{className:"text-xs text-rose-600 mt-1",children:g})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("SMTP Port")}),s.jsx("input",{type:"number",className:`input-soft w-full ${b?"border-rose-400":""}`,value:a.smtpPort,onChange:T=>m("smtpPort",T.target.value),placeholder:"465 / 587"}),b&&s.jsx("div",{className:"text-xs text-rose-600 mt-1",children:b})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Encryption Type")}),s.jsx("select",{className:"input-soft w-full",value:a.encryption,onChange:T=>m("encryption",T.target.value),children:["SSL","TLS","None"].map(T=>s.jsx("option",{value:T,children:T},T))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("SMTP Username")}),s.jsx("input",{className:"input-soft w-full",value:a.username,onChange:T=>m("username",T.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("SMTP Password")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:n?"text":"password",className:"input-soft w-full",value:a.password,onChange:T=>m("password",T.target.value)}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>i(T=>!T),children:e(n?"Hide":"Show")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Sender Name")}),s.jsx("input",{className:"input-soft w-full",value:a.senderName,onChange:T=>m("senderName",T.target.value),placeholder:"Tagen Hekaya CRM"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Sender Email")}),s.jsx("input",{className:`input-soft w-full ${j?"border-rose-400":""}`,value:a.senderEmail,onChange:T=>m("senderEmail",T.target.value),placeholder:"noreply@example.com"}),j&&s.jsx("div",{className:"text-xs text-rose-600 mt-1",children:j})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Reply-To Email")}),s.jsx("input",{className:`input-soft w-full ${N?"border-rose-400":""}`,value:a.replyToEmail,onChange:T=>m("replyToEmail",T.target.value),placeholder:e("Optional")}),N&&s.jsx("div",{className:"text-xs text-rose-600 mt-1",children:N})]})]}),s.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[s.jsxs("button",{className:"btn btn-glass btn-sm",onClick:_,children:[" ",e("Test Connection")]}),l&&s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:l})]})]}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsxs(d2,{title:e("System Notification Emails"),icon:"",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Admin Notification Email")}),s.jsx("input",{className:`input-soft w-full ${k?"border-rose-400":""}`,value:a.notifAdmin,onChange:T=>m("notifAdmin",T.target.value)}),k&&s.jsx("div",{className:"text-xs text-rose-600 mt-1",children:k})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Support Email")}),s.jsx("input",{className:`input-soft w-full ${S?"border-rose-400":""}`,value:a.notifSupport,onChange:T=>m("notifSupport",T.target.value)}),S&&s.jsx("div",{className:"text-xs text-rose-600 mt-1",children:S})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Sales Notification Email")}),s.jsx("input",{className:`input-soft w-full ${C?"border-rose-400":""}`,value:a.notifSales,onChange:T=>m("notifSales",T.target.value)}),C&&s.jsx("div",{className:"text-xs text-rose-600 mt-1",children:C})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"label mb-2",children:e("Send System Logs to")}),s.jsx("div",{className:"flex flex-wrap items-center gap-4",children:["Admin","Developer","None"].map(T=>s.jsxs("label",{className:"text-sm flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:!!a.logsTargets[T],onChange:F=>v(T,F.target.checked)})," ",e(T)]},T))})]})]}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsx(d2,{title:e("Email Signature"),icon:"",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>L("bold"),children:e("Bold")}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>L("italic"),children:e("Italic")}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:U,children:e("Link")}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:z,children:e("Image")})]}),s.jsx("div",{ref:u,className:"rounded-xl border border-gray-200 dark:border-gray-800 p-3 min-h-[120px] bg-white dark:bg-gray-900",contentEditable:!0,onInput:T=>m("signatureHtml",T.currentTarget.innerHTML),suppressContentEditableWarning:!0}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("Supports images, links, and basic HTML styling.")})]})}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsx(d2,{title:e("Email Templates Shortcut"),icon:"",children:s.jsxs("div",{className:"rounded-xl border border-gray-200 dark:border-gray-800 p-4 bg-white/60 dark:bg-gray-800/40 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500/20 via-purple-500/20 to-pink-500/20 flex items-center justify-center",children:s.jsx("span",{className:"text-lg",children:""})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold",children:e("Design reusable email templates")}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("Create, edit and organize all email templates")})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{className:"btn btn-primary btn-sm text-xs scale-90 px-3",onClick:()=>{const T=new CustomEvent("navigate-to-email-templates");window.dispatchEvent(T)},children:e("Manage Templates")})})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:"btn btn-primary btn-sm",onClick:f,children:[" ",e("Save Changes")]}),s.jsxs("button",{className:"btn btn-glass btn-sm",onClick:P,children:[" ",e("Test Email")]}),s.jsxs("button",{className:"btn btn-danger btn-sm",onClick:p,children:[" ",e("Reset Settings")]})]}),c&&s.jsx("div",{className:`fixed top-4 right-4 z-50 px-3 py-2 rounded-lg shadow-lg ${c.type==="success"?"bg-emerald-600 text-white":"bg-rose-600 text-white"}`,children:c.message})]})}function KCe(){const{t:e}=Ct(),t=Ys();y.useEffect(()=>{const l=()=>t("/settings/sms-templates");return window.addEventListener("navigate-to-email-templates",l),()=>window.removeEventListener("navigate-to-email-templates",l)},[t]);const a=()=>window.dispatchEvent(new Event("save-email-settings")),r=()=>window.dispatchEvent(new Event("test-email-settings")),n=()=>window.dispatchEvent(new Event("reset-email-settings")),i=s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-primary btn-sm",onClick:a,children:e("Save Changes")}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:r,children:e("Test Email")}),s.jsx("button",{className:"btn btn-danger btn-sm",onClick:n,children:e("Reset Settings")})]});return s.jsx(Ht,{title:e("Email Settings"),actions:i,children:s.jsx("div",{className:"p-4",children:s.jsx(GCe,{})})})}function YCe(){return s.jsx(Ht,{title:"WhatsApp Templates",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-3",children:"WhatsApp Templates"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"Manage WhatsApp template content."})]})})}function XCe(){const{t:e}=Ct();return s.jsx(Ht,{children:s.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Billing & Subscription")})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[s.jsx("button",{className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700",children:"Add New Subscription"}),s.jsx("button",{className:"p-2 rounded-lg border bg-white/60 dark:bg-gray-800/60 hover:bg-white",children:""}),s.jsx("button",{className:"p-2 rounded-lg border bg-white/60 dark:bg-gray-800/60 hover:bg-white",children:""})]})]}),s.jsx(X5e,{})]})})}function JCe(){return s.jsx(Ht,{title:"Payment History",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-3",children:"Payment History"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"View invoices and payments."})]})})}function QCe(){const{t:e}=Ct(),{subscription:t}=Bj(),a=y.useMemo(()=>{const l=t?.plan_name||t?.plan||t?.name||"Free";return String(l).trim()},[t]),r=[{key:"Free",title:e("Starter"),price:e("$0 / mo"),features:[e("Basic CRM and leads"),e("Limited modules access"),e("Community support")],action:e("Stay on Free")},{key:"Pro",title:e("Pro"),price:e("$29 / mo"),features:[e("All core modules"),e("Notifications & Templates"),e("Basic reports")],action:e("Upgrade to Pro"),recommended:!0},{key:"Enterprise",title:e("Enterprise"),price:e("Contact us"),features:[e("Advanced reports and analytics"),e("Custom fields and audit logs"),e("Priority support & SLA")],action:e("Talk to Sales")}],n=["Free","Pro","Enterprise"],i=n.indexOf(a)===-1?0:n.indexOf(a);return s.jsx(Ht,{children:s.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-indigo-500 to-purple-600 rounded-full"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Plans & Upgrade")})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[s.jsx(os,{to:"/settings/billing/subscription",className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700",children:e("View Subscription")}),s.jsx(os,{to:"/pricing",className:"p-2 rounded-lg border bg-white/60 dark:bg-gray-800/60 hover:bg-white",children:e("Pricing")})]})]}),s.jsx("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:e("Current Plan")}),s.jsx("div",{className:"text-lg font-semibold",children:a||e("Unknown")})]}),s.jsx(os,{to:"/pricing",className:"text-sm px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700",children:e("See all plans")})]})}),s.jsx("div",{className:"grid gap-4 sm:gap-6 sm:grid-cols-2 md:grid-cols-3",children:r.map((l,o)=>{const c=n[o]===a,d=o<=i;return s.jsxs("div",{className:`rounded-lg border p-5 ${l.recommended?"border-indigo-500 shadow-md":"border-gray-200 dark:border-gray-700"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-xl font-semibold",children:l.title}),l.recommended&&s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-indigo-600 text-white",children:e("Recommended")})]}),s.jsx("div",{className:"text-2xl font-bold mb-3",children:l.price}),s.jsx("ul",{className:"space-y-2 text-sm mb-4",children:l.features.map(u=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:u})]},u))}),c?s.jsx("button",{className:"w-full px-4 py-2 rounded-md bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 cursor-default",disabled:!0,children:e("Current")}):s.jsx(os,{to:l.key==="Enterprise"?"/welcome/contact":"/pricing",className:`w-full inline-flex justify-center px-4 py-2 rounded-md ${d?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"}`,"aria-disabled":d,children:l.action})]},l.key)})}),s.jsx("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 p-3 sm:p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:e("Need a custom package or have compliance requirements?")}),s.jsx(os,{to:"/welcome/contact",className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700",children:e("Contact Sales")})]})})]})})}function ZCe(){return s.jsx(Ht,{title:"API Keys",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-3",children:"API Keys"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"Manage API keys for integrations."})]})})}function e6e(){return s.jsx(Ht,{title:"Webhooks",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-3",children:"Webhooks"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"Configure webhook endpoints and events."})]})})}const F3=({open:e,title:t,children:a,onClose:r,onConfirm:n,confirmText:i="Confirm"})=>e?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:r}),s.jsxs("div",{className:"relative w-full max-w-xl glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:t}),s.jsx("button",{className:"btn btn-glass",onClick:r,children:"Cancel"})]}),s.jsx("div",{children:a}),s.jsxs("div",{className:"mt-5 flex items-center justify-end gap-2",children:[s.jsx("button",{className:"btn btn-glass",onClick:r,children:"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:n,children:i})]})]})]}):null,u2=()=>s.jsx("span",{role:"img","aria-label":"WhatsApp",children:""}),t6e=()=>s.jsx("span",{role:"img","aria-label":"Send",children:""}),a6e=()=>s.jsx("span",{role:"img","aria-label":"Refresh",children:""});function s6e(){const[e,t]=y.useState("Meta API"),[a,r]=y.useState(""),[n,i]=y.useState(""),[l,o]=y.useState(""),[c,d]=y.useState(""),[u,f]=y.useState(""),[p,m]=y.useState("disconnected"),[v,g]=y.useState(""),[b,j]=y.useState(0),[N,k]=y.useState([{id:"wa-otp",name:"OTP Auth",category:"Authentication",language:"en",status:"Approved",body:"Hi {{name}}, your WhatsApp verification code is {{otp}}."},{id:"wa-pay",name:"Payment Confirmation",category:"Utility",language:"en",status:"Pending",body:"Dear {{name}}, we received {{amount}} on {{date}}."},{id:"wa-promo",name:"Promo Offer",category:"Marketing",language:"en",status:"Rejected",body:"Hi {{name}}, check our new offers today!"}]),[S,C]=y.useState(!1),[_,P]=y.useState(null),[L,U]=y.useState(""),[z,T]=y.useState("Marketing"),[F,M]=y.useState("en"),[I,W]=y.useState(""),[R,q]=y.useState({open:!1,tpl:null}),[ae,te]=y.useState({registration:{enabled:!0,template:"wa-otp"},payment:{enabled:!0,template:"wa-pay"},expiry:{enabled:!1,template:"wa-promo"},newNote:{enabled:!1,template:"wa-promo"}}),[K,oe]=y.useState(""),[D,G]=y.useState("wa-otp"),[H,X]=y.useState(null),[se,ie]=y.useState([]),[ne,J]=y.useState(""),[le,pe]=y.useState("All"),[Q,xe]=y.useState(""),[he,ue]=y.useState(""),[Le,ze]=y.useState(1),Ce=5,[ce,Ie]=y.useState([{id:"ar-hello",keyword:"hello",message:"Hello! How can we help you?",status:"Active"}]),[we,$e]=y.useState(!1),[Be,ft]=y.useState(null),[Ke,Ue]=y.useState(""),[tt,ct]=y.useState(""),[Je,pt]=y.useState("Active"),[kt,Ot]=y.useState(null);y.useEffect(()=>{const Fe=localStorage.getItem("wa-settings");if(Fe)try{const rt=JSON.parse(Fe);t(rt.provider||"Meta API"),r(rt.apiKey||""),i(rt.apiSecret||""),o(rt.businessNumber||""),d(rt.businessId||""),f(rt.webhookUrl||""),m(rt.connStatus||"disconnected"),j(rt.monthlyCount||0),k(rt.templates||[]),te(rt.triggers||ae),Ie(rt.autoReplies||ce)}catch{}},[]),y.useEffect(()=>{const Fe=()=>qt();return window.addEventListener("save-wa-settings",Fe),()=>window.removeEventListener("save-wa-settings",Fe)},[]);const qt=()=>{const Fe={provider:e,apiKey:a,apiSecret:n,businessNumber:l,businessId:c,webhookUrl:u,connStatus:p,monthlyCount:b,templates:N,triggers:ae,autoReplies:ce};localStorage.setItem("wa-settings",JSON.stringify(Fe)),Ot({type:"success",message:"Settings saved."}),setTimeout(()=>Ot(null),2e3)},Wt=()=>{const Fe=e&&a&&n&&l;m(Fe?"connected":"failed"),g(Fe?"Connected to WhatsApp API.":"Failed to connect. Check inputs."),Fe&&j(rt=>rt+1),setTimeout(()=>g(""),3500)},Te=()=>{P(null),U(""),T("Marketing"),M("en"),W(""),C(!0)},$t=()=>{const Fe=L.trim(),rt=I.trim();if(!Fe||!rt){Ot({type:"error",message:"Please fill all fields."}),setTimeout(()=>Ot(null),2e3);return}if(_)k(_t=>_t.map(St=>St.id===_.id?{...St,name:Fe,category:z,language:F,body:rt,updatedAt:new Date().toLocaleString()}:St)),Ot({type:"success",message:"Template updated."});else{const _t="wa-"+Fe.toLowerCase().replace(/\s+/g,"-")+"-"+Math.random().toString(36).slice(2);k(St=>[{id:_t,name:Fe,category:z,language:F,status:"Pending",body:rt,updatedAt:new Date().toLocaleString()},...St]),Ot({type:"success",message:"Template added."})}setTimeout(()=>Ot(null),2e3),C(!1)},qe=Fe=>q({open:!0,tpl:Fe}),Gt=()=>{const Fe=R.tpl;k(rt=>rt.filter(_t=>_t.id!==Fe.id)),q({open:!1,tpl:null}),Ot({type:"success",message:"Template deleted."}),setTimeout(()=>Ot(null),2e3)},Yt=(Fe,rt)=>te(_t=>({..._t,[Fe]:{..._t[Fe],enabled:rt}})),ma=(Fe,rt)=>te(_t=>({..._t,[Fe]:{..._t[Fe],template:rt}})),Ia=()=>{const Fe=N.find(_t=>_t.id===D),rt=!!Fe&&!!K&&p==="connected";X({type:rt?"success":"failed",message:rt?"Test message sent.":"Failed to send."}),ie(_t=>[{id:Math.random().toString(36).slice(2),recipient:K||"N/A",template:Fe?.name||"N/A",status:rt?"Delivered":"Failed",at:new Date().toLocaleString()},..._t]),setTimeout(()=>X(null),3e3)},Ca=y.useMemo(()=>se.filter(Fe=>{const rt=!ne||Fe.recipient.toLowerCase().includes(ne.trim().toLowerCase()),_t=le==="All"||Fe.status===le,St=!Q||new Date(Fe.at)>=new Date(Q),ra=!he||new Date(Fe.at)<=new Date(he);return rt&&_t&&St&&ra}),[se,ne,le,Q,he]),la=Math.max(1,Math.ceil(Ca.length/Ce)),qa=Ca.slice((Le-1)*Ce,Le*Ce);return y.useEffect(()=>{Le>la&&ze(1)},[la,Le]),s.jsxs("div",{className:"",children:[s.jsxs("div",{className:"glass-panel rounded-2xl p-4 mb-6 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(u2,{}),s.jsx("h3",{className:"text-lg font-semibold",children:"WhatsApp Connection"})]}),s.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${p==="connected"?"bg-emerald-100 text-emerald-700":p==="failed"?"bg-rose-100 text-rose-700":"bg-gray-100 text-gray-700"}`,children:p==="connected"?"Connected":"Disconnected"})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(u2,{}),s.jsx("h3",{className:"text-lg font-semibold",children:"Integration Setup"})]}),s.jsxs("button",{className:"btn btn-primary",onClick:Wt,children:[s.jsx(a6e,{})," Test Connection"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Provider"}),s.jsxs("select",{className:"input-soft w-full",value:e,onChange:Fe=>t(Fe.target.value),children:[s.jsx("option",{children:"Meta API"}),s.jsx("option",{children:"Twilio"}),s.jsx("option",{children:"360Dialog"}),s.jsx("option",{children:"WATI"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Business Number"}),s.jsx("input",{className:"input-soft w-full",value:l,onChange:Fe=>o(Fe.target.value),placeholder:"e.g., +201234567890"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"API Key"}),s.jsx("input",{className:"input-soft w-full",value:a,onChange:Fe=>r(Fe.target.value),placeholder:"API Key"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"API Secret"}),s.jsx("input",{className:"input-soft w-full",value:n,onChange:Fe=>i(Fe.target.value),placeholder:"API Secret"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"WhatsApp Business ID"}),s.jsx("input",{className:"input-soft w-full",value:c,onChange:Fe=>d(Fe.target.value),placeholder:"Business ID"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Webhook URL"}),s.jsx("input",{className:"input-soft w-full",value:u,onChange:Fe=>f(Fe.target.value),placeholder:"https://example.com/webhook"})]})]}),v&&s.jsx("div",{className:`mt-4 text-sm px-3 py-2 rounded-md ${p==="connected"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:v})]}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"WhatsApp Templates"}),s.jsx("button",{className:"btn btn-primary",onClick:Te,children:"Add New Template"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full table-auto text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[s.jsx("th",{className:"px-4 py-3 text-left",children:"Template Name"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Category"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Language"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Actions"})]})}),s.jsx("tbody",{children:N.length===0?s.jsx("tr",{children:s.jsx("td",{className:"px-4 py-4 text-center text-gray-500",colSpan:5,children:"No templates"})}):N.map(Fe=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[s.jsx("td",{className:"px-4 py-2",children:Fe.name}),s.jsx("td",{className:"px-4 py-2",children:Fe.category}),s.jsx("td",{className:"px-4 py-2",children:Fe.language}),s.jsx("td",{className:`px-4 py-2 font-medium ${Fe.status==="Approved"?"text-emerald-600":Fe.status==="Pending"?"text-amber-600":"text-rose-600"}`,children:Fe.status}),s.jsxs("td",{className:"px-4 py-2 flex items-center gap-1",children:[s.jsxs("button",{className:"btn btn-glass btn-sm text-xs scale-90",onClick:()=>W(Fe.body),children:[s.jsx(u2,{})," Preview"]}),s.jsx("button",{className:"btn btn-danger btn-sm text-xs scale-90",onClick:()=>qe(Fe),children:"Delete"})]})]},Fe.id))})]})})]}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Message Triggers"}),s.jsxs("div",{className:"text-sm text-[var(--muted-text)]",children:["Monthly messages: ",b]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"registration",label:"New Registration"},{key:"payment",label:"Payment Confirmation"},{key:"expiry",label:"Subscription Expiry"},{key:"newNote",label:"New Note Added"}].map(Fe=>s.jsxs("div",{className:"rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-medium",children:Fe.label}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:!!ae[Fe.key]?.enabled,onChange:rt=>Yt(Fe.key,rt.target.checked)})," Enable"]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("label",{className:"block text-sm mb-1",children:"Template"}),s.jsx("select",{className:"input-soft w-full",value:ae[Fe.key]?.template,onChange:rt=>ma(Fe.key,rt.target.value),children:N.map(rt=>s.jsx("option",{value:rt.id,children:rt.name},rt.id))})]})]},Fe.key))})]}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsxs("div",{id:"test-wa",className:"glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(t6e,{}),s.jsx("h3",{className:"text-lg font-semibold",children:"Test WhatsApp Message"})]}),s.jsx("button",{className:"btn btn-primary",onClick:Ia,children:"Send Test Message"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Phone Number"}),s.jsx("input",{className:"input-soft w-full",value:K,onChange:Fe=>oe(Fe.target.value),placeholder:"e.g., +201234567890"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Template"}),s.jsx("select",{className:"input-soft w-full",value:D,onChange:Fe=>G(Fe.target.value),children:N.map(Fe=>s.jsx("option",{value:Fe.id,children:Fe.name},Fe.id))})]})]}),H&&s.jsx("div",{className:`mt-4 text-sm px-3 py-2 rounded-md ${H.type==="success"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:H.message})]}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(u2,{}),s.jsx("h3",{className:"text-lg font-semibold",children:"Logs"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"input-soft",placeholder:"Search recipient",value:ne,onChange:Fe=>J(Fe.target.value)}),s.jsxs("select",{className:"input-soft",value:le,onChange:Fe=>pe(Fe.target.value),children:[s.jsx("option",{children:"All"}),s.jsx("option",{children:"Delivered"}),s.jsx("option",{children:"Read"}),s.jsx("option",{children:"Failed"})]}),s.jsx("input",{type:"date",className:"input-soft",value:Q,onChange:Fe=>xe(Fe.target.value)}),s.jsx("input",{type:"date",className:"input-soft",value:he,onChange:Fe=>ue(Fe.target.value)})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full table-auto text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[s.jsx("th",{className:"px-4 py-3 text-left",children:"Recipient"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Template"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Date & Time"})]})}),s.jsx("tbody",{children:qa.length===0?s.jsx("tr",{children:s.jsx("td",{className:"px-4 py-4 text-center text-gray-500",colSpan:4,children:"No logs found"})}):qa.map(Fe=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[s.jsx("td",{className:"px-4 py-2",children:Fe.recipient}),s.jsx("td",{className:"px-4 py-2",children:Fe.template}),s.jsx("td",{className:`px-4 py-2 font-medium ${Fe.status==="Delivered"?"text-emerald-600":Fe.status==="Read"?"text-blue-600":"text-rose-600"}`,children:Fe.status}),s.jsx("td",{className:"px-4 py-2",children:Fe.at})]},Fe.id))})]})}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:["Showing ",qa.length," of ",Ca.length]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-glass btn-sm",disabled:Le===1,onClick:()=>ze(Fe=>Math.max(1,Fe-1)),children:"Prev"}),s.jsx("button",{className:"btn btn-glass btn-sm",disabled:Le===la,onClick:()=>ze(Fe=>Math.min(la,Fe+1)),children:"Next"})]})]})]}),s.jsx("div",{className:"h-6 md:h-8","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Auto Replies"}),s.jsx("button",{className:"btn btn-primary",onClick:()=>{ft(null),Ue(""),ct(""),pt("Active"),$e(!0)},children:"Add New Auto Reply"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full table-auto text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[s.jsx("th",{className:"px-4 py-3 text-left",children:"Keyword"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Auto Reply Message"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Actions"})]})}),s.jsx("tbody",{children:ce.length===0?s.jsx("tr",{children:s.jsx("td",{className:"px-4 py-4 text-center text-gray-500",colSpan:4,children:"No auto replies"})}):ce.map(Fe=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[s.jsx("td",{className:"px-4 py-2",children:Fe.keyword}),s.jsx("td",{className:"px-4 py-2",children:Fe.message}),s.jsx("td",{className:`px-4 py-2 font-medium ${Fe.status==="Active"?"text-emerald-600":"text-rose-600"}`,children:Fe.status}),s.jsxs("td",{className:"px-4 py-2 flex items-center gap-1",children:[s.jsx("button",{className:"btn btn-glass btn-sm text-xs scale-90",onClick:()=>{ft(Fe),Ue(Fe.keyword),ct(Fe.message),pt(Fe.status),$e(!0)},children:"Edit"}),s.jsx("button",{className:"btn btn-danger btn-sm text-xs scale-90",onClick:()=>Ie(rt=>rt.filter(_t=>_t.id!==Fe.id)),children:"Delete"})]})]},Fe.id))})]})})]}),s.jsx(F3,{open:S,title:_?"Edit Template":"Add New Template",onClose:()=>C(!1),onConfirm:$t,confirmText:"Save Template",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Template Name"}),s.jsx("input",{className:"input-soft w-full",value:L,onChange:Fe=>U(Fe.target.value),placeholder:"e.g., Payment Confirmation"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Category"}),s.jsxs("select",{className:"input-soft w-full",value:z,onChange:Fe=>T(Fe.target.value),children:[s.jsx("option",{children:"Marketing"}),s.jsx("option",{children:"Utility"}),s.jsx("option",{children:"Authentication"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Language"}),s.jsxs("select",{className:"input-soft w-full",value:F,onChange:Fe=>M(Fe.target.value),children:[s.jsx("option",{children:"en"}),s.jsx("option",{children:"ar"}),s.jsx("option",{children:"fr"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Body Message"}),s.jsx("textarea",{className:"input-soft w-full h-32",value:I,onChange:Fe=>W(Fe.target.value),placeholder:"Hi {{name}}, your verification code is {{otp}}."}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)] mt-1",children:["Supports placeholders like ","{{name}}",", ","{{amount}}",", ","{{date}}",", ","{{otp}}","."]})]})]})}),s.jsx(F3,{open:R.open,title:"Confirm Delete",onClose:()=>q({open:!1,tpl:null}),onConfirm:Gt,confirmText:"Delete",children:s.jsxs("p",{className:"text-sm",children:["Are you sure you want to delete template ",s.jsx("span",{className:"font-semibold",children:R.tpl?.name}),"?"]})}),s.jsx(F3,{open:we,title:Be?"Edit Auto Reply":"Add New Auto Reply",onClose:()=>$e(!1),onConfirm:()=>{const Fe=Ke.trim(),rt=tt.trim();if(!Fe||!rt){Ot({type:"error",message:"Please fill all fields."}),setTimeout(()=>Ot(null),2e3);return}if(Be)Ie(_t=>_t.map(St=>St.id===Be.id?{...St,keyword:Fe,message:rt,status:Je}:St));else{const _t="ar-"+Fe.toLowerCase().replace(/\s+/g,"-")+"-"+Math.random().toString(36).slice(2);Ie(St=>[{id:_t,keyword:Fe,message:rt,status:Je},...St])}$e(!1),Ot({type:"success",message:"Auto reply saved."}),setTimeout(()=>Ot(null),2e3)},confirmText:"Save",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Keyword"}),s.jsx("input",{className:"input-soft w-full",value:Ke,onChange:Fe=>Ue(Fe.target.value),placeholder:"e.g., hello"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Auto Reply Message"}),s.jsx("textarea",{className:"input-soft w-full h-28",value:tt,onChange:Fe=>ct(Fe.target.value),placeholder:"Hello! How can we help you?"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Status"}),s.jsxs("select",{className:"input-soft w-full",value:Je,onChange:Fe=>pt(Fe.target.value),children:[s.jsx("option",{children:"Active"}),s.jsx("option",{children:"Inactive"})]})]})]})}),kt&&s.jsx("div",{className:`fixed top-4 right-4 z-50 px-3 py-2 rounded-lg shadow-lg ${kt.type==="success"?"bg-emerald-600 text-white":"bg-rose-600 text-white"}`,children:kt.message})]})}function r6e(){const{t:e}=Ct(),t=()=>{const a=new Event("save-wa-settings");window.dispatchEvent(a)};return s.jsx(Ht,{title:e("WhatsApp Settings"),children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:e("WhatsApp Settings")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-primary",onClick:t,children:e("Save Changes")}),s.jsx("a",{href:"#test-wa",className:"btn btn-glass",children:e("Test Connection")})]})]}),s.jsx(s6e,{})]})})}function n6e(){return s.jsx(Ht,{title:"Payment Gateway Integration",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-3",children:"Payment Gateway Integration"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"Setup payment gateway providers."})]})})}function i6e(){return s.jsx(Ht,{title:"Google / Slack Integrations",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-3",children:"Google / Slack Integrations"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"Configure Google Workspace and Slack integrations."})]})})}function l6e(){const{t:e}=Ct(),[t,a]=y.useState(null),[r,n]=y.useState("customers"),[i,l]=y.useState(!0),[o,c]=y.useState(!1),[d,u]=y.useState("idle"),[f,p]=y.useState(1),[m,v]=y.useState([]),[g,b]=y.useState([]),[j,N]=y.useState({}),[k,S]=y.useState(null),C=y.useRef(null),_=y.useMemo(()=>["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],[]),P=y.useMemo(()=>({customers:["id","name","phone","email","status"],leads:["id","name","phone","source","status"],products:["id","name","sku","price","stock"],users:["id","name","email","role"],projects:["id","name","city","status"],properties:["id","type","area","price"]}),[]),L=async M=>{const I=await M.arrayBuffer(),W=gm(I,{type:"array"}),R=W.SheetNames[0],q=W.Sheets[R],ae=ea.sheet_to_json(q,{header:i?1:0});let te=[],K=[];if(i)te=(ae[0]||[]).map(D=>String(D||"").trim()),K=(ae.slice(1)||[]).map(D=>{const G={};return te.forEach((H,X)=>{G[H]=D[X]}),G});else{const D=Math.max(...ae.map(G=>G.length));te=Array.from({length:D},(G,H)=>`C${H+1}`),K=ae.map(G=>{const H={};return te.forEach((X,se)=>{H[X]=G[se]}),H})}v(te),b(K);const oe={};te.forEach((D,G)=>{oe[D]=P[r][G]||""}),N(oe),p(2)},U=y.useCallback(async M=>{if(M){if(!(_.includes(M.type)||M.name.endsWith(".csv")||M.name.endsWith(".xlsx"))){u("error");return}if(M.size>10*1024*1024){u("error");return}a(M),u("idle"),await L(M)}},[_,i,r]),z=M=>{M.preventDefault();const I=M.dataTransfer?.files?.[0];U(I)},T=async()=>{try{u("processing");const M=await ya.post("/api/import",{module:r,rows:g,mapping:j,updateExisting:o});S(M.data),u("success"),p(4)}catch{u("error")}},F=()=>{a(null),v([]),b([]),N({}),S(null),u("idle"),p(1)};return s.jsx(Ht,{title:e("Import Data"),children:s.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold",children:e("Import Data")}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:e("import.uploadDescription")})]})}),s.jsx("div",{className:"flex gap-2 text-xs",children:[1,2,3,4].map(M=>s.jsx("div",{className:`px-2 py-1 rounded ${f===M?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"}`,children:e(M===1?"Upload":M===2?"Preview":M===3?"Mapping":"Summary")},M))}),f===1&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[s.jsx("h3",{className:"text-base font-semibold mb-3",children:e("import.uploadFile")}),s.jsx("div",{onDragOver:M=>M.preventDefault(),onDrop:z,className:"border-2 border-dashed border-gray-500/40 rounded-xl p-6 text-center hover:border-blue-500/60 transition",children:t?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"text-sm",children:[t.name,"  ",(t.size/1024).toFixed(1)," KB"]}),s.jsx("div",{className:"flex items-center justify-center gap-3",children:s.jsx("button",{className:"px-3 py-2 rounded-lg bg-gray-700 text-white",onClick:F,children:e("Remove")})})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm mb-2",children:e("import.dropHint")}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",onClick:()=>C.current?.click(),children:e("import.chooseFile")}),s.jsx("input",{ref:C,type:"file",accept:".csv,.xlsx",className:"hidden",onChange:M=>U(M.target.files?.[0])})]})}),s.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)]",children:e("import.supportedFormats")})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-5 space-y-3",children:[s.jsx("h3",{className:"text-base font-semibold",children:e("Settings")}),s.jsx("label",{className:"block text-sm",children:e("import.target")}),s.jsxs("select",{value:r,onChange:M=>n(M.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"customers",children:e("Customers")}),s.jsx("option",{value:"leads",children:e("Leads")}),s.jsx("option",{value:"products",children:e("Products")}),s.jsx("option",{value:"users",children:e("Users")}),s.jsx("option",{value:"projects",children:e("Projects")}),s.jsx("option",{value:"properties",children:e("Properties")})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("input",{id:"hasHeader",type:"checkbox",checked:i,onChange:M=>l(M.target.checked)}),s.jsx("label",{htmlFor:"hasHeader",className:"text-sm",children:e("import.hasHeader")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"updateExisting",type:"checkbox",checked:o,onChange:M=>c(M.target.checked)}),s.jsx("label",{htmlFor:"updateExisting",className:"text-sm",children:e("import.updateExisting")})]}),s.jsxs("div",{className:"pt-2 flex items-center gap-3",children:[s.jsx("button",{disabled:!t,onClick:()=>p(2),className:`px-3 py-2 rounded-lg ${t?"bg-green-600 hover:bg-green-700":"bg-gray-600 cursor-not-allowed"} text-white`,children:e("Next")}),d==="error"&&s.jsx("span",{className:"text-sm text-red-400",children:e("import.unsupportedType")})]})]})]}),f===2&&s.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-base font-semibold",children:e("Preview")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"px-3 py-2 rounded bg-gray-700 text-white",onClick:()=>p(1),children:e("Back")}),s.jsx("button",{className:"px-3 py-2 rounded bg-blue-600 text-white",onClick:()=>p(3),children:e("Next")})]})]}),s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsx("tr",{children:m.map(M=>s.jsx("th",{className:"px-3 py-2 text-left",children:M},M))})}),s.jsx("tbody",{children:g.slice(0,20).map((M,I)=>s.jsx("tr",{className:"border-t border-gray-700/40",children:m.map(W=>s.jsx("td",{className:"px-3 py-2",children:String(M[W]??"")},W))},I))})]})})]}),f===3&&s.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-base font-semibold",children:e("Mapping")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"px-3 py-2 rounded bg-gray-700 text-white",onClick:()=>p(2),children:e("Back")}),s.jsx("button",{className:"px-3 py-2 rounded bg-green-600 text-white",onClick:T,children:e("Confirm Import")})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.map(M=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-1/2",children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("Column")}),s.jsx("div",{className:"text-sm",children:M})]}),s.jsxs("div",{className:"w-1/2",children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("Map to field")}),s.jsxs("select",{value:j[M]||"",onChange:I=>N(W=>({...W,[M]:I.target.value})),className:"input-soft w-full",children:[s.jsx("option",{value:"",children:""}),(P[r]||[]).map(I=>s.jsx("option",{value:I,children:I},I))]})]})]},M))})]}),f===4&&s.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-base font-semibold",children:e("Summary")}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{className:"px-3 py-2 rounded bg-gray-700 text-white",onClick:F,children:e("Start New")})})]}),d==="processing"&&s.jsx("span",{className:"text-sm text-blue-400",children:e("import.processing")}),d==="error"&&s.jsx("span",{className:"text-sm text-red-400",children:e("Error")}),k&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("New Records")}),s.jsx("div",{className:"text-2xl font-semibold",children:k.newRecords})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("Updated Records")}),s.jsx("div",{className:"text-2xl font-semibold",children:k.updatedRecords})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:e("Failed Rows")}),s.jsx("div",{className:"text-2xl font-semibold",children:k.failedCount})]})]})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[s.jsx("h3",{className:"text-base font-semibold mb-2",children:e("import.formatGuidelines")}),s.jsxs("ul",{className:"text-sm list-disc pl-5 space-y-1 text-[var(--muted-text)]",children:[s.jsx("li",{children:e("import.guidelineUtf8")}),s.jsx("li",{children:e("import.guidelineColumns")}),s.jsx("li",{children:e("import.guidelineHeaders")})]})]})]})})}function o6e(){const[e,t]=y.useState("customers"),[a,r]=y.useState("csv"),[n,i]=y.useState("idle"),[l,o]=y.useState(!1),[c,d]=y.useState(""),[u,f]=y.useState(""),[p,m]=y.useState("all"),[v,g]=y.useState(""),[b,j]=y.useState(""),N=async()=>{try{i("processing"),j("");const k={dateFrom:c,dateTo:u,status:p,assignedTo:v},S=await ya.post("/api/export",{module:e,format:a,filters:k}),{url:C}=S.data||{};C&&(j(C),window.open(C,"_blank")),i("success")}catch{i("error")}};return s.jsx(Ht,{title:"Export",children:s.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Export Data"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"     CSV/XLSX."})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-5 space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Dataset"}),s.jsxs("select",{value:e,onChange:k=>t(k.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"customers",children:"Customers"}),s.jsx("option",{value:"leads",children:"Leads"}),s.jsx("option",{value:"products",children:"Products"}),s.jsx("option",{value:"users",children:"Users"}),s.jsx("option",{value:"projects",children:"Projects"}),s.jsx("option",{value:"properties",children:"Properties"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Format"}),s.jsxs("select",{value:a,onChange:k=>r(k.target.value),className:"input-soft w-[200px]",children:[s.jsx("option",{value:"csv",children:"CSV"}),s.jsx("option",{value:"xlsx",children:"XLSX"})]})]}),s.jsx("div",{children:s.jsx("button",{className:"text-xs text-blue-400",onClick:()=>o(k=>!k),children:l?"Hide Export Options":"Show Export Options"})}),l&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Date From"}),s.jsx("input",{type:"date",value:c,onChange:k=>d(k.target.value),className:"input-soft w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Date To"}),s.jsx("input",{type:"date",value:u,onChange:k=>f(k.target.value),className:"input-soft w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Status"}),s.jsxs("select",{value:p,onChange:k=>m(k.target.value),className:"input-soft w-full",children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"}),s.jsx("option",{value:"new",children:"New"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Assigned User/Team"}),s.jsx("input",{type:"text",placeholder:"e.g. Ahmed / Team A",value:v,onChange:k=>g(k.target.value),className:"input-soft w-full"})]})]}),s.jsxs("div",{className:"pt-2 flex items-center gap-3",children:[s.jsx("button",{onClick:N,className:"px-3 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:""}),n==="processing"&&s.jsx("span",{className:"text-sm text-blue-400",children:" ..."}),n==="success"&&s.jsx("span",{className:"text-sm text-green-400",children:"  ."}),n==="error"&&s.jsx("span",{className:"text-sm text-red-400",children:"   ."}),b&&s.jsx("a",{href:b,target:"_blank",rel:"noreferrer",className:"text-xs text-blue-300 underline",children:" "})]})]})]})})}function c6e(){const[e,t]=y.useState([]),[a,r]=y.useState(!1),[n,i]=y.useState({frequency:"daily",time:"02:00"}),[l,o]=y.useState(!1),c=async()=>{try{const p=await ya.get("/api/backups");t(p.data.items||[])}catch{}};y.useEffect(()=>{c()},[]);const d=async()=>{try{r(!0);const m=(await ya.post("/api/backups",{name:"full-backup"})).data.item;t(v=>[m,...v])}catch{}r(!1)},u=async p=>{try{await ya.delete(`/api/backups/${p}`),t(m=>m.filter(v=>v.id!==p))}catch{}},f=async()=>{try{o(!0),await ya.post("/api/backups/schedule",n)}catch{}o(!1)};return s.jsx(Ht,{title:"Backup Management",children:s.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Backup Management"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:"        ."})]}),s.jsx("button",{onClick:d,disabled:a,className:`px-3 py-2 rounded-lg ${a?"bg-gray-600":"bg-green-600 hover:bg-green-700"} text-white`,children:a?"Generating":"Generate Full Backup"})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[s.jsx("h3",{className:"text-base font-semibold mb-3",children:"Available Backups"}),e.length===0?s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"No backups yet."}):s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left",children:"Name"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Date"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Size"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Actions"})]})}),s.jsx("tbody",{children:e.map(p=>s.jsxs("tr",{className:"border-t border-gray-700/40",children:[s.jsx("td",{className:"px-3 py-2",children:p.name}),s.jsx("td",{className:"px-3 py-2",children:new Date(p.date).toLocaleString()}),s.jsxs("td",{className:"px-3 py-2",children:[Math.round((p.size||0)/1024)," KB"]}),s.jsxs("td",{className:"px-3 py-2 flex gap-2",children:[s.jsx("a",{href:p.url,target:"_blank",rel:"noreferrer",className:"text-blue-400 underline",children:"Download"}),s.jsx("button",{onClick:()=>u(p.id),className:"text-red-400",children:"Delete"})]})]},p.id))})]})})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-5",children:[s.jsx("h3",{className:"text-base font-semibold mb-3",children:"Scheduled Backups"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Frequency"}),s.jsxs("select",{value:n.frequency,onChange:p=>i(m=>({...m,frequency:p.target.value})),className:"input-soft w-full",children:[s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Time"}),s.jsx("input",{type:"time",value:n.time,onChange:p=>i(m=>({...m,time:p.target.value})),className:"input-soft w-full"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:f,disabled:l,className:`px-3 py-2 rounded-lg ${l?"bg-gray-600":"bg-blue-600 hover:bg-blue-700"} text-white`,children:"Save Schedule"})})]})]})]})})}const h2=["Leads","CIL","Brokers","Clients","Orders","Marketing","Reports"],I3=["OnLoad","OnSave","OnChange"];function d6e({value:e,onChange:t}){return s.jsx("textarea",{className:"w-full h-56 md:h-64 text-sm font-mono bg-gray-900 text-gray-100 p-3 rounded-xl border border-gray-800 outline-none resize-y focus:ring-2 focus:ring-indigo-500/50",value:e,onChange:a=>t(a.target.value),placeholder:`// JavaScript
// Use context objects like lead, currentUser, preventSave()`,spellCheck:!1})}function d9(e){try{let t=String(e||"");return t=t.replace(/javascript:/gi,""),t}catch{return String(e||"")}}function u6e(){const{t:e}=Ct(),[t,a]=y.useState(()=>{try{return JSON.parse(localStorage.getItem("crm.scripts")||"[]")}catch{return[]}}),[r,n]=y.useState(""),[i,l]=y.useState(""),[o,c]=y.useState(""),[d,u]=y.useState(!1),[f,p]=y.useState(null),[m,v]=y.useState(null),[g,b]=y.useState(!1);y.useEffect(()=>{const _=()=>{p({id:null,name:"",module:h2[0],trigger:I3[0],description:"",code:"",status:"Active"}),u(!0)};return window.addEventListener("open-add-script-modal",_),()=>window.removeEventListener("open-add-script-modal",_)},[]);const j=y.useMemo(()=>t.filter(_=>!i||_.module===i).filter(_=>!o||_.status===o).filter(_=>!r||_.name?.toLowerCase().includes(r.toLowerCase())||_.description?.toLowerCase().includes(r.toLowerCase())).sort((_,P)=>new Date(P.updated_at||P.created_at||0)-new Date(_.updated_at||_.created_at||0)),[t,r,i,o]),N=_=>{a(P=>{const L=P.filter(U=>U.id!==_);try{localStorage.setItem("crm.scripts",JSON.stringify(L))}catch{}return L})},k=_=>{p({..._}),u(!0)},S=_=>v(_),C=()=>{if(!f)return;const _=new Date().toISOString(),P={...f};P.code=d9(P.code),P.id||(P.id="scr_"+Date.now(),P.created_at=_),P.updated_at=_,P.updated_by="Admin",a(L=>{const z=L.some(T=>T.id===P.id)?L.map(T=>T.id===P.id?P:T):[P,...L];try{localStorage.setItem("crm.scripts",JSON.stringify(z))}catch{}return z}),b(!0),setTimeout(()=>b(!1),1800),u(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx("input",{className:"input",placeholder:e("Search by name or description"),value:r,onChange:_=>n(_.target.value)}),s.jsxs("select",{className:"input",value:i,onChange:_=>l(_.target.value),children:[s.jsx("option",{value:"",children:e("All Modules")}),h2.map(_=>s.jsx("option",{value:_,children:e(_)},_))]}),s.jsxs("select",{className:"input",value:o,onChange:_=>c(_.target.value),children:[s.jsx("option",{value:"",children:e("All Status")}),s.jsx("option",{value:"Active",children:e("Active")}),s.jsx("option",{value:"Inactive",children:e("Inactive")})]}),s.jsx("button",{className:"btn btn-secondary btn-sm ml-auto",onClick:()=>{p({id:null,name:"",module:h2[0],trigger:I3[0],description:"",code:"",status:"Active"}),u(!0)},children:e("Add New Script")}),g&&s.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[s.jsx("span",{children:""}),s.jsx("span",{className:"text-sm",children:e("Saved successfully")})]})]}),s.jsx("div",{className:"rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden bg-white dark:bg-gray-900",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left",children:e("Script Name")}),s.jsx("th",{className:"px-4 py-2 text-left",children:e("Target Module")}),s.jsx("th",{className:"px-4 py-2 text-left",children:e("Trigger Type")}),s.jsx("th",{className:"px-4 py-2 text-left",children:e("Status")}),s.jsx("th",{className:"px-4 py-2 text-left",children:e("Last Modified")}),s.jsx("th",{className:"px-4 py-2 text-right",children:e("Actions")})]})}),s.jsxs("tbody",{children:[j.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-gray-500",children:e("No scripts found")})}),j.map(_=>s.jsxs("tr",{className:"border-t border-gray-100 dark:border-gray-800",children:[s.jsx("td",{className:"px-4 py-2",children:_.name}),s.jsx("td",{className:"px-4 py-2",children:e(_.module)}),s.jsx("td",{className:"px-4 py-2",children:e(_.trigger)}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs ${_.status==="Active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"}`,children:e(_.status)})}),s.jsx("td",{className:"px-4 py-2",children:new Date(_.updated_at||_.created_at||Date.now()).toLocaleString()}),s.jsx("td",{className:"px-4 py-2 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>S(_),children:e("Preview")}),s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>k(_),children:e("Edit")}),s.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>N(_.id),children:e("Delete")})]})})]},_.id))]})]})}),d&&f&&s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-start justify-center pt-20 md:pt-28",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>u(!1)}),s.jsxs("div",{className:"relative w-[96%] max-w-2xl bg-white dark:bg-gray-900 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:f?.id?e("Edit Script"):e("Add New Script")}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>u(!1),children:e("Cancel")})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-[180px]",children:[s.jsx("label",{className:"label",children:e("Target Module")}),s.jsx("select",{className:"input bg-gray-100 dark:bg-gray-800",value:f.module,onChange:_=>p(P=>({...P,module:_.target.value})),children:h2.map(_=>s.jsx("option",{value:_,children:e(_)},_))})]}),s.jsxs("div",{className:"flex-1 min-w-[220px]",children:[s.jsx("label",{className:"label",children:e("Trigger Type")}),s.jsx("div",{className:"flex items-center gap-2 p-1 rounded-xl bg-gray-100 dark:bg-gray-800",children:I3.map(_=>s.jsx("button",{className:`px-3 py-1 rounded-lg text-sm ${f.trigger===_?"bg-indigo-600 text-white":"bg-transparent text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,onClick:()=>p(P=>({...P,trigger:_})),type:"button",children:e(_)},_))})]}),s.jsxs("div",{className:"min-w-[160px]",children:[s.jsx("label",{className:"label",children:e("Status")}),s.jsx("button",{type:"button",onClick:()=>p(_=>({..._,status:_.status==="Active"?"Inactive":"Active"})),className:`px-4 py-2 rounded-lg text-sm ${f.status==="Active"?"bg-green-600 text-white":"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:e(f.status)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Script Name")}),s.jsx("input",{className:"input",placeholder:e("Enter a concise script name"),value:f.name,onChange:_=>p(P=>({...P,name:_.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Description")}),s.jsx("textarea",{className:"input",rows:2,value:f.description,onChange:_=>p(P=>({...P,description:_.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:e("Code")}),s.jsx(d6e,{value:f.code,onChange:_=>p(P=>({...P,code:_}))})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"btn btn-primary btn-sm",disabled:!f.name?.trim(),onClick:C,children:e("Save")}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>u(!1),children:e("Cancel")})]})]})]})]}),m&&s.jsxs("div",{className:"fixed inset-0 z-[90] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>v(null)}),s.jsxs("div",{className:"relative w-[96%] h-[90vh] bg-white dark:bg-gray-900 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("strong",{children:e("Sandbox Preview")}),s.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[m.name,"  ",e(m.module),"  ",e(m.trigger)]})]}),s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>v(null),children:e("Close")})]}),s.jsx("iframe",{title:"script-sandbox",className:"w-full h-full",srcDoc:`<!doctype html><html><head><meta charset="utf-8"><title>Sandbox</title></head><body>
                <div style="font-family: ui-sans-serif, system-ui; padding: 12px; color: #374151">
                  <h2 style="margin:0 0 8px">Preview: ${m.name}</h2>
                  <p style="margin:0 0 10px; color:#6b7280">Module: ${m.module}  Trigger: ${m.trigger}</p>
                  <pre style="padding:8px; border:1px solid #e5e7eb; border-radius:8px; background:#f9fafb">Open the console to see effects.</pre>
                </div>
                <script>
                  try {
                    window.sandboxContext = {
                      currentUser: { id: 'admin_1', role: 'Admin', name: 'Ibrahim' },
                      lead: { id: 'lead_001', name: 'Test Lead', phone: '' },
                      preventSave: function() { console.warn('preventSave() called'); alert('Save prevented by script.'); }
                    };
                    (function(context) {
                      ${d9(m.code)}
                    })(window.sandboxContext);
                  } catch (e) { console.error('Script error:', e); }
                <\/script>
              </body></html>`})]})]})]})}function h6e(){const{t:e}=Ct(),t=()=>{window.dispatchEvent(new Event("open-add-script-modal"))};return s.jsx(Ht,{children:s.jsxs("div",{className:"p-3 sm:p-4 md:p-6 bg-[var(--content-bg)] text-[var(--content-text)] space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-1 h-6 sm:h-8 bg-gradient-to-b from-indigo-500 to-purple-600 rounded-full"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:e("Scripting Settings")}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mt-1",children:e("Manage custom scripts and logic that control system behavior dynamically.")})]})]}),s.jsx("button",{className:"btn btn-secondary btn-sm w-full sm:w-auto",onClick:t,children:e("Add New Script")})]}),s.jsx(u6e,{})]})})}const KG="eoi.settings";async function f6e(){try{const e=await fetch("/api/eoi/settings");if(e.ok)return await e.json()||{}}catch{}try{const e=typeof window<"u"?window.localStorage.getItem(KG):null;if(e)return JSON.parse(e)}catch{}return qC()}async function u9(e){try{if((await fetch("/api/eoi/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return!0}catch{}try{if(typeof window<"u")return window.localStorage.setItem(KG,JSON.stringify(e)),!0}catch{}return!1}function qC(){return{general:{enabled:!0,defaultStatus:"Pending",autoConvertToLead:!1,defaultBrokerId:"",linkToCil:!0,linkToSales:!0,workflow:[{key:"Pending",color:"#94a3b8"},{key:"Verified",color:"#22c55e"},{key:"Converted",color:"#3b82f6"},{key:"Closed",color:"#64748b"}],defaultWorkflowStatus:"Pending"},sources:[{id:"website",name:"Website",active:!0,requiresCil:!1,autoConvertToSales:!1,notes:""},{id:"broker",name:"Broker",active:!0,requiresCil:!0,autoConvertToSales:!0,notes:"Broker entries require CIL verification."},{id:"facebook_ads",name:"Facebook Ads",active:!0,requiresCil:!1,autoConvertToSales:!1,notes:""},{id:"manual",name:"Manual Entry",active:!0,requiresCil:!1,autoConvertToSales:!1,notes:""}],fields:[{key:"name",label:"Name",required:!0,type:"text",validation:"min:2"},{key:"phone",label:"Phone",required:!0,type:"phone",validation:"phone"},{key:"email",label:"Email",required:!1,type:"email",validation:"email"},{key:"budget",label:"Budget",required:!1,type:"number",validation:"min:0"},{key:"propertyType",label:"Property Type",required:!1,type:"select",validation:"",options:["Apartment","Villa","Townhouse"]},{key:"location",label:"Location",required:!1,type:"text",validation:""},{key:"notes",label:"Notes",required:!1,type:"textarea",validation:"max:1000"}],notifications:{recipients:["Admin"],methods:{email:!0,inApp:!0,sms:!1},messages:{newEoi:"New EOI received for {{name}}",convertedLead:"EOI converted to Lead: {{leadId}}",createdCil:"CIL record created for broker {{brokerId}}",salesOpportunity:"Sales Opportunity created: Stage {{stage}}"}},cilIntegration:{autoGenerateOnLead:!0,verificationRequired:!0,defaultStatus:"Pending",mapping:{brokerId:"eoi.broker",leadId:"lead.id",customerInfo:"eoi.customer_data"}},salesIntegration:{autoCreateOpportunity:!0,defaultStage:"New",defaultSalesRepId:"",valueMapping:"eoi.budget",notesMapping:"eoi.notes"}}}function m6e(){const{t:e,i18n:t}=Ct(),a=y.useMemo(()=>t.dir()==="rtl",[t]),[r,n]=y.useState(!0),[i,l]=y.useState(!1),[o,c]=y.useState(qC()),[d,u]=y.useState("general"),[f,p]=y.useState([{id:"b1",name:"Broker A"},{id:"b2",name:"Broker B"}]),[m,v]=y.useState([{id:"s1",name:"Sales Rep 1"},{id:"s2",name:"Sales Rep 2"}]);y.useEffect(()=>{let S=!0;return(async()=>{const C=await f6e();S&&(c(_=>({..._,...C})),n(!1))})(),()=>{S=!1}},[]);const g=[{key:"general",label:e("General")},{key:"sources",label:e("Sources")},{key:"fields",label:e("Fields")},{key:"notifications",label:e("Notifications")},{key:"cil",label:e("CIL Integration")},{key:"sales",label:e("Sales Integration")}],b=(S,C)=>{c(_=>{const P={..._},L=S.split(".");let U=P;for(let z=0;z<L.length-1;z++)U[L[z]]={...U[L[z]]},U=U[L[z]];return U[L[L.length-1]]=C,P})},j=async()=>{l(!0),await u9(o),l(!1)},N=async()=>{const S=qC();c(S),await u9(S)},k=(S,C)=>{c(_=>{const P=[..._.general.workflow],L=S+C;if(L<0||L>=P.length)return _;const[U]=P.splice(S,1);return P.splice(L,0,U),{..._,general:{..._.general,workflow:P}}})};return r?s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"text-[var(--muted-text)]",children:[e("Loading"),"..."]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(S=>s.jsx("button",{className:`btn btn-outline btn-sm ${d===S.key?"bg-primary text-white":""}`,onClick:()=>u(S.key),children:S.label},S.key))}),d==="general"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Enable EOI System")}),s.jsx("input",{type:"checkbox",checked:o.general.enabled,onChange:S=>b("general.enabled",S.target.checked)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Status")}),s.jsx("select",{className:"input",value:o.general.defaultStatus,onChange:S=>b("general.defaultStatus",S.target.value),children:["Pending","Approved","Rejected"].map(S=>s.jsx("option",{value:S,children:e(S)},S))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-convert EOI to Lead")}),s.jsx("input",{type:"checkbox",checked:o.general.autoConvertToLead,onChange:S=>b("general.autoConvertToLead",S.target.checked)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Assigned Broker")}),s.jsxs("select",{className:"input",value:o.general.defaultBrokerId,onChange:S=>b("general.defaultBrokerId",S.target.value),children:[s.jsx("option",{value:"",children:e("None")}),f.map(S=>s.jsx("option",{value:S.id,children:S.name},S.id))]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Link EOI to CIL Module")}),s.jsx("input",{type:"checkbox",checked:o.general.linkToCil,onChange:S=>b("general.linkToCil",S.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Link EOI to Sales Module")}),s.jsx("input",{type:"checkbox",checked:o.general.linkToSales,onChange:S=>b("general.linkToSales",S.target.checked)})]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("h3",{className:"text-base font-semibold mb-2",children:e("Workflow Settings")}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Workflow Status")}),s.jsx("select",{className:"input",value:o.general.defaultWorkflowStatus,onChange:S=>b("general.defaultWorkflowStatus",S.target.value),children:o.general.workflow.map(S=>s.jsx("option",{value:S.key,children:e(S.key)},S.key))})]})}),s.jsx("div",{className:"mt-3 space-y-2",children:o.general.workflow.map((S,C)=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"w-32",children:e(S.key)}),s.jsx("input",{type:"color",value:S.color,onChange:_=>{c(P=>{const L=P.general.workflow.map((U,z)=>z===C?{...U,color:_.target.value}:U);return{...P,general:{...P.general,workflow:L}}})}}),s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-glass btn-xs",onClick:()=>k(C,-1),children:a?"":""}),s.jsx("button",{className:"btn btn-glass btn-xs",onClick:()=>k(C,1),children:a?"":""})]})]},S.key))})]})]}),d==="sources"&&s.jsx("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-4",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"p-2",children:e("Source Name")}),s.jsx("th",{className:"p-2",children:e("Active")}),s.jsx("th",{className:"p-2",children:e("Requires CIL")}),s.jsx("th",{className:"p-2",children:e("Auto Convert to Sales")}),s.jsx("th",{className:"p-2",children:e("Notes")})]})}),s.jsx("tbody",{children:o.sources.map((S,C)=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-2",children:e(S.name)}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"checkbox",checked:S.active,onChange:_=>c(P=>{const L=[...P.sources];return L[C]={...S,active:_.target.checked},{...P,sources:L}})})}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"checkbox",checked:S.requiresCil,onChange:_=>c(P=>{const L=[...P.sources];return L[C]={...S,requiresCil:_.target.checked},{...P,sources:L}})})}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"checkbox",checked:S.autoConvertToSales,onChange:_=>c(P=>{const L=[...P.sources];return L[C]={...S,autoConvertToSales:_.target.checked},{...P,sources:L}})})}),s.jsx("td",{className:"p-2",children:s.jsx("input",{className:"input",value:S.notes,onChange:_=>c(P=>{const L=[...P.sources];return L[C]={...S,notes:_.target.value},{...P,sources:L}})})})]},S.id))})]})})}),d==="fields"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-4",children:[o.fields.map((S,C)=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-end",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Field")}),s.jsx("input",{className:"input",value:S.label,onChange:_=>c(P=>{const L=[...P.fields];return L[C]={...S,label:_.target.value},{...P,fields:L}})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Required")}),s.jsx("input",{type:"checkbox",checked:S.required,onChange:_=>c(P=>{const L=[...P.fields];return L[C]={...S,required:_.target.checked},{...P,fields:L}})})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Input Type")}),s.jsx("select",{className:"input",value:S.type,onChange:_=>c(P=>{const L=[...P.fields];return L[C]={...S,type:_.target.value},{...P,fields:L}}),children:["text","email","phone","number","select","textarea"].map(_=>s.jsx("option",{value:_,children:_},_))})]}),S.type==="select"?s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Options (comma separated)")}),s.jsx("input",{className:"input",value:(S.options||[]).join(", "),onChange:_=>c(P=>{const L=[...P.fields];return L[C]={...S,options:_.target.value.split(",").map(U=>U.trim()).filter(Boolean)},{...P,fields:L}})})]}):s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Validation Rule")}),s.jsx("input",{className:"input",value:S.validation||"",onChange:_=>c(P=>{const L=[...P.fields];return L[C]={...S,validation:_.target.value},{...P,fields:L}})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>c(_=>({..._,fields:_.fields.filter((P,L)=>L!==C)})),children:e("Delete")})})]},S.key)),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>c(S=>({...S,fields:[...S.fields,{key:`field_${S.fields.length+1}`,label:"Custom Field",required:!1,type:"text",validation:""}]})),children:e("Add Field")})})]}),d==="notifications"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Recipients")}),s.jsx("select",{multiple:!0,className:"input",value:o.notifications.recipients,onChange:S=>{const C=Array.from(S.target.selectedOptions).map(_=>_.value);b("notifications.recipients",C)},children:["Admin","Broker","Sales Manager","All"].map(S=>s.jsx("option",{value:S,children:e(S)},S))})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Methods")}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:o.notifications.methods.email,onChange:S=>b("notifications.methods",{...o.notifications.methods,email:S.target.checked})})," Email"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:o.notifications.methods.inApp,onChange:S=>b("notifications.methods",{...o.notifications.methods,inApp:S.target.checked})})," In-App"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:o.notifications.methods.sms,onChange:S=>b("notifications.methods",{...o.notifications.methods,sms:S.target.checked})})," SMS"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Message: New EOI")}),s.jsx("textarea",{className:"input h-24",value:o.notifications.messages.newEoi,onChange:S=>b("notifications.messages",{...o.notifications.messages,newEoi:S.target.value})})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Message: Converted to Lead")}),s.jsx("textarea",{className:"input h-24",value:o.notifications.messages.convertedLead,onChange:S=>b("notifications.messages",{...o.notifications.messages,convertedLead:S.target.value})})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Message: Created CIL")}),s.jsx("textarea",{className:"input h-24",value:o.notifications.messages.createdCil,onChange:S=>b("notifications.messages",{...o.notifications.messages,createdCil:S.target.value})})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Message: Sales Opportunity Generated")}),s.jsx("textarea",{className:"input h-24",value:o.notifications.messages.salesOpportunity,onChange:S=>b("notifications.messages",{...o.notifications.messages,salesOpportunity:S.target.value})})]})]})]}),d==="cil"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-generate CIL on Lead")}),s.jsx("input",{type:"checkbox",checked:o.cilIntegration.autoGenerateOnLead,onChange:S=>b("cilIntegration.autoGenerateOnLead",S.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("CIL Verification Required Before Sale")}),s.jsx("input",{type:"checkbox",checked:o.cilIntegration.verificationRequired,onChange:S=>b("cilIntegration.verificationRequired",S.target.checked)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default CIL Status")}),s.jsx("select",{className:"input",value:o.cilIntegration.defaultStatus,onChange:S=>b("cilIntegration.defaultStatus",S.target.value),children:["Pending","Verified"].map(S=>s.jsx("option",{value:S,children:e(S)},S))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Mapping: Broker ID")}),s.jsx("input",{className:"input",value:o.cilIntegration.mapping.brokerId,onChange:S=>b("cilIntegration.mapping",{...o.cilIntegration.mapping,brokerId:S.target.value})})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Mapping: Lead ID")}),s.jsx("input",{className:"input",value:o.cilIntegration.mapping.leadId,onChange:S=>b("cilIntegration.mapping",{...o.cilIntegration.mapping,leadId:S.target.value})})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Mapping: Customer Info")}),s.jsx("input",{className:"input",value:o.cilIntegration.mapping.customerInfo,onChange:S=>b("cilIntegration.mapping",{...o.cilIntegration.mapping,customerInfo:S.target.value})})]})]})]}),d==="sales"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-create Sales Opportunity")}),s.jsx("input",{type:"checkbox",checked:o.salesIntegration.autoCreateOpportunity,onChange:S=>b("salesIntegration.autoCreateOpportunity",S.target.checked)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Assign Default Sales Stage")}),s.jsx("select",{className:"input",value:o.salesIntegration.defaultStage,onChange:S=>b("salesIntegration.defaultStage",S.target.value),children:["New","Negotiation","Closed Won","Closed Lost"].map(S=>s.jsx("option",{value:S,children:e(S)},S))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-assign Sales Rep")}),s.jsxs("select",{className:"input",value:o.salesIntegration.defaultSalesRepId,onChange:S=>b("salesIntegration.defaultSalesRepId",S.target.value),children:[s.jsx("option",{value:"",children:e("None")}),m.map(S=>s.jsx("option",{value:S.id,children:S.name},S.id))]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Link EOI Budget  Opportunity Value")}),s.jsx("input",{className:"input",value:o.salesIntegration.valueMapping,onChange:S=>b("salesIntegration.valueMapping",S.target.value)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Notes Mapping")}),s.jsx("input",{className:"input",value:o.salesIntegration.notesMapping,onChange:S=>b("salesIntegration.notesMapping",S.target.value)})]})]})]}),s.jsxs("div",{className:"sticky bottom-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur border-t p-4 flex items-center justify-end gap-2 rounded-t-2xl",children:[s.jsx("button",{className:"btn btn-glass",onClick:N,children:e("Reset to Default")}),s.jsx("button",{className:"btn btn-primary",onClick:j,disabled:i,children:e(i?"Saving...":"Save Changes")})]})]})}function p6e(){const{t:e}=Ct();return s.jsx(Ht,{title:e("EOI Settings"),children:s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:e("EOI Settings")}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("Manage Expression of Interest and integration with CIL & Sales modules.")})]}),s.jsx("div",{className:"text-xs text-[var(--muted-text)] bg-gray-100 dark:bg-gray-800 px-3 py-1 rounded-full",children:e("Admin Only")})]}),s.jsx(m6e,{})]})})}const YG="reservation.settings";function GC(){return{general:{enabled:!0,defaultStatus:"Pending",defaultDurationMin:30,defaultAssigneeId:"",timezone:"Africa/Cairo",workingHours:{mon:{enabled:!0,from:"09:00",to:"17:00"},tue:{enabled:!0,from:"09:00",to:"17:00"},wed:{enabled:!0,from:"09:00",to:"17:00"},thu:{enabled:!0,from:"09:00",to:"17:00"},fri:{enabled:!0,from:"10:00",to:"16:00"},sat:{enabled:!1,from:"00:00",to:"00:00"},sun:{enabled:!1,from:"00:00",to:"00:00"}}},sources:[{id:"website",name:"Website",enabled:!0,autoAssignId:""},{id:"app",name:"Mobile App",enabled:!0,autoAssignId:""},{id:"manual",name:"Manual Entry",enabled:!0,autoAssignId:""}],notifications:{recipients:{admin:!0,broker:!0,customer:!0},methods:{email:!0,sms:!1,inApp:!0},messages:{pending:"Reservation pending for {{customer}} at {{datetime}}",confirmed:"Reservation confirmed: {{datetime}}",completed:"Reservation completed, thank you!",cancelled:"Reservation cancelled. Contact us to reschedule."}},rules:{maxPerDayPerStaff:12,minNoticeMinutes:120,allowReschedule:!0,allowCancel:!0,autoConvertToLead:!1},integration:{eoiToLeadAutoReservation:!0,onCompleteTriggerSales:!0,onCompleteCreateCil:!1}}}async function x6e(){try{const e=await fetch("/api/reservation/settings");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem(YG):null;if(e)return JSON.parse(e)}catch{}return GC()}async function h9(e){try{if((await fetch("/api/reservation/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return!0}catch{}try{if(typeof window<"u")return window.localStorage.setItem(YG,JSON.stringify(e)),!0}catch{}return!1}function g6e(){const{t:e,i18n:t}=Ct();y.useMemo(()=>t.dir()==="rtl",[t]);const[a,r]=y.useState(!0),[n,i]=y.useState(!1),[l,o]=y.useState(GC()),[c,d]=y.useState("general"),[u]=y.useState([{id:"st1",name:"Staff A"},{id:"st2",name:"Staff B"},{id:"bk1",name:"Broker X"}]);y.useEffect(()=>{let g=!0;return(async()=>{const b=await x6e();g&&(o(j=>({...j,...b})),r(!1))})(),()=>{g=!1}},[]);const f=[{key:"general",label:e("General Settings")},{key:"sources",label:e("Reservation Sources")},{key:"notifications",label:e("Notifications")},{key:"rules",label:e("Workflow & Rules")}],p=(g,b)=>{o(j=>{const N={...j},k=g.split(".");let S=N;for(let C=0;C<k.length-1;C++)S[k[C]]={...S[k[C]]},S=S[k[C]];return S[k[k.length-1]]=b,N})},m=async()=>{i(!0),await h9(l),i(!1)},v=async()=>{const g=GC();o(g),await h9(g)};return a?s.jsxs("div",{className:"p-4 text-[var(--muted-text)]",children:[e("Loading"),"..."]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(g=>s.jsx("button",{className:`btn btn-outline btn-sm ${c===g.key?"bg-primary text-white":""}`,onClick:()=>d(g.key),children:g.label},g.key))}),c==="general"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Enable Reservation System")}),s.jsx("input",{type:"checkbox",checked:l.general.enabled,onChange:g=>p("general.enabled",g.target.checked)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Reservation Status")}),s.jsx("select",{className:"input",value:l.general.defaultStatus,onChange:g=>p("general.defaultStatus",g.target.value),children:["Pending","Confirmed","Cancelled","Completed"].map(g=>s.jsx("option",{value:g,children:e(g)},g))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Reservation Duration (min)")}),s.jsx("input",{type:"number",min:5,className:"input",value:l.general.defaultDurationMin,onChange:g=>p("general.defaultDurationMin",parseInt(g.target.value||"0",10))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Assigned Staff / Broker")}),s.jsxs("select",{className:"input",value:l.general.defaultAssigneeId,onChange:g=>p("general.defaultAssigneeId",g.target.value),children:[s.jsx("option",{value:"",children:e("None")}),u.map(g=>s.jsx("option",{value:g.id,children:g.name},g.id))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Timezone")}),s.jsx("input",{className:"input",value:l.general.timezone,onChange:g=>p("general.timezone",g.target.value)})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-semibold mb-2",children:e("Working Hours")}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(l.general.workingHours).map(([g,b])=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"w-24 capitalize",children:e(g)}),s.jsx("input",{type:"checkbox",checked:b.enabled,onChange:j=>o(N=>({...N,general:{...N.general,workingHours:{...N.general.workingHours,[g]:{...b,enabled:j.target.checked}}}}))}),s.jsx("input",{type:"time",className:"input",value:b.from,onChange:j=>o(N=>({...N,general:{...N.general,workingHours:{...N.general.workingHours,[g]:{...b,from:j.target.value}}}}))}),s.jsx("span",{children:""}),s.jsx("input",{type:"time",className:"input",value:b.to,onChange:j=>o(N=>({...N,general:{...N.general,workingHours:{...N.general.workingHours,[g]:{...b,to:j.target.value}}}}))})]},g))})]})]}),c==="sources"&&s.jsx("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-4",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"p-2",children:e("Source")}),s.jsx("th",{className:"p-2",children:e("Enabled")}),s.jsx("th",{className:"p-2",children:e("Auto-Assign Staff")})]})}),s.jsx("tbody",{children:l.sources.map((g,b)=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-2",children:e(g.name)}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"checkbox",checked:g.enabled,onChange:j=>o(N=>{const k=[...N.sources];return k[b]={...g,enabled:j.target.checked},{...N,sources:k}})})}),s.jsx("td",{className:"p-2",children:s.jsxs("select",{className:"input",value:g.autoAssignId||"",onChange:j=>o(N=>{const k=[...N.sources];return k[b]={...g,autoAssignId:j.target.value},{...N,sources:k}}),children:[s.jsx("option",{value:"",children:e("None")}),u.map(j=>s.jsx("option",{value:j.id,children:j.name},j.id))]})})]},g.id))})]})})}),c==="notifications"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Recipients")}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.recipients.admin,onChange:g=>p("notifications.recipients",{...l.notifications.recipients,admin:g.target.checked})})," Admin"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.recipients.broker,onChange:g=>p("notifications.recipients",{...l.notifications.recipients,broker:g.target.checked})})," Broker"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.recipients.customer,onChange:g=>p("notifications.recipients",{...l.notifications.recipients,customer:g.target.checked})})," Customer"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Methods")}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.methods.email,onChange:g=>p("notifications.methods",{...l.notifications.methods,email:g.target.checked})})," Email"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.methods.sms,onChange:g=>p("notifications.methods",{...l.notifications.methods,sms:g.target.checked})})," SMS"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.methods.inApp,onChange:g=>p("notifications.methods",{...l.notifications.methods,inApp:g.target.checked})})," In-App"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["pending","confirmed","completed","cancelled"].map(g=>s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e(`Message: ${g.charAt(0).toUpperCase()+g.slice(1)}`)}),s.jsx("textarea",{className:"input h-24",value:l.notifications.messages[g],onChange:b=>p("notifications.messages",{...l.notifications.messages,[g]:b.target.value})})]},g))})]}),c==="rules"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Max Reservations Per Day / Staff")}),s.jsx("input",{type:"number",min:1,className:"input",value:l.rules.maxPerDayPerStaff,onChange:g=>p("rules.maxPerDayPerStaff",parseInt(g.target.value||"0",10))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Minimum Notice Time (minutes)")}),s.jsx("input",{type:"number",min:0,className:"input",value:l.rules.minNoticeMinutes,onChange:g=>p("rules.minNoticeMinutes",parseInt(g.target.value||"0",10))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Allow Rescheduling")}),s.jsx("input",{type:"checkbox",checked:l.rules.allowReschedule,onChange:g=>p("rules.allowReschedule",g.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Allow Cancellation")}),s.jsx("input",{type:"checkbox",checked:l.rules.allowCancel,onChange:g=>p("rules.allowCancel",g.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-Convert Reservation to Lead")}),s.jsx("input",{type:"checkbox",checked:l.rules.autoConvertToLead,onChange:g=>p("rules.autoConvertToLead",g.target.checked)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("EOI  Lead  Auto Reservation")}),s.jsx("input",{type:"checkbox",checked:l.integration.eoiToLeadAutoReservation,onChange:g=>p("integration.eoiToLeadAutoReservation",g.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("On Complete  Trigger Sales Opportunity")}),s.jsx("input",{type:"checkbox",checked:l.integration.onCompleteTriggerSales,onChange:g=>p("integration.onCompleteTriggerSales",g.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("On Complete  Create CIL Record")}),s.jsx("input",{type:"checkbox",checked:l.integration.onCompleteCreateCil,onChange:g=>p("integration.onCompleteCreateCil",g.target.checked)})]})]})]}),s.jsxs("div",{className:"sticky bottom-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur border-t p-4 flex items-center justify-end gap-2 rounded-t-2xl",children:[s.jsx("button",{className:"btn btn-glass",onClick:v,children:e("Reset to Default")}),s.jsx("button",{className:"btn btn-primary",onClick:m,disabled:n,children:e(n?"Saving...":"Save Changes")})]})]})}function v6e(){const{t:e}=Ct();return s.jsx(Ht,{title:e("Reservation Settings"),children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:e("Reservation Settings")}),s.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-800",children:e("Admin Only")})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("Manage booking rules, notifications, and integration with EOI/Lead/CIL/Sales.")}),s.jsx(g6e,{})]})})}function b6e(){const{t:e}=Ct(),t=$r.language==="ar",a=y.useMemo(()=>({allowAssignRotation:!0,delayAssignRotation:!1,workFrom:"00:00",workTo:"23:59",reshuffleColdLeads:!1,reshuffleColdLeadsNumber:0}),[]),[r,n]=y.useState(a),[i,l]=y.useState(!1);y.useEffect(()=>{try{const p=localStorage.getItem("rotationSettings");if(p){const m=JSON.parse(p);n({...a,...m})}}catch{}},[a]);const o=p=>{n(m=>({...m,...p})),l(!0)},c=()=>{try{localStorage.setItem("rotationSettings",JSON.stringify(r)),l(!1)}catch{}},d=()=>{n(a),l(!0)},u=({label:p,value:m,onChange:v})=>s.jsxs("div",{className:"flex items-center justify-between py-3",children:[s.jsx("div",{className:"text-sm text-[var(--content-text)] opacity-80",children:p}),s.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"hidden",checked:!!m,onChange:g=>v(g.target.checked)}),s.jsx("span",{className:`w-11 h-6 flex items-center rounded-full p-1 transition ${m?"bg-blue-600":"bg-gray-300 dark:bg-gray-700"}`,children:s.jsx("span",{className:`w-4 h-4 rounded-full bg-white transform transition ${m?t?"-translate-x-0 translate-x-0":"translate-x-5":"translate-x-0"}`})}),s.jsx("span",{className:"ml-2 text-sm",children:e(m?"Yes":"No")})]})]}),f=({label:p,value:m,onChange:v})=>s.jsxs("div",{className:"flex items-center gap-3 py-2",children:[s.jsx("div",{className:"text-sm text-[var(--content-text)] opacity-80 w-28",children:p}),s.jsx("input",{type:"time",value:m,onChange:g=>v(g.target.value),className:"px-3 py-2 rounded-lg border bg-white/80 dark:bg-gray-800/70"})]});return s.jsx(Ht,{title:e("Rotation Settings"),children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-blue-500 to-purple-600 rounded-full"}),s.jsx("h2",{className:"text-2xl font-bold",children:e("Rotation Settings")})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-4 space-y-4",children:[s.jsx(u,{label:e("Allow Assign Rotation"),value:r.allowAssignRotation,onChange:p=>o({allowAssignRotation:p})}),s.jsx(u,{label:e("Delay Assign Rotation"),value:r.delayAssignRotation,onChange:p=>o({delayAssignRotation:p})}),s.jsxs("div",{className:`py-2 ${t?"text-right":""}`,children:[s.jsx("div",{className:"text-sm text-[var(--content-text)] opacity-80 mb-2",children:e("Working Hours From")}),s.jsxs("div",{className:`flex items-center gap-4 ${t?"flex-row-reverse":""}`,children:[s.jsx(f,{label:e("From"),value:r.workFrom,onChange:p=>o({workFrom:p})}),s.jsx("span",{className:"opacity-70",children:e("To")}),s.jsx(f,{label:"",value:r.workTo,onChange:p=>o({workTo:p})})]})]}),s.jsx(u,{label:e("Reshuffle Cold Leads"),value:r.reshuffleColdLeads,onChange:p=>o({reshuffleColdLeads:p})}),s.jsxs("div",{className:"py-2",children:[s.jsx("div",{className:"text-sm text-[var(--content-text)] opacity-80 mb-2",children:e("Reshuffle Cold Leads Number")}),s.jsx("input",{type:"number",min:0,value:r.reshuffleColdLeadsNumber,onChange:p=>o({reshuffleColdLeadsNumber:Number(p.target.value||0)}),className:"w-40 px-3 py-2 rounded-lg border bg-white/80 dark:bg-gray-800/70"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2 border-t border-[var(--panel-border)]",children:[s.jsx("button",{className:"px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100",onClick:d,children:e("Reset")}),s.jsx("button",{className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700 disabled:opacity-50",disabled:!i,onClick:c,children:e("Save")})]})]})]})})}const XG="contracts.settings";function KC(){return{general:{enabled:!0,defaultStatus:"Draft",defaultTemplateId:"",defaultAssigneeId:"",expiryDays:30,autoRenew:!1,renewalTermMonths:12,renewalGraceDays:7},templates:[{id:"basic-contract",name:"Basic Contract",fields:[{key:"customerName",label:"Customer Name",required:!0,type:"text"},{key:"service",label:"Product/Service",required:!0,type:"text"},{key:"amount",label:"Amount",required:!0,type:"number"},{key:"startDate",label:"Start Date",required:!0,type:"date"},{key:"endDate",label:"End Date",required:!1,type:"date"},{key:"terms",label:"Terms",required:!1,type:"textarea"}],dynamicTokens:["{{customer}}","{{lead.id}}","{{sales.opportunityId}}"]}],notifications:{recipients:{admin:!0,broker:!0,customer:!0},methods:{email:!0,sms:!1,inApp:!0},messages:{created:"Contract created for {{customer}}",pending:"Contract pending signature",signed:"Contract signed successfully",expired:"Contract expired. Consider renewal."}},workflow:{autoGenerateFromSales:!0,autoLinkToInvoice:!1,autoRenewContracts:!1,minApprovalRequired:"Manager"}}}async function y6e(){try{const e=await fetch("/api/contracts/settings");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem(XG):null;if(e)return JSON.parse(e)}catch{}return KC()}async function f9(e){try{if((await fetch("/api/contracts/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return!0}catch{}try{if(typeof window<"u")return window.localStorage.setItem(XG,JSON.stringify(e)),!0}catch{}return!1}function w6e(){const{t:e,i18n:t}=Ct();y.useMemo(()=>t.dir()==="rtl",[t]);const[a,r]=y.useState(!0),[n,i]=y.useState(!1),[l,o]=y.useState(KC()),[c,d]=y.useState("general"),[u,f]=y.useState(""),[p]=y.useState([{id:"st1",name:"Staff A"},{id:"st2",name:"Staff B"},{id:"bk1",name:"Broker X"}]);y.useEffect(()=>{let S=!0;return(async()=>{const C=await y6e();S&&(o(_=>({..._,...C})),r(!1))})(),()=>{S=!1}},[]);const m=[{key:"general",label:e("General Settings")},{key:"templates",label:e("Contract Templates")},{key:"notifications",label:e("Notifications")},{key:"workflow",label:e("Workflow & Rules")}],v=(S,C)=>{o(_=>{const P={..._},L=S.split(".");let U=P;for(let z=0;z<L.length-1;z++)U[L[z]]={...U[L[z]]},U=U[L[z]];return U[L[L.length-1]]=C,P})},g=async()=>{i(!0),await f9(l),i(!1)},b=async()=>{const S=KC();o(S),await f9(S)},j=()=>{const S=`tpl-${Date.now()}`,C={id:S,name:"New Template",fields:[{key:"customerName",label:"Customer Name",required:!0,type:"text"},{key:"amount",label:"Amount",required:!0,type:"number"},{key:"startDate",label:"Start Date",required:!0,type:"date"}],dynamicTokens:["{{customer}}"]};o(_=>({..._,templates:[..._.templates,C]})),f(S)},N=S=>{o(C=>({...C,templates:C.templates.filter(_=>_.id!==S)})),u===S&&f(""),l.general.defaultTemplateId===S&&v("general.defaultTemplateId","")},k=(S,C)=>{o(_=>({..._,templates:_.templates.map(P=>P.id===S?{...P,...C}:P)}))};return a?s.jsxs("div",{className:"p-4 text-[var(--muted-text)]",children:[e("Loading"),"..."]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(S=>s.jsx("button",{className:`btn btn-outline btn-sm ${c===S.key?"bg-primary text-white":""}`,onClick:()=>d(S.key),children:S.label},S.key))}),c==="general"&&s.jsx("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Enable Contracts Module")}),s.jsx("input",{type:"checkbox",checked:l.general.enabled,onChange:S=>v("general.enabled",S.target.checked)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Contract Status")}),s.jsx("select",{className:"input",value:l.general.defaultStatus,onChange:S=>v("general.defaultStatus",S.target.value),children:["Draft","Pending Signature","Signed","Cancelled"].map(S=>s.jsx("option",{value:S,children:e(S)},S))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Template")}),s.jsxs("select",{className:"input",value:l.general.defaultTemplateId,onChange:S=>v("general.defaultTemplateId",S.target.value),children:[s.jsx("option",{value:"",children:e("None")}),l.templates.map(S=>s.jsx("option",{value:S.id,children:S.name},S.id))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Default Assigned Staff / Broker")}),s.jsxs("select",{className:"input",value:l.general.defaultAssigneeId,onChange:S=>v("general.defaultAssigneeId",S.target.value),children:[s.jsx("option",{value:"",children:e("None")}),p.map(S=>s.jsx("option",{value:S.id,children:S.name},S.id))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Contract Expiry (days)")}),s.jsx("input",{type:"number",min:0,className:"input",value:l.general.expiryDays,onChange:S=>v("general.expiryDays",parseInt(S.target.value||"0",10))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-Renew Contracts")}),s.jsx("input",{type:"checkbox",checked:l.general.autoRenew,onChange:S=>v("general.autoRenew",S.target.checked)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Renewal Term (months)")}),s.jsx("input",{type:"number",min:1,className:"input",value:l.general.renewalTermMonths,onChange:S=>v("general.renewalTermMonths",parseInt(S.target.value||"0",10))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Renewal Grace (days)")}),s.jsx("input",{type:"number",min:0,className:"input",value:l.general.renewalGraceDays,onChange:S=>v("general.renewalGraceDays",parseInt(S.target.value||"0",10))})]})]})}),c==="templates"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-base font-semibold",children:e("Contract Templates")}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:j,children:e("Add Template")})})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"p-2",children:e("Name")}),s.jsx("th",{className:"p-2",children:e("Fields")}),s.jsx("th",{className:"p-2",children:e("Actions")})]})}),s.jsx("tbody",{children:l.templates.map(S=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-2",children:s.jsx("input",{className:"input",value:S.name,onChange:C=>k(S.id,{name:C.target.value})})}),s.jsx("td",{className:"p-2",children:s.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:[e("Fields"),": ",S.fields.length]})}),s.jsx("td",{className:"p-2",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"btn btn-outline btn-sm",onClick:()=>f(u===S.id?"":S.id),children:u===S.id?e("Close"):e("Edit")}),s.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>N(S.id),children:e("Delete")})]})})]},S.id))})]})}),u&&s.jsx("div",{className:"rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:l.templates.filter(S=>S.id===u).map(S=>s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"font-medium",children:[e("Edit Template"),": ",S.name]}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>f(""),children:e("Done")})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:S.fields.map((C,_)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"input flex-1",value:C.label,onChange:P=>{const L=[...S.fields];L[_]={...C,label:P.target.value},k(S.id,{fields:L})}}),s.jsx("select",{className:"input w-32",value:C.type,onChange:P=>{const L=[...S.fields];L[_]={...C,type:P.target.value},k(S.id,{fields:L})},children:["text","number","date","textarea"].map(P=>s.jsx("option",{value:P,children:P},P))}),s.jsxs("label",{className:"text-xs inline-flex items-center gap-1",children:[s.jsx("input",{type:"checkbox",checked:C.required,onChange:P=>{const L=[...S.fields];L[_]={...C,required:P.target.checked},k(S.id,{fields:L})}}),e("Required")]})]},C.key))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"btn btn-outline btn-sm",onClick:()=>{const C=[...S.fields,{key:`field_${S.fields.length+1}`,label:"New Field",required:!1,type:"text"}];k(S.id,{fields:C})},children:e("Add Field")}),s.jsx("button",{className:"btn btn-glass btn-sm",onClick:()=>k(S.id,{dynamicTokens:[...S.dynamicTokens||[],"{{contract.id}}"]}),children:e("Add Dynamic Token")})]})]},S.id))})]}),c==="notifications"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Recipients")}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.recipients.admin,onChange:S=>v("notifications.recipients",{...l.notifications.recipients,admin:S.target.checked})})," Admin"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.recipients.broker,onChange:S=>v("notifications.recipients",{...l.notifications.recipients,broker:S.target.checked})})," Broker"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.recipients.customer,onChange:S=>v("notifications.recipients",{...l.notifications.recipients,customer:S.target.checked})})," Customer"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Methods")}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.methods.email,onChange:S=>v("notifications.methods",{...l.notifications.methods,email:S.target.checked})})," Email"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.methods.sms,onChange:S=>v("notifications.methods",{...l.notifications.methods,sms:S.target.checked})})," SMS"]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications.methods.inApp,onChange:S=>v("notifications.methods",{...l.notifications.methods,inApp:S.target.checked})})," In-App"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["created","pending","signed","expired"].map(S=>s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e(`Message: ${S.charAt(0).toUpperCase()+S.slice(1)}`)}),s.jsx("textarea",{className:"input h-24",value:l.notifications.messages[S],onChange:C=>v("notifications.messages",{...l.notifications.messages,[S]:C.target.value})})]},S))})]}),c==="workflow"&&s.jsx("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-generate Contract from Sales Opportunity")}),s.jsx("input",{type:"checkbox",checked:l.workflow.autoGenerateFromSales,onChange:S=>v("workflow.autoGenerateFromSales",S.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-link Contract to Invoice")}),s.jsx("input",{type:"checkbox",checked:l.workflow.autoLinkToInvoice,onChange:S=>v("workflow.autoLinkToInvoice",S.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Auto-renew Contracts")}),s.jsx("input",{type:"checkbox",checked:l.workflow.autoRenewContracts,onChange:S=>v("workflow.autoRenewContracts",S.target.checked)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Minimum Approval Required")}),s.jsx("select",{className:"input",value:l.workflow.minApprovalRequired,onChange:S=>v("workflow.minApprovalRequired",S.target.value),children:["None","Admin","Manager"].map(S=>s.jsx("option",{value:S,children:e(S)},S))})]})]})}),s.jsxs("div",{className:"sticky bottom-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur border-t p-4 flex items-center justify-end gap-2 rounded-t-2xl",children:[s.jsx("button",{className:"btn btn-glass",onClick:b,children:e("Reset to Default")}),s.jsx("button",{className:"btn btn-primary",onClick:g,disabled:n,children:e(n?"Saving...":"Save Changes")})]})]})}function j6e(){const{t:e}=Ct();return s.jsx(Ht,{title:e("Contracts Settings"),children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:e("Contracts Settings")}),s.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-800",children:e("Admin Only")})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("Manage contract templates, required fields, e-sign rules, and integration with Sales/Invoice/Reservation.")}),s.jsx(w6e,{})]})})}const JG="buyer_request_reset.settings";function YC(){return{general:{enabled:!0,defaultResetStatus:"pending",maxResetsPerRequest:3},rules:{allowedRoles:["admin","broker"],allowedFields:["budget","location","propertyType","notes"],autoNotifyAssignedBroker:!0},notifications:{customer:{enabled:!0,methods:{email:!0,sms:!1,inApp:!0}},admin:{enabled:!0,methods:{email:!0,sms:!1,inApp:!0}},broker:{enabled:!0,methods:{email:!0,sms:!1,inApp:!0}}},workflowLogs:{trackResetHistory:!0,displayChanges:!0,autoConvertToLead:!1,autoConvertToEoi:!1}}}async function N6e(){try{const e=await fetch("/api/buyer-request-reset/settings");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem(JG):null;if(e)return JSON.parse(e)}catch{}return YC()}async function k6e(e){try{if(!(await fetch("/api/buyer-request-reset/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to save")}catch{}try{typeof window<"u"&&window.localStorage.setItem(JG,JSON.stringify(e))}catch{}}function S6e(){const{t:e,i18n:t}=Ct();y.useMemo(()=>t.dir()==="rtl",[t]);const[a,r]=y.useState(!0),[n,i]=y.useState(!1),[l,o]=y.useState(YC()),[c,d]=y.useState("general"),u=[{key:"general",label:e("General Settings")},{key:"rules",label:e("Reset Rules")},{key:"notifications",label:e("Notifications")},{key:"workflow",label:e("Workflow & Logs")}];y.useEffect(()=>{let v=!0;return(async()=>{const g=await N6e();v&&(o(b=>({...b,...g})),r(!1))})(),()=>{v=!1}},[]);const f=(v,g)=>{o(b=>{const j={...b},N=v.split(".");let k=j;for(let S=0;S<N.length-1;S++)k[N[S]]={...k[N[S]]},k=k[N[S]];return k[N[N.length-1]]=g,j})},p=async()=>{i(!0),await k6e(l),i(!1)},m=()=>{const v=YC();o(v)};return a?s.jsx("div",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6",children:s.jsx("div",{className:"animate-pulse text-sm text-gray-500",children:e("Loading settings...")})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(v=>s.jsx("button",{onClick:()=>d(v.key),className:`px-3 py-2 text-sm rounded-full border ${c===v.key?"bg-gray-900 text-white dark:bg-white dark:text-black":"bg-white dark:bg-gray-900 text-gray-700 dark:text-gray-200"} border-gray-200 dark:border-gray-700`,children:v.label},v.key))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:m,className:"px-3 py-2 text-sm rounded bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-700",children:e("Reset to Default")}),s.jsx("button",{onClick:p,disabled:n,className:`px-3 py-2 text-sm rounded ${n?"opacity-70 cursor-not-allowed":""} bg-blue-600 text-white`,children:e(n?"Saving...":"Save Changes")})]})]}),c==="general"&&s.jsx("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Enable Buyer Request Reset")}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:l.general.enabled,onChange:v=>f("general.enabled",v.target.checked)}),s.jsx("span",{children:l.general.enabled?e("Enabled"):e("Disabled")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Default Reset Status")}),s.jsx("select",{className:"input",value:l.general.defaultResetStatus,onChange:v=>f("general.defaultResetStatus",v.target.value),children:["pending","draft","verified"].map(v=>s.jsx("option",{value:v,children:e(v)},v))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Max Number of Resets per Request")}),s.jsx("input",{type:"number",min:0,className:"input",value:l.general.maxResetsPerRequest,onChange:v=>f("general.maxResetsPerRequest",Number(v.target.value))})]})]})}),c==="rules"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Allowed Roles")}),s.jsx("div",{className:"flex flex-wrap gap-3 text-sm",children:["admin","broker","customer"].map(v=>s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.rules.allowedRoles.includes(v),onChange:g=>{const j=g.target.checked?[...l.rules.allowedRoles,v]:l.rules.allowedRoles.filter(N=>N!==v);f("rules.allowedRoles",j)}}),s.jsx("span",{children:e(v)})]},v))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Fields Allowed for Reset")}),s.jsx("div",{className:"flex flex-wrap gap-3 text-sm",children:[{key:"budget",label:e("Budget")},{key:"location",label:e("Location")},{key:"propertyType",label:e("Property Type")},{key:"notes",label:e("Notes")}].map(v=>s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.rules.allowedFields.includes(v.key),onChange:g=>{const j=g.target.checked?[...l.rules.allowedFields,v.key]:l.rules.allowedFields.filter(N=>N!==v.key);f("rules.allowedFields",j)}}),s.jsx("span",{children:v.label})]},v.key))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Auto-Notify Assigned Broker After Reset")}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:l.rules.autoNotifyAssignedBroker,onChange:v=>f("rules.autoNotifyAssignedBroker",v.target.checked)}),s.jsx("span",{children:l.rules.autoNotifyAssignedBroker?e("Enabled"):e("Disabled")})]})]})]}),c==="notifications"&&s.jsx("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["customer","admin","broker"].map(v=>s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e(`Notify ${v.charAt(0).toUpperCase()+v.slice(1)}`)}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:l.notifications[v].enabled,onChange:g=>f(`notifications.${v}.enabled`,g.target.checked)}),s.jsx("span",{children:l.notifications[v].enabled?e("Enabled"):e("Disabled")})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications[v].methods.email,onChange:g=>f(`notifications.${v}.methods`,{...l.notifications[v].methods,email:g.target.checked})}),s.jsx("span",{children:e("Email")})]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications[v].methods.sms,onChange:g=>f(`notifications.${v}.methods`,{...l.notifications[v].methods,sms:g.target.checked})}),s.jsx("span",{children:e("SMS")})]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.notifications[v].methods.inApp,onChange:g=>f(`notifications.${v}.methods`,{...l.notifications[v].methods,inApp:g.target.checked})}),s.jsx("span",{children:e("In-App")})]})]})]},v))})}),c==="workflow"&&s.jsxs("section",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Track Reset History per Request")}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:l.workflowLogs.trackResetHistory,onChange:v=>f("workflowLogs.trackResetHistory",v.target.checked)}),s.jsx("span",{children:l.workflowLogs.trackResetHistory?e("Enabled"):e("Disabled")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Display Who Reset, When, and Which Fields Changed")}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:l.workflowLogs.displayChanges,onChange:v=>f("workflowLogs.displayChanges",v.target.checked)}),s.jsx("span",{children:l.workflowLogs.displayChanges?e("Enabled"):e("Disabled")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Auto-Convert Reset to Lead")}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:l.workflowLogs.autoConvertToLead,onChange:v=>f("workflowLogs.autoConvertToLead",v.target.checked)}),s.jsx("span",{children:l.workflowLogs.autoConvertToLead?e("Enabled"):e("Disabled")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium text-sm",children:e("Auto-Convert Reset to EOI")}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:l.workflowLogs.autoConvertToEoi,onChange:v=>f("workflowLogs.autoConvertToEoi",v.target.checked)}),s.jsx("span",{children:l.workflowLogs.autoConvertToEoi?e("Enabled"):e("Disabled")})]})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[s.jsxs("div",{children:[e("Logs endpoint"),": /api/buyer-request-reset/logs"]}),s.jsxs("div",{children:[e("Apply reset endpoint"),": /api/buyer-request-reset/apply"]}),s.jsxs("div",{children:[e("Notifications endpoint"),": /api/buyer-request-reset/notify"]})]})]})]})}function C6e(){const{t:e}=Ct();return s.jsx(Ht,{title:e("Buyer Request Reset Settings"),children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:e("Buyer Request Reset Settings")}),s.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-800",children:e("Admin Only")})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("Configure reset permissions, notifications, and workflow/logs for buyer requests.")}),s.jsx(S6e,{})]})})}const QG="matching.settings";function ZG(e="Default Profile"){return{id:`${Date.now()}`,name:e,fields:{location:!0,budget:!0,propertyType:!0,leadPriority:!0,tags:!1},weights:{location:40,budget:30,propertyType:30,leadPriority:0,tags:0}}}function XC(){const e=ZG();return{general:{enabled:!0,defaultStatus:"Pending",autoMatching:!0},criteria:{profiles:[e],activeProfileId:e.id},notifications:{notifyBroker:!0,notifyCustomer:!1,methods:{email:!0,sms:!1,inApp:!0}},workflow:{trackHistory:!0,showScore:!0,manualOverride:{admin:!0,broker:!0}}}}async function A6e(){try{const e=await fetch("/api/matching/settings");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem(QG):null;if(e)return JSON.parse(e)}catch{}return XC()}async function _6e(e){try{if((await fetch("/api/matching/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return!0}catch{}try{if(typeof window<"u")return window.localStorage.setItem(QG,JSON.stringify(e)),!0}catch{}return!1}async function T6e(){try{const e=await fetch("/api/matching/logs");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem("matching.logs"):null;if(e)return JSON.parse(e)}catch{}return[]}async function E6e(e={}){try{const t=await fetch("/api/matching/run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)return await t.json()}catch{}return{status:"mocked",matchedCount:0,message:"Mock run completed."}}async function D6e(e={}){try{const t=await fetch("/api/matching/notify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)return await t.json()}catch{}return{status:"mocked",message:"Notifications simulated."}}function M6e(){const{t:e,i18n:t}=Ct(),a=t.language==="ar",[r,n]=y.useState(XC()),[i,l]=y.useState(!0),[o,c]=y.useState(!1),[d,u]=y.useState(null),[f,p]=y.useState("General"),[m,v]=y.useState([]),[g,b]=y.useState("");y.useEffect(()=>{let M=!0;return A6e().then(I=>{M&&(n(I),l(!1))}),()=>{M=!1}},[]);const j=(M,I)=>{n(W=>{const R={...W},q=M.split(".");let ae=R;for(let te=0;te<q.length-1;te++)ae[q[te]]={...ae[q[te]]},ae=ae[q[te]];return ae[q[q.length-1]]=I,R})},N=r.criteria.profiles||[],k=y.useMemo(()=>N.find(M=>M.id===r.criteria.activeProfileId)||N[0],[N,r.criteria.activeProfileId]),S=y.useMemo(()=>{const M=k?.weights||{};return(Number(M.location)||0)+(Number(M.budget)||0)+(Number(M.propertyType)||0)+(Number(M.leadPriority)||0)+(Number(M.tags)||0)},[k]),C=()=>{const M=g.trim()||"Profile",I=ZG(M),W=[...N,I];j("criteria.profiles",W),j("criteria.activeProfileId",I.id),b(""),u({type:"success",message:e("Profile added")}),setTimeout(()=>u(null),1800)},_=M=>{const I=N.filter(R=>R.id!==M),W=M===r.criteria.activeProfileId?I[0]?.id||null:r.criteria.activeProfileId;j("criteria.profiles",I),j("criteria.activeProfileId",W),u({type:"info",message:e("Profile removed")}),setTimeout(()=>u(null),1800)},P=(M,I)=>{const W=N.map(R=>R.id===M?I({...R}):R);j("criteria.profiles",W)},L=async()=>{c(!0);const M=await _6e(r);c(!1),u({type:M?"success":"error",message:e(M?"Settings saved":"Failed to save settings")}),setTimeout(()=>u(null),2e3)},U=()=>{const M=XC();n(M),u({type:"info",message:e("Settings reset to default")}),setTimeout(()=>u(null),2e3)},z=async()=>{const M=await T6e();v(Array.isArray(M)?M:[])},T=async()=>{const M={profile:k,general:r.general};await E6e(M),u({type:"success",message:e("Matching run completed")}),setTimeout(()=>u(null),1500),await z()},F=async()=>{await D6e({methods:r.notifications.methods}),u({type:"info",message:e("Notifications sent (mock)")}),setTimeout(()=>u(null),1500)};return i?s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"animate-pulse h-6 w-40 bg-gray-200 dark:bg-gray-700 rounded"})}):s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsx("div",{className:"flex flex-wrap gap-2 border-b border-gray-200 dark:border-gray-700 pb-2",children:["General","Matching Criteria","Notifications","Workflow & Logs"].map(M=>s.jsx("button",{onClick:()=>p(M),className:`px-3 py-1.5 rounded text-sm ${f===M?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200"}`,children:e(M)},M))}),f==="General"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.general.enabled,onChange:M=>j("general.enabled",M.target.checked)}),s.jsx("label",{className:"font-medium",children:e("Enable Matching System")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"font-medium w-48",children:e("Default Matching Status")}),s.jsx("select",{value:r.general.defaultStatus,onChange:M=>j("general.defaultStatus",M.target.value),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700",children:["Pending","Matched","Unmatched"].map(M=>s.jsx("option",{value:M,children:e(M)},M))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.general.autoMatching,onChange:M=>j("general.autoMatching",M.target.checked)}),s.jsx("label",{className:"font-medium",children:e("Auto-Matching Enabled")})]})]}),f==="Matching Criteria"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"rounded border border-gray-200 dark:border-gray-700 p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:"font-semibold",children:e("Matching Profiles")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{value:g,onChange:M=>b(M.target.value),placeholder:e("Profile name"),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700"}),s.jsx("button",{onClick:C,className:"px-3 py-1 rounded bg-blue-600 text-white text-sm",children:e("Add Profile")})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(M=>s.jsxs("div",{className:`px-3 py-1 rounded text-sm flex items-center gap-2 ${M.id===k?.id?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800"}`,children:[s.jsx("input",{type:"radio",name:"activeProfile",checked:M.id===k?.id,onChange:()=>j("criteria.activeProfileId",M.id)}),s.jsx("span",{children:M.name}),s.jsx("button",{onClick:()=>_(M.id),className:"text-xs opacity-80",children:e("Remove")})]},M.id))})]}),k&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"font-semibold",children:e("Fields for Matching")}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[{key:"location",label:"Location"},{key:"budget",label:"Budget"},{key:"propertyType",label:"Property Type"},{key:"leadPriority",label:"Lead Priority"},{key:"tags",label:"Tags / Keywords"}].map(M=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:!!k.fields[M.key],onChange:I=>P(k.id,W=>(W.fields[M.key]=I.target.checked,W))}),s.jsx("span",{children:e(M.label)})]},M.key))}),s.jsx("div",{className:"font-semibold",children:e("Matching Priority Weight (%)")}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[{key:"location",label:"Location"},{key:"budget",label:"Budget"},{key:"propertyType",label:"Property Type"},{key:"leadPriority",label:"Lead Priority"},{key:"tags",label:"Tags / Keywords"}].map(M=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"w-40",children:e(M.label)}),s.jsx("input",{type:"number",min:0,max:100,value:k.weights[M.key]??0,onChange:I=>P(k.id,W=>(W.weights[M.key]=Number(I.target.value)||0,W)),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-28"}),s.jsx("span",{className:"text-xs text-gray-500",children:e("%")})]},M.key))}),s.jsxs("div",{className:`text-sm ${S===100?"text-green-600":"text-amber-600"}`,children:[e("Total weight"),": ",S,"% ",S!==100&&e("(recommended: 100%)")]})]})]}),f==="Notifications"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.notifications.notifyBroker,onChange:M=>j("notifications.notifyBroker",M.target.checked)}),s.jsx("label",{className:"font-medium",children:e("Notify Assigned Broker / Staff After Match")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.notifications.notifyCustomer,onChange:M=>j("notifications.notifyCustomer",M.target.checked)}),s.jsx("label",{className:"font-medium",children:e("Notify Customer if Matched")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-semibold",children:e("Methods")}),s.jsx("div",{className:"flex flex-wrap gap-4",children:[{key:"email",label:"Email"},{key:"sms",label:"SMS"},{key:"inApp",label:"In-App"}].map(M=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.notifications.methods[M.key],onChange:I=>j(`notifications.methods.${M.key}`,I.target.checked)}),s.jsx("span",{children:e(M.label)})]},M.key))})]})]}),f==="Workflow & Logs"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.workflow.trackHistory,onChange:M=>j("workflow.trackHistory",M.target.checked)}),s.jsx("label",{className:"font-medium",children:e("Track Matching History")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.workflow.showScore,onChange:M=>j("workflow.showScore",M.target.checked)}),s.jsx("label",{className:"font-medium",children:e("Display Matches & Score %")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-semibold",children:e("Manual Override Option")}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.workflow.manualOverride.admin,onChange:M=>j("workflow.manualOverride.admin",M.target.checked)}),s.jsx("span",{children:e("Admin")})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.workflow.manualOverride.broker,onChange:M=>j("workflow.manualOverride.broker",M.target.checked)}),s.jsx("span",{children:e("Broker")})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:T,className:"px-3 py-1.5 rounded bg-blue-600 text-white text-sm",children:e("Run Matching")}),s.jsx("button",{onClick:z,className:"px-3 py-1.5 rounded bg-gray-200 dark:bg-gray-700 text-sm",children:e("Refresh Logs")}),s.jsx("button",{onClick:F,className:"px-3 py-1.5 rounded bg-amber-500 text-white text-sm",children:e("Send Notifications")})]}),s.jsxs("div",{className:"rounded border border-gray-200 dark:border-gray-700 p-3",children:[s.jsx("div",{className:"font-semibold mb-2",children:e("Matching History")}),m.length===0?s.jsx("div",{className:"text-sm text-gray-500",children:e("No matching logs yet.")}):s.jsx("div",{className:"space-y-2",children:m.map((M,I)=>s.jsxs("div",{className:"text-sm flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:M.entity||"Item"}),s.jsx("span",{className:"opacity-70",children:M.score?`${M.score}%`:""})]}),s.jsx("div",{className:"opacity-70",children:M.time||""})]},I))})]})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:L,disabled:o,className:"px-4 py-2 rounded bg-green-600 text-white disabled:opacity-60",children:e(o?"Saving...":"Save Changes")}),s.jsx("button",{onClick:U,className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700",children:e("Reset to Default")})]}),d&&s.jsx("div",{className:`fixed bottom-4 ${a?"left-4":"right-4"} px-3 py-2 rounded text-sm shadow ${d.type==="error"?"bg-red-600 text-white":d.type==="success"?"bg-green-600 text-white":"bg-gray-800 text-white"}`,children:d.message})]})}function P6e(){const{t:e}=Ct();return s.jsx(Ht,{title:e("Matching Settings"),children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:e("Matching Settings")}),s.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-800",children:e("Admin Only")})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("Manage matching between Leads, EOI, Buyer Requests, Opportunities, and Properties/Products.")}),s.jsx(M6e,{})]})})}const eK="rent.configuration";function JC(e=1){return{id:`${Date.now()}-${e}`,name:`Unit ${e}`,rentPrice:1e3,minContractMonths:12,depositAmount:500,autoRenew:!0,currency:"USD"}}function QC(){const e=[JC(1),JC(2)];return{general:{enabled:!0,defaultStatus:"Active",defaultCurrency:"USD",paymentTerms:"Monthly",autoGenerateInvoice:!0},units:e,notifications:{customerBeforeDue:{email:!0,sms:!0,inApp:!0},adminLatePayment:!0,beforeExpiry:!1},workflow:{autoUpdateStatus:!0,trackPaymentHistory:!0,linkToContract:!0,linkToSalesOpportunity:!0}}}async function L6e(){try{const e=await fetch("/api/rent/configuration");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem(eK):null;if(e)return JSON.parse(e)}catch{}return QC()}async function O6e(e){try{if((await fetch("/api/rent/configuration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return!0}catch{}try{if(typeof window<"u")return window.localStorage.setItem(eK,JSON.stringify(e)),!0}catch{}return!1}async function R6e(e={}){try{const t=await fetch("/api/rent/generate-invoice",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)return await t.json()}catch{}return{status:"mocked",message:"Invoice generation simulated."}}async function F6e(){try{const e=await fetch("/api/rent/payment-history");if(e.ok)return await e.json()}catch{}try{const e=typeof window<"u"?window.localStorage.getItem("rent.paymentHistory"):null;if(e)return JSON.parse(e)}catch{}return[]}async function I6e(e={}){try{const t=await fetch("/api/rent/notify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)return await t.json()}catch{}return{status:"mocked",message:"Notifications simulated."}}function B6e(){const{t:e,i18n:t}=Ct(),a=t.language==="ar",[r,n]=y.useState(QC()),[i,l]=y.useState(!0),[o,c]=y.useState(!1),[d,u]=y.useState(null),[f,p]=y.useState("General"),[m,v]=y.useState([]);y.useEffect(()=>{let L=!0;return L6e().then(U=>{L&&(n(U),l(!1))}),()=>{L=!1}},[]);const g=(L,U)=>{n(z=>{const T={...z},F=L.split(".");let M=T;for(let I=0;I<F.length-1;I++)M[F[I]]={...M[F[I]]},M=M[F[I]];return M[F[F.length-1]]=U,T})},b=()=>{const L=[...r.units,JC(r.units.length+1)];g("units",L)},j=L=>{const U=r.units.filter(z=>z.id!==L);g("units",U)},N=(L,U)=>{const z=r.units.map(T=>T.id===L?U({...T}):T);g("units",z)},k=async()=>{c(!0);const L=await O6e(r);c(!1),u({type:L?"success":"error",message:e(L?"Settings saved":"Failed to save settings")}),setTimeout(()=>u(null),2e3)},S=()=>{const L=QC();n(L),u({type:"info",message:e("Settings reset to default")}),setTimeout(()=>u(null),2e3)},C=async()=>{const L=await F6e();v(Array.isArray(L)?L:[])},_=async()=>{await R6e({units:r.units,general:r.general}),u({type:"success",message:e("Invoice generation triggered")}),setTimeout(()=>u(null),1500),await C()},P=async()=>{await I6e({methods:r.notifications.customerBeforeDue}),u({type:"info",message:e("Notifications sent (mock)")}),setTimeout(()=>u(null),1500)};return i?s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"animate-pulse h-6 w-40 bg-gray-200 dark:bg-gray-700 rounded"})}):s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsx("div",{className:"flex flex-wrap gap-2 border-b border-gray-200 dark:border-gray-700 pb-2",children:["General","Rent Units / Properties","Notifications","Workflow & Rules"].map(L=>s.jsx("button",{onClick:()=>p(L),className:`px-3 py-1.5 rounded text-sm ${f===L?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200"}`,children:e(L)},L))}),f==="General"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.general.enabled,onChange:L=>g("general.enabled",L.target.checked)}),s.jsx("label",{className:"font-medium",children:e("Enable Rent Module")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"font-medium w-56",children:e("Default Rent Status")}),s.jsx("select",{value:r.general.defaultStatus,onChange:L=>g("general.defaultStatus",L.target.value),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700",children:["Active","Pending","Expired"].map(L=>s.jsx("option",{value:L,children:e(L)},L))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"font-medium w-56",children:e("Default Currency")}),s.jsx("input",{value:r.general.defaultCurrency,onChange:L=>g("general.defaultCurrency",L.target.value),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-40"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"font-medium w-56",children:e("Default Payment Terms")}),s.jsx("select",{value:r.general.paymentTerms,onChange:L=>g("general.paymentTerms",L.target.value),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700",children:["Monthly","Quarterly","Yearly"].map(L=>s.jsx("option",{value:L,children:e(L)},L))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.general.autoGenerateInvoice,onChange:L=>g("general.autoGenerateInvoice",L.target.checked)}),s.jsx("label",{className:"font-medium",children:e("Auto-generate Invoice for Rent")})]})]}),f==="Rent Units / Properties"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-semibold",children:e("List of Units / Properties")}),s.jsx("button",{onClick:b,className:"px-3 py-1 rounded bg-blue-600 text-white text-sm",children:e("Add Unit / Property")})]}),s.jsx("div",{className:"space-y-3",children:r.units.map(L=>s.jsxs("div",{className:"rounded border border-gray-200 dark:border-gray-700 p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"w-40",children:e("Name / ID")}),s.jsx("input",{value:L.name,onChange:U=>N(L.id,z=>(z.name=U.target.value,z)),className:"input px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-full"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"w-40",children:e("Rent Price")}),s.jsx("input",{type:"number",value:L.rentPrice,onChange:U=>N(L.id,z=>(z.rentPrice=Number(U.target.value)||0,z)),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-40"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"w-56",children:e("Minimum Contract Duration")}),s.jsx("input",{type:"number",value:L.minContractMonths,onChange:U=>N(L.id,z=>(z.minContractMonths=Number(U.target.value)||0,z)),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-40"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"w-40",children:e("Deposit Amount")}),s.jsx("input",{type:"number",value:L.depositAmount,onChange:U=>N(L.id,z=>(z.depositAmount=Number(U.target.value)||0,z)),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-40"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"w-40",children:e("Auto-Renew Option")}),s.jsx("input",{type:"checkbox",checked:L.autoRenew,onChange:U=>N(L.id,z=>(z.autoRenew=U.target.checked,z))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"w-40",children:e("Currency")}),s.jsx("input",{value:L.currency,onChange:U=>N(L.id,z=>(z.currency=U.target.value,z)),className:"px-2 py-1 rounded bg-[var(--content-bg)] border border-gray-300 dark:border-gray-700 w-32"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{onClick:()=>j(L.id),className:"px-3 py-1 rounded bg-red-600 text-white text-sm",children:e("Remove")})})]},L.id))})]}),f==="Notifications"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"font-semibold",children:e("Notify Customer Before Payment Due")}),s.jsx("div",{className:"flex flex-wrap gap-4",children:[{key:"email",label:"Email"},{key:"sms",label:"SMS"},{key:"inApp",label:"In-App"}].map(L=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.notifications.customerBeforeDue[L.key],onChange:U=>g(`notifications.customerBeforeDue.${L.key}`,U.target.checked)}),s.jsx("span",{children:e(L.label)})]},L.key))}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.notifications.adminLatePayment,onChange:L=>g("notifications.adminLatePayment",L.target.checked)}),s.jsx("span",{children:e("Notify Admin / Broker on Late Payment")})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.notifications.beforeExpiry,onChange:L=>g("notifications.beforeExpiry",L.target.checked)}),s.jsx("span",{children:e("Notify before Contract Expiry")})]})]}),f==="Workflow & Rules"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.workflow.autoUpdateStatus,onChange:L=>g("workflow.autoUpdateStatus",L.target.checked)}),s.jsx("span",{className:"font-medium",children:e("Auto-Update Rent Status (Active  Expired)")})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.workflow.trackPaymentHistory,onChange:L=>g("workflow.trackPaymentHistory",L.target.checked)}),s.jsx("span",{className:"font-medium",children:e("Track Rent Payment History")})]}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.workflow.linkToContract,onChange:L=>g("workflow.linkToContract",L.target.checked)}),s.jsx("span",{children:e("Link Rent to Contract")})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:r.workflow.linkToSalesOpportunity,onChange:L=>g("workflow.linkToSalesOpportunity",L.target.checked)}),s.jsx("span",{children:e("Link to Sales Opportunity")})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:_,className:"px-3 py-1.5 rounded bg-blue-600 text-white text-sm",children:e("Generate Invoice")}),s.jsx("button",{onClick:C,className:"px-3 py-1.5 rounded bg-gray-200 dark:bg-gray-700 text-sm",children:e("Refresh Payment History")}),s.jsx("button",{onClick:P,className:"px-3 py-1.5 rounded bg-amber-500 text-white text-sm",children:e("Send Notifications")})]}),s.jsxs("div",{className:"rounded border border-gray-200 dark:border-gray-700 p-3",children:[s.jsx("div",{className:"font-semibold mb-2",children:e("Payment History")}),m.length===0?s.jsx("div",{className:"text-sm text-gray-500",children:e("No payment history yet.")}):s.jsx("div",{className:"space-y-2",children:m.map((L,U)=>s.jsxs("div",{className:"text-sm flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:L.contract||"Contract"}),s.jsx("span",{className:"opacity-70",children:L.amount?`${L.amount} ${L.currency||r.general.defaultCurrency}`:""})]}),s.jsx("div",{className:"opacity-70",children:L.time||""})]},U))})]})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:k,disabled:o,className:"px-4 py-2 rounded bg-green-600 text-white disabled:opacity-60",children:e(o?"Saving...":"Save Changes")}),s.jsx("button",{onClick:S,className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700",children:e("Reset to Default")})]}),d&&s.jsx("div",{className:`fixed bottom-4 ${a?"left-4":"right-4"} px-3 py-2 rounded text-sm shadow ${d.type==="error"?"bg-red-600 text-white":d.type==="success"?"bg-green-600 text-white":"bg-gray-800 text-white"}`,children:d.message})]})}function $6e(){const{t:e}=Ct();return s.jsx(Ht,{title:e("Rent Configuration"),children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:e("Rent Configuration")}),s.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-800",children:e("Admin Only")})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("Manage rent contracts, pricing, invoices, and links to Contracts/Sales/Customers.")}),s.jsx(B6e,{})]})})}function U6e({isOpen:e,onClose:t,inline:a=!1}){const{t:r,i18n:n}=Ct();(n.language||"").startsWith("ar");const[i,l]=y.useState("general"),[o,c]=y.useState(!1),[d,u]=y.useState(!1),[f,p]=y.useState("CIL Core"),[m,v]=y.useState("system@company.com"),[g,b]=y.useState("Website"),[j,N]=y.useState("USD"),[k,S]=y.useState("09:00"),[C,_]=y.useState("18:00"),[P,L]=y.useState("10"),[U,z]=y.useState(!0),[T,F]=y.useState("Round Robin"),[M,I]=y.useState(15),[W,R]=y.useState(24),[q,ae]=y.useState(!0),[te,K]=y.useState(!0),[oe,D]=y.useState("sk_live_1234567890"),[G,H]=y.useState("https://api.example.com/webhook"),[X,se]=y.useState("15 min"),[ie,ne]=y.useState(()=>({facebook:{enabled:!0,name:"Facebook Leads"},google:{enabled:!1,name:"Google Ads"},zapier:{enabled:!0,name:"Zapier"}})),[J,le]=y.useState(!0),[pe,Q]=y.useState(!1),[xe,he]=y.useState(!0),[ue,Le]=y.useState(!0),[ze,Ce]=y.useState(5),[ce,Ie]=y.useState(!0),[we,$e]=y.useState(!1),[Be,ft]=y.useState({start:"",end:"",action:"All",user:"All"}),[Ke,Ue]=y.useState([{date:"2025-11-12",user:"Ibrahim Mohamed",action:"API Regenerated",result:"Success"},{date:"2025-11-11",user:"Admin",action:"Webhook Updated",result:"Success"},{date:"2025-11-10",user:"Admin",action:"Assign Mode Changed",result:"Success"}]);y.useEffect(()=>{if(!d)return;c(!0);const qe=setTimeout(()=>{c(!1),u(!1)},1200);return()=>clearTimeout(qe)},[d]);const tt=()=>u(!0),ct=y.useMemo(()=>Math.round(Number(M)*.8),[M]),Je=()=>{D(`sk_live_${Math.random().toString(36).slice(2,10)}${Date.now().toString().slice(-4)}`),tt()},pt=qe=>{const Gt=Math.random()>.2;alert(`${ie[qe].name}: ${Gt?"Connection OK":"Failed to connect"}`)},kt=qe=>{alert(`Exporting logs as ${qe}...`)},Ot=()=>{c(!0),setTimeout(()=>c(!1),1200)};if(!a&&!e)return null;const qt="glass-panel rounded-2xl w-full h-full flex flex-col overflow-hidden shadow-2xl",Wt="border-b border-white/20 dark:border-gray-700 shadow-[0_2px_10px_rgba(0,0,0,0.08)]",Te=({id:qe,label:Gt})=>s.jsxs("button",{className:`relative px-3 md:px-4 py-2 text-sm md:text-[15px] whitespace-nowrap transition-all ${i===qe?"text-blue-500":"text-gray-600 dark:text-gray-300"}`,onClick:()=>l(qe),children:[s.jsx("span",{className:`${i===qe?"font-semibold":""}`,children:Gt}),i===qe&&s.jsx("span",{className:"absolute left-0 right-0 -bottom-[2px] h-[2px] bg-gradient-to-r from-blue-500 to-cyan-400"})]}),$t=()=>s.jsxs("div",{className:qt,children:[s.jsx("div",{className:`px-6 py-4 ${Wt}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-xl md:text-2xl font-semibold bg-gradient-to-r from-blue-500 to-cyan-400 bg-clip-text text-transparent",children:r("CIL Settings")}),s.jsx("span",{className:"text-sm text-[var(--muted-text)]",children:r("Manage and customize system integration and lead assignment settings.")}),o&&s.jsx("span",{className:"ml-2 inline-flex items-center gap-1 px-2 py-1 rounded-full bg-amber-100 text-amber-700 border border-amber-200 text-xs animate-pulse",children:r("Saving...")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:Ot,className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow-[0_0_12px_rgba(59,130,246,0.6)] hover:bg-blue-700",children:r("Save Changes")}),!a&&s.jsx("button",{onClick:t,className:"px-3 py-2 rounded-lg border bg-white/60 dark:bg-gray-800/60",children:r("Close")})]})]})}),s.jsx("div",{className:"px-4 md:px-6 pt-3 pb-2 shadow-[0_10px_10px_-10px_rgba(0,0,0,0.25)]",children:s.jsxs("div",{className:"flex items-center gap-1 overflow-x-auto no-scrollbar",children:[s.jsx(Te,{id:"general",label:r("General Settings")}),s.jsx(Te,{id:"rules",label:r("Lead Assignment Rules")}),s.jsx(Te,{id:"integrations",label:r("Integration Setup")}),s.jsx(Te,{id:"notifications",label:r("Notifications")}),s.jsx(Te,{id:"security",label:r("Security & Logs")})]})}),s.jsxs("div",{className:"flex-1 px-6 py-5 overflow-y-auto space-y-5 transition-all",children:[i==="general"&&s.jsx("div",{className:"space-y-5 animate-[fadeIn_200ms_ease]",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-xs text-[var(--muted-text)] flex items-center gap-1",children:[r("CIL Name")," ",s.jsx("span",{title:r("Name of your CIL system"),children:""})]}),s.jsx("input",{className:"input-soft w-full",value:f,onChange:qe=>{p(qe.target.value),tt()}})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-xs text-[var(--muted-text)] flex items-center gap-1",children:[r("System Email")," ",s.jsx("span",{title:r("Email used for system notifications"),children:""})]}),s.jsx("input",{className:"input-soft w-full",type:"email",value:m,onChange:qe=>{v(qe.target.value),tt()}})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-xs text-[var(--muted-text)] flex items-center gap-1",children:[r("Default Lead Source")," ",s.jsx("span",{title:r("Default source for incoming leads"),children:""})]}),s.jsx("select",{className:"input-soft w-full",value:g,onChange:qe=>{b(qe.target.value),tt()},children:["Website","Facebook","Google Ads","Manual"].map(qe=>s.jsx("option",{value:qe,children:qe},qe))})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-xs text-[var(--muted-text)] flex items-center gap-1",children:[r("Default Currency")," ",s.jsx("span",{title:r("Currency used in reports and contracts"),children:""})]}),s.jsx("select",{className:"input-soft w-full",value:j,onChange:qe=>{N(qe.target.value),tt()},children:["USD","EUR","GBP","EGP","SAR","AED"].map(qe=>s.jsx("option",{value:qe,children:qe},qe))})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-xs text-[var(--muted-text)] flex items-center gap-1",children:[r("Working Hours (Start)")," ",s.jsx("span",{title:r("Start time of workday"),children:""})]}),s.jsx("input",{type:"time",className:"input-soft w-full",value:k,onChange:qe=>{S(qe.target.value),tt()}})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-xs text-[var(--muted-text)] flex items-center gap-1",children:[r("Working Hours (End)")," ",s.jsx("span",{title:r("End time of workday"),children:""})]}),s.jsx("input",{type:"time",className:"input-soft w-full",value:C,onChange:qe=>{_(qe.target.value),tt()}})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-xs text-[var(--muted-text)] flex items-center gap-1",children:[r("Auto-Save Interval")," ",s.jsx("span",{title:r("Frequency to auto-save settings"),children:""})]}),s.jsx("select",{className:"input-soft w-full",value:P,onChange:qe=>{L(qe.target.value),tt()},children:[5,10,30].map(qe=>s.jsxs("option",{value:String(qe),children:[qe," min"]},qe))})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-xs text-[var(--muted-text)] flex items-center gap-1",children:[r("Enable CIL API")," ",s.jsx("span",{title:r("Enable/disable external API access"),children:""})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("button",{onClick:()=>{z(qe=>!qe),tt()},className:`px-3 py-2 rounded-lg border ${U?"bg-green-500/20 text-green-700 border-green-400":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:r(U?"Enabled":"Disabled")})})]})]})}),i==="rules"&&s.jsxs("div",{className:"space-y-5 animate-[fadeIn_200ms_ease]",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Assignment Mode")}),s.jsx("select",{className:"input-soft w-full",value:T,onChange:qe=>{F(qe.target.value),tt()},children:["Round Robin","Priority Based","Manual"].map(qe=>s.jsx("option",{value:qe,children:qe},qe))})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Lead Limit per Sales Rep")}),s.jsx("input",{type:"number",className:"input-soft w-full",value:M,onChange:qe=>{I(qe.target.value),tt()}})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Reassignment Delay (hours)")}),s.jsx("input",{type:"number",className:"input-soft w-full",value:W,onChange:qe=>{R(qe.target.value),tt()}})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Skip inactive users")}),s.jsx("div",{children:s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:q,onChange:qe=>{ae(qe.target.checked),tt()}}),s.jsx("span",{className:"text-sm",children:r("Enable")})]})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Notification when reassigned")}),s.jsx("button",{onClick:()=>{K(qe=>!qe),tt()},className:`px-3 py-2 rounded-lg border ${te?"bg-blue-500/20 text-blue-700 border-blue-400":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:r(te?"Enabled":"Disabled")})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)] mb-1",children:r("Assignment Preview")}),s.jsxs("div",{className:"text-2xl font-semibold",children:[r("Avg. leads per rep"),": ",ct]})]})})]}),i==="integrations"&&s.jsxs("div",{className:"space-y-5 animate-[fadeIn_200ms_ease]",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("API Key")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"input-soft w-full",value:oe,onChange:qe=>{D(qe.target.value),tt()}}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-indigo-600 text-white",onClick:Je,children:r("Regenerate")})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Webhook URL")}),s.jsx("input",{className:"input-soft w-full",value:G,onChange:qe=>{H(qe.target.value),tt()}})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Sync Frequency")}),s.jsx("select",{className:"input-soft w-full",value:X,onChange:qe=>{se(qe.target.value),tt()},children:["5 min","15 min","30 min","60 min"].map(qe=>s.jsx("option",{value:qe,children:qe},qe))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:r("Connected Platforms")}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:Object.entries(ie).map(([qe,Gt])=>s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:Gt.name.includes("Facebook")?"":Gt.name.includes("Google")?"":""}),s.jsx("span",{className:"font-medium",children:Gt.name})]}),s.jsx("button",{onClick:()=>{ne(Yt=>({...Yt,[qe]:{...Yt[qe],enabled:!Yt[qe].enabled}})),tt()},className:`px-3 py-1 rounded-lg border ${Gt.enabled?"bg-green-500/20 text-green-700 border-green-400":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:Gt.enabled?r("Enabled"):r("Disabled")})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{className:"px-3 py-2 rounded-lg bg-blue-600 text-white",onClick:()=>pt(qe),children:r("Test Connection")})})]},qe))})]})]}),i==="notifications"&&s.jsxs("div",{className:"space-y-5 animate-[fadeIn_200ms_ease]",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Email Notifications")}),s.jsx("button",{onClick:()=>{le(qe=>!qe),tt()},className:`px-3 py-2 rounded-lg border ${J?"bg-blue-500/20 text-blue-700 border-blue-400":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:r(J?"Enabled":"Disabled")})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Slack / Teams Integration")}),s.jsx("button",{onClick:()=>{Q(qe=>!qe),tt()},className:`px-3 py-2 rounded-lg border ${pe?"bg-blue-500/20 text-blue-700 border-blue-400":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:r(pe?"Enabled":"Disabled")})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Daily Summary Report")}),s.jsx("button",{onClick:()=>{he(qe=>!qe),tt()},className:`px-3 py-2 rounded-lg border ${xe?"bg-blue-500/20 text-blue-700 border-blue-400":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:r(xe?"Enabled":"Disabled")})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Error Alerts threshold")}),s.jsx("input",{type:"number",className:"input-soft w-full",value:ze,onChange:qe=>{Ce(qe.target.value),tt()}})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Notify Admin on failed sync")}),s.jsx("button",{onClick:()=>{Ie(qe=>!qe),tt()},className:`px-3 py-2 rounded-lg border ${ce?"bg-blue-500/20 text-blue-700 border-blue-400":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:r(ce?"Enabled":"Disabled")})]})]}),s.jsxs("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 p-4 space-y-2",children:[s.jsx("button",{className:"text-sm font-medium",onClick:()=>$e(qe=>!qe),children:r("Preview sample notification email")}),we&&s.jsxs("div",{className:"mt-2 text-sm text-gray-700 dark:text-gray-200",children:[s.jsxs("div",{className:"font-semibold mb-1",children:[r("Subject"),": ",r("Daily CIL Summary")]}),s.jsx("p",{children:r("Hello Admin, here is your daily summary including sync stats and errors.")})]})]})]}),i==="security"&&s.jsxs("div",{className:"space-y-5 animate-[fadeIn_200ms_ease]",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Start Date")}),s.jsx("input",{type:"date",className:"input-soft w-full",value:Be.start,onChange:qe=>{ft(Gt=>({...Gt,start:qe.target.value})),tt()}})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("End Date")}),s.jsx("input",{type:"date",className:"input-soft w-full",value:Be.end,onChange:qe=>{ft(Gt=>({...Gt,end:qe.target.value})),tt()}})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("Action type")}),s.jsx("select",{className:"input-soft w-full",value:Be.action,onChange:qe=>{ft(Gt=>({...Gt,action:qe.target.value})),tt()},children:["All","API Regenerated","Webhook Updated","Assign Mode Changed"].map(qe=>s.jsx("option",{value:qe,children:qe},qe))})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:r("User")}),s.jsx("select",{className:"input-soft w-full",value:Be.user,onChange:qe=>{ft(Gt=>({...Gt,user:qe.target.value})),tt()},children:["All","Admin","Ibrahim Mohamed"].map(qe=>s.jsx("option",{value:qe,children:qe},qe))})]})]}),s.jsx("div",{className:"h-3"}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"px-3 py-2 rounded-lg border bg-white/60 dark:bg-gray-800/60",onClick:()=>kt("Excel"),children:r("Export to Excel")}),s.jsx("button",{className:"px-3 py-2 rounded-lg border bg-white/60 dark:bg-gray-800/60",onClick:()=>kt("PDF"),children:r("Export to PDF")})]}),s.jsx("div",{className:"h-2"}),s.jsx("div",{className:"rounded-xl border bg-white/60 dark:bg-gray-800/60 overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"px-4 py-3",children:r("Date")}),s.jsx("th",{className:"px-4 py-3",children:r("User")}),s.jsx("th",{className:"px-4 py-3",children:r("Action")}),s.jsx("th",{className:"px-4 py-3",children:r("Result")})]})}),s.jsxs("tbody",{children:[s.jsx("tr",{children:s.jsx("td",{className:"px-4 py-2",colSpan:4})}),Ke.map((qe,Gt)=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-4 py-2",children:qe.date}),s.jsx("td",{className:"px-4 py-2",children:qe.user}),s.jsx("td",{className:"px-4 py-2",children:qe.action}),s.jsx("td",{className:"px-4 py-2",children:qe.result==="Success"?" Success":qe.result})]},Gt)),s.jsx("tr",{children:s.jsx("td",{className:"px-4 py-2",colSpan:4})})]})]})}),s.jsx("div",{className:"h-2"})]})]})]});return a?s.jsx("div",{className:"w-full",children:s.jsx($t,{})}):s.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-lg",onClick:t}),s.jsx("div",{className:"relative z-[1001] w-[94vw] max-w-[1200px] h-[88vh]",children:s.jsx($t,{})})]})}function z6e(){const{t:e}=Ct();return s.jsx(Ht,{title:e("CIL Settings"),children:s.jsxs("div",{className:"p-4",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:e("CIL Settings")}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:e("Configure CIL-specific options and integrations.")}),s.jsx(U6e,{inline:!0})]})})}function H6e(){const{i18n:e}=Ct(),t=e.language==="ar",a=y.useMemo(()=>({title:t?" > ":"Inventory > Products",formTitle:t?" ":"Product Details",name:t?" ":"Product Name",category:t?"":"Category",description:t?"":"Description",uom:t?" ":"Unit of Measure",supplier:t?" ":"Default Supplier",price:t?" ":"Default Price",save:t?" ":"Save Product",listTitle:t?"   ":"All Products",empty:t?"   ":"No products yet",actions:t?"":"Actions",delete:t?"":"Delete",edit:t?"":"Edit"}),[t]),r=y.useMemo(()=>t?["","",""]:["Electronics","Furniture","Clothing"],[t]),n=y.useMemo(()=>t?["","",""]:["Piece","Box","Kg"],[t]),i=y.useMemo(()=>t?[" "," "," "]:["Supplier A","Supplier B","Supplier C"],[t]),l="inventoryProducts",[o,c]=y.useState({name:"",category:r[0]||"",description:"",uom:n[0]||"",supplier:i[0]||"",price:""}),[d,u]=y.useState([]);y.useEffect(()=>{try{const g=localStorage.getItem(l);if(g){const b=JSON.parse(g);Array.isArray(b)&&u(b)}}catch(g){console.warn("Failed to load products from localStorage",g)}},[]),y.useEffect(()=>{try{localStorage.setItem(l,JSON.stringify(d))}catch(g){console.warn("Failed to save products to localStorage",g)}},[d]);function f(g){const{name:b,value:j}=g.target;c(N=>({...N,[b]:j}))}function p(g){g.preventDefault();const b=o.name.trim();if(!b)return;const j={id:Date.now(),name:b,category:o.category,description:o.description.trim(),uom:o.uom,supplier:o.supplier,price:o.price?Number(o.price):0};u(N=>[j,...N]),c({name:"",category:r[0]||"",description:"",uom:n[0]||"",supplier:i[0]||"",price:""})}function m(g){u(b=>b.filter(j=>j.id!==g))}function v(g){c({name:g.name||"",category:g.category||r[0]||"",description:g.description||"",uom:g.uom||n[0]||"",supplier:g.supplier||i[0]||"",price:g.price!=null?String(g.price):""});try{window.scrollTo({top:0,behavior:"smooth"})}catch{}}return s.jsx(Ht,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitle}),s.jsxs("form",{onSubmit:p,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.name}),s.jsx("input",{name:"name",value:o.name,onChange:f,placeholder:a.name,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.category}),s.jsx("select",{name:"category",value:o.category,onChange:f,className:"input",children:r.map(g=>s.jsx("option",{value:g,children:g},g))})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:a.description}),s.jsx("textarea",{name:"description",value:o.description,onChange:f,placeholder:a.description,className:"input h-24"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.uom}),s.jsx("select",{name:"uom",value:o.uom,onChange:f,className:"input",children:n.map(g=>s.jsx("option",{value:g,children:g},g))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.supplier}),s.jsx("select",{name:"supplier",value:o.supplier,onChange:f,className:"input",children:i.map(g=>s.jsx("option",{value:g,children:g},g))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.price}),s.jsx("input",{type:"number",name:"price",value:o.price,onChange:f,placeholder:a.price,className:"input",min:"0",step:"0.01"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),d.length===0?s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{className:"thead-soft",children:s.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"text-start px-3 min-w-[180px]",children:a.name}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.category}),s.jsx("th",{className:"text-start px-3 min-w-[120px]",children:a.uom}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.supplier}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.price}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.actions})]})}),s.jsx("tbody",{children:d.map(g=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-3",children:s.jsx("span",{className:"font-medium",children:g.name})}),s.jsx("td",{className:"px-3",children:g.category}),s.jsx("td",{className:"px-3",children:g.uom}),s.jsx("td",{className:"px-3",children:g.supplier}),s.jsx("td",{className:"px-3 text-center",children:(g.price??0).toFixed(2)}),s.jsx("td",{className:"px-3 text-center",children:s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx("button",{type:"button",className:"btn btn-outline btn-sm px-2 py-1",title:a.edit,"aria-label":a.edit,onClick:()=>v(g),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[s.jsx("path",{d:"M12 20h9"}),s.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 113 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),s.jsx("button",{type:"button",className:"btn-icon-danger",title:a.delete,"aria-label":a.delete,onClick:()=>m(g.id),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("rect",{x:"5",y:"6",width:"14",height:"14",rx:"2"})]})})]})})]},g.id))})]})})]})]})})}function V6e(){const{i18n:e}=Ct(),t=e.language==="ar",a=y.useMemo(()=>({title:t?" > ":"Inventory > Items",formTitle:t?" ":"Item Details",itemName:t?" ":"Item Name",linkedProduct:t?" ":"Linked Product",sku:t?"  (SKU)":"SKU",barcode:t?"":"Barcode",costPrice:t?" ":"Cost Price",sellingPrice:t?" ":"Selling Price",stockCount:t?" ()":"Stock Count",warehouse:t?"":"Warehouse",save:t?" ":"Save Item",listTitle:t?" ":"Items List",empty:t?"   ":"No items yet",actions:t?"":"Actions",delete:t?"":"Delete",edit:t?"":"Edit",noProducts:t?"   ":"No products available"}),[t]),r="inventoryItems",n="inventoryProducts",[i,l]=y.useState([]),[o,c]=y.useState({name:"",productId:"",sku:"",barcode:"",costPrice:"",sellingPrice:"",stockCount:"",warehouse:""}),[d,u]=y.useState([]);y.useEffect(()=>{try{const b=localStorage.getItem(r);if(b){const j=JSON.parse(b);Array.isArray(j)&&u(j)}}catch(b){console.warn("Failed to load items from localStorage",b)}try{const b=localStorage.getItem(n);if(b){const j=JSON.parse(b);Array.isArray(j)&&l(j)}}catch(b){console.warn("Failed to load products from localStorage",b)}},[]),y.useEffect(()=>{try{localStorage.setItem(r,JSON.stringify(d))}catch(b){console.warn("Failed to save items to localStorage",b)}},[d]);function f(b){const{name:j,value:N}=b.target;c(k=>({...k,[j]:N}))}function p(b){b.preventDefault();const j=o.name.trim();if(!j)return;const N=i.find(S=>String(S.id)===String(o.productId)),k={id:Date.now(),name:j,productId:o.productId||"",productName:N?N.name:"",sku:o.sku.trim(),barcode:o.barcode.trim(),costPrice:o.costPrice?Number(o.costPrice):0,sellingPrice:o.sellingPrice?Number(o.sellingPrice):0,stockCount:o.stockCount?Number(o.stockCount):0,warehouse:o.warehouse.trim()};u(S=>[k,...S]),c({name:"",productId:"",sku:"",barcode:"",costPrice:"",sellingPrice:"",stockCount:"",warehouse:""})}function m(b){u(j=>j.filter(N=>N.id!==b))}function v(b){c({name:b.name||"",productId:b.productId||"",sku:b.sku||"",barcode:b.barcode||"",costPrice:b.costPrice!=null?String(b.costPrice):"",sellingPrice:b.sellingPrice!=null?String(b.sellingPrice):"",stockCount:b.stockCount!=null?String(b.stockCount):"",warehouse:b.warehouse||""});try{window.scrollTo({top:0,behavior:"smooth"})}catch{}}const g=y.useMemo(()=>t?[" "," "," "]:["Main Warehouse","Secondary Warehouse","Outdoor Storage"],[t]);return s.jsx(Ht,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitle}),s.jsxs("form",{onSubmit:p,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.itemName}),s.jsx("input",{name:"name",value:o.name,onChange:f,placeholder:a.itemName,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.linkedProduct}),s.jsxs("select",{name:"productId",value:o.productId,onChange:f,className:"input",children:[s.jsx("option",{value:"",children:a.noProducts}),i.map(b=>s.jsx("option",{value:b.id,children:b.name},b.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.sku}),s.jsx("input",{name:"sku",value:o.sku,onChange:f,placeholder:a.sku,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.barcode}),s.jsx("input",{name:"barcode",value:o.barcode,onChange:f,placeholder:a.barcode,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.costPrice}),s.jsx("input",{type:"number",name:"costPrice",value:o.costPrice,onChange:f,placeholder:a.costPrice,className:"input",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.sellingPrice}),s.jsx("input",{type:"number",name:"sellingPrice",value:o.sellingPrice,onChange:f,placeholder:a.sellingPrice,className:"input",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.stockCount}),s.jsx("input",{type:"number",name:"stockCount",value:o.stockCount,onChange:f,placeholder:a.stockCount,className:"input",min:"0",step:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.warehouse}),s.jsxs("select",{name:"warehouse",value:o.warehouse,onChange:f,className:"input",children:[s.jsx("option",{value:"",children:a.warehouse}),g.map(b=>s.jsx("option",{value:b,children:b},b))]})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),d.length===0?s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{className:"thead-soft",children:s.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"text-start px-3 min-w-[180px]",children:a.itemName}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.linkedProduct}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.sku}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.barcode}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.costPrice}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.sellingPrice}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.stockCount}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.warehouse}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.actions})]})}),s.jsx("tbody",{children:d.map(b=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-3",children:s.jsx("span",{className:"font-medium",children:b.name})}),s.jsx("td",{className:"px-3",children:b.productName||"-"}),s.jsx("td",{className:"px-3",children:b.sku}),s.jsx("td",{className:"px-3",children:b.barcode}),s.jsx("td",{className:"px-3 text-center",children:(b.costPrice??0).toFixed(2)}),s.jsx("td",{className:"px-3 text-center",children:(b.sellingPrice??0).toFixed(2)}),s.jsx("td",{className:"px-3 text-center",children:b.stockCount??0}),s.jsx("td",{className:"px-3",children:b.warehouse}),s.jsx("td",{className:"px-3 text-center",children:s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx("button",{type:"button",className:"btn btn-outline btn-sm px-2 py-1",title:a.edit,"aria-label":a.edit,onClick:()=>v(b),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[s.jsx("path",{d:"M12 20h9"}),s.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 113 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),s.jsx("button",{type:"button",className:"btn-icon-danger",title:a.delete,"aria-label":a.delete,onClick:()=>m(b.id),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("rect",{x:"5",y:"6",width:"14",height:"14",rx:"2"})]})})]})})]},b.id))})]})})]})]})})}function W6e(){const{i18n:e}=Ct(),t=e.language==="ar",a=y.useMemo(()=>({title:t?" >  ":"Inventory > Stock Management",formTitle:t?"  ":"Stock Entry",itemOrSku:t?" / SKU":"Item / SKU",selectItem:t?" ":"Select Item",manualSku:t?" SKU ":"Enter SKU manually",qtyAvailable:t?" ":"Quantity Available",qtyReserved:t?" ":"Reserved Quantity",minAlert:t?"  ":"Minimum Quantity Alert",warehouse:t?"":"Warehouse location",save:t?" ":"Save Entry",listTitle:t?"  ":"Stock Records",empty:t?"   ":"No records yet",actions:t?"":"Actions",delete:t?"":"Delete",effective:t?" ":"Effective Available",status:t?"":"Status",lowStock:t?"":"Low",okStock:t?"":"OK"}),[t]),r="inventoryStock",n="inventoryItems",[i,l]=y.useState([]),[o,c]=y.useState([]),[d,u]=y.useState({itemId:"",manualSku:"",qtyAvailable:"",qtyReserved:"",minAlert:"",warehouse:""});y.useEffect(()=>{try{const b=localStorage.getItem(n);if(b){const j=JSON.parse(b);Array.isArray(j)&&l(j)}}catch(b){console.warn("Failed to load items",b)}try{const b=localStorage.getItem(r);if(b){const j=JSON.parse(b);Array.isArray(j)&&c(j)}}catch(b){console.warn("Failed to load stock records",b)}},[]),y.useEffect(()=>{try{localStorage.setItem(r,JSON.stringify(o))}catch{}},[o]);const f=y.useMemo(()=>t?[" "," "," "]:["Main Warehouse","Secondary Warehouse","Outdoor Storage"],[t]),p=b=>{const{name:j,value:N}=b.target;u(k=>({...k,[j]:N}))},m=b=>{b.preventDefault();const j=i.find(_=>String(_.id)===String(d.itemId)),N=Number(d.qtyAvailable||0),k=Number(d.qtyReserved||0),S=Number(d.minAlert||0),C={id:Date.now(),itemId:d.itemId||null,itemName:j?.name||"",sku:d.manualSku||j?.sku||"",qtyAvailable:N,qtyReserved:k,minAlert:S,warehouse:d.warehouse||""};c(_=>[C,..._]),u({itemId:"",manualSku:"",qtyAvailable:"",qtyReserved:"",minAlert:"",warehouse:""})},v=b=>{c(j=>j.filter(N=>N.id!==b))},g=b=>{const N=(b.qtyAvailable||0)-(b.qtyReserved||0)<=(b.minAlert||0),k=N?"text-red-600 bg-red-100 dark:text-red-300 dark:bg-red-900/40":"text-green-600 bg-green-100 dark:text-green-300 dark:bg-green-900/40";return s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${k}`,children:N?a.lowStock:a.okStock})};return s.jsx(Ht,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitle}),s.jsxs("form",{onSubmit:m,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.itemOrSku}),s.jsxs("select",{name:"itemId",value:d.itemId,onChange:p,className:"input",children:[s.jsx("option",{value:"",children:a.selectItem}),i.map(b=>s.jsxs("option",{value:b.id,children:[b.name," ",b.sku?`(${b.sku})`:""]},b.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.manualSku}),s.jsx("input",{name:"manualSku",value:d.manualSku,onChange:p,placeholder:a.manualSku,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.qtyAvailable}),s.jsx("input",{type:"number",name:"qtyAvailable",value:d.qtyAvailable,onChange:p,min:"0",step:"1",placeholder:a.qtyAvailable,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.qtyReserved}),s.jsx("input",{type:"number",name:"qtyReserved",value:d.qtyReserved,onChange:p,min:"0",step:"1",placeholder:a.qtyReserved,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.minAlert}),s.jsx("input",{type:"number",name:"minAlert",value:d.minAlert,onChange:p,min:"0",step:"1",placeholder:a.minAlert,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.warehouse}),s.jsxs("select",{name:"warehouse",value:d.warehouse,onChange:p,className:"input",children:[s.jsx("option",{value:"",children:a.warehouse}),f.map(b=>s.jsx("option",{value:b,children:b},b))]})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),o.length===0?s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{className:"thead-soft",children:s.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"text-start px-3 min-w-[180px]",children:a.itemOrSku}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.qtyAvailable}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.qtyReserved}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.effective}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.minAlert}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.warehouse}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.status}),s.jsx("th",{className:"text-center px-3 min-w-[100px]",children:a.actions})]})}),s.jsx("tbody",{children:o.map(b=>{const j=(b.qtyAvailable||0)-(b.qtyReserved||0),N=j<=(b.minAlert||0);return s.jsxs("tr",{className:N?"bg-red-50 dark:bg-red-900/10":"",children:[s.jsx("td",{className:"px-3",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:b.itemName||"-"}),s.jsx("span",{className:"text-xs text-[var(--muted-text)]",children:b.sku||"-"})]})}),s.jsx("td",{className:"px-3 text-center",children:b.qtyAvailable??0}),s.jsx("td",{className:"px-3 text-center",children:b.qtyReserved??0}),s.jsx("td",{className:"px-3 text-center",children:j}),s.jsx("td",{className:"px-3 text-center",children:b.minAlert??0}),s.jsx("td",{className:"px-3",children:b.warehouse||"-"}),s.jsx("td",{className:"px-3 text-center",children:g(b)}),s.jsx("td",{className:"px-3 text-center",children:s.jsx("button",{className:"btn btn-danger btn-xs",onClick:()=>v(b.id),children:a.delete})})]},b.id)})})]})})]})]})})}function q6e(){const{i18n:e}=Ct(),t=e.language==="ar",a=y.useMemo(()=>({title:t?" > ":"Inventory > Transactions",formTitle:t?"  ":"Record Stock Transaction",date:t?"":"Date",type:t?" (//)":"Type (in/out/transfer)",quantity:t?"":"Quantity",reference:t?" ( /)":"Reference (Sales/Purchase Order)",username:t?" ":"User name",save:t?" ":"Save Transaction",listTitle:t?" ":"Transaction Log",empty:t?"   ":"No transactions yet",actions:t?"":"Actions",delete:t?"":"Delete",type_in:t?"":"In",type_out:t?"":"Out",type_transfer:t?"":"Transfer"}),[t]),r="inventoryTransactions",[n,i]=y.useState({date:new Date().toISOString().slice(0,10),type:"in",quantity:"",reference:"",username:""}),[l,o]=y.useState([]);y.useEffect(()=>{try{const p=localStorage.getItem(r);if(p){const m=JSON.parse(p);Array.isArray(m)&&o(m)}}catch(p){console.warn("Failed to load transactions",p)}},[]),y.useEffect(()=>{try{localStorage.setItem(r,JSON.stringify(l))}catch{}},[l]);const c=p=>{const{name:m,value:v}=p.target;i(g=>({...g,[m]:v}))},d=p=>{p.preventDefault();const m=Number(n.quantity||0);if(!n.date||!n.type||m<=0)return;const v={id:Date.now(),date:n.date,type:n.type,quantity:m,reference:n.reference||"",username:n.username||""};o(g=>[v,...g]),i({date:new Date().toISOString().slice(0,10),type:"in",quantity:"",reference:"",username:""})},u=p=>o(m=>m.filter(v=>v.id!==p)),f=p=>{switch(p){case"in":return a.type_in;case"out":return a.type_out;case"transfer":return a.type_transfer;default:return p}};return s.jsx(Ht,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitle}),s.jsxs("form",{onSubmit:d,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.date}),s.jsx("input",{type:"date",name:"date",value:n.date,onChange:c,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.type}),s.jsxs("select",{name:"type",value:n.type,onChange:c,className:"input",children:[s.jsx("option",{value:"in",children:a.type_in}),s.jsx("option",{value:"out",children:a.type_out}),s.jsx("option",{value:"transfer",children:a.type_transfer})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.quantity}),s.jsx("input",{type:"number",name:"quantity",value:n.quantity,onChange:c,min:"1",step:"1",placeholder:a.quantity,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.reference}),s.jsx("input",{name:"reference",value:n.reference,onChange:c,placeholder:a.reference,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.username}),s.jsx("input",{name:"username",value:n.username,onChange:c,placeholder:a.username,className:"input"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),l.length===0?s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{className:"thead-soft",children:s.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.date}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.type}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.quantity}),s.jsx("th",{className:"text-start px-3 min-w-[220px]",children:a.reference}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.username}),s.jsx("th",{className:"text-center px-3 min-w-[100px]",children:a.actions})]})}),s.jsx("tbody",{children:l.map(p=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-3",children:s.jsx("span",{className:"font-medium",children:p.date})}),s.jsx("td",{className:"px-3",children:f(p.type)}),s.jsx("td",{className:"px-3 text-center",children:p.quantity}),s.jsx("td",{className:"px-3",children:p.reference}),s.jsx("td",{className:"px-3",children:p.username}),s.jsx("td",{className:"px-3 text-center",children:s.jsx("div",{className:"flex items-center gap-2 justify-center",children:s.jsx("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>u(p.id),children:a.delete})})})]},p.id))})]})})]})]})})}function G6e(){const{i18n:e}=Ct(),t=e.language==="ar",a=y.useMemo(()=>({title:t?" > /":"Inventory > Suppliers/Vendors",formTitleBasic:t?" ":"Basic Information",formTitleBusiness:t?" ":"Business Information",formTitleAttachments:t?"":"Attachments",supplierName:t?" ":"Supplier Name",supplierCode:t?" ":"Supplier Code",companyName:t?" ":"Company Name",contactPerson:t?" ":"Contact Person",phone:t?" ":"Phone Number",email:t?" ":"Email",website:t?" ":"Website",address:t?"":"Address",taxId:t?" ":"Tax ID",countryCity:t?"/":"Country/City",supplierType:t?" ":"Supplier Type",category:t?"":"Category",productLine:t?" ":"Product Line",paymentTerms:t?" ":"Payment Terms",currency:t?"":"Currency",creditLimit:t?" ":"Credit Limit",discountRate:t?"  (%)":"Discount Rate (%)",deliveryTime:t?"  ()":"Delivery Time (days)",contractDoc:t?" ":"Contract Document",certificates:t?" ":"Supplier Certificates",quotations:t?" ":"Quotations",previousBills:t?" ":"Previous Bills",save:t?" ":"Save Supplier",listTitle:t?" ":"Suppliers List",empty:t?"   ":"No suppliers yet",actions:t?"":"Actions",edit:t?"":"Edit",delete:t?"":"Delete"}),[t]),r=y.useMemo(()=>t?["","",""]:["Company","Individual","Agent"],[t]),n=y.useMemo(()=>t?[" ","",""]:["Raw Materials","Services","Hardware"],[t]),i=y.useMemo(()=>t?["","30 ","60 "]:["Cash","Net 30","Net 60"],[t]),l=y.useMemo(()=>t?["","",""]:["SAR","USD","EUR"],[t]),o=y.useMemo(()=>t?["","",""]:["Electronics","Construction","Services"],[t]),c="inventorySuppliers",[d,u]=y.useState({supplierName:"",supplierCode:"",companyName:"",contactPerson:"",phone:"",email:"",website:"",address:"",taxId:"",countryCity:"",supplierType:r[0]||"",category:n[0]||"",productLine:o[0]||"",paymentTerms:i[0]||"",currency:l[0]||"",creditLimit:"",discountRate:"",deliveryTime:"",attachments:{contractDoc:[],certificates:[],quotations:[],previousBills:[]}}),[f,p]=y.useState([]);y.useEffect(()=>{try{const N=localStorage.getItem(c);if(N){const k=JSON.parse(N);Array.isArray(k)&&p(k)}}catch(N){console.warn("Failed to load suppliers",N)}},[]),y.useEffect(()=>{try{localStorage.setItem(c,JSON.stringify(f))}catch{}},[f]);const m=N=>{const{name:k,value:S}=N.target;u(C=>({...C,[k]:S}))},v=(N,k)=>{const S=Array.from(k||[]).map(C=>C.name);u(C=>({...C,attachments:{...C.attachments,[N]:S}}))},g=N=>{if(N.preventDefault(),!(d.supplierName||"").trim())return;const S={id:Date.now(),...d,creditLimit:d.creditLimit?Number(d.creditLimit):0,discountRate:d.discountRate?Number(d.discountRate):0,deliveryTime:d.deliveryTime?Number(d.deliveryTime):0};p(C=>[S,...C]),u({supplierName:"",supplierCode:"",companyName:"",contactPerson:"",phone:"",email:"",website:"",address:"",taxId:"",countryCity:"",supplierType:r[0]||"",category:n[0]||"",productLine:o[0]||"",paymentTerms:i[0]||"",currency:l[0]||"",creditLimit:"",discountRate:"",deliveryTime:"",attachments:{contractDoc:[],certificates:[],quotations:[],previousBills:[]}});try{window.scrollTo({top:0,behavior:"smooth"})}catch{}},b=N=>p(k=>k.filter(S=>S.id!==N)),j=N=>{u({supplierName:N.supplierName||"",supplierCode:N.supplierCode||"",companyName:N.companyName||"",contactPerson:N.contactPerson||"",phone:N.phone||"",email:N.email||"",website:N.website||"",address:N.address||"",taxId:N.taxId||"",countryCity:N.countryCity||"",supplierType:N.supplierType||r[0]||"",category:N.category||n[0]||"",productLine:N.productLine||o[0]||"",paymentTerms:N.paymentTerms||i[0]||"",currency:N.currency||l[0]||"",creditLimit:N.creditLimit!=null?String(N.creditLimit):"",discountRate:N.discountRate!=null?String(N.discountRate):"",deliveryTime:N.deliveryTime!=null?String(N.deliveryTime):"",attachments:{contractDoc:N.attachments?.contractDoc||[],certificates:N.attachments?.certificates||[],quotations:N.attachments?.quotations||[],previousBills:N.attachments?.previousBills||[]}});try{window.scrollTo({top:0,behavior:"smooth"})}catch{}};return s.jsx(Ht,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleBasic}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.supplierName}),s.jsx("input",{name:"supplierName",value:d.supplierName,onChange:m,placeholder:a.supplierName,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.supplierCode}),s.jsx("input",{name:"supplierCode",value:d.supplierCode,onChange:m,placeholder:a.supplierCode,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.companyName}),s.jsx("input",{name:"companyName",value:d.companyName,onChange:m,placeholder:a.companyName,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.contactPerson}),s.jsx("input",{name:"contactPerson",value:d.contactPerson,onChange:m,placeholder:a.contactPerson,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.phone}),s.jsx("input",{name:"phone",value:d.phone,onChange:m,placeholder:a.phone,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.email}),s.jsx("input",{type:"email",name:"email",value:d.email,onChange:m,placeholder:a.email,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.website}),s.jsx("input",{name:"website",value:d.website,onChange:m,placeholder:a.website,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.address}),s.jsx("input",{name:"address",value:d.address,onChange:m,placeholder:a.address,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.taxId}),s.jsx("input",{name:"taxId",value:d.taxId,onChange:m,placeholder:a.taxId,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.countryCity}),s.jsx("input",{name:"countryCity",value:d.countryCity,onChange:m,placeholder:a.countryCity,className:"input"})]})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleBusiness}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.supplierType}),s.jsx("select",{name:"supplierType",value:d.supplierType,onChange:m,className:"input",children:r.map(N=>s.jsx("option",{value:N,children:N},N))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.category}),s.jsx("select",{name:"category",value:d.category,onChange:m,className:"input",children:n.map(N=>s.jsx("option",{value:N,children:N},N))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.productLine}),s.jsx("select",{name:"productLine",value:d.productLine,onChange:m,className:"input",children:o.map(N=>s.jsx("option",{value:N,children:N},N))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.paymentTerms}),s.jsx("select",{name:"paymentTerms",value:d.paymentTerms,onChange:m,className:"input",children:i.map(N=>s.jsx("option",{value:N,children:N},N))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.currency}),s.jsx("select",{name:"currency",value:d.currency,onChange:m,className:"input",children:l.map(N=>s.jsx("option",{value:N,children:N},N))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.creditLimit}),s.jsx("input",{type:"number",name:"creditLimit",value:d.creditLimit,onChange:m,placeholder:a.creditLimit,className:"input",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.discountRate}),s.jsx("input",{type:"number",name:"discountRate",value:d.discountRate,onChange:m,placeholder:a.discountRate,className:"input",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.deliveryTime}),s.jsx("input",{type:"number",name:"deliveryTime",value:d.deliveryTime,onChange:m,placeholder:a.deliveryTime,className:"input",min:"0",step:"1"})]})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleAttachments}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.contractDoc}),s.jsx("input",{type:"file",multiple:!0,onChange:N=>v("contractDoc",N.target.files),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.certificates}),s.jsx("input",{type:"file",multiple:!0,onChange:N=>v("certificates",N.target.files),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.quotations}),s.jsx("input",{type:"file",multiple:!0,onChange:N=>v("quotations",N.target.files),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.previousBills}),s.jsx("input",{type:"file",multiple:!0,onChange:N=>v("previousBills",N.target.files),className:"input"})]})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",className:"btn btn-primary",children:a.save})})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),f.length===0?s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{className:"thead-soft",children:s.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"text-start px-3 min-w-[180px]",children:a.supplierName}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.companyName}),s.jsx("th",{className:"text-start px-3 min-w-[120px]",children:a.supplierCode}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.contactPerson}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.phone}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.email}),s.jsx("th",{className:"text-start px-3 min-w-[160px]",children:a.countryCity}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.supplierType}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.category}),s.jsx("th",{className:"text-start px-3 min-w-[140px]",children:a.productLine}),s.jsx("th",{className:"text-start px-3 min-w-[120px]",children:a.currency}),s.jsx("th",{className:"text-center px-3 min-w-[120px]",children:a.creditLimit}),s.jsx("th",{className:"text-center px-3 min-w-[120px]",children:a.discountRate}),s.jsx("th",{className:"text-center px-3 min-w-[140px]",children:a.deliveryTime}),s.jsx("th",{className:"text-center px-3 min-w-[110px]",children:a.actions})]})}),s.jsx("tbody",{children:f.map(N=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-3",children:s.jsx("span",{className:"font-medium",children:N.supplierName})}),s.jsx("td",{className:"px-3",children:N.companyName}),s.jsx("td",{className:"px-3",children:N.supplierCode}),s.jsx("td",{className:"px-3",children:N.contactPerson}),s.jsx("td",{className:"px-3",children:N.phone}),s.jsx("td",{className:"px-3",children:N.email}),s.jsx("td",{className:"px-3",children:N.countryCity}),s.jsx("td",{className:"px-3",children:N.supplierType}),s.jsx("td",{className:"px-3",children:N.category}),s.jsx("td",{className:"px-3",children:N.productLine}),s.jsx("td",{className:"px-3",children:N.currency}),s.jsx("td",{className:"px-3 text-center",children:(N.creditLimit??0).toFixed(2)}),s.jsx("td",{className:"px-3 text-center",children:(N.discountRate??0).toFixed(2)}),s.jsx("td",{className:"px-3 text-center",children:N.deliveryTime??0}),s.jsx("td",{className:"px-3 text-center",children:s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>j(N),children:a.edit}),s.jsx("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>b(N.id),children:a.delete})]})})]},N.id))})]})})]})]})})}function K6e(){const{i18n:e}=Ct(),t=e.language==="ar",a=y.useMemo(()=>({title:t?" > ":"Inventory > Warehouse",save:t?" ":"Save Warehouse",listTitle:t?" ":"Warehouses List",empty:t?"   ":"No warehouses yet",actions:t?"":"Actions",edit:t?"":"Edit",delete:t?"":"Delete",formTitleBasic:t?"1-  ":"1- Basic Information",warehouseName:t?" ":"Warehouse Name",warehouseCode:t?" ":"Warehouse Code",warehouseType:t?" ":"Warehouse Type",status:t?"":"Status",manager:t?"/ ":"Manager/Responsible Person",contactNumber:t?" ":"Contact Number",email:t?" ":"Email",address:t?"":"Address",city:t?"":"City",formTitleOperational:t?"2-  ":"2- Operational Details",storageCapacity:t?" ":"Storage Capacity",sections:t?"":"Sections",allowedUsers:t?"  ":"Allowed Users",temperatureControlled:t?" ":"Temperature Controlled",defaultSupplier:t?" ":"Default Supplier",operatingHours:t?" ":"Operating Hours",formTitleStock:t?"3-  ":"3- Stock & Inventory",currentStockValue:t?"  ":"Current Stock Value",minThreshold:t?" ":"Min Threshold",maxThreshold:t?" ":"Max Threshold",nextStockAudit:t?" ":"Next Stock Audit",totalSkusStored:t?"  ":"Total SKUs Stored",lastStockAudit:t?" ":"Last Stock Audit",formTitleAttachments:t?"4- ":"4- Attachments",validityCertificates:t?" ":"Validity Certificates",maintenanceReports:t?"  ":"Periodic Maintenance Reports",note:t?"":"Note"}),[t]),r=y.useMemo(()=>t?["","",""]:["Central","Regional","Cold Storage"],[t]),n=y.useMemo(()=>t?["",""]:["Active","Inactive"],[t]),i="inventoryWarehouses",[l,o]=y.useState({warehouseName:"",warehouseCode:"",warehouseType:r[0]||"",status:n[0]||"",manager:"",contactNumber:"",email:"",address:"",city:"",storageCapacity:"",sections:"",allowedUsers:"",temperatureControlled:!1,defaultSupplier:"",operatingHours:"",currentStockValue:"",minThreshold:"",maxThreshold:"",nextStockAudit:"",totalSkusStored:"",lastStockAudit:"",attachments:{validityCertificates:[],maintenanceReports:[]},note:""}),[c,d]=y.useState([]);y.useEffect(()=>{try{const g=localStorage.getItem(i);if(g){const b=JSON.parse(g);Array.isArray(b)&&d(b)}}catch(g){console.warn("Failed to load warehouses",g)}},[]),y.useEffect(()=>{try{localStorage.setItem(i,JSON.stringify(c))}catch{}},[c]);const u=g=>{const{name:b,value:j,type:N,checked:k}=g.target;o(S=>({...S,[b]:N==="checkbox"?k:j}))},f=(g,b)=>{const j=Array.from(b||[]).map(N=>N.name);o(N=>({...N,attachments:{...N.attachments,[g]:j}}))},p=g=>{if(g.preventDefault(),!(l.warehouseName||"").trim())return;const j={id:Date.now(),...l,storageCapacity:l.storageCapacity?Number(l.storageCapacity):0,currentStockValue:l.currentStockValue?Number(l.currentStockValue):0,minThreshold:l.minThreshold?Number(l.minThreshold):0,maxThreshold:l.maxThreshold?Number(l.maxThreshold):0,totalSkusStored:l.totalSkusStored?Number(l.totalSkusStored):0};d(N=>[j,...N]),o({warehouseName:"",warehouseCode:"",warehouseType:r[0]||"",status:n[0]||"",manager:"",contactNumber:"",email:"",address:"",city:"",storageCapacity:"",sections:"",allowedUsers:"",temperatureControlled:!1,defaultSupplier:"",operatingHours:"",currentStockValue:"",minThreshold:"",maxThreshold:"",nextStockAudit:"",totalSkusStored:"",lastStockAudit:"",attachments:{validityCertificates:[],maintenanceReports:[]},note:""});try{window.scrollTo({top:0,behavior:"smooth"})}catch{}},m=g=>d(b=>b.filter(j=>j.id!==g)),v=g=>{o({warehouseName:g.warehouseName||"",warehouseCode:g.warehouseCode||"",warehouseType:g.warehouseType||r[0]||"",status:g.status||n[0]||"",manager:g.manager||"",contactNumber:g.contactNumber||"",email:g.email||"",address:g.address||"",city:g.city||"",storageCapacity:g.storageCapacity!=null?String(g.storageCapacity):"",sections:g.sections||"",allowedUsers:g.allowedUsers||"",temperatureControlled:!!g.temperatureControlled,defaultSupplier:g.defaultSupplier||"",operatingHours:g.operatingHours||"",currentStockValue:g.currentStockValue!=null?String(g.currentStockValue):"",minThreshold:g.minThreshold!=null?String(g.minThreshold):"",maxThreshold:g.maxThreshold!=null?String(g.maxThreshold):"",nextStockAudit:g.nextStockAudit||"",totalSkusStored:g.totalSkusStored!=null?String(g.totalSkusStored):"",lastStockAudit:g.lastStockAudit||"",attachments:{validityCertificates:g.attachments?.validityCertificates||[],maintenanceReports:g.attachments?.maintenanceReports||[]},note:g.note||""});try{window.scrollTo({top:0,behavior:"smooth"})}catch{}};return s.jsx(Ht,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),s.jsxs("form",{onSubmit:p,className:"space-y-6",children:[s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleBasic}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.warehouseName}),s.jsx("input",{name:"warehouseName",value:l.warehouseName,onChange:u,placeholder:a.warehouseName,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.warehouseCode}),s.jsx("input",{name:"warehouseCode",value:l.warehouseCode,onChange:u,placeholder:a.warehouseCode,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.warehouseType}),s.jsx("select",{name:"warehouseType",value:l.warehouseType,onChange:u,className:"input",children:r.map(g=>s.jsx("option",{value:g,children:g},g))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.status}),s.jsx("select",{name:"status",value:l.status,onChange:u,className:"input",children:n.map(g=>s.jsx("option",{value:g,children:g},g))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.manager}),s.jsx("input",{name:"manager",value:l.manager,onChange:u,placeholder:a.manager,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.contactNumber}),s.jsx("input",{name:"contactNumber",value:l.contactNumber,onChange:u,placeholder:a.contactNumber,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.email}),s.jsx("input",{type:"email",name:"email",value:l.email,onChange:u,placeholder:a.email,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.address}),s.jsx("input",{name:"address",value:l.address,onChange:u,placeholder:a.address,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.city}),s.jsx("input",{name:"city",value:l.city,onChange:u,placeholder:a.city,className:"input"})]})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleOperational}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.storageCapacity}),s.jsx("input",{type:"number",name:"storageCapacity",value:l.storageCapacity,onChange:u,placeholder:a.storageCapacity,className:"input",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.sections}),s.jsx("input",{name:"sections",value:l.sections,onChange:u,placeholder:a.sections,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.allowedUsers}),s.jsx("input",{name:"allowedUsers",value:l.allowedUsers,onChange:u,placeholder:a.allowedUsers,className:"input"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"temperatureControlled",name:"temperatureControlled",checked:l.temperatureControlled,onChange:u}),s.jsx("label",{htmlFor:"temperatureControlled",className:"text-sm",children:a.temperatureControlled})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.defaultSupplier}),s.jsx("input",{name:"defaultSupplier",value:l.defaultSupplier,onChange:u,placeholder:a.defaultSupplier,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.operatingHours}),s.jsx("input",{name:"operatingHours",value:l.operatingHours,onChange:u,placeholder:a.operatingHours,className:"input"})]})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleStock}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.currentStockValue}),s.jsx("input",{type:"number",name:"currentStockValue",value:l.currentStockValue,onChange:u,placeholder:a.currentStockValue,className:"input",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.totalSkusStored}),s.jsx("input",{type:"number",name:"totalSkusStored",value:l.totalSkusStored,onChange:u,placeholder:a.totalSkusStored,className:"input",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.minThreshold}),s.jsx("input",{type:"number",name:"minThreshold",value:l.minThreshold,onChange:u,placeholder:a.minThreshold,className:"input",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.maxThreshold}),s.jsx("input",{type:"number",name:"maxThreshold",value:l.maxThreshold,onChange:u,placeholder:a.maxThreshold,className:"input",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.nextStockAudit}),s.jsx("input",{type:"date",name:"nextStockAudit",value:l.nextStockAudit,onChange:u,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.lastStockAudit}),s.jsx("input",{type:"date",name:"lastStockAudit",value:l.lastStockAudit,onChange:u,className:"input"})]})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.formTitleAttachments}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.validityCertificates}),s.jsx("input",{type:"file",multiple:!0,onChange:g=>f("validityCertificates",g.target.files),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a.maintenanceReports}),s.jsx("input",{type:"file",multiple:!0,onChange:g=>f("maintenanceReports",g.target.files),className:"input"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:a.note}),s.jsx("textarea",{name:"note",value:l.note,onChange:u,placeholder:a.note,className:"input h-24"})]})]})]}),s.jsx("div",{className:"h-6"}),s.jsx("div",{className:"flex justify-center",children:s.jsx("button",{type:"submit",className:"btn bg-white text-blue-600 border border-blue-600 hover:bg-blue-50",children:a.save})}),s.jsx("div",{className:"h-6"})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:a.listTitle}),c.length===0?s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:a.empty}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{className:"thead-soft",children:s.jsxs("tr",{className:"text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"text-start",children:a.warehouseName}),s.jsx("th",{className:"text-start",children:a.warehouseCode}),s.jsx("th",{className:"text-start",children:a.city}),s.jsx("th",{className:"text-start",children:a.status}),s.jsx("th",{className:"text-start",children:a.actions})]})}),s.jsx("tbody",{children:c.map(g=>s.jsxs("tr",{children:[s.jsx("td",{children:g.warehouseName}),s.jsx("td",{children:g.warehouseCode}),s.jsx("td",{children:g.city}),s.jsx("td",{children:g.status}),s.jsx("td",{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",className:"btn btn-xs",onClick:()=>v(g),children:a.edit}),s.jsx("button",{type:"button",className:"btn btn-xs btn-danger",onClick:()=>m(g.id),children:a.delete})]})})]},g.id))})]})})]})]})})}function Y6e(){const{i18n:e}=Ct(),t=(e?.language||"").toLowerCase().startsWith("ar"),[a,r]=y.useState([]);return y.useEffect(()=>{try{const n=localStorage.getItem("marketingCampaigns");r(n?JSON.parse(n):[])}catch{r([])}},[]),a.length?s.jsx("ul",{className:"space-y-3",children:a.slice().reverse().map(n=>s.jsxs("li",{className:"border border-white/20 rounded-lg p-3 backdrop-blur-sm bg-white/5",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-medium",children:n.name}),s.jsx("span",{className:"text-xs opacity-70",children:n.platform})]}),s.jsxs("div",{className:"mt-1 text-xs opacity-75",children:[t?": ":"Budget: ",n.totalBudget||0,"  ",t?": ":"Type: ",n.budgetType]}),n.startDate||n.endDate?s.jsxs("div",{className:"mt-1 text-xs opacity-75",children:[t?": ":"Period: ",n.startDate||"","  ",n.endDate||""]}):null]},n.id))}):s.jsx("p",{className:"text-sm opacity-70",children:t?"   ":"No campaigns yet"})}function X6e(){const{i18n:e}=Ct(),t=(e?.language||"").toLowerCase().startsWith("ar"),[a,r]=y.useState({name:"",platform:"",budgetType:"daily",totalBudget:"",startDate:"",endDate:"",landingPage:"",notes:""}),[n,i]=y.useState(!1),[l,o]=y.useState(null),[c,d]=y.useState([]);y.useEffect(()=>{try{const p=localStorage.getItem("marketingLandingPages");if(p){const m=JSON.parse(p);d(Array.isArray(m)?m:[])}else d([{id:"lp1",name:"LP - Registration"},{id:"lp2",name:"LP - Pricing"},{id:"lp3",name:"LP - Webinar"}])}catch{d([{id:"lp1",name:"LP - Registration"},{id:"lp2",name:"LP - Pricing"},{id:"lp3",name:"LP - Webinar"}])}},[]);function u(p){const{name:m,value:v}=p.target;r(g=>({...g,[m]:v}))}function f(p){if(p.preventDefault(),!a.name||!a.platform){o({type:"error",text:t?"    ":"Please enter name and platform"});return}i(!0);try{const m={id:Date.now(),...a},v=localStorage.getItem("marketingCampaigns"),g=v?JSON.parse(v):[];g.push(m),localStorage.setItem("marketingCampaigns",JSON.stringify(g)),o({type:"success",text:t?"   ":"Campaign saved successfully"}),r({name:"",platform:"",budgetType:"daily",totalBudget:"",startDate:"",endDate:"",landingPage:"",notes:""})}catch{o({type:"error",text:t?"   ":"Error while saving"})}finally{i(!1)}}return s.jsx(Ht,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:t?"":"Campaigns"}),s.jsxs("div",{className:"card glass-card p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-xl font-medium mb-4",children:t?" ":"Add Campaign"}),s.jsxs("form",{onSubmit:f,className:`space-y-4 ${t?"text-right":"text-left"}`,children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:t?" ":"Campaign Name"}),s.jsx("input",{name:"name",value:a.name,onChange:u,placeholder:t?"  ":"Enter campaign name",className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:t?"":"Platform"}),s.jsxs("select",{name:"platform",value:a.platform,onChange:u,className:"input",children:[s.jsx("option",{value:"",children:t?" ":"Select Platform"}),s.jsx("option",{value:"Meta",children:"Meta"}),s.jsx("option",{value:"Google",children:"Google"}),s.jsx("option",{value:"Manual",children:t?"":"Manual"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:t?" ":"Budget Type"}),s.jsxs("div",{className:`flex items-center gap-6 ${t?"justify-end":""}`,children:[s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"budgetType",value:"daily",checked:a.budgetType==="daily",onChange:u}),s.jsx("span",{children:t?"":"Daily"})]}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"budgetType",value:"lifetime",checked:a.budgetType==="lifetime",onChange:u}),s.jsx("span",{children:t?" ":"Lifetime"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:t?" ":"Total Budget"}),s.jsx("input",{type:"number",name:"totalBudget",value:a.totalBudget,onChange:u,className:"input",placeholder:"0"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:t?" ":"Start Date"}),s.jsx("input",{type:"date",name:"startDate",value:a.startDate,onChange:u,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:t?" ":"End Date"}),s.jsx("input",{type:"date",name:"endDate",value:a.endDate,onChange:u,className:"input"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:t?"  ":"Linked Landing Page"}),s.jsxs("select",{name:"landingPage",value:a.landingPage,onChange:u,className:"input",children:[s.jsx("option",{value:"",children:t?"  ":"Select Landing Page"}),c.map(p=>s.jsx("option",{value:p.id,children:p.name||p.title||`LP ${p.id}`},p.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:t?"":"Notes"}),s.jsx("textarea",{name:"notes",value:a.notes,onChange:u,className:"input",rows:3,placeholder:t?" ":"Additional notes"})]}),s.jsx("div",{className:`flex ${t?"justify-start":"justify-end"}`,children:s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?t?" ...":"Saving...":t?"":"Save"})}),l&&s.jsx("div",{className:`text-sm ${l.type==="success"?"text-green-600":"text-red-600"}`,children:l.text})]})]}),s.jsxs("div",{className:"card glass-card p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:t?" ":"Active Campaigns"}),s.jsx(Y6e,{})]})]})})}function J6e(){const{t:e,i18n:t}=Ct(),a=t.language==="ar",r=Ys(),n=[{name:"Landing Page",url:"https://example.co",source:"Meta",campaign:"Conevecal",visitors:140,leads:120,conversion:"30.6%"},{name:"Product Demo Page",url:"https://google",source:"Google",campaign:"Spring Sale",visitors:30,leads:45,conversion:"14.5%"},{name:"Real Estate Lead",url:"https://man.ru",source:"Manual",campaign:"Somouse",visitors:20,leads:30,conversion:"12.5%"},{name:"Webinar Signup",url:"https://manuee",source:"Manual",campaign:"Summer Offer",visitors:20,leads:50,conversion:"13.0%"},{name:"Product Pela mcre",url:"https://example.c",source:"Meta",campaign:"Forris",visitors:10,leads:30,conversion:"Paused"},{name:"Running Ages",url:"https://example.co",source:"Maca",campaign:"Google",visitors:30,leads:10,conversion:"Active"}],[i,l]=y.useState(n),[o,c]=y.useState(!1),[d,u]=y.useState(!1),[f,p]=y.useState(""),[m,v]=y.useState(""),[g,b]=y.useState("All"),[j,N]=y.useState("All"),[k,S]=y.useState("All"),C=y.useMemo(()=>["All",...Array.from(new Set(i.map(I=>I.source)))],[i]),_=y.useMemo(()=>["All",...Array.from(new Set(i.map(I=>I.campaign)))],[i]),P=["All","Active","Paused","Percentage"],L=y.useMemo(()=>{const I=m.trim().toLowerCase();return i.filter(W=>{const R=!I||W.name.toLowerCase().includes(I)||W.url.toLowerCase().includes(I),q=g==="All"||W.source===g,ae=j==="All"||W.campaign===j,te=String(W.conversion||"").toLowerCase(),K=te.includes("%")?"Percentage":te==="active"?"Active":te==="paused"?"Paused":"Percentage";return R&&q&&ae&&(k==="All"||K===k)})},[i,m,g,j,k]),U=y.useMemo(()=>L.reduce((I,W)=>I+(Number(W.visitors)||0),0),[L]),z=y.useMemo(()=>L.reduce((I,W)=>I+(Number(W.leads)||0),0),[L]),T=y.useMemo(()=>`${(U>0?z/U*100:0).toFixed(1)}%`,[U,z]),F=()=>{d||(u(!0),p(""),setTimeout(()=>{l(I=>I.map(W=>{const R=Math.floor(Math.random()*20)+5,q=Math.floor(Math.random()*10)-2,ae=(Number(W.visitors)||0)+R;let te=(Number(W.leads)||0)+Math.max(0,q);te>ae&&(te=Math.floor(ae*.8));let K=`${ae>0?(te/ae*100).toFixed(1):"0.0"}%`;return(W.conversion==="Paused"||W.conversion==="Active")&&(K=W.conversion),{...W,visitors:ae,leads:te,conversion:K}})),u(!1),p(e("Sync complete")),setTimeout(()=>p(""),2500)},1400))},M=()=>{v(""),b("All"),N("All"),S("All")};return s.jsx(Ht,{children:s.jsxs("div",{className:"space-y-4 bg-transparent text-[var(--content-text)] overflow-x-hidden overflow-y-auto",children:[s.jsx("h1",{className:"text-2xl font-bold",children:e("Landing Pages")}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsxs("button",{className:`btn btn-primary inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,onClick:()=>r("/marketing/landing-pages/add"),children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M12 5v14M5 12h14"})}),s.jsx("span",{children:e("Add Landing Page")})]}),s.jsxs("button",{className:`btn inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,onClick:F,disabled:d,children:[d?s.jsx("span",{className:"inline-block w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[s.jsx("path",{d:"M21 12a9 9 0 10-3.28 6.92"}),s.jsx("path",{d:"M21 12h-4"})]}),s.jsx("span",{children:e(d?"Syncing...":"Sync Data")})]}),s.jsxs("button",{className:`btn inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,onClick:()=>c(I=>!I),children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M3 4h18l-7 8v6l-4 2v-8z"})}),s.jsx("span",{children:e("Filters")})]})]}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),f&&s.jsx("div",{className:`card glass-card p-3 text-sm ${a?"text-right":"text-left"}`,children:f}),f&&s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),o&&s.jsxs("section",{className:"card glass-card p-4",children:[s.jsxs("div",{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 ${a?"text-right":""}`,children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Search")}),s.jsx("input",{value:m,onChange:I=>v(I.target.value),placeholder:e("Type to filter..."),className:"input"})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Source")}),s.jsx("select",{value:g,onChange:I=>b(I.target.value),className:"select",children:C.map(I=>s.jsx("option",{value:I,children:I},I))})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Campaign")}),s.jsx("select",{value:j,onChange:I=>N(I.target.value),className:"select",children:_.map(I=>s.jsx("option",{value:I,children:I},I))})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Status")}),s.jsx("select",{value:k,onChange:I=>S(I.target.value),className:"select",children:P.map(I=>s.jsx("option",{value:I,children:e(I)},I))})]})]}),s.jsxs("div",{className:`mt-4 flex items-center gap-2 ${a?"justify-start":"justify-end"}`,children:[s.jsx("button",{className:"btn",onClick:()=>c(!1),children:e("Apply")}),s.jsx("button",{className:"btn",onClick:M,children:e("Reset")}),s.jsx("button",{className:"btn",onClick:()=>c(!1),children:e("Close")})]})]}),o&&s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),s.jsx("section",{className:"card glass-card p-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"card glass-card p-4",children:[s.jsxs("div",{className:"text-sm text-[var(--muted-text)] inline-flex items-center gap-2",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[s.jsx("circle",{cx:"8",cy:"9",r:"2.5"}),s.jsx("circle",{cx:"16",cy:"9",r:"2.5"}),s.jsx("path",{d:"M3 20v-1a5 5 0 015-5h8a5 5 0 015 5v1"})]}),s.jsx("span",{children:e("Total Visitors")})]}),s.jsx("div",{className:"text-3xl font-semibold",children:U.toLocaleString()})]}),s.jsxs("div",{className:"card glass-card p-4",children:[s.jsxs("div",{className:"text-sm text-[var(--muted-text)] inline-flex items-center gap-2",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[s.jsx("rect",{x:"6",y:"4",width:"12",height:"16",rx:"2"}),s.jsx("path",{d:"M9 12l2 2 4-4"})]}),s.jsx("span",{children:e("Total Leads")})]}),s.jsx("div",{className:"text-3xl font-semibold",children:z.toLocaleString()})]}),s.jsxs("div",{className:"card glass-card p-4",children:[s.jsxs("div",{className:"text-sm text-[var(--muted-text)] inline-flex items-center gap-2",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[s.jsx("path",{d:"M3 17l6-6 4 4 8-8"}),s.jsx("path",{d:"M3 17h18"})]}),s.jsx("span",{children:e("Avg. Conversion %")})]}),s.jsx("div",{className:"text-3xl font-semibold",children:T})]}),s.jsx("div",{className:"card glass-card p-3 flex items-center justify-center",children:s.jsxs("svg",{viewBox:"0 0 120 60",className:"w-full h-20",children:[s.jsx("path",{d:"M0 45 L10 40 L20 42 L30 36 L40 38 L50 34 L60 35 L70 30 L80 35 L90 32 L100 28 L110 30 L120 27 L120 60 L0 60 Z",fill:"rgba(16,185,129,0.35)",stroke:"rgba(16,185,129,0.6)",strokeWidth:"1"}),s.jsx("path",{d:"M0 50 L10 48 L20 46 L30 47 L40 44 L50 43 L60 44 L70 41 L80 39 L90 38 L100 35 L110 36 L120 37",fill:"none",stroke:"rgba(59,130,246,0.8)",strokeWidth:"2"})]})})]})}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),s.jsx("section",{className:"card glass-card p-4 max-[550px]:p-3",children:s.jsx("div",{className:"overflow-auto -mx-4 max-[550px]:-mx-3",children:s.jsxs("table",{className:"nova-table w-full text-sm min-w-[800px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"glass-row text-left text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"py-2 px-4",children:e("Page Name")}),s.jsx("th",{className:"py-2 px-4",children:"URL"}),s.jsx("th",{className:"py-2 px-4",children:e("Source")}),s.jsx("th",{className:"py-2 px-4",children:e("Linked Campaign")}),s.jsx("th",{className:"py-2 px-4",children:e("Visitors")}),s.jsx("th",{className:"py-2 px-4",children:e("Leads")}),s.jsx("th",{className:"py-2 px-4",children:e("Conversion %")})]})}),s.jsx("tbody",{className:"text-gray-800 dark:text-gray-100",children:L.map((I,W)=>s.jsxs(Bn.Fragment,{children:[s.jsxs("tr",{className:"glass-row border-t border-gray-200 dark:border-gray-800",children:[s.jsx("td",{className:"py-2 px-4",children:I.name}),s.jsx("td",{className:"py-2 px-4",children:s.jsx("a",{href:I.url,className:"text-blue-600 hover:underline",target:"_blank",rel:"noreferrer",children:I.url})}),s.jsx("td",{className:"py-2 px-4",children:I.source}),s.jsx("td",{className:"py-2 px-4",children:I.campaign}),s.jsx("td",{className:"py-2 px-4",children:I.visitors}),s.jsx("td",{className:"py-2 px-4",children:I.leads}),s.jsx("td",{className:"py-2 px-4",children:I.conversion})]}),W<L.length-1&&s.jsx("tr",{className:"spacer-row",children:s.jsx("td",{colSpan:7,children:s.jsx("div",{className:"h-2"})})})]},W))})]})})})]})})}function Q6e(){const{t:e}=Ct(),[t,a]=y.useState(()=>{try{return JSON.parse(localStorage.getItem("meta.integration")||"{}")}catch{return{}}}),[r,n]=y.useState(()=>t.events||{Lead:!0,Contact:!0,CompleteRegistration:!1,Purchase:!1}),[i,l]=y.useState(!!t.enableCapi),[o,c]=y.useState(!!t.autoSync),[d,u]=y.useState(()=>t.fieldMap||{name:"name",email:"email",phone:"phone",utm_source:"utm_source",utm_campaign:"utm_campaign"}),[f,p]=y.useState(null),[m,v]=y.useState(null),g="http://localhost:8787",b=`${g}/api/meta/webhook`,[j,N]=y.useState(null),[k,S]=y.useState(null),[C,_]=y.useState(!1),[P,L]=y.useState("default");y.useEffect(()=>{const K={...t,events:r,enableCapi:i,autoSync:o,fieldMap:d};localStorage.setItem("meta.integration",JSON.stringify(K))},[t,r,i,o,d]);const U=y.useMemo(()=>({account:!!t.businessManagerId&&!!t.adAccountId&&!!t.pageId,pixel:!!t.pixelId,leadAds:!!t.pageId&&o}),[t,o]),z=()=>{localStorage.removeItem("meta.integration"),a({}),n({Lead:!0,Contact:!0,CompleteRegistration:!1,Purchase:!1}),l(!1),c(!1),u({name:"name",email:"email",phone:"phone",utm_source:"utm_source",utm_campaign:"utm_campaign"}),p(null),v(null)},T=(K,oe)=>a(D=>({...D,[K]:oe})),F=()=>{const K={pixel_id:t.pixelId||"PIXEL_ID",event_name:Object.keys(r).find(oe=>r[oe])||"Lead",event_time:Math.floor(Date.now()/1e3),event_source_url:window.location.href,action_source:i?"website+capi":"website",user_data:{email:"lead@example.com",phone:"+201234567890"},custom_data:{value:0,currency:"USD"}};p(K)},M=()=>{const K={full_name:"Ahmed Ali",email:"ahmed@example.com",phone_number:"+201000000000",utm_source:"facebook",utm_campaign:"spring_campaign"},oe={[d.name]:K.full_name,[d.email]:K.email,[d.phone]:K.phone_number,[d.utm_source]:K.utm_source,[d.utm_campaign]:K.utm_campaign};v({sampleLead:K,mapped:oe})},I=async()=>{try{const K=f||{pixel_id:t.pixelId||"PIXEL_ID",event_name:"Lead"},D=await(await fetch(`${g}/api/meta/capi/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)})).json();S(D)}catch(K){S({ok:!1,error:K.message})}},W=async()=>{try{const K=`${g}/api/meta/webhook?hub.mode=subscribe&hub.verify_token=${encodeURIComponent(t.verifyToken||"")}&hub.challenge=TEST`,oe=await fetch(K),D=await oe.text();N({ok:oe.ok,text:D})}catch(K){N({ok:!1,error:K.message})}},R=()=>{T("callbackUrl",b)},q=async()=>{try{await navigator.clipboard.writeText(t.callbackUrl||b),_(!0),setTimeout(()=>_(!1),1500)}catch{_(!1)}},ae=K=>{L(K),u(K==="facebook"?{name:"full_name",email:"email",phone:"phone_number",utm_source:"utm_source",utm_campaign:"utm_campaign"}:{name:"name",email:"email",phone:"phone",utm_source:"utm_source",utm_campaign:"utm_campaign"})},te=({ok:K,label:oe})=>s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full ${K?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-300"}`,children:[s.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${K?"bg-emerald-500":"bg-rose-500"}`}),oe]});return s.jsx(Ht,{children:s.jsxs("div",{className:"space-y-6 bg-transparent text-[var(--content-text)]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Meta Integration")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(te,{ok:U.account,label:e("Account Connected")}),s.jsx(te,{ok:U.pixel,label:e("Pixel Configured")}),s.jsx(te,{ok:U.leadAds,label:e("Lead Ads Auto-sync")})]})]}),s.jsxs("div",{className:"card glass-card p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:e("Meta Account")}),s.jsx("button",{className:"btn btn-outline",onClick:z,children:e("Reset Settings")})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Business Manager ID")}),s.jsx("input",{className:"input",value:t.businessManagerId||"",onChange:K=>T("businessManagerId",K.target.value),placeholder:e("e.g., 1234567890")})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Ad Account ID")}),s.jsx("input",{className:"input",value:t.adAccountId||"",onChange:K=>T("adAccountId",K.target.value),placeholder:e("e.g., act_1234567890")})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Page ID")}),s.jsx("input",{className:"input",value:t.pageId||"",onChange:K=>T("pageId",K.target.value),placeholder:e("e.g., 1234567890")})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("App ID")}),s.jsx("input",{className:"input",value:t.appId||"",onChange:K=>T("appId",K.target.value),placeholder:e("e.g., 123456789012345")})]})]}),s.jsx("p",{className:"mt-2 text-xs text-[var(--muted-text)]",children:e("For production, store secrets on the server, not in the browser.")})]}),s.jsxs("div",{className:"card glass-card p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-3",children:e("Facebook Pixel")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Pixel ID")}),s.jsx("input",{className:"input",value:t.pixelId||"",onChange:K=>T("pixelId",K.target.value),placeholder:e("e.g., 123456789012345")})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[s.jsx("input",{id:"enableCapi",type:"checkbox",checked:i,onChange:K=>l(K.target.checked)}),s.jsx("label",{htmlFor:"enableCapi",className:"text-sm",children:e("Enable CAPI")})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[s.jsx("label",{className:"text-sm",children:e("Events")}),s.jsx("div",{className:"flex flex-wrap gap-3",children:Object.keys(r).map(K=>s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:!!r[K],onChange:oe=>n(D=>({...D,[K]:oe.target.checked}))}),s.jsx("span",{children:e(K)})]},K))})]})]}),s.jsxs("div",{className:"flex md:justify-end items-start gap-2",children:[s.jsx("button",{className:"btn btn-primary",onClick:F,children:e("Test Pixel Event")}),s.jsx("button",{className:"btn btn-outline",onClick:I,children:e("Send to Server (CAPI echo)")})]})]}),f&&s.jsxs("div",{className:"mt-4 rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Payload Preview")}),s.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(f,null,2)})]}),k&&s.jsxs("div",{className:"mt-3 rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Server Response")}),s.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(k,null,2)})]}),s.jsx("p",{className:"mt-2 text-xs text-[var(--muted-text)]",children:e("Use Events Manager to verify pixel firing and CAPI events.")})]}),s.jsxs("div",{className:"card glass-card p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-3",children:e("Lead Ads Synchronization")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Webhook Settings")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"autoSync",type:"checkbox",checked:o,onChange:K=>c(K.target.checked)}),s.jsx("label",{htmlFor:"autoSync",className:"text-sm",children:e("Enable Auto-sync")})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Verify Token")}),s.jsx("input",{className:"input",dir:"ltr",value:t.verifyToken||"",onChange:K=>T("verifyToken",K.target.value),placeholder:e("Webhook verify token")})]}),s.jsxs("div",{className:"flex flex-col lg:col-span-2",children:[s.jsx("label",{className:"label",children:e("Callback URL")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"input flex-1 w-full",dir:"ltr",value:t.callbackUrl||"",onChange:K=>T("callbackUrl",K.target.value),placeholder:e("https://your-domain.com/api/meta/webhook")}),s.jsx("button",{type:"button",className:"btn btn-xs",onClick:R,children:e("Set local server URL")}),s.jsx("button",{type:"button",className:"btn btn-outline btn-xs",onClick:q,children:e("Copy")})]}),C&&s.jsx("div",{className:"text-xs text-emerald-600 mt-1",children:e("Copied")}),s.jsx("div",{className:"h-2","aria-hidden":"true"})]})]})]}),s.jsxs("div",{className:"flex md:justify-end items-start gap-2",children:[s.jsx("button",{className:"btn btn-outline",onClick:M,children:e("Simulate Lead Mapping")}),s.jsx("button",{className:"btn btn-primary",onClick:W,children:e("Test Verify Webhook")})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:[s.jsx("span",{children:e("Field Mapping")}),s.jsxs("select",{className:"input input-xs w-auto",value:P,onChange:K=>ae(K.target.value),children:[s.jsx("option",{value:"default",children:e("Default")}),s.jsx("option",{value:"facebook",children:e("Facebook Fields")})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Full Name")}),s.jsx("input",{className:"input",value:d.name,onChange:K=>u(oe=>({...oe,name:K.target.value}))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Email")}),s.jsx("input",{className:"input",value:d.email,onChange:K=>u(oe=>({...oe,email:K.target.value}))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Phone")}),s.jsx("input",{className:"input",value:d.phone,onChange:K=>u(oe=>({...oe,phone:K.target.value}))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("UTM Source")}),s.jsx("input",{className:"input",value:d.utm_source,onChange:K=>u(oe=>({...oe,utm_source:K.target.value}))})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("UTM Campaign")}),s.jsx("input",{className:"input",value:d.utm_campaign,onChange:K=>u(oe=>({...oe,utm_campaign:K.target.value}))})]})]})]}),m&&s.jsxs("div",{className:"rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Mapping Preview")}),s.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(m,null,2)})]})]}),j&&s.jsxs("div",{className:"mt-3 rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Webhook Verify Result")}),s.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(j,null,2)})]}),s.jsx("p",{className:"mt-2 text-xs text-[var(--muted-text)]",children:e("Subscribe Page to webhook via Meta settings; use the verify token above.")})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"card glass-card p-4",children:[s.jsx("h3",{className:"text-base font-semibold mb-2",children:e("Diagnostics")}),s.jsxs("ul",{className:"text-sm space-y-2",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(te,{ok:U.account,label:e("Account Connected")}),s.jsx("span",{className:"text-[var(--muted-text)]",children:e("Business Manager, Ad Account, and Page configured")})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(te,{ok:U.pixel,label:e("Pixel Configured")}),s.jsx("span",{className:"text-[var(--muted-text)]",children:e("Pixel ID present; test event recommended")})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(te,{ok:U.leadAds,label:e("Lead Ads Auto-sync")}),s.jsx("span",{className:"text-[var(--muted-text)]",children:e("Webhook enabled and auto-sync active")})]})]})]}),s.jsxs("div",{className:"card glass-card p-4 md:col-span-2",children:[s.jsx("h3",{className:"text-base font-semibold mb-2",children:e("Marketing Tips")}),s.jsxs("ul",{className:"text-sm space-y-2 list-disc pl-5",children:[s.jsx("li",{children:e("Use CAPI + Pixel to reduce tracking loss and improve optimization.")}),s.jsx("li",{children:e("Map UTM parameters and campaigns to CRM for end-to-end attribution.")}),s.jsx("li",{children:e("Test events in Events Manager after any change to your funnel.")}),s.jsx("li",{children:e("Auto-sync Lead Ads and dedupe by phone/email to avoid duplicates.")}),s.jsx("li",{children:e("Retarget unconverted leads with Custom Audiences for higher ROAS.")})]})]})]})]})})}function hN({startDate:e,endDate:t,onChange:a,className:r=""}){const{t:n,i18n:i}=Ct(),l=(i?.language||"").toLowerCase().startsWith("ar"),o=(u,f)=>{const p=m=>new Date(m).toISOString().split("T")[0];a?.({startDate:p(u),endDate:p(f)})},c=new Date,d=[{key:"today",label:n("Today"),range:[c,c]},{key:"last7",label:n("Last 7 Days"),range:[new Date(c.getFullYear(),c.getMonth(),c.getDate()-6),c]},{key:"last30",label:n("Last 30 Days"),range:[new Date(c.getFullYear(),c.getMonth(),c.getDate()-29),c]},{key:"thisMonth",label:n("This Month"),range:[new Date(c.getFullYear(),c.getMonth(),1),new Date(c.getFullYear(),c.getMonth()+1,0)]},{key:"lastMonth",label:n("Last Month"),range:[new Date(c.getFullYear(),c.getMonth()-1,1),new Date(c.getFullYear(),c.getMonth(),0)]},{key:"thisQuarter",label:n("This Quarter"),range:(()=>{const u=Math.floor(c.getMonth()/3)*3;return[new Date(c.getFullYear(),u,1),new Date(c.getFullYear(),u+3,0)]})()},{key:"thisYear",label:n("This Year"),range:[new Date(c.getFullYear(),0,1),new Date(c.getFullYear(),11,31)]}];return s.jsxs("div",{className:`rounded-lg border border-[var(--panel-border)] bg-[var(--dropdown-bg)] p-3 ${r}`,children:[s.jsxs("div",{className:`flex flex-wrap items-center gap-2 ${l?"flex-row-reverse":""}`,children:[s.jsx("span",{className:"text-sm opacity-70",children:n("Advanced Date Filter")}),s.jsx("div",{className:`flex flex-wrap items-center gap-2 ${l?"flex-row-reverse":""}`,children:d.map(u=>s.jsx("button",{onClick:()=>o(u.range[0],u.range[1]),className:"px-2 py-1 text-xs rounded-full border border-[var(--panel-border)] bg-white/60 dark:bg-gray-800/60 hover:bg-white dark:hover:bg-gray-800 transition-colors",children:u.label},u.key))})]}),s.jsxs("div",{className:`mt-3 grid grid-cols-1 sm:grid-cols-3 gap-2 ${l?"text-right":""}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs opacity-70",children:n("From")}),s.jsx("input",{type:"date",value:e,onChange:u=>a?.({startDate:u.target.value,endDate:t}),className:"bg-transparent outline-none text-sm px-2 py-1 rounded-md border"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs opacity-70",children:n("To")}),s.jsx("input",{type:"date",value:t,onChange:u=>a?.({startDate:e,endDate:u.target.value}),className:"bg-transparent outline-none text-sm px-2 py-1 rounded-md border"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs opacity-70",children:n("Month")}),s.jsx("input",{type:"month",value:`${(e||"").slice(0,7)}`,onChange:u=>{const[f,p]=u.target.value.split("-"),m=new Date(parseInt(f),parseInt(p)-1,1),v=new Date(parseInt(f),parseInt(p),0);o(m,v)},className:"bg-transparent outline-none text-sm px-2 py-1 rounded-md border"})]})]})]})}Cs.register(_n,Tn,Un,pl,ai,cn,on);function m9(){const{t:e,i18n:t}=Ct(),a=(t?.language||"").toLowerCase().startsWith("ar"),[r,n]=y.useState("2024-01-01"),[i,l]=y.useState("2024-03-31"),[o,c]=y.useState(""),d=y.useMemo(()=>[{name:"Spring Launch",platform:"Facebook",spend:5e3,impressions:15e4,clicks:5200,ctr:3.47,cpc:.96,leads:240,cpl:20.8,qualifiedPct:42,roi:2.4},{name:"Brand Awareness",platform:"Instagram",spend:3600,impressions:18e4,clicks:3400,ctr:1.89,cpc:1.06,leads:120,cpl:30,qualifiedPct:28,roi:1.3},{name:"Referral Boost",platform:"Google Ads",spend:6200,impressions:12e4,clicks:6800,ctr:5.67,cpc:.91,leads:310,cpl:20,qualifiedPct:51,roi:2.9},{name:"Retargeting",platform:"Facebook",spend:2800,impressions:9e4,clicks:3200,ctr:3.56,cpc:.88,leads:130,cpl:21.5,qualifiedPct:37,roi:1.9},{name:"Holiday Promo",platform:"Google Ads",spend:4100,impressions:11e4,clicks:4500,ctr:4.09,cpc:.91,leads:210,cpl:19.5,qualifiedPct:46,roi:2.2}],[]),u=y.useMemo(()=>d.filter(b=>b.name.toLowerCase().includes(o.toLowerCase())||b.platform.toLowerCase().includes(o.toLowerCase())),[d,o]),f=()=>{const b=u.map(({name:L,platform:U,spend:z,impressions:T,clicks:F,ctr:M,cpc:I,leads:W,cpl:R,qualifiedPct:q,roi:ae})=>({"Campaign Name":L,Platform:U,Spend:z,Impressions:T,Clicks:F,CTR:M,CPC:I,"Leads Generated":W,CPL:R,"Qualified Leads %":q,ROI:ae})),j=ea.json_to_sheet(b),N=u.map(({name:L,spend:U,roi:z,clicks:T,ctr:F,leads:M,qualifiedPct:I})=>({Campaign:L,Spend,ROI,Clicks,CTR:F,Leads,QualifiedPct:I})),k=ea.json_to_sheet(N),S=[{"Start Date":r,"End Date":i,Query:o||"","Rows Exported":u.length,"Exported At":new Date().toISOString()}],C=ea.json_to_sheet(S),_=ea.book_new();ea.book_append_sheet(_,j,"Summary"),ea.book_append_sheet(_,k,"Charts Data"),ea.book_append_sheet(_,C,"Metadata");const P=`campaign-summary-dashboard_${r}_to_${i}.xlsx`;Nr(_,P)},p=()=>{const j=[["Campaign Name","Platform","Spend","Impressions","Clicks","CTR","CPC","Leads","CPL","Qualified Leads %","ROI"],...u.map(C=>[C.name,C.platform,C.spend,C.impressions,C.clicks,C.ctr,C.cpc,C.leads,C.cpl,C.qualifiedPct,C.roi])].map(C=>C.join(",")).join(`
`),N=new Blob([j],{type:"text/csv;charset=utf-8;"}),k=URL.createObjectURL(N),S=document.createElement("a");S.href=k,S.download="campaign-summary.csv",S.click(),URL.revokeObjectURL(k)},m=y.useMemo(()=>{const b={};for(const k of u){const S=k.platform;b[S]||(b[S]={spend:0,leads:0,roiSum:0,count:0}),b[S].spend+=k.spend,b[S].leads+=k.leads,b[S].roiSum+=k.roi,b[S].count+=1}const j=Object.entries(b).map(([k,S])=>({platform:k,avgRoi:+(S.roiSum/S.count).toFixed(2),spend:S.spend,leads:S.leads})),N=j.sort((k,S)=>S.avgRoi-k.avgRoi)[0];return{entries:j,best:N}},[u]),v=y.useMemo(()=>u.filter(b=>b.roi<1||b.cpl>30).slice(0,3),[u]),g=y.useMemo(()=>{const b=[];m.best&&b.push(` Boost budget on ${m.best.platform}  avg ROI ${m.best.avgRoi}`);for(const j of v)j.roi<1&&b.push(` Optimize ${j.name} (${j.platform}): ROI ${j.roi} < 1`),j.cpl>30&&b.push(` Reduce CPL for ${j.name}: CPL ${j.cpl}`);return b.length===0&&b.push(" All campaigns performing within targets"),b},[m,v]);return s.jsx(Ht,{children:s.jsxs("div",{id:"report-root",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Campaign Summary")}),s.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsxs("button",{onClick:f,className:"btn btn-primary px-3 py-2 rounded-md border",children:[s.jsx("span",{className:"mr-2",children:""})," ",e("Export Excel")]}),s.jsxs("button",{onClick:p,className:"btn btn-ghost px-3 py-2 rounded-md border",children:[s.jsx("span",{className:"mr-2",children:""})," ",e("Google Sheets CSV")]})]})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-3 justify-items-start",children:s.jsx("div",{className:"px-3 py-2 rounded-lg border bg-[var(--dropdown-bg)] w-full sm:w-[280px] md:w-[360px]",children:s.jsx("input",{value:o,onChange:b=>c(b.target.value),placeholder:e("Search by Campaign or Source"),className:"bg-transparent outline-none text-sm w-full"})})}),s.jsx(hN,{startDate:r,endDate:i,onChange:({startDate:b,endDate:j})=>{n(b),l(j)},className:"mt-2"}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Overview by Campaign")}),s.jsx("div",{className:"overflow-auto -mx-4",children:s.jsxs("table",{className:"w-full text-sm min-w-[1000px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left opacity-70",children:[s.jsx("th",{className:"px-4 py-2",children:e("Campaign Name")}),s.jsx("th",{className:"px-4 py-2",children:e("Platform")}),s.jsxs("th",{className:"px-4 py-2",children:[" ",e("Spend")]}),s.jsxs("th",{className:"px-4 py-2",children:[" ",e("Impressions")]}),s.jsx("th",{className:"px-4 py-2",children:e("Clicks")}),s.jsxs("th",{className:"px-4 py-2",children:[e("CTR")," %"]}),s.jsx("th",{className:"px-4 py-2",children:e("CPC")}),s.jsx("th",{className:"px-4 py-2",children:e("Leads Generated")}),s.jsx("th",{className:"px-4 py-2",children:e("CPL")}),s.jsx("th",{className:"px-4 py-2",children:e("Qualified Leads %")}),s.jsx("th",{className:"px-4 py-2",children:e("ROI")})]})}),s.jsx("tbody",{children:u.map(b=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-4 py-2 font-medium",children:b.name}),s.jsx("td",{className:"px-4 py-2",children:b.platform}),s.jsxs("td",{className:"px-4 py-2",children:["$",b.spend.toLocaleString()]}),s.jsx("td",{className:"px-4 py-2",children:b.impressions.toLocaleString()}),s.jsx("td",{className:"px-4 py-2",children:b.clicks.toLocaleString()}),s.jsxs("td",{className:"px-4 py-2",children:[b.ctr,"%"]}),s.jsxs("td",{className:"px-4 py-2",children:["$",b.cpc]}),s.jsx("td",{className:"px-4 py-2",children:b.leads}),s.jsxs("td",{className:"px-4 py-2",children:["$",b.cpl]}),s.jsxs("td",{className:"px-4 py-2",children:[b.qualifiedPct,"%"]}),s.jsxs("td",{className:"px-4 py-2",children:[b.roi,"x"]})]},b.name))})]})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Spend vs ROI")}),s.jsx("div",{style:{height:"240px"},children:s.jsx(Ir,{data:{labels:u.map(b=>b.name),datasets:[{label:e("Spend"),data:u.map(b=>b.spend),backgroundColor:"#2563eb",borderRadius:6,yAxisID:"y"},{label:e("ROI"),data:u.map(b=>b.roi),type:"line",borderColor:"#22c55e",backgroundColor:"rgba(34,197,94,0.25)",tension:.3,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{position:"left",grid:{display:!1}},y1:{position:"right",grid:{display:!1}}},plugins:{legend:{position:"bottom"}}}})})]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Clicks vs CTR")}),s.jsx("div",{style:{height:"240px"},children:s.jsx(Ir,{data:{labels:u.map(b=>b.name),datasets:[{label:e("Clicks"),data:u.map(b=>b.clicks),backgroundColor:"#8b5cf6",borderRadius:6,yAxisID:"y"},{label:e("CTR %"),data:u.map(b=>b.ctr),type:"line",borderColor:"#f59e0b",backgroundColor:"rgba(245,158,11,0.25)",tension:.3,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{position:"left",grid:{display:!1}},y1:{position:"right",grid:{display:!1}}},plugins:{legend:{position:"bottom"}}}})})]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Leads vs Qualified Leads %")}),s.jsx("div",{style:{height:"240px"},children:s.jsx(Ir,{data:{labels:u.map(b=>b.name),datasets:[{label:e("Leads"),data:u.map(b=>b.leads),backgroundColor:"#22c55e",borderRadius:6,yAxisID:"y"},{label:e("Qualified %"),data:u.map(b=>b.qualifiedPct),type:"line",borderColor:"#2563eb",backgroundColor:"rgba(37,99,235,0.25)",tension:.3,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{position:"left",grid:{display:!1}},y1:{position:"right",grid:{display:!1}}},plugins:{legend:{position:"bottom"}}}})})]}),s.jsx("div",{className:"col-span-1 md:col-span-3 h-6","aria-hidden":"true"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Best Performing Platform")}),m.best?s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:m.best.platform}),s.jsxs("div",{className:"mt-1",children:[" Avg ROI: ",s.jsxs("span",{className:"font-semibold",children:[m.best.avgRoi,"x"]})]}),s.jsxs("div",{className:"mt-1",children:[" Spend: $",m.best.spend.toLocaleString()]}),s.jsxs("div",{className:"mt-1",children:[" Leads: ",m.best.leads]})]}):s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("No data")})]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Campaigns Needing Improvement")}),s.jsxs("ul",{className:"space-y-1 text-sm",children:[v.map(b=>s.jsxs("li",{children:[" ",b.name,"  ROI ",b.roi,"x, CPL $",b.cpl]},b.name)),v.length===0&&s.jsx("li",{className:"text-[var(--muted-text)]",children:e("None")})]})]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Recommendations")}),s.jsx("ul",{className:"space-y-1 text-sm",children:g.map((b,j)=>s.jsx("li",{children:b},j))})]})]})]})})}Cs.register(_n,Tn,Un,cn,on);function Z6e({sources:e,height:t=260,stacked:a=!0,horizontal:r=!1,showLeads:n=!0,showConverted:i=!0,subtitle:l="Last 30 Days",normalize:o=!1}){const{t:c}=Ct(),d=e?.map(C=>C.source)||["Facebook","Google Ads","Referral","Email"],u=e?.map(C=>C.leads)||[500,300,150,100],p=(e?.map(C=>C.converted)||[120,110,80,40]).map((C,_)=>Math.min(C,u[_])),m=u.map((C,_)=>Math.max(0,C-(p[_]||0))),v=u.map((C,_)=>C>0?p[_]/C*100:0),g=u.map((C,_)=>C>0?(C-p[_])/C*100:0),j=typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",N=[];n&&N.push({label:c("Unconverted"),data:o?g:m,backgroundColor:"rgba(99, 102, 241, 0.85)",borderRadius:6,stack:a?"leads":void 0,order:1}),i&&N.push({label:c("Converted"),data:o?v:p,backgroundColor:"rgba(14, 165, 233, 0.7)",borderRadius:6,stack:a?"leads":void 0,order:2});const k={labels:d,datasets:N},S={responsive:!0,maintainAspectRatio:!1,indexAxis:r?"y":"x",scales:{x:{grid:{display:!1},ticks:{color:j,font:{size:12}},stacked:a},y:{grid:{display:!1},ticks:{color:j,font:{size:12},callback:o?C=>`${C}%`:void 0},stacked:a,min:0,max:o?100:void 0}},plugins:{legend:{display:!0,labels:{color:j}},tooltip:{mode:"index",intersect:!1,callbacks:{title:C=>d[C[0].dataIndex],beforeBody:C=>{const _=C[0].dataIndex;return`${c("Total Leads")}: ${u[_].toLocaleString()}`},label:C=>{const _=C.dataIndex,P=u[_];if(C.dataset.label===c("Converted")){const z=p[_],T=P>0?z/P*100:0;return`${c("Converted")}: ${z.toLocaleString()} (${T.toFixed(1)}%)`}const L=m[_],U=P>0?L/P*100:0;return`${c("Unconverted")}: ${L.toLocaleString()} (${U.toFixed(1)}%)`},footer:C=>{const _=C[0].dataIndex,P=u[_],L=p[_],U=P>0?L/P*100:0;return`${c("Conversion Rate")}: ${U.toFixed(1)}%`}}}}};return s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-transparent bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text",children:c("Lead Source Performance")}),s.jsx("div",{style:{height:typeof t=="number"?`${t}px`:t},children:s.jsx(Ir,{data:k,options:S})}),s.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)] dark:text-blue-200",children:c(l)})]})}function eAe(){const{t:e}=Ct(),t=[{source:"Facebook",leads:500,converted:120,revenue:9e4},{source:"Google Ads",leads:300,converted:110,revenue:11e4},{source:"Referral",leads:150,converted:80,revenue:13e4},{source:"Email",leads:100,converted:40,revenue:3e4}],[a,r]=y.useState("Leads"),[n,i]=y.useState(!0),[l,o]=y.useState(!0),[c,d]=y.useState(!1),[u,f]=y.useState(!0),[p,m]=y.useState(!0),[v,g]=y.useState(""),[b,j]=y.useState("2024-01-01"),[N,k]=y.useState("2024-03-31"),[S,C]=y.useState("Last 30 Days"),[_,P]=y.useState(t.map(R=>R.source)),[L,U]=y.useState(!1),[z,T]=y.useState(t.length),F=y.useMemo(()=>{const R=ae=>ae.leads>0?Math.min(ae.converted,ae.leads)/ae.leads:0;let q=t.filter(ae=>_.includes(ae.source));return v&&(q=q.filter(ae=>ae.source.toLowerCase().includes(v.toLowerCase()))),q=q.slice().sort((ae,te)=>{if(a==="Conversion Rate")return n?R(te)-R(ae):R(ae)-R(te);const K=a==="Leads"?"leads":a==="Converted"?"converted":"revenue";return n?te[K]-ae[K]:ae[K]-te[K]}),z&&z>0&&(q=q.slice(0,Math.min(z,q.length))),q},[t,_,v,a,n,z]),M=F.reduce((R,q)=>R+q.leads,0),I=R=>{P(q=>q.includes(R)?q.filter(ae=>ae!==R):[...q,R])},W=()=>{const R=["Source","Leads","Converted","Revenue"],q=F.map(D=>[D.source,D.leads,D.converted,D.revenue]),ae=[R.join(","),...q.map(D=>D.join(","))].join(`
`),te=new Blob([ae],{type:"text/csv;charset=utf-8;"}),K=URL.createObjectURL(te),oe=document.createElement("a");oe.href=K,oe.download="lead-source-performance.csv",oe.click(),URL.revokeObjectURL(K)};return s.jsx(Ht,{children:s.jsxs("div",{className:"space-y-6 bg-transparent text-[var(--content-text)]",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Lead Source Performance")}),s.jsxs("div",{className:"card glass-card p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Sorting")}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Time Range")}),s.jsxs(Aa,{value:S,onChange:R=>C(R),children:[s.jsx("option",{value:"Last 30 Days",children:e("Last 30 Days")}),s.jsx("option",{value:"Last Quarter",children:e("Last Quarter")}),s.jsx("option",{value:"Last Year",children:e("Last Year")})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"label",children:e("Sort By")}),s.jsxs(Aa,{value:a,onChange:R=>r(R),children:[s.jsx("option",{value:"Leads",children:e("Leads")}),s.jsx("option",{value:"Converted",children:e("Converted")}),s.jsx("option",{value:"Revenue",children:e("Revenue")}),s.jsx("option",{value:"Conversion Rate",children:e("Conversion Rate")})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"desc",type:"checkbox",checked:n,onChange:R=>i(R.target.checked)}),s.jsx("label",{htmlFor:"desc",className:"text-sm",children:e("Descending")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm",htmlFor:"topN",children:e("Top N")}),s.jsx("input",{id:"topN",className:"input w-20",type:"number",min:"1",max:t.length,value:z,onChange:R=>T(Number(R.target.value))})]})]})]}),s.jsxs("div",{className:"rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Chart")}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"stacked",type:"checkbox",checked:l,onChange:R=>o(R.target.checked)}),s.jsx("label",{htmlFor:"stacked",className:"text-sm",children:e("Stacked")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"normalize",type:"checkbox",checked:L,onChange:R=>U(R.target.checked)}),s.jsx("label",{htmlFor:"normalize",className:"text-sm",children:e("100% Stacked")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"horizontal",type:"checkbox",checked:c,onChange:R=>d(R.target.checked)}),s.jsx("label",{htmlFor:"horizontal",className:"text-sm",children:e("Horizontal")})]})]})]}),s.jsxs("div",{className:"rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Display")}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-indigo-500"}),s.jsx("input",{id:"showLeads",type:"checkbox",checked:u,onChange:R=>f(R.target.checked)}),s.jsx("label",{htmlFor:"showLeads",className:"text-sm",children:e("Show Unconverted")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-sky-500"}),s.jsx("input",{id:"showConverted",type:"checkbox",checked:p,onChange:R=>m(R.target.checked)}),s.jsx("label",{htmlFor:"showConverted",className:"text-sm",children:e("Show Converted")})]})]})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"label",children:e("Search")}),s.jsx("input",{className:"input",value:v,onChange:R=>g(R.target.value),placeholder:e("Search source...")})]}),s.jsx("div",{className:"flex md:justify-end",children:s.jsx("button",{className:"btn btn-outline",onClick:W,children:e("Export CSV")})})]}),s.jsx(hN,{startDate:b,endDate:N,onChange:({startDate:R,endDate:q})=>{j(R),k(q)},className:"mt-2"}),s.jsxs("div",{className:"mt-4 rounded-lg ring-1 ring-gray-200 dark:ring-gray-800 p-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:e("Sources")}),s.jsx("div",{className:"flex flex-wrap gap-3",children:t.map(R=>s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:_.includes(R.source),onChange:()=>I(R.source)}),s.jsx("span",{children:R.source})]},R.source))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"card glass-card p-4 md:col-span-2",children:s.jsxs("table",{className:"nova-table w-full text-sm min-w-[520px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-gray-600 dark:text-gray-300",children:[s.jsx("th",{className:"py-2 pr-4",children:e("Source")}),s.jsx("th",{className:"py-2 pr-4",children:e("Leads")}),s.jsx("th",{className:"py-2 pr-4",children:e("Converted")}),s.jsx("th",{className:"py-2 pr-4",children:e("Conversion Rate")}),s.jsx("th",{className:"py-2 pr-4",children:e("Revenue")})]})}),s.jsx("tbody",{className:"text-gray-800 dark:text-gray-100",children:F.map(R=>s.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-800",children:[s.jsx("td",{className:"py-2 pr-4",children:R.source}),s.jsx("td",{className:"py-2 pr-4",children:R.leads.toLocaleString()}),s.jsx("td",{className:"py-2 pr-4",children:R.converted.toLocaleString()}),s.jsxs("td",{className:"py-2 pr-4",children:[(Math.min(R.converted,R.leads)/(R.leads||1)*100).toFixed(1),"%"]}),s.jsxs("td",{className:"py-2 pr-4",children:["$",R.revenue.toLocaleString()]})]},R.source))})]})}),s.jsx("div",{className:"card glass-card p-6 flex flex-col items-start justify-between",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold mb-1",children:e("Total Leads")}),s.jsx("div",{className:"text-5xl font-extrabold tracking-tight",children:M.toLocaleString()})]})})]}),s.jsx("div",{className:"card glass-card p-4",children:s.jsx(Z6e,{sources:F,height:280,stacked:l,horizontal:c,showLeads:u,showConverted:p,subtitle:S,normalize:L})})]})})}Cs.register(_n,Tn,Un,cn,on);function tAe(){const{t:e,i18n:t}=Ct(),a=(t?.language||"").toLowerCase().startsWith("ar"),[r,n]=y.useState("2024-01-01"),[i,l]=y.useState("2024-03-31"),[o,c]=y.useState(""),d=y.useMemo(()=>[{platform:"Facebook",cost:580,revenue:1860},{platform:"Google Ads",cost:450,revenue:720},{platform:"Instagram",cost:420,revenue:540}],[]),u=y.useMemo(()=>d.filter(S=>S.platform.toLowerCase().includes(o.toLowerCase())),[d,o]),f=y.useMemo(()=>{const S=u.reduce((_,P)=>_+P.cost,0),C=u.reduce((_,P)=>_+P.revenue,0);return{totalCost:S,totalRevenue:C}},[u]),p=()=>{const S=ea.json_to_sheet(u),C=[{"Total Cost (EGP)":f.totalCost,"Total Revenue (EGP)":f.totalRevenue,"ROI (x)":f.totalCost?f.totalRevenue/f.totalCost:0}],_=ea.json_to_sheet(C),P=[{"Start Date":r,"End Date":i,Query:o||"","Rows Exported":u.length,"Exported At":new Date().toISOString()}],L=ea.json_to_sheet(P),U=ea.book_new();ea.book_append_sheet(U,S,"Platforms"),ea.book_append_sheet(U,_,"Totals"),ea.book_append_sheet(U,L,"Metadata");const z=`cost-vs-revenue_${r}_to_${i}.xlsx`;Nr(U,z)},m=()=>{const S=document.getElementById("report-root")?.innerHTML||"",C=window.open("","PRINT","height=800,width=1000");C&&(C.document.write(`<html><head><title>${e("Cost vs Revenue by Platform")}</title></head><body>${S}</body></html>`),C.document.close(),C.focus(),C.print())},g=typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",b=u.map(S=>S.platform),j={labels:b,datasets:[{label:e("Cost"),data:u.map(S=>S.cost),backgroundColor:"rgba(99, 102, 241, 0.85)",borderRadius:6},{label:e("Revenue"),data:u.map(S=>S.revenue),backgroundColor:"rgba(14, 165, 233, 0.85)",borderRadius:6}]},N={responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{color:g}},y:{grid:{display:!1},ticks:{color:g}}},plugins:{legend:{labels:{color:g}}}},k={labels:b,datasets:[{label:e("ROI (x)"),data:u.map(S=>S.cost?S.revenue/S.cost:0),backgroundColor:"rgba(34, 197, 94, 0.85)",borderRadius:6}]};return s.jsx(Ht,{children:s.jsxs("div",{id:"report-root",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Cost vs Revenue by Platform")}),s.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsxs("button",{onClick:m,"aria-label":e("Export PDF"),className:"group inline-flex items-center gap-2 px-3 py-2 rounded-full border border-[var(--panel-border)] bg-[var(--dropdown-bg)] hover:bg-[var(--dropdown-bg)]/80 shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 dark:focus-visible:ring-indigo-300",children:[s.jsx(Xz,{className:"text-red-500"}),s.jsx("span",{className:"font-medium",children:e("Export PDF")})]}),s.jsxs("button",{onClick:p,"aria-label":e("Export Excel"),className:"group inline-flex items-center gap-2 px-3 py-2 rounded-full border border-[var(--panel-border)] bg-[var(--dropdown-bg)] hover:bg-[var(--dropdown-bg)]/80 shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400 dark:focus-visible:ring-emerald-300",children:[s.jsx(Yz,{className:"text-emerald-500"}),s.jsx("span",{className:"font-medium",children:e("Export Excel")})]})]})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.jsx("div",{className:"px-3 py-2 rounded-lg border bg-[var(--dropdown-bg)]",children:s.jsx("input",{value:o,onChange:S=>c(S.target.value),placeholder:e("Search by Campaign or Source"),className:"bg-transparent outline-none text-sm w-full"})})}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx(hN,{startDate:r,endDate:i,onChange:({startDate:S,endDate:C})=>{n(S),l(C)},className:"mt-2"}),s.jsx("div",{className:"px-3 py-2 rounded-lg border bg-[var(--dropdown-bg)]",children:s.jsxs("div",{className:`flex flex-wrap items-center gap-2 text-sm ${a?"flex-row-reverse":""}`,children:[s.jsxs("span",{className:"opacity-70",children:[e("Date Range"),":"]}),s.jsx("span",{className:"px-2 py-1 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100 border border-gray-200 dark:border-gray-600",children:r}),s.jsx("span",{className:"opacity-60",children:""}),s.jsx("span",{className:"px-2 py-1 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100 border border-gray-200 dark:border-gray-600",children:i}),s.jsxs("span",{className:`opacity-70 ${a?"mr-0 ml-3":"ml-3"}`,children:[e("Platforms"),":"]}),u.map(S=>s.jsx("span",{className:"px-2 py-1 rounded-full bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-700",children:S.platform},S.platform))]})}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Platform Performance")}),s.jsx("div",{className:"overflow-auto -mx-4",children:s.jsxs("table",{className:"w-full text-sm min-w-[860px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left opacity-70",children:[s.jsx("th",{className:"px-4 py-2",children:e("Platform")}),s.jsxs("th",{className:"px-4 py-2",children:[" ",e("Spend")," (EGP)"]}),s.jsxs("th",{className:"px-4 py-2",children:[" ",e("Revenue")," (EGP)"]}),s.jsx("th",{className:"px-4 py-2",children:e("ROI")}),s.jsx("th",{className:"px-4 py-2",children:e("Profit / Loss")}),s.jsx("th",{className:"px-4 py-2",children:e("Cost %")}),s.jsx("th",{className:"px-4 py-2",children:e("Revenue %")})]})}),s.jsx("tbody",{children:u.map(S=>{const C=S.cost?S.revenue/S.cost:0,_=S.revenue-S.cost,P=f.totalCost?S.cost/f.totalCost*100:0,L=f.totalRevenue?S.revenue/f.totalRevenue*100:0;return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-4 py-2 font-medium",children:S.platform}),s.jsxs("td",{className:"px-4 py-2",children:[S.cost.toLocaleString()," EGP"]}),s.jsxs("td",{className:"px-4 py-2",children:[S.revenue.toLocaleString()," EGP"]}),s.jsxs("td",{className:"px-4 py-2",children:[C.toFixed(1),"x"]}),s.jsxs("td",{className:`px-4 py-2 ${_>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[_>=0?"+":"",_.toLocaleString()," EGP"]}),s.jsxs("td",{className:"px-4 py-2",children:[P.toFixed(0),"%"]}),s.jsxs("td",{className:"px-4 py-2",children:[L.toFixed(0),"%"]})]},S.platform)})}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t font-semibold",children:[s.jsx("td",{className:"px-4 py-2",children:e("Total")}),s.jsxs("td",{className:"px-4 py-2",children:[f.totalCost.toLocaleString()," EGP"]}),s.jsxs("td",{className:"px-4 py-2",children:[f.totalRevenue.toLocaleString()," EGP"]}),s.jsxs("td",{className:"px-4 py-2",children:[(f.totalCost?f.totalRevenue/f.totalCost:0).toFixed(1),"x"]}),s.jsxs("td",{className:`px-4 py-2 ${f.totalRevenue-f.totalCost>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:[f.totalRevenue-f.totalCost>=0?"+":"",(f.totalRevenue-f.totalCost).toLocaleString()," EGP"]}),s.jsx("td",{className:"px-4 py-2",children:"100%"}),s.jsx("td",{className:"px-4 py-2",children:"100%"})]})})]})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Cost vs Revenue")}),s.jsx("div",{style:{height:"280px"},children:s.jsx(Ir,{data:j,options:N})}),s.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)]",children:e("Last 30 Days")})]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("ROI Comparison")}),s.jsx("div",{style:{height:"280px"},children:s.jsx(Ir,{data:k,options:N})}),s.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)]",children:e("Last 30 Days")})]})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Best ROI Platform")}),(()=>{const S=u.map(C=>({...C,roi:C.cost?C.revenue/C.cost:0})).sort((C,_)=>_.roi-C.roi)[0];return S?s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:S.platform}),s.jsxs("div",{className:"mt-1",children:["ROI: ",s.jsxs("span",{className:"font-semibold",children:[S.roi.toFixed(1),"x"]})]}),s.jsxs("div",{className:"mt-1",children:["Spend: ",S.cost.toLocaleString()," EGP"]}),s.jsxs("div",{className:"mt-1",children:["Revenue: ",S.revenue.toLocaleString()," EGP"]})]}):s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("No data")})})()]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Highest Revenue Contributor")}),(()=>{const S=u.map(C=>({...C,revenuePct:f.totalRevenue?C.revenue/f.totalRevenue:0})).sort((C,_)=>_.revenue-C.revenue)[0];return S?s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:S.platform}),s.jsxs("div",{className:"mt-1",children:["Revenue: ",S.revenue.toLocaleString()," EGP"]}),s.jsxs("div",{className:"mt-1",children:["Contribution: ",(S.revenuePct*100).toFixed(0),"%"]})]}):s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("No data")})})()]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Recommendations")}),s.jsx("ul",{className:"text-sm space-y-1",children:u.map(S=>{const C=S.cost?S.revenue/S.cost:0,_=S.revenue-S.cost;return C>=2?s.jsxs("li",{children:[" ",e("Consider increasing budget for")," ",S.platform," (",C.toFixed(1),"x)"]},`rec-${S.platform}`):_<0?s.jsxs("li",{children:[" ",e("Reduce spend or optimize")," ",S.platform," (",_.toLocaleString()," EGP)"]},`rec-${S.platform}`):s.jsxs("li",{children:[" ",e("Monitor performance and test creatives for")," ",S.platform]},`rec-${S.platform}`)})})]})]})]})})}Cs.register(_n,Tn,Un,pl,ai,Dm,cn,on);function aAe(){const{t:e,i18n:t}=Ct(),a=(t?.language||"").toLowerCase().startsWith("ar"),[r,n]=y.useState("2025-11-01"),[i,l]=y.useState("2025-11-30"),[o,c]=y.useState(""),d="November 2025",u=y.useMemo(()=>({spend:1450,impressions:98e3,clicks:2700,leads:240,qualifiedPct:42,revenue:3100}),[]),f=y.useMemo(()=>u.impressions?u.clicks/u.impressions*100:0,[u]),p=y.useMemo(()=>u.clicks?u.spend/u.clicks:0,[u]),m=y.useMemo(()=>u.leads?u.spend/u.leads:0,[u]),v=y.useMemo(()=>u.spend?u.revenue/u.spend:0,[u]),g=y.useMemo(()=>({spend:1320,revenue:2800,leads:210,impressions:9e4,clicks:2500}),[]),b=y.useMemo(()=>[{platform:"Facebook",spend:580,leads:120,revenue:1860},{platform:"Google Ads",spend:450,leads:80,revenue:720},{platform:"Instagram",spend:420,leads:40,revenue:520}],[]),j=typeof document<"u"&&document.documentElement.classList.contains("dark"),N=j?"#e5e7eb":"#374151",k={labels:["Week 1","Week 2","Week 3","Week 4"],datasets:[{label:e("Spend"),data:[320,360,370,400],borderColor:"#6366f1",backgroundColor:"rgba(99,102,241,0.25)",tension:.3,fill:!0},{label:e("Revenue"),data:[700,760,780,860],borderColor:"#14b8a6",backgroundColor:"rgba(20,184,166,0.25)",tension:.3,fill:!0}]},S={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:N}}},scales:{x:{ticks:{color:N},grid:{display:!1}},y:{ticks:{color:N},grid:{display:!1}}}},C={labels:b.map(T=>T.platform),datasets:[{label:e("Leads"),data:b.map(T=>T.leads),backgroundColor:["#2563eb","#06b6d4","#22c55e"],borderRadius:6}]},_={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:N}}},scales:{x:{ticks:{color:N},grid:{display:!1}},y:{ticks:{color:N},grid:{display:!1}}}},P={labels:b.map(T=>T.platform),datasets:[{label:e("Spend"),data:b.map(T=>T.spend),backgroundColor:["#2563eb","#06b6d4","#22c55e"],borderColor:j?"#1f2937":"#ffffff",borderWidth:1}]},L={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:N}}}},U=()=>{const T=[{Month:d,Spend:u.spend,Impressions:u.impressions,Clicks:u.clicks,CTR:`${f.toFixed(1)}%`,AvgCPC:`${p.toFixed(2)} EGP`,Leads:u.leads,AvgCPL:`${m.toFixed(2)} EGP`,QualifiedPct:`${u.qualifiedPct}%`,Revenue:u.revenue,ROI:`${v.toFixed(1)}x`}],F=ea.json_to_sheet(T),M=ea.book_new();ea.book_append_sheet(M,F,"MonthlyOverview"),Nr(M,"monthly-marketing-overview.xlsx")},z=()=>{const T=document.getElementById("report-root")?.innerHTML||"",F=window.open("","PRINT","height=800,width=1000");F&&(F.document.write(`<html><head><title>${e("Monthly Marketing Overview")}</title></head><body>${T}</body></html>`),F.document.close(),F.focus(),F.print())};return s.jsx(Ht,{children:s.jsxs("div",{id:"report-root",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Monthly Marketing Overview")}),s.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsxs("button",{onClick:z,"aria-label":e("Export PDF"),className:"group inline-flex items-center gap-2 px-3 py-2 rounded-full border border-[var(--panel-border)] bg-[var(--dropdown-bg)] hover:bg-[var(--dropdown-bg)]/80 shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 dark:focus-visible:ring-indigo-300",children:[s.jsx(Xz,{className:"text-red-500"}),s.jsx("span",{className:"font-medium",children:e("Export PDF")})]}),s.jsxs("button",{onClick:U,"aria-label":e("Export Excel"),className:"group inline-flex items-center gap-2 px-3 py-2 rounded-full border border-[var(--panel-border)] bg-[var(--dropdown-bg)] hover:bg-[var(--dropdown-bg)]/80 shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400 dark:focus-visible:ring-emerald-300",children:[s.jsx(Yz,{className:"text-emerald-500"}),s.jsx("span",{className:"font-medium",children:e("Export Excel")})]})]})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.jsx("div",{className:"px-3 py-2 rounded-lg border bg-[var(--dropdown-bg)]",children:s.jsx("input",{value:o,onChange:T=>c(T.target.value),placeholder:e("Search by Campaign or Source"),className:"bg-transparent outline-none text-sm w-full"})})}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsx(hN,{startDate:r,endDate:i,onChange:({startDate:T,endDate:F})=>{n(T),l(F)}}),s.jsx("div",{className:"mt-3 px-3 py-2 rounded-lg border bg-[var(--dropdown-bg)]",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[s.jsxs("span",{className:"opacity-70",children:[e("Date Range"),":"]}),s.jsx("span",{className:"px-2 py-1 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100 border border-gray-200 dark:border-gray-600",children:r}),s.jsx("span",{className:"opacity-60",children:""}),s.jsx("span",{className:"px-2 py-1 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100 border border-gray-200 dark:border-gray-600",children:i})]})}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Monthly Summary")}),s.jsx("div",{className:"overflow-auto -mx-4",children:s.jsxs("table",{className:"w-full text-sm min-w-[1000px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left opacity-70",children:[s.jsx("th",{className:"px-4 py-2",children:e("Month")}),s.jsxs("th",{className:"px-4 py-2",children:[" ",e("Total Spend")]}),s.jsxs("th",{className:"px-4 py-2",children:[" ",e("Impressions")]}),s.jsxs("th",{className:"px-4 py-2",children:[e("Clicks")," / ",e("CTR")]}),s.jsx("th",{className:"px-4 py-2",children:e("Avg. CPC")}),s.jsx("th",{className:"px-4 py-2",children:e("Leads")}),s.jsx("th",{className:"px-4 py-2",children:e("Avg. CPL")}),s.jsx("th",{className:"px-4 py-2",children:e("Qualified Leads %")}),s.jsxs("th",{className:"px-4 py-2",children:[" ",e("Revenue")]}),s.jsx("th",{className:"px-4 py-2",children:e("ROI")})]})}),s.jsx("tbody",{children:s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-4 py-2 font-medium",children:d}),s.jsxs("td",{className:"px-4 py-2",children:[u.spend.toLocaleString()," EGP"]}),s.jsx("td",{className:"px-4 py-2",children:u.impressions.toLocaleString()}),s.jsxs("td",{className:"px-4 py-2",children:[u.clicks.toLocaleString()," / ",f.toFixed(1),"%"]}),s.jsxs("td",{className:"px-4 py-2",children:[p.toFixed(2)," EGP"]}),s.jsx("td",{className:"px-4 py-2",children:u.leads.toLocaleString()}),s.jsxs("td",{className:"px-4 py-2",children:[m.toFixed(2)," EGP"]}),s.jsxs("td",{className:"px-4 py-2",children:[u.qualifiedPct,"%"]}),s.jsxs("td",{className:"px-4 py-2",children:[u.revenue.toLocaleString()," EGP"]}),s.jsxs("td",{className:"px-4 py-2",children:[v.toFixed(1),"x"]})]})}),s.jsx("tfoot",{children:s.jsx("tr",{className:"border-t text-xs text-[var(--muted-text)]",children:s.jsxs("td",{className:"px-4 py-2",colSpan:10,children:[e("Month-over-Month"),": ",e("Spend")," ",u.spend>=g.spend?"":""," ",Math.abs(u.spend-g.spend)," EGP, ",e("Revenue")," ",u.revenue>=g.revenue?"":""," ",Math.abs(u.revenue-g.revenue)," EGP, ",e("Leads")," ",u.leads>=g.leads?"":""," ",Math.abs(u.leads-g.leads)]})})})]})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("section",{className:"glass-panel p-4 md:col-span-2",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Spend vs Revenue Trend")}),s.jsx("div",{style:{height:"280px"},children:s.jsx(lo,{data:k,options:S})}),s.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)]",children:e("November Weekly")})]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Leads by Platform")}),s.jsx("div",{style:{height:"280px"},children:s.jsx(Ir,{data:C,options:_})}),s.jsx("div",{className:"mt-3 text-xs text-[var(--muted-text)]",children:e("Platform Contribution")})]})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("Spend Distribution by Platform")}),s.jsx("div",{style:{height:"280px"},children:s.jsx(qz,{data:P,options:L})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("section",{className:"glass-panel p-4",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-2",children:[" ",e("Best Growth Area")]}),s.jsxs("div",{className:"text-sm",children:[e("Revenue growth vs last month"),": +",(u.revenue-g.revenue).toLocaleString()," EGP"]})]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-2",children:[" ",e("Needs Improvement")]}),s.jsxs("div",{className:"text-sm",children:[e("Optimize CPC and CTR on lower-performing platforms")," (",b[2].platform,")"]})]}),s.jsxs("section",{className:"glass-panel p-4",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-2",children:[" ",e("Recommendation")]}),s.jsxs("div",{className:"text-sm",children:[e("Increase budget for high-ROI platform"),": ",b[0].platform]})]})]})]})})}function p9({titleKey:e,descKey:t}){const{t:a}=Ct();return s.jsx(Ht,{titleKey:e,children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("p",{className:"text-gray-700 dark:text-gray-200 text-base",children:a(t)}),s.jsx("div",{className:"mt-6 text-gray-500 dark:text-gray-400 text-sm",children:a("Coming soon")})]})})}function sAe(){const{t:e,i18n:t}=Ct(),a=t.language==="ar",[r,n]=y.useState({name:"",email:"",phone:"",subject:"",message:""}),[i,l]=y.useState(!1),[o,c]=y.useState(""),[d,u]=y.useState("Cairo, Egypt"),[f,p]=y.useState(null),[m,v]=y.useState(14),[g,b]=y.useState(""),j=t.language==="en"?"We'd love to hear from you":"   ";y.useEffect(()=>{const P=localStorage.getItem("contact_map_query");P&&u(P)},[]),y.useEffect(()=>{localStorage.setItem("contact_map_query",d)},[d]);const N=f?`https://www.google.com/maps?q=${f.lat},${f.lng}&z=${m}&output=embed`:`https://www.google.com/maps?q=${encodeURIComponent(d)}&z=${m}&output=embed`,k=()=>{const P=f?`https://www.google.com/maps/search/?api=1&query=${f.lat},${f.lng}`:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(d)}`;window.open(P,"_blank")},S=async()=>{const P=f?`${f.lat},${f.lng}`:d;try{await navigator.clipboard.writeText(P),b(e("Location copied to clipboard"))}catch{b(e("Unable to copy to clipboard"))}},C=P=>{const{name:L,value:U}=P.target;n(z=>({...z,[L]:U}))},_=async P=>{P.preventDefault(),!i&&(c(""),l(!0),await new Promise(L=>setTimeout(L,1200)),l(!1),c(e("Your message has been sent successfully")),n({name:"",email:"",phone:"",subject:"",message:""}))};return s.jsx(Ht,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Contact us")}),s.jsx("section",{className:`card glass-card p-4 ${a?"text-right":"text-left"}`,children:s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:j})}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),o&&s.jsxs("div",{className:`card glass-card p-3 text-sm inline-flex items-center gap-2 ${a?"justify-end text-right":"justify-start text-left"}`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 text-green-600",children:s.jsx("path",{d:"M20 6L9 17l-5-5"})}),s.jsx("span",{children:o})]}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 items-stretch gap-6",children:[s.jsx("section",{className:"lg:col-span-2 card glass-card p-4 h-full",children:s.jsxs("form",{onSubmit:_,className:`space-y-4 ${a?"text-right":""}`,children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("label",{className:`text-xs text-[var(--muted-text)] inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[s.jsx("circle",{cx:"12",cy:"8",r:"3"}),s.jsx("path",{d:"M6 21v-2a6 6 0 0112 0v2"})]}),s.jsx("span",{children:e("Your Name")})]}),s.jsx("input",{name:"name",value:r.name,onChange:C,className:"input",placeholder:e("Enter your name"),required:!0})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("label",{className:`text-xs text-[var(--muted-text)] inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[s.jsx("rect",{x:"4",y:"6",width:"16",height:"12",rx:"2"}),s.jsx("path",{d:"M4 8l8 6 8-6"})]}),s.jsx("span",{children:e("Email")})]}),s.jsx("input",{type:"email",name:"email",value:r.email,onChange:C,className:"input",placeholder:e("Enter your email"),required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("label",{className:`text-xs text-[var(--muted-text)] inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M22 16.92v-3a2 2 0 00-2-2h-3l-2 3a16 16 0 01-7-7l3-2V4a2 2 0 00-2-2H3.08a2 2 0 00-2 2C1.08 13.91 10.09 22.92 22 22.92a2 2 0 002-2v-3z"})}),s.jsx("span",{children:e("Phone")})]}),s.jsx("input",{name:"phone",value:r.phone,onChange:C,className:"input",placeholder:e("Enter your phone")})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("label",{className:`text-xs text-[var(--muted-text)] inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M4 6h16M4 12h16M4 18h10"})}),s.jsx("span",{children:e("Subject")})]}),s.jsx("input",{name:"subject",value:r.subject,onChange:C,className:"input",placeholder:e("Subject of your message")})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("label",{className:`text-xs text-[var(--muted-text)] inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[s.jsx("path",{d:"M22 2L11 13"}),s.jsx("path",{d:"M22 2l-7 20-4-9-9-4 20-7z"})]}),s.jsx("span",{children:e("Message")})]}),s.jsx("textarea",{name:"message",value:r.message,onChange:C,className:"input min-h-[120px]",placeholder:e("Write your message here"),required:!0})]}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),s.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsxs("button",{type:"submit",className:`btn btn-primary inline-flex items-center gap-2 ${a?"flex-row-reverse":""}`,disabled:i,children:[i?s.jsx("span",{className:"inline-block w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[s.jsx("path",{d:"M22 2L11 13"}),s.jsx("path",{d:"M22 2l-7 20-4-9-9-4 20-7z"})]}),s.jsx("span",{children:e(i?"Sending...":"Send")})]}),s.jsx("button",{type:"button",className:"btn",onClick:()=>n({name:"",email:"",phone:"",subject:"",message:""}),children:e("Reset")})]})]})}),s.jsxs("section",{className:`card glass-card p-4 h-full ${a?"text-right":"text-left"}`,children:[s.jsx("div",{className:"text-base font-medium text-[var(--muted-text)] mb-2",children:a?" ":"Contact Methods"}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-4"})}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-4"})}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"group flex items-start gap-3 cm-item cm-anim delay-100 p-2",children:[s.jsx("span",{className:"text-blue-500",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110",children:[s.jsx("rect",{x:"4",y:"6",width:"16",height:"12",rx:"2"}),s.jsx("path",{d:"M4 8l8 6 8-6"})]})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Support Email")}),s.jsx("a",{href:"mailto:support@example.com",className:"text-base hover:underline",target:"_blank",rel:"noopener noreferrer",children:"support@example.com"})]})]}),s.jsxs("div",{className:"group flex items-start gap-3 cm-item cm-anim delay-200 p-2",children:[s.jsx("span",{className:"text-green-600",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110",children:s.jsx("path",{d:"M22 16.92v-3a2 2 0 00-2-2h-3l-2 3a16 16 0 01-7-7l3-2V4a2 2 0 00-2-2H3.08a2 2 0 00-2 2C1.08 13.91 10.09 22.92 22 22.92a2 2 0 002-2v-3z"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Phone")}),s.jsx("a",{href:"tel:+201000000000",className:"text-base hover:underline",children:"+20 10 000 0000"})]})]}),s.jsxs("div",{className:"group flex items-start gap-3 cm-item cm-anim delay-300 p-2",children:[s.jsx("span",{className:"text-green-500",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110",children:s.jsx("path",{d:"M6 12l4 4 8-8"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("WhatsApp")}),s.jsx("a",{href:"https://wa.me/201000000000",className:"text-base hover:underline",target:"_blank",rel:"noopener noreferrer",children:"+20 10 000 0000"})]})]}),s.jsxs("div",{className:"group flex items-start gap-3 cm-item cm-anim delay-400 p-2",children:[s.jsx("span",{className:"text-gray-600",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110",children:[s.jsx("path",{d:"M3 10l9-7 9 7"}),s.jsx("path",{d:"M5 10v9h14v-9"})]})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Address")}),s.jsx("a",{href:"https://www.google.com/maps/search/?api=1&query=Cairo%2C%20Egypt",className:"text-base hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Cairo, Egypt"})]})]}),s.jsxs("div",{className:"pt-2 sm:col-span-2 border-t border-gray-200 dark:border-gray-800",children:[s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),s.jsx("div",{className:"text-base font-medium text-[var(--muted-text)] mb-2",children:a?"":"Follow us"}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),s.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[s.jsx("a",{href:"#","aria-label":"Facebook",className:"inline-flex p-2 rounded-md hover:bg-white/10",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-4 h-4",children:s.jsx("path",{d:"M22 12a10 10 0 10-11.5 9.9v-7h-2v-3h2V9.5a3 3 0 013-3h3v3h-2a1 1 0 00-1 1V12h3l-.5 3h-2.5v7A10 10 0 0022 12z"})})}),s.jsx("a",{href:"#","aria-label":"Twitter",className:"inline-flex p-2 rounded-md hover:bg-white/10",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-4 h-4",children:s.jsx("path",{d:"M22 5.9a8.2 8.2 0 01-2.3.6 4 4 0 001.8-2.2 8.3 8.3 0 01-2.6 1 4 4 0 00-6.9 3.6A11.3 11.3 0 013 5.2a4 4 0 001.2 5.3 4 4 0 01-1.8-.5v.1a4 4 0 003.2 3.9 4 4 0 01-1.8.1 4 4 0 003.7 2.8A8.1 8.1 0 012 18.6 11.4 11.4 0 008.1 20c7.4 0 11.5-6.1 11.5-11.5v-.5A8.1 8.1 0 0022 5.9z"})})}),s.jsx("a",{href:"#","aria-label":"LinkedIn",className:"inline-flex p-2 rounded-md hover:bg-white/10",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-4 h-4",children:s.jsx("path",{d:"M4 3a2 2 0 110 4 2 2 0 010-4zm0 6h4v12H4V9zm6 0h4v2.5h.1a4.4 4.4 0 013.9-2.2c4.1 0 4.8 2.7 4.8 6.2V21h-4v-5.2c0-1.3 0-3-1.8-3s-2.2 1.4-2.2 2.9V21h-4V9z"})})}),s.jsx("a",{href:"#","aria-label":"WhatsApp",className:"inline-flex p-2 rounded-md hover:bg-white/10",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-4 h-4",children:s.jsx("path",{d:"M12 2a10 10 0 00-8.7 14.9L2 22l5.3-1.3A10 10 0 1012 2zm5.6 14.3c-.2.6-1.2 1.1-1.7 1.2-.4.1-.9.1-1.5-.1-1.5-.5-3.3-1.4-4.7-2.8-1.3-1.3-2.3-3.1-2.8-4.7-.2-.6-.2-1.1-.1-1.5.1-.5.6-1.5 1.2-1.7.3-.1.7-.1 1 .1.4.2.9.7 1 1.1l.2.4c.3.6.1.9-.2 1.3l-.3.3c-.1.1-.2.3-.1.5.1.4.6 1.3 1.4 2.1.8.8 1.7 1.3 2.1 1.4.2.1.4 0 .5-.1l.3-.3c.4-.3.7-.5 1.3-.2l.4.2c.4.1.9.6 1.1 1 .2.3.2.7.1 1z"})})})]})]})]})]})]}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})}),s.jsxs("section",{className:"card glass-card p-4",children:[s.jsxs("div",{className:`flex items-center justify-between gap-3 ${a?"flex-row-reverse":""}`,children:[s.jsx("h2",{className:"text-lg font-semibold",children:e("Our Location")}),s.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsx("button",{type:"button",className:`btn ${a?"flex-row-reverse":""}`,onClick:k,children:e("Open in Maps")}),s.jsx("button",{type:"button",className:`btn ${a?"flex-row-reverse":""}`,onClick:S,children:e("Copy")})]})]}),s.jsxs("div",{className:`mt-3 flex items-center gap-3 ${a?"flex-row-reverse":""}`,children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Zoom")}),s.jsx("input",{type:"range",min:"3",max:"20",value:m,onChange:P=>v(Number(P.target.value))})]}),g&&s.jsx("div",{className:`mt-2 text-xs text-[var(--muted-text)] ${a?"text-right":"text-left"}`,children:g}),s.jsx("div",{className:"mt-3 rounded-lg overflow-hidden",children:s.jsx("iframe",{title:"map",src:N,className:"w-full h-64 rounded-lg border border-gray-200 dark:border-gray-800",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]}),s.jsx("div",{className:"spacer-row w-full",children:s.jsx("div",{className:"h-2"})})]})})}function rAe(){const e=Ys();return s.jsxs("div",{className:"relative min-h-screen flex flex-col pb-20 sm:pb-24 bg-[linear-gradient(120deg,_#f0f4ff,_#e8f7ff_30%,_#fff6f0_60%,_#f0faff_90%)] dark:bg-[linear-gradient(120deg,_#0b1220,_#101828_30%,_#1b2433_60%,_#0f172a_90%)]",children:[s.jsx(sh.header,{className:"w-full bg-white/20 dark:bg-gray-800/25 backdrop-blur-md border-b border-white/30 dark:border-gray-600 shadow",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:s.jsxs("div",{className:"flex justify-between items-center w-full max-w-6xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:Tm,alt:"Be Souhola",className:"w-16 h-16 sm:w-20 sm:h-20 drop-shadow-lg"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs sm:text-sm text-white/90 drop-shadow-md",children:"Make everything ....."}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-white via-sky-100 to-cyan-200 text-transparent bg-clip-text drop-shadow-lg",children:"Be Souhola"})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("nav",{className:"hidden sm:flex items-center gap-4 text-white/90",children:[s.jsx(Bt,{to:"/",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Home"}),s.jsx(Bt,{to:"/about",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"About"}),s.jsx(Bt,{to:"/welcome/contact",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Contact"}),s.jsx(Bt,{to:"/pricing",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Pricing"})]}),s.jsx("button",{onClick:()=>e("/login"),className:"px-8 py-3 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow-lg transition-all duration-200 hover:bg-white/40 hover:scale-105 hover:shadow-2xl hover:ring-2 hover:ring-white/40",children:"LOGIN "})]})]})}),s.jsx("main",{className:"flex-1 w-full",children:s.jsxs("div",{className:"mx-auto max-w-3xl px-6 sm:px-10 mt-8 sm:mt-12",children:[s.jsx("div",{className:"flex justify-end mb-3 sm:mb-4",children:s.jsx(os,{to:"/",className:"text-xs sm:text-sm text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Back to Welcome "})}),s.jsxs("div",{className:"bg-white/30 dark:bg-gray-800/40 rounded-3xl p-5 sm:p-6 border border-gray-200/60 dark:border-gray-700/60 shadow-lg",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-3 sm:mb-4",children:"Privacy Policy"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"We respect your privacy and are committed to protecting your personal data. This policy explains how we collect, use, and process information when you use our services."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Information We Collect"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"We may collect basic identifying information such as name, email, and phone number, along with service usage data to improve performance and provide better support."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"How We Use Information"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"We use your data to provide core features, enhance your experience, communicate updates and support, and comply with legal requirements."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Data Sharing"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"Your data is not shared with third parties except when legally required, with your explicit consent, or to deliver a complete service through trusted providers."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Your Rights"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"You have the right to access, correct, and request deletion of your personal data. You can contact us to exercise these rights at any time."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Contact Us"}),s.jsx("p",{className:"text-sm sm:text-base",children:"For privacy-related inquiries, please reach out through the Contact page."})]})]})}),s.jsx("footer",{className:"fixed bottom-0 left-0 w-full border-t border-gray-200/60 dark:border-gray-700/60 bg-white/70 dark:bg-gray-900/40 backdrop-blur-md",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-6 sm:px-10 py-2 sm:py-3 flex items-center justify-between text-xs sm:text-sm",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" 2024 Be Souhola"}),s.jsxs("nav",{className:"flex items-center gap-4",children:[s.jsx(os,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Privacy"}),s.jsx(os,{to:"/terms",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Terms"}),s.jsx(os,{to:"/welcome/contact",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Contact"})]})]})})]})}function nAe(){const e=Ys();return s.jsxs("div",{className:"relative min-h-screen flex flex-col pb-20 sm:pb-24 bg-[linear-gradient(120deg,_#f0f4ff,_#e8f7ff_30%,_#fff6f0_60%,_#f0faff_90%)] dark:bg-[linear-gradient(120deg,_#0b1220,_#101828_30%,_#1b2433_60%,_#0f172a_90%)]",children:[s.jsx(sh.header,{className:"w-full bg-white/20 dark:bg-gray-800/25 backdrop-blur-md border-b border-white/30 dark:border-gray-600 shadow",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:s.jsxs("div",{className:"flex justify-between items-center w-full max-w-6xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:Tm,alt:"Be Souhola",className:"w-16 h-16 sm:w-20 sm:h-20 drop-shadow-lg"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs sm:text-sm text-white/90 drop-shadow-md",children:"Make everything ....."}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-white via-sky-100 to-cyan-200 text-transparent bg-clip-text drop-shadow-lg",children:"Be Souhola"})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("nav",{className:"hidden sm:flex items-center gap-4 text-white/90",children:[s.jsx(Bt,{to:"/",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Home"}),s.jsx(Bt,{to:"/about",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"About"}),s.jsx(Bt,{to:"/welcome/contact",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Contact"}),s.jsx(Bt,{to:"/pricing",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Pricing"})]}),s.jsx("button",{onClick:()=>e("/login"),className:"px-8 py-3 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow-lg transition-all duration-200 hover:bg-white/40 hover:scale-105 hover:shadow-2xl hover:ring-2 hover:ring-white/40",children:"LOGIN "})]})]})}),s.jsx("main",{className:"flex-1 w-full",children:s.jsxs("div",{className:"mx-auto max-w-3xl px-6 sm:px-10 mt-8 sm:mt-12",children:[s.jsx("div",{className:"flex justify-end mb-3 sm:mb-4",children:s.jsx(os,{to:"/",className:"text-xs sm:text-sm text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Back to Welcome "})}),s.jsxs("div",{className:"bg-white/30 dark:bg-gray-800/40 rounded-3xl p-5 sm:p-6 border border-gray-200/60 dark:border-gray-700/60 shadow-lg",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-3 sm:mb-4",children:"Terms & Conditions"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"These Terms & Conditions define the rules for using the service and your rights and responsibilities. By using the service, you agree to be bound by these terms."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Use of Service"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"You must use the service lawfully and refrain from any activity that may negatively affect performance or put user data at risk."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Accounts & Responsibility"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"You are responsible for keeping your login credentials confidential and for all activities that occur under your account."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Updates & Changes"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"We may update these terms from time to time. Continuing to use the service after any update constitutes acceptance of the modified terms."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Termination"}),s.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:"We reserve the right to suspend or terminate access to the service upon violation of the terms or misuse."}),s.jsx("h3",{className:"text-xl font-semibold mt-5 mb-2",children:"Contact"}),s.jsx("p",{className:"text-sm sm:text-base",children:"For any inquiries regarding these terms, please contact us via the Contact page."})]})]})}),s.jsx("footer",{className:"fixed bottom-0 left-0 w-full border-t border-gray-200/60 dark:border-gray-700/60 bg-white/70 dark:bg-gray-900/40 backdrop-blur-md",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-6 sm:px-10 py-2 sm:py-3 flex items-center justify-between text-xs sm:text-sm",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" 2024 Be Souhola"}),s.jsxs("nav",{className:"flex items-center gap-4",children:[s.jsx(os,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Privacy"}),s.jsx(os,{to:"/terms",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Terms"}),s.jsx(os,{to:"/welcome/contact",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Contact"})]})]})})]})}function iAe(){const e=t=>{t.preventDefault(),alert("Your message has been sent successfully (Welcome Contact)")};return s.jsxs("div",{className:"relative min-h-screen flex flex-col pb-20 sm:pb-24 bg-gradient-to-br from-cyan-200 via-sky-300 to-indigo-200 dark:from-gray-900 dark:via-indigo-900 dark:to-purple-900",children:[s.jsx(sh.header,{className:"w-full bg-white/20 dark:bg-gray-800/25 backdrop-blur-md border-b border-white/30 dark:border-gray-600 shadow",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:s.jsxs("div",{className:"flex justify-between items-center w-full max-w-6xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:Tm,alt:"Be Souhola",className:"w-16 h-16 sm:w-20 sm:h-20 drop-shadow-lg"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs sm:text-sm text-white/90 drop-shadow-md",children:"Make everything ....."}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-white via-sky-100 to-cyan-200 text-transparent bg-clip-text drop-shadow-lg",children:"Be Souhola"})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("nav",{className:"hidden sm:flex items-center gap-4 text-white/90",children:[s.jsx(Bt,{to:"/",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Home"}),s.jsx(Bt,{to:"/about",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"About"}),s.jsx(Bt,{to:"/welcome/contact",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Contact"}),s.jsx(Bt,{to:"/pricing",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Pricing"})]}),s.jsx(os,{to:"/login",className:"px-8 py-3 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow-lg hover:bg-white/40 transition-all",children:"LOGIN "})]})]})}),s.jsxs("main",{className:"flex-1 w-full max-w-3xl mx-auto px-6 sm:px-10 mt-8 sm:mt-12",children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsx(os,{to:"/",className:"px-6 py-2 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow hover:bg-white/40 transition-all",children:"Back to Welcome "})}),s.jsxs("div",{className:"bg-white/30 dark:bg-gray-800/30 backdrop-blur-md rounded-3xl p-5 sm:p-6 border border-white/40 dark:border-gray-700 shadow",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white/90 mb-4 text-center",children:"contact us"}),s.jsxs("form",{onSubmit:e,className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Name"}),s.jsx("input",{type:"text",required:!0,className:"w-full rounded-xl bg-white/60 dark:bg-gray-900/40 border border-white/40 dark:border-gray-700 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Email"}),s.jsx("input",{type:"email",required:!0,className:"w-full rounded-xl bg-white/60 dark:bg-gray-900/40 border border-white/40 dark:border-gray-700 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Phone"}),s.jsx("input",{type:"tel",className:"w-full rounded-xl bg-white/60 dark:bg-gray-900/40 border border-white/40 dark:border-gray-700 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Subject"}),s.jsx("input",{type:"text",className:"w-full rounded-xl bg-white/60 dark:bg-gray-900/40 border border-white/40 dark:border-gray-700 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Message"}),s.jsx("textarea",{rows:5,required:!0,className:"w-full rounded-xl bg-white/60 dark:bg-gray-900/40 border border-white/40 dark:border-gray-700 px-3 py-2 text-gray-900 dark:text-gray-100"})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"submit",className:"px-6 py-2 rounded-full bg-white text-indigo-700 dark:bg-indigo-600 dark:text-white font-semibold shadow hover:bg-white/90 dark:hover:bg-indigo-700 transition-all",children:"Send"})})]})]})]}),s.jsx("footer",{className:"fixed bottom-0 left-0 w-full border-t border-gray-200/60 dark:border-gray-700/60 bg-white/70 dark:bg-gray-900/40 backdrop-blur-md",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-6 sm:px-10 py-2 sm:py-3 flex items-center justify-between text-xs sm:text-sm",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" 2024 Be Souhola"}),s.jsxs("nav",{className:"flex items-center gap-4",children:[s.jsx(os,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Privacy"}),s.jsx(os,{to:"/terms",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Terms"}),s.jsx(os,{to:"/welcome/contact",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Contact"})]})]})})]})}function lAe(){const e=Ys();return s.jsxs("div",{className:"relative min-h-screen flex flex-col pb-20 sm:pb-24 bg-gradient-to-br from-cyan-200 via-sky-300 to-indigo-200 dark:from-gray-900 dark:via-indigo-900 dark:to-purple-900",children:[s.jsx(sh.header,{className:"w-full bg-white/20 dark:bg-gray-800/25 backdrop-blur-md border-b border-white/30 dark:border-gray-600 shadow",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:s.jsxs("div",{className:"flex justify-between items-center w-full max-w-6xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:Tm,alt:"Be Souhola",className:"w-16 h-16 sm:w-20 sm:h-20 drop-shadow-lg"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs sm:text-sm text-white/90 drop-shadow-md",children:"Make everything ....."}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-white via-sky-100 to-cyan-200 text-transparent bg-clip-text drop-shadow-lg",children:"Be Souhola"})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("nav",{className:"hidden sm:flex items-center gap-4 text-white/90",children:[s.jsx(Bt,{to:"/",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Home"}),s.jsx(Bt,{to:"/about",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"About"}),s.jsx(Bt,{to:"/welcome/contact",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Contact"}),s.jsx(Bt,{to:"/pricing",className:({isActive:t})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${t?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Pricing"})]}),s.jsx("button",{onClick:()=>e("/login"),className:"px-8 py-3 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow-lg transition-all duration-200 hover:bg-white/40 hover:scale-105 hover:shadow-2xl hover:ring-2 hover:ring-white/40",children:"LOGIN "})]})]})}),s.jsx("main",{className:"flex-1 w-full",children:s.jsxs("div",{className:"mx-auto max-w-3xl px-6 sm:px-10 mt-8 sm:mt-12",children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsx(os,{to:"/",className:"px-6 py-2 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow hover:bg-white/40 transition-all",children:"Back to Welcome "})}),s.jsxs("div",{className:"bg-white/30 dark:bg-gray-800/30 backdrop-blur-md rounded-3xl p-5 sm:p-6 border border-white/40 dark:border-gray-700 shadow",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white/90 mb-4 text-center",children:"About"}),s.jsx("p",{className:"text-sm sm:text-base text-white/90",children:"Be Souhola is a modern CRM designed to streamline client management, leads tracking, marketing campaigns, and analytics. Our mission is to make everything simpler and more efficient for teams."}),s.jsx("p",{className:"mt-3 text-sm sm:text-base text-white/90",children:"This project brings together powerful modules like Dashboard, Inventory, Projects, Reports, and Settings, all crafted for a smooth daily workflow."})]})]})}),s.jsx("footer",{className:"fixed bottom-0 left-0 w-full border-t border-gray-200/60 dark:border-gray-700/60 bg-white/70 dark:bg-gray-900/40 backdrop-blur-md",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-6 sm:px-10 py-2 sm:py-3 flex items-center justify-between text-xs sm:text-sm",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" 2024 Be Souhola"}),s.jsxs("nav",{className:"flex items-center gap-4",children:[s.jsx(os,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Privacy"}),s.jsx(os,{to:"/terms",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Terms"}),s.jsx(os,{to:"/welcome/contact",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Contact"})]})]})})]})}function oAe(){const{t:e,i18n:t}=Ct(),a=t.language==="ar",r=Ys(),[n,i]=y.useState("general"),[l,o]=y.useState(!1),[c,d]=y.useState(""),[u,f]=y.useState({title:"",channel:"",project:"",description:"",targetUrl:"",media:[],headerScript:"",bodyScript:"",enableTracking:!0}),p=b=>{const{name:j,value:N,type:k,checked:S}=b.target;f(C=>({...C,[j]:k==="checkbox"?S:N}))},m=b=>{const j=Array.from(b.target.files||[]);f(N=>({...N,media:j}))},v=()=>r("/marketing/landing-pages"),g=async()=>{l||(o(!0),d(""),await new Promise(b=>setTimeout(b,1e3)),o(!1),d(e("Saved successfully")),setTimeout(()=>r("/marketing/landing-pages"),900))};return s.jsx(Ht,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Add Landing Page")}),c&&s.jsx("div",{className:`card glass-card p-3 text-sm ${a?"text-right":"text-left"}`,children:c}),s.jsxs("section",{className:`card glass-card p-0 ${a?"text-right":"text-left"}`,children:[s.jsx("div",{className:"flex items-center gap-2 px-4 pt-4",children:["general","description","media","script"].map(b=>s.jsxs("button",{className:`btn !px-3 !py-1 text-sm ${n===b?"btn-primary":""}`,onClick:()=>i(b),children:[b==="general"&&e("General"),b==="description"&&e("Description"),b==="media"&&e("Media"),b==="script"&&e("Script")]},b))}),s.jsxs("div",{className:"p-4",children:[n==="general"&&s.jsxs("div",{className:`grid grid-cols-1 sm:grid-cols-2 gap-4 ${a?"text-right":""}`,children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Title")}),s.jsx("input",{name:"title",value:u.title,onChange:p,className:"input",placeholder:e("Enter title")})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Channel")}),s.jsxs("select",{name:"channel",value:u.channel,onChange:p,className:"select",children:[s.jsx("option",{value:"",children:e("Select Channel")}),s.jsx("option",{value:"Meta",children:"Meta (Facebook/Instagram)"}),s.jsx("option",{value:"Google Ads",children:"Google Ads"}),s.jsx("option",{value:"TikTok Ads",children:"TikTok Ads"}),s.jsx("option",{value:"Twitter/X",children:"Twitter / X"}),s.jsx("option",{value:"LinkedIn",children:"LinkedIn"}),s.jsx("option",{value:"Manual",children:"Manual"})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Project")}),s.jsxs("select",{name:"project",value:u.project,onChange:p,className:"select",children:[s.jsx("option",{value:"",children:e("Select Project")}),s.jsx("option",{value:"Cairo Downtown",children:"Cairo Downtown"}),s.jsx("option",{value:"New Capital",children:"New Capital"}),s.jsx("option",{value:"Project A",children:"Project A"}),s.jsx("option",{value:"Project B",children:"Project B"})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Target URL")}),s.jsx("input",{name:"targetUrl",value:u.targetUrl,onChange:p,className:"input",placeholder:"https://example.com/landing"})]})]}),n==="description"&&s.jsx("div",{className:"grid grid-cols-1 gap-3",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Short Description")}),s.jsx("textarea",{name:"description",value:u.description,onChange:p,className:"input min-h-[140px]",placeholder:e("Short Description")})]})}),n==="media"&&s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Upload Media")}),s.jsx("input",{type:"file",multiple:!0,onChange:m,className:"input",accept:"image/*,video/*"})]}),u.media.length>0&&s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:u.media.map((b,j)=>s.jsxs("div",{className:"card glass-card p-3 text-sm",children:[s.jsx("div",{className:"font-medium truncate",children:b.name}),s.jsxs("div",{className:"text-[var(--muted-text)]",children:[(b.size/1024).toFixed(1)," KB"]})]},j))})]}),n==="script"&&s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"enableTracking",type:"checkbox",name:"enableTracking",checked:u.enableTracking,onChange:p}),s.jsx("label",{htmlFor:"enableTracking",className:"text-sm",children:"Meta Pixel / GTM"})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Header Script")}),s.jsx("textarea",{name:"headerScript",value:u.headerScript,onChange:p,className:"input min-h-[120px]",placeholder:"<!-- scripts in <head> -->"})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:e("Body Script")}),s.jsx("textarea",{name:"bodyScript",value:u.bodyScript,onChange:p,className:"input min-h-[120px]",placeholder:"<!-- scripts before </body> -->"})]})]}),s.jsxs("div",{className:`mt-4 flex items-center gap-2 ${a?"flex-row-reverse":""}`,children:[s.jsx("button",{type:"button",className:"btn",onClick:v,children:e("Cancel")}),s.jsxs("button",{type:"button",className:"btn btn-primary inline-flex items-center gap-2",onClick:g,disabled:l,children:[l?s.jsx("span",{className:"inline-block w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:s.jsx("path",{d:"M12 5v14M5 12h14"})}),s.jsx("span",{children:e(l?"Saving...":"Create")})]})]})]})]})]})})}function cAe({isOpen:e,onClose:t,onSave:a}){const{t:r,i18n:n}=Ct(),i=(n?.language||"").toLowerCase().startsWith("ar"),[l,o]=y.useState(""),[c,d]=y.useState(""),[u,f]=y.useState(""),[p,m]=y.useState(""),[v,g]=y.useState(""),[b,j]=y.useState(""),[N,k]=y.useState("medium"),[S,C]=y.useState(""),[_,P]=y.useState(null),[L,U]=y.useState("Follow-up"),[z,T]=y.useState("Admin"),[F,M]=y.useState(""),[I,W]=y.useState(""),[R,q]=y.useState(""),[ae,te]=y.useState(0),[K,oe]=y.useState(""),[D,G]=y.useState("none"),H=y.useMemo(()=>["Ibrahim","Ahmed M","Semik L","Casad","Admin"],[]),X=y.useMemo(()=>["Team A","Team B","Support","Sales","Admin","Ibrahim","Ahmed"],[]),se=y.useMemo(()=>["Lead","Deal","Contact","Opportunity","Ticket","Project"],[]),ie=y.useMemo(()=>["Call","Meeting","Email","Follow-up","Internal","Delivery","Support"],[]),ne=y.useMemo(()=>[{value:"",label:i?"":"None"},{value:"5m",label:i?" 5 ":"5 minutes before"},{value:"15m",label:i?" 15 ":"15 minutes before"},{value:"1h",label:i?" ":"1 hour before"},{value:"1d",label:i?" ":"1 day before"}],[i]),J=y.useMemo(()=>[{value:"none",label:i?"":"None"},{value:"daily",label:i?"":"Daily"},{value:"weekly",label:i?"":"Weekly"},{value:"monthly",label:i?"":"Monthly"}],[i]);if(!e)return null;const le=()=>{if(!l.trim()){C(i?" ":"Title is required");return}const Q={title:l.trim(),description:c.trim(),salesman:u,assignedTo:p,due:v,endDate:v,startDate:b,priority:N,attachment:_,taskType:L,createdBy:z,relatedType:F,relatedRef:I,tags:R.split(",").map(xe=>xe.trim()).filter(Boolean),progress:ae,reminderBefore:K,recurring:D};a?.(Q),o(""),d(""),f(""),m(""),g(""),j(""),k("medium"),P(null),U("Follow-up"),T("Admin"),M(""),W(""),q(""),te(0),oe(""),G("none"),C("")},pe=Q=>{const xe=Q.target.files?.[0];if(!xe){P(null);return}const he=URL.createObjectURL(xe);P({name:xe.name,size:xe.size,type:xe.type,url:he})};return s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),s.jsxs("div",{className:"relative w-full sm:w-[90%] sm:max-w-2xl sm:max-h-[90vh] overflow-y-auto bg-[var(--content-bg)] text-[var(--content-text)] border shadow-xl rounded-none sm:rounded-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold",children:i?" ":"New Task"}),s.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-[var(--table-row-hover)]","aria-label":i?"":"Close",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:s.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),s.jsxs("div",{className:"px-6 py-5 space-y-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?"":"Title"}),s.jsx("input",{value:l,onChange:Q=>o(Q.target.value),placeholder:i?"":"Title",className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?"":"Description"}),s.jsx("textarea",{value:c,onChange:Q=>d(Q.target.value),placeholder:i?"":"Description",className:"w-full min-h-28 px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] resize-y"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Select sales"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:u,onChange:Q=>f(Q.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:[s.jsx("option",{value:"",children:i?" ":"Select a salesman"}),H.map(Q=>s.jsx("option",{value:Q,children:Q},Q))]}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Assigned To"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:p,onChange:Q=>m(Q.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:[s.jsx("option",{value:"",children:i?" /":"Select person/team"}),X.map(Q=>s.jsx("option",{value:Q,children:Q},Q))]}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?"":"Priority"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:N,onChange:Q=>k(Q.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:[s.jsx("option",{value:"low",children:i?"":"Low"}),s.jsx("option",{value:"medium",children:i?"":"Medium"}),s.jsx("option",{value:"high",children:i?"":"High"})]}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Start date"}),s.jsx("input",{type:"date",value:b,onChange:Q=>j(Q.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Due date"}),s.jsx("input",{type:"date",value:v,onChange:Q=>g(Q.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Attached File"}),s.jsx("input",{type:"file",onChange:pe,className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"}),_?s.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs bg-[var(--dropdown-bg)] border rounded-md px-3 py-2",children:[s.jsxs("div",{className:"flex items-center gap-2 truncate",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M21.44 11.05l-9.9 9.9a5.5 5.5 0 01-7.78-7.78l9.9-9.9a3.5 3.5 0 015 5l-9.2 9.2a1.5 1.5 0 01-2.12-2.12l8.49-8.49"})}),s.jsx("a",{href:_.url,target:"_blank",rel:"noreferrer",className:"truncate hover:underline",children:_.name})]}),s.jsx("button",{type:"button",onClick:()=>P(null),className:"px-2 py-1 rounded-md border bg-[var(--table-row-hover)]",children:i?"":"Remove"})]}):null]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Task type"}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{value:L,onChange:Q=>U(Q.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:ie.map(Q=>s.jsx("option",{value:Q,children:Q},Q))}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Related to"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:F,onChange:Q=>M(Q.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:[s.jsx("option",{value:"",children:i?" ":"Select entity"}),se.map(Q=>s.jsx("option",{value:Q,children:Q},Q))]}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?"/":"Reference/ID"}),s.jsx("input",{value:I,onChange:Q=>W(Q.target.value),placeholder:i?": LEAD-102":"e.g., LEAD-102",className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Created by"}),s.jsx("input",{value:z,onChange:Q=>T(Q.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?"/":"Tags/Labels"}),s.jsx("input",{value:R,onChange:Q=>q(Q.target.value),placeholder:i?"   ":"Comma-separated tags",className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)]"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Progress %"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"range",min:0,max:100,value:ae,onChange:Q=>te(Number(Q.target.value)),className:"flex-1"}),s.jsxs("span",{className:"text-sm w-12 text-right",children:[ae,"%"]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?"":"Reminder"}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{value:K,onChange:Q=>oe(Q.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:ne.map(Q=>s.jsx("option",{value:Q.value,children:Q.label},Q.value))}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm opacity-80",children:i?" ":"Recurring"}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{value:D,onChange:Q=>G(Q.target.value),className:"w-full px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] appearance-none pr-8",children:J.map(Q=>s.jsx("option",{value:Q.value,children:Q.label},Q.value))}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 opacity-70 pointer-events-none",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),S&&s.jsx("div",{className:"text-red-500 text-sm",children:S})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t",children:[s.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm",children:i?"":"Cancel"}),s.jsx("button",{onClick:le,className:"px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-500 text-white text-sm",children:i?" ":"New Task"})]})]})]})}function dAe({isOpen:e,onClose:t,task:a}){const{i18n:r}=Ct(),n=(r?.language||"").toLowerCase().startsWith("ar");if(!e||!a)return null;const i={title:n?"":"Title",description:n?"":"Description",assigned:n?"":"Assigned",status:n?"":"Status",due:n?" ":"Due",start:n?" ":"Start",salesman:n?"":"Salesman",priority:n?"":"Priority",attachment:n?" ":"Attached File",createdBy:n?" ":"Created By",taskType:n?" ":"Task Type",relatedTo:n?" ":"Related To",reference:n?"/":"Reference",tags:n?"":"Tags",progress:n?" ":"Progress %",reminder:n?"":"Reminder",recurring:n?"":"Recurring",details:n?" ":"Task Details",close:n?"":"Close"};return s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-stretch sm:items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),s.jsxs("div",{className:"relative w-full h-screen sm:w-[90%] sm:max-w-2xl sm:max-h-[90vh] sm:h-auto bg-[var(--content-bg)] text-[var(--content-text)] border shadow-xl rounded-none sm:rounded-2xl flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 py-3 sm:py-4 border-b sticky top-0 bg-[var(--content-bg)] z-10",children:[s.jsx("h2",{className:"text-xl font-semibold",children:i.details}),s.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-[var(--table-row-hover)]","aria-label":i.close,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:s.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 py-4 sm:py-5 space-y-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.title}),s.jsx("div",{className:"text-base font-medium",children:a.name})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.description}),s.jsx("div",{className:"text-sm whitespace-pre-wrap",children:a.sub||""})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.assigned}),s.jsx("div",{className:"text-sm",children:a.assignee||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.salesman}),s.jsx("div",{className:"text-sm",children:a.salesman||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.status}),s.jsx("div",{className:"text-sm",children:a.status||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.priority}),s.jsx("div",{className:"text-sm",children:a.priority||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.due}),s.jsx("div",{className:"text-sm",children:a.due||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.start}),s.jsx("div",{className:"text-sm",children:a.startDate||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.createdBy}),s.jsx("div",{className:"text-sm",children:a.createdBy||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.taskType}),s.jsx("div",{className:"text-sm",children:a.taskType||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.relatedTo}),s.jsx("div",{className:"text-sm",children:a.relatedType||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.reference}),s.jsx("div",{className:"text-sm",children:a.relatedRef||""})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("div",{className:"text-xs opacity-70",children:i.tags}),s.jsx("div",{className:"text-sm",children:a.tags&&a.tags.length>0?a.tags.join(", "):""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.progress}),s.jsx("div",{className:"text-sm",children:typeof a.progress=="number"?`${a.progress}%`:""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.reminder}),s.jsx("div",{className:"text-sm",children:a.reminderBefore||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs opacity-70",children:i.recurring}),s.jsx("div",{className:"text-sm",children:a.recurring||""})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("div",{className:"text-xs opacity-70",children:i.attachment}),a.attachment?s.jsxs("div",{className:"mt-1 inline-flex items-center gap-2 px-2 py-1 rounded-md border bg-[var(--dropdown-bg)] text-xs",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M21.44 11.05l-9.9 9.9a5.5 5.5 0 01-7.78-7.78l9.9-9.9a3.5 3.5 0 015 5l-9.2 9.2a1.5 1.5 0 01-2.12-2.12l8.49-8.49"})}),s.jsx("a",{href:a.attachment.url,target:"_blank",rel:"noreferrer",className:"hover:underline",children:a.attachment.name})]}):s.jsx("div",{className:"text-sm",children:""})]})]})]}),s.jsx("div",{className:"flex items-center justify-end gap-3 px-4 sm:px-6 py-3 sm:py-4 border-t bg-[var(--content-bg)]",children:s.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm",children:i.close})})]})]})}function f2({label:e,active:t,onClick:a,tone:r="default",count:n}){const i="inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium border transition-colors",l={default:"bg-[var(--dropdown-bg)] text-[var(--content-text)] border-[var(--divider)] hover:bg-[var(--table-row-hover)]",green:"bg-emerald-900/20 text-emerald-300 border-emerald-600/40 hover:bg-emerald-900/30",red:"bg-red-900/20 text-red-300 border-red-600/40 hover:bg-red-900/30",yellow:"bg-yellow-900/20 text-yellow-300 border-yellow-600/40 hover:bg-yellow-900/30",blue:"bg-sky-900/20 text-sky-300 border-sky-600/40 hover:bg-sky-900/30"},o=t?" ring-2 ring-indigo-500/40":"";return s.jsxs("button",{type:"button",onClick:a,className:`${i} ${l[r]}${o}`,children:[s.jsx("span",{className:"w-2 h-2 rounded-full",style:{background:r==="green"?"#10b981":r==="red"?"#ef4444":r==="yellow"?"#f59e0b":r==="blue"?"#0ea5e9":"var(--muted-text)"}}),e,typeof n=="number"?s.jsx("span",{className:"px-1.5 py-0.5 rounded border border-current text-[10px] opacity-80",children:n}):null]})}function m2({label:e,tone:t="yellow"}){const a={yellow:"bg-yellow-500/20 text-yellow-300 border-yellow-500/40",blue:"bg-sky-500/20 text-sky-300 border-sky-500/40",green:"bg-emerald-500/20 text-emerald-300 border-emerald-500/40",red:"bg-red-500/20 text-red-300 border-red-500/40"};return s.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs border ${a[t]}`,children:e})}function uAe(){const{t:e,i18n:t}=Ct(),a=(t?.language||"").toLowerCase().startsWith("ar"),[r,n]=y.useState(""),[i,l]=y.useState({status:{PENDING:!0,ACCEPTING:!0,FINISHED:!0,CANCELLED:!1}}),[o,c]=y.useState(!1),[d,u]=y.useState({search:"",createdAt:"",endDate:"",salesman:"",assignedTo:"",relatedType:"",status:"",priority:"",createdBy:"",useCreatedAt:!1,useEndDate:!1,overdueOnly:!1}),f=(xe,he)=>u(ue=>({...ue,[xe]:he})),p=()=>u({search:"",createdAt:"",endDate:"",salesman:"",assignedTo:"",relatedType:"",status:"",priority:"",createdBy:"",useCreatedAt:!1,useEndDate:!1,overdueOnly:!1}),m=(xe,he)=>l(ue=>({...ue,[xe]:{...ue[xe],[he]:!ue[xe][he]}})),v=y.useMemo(()=>[{id:101,name:"Initial Setup",sub:"Project structure and configs",assignee:"Ibrahim",state1:"Phase 1",state2:"Init",due:"Today",salesman:"Ibrahim",priority:"high",status:"PENDING"},{id:102,name:"Client Meeting",sub:"Requirements alignment",assignee:"Ahmed",state1:"Phase 2",state2:"Discuss",due:"Tomorrow",salesman:"Ahmed",priority:"medium",status:"PENDING"},{id:103,name:"Content Review",sub:"Marketing copy",assignee:"Semik",state1:"Review",state2:"Draft",due:"Soon",salesman:"Semik L",priority:"low",status:"PENDING"},{id:104,name:"Deployment Prep",sub:"CI/CD and smoke tests",assignee:"Admin",state1:"Release",state2:"Check",due:"Next week",salesman:"Admin",priority:"medium",status:"PENDING"}],[]),[g,b]=y.useState(v),j=(xe,he)=>b(ue=>ue.map(Le=>Le.id===xe?{...Le,status:he}:Le)),N=xe=>j(xe,"ACCEPTING"),k=xe=>j(xe,"FINISHED"),S=xe=>{window.confirm(a?"  ":"Confirm cancel task?")&&j(xe,"CANCELLED")},C=()=>b([]),_=xe=>{const he={id:Date.now(),name:xe.title,sub:xe.description||"",assignee:xe.assignedTo||xe.salesman||"",state1:"New",state2:"",due:xe.due||xe.endDate||"Soon",salesman:xe.salesman||"",priority:xe.priority||"medium",status:"PENDING",attachment:xe.attachment||null,startDate:xe.startDate||"",taskType:xe.taskType||"",createdBy:xe.createdBy||"Admin",relatedType:xe.relatedType||"",relatedRef:xe.relatedRef||"",tags:xe.tags||[],progress:typeof xe.progress=="number"?xe.progress:0,reminderBefore:xe.reminderBefore||"",recurring:xe.recurring||"none"};b(ue=>[...ue,he])},P=()=>{try{const xe=["id","name","sub","assignee","state1","state2","due","salesman","priority","status"],he=[xe.join(",")];g.forEach(Ce=>{const ce=xe.map(Ie=>String(Ce[Ie]??"").replace(/"/g,'""'));he.push(ce.map(Ie=>`"${Ie}"`).join(","))});const ue=new Blob([he.join(`
`)],{type:"text/csv;charset=utf-8;"}),Le=URL.createObjectURL(ue),ze=document.createElement("a");ze.href=Le,ze.download="tasks.csv",document.body.appendChild(ze),ze.click(),document.body.removeChild(ze),URL.revokeObjectURL(Le)}catch(xe){console.error("Export failed",xe),alert("Export failed")}},L=y.useMemo(()=>{const xe=i?.status||{},he=d.status,ue=d.priority,Le=d.salesman,ze=d.assignedTo,Ce=d.relatedType,ce=d.overdueOnly,Ie=new Date().toISOString().slice(0,10);return g.filter(we=>{const $e=xe[we.status]??!0,Be=he?we.status===he:!0,ft=ue?we.priority===ue:!0,Ke=Le?we.salesman===Le:!0,Ue=ze?we.assignee===ze:!0,tt=Ce?we.relatedType===Ce:!0;let ct=!0;return ce&&(ct=typeof we.due=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(we.due)&&we.due<Ie),$e&&Be&&ft&&Ke&&Ue&&tt&&ct})},[g,i,d.status,d.priority,d.salesman,d.assignedTo,d.relatedType,d.overdueOnly]),U=y.useMemo(()=>{const xe={PENDING:0,ACCEPTING:0,FINISHED:0,CANCELLED:0};return g.forEach(he=>{xe[he.status]!==void 0&&xe[he.status]++}),xe},[g]),[z,T]=y.useState(20),F=y.useMemo(()=>L.slice(0,z),[L,z]),[M,I]=y.useState({}),W=y.useMemo(()=>Object.values(M).filter(Boolean).length,[M]),R=xe=>I(he=>({...he,[xe]:!he[xe]})),q=()=>I({}),ae=y.useMemo(()=>F.length>0&&F.every(xe=>M[xe.id]),[F,M]),te=()=>{if(ae){const xe={...M};F.forEach(he=>{delete xe[he.id]}),I(xe)}else{const xe={...M};F.forEach(he=>{xe[he.id]=!0}),I(xe)}},K=()=>{const xe=Object.keys(M).filter(he=>M[he]).map(he=>Number(he));if(xe.length===0){alert(a?"   ":"No selected items");return}window.confirm(a?"   ":"Confirm delete selected?")&&(b(he=>he.filter(ue=>!xe.includes(ue.id))),q())},[oe,D]=y.useState(""),G=()=>{const xe=Object.keys(M).filter(he=>M[he]).map(he=>Number(he));if(xe.length===0){alert(a?"   ":"Select tasks to reassign");return}if(!oe){alert(a?"  ":"Please choose a salesman");return}b(he=>he.map(ue=>xe.includes(ue.id)?{...ue,salesman:oe}:ue)),q()},[H,X]=y.useState(!1),[se,ie]=y.useState(null),ne=xe=>ie(xe),J=()=>ie(null),[le,pe]=y.useState(!0),Q=()=>{if(window.history&&window.history.length>1)try{window.history.back()}catch{}else try{window.location.href="/crm-ibrahim/"}catch{window.location.href="/crm-ibrahim/"}};return s.jsxs(Ht,{children:[s.jsxs("div",{className:"px-4 md:px-6 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-lg font-semibold tracking-wide",children:"ALL TASK"}),s.jsxs("button",{type:"button",onClick:Q,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] hover:bg-[var(--table-row-hover)]",title:a?" ":"Close page","aria-label":a?"":"Close",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:s.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),s.jsx("span",{className:"hidden sm:inline text-sm",children:a?"":"Close"})]})]}),s.jsx("div",{className:"h-6"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:()=>c(xe=>!xe),className:"inline-flex items-center gap-2 px-3.5 py-2.5 rounded-md bg-[var(--dropdown-bg)] text-[var(--content-text)]",title:a?"/  ":"Toggle advanced filters","aria-label":a?"":"Filter",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M6 12h12"}),s.jsx("path",{d:"M10 18h4"})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>X(!0),className:"inline-flex items-center gap-2 px-3.5 py-2.5 rounded-md bg-[var(--dropdown-bg)] text-[var(--content-text)]",title:a?" ":"New Task",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:s.jsx("path",{d:"M12 4v16M4 12h16"})}),a?"":"New"]}),s.jsxs("button",{onClick:P,className:"inline-flex items-center gap-2 px-3.5 py-2.5 rounded-md bg-[var(--dropdown-bg)] text-[var(--content-text)]",title:a?"":"Export",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-5 h-5",children:[s.jsx("path",{d:"M12 5v8m0 0l-3-3m3 3l3-3"}),s.jsx("path",{d:"M5 19h14"})]}),a?"":"Export"]})]})]}),o&&s.jsxs("div",{className:"mt-4 rounded-xl border bg-[var(--content-bg)] text-[var(--content-text)] p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-sm font-medium",children:a?" ":"Advanced Filters"}),s.jsx("button",{type:"button",onClick:p,className:"text-xs px-2 py-1 rounded-md border bg-[var(--dropdown-bg)]",children:a?" ":"Reset"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs opacity-70 block mb-1",children:a?"":"Search"}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-[var(--dropdown-bg)] w-full",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4 opacity-70",children:[s.jsx("circle",{cx:"11",cy:"11",r:"6"}),s.jsx("path",{d:"M21 21l-4.5-4.5"})]}),s.jsx("input",{value:r,onChange:xe=>n(xe.target.value),placeholder:a?"    ...":"Search task or project...",className:"bg-transparent outline-none text-sm flex-1 w-full"})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?" ":"Creation"}),s.jsx("input",{type:"date",value:d.createdAt,onChange:xe=>f("createdAt",xe.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?" ":"End"}),s.jsx("input",{type:"date",value:d.endDate,onChange:xe=>f("endDate",xe.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?"":"Salesman"}),s.jsxs("select",{value:d.salesman,onChange:xe=>f("salesman",xe.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full",children:[s.jsx("option",{value:"",children:a?"":"Select"}),s.jsx("option",{children:"Ibrahim"}),s.jsx("option",{children:"Admin"}),s.jsx("option",{children:"Ahmed"})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?" ":"Assigned To"}),s.jsxs("select",{value:d.assignedTo,onChange:xe=>f("assignedTo",xe.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full",children:[s.jsx("option",{value:"",children:a?"":"Select"}),s.jsx("option",{children:"Team A"}),s.jsx("option",{children:"Team B"}),s.jsx("option",{children:"Support"}),s.jsx("option",{children:"Sales"}),s.jsx("option",{children:"Admin"}),s.jsx("option",{children:"Ibrahim"}),s.jsx("option",{children:"Ahmed"})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?"":"Status"}),s.jsxs("select",{value:d.status,onChange:xe=>f("status",xe.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full",children:[s.jsx("option",{value:"",children:a?"":"Select"}),s.jsx("option",{children:"PENDING"}),s.jsx("option",{children:"ACCEPTING"}),s.jsx("option",{children:"FINISHED"}),s.jsx("option",{children:"CANCELLED"})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?"":"Priority"}),s.jsxs("select",{value:d.priority,onChange:xe=>f("priority",xe.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full",children:[s.jsx("option",{value:"",children:a?"":"Select"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"low",children:"Low"})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs opacity-70 mb-1",children:a?" ":"Related Module"}),s.jsxs("select",{value:d.relatedType,onChange:xe=>f("relatedType",xe.target.value),className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] text-sm w-full",children:[s.jsx("option",{value:"",children:a?"":"Select"}),s.jsx("option",{children:"Lead"}),s.jsx("option",{children:"Deal"}),s.jsx("option",{children:"Contact"}),s.jsx("option",{children:"Opportunity"}),s.jsx("option",{children:"Ticket"}),s.jsx("option",{children:"Project"})]})]})]}),s.jsxs("div",{className:"mt-4 flex justify-end",children:[s.jsxs("label",{className:"text-xs opacity-70 flex items-center gap-2",children:[a?" ":"Sort By",s.jsxs("select",{className:"px-2 py-1 rounded-md border bg-transparent text-sm",children:[s.jsx("option",{children:a?"":"Newest"}),s.jsx("option",{children:a?" ":"Due Soon"}),s.jsx("option",{children:a?"":"Priority"})]})]}),s.jsxs("label",{className:"text-xs opacity-70 flex items-center gap-2 ml-4",children:[s.jsx("input",{type:"checkbox",checked:d.overdueOnly,onChange:()=>f("overdueOnly",!d.overdueOnly)}),a?" ":"Overdue only"]})]})]}),s.jsx("div",{className:"w-full h-6"}),s.jsxs("div",{className:"mb-3 flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(f2,{label:a?" ":"PENDING",tone:"yellow",active:!!i.status.PENDING,count:U.PENDING,onClick:()=>m("status","PENDING")}),s.jsx(f2,{label:a?"":"ACCEPTING",tone:"blue",active:!!i.status.ACCEPTING,count:U.ACCEPTING,onClick:()=>m("status","ACCEPTING")}),s.jsx(f2,{label:a?"":"FINISHED",tone:"green",active:!!i.status.FINISHED,count:U.FINISHED,onClick:()=>m("status","FINISHED")}),s.jsx(f2,{label:a?"":"CANCELLED",tone:"red",active:!!i.status.CANCELLED,count:U.CANCELLED,onClick:()=>m("status","CANCELLED")})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{type:"button",onClick:C,className:"px-3 py-1.5 rounded-md border text-sm bg-[var(--dropdown-bg)]",children:a?" ":"Clear Data"})})]}),s.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[s.jsx("div",{className:"text-xs opacity-70",children:a?`: ${W}`:`Selected: ${W}`}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:K,className:"px-3 py-1.5 rounded-md border text-sm bg-[var(--dropdown-bg)]",children:a?" ":"Delete Selected"}),s.jsx("label",{className:"text-xs opacity-70",children:a?"  ":"Reassign to"}),s.jsxs("select",{value:oe,onChange:xe=>D(xe.target.value),className:"px-2 py-1 rounded-md border bg-[var(--dropdown-bg)] text-sm",children:[s.jsx("option",{value:"",children:a?"":"Select"}),s.jsx("option",{children:"Ibrahim"}),s.jsx("option",{children:"Admin"}),s.jsx("option",{children:"Ahmed"})]}),s.jsx("button",{type:"button",onClick:G,className:"px-3 py-1.5 rounded-md border text-sm bg-[var(--dropdown-bg)]",children:a?"":"Apply"})]})]}),s.jsxs("div",{className:"mt-2 rounded-xl border overflow-hidden md:hidden",children:[s.jsx("div",{className:"px-4 py-3 bg-[var(--table-header-bg)] border-b",children:s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:ae,onChange:te}),a?" ":"Select all"]})}),F.length===0?s.jsx("div",{className:"px-4 py-6 text-center text-sm opacity-70",children:a?"   ":"No tasks right now"}):F.map(xe=>s.jsxs("div",{className:"px-4 py-3 border-b hover:bg-[var(--table-row-hover)] cursor-pointer",onClick:()=>ne(xe),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx("input",{type:"checkbox",checked:!!M[xe.id],onClick:he=>he.stopPropagation(),onChange:he=>{he.stopPropagation(),R(xe.id)}}),s.jsx("div",{className:"font-medium truncate",children:xe.name})]}),s.jsx("div",{className:"shrink-0",children:(()=>{const he=xe.status,ue=he==="PENDING"?"yellow":he==="ACCEPTING"?"blue":he==="FINISHED"?"green":he==="CANCELLED"?"red":"yellow",Le=a?he==="PENDING"?" ":he==="ACCEPTING"?"":he==="FINISHED"?"":he==="CANCELLED"?"":he:he;return s.jsx(m2,{label:Le,tone:ue})})()})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"opacity-70",children:a?"":"Assigned"}),s.jsx("div",{className:"truncate",children:xe.assignee})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"opacity-70",children:a?" ":"Due"}),s.jsx("div",{className:"truncate",children:xe.due})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"opacity-70",children:a?"":"Salesman"}),s.jsx("div",{className:"truncate",children:xe.salesman})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"opacity-70",children:a?"":"Priority"}),s.jsx("div",{children:(()=>{const he=xe.priority==="high"?"red":xe.priority==="medium"?"yellow":"green",ue=xe.priority==="high"?a?"":"High":xe.priority==="medium"?a?"":"Medium":a?"":"Low";return s.jsx(m2,{label:ue,tone:he})})()})]})]}),s.jsx("div",{className:"pt-2 mt-2 border-t border-[var(--divider)]",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",onClick:he=>{he.stopPropagation(),N(xe.id)},className:"px-2 py-1 rounded-md border text-xs bg-[var(--dropdown-bg)]",title:a?" ":"Start Task",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M8 5v14l11-7z"})})}),s.jsx("button",{type:"button",onClick:he=>{he.stopPropagation(),k(xe.id)},className:"px-2 py-1 rounded-md border text-xs bg-[var(--dropdown-bg)]",title:a?" ":"Finish Task",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M20 6L9 17l-5-5"})})}),s.jsx("button",{type:"button",onClick:he=>{he.stopPropagation(),S(xe.id)},className:"px-2 py-1 rounded-md border text-xs",title:a?" ":"Cancel Task",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]})})]},xe.id))]}),s.jsx("div",{className:"mt-2 rounded-xl border overflow-hidden hidden md:block",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-[var(--table-header-bg)]",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left",children:s.jsx("input",{type:"checkbox",checked:ae,onChange:te})}),s.jsx("th",{className:"px-4 py-3 text-left",children:a?"":"Task"}),s.jsx("th",{className:"px-4 py-3 text-left border-l border-[var(--divider)]",children:a?"":"Assigned"}),s.jsx("th",{className:"px-4 py-3 text-left border-l border-[var(--divider)]",children:a?"":"Status"}),s.jsx("th",{className:"px-4 py-3 text-left border-l border-[var(--divider)]",children:a?" ":"Due"}),s.jsx("th",{className:"px-4 py-3 text-left border-l border-[var(--divider)]",children:a?"":"Salesman"}),s.jsx("th",{className:"px-4 py-3 text-left border-l border-[var(--divider)]",children:a?"":"Priority"}),s.jsx("th",{className:"px-4 py-3 text-left border-l border-[var(--divider)]",children:a?"":"Actions"})]})}),s.jsx("tbody",{className:"bg-[var(--content-bg)]",children:F.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"8",className:"px-4 py-6 text-center text-sm opacity-70",children:a?"   ":"No tasks right now"})}):F.map(xe=>s.jsxs("tr",{className:"hover:bg-[var(--table-row-hover)] cursor-pointer",onClick:()=>ne(xe),children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("input",{type:"checkbox",checked:!!M[xe.id],onClick:he=>he.stopPropagation(),onChange:he=>{he.stopPropagation(),R(xe.id)}})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"font-medium",children:xe.name})}),s.jsx("td",{className:"px-4 py-3 border-l border-[var(--divider)]",children:xe.assignee}),s.jsx("td",{className:"px-4 py-3 border-l border-[var(--divider)]",children:s.jsx("div",{className:"flex items-center gap-1",children:(()=>{const he=xe.status,ue=he==="PENDING"?"yellow":he==="ACCEPTING"?"blue":he==="FINISHED"?"green":he==="CANCELLED"?"red":"yellow",Le=a?he==="PENDING"?" ":he==="ACCEPTING"?"":he==="FINISHED"?"":he==="CANCELLED"?"":he:he;return s.jsx(m2,{label:Le,tone:ue})})()})}),s.jsx("td",{className:"px-4 py-3 border-l border-[var(--divider)]",children:xe.due}),s.jsx("td",{className:"px-4 py-3 border-l border-[var(--divider)]",children:xe.salesman}),s.jsx("td",{className:"px-4 py-3 border-l border-[var(--divider)]",children:(()=>{const he=xe.priority==="high"?"red":xe.priority==="medium"?"yellow":"green",ue=xe.priority==="high"?a?"":"High":xe.priority==="medium"?a?"":"Medium":a?"":"Low";return s.jsx(m2,{label:ue,tone:he})})()}),s.jsx("td",{className:"px-4 py-3 border-l border-[var(--divider)] whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:he=>{he.stopPropagation(),N(xe.id)},className:"px-2 py-1 rounded-md border text-xs bg-[var(--dropdown-bg)]",title:a?" ":"Start Task",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M8 5v14l11-7z"})})}),s.jsx("button",{type:"button",onClick:he=>{he.stopPropagation(),k(xe.id)},className:"px-2 py-1 rounded-md border text-xs bg-[var(--dropdown-bg)]",title:a?" ":"Finish Task",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M20 6L9 17l-5-5"})})}),s.jsx("button",{type:"button",onClick:he=>{he.stopPropagation(),S(xe.id)},className:"px-2 py-1 rounded-md border text-xs",title:a?" ":"Cancel Task",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"w-4 h-4",children:s.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]})})]},xe.id))})]})}),s.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm opacity-70",children:a?"":"Show"}),s.jsxs("select",{value:z,onChange:xe=>T(Number(xe.target.value)),className:"px-2 py-1 rounded-md border bg-[var(--dropdown-bg)] text-sm",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:20,children:"20"}),s.jsx("option",{value:40,children:"40"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]})]}),s.jsx("div",{className:"text-sm opacity-70",children:a?` ${L.length}`:`of ${L.length}`})]})]}),s.jsx(cAe,{isOpen:H,onClose:()=>X(!1),onSave:xe=>{_(xe),X(!1)}}),s.jsx(dAe,{isOpen:!!se,onClose:J,task:se})]})}function hAe(){const{t:e,i18n:t}=Ct(),a=t.language==="ar",[r,n]=y.useState(""),[i,l]=y.useState(""),[o,c]=y.useState("opportunities"),[d,u]=y.useState(1),f=10,[p,m]=y.useState("all"),[v,g]=y.useState("all"),[b,j]=y.useState("all"),[N,k]=y.useState("all"),[S,C]=y.useState("all"),[_,P]=y.useState("all"),[L,U]=y.useState("all"),[z,T]=y.useState("all"),[F,M]=y.useState("all"),[I,W]=y.useState(""),[R,q]=y.useState("all"),[ae,te]=y.useState("all"),K=[{id:1,name:"Opportunity A",customer:"Ahmed Ali",owner:"Sara Mohamed",value:12e3,status:"open",createdAt:"2025-10-01"},{id:2,name:"Opportunity B",customer:"Omar Hassan",owner:"Khaled Ibrahim",value:8e3,status:"open",createdAt:"2025-10-05"},{id:3,name:"Opportunity C",customer:"Layla Mohamed",owner:"Fatima Ali",value:15e3,status:"closed",createdAt:"2025-09-12"},{id:4,name:"Opportunity D",customer:"Yousef Nader",owner:"Nadia Fahd",value:9500,status:"missed",createdAt:"2025-10-07"},{id:5,name:"Opportunity E",customer:"Reem Saleh",owner:"Ahmed Ali",value:22e3,status:"open",createdAt:"2025-08-21"}],oe=[{id:1,lead:"Hassan Ali",project:"Project X",date:"2025-09-30",status:"interested"},{id:2,lead:"Mona Saleh",project:"Project Y",date:"2025-10-02",status:"interested"}],D=[{id:1,lead:"Ola Sami",unit:"APT-12B",date:"2025-10-01",status:"confirmed"},{id:2,lead:"Karim Mostafa",unit:"APT-09A",date:"2025-10-06",status:"cancelled"}],G=[{id:1,customer:"Ahmed Ali",amount:45e3,date:"2025-10-05",status:"won"},{id:2,customer:"Sara Mohamed",amount:27e3,date:"2025-09-22",status:"lost"},{id:3,customer:"Omar Hassan",amount:18e3,date:"2025-10-04",status:"won"}],H=[{id:1,reason:a?" ":"High Price",count:6},{id:2,reason:a?" ":"Not Interested",count:4},{id:3,reason:a?" ":"Decision Delayed",count:3}],X=new Date,se=`${X.getFullYear()}-${String(X.getMonth()+1).padStart(2,"0")}`,ie=K.filter(Te=>(Te.createdAt||"").startsWith(se)).length,ne=K.filter(Te=>Te.status==="open").length,J=K.filter(Te=>Te.status==="missed").length,le=K.filter(Te=>Te.status==="closed").length+G.filter(Te=>Te.status==="won"&&Te.date.startsWith(se)).length,pe=G.filter(Te=>Te.status==="won"&&Te.date.startsWith(se)).length,Q=Math.max(ne-le,0),xe=[{key:"opportunities",label:e("Opportunities","Opportunities"),icon:qre},{key:"cils",label:e("Cils","Cils"),icon:Xre},{key:"eoi",label:e("EOI","EOI"),icon:rne},{key:"reservation",label:e("Reservation","Reservation"),icon:Yre},{key:"deals",label:e("Deals","Deals"),icon:nne},{key:"cancel_reasons",label:e("Cancel Reasons","Cancel Reasons"),icon:dne}],he=y.useMemo(()=>{switch(o){case"opportunities":return"#2563eb";case"cils":return"#10b981";case"eoi":return"#f59e0b";case"reservation":return"#8b5cf6";case"deals":return"#14b8a6";case"cancel_reasons":return"#ef4444";default:return"#9ca3af"}},[o]),ue=y.useRef(null),Le=y.useRef({}),[ze,Ce]=y.useState({left:0,width:0});y.useEffect(()=>{const Te=()=>{const $t=Le.current[o],qe=ue.current;if(!$t||!qe)return;const Gt=$t.getBoundingClientRect(),Yt=qe.getBoundingClientRect();Ce({left:Gt.left-Yt.left,width:Gt.width})};return Te(),window.addEventListener("resize",Te),()=>window.removeEventListener("resize",Te)},[o]);const ce=Te=>!r&&!i?Te:Te.filter($t=>{const qe=$t.date||$t.createdAt||"";return!(!qe||r&&qe<r||i&&qe>i)}),[Ie,we]=y.useState(()=>{try{const Te=localStorage.getItem("sales_cils");if(Te)return JSON.parse(Te)}catch{}return[{id:1,client:"Ahmed Ali",phone:"0100000000",email:"ahmed@example.com",project:"Project X",developer:"DevCo",agent:"Sara Mohamed",date:"2025-10-09"},{id:2,client:"Fatima Ali",phone:"0111111111",email:"fatima@example.com",project:"Project Y",developer:"Alpha Dev",agent:"Khaled Ibrahim",date:"2025-10-08"}]});y.useEffect(()=>{try{localStorage.setItem("sales_cils",JSON.stringify(Ie))}catch{}},[Ie]);const $e=y.useMemo(()=>{switch(o){case"opportunities":{let Te=ce(K);return p!=="all"&&(Te=Te.filter($t=>$t.status===p)),v!=="all"&&(Te=Te.filter($t=>$t.owner===v)),Te}case"cils":{let Te=ce(Ie);return b!=="all"&&(Te=Te.filter($t=>$t.project===b)),N!=="all"&&(Te=Te.filter($t=>$t.developer===N)),S!=="all"&&(Te=Te.filter($t=>$t.agent===S)),Te}case"eoi":{let Te=ce(oe);return _!=="all"&&(Te=Te.filter($t=>$t.status===_)),L!=="all"&&(Te=Te.filter($t=>$t.project===L)),Te}case"reservation":{let Te=ce(D);return z!=="all"&&(Te=Te.filter($t=>$t.status===z)),Te}case"deals":{let Te=ce(G);return F!=="all"&&(Te=Te.filter($t=>$t.status===F)),Te}case"cancel_reasons":{let Te=H;if(I){const $t=I.toLowerCase();Te=Te.filter(qe=>String(qe.reason).toLowerCase().includes($t))}return Te}default:return[]}},[o,r,i,p,v,b,N,S,_,L,z,F,I]),Be=Math.max(1,Math.ceil($e.length/f)),ft=$e.slice((d-1)*f,d*f),Ke=()=>{u(1)},Ue=Te=>{if(!Te||!Te.length)return"";const $t=Object.keys(Te[0]),qe=$t.join(","),Gt=Te.map(Yt=>$t.map(ma=>JSON.stringify(Yt[ma]??"")).join(","));return[qe,...Gt].join(`
`)},tt=(Te,$t)=>{const qe=new Blob([$t],{type:"text/csv;charset=utf-8;"}),Gt=URL.createObjectURL(qe),Yt=document.createElement("a");Yt.href=Gt,Yt.download=Te,Yt.click(),URL.revokeObjectURL(Gt)},ct=()=>{const Te=[{metric:e("Opened This Month","Opened This Month"),value:ie},{metric:e("Closed This Month","Closed This Month"),value:pe},{metric:e("Open Chances","Open Chances"),value:ne},{metric:e("Missed Chances","Missed Chances"),value:J},{metric:e("Remaining","Remaining"),value:Q},{metric:e("Closed Chances","Closed Chances"),value:le}];tt("sales_report_summary.csv",Ue(Te))},Je=y.useMemo(()=>{const Te=$e;switch(o){case"opportunities":return[{label:e("Opened This Month","Opened This Month"),value:ie,color:"bg-blue-500"},{label:e("Closed This Month","Closed This Month"),value:pe,color:"bg-green-500"},{label:e("Open Chances","Open Chances"),value:ne,color:"bg-indigo-500"},{label:e("Missed Chances","Missed Chances"),value:J,color:"bg-red-500"},{label:e("Remaining","Remaining"),value:Q,color:"bg-amber-500"},{label:e("Closed Chances","Closed Chances"),value:le,color:"bg-teal-500"}];case"cils":{const $t=Te.length,qe=Te.filter(Ia=>(Ia.date||"").startsWith(se)).length,Gt=new Set(Te.map(Ia=>Ia.project)).size,Yt=new Set(Te.map(Ia=>Ia.developer)).size,ma=new Set(Te.map(Ia=>Ia.agent)).size;return[{label:e("Total CILs","Total CILs"),value:$t,color:"bg-blue-500"},{label:e("This Month","This Month"),value:qe,color:"bg-amber-600"},{label:e("Projects","Projects"),value:Gt,color:"bg-violet-600"},{label:e("Developers","Developers"),value:Yt,color:"bg-indigo-600"},{label:e("Agents","Agents"),value:ma,color:"bg-emerald-600"}]}case"eoi":{const $t=Te.length,qe=Te.filter(ma=>ma.status==="interested").length,Gt=new Set(Te.map(ma=>ma.project)).size,Yt=Te.filter(ma=>(ma.date||"").startsWith(se)).length;return[{label:e("Total EOI","Total EOI"),value:$t,color:"bg-orange-500"},{label:e("Interested","Interested"),value:qe,color:"bg-emerald-600"},{label:e("Projects","Projects"),value:Gt,color:"bg-violet-600"},{label:e("This Month","This Month"),value:Yt,color:"bg-amber-600"}]}case"reservation":{const $t=Te.length,qe=Te.filter(ma=>ma.status==="confirmed").length,Gt=Te.filter(ma=>ma.status==="cancelled").length,Yt=Te.filter(ma=>(ma.date||"").startsWith(se)).length;return[{label:e("Total Reservations","Total Reservations"),value:$t,color:"bg-purple-500"},{label:e("Confirmed","Confirmed"),value:qe,color:"bg-emerald-600"},{label:e("Cancelled","Cancelled"),value:Gt,color:"bg-red-600"},{label:e("This Month","This Month"),value:Yt,color:"bg-amber-600"}]}case"deals":{const $t=Te.length,qe=Te.filter(ma=>ma.status==="won").length,Gt=Te.filter(ma=>ma.status==="lost").length,Yt=Te.filter(ma=>ma.status==="won"&&(ma.date||"").startsWith(se)).length;return[{label:e("Total Deals","Total Deals"),value:$t,color:"bg-teal-500"},{label:e("Won","Won"),value:qe,color:"bg-emerald-600"},{label:e("Lost","Lost"),value:Gt,color:"bg-red-600"},{label:e("Won This Month","Won This Month"),value:Yt,color:"bg-blue-600"}]}case"cancel_reasons":{const $t=Te.reduce((Yt,ma)=>Yt+(ma.count||0),0),qe=Te.length?Math.max(...Te.map(Yt=>Yt.count||0)):0,Gt=Te.length;return[{label:e("Total Cancellations","Total Cancellations"),value:$t,color:"bg-red-600"},{label:e("Top Reason Count","Top Reason Count"),value:qe,color:"bg-pink-600"},{label:e("Unique Reasons","Unique Reasons"),value:Gt,color:"bg-gray-600"}]}default:return[]}},[o,$e]),pt=()=>{tt(`sales_${o}_list.csv`,Ue($e))},kt=new Date().toISOString().slice(0,10),[Ot,qt]=y.useState({client:"",phone:"",email:"",project:"",developer:"",agent:"",date:kt}),Wt=()=>{const{client:Te,project:$t,agent:qe}=Ot;if(!Te||!$t||!qe){alert(t.language==="ar"?"    :   ":"Please fill required fields: client, project, agent");return}const Gt=Date.now();we(Yt=>[{id:Gt,...Ot},...Yt]),qt({client:"",phone:"",email:"",project:"",developer:"",agent:"",date:kt})};return s.jsxs(Ht,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:e("Sales Report")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:ct,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border btn-glass",children:e("Export Report")}),s.jsx("button",{onClick:pt,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border btn-glass",children:e("Export Data")})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"card glass-card p-4",children:s.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("From")}),s.jsx("input",{type:"date",value:r,onChange:Te=>n(Te.target.value),className:"input",placeholder:e("Date Input Placeholder")})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("To")}),s.jsx("input",{type:"date",value:i,onChange:Te=>l(Te.target.value),className:"input",placeholder:e("Date Input Placeholder")})]}),o==="opportunities"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Status")}),s.jsxs("select",{value:p,onChange:Te=>m(Te.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),s.jsx("option",{value:"open",children:e("Open","Open")}),s.jsx("option",{value:"missed",children:e("Missed","Missed")}),s.jsx("option",{value:"closed",children:e("Closed","Closed")})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Owner")}),s.jsxs("select",{value:v,onChange:Te=>g(Te.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),[...new Set(K.map(Te=>Te.owner))].map(Te=>s.jsx("option",{value:Te,children:Te},Te))]})]})]}),o==="cils"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:"Project"}),s.jsxs("select",{value:b,onChange:Te=>j(Te.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),[...new Set(Ie.map(Te=>Te.project))].map(Te=>s.jsx("option",{value:Te,children:Te},Te))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Developer","Developer")}),s.jsxs("select",{value:N,onChange:Te=>k(Te.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),[...new Set(Ie.map(Te=>Te.developer))].map(Te=>s.jsx("option",{value:Te,children:Te},Te))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Agent","Agent")}),s.jsxs("select",{value:S,onChange:Te=>C(Te.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),[...new Set(Ie.map(Te=>Te.agent))].map(Te=>s.jsx("option",{value:Te,children:Te},Te))]})]})]}),o==="eoi"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Status")}),s.jsxs("select",{value:_,onChange:Te=>P(Te.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),s.jsx("option",{value:"interested",children:e("Interested","Interested")})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:"Project"}),s.jsxs("select",{value:L,onChange:Te=>U(Te.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),[...new Set(oe.map(Te=>Te.project))].map(Te=>s.jsx("option",{value:Te,children:Te},Te))]})]})]}),o==="reservation"&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Status")}),s.jsxs("select",{value:z,onChange:Te=>T(Te.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),s.jsx("option",{value:"confirmed",children:e("Confirmed","Confirmed")}),s.jsx("option",{value:"cancelled",children:e("Cancelled","Cancelled")})]})]}),o==="deals"&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Status")}),s.jsxs("select",{value:F,onChange:Te=>M(Te.target.value),className:"input",children:[s.jsx("option",{value:"all",children:e("All","All")}),s.jsx("option",{value:"won",children:e("Won","Won")}),s.jsx("option",{value:"lost",children:e("Lost","Lost")})]})]}),o==="cancel_reasons"&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Reason")}),s.jsx("input",{type:"text",value:I,onChange:Te=>W(Te.target.value),className:"input",placeholder:e("Search","Search")})]}),s.jsx("button",{onClick:Ke,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border btn-glass",children:e("Apply Filters")}),s.jsx("button",{onClick:()=>{n(""),l(""),u(1)},className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border btn-glass",children:e("Reset")})]})}),s.jsx("div",{className:"card glass-card p-3",children:s.jsxs("div",{ref:ue,className:"relative flex flex-wrap gap-4",children:[xe.map(Te=>{const $t=Te.icon;return s.jsxs("button",{ref:qe=>{Le.current[Te.key]=qe},onClick:()=>{c(Te.key),u(1)},className:`inline-flex items-center gap-2 px-4 py-2 rounded-md border text-sm ${o===Te.key?"bg-blue-600 text-white border-blue-600":"btn-glass"}`,children:[$t&&s.jsx($t,{className:"w-4 h-4"}),Te.label]},Te.key)}),s.jsx("div",{className:"absolute bottom-0 h-1 rounded transition-all",style:{left:ze.left,width:ze.width,background:he}})]})}),Je.length>0&&s.jsx("section",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:Je.map((Te,$t)=>s.jsxs("div",{className:"card glass-card p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-[var(--muted-text)]",children:Te.label}),s.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${Te.color}`})]}),s.jsx("div",{className:"mt-2 text-2xl font-semibold",children:Te.value})]},$t))}),o==="cils"&&s.jsxs("div",{className:"card glass-card p-4",children:[s.jsx("h3",{className:"text-sm font-medium mb-3",children:e("Add CIL","Add CIL")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsx("input",{className:"input",placeholder:e("Client","Client"),value:Ot.client,onChange:Te=>qt({...Ot,client:Te.target.value})}),s.jsx("input",{className:"input",placeholder:e("Phone","Phone"),value:Ot.phone,onChange:Te=>qt({...Ot,phone:Te.target.value})}),s.jsx("input",{className:"input",placeholder:e("Email","Email"),value:Ot.email,onChange:Te=>qt({...Ot,email:Te.target.value})}),s.jsx("input",{className:"input",placeholder:"Project",value:Ot.project,onChange:Te=>qt({...Ot,project:Te.target.value})}),s.jsx("input",{className:"input",placeholder:e("Developer","Developer"),value:Ot.developer,onChange:Te=>qt({...Ot,developer:Te.target.value})}),s.jsx("input",{className:"input",placeholder:e("Agent","Agent"),value:Ot.agent,onChange:Te=>qt({...Ot,agent:Te.target.value})}),s.jsx("input",{type:"date",className:"input",value:Ot.date,onChange:Te=>qt({...Ot,date:Te.target.value})})]}),s.jsx("div",{className:"mt-3",children:s.jsx("button",{onClick:Wt,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border btn-glass",children:e("Add","Add")})})]}),s.jsxs("div",{className:"card glass-card p-0",children:[s.jsxs("div",{className:"px-4 py-3 bg-transparent border-b flex items-center justify-between",children:[s.jsx("h2",{className:"text-sm font-medium",children:e("Data List")}),s.jsxs("span",{className:"text-xs text-[var(--muted-text)]",children:[e("Show Entries")," ",ft.length]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table nova-table--glass w-full text-sm min-w-[700px]",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[o==="opportunities"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{children:e("Customer")}),s.jsx("th",{children:e("Assigned")}),s.jsx("th",{children:e("Value")}),s.jsx("th",{children:e("Status")}),s.jsx("th",{children:e("Last Contact")})]}),o==="cils"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{children:e("Client","Client")}),s.jsx("th",{children:e("Phone","Phone")}),s.jsx("th",{children:e("Email","Email")}),s.jsx("th",{children:"Project"}),s.jsx("th",{children:e("Developer","Developer")}),s.jsx("th",{children:e("Agent","Agent")}),s.jsx("th",{children:e("Date","Date")})]}),o==="eoi"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{children:e("Lead")}),s.jsx("th",{children:"Project"}),s.jsx("th",{children:e("Date Range")}),s.jsx("th",{children:e("Status")})]}),o==="reservation"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{children:e("Lead")}),s.jsx("th",{children:"Unit"}),s.jsx("th",{children:e("Date Range")}),s.jsx("th",{children:e("Status")})]}),o==="deals"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{children:e("Customer")}),s.jsx("th",{children:e("Value")}),s.jsx("th",{children:e("Date Range")}),s.jsx("th",{children:e("Status")})]}),o==="cancel_reasons"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{children:e("Reason","Reason")}),s.jsx("th",{children:e("Count","Count")})]})]})}),s.jsxs("tbody",{children:[ft.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-[var(--muted-text)]",children:e("No data")})}),o==="opportunities"&&ft.map(Te=>s.jsxs("tr",{children:[s.jsx("td",{children:Te.customer}),s.jsx("td",{children:Te.owner}),s.jsx("td",{children:Te.value}),s.jsx("td",{children:Te.status}),s.jsx("td",{children:Te.createdAt})]},Te.id)),o==="cils"&&ft.map(Te=>s.jsxs("tr",{children:[s.jsx("td",{children:Te.client}),s.jsx("td",{children:Te.phone}),s.jsx("td",{children:Te.email}),s.jsx("td",{children:Te.project}),s.jsx("td",{children:Te.developer}),s.jsx("td",{children:Te.agent}),s.jsx("td",{children:Te.date})]},Te.id)),o==="eoi"&&ft.map(Te=>s.jsxs("tr",{children:[s.jsx("td",{children:Te.lead}),s.jsx("td",{children:Te.project}),s.jsx("td",{children:Te.date}),s.jsx("td",{children:Te.status})]},Te.id)),o==="reservation"&&ft.map(Te=>s.jsxs("tr",{children:[s.jsx("td",{children:Te.lead}),s.jsx("td",{children:Te.unit}),s.jsx("td",{children:Te.date}),s.jsx("td",{children:Te.status})]},Te.id)),o==="deals"&&ft.map(Te=>s.jsxs("tr",{children:[s.jsx("td",{children:Te.customer}),s.jsx("td",{children:Te.amount}),s.jsx("td",{children:Te.date}),s.jsx("td",{children:Te.status})]},Te.id)),o==="cancel_reasons"&&ft.map(Te=>s.jsxs("tr",{children:[s.jsx("td",{children:Te.reason}),s.jsx("td",{children:Te.count})]},Te.id))]})]})}),s.jsxs("nav",{className:"flex items-center justify-between p-4","aria-label":"Table navigation",children:[s.jsxs("span",{className:"text-sm text-[var(--muted-text)]",children:[e("Show Entries")," ",(d-1)*f+1,"-",Math.min(d*f,$e.length)," / ",$e.length]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{disabled:d<=1,onClick:()=>u(Te=>Math.max(1,Te-1)),className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] hover:bg-[var(--table-row-hover)] disabled:opacity-50",children:e("Previous")}),s.jsx("button",{disabled:d>=Be,onClick:()=>u(Te=>Math.min(Be,Te+1)),className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] hover:bg-[var(--table-row-hover)] disabled:opacity-50",children:e("Next")})]})]})]})]})]})}const fAe=[{name:"Jan",revenue:4e3},{name:"Feb",revenue:3e3},{name:"Mar",revenue:5e3},{name:"Apr",revenue:4500},{name:"May",revenue:6e3},{name:"Jun",revenue:5500}],mAe=[{name:"Answered",value:400},{name:"Not Answered",value:300},{name:"Busy",value:200},{name:"Wrong Number",value:100}],pAe=[{rank:1,team:"Team Alpha",accounts:25,conversion:"15%"},{rank:2,team:"Team Beta",accounts:22,conversion:"12%"},{rank:3,team:"Team Gamma",accounts:20,conversion:"10%"},{rank:4,team:"Team Delta",accounts:18,conversion:"9%"},{rank:5,team:"Team Epsilon",accounts:15,conversion:"8%"}],xAe=80,gAe=({activeTab:e,setActiveTab:t})=>{const a=["Sales Actions","Sales Leads","Assigned Report"];return s.jsx("div",{className:"flex gap-2 border-b border-gray-800",children:a.map(r=>s.jsx("button",{className:`px-3 py-2 rounded-t-md border-b-2 transition-colors ${e===r?"bg-primary text-white border-primary":"bg-gray-100 dark:bg-gray-800 text-[var(--content-text)] border-transparent hover:border-gray-600"}`,onClick:()=>t(r),children:r},r))})},vAe={id:0,name:"-",role:"-",department:"-",email:"-",phone:"-",join_date:"-",status:"Active",performance_score:0,tasks_assigned:0,tasks_completed_pct:0,avg_response_time:"-",attendance_rate:0,last_evaluation_date:"-",projects:[],permissions:[],region:"-",modules:[],last_activity:"-",photo_url:""},Wg=({active:e,onClick:t,children:a})=>s.jsx("button",{onClick:t,className:`px-3 py-2 text-sm rounded-t-lg transition-all duration-300 border-b-2 ${e?"border-blue-500 text-blue-600 font-medium bg-white/60 dark:bg-gray-800/60":"border-transparent text-gray-700 dark:text-gray-200 hover:text-blue-600"}`,children:a}),Pp=({label:e,value:t,icon:a})=>s.jsxs("div",{className:"p-3 rounded-lg border bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-[var(--muted-text)]",children:[a,e]}),s.jsx("div",{className:"mt-1 text-lg font-semibold",children:t})]}),x9=({active:e,children:t,onClick:a})=>s.jsx("button",{onClick:a,className:`px-2.5 py-1 rounded-full text-xs border ${e?"bg-emerald-100 text-emerald-700 border-emerald-200":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 border-gray-200 dark:border-gray-700"}`,children:t}),A0=({title:e,children:t,right:a})=>s.jsxs("div",{className:"glass-panel rounded-xl p-4 border border-white/20 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:e}),a]}),t]}),g9=e=>{const[t,a]=y.useState(!1),[r,n]=y.useState(!1);return y.useEffect(()=>{const i=e.current;if(!i)return;const l=()=>{a(i.scrollTop>0),n(i.scrollTop<i.scrollHeight-i.clientHeight)};return l(),i.addEventListener("scroll",l),()=>i.removeEventListener("scroll",l)},[e]),{showTop:t,showBottom:r}},bAe=({onClose:e,team:t,roster:a=[],onSearch:r})=>{const{t:n,i18n:i}=Ct(),[l,o]=y.useState("profile"),[c,d]=y.useState(""),[u,f]=y.useState(null),[p,m]=y.useState(vAe),[v,g]=y.useState(!1),[b,j]=y.useState(""),[N,k]=y.useState(!1),S=y.useRef(null),C=y.useRef(null),{showBottom:_}=g9(S),{showBottom:P}=g9(C),L=y.useMemo(()=>Array.isArray(a)&&a.length?a:[{id:1,name:"Ibrahim Mohamed",role:"Team Lead",department:"Sales",email:"ibrahim@example.com",phone:"+2010XXXXXXX",join_date:"2024-03-15",status:"Active",performance_score:89,tasks_assigned:120,tasks_completed_pct:86,avg_response_time:"1.8h",attendance_rate:92,last_evaluation_date:"2025-10-30",projects:[{name:"CRM System",start:"2025-05-01",status:"Ongoing",tasks:24},{name:"Portfolio Website",start:"2024-09-01",status:"Completed",tasks:12}],permissions:["CRM","Reports","Dashboard"],region:"Cairo",modules:["CRM","Projects","Reports"],last_activity:"2025-11-10 14:32",photo_url:""},{id:2,name:"Sara Hassan",role:"Sales Manager",department:"Sales",email:"sara@example.com",phone:"+2011XXXXXXX",join_date:"2023-08-01",status:"Active",performance_score:93,tasks_assigned:140,tasks_completed_pct:90,avg_response_time:"1.2h",attendance_rate:95,last_evaluation_date:"2025-10-10",projects:[{name:"Sales Ops Revamp",start:"2025-02-01",status:"Ongoing",tasks:30}],permissions:["CRM","Reports","Dashboard"],region:"Giza",modules:["CRM","Reports"],last_activity:"2025-11-10 12:05",photo_url:""}],[a]),U=y.useMemo(()=>{const M=c.trim().toLowerCase();return L.filter(I=>!M||I.name.toLowerCase().includes(M)||I.role.toLowerCase().includes(M)||I.department.toLowerCase().includes(M))},[L,c]);y.useEffect(()=>{t&&Array.isArray(t.members)&&t.members.length?(f(t.members[0]),m(t.members[0])):(f(L[0]),m(L[0]))},[t,L]),y.useEffect(()=>{if(!u)return;g(!0);const M=setTimeout(()=>{g(!1),j(i.language==="ar"?"  ":"Auto-saved"),setTimeout(()=>j(""),1500)},700);return()=>clearTimeout(M)},[p]);const z=(M,I)=>m(W=>({...W,[M]:I})),T=()=>{const M=[p],I=ea.json_to_sheet(M),W=ea.book_new();ea.book_append_sheet(W,I,"Member"),Nr(W,`member_${p.id||"unknown"}.xlsx`)},F=()=>{const M=new fa("p","pt","a4");M.setFontSize(14),M.text("Team Member Profile",40,40);const I=[["Name",p.name],["Role",p.role],["Department",p.department],["Employee ID",String(p.id)],["Email",p.email],["Phone",p.phone],["Join Date",p.join_date],["Status",p.status],["Performance Score",String(p.performance_score)],["Last Activity",p.last_activity]];M.autoTable({head:[["Field","Value"]],body:I,startY:60}),M.save(`member_${p.id||"unknown"}.pdf`)};return!t&&!L.length?null:s.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-lg transition-opacity",onClick:e}),s.jsx("div",{className:"relative z-[1001] w-[90vw] max-w-[1400px] h-[80vh]",children:s.jsxs("div",{className:"glass-panel rounded-2xl p-6 w-full h-full flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-xl font-semibold",children:n("teamDetails.title")}),s.jsx("span",{className:"text-sm text-[var(--muted-text)]",children:t?.name||n("Team")}),v&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-amber-100 text-amber-700 border border-amber-200 text-xs",children:[s.jsx(RD,{}),n("Saving...")]}),b&&s.jsx("span",{className:"text-xs text-emerald-600",children:b})]}),s.jsxs("div",{className:"flex items-center gap-2 relative",children:[s.jsxs("button",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-600 text-white",onClick:()=>k(M=>!M),children:[s.jsx(Qu,{})," ",n("Export")]}),N&&s.jsxs("div",{className:"absolute right-0 top-full mt-2 w-40 rounded-lg border bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-lg p-2 z-10",children:[s.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 inline-flex items-center gap-2",onClick:()=>{k(!1),T()},children:[s.jsx(Qu,{})," ",n("Excel")]}),s.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 inline-flex items-center gap-2",onClick:()=>{k(!1),F()},children:[s.jsx(tne,{})," ",n("PDF")]}),s.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 inline-flex items-center gap-2",onClick:()=>{k(!1),window.print()},children:[s.jsx(one,{})," ",n("Print")]})]}),s.jsxs("button",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200",onClick:e,children:[s.jsx(tu,{})," ",n("Close")]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 flex-1 overflow-hidden",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-4 overflow-hidden",children:[s.jsx(A0,{title:n("teamDetails.roster"),right:s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("input",{className:"px-3 py-2 border rounded-lg text-sm w-40",placeholder:n("teamDetails.search"),value:c,onChange:M=>{d(M.target.value),r&&r(M.target.value)}})}),children:s.jsxs("div",{className:"relative space-y-2 max-h-[60vh] overflow-auto",ref:S,children:[U.map(M=>s.jsx("button",{onClick:()=>{f(M),m(M)},className:`w-full text-left p-3 rounded-lg border hover:shadow-sm ${u?.id===M.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:s.jsx(tw,{className:"text-gray-600 dark:text-gray-300"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:M.name}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:[M.role,"  ",M.department]})]}),s.jsx(od,{className:"text-gray-400"})]})},M.id)),U.length===0&&s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:n("teamDetails.noMembers")}),s.jsx("div",{className:`pointer-events-none absolute bottom-0 left-0 right-0 h-6 bg-gradient-to-t from-black/20 to-transparent transition-opacity ${_?"opacity-100":"opacity-0"}`})]})}),s.jsx(A0,{title:n("teamDetails.managerialControls"),children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{className:"w-full px-3 py-2 rounded-lg bg-emerald-600 text-white inline-flex items-center gap-2",title:n("teamDetails.assignNewTask"),children:[s.jsx(ID,{})," ",n("teamDetails.assignNewTask")]}),s.jsxs("button",{className:"w-full px-3 py-2 rounded-lg bg-blue-600 text-white inline-flex items-center gap-2",title:n("teamDetails.sendNote"),children:[s.jsx(vf,{})," ",n("teamDetails.sendNote")]}),s.jsxs("button",{className:"w-full px-3 py-2 rounded-lg bg-amber-600 text-white inline-flex items-center gap-2",title:n("teamDetails.openPerformanceReview"),children:[s.jsx(PD,{})," ",n("teamDetails.openPerformanceReview")]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:"flex-1 px-3 py-2 rounded-lg bg-rose-600 text-white inline-flex items-center gap-2",title:n("teamDetails.suspend"),onClick:()=>{window.confirm(i.language==="ar"?"    ":"Suspend this member?")&&(z("status",i.language==="ar"?"":"Suspended"),j(i.language==="ar"?"  ":"Member suspended"),setTimeout(()=>j(""),1500))},children:[s.jsx(Wre,{})," ",n("teamDetails.suspend")]}),s.jsxs("button",{className:"flex-1 px-3 py-2 rounded-lg bg-indigo-600 text-white inline-flex items-center gap-2",title:n("teamDetails.reactivate"),onClick:()=>{window.confirm(i.language==="ar"?"     ":"Reactivate this member?")&&(z("status",i.language==="ar"?"":"Active"),j(i.language==="ar"?"  ":"Member reactivated"),setTimeout(()=>j(""),1500))},children:[s.jsx(BD,{})," ",n("teamDetails.reactivate")]})]})]})})]}),s.jsxs("div",{className:"lg:col-span-2 relative overflow-auto",ref:C,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Wg,{active:l==="profile",onClick:()=>o("profile"),children:n("teamDetails.tabs.profile")}),s.jsx(Wg,{active:l==="performance",onClick:()=>o("performance"),children:n("teamDetails.tabs.performance")}),s.jsx(Wg,{active:l==="projects",onClick:()=>o("projects"),children:n("teamDetails.tabs.projects")}),s.jsx(Wg,{active:l==="permissions",onClick:()=>o("permissions"),children:n("teamDetails.tabs.permissions")}),s.jsx(Wg,{active:l==="logs",onClick:()=>o("logs"),children:n("teamDetails.tabs.activity")})]}),l==="profile"&&s.jsx(A0,{title:n("teamDetails.basicInfo"),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.fullName")}),s.jsx("input",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:p.name,onChange:M=>z("name",M.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.jobTitle")}),s.jsx("input",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:p.role,onChange:M=>z("role",M.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.department")}),s.jsx("input",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:p.department,onChange:M=>z("department",M.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.employeeId")}),s.jsx("input",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:p.id,onChange:M=>z("id",M.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.email")}),s.jsx("input",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:p.email,onChange:M=>z("email",M.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.phone")}),s.jsx("input",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:p.phone,onChange:M=>z("phone",M.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.joinDate")}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:p.join_date,onChange:M=>z("join_date",M.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.fields.status")}),s.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border bg-white/90 dark:bg-gray-800/80",value:p.status,onChange:M=>z("status",M.target.value),children:[s.jsx("option",{children:n("Active")}),s.jsx("option",{children:n("On Leave")}),s.jsx("option",{children:n("Inactive")})]})]})]})}),l==="performance"&&s.jsx(A0,{title:n("teamDetails.performanceMetrics"),children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[s.jsx(Pp,{label:n("teamDetails.metrics.totalTasks"),value:p.tasks_assigned,icon:s.jsx(ID,{})}),s.jsx(Pp,{label:n("teamDetails.metrics.tasksCompletionRate"),value:`${p.tasks_completed_pct}%`,icon:s.jsx(Gre,{})}),s.jsx(Pp,{label:n("teamDetails.metrics.avgResponseTime"),value:p.avg_response_time,icon:s.jsx(RD,{})}),s.jsx(Pp,{label:n("teamDetails.metrics.attendanceRate"),value:`${p.attendance_rate}%`,icon:s.jsx(ine,{})}),s.jsx(Pp,{label:n("teamDetails.metrics.performanceScore"),value:p.performance_score,icon:s.jsx(PD,{})}),s.jsx(Pp,{label:n("teamDetails.metrics.lastEvaluation"),value:p.last_evaluation_date,icon:s.jsx(Vv,{})})]})}),l==="projects"&&s.jsx(A0,{title:n("teamDetails.projectsAndResponsibilities"),right:s.jsxs("button",{className:"btn btn-glass inline-flex items-center gap-2",children:[s.jsx(vf,{})," ",n("Reset")]}),children:s.jsxs("div",{className:"space-y-2",children:[(p.projects||[]).map((M,I)=>s.jsxs("div",{className:"p-3 rounded-lg border bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:M.name}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:[n("Started"),": ",M.start||"-","  ",n("Status"),": ",M.status]})]}),s.jsxs("div",{className:"text-sm text-[var(--muted-text)]",children:[n("Tasks"),": ",M.tasks||0]})]}),s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsx("button",{className:"px-3 py-1 rounded-lg border text-xs",children:n("View Project")}),s.jsx("button",{className:"px-3 py-1 rounded-lg border text-xs",children:n("Reset")})]})]},I)),(!p.projects||p.projects.length===0)&&s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:n("teamDetails.noProjects")})]})}),l==="permissions"&&s.jsx(A0,{title:n("teamDetails.permissionsAndAccess"),children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:["Admin","Manager","Sales","Support","Viewer"].map(M=>s.jsx(x9,{active:p.role===M,onClick:()=>z("role",M),children:M},M))}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.regionBranch")}),s.jsx("input",{className:"w-full px-3 py-2 rounded-lg border",value:p.region||"",onChange:M=>z("region",M.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-[var(--muted-text)]",children:n("teamDetails.availableModules")}),s.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:["CRM","Projects","Reports","Dashboard"].map(M=>s.jsx(x9,{active:(p.modules||[]).includes(M),onClick:()=>{const I=(p.modules||[]).includes(M);z("modules",I?(p.modules||[]).filter(W=>W!==M):[...p.modules||[],M])},children:M},M))})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:"px-3 py-2 rounded-lg bg-blue-600 text-white inline-flex items-center gap-2",children:[s.jsx(lne,{})," ",n("teamDetails.updateAccess")]}),s.jsxs("button",{className:"px-3 py-2 rounded-lg bg-rose-600 text-white inline-flex items-center gap-2",children:[s.jsx(BD,{})," ",n("teamDetails.restrictAccess")]})]})]})}),l==="logs"&&s.jsx(A0,{title:n("teamDetails.activityLog"),right:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"px-2 py-1 border rounded-lg text-sm",placeholder:n("teamDetails.filterByDate"),type:"date"}),s.jsxs("select",{className:"px-2 py-1 border rounded-lg text-sm",children:[s.jsx("option",{children:n("All")}),s.jsx("option",{children:"CRM"}),s.jsx("option",{children:"Projects"}),s.jsx("option",{children:"Reports"})]})]}),children:s.jsx("div",{className:"space-y-2 max-h-[300px] overflow-auto",children:[{type:"lead",text:i.language==="ar"?"   ":n("activity.leadUpdated"),at:"2025-11-10 10:12"},{type:"deal",text:i.language==="ar"?"  ":n("activity.dealClosed"),at:"2025-11-09 16:44"},{type:"request",text:i.language==="ar"?"   ":n("activity.newRequestCreated"),at:"2025-11-08 09:25"}].map((M,I)=>s.jsxs("div",{className:"p-3 rounded-lg border bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:M.text}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:M.at})]}),s.jsx("span",{className:"text-xs text-[var(--muted-text)]",children:M.type})]},I))})}),s.jsx("div",{className:`pointer-events-none absolute bottom-0 left-0 right-0 h-6 bg-gradient-to-t from-black/20 to-transparent transition-opacity ${P?"opacity-100":"opacity-0"}`})]})]})]})})]})},qg=({icon:e,label:t,value:a,tone:r="default",tooltip:n})=>{const i=r==="success"?"text-green-400":r==="warning"?"text-amber-400":r==="info"?"text-blue-400":"text-[#f1f5f9]";return s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220] hover:scale-105 transition",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-gray-400",title:n,children:t}),s.jsx("div",{className:"text-xl text-gray-300",children:e})]}),s.jsx("div",{className:`mt-2 text-2xl font-bold ${i}`,children:a})]})};function tK(e){var t,a,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(a=tK(e[t]))&&(r&&(r+=" "),r+=a)}else for(a in e)e[a]&&(r&&(r+=" "),r+=a);return r}function ar(){for(var e,t,a=0,r="",n=arguments.length;a<n;a++)(e=arguments[a])&&(t=tK(e))&&(r&&(r+=" "),r+=t);return r}var yAe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function r_(e){if(typeof e!="string")return!1;var t=yAe;return t.includes(e)}var wAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function aK(e){if(typeof e!="string")return!1;var t=wAe;return t.includes(e)}function sK(e){return typeof e=="string"&&e.startsWith("data-")}function dd(e){var t=Object.entries(e).filter(a=>{var[r]=a;return aK(r)||sK(r)});return Object.fromEntries(t)}function rb(e){if(e==null)return null;if(y.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return dd(t)}return typeof e=="object"&&!Array.isArray(e)?dd(e):null}function Ol(e){var t=Object.entries(e).filter(a=>{var[r]=a;return aK(r)||sK(r)||r_(r)});return Object.fromEntries(t)}function jAe(e){return e==null?null:y.isValidElement(e)?Ol(e.props):typeof e=="object"&&!Array.isArray(e)?Ol(e):null}var NAe=["children","width","height","viewBox","className","style","title","desc"];function ZC(){return ZC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ZC.apply(null,arguments)}function kAe(e,t){if(e==null)return{};var a,r,n=SAe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function SAe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var rK=y.forwardRef((e,t)=>{var{children:a,width:r,height:n,viewBox:i,className:l,style:o,title:c,desc:d}=e,u=kAe(e,NAe),f=i||{width:r,height:n,x:0,y:0},p=ar("recharts-surface",l);return y.createElement("svg",ZC({},Ol(u),{className:p,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),y.createElement("title",null,c),y.createElement("desc",null,d),a)}),CAe=["children","className"];function e6(){return e6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},e6.apply(null,arguments)}function AAe(e,t){if(e==null)return{};var a,r,n=_Ae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function _Ae(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var ud=y.forwardRef((e,t)=>{var{children:a,className:r}=e,n=AAe(e,CAe),i=ar("recharts-layer",r);return y.createElement("g",e6({className:i},Ol(n),{ref:t}),a)}),TAe=y.createContext(null);function hr(e){return function(){return e}}const nK=Math.cos,Fw=Math.sin,gd=Math.sqrt,Iw=Math.PI,fN=2*Iw,t6=Math.PI,a6=2*t6,M0=1e-6,EAe=a6-M0;function iK(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t)this._+=arguments[t]+e[t]}function DAe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return iK;const a=10**t;return function(r){this._+=r[0];for(let n=1,i=r.length;n<i;++n)this._+=Math.round(arguments[n]*a)/a+r[n]}}class MAe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?iK:DAe(t)}moveTo(t,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,a){this._append`L${this._x1=+t},${this._y1=+a}`}quadraticCurveTo(t,a,r,n){this._append`Q${+t},${+a},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(t,a,r,n,i,l){this._append`C${+t},${+a},${+r},${+n},${this._x1=+i},${this._y1=+l}`}arcTo(t,a,r,n,i){if(t=+t,a=+a,r=+r,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,c=r-t,d=n-a,u=l-t,f=o-a,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=a}`;else if(p>M0)if(!(Math.abs(f*c-d*u)>M0)||!i)this._append`L${this._x1=t},${this._y1=a}`;else{let m=r-l,v=n-o,g=c*c+d*d,b=m*m+v*v,j=Math.sqrt(g),N=Math.sqrt(p),k=i*Math.tan((t6-Math.acos((g+p-b)/(2*j*N)))/2),S=k/N,C=k/j;Math.abs(S-1)>M0&&this._append`L${t+S*u},${a+S*f}`,this._append`A${i},${i},0,0,${+(f*m>u*v)},${this._x1=t+C*c},${this._y1=a+C*d}`}}arc(t,a,r,n,i,l){if(t=+t,a=+a,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(n),c=r*Math.sin(n),d=t+o,u=a+c,f=1^l,p=l?n-i:i-n;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>M0||Math.abs(this._y1-u)>M0)&&this._append`L${d},${u}`,r&&(p<0&&(p=p%a6+a6),p>EAe?this._append`A${r},${r},0,1,${f},${t-o},${a-c}A${r},${r},0,1,${f},${this._x1=d},${this._y1=u}`:p>M0&&this._append`A${r},${r},0,${+(p>=t6)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=a+r*Math.sin(i)}`)}rect(t,a,r,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function n_(e){let t=3;return e.digits=function(a){if(!arguments.length)return t;if(a==null)t=null;else{const r=Math.floor(a);if(!(r>=0))throw new RangeError(`invalid digits: ${a}`);t=r}return e},()=>new MAe(t)}function i_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function lK(e){this._context=e}lK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function mN(e){return new lK(e)}function oK(e){return e[0]}function cK(e){return e[1]}function dK(e,t){var a=hr(!0),r=null,n=mN,i=null,l=n_(o);e=typeof e=="function"?e:e===void 0?oK:hr(e),t=typeof t=="function"?t:t===void 0?cK:hr(t);function o(c){var d,u=(c=i_(c)).length,f,p=!1,m;for(r==null&&(i=n(m=l())),d=0;d<=u;++d)!(d<u&&a(f=c[d],d,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,d,c),+t(f,d,c));if(m)return i=null,m+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:hr(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:hr(+c),o):t},o.defined=function(c){return arguments.length?(a=typeof c=="function"?c:hr(!!c),o):a},o.curve=function(c){return arguments.length?(n=c,r!=null&&(i=n(r)),o):n},o.context=function(c){return arguments.length?(c==null?r=i=null:i=n(r=c),o):r},o}function p2(e,t,a){var r=null,n=hr(!0),i=null,l=mN,o=null,c=n_(d);e=typeof e=="function"?e:e===void 0?oK:hr(+e),t=typeof t=="function"?t:hr(t===void 0?0:+t),a=typeof a=="function"?a:a===void 0?cK:hr(+a);function d(f){var p,m,v,g=(f=i_(f)).length,b,j=!1,N,k=new Array(g),S=new Array(g);for(i==null&&(o=l(N=c())),p=0;p<=g;++p){if(!(p<g&&n(b=f[p],p,f))===j)if(j=!j)m=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=p-1;v>=m;--v)o.point(k[v],S[v]);o.lineEnd(),o.areaEnd()}j&&(k[p]=+e(b,p,f),S[p]=+t(b,p,f),o.point(r?+r(b,p,f):k[p],a?+a(b,p,f):S[p]))}if(N)return o=null,N+""||null}function u(){return dK().defined(n).curve(l).context(i)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:hr(+f),r=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:hr(+f),d):e},d.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:hr(+f),d):r},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:hr(+f),a=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:hr(+f),d):t},d.y1=function(f){return arguments.length?(a=f==null?null:typeof f=="function"?f:hr(+f),d):a},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(a)},d.lineX1=function(){return u().x(r).y(t)},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:hr(!!f),d):n},d.curve=function(f){return arguments.length?(l=f,i!=null&&(o=l(i)),d):l},d.context=function(f){return arguments.length?(f==null?i=o=null:o=l(i=f),d):i},d}class uK{constructor(t,a){this._context=t,this._x=a}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,a){switch(t=+t,a=+a,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,a):this._context.moveTo(t,a);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,a,t,a):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+a)/2,t,this._y0,t,a);break}}this._x0=t,this._y0=a}}function PAe(e){return new uK(e,!0)}function LAe(e){return new uK(e,!1)}const l_={draw(e,t){const a=gd(t/Iw);e.moveTo(a,0),e.arc(0,0,a,0,fN)}},OAe={draw(e,t){const a=gd(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}},hK=gd(1/3),RAe=hK*2,FAe={draw(e,t){const a=gd(t/RAe),r=a*hK;e.moveTo(0,-a),e.lineTo(r,0),e.lineTo(0,a),e.lineTo(-r,0),e.closePath()}},IAe={draw(e,t){const a=gd(t),r=-a/2;e.rect(r,r,a,a)}},BAe=.8908130915292852,fK=Fw(Iw/10)/Fw(7*Iw/10),$Ae=Fw(fN/10)*fK,UAe=-nK(fN/10)*fK,zAe={draw(e,t){const a=gd(t*BAe),r=$Ae*a,n=UAe*a;e.moveTo(0,-a),e.lineTo(r,n);for(let i=1;i<5;++i){const l=fN*i/5,o=nK(l),c=Fw(l);e.lineTo(c*a,-o*a),e.lineTo(o*r-c*n,c*r+o*n)}e.closePath()}},B3=gd(3),HAe={draw(e,t){const a=-gd(t/(B3*3));e.moveTo(0,a*2),e.lineTo(-B3*a,-a),e.lineTo(B3*a,-a),e.closePath()}},ic=-.5,lc=gd(3)/2,s6=1/gd(12),VAe=(s6/2+1)*3,WAe={draw(e,t){const a=gd(t/VAe),r=a/2,n=a*s6,i=r,l=a*s6+a,o=-i,c=l;e.moveTo(r,n),e.lineTo(i,l),e.lineTo(o,c),e.lineTo(ic*r-lc*n,lc*r+ic*n),e.lineTo(ic*i-lc*l,lc*i+ic*l),e.lineTo(ic*o-lc*c,lc*o+ic*c),e.lineTo(ic*r+lc*n,ic*n-lc*r),e.lineTo(ic*i+lc*l,ic*l-lc*i),e.lineTo(ic*o+lc*c,ic*c-lc*o),e.closePath()}};function qAe(e,t){let a=null,r=n_(n);e=typeof e=="function"?e:hr(e||l_),t=typeof t=="function"?t:hr(t===void 0?64:+t);function n(){let i;if(a||(a=i=r()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),i)return a=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:hr(i),n):e},n.size=function(i){return arguments.length?(t=typeof i=="function"?i:hr(+i),n):t},n.context=function(i){return arguments.length?(a=i??null,n):a},n}function Bw(){}function $w(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function mK(e){this._context=e}mK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$w(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$w(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function GAe(e){return new mK(e)}function pK(e){this._context=e}pK.prototype={areaStart:Bw,areaEnd:Bw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$w(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function KAe(e){return new pK(e)}function xK(e){this._context=e}xK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,r):this._context.moveTo(a,r);break;case 3:this._point=4;default:$w(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YAe(e){return new xK(e)}function gK(e){this._context=e}gK.prototype={areaStart:Bw,areaEnd:Bw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function XAe(e){return new gK(e)}function v9(e){return e<0?-1:1}function b9(e,t,a){var r=e._x1-e._x0,n=t-e._x1,i=(e._y1-e._y0)/(r||n<0&&-0),l=(a-e._y1)/(n||r<0&&-0),o=(i*n+l*r)/(r+n);return(v9(i)+v9(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function y9(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function $3(e,t,a){var r=e._x0,n=e._y0,i=e._x1,l=e._y1,o=(i-r)/3;e._context.bezierCurveTo(r+o,n+o*t,i-o,l-o*a,i,l)}function Uw(e){this._context=e}Uw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$3(this,this._t0,y9(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,$3(this,y9(this,a=b9(this,e,t)),a);break;default:$3(this,this._t0,a=b9(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function vK(e){this._context=new bK(e)}(vK.prototype=Object.create(Uw.prototype)).point=function(e,t){Uw.prototype.point.call(this,t,e)};function bK(e){this._context=e}bK.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,r,n,i){this._context.bezierCurveTo(t,e,r,a,i,n)}};function JAe(e){return new Uw(e)}function QAe(e){return new vK(e)}function yK(e){this._context=e}yK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var r=w9(e),n=w9(t),i=0,l=1;l<a;++i,++l)this._context.bezierCurveTo(r[0][i],n[0][i],r[1][i],n[1][i],e[l],t[l]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function w9(e){var t,a=e.length-1,r,n=new Array(a),i=new Array(a),l=new Array(a);for(n[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<a-1;++t)n[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(n[a-1]=2,i[a-1]=7,l[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)r=n[t]/i[t-1],i[t]-=r,l[t]-=r*l[t-1];for(n[a-1]=l[a-1]/i[a-1],t=a-2;t>=0;--t)n[t]=(l[t]-n[t+1])/i[t];for(i[a-1]=(e[a]+n[a-1])/2,t=0;t<a-1;++t)i[t]=2*e[t+1]-n[t+1];return[n,i]}function ZAe(e){return new yK(e)}function pN(e,t){this._context=e,this._t=t}pN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function e8e(e){return new pN(e,.5)}function t8e(e){return new pN(e,0)}function a8e(e){return new pN(e,1)}function hx(e,t){if((l=e.length)>1)for(var a=1,r,n,i=e[t[0]],l,o=i.length;a<l;++a)for(n=i,i=e[t[a]],r=0;r<o;++r)i[r][1]+=i[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}function r6(e){for(var t=e.length,a=new Array(t);--t>=0;)a[t]=t;return a}function s8e(e,t){return e[t]}function r8e(e){const t=[];return t.key=e,t}function n8e(){var e=hr([]),t=r6,a=hx,r=s8e;function n(i){var l=Array.from(e.apply(this,arguments),r8e),o,c=l.length,d=-1,u;for(const f of i)for(o=0,++d;o<c;++o)(l[o][d]=[0,+r(f,l[o].key,d,i)]).data=f;for(o=0,u=i_(t(l));o<c;++o)l[u[o]].index=o;return a(l,u),l}return n.keys=function(i){return arguments.length?(e=typeof i=="function"?i:hr(Array.from(i)),n):e},n.value=function(i){return arguments.length?(r=typeof i=="function"?i:hr(+i),n):r},n.order=function(i){return arguments.length?(t=i==null?r6:typeof i=="function"?i:hr(Array.from(i)),n):t},n.offset=function(i){return arguments.length?(a=i??hx,n):a},n}function i8e(e,t){if((r=e.length)>0){for(var a,r,n=0,i=e[0].length,l;n<i;++n){for(l=a=0;a<r;++a)l+=e[a][n][1]||0;if(l)for(a=0;a<r;++a)e[a][n][1]/=l}hx(e,t)}}function l8e(e,t){if((n=e.length)>0){for(var a=0,r=e[t[0]],n,i=r.length;a<i;++a){for(var l=0,o=0;l<n;++l)o+=e[l][a][1]||0;r[a][1]+=r[a][0]=-o/2}hx(e,t)}}function o8e(e,t){if(!(!((l=e.length)>0)||!((i=(n=e[t[0]]).length)>0))){for(var a=0,r=1,n,i,l;r<i;++r){for(var o=0,c=0,d=0;o<l;++o){for(var u=e[t[o]],f=u[r][1]||0,p=u[r-1][1]||0,m=(f-p)/2,v=0;v<o;++v){var g=e[t[v]],b=g[r][1]||0,j=g[r-1][1]||0;m+=b-j}c+=f,d+=m*f}n[r-1][1]+=n[r-1][0]=a,c&&(a-=d/c)}n[r-1][1]+=n[r-1][0]=a,hx(e,t)}}var U3={},z3={},j9;function c8e(){return j9||(j9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==="__proto__"}e.isUnsafeProperty=t})(z3)),z3}var H3={},N9;function wK(){return N9||(N9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){switch(typeof a){case"number":case"symbol":return!1;case"string":return a.includes(".")||a.includes("[")||a.includes("]")}}e.isDeepKey=t})(H3)),H3}var V3={},k9;function o_(){return k9||(k9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="string"||typeof a=="symbol"?a:Object.is(a?.valueOf?.(),-0)?"-0":String(a)}e.toKey=t})(V3)),V3}var W3={},q3={},S9;function d8e(){return S9||(S9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){if(a==null)return"";if(typeof a=="string")return a;if(Array.isArray(a))return a.map(t).join(",");const r=String(a);return r==="0"&&Object.is(Number(a),-0)?"-0":r}e.toString=t})(q3)),q3}var C9;function c_(){return C9||(C9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d8e(),a=o_();function r(n){if(Array.isArray(n))return n.map(a.toKey);if(typeof n=="symbol")return[n];n=t.toString(n);const i=[],l=n.length;if(l===0)return i;let o=0,c="",d="",u=!1;for(n.charCodeAt(0)===46&&(i.push(""),o++);o<l;){const f=n[o];d?f==="\\"&&o+1<l?(o++,c+=n[o]):f===d?d="":c+=f:u?f==='"'||f==="'"?d=f:f==="]"?(u=!1,i.push(c),c=""):c+=f:f==="["?(u=!0,c&&(i.push(c),c="")):f==="."?c&&(i.push(c),c=""):c+=f,o++}return c&&i.push(c),i}e.toPath=r})(W3)),W3}var A9;function d_(){return A9||(A9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c8e(),a=wK(),r=o_(),n=c_();function i(o,c,d){if(o==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const u=o[c];return u===void 0?a.isDeepKey(c)?i(o,n.toPath(c),d):d:u}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const u=o[c];return u===void 0?d:u}default:{if(Array.isArray(c))return l(o,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const u=o[c];return u===void 0?d:u}}}function l(o,c,d){if(c.length===0)return d;let u=o;for(let f=0;f<c.length;f++){if(u==null||t.isUnsafeProperty(c[f]))return d;u=u[c[f]]}return u===void 0?d:u}e.get=i})(U3)),U3}var G3,_9;function u8e(){return _9||(_9=1,G3=d_().get),G3}var h8e=u8e();const fx=xh(h8e);var eo=e=>e===0?0:e>0?1:-1,jc=e=>typeof e=="number"&&e!=+e,uh=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Sa=e=>(typeof e=="number"||e instanceof Number)&&!jc(e),au=e=>Sa(e)||typeof e=="string",f8e=0,y1=e=>{var t=++f8e;return"".concat(e||"").concat(t)},hd=function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Sa(t)&&typeof t!="string")return r;var i;if(uh(t)){if(a==null)return r;var l=t.indexOf("%");i=a*parseFloat(t.slice(0,l))/100}else i=+t;return jc(i)&&(i=r),n&&a!=null&&i>a&&(i=a),i},jK=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,a={},r=0;r<t;r++)if(!a[e[r]])a[e[r]]=!0;else return!0;return!1};function In(e,t,a){return Sa(e)&&Sa(t)?e+a*(t-e):t}function NK(e,t,a){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):fx(r,t))===a)}var Br=e=>e===null||typeof e>"u",nb=e=>Br(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),m8e=["type","size","sizeType"];function n6(){return n6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n6.apply(null,arguments)}function T9(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function E9(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?T9(Object(a),!0).forEach(function(r){p8e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T9(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function p8e(e,t,a){return(t=x8e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function x8e(e){var t=g8e(e,"string");return typeof t=="symbol"?t:t+""}function g8e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v8e(e,t){if(e==null)return{};var a,r,n=b8e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function b8e(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var kK={symbolCircle:l_,symbolCross:OAe,symbolDiamond:FAe,symbolSquare:IAe,symbolStar:zAe,symbolTriangle:HAe,symbolWye:WAe},y8e=Math.PI/180,w8e=e=>{var t="symbol".concat(nb(e));return kK[t]||l_},j8e=(e,t,a)=>{if(t==="area")return e;switch(a){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*y8e;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},N8e=(e,t)=>{kK["symbol".concat(nb(e))]=t},SK=e=>{var{type:t="circle",size:a=64,sizeType:r="area"}=e,n=v8e(e,m8e),i=E9(E9({},n),{},{type:t,size:a,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var o=()=>{var p=w8e(l),m=qAe().type(p).size(j8e(a,r,l)),v=m();if(v!==null)return v},{className:c,cx:d,cy:u}=i,f=Ol(i);return d===+d&&u===+u&&a===+a?y.createElement("path",n6({},f,{className:ar("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:o()})):null};SK.registerSymbol=N8e;var u_=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(y.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var r={};return Object.keys(a).forEach(n=>{r_(n)&&(r[n]=(i=>a[n](a,i)))}),r},k8e=(e,t,a)=>r=>(e(t,a,r),null),h_=(e,t,a)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(n=>{var i=e[n];r_(n)&&typeof i=="function"&&(r||(r={}),r[n]=k8e(i,t,a))}),r},K3={},Y3={},D9;function S8e(){return D9||(D9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r){const n=new Map;for(let i=0;i<a.length;i++){const l=a[i],o=r(l);n.has(o)||n.set(o,l)}return Array.from(n.values())}e.uniqBy=t})(Y3)),Y3}var X3={},M9;function CK(){return M9||(M9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a}e.identity=t})(X3)),X3}var J3={},Q3={},Z3={},P9;function C8e(){return P9||(P9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Number.isSafeInteger(a)&&a>=0}e.isLength=t})(Z3)),Z3}var L9;function f_(){return L9||(L9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C8e();function a(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=a})(Q3)),Q3}var ek={},O9;function A8e(){return O9||(O9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="object"&&a!==null}e.isObjectLike=t})(ek)),ek}var R9;function _8e(){return R9||(R9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f_(),a=A8e();function r(n){return a.isObjectLike(n)&&t.isArrayLike(n)}e.isArrayLikeObject=r})(J3)),J3}var tk={},ak={},F9;function T8e(){return F9||(F9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d_();function a(r){return function(n){return t.get(n,r)}}e.property=a})(ak)),ak}var sk={},rk={},nk={},ik={},I9;function AK(){return I9||(I9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a!==null&&(typeof a=="object"||typeof a=="function")}e.isObject=t})(ik)),ik}var lk={},B9;function _K(){return B9||(B9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null||typeof a!="object"&&typeof a!="function"}e.isPrimitive=t})(lk)),lk}var ok={},$9;function TK(){return $9||($9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r){return a===r||Number.isNaN(a)&&Number.isNaN(r)}e.eq=t})(ok)),ok}var U9;function E8e(){return U9||(U9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AK(),a=_K(),r=TK();function n(u,f,p){return typeof p!="function"?n(u,f,()=>{}):i(u,f,function m(v,g,b,j,N,k){const S=p(v,g,b,j,N,k);return S!==void 0?!!S:i(v,g,m,k)},new Map)}function i(u,f,p,m){if(f===u)return!0;switch(typeof f){case"object":return l(u,f,p,m);case"function":return Object.keys(f).length>0?i(u,{...f},p,m):r.eq(u,f);default:return t.isObject(u)?typeof f=="string"?f==="":!0:r.eq(u,f)}}function l(u,f,p,m){if(f==null)return!0;if(Array.isArray(f))return c(u,f,p,m);if(f instanceof Map)return o(u,f,p,m);if(f instanceof Set)return d(u,f,p,m);const v=Object.keys(f);if(u==null)return v.length===0;if(v.length===0)return!0;if(m?.has(f))return m.get(f)===u;m?.set(f,u);try{for(let g=0;g<v.length;g++){const b=v[g];if(!a.isPrimitive(u)&&!(b in u)||f[b]===void 0&&u[b]!==void 0||f[b]===null&&u[b]!==null||!p(u[b],f[b],b,u,f,m))return!1}return!0}finally{m?.delete(f)}}function o(u,f,p,m){if(f.size===0)return!0;if(!(u instanceof Map))return!1;for(const[v,g]of f.entries()){const b=u.get(v);if(p(b,g,v,u,f,m)===!1)return!1}return!0}function c(u,f,p,m){if(f.length===0)return!0;if(!Array.isArray(u))return!1;const v=new Set;for(let g=0;g<f.length;g++){const b=f[g];let j=!1;for(let N=0;N<u.length;N++){if(v.has(N))continue;const k=u[N];let S=!1;if(p(k,b,g,u,f,m)&&(S=!0),S){v.add(N),j=!0;break}}if(!j)return!1}return!0}function d(u,f,p,m){return f.size===0?!0:u instanceof Set?c([...u],[...f],p,m):!1}e.isMatchWith=n,e.isSetMatch=d})(nk)),nk}var z9;function EK(){return z9||(z9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E8e();function a(r,n){return t.isMatchWith(r,n,()=>{})}e.isMatch=a})(rk)),rk}var ck={},dk={},uk={},H9;function D8e(){return H9||(H9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Object.getOwnPropertySymbols(a).filter(r=>Object.prototype.propertyIsEnumerable.call(a,r))}e.getSymbols=t})(uk)),uk}var hk={},V9;function DK(){return V9||(V9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(a)}e.getTag=t})(hk)),hk}var fk={},W9;function MK(){return W9||(W9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",a="[object String]",r="[object Number]",n="[object Boolean]",i="[object Arguments]",l="[object Symbol]",o="[object Date]",c="[object Map]",d="[object Set]",u="[object Array]",f="[object Function]",p="[object ArrayBuffer]",m="[object Object]",v="[object Error]",g="[object DataView]",b="[object Uint8Array]",j="[object Uint8ClampedArray]",N="[object Uint16Array]",k="[object Uint32Array]",S="[object BigUint64Array]",C="[object Int8Array]",_="[object Int16Array]",P="[object Int32Array]",L="[object BigInt64Array]",U="[object Float32Array]",z="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=u,e.bigInt64ArrayTag=L,e.bigUint64ArrayTag=S,e.booleanTag=n,e.dataViewTag=g,e.dateTag=o,e.errorTag=v,e.float32ArrayTag=U,e.float64ArrayTag=z,e.functionTag=f,e.int16ArrayTag=_,e.int32ArrayTag=P,e.int8ArrayTag=C,e.mapTag=c,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=d,e.stringTag=a,e.symbolTag=l,e.uint16ArrayTag=N,e.uint32ArrayTag=k,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=j})(fk)),fk}var mk={},q9;function M8e(){return q9||(q9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}e.isTypedArray=t})(mk)),mk}var G9;function PK(){return G9||(G9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D8e(),a=DK(),r=MK(),n=_K(),i=M8e();function l(u,f){return o(u,void 0,u,new Map,f)}function o(u,f,p,m=new Map,v=void 0){const g=v?.(u,f,p,m);if(g!==void 0)return g;if(n.isPrimitive(u))return u;if(m.has(u))return m.get(u);if(Array.isArray(u)){const b=new Array(u.length);m.set(u,b);for(let j=0;j<u.length;j++)b[j]=o(u[j],j,p,m,v);return Object.hasOwn(u,"index")&&(b.index=u.index),Object.hasOwn(u,"input")&&(b.input=u.input),b}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const b=new RegExp(u.source,u.flags);return b.lastIndex=u.lastIndex,b}if(u instanceof Map){const b=new Map;m.set(u,b);for(const[j,N]of u)b.set(j,o(N,j,p,m,v));return b}if(u instanceof Set){const b=new Set;m.set(u,b);for(const j of u)b.add(o(j,void 0,p,m,v));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const b=new(Object.getPrototypeOf(u)).constructor(u.length);m.set(u,b);for(let j=0;j<u.length;j++)b[j]=o(u[j],j,p,m,v);return b}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const b=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return m.set(u,b),c(b,u,p,m,v),b}if(typeof File<"u"&&u instanceof File){const b=new File([u],u.name,{type:u.type});return m.set(u,b),c(b,u,p,m,v),b}if(typeof Blob<"u"&&u instanceof Blob){const b=new Blob([u],{type:u.type});return m.set(u,b),c(b,u,p,m,v),b}if(u instanceof Error){const b=new u.constructor;return m.set(u,b),b.message=u.message,b.name=u.name,b.stack=u.stack,b.cause=u.cause,c(b,u,p,m,v),b}if(u instanceof Boolean){const b=new Boolean(u.valueOf());return m.set(u,b),c(b,u,p,m,v),b}if(u instanceof Number){const b=new Number(u.valueOf());return m.set(u,b),c(b,u,p,m,v),b}if(u instanceof String){const b=new String(u.valueOf());return m.set(u,b),c(b,u,p,m,v),b}if(typeof u=="object"&&d(u)){const b=Object.create(Object.getPrototypeOf(u));return m.set(u,b),c(b,u,p,m,v),b}return u}function c(u,f,p=u,m,v){const g=[...Object.keys(f),...t.getSymbols(f)];for(let b=0;b<g.length;b++){const j=g[b],N=Object.getOwnPropertyDescriptor(u,j);(N==null||N.writable)&&(u[j]=o(f[j],j,p,m,v))}}function d(u){switch(a.getTag(u)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=o,e.copyProperties=c})(dk)),dk}var K9;function P8e(){return K9||(K9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PK();function a(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=a})(ck)),ck}var Y9;function L8e(){return Y9||(Y9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EK(),a=P8e();function r(n){return n=a.cloneDeep(n),i=>t.isMatch(i,n)}e.matches=r})(sk)),sk}var pk={},xk={},gk={},X9;function O8e(){return X9||(X9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PK(),a=MK();function r(n,i){return t.cloneDeepWith(n,(l,o,c,d)=>{const u=i?.(l,o,c,d);if(u!==void 0)return u;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case a.numberTag:case a.stringTag:case a.booleanTag:{const f=new n.constructor(n?.valueOf());return t.copyProperties(f,n),f}case a.argumentsTag:{const f={};return t.copyProperties(f,n),f.length=n.length,f[Symbol.iterator]=n[Symbol.iterator],f}default:return}})}e.cloneDeepWith=r})(gk)),gk}var J9;function R8e(){return J9||(J9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O8e();function a(r){return t.cloneDeepWith(r)}e.cloneDeep=a})(xk)),xk}var vk={},bk={},Q9;function LK(){return Q9||(Q9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function a(r,n=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<n;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=a})(bk)),bk}var yk={},Z9;function F8e(){return Z9||(Z9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DK();function a(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=a})(yk)),yk}var eF;function I8e(){return eF||(eF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wK(),a=LK(),r=F8e(),n=c_();function i(l,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&l?.[o]==null?c=n.toPath(o):c=[o],c.length===0)return!1;let d=l;for(let u=0;u<c.length;u++){const f=c[u];if((d==null||!Object.hasOwn(d,f))&&!((Array.isArray(d)||r.isArguments(d))&&a.isIndex(f)&&f<d.length))return!1;d=d[f]}return!0}e.has=i})(vk)),vk}var tF;function B8e(){return tF||(tF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EK(),a=o_(),r=R8e(),n=d_(),i=I8e();function l(o,c){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=a.toKey(o);break}}return c=r.cloneDeep(c),function(d){const u=n.get(d,o);return u===void 0?i.has(d,o):c===void 0?u===void 0:t.isMatch(u,c)}}e.matchesProperty=l})(pk)),pk}var aF;function $8e(){return aF||(aF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CK(),a=T8e(),r=L8e(),n=B8e();function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?n.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return a.property(l)}}e.iteratee=i})(tk)),tk}var sF;function U8e(){return sF||(sF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S8e(),a=CK(),r=_8e(),n=$8e();function i(l,o=a.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),n.iteratee(o)):[]}e.uniqBy=i})(K3)),K3}var wk,rF;function z8e(){return rF||(rF=1,wk=U8e().uniqBy),wk}var H8e=z8e();const nF=xh(H8e);function V8e(e,t,a){return t===!0?nF(e,a):typeof t=="function"?nF(e,t):e}var jk={exports:{}},Nk={},kk={exports:{}},Sk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iF;function W8e(){if(iF)return Sk;iF=1;var e=bx();function t(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var a=typeof Object.is=="function"?Object.is:t,r=e.useState,n=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function o(f,p){var m=p(),v=r({inst:{value:m,getSnapshot:p}}),g=v[0].inst,b=v[1];return i(function(){g.value=m,g.getSnapshot=p,c(g)&&b({inst:g})},[f,m,p]),n(function(){return c(g)&&b({inst:g}),f(function(){c(g)&&b({inst:g})})},[f]),l(m),m}function c(f){var p=f.getSnapshot;f=f.value;try{var m=p();return!a(f,m)}catch{return!0}}function d(f,p){return p()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:o;return Sk.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,Sk}var lF;function q8e(){return lF||(lF=1,kk.exports=W8e()),kk.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oF;function G8e(){if(oF)return Nk;oF=1;var e=bx(),t=q8e();function a(d,u){return d===u&&(d!==0||1/d===1/u)||d!==d&&u!==u}var r=typeof Object.is=="function"?Object.is:a,n=t.useSyncExternalStore,i=e.useRef,l=e.useEffect,o=e.useMemo,c=e.useDebugValue;return Nk.useSyncExternalStoreWithSelector=function(d,u,f,p,m){var v=i(null);if(v.current===null){var g={hasValue:!1,value:null};v.current=g}else g=v.current;v=o(function(){function j(_){if(!N){if(N=!0,k=_,_=p(_),m!==void 0&&g.hasValue){var P=g.value;if(m(P,_))return S=P}return S=_}if(P=S,r(k,_))return P;var L=p(_);return m!==void 0&&m(P,L)?(k=_,P):(k=_,S=L)}var N=!1,k,S,C=f===void 0?null:f;return[function(){return j(u())},C===null?void 0:function(){return j(C())}]},[u,f,p,m]);var b=n(d,v[0],v[1]);return l(function(){g.hasValue=!0,g.value=b},[b]),c(b),b},Nk}var cF;function K8e(){return cF||(cF=1,jk.exports=G8e()),jk.exports}var Y8e=K8e(),m_=y.createContext(null),X8e=e=>e,si=()=>{var e=y.useContext(m_);return e?e.store.dispatch:X8e},V2=()=>{},J8e=()=>V2,Q8e=(e,t)=>e===t;function ka(e){var t=y.useContext(m_);return Y8e.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:J8e,t?t.store.getState:V2,t?t.store.getState:V2,t?e:V2,Q8e)}function Z8e(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function e_e(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function t_e(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(a=>typeof a=="function")){const a=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${a}]`)}}var dF=e=>Array.isArray(e)?e:[e];function a_e(e){const t=Array.isArray(e[0])?e[0]:e;return t_e(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function s_e(e,t){const a=[],{length:r}=e;for(let n=0;n<r;n++)a.push(e[n].apply(null,t));return a}var r_e=class{constructor(e){this.value=e}deref(){return this.value}},n_e=typeof WeakRef<"u"?WeakRef:r_e,i_e=0,uF=1;function x2(){return{s:i_e,v:void 0,o:null,p:null}}function OK(e,t={}){let a=x2();const{resultEqualityCheck:r}=t;let n,i=0;function l(){let o=a;const{length:c}=arguments;for(let f=0,p=c;f<p;f++){const m=arguments[f];if(typeof m=="function"||typeof m=="object"&&m!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const g=v.get(m);g===void 0?(o=x2(),v.set(m,o)):o=g}else{let v=o.p;v===null&&(o.p=v=new Map);const g=v.get(m);g===void 0?(o=x2(),v.set(m,o)):o=g}}const d=o;let u;if(o.s===uF)u=o.v;else if(u=e.apply(null,arguments),i++,r){const f=n?.deref?.()??n;f!=null&&r(f,u)&&(u=f,i!==0&&i--),n=typeof u=="object"&&u!==null||typeof u=="function"?new n_e(u):u}return d.s=uF,d.v=u,u}return l.clearCache=()=>{a=x2(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function l_e(e,...t){const a=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...n)=>{let i=0,l=0,o,c={},d=n.pop();typeof d=="object"&&(c=d,d=n.pop()),Z8e(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const u={...a,...c},{memoize:f,memoizeOptions:p=[],argsMemoize:m=OK,argsMemoizeOptions:v=[]}=u,g=dF(p),b=dF(v),j=a_e(n),N=f(function(){return i++,d.apply(null,arguments)},...g),k=m(function(){l++;const C=s_e(j,arguments);return o=N.apply(null,C),o},...b);return Object.assign(k,{resultFunc:d,memoizedResultFunc:N,dependencies:j,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var xt=l_e(OK),o_e=Object.assign((e,t=xt)=>{e_e(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const a=Object.keys(e),r=a.map(i=>e[i]);return t(r,(...i)=>i.reduce((l,o,c)=>(l[a[c]]=o,l),{}))},{withTypes:()=>o_e}),Ck={},Ak={},_k={},hF;function c_e(){return hF||(hF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const a=(r,n,i)=>{if(r!==n){const l=t(r),o=t(n);if(l===o&&l===0){if(r<n)return i==="desc"?1:-1;if(r>n)return i==="desc"?-1:1}return i==="desc"?o-l:l-o}return 0};e.compareValues=a})(_k)),_k}var Tk={},Ek={},fF;function RK(){return fF||(fF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"||a instanceof Symbol}e.isSymbol=t})(Ek)),Ek}var mF;function d_e(){return mF||(mF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RK(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function n(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!a.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=n})(Tk)),Tk}var pF;function u_e(){return pF||(pF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c_e(),a=d_e(),r=c_();function n(i,l,o,c){if(i==null)return[];o=c?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const d=(m,v)=>{let g=m;for(let b=0;b<v.length&&g!=null;++b)g=g[v[b]];return g},u=(m,v)=>v==null||m==null?v:typeof m=="object"&&"key"in m?Object.hasOwn(v,m.key)?v[m.key]:d(v,m.path):typeof m=="function"?m(v):Array.isArray(m)?d(v,m):typeof v=="object"?v[m]:v,f=l.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||a.isKey(m)?m:{key:m,path:r.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(v=>u(v,m))})).slice().sort((m,v)=>{for(let g=0;g<f.length;g++){const b=t.compareValues(m.criteria[g],v.criteria[g],o[g]);if(b!==0)return b}return 0}).map(m=>m.original)}e.orderBy=n})(Ak)),Ak}var Dk={},xF;function h_e(){return xF||(xF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r=1){const n=[],i=Math.floor(r),l=(o,c)=>{for(let d=0;d<o.length;d++){const u=o[d];Array.isArray(u)&&c<i?l(u,c+1):n.push(u)}};return l(a,0),n}e.flatten=t})(Dk)),Dk}var Mk={},gF;function FK(){return gF||(gF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LK(),a=f_(),r=AK(),n=TK();function i(l,o,c){return r.isObject(c)&&(typeof o=="number"&&a.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?n.eq(c[o],l):!1}e.isIterateeCall=i})(Mk)),Mk}var vF;function f_e(){return vF||(vF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u_e(),a=h_e(),r=FK();function n(i,...l){const o=l.length;return o>1&&r.isIterateeCall(i,l[0],l[1])?l=[]:o>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,a.flatten(l),["asc"])}e.sortBy=n})(Ck)),Ck}var Pk,bF;function m_e(){return bF||(bF=1,Pk=f_e().sortBy),Pk}var p_e=m_e();const xN=xh(p_e);var IK=e=>e.legend.settings,x_e=e=>e.legend.size,g_e=e=>e.legend.payload;xt([g_e,IK],(e,t)=>{var{itemSorter:a}=t,r=e.flat(1);return a?xN(r,a):r});var g2=1;function v_e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,a]=y.useState({height:0,left:0,top:0,width:0}),r=y.useCallback(n=>{if(n!=null){var i=n.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>g2||Math.abs(l.left-t.left)>g2||Math.abs(l.top-t.top)>g2||Math.abs(l.width-t.width)>g2)&&a({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Ii(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var b_e=typeof Symbol=="function"&&Symbol.observable||"@@observable",yF=b_e,Lk=()=>Math.random().toString(36).substring(7).split("").join("."),y_e={INIT:`@@redux/INIT${Lk()}`,REPLACE:`@@redux/REPLACE${Lk()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Lk()}`},zw=y_e;function p_(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function BK(e,t,a){if(typeof e!="function")throw new Error(Ii(2));if(typeof t=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(Ii(0));if(typeof t=="function"&&typeof a>"u"&&(a=t,t=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(Ii(1));return a(BK)(e,t)}let r=e,n=t,i=new Map,l=i,o=0,c=!1;function d(){l===i&&(l=new Map,i.forEach((b,j)=>{l.set(j,b)}))}function u(){if(c)throw new Error(Ii(3));return n}function f(b){if(typeof b!="function")throw new Error(Ii(4));if(c)throw new Error(Ii(5));let j=!0;d();const N=o++;return l.set(N,b),function(){if(j){if(c)throw new Error(Ii(6));j=!1,d(),l.delete(N),i=null}}}function p(b){if(!p_(b))throw new Error(Ii(7));if(typeof b.type>"u")throw new Error(Ii(8));if(typeof b.type!="string")throw new Error(Ii(17));if(c)throw new Error(Ii(9));try{c=!0,n=r(n,b)}finally{c=!1}return(i=l).forEach(N=>{N()}),b}function m(b){if(typeof b!="function")throw new Error(Ii(10));r=b,p({type:zw.REPLACE})}function v(){const b=f;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(Ii(11));function N(){const S=j;S.next&&S.next(u())}return N(),{unsubscribe:b(N)}},[yF](){return this}}}return p({type:zw.INIT}),{dispatch:p,subscribe:f,getState:u,replaceReducer:m,[yF]:v}}function w_e(e){Object.keys(e).forEach(t=>{const a=e[t];if(typeof a(void 0,{type:zw.INIT})>"u")throw new Error(Ii(12));if(typeof a(void 0,{type:zw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ii(13))})}function $K(e){const t=Object.keys(e),a={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(a[l]=e[l])}const r=Object.keys(a);let n;try{w_e(a)}catch(i){n=i}return function(l={},o){if(n)throw n;let c=!1;const d={};for(let u=0;u<r.length;u++){const f=r[u],p=a[f],m=l[f],v=p(m,o);if(typeof v>"u")throw o&&o.type,new Error(Ii(14));d[f]=v,c=c||v!==m}return c=c||r.length!==Object.keys(l).length,c?d:l}}function Hw(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,a)=>(...r)=>t(a(...r)))}function j_e(...e){return t=>(a,r)=>{const n=t(a,r);let i=()=>{throw new Error(Ii(15))};const l={getState:n.getState,dispatch:(c,...d)=>i(c,...d)},o=e.map(c=>c(l));return i=Hw(...o)(n.dispatch),{...n,dispatch:i}}}function UK(e){return p_(e)&&"type"in e&&typeof e.type=="string"}var zK=Symbol.for("immer-nothing"),wF=Symbol.for("immer-draftable"),Bo=Symbol.for("immer-state");function td(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var w1=Object.getPrototypeOf;function ym(e){return!!e&&!!e[Bo]}function hh(e){return e?HK(e)||Array.isArray(e)||!!e[wF]||!!e.constructor?.[wF]||ib(e)||vN(e):!1}var N_e=Object.prototype.constructor.toString(),jF=new WeakMap;function HK(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const a=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(a===Object)return!0;if(typeof a!="function")return!1;let r=jF.get(a);return r===void 0&&(r=Function.toString.call(a),jF.set(a,r)),r===N_e}function Vw(e,t,a=!0){gN(e)===0?(a?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{t(n,e[n],e)}):e.forEach((r,n)=>t(n,r,e))}function gN(e){const t=e[Bo];return t?t.type_:Array.isArray(e)?1:ib(e)?2:vN(e)?3:0}function i6(e,t){return gN(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function VK(e,t,a){const r=gN(e);r===2?e.set(t,a):r===3?e.add(a):e[t]=a}function k_e(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ib(e){return e instanceof Map}function vN(e){return e instanceof Set}function P0(e){return e.copy_||e.base_}function l6(e,t){if(ib(e))return new Map(e);if(vN(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const a=HK(e);if(t===!0||t==="class_only"&&!a){const r=Object.getOwnPropertyDescriptors(e);delete r[Bo];let n=Reflect.ownKeys(r);for(let i=0;i<n.length;i++){const l=n[i],o=r[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(w1(e),r)}else{const r=w1(e);if(r!==null&&a)return{...e};const n=Object.create(r);return Object.assign(n,e)}}function x_(e,t=!1){return bN(e)||ym(e)||!hh(e)||(gN(e)>1&&Object.defineProperties(e,{set:v2,add:v2,clear:v2,delete:v2}),Object.freeze(e),t&&Object.values(e).forEach(a=>x_(a,!0))),e}function S_e(){td(2)}var v2={value:S_e};function bN(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var C_e={};function wm(e){const t=C_e[e];return t||td(0,e),t}var j1;function WK(){return j1}function A_e(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function NF(e,t){t&&(wm("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function o6(e){c6(e),e.drafts_.forEach(__e),e.drafts_=null}function c6(e){e===j1&&(j1=e.parent_)}function kF(e){return j1=A_e(j1,e)}function __e(e){const t=e[Bo];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function SF(e,t){t.unfinalizedDrafts_=t.drafts_.length;const a=t.drafts_[0];return e!==void 0&&e!==a?(a[Bo].modified_&&(o6(t),td(4)),hh(e)&&(e=Ww(t,e),t.parent_||qw(t,e)),t.patches_&&wm("Patches").generateReplacementPatches_(a[Bo].base_,e,t.patches_,t.inversePatches_)):e=Ww(t,a,[]),o6(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==zK?e:void 0}function Ww(e,t,a){if(bN(t))return t;const r=e.immer_.shouldUseStrictIteration(),n=t[Bo];if(!n)return Vw(t,(i,l)=>CF(e,n,t,i,l,a),r),t;if(n.scope_!==e)return t;if(!n.modified_)return qw(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let l=i,o=!1;n.type_===3&&(l=new Set(i),i.clear(),o=!0),Vw(l,(c,d)=>CF(e,n,i,c,d,a,o),r),qw(e,i,!1),a&&e.patches_&&wm("Patches").generatePatches_(n,a,e.patches_,e.inversePatches_)}return n.copy_}function CF(e,t,a,r,n,i,l){if(n==null||typeof n!="object"&&!l)return;const o=bN(n);if(!(o&&!l)){if(ym(n)){const c=i&&t&&t.type_!==3&&!i6(t.assigned_,r)?i.concat(r):void 0,d=Ww(e,n,c);if(VK(a,r,d),ym(d))e.canAutoFreeze_=!1;else return}else l&&a.add(n);if(hh(n)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===n&&o)return;Ww(e,n),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(ib(a)?a.has(r):Object.prototype.propertyIsEnumerable.call(a,r))&&qw(e,n)}}}function qw(e,t,a=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&x_(t,a)}function T_e(e,t){const a=Array.isArray(e),r={type_:a?1:0,scope_:t?t.scope_:WK(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=r,i=g_;a&&(n=[r],i=N1);const{revoke:l,proxy:o}=Proxy.revocable(n,i);return r.draft_=o,r.revoke_=l,o}var g_={get(e,t){if(t===Bo)return e;const a=P0(e);if(!i6(a,t))return E_e(e,a,t);const r=a[t];return e.finalized_||!hh(r)?r:r===Ok(e.base_,t)?(Rk(e),e.copy_[t]=u6(r,e)):r},has(e,t){return t in P0(e)},ownKeys(e){return Reflect.ownKeys(P0(e))},set(e,t,a){const r=qK(P0(e),t);if(r?.set)return r.set.call(e.draft_,a),!0;if(!e.modified_){const n=Ok(P0(e),t),i=n?.[Bo];if(i&&i.base_===a)return e.copy_[t]=a,e.assigned_[t]=!1,!0;if(k_e(a,n)&&(a!==void 0||i6(e.base_,t)))return!0;Rk(e),d6(e)}return e.copy_[t]===a&&(a!==void 0||t in e.copy_)||Number.isNaN(a)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=a,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ok(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Rk(e),d6(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const a=P0(e),r=Reflect.getOwnPropertyDescriptor(a,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:a[t]}},defineProperty(){td(11)},getPrototypeOf(e){return w1(e.base_)},setPrototypeOf(){td(12)}},N1={};Vw(g_,(e,t)=>{N1[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});N1.deleteProperty=function(e,t){return N1.set.call(this,e,t,void 0)};N1.set=function(e,t,a){return g_.set.call(this,e[0],t,a,e[0])};function Ok(e,t){const a=e[Bo];return(a?P0(a):e)[t]}function E_e(e,t,a){const r=qK(t,a);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function qK(e,t){if(!(t in e))return;let a=w1(e);for(;a;){const r=Object.getOwnPropertyDescriptor(a,t);if(r)return r;a=w1(a)}}function d6(e){e.modified_||(e.modified_=!0,e.parent_&&d6(e.parent_))}function Rk(e){e.copy_||(e.copy_=l6(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var D_e=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,a,r)=>{if(typeof t=="function"&&typeof a!="function"){const i=a;a=t;const l=this;return function(c=i,...d){return l.produce(c,u=>a.call(this,u,...d))}}typeof a!="function"&&td(6),r!==void 0&&typeof r!="function"&&td(7);let n;if(hh(t)){const i=kF(this),l=u6(t,void 0);let o=!0;try{n=a(l),o=!1}finally{o?o6(i):c6(i)}return NF(i,r),SF(n,i)}else if(!t||typeof t!="object"){if(n=a(t),n===void 0&&(n=t),n===zK&&(n=void 0),this.autoFreeze_&&x_(n,!0),r){const i=[],l=[];wm("Patches").generateReplacementPatches_(t,n,i,l),r(i,l)}return n}else td(1,t)},this.produceWithPatches=(t,a)=>{if(typeof t=="function")return(l,...o)=>this.produceWithPatches(l,c=>t(c,...o));let r,n;return[this.produce(t,a,(l,o)=>{r=l,n=o}),r,n]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){hh(e)||td(8),ym(e)&&(e=rh(e));const t=kF(this),a=u6(e,void 0);return a[Bo].isManual_=!0,c6(t),a}finishDraft(e,t){const a=e&&e[Bo];(!a||!a.isManual_)&&td(9);const{scope_:r}=a;return NF(r,t),SF(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let a;for(a=t.length-1;a>=0;a--){const n=t[a];if(n.path.length===0&&n.op==="replace"){e=n.value;break}}a>-1&&(t=t.slice(a+1));const r=wm("Patches").applyPatches_;return ym(e)?r(e,t):this.produce(e,n=>r(n,t))}};function u6(e,t){const a=ib(e)?wm("MapSet").proxyMap_(e,t):vN(e)?wm("MapSet").proxySet_(e,t):T_e(e,t);return(t?t.scope_:WK()).drafts_.push(a),a}function rh(e){return ym(e)||td(10,e),GK(e)}function GK(e){if(!hh(e)||bN(e))return e;const t=e[Bo];let a,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,a=l6(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else a=l6(e,!0);return Vw(a,(n,i)=>{VK(a,n,GK(i))},r),t&&(t.finalized_=!1),a}var M_e=new D_e,KK=M_e.produce;function YK(e){return({dispatch:a,getState:r})=>n=>i=>typeof i=="function"?i(a,r,e):n(i)}var P_e=YK(),L_e=YK,O_e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hw:Hw.apply(null,arguments)};function Nc(e,t){function a(...r){if(t){let n=t(...r);if(!n)throw new Error(Ro(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:r[0]}}return a.toString=()=>`${e}`,a.type=e,a.match=r=>UK(r)&&r.type===e,a}var XK=class dv extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,dv.prototype)}static get[Symbol.species](){return dv}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new dv(...t[0].concat(this)):new dv(...t.concat(this))}};function AF(e){return hh(e)?KK(e,()=>{}):e}function b2(e,t,a){return e.has(t)?e.get(t):e.set(t,a(t)).get(t)}function R_e(e){return typeof e=="boolean"}var F_e=()=>function(t){const{thunk:a=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=t??{};let l=new XK;return a&&(R_e(a)?l.push(P_e):l.push(L_e(a.extraArgument))),l},JK="RTK_autoBatch",El=()=>e=>({payload:e,meta:{[JK]:!0}}),_F=e=>t=>{setTimeout(t,e)},QK=(e={type:"raf"})=>t=>(...a)=>{const r=t(...a);let n=!0,i=!1,l=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:_F(10):e.type==="callback"?e.queueNotification:_F(e.timeout),d=()=>{l=!1,i&&(i=!1,o.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const f=()=>n&&u(),p=r.subscribe(f);return o.add(u),()=>{p(),o.delete(u)}},dispatch(u){try{return n=!u?.meta?.[JK],i=!n,i&&(l||(l=!0,c(d))),r.dispatch(u)}finally{n=!0}}})},I_e=e=>function(a){const{autoBatch:r=!0}=a??{};let n=new XK(e);return r&&n.push(QK(typeof r=="object"?r:void 0)),n};function B_e(e){const t=F_e(),{reducer:a=void 0,middleware:r,devTools:n=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let o;if(typeof a=="function")o=a;else if(p_(a))o=$K(a);else throw new Error(Ro(1));let c;typeof r=="function"?c=r(t):c=t();let d=Hw;n&&(d=O_e({trace:!1,...typeof n=="object"&&n}));const u=j_e(...c),f=I_e(u);let p=typeof l=="function"?l(f):f();const m=d(...p);return BK(o,i,m)}function ZK(e){const t={},a=[];let r;const n={addCase(i,l){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(Ro(28));if(o in t)throw new Error(Ro(29));return t[o]=l,n},addAsyncThunk(i,l){return l.pending&&(t[i.pending.type]=l.pending),l.rejected&&(t[i.rejected.type]=l.rejected),l.fulfilled&&(t[i.fulfilled.type]=l.fulfilled),l.settled&&a.push({matcher:i.settled,reducer:l.settled}),n},addMatcher(i,l){return a.push({matcher:i,reducer:l}),n},addDefaultCase(i){return r=i,n}};return e(n),[t,a,r]}function $_e(e){return typeof e=="function"}function U_e(e,t){let[a,r,n]=ZK(t),i;if($_e(e))i=()=>AF(e());else{const o=AF(e);i=()=>o}function l(o=i(),c){let d=[a[c.type],...r.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[n]),d.reduce((u,f)=>{if(f)if(ym(u)){const m=f(u,c);return m===void 0?u:m}else{if(hh(u))return KK(u,p=>f(p,c));{const p=f(u,c);if(p===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return u},o)}return l.getInitialState=i,l}var z_e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",H_e=(e=21)=>{let t="",a=e;for(;a--;)t+=z_e[Math.random()*64|0];return t},V_e=Symbol.for("rtk-slice-createasyncthunk");function W_e(e,t){return`${e}/${t}`}function q_e({creators:e}={}){const t=e?.asyncThunk?.[V_e];return function(r){const{name:n,reducerPath:i=n}=r;if(!n)throw new Error(Ro(11));const l=(typeof r.reducers=="function"?r.reducers(K_e()):r.reducers)||{},o=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(k,S){const C=typeof k=="string"?k:k.type;if(!C)throw new Error(Ro(12));if(C in c.sliceCaseReducersByType)throw new Error(Ro(13));return c.sliceCaseReducersByType[C]=S,d},addMatcher(k,S){return c.sliceMatchers.push({matcher:k,reducer:S}),d},exposeAction(k,S){return c.actionCreators[k]=S,d},exposeCaseReducer(k,S){return c.sliceCaseReducersByName[k]=S,d}};o.forEach(k=>{const S=l[k],C={reducerName:k,type:W_e(n,k),createNotation:typeof r.reducers=="function"};X_e(S)?Q_e(C,S,d,t):Y_e(C,S,d)});function u(){const[k={},S=[],C=void 0]=typeof r.extraReducers=="function"?ZK(r.extraReducers):[r.extraReducers],_={...k,...c.sliceCaseReducersByType};return U_e(r.initialState,P=>{for(let L in _)P.addCase(L,_[L]);for(let L of c.sliceMatchers)P.addMatcher(L.matcher,L.reducer);for(let L of S)P.addMatcher(L.matcher,L.reducer);C&&P.addDefaultCase(C)})}const f=k=>k,p=new Map,m=new WeakMap;let v;function g(k,S){return v||(v=u()),v(k,S)}function b(){return v||(v=u()),v.getInitialState()}function j(k,S=!1){function C(P){let L=P[k];return typeof L>"u"&&S&&(L=b2(m,C,b)),L}function _(P=f){const L=b2(p,S,()=>new WeakMap);return b2(L,P,()=>{const U={};for(const[z,T]of Object.entries(r.selectors??{}))U[z]=G_e(T,P,()=>b2(m,P,b),S);return U})}return{reducerPath:k,getSelectors:_,get selectors(){return _(C)},selectSlice:C}}const N={name:n,reducer:g,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:b,...j(i),injectInto(k,{reducerPath:S,...C}={}){const _=S??i;return k.inject({reducerPath:_,reducer:g},C),{...N,...j(_,!0)}}};return N}}function G_e(e,t,a,r){function n(i,...l){let o=t(i);return typeof o>"u"&&r&&(o=a()),e(o,...l)}return n.unwrapped=e,n}var $o=q_e();function K_e(){function e(t,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...a}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...a){return t(...a)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:a}},asyncThunk:e}}function Y_e({type:e,reducerName:t,createNotation:a},r,n){let i,l;if("reducer"in r){if(a&&!J_e(r))throw new Error(Ro(17));i=r.reducer,l=r.prepare}else i=r;n.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?Nc(e,l):Nc(e))}function X_e(e){return e._reducerDefinitionType==="asyncThunk"}function J_e(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Q_e({type:e,reducerName:t},a,r,n){if(!n)throw new Error(Ro(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:c,settled:d,options:u}=a,f=n(e,i,u);r.exposeAction(t,f),l&&r.addCase(f.fulfilled,l),o&&r.addCase(f.pending,o),c&&r.addCase(f.rejected,c),d&&r.addMatcher(f.settled,d),r.exposeCaseReducer(t,{fulfilled:l||y2,pending:o||y2,rejected:c||y2,settled:d||y2})}function y2(){}var Z_e="task",eY="listener",tY="completed",v_="cancelled",eTe=`task-${v_}`,tTe=`task-${tY}`,h6=`${eY}-${v_}`,aTe=`${eY}-${tY}`,yN=class{constructor(e){this.code=e,this.message=`${Z_e} ${v_} (reason: ${e})`}name="TaskAbortError";message},b_=(e,t)=>{if(typeof e!="function")throw new TypeError(Ro(32))},Gw=()=>{},aY=(e,t=Gw)=>(e.catch(t),e),sY=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),rm=(e,t)=>{const a=e.signal;a.aborted||("reason"in a||Object.defineProperty(a,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},nm=e=>{if(e.aborted){const{reason:t}=e;throw new yN(t)}};function rY(e,t){let a=Gw;return new Promise((r,n)=>{const i=()=>n(new yN(e.reason));if(e.aborted){i();return}a=sY(e,i),t.finally(()=>a()).then(r,n)}).finally(()=>{a=Gw})}var sTe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(a){return{status:a instanceof yN?"cancelled":"rejected",error:a}}finally{t?.()}},Kw=e=>t=>aY(rY(e,t).then(a=>(nm(e),a))),nY=e=>{const t=Kw(e);return a=>t(new Promise(r=>setTimeout(r,a)))},{assign:Zp}=Object,TF={},wN="listenerMiddleware",rTe=(e,t)=>{const a=r=>sY(e,()=>rm(r,e.reason));return(r,n)=>{b_(r);const i=new AbortController;a(i);const l=sTe(async()=>{nm(e),nm(i.signal);const o=await r({pause:Kw(i.signal),delay:nY(i.signal),signal:i.signal});return nm(i.signal),o},()=>rm(i,tTe));return n?.autoJoin&&t.push(l.catch(Gw)),{result:Kw(e)(l),cancel(){rm(i,eTe)}}}},nTe=(e,t)=>{const a=async(r,n)=>{nm(t);let i=()=>{};const o=[new Promise((c,d)=>{let u=e({predicate:r,effect:(f,p)=>{p.unsubscribe(),c([f,p.getState(),p.getOriginalState()])}});i=()=>{u(),d()}})];n!=null&&o.push(new Promise(c=>setTimeout(c,n,null)));try{const c=await rY(t,Promise.race(o));return nm(t),c}finally{i()}};return(r,n)=>aY(a(r,n))},iY=e=>{let{type:t,actionCreator:a,matcher:r,predicate:n,effect:i}=e;if(t)n=Nc(t).match;else if(a)t=a.type,n=a.match;else if(r)n=r;else if(!n)throw new Error(Ro(21));return b_(i),{predicate:n,type:t,effect:i}},lY=Zp(e=>{const{type:t,predicate:a,effect:r}=iY(e);return{id:H_e(),effect:r,type:t,predicate:a,pending:new Set,unsubscribe:()=>{throw new Error(Ro(22))}}},{withTypes:()=>lY}),EF=(e,t)=>{const{type:a,effect:r,predicate:n}=iY(t);return Array.from(e.values()).find(i=>(typeof a=="string"?i.type===a:i.predicate===n)&&i.effect===r)},f6=e=>{e.pending.forEach(t=>{rm(t,h6)})},iTe=(e,t)=>()=>{for(const a of t.keys())f6(a);e.clear()},DF=(e,t,a)=>{try{e(t,a)}catch(r){setTimeout(()=>{throw r},0)}},oY=Zp(Nc(`${wN}/add`),{withTypes:()=>oY}),lTe=Nc(`${wN}/removeAll`),cY=Zp(Nc(`${wN}/remove`),{withTypes:()=>cY}),oTe=(...e)=>{console.error(`${wN}/error`,...e)},lb=(e={})=>{const t=new Map,a=new Map,r=m=>{const v=a.get(m)??0;a.set(m,v+1)},n=m=>{const v=a.get(m)??1;v===1?a.delete(m):a.set(m,v-1)},{extra:i,onError:l=oTe}=e;b_(l);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),v=>{m.unsubscribe(),v?.cancelActive&&f6(m)}),c=m=>{const v=EF(t,m)??lY(m);return o(v)};Zp(c,{withTypes:()=>c});const d=m=>{const v=EF(t,m);return v&&(v.unsubscribe(),m.cancelActive&&f6(v)),!!v};Zp(d,{withTypes:()=>d});const u=async(m,v,g,b)=>{const j=new AbortController,N=nTe(c,j.signal),k=[];try{m.pending.add(j),r(m),await Promise.resolve(m.effect(v,Zp({},g,{getOriginalState:b,condition:(S,C)=>N(S,C).then(Boolean),take:N,delay:nY(j.signal),pause:Kw(j.signal),extra:i,signal:j.signal,fork:rTe(j.signal,k),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((S,C,_)=>{S!==j&&(rm(S,h6),_.delete(S))})},cancel:()=>{rm(j,h6),m.pending.delete(j)},throwIfCancelled:()=>{nm(j.signal)}})))}catch(S){S instanceof yN||DF(l,S,{raisedBy:"effect"})}finally{await Promise.all(k),rm(j,aTe),n(m),m.pending.delete(j)}},f=iTe(t,a);return{middleware:m=>v=>g=>{if(!UK(g))return v(g);if(oY.match(g))return c(g.payload);if(lTe.match(g)){f();return}if(cY.match(g))return d(g.payload);let b=m.getState();const j=()=>{if(b===TF)throw new Error(Ro(23));return b};let N;try{if(N=v(g),t.size>0){const k=m.getState(),S=Array.from(t.values());for(const C of S){let _=!1;try{_=C.predicate(g,k,b)}catch(P){_=!1,DF(l,P,{raisedBy:"predicate"})}_&&u(C,g,m,j)}}}finally{b=TF}return N},startListening:c,stopListening:d,clearListeners:f}};function Ro(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var cTe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},dY=$o({name:"chartLayout",initialState:cTe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var a,r,n,i;e.margin.top=(a=t.payload.top)!==null&&a!==void 0?a:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(n=t.payload.bottom)!==null&&n!==void 0?n:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:dTe,setLayout:uTe,setChartSize:hTe,setScale:fTe}=dY.actions,mTe=dY.reducer;function MF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function PF(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?MF(Object(a),!0).forEach(function(r){pTe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):MF(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function pTe(e,t,a){return(t=xTe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function xTe(e){var t=gTe(e,"string");return typeof t=="symbol"?t:t+""}function gTe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yw=Math.PI/180,vTe=e=>e*180/Math.PI,Hi=(e,t,a,r)=>({x:e+Math.cos(-Yw*r)*a,y:t+Math.sin(-Yw*r)*a}),bTe=function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(a-(r.top||0)-(r.bottom||0)))/2},yTe=(e,t)=>{var{x:a,y:r}=e,{x:n,y:i}=t;return Math.sqrt((a-n)**2+(r-i)**2)},wTe=(e,t)=>{var{x:a,y:r}=e,{cx:n,cy:i}=t,l=yTe({x:a,y:r},{x:n,y:i});if(l<=0)return{radius:l,angle:0};var o=(a-n)/l,c=Math.acos(o);return r>i&&(c=2*Math.PI-c),{radius:l,angle:vTe(c),angleInRadian:c}},jTe=e=>{var{startAngle:t,endAngle:a}=e,r=Math.floor(t/360),n=Math.floor(a/360),i=Math.min(r,n);return{startAngle:t-i*360,endAngle:a-i*360}},NTe=(e,t)=>{var{startAngle:a,endAngle:r}=t,n=Math.floor(a/360),i=Math.floor(r/360),l=Math.min(n,i);return e+l*360},kTe=(e,t)=>{var{x:a,y:r}=e,{radius:n,angle:i}=wTe({x:a,y:r},t),{innerRadius:l,outerRadius:o}=t;if(n<l||n>o||n===0)return null;var{startAngle:c,endAngle:d}=jTe(t),u=i,f;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;f=u>=d&&u<=c}return f?PF(PF({},t),{},{radius:n,angle:NTe(u,t)}):null};function uY(e,t,a){return Array.isArray(e)&&e&&t+a!==0?e.slice(t,a+1):e}function LF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function pc(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?LF(Object(a),!0).forEach(function(r){STe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):LF(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function STe(e,t,a){return(t=CTe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function CTe(e){var t=ATe(e,"string");return typeof t=="symbol"?t:t+""}function ATe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ni(e,t,a){return Br(e)||Br(t)?a:au(t)?fx(e,t,a):typeof t=="function"?t(e):a}var _Te=(e,t,a,r,n)=>{var i,l=-1,o=(i=t?.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&n!=null&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var c=0;c<o;c++){var d=c>0?a[c-1].coordinate:a[o-1].coordinate,u=a[c].coordinate,f=c>=o-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(eo(u-d)!==eo(f-u)){var m=[];if(eo(f-u)===eo(n[1]-n[0])){p=f;var v=u+n[1]-n[0];m[0]=Math.min(v,(v+d)/2),m[1]=Math.max(v,(v+d)/2)}else{p=d;var g=f+n[1]-n[0];m[0]=Math.min(u,(g+u)/2),m[1]=Math.max(u,(g+u)/2)}var b=[Math.min(u,(p+u)/2),Math.max(u,(p+u)/2)];if(e>b[0]&&e<=b[1]||e>=m[0]&&e<=m[1]){({index:l}=a[c]);break}}else{var j=Math.min(d,f),N=Math.max(d,f);if(e>(j+u)/2&&e<=(N+u)/2){({index:l}=a[c]);break}}}else if(t){for(var k=0;k<o;k++)if(k===0&&e<=(t[k].coordinate+t[k+1].coordinate)/2||k>0&&k<o-1&&e>(t[k].coordinate+t[k-1].coordinate)/2&&e<=(t[k].coordinate+t[k+1].coordinate)/2||k===o-1&&e>(t[k].coordinate+t[k-1].coordinate)/2){({index:l}=t[k]);break}}return l},TTe=(e,t,a)=>{if(t&&a){var{width:r,height:n}=a,{align:i,verticalAlign:l,layout:o}=t;if((o==="vertical"||o==="horizontal"&&l==="middle")&&i!=="center"&&Sa(e[i]))return pc(pc({},e),{},{[i]:e[i]+(r||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&l!=="middle"&&Sa(e[l]))return pc(pc({},e),{},{[l]:e[l]+(n||0)})}return e},Kf=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",hY=(e,t,a,r)=>{if(r)return e.map(o=>o.coordinate);var n,i,l=e.map(o=>(o.coordinate===t&&(n=!0),o.coordinate===a&&(i=!0),o.coordinate));return n||l.push(t),i||l.push(a),l},fY=(e,t,a)=>{if(!e)return null;var{duplicateDomain:r,type:n,range:i,scale:l,realScaleType:o,isCategorical:c,categoricalDomain:d,tickCount:u,ticks:f,niceTicks:p,axisType:m}=e;if(!l)return null;var v=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,g=n==="category"&&l.bandwidth?l.bandwidth()/v:0;if(g=m==="angleAxis"&&i&&i.length>=2?eo(i[0]-i[1])*2*g:g,f||p){var b=(f||p||[]).map((j,N)=>{var k=r?r.indexOf(j):j;return{coordinate:l(k)+g,value:j,offset:g,index:N}});return b.filter(j=>!jc(j.coordinate))}return c&&d?d.map((j,N)=>({coordinate:l(j)+g,value:j,index:N,offset:g})):l.ticks&&u!=null?l.ticks(u).map((j,N)=>({coordinate:l(j)+g,value:j,offset:g,index:N})):l.domain().map((j,N)=>({coordinate:l(j)+g,value:r?r[j]:j,index:N,offset:g}))},OF=1e-4,ETe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var a=t.length,r=e.range(),n=Math.min(r[0],r[1])-OF,i=Math.max(r[0],r[1])+OF,l=e(t[0]),o=e(t[a-1]);(l<n||l>i||o<n||o>i)&&e.domain([t[0],t[a-1]])}},DTe=(e,t)=>{if(!t||t.length!==2||!Sa(t[0])||!Sa(t[1]))return e;var a=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),n=[e[0],e[1]];return(!Sa(e[0])||e[0]<a)&&(n[0]=a),(!Sa(e[1])||e[1]>r)&&(n[1]=r),n[0]>r&&(n[0]=r),n[1]<a&&(n[1]=a),n},MTe=e=>{var t=e.length;if(!(t<=0))for(var a=0,r=e[0].length;a<r;++a)for(var n=0,i=0,l=0;l<t;++l){var o=jc(e[l][a][1])?e[l][a][0]:e[l][a][1];o>=0?(e[l][a][0]=n,e[l][a][1]=n+o,n=e[l][a][1]):(e[l][a][0]=i,e[l][a][1]=i+o,i=e[l][a][1])}},PTe=e=>{var t=e.length;if(!(t<=0))for(var a=0,r=e[0].length;a<r;++a)for(var n=0,i=0;i<t;++i){var l=jc(e[i][a][1])?e[i][a][0]:e[i][a][1];l>=0?(e[i][a][0]=n,e[i][a][1]=n+l,n=e[i][a][1]):(e[i][a][0]=0,e[i][a][1]=0)}},LTe={sign:MTe,expand:i8e,none:hx,silhouette:l8e,wiggle:o8e,positive:PTe},OTe=(e,t,a)=>{var r=LTe[a],n=n8e().keys(t).value((i,l)=>+Ni(i,l,0)).order(r6).offset(r);return n(e)};function RTe(e){return e==null?void 0:String(e)}function RF(e){var{axis:t,ticks:a,bandSize:r,entry:n,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Br(n[t.dataKey])){var o=NK(a,"value",n[t.dataKey]);if(o)return o.coordinate+r/2}return a[i]?a[i].coordinate+r/2:null}var c=Ni(n,Br(l)?t.dataKey:l);return Br(c)?null:t.scale(c)}var FF=e=>{var{axis:t,ticks:a,offset:r,bandSize:n,entry:i,index:l}=e;if(t.type==="category")return a[l]?a[l].coordinate+r:null;var o=Ni(i,t.dataKey,t.scale.domain()[l]);return Br(o)?null:t.scale(o)-n/2+r},FTe=e=>{var{numericAxis:t}=e,a=t.scale.domain();if(t.type==="number"){var r=Math.min(a[0],a[1]),n=Math.max(a[0],a[1]);return r<=0&&n>=0?0:n<0?n:r}return a[0]},ITe=e=>{var t=e.flat(2).filter(Sa);return[Math.min(...t),Math.max(...t)]},BTe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],$Te=(e,t,a)=>{if(e!=null)return BTe(Object.keys(e).reduce((r,n)=>{var i=e[n],{stackedData:l}=i,o=l.reduce((c,d)=>{var u=uY(d,t,a),f=ITe(u);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},IF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,BF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,k1=(e,t,a)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!a||r>0)return r}if(e&&t&&t.length>=2){for(var n=xN(t,u=>u.coordinate),i=1/0,l=1,o=n.length;l<o;l++){var c=n[l],d=n[l-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return a?void 0:0};function $F(e){var{tooltipEntrySettings:t,dataKey:a,payload:r,value:n,name:i}=e;return pc(pc({},t),{},{dataKey:a,payload:r,value:n,name:i})}function jN(e,t){if(e)return String(e);if(typeof t=="string")return t}function UTe(e,t,a,r,n){if(a==="horizontal"||a==="vertical"){var i=e>=n.left&&e<=n.left+n.width&&t>=n.top&&t<=n.top+n.height;return i?{x:e,y:t}:null}return r?kTe({x:e,y:t},r):null}var zTe=(e,t,a,r)=>{var n=t.find(d=>d&&d.index===a);if(n){if(e==="horizontal")return{x:n.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:n.coordinate};if(e==="centric"){var i=n.coordinate,{radius:l}=r;return pc(pc(pc({},r),Hi(r.cx,r.cy,l,i)),{},{angle:i,radius:l})}var o=n.coordinate,{angle:c}=r;return pc(pc(pc({},r),Hi(r.cx,r.cy,o,c)),{},{angle:c,radius:o})}return{x:0,y:0}},HTe=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,wh=e=>e.layout.width,jh=e=>e.layout.height,VTe=e=>e.layout.scale,mY=e=>e.layout.margin,NN=xt(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),kN=xt(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),WTe="data-recharts-item-index",qTe="data-recharts-item-data-key",ob=60;function UF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function w2(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?UF(Object(a),!0).forEach(function(r){GTe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):UF(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function GTe(e,t,a){return(t=KTe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function KTe(e){var t=YTe(e,"string");return typeof t=="symbol"?t:t+""}function YTe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XTe=e=>e.brush.height;function JTe(e){var t=kN(e);return t.reduce((a,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var n=typeof r.width=="number"?r.width:ob;return a+n}return a},0)}function QTe(e){var t=kN(e);return t.reduce((a,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var n=typeof r.width=="number"?r.width:ob;return a+n}return a},0)}function ZTe(e){var t=NN(e);return t.reduce((a,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?a+r.height:a,0)}function eEe(e){var t=NN(e);return t.reduce((a,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?a+r.height:a,0)}var ki=xt([wh,jh,mY,XTe,JTe,QTe,ZTe,eEe,IK,x_e],(e,t,a,r,n,i,l,o,c,d)=>{var u={left:(a.left||0)+n,right:(a.right||0)+i},f={top:(a.top||0)+l,bottom:(a.bottom||0)+o},p=w2(w2({},f),u),m=p.bottom;p.bottom+=r,p=TTe(p,c,d);var v=e-p.left-p.right,g=t-p.top-p.bottom;return w2(w2({brushBottom:m},p),{},{width:Math.max(v,0),height:Math.max(g,0)})}),tEe=xt(ki,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),y_=xt(wh,jh,(e,t)=>({x:0,y:0,width:e,height:t})),aEe=y.createContext(null),Rl=()=>y.useContext(aEe)!=null,SN=e=>e.brush,CN=xt([SN,ki,mY],(e,t,a)=>({height:e.height,x:Sa(e.x)?e.x:t.left,y:Sa(e.y)?e.y:t.top+t.height+t.brushBottom-(a?.bottom||0),width:Sa(e.width)?e.width:t.width})),Fk={},Ik={},Bk={},zF;function sEe(){return zF||(zF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r,{signal:n,edges:i}={}){let l,o=null;const c=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),u=()=>{o!==null&&(a.apply(l,o),l=void 0,o=null)},f=()=>{d&&u(),g()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},r)},v=()=>{p!==null&&(clearTimeout(p),p=null)},g=()=>{v(),l=void 0,o=null},b=()=>{u()},j=function(...N){if(n?.aborted)return;l=this,o=N;const k=p==null;m(),c&&k&&u()};return j.schedule=m,j.cancel=g,j.flush=b,n?.addEventListener("abort",g,{once:!0}),j}e.debounce=t})(Bk)),Bk}var HF;function rEe(){return HF||(HF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sEe();function a(r,n=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:o=!0,maxWait:c}=i,d=Array(2);l&&(d[0]="leading"),o&&(d[1]="trailing");let u,f=null;const p=t.debounce(function(...g){u=r.apply(this,g),f=null},n,{edges:d}),m=function(...g){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(u=r.apply(this,g),f=Date.now(),p.cancel(),p.schedule(),u):(p.apply(this,g),u)},v=()=>(p.flush(),u);return m.cancel=p.cancel,m.flush=v,m}e.debounce=a})(Ik)),Ik}var VF;function nEe(){return VF||(VF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rEe();function a(r,n=0,i={}){const{leading:l=!0,trailing:o=!0}=i;return t.debounce(r,n,{leading:l,maxWait:n,trailing:o})}e.throttle=a})(Fk)),Fk}var $k,WF;function iEe(){return WF||(WF=1,$k=nEe().throttle),$k}var lEe=iEe();const oEe=xh(lEe);var Xw=function(t,a){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]},pY=(e,t,a)=>{var{width:r="100%",height:n="100%",aspect:i,maxHeight:l}=a,o=uh(r)?e:Number(r),c=uh(n)?t:Number(n);return i&&i>0&&(o?c=o/i:c&&(o=c*i),l&&c>l&&(c=l)),{calculatedWidth:o,calculatedHeight:c}},cEe={width:0,height:0,overflow:"visible"},dEe={width:0,overflowX:"visible"},uEe={height:0,overflowY:"visible"},hEe={},fEe=e=>{var{width:t,height:a}=e,r=uh(t),n=uh(a);return r&&n?cEe:r?dEe:n?uEe:hEe};function mEe(e){var{width:t,height:a,aspect:r}=e,n=t,i=a;return n===void 0&&i===void 0?(n="100%",i="100%"):n===void 0?n=r&&r>0?void 0:"100%":i===void 0&&(i=r&&r>0?void 0:"100%"),{width:n,height:i}}function ml(e){return Number.isFinite(e)}function mx(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function m6(){return m6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},m6.apply(null,arguments)}function qF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function GF(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?qF(Object(a),!0).forEach(function(r){pEe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qF(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function pEe(e,t,a){return(t=xEe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function xEe(e){var t=gEe(e,"string");return typeof t=="symbol"?t:t+""}function gEe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xY=y.createContext({width:-1,height:-1});function gY(e){var{children:t,width:a,height:r}=e,n=y.useMemo(()=>({width:a,height:r}),[a,r]);return a<=0||r<=0?null:y.createElement(xY.Provider,{value:n},t)}var w_=()=>y.useContext(xY),vEe=y.forwardRef((e,t)=>{var{aspect:a,initialDimension:r={width:-1,height:-1},width:n,height:i,minWidth:l=0,minHeight:o,maxHeight:c,children:d,debounce:u=0,id:f,className:p,onResize:m,style:v={}}=e,g=y.useRef(null),b=y.useRef();b.current=m,y.useImperativeHandle(t,()=>g.current);var[j,N]=y.useState({containerWidth:r.width,containerHeight:r.height}),k=y.useCallback((L,U)=>{N(z=>{var T=Math.round(L),F=Math.round(U);return z.containerWidth===T&&z.containerHeight===F?z:{containerWidth:T,containerHeight:F}})},[]);y.useEffect(()=>{var L=F=>{var M,{width:I,height:W}=F[0].contentRect;k(I,W),(M=b.current)===null||M===void 0||M.call(b,I,W)};u>0&&(L=oEe(L,u,{trailing:!0,leading:!1}));var U=new ResizeObserver(L),{width:z,height:T}=g.current.getBoundingClientRect();return k(z,T),U.observe(g.current),()=>{U.disconnect()}},[k,u]);var{containerWidth:S,containerHeight:C}=j;Xw(!a||a>0,"The aspect(%s) must be greater than zero.",a);var{calculatedWidth:_,calculatedHeight:P}=pY(S,C,{width:n,height:i,aspect:a,maxHeight:c});return Xw(_>0||P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,P,n,i,l,o,a),y.createElement("div",{id:f?"".concat(f):void 0,className:ar("recharts-responsive-container",p),style:GF(GF({},v),{},{width:n,height:i,minWidth:l,minHeight:o,maxHeight:c}),ref:g},y.createElement("div",{style:fEe({width:n,height:i})},y.createElement(gY,{width:_,height:P},d)))}),Jw=y.forwardRef((e,t)=>{var a=w_();if(mx(a.width)&&mx(a.height))return e.children;var{width:r,height:n}=mEe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:l}=pY(void 0,void 0,{width:r,height:n,aspect:e.aspect,maxHeight:e.maxHeight});return Sa(i)&&Sa(l)?y.createElement(gY,{width:i,height:l},e.children):y.createElement(vEe,m6({},e,{width:r,height:n,ref:t}))}),AN=()=>{var e,t=Rl(),a=ka(tEe),r=ka(CN),n=(e=ka(SN))===null||e===void 0?void 0:e.padding;return!t||!r||!n?a:{width:r.width-n.left-n.right,height:r.height-n.top-n.bottom,x:n.left,y:n.top}},bEe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},vY=()=>{var e;return(e=ka(ki))!==null&&e!==void 0?e:bEe},bY=()=>ka(wh),yY=()=>ka(jh),Rs=e=>e.layout.layoutType,_N=()=>ka(Rs),TN=e=>{var t=si(),a=Rl(),{width:r,height:n}=e,i=w_(),l=r,o=n;return i&&(l=i.width>0?i.width:r,o=i.height>0?i.height:n),y.useEffect(()=>{!a&&mx(l)&&mx(o)&&t(hTe({width:l,height:o}))},[t,a,l,o]),null},yEe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},wY=$o({name:"legend",initialState:yEe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:El()},removeLegendPayload:{reducer(e,t){var a=rh(e).payload.indexOf(t.payload);a>-1&&e.payload.splice(a,1)},prepare:El()}}}),{setLegendSize:FHe,setLegendSettings:IHe,addLegendPayload:wEe,removeLegendPayload:jEe}=wY.actions,NEe=wY.reducer;function p6(){return p6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},p6.apply(null,arguments)}function KF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function Uk(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?KF(Object(a),!0).forEach(function(r){kEe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):KF(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function kEe(e,t,a){return(t=SEe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function SEe(e){var t=CEe(e,"string");return typeof t=="symbol"?t:t+""}function CEe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AEe(e){return Array.isArray(e)&&au(e[0])&&au(e[1])?e.join(" ~ "):e}var _Ee=e=>{var{separator:t=" : ",contentStyle:a={},itemStyle:r={},labelStyle:n={},payload:i,formatter:l,itemSorter:o,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:f,accessibilityLayer:p=!1}=e,m=()=>{if(i&&i.length){var C={padding:0,margin:0},_=(o?xN(i,o):i).map((P,L)=>{if(P.type==="none")return null;var U=P.formatter||l||AEe,{value:z,name:T}=P,F=z,M=T;if(U){var I=U(z,T,P,L,i);if(Array.isArray(I))[F,M]=I;else if(I!=null)F=I;else return null}var W=Uk({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:W},au(M)?y.createElement("span",{className:"recharts-tooltip-item-name"},M):null,au(M)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},F),y.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:C},_)}return null},v=Uk({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),g=Uk({margin:0},n),b=!Br(u),j=b?u:"",N=ar("recharts-default-tooltip",c),k=ar("recharts-tooltip-label",d);b&&f&&i!==void 0&&i!==null&&(j=f(u,i));var S=p?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",p6({className:N,style:v},S),y.createElement("p",{className:k,style:g},y.isValidElement(j)?j:"".concat(j)),m())},Gg="recharts-tooltip-wrapper",TEe={visibility:"hidden"};function EEe(e){var{coordinate:t,translateX:a,translateY:r}=e;return ar(Gg,{["".concat(Gg,"-right")]:Sa(a)&&t&&Sa(t.x)&&a>=t.x,["".concat(Gg,"-left")]:Sa(a)&&t&&Sa(t.x)&&a<t.x,["".concat(Gg,"-bottom")]:Sa(r)&&t&&Sa(t.y)&&r>=t.y,["".concat(Gg,"-top")]:Sa(r)&&t&&Sa(t.y)&&r<t.y})}function YF(e){var{allowEscapeViewBox:t,coordinate:a,key:r,offsetTopLeft:n,position:i,reverseDirection:l,tooltipDimension:o,viewBox:c,viewBoxDimension:d}=e;if(i&&Sa(i[r]))return i[r];var u=a[r]-o-(n>0?n:0),f=a[r]+n;if(t[r])return l[r]?u:f;var p=c[r];if(p==null)return 0;if(l[r]){var m=u,v=p;return m<v?Math.max(f,p):Math.max(u,p)}if(d==null)return 0;var g=f+o,b=p+d;return g>b?Math.max(u,p):Math.max(f,p)}function DEe(e){var{translateX:t,translateY:a,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(a,"px, 0)"):"translate(".concat(t,"px, ").concat(a,"px)")}}function MEe(e){var{allowEscapeViewBox:t,coordinate:a,offsetTopLeft:r,position:n,reverseDirection:i,tooltipBox:l,useTranslate3d:o,viewBox:c}=e,d,u,f;return l.height>0&&l.width>0&&a?(u=YF({allowEscapeViewBox:t,coordinate:a,key:"x",offsetTopLeft:r,position:n,reverseDirection:i,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),f=YF({allowEscapeViewBox:t,coordinate:a,key:"y",offsetTopLeft:r,position:n,reverseDirection:i,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),d=DEe({translateX:u,translateY:f,useTranslate3d:o})):d=TEe,{cssProperties:d,cssClasses:EEe({translateX:u,translateY:f,coordinate:a})}}function XF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function j2(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?XF(Object(a),!0).forEach(function(r){x6(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):XF(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function x6(e,t,a){return(t=PEe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function PEe(e){var t=LEe(e,"string");return typeof t=="symbol"?t:t+""}function LEe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class OEe extends y.PureComponent{constructor(){super(...arguments),x6(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),x6(this,"handleKeyDown",t=>{if(t.key==="Escape"){var a,r,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&a!==void 0?a:0,y:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&n!==void 0?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,a;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:a,animationDuration:r,animationEasing:n,children:i,coordinate:l,hasPayload:o,isAnimationActive:c,offset:d,position:u,reverseDirection:f,useTranslate3d:p,viewBox:m,wrapperStyle:v,lastBoundingBox:g,innerRef:b,hasPortalFromProps:j}=this.props,{cssClasses:N,cssProperties:k}=MEe({allowEscapeViewBox:a,coordinate:l,offsetTopLeft:d,position:u,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:p,viewBox:m}),S=j?{}:j2(j2({transition:c&&t?"transform ".concat(r,"ms ").concat(n):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),C=j2(j2({},S),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},v);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:C,ref:b},i)}}var REe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),$m={devToolsEnabled:!1,isSsr:REe()},jY=()=>ka(e=>e.rootProps.accessibilityLayer);function g6(){return g6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},g6.apply(null,arguments)}function JF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function QF(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?JF(Object(a),!0).forEach(function(r){FEe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):JF(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function FEe(e,t,a){return(t=IEe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function IEe(e){var t=BEe(e,"string");return typeof t=="symbol"?t:t+""}function BEe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZF={curveBasisClosed:KAe,curveBasisOpen:YAe,curveBasis:GAe,curveBumpX:PAe,curveBumpY:LAe,curveLinearClosed:XAe,curveLinear:mN,curveMonotoneX:JAe,curveMonotoneY:QAe,curveNatural:ZAe,curveStep:e8e,curveStepAfter:a8e,curveStepBefore:t8e},N2=e=>ml(e.x)&&ml(e.y),Kg=e=>e.x,Yg=e=>e.y,$Ee=(e,t)=>{if(typeof e=="function")return e;var a="curve".concat(nb(e));return(a==="curveMonotone"||a==="curveBump")&&t?ZF["".concat(a).concat(t==="vertical"?"Y":"X")]:ZF[a]||mN},UEe=e=>{var{type:t="linear",points:a=[],baseLine:r,layout:n,connectNulls:i=!1}=e,l=$Ee(t,n),o=i?a.filter(N2):a,c;if(Array.isArray(r)){var d=i?r.filter(f=>N2(f)):r,u=o.map((f,p)=>QF(QF({},f),{},{base:d[p]}));return n==="vertical"?c=p2().y(Yg).x1(Kg).x0(f=>f.base.x):c=p2().x(Kg).y1(Yg).y0(f=>f.base.y),c.defined(N2).curve(l),c(u)}return n==="vertical"&&Sa(r)?c=p2().y(Yg).x1(Kg).x0(r):Sa(r)?c=p2().x(Kg).y1(Yg).y0(r):c=dK().x(Kg).y(Yg),c.defined(N2).curve(l),c(o)},NY=e=>{var{className:t,points:a,path:r,pathRef:n}=e;if((!a||!a.length)&&!r)return null;var i=a&&a.length?UEe(e):r;return y.createElement("path",g6({},dd(e),u_(e),{className:ar("recharts-curve",t),d:i===null?void 0:i,ref:n}))},zEe=["x","y","top","left","width","height","className"];function v6(){return v6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},v6.apply(null,arguments)}function eI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function HEe(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?eI(Object(a),!0).forEach(function(r){VEe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):eI(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function VEe(e,t,a){return(t=WEe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function WEe(e){var t=qEe(e,"string");return typeof t=="symbol"?t:t+""}function qEe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GEe(e,t){if(e==null)return{};var a,r,n=KEe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function KEe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var YEe=(e,t,a,r,n,i)=>"M".concat(e,",").concat(n,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(a),XEe=e=>{var{x:t=0,y:a=0,top:r=0,left:n=0,width:i=0,height:l=0,className:o}=e,c=GEe(e,zEe),d=HEe({x:t,y:a,top:r,left:n,width:i,height:l},c);return!Sa(t)||!Sa(a)||!Sa(i)||!Sa(l)||!Sa(r)||!Sa(n)?null:y.createElement("path",v6({},Ol(d),{className:ar("recharts-cross",o),d:YEe(t,a,i,l,r,n)}))};function JEe(e,t,a,r){var n=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-n:a.left+.5,y:e==="horizontal"?a.top+.5:t.y-n,width:e==="horizontal"?r:a.width-1,height:e==="horizontal"?a.height-1:r}}function tI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function QEe(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?tI(Object(a),!0).forEach(function(r){ZEe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tI(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function ZEe(e,t,a){return(t=e7e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function e7e(e){var t=t7e(e,"string");return typeof t=="symbol"?t:t+""}function t7e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function co(e,t){var a=QEe({},e),r=t,n=Object.keys(t),i=n.reduce((l,o)=>(l[o]===void 0&&r[o]!==void 0&&(l[o]=r[o]),l),a);return i}function a7e(){}function s7e(e){return e!=null}function aI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function sI(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?aI(Object(a),!0).forEach(function(r){r7e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):aI(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function r7e(e,t,a){return(t=n7e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n7e(e){var t=i7e(e,"string");return typeof t=="symbol"?t:t+""}function i7e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l7e=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),kY=(e,t,a)=>e.map(r=>"".concat(l7e(r)," ").concat(t,"ms ").concat(a)).join(","),o7e=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((a,r)=>a.filter(n=>r.includes(n))),S1=(e,t)=>Object.keys(t).reduce((a,r)=>sI(sI({},a),{},{[r]:e(r,t[r])}),{});function rI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function $i(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(a),!0).forEach(function(r){c7e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):rI(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function c7e(e,t,a){return(t=d7e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function d7e(e){var t=u7e(e,"string");return typeof t=="symbol"?t:t+""}function u7e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qw=(e,t,a)=>e+(t-e)*a,b6=e=>{var{from:t,to:a}=e;return t!==a},SY=(e,t,a)=>{var r=S1((n,i)=>{if(b6(i)){var[l,o]=e(i.from,i.to,i.velocity);return $i($i({},i),{},{from:l,velocity:o})}return i},t);return a<1?S1((n,i)=>b6(i)?$i($i({},i),{},{velocity:Qw(i.velocity,r[n].velocity,a),from:Qw(i.from,r[n].from,a)}):i,t):SY(e,r,a-1)};function h7e(e,t,a,r,n,i){var l,o=r.reduce((p,m)=>$i($i({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>S1((p,m)=>m.from,o),d=()=>!Object.values(o).filter(b6).length,u=null,f=p=>{l||(l=p);var m=p-l,v=m/a.dt;o=SY(a,o,v),n($i($i($i({},e),t),c())),l=p,d()||(u=i.setTimeout(f))};return()=>(u=i.setTimeout(f),()=>{u()})}function f7e(e,t,a,r,n,i,l){var o=null,c=n.reduce((f,p)=>$i($i({},f),{},{[p]:[e[p],t[p]]}),{}),d,u=f=>{d||(d=f);var p=(f-d)/r,m=S1((g,b)=>Qw(...b,a(p)),c);if(i($i($i($i({},e),t),m)),p<1)o=l.setTimeout(u);else{var v=S1((g,b)=>Qw(...b,a(1)),c);i($i($i($i({},e),t),v))}};return()=>(o=l.setTimeout(u),()=>{o()})}const m7e=(e,t,a,r,n,i)=>{var l=o7e(e,t);return a.isStepper===!0?h7e(e,t,a,l,n,i):f7e(e,t,a,r,l,n,i)};var Zw=1e-4,CY=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],AY=(e,t)=>e.map((a,r)=>a*t**r).reduce((a,r)=>a+r),nI=(e,t)=>a=>{var r=CY(e,t);return AY(r,a)},p7e=(e,t)=>a=>{var r=CY(e,t),n=[...r.map((i,l)=>i*l).slice(1),0];return AY(n,a)},iI=function(){for(var t,a,r,n,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];if(l.length===1)switch(l[0]){case"linear":[t,r,a,n]=[0,0,1,1];break;case"ease":[t,r,a,n]=[.25,.1,.25,1];break;case"ease-in":[t,r,a,n]=[.42,0,1,1];break;case"ease-out":[t,r,a,n]=[.42,0,.58,1];break;case"ease-in-out":[t,r,a,n]=[0,0,.58,1];break;default:{var c=l[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,r,a,n]=c[1].split(")")[0].split(",").map(v=>parseFloat(v)))}}else l.length===4&&([t,r,a,n]=l);var d=nI(t,a),u=nI(r,n),f=p7e(t,a),p=v=>v>1?1:v<0?0:v,m=v=>{for(var g=v>1?1:v,b=g,j=0;j<8;++j){var N=d(b)-g,k=f(b);if(Math.abs(N-g)<Zw||k<Zw)return u(b);b=p(b-N/k)}return u(b)};return m.isStepper=!1,m},x7e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:a=100,damping:r=8,dt:n=17}=t,i=(l,o,c)=>{var d=-(l-o)*a,u=c*r,f=c+(d-u)*n/1e3,p=c*n/1e3+l;return Math.abs(p-o)<Zw&&Math.abs(f)<Zw?[o,0]:[p,f]};return i.isStepper=!0,i.dt=n,i},g7e=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return iI(e);case"spring":return x7e();default:if(e.split("(")[0]==="cubic-bezier")return iI(e)}return typeof e=="function"?e:null};function v7e(e){var t,a=()=>null,r=!1,n=null,i=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var o=l,[c,...d]=o;if(typeof c=="number"){n=e.setTimeout(i.bind(null,d),c);return}i(c),n=e.setTimeout(i.bind(null,d));return}typeof l=="string"&&(t=l,a(t)),typeof l=="object"&&(t=l,a(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,n&&(n(),n=null),i(l)},subscribe:l=>(a=l,()=>{a=()=>null}),getTimeoutController:()=>e}}class b7e{setTimeout(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),n=null,i=l=>{l-r>=a?t(l):typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{cancelAnimationFrame(n)}}}function y7e(){return v7e(new b7e)}var w7e=y.createContext(y7e);function j7e(e,t){var a=y.useContext(w7e);return y.useMemo(()=>t??a(e),[e,t,a])}var N7e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},lI={t:0},zk={t:1};function EN(e){var t=co(e,N7e),{isActive:a,canBegin:r,duration:n,easing:i,begin:l,onAnimationEnd:o,onAnimationStart:c,children:d}=t,u=j7e(t.animationId,t.animationManager),[f,p]=y.useState(a?lI:zk),m=y.useRef(null);return y.useEffect(()=>{a||p(zk)},[a]),y.useEffect(()=>{if(!a||!r)return a7e;var v=m7e(lI,zk,g7e(i),n,p,u.getTimeoutController()),g=()=>{m.current=v()};return u.start([c,l,g,n,o]),()=>{u.stop(),m.current&&m.current(),o()}},[a,r,n,i,l,c,o,u]),d(f.t)}function DN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",a=y.useRef(y1(t)),r=y.useRef(e);return r.current!==e&&(a.current=y1(t),r.current=e),a.current}var k7e=["radius"],S7e=["radius"];function oI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function cI(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?oI(Object(a),!0).forEach(function(r){C7e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oI(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function C7e(e,t,a){return(t=A7e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function A7e(e){var t=_7e(e,"string");return typeof t=="symbol"?t:t+""}function _7e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ej(){return ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ej.apply(null,arguments)}function dI(e,t){if(e==null)return{};var a,r,n=T7e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function T7e(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var uI=(e,t,a,r,n)=>{var i=Math.min(Math.abs(a)/2,Math.abs(r)/2),l=r>=0?1:-1,o=a>=0?1:-1,c=r>=0&&a>=0||r<0&&a<0?1:0,d;if(i>0&&n instanceof Array){for(var u=[0,0,0,0],f=0,p=4;f<p;f++)u[f]=n[f]>i?i:n[f];d="M".concat(e,",").concat(t+l*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+o*u[0],",").concat(t)),d+="L ".concat(e+a-o*u[1],",").concat(t),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+a,",").concat(t+l*u[1])),d+="L ".concat(e+a,",").concat(t+r-l*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+a-o*u[2],",").concat(t+r)),d+="L ".concat(e+o*u[3],",").concat(t+r),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+r-l*u[3])),d+="Z"}else if(i>0&&n===+n&&n>0){var m=Math.min(i,n);d="M ".concat(e,",").concat(t+l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+o*m,",").concat(t,`
            L `).concat(e+a-o*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+a,",").concat(t+l*m,`
            L `).concat(e+a,",").concat(t+r-l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+a-o*m,",").concat(t+r,`
            L `).concat(e+o*m,",").concat(t+r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+r-l*m," Z")}else d="M ".concat(e,",").concat(t," h ").concat(a," v ").concat(r," h ").concat(-a," Z");return d},E7e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_Y=e=>{var t=co(e,E7e),a=y.useRef(null),[r,n]=y.useState(-1);y.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var q=a.current.getTotalLength();q&&n(q)}catch{}},[]);var{x:i,y:l,width:o,height:c,radius:d,className:u}=t,{animationEasing:f,animationDuration:p,animationBegin:m,isAnimationActive:v,isUpdateAnimationActive:g}=t,b=y.useRef(o),j=y.useRef(c),N=y.useRef(i),k=y.useRef(l),S=y.useMemo(()=>({x:i,y:l,width:o,height:c,radius:d}),[i,l,o,c,d]),C=DN(S,"rectangle-");if(i!==+i||l!==+l||o!==+o||c!==+c||o===0||c===0)return null;var _=ar("recharts-rectangle",u);if(!g){var P=Ol(t),{radius:L}=P,U=dI(P,k7e);return y.createElement("path",ej({},U,{radius:typeof d=="number"?d:void 0,className:_,d:uI(i,l,o,c,d)}))}var z=b.current,T=j.current,F=N.current,M=k.current,I="0px ".concat(r===-1?1:r,"px"),W="".concat(r,"px 0px"),R=kY(["strokeDasharray"],p,typeof f=="string"?f:void 0);return y.createElement(EN,{animationId:C,key:C,canBegin:r>0,duration:p,easing:f,isActive:g,begin:m},q=>{var ae=In(z,o,q),te=In(T,c,q),K=In(F,i,q),oe=In(M,l,q);a.current&&(b.current=ae,j.current=te,N.current=K,k.current=oe);var D;v?q>0?D={transition:R,strokeDasharray:W}:D={strokeDasharray:I}:D={strokeDasharray:W};var G=Ol(t),{radius:H}=G,X=dI(G,S7e);return y.createElement("path",ej({},X,{radius:typeof d=="number"?d:void 0,className:_,d:uI(K,oe,ae,te,d),ref:a,style:cI(cI({},D),t.style)}))})};function TY(e){var{cx:t,cy:a,radius:r,startAngle:n,endAngle:i}=e,l=Hi(t,a,r,n),o=Hi(t,a,r,i);return{points:[l,o],cx:t,cy:a,radius:r,startAngle:n,endAngle:i}}function y6(){return y6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},y6.apply(null,arguments)}var D7e=(e,t)=>{var a=eo(t-e),r=Math.min(Math.abs(t-e),359.999);return a*r},k2=e=>{var{cx:t,cy:a,radius:r,angle:n,sign:i,isExternal:l,cornerRadius:o,cornerIsExternal:c}=e,d=o*(l?1:-1)+r,u=Math.asin(o/d)/Yw,f=c?n:n+i*u,p=Hi(t,a,d,f),m=Hi(t,a,r,f),v=c?n-i*u:n,g=Hi(t,a,d*Math.cos(u*Yw),v);return{center:p,circleTangency:m,lineTangency:g,theta:u}},EY=e=>{var{cx:t,cy:a,innerRadius:r,outerRadius:n,startAngle:i,endAngle:l}=e,o=D7e(i,l),c=i+o,d=Hi(t,a,n,i),u=Hi(t,a,n,c),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(n,",").concat(n,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(r>0){var p=Hi(t,a,r,i),m=Hi(t,a,r,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(t,",").concat(a," Z");return f},M7e=e=>{var{cx:t,cy:a,innerRadius:r,outerRadius:n,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:o,startAngle:c,endAngle:d}=e,u=eo(d-c),{circleTangency:f,lineTangency:p,theta:m}=k2({cx:t,cy:a,radius:n,angle:c,sign:u,cornerRadius:i,cornerIsExternal:o}),{circleTangency:v,lineTangency:g,theta:b}=k2({cx:t,cy:a,radius:n,angle:d,sign:-u,cornerRadius:i,cornerIsExternal:o}),j=o?Math.abs(c-d):Math.abs(c-d)-m-b;if(j<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):EY({cx:t,cy:a,innerRadius:r,outerRadius:n,startAngle:c,endAngle:d});var N="M ".concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(n,",").concat(n,",0,").concat(+(j>180),",").concat(+(u<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(r>0){var{circleTangency:k,lineTangency:S,theta:C}=k2({cx:t,cy:a,radius:r,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:_,lineTangency:P,theta:L}=k2({cx:t,cy:a,radius:r,angle:d,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),U=o?Math.abs(c-d):Math.abs(c-d)-C-L;if(U<0&&i===0)return"".concat(N,"L").concat(t,",").concat(a,"Z");N+="L".concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(U>180),",").concat(+(u>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"Z")}else N+="L".concat(t,",").concat(a,"Z");return N},P7e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},DY=e=>{var t=co(e,P7e),{cx:a,cy:r,innerRadius:n,outerRadius:i,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:u,className:f}=t;if(i<n||d===u)return null;var p=ar("recharts-sector",f),m=i-n,v=hd(l,m,0,!0),g;return v>0&&Math.abs(d-u)<360?g=M7e({cx:a,cy:r,innerRadius:n,outerRadius:i,cornerRadius:Math.min(v,m/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:u}):g=EY({cx:a,cy:r,innerRadius:n,outerRadius:i,startAngle:d,endAngle:u}),y.createElement("path",y6({},Ol(t),{className:p,d:g}))};function L7e(e,t,a){var r,n,i,l;if(e==="horizontal")r=t.x,i=r,n=a.top,l=a.top+a.height;else if(e==="vertical")n=t.y,l=n,r=a.left,i=a.left+a.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:c,innerRadius:d,outerRadius:u,angle:f}=t,p=Hi(o,c,d,f),m=Hi(o,c,u,f);r=p.x,n=p.y,i=m.x,l=m.y}else return TY(t);return[{x:r,y:n},{x:i,y:l}]}var Hk={},Vk={},Wk={},hI;function O7e(){return hI||(hI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RK();function a(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=a})(Wk)),Wk}var fI;function R7e(){return fI||(fI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O7e();function a(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=a})(Vk)),Vk}var mI;function F7e(){return mI||(mI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FK(),a=R7e();function r(n,i,l){l&&typeof l!="number"&&t.isIterateeCall(n,i,l)&&(i=l=void 0),n=a.toFinite(n),i===void 0?(i=n,n=0):i=a.toFinite(i),l=l===void 0?n<i?1:-1:a.toFinite(l);const o=Math.max(Math.ceil((i-n)/(l||1)),0),c=new Array(o);for(let d=0;d<o;d++)c[d]=n,n+=l;return c}e.range=r})(Hk)),Hk}var qk,pI;function I7e(){return pI||(pI=1,qk=F7e().range),qk}var B7e=I7e();const MY=xh(B7e);function _f(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $7e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function j_(e){let t,a,r;e.length!==2?(t=_f,a=(o,c)=>_f(e(o),c),r=(o,c)=>e(o)-c):(t=e===_f||e===$7e?e:U7e,a=e,r=e);function n(o,c,d=0,u=o.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;a(o[f],c)<0?d=f+1:u=f}while(d<u)}return d}function i(o,c,d=0,u=o.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;a(o[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function l(o,c,d=0,u=o.length){const f=n(o,c,d,u-1);return f>d&&r(o[f-1],c)>-r(o[f],c)?f-1:f}return{left:n,center:l,right:i}}function U7e(){return 0}function PY(e){return e===null?NaN:+e}function*z7e(e,t){for(let a of e)a!=null&&(a=+a)>=a&&(yield a)}const H7e=j_(_f),cb=H7e.right;j_(PY).center;class xI extends Map{constructor(t,a=q7e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),t!=null)for(const[r,n]of t)this.set(r,n)}get(t){return super.get(gI(this,t))}has(t){return super.has(gI(this,t))}set(t,a){return super.set(V7e(this,t),a)}delete(t){return super.delete(W7e(this,t))}}function gI({_intern:e,_key:t},a){const r=t(a);return e.has(r)?e.get(r):a}function V7e({_intern:e,_key:t},a){const r=t(a);return e.has(r)?e.get(r):(e.set(r,a),a)}function W7e({_intern:e,_key:t},a){const r=t(a);return e.has(r)&&(a=e.get(r),e.delete(r)),a}function q7e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function G7e(e=_f){if(e===_f)return LY;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,a)=>{const r=e(t,a);return r||r===0?r:(e(a,a)===0)-(e(t,t)===0)}}function LY(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const K7e=Math.sqrt(50),Y7e=Math.sqrt(10),X7e=Math.sqrt(2);function tj(e,t,a){const r=(t-e)/Math.max(0,a),n=Math.floor(Math.log10(r)),i=r/Math.pow(10,n),l=i>=K7e?10:i>=Y7e?5:i>=X7e?2:1;let o,c,d;return n<0?(d=Math.pow(10,-n)/l,o=Math.round(e*d),c=Math.round(t*d),o/d<e&&++o,c/d>t&&--c,d=-d):(d=Math.pow(10,n)*l,o=Math.round(e/d),c=Math.round(t/d),o*d<e&&++o,c*d>t&&--c),c<o&&.5<=a&&a<2?tj(e,t,a*2):[o,c,d]}function w6(e,t,a){if(t=+t,e=+e,a=+a,!(a>0))return[];if(e===t)return[e];const r=t<e,[n,i,l]=r?tj(t,e,a):tj(e,t,a);if(!(i>=n))return[];const o=i-n+1,c=new Array(o);if(r)if(l<0)for(let d=0;d<o;++d)c[d]=(i-d)/-l;else for(let d=0;d<o;++d)c[d]=(i-d)*l;else if(l<0)for(let d=0;d<o;++d)c[d]=(n+d)/-l;else for(let d=0;d<o;++d)c[d]=(n+d)*l;return c}function j6(e,t,a){return t=+t,e=+e,a=+a,tj(e,t,a)[2]}function N6(e,t,a){t=+t,e=+e,a=+a;const r=t<e,n=r?j6(t,e,a):j6(e,t,a);return(r?-1:1)*(n<0?1/-n:n)}function vI(e,t){let a;for(const r of e)r!=null&&(a<r||a===void 0&&r>=r)&&(a=r);return a}function bI(e,t){let a;for(const r of e)r!=null&&(a>r||a===void 0&&r>=r)&&(a=r);return a}function OY(e,t,a=0,r=1/0,n){if(t=Math.floor(t),a=Math.floor(Math.max(0,a)),r=Math.floor(Math.min(e.length-1,r)),!(a<=t&&t<=r))return e;for(n=n===void 0?LY:G7e(n);r>a;){if(r-a>600){const c=r-a+1,d=t-a+1,u=Math.log(c),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),m=Math.max(a,Math.floor(t-d*f/c+p)),v=Math.min(r,Math.floor(t+(c-d)*f/c+p));OY(e,t,m,v,n)}const i=e[t];let l=a,o=r;for(Xg(e,a,t),n(e[r],i)>0&&Xg(e,a,r);l<o;){for(Xg(e,l,o),++l,--o;n(e[l],i)<0;)++l;for(;n(e[o],i)>0;)--o}n(e[a],i)===0?Xg(e,a,o):(++o,Xg(e,o,r)),o<=t&&(a=o+1),t<=o&&(r=o-1)}return e}function Xg(e,t,a){const r=e[t];e[t]=e[a],e[a]=r}function J7e(e,t,a){if(e=Float64Array.from(z7e(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return bI(e);if(t>=1)return vI(e);var r,n=(r-1)*t,i=Math.floor(n),l=vI(OY(e,i).subarray(0,i+1)),o=bI(e.subarray(i+1));return l+(o-l)*(n-i)}}function Q7e(e,t,a=PY){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+a(e[0],0,e);if(t>=1)return+a(e[r-1],r-1,e);var r,n=(r-1)*t,i=Math.floor(n),l=+a(e[i],i,e),o=+a(e[i+1],i+1,e);return l+(o-l)*(n-i)}}function Z7e(e,t,a){e=+e,t=+t,a=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+a;for(var r=-1,n=Math.max(0,Math.ceil((t-e)/a))|0,i=new Array(n);++r<n;)i[r]=e+r*a;return i}function Ac(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Nh(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const k6=Symbol("implicit");function N_(){var e=new xI,t=[],a=[],r=k6;function n(i){let l=e.get(i);if(l===void 0){if(r!==k6)return r;e.set(i,l=t.push(i)-1)}return a[l%a.length]}return n.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new xI;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return n},n.range=function(i){return arguments.length?(a=Array.from(i),n):a.slice()},n.unknown=function(i){return arguments.length?(r=i,n):r},n.copy=function(){return N_(t,a).unknown(r)},Ac.apply(n,arguments),n}function k_(){var e=N_().unknown(void 0),t=e.domain,a=e.range,r=0,n=1,i,l,o=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var p=t().length,m=n<r,v=m?n:r,g=m?r:n;i=(g-v)/Math.max(1,p-c+d*2),o&&(i=Math.floor(i)),v+=(g-v-i*(p-c))*u,l=i*(1-c),o&&(v=Math.round(v),l=Math.round(l));var b=Z7e(p).map(function(j){return v+i*j});return a(m?b.reverse():b)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,n]=p,r=+r,n=+n,f()):[r,n]},e.rangeRound=function(p){return[r,n]=p,r=+r,n=+n,o=!0,f()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(p){return arguments.length?(o=!!p,f()):o},e.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),f()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},e.paddingOuter=function(p){return arguments.length?(d=+p,f()):d},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),f()):u},e.copy=function(){return k_(t(),[r,n]).round(o).paddingInner(c).paddingOuter(d).align(u)},Ac.apply(f(),arguments)}function RY(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return RY(t())},e}function eDe(){return RY(k_.apply(null,arguments).paddingInner(1))}function S_(e,t,a){e.prototype=t.prototype=a,a.constructor=e}function FY(e,t){var a=Object.create(e.prototype);for(var r in t)a[r]=t[r];return a}function db(){}var C1=.7,aj=1/C1,ex="\\s*([+-]?\\d+)\\s*",A1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",eu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tDe=/^#([0-9a-f]{3,8})$/,aDe=new RegExp(`^rgb\\(${ex},${ex},${ex}\\)$`),sDe=new RegExp(`^rgb\\(${eu},${eu},${eu}\\)$`),rDe=new RegExp(`^rgba\\(${ex},${ex},${ex},${A1}\\)$`),nDe=new RegExp(`^rgba\\(${eu},${eu},${eu},${A1}\\)$`),iDe=new RegExp(`^hsl\\(${A1},${eu},${eu}\\)$`),lDe=new RegExp(`^hsla\\(${A1},${eu},${eu},${A1}\\)$`),yI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};S_(db,_1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:wI,formatHex:wI,formatHex8:oDe,formatHsl:cDe,formatRgb:jI,toString:jI});function wI(){return this.rgb().formatHex()}function oDe(){return this.rgb().formatHex8()}function cDe(){return IY(this).formatHsl()}function jI(){return this.rgb().formatRgb()}function _1(e){var t,a;return e=(e+"").trim().toLowerCase(),(t=tDe.exec(e))?(a=t[1].length,t=parseInt(t[1],16),a===6?NI(t):a===3?new to(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):a===8?S2(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):a===4?S2(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=aDe.exec(e))?new to(t[1],t[2],t[3],1):(t=sDe.exec(e))?new to(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=rDe.exec(e))?S2(t[1],t[2],t[3],t[4]):(t=nDe.exec(e))?S2(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=iDe.exec(e))?CI(t[1],t[2]/100,t[3]/100,1):(t=lDe.exec(e))?CI(t[1],t[2]/100,t[3]/100,t[4]):yI.hasOwnProperty(e)?NI(yI[e]):e==="transparent"?new to(NaN,NaN,NaN,0):null}function NI(e){return new to(e>>16&255,e>>8&255,e&255,1)}function S2(e,t,a,r){return r<=0&&(e=t=a=NaN),new to(e,t,a,r)}function dDe(e){return e instanceof db||(e=_1(e)),e?(e=e.rgb(),new to(e.r,e.g,e.b,e.opacity)):new to}function S6(e,t,a,r){return arguments.length===1?dDe(e):new to(e,t,a,r??1)}function to(e,t,a,r){this.r=+e,this.g=+t,this.b=+a,this.opacity=+r}S_(to,S6,FY(db,{brighter(e){return e=e==null?aj:Math.pow(aj,e),new to(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?C1:Math.pow(C1,e),new to(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new to(im(this.r),im(this.g),im(this.b),sj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kI,formatHex:kI,formatHex8:uDe,formatRgb:SI,toString:SI}));function kI(){return`#${U0(this.r)}${U0(this.g)}${U0(this.b)}`}function uDe(){return`#${U0(this.r)}${U0(this.g)}${U0(this.b)}${U0((isNaN(this.opacity)?1:this.opacity)*255)}`}function SI(){const e=sj(this.opacity);return`${e===1?"rgb(":"rgba("}${im(this.r)}, ${im(this.g)}, ${im(this.b)}${e===1?")":`, ${e})`}`}function sj(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function im(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function U0(e){return e=im(e),(e<16?"0":"")+e.toString(16)}function CI(e,t,a,r){return r<=0?e=t=a=NaN:a<=0||a>=1?e=t=NaN:t<=0&&(e=NaN),new ad(e,t,a,r)}function IY(e){if(e instanceof ad)return new ad(e.h,e.s,e.l,e.opacity);if(e instanceof db||(e=_1(e)),!e)return new ad;if(e instanceof ad)return e;e=e.rgb();var t=e.r/255,a=e.g/255,r=e.b/255,n=Math.min(t,a,r),i=Math.max(t,a,r),l=NaN,o=i-n,c=(i+n)/2;return o?(t===i?l=(a-r)/o+(a<r)*6:a===i?l=(r-t)/o+2:l=(t-a)/o+4,o/=c<.5?i+n:2-i-n,l*=60):o=c>0&&c<1?0:l,new ad(l,o,c,e.opacity)}function hDe(e,t,a,r){return arguments.length===1?IY(e):new ad(e,t,a,r??1)}function ad(e,t,a,r){this.h=+e,this.s=+t,this.l=+a,this.opacity=+r}S_(ad,hDe,FY(db,{brighter(e){return e=e==null?aj:Math.pow(aj,e),new ad(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?C1:Math.pow(C1,e),new ad(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,r=a+(a<.5?a:1-a)*t,n=2*a-r;return new to(Gk(e>=240?e-240:e+120,n,r),Gk(e,n,r),Gk(e<120?e+240:e-120,n,r),this.opacity)},clamp(){return new ad(AI(this.h),C2(this.s),C2(this.l),sj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sj(this.opacity);return`${e===1?"hsl(":"hsla("}${AI(this.h)}, ${C2(this.s)*100}%, ${C2(this.l)*100}%${e===1?")":`, ${e})`}`}}));function AI(e){return e=(e||0)%360,e<0?e+360:e}function C2(e){return Math.max(0,Math.min(1,e||0))}function Gk(e,t,a){return(e<60?t+(a-t)*e/60:e<180?a:e<240?t+(a-t)*(240-e)/60:t)*255}const C_=e=>()=>e;function fDe(e,t){return function(a){return e+a*t}}function mDe(e,t,a){return e=Math.pow(e,a),t=Math.pow(t,a)-e,a=1/a,function(r){return Math.pow(e+r*t,a)}}function pDe(e){return(e=+e)==1?BY:function(t,a){return a-t?mDe(t,a,e):C_(isNaN(t)?a:t)}}function BY(e,t){var a=t-e;return a?fDe(e,a):C_(isNaN(e)?t:e)}const _I=(function e(t){var a=pDe(t);function r(n,i){var l=a((n=S6(n)).r,(i=S6(i)).r),o=a(n.g,i.g),c=a(n.b,i.b),d=BY(n.opacity,i.opacity);return function(u){return n.r=l(u),n.g=o(u),n.b=c(u),n.opacity=d(u),n+""}}return r.gamma=e,r})(1);function xDe(e,t){t||(t=[]);var a=e?Math.min(t.length,e.length):0,r=t.slice(),n;return function(i){for(n=0;n<a;++n)r[n]=e[n]*(1-i)+t[n]*i;return r}}function gDe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function vDe(e,t){var a=t?t.length:0,r=e?Math.min(a,e.length):0,n=new Array(r),i=new Array(a),l;for(l=0;l<r;++l)n[l]=Lx(e[l],t[l]);for(;l<a;++l)i[l]=t[l];return function(o){for(l=0;l<r;++l)i[l]=n[l](o);return i}}function bDe(e,t){var a=new Date;return e=+e,t=+t,function(r){return a.setTime(e*(1-r)+t*r),a}}function rj(e,t){return e=+e,t=+t,function(a){return e*(1-a)+t*a}}function yDe(e,t){var a={},r={},n;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?a[n]=Lx(e[n],t[n]):r[n]=t[n];return function(i){for(n in a)r[n]=a[n](i);return r}}var C6=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kk=new RegExp(C6.source,"g");function wDe(e){return function(){return e}}function jDe(e){return function(t){return e(t)+""}}function NDe(e,t){var a=C6.lastIndex=Kk.lastIndex=0,r,n,i,l=-1,o=[],c=[];for(e=e+"",t=t+"";(r=C6.exec(e))&&(n=Kk.exec(t));)(i=n.index)>a&&(i=t.slice(a,i),o[l]?o[l]+=i:o[++l]=i),(r=r[0])===(n=n[0])?o[l]?o[l]+=n:o[++l]=n:(o[++l]=null,c.push({i:l,x:rj(r,n)})),a=Kk.lastIndex;return a<t.length&&(i=t.slice(a),o[l]?o[l]+=i:o[++l]=i),o.length<2?c[0]?jDe(c[0].x):wDe(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)o[(f=c[u]).i]=f.x(d);return o.join("")})}function Lx(e,t){var a=typeof t,r;return t==null||a==="boolean"?C_(t):(a==="number"?rj:a==="string"?(r=_1(t))?(t=r,_I):NDe:t instanceof _1?_I:t instanceof Date?bDe:gDe(t)?xDe:Array.isArray(t)?vDe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?yDe:rj)(e,t)}function A_(e,t){return e=+e,t=+t,function(a){return Math.round(e*(1-a)+t*a)}}function kDe(e,t){t===void 0&&(t=e,e=Lx);for(var a=0,r=t.length-1,n=t[0],i=new Array(r<0?0:r);a<r;)i[a]=e(n,n=t[++a]);return function(l){var o=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return i[o](l-o)}}function SDe(e){return function(){return e}}function nj(e){return+e}var TI=[0,1];function Pl(e){return e}function A6(e,t){return(t-=e=+e)?function(a){return(a-e)/t}:SDe(isNaN(t)?NaN:.5)}function CDe(e,t){var a;return e>t&&(a=e,e=t,t=a),function(r){return Math.max(e,Math.min(t,r))}}function ADe(e,t,a){var r=e[0],n=e[1],i=t[0],l=t[1];return n<r?(r=A6(n,r),i=a(l,i)):(r=A6(r,n),i=a(i,l)),function(o){return i(r(o))}}function _De(e,t,a){var r=Math.min(e.length,t.length)-1,n=new Array(r),i=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)n[l]=A6(e[l],e[l+1]),i[l]=a(t[l],t[l+1]);return function(o){var c=cb(e,o,1,r)-1;return i[c](n[c](o))}}function ub(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function MN(){var e=TI,t=TI,a=Lx,r,n,i,l=Pl,o,c,d;function u(){var p=Math.min(e.length,t.length);return l!==Pl&&(l=CDe(e[0],e[p-1])),o=p>2?_De:ADe,c=d=null,f}function f(p){return p==null||isNaN(p=+p)?i:(c||(c=o(e.map(r),t,a)))(r(l(p)))}return f.invert=function(p){return l(n((d||(d=o(t,e.map(r),rj)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,nj),u()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),a=A_,u()},f.clamp=function(p){return arguments.length?(l=p?!0:Pl,u()):l!==Pl},f.interpolate=function(p){return arguments.length?(a=p,u()):a},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,m){return r=p,n=m,u()}}function __(){return MN()(Pl,Pl)}function TDe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ij(e,t){if((a=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var a,r=e.slice(0,a);return[r.length>1?r[0]+r.slice(2):r,+e.slice(a+1)]}function px(e){return e=ij(Math.abs(e)),e?e[1]:NaN}function EDe(e,t){return function(a,r){for(var n=a.length,i=[],l=0,o=e[0],c=0;n>0&&o>0&&(c+o+1>r&&(o=Math.max(1,r-c)),i.push(a.substring(n-=o,n+o)),!((c+=o+1)>r));)o=e[l=(l+1)%e.length];return i.reverse().join(t)}}function DDe(e){return function(t){return t.replace(/[0-9]/g,function(a){return e[+a]})}}var MDe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function T1(e){if(!(t=MDe.exec(e)))throw new Error("invalid format: "+e);var t;return new T_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}T1.prototype=T_.prototype;function T_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}T_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function PDe(e){e:for(var t=e.length,a=1,r=-1,n;a<t;++a)switch(e[a]){case".":r=n=a;break;case"0":r===0&&(r=a),n=a;break;default:if(!+e[a])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(n+1):e}var $Y;function LDe(e,t){var a=ij(e,t);if(!a)return e+"";var r=a[0],n=a[1],i=n-($Y=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,l=r.length;return i===l?r:i>l?r+new Array(i-l+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+ij(e,Math.max(0,t+i-1))[0]}function EI(e,t){var a=ij(e,t);if(!a)return e+"";var r=a[0],n=a[1];return n<0?"0."+new Array(-n).join("0")+r:r.length>n+1?r.slice(0,n+1)+"."+r.slice(n+1):r+new Array(n-r.length+2).join("0")}const DI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:TDe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>EI(e*100,t),r:EI,s:LDe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function MI(e){return e}var PI=Array.prototype.map,LI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ODe(e){var t=e.grouping===void 0||e.thousands===void 0?MI:EDe(PI.call(e.grouping,Number),e.thousands+""),a=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?MI:DDe(PI.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=T1(f);var p=f.fill,m=f.align,v=f.sign,g=f.symbol,b=f.zero,j=f.width,N=f.comma,k=f.precision,S=f.trim,C=f.type;C==="n"?(N=!0,C="g"):DI[C]||(k===void 0&&(k=12),S=!0,C="g"),(b||p==="0"&&m==="=")&&(b=!0,p="0",m="=");var _=g==="$"?a:g==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",P=g==="$"?r:/[%p]/.test(C)?l:"",L=DI[C],U=/[defgprs%]/.test(C);k=k===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function z(T){var F=_,M=P,I,W,R;if(C==="c")M=L(T)+M,T="";else{T=+T;var q=T<0||1/T<0;if(T=isNaN(T)?c:L(Math.abs(T),k),S&&(T=PDe(T)),q&&+T==0&&v!=="+"&&(q=!1),F=(q?v==="("?v:o:v==="-"||v==="("?"":v)+F,M=(C==="s"?LI[8+$Y/3]:"")+M+(q&&v==="("?")":""),U){for(I=-1,W=T.length;++I<W;)if(R=T.charCodeAt(I),48>R||R>57){M=(R===46?n+T.slice(I+1):T.slice(I))+M,T=T.slice(0,I);break}}}N&&!b&&(T=t(T,1/0));var ae=F.length+T.length+M.length,te=ae<j?new Array(j-ae+1).join(p):"";switch(N&&b&&(T=t(te+T,te.length?j-M.length:1/0),te=""),m){case"<":T=F+T+M+te;break;case"=":T=F+te+T+M;break;case"^":T=te.slice(0,ae=te.length>>1)+F+T+M+te.slice(ae);break;default:T=te+F+T+M;break}return i(T)}return z.toString=function(){return f+""},z}function u(f,p){var m=d((f=T1(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(px(p)/3)))*3,g=Math.pow(10,-v),b=LI[8+v/3];return function(j){return m(g*j)+b}}return{format:d,formatPrefix:u}}var A2,E_,UY;RDe({thousands:",",grouping:[3],currency:["$",""]});function RDe(e){return A2=ODe(e),E_=A2.format,UY=A2.formatPrefix,A2}function FDe(e){return Math.max(0,-px(Math.abs(e)))}function IDe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(px(t)/3)))*3-px(Math.abs(e)))}function BDe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,px(t)-px(e))+1}function zY(e,t,a,r){var n=N6(e,t,a),i;switch(r=T1(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=IDe(n,l))&&(r.precision=i),UY(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=BDe(n,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=FDe(n))&&(r.precision=i-(r.type==="%")*2);break}}return E_(r)}function Yf(e){var t=e.domain;return e.ticks=function(a){var r=t();return w6(r[0],r[r.length-1],a??10)},e.tickFormat=function(a,r){var n=t();return zY(n[0],n[n.length-1],a??10,r)},e.nice=function(a){a==null&&(a=10);var r=t(),n=0,i=r.length-1,l=r[n],o=r[i],c,d,u=10;for(o<l&&(d=l,l=o,o=d,d=n,n=i,i=d);u-- >0;){if(d=j6(l,o,a),d===c)return r[n]=l,r[i]=o,t(r);if(d>0)l=Math.floor(l/d)*d,o=Math.ceil(o/d)*d;else if(d<0)l=Math.ceil(l*d)/d,o=Math.floor(o*d)/d;else break;c=d}return e},e}function HY(){var e=__();return e.copy=function(){return ub(e,HY())},Ac.apply(e,arguments),Yf(e)}function VY(e){var t;function a(r){return r==null||isNaN(r=+r)?t:r}return a.invert=a,a.domain=a.range=function(r){return arguments.length?(e=Array.from(r,nj),a):e.slice()},a.unknown=function(r){return arguments.length?(t=r,a):t},a.copy=function(){return VY(e).unknown(t)},e=arguments.length?Array.from(e,nj):[0,1],Yf(a)}function WY(e,t){e=e.slice();var a=0,r=e.length-1,n=e[a],i=e[r],l;return i<n&&(l=a,a=r,r=l,l=n,n=i,i=l),e[a]=t.floor(n),e[r]=t.ceil(i),e}function OI(e){return Math.log(e)}function RI(e){return Math.exp(e)}function $De(e){return-Math.log(-e)}function UDe(e){return-Math.exp(-e)}function zDe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function HDe(e){return e===10?zDe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function VDe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function FI(e){return(t,a)=>-e(-t,a)}function D_(e){const t=e(OI,RI),a=t.domain;let r=10,n,i;function l(){return n=VDe(r),i=HDe(r),a()[0]<0?(n=FI(n),i=FI(i),e($De,UDe)):e(OI,RI),t}return t.base=function(o){return arguments.length?(r=+o,l()):r},t.domain=function(o){return arguments.length?(a(o),l()):a()},t.ticks=o=>{const c=a();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let p=n(d),m=n(u),v,g;const b=o==null?10:+o;let j=[];if(!(r%1)&&m-p<b){if(p=Math.floor(p),m=Math.ceil(m),d>0){for(;p<=m;++p)for(v=1;v<r;++v)if(g=p<0?v/i(-p):v*i(p),!(g<d)){if(g>u)break;j.push(g)}}else for(;p<=m;++p)for(v=r-1;v>=1;--v)if(g=p>0?v/i(-p):v*i(p),!(g<d)){if(g>u)break;j.push(g)}j.length*2<b&&(j=w6(d,u,b))}else j=w6(p,m,Math.min(m-p,b)).map(i);return f?j.reverse():j},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=T1(c)).precision==null&&(c.trim=!0),c=E_(c)),o===1/0)return c;const d=Math.max(1,r*o/t.ticks().length);return u=>{let f=u/i(Math.round(n(u)));return f*r<r-.5&&(f*=r),f<=d?c(u):""}},t.nice=()=>a(WY(a(),{floor:o=>i(Math.floor(n(o))),ceil:o=>i(Math.ceil(n(o)))})),t}function qY(){const e=D_(MN()).domain([1,10]);return e.copy=()=>ub(e,qY()).base(e.base()),Ac.apply(e,arguments),e}function II(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function BI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function M_(e){var t=1,a=e(II(t),BI(t));return a.constant=function(r){return arguments.length?e(II(t=+r),BI(t)):t},Yf(a)}function GY(){var e=M_(MN());return e.copy=function(){return ub(e,GY()).constant(e.constant())},Ac.apply(e,arguments)}function $I(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function WDe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function qDe(e){return e<0?-e*e:e*e}function P_(e){var t=e(Pl,Pl),a=1;function r(){return a===1?e(Pl,Pl):a===.5?e(WDe,qDe):e($I(a),$I(1/a))}return t.exponent=function(n){return arguments.length?(a=+n,r()):a},Yf(t)}function L_(){var e=P_(MN());return e.copy=function(){return ub(e,L_()).exponent(e.exponent())},Ac.apply(e,arguments),e}function GDe(){return L_.apply(null,arguments).exponent(.5)}function UI(e){return Math.sign(e)*e*e}function KDe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function KY(){var e=__(),t=[0,1],a=!1,r;function n(i){var l=KDe(e(i));return isNaN(l)?r:a?Math.round(l):l}return n.invert=function(i){return e.invert(UI(i))},n.domain=function(i){return arguments.length?(e.domain(i),n):e.domain()},n.range=function(i){return arguments.length?(e.range((t=Array.from(i,nj)).map(UI)),n):t.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(a=!!i,n):a},n.clamp=function(i){return arguments.length?(e.clamp(i),n):e.clamp()},n.unknown=function(i){return arguments.length?(r=i,n):r},n.copy=function(){return KY(e.domain(),t).round(a).clamp(e.clamp()).unknown(r)},Ac.apply(n,arguments),Yf(n)}function YY(){var e=[],t=[],a=[],r;function n(){var l=0,o=Math.max(1,t.length);for(a=new Array(o-1);++l<o;)a[l-1]=Q7e(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?r:t[cb(a,l)]}return i.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?a[o-1]:e[0],o<a.length?a[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(_f),n()},i.range=function(l){return arguments.length?(t=Array.from(l),n()):t.slice()},i.unknown=function(l){return arguments.length?(r=l,i):r},i.quantiles=function(){return a.slice()},i.copy=function(){return YY().domain(e).range(t).unknown(r)},Ac.apply(i,arguments)}function XY(){var e=0,t=1,a=1,r=[.5],n=[0,1],i;function l(c){return c!=null&&c<=c?n[cb(r,c,0,a)]:i}function o(){var c=-1;for(r=new Array(a);++c<a;)r[c]=((c+1)*t-(c-a)*e)/(a+1);return l}return l.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},l.range=function(c){return arguments.length?(a=(n=Array.from(c)).length-1,o()):n.slice()},l.invertExtent=function(c){var d=n.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=a?[r[a-1],t]:[r[d-1],r[d]]},l.unknown=function(c){return arguments.length&&(i=c),l},l.thresholds=function(){return r.slice()},l.copy=function(){return XY().domain([e,t]).range(n).unknown(i)},Ac.apply(Yf(l),arguments)}function JY(){var e=[.5],t=[0,1],a,r=1;function n(i){return i!=null&&i<=i?t[cb(e,i,0,r)]:a}return n.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),n):e.slice()},n.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),n):t.slice()},n.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return JY().domain(e).range(t).unknown(a)},Ac.apply(n,arguments)}const Yk=new Date,Xk=new Date;function ri(e,t,a,r){function n(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(e(i=new Date(+i)),i),n.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),n.round=i=>{const l=n(i),o=n.ceil(i);return i-l<o-i?l:o},n.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),n.range=(i,l,o)=>{const c=[];if(i=n.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return c;let d;do c.push(d=new Date(+i)),t(i,o),e(i);while(d<i&&i<l);return c},n.filter=i=>ri(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!i(l););else for(;--o>=0;)for(;t(l,1),!i(l););}),a&&(n.count=(i,l)=>(Yk.setTime(+i),Xk.setTime(+l),e(Yk),e(Xk),Math.floor(a(Yk,Xk))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(r?l=>r(l)%i===0:l=>n.count(0,l)%i===0):n)),n}const lj=ri(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);lj.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ri(t=>{t.setTime(Math.floor(t/e)*e)},(t,a)=>{t.setTime(+t+a*e)},(t,a)=>(a-t)/e):lj);lj.range;const Ku=1e3,gc=Ku*60,Yu=gc*60,fh=Yu*24,O_=fh*7,zI=fh*30,Jk=fh*365,z0=ri(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ku)},(e,t)=>(t-e)/Ku,e=>e.getUTCSeconds());z0.range;const R_=ri(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ku)},(e,t)=>{e.setTime(+e+t*gc)},(e,t)=>(t-e)/gc,e=>e.getMinutes());R_.range;const F_=ri(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*gc)},(e,t)=>(t-e)/gc,e=>e.getUTCMinutes());F_.range;const I_=ri(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ku-e.getMinutes()*gc)},(e,t)=>{e.setTime(+e+t*Yu)},(e,t)=>(t-e)/Yu,e=>e.getHours());I_.range;const B_=ri(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Yu)},(e,t)=>(t-e)/Yu,e=>e.getUTCHours());B_.range;const hb=ri(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*gc)/fh,e=>e.getDate()-1);hb.range;const PN=ri(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fh,e=>e.getUTCDate()-1);PN.range;const QY=ri(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fh,e=>Math.floor(e/fh));QY.range;function Um(e){return ri(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,a)=>{t.setDate(t.getDate()+a*7)},(t,a)=>(a-t-(a.getTimezoneOffset()-t.getTimezoneOffset())*gc)/O_)}const LN=Um(0),oj=Um(1),YDe=Um(2),XDe=Um(3),xx=Um(4),JDe=Um(5),QDe=Um(6);LN.range;oj.range;YDe.range;XDe.range;xx.range;JDe.range;QDe.range;function zm(e){return ri(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCDate(t.getUTCDate()+a*7)},(t,a)=>(a-t)/O_)}const ON=zm(0),cj=zm(1),ZDe=zm(2),eMe=zm(3),gx=zm(4),tMe=zm(5),aMe=zm(6);ON.range;cj.range;ZDe.range;eMe.range;gx.range;tMe.range;aMe.range;const $_=ri(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());$_.range;const U_=ri(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());U_.range;const mh=ri(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());mh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ri(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,a)=>{t.setFullYear(t.getFullYear()+a*e)});mh.range;const ph=ri(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ph.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ri(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCFullYear(t.getUTCFullYear()+a*e)});ph.range;function ZY(e,t,a,r,n,i){const l=[[z0,1,Ku],[z0,5,5*Ku],[z0,15,15*Ku],[z0,30,30*Ku],[i,1,gc],[i,5,5*gc],[i,15,15*gc],[i,30,30*gc],[n,1,Yu],[n,3,3*Yu],[n,6,6*Yu],[n,12,12*Yu],[r,1,fh],[r,2,2*fh],[a,1,O_],[t,1,zI],[t,3,3*zI],[e,1,Jk]];function o(d,u,f){const p=u<d;p&&([d,u]=[u,d]);const m=f&&typeof f.range=="function"?f:c(d,u,f),v=m?m.range(d,+u+1):[];return p?v.reverse():v}function c(d,u,f){const p=Math.abs(u-d)/f,m=j_(([,,b])=>b).right(l,p);if(m===l.length)return e.every(N6(d/Jk,u/Jk,f));if(m===0)return lj.every(Math.max(N6(d,u,f),1));const[v,g]=l[p/l[m-1][2]<l[m][2]/p?m-1:m];return v.every(g)}return[o,c]}const[sMe,rMe]=ZY(ph,U_,ON,QY,B_,F_),[nMe,iMe]=ZY(mh,$_,LN,hb,I_,R_);function Qk(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Zk(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Jg(e,t,a){return{y:e,m:t,d:a,H:0,M:0,S:0,L:0}}function lMe(e){var t=e.dateTime,a=e.date,r=e.time,n=e.periods,i=e.days,l=e.shortDays,o=e.months,c=e.shortMonths,d=Qg(n),u=Zg(n),f=Qg(i),p=Zg(i),m=Qg(l),v=Zg(l),g=Qg(o),b=Zg(o),j=Qg(c),N=Zg(c),k={a:q,A:ae,b:te,B:K,c:null,d:KI,e:KI,f:EMe,g:$Me,G:zMe,H:AMe,I:_Me,j:TMe,L:eX,m:DMe,M:MMe,p:oe,q:D,Q:JI,s:QI,S:PMe,u:LMe,U:OMe,V:RMe,w:FMe,W:IMe,x:null,X:null,y:BMe,Y:UMe,Z:HMe,"%":XI},S={a:G,A:H,b:X,B:se,c:null,d:YI,e:YI,f:GMe,g:sPe,G:nPe,H:VMe,I:WMe,j:qMe,L:aX,m:KMe,M:YMe,p:ie,q:ne,Q:JI,s:QI,S:XMe,u:JMe,U:QMe,V:ZMe,w:ePe,W:tPe,x:null,X:null,y:aPe,Y:rPe,Z:iPe,"%":XI},C={a:z,A:T,b:F,B:M,c:I,d:qI,e:qI,f:NMe,g:WI,G:VI,H:GI,I:GI,j:bMe,L:jMe,m:vMe,M:yMe,p:U,q:gMe,Q:SMe,s:CMe,S:wMe,u:hMe,U:fMe,V:mMe,w:uMe,W:pMe,x:W,X:R,y:WI,Y:VI,Z:xMe,"%":kMe};k.x=_(a,k),k.X=_(r,k),k.c=_(t,k),S.x=_(a,S),S.X=_(r,S),S.c=_(t,S);function _(J,le){return function(pe){var Q=[],xe=-1,he=0,ue=J.length,Le,ze,Ce;for(pe instanceof Date||(pe=new Date(+pe));++xe<ue;)J.charCodeAt(xe)===37&&(Q.push(J.slice(he,xe)),(ze=HI[Le=J.charAt(++xe)])!=null?Le=J.charAt(++xe):ze=Le==="e"?" ":"0",(Ce=le[Le])&&(Le=Ce(pe,ze)),Q.push(Le),he=xe+1);return Q.push(J.slice(he,xe)),Q.join("")}}function P(J,le){return function(pe){var Q=Jg(1900,void 0,1),xe=L(Q,J,pe+="",0),he,ue;if(xe!=pe.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(le&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(he=Zk(Jg(Q.y,0,1)),ue=he.getUTCDay(),he=ue>4||ue===0?cj.ceil(he):cj(he),he=PN.offset(he,(Q.V-1)*7),Q.y=he.getUTCFullYear(),Q.m=he.getUTCMonth(),Q.d=he.getUTCDate()+(Q.w+6)%7):(he=Qk(Jg(Q.y,0,1)),ue=he.getDay(),he=ue>4||ue===0?oj.ceil(he):oj(he),he=hb.offset(he,(Q.V-1)*7),Q.y=he.getFullYear(),Q.m=he.getMonth(),Q.d=he.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),ue="Z"in Q?Zk(Jg(Q.y,0,1)).getUTCDay():Qk(Jg(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(ue+5)%7:Q.w+Q.U*7-(ue+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,Zk(Q)):Qk(Q)}}function L(J,le,pe,Q){for(var xe=0,he=le.length,ue=pe.length,Le,ze;xe<he;){if(Q>=ue)return-1;if(Le=le.charCodeAt(xe++),Le===37){if(Le=le.charAt(xe++),ze=C[Le in HI?le.charAt(xe++):Le],!ze||(Q=ze(J,pe,Q))<0)return-1}else if(Le!=pe.charCodeAt(Q++))return-1}return Q}function U(J,le,pe){var Q=d.exec(le.slice(pe));return Q?(J.p=u.get(Q[0].toLowerCase()),pe+Q[0].length):-1}function z(J,le,pe){var Q=m.exec(le.slice(pe));return Q?(J.w=v.get(Q[0].toLowerCase()),pe+Q[0].length):-1}function T(J,le,pe){var Q=f.exec(le.slice(pe));return Q?(J.w=p.get(Q[0].toLowerCase()),pe+Q[0].length):-1}function F(J,le,pe){var Q=j.exec(le.slice(pe));return Q?(J.m=N.get(Q[0].toLowerCase()),pe+Q[0].length):-1}function M(J,le,pe){var Q=g.exec(le.slice(pe));return Q?(J.m=b.get(Q[0].toLowerCase()),pe+Q[0].length):-1}function I(J,le,pe){return L(J,t,le,pe)}function W(J,le,pe){return L(J,a,le,pe)}function R(J,le,pe){return L(J,r,le,pe)}function q(J){return l[J.getDay()]}function ae(J){return i[J.getDay()]}function te(J){return c[J.getMonth()]}function K(J){return o[J.getMonth()]}function oe(J){return n[+(J.getHours()>=12)]}function D(J){return 1+~~(J.getMonth()/3)}function G(J){return l[J.getUTCDay()]}function H(J){return i[J.getUTCDay()]}function X(J){return c[J.getUTCMonth()]}function se(J){return o[J.getUTCMonth()]}function ie(J){return n[+(J.getUTCHours()>=12)]}function ne(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var le=_(J+="",k);return le.toString=function(){return J},le},parse:function(J){var le=P(J+="",!1);return le.toString=function(){return J},le},utcFormat:function(J){var le=_(J+="",S);return le.toString=function(){return J},le},utcParse:function(J){var le=P(J+="",!0);return le.toString=function(){return J},le}}}var HI={"-":"",_:" ",0:"0"},Si=/^\s*\d+/,oMe=/^%/,cMe=/[\\^$*+?|[\]().{}]/g;function Ms(e,t,a){var r=e<0?"-":"",n=(r?-e:e)+"",i=n.length;return r+(i<a?new Array(a-i+1).join(t)+n:n)}function dMe(e){return e.replace(cMe,"\\$&")}function Qg(e){return new RegExp("^(?:"+e.map(dMe).join("|")+")","i")}function Zg(e){return new Map(e.map((t,a)=>[t.toLowerCase(),a]))}function uMe(e,t,a){var r=Si.exec(t.slice(a,a+1));return r?(e.w=+r[0],a+r[0].length):-1}function hMe(e,t,a){var r=Si.exec(t.slice(a,a+1));return r?(e.u=+r[0],a+r[0].length):-1}function fMe(e,t,a){var r=Si.exec(t.slice(a,a+2));return r?(e.U=+r[0],a+r[0].length):-1}function mMe(e,t,a){var r=Si.exec(t.slice(a,a+2));return r?(e.V=+r[0],a+r[0].length):-1}function pMe(e,t,a){var r=Si.exec(t.slice(a,a+2));return r?(e.W=+r[0],a+r[0].length):-1}function VI(e,t,a){var r=Si.exec(t.slice(a,a+4));return r?(e.y=+r[0],a+r[0].length):-1}function WI(e,t,a){var r=Si.exec(t.slice(a,a+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),a+r[0].length):-1}function xMe(e,t,a){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(a,a+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),a+r[0].length):-1}function gMe(e,t,a){var r=Si.exec(t.slice(a,a+1));return r?(e.q=r[0]*3-3,a+r[0].length):-1}function vMe(e,t,a){var r=Si.exec(t.slice(a,a+2));return r?(e.m=r[0]-1,a+r[0].length):-1}function qI(e,t,a){var r=Si.exec(t.slice(a,a+2));return r?(e.d=+r[0],a+r[0].length):-1}function bMe(e,t,a){var r=Si.exec(t.slice(a,a+3));return r?(e.m=0,e.d=+r[0],a+r[0].length):-1}function GI(e,t,a){var r=Si.exec(t.slice(a,a+2));return r?(e.H=+r[0],a+r[0].length):-1}function yMe(e,t,a){var r=Si.exec(t.slice(a,a+2));return r?(e.M=+r[0],a+r[0].length):-1}function wMe(e,t,a){var r=Si.exec(t.slice(a,a+2));return r?(e.S=+r[0],a+r[0].length):-1}function jMe(e,t,a){var r=Si.exec(t.slice(a,a+3));return r?(e.L=+r[0],a+r[0].length):-1}function NMe(e,t,a){var r=Si.exec(t.slice(a,a+6));return r?(e.L=Math.floor(r[0]/1e3),a+r[0].length):-1}function kMe(e,t,a){var r=oMe.exec(t.slice(a,a+1));return r?a+r[0].length:-1}function SMe(e,t,a){var r=Si.exec(t.slice(a));return r?(e.Q=+r[0],a+r[0].length):-1}function CMe(e,t,a){var r=Si.exec(t.slice(a));return r?(e.s=+r[0],a+r[0].length):-1}function KI(e,t){return Ms(e.getDate(),t,2)}function AMe(e,t){return Ms(e.getHours(),t,2)}function _Me(e,t){return Ms(e.getHours()%12||12,t,2)}function TMe(e,t){return Ms(1+hb.count(mh(e),e),t,3)}function eX(e,t){return Ms(e.getMilliseconds(),t,3)}function EMe(e,t){return eX(e,t)+"000"}function DMe(e,t){return Ms(e.getMonth()+1,t,2)}function MMe(e,t){return Ms(e.getMinutes(),t,2)}function PMe(e,t){return Ms(e.getSeconds(),t,2)}function LMe(e){var t=e.getDay();return t===0?7:t}function OMe(e,t){return Ms(LN.count(mh(e)-1,e),t,2)}function tX(e){var t=e.getDay();return t>=4||t===0?xx(e):xx.ceil(e)}function RMe(e,t){return e=tX(e),Ms(xx.count(mh(e),e)+(mh(e).getDay()===4),t,2)}function FMe(e){return e.getDay()}function IMe(e,t){return Ms(oj.count(mh(e)-1,e),t,2)}function BMe(e,t){return Ms(e.getFullYear()%100,t,2)}function $Me(e,t){return e=tX(e),Ms(e.getFullYear()%100,t,2)}function UMe(e,t){return Ms(e.getFullYear()%1e4,t,4)}function zMe(e,t){var a=e.getDay();return e=a>=4||a===0?xx(e):xx.ceil(e),Ms(e.getFullYear()%1e4,t,4)}function HMe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ms(t/60|0,"0",2)+Ms(t%60,"0",2)}function YI(e,t){return Ms(e.getUTCDate(),t,2)}function VMe(e,t){return Ms(e.getUTCHours(),t,2)}function WMe(e,t){return Ms(e.getUTCHours()%12||12,t,2)}function qMe(e,t){return Ms(1+PN.count(ph(e),e),t,3)}function aX(e,t){return Ms(e.getUTCMilliseconds(),t,3)}function GMe(e,t){return aX(e,t)+"000"}function KMe(e,t){return Ms(e.getUTCMonth()+1,t,2)}function YMe(e,t){return Ms(e.getUTCMinutes(),t,2)}function XMe(e,t){return Ms(e.getUTCSeconds(),t,2)}function JMe(e){var t=e.getUTCDay();return t===0?7:t}function QMe(e,t){return Ms(ON.count(ph(e)-1,e),t,2)}function sX(e){var t=e.getUTCDay();return t>=4||t===0?gx(e):gx.ceil(e)}function ZMe(e,t){return e=sX(e),Ms(gx.count(ph(e),e)+(ph(e).getUTCDay()===4),t,2)}function ePe(e){return e.getUTCDay()}function tPe(e,t){return Ms(cj.count(ph(e)-1,e),t,2)}function aPe(e,t){return Ms(e.getUTCFullYear()%100,t,2)}function sPe(e,t){return e=sX(e),Ms(e.getUTCFullYear()%100,t,2)}function rPe(e,t){return Ms(e.getUTCFullYear()%1e4,t,4)}function nPe(e,t){var a=e.getUTCDay();return e=a>=4||a===0?gx(e):gx.ceil(e),Ms(e.getUTCFullYear()%1e4,t,4)}function iPe(){return"+0000"}function XI(){return"%"}function JI(e){return+e}function QI(e){return Math.floor(+e/1e3)}var Lp,rX,nX;lPe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lPe(e){return Lp=lMe(e),rX=Lp.format,Lp.parse,nX=Lp.utcFormat,Lp.utcParse,Lp}function oPe(e){return new Date(e)}function cPe(e){return e instanceof Date?+e:+new Date(+e)}function z_(e,t,a,r,n,i,l,o,c,d){var u=__(),f=u.invert,p=u.domain,m=d(".%L"),v=d(":%S"),g=d("%I:%M"),b=d("%I %p"),j=d("%a %d"),N=d("%b %d"),k=d("%B"),S=d("%Y");function C(_){return(c(_)<_?m:o(_)<_?v:l(_)<_?g:i(_)<_?b:r(_)<_?n(_)<_?j:N:a(_)<_?k:S)(_)}return u.invert=function(_){return new Date(f(_))},u.domain=function(_){return arguments.length?p(Array.from(_,cPe)):p().map(oPe)},u.ticks=function(_){var P=p();return e(P[0],P[P.length-1],_??10)},u.tickFormat=function(_,P){return P==null?C:d(P)},u.nice=function(_){var P=p();return(!_||typeof _.range!="function")&&(_=t(P[0],P[P.length-1],_??10)),_?p(WY(P,_)):u},u.copy=function(){return ub(u,z_(e,t,a,r,n,i,l,o,c,d))},u}function dPe(){return Ac.apply(z_(nMe,iMe,mh,$_,LN,hb,I_,R_,z0,rX).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function uPe(){return Ac.apply(z_(sMe,rMe,ph,U_,ON,PN,B_,F_,z0,nX).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function RN(){var e=0,t=1,a,r,n,i,l=Pl,o=!1,c;function d(f){return f==null||isNaN(f=+f)?c:l(n===0?.5:(f=(i(f)-a)*n,o?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,a=i(e=+e),r=i(t=+t),n=a===r?0:1/(r-a),d):[e,t]},d.clamp=function(f){return arguments.length?(o=!!f,d):o},d.interpolator=function(f){return arguments.length?(l=f,d):l};function u(f){return function(p){var m,v;return arguments.length?([m,v]=p,l=f(m,v),d):[l(0),l(1)]}}return d.range=u(Lx),d.rangeRound=u(A_),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return i=f,a=f(e),r=f(t),n=a===r?0:1/(r-a),d}}function Xf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function iX(){var e=Yf(RN()(Pl));return e.copy=function(){return Xf(e,iX())},Nh.apply(e,arguments)}function lX(){var e=D_(RN()).domain([1,10]);return e.copy=function(){return Xf(e,lX()).base(e.base())},Nh.apply(e,arguments)}function oX(){var e=M_(RN());return e.copy=function(){return Xf(e,oX()).constant(e.constant())},Nh.apply(e,arguments)}function H_(){var e=P_(RN());return e.copy=function(){return Xf(e,H_()).exponent(e.exponent())},Nh.apply(e,arguments)}function hPe(){return H_.apply(null,arguments).exponent(.5)}function cX(){var e=[],t=Pl;function a(r){if(r!=null&&!isNaN(r=+r))return t((cb(e,r,1)-1)/(e.length-1))}return a.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let n of r)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(_f),a},a.interpolator=function(r){return arguments.length?(t=r,a):t},a.range=function(){return e.map((r,n)=>t(n/(e.length-1)))},a.quantiles=function(r){return Array.from({length:r+1},(n,i)=>J7e(e,i/r))},a.copy=function(){return cX(t).domain(e)},Nh.apply(a,arguments)}function FN(){var e=0,t=.5,a=1,r=1,n,i,l,o,c,d=Pl,u,f=!1,p;function m(g){return isNaN(g=+g)?p:(g=.5+((g=+u(g))-i)*(r*g<r*i?o:c),d(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,a]=g,n=u(e=+e),i=u(t=+t),l=u(a=+a),o=n===i?0:.5/(i-n),c=i===l?0:.5/(l-i),r=i<n?-1:1,m):[e,t,a]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(d=g,m):d};function v(g){return function(b){var j,N,k;return arguments.length?([j,N,k]=b,d=kDe(g,[j,N,k]),m):[d(0),d(.5),d(1)]}}return m.range=v(Lx),m.rangeRound=v(A_),m.unknown=function(g){return arguments.length?(p=g,m):p},function(g){return u=g,n=g(e),i=g(t),l=g(a),o=n===i?0:.5/(i-n),c=i===l?0:.5/(l-i),r=i<n?-1:1,m}}function dX(){var e=Yf(FN()(Pl));return e.copy=function(){return Xf(e,dX())},Nh.apply(e,arguments)}function uX(){var e=D_(FN()).domain([.1,1,10]);return e.copy=function(){return Xf(e,uX()).base(e.base())},Nh.apply(e,arguments)}function hX(){var e=M_(FN());return e.copy=function(){return Xf(e,hX()).constant(e.constant())},Nh.apply(e,arguments)}function V_(){var e=P_(FN());return e.copy=function(){return Xf(e,V_()).exponent(e.exponent())},Nh.apply(e,arguments)}function fPe(){return V_.apply(null,arguments).exponent(.5)}const uv=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:k_,scaleDiverging:dX,scaleDivergingLog:uX,scaleDivergingPow:V_,scaleDivergingSqrt:fPe,scaleDivergingSymlog:hX,scaleIdentity:VY,scaleImplicit:k6,scaleLinear:HY,scaleLog:qY,scaleOrdinal:N_,scalePoint:eDe,scalePow:L_,scaleQuantile:YY,scaleQuantize:XY,scaleRadial:KY,scaleSequential:iX,scaleSequentialLog:lX,scaleSequentialPow:H_,scaleSequentialQuantile:cX,scaleSequentialSqrt:hPe,scaleSequentialSymlog:oX,scaleSqrt:GDe,scaleSymlog:GY,scaleThreshold:JY,scaleTime:dPe,scaleUtc:uPe,tickFormat:zY},Symbol.toStringTag,{value:"Module"}));var Jf=e=>e.chartData,mPe=xt([Jf],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),IN=(e,t,a,r)=>r?mPe(e):Jf(e);function jm(e){if(Array.isArray(e)&&e.length===2){var[t,a]=e;if(ml(t)&&ml(a))return!0}return!1}function ZI(e,t,a){return a?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function fX(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[a,r]=e,n,i;if(ml(a))n=a;else if(typeof a=="function")return;if(ml(r))i=r;else if(typeof r=="function")return;var l=[n,i];if(jm(l))return l}}function pPe(e,t,a){if(!(!a&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,a);if(jm(r))return ZI(r,t,a)}catch{}if(Array.isArray(e)&&e.length===2){var[n,i]=e,l,o;if(n==="auto")t!=null&&(l=Math.min(...t));else if(Sa(n))l=n;else if(typeof n=="function")try{t!=null&&(l=n(t?.[0]))}catch{}else if(typeof n=="string"&&IF.test(n)){var c=IF.exec(n);if(c==null||t==null)l=void 0;else{var d=+c[1];l=t[0]-d}}else l=t?.[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(Sa(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[1]))}catch{}else if(typeof i=="string"&&BF.test(i)){var u=BF.exec(i);if(u==null||t==null)o=void 0;else{var f=+u[1];o=t[1]+f}}else o=t?.[1];var p=[l,o];if(jm(p))return t==null?p:ZI(p,t,a)}}}var Ox=1e9,xPe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},q_,Rr=!0,kc="[DecimalError] ",lm=kc+"Invalid argument: ",W_=kc+"Exponent out of range: ",Rx=Math.floor,L0=Math.pow,gPe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Lo,vi=1e7,gr=7,mX=9007199254740991,dj=Rx(mX/gr),ca={};ca.absoluteValue=ca.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ca.comparedTo=ca.cmp=function(e){var t,a,r,n,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,n=e.d.length,t=0,a=r<n?r:n;t<a;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===n?0:r>n^i.s<0?1:-1};ca.decimalPlaces=ca.dp=function(){var e=this,t=e.d.length-1,a=(t-e.e)*gr;if(t=e.d[t],t)for(;t%10==0;t/=10)a--;return a<0?0:a};ca.dividedBy=ca.div=function(e){return nh(this,new this.constructor(e))};ca.dividedToIntegerBy=ca.idiv=function(e){var t=this,a=t.constructor;return lr(nh(t,new a(e),0,1),a.precision)};ca.equals=ca.eq=function(e){return!this.cmp(e)};ca.exponent=function(){return $n(this)};ca.greaterThan=ca.gt=function(e){return this.cmp(e)>0};ca.greaterThanOrEqualTo=ca.gte=function(e){return this.cmp(e)>=0};ca.isInteger=ca.isint=function(){return this.e>this.d.length-2};ca.isNegative=ca.isneg=function(){return this.s<0};ca.isPositive=ca.ispos=function(){return this.s>0};ca.isZero=function(){return this.s===0};ca.lessThan=ca.lt=function(e){return this.cmp(e)<0};ca.lessThanOrEqualTo=ca.lte=function(e){return this.cmp(e)<1};ca.logarithm=ca.log=function(e){var t,a=this,r=a.constructor,n=r.precision,i=n+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Lo))throw Error(kc+"NaN");if(a.s<1)throw Error(kc+(a.s?"NaN":"-Infinity"));return a.eq(Lo)?new r(0):(Rr=!1,t=nh(E1(a,i),E1(e,i),i),Rr=!0,lr(t,n))};ca.minus=ca.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?gX(t,e):pX(t,(e.s=-e.s,e))};ca.modulo=ca.mod=function(e){var t,a=this,r=a.constructor,n=r.precision;if(e=new r(e),!e.s)throw Error(kc+"NaN");return a.s?(Rr=!1,t=nh(a,e,0,1).times(e),Rr=!0,a.minus(t)):lr(new r(a),n)};ca.naturalExponential=ca.exp=function(){return xX(this)};ca.naturalLogarithm=ca.ln=function(){return E1(this)};ca.negated=ca.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ca.plus=ca.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pX(t,e):gX(t,(e.s=-e.s,e))};ca.precision=ca.sd=function(e){var t,a,r,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(lm+e);if(t=$n(n)+1,r=n.d.length-1,a=r*gr+1,r=n.d[r],r){for(;r%10==0;r/=10)a--;for(r=n.d[0];r>=10;r/=10)a++}return e&&t>a?t:a};ca.squareRoot=ca.sqrt=function(){var e,t,a,r,n,i,l,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(kc+"NaN")}for(e=$n(o),Rr=!1,n=Math.sqrt(+o),n==0||n==1/0?(t=Xd(o.d),(t.length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=Rx((e+1)/2)-(e<0||e%2),n==1/0?t="5e"+e:(t=n.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(n.toString()),a=c.precision,n=l=a+3;;)if(i=r,r=i.plus(nh(o,i,l+2)).times(.5),Xd(i.d).slice(0,l)===(t=Xd(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),n==l&&t=="4999"){if(lr(i,a+1,0),i.times(i).eq(o)){r=i;break}}else if(t!="9999")break;l+=4}return Rr=!0,lr(r,a)};ca.times=ca.mul=function(e){var t,a,r,n,i,l,o,c,d,u=this,f=u.constructor,p=u.d,m=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,a=u.e+e.e,c=p.length,d=m.length,c<d&&(i=p,p=m,m=i,l=c,c=d,d=l),i=[],l=c+d,r=l;r--;)i.push(0);for(r=d;--r>=0;){for(t=0,n=c+r;n>r;)o=i[n]+m[r]*p[n-r-1]+t,i[n--]=o%vi|0,t=o/vi|0;i[n]=(i[n]+t)%vi|0}for(;!i[--l];)i.pop();return t?++a:i.shift(),e.d=i,e.e=a,Rr?lr(e,f.precision):e};ca.toDecimalPlaces=ca.todp=function(e,t){var a=this,r=a.constructor;return a=new r(a),e===void 0?a:(su(e,0,Ox),t===void 0?t=r.rounding:su(t,0,8),lr(a,e+$n(a)+1,t))};ca.toExponential=function(e,t){var a,r=this,n=r.constructor;return e===void 0?a=Nm(r,!0):(su(e,0,Ox),t===void 0?t=n.rounding:su(t,0,8),r=lr(new n(r),e+1,t),a=Nm(r,!0,e+1)),a};ca.toFixed=function(e,t){var a,r,n=this,i=n.constructor;return e===void 0?Nm(n):(su(e,0,Ox),t===void 0?t=i.rounding:su(t,0,8),r=lr(new i(n),e+$n(n)+1,t),a=Nm(r.abs(),!1,e+$n(r)+1),n.isneg()&&!n.isZero()?"-"+a:a)};ca.toInteger=ca.toint=function(){var e=this,t=e.constructor;return lr(new t(e),$n(e)+1,t.rounding)};ca.toNumber=function(){return+this};ca.toPower=ca.pow=function(e){var t,a,r,n,i,l,o=this,c=o.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(Lo);if(o=new c(o),!o.s){if(e.s<1)throw Error(kc+"Infinity");return o}if(o.eq(Lo))return o;if(r=c.precision,e.eq(Lo))return lr(o,r);if(t=e.e,a=e.d.length-1,l=t>=a,i=o.s,l){if((a=u<0?-u:u)<=mX){for(n=new c(Lo),t=Math.ceil(r/gr+4),Rr=!1;a%2&&(n=n.times(o),tB(n.d,t)),a=Rx(a/2),a!==0;)o=o.times(o),tB(o.d,t);return Rr=!0,e.s<0?new c(Lo).div(n):lr(n,r)}}else if(i<0)throw Error(kc+"NaN");return i=i<0&&e.d[Math.max(t,a)]&1?-1:1,o.s=1,Rr=!1,n=e.times(E1(o,r+d)),Rr=!0,n=xX(n),n.s=i,n};ca.toPrecision=function(e,t){var a,r,n=this,i=n.constructor;return e===void 0?(a=$n(n),r=Nm(n,a<=i.toExpNeg||a>=i.toExpPos)):(su(e,1,Ox),t===void 0?t=i.rounding:su(t,0,8),n=lr(new i(n),e,t),a=$n(n),r=Nm(n,e<=a||a<=i.toExpNeg,e)),r};ca.toSignificantDigits=ca.tosd=function(e,t){var a=this,r=a.constructor;return e===void 0?(e=r.precision,t=r.rounding):(su(e,1,Ox),t===void 0?t=r.rounding:su(t,0,8)),lr(new r(a),e,t)};ca.toString=ca.valueOf=ca.val=ca.toJSON=ca[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=$n(e),a=e.constructor;return Nm(e,t<=a.toExpNeg||t>=a.toExpPos)};function pX(e,t){var a,r,n,i,l,o,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Rr?lr(t,f):t;if(c=e.d,d=t.d,l=e.e,n=t.e,c=c.slice(),i=l-n,i){for(i<0?(r=c,i=-i,o=d.length):(r=d,n=l,o=c.length),l=Math.ceil(f/gr),o=l>o?l+1:o+1,i>o&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(o=c.length,i=d.length,o-i<0&&(i=o,r=d,d=c,c=r),a=0;i;)a=(c[--i]=c[i]+d[i]+a)/vi|0,c[i]%=vi;for(a&&(c.unshift(a),++n),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=n,Rr?lr(t,f):t}function su(e,t,a){if(e!==~~e||e<t||e>a)throw Error(lm+e)}function Xd(e){var t,a,r,n=e.length-1,i="",l=e[0];if(n>0){for(i+=l,t=1;t<n;t++)r=e[t]+"",a=gr-r.length,a&&(i+=mf(a)),i+=r;l=e[t],r=l+"",a=gr-r.length,a&&(i+=mf(a))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var nh=(function(){function e(r,n){var i,l=0,o=r.length;for(r=r.slice();o--;)i=r[o]*n+l,r[o]=i%vi|0,l=i/vi|0;return l&&r.unshift(l),r}function t(r,n,i,l){var o,c;if(i!=l)c=i>l?1:-1;else for(o=c=0;o<i;o++)if(r[o]!=n[o]){c=r[o]>n[o]?1:-1;break}return c}function a(r,n,i){for(var l=0;i--;)r[i]-=l,l=r[i]<n[i]?1:0,r[i]=l*vi+r[i]-n[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,n,i,l){var o,c,d,u,f,p,m,v,g,b,j,N,k,S,C,_,P,L,U=r.constructor,z=r.s==n.s?1:-1,T=r.d,F=n.d;if(!r.s)return new U(r);if(!n.s)throw Error(kc+"Division by zero");for(c=r.e-n.e,P=F.length,C=T.length,m=new U(z),v=m.d=[],d=0;F[d]==(T[d]||0);)++d;if(F[d]>(T[d]||0)&&--c,i==null?N=i=U.precision:l?N=i+($n(r)-$n(n))+1:N=i,N<0)return new U(0);if(N=N/gr+2|0,d=0,P==1)for(u=0,F=F[0],N++;(d<C||u)&&N--;d++)k=u*vi+(T[d]||0),v[d]=k/F|0,u=k%F|0;else{for(u=vi/(F[0]+1)|0,u>1&&(F=e(F,u),T=e(T,u),P=F.length,C=T.length),S=P,g=T.slice(0,P),b=g.length;b<P;)g[b++]=0;L=F.slice(),L.unshift(0),_=F[0],F[1]>=vi/2&&++_;do u=0,o=t(F,g,P,b),o<0?(j=g[0],P!=b&&(j=j*vi+(g[1]||0)),u=j/_|0,u>1?(u>=vi&&(u=vi-1),f=e(F,u),p=f.length,b=g.length,o=t(f,g,p,b),o==1&&(u--,a(f,P<p?L:F,p))):(u==0&&(o=u=1),f=F.slice()),p=f.length,p<b&&f.unshift(0),a(g,f,b),o==-1&&(b=g.length,o=t(F,g,P,b),o<1&&(u++,a(g,P<b?L:F,b))),b=g.length):o===0&&(u++,g=[0]),v[d++]=u,o&&g[0]?g[b++]=T[S]||0:(g=[T[S]],b=1);while((S++<C||g[0]!==void 0)&&N--)}return v[0]||v.shift(),m.e=c,lr(m,l?i+$n(m)+1:i)}})();function xX(e,t){var a,r,n,i,l,o,c=0,d=0,u=e.constructor,f=u.precision;if($n(e)>16)throw Error(W_+$n(e));if(!e.s)return new u(Lo);for(Rr=!1,o=f,l=new u(.03125);e.abs().gte(.1);)e=e.times(l),d+=5;for(r=Math.log(L0(2,d))/Math.LN10*2+5|0,o+=r,a=n=i=new u(Lo),u.precision=o;;){if(n=lr(n.times(e),o),a=a.times(++c),l=i.plus(nh(n,a,o)),Xd(l.d).slice(0,o)===Xd(i.d).slice(0,o)){for(;d--;)i=lr(i.times(i),o);return u.precision=f,t==null?(Rr=!0,lr(i,f)):i}i=l}}function $n(e){for(var t=e.e*gr,a=e.d[0];a>=10;a/=10)t++;return t}function eS(e,t,a){if(t>e.LN10.sd())throw Rr=!0,a&&(e.precision=a),Error(kc+"LN10 precision limit exceeded");return lr(new e(e.LN10),t)}function mf(e){for(var t="";e--;)t+="0";return t}function E1(e,t){var a,r,n,i,l,o,c,d,u,f=1,p=10,m=e,v=m.d,g=m.constructor,b=g.precision;if(m.s<1)throw Error(kc+(m.s?"NaN":"-Infinity"));if(m.eq(Lo))return new g(0);if(t==null?(Rr=!1,d=b):d=t,m.eq(10))return t==null&&(Rr=!0),eS(g,d);if(d+=p,g.precision=d,a=Xd(v),r=a.charAt(0),i=$n(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&a.charAt(1)>3;)m=m.times(e),a=Xd(m.d),r=a.charAt(0),f++;i=$n(m),r>1?(m=new g("0."+a),i++):m=new g(r+"."+a.slice(1))}else return c=eS(g,d+2,b).times(i+""),m=E1(new g(r+"."+a.slice(1)),d-p).plus(c),g.precision=b,t==null?(Rr=!0,lr(m,b)):m;for(o=l=m=nh(m.minus(Lo),m.plus(Lo),d),u=lr(m.times(m),d),n=3;;){if(l=lr(l.times(u),d),c=o.plus(nh(l,new g(n),d)),Xd(c.d).slice(0,d)===Xd(o.d).slice(0,d))return o=o.times(2),i!==0&&(o=o.plus(eS(g,d+2,b).times(i+""))),o=nh(o,new g(f),d),g.precision=b,t==null?(Rr=!0,lr(o,b)):o;o=c,n+=2}}function eB(e,t){var a,r,n;for((a=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(a<0&&(a=r),a+=+t.slice(r+1),t=t.substring(0,r)):a<0&&(a=t.length),r=0;t.charCodeAt(r)===48;)++r;for(n=t.length;t.charCodeAt(n-1)===48;)--n;if(t=t.slice(r,n),t){if(n-=r,a=a-r-1,e.e=Rx(a/gr),e.d=[],r=(a+1)%gr,a<0&&(r+=gr),r<n){for(r&&e.d.push(+t.slice(0,r)),n-=gr;r<n;)e.d.push(+t.slice(r,r+=gr));t=t.slice(r),r=gr-t.length}else r-=n;for(;r--;)t+="0";if(e.d.push(+t),Rr&&(e.e>dj||e.e<-dj))throw Error(W_+a)}else e.s=0,e.e=0,e.d=[0];return e}function lr(e,t,a){var r,n,i,l,o,c,d,u,f=e.d;for(l=1,i=f[0];i>=10;i/=10)l++;if(r=t-l,r<0)r+=gr,n=t,d=f[u=0];else{if(u=Math.ceil((r+1)/gr),i=f.length,u>=i)return e;for(d=i=f[u],l=1;i>=10;i/=10)l++;r%=gr,n=r-gr+l}if(a!==void 0&&(i=L0(10,l-n-1),o=d/i%10|0,c=t<0||f[u+1]!==void 0||d%i,c=a<4?(o||c)&&(a==0||a==(e.s<0?3:2)):o>5||o==5&&(a==4||c||a==6&&(r>0?n>0?d/L0(10,l-n):0:f[u-1])%10&1||a==(e.s<0?8:7))),t<1||!f[0])return c?(i=$n(e),f.length=1,t=t-i-1,f[0]=L0(10,(gr-t%gr)%gr),e.e=Rx(-t/gr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=u,i=1,u--):(f.length=u+1,i=L0(10,gr-r),f[u]=n>0?(d/L0(10,l-n)%L0(10,n)|0)*i:0),c)for(;;)if(u==0){(f[0]+=i)==vi&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=vi)break;f[u--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(Rr&&(e.e>dj||e.e<-dj))throw Error(W_+$n(e));return e}function gX(e,t){var a,r,n,i,l,o,c,d,u,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Rr?lr(t,m):t;if(c=e.d,f=t.d,r=t.e,d=e.e,c=c.slice(),l=d-r,l){for(u=l<0,u?(a=c,l=-l,o=f.length):(a=f,r=d,o=c.length),n=Math.max(Math.ceil(m/gr),o)+2,l>n&&(l=n,a.length=1),a.reverse(),n=l;n--;)a.push(0);a.reverse()}else{for(n=c.length,o=f.length,u=n<o,u&&(o=n),n=0;n<o;n++)if(c[n]!=f[n]){u=c[n]<f[n];break}l=0}for(u&&(a=c,c=f,f=a,t.s=-t.s),o=c.length,n=f.length-o;n>0;--n)c[o++]=0;for(n=f.length;n>l;){if(c[--n]<f[n]){for(i=n;i&&c[--i]===0;)c[i]=vi-1;--c[i],c[n]+=vi}c[n]-=f[n]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Rr?lr(t,m):t):new p(0)}function Nm(e,t,a){var r,n=$n(e),i=Xd(e.d),l=i.length;return t?(a&&(r=a-l)>0?i=i.charAt(0)+"."+i.slice(1)+mf(r):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+mf(-n-1)+i,a&&(r=a-l)>0&&(i+=mf(r))):n>=l?(i+=mf(n+1-l),a&&(r=a-n-1)>0&&(i=i+"."+mf(r))):((r=n+1)<l&&(i=i.slice(0,r)+"."+i.slice(r)),a&&(r=a-l)>0&&(n+1===l&&(i+="."),i+=mf(r))),e.s<0?"-"+i:i}function tB(e,t){if(e.length>t)return e.length=t,!0}function vX(e){var t,a,r;function n(i){var l=this;if(!(l instanceof n))return new n(i);if(l.constructor=n,i instanceof n){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(lm+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return eB(l,i.toString())}else if(typeof i!="string")throw Error(lm+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,gPe.test(i))eB(l,i);else throw Error(lm+i)}if(n.prototype=ca,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=vX,n.config=n.set=vPe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(a=r[t++])||(e[a]=this[a]);return n.config(e),n}function vPe(e){if(!e||typeof e!="object")throw Error(kc+"Object expected");var t,a,r,n=["precision",1,Ox,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if((r=e[a=n[t]])!==void 0)if(Rx(r)===r&&r>=n[t+1]&&r<=n[t+2])this[a]=r;else throw Error(lm+a+": "+r);if((r=e[a="LN10"])!==void 0)if(r==Math.LN10)this[a]=new this(r);else throw Error(lm+a+": "+r);return this}var q_=vX(xPe);Lo=new q_(1);const qs=q_;var bPe=e=>e,bX={},yX=e=>e===bX,aB=e=>function t(){return arguments.length===0||arguments.length===1&&yX(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},wX=(e,t)=>e===1?t:aB(function(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];var i=r.filter(l=>l!==bX).length;return i>=e?t(...r):wX(e-i,aB(function(){for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];var d=r.map(u=>yX(u)?o.shift():u);return t(...d,...o)}))}),BN=e=>wX(e.length,e),_6=(e,t)=>{for(var a=[],r=e;r<t;++r)a[r-e]=r;return a},yPe=BN((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(a=>t[a]).map(e)),wPe=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];if(!a.length)return bPe;var n=a.reverse(),i=n[0],l=n.slice(1);return function(){return l.reduce((o,c)=>c(o),i(...arguments))}},T6=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),jX=e=>{var t=null,a=null;return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t&&n.every((l,o)=>{var c;return l===((c=t)===null||c===void 0?void 0:c[o])})||(t=n,a=e(...n)),a}};function NX(e){var t;return e===0?t=1:t=Math.floor(new qs(e).abs().log(10).toNumber())+1,t}function kX(e,t,a){for(var r=new qs(e),n=0,i=[];r.lt(t)&&n<1e5;)i.push(r.toNumber()),r=r.add(a),n++;return i}BN((e,t,a)=>{var r=+e,n=+t;return r+a*(n-r)});BN((e,t,a)=>{var r=t-+e;return r=r||1/0,(a-e)/r});BN((e,t,a)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(a-e)/r))});var SX=e=>{var[t,a]=e,[r,n]=[t,a];return t>a&&([r,n]=[a,t]),[r,n]},CX=(e,t,a)=>{if(e.lte(0))return new qs(0);var r=NX(e.toNumber()),n=new qs(10).pow(r),i=e.div(n),l=r!==1?.05:.1,o=new qs(Math.ceil(i.div(l).toNumber())).add(a).mul(l),c=o.mul(n);return t?new qs(c.toNumber()):new qs(Math.ceil(c.toNumber()))},jPe=(e,t,a)=>{var r=new qs(1),n=new qs(e);if(!n.isint()&&a){var i=Math.abs(e);i<1?(r=new qs(10).pow(NX(e)-1),n=new qs(Math.floor(n.div(r).toNumber())).mul(r)):i>1&&(n=new qs(Math.floor(e)))}else e===0?n=new qs(Math.floor((t-1)/2)):a||(n=new qs(Math.floor(e)));var l=Math.floor((t-1)/2),o=wPe(yPe(c=>n.add(new qs(c-l).mul(r)).toNumber()),_6);return o(0,t)},AX=function(t,a,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((a-t)/(r-1)))return{step:new qs(0),tickMin:new qs(0),tickMax:new qs(0)};var l=CX(new qs(a).sub(t).div(r-1),n,i),o;t<=0&&a>=0?o=new qs(0):(o=new qs(t).add(a).div(2),o=o.sub(new qs(o).mod(l)));var c=Math.ceil(o.sub(t).div(l).toNumber()),d=Math.ceil(new qs(a).sub(o).div(l).toNumber()),u=c+d+1;return u>r?AX(t,a,r,n,i+1):(u<r&&(d=a>0?d+(r-u):d,c=a>0?c:c+(r-u)),{step:l,tickMin:o.sub(new qs(c).mul(l)),tickMax:o.add(new qs(d).mul(l))})};function NPe(e){var[t,a]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(r,2),[l,o]=SX([t,a]);if(l===-1/0||o===1/0){var c=o===1/0?[l,..._6(0,r-1).map(()=>1/0)]:[..._6(0,r-1).map(()=>-1/0),o];return t>a?T6(c):c}if(l===o)return jPe(l,r,n);var{step:d,tickMin:u,tickMax:f}=AX(l,o,i,n,0),p=kX(u,f.add(new qs(.1).mul(d)),d);return t>a?T6(p):p}function kPe(e,t){var[a,r]=e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=SX([a,r]);if(i===-1/0||l===1/0)return[a,r];if(i===l)return[i];var o=Math.max(t,2),c=CX(new qs(l).sub(i).div(o-1),n,0),d=[...kX(new qs(i),new qs(l),c),l];return n===!1&&(d=d.map(u=>Math.round(u))),a>r?T6(d):d}var SPe=jX(NPe),CPe=jX(kPe),_X=e=>e.rootProps.maxBarSize,APe=e=>e.rootProps.barGap,TX=e=>e.rootProps.barCategoryGap,_Pe=e=>e.rootProps.barSize,$N=e=>e.rootProps.stackOffset,G_=e=>e.options.chartName,K_=e=>e.rootProps.syncId,EX=e=>e.rootProps.syncMethod,Y_=e=>e.options.eventEmitter,Uu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},_o={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},UN=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},TPe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Uu.angleAxisId,includeHidden:!1,name:void 0,reversed:Uu.reversed,scale:Uu.scale,tick:Uu.tick,tickCount:void 0,ticks:void 0,type:Uu.type,unit:void 0},EPe={allowDataOverflow:_o.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:_o.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_o.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_o.scale,tick:_o.tick,tickCount:_o.tickCount,ticks:void 0,type:_o.type,unit:void 0},DPe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Uu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Uu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Uu.scale,tick:Uu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},MPe={allowDataOverflow:_o.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:_o.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_o.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_o.scale,tick:_o.tick,tickCount:_o.tickCount,ticks:void 0,type:"category",unit:void 0},X_=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?DPe:TPe,J_=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?MPe:EPe,zN=e=>e.polarOptions,Q_=xt([wh,jh,ki],bTe),DX=xt([zN,Q_],(e,t)=>{if(e!=null)return hd(e.innerRadius,t,0)}),MX=xt([zN,Q_],(e,t)=>{if(e!=null)return hd(e.outerRadius,t,t*.8)}),PPe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:a}=e;return[t,a]},PX=xt([zN],PPe);xt([X_,PX],UN);var LX=xt([Q_,DX,MX],(e,t,a)=>{if(!(e==null||t==null||a==null))return[t,a]});xt([J_,LX],UN);var OX=xt([Rs,zN,DX,MX,wh,jh],(e,t,a,r,n,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||a==null||r==null)){var{cx:l,cy:o,startAngle:c,endAngle:d}=t;return{cx:hd(l,n,n/2),cy:hd(o,i,i/2),innerRadius:a,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),ni=(e,t)=>t,HN=(e,t,a)=>a;function Z_(e){return e?.id}var ii=e=>{var t=Rs(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Fx=e=>e.tooltip.settings.axisId,li=e=>{var t=ii(e),a=Fx(e);return fb(e,t,a)},RX=xt([li],e=>e?.dataKey);function FX(e,t,a){var{chartData:r=[]}=t,{allowDuplicatedCategory:n,dataKey:i}=a,l=new Map;return e.forEach(o=>{var c,d=(c=o.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var u=Z_(o);d.forEach((f,p)=>{var m=i==null||n?p:String(Ni(f,i,null)),v=Ni(f,o.dataKey,0),g;l.has(m)?g=l.get(m):g={},Object.assign(g,{[u]:v}),l.set(m,g)})}}),Array.from(l.values())}function VN(e){return e.stackId!=null&&e.dataKey!=null}var WN=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function qN(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function sB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function uj(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?sB(Object(a),!0).forEach(function(r){LPe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):sB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function LPe(e,t,a){return(t=OPe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function OPe(e){var t=RPe(e,"string");return typeof t=="symbol"?t:t+""}function RPe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E6=[0,"auto"],So={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},IX=(e,t)=>e.cartesianAxis.xAxis[t],kh=(e,t)=>{var a=IX(e,t);return a??So},Co={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:E6,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ob},BX=(e,t)=>e.cartesianAxis.yAxis[t],Sh=(e,t)=>{var a=BX(e,t);return a??Co},FPe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},eT=(e,t)=>{var a=e.cartesianAxis.zAxis[t];return a??FPe},Fl=(e,t,a)=>{switch(t){case"xAxis":return kh(e,a);case"yAxis":return Sh(e,a);case"zAxis":return eT(e,a);case"angleAxis":return X_(e,a);case"radiusAxis":return J_(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},IPe=(e,t,a)=>{switch(t){case"xAxis":return kh(e,a);case"yAxis":return Sh(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},fb=(e,t,a)=>{switch(t){case"xAxis":return kh(e,a);case"yAxis":return Sh(e,a);case"angleAxis":return X_(e,a);case"radiusAxis":return J_(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},$X=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function UX(e,t){return a=>{switch(e){case"xAxis":return"xAxisId"in a&&a.xAxisId===t;case"yAxis":return"yAxisId"in a&&a.yAxisId===t;case"zAxis":return"zAxisId"in a&&a.zAxisId===t;case"angleAxis":return"angleAxisId"in a&&a.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in a&&a.radiusAxisId===t;default:return!1}}}var GN=e=>e.graphicalItems.cartesianItems,BPe=xt([ni,HN],UX),zX=(e,t,a)=>e.filter(a).filter(r=>t?.includeHidden===!0?!0:!r.hide),mb=xt([GN,Fl,BPe],zX,{memoizeOptions:{resultEqualityCheck:qN}}),HX=xt([mb],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(VN)),VX=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),$Pe=xt([mb],VX),WX=e=>e.map(t=>t.data).filter(Boolean).flat(1),UPe=xt([mb],WX,{memoizeOptions:{resultEqualityCheck:qN}}),qX=(e,t)=>{var{chartData:a=[],dataStartIndex:r,dataEndIndex:n}=t;return e.length>0?e:a.slice(r,n+1)},tT=xt([UPe,IN],qX),GX=(e,t,a)=>t?.dataKey!=null?e.map(r=>({value:Ni(r,t.dataKey)})):a.length>0?a.map(r=>r.dataKey).flatMap(r=>e.map(n=>({value:Ni(n,r)}))):e.map(r=>({value:r})),KN=xt([tT,Fl,mb],GX);function KX(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function W2(e){if(au(e)||e instanceof Date){var t=Number(e);if(ml(t))return t}}function rB(e){if(Array.isArray(e)){var t=[W2(e[0]),W2(e[1])];return jm(t)?t:void 0}var a=W2(e);if(a!=null)return[a,a]}function Ix(e){return e.map(W2).filter(s7e)}function zPe(e,t,a){return!a||typeof t!="number"||jc(t)?[]:a.length?Ix(a.flatMap(r=>{var n=Ni(e,r.dataKey),i,l;if(Array.isArray(n)?[i,l]=n:i=l=n,!(!ml(i)||!ml(l)))return[t-i,t+l]})):[]}var HPe=xt([HX,IN,li],FX),YX=(e,t,a)=>{var r={},n=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),r);return Object.fromEntries(Object.entries(n).map(i=>{var[l,o]=i,c=o.map(Z_);return[l,{stackedData:OTe(e,c,a),graphicalItems:o}]}))},D6=xt([HPe,HX,$N],YX),XX=(e,t,a,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r==null&&a!=="zAxis"){var l=$Te(e,n,i);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},VPe=xt([Fl],e=>e.allowDataOverflow),aT=e=>{var t;if(e==null||!("domain"in e))return E6;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var a=Ix(e.ticks);return[Math.min(...a),Math.max(...a)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:E6},JX=xt([Fl],aT),QX=xt([JX,VPe],fX),WPe=xt([D6,Jf,ni,QX],XX,{memoizeOptions:{resultEqualityCheck:WN}}),sT=e=>e.errorBars,qPe=(e,t,a)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>KX(a,r)),hj=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];var n=a.filter(Boolean);if(n.length!==0){var i=n.flat(),l=Math.min(...i),o=Math.max(...i);return[l,o]}},ZX=(e,t,a,r,n)=>{var i,l;if(a.length>0&&e.forEach(o=>{a.forEach(c=>{var d,u,f=(d=r[c.id])===null||d===void 0?void 0:d.filter(j=>KX(n,j)),p=Ni(o,(u=t.dataKey)!==null&&u!==void 0?u:c.dataKey),m=zPe(o,p,f);if(m.length>=2){var v=Math.min(...m),g=Math.max(...m);(i==null||v<i)&&(i=v),(l==null||g>l)&&(l=g)}var b=rB(p);b!=null&&(i=i==null?b[0]:Math.min(i,b[0]),l=l==null?b[1]:Math.max(l,b[1]))})}),t?.dataKey!=null&&e.forEach(o=>{var c=rB(Ni(o,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),l=l==null?c[1]:Math.max(l,c[1]))}),ml(i)&&ml(l))return[i,l]},GPe=xt([tT,Fl,$Pe,sT,ni],ZX,{memoizeOptions:{resultEqualityCheck:WN}});function KPe(e){var{value:t}=e;if(au(t)||t instanceof Date)return t}var YPe=(e,t,a)=>{var r=e.map(KPe).filter(n=>n!=null);return a&&(t.dataKey==null||t.allowDuplicatedCategory&&jK(r))?MY(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},eJ=e=>e.referenceElements.dots,Bx=(e,t,a)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===a:r.yAxisId===a),XPe=xt([eJ,ni,HN],Bx),tJ=e=>e.referenceElements.areas,JPe=xt([tJ,ni,HN],Bx),aJ=e=>e.referenceElements.lines,QPe=xt([aJ,ni,HN],Bx),sJ=(e,t)=>{var a=Ix(e.map(r=>t==="xAxis"?r.x:r.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},ZPe=xt(XPe,ni,sJ),rJ=(e,t)=>{var a=Ix(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},eLe=xt([JPe,ni],rJ),nJ=(e,t)=>{var a=Ix(e.map(r=>t==="xAxis"?r.x:r.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},tLe=xt(QPe,ni,nJ),aLe=xt(ZPe,tLe,eLe,(e,t,a)=>hj(e,a,t)),iJ=(e,t,a,r,n,i,l,o)=>{if(a!=null)return a;var c=l==="vertical"&&o==="xAxis"||l==="horizontal"&&o==="yAxis",d=c?hj(r,i,n):hj(i,n);return pPe(t,d,e.allowDataOverflow)},sLe=xt([Fl,JX,QX,WPe,GPe,aLe,Rs,ni],iJ,{memoizeOptions:{resultEqualityCheck:WN}}),rLe=[0,1],lJ=(e,t,a,r,n,i,l)=>{if(!((e==null||a==null||a.length===0)&&l===void 0)){var{dataKey:o,type:c}=e,d=Kf(t,i);return d&&o==null?MY(0,a.length):c==="category"?YPe(r,e,d):n==="expand"?rLe:l}},rT=xt([Fl,Rs,tT,KN,$N,ni,sLe],lJ),oJ=(e,t,a,r,n)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&n==="radiusAxis"?"band":t==="radial"&&n==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(nb(i));return o in uv?o:"point"}}},pb=xt([Fl,Rs,$X,G_,ni],oJ);function nLe(e){if(e!=null){if(e in uv)return uv[e]();var t="scale".concat(nb(e));if(t in uv)return uv[t]()}}function nT(e,t,a,r){if(!(a==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(a).range(r);var n=nLe(t);if(n!=null){var i=n.domain(a).range(r);return ETe(i),i}}}var cJ=(e,t,a)=>{var r=aT(t);if(!(a!=="auto"&&a!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&jm(e))return SPe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&jm(e))return CPe(e,t.tickCount,t.allowDecimals)}},iT=xt([rT,fb,pb],cJ),dJ=(e,t,a,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&jm(t)&&Array.isArray(a)&&a.length>0){var n=t[0],i=a[0],l=t[1],o=a[a.length-1];return[Math.min(n,i),Math.max(l,o)]}return t},iLe=xt([Fl,rT,iT,ni],dJ),lLe=xt(KN,Fl,(e,t)=>{if(!(!t||t.type!=="number")){var a=1/0,r=Array.from(Ix(e.map(o=>o.value))).sort((o,c)=>o-c);if(r.length<2)return 1/0;var n=r[r.length-1]-r[0];if(n===0)return 1/0;for(var i=0;i<r.length-1;i++){var l=r[i+1]-r[i];a=Math.min(a,l)}return a/n}}),uJ=xt(lLe,Rs,TX,ki,(e,t,a,r)=>r,(e,t,a,r,n)=>{if(!ml(e))return 0;var i=t==="vertical"?r.height:r.width;if(n==="gap")return e*i/2;if(n==="no-gap"){var l=hd(a,e*i),o=e*i/2;return o-l-(o-l)/i*l}return 0}),oLe=(e,t)=>{var a=kh(e,t);return a==null||typeof a.padding!="string"?0:uJ(e,"xAxis",t,a.padding)},cLe=(e,t)=>{var a=Sh(e,t);return a==null||typeof a.padding!="string"?0:uJ(e,"yAxis",t,a.padding)},dLe=xt(kh,oLe,(e,t)=>{var a,r;if(e==null)return{left:0,right:0};var{padding:n}=e;return typeof n=="string"?{left:t,right:t}:{left:((a=n.left)!==null&&a!==void 0?a:0)+t,right:((r=n.right)!==null&&r!==void 0?r:0)+t}}),uLe=xt(Sh,cLe,(e,t)=>{var a,r;if(e==null)return{top:0,bottom:0};var{padding:n}=e;return typeof n=="string"?{top:t,bottom:t}:{top:((a=n.top)!==null&&a!==void 0?a:0)+t,bottom:((r=n.bottom)!==null&&r!==void 0?r:0)+t}}),hLe=xt([ki,dLe,CN,SN,(e,t,a)=>a],(e,t,a,r,n)=>{var{padding:i}=r;return n?[i.left,a.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),fLe=xt([ki,Rs,uLe,CN,SN,(e,t,a)=>a],(e,t,a,r,n,i)=>{var{padding:l}=n;return i?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-a.bottom,e.top+a.top]:[e.top+a.top,e.top+e.height-a.bottom]}),xb=(e,t,a,r)=>{var n;switch(t){case"xAxis":return hLe(e,a,r);case"yAxis":return fLe(e,a,r);case"zAxis":return(n=eT(e,a))===null||n===void 0?void 0:n.range;case"angleAxis":return PX(e);case"radiusAxis":return LX(e,a);default:return}},hJ=xt([Fl,xb],UN),$x=xt([Fl,pb,iLe,hJ],nT);xt([mb,sT,ni],qPe);function fJ(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var YN=(e,t)=>t,XN=(e,t,a)=>a,mLe=xt(NN,YN,XN,(e,t,a)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===a).sort(fJ)),pLe=xt(kN,YN,XN,(e,t,a)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===a).sort(fJ)),mJ=(e,t)=>({width:e.width,height:t.height}),xLe=(e,t)=>{var a=typeof t.width=="number"?t.width:ob;return{width:a,height:e.height}},pJ=xt(ki,kh,mJ),gLe=(e,t,a)=>{switch(t){case"top":return e.top;case"bottom":return a-e.bottom;default:return 0}},vLe=(e,t,a)=>{switch(t){case"left":return e.left;case"right":return a-e.right;default:return 0}},bLe=xt(jh,ki,mLe,YN,XN,(e,t,a,r,n)=>{var i={},l;return a.forEach(o=>{var c=mJ(t,o);l==null&&(l=gLe(t,r,e));var d=r==="top"&&!n||r==="bottom"&&n;i[o.id]=l-Number(d)*c.height,l+=(d?-1:1)*c.height}),i}),yLe=xt(wh,ki,pLe,YN,XN,(e,t,a,r,n)=>{var i={},l;return a.forEach(o=>{var c=xLe(t,o);l==null&&(l=vLe(t,r,e));var d=r==="left"&&!n||r==="right"&&n;i[o.id]=l-Number(d)*c.width,l+=(d?-1:1)*c.width}),i}),wLe=(e,t)=>{var a=kh(e,t);if(a!=null)return bLe(e,a.orientation,a.mirror)},jLe=xt([ki,kh,wLe,(e,t)=>t],(e,t,a,r)=>{if(t!=null){var n=a?.[r];return n==null?{x:e.left,y:0}:{x:e.left,y:n}}}),NLe=(e,t)=>{var a=Sh(e,t);if(a!=null)return yLe(e,a.orientation,a.mirror)},kLe=xt([ki,Sh,NLe,(e,t)=>t],(e,t,a,r)=>{if(t!=null){var n=a?.[r];return n==null?{x:0,y:e.top}:{x:n,y:e.top}}}),xJ=xt(ki,Sh,(e,t)=>{var a=typeof t.width=="number"?t.width:ob;return{width:a,height:e.height}}),nB=(e,t,a)=>{switch(t){case"xAxis":return pJ(e,a).width;case"yAxis":return xJ(e,a).height;default:return}},gJ=(e,t,a,r)=>{if(a!=null){var{allowDuplicatedCategory:n,type:i,dataKey:l}=a,o=Kf(e,r),c=t.map(d=>d.value);if(l&&o&&i==="category"&&n&&jK(c))return c}},lT=xt([Rs,KN,Fl,ni],gJ),vJ=(e,t,a,r)=>{if(!(a==null||a.dataKey==null)){var{type:n,scale:i}=a,l=Kf(e,r);if(l&&(n==="number"||i!=="auto"))return t.map(o=>o.value)}},oT=xt([Rs,KN,fb,ni],vJ),iB=xt([Rs,IPe,pb,$x,lT,oT,xb,iT,ni],(e,t,a,r,n,i,l,o,c)=>{if(t==null)return null;var d=Kf(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:n,isCategorical:d,niceTicks:o,range:l,realScaleType:a,scale:r}}),SLe=(e,t,a,r,n,i,l,o,c)=>{if(!(t==null||r==null)){var d=Kf(e,c),{type:u,ticks:f,tickCount:p}=t,m=a==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,v=u==="category"&&r.bandwidth?r.bandwidth()/m:0;v=c==="angleAxis"&&i!=null&&i.length>=2?eo(i[0]-i[1])*2*v:v;var g=f||n;if(g){var b=g.map((j,N)=>{var k=l?l.indexOf(j):j;return{index:N,coordinate:r(k)+v,value:j,offset:v}});return b.filter(j=>!jc(j.coordinate))}return d&&o?o.map((j,N)=>({coordinate:r(j)+v,value:j,index:N,offset:v})):r.ticks?r.ticks(p).map(j=>({coordinate:r(j)+v,value:j,offset:v})):r.domain().map((j,N)=>({coordinate:r(j)+v,value:l?l[j]:j,index:N,offset:v}))}},bJ=xt([Rs,fb,pb,$x,iT,xb,lT,oT,ni],SLe),CLe=(e,t,a,r,n,i,l)=>{if(!(t==null||a==null||r==null||r[0]===r[1])){var o=Kf(e,l),{tickCount:c}=t,d=0;return d=l==="angleAxis"&&r?.length>=2?eo(r[0]-r[1])*2*d:d,o&&i?i.map((u,f)=>({coordinate:a(u)+d,value:u,index:f,offset:d})):a.ticks?a.ticks(c).map(u=>({coordinate:a(u)+d,value:u,offset:d})):a.domain().map((u,f)=>({coordinate:a(u)+d,value:n?n[u]:u,index:f,offset:d}))}},If=xt([Rs,fb,$x,xb,lT,oT,ni],CLe),Bf=xt(Fl,$x,(e,t)=>{if(!(e==null||t==null))return uj(uj({},e),{},{scale:t})}),ALe=xt([Fl,pb,rT,hJ],nT);xt((e,t,a)=>eT(e,a),ALe,(e,t)=>{if(!(e==null||t==null))return uj(uj({},e),{},{scale:t})});var _Le=xt([Rs,NN,kN],(e,t,a)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return a.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),yJ=e=>e.options.defaultTooltipEventType,wJ=e=>e.options.validateTooltipEventTypes;function jJ(e,t,a){if(e==null)return t;var r=e?"axis":"item";return a==null?t:a.includes(r)?r:t}function cT(e,t){var a=yJ(e),r=wJ(e);return jJ(t,a,r)}function TLe(e){return ka(t=>cT(t,e))}var NJ=(e,t)=>{var a,r=Number(t);if(!(jc(r)||t==null))return r>=0?e==null||(a=e[r])===null||a===void 0?void 0:a.value:void 0},ELe=e=>e.tooltip.settings,gf={active:!1,index:null,dataKey:void 0,coordinate:void 0},DLe={itemInteraction:{click:gf,hover:gf},axisInteraction:{click:gf,hover:gf},keyboardInteraction:gf,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},kJ=$o({name:"tooltip",initialState:DLe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:El()},removeTooltipEntrySettings:{reducer(e,t){var a=rh(e).tooltipItemPayloads.indexOf(t.payload);a>-1&&e.tooltipItemPayloads.splice(a,1)},prepare:El()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:MLe,removeTooltipEntrySettings:PLe,setTooltipSettingsState:LLe,setActiveMouseOverItemIndex:SJ,mouseLeaveItem:OLe,mouseLeaveChart:CJ,setActiveClickItemIndex:RLe,setMouseOverAxisIndex:AJ,setMouseClickAxisIndex:FLe,setSyncInteraction:M6,setKeyboardInteraction:P6}=kJ.actions,ILe=kJ.reducer;function lB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function _2(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?lB(Object(a),!0).forEach(function(r){BLe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function BLe(e,t,a){return(t=$Le(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function $Le(e){var t=ULe(e,"string");return typeof t=="symbol"?t:t+""}function ULe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zLe(e,t,a){return t==="axis"?a==="click"?e.axisInteraction.click:e.axisInteraction.hover:a==="click"?e.itemInteraction.click:e.itemInteraction.hover}function HLe(e){return e.index!=null}var _J=(e,t,a,r)=>{if(t==null)return gf;var n=zLe(e,t,a);if(n==null)return gf;if(n.active)return n;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(HLe(n)){if(i)return _2(_2({},n),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return _2(_2({},gf),{},{coordinate:n.coordinate})},dT=(e,t)=>{var a=e?.index;if(a==null)return null;var r=Number(a);if(!ml(r))return a;var n=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(n,Math.min(r,i)))},TJ=(e,t,a,r,n,i,l,o)=>{if(!(i==null||o==null)){var c=l[0],d=c==null?void 0:o(c.positions,i);if(d!=null)return d;var u=n?.[Number(i)];if(u)switch(a){case"horizontal":return{x:u.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:u.coordinate}}}},EJ=(e,t,a,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var n;return a==="hover"?n=e.itemInteraction.hover.dataKey:n=e.itemInteraction.click.dataKey,n==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===n})},gb=e=>e.options.tooltipPayloadSearcher,Ux=e=>e.tooltip;function oB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function cB(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?oB(Object(a),!0).forEach(function(r){VLe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function VLe(e,t,a){return(t=WLe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function WLe(e){var t=qLe(e,"string");return typeof t=="symbol"?t:t+""}function qLe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GLe(e,t){return e??t}var DJ=(e,t,a,r,n,i,l)=>{if(!(t==null||i==null)){var{chartData:o,computedData:c,dataStartIndex:d,dataEndIndex:u}=a,f=[];return e.reduce((p,m)=>{var v,{dataDefinedOnItem:g,settings:b}=m,j=GLe(g,o),N=Array.isArray(j)?uY(j,d,u):j,k=(v=b?.dataKey)!==null&&v!==void 0?v:r,S=b?.nameKey,C;if(r&&Array.isArray(N)&&!Array.isArray(N[0])&&l==="axis"?C=NK(N,r,n):C=i(N,t,c,S),Array.isArray(C))C.forEach(P=>{var L=cB(cB({},b),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});p.push($F({tooltipEntrySettings:L,dataKey:P.dataKey,payload:P.payload,value:Ni(P.payload,P.dataKey),name:P.name}))});else{var _;p.push($F({tooltipEntrySettings:b,dataKey:k,payload:C,value:Ni(C,k),name:(_=Ni(C,S))!==null&&_!==void 0?_:b?.name}))}return p},f)}},uT=xt([li,Rs,$X,G_,ii],oJ),KLe=xt([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),YLe=xt([ii,Fx],UX),vb=xt([KLe,li,YLe],zX,{memoizeOptions:{resultEqualityCheck:qN}}),XLe=xt([vb],e=>e.filter(VN)),JLe=xt([vb],WX,{memoizeOptions:{resultEqualityCheck:qN}}),zx=xt([JLe,Jf],qX),QLe=xt([XLe,Jf,li],FX),hT=xt([zx,li,vb],GX),MJ=xt([li],aT),ZLe=xt([li],e=>e.allowDataOverflow),PJ=xt([MJ,ZLe],fX),eOe=xt([vb],e=>e.filter(VN)),tOe=xt([QLe,eOe,$N],YX),aOe=xt([tOe,Jf,ii,PJ],XX),sOe=xt([vb],VX),rOe=xt([zx,li,sOe,sT,ii],ZX,{memoizeOptions:{resultEqualityCheck:WN}}),nOe=xt([eJ,ii,Fx],Bx),iOe=xt([nOe,ii],sJ),lOe=xt([tJ,ii,Fx],Bx),oOe=xt([lOe,ii],rJ),cOe=xt([aJ,ii,Fx],Bx),dOe=xt([cOe,ii],nJ),uOe=xt([iOe,dOe,oOe],hj),hOe=xt([li,MJ,PJ,aOe,rOe,uOe,Rs,ii],iJ),LJ=xt([li,Rs,zx,hT,$N,ii,hOe],lJ),fOe=xt([LJ,li,uT],cJ),mOe=xt([li,LJ,fOe,ii],dJ),OJ=e=>{var t=ii(e),a=Fx(e),r=!1;return xb(e,t,a,r)},RJ=xt([li,OJ],UN),FJ=xt([li,uT,mOe,RJ],nT),pOe=xt([Rs,hT,li,ii],gJ),xOe=xt([Rs,hT,li,ii],vJ),gOe=(e,t,a,r,n,i,l,o)=>{if(t){var{type:c}=t,d=Kf(e,o);if(r){var u=a==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=c==="category"&&r.bandwidth?r.bandwidth()/u:0;return f=o==="angleAxis"&&n!=null&&n?.length>=2?eo(n[0]-n[1])*2*f:f,d&&l?l.map((p,m)=>({coordinate:r(p)+f,value:p,index:m,offset:f})):r.domain().map((p,m)=>({coordinate:r(p)+f,value:i?i[p]:p,index:m,offset:f}))}}},Ch=xt([Rs,li,uT,FJ,OJ,pOe,xOe,ii],gOe),fT=xt([yJ,wJ,ELe],(e,t,a)=>jJ(a.shared,e,t)),IJ=e=>e.tooltip.settings.trigger,mT=e=>e.tooltip.settings.defaultIndex,JN=xt([Ux,fT,IJ,mT],_J),km=xt([JN,zx],dT),BJ=xt([Ch,km],NJ),$J=xt([JN],e=>{if(e)return e.dataKey}),UJ=xt([Ux,fT,IJ,mT],EJ),vOe=xt([wh,jh,Rs,ki,Ch,mT,UJ,gb],TJ),bOe=xt([JN,vOe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),yOe=xt([JN],e=>e.active),wOe=xt([UJ,km,Jf,RX,BJ,gb,fT],DJ),jOe=xt([wOe],e=>{if(e!=null){var t=e.map(a=>a.payload).filter(a=>a!=null);return Array.from(new Set(t))}});function dB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function uB(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?dB(Object(a),!0).forEach(function(r){NOe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function NOe(e,t,a){return(t=kOe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function kOe(e){var t=SOe(e,"string");return typeof t=="symbol"?t:t+""}function SOe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var COe=()=>ka(li),AOe=()=>{var e=COe(),t=ka(Ch),a=ka(FJ);return k1(uB(uB({},e),{},{scale:a}),t)},_Oe=()=>ka(G_),pT=(e,t)=>t,zJ=(e,t,a)=>a,xT=(e,t,a,r)=>r,TOe=xt(Ch,e=>xN(e,t=>t.coordinate)),gT=xt([Ux,pT,zJ,xT],_J),HJ=xt([gT,zx],dT),EOe=(e,t,a)=>{if(t!=null){var r=Ux(e);return t==="axis"?a==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:a==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},VJ=xt([Ux,pT,zJ,xT],EJ),fj=xt([wh,jh,Rs,ki,Ch,xT,VJ,gb],TJ),DOe=xt([gT,fj],(e,t)=>{var a;return(a=e.coordinate)!==null&&a!==void 0?a:t}),WJ=xt(Ch,HJ,NJ),MOe=xt([VJ,HJ,Jf,RX,WJ,gb,pT],DJ),POe=xt([gT],e=>({isActive:e.active,activeIndex:e.index})),LOe=(e,t,a,r,n,i,l,o)=>{if(!(!e||!t||!r||!n||!i)){var c=UTe(e.chartX,e.chartY,t,a,o);if(c){var d=HTe(c,t),u=_Te(d,l,i,r,n),f=zTe(t,i,u,c);return{activeIndex:String(u),activeCoordinate:f}}}};function L6(){return L6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},L6.apply(null,arguments)}function hB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function T2(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?hB(Object(a),!0).forEach(function(r){OOe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function OOe(e,t,a){return(t=ROe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ROe(e){var t=FOe(e,"string");return typeof t=="symbol"?t:t+""}function FOe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IOe(e){var{coordinate:t,payload:a,index:r,offset:n,tooltipAxisBandSize:i,layout:l,cursor:o,tooltipEventType:c,chartName:d}=e,u=t,f=a,p=r;if(!o||!u||d!=="ScatterChart"&&c!=="axis")return null;var m,v;if(d==="ScatterChart")m=u,v=XEe;else if(d==="BarChart")m=JEe(l,u,n,i),v=_Y;else if(l==="radial"){var{cx:g,cy:b,radius:j,startAngle:N,endAngle:k}=TY(u);m={cx:g,cy:b,startAngle:N,endAngle:k,innerRadius:j,outerRadius:j},v=DY}else m={points:L7e(l,u,n)},v=NY;var S=typeof o=="object"&&"className"in o?o.className:void 0,C=T2(T2(T2(T2({stroke:"#ccc",pointerEvents:"none"},n),m),rb(o)),{},{payload:f,payloadIndex:p,className:ar("recharts-tooltip-cursor",S)});return y.isValidElement(o)?y.cloneElement(o,C):y.createElement(v,C)}function BOe(e){var t=AOe(),a=vY(),r=_N(),n=_Oe();return y.createElement(IOe,L6({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:a,layout:r,tooltipAxisBandSize:t,chartName:n}))}var qJ=y.createContext(null),$Oe=()=>y.useContext(qJ),tS={exports:{}},fB;function UOe(){return fB||(fB=1,(function(e){var t=Object.prototype.hasOwnProperty,a="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(a=!1));function n(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new n(u,f||c,p),v=a?a+d:d;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function l(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(a?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},o.prototype.listeners=function(d){var u=a?a+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,v=new Array(m);p<m;p++)v[p]=f[p].fn;return v},o.prototype.listenerCount=function(d){var u=a?a+d:d,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(d,u,f,p,m,v){var g=a?a+d:d;if(!this._events[g])return!1;var b=this._events[g],j=arguments.length,N,k;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),j){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,f),!0;case 4:return b.fn.call(b.context,u,f,p),!0;case 5:return b.fn.call(b.context,u,f,p,m),!0;case 6:return b.fn.call(b.context,u,f,p,m,v),!0}for(k=1,N=new Array(j-1);k<j;k++)N[k-1]=arguments[k];b.fn.apply(b.context,N)}else{var S=b.length,C;for(k=0;k<S;k++)switch(b[k].once&&this.removeListener(d,b[k].fn,void 0,!0),j){case 1:b[k].fn.call(b[k].context);break;case 2:b[k].fn.call(b[k].context,u);break;case 3:b[k].fn.call(b[k].context,u,f);break;case 4:b[k].fn.call(b[k].context,u,f,p);break;default:if(!N)for(C=1,N=new Array(j-1);C<j;C++)N[C-1]=arguments[C];b[k].fn.apply(b[k].context,N)}}return!0},o.prototype.on=function(d,u,f){return i(this,d,u,f,!1)},o.prototype.once=function(d,u,f){return i(this,d,u,f,!0)},o.prototype.removeListener=function(d,u,f,p){var m=a?a+d:d;if(!this._events[m])return this;if(!u)return l(this,m),this;var v=this._events[m];if(v.fn)v.fn===u&&(!p||v.once)&&(!f||v.context===f)&&l(this,m);else{for(var g=0,b=[],j=v.length;g<j;g++)(v[g].fn!==u||p&&!v[g].once||f&&v[g].context!==f)&&b.push(v[g]);b.length?this._events[m]=b.length===1?b[0]:b:l(this,m)}return this},o.prototype.removeAllListeners=function(d){var u;return d?(u=a?a+d:d,this._events[u]&&l(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=a,o.EventEmitter=o,e.exports=o})(tS)),tS.exports}var zOe=UOe();const HOe=xh(zOe);var D1=new HOe,O6="recharts.syncEvent.tooltip",mB="recharts.syncEvent.brush";function GJ(e,t){if(t){var a=Number.parseInt(t,10);if(!jc(a))return e?.[a]}}var VOe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},KJ=$o({name:"options",initialState:VOe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),WOe=KJ.reducer,{createEventEmitter:qOe}=KJ.actions;function GOe(e){return e.tooltip.syncInteraction}var KOe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},YJ=$o({name:"chartData",initialState:KOe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:a,endIndex:r}=t.payload;a!=null&&(e.dataStartIndex=a),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:pB,setDataStartEndIndexes:YOe,setComputedData:BHe}=YJ.actions,XOe=YJ.reducer,JOe=["x","y"];function xB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function Op(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?xB(Object(a),!0).forEach(function(r){QOe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function QOe(e,t,a){return(t=ZOe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ZOe(e){var t=eRe(e,"string");return typeof t=="symbol"?t:t+""}function eRe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tRe(e,t){if(e==null)return{};var a,r,n=aRe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function aRe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var XJ=()=>{};function sRe(){var e=ka(K_),t=ka(Y_),a=si(),r=ka(EX),n=ka(Ch),i=_N(),l=AN(),o=ka(c=>c.rootProps.className);y.useEffect(()=>{if(e==null)return XJ;var c=(d,u,f)=>{if(t!==f&&e===d){if(r==="index"){var p;if(l&&u!==null&&u!==void 0&&(p=u.payload)!==null&&p!==void 0&&p.coordinate&&u.payload.sourceViewBox){var m=u.payload.coordinate,{x:v,y:g}=m,b=tRe(m,JOe),{x:j,y:N,width:k,height:S}=u.payload.sourceViewBox,C=Op(Op({},b),{},{x:l.x+(k?(v-j)/k:0)*l.width,y:l.y+(S?(g-N)/S:0)*l.height});a(Op(Op({},u),{},{payload:Op(Op({},u.payload),{},{coordinate:C})}))}else a(u);return}if(n!=null){var _;if(typeof r=="function"){var P={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},L=r(n,P);_=n[L]}else r==="value"&&(_=n.find(R=>String(R.value)===u.payload.label));var{coordinate:U}=u.payload;if(_==null||u.payload.active===!1||U==null||l==null){a(M6({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:z,y:T}=U,F=Math.min(z,l.x+l.width),M=Math.min(T,l.y+l.height),I={x:i==="horizontal"?_.coordinate:F,y:i==="horizontal"?M:_.coordinate},W=M6({active:u.payload.active,coordinate:I,dataKey:u.payload.dataKey,index:String(_.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox});a(W)}}};return D1.on(O6,c),()=>{D1.off(O6,c)}},[o,a,t,e,r,n,i,l])}function rRe(){var e=ka(K_),t=ka(Y_),a=si();y.useEffect(()=>{if(e==null)return XJ;var r=(n,i,l)=>{t!==l&&e===n&&a(YOe(i))};return D1.on(mB,r),()=>{D1.off(mB,r)}},[a,t,e])}function nRe(){var e=si();y.useEffect(()=>{e(qOe())},[e]),sRe(),rRe()}function iRe(e,t,a,r,n,i){var l=ka(m=>EOe(m,e,t)),o=ka(Y_),c=ka(K_),d=ka(EX),u=ka(GOe),f=u?.active,p=AN();y.useEffect(()=>{if(!f&&c!=null&&o!=null){var m=M6({active:i,coordinate:a,dataKey:l,index:n,label:typeof r=="number"?String(r):r,sourceViewBox:p});D1.emit(O6,c,m,o)}},[f,a,l,n,r,o,c,d,i,p])}function gB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function vB(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?gB(Object(a),!0).forEach(function(r){lRe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):gB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function lRe(e,t,a){return(t=oRe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function oRe(e){var t=cRe(e,"string");return typeof t=="symbol"?t:t+""}function cRe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dRe(e){return e.dataKey}function uRe(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(_Ee,t)}var bB=[],hRe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!$m.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function mj(e){var t=co(e,hRe),{active:a,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,content:l,filterNull:o,isAnimationActive:c,offset:d,payloadUniqBy:u,position:f,reverseDirection:p,useTranslate3d:m,wrapperStyle:v,cursor:g,shared:b,trigger:j,defaultIndex:N,portal:k,axisId:S}=t,C=si(),_=typeof N=="number"?String(N):N;y.useEffect(()=>{C(LLe({shared:b,trigger:j,axisId:S,active:a,defaultIndex:_}))},[C,b,j,S,a,_]);var P=AN(),L=jY(),U=TLe(b),{activeIndex:z,isActive:T}=ka(X=>POe(X,U,j,_)),F=ka(X=>MOe(X,U,j,_)),M=ka(X=>WJ(X,U,j,_)),I=ka(X=>DOe(X,U,j,_)),W=F,R=$Oe(),q=a??T,[ae,te]=v_e([W,q]),K=U==="axis"?M:void 0;iRe(U,j,I,K,z,q);var oe=k??R;if(oe==null)return null;var D=W??bB;q||(D=bB),o&&D.length&&(D=V8e(W.filter(X=>X.value!=null&&(X.hide!==!0||t.includeHidden)),u,dRe));var G=D.length>0,H=y.createElement(OEe,{allowEscapeViewBox:r,animationDuration:n,animationEasing:i,isAnimationActive:c,active:q,coordinate:I,hasPayload:G,offset:d,position:f,reverseDirection:p,useTranslate3d:m,viewBox:P,wrapperStyle:v,lastBoundingBox:ae,innerRef:te,hasPortalFromProps:!!k},uRe(l,vB(vB({},t),{},{payload:D,label:K,active:q,coordinate:I,accessibilityLayer:L})));return y.createElement(y.Fragment,null,Mj.createPortal(H,oe),q&&y.createElement(BOe,{cursor:g,tooltipEventType:U,coordinate:I,payload:W,index:z}))}var vT=e=>null;vT.displayName="Cell";function fRe(e,t,a){return(t=mRe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function mRe(e){var t=pRe(e,"string");return typeof t=="symbol"?t:t+""}function pRe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class xRe{constructor(t){fRe(this,"cache",new Map),this.maxSize=t}get(t){var a=this.cache.get(t);return a!==void 0&&(this.cache.delete(t),this.cache.set(t,a)),a}set(t,a){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,a)}clear(){this.cache.clear()}size(){return this.cache.size}}function yB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function gRe(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?yB(Object(a),!0).forEach(function(r){vRe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function vRe(e,t,a){return(t=bRe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function bRe(e){var t=yRe(e,"string");return typeof t=="symbol"?t:t+""}function yRe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wRe={cacheSize:2e3,enableCache:!0},JJ=gRe({},wRe),wB=new xRe(JJ.cacheSize),jRe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},jB="recharts_measurement_span";function NRe(e,t){var a=t.fontSize||"",r=t.fontFamily||"",n=t.fontWeight||"",i=t.fontStyle||"",l=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(a,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(l,"|").concat(o)}var NB=(e,t)=>{try{var a=document.getElementById(jB);a||(a=document.createElement("span"),a.setAttribute("id",jB),a.setAttribute("aria-hidden","true"),document.body.appendChild(a)),Object.assign(a.style,jRe,t),a.textContent="".concat(e);var r=a.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Fv=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||$m.isSsr)return{width:0,height:0};if(!JJ.enableCache)return NB(t,a);var r=NRe(t,a),n=wB.get(r);if(n)return n;var i=NB(t,a);return wB.set(r,i),i},kB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kRe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,SRe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,QJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},CRe=Object.keys(QJ),Wp="NaN";function ARe(e,t){return e*QJ[t]}class Jl{static parse(t){var a,[,r,n]=(a=SRe.exec(t))!==null&&a!==void 0?a:[];return new Jl(parseFloat(r),n??"")}constructor(t,a){this.num=t,this.unit=a,this.num=t,this.unit=a,jc(t)&&(this.unit=""),a!==""&&!kRe.test(a)&&(this.num=NaN,this.unit=""),CRe.includes(a)&&(this.num=ARe(t,a),this.unit="px")}add(t){return this.unit!==t.unit?new Jl(NaN,""):new Jl(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Jl(NaN,""):new Jl(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Jl(NaN,""):new Jl(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Jl(NaN,""):new Jl(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return jc(this.num)}}function ZJ(e){if(e.includes(Wp))return Wp;for(var t=e;t.includes("*")||t.includes("/");){var a,[,r,n,i]=(a=kB.exec(t))!==null&&a!==void 0?a:[],l=Jl.parse(r??""),o=Jl.parse(i??""),c=n==="*"?l.multiply(o):l.divide(o);if(c.isNaN())return Wp;t=t.replace(kB,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,u,f,p]=(d=SB.exec(t))!==null&&d!==void 0?d:[],m=Jl.parse(u??""),v=Jl.parse(p??""),g=f==="+"?m.add(v):m.subtract(v);if(g.isNaN())return Wp;t=t.replace(SB,g.toString())}return t}var CB=/\(([^()]*)\)/;function _Re(e){for(var t=e,a;(a=CB.exec(t))!=null;){var[,r]=a;t=t.replace(CB,ZJ(r))}return t}function TRe(e){var t=e.replace(/\s+/g,"");return t=_Re(t),t=ZJ(t),t}function ERe(e){try{return TRe(e)}catch{return Wp}}function aS(e){var t=ERe(e.slice(5,-1));return t===Wp?"":t}var DRe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],MRe=["dx","dy","angle","className","breakAll"];function R6(){return R6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},R6.apply(null,arguments)}function AB(e,t){if(e==null)return{};var a,r,n=PRe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function PRe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var eQ=/[ \f\n\r\t\v\u2028\u2029]+/,tQ=e=>{var{children:t,breakAll:a,style:r}=e;try{var n=[];Br(t)||(a?n=t.toString().split(""):n=t.toString().split(eQ));var i=n.map(o=>({word:o,width:Fv(o,r).width})),l=a?0:Fv("",r).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},LRe=(e,t,a,r,n)=>{var{maxLines:i,children:l,style:o,breakAll:c}=e,d=Sa(i),u=l,f=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return T.reduce((F,M)=>{var{word:I,width:W}=M,R=F[F.length-1];if(R&&(r==null||n||R.width+W+a<Number(r)))R.words.push(I),R.width+=W+a;else{var q={words:[I],width:W};F.push(q)}return F},[])},p=f(t),m=z=>z.reduce((T,F)=>T.width>F.width?T:F);if(!d||n)return p;var v=p.length>i||m(p).width>Number(r);if(!v)return p;for(var g="",b=z=>{var T=u.slice(0,z),F=tQ({breakAll:c,style:o,children:T+g}).wordsWithComputedWidth,M=f(F),I=M.length>i||m(M).width>Number(r);return[I,M]},j=0,N=u.length-1,k=0,S;j<=N&&k<=u.length-1;){var C=Math.floor((j+N)/2),_=C-1,[P,L]=b(_),[U]=b(C);if(!P&&!U&&(j=C+1),P&&U&&(N=C-1),!P&&U){S=L;break}k++}return S||p},_B=e=>{var t=Br(e)?[]:e.toString().split(eQ);return[{words:t}]},ORe=e=>{var{width:t,scaleToFit:a,children:r,style:n,breakAll:i,maxLines:l}=e;if((t||a)&&!$m.isSsr){var o,c,d=tQ({breakAll:i,children:r,style:n});if(d){var{wordsWithComputedWidth:u,spaceWidth:f}=d;o=u,c=f}else return _B(r);return LRe({breakAll:i,children:r,maxLines:l,style:n},o,c,t,a)}return _B(r)},TB="#808080",bT=y.forwardRef((e,t)=>{var{x:a=0,y:r=0,lineHeight:n="1em",capHeight:i="0.71em",scaleToFit:l=!1,textAnchor:o="start",verticalAnchor:c="end",fill:d=TB}=e,u=AB(e,DRe),f=y.useMemo(()=>ORe({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:l,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,l,u.style,u.width]),{dx:p,dy:m,angle:v,className:g,breakAll:b}=u,j=AB(u,MRe);if(!au(a)||!au(r)||f.length===0)return null;var N=a+(Sa(p)?p:0),k=r+(Sa(m)?m:0),S;switch(c){case"start":S=aS("calc(".concat(i,")"));break;case"middle":S=aS("calc(".concat((f.length-1)/2," * -").concat(n," + (").concat(i," / 2))"));break;default:S=aS("calc(".concat(f.length-1," * -").concat(n,")"));break}var C=[];if(l){var _=f[0].width,{width:P}=u;C.push("scale(".concat(Sa(P)?P/_:1,")"))}return v&&C.push("rotate(".concat(v,", ").concat(N,", ").concat(k,")")),C.length&&(j.transform=C.join(" ")),y.createElement("text",R6({},Ol(j),{ref:t,x:N,y:k,className:ar("recharts-text",g),textAnchor:o,fill:d.includes("url")?TB:d}),f.map((L,U)=>{var z=L.words.join(b?"":" ");return y.createElement("tspan",{x:N,dy:U===0?S:n,key:"".concat(z,"-").concat(U)},z)}))});bT.displayName="Text";var RRe=["labelRef"];function FRe(e,t){if(e==null)return{};var a,r,n=IRe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function IRe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function EB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function yn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?EB(Object(a),!0).forEach(function(r){BRe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):EB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function BRe(e,t,a){return(t=$Re(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function $Re(e){var t=URe(e,"string");return typeof t=="symbol"?t:t+""}function URe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zu(){return zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},zu.apply(null,arguments)}var aQ=y.createContext(null),zRe=e=>{var{x:t,y:a,width:r,height:n,children:i}=e,l=y.useMemo(()=>({x:t,y:a,width:r,height:n}),[t,a,r,n]);return y.createElement(aQ.Provider,{value:l},i)},sQ=()=>{var e=y.useContext(aQ),t=AN();return e||t},HRe=y.createContext(null),VRe=()=>{var e=y.useContext(HRe),t=ka(OX);return e||t},WRe=e=>{var{value:t,formatter:a}=e,r=Br(e.children)?t:e.children;return typeof a=="function"?a(r):r},yT=e=>e!=null&&typeof e=="function",qRe=(e,t)=>{var a=eo(t-e),r=Math.min(Math.abs(t-e),360);return a*r},GRe=(e,t,a,r,n)=>{var{offset:i,className:l}=e,{cx:o,cy:c,innerRadius:d,outerRadius:u,startAngle:f,endAngle:p,clockWise:m}=n,v=(d+u)/2,g=qRe(f,p),b=g>=0?1:-1,j,N;switch(t){case"insideStart":j=f+b*i,N=m;break;case"insideEnd":j=p-b*i,N=!m;break;case"end":j=p+b*i,N=m;break;default:throw new Error("Unsupported position ".concat(t))}N=g<=0?N:!N;var k=Hi(o,c,v,j),S=Hi(o,c,v,j+(N?1:-1)*359),C="M".concat(k.x,",").concat(k.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(N?0:1,`,
    `).concat(S.x,",").concat(S.y),_=Br(e.id)?y1("recharts-radial-line-"):e.id;return y.createElement("text",zu({},r,{dominantBaseline:"central",className:ar("recharts-radial-bar-label",l)}),y.createElement("defs",null,y.createElement("path",{id:_,d:C})),y.createElement("textPath",{xlinkHref:"#".concat(_)},a))},KRe=(e,t,a)=>{var{cx:r,cy:n,innerRadius:i,outerRadius:l,startAngle:o,endAngle:c}=e,d=(o+c)/2;if(a==="outside"){var{x:u,y:f}=Hi(r,n,l+t,d);return{x:u,y:f,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:r,y:n,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:r,y:n,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:r,y:n,textAnchor:"middle",verticalAnchor:"end"};var p=(i+l)/2,{x:m,y:v}=Hi(r,n,p,d);return{x:m,y:v,textAnchor:"middle",verticalAnchor:"middle"}},rQ=e=>"cx"in e&&Sa(e.cx),YRe=(e,t)=>{var{parentViewBox:a,offset:r,position:n}=e,i;a!=null&&!rQ(a)&&(i=a);var{x:l,y:o,width:c,height:d}=t,u=d>=0?1:-1,f=u*r,p=u>0?"end":"start",m=u>0?"start":"end",v=c>=0?1:-1,g=v*r,b=v>0?"end":"start",j=v>0?"start":"end";if(n==="top"){var N={x:l+c/2,y:o-u*r,textAnchor:"middle",verticalAnchor:p};return yn(yn({},N),i?{height:Math.max(o-i.y,0),width:c}:{})}if(n==="bottom"){var k={x:l+c/2,y:o+d+f,textAnchor:"middle",verticalAnchor:m};return yn(yn({},k),i?{height:Math.max(i.y+i.height-(o+d),0),width:c}:{})}if(n==="left"){var S={x:l-g,y:o+d/2,textAnchor:b,verticalAnchor:"middle"};return yn(yn({},S),i?{width:Math.max(S.x-i.x,0),height:d}:{})}if(n==="right"){var C={x:l+c+g,y:o+d/2,textAnchor:j,verticalAnchor:"middle"};return yn(yn({},C),i?{width:Math.max(i.x+i.width-C.x,0),height:d}:{})}var _=i?{width:c,height:d}:{};return n==="insideLeft"?yn({x:l+g,y:o+d/2,textAnchor:j,verticalAnchor:"middle"},_):n==="insideRight"?yn({x:l+c-g,y:o+d/2,textAnchor:b,verticalAnchor:"middle"},_):n==="insideTop"?yn({x:l+c/2,y:o+f,textAnchor:"middle",verticalAnchor:m},_):n==="insideBottom"?yn({x:l+c/2,y:o+d-f,textAnchor:"middle",verticalAnchor:p},_):n==="insideTopLeft"?yn({x:l+g,y:o+f,textAnchor:j,verticalAnchor:m},_):n==="insideTopRight"?yn({x:l+c-g,y:o+f,textAnchor:b,verticalAnchor:m},_):n==="insideBottomLeft"?yn({x:l+g,y:o+d-f,textAnchor:j,verticalAnchor:p},_):n==="insideBottomRight"?yn({x:l+c-g,y:o+d-f,textAnchor:b,verticalAnchor:p},_):n&&typeof n=="object"&&(Sa(n.x)||uh(n.x))&&(Sa(n.y)||uh(n.y))?yn({x:l+hd(n.x,c),y:o+hd(n.y,d),textAnchor:"end",verticalAnchor:"end"},_):yn({x:l+c/2,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},XRe={offset:5};function pf(e){var t=co(e,XRe),{viewBox:a,position:r,value:n,children:i,content:l,className:o="",textBreakAll:c,labelRef:d}=t,u=VRe(),f=sQ(),p=r==="center"?f:u??f,m=a||p;if(!m||Br(n)&&Br(i)&&!y.isValidElement(l)&&typeof l!="function")return null;var v=yn(yn({},t),{},{viewBox:m});if(y.isValidElement(l)){var{labelRef:g}=v,b=FRe(v,RRe);return y.cloneElement(l,b)}var j;if(typeof l=="function"){if(j=y.createElement(l,v),y.isValidElement(j))return j}else j=WRe(t);var N=rQ(m),k=Ol(t);if(N&&(r==="insideStart"||r==="insideEnd"||r==="end"))return GRe(t,r,j,k,m);var S=N?KRe(m,t.offset,t.position):YRe(t,m);return y.createElement(bT,zu({ref:d,className:ar("recharts-label",o)},k,S,{breakAll:c}),j)}pf.displayName="Label";var JRe=(e,t,a)=>{if(!e)return null;var r={viewBox:t,labelRef:a};return e===!0?y.createElement(pf,zu({key:"label-implicit"},r)):au(e)?y.createElement(pf,zu({key:"label-implicit",value:e},r)):y.isValidElement(e)?e.type===pf?y.cloneElement(e,yn({key:"label-implicit"},r)):y.createElement(pf,zu({key:"label-implicit",content:e},r)):yT(e)?y.createElement(pf,zu({key:"label-implicit",content:e},r)):e&&typeof e=="object"?y.createElement(pf,zu({},e,{key:"label-implicit"},r)):null};function QRe(e){var{label:t,labelRef:a}=e,r=sQ();return JRe(t,r,a)||null}var sS={},rS={},DB;function ZRe(){return DB||(DB=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a[a.length-1]}e.last=t})(rS)),rS}var nS={},MB;function e9e(){return MB||(MB=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Array.isArray(a)?a:Array.from(a)}e.toArray=t})(nS)),nS}var PB;function t9e(){return PB||(PB=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZRe(),a=e9e(),r=f_();function n(i){if(r.isArrayLike(i))return t.last(a.toArray(i))}e.last=n})(sS)),sS}var iS,LB;function a9e(){return LB||(LB=1,iS=t9e().last),iS}var s9e=a9e();const r9e=xh(s9e);var n9e=["valueAccessor"],i9e=["dataKey","clockWise","id","textBreakAll"];function pj(){return pj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},pj.apply(null,arguments)}function OB(e,t){if(e==null)return{};var a,r,n=l9e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function l9e(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var o9e=e=>Array.isArray(e.value)?r9e(e.value):e.value,nQ=y.createContext(void 0),iQ=nQ.Provider,lQ=y.createContext(void 0);lQ.Provider;function c9e(){return y.useContext(nQ)}function d9e(){return y.useContext(lQ)}function Iv(e){var{valueAccessor:t=o9e}=e,a=OB(e,n9e),{dataKey:r,clockWise:n,id:i,textBreakAll:l}=a,o=OB(a,i9e),c=c9e(),d=d9e(),u=c||d;return!u||!u.length?null:y.createElement(ud,{className:"recharts-label-list"},u.map((f,p)=>{var m,v=Br(r)?t(f,p):Ni(f&&f.payload,r),g=Br(i)?{}:{id:"".concat(i,"-").concat(p)};return y.createElement(pf,pj({key:"label-".concat(p)},Ol(f),o,g,{fill:(m=a.fill)!==null&&m!==void 0?m:f.fill,parentViewBox:f.parentViewBox,value:v,textBreakAll:l,viewBox:f.viewBox,index:p}))}))}Iv.displayName="LabelList";function oQ(e){var{label:t}=e;return t?t===!0?y.createElement(Iv,{key:"labelList-implicit"}):y.isValidElement(t)||yT(t)?y.createElement(Iv,{key:"labelList-implicit",content:t}):typeof t=="object"?y.createElement(Iv,pj({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function F6(){return F6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},F6.apply(null,arguments)}var cQ=e=>{var{cx:t,cy:a,r,className:n}=e,i=ar("recharts-dot",n);return t===+t&&a===+a&&r===+r?y.createElement("circle",F6({},dd(e),u_(e),{className:i,cx:t,cy:a,r})):null},u9e={radiusAxis:{},angleAxis:{}},dQ=$o({name:"polarAxis",initialState:u9e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:$He,removeRadiusAxis:UHe,addAngleAxis:zHe,removeAngleAxis:HHe}=dQ.actions,h9e=dQ.reducer,lS={exports:{}},er={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RB;function f9e(){if(RB)return er;RB=1;var e=60103,t=60106,a=60107,r=60108,n=60114,i=60109,l=60110,o=60112,c=60113,d=60120,u=60115,f=60116,p=60121,m=60122,v=60117,g=60129,b=60131;if(typeof Symbol=="function"&&Symbol.for){var j=Symbol.for;e=j("react.element"),t=j("react.portal"),a=j("react.fragment"),r=j("react.strict_mode"),n=j("react.profiler"),i=j("react.provider"),l=j("react.context"),o=j("react.forward_ref"),c=j("react.suspense"),d=j("react.suspense_list"),u=j("react.memo"),f=j("react.lazy"),p=j("react.block"),m=j("react.server.block"),v=j("react.fundamental"),g=j("react.debug_trace_mode"),b=j("react.legacy_hidden")}function N(M){if(typeof M=="object"&&M!==null){var I=M.$$typeof;switch(I){case e:switch(M=M.type,M){case a:case n:case r:case c:case d:return M;default:switch(M=M&&M.$$typeof,M){case l:case o:case f:case u:case i:return M;default:return I}}case t:return I}}}var k=i,S=e,C=o,_=a,P=f,L=u,U=t,z=n,T=r,F=c;return er.ContextConsumer=l,er.ContextProvider=k,er.Element=S,er.ForwardRef=C,er.Fragment=_,er.Lazy=P,er.Memo=L,er.Portal=U,er.Profiler=z,er.StrictMode=T,er.Suspense=F,er.isAsyncMode=function(){return!1},er.isConcurrentMode=function(){return!1},er.isContextConsumer=function(M){return N(M)===l},er.isContextProvider=function(M){return N(M)===i},er.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===e},er.isForwardRef=function(M){return N(M)===o},er.isFragment=function(M){return N(M)===a},er.isLazy=function(M){return N(M)===f},er.isMemo=function(M){return N(M)===u},er.isPortal=function(M){return N(M)===t},er.isProfiler=function(M){return N(M)===n},er.isStrictMode=function(M){return N(M)===r},er.isSuspense=function(M){return N(M)===c},er.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===a||M===n||M===g||M===r||M===c||M===d||M===b||typeof M=="object"&&M!==null&&(M.$$typeof===f||M.$$typeof===u||M.$$typeof===i||M.$$typeof===l||M.$$typeof===o||M.$$typeof===v||M.$$typeof===p||M[0]===m)},er.typeOf=N,er}var FB;function m9e(){return FB||(FB=1,lS.exports=f9e()),lS.exports}var p9e=m9e(),IB=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",BB=null,oS=null,uQ=e=>{if(e===BB&&Array.isArray(oS))return oS;var t=[];return y.Children.forEach(e,a=>{Br(a)||(p9e.isFragment(a)?t=t.concat(uQ(a.props.children)):t.push(a))}),oS=t,BB=e,t};function x9e(e,t){var a=[],r=[];return Array.isArray(t)?r=t.map(n=>IB(n)):r=[IB(t)],uQ(e).forEach(n=>{var i=fx(n,"type.displayName")||fx(n,"type.name");r.indexOf(i)!==-1&&a.push(n)}),a}var hQ=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,cS={},$B;function g9e(){return $B||($B=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){if(typeof a!="object"||a==null)return!1;if(Object.getPrototypeOf(a)===null)return!0;if(Object.prototype.toString.call(a)!=="[object Object]"){const n=a[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(a,Symbol.toStringTag)?.writable?!1:a.toString()===`[object ${n}]`}let r=a;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(a)===r}e.isPlainObject=t})(cS)),cS}var dS,UB;function v9e(){return UB||(UB=1,dS=g9e().isPlainObject),dS}var b9e=v9e();const y9e=xh(b9e);function zB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function HB(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?zB(Object(a),!0).forEach(function(r){w9e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):zB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function w9e(e,t,a){return(t=j9e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function j9e(e){var t=N9e(e,"string");return typeof t=="symbol"?t:t+""}function N9e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xj(){return xj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},xj.apply(null,arguments)}var VB=(e,t,a,r,n)=>{var i=a-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+a,",").concat(t),l+="L ".concat(e+a-i/2,",").concat(t+n),l+="L ".concat(e+a-i/2-r,",").concat(t+n),l+="L ".concat(e,",").concat(t," Z"),l},k9e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},S9e=e=>{var t=co(e,k9e),{x:a,y:r,upperWidth:n,lowerWidth:i,height:l,className:o}=t,{animationEasing:c,animationDuration:d,animationBegin:u,isUpdateAnimationActive:f}=t,p=y.useRef(null),[m,v]=y.useState(-1),g=y.useRef(n),b=y.useRef(i),j=y.useRef(l),N=y.useRef(a),k=y.useRef(r),S=DN(e,"trapezoid-");if(y.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var I=p.current.getTotalLength();I&&v(I)}catch{}},[]),a!==+a||r!==+r||n!==+n||i!==+i||l!==+l||n===0&&i===0||l===0)return null;var C=ar("recharts-trapezoid",o);if(!f)return y.createElement("g",null,y.createElement("path",xj({},Ol(t),{className:C,d:VB(a,r,n,i,l)})));var _=g.current,P=b.current,L=j.current,U=N.current,z=k.current,T="0px ".concat(m===-1?1:m,"px"),F="".concat(m,"px 0px"),M=kY(["strokeDasharray"],d,c);return y.createElement(EN,{animationId:S,key:S,canBegin:m>0,duration:d,easing:c,isActive:f,begin:u},I=>{var W=In(_,n,I),R=In(P,i,I),q=In(L,l,I),ae=In(U,a,I),te=In(z,r,I);p.current&&(g.current=W,b.current=R,j.current=q,N.current=ae,k.current=te);var K=I>0?{transition:M,strokeDasharray:F}:{strokeDasharray:T};return y.createElement("path",xj({},Ol(t),{className:C,d:VB(ae,te,W,R,q),ref:p,style:HB(HB({},K),t.style)}))})},C9e=["option","shapeType","propTransformer","activeClassName","isActive"];function A9e(e,t){if(e==null)return{};var a,r,n=_9e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function _9e(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function WB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function gj(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?WB(Object(a),!0).forEach(function(r){T9e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):WB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function T9e(e,t,a){return(t=E9e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function E9e(e){var t=D9e(e,"string");return typeof t=="symbol"?t:t+""}function D9e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M9e(e,t){return gj(gj({},t),e)}function P9e(e,t){return e==="symbols"}function qB(e){var{shapeType:t,elementProps:a}=e;switch(t){case"rectangle":return y.createElement(_Y,a);case"trapezoid":return y.createElement(S9e,a);case"sector":return y.createElement(DY,a);case"symbols":if(P9e(t))return y.createElement(SK,a);break;default:return null}}function L9e(e){return y.isValidElement(e)?e.props:e}function O9e(e){var{option:t,shapeType:a,propTransformer:r=M9e,activeClassName:n="recharts-active-shape",isActive:i}=e,l=A9e(e,C9e),o;if(y.isValidElement(t))o=y.cloneElement(t,gj(gj({},l),L9e(t)));else if(typeof t=="function")o=t(l);else if(y9e(t)&&typeof t!="boolean"){var c=r(t,l);o=y.createElement(qB,{shapeType:a,elementProps:c})}else{var d=l;o=y.createElement(qB,{shapeType:a,elementProps:d})}return i?y.createElement(ud,{className:n},o):o}var fQ=(e,t)=>{var a=si();return(r,n)=>i=>{e?.(r,n,i),a(SJ({activeIndex:String(n),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},mQ=e=>{var t=si();return(a,r)=>n=>{e?.(a,r,n),t(OLe())}},pQ=(e,t)=>{var a=si();return(r,n)=>i=>{e?.(r,n,i),a(RLe({activeIndex:String(n),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function xQ(e){var{fn:t,args:a}=e,r=si(),n=Rl();return y.useLayoutEffect(()=>{if(!n){var i=t(a);return r(MLe(i)),()=>{r(PLe(i))}}},[t,a,r,n]),null}var R9e=()=>{};function gQ(e){var{legendPayload:t}=e,a=si(),r=Rl();return y.useLayoutEffect(()=>r?R9e:(a(wEe(t)),()=>{a(jEe(t))}),[a,r,t]),null}var uS,F9e=()=>{var[e]=y.useState(()=>y1("uid-"));return e},I9e=(uS=ree.useId)!==null&&uS!==void 0?uS:F9e;function B9e(e,t){var a=I9e();return t||(e?"".concat(e,"-").concat(a):a)}var $9e=y.createContext(void 0),vQ=e=>{var{id:t,type:a,children:r}=e,n=B9e("recharts-".concat(a),t);return y.createElement($9e.Provider,{value:n},r(n))},U9e={cartesianItems:[],polarItems:[]},bQ=$o({name:"graphicalItems",initialState:U9e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:El()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:a,next:r}=t.payload,n=rh(e).cartesianItems.indexOf(a);n>-1&&(e.cartesianItems[n]=r)},prepare:El()},removeCartesianGraphicalItem:{reducer(e,t){var a=rh(e).cartesianItems.indexOf(t.payload);a>-1&&e.cartesianItems.splice(a,1)},prepare:El()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:El()},removePolarGraphicalItem:{reducer(e,t){var a=rh(e).polarItems.indexOf(t.payload);a>-1&&e.polarItems.splice(a,1)},prepare:El()}}}),{addCartesianGraphicalItem:z9e,replaceCartesianGraphicalItem:H9e,removeCartesianGraphicalItem:V9e,addPolarGraphicalItem:VHe,removePolarGraphicalItem:WHe}=bQ.actions,W9e=bQ.reducer;function yQ(e){var t=si(),a=y.useRef(null);return y.useLayoutEffect(()=>{a.current===null?t(z9e(e)):a.current!==e&&t(H9e({prev:a.current,next:e})),a.current=e},[t,e]),y.useLayoutEffect(()=>()=>{a.current&&(t(V9e(a.current)),a.current=null)},[t]),null}function GB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function KB(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?GB(Object(a),!0).forEach(function(r){q9e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):GB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function q9e(e,t,a){return(t=G9e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function G9e(e){var t=K9e(e,"string");return typeof t=="symbol"?t:t+""}function K9e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y9e={xAxis:{},yAxis:{},zAxis:{}},wQ=$o({name:"cartesianAxis",initialState:Y9e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:El()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:El()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:El()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:El()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:El()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:El()},updateYAxisWidth(e,t){var{id:a,width:r}=t.payload,n=e.yAxis[a];if(n){var i=n.widthHistory||[];if(i.length===3&&i[0]===i[2]&&r===i[1]&&r!==n.width&&Math.abs(r-i[0])<=1)return;var l=[...i,r].slice(-3);e.yAxis[a]=KB(KB({},e.yAxis[a]),{},{width:r,widthHistory:l})}}}}),{addXAxis:X9e,removeXAxis:J9e,addYAxis:Q9e,removeYAxis:Z9e,addZAxis:qHe,removeZAxis:GHe,updateYAxisWidth:eFe}=wQ.actions,tFe=wQ.reducer,aFe=xt([ki],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),sFe=xt([aFe,wh,jh],(e,t,a)=>{if(!(!e||t==null||a==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,a-e.top-e.bottom)}}),wT=()=>ka(sFe),rFe=()=>ka(jOe);function YB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function XB(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?YB(Object(a),!0).forEach(function(r){nFe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):YB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function nFe(e,t,a){return(t=iFe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function iFe(e){var t=lFe(e,"string");return typeof t=="symbol"?t:t+""}function lFe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oFe=e=>{var{point:t,childIndex:a,mainColor:r,activeDot:n,dataKey:i}=e;if(n===!1||t.x==null||t.y==null)return null;var l=XB(XB({index:a,dataKey:i,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},rb(n)),u_(n)),o;return y.isValidElement(n)?o=y.cloneElement(n,l):typeof n=="function"?o=n(l):o=y.createElement(cQ,l),y.createElement(ud,{className:"recharts-active-dot"},o)};function cFe(e){var{points:t,mainColor:a,activeDot:r,itemDataKey:n}=e,i=ka(km),l=rFe();if(t==null||l==null)return null;var o=t.find(c=>l.includes(c.payload));return Br(o)?null:oFe({point:o,childIndex:Number(i),mainColor:a,dataKey:n,activeDot:r})}var dFe="Invariant failed";function uFe(e,t){throw new Error(dFe)}var hFe=["x","y"];function I6(){return I6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},I6.apply(null,arguments)}function JB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function ev(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?JB(Object(a),!0).forEach(function(r){fFe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):JB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function fFe(e,t,a){return(t=mFe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function mFe(e){var t=pFe(e,"string");return typeof t=="symbol"?t:t+""}function pFe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xFe(e,t){if(e==null)return{};var a,r,n=gFe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function gFe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function vFe(e,t){var{x:a,y:r}=e,n=xFe(e,hFe),i="".concat(a),l=parseInt(i,10),o="".concat(r),c=parseInt(o,10),d="".concat(t.height||n.height),u=parseInt(d,10),f="".concat(t.width||n.width),p=parseInt(f,10);return ev(ev(ev(ev(ev({},t),n),l?{x:l}:{}),c?{y:c}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function jT(e){return y.createElement(O9e,I6({shapeType:"rectangle",propTransformer:vFe,activeClassName:"recharts-active-bar"},e))}var bFe=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,n)=>{if(Sa(t))return t;var i=Sa(r)||Br(r);return i?t(r,n):(i||uFe(),a)}},yFe={},jQ=$o({name:"errorBars",initialState:yFe,reducers:{addErrorBar:(e,t)=>{var{itemId:a,errorBar:r}=t.payload;e[a]||(e[a]=[]),e[a].push(r)},replaceErrorBar:(e,t)=>{var{itemId:a,prev:r,next:n}=t.payload;e[a]&&(e[a]=e[a].map(i=>i.dataKey===r.dataKey&&i.direction===r.direction?n:i))},removeErrorBar:(e,t)=>{var{itemId:a,errorBar:r}=t.payload;e[a]&&(e[a]=e[a].filter(n=>n.dataKey!==r.dataKey||n.direction!==r.direction))}}}),{addErrorBar:KHe,replaceErrorBar:YHe,removeErrorBar:XHe}=jQ.actions,wFe=jQ.reducer,jFe=["children"];function NFe(e,t){if(e==null)return{};var a,r,n=kFe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function kFe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var SFe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},CFe=y.createContext(SFe);function NQ(e){var{children:t}=e,a=NFe(e,jFe);return y.createElement(CFe.Provider,{value:a},t)}function NT(e,t){var a,r,n=ka(d=>kh(d,e)),i=ka(d=>Sh(d,t)),l=(a=n?.allowDataOverflow)!==null&&a!==void 0?a:So.allowDataOverflow,o=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:Co.allowDataOverflow,c=l||o;return{needClip:c,needClipX:l,needClipY:o}}function kQ(e){var{xAxisId:t,yAxisId:a,clipPathId:r}=e,n=wT(),{needClipX:i,needClipY:l,needClip:o}=NT(t,a);if(!o)return null;var{x:c,y:d,width:u,height:f}=n;return y.createElement("clipPath",{id:"clipPath-".concat(r)},y.createElement("rect",{x:i?c:c-u/2,y:l?d:d-f/2,width:i?u:u*2,height:l?f:f*2}))}var AFe=["onMouseEnter","onMouseLeave","onClick"],_Fe=["value","background","tooltipPosition"],TFe=["id"],EFe=["onMouseEnter","onClick","onMouseLeave"];function $f(){return $f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},$f.apply(null,arguments)}function QB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function Dl(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?QB(Object(a),!0).forEach(function(r){DFe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):QB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function DFe(e,t,a){return(t=MFe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function MFe(e){var t=PFe(e,"string");return typeof t=="symbol"?t:t+""}function PFe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vj(e,t){if(e==null)return{};var a,r,n=LFe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function LFe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var OFe=e=>{var{dataKey:t,name:a,fill:r,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:r,value:jN(a,t),payload:e}]};function RFe(e){var{dataKey:t,stroke:a,strokeWidth:r,fill:n,name:i,hide:l,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:r,fill:n,dataKey:t,nameKey:void 0,name:jN(i,t),hide:l,type:e.tooltipType,color:e.fill,unit:o}}}function FFe(e){var t=ka(km),{data:a,dataKey:r,background:n,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:o,onClick:c}=i,d=vj(i,AFe),u=fQ(l,r),f=mQ(o),p=pQ(c,r);if(!n||a==null)return null;var m=rb(n);return y.createElement(y.Fragment,null,a.map((v,g)=>{var{value:b,background:j,tooltipPosition:N}=v,k=vj(v,_Fe);if(!j)return null;var S=u(v,g),C=f(v,g),_=p(v,g),P=Dl(Dl(Dl(Dl(Dl({option:n,isActive:String(g)===t},k),{},{fill:"#eee"},j),m),h_(d,v,g)),{},{onMouseEnter:S,onMouseLeave:C,onClick:_,dataKey:r,index:g,className:"recharts-bar-background-rectangle"});return y.createElement(jT,$f({key:"background-bar-".concat(g)},P))}))}function IFe(e){var{showLabels:t,children:a,rects:r}=e,n=r?.map(i=>{var l={x:i.x,y:i.y,width:i.width,height:i.height};return Dl(Dl({},l),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:l,fill:i.fill})});return y.createElement(iQ,{value:t?n:void 0},a)}function BFe(e){var{shape:t,activeBar:a,baseProps:r,entry:n,index:i,dataKey:l}=e,o=ka(km),c=ka($J),d=a&&String(i)===o&&(c==null||l===c),u=d?a:t;return y.createElement(jT,$f({},r,{name:String(r.name)},n,{isActive:d,option:u,index:i,dataKey:l}))}function $Fe(e){var{shape:t,baseProps:a,entry:r,index:n,dataKey:i}=e;return y.createElement(jT,$f({},a,{name:String(a.name)},r,{isActive:!1,option:t,index:n,dataKey:i}))}function UFe(e){var{data:t,props:a}=e,r=dd(a),{id:n}=r,i=vj(r,TFe),{shape:l,dataKey:o,activeBar:c}=a,{onMouseEnter:d,onClick:u,onMouseLeave:f}=a,p=vj(a,EFe),m=fQ(d,o),v=mQ(f),g=pQ(u,o);return t?y.createElement(y.Fragment,null,t.map((b,j)=>y.createElement(ud,$f({key:"rectangle-".concat(b?.x,"-").concat(b?.y,"-").concat(b?.value,"-").concat(j),className:"recharts-bar-rectangle"},h_(p,b,j),{onMouseEnter:m(b,j),onMouseLeave:v(b,j),onClick:g(b,j)}),c?y.createElement(BFe,{shape:l,activeBar:c,baseProps:i,entry:b,index:j,dataKey:o}):y.createElement($Fe,{shape:l,baseProps:i,entry:b,index:j,dataKey:o})))):null}function zFe(e){var{props:t,previousRectanglesRef:a}=e,{data:r,layout:n,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:c,onAnimationEnd:d,onAnimationStart:u}=t,f=a.current,p=DN(t,"recharts-bar-"),[m,v]=y.useState(!1),g=!m,b=y.useCallback(()=>{typeof d=="function"&&d(),v(!1)},[d]),j=y.useCallback(()=>{typeof u=="function"&&u(),v(!0)},[u]);return y.createElement(IFe,{showLabels:g,rects:r},y.createElement(EN,{animationId:p,begin:l,duration:o,isActive:i,easing:c,onAnimationEnd:b,onAnimationStart:j,key:p},N=>{var k=N===1?r:r?.map((S,C)=>{var _=f&&f[C];if(_)return Dl(Dl({},S),{},{x:In(_.x,S.x,N),y:In(_.y,S.y,N),width:In(_.width,S.width,N),height:In(_.height,S.height,N)});if(n==="horizontal"){var P=In(0,S.height,N);return Dl(Dl({},S),{},{y:S.y+S.height-P,height:P})}var L=In(0,S.width,N);return Dl(Dl({},S),{},{width:L})});return N>0&&(a.current=k??null),k==null?null:y.createElement(ud,null,y.createElement(UFe,{props:t,data:k}))}),y.createElement(oQ,{label:t.label}),t.children)}function HFe(e){var t=y.useRef(null);return y.createElement(zFe,{previousRectanglesRef:t,props:e})}var SQ=0,VFe=(e,t)=>{var a=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:a,errorVal:Ni(e,t)}};class WFe extends y.PureComponent{render(){var{hide:t,data:a,dataKey:r,className:n,xAxisId:i,yAxisId:l,needClip:o,background:c,id:d}=this.props;if(t||a==null)return null;var u=ar("recharts-bar",n),f=d;return y.createElement(ud,{className:u,id:d},o&&y.createElement("defs",null,y.createElement(kQ,{clipPathId:f,xAxisId:i,yAxisId:l})),y.createElement(ud,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},y.createElement(FFe,{data:a,dataKey:r,background:c,allOtherBarProps:this.props}),y.createElement(HFe,this.props)))}}var qFe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!$m.isSsr,legendType:"rect",minPointSize:SQ,xAxisId:0,yAxisId:0};function GFe(e){var{xAxisId:t,yAxisId:a,hide:r,legendType:n,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:u}=e,{needClip:f}=NT(t,a),p=_N(),m=Rl(),v=x9e(e.children,vT),g=ka(N=>wIe(N,t,a,m,e.id,v));if(p!=="vertical"&&p!=="horizontal")return null;var b,j=g?.[0];return j==null||j.height==null||j.width==null?b=0:b=p==="vertical"?j.height/2:j.width/2,y.createElement(NQ,{xAxisId:t,yAxisId:a,data:g,dataPointFormatter:VFe,errorBarOffset:b},y.createElement(WFe,$f({},e,{layout:p,needClip:f,data:g,xAxisId:t,yAxisId:a,hide:r,legendType:n,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:u})))}function KFe(e){var{layout:t,barSettings:{dataKey:a,minPointSize:r},pos:n,bandSize:i,xAxis:l,yAxis:o,xAxisTicks:c,yAxisTicks:d,stackedData:u,displayedData:f,offset:p,cells:m,parentViewBox:v}=e,g=t==="horizontal"?o:l,b=u?g.scale.domain():null,j=FTe({numericAxis:g});return f.map((N,k)=>{var S,C,_,P,L,U;u?S=DTe(u[k],b):(S=Ni(N,a),Array.isArray(S)||(S=[j,S]));var z=bFe(r,SQ)(S[1],k);if(t==="horizontal"){var T,[F,M]=[o.scale(S[0]),o.scale(S[1])];C=FF({axis:l,ticks:c,bandSize:i,offset:n.offset,entry:N,index:k}),_=(T=M??F)!==null&&T!==void 0?T:void 0,P=n.size;var I=F-M;if(L=jc(I)?0:I,U={x:C,y:p.top,width:P,height:p.height},Math.abs(z)>0&&Math.abs(L)<Math.abs(z)){var W=eo(L||z)*(Math.abs(z)-Math.abs(L));_-=W,L+=W}}else{var[R,q]=[l.scale(S[0]),l.scale(S[1])];if(C=R,_=FF({axis:o,ticks:d,bandSize:i,offset:n.offset,entry:N,index:k}),P=q-R,L=n.size,U={x:p.left,y:_,width:p.width,height:L},Math.abs(z)>0&&Math.abs(P)<Math.abs(z)){var ae=eo(P||z)*(Math.abs(z)-Math.abs(P));P+=ae}}if(C==null||_==null||P==null||L==null)return null;var te=Dl(Dl({},N),{},{x:C,y:_,width:P,height:L,value:u?S:S[1],payload:N,background:U,tooltipPosition:{x:C+P/2,y:_+L/2},parentViewBox:v},m&&m[k]&&m[k].props);return te}).filter(Boolean)}function YFe(e){var t=co(e,qFe),a=Rl();return y.createElement(vQ,{id:t.id,type:"bar"},r=>y.createElement(y.Fragment,null,y.createElement(gQ,{legendPayload:OFe(t)}),y.createElement(xQ,{fn:RFe,args:t}),y.createElement(yQ,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:RTe(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:a}),y.createElement(GFe,$f({},t,{id:r}))))}var CQ=y.memo(YFe);CQ.displayName="Bar";function ZB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function E2(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ZB(Object(a),!0).forEach(function(r){XFe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ZB(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function XFe(e,t,a){return(t=JFe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function JFe(e){var t=QFe(e,"string");return typeof t=="symbol"?t:t+""}function QFe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZFe=(e,t)=>t,eIe=(e,t,a)=>a,tIe=(e,t,a,r)=>r,aIe=(e,t,a,r,n)=>n,bb=xt([GN,aIe],(e,t)=>e.filter(a=>a.type==="bar").find(a=>a.id===t)),sIe=xt([bb],e=>e?.maxBarSize),rIe=(e,t,a,r,n,i)=>i,e$=(e,t,a)=>{var r=a??e;if(!Br(r))return hd(r,t,0)},nIe=xt([Rs,GN,ZFe,eIe,tIe],(e,t,a,r,n)=>t.filter(i=>e==="horizontal"?i.xAxisId===a:i.yAxisId===r).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),iIe=(e,t,a,r)=>{var n=Rs(e);return n==="horizontal"?D6(e,"yAxis",a,r):D6(e,"xAxis",t,r)},lIe=(e,t,a)=>{var r=Rs(e);return r==="horizontal"?nB(e,"xAxis",t):nB(e,"yAxis",a)},oIe=(e,t,a)=>{var r={},n=e.filter(VN),i=e.filter(d=>d.stackId==null),l=n.reduce((d,u)=>(d[u.stackId]||(d[u.stackId]=[]),d[u.stackId].push(u),d),r),o=Object.entries(l).map(d=>{var[u,f]=d,p=f.map(v=>v.dataKey),m=e$(t,a,f[0].barSize);return{stackId:u,dataKeys:p,barSize:m}}),c=i.map(d=>{var u=[d.dataKey].filter(p=>p!=null),f=e$(t,a,d.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...o,...c]},cIe=xt([nIe,_Pe,lIe],oIe),dIe=(e,t,a,r,n)=>{var i,l,o=bb(e,t,a,r,n);if(o!=null){var c=Rs(e),d=_X(e),{maxBarSize:u}=o,f=Br(u)?d:u,p,m;return c==="horizontal"?(p=Bf(e,"xAxis",t,r),m=If(e,"xAxis",t,r)):(p=Bf(e,"yAxis",a,r),m=If(e,"yAxis",a,r)),(i=(l=k1(p,m,!0))!==null&&l!==void 0?l:f)!==null&&i!==void 0?i:0}},AQ=(e,t,a,r)=>{var n=Rs(e),i,l;return n==="horizontal"?(i=Bf(e,"xAxis",t,r),l=If(e,"xAxis",t,r)):(i=Bf(e,"yAxis",a,r),l=If(e,"yAxis",a,r)),k1(i,l)};function uIe(e,t,a,r,n){var i=r.length;if(!(i<1)){var l=hd(e,a,0,!0),o,c=[];if(ml(r[0].barSize)){var d=!1,u=a/i,f=r.reduce((j,N)=>j+(N.barSize||0),0);f+=(i-1)*l,f>=a&&(f-=(i-1)*l,l=0),f>=a&&u>0&&(d=!0,u*=.9,f=i*u);var p=(a-f)/2>>0,m={offset:p-l,size:0};o=r.reduce((j,N)=>{var k,S={stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:m.offset+m.size+l,size:d?u:(k=N.barSize)!==null&&k!==void 0?k:0}},C=[...j,S];return m=C[C.length-1].position,C},c)}else{var v=hd(t,a,0,!0);a-2*v-(i-1)*l<=0&&(l=0);var g=(a-2*v-(i-1)*l)/i;g>1&&(g>>=0);var b=ml(n)?Math.min(g,n):g;o=r.reduce((j,N,k)=>[...j,{stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:v+(g+l)*k+(g-b)/2,size:b}}],c)}return o}}var hIe=(e,t,a,r,n,i,l)=>{var o=Br(l)?t:l,c=uIe(a,r,n!==i?n:i,e,o);return n!==i&&c!=null&&(c=c.map(d=>E2(E2({},d),{},{position:E2(E2({},d.position),{},{offset:d.position.offset-n/2})}))),c},fIe=xt([cIe,_X,APe,TX,dIe,AQ,sIe],hIe),mIe=(e,t,a,r)=>Bf(e,"xAxis",t,r),pIe=(e,t,a,r)=>Bf(e,"yAxis",a,r),xIe=(e,t,a,r)=>If(e,"xAxis",t,r),gIe=(e,t,a,r)=>If(e,"yAxis",a,r),vIe=xt([fIe,bb],(e,t)=>{if(!(e==null||t==null)){var a=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(a!=null)return a.position}}),bIe=(e,t)=>{var a=Z_(t);if(!(!e||a==null||t==null)){var{stackId:r}=t;if(r!=null){var n=e[r];if(n){var{stackedData:i}=n;if(i)return i.find(l=>l.key===a)}}}},yIe=xt([iIe,bb],bIe),wIe=xt([ki,y_,mIe,pIe,xIe,gIe,vIe,Rs,IN,AQ,yIe,bb,rIe],(e,t,a,r,n,i,l,o,c,d,u,f,p)=>{var{chartData:m,dataStartIndex:v,dataEndIndex:g}=c;if(!(f==null||l==null||t==null||o!=="horizontal"&&o!=="vertical"||a==null||r==null||n==null||i==null||d==null)){var{data:b}=f,j;if(b!=null&&b.length>0?j=b:j=m?.slice(v,g+1),j!=null)return KFe({layout:o,barSettings:f,pos:l,parentViewBox:t,bandSize:d,xAxis:a,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:u,displayedData:j,offset:e,cells:p})}}),jIe=e=>{var{chartData:t}=e,a=si(),r=Rl();return y.useEffect(()=>r?()=>{}:(a(pB(t)),()=>{a(pB(void 0))}),[t,a,r]),null},t$={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},_Q=$o({name:"brush",initialState:t$,reducers:{setBrushSettings(e,t){return t.payload==null?t$:t.payload}}}),{setBrushSettings:JHe}=_Q.actions,NIe=_Q.reducer;function kIe(e,t,a){return(t=SIe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function SIe(e){var t=CIe(e,"string");return typeof t=="symbol"?t:t+""}function CIe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class kT{static create(t){return new kT(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:a,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+n}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var a=this.range(),r=a[0],n=a[a.length-1];return r<=n?t>=r&&t<=n:t>=n&&t<=r}}kIe(kT,"EPS",1e-4);function AIe(e){return(e%180+180)%180}var _Ie=function(t){var{width:a,height:r}=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=AIe(n),l=i*Math.PI/180,o=Math.atan(r/a),c=l>o&&l<Math.PI-o?r/Math.sin(l):a/Math.cos(l);return Math.abs(c)},TIe={dots:[],areas:[],lines:[]},TQ=$o({name:"referenceElements",initialState:TIe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var a=rh(e).dots.findIndex(r=>r===t.payload);a!==-1&&e.dots.splice(a,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var a=rh(e).areas.findIndex(r=>r===t.payload);a!==-1&&e.areas.splice(a,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var a=rh(e).lines.findIndex(r=>r===t.payload);a!==-1&&e.lines.splice(a,1)}}}),{addDot:QHe,removeDot:ZHe,addArea:eVe,removeArea:tVe,addLine:aVe,removeLine:sVe}=TQ.actions,EIe=TQ.reducer,DIe=y.createContext(void 0),MIe=e=>{var{children:t}=e,[a]=y.useState("".concat(y1("recharts"),"-clip")),r=wT();if(r==null)return null;var{x:n,y:i,width:l,height:o}=r;return y.createElement(DIe.Provider,{value:a},y.createElement("defs",null,y.createElement("clipPath",{id:a},y.createElement("rect",{x:n,y:i,height:o,width:l}))),t)};function vx(e,t){for(var a in e)if({}.hasOwnProperty.call(e,a)&&(!{}.hasOwnProperty.call(t,a)||e[a]!==t[a]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function EQ(e,t,a){if(t<1)return[];if(t===1&&a===void 0)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function PIe(e,t,a){var r={width:e.width+t.width,height:e.height+t.height};return _Ie(r,a)}function LIe(e,t,a){var r=a==="width",{x:n,y:i,width:l,height:o}=e;return t===1?{start:r?n:i,end:r?n+l:i+o}:{start:r?n+l:i+o,end:r?n:i}}function bj(e,t,a,r,n){if(e*t<e*r||e*t>e*n)return!1;var i=a();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-n)<=0}function OIe(e,t){return EQ(e,t+1)}function RIe(e,t,a,r,n){for(var i=(r||[]).slice(),{start:l,end:o}=t,c=0,d=1,u=l,f=function(){var v=r?.[c];if(v===void 0)return{v:EQ(r,d)};var g=c,b,j=()=>(b===void 0&&(b=a(v,g)),b),N=v.coordinate,k=c===0||bj(e,N,j,u,o);k||(c=0,u=l,d+=1),k&&(u=N+e*(j()/2+n),c+=d)},p;d<=i.length;)if(p=f(),p)return p.v;return[]}function a$(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function tl(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?a$(Object(a),!0).forEach(function(r){FIe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):a$(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function FIe(e,t,a){return(t=IIe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function IIe(e){var t=BIe(e,"string");return typeof t=="symbol"?t:t+""}function BIe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Ie(e,t,a,r,n){for(var i=(r||[]).slice(),l=i.length,{start:o}=t,{end:c}=t,d=function(p){var m=i[p],v,g=()=>(v===void 0&&(v=a(m,p)),v);if(p===l-1){var b=e*(m.coordinate+e*g()/2-c);i[p]=m=tl(tl({},m),{},{tickCoord:b>0?m.coordinate-b*e:m.coordinate})}else i[p]=m=tl(tl({},m),{},{tickCoord:m.coordinate});var j=bj(e,m.tickCoord,g,o,c);j&&(c=m.tickCoord-e*(g()/2+n),i[p]=tl(tl({},m),{},{isShow:!0}))},u=l-1;u>=0;u--)d(u);return i}function UIe(e,t,a,r,n,i){var l=(r||[]).slice(),o=l.length,{start:c,end:d}=t;if(i){var u=r[o-1],f=a(u,o-1),p=e*(u.coordinate+e*f/2-d);l[o-1]=u=tl(tl({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var m=bj(e,u.tickCoord,()=>f,c,d);m&&(d=u.tickCoord-e*(f/2+n),l[o-1]=tl(tl({},u),{},{isShow:!0}))}for(var v=i?o-1:o,g=function(N){var k=l[N],S,C=()=>(S===void 0&&(S=a(k,N)),S);if(N===0){var _=e*(k.coordinate-e*C()/2-c);l[N]=k=tl(tl({},k),{},{tickCoord:_<0?k.coordinate-_*e:k.coordinate})}else l[N]=k=tl(tl({},k),{},{tickCoord:k.coordinate});var P=bj(e,k.tickCoord,C,c,d);P&&(c=k.tickCoord+e*(C()/2+n),l[N]=tl(tl({},k),{},{isShow:!0}))},b=0;b<v;b++)g(b);return l}function ST(e,t,a){var{tick:r,ticks:n,viewBox:i,minTickGap:l,orientation:o,interval:c,tickFormatter:d,unit:u,angle:f}=e;if(!n||!n.length||!r)return[];if(Sa(c)||$m.isSsr){var p;return(p=OIe(n,Sa(c)?c:0))!==null&&p!==void 0?p:[]}var m=[],v=o==="top"||o==="bottom"?"width":"height",g=u&&v==="width"?Fv(u,{fontSize:t,letterSpacing:a}):{width:0,height:0},b=(k,S)=>{var C=typeof d=="function"?d(k.value,S):k.value;return v==="width"?PIe(Fv(C,{fontSize:t,letterSpacing:a}),g,f):Fv(C,{fontSize:t,letterSpacing:a})[v]},j=n.length>=2?eo(n[1].coordinate-n[0].coordinate):1,N=LIe(i,j,v);return c==="equidistantPreserveStart"?RIe(j,N,b,n,l):(c==="preserveStart"||c==="preserveStartEnd"?m=UIe(j,N,b,n,l,c==="preserveStartEnd"):m=$Ie(j,N,b,n,l),m.filter(k=>k.isShow))}var zIe=e=>{var{ticks:t,label:a,labelGapWithTick:r=5,tickSize:n=0,tickMargin:i=0}=e,l=0;if(t){Array.from(t).forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>l&&(l=f.width)}});var o=a?a.getBoundingClientRect().width:0,c=n+i,d=l+c+o+(a?r:0);return Math.round(d)}return 0},HIe=["axisLine","width","height","className","hide","ticks"],VIe=["viewBox"],WIe=["viewBox"];function B6(e,t){if(e==null)return{};var a,r,n=qIe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function qIe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Sm(){return Sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Sm.apply(null,arguments)}function s$(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function Jn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?s$(Object(a),!0).forEach(function(r){GIe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s$(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function GIe(e,t,a){return(t=KIe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function KIe(e){var t=YIe(e,"string");return typeof t=="symbol"?t:t+""}function YIe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CT={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function XIe(e){var{x:t,y:a,width:r,height:n,orientation:i,mirror:l,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var d=Jn(Jn(Jn({},c),dd(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!l||i==="bottom"&&l);d=Jn(Jn({},d),{},{x1:t,y1:a+u*n,x2:t+r,y2:a+u*n})}else{var f=+(i==="left"&&!l||i==="right"&&l);d=Jn(Jn({},d),{},{x1:t+f*r,y1:a,x2:t+f*r,y2:a+n})}return y.createElement("line",Sm({},d,{className:ar("recharts-cartesian-axis-line",fx(o,"className"))}))}function JIe(e,t,a,r,n,i,l,o,c){var d,u,f,p,m,v,g=o?-1:1,b=e.tickSize||l,j=Sa(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":d=u=e.coordinate,p=a+ +!o*n,f=p-g*b,v=f-g*c,m=j;break;case"left":f=p=e.coordinate,u=t+ +!o*r,d=u-g*b,m=d-g*c,v=j;break;case"right":f=p=e.coordinate,u=t+ +o*r,d=u+g*b,m=d+g*c,v=j;break;default:d=u=e.coordinate,p=a+ +o*n,f=p+g*b,v=f+g*c,m=j;break}return{line:{x1:d,y1:f,x2:u,y2:p},tick:{x:m,y:v}}}function QIe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function ZIe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function eBe(e){var{option:t,tickProps:a,value:r}=e,n,i=ar(a.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))n=y.cloneElement(t,Jn(Jn({},a),{},{className:i}));else if(typeof t=="function")n=t(Jn(Jn({},a),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=ar(l,t?.className)),n=y.createElement(bT,Sm({},a,{className:l}),r)}return n}function tBe(e){var{ticks:t=[],tick:a,tickLine:r,stroke:n,tickFormatter:i,unit:l,padding:o,tickTextProps:c,orientation:d,mirror:u,x:f,y:p,width:m,height:v,tickSize:g,tickMargin:b,fontSize:j,letterSpacing:N,getTicksConfig:k,events:S}=e,C=ST(Jn(Jn({},k),{},{ticks:t}),j,N),_=QIe(d,u),P=ZIe(d,u),L=dd(k),U=rb(a),z={};typeof r=="object"&&(z=r);var T=Jn(Jn({},L),{},{fill:"none"},z),F=C.map((M,I)=>{var{line:W,tick:R}=JIe(M,f,p,m,v,d,g,u,b),q=Jn(Jn(Jn(Jn({textAnchor:_,verticalAnchor:P},L),{},{stroke:"none",fill:n},U),R),{},{index:I,payload:M,visibleTicksCount:C.length,tickFormatter:i,padding:o},c);return y.createElement(ud,Sm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},h_(S,M,I)),r&&y.createElement("line",Sm({},T,W,{className:ar("recharts-cartesian-axis-tick-line",fx(r,"className"))})),a&&y.createElement(eBe,{option:a,tickProps:q,value:"".concat(typeof i=="function"?i(M.value,I):M.value).concat(l||"")}))});return F.length>0?y.createElement("g",{className:"recharts-cartesian-axis-ticks"},F):null}var aBe=y.forwardRef((e,t)=>{var{axisLine:a,width:r,height:n,className:i,hide:l,ticks:o}=e,c=B6(e,HIe),[d,u]=y.useState(""),[f,p]=y.useState(""),m=y.useRef(null);y.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return zIe({ticks:m.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=y.useCallback(g=>{if(g){var b=g.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=b;var j=b[0];if(j){var N=window.getComputedStyle(j),k=N.fontSize,S=N.letterSpacing;(k!==d||S!==f)&&(u(k),p(S))}}},[d,f]);return l||r!=null&&r<=0||n!=null&&n<=0?null:y.createElement(ud,{className:ar("recharts-cartesian-axis",i),ref:v},y.createElement(XIe,{x:e.x,y:e.y,width:r,height:n,orientation:e.orientation,mirror:e.mirror,axisLine:a,otherSvgProps:dd(e)}),y.createElement(tBe,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:d,letterSpacing:f,getTicksConfig:e,events:c}),y.createElement(zRe,{x:e.x,y:e.y,width:e.width,height:e.height},y.createElement(QRe,{label:e.label,labelRef:e.labelRef}),e.children))}),sBe=y.memo(aBe,(e,t)=>{var{viewBox:a}=e,r=B6(e,VIe),{viewBox:n}=t,i=B6(t,WIe);return vx(a,n)&&vx(r,i)}),AT=y.forwardRef((e,t)=>{var a=co(e,CT);return y.createElement(sBe,Sm({},a,{ref:t}))});AT.displayName="CartesianAxis";var rBe=["x1","y1","x2","y2","key"],nBe=["offset"],iBe=["xAxisId","yAxisId"],lBe=["xAxisId","yAxisId"];function r$(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function il(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?r$(Object(a),!0).forEach(function(r){oBe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r$(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function oBe(e,t,a){return(t=cBe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function cBe(e){var t=dBe(e,"string");return typeof t=="symbol"?t:t+""}function dBe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},H0.apply(null,arguments)}function yj(e,t){if(e==null)return{};var a,r,n=uBe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function uBe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var hBe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:a,x:r,y:n,width:i,height:l,ry:o}=e;return y.createElement("rect",{x:r,y:n,ry:o,width:i,height:l,stroke:"none",fill:t,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function DQ(e,t){var a;if(y.isValidElement(e))a=y.cloneElement(e,t);else if(typeof e=="function")a=e(t);else{var{x1:r,y1:n,x2:i,y2:l,key:o}=t,c=yj(t,rBe),d=dd(c),{offset:u}=d,f=yj(d,nBe);a=y.createElement("line",H0({},f,{x1:r,y1:n,x2:i,y2:l,fill:"none",key:o}))}return a}function fBe(e){var{x:t,width:a,horizontal:r=!0,horizontalPoints:n}=e;if(!r||!n||!n.length)return null;var{xAxisId:i,yAxisId:l}=e,o=yj(e,iBe),c=n.map((d,u)=>{var f=il(il({},o),{},{x1:t,y1:d,x2:t+a,y2:d,key:"line-".concat(u),index:u});return DQ(r,f)});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function mBe(e){var{y:t,height:a,vertical:r=!0,verticalPoints:n}=e;if(!r||!n||!n.length)return null;var{xAxisId:i,yAxisId:l}=e,o=yj(e,lBe),c=n.map((d,u)=>{var f=il(il({},o),{},{x1:d,y1:t,x2:d,y2:t+a,key:"line-".concat(u),index:u});return DQ(r,f)});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function pBe(e){var{horizontalFill:t,fillOpacity:a,x:r,y:n,width:i,height:l,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=o.map(f=>Math.round(f+n-n)).sort((f,p)=>f-p);n!==d[0]&&d.unshift(0);var u=d.map((f,p)=>{var m=!d[p+1],v=m?n+l-f:d[p+1]-f;if(v<=0)return null;var g=p%t.length;return y.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:v,width:i,stroke:"none",fill:t[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function xBe(e){var{vertical:t=!0,verticalFill:a,fillOpacity:r,x:n,y:i,width:l,height:o,verticalPoints:c}=e;if(!t||!a||!a.length)return null;var d=c.map(f=>Math.round(f+n-n)).sort((f,p)=>f-p);n!==d[0]&&d.unshift(0);var u=d.map((f,p)=>{var m=!d[p+1],v=m?n+l-f:d[p+1]-f;if(v<=0)return null;var g=p%a.length;return y.createElement("rect",{key:"react-".concat(p),x:f,y:i,width:v,height:o,stroke:"none",fill:a[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var gBe=(e,t)=>{var{xAxis:a,width:r,height:n,offset:i}=e;return hY(ST(il(il(il({},CT),a),{},{ticks:fY(a),viewBox:{x:0,y:0,width:r,height:n}})),i.left,i.left+i.width,t)},vBe=(e,t)=>{var{yAxis:a,width:r,height:n,offset:i}=e;return hY(ST(il(il(il({},CT),a),{},{ticks:fY(a),viewBox:{x:0,y:0,width:r,height:n}})),i.top,i.top+i.height,t)},bBe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function $6(e){var t=bY(),a=yY(),r=vY(),n=il(il({},co(e,bBe)),{},{x:Sa(e.x)?e.x:r.left,y:Sa(e.y)?e.y:r.top,width:Sa(e.width)?e.width:r.width,height:Sa(e.height)?e.height:r.height}),{xAxisId:i,yAxisId:l,x:o,y:c,width:d,height:u,syncWithTicks:f,horizontalValues:p,verticalValues:m}=n,v=Rl(),g=ka(U=>iB(U,"xAxis",i,v)),b=ka(U=>iB(U,"yAxis",l,v));if(!Sa(d)||d<=0||!Sa(u)||u<=0||!Sa(o)||o!==+o||!Sa(c)||c!==+c)return null;var j=n.verticalCoordinatesGenerator||gBe,N=n.horizontalCoordinatesGenerator||vBe,{horizontalPoints:k,verticalPoints:S}=n;if((!k||!k.length)&&typeof N=="function"){var C=p&&p.length,_=N({yAxis:b?il(il({},b),{},{ticks:C?p:b.ticks}):void 0,width:t,height:a,offset:r},C?!0:f);Xw(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(k=_)}if((!S||!S.length)&&typeof j=="function"){var P=m&&m.length,L=j({xAxis:g?il(il({},g),{},{ticks:P?m:g.ticks}):void 0,width:t,height:a,offset:r},P?!0:f);Xw(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(S=L)}return y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(hBe,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),y.createElement(pBe,H0({},n,{horizontalPoints:k})),y.createElement(xBe,H0({},n,{verticalPoints:S})),y.createElement(fBe,H0({},n,{offset:r,horizontalPoints:k,xAxis:g,yAxis:b})),y.createElement(mBe,H0({},n,{offset:r,verticalPoints:S,xAxis:g,yAxis:b})))}$6.displayName="CartesianGrid";var MQ=(e,t,a,r)=>Bf(e,"xAxis",t,r),PQ=(e,t,a,r)=>If(e,"xAxis",t,r),LQ=(e,t,a,r)=>Bf(e,"yAxis",a,r),OQ=(e,t,a,r)=>If(e,"yAxis",a,r),yBe=xt([Rs,MQ,LQ,PQ,OQ],(e,t,a,r,n)=>Kf(e,"xAxis")?k1(t,r,!1):k1(a,n,!1)),wBe=(e,t,a,r,n)=>n;function jBe(e){return e.type==="line"}var NBe=xt([GN,wBe],(e,t)=>e.filter(jBe).find(a=>a.id===t)),kBe=xt([Rs,MQ,LQ,PQ,OQ,NBe,yBe,IN],(e,t,a,r,n,i,l,o)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:u}=o;if(!(i==null||t==null||a==null||r==null||n==null||r.length===0||n.length===0||l==null)){var{dataKey:f,data:p}=i,m;if(p!=null&&p.length>0?m=p:m=c?.slice(d,u+1),m!=null)return GBe({layout:e,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:n,dataKey:f,bandSize:l,displayedData:m})}});function SBe(e){var t=rb(e),a=3,r=2;if(t!=null){var{r:n,strokeWidth:i}=t,l=Number(n),o=Number(i);return(Number.isNaN(l)||l<0)&&(l=a),(Number.isNaN(o)||o<0)&&(o=r),{r:l,strokeWidth:o}}return{r:a,strokeWidth:r}}var CBe=["id"],ABe=["type","layout","connectNulls","needClip"],_Be=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function n$(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function Do(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?n$(Object(a),!0).forEach(function(r){TBe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n$(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function TBe(e,t,a){return(t=EBe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function EBe(e){var t=DBe(e,"string");return typeof t=="symbol"?t:t+""}function DBe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _T(e,t){if(e==null)return{};var a,r,n=MBe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function MBe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Cm(){return Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Cm.apply(null,arguments)}var PBe=e=>{var{dataKey:t,name:a,stroke:r,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:r,value:jN(a,t),payload:e}]};function LBe(e){var{dataKey:t,data:a,stroke:r,strokeWidth:n,fill:i,name:l,hide:o,unit:c}=e;return{dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:jN(l,t),hide:o,type:e.tooltipType,color:e.stroke,unit:c}}}var RQ=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function OBe(e,t){for(var a=e.length%2!==0?[...e,0]:e,r=[],n=0;n<t;++n)r=[...r,...a];return r}var RBe=(e,t,a)=>{var r=a.reduce((f,p)=>f+p);if(!r)return RQ(t,e);for(var n=Math.floor(e/r),i=e%r,l=t-e,o=[],c=0,d=0;c<a.length;d+=a[c],++c)if(d+a[c]>i){o=[...a.slice(0,c),i-d];break}var u=o.length%2===0?[0,l]:[l];return[...OBe(a,n),...o,...u].map(f=>"".concat(f,"px")).join(", ")};function FBe(e,t){var a;if(y.isValidElement(e))a=y.cloneElement(e,t);else if(typeof e=="function")a=e(t);else{var r=ar("recharts-line-dot",typeof e!="boolean"?e.className:"");a=y.createElement(cQ,Cm({},t,{className:r}))}return a}function IBe(e,t){return e==null?!1:t?!0:e.length===1}function BBe(e){var{clipPathId:t,points:a,props:r}=e,{dot:n,dataKey:i,needClip:l}=r;if(!IBe(a,n))return null;var{id:o}=r,c=_T(r,CBe),d=hQ(n),u=dd(c),f=jAe(n),p=a.map((v,g)=>{var b=Do(Do(Do({key:"dot-".concat(g),r:3},u),f),{},{index:g,cx:v.x,cy:v.y,dataKey:i,value:v.value,payload:v.payload,points:a});return FBe(n,b)}),m={clipPath:l?"url(#clipPath-".concat(d?"":"dots-").concat(t,")"):void 0};return y.createElement(ud,Cm({className:"recharts-line-dots",key:"dots"},m),p)}function $Be(e){var{showLabels:t,children:a,points:r}=e,n=y.useMemo(()=>r?.map(i=>{var l={x:i.x,y:i.y,width:0,height:0};return Do(Do({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return y.createElement(iQ,{value:t?n:null},a)}function i$(e){var{clipPathId:t,pathRef:a,points:r,strokeDasharray:n,props:i}=e,{type:l,layout:o,connectNulls:c,needClip:d}=i,u=_T(i,ABe),f=Do(Do({},Ol(u)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:r,type:l,layout:o,connectNulls:c,strokeDasharray:n??i.strokeDasharray});return y.createElement(y.Fragment,null,r?.length>1&&y.createElement(NY,Cm({},f,{pathRef:a})),y.createElement(BBe,{points:r,clipPathId:t,props:i}))}function UBe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function zBe(e){var{clipPathId:t,props:a,pathRef:r,previousPointsRef:n,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:o,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:f,animateNewValues:p,width:m,height:v,onAnimationEnd:g,onAnimationStart:b}=a,j=n.current,N=DN(a,"recharts-line-"),[k,S]=y.useState(!1),C=!k,_=y.useCallback(()=>{typeof g=="function"&&g(),S(!1)},[g]),P=y.useCallback(()=>{typeof b=="function"&&b(),S(!0)},[b]),L=UBe(r.current),U=i.current;return y.createElement($Be,{points:l,showLabels:C},a.children,y.createElement(EN,{animationId:N,begin:d,duration:u,isActive:c,easing:f,onAnimationEnd:_,onAnimationStart:P,key:N},z=>{var T=In(U,L+U,z),F=Math.min(T,L),M;if(c)if(o){var I="".concat(o).split(/[,\s]+/gim).map(q=>parseFloat(q));M=RBe(F,L,I)}else M=RQ(L,F);else M=o==null?void 0:String(o);if(j){var W=j.length/l.length,R=z===1?l:l.map((q,ae)=>{var te=Math.floor(ae*W);if(j[te]){var K=j[te];return Do(Do({},q),{},{x:In(K.x,q.x,z),y:In(K.y,q.y,z)})}return p?Do(Do({},q),{},{x:In(m*2,q.x,z),y:In(v/2,q.y,z)}):Do(Do({},q),{},{x:q.x,y:q.y})});return n.current=R,y.createElement(i$,{props:a,points:R,clipPathId:t,pathRef:r,strokeDasharray:M})}return z>0&&L>0&&(n.current=l,i.current=F),y.createElement(i$,{props:a,points:l,clipPathId:t,pathRef:r,strokeDasharray:M})}),y.createElement(oQ,{label:a.label}))}function HBe(e){var{clipPathId:t,props:a}=e,r=y.useRef(null),n=y.useRef(0),i=y.useRef(null);return y.createElement(zBe,{props:a,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:n,pathRef:i})}var VBe=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Ni(e.payload,t)});class WBe extends y.Component{render(){var{hide:t,dot:a,points:r,className:n,xAxisId:i,yAxisId:l,top:o,left:c,width:d,height:u,id:f,needClip:p}=this.props;if(t)return null;var m=ar("recharts-line",n),v=f,{r:g,strokeWidth:b}=SBe(a),j=hQ(a),N=g*2+b;return y.createElement(y.Fragment,null,y.createElement(ud,{className:m},p&&y.createElement("defs",null,y.createElement(kQ,{clipPathId:v,xAxisId:i,yAxisId:l}),!j&&y.createElement("clipPath",{id:"clipPath-dots-".concat(v)},y.createElement("rect",{x:c-N/2,y:o-N/2,width:d+N,height:u+N}))),y.createElement(NQ,{xAxisId:i,yAxisId:l,data:r,dataPointFormatter:VBe,errorBarOffset:0},y.createElement(HBe,{props:this.props,clipPathId:v}))),y.createElement(cFe,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var FQ={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!$m.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function qBe(e){var t=co(e,FQ),{activeDot:a,animateNewValues:r,animationBegin:n,animationDuration:i,animationEasing:l,connectNulls:o,dot:c,hide:d,isAnimationActive:u,label:f,legendType:p,xAxisId:m,yAxisId:v,id:g}=t,b=_T(t,_Be),{needClip:j}=NT(m,v),N=wT(),k=_N(),S=Rl(),C=ka(z=>kBe(z,m,v,S,g));if(k!=="horizontal"&&k!=="vertical"||C==null||N==null)return null;var{height:_,width:P,x:L,y:U}=N;return y.createElement(WBe,Cm({},b,{id:g,connectNulls:o,dot:c,activeDot:a,animateNewValues:r,animationBegin:n,animationDuration:i,animationEasing:l,isAnimationActive:u,hide:d,label:f,legendType:p,xAxisId:m,yAxisId:v,points:C,layout:k,height:_,width:P,left:L,top:U,needClip:j}))}function GBe(e){var{layout:t,xAxis:a,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:l,bandSize:o,displayedData:c}=e;return c.map((d,u)=>{var f=Ni(d,l);if(t==="horizontal"){var p=RF({axis:a,ticks:n,bandSize:o,entry:d,index:u}),m=Br(f)?null:r.scale(f);return{x:p,y:m,value:f,payload:d}}var v=Br(f)?null:a.scale(f),g=RF({axis:r,ticks:i,bandSize:o,entry:d,index:u});return v==null||g==null?null:{x:v,y:g,value:f,payload:d}}).filter(Boolean)}function KBe(e){var t=co(e,FQ),a=Rl();return y.createElement(vQ,{id:t.id,type:"line"},r=>y.createElement(y.Fragment,null,y.createElement(gQ,{legendPayload:PBe(t)}),y.createElement(xQ,{fn:LBe,args:t}),y.createElement(yQ,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:a}),y.createElement(qBe,Cm({},t,{id:r}))))}var wj=y.memo(KBe);wj.displayName="Line";var YBe=["dangerouslySetInnerHTML","ticks"],XBe=["id"],JBe=["domain"],QBe=["domain"];function U6(){return U6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},U6.apply(null,arguments)}function jj(e,t){if(e==null)return{};var a,r,n=ZBe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function ZBe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function e$e(e){var t=si();return y.useLayoutEffect(()=>(t(X9e(e)),()=>{t(J9e(e))}),[e,t]),null}var t$e=e=>{var{xAxisId:t,className:a}=e,r=ka(y_),n=Rl(),i="xAxis",l=ka(b=>$x(b,i,t,n)),o=ka(b=>bJ(b,i,t,n)),c=ka(b=>pJ(b,t)),d=ka(b=>jLe(b,t)),u=ka(b=>IX(b,t));if(c==null||d==null||u==null)return null;var{dangerouslySetInnerHTML:f,ticks:p}=e,m=jj(e,YBe),{id:v}=u,g=jj(u,XBe);return y.createElement(AT,U6({},m,g,{scale:l,x:d.x,y:d.y,width:c.width,height:c.height,className:ar("recharts-".concat(i," ").concat(i),a),viewBox:r,ticks:o}))},a$e={allowDataOverflow:So.allowDataOverflow,allowDecimals:So.allowDecimals,allowDuplicatedCategory:So.allowDuplicatedCategory,height:So.height,hide:!1,mirror:So.mirror,orientation:So.orientation,padding:So.padding,reversed:So.reversed,scale:So.scale,tickCount:So.tickCount,type:So.type,xAxisId:0},s$e=e=>{var t,a,r,n,i,l=co(e,a$e);return y.createElement(y.Fragment,null,y.createElement(e$e,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(a=l.includeHidden)!==null&&a!==void 0?a:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(n=l.minTickGap)!==null&&n!==void 0?n:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),y.createElement(t$e,l))},r$e=(e,t)=>{var{domain:a}=e,r=jj(e,JBe),{domain:n}=t,i=jj(t,QBe);return vx(r,i)?Array.isArray(a)&&a.length===2&&Array.isArray(n)&&n.length===2?a[0]===n[0]&&a[1]===n[1]:vx({domain:a},{domain:n}):!1},M1=y.memo(s$e,r$e);M1.displayName="XAxis";var n$e=["dangerouslySetInnerHTML","ticks"],i$e=["id"],l$e=["domain"],o$e=["domain"];function z6(){return z6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},z6.apply(null,arguments)}function Nj(e,t){if(e==null)return{};var a,r,n=c$e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function c$e(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function d$e(e){var t=si();return y.useLayoutEffect(()=>(t(Q9e(e)),()=>{t(Z9e(e))}),[e,t]),null}var u$e=e=>{var{yAxisId:t,className:a,width:r,label:n}=e,i=y.useRef(null),l=y.useRef(null),o=ka(y_),c=Rl(),d=si(),u="yAxis",f=ka(C=>$x(C,u,t,c)),p=ka(C=>xJ(C,t)),m=ka(C=>kLe(C,t)),v=ka(C=>bJ(C,u,t,c)),g=ka(C=>BX(C,t));if(y.useLayoutEffect(()=>{if(!(r!=="auto"||!p||yT(n)||y.isValidElement(n)||g==null)){var C=i.current;if(C){var _=C.getCalculatedWidth();Math.round(p.width)!==Math.round(_)&&d(eFe({id:t,width:_}))}}},[v,p,d,n,t,r,g]),p==null||m==null||g==null)return null;var{dangerouslySetInnerHTML:b,ticks:j}=e,N=Nj(e,n$e),{id:k}=g,S=Nj(g,i$e);return y.createElement(AT,z6({},N,S,{ref:i,labelRef:l,scale:f,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:ar("recharts-".concat(u," ").concat(u),a),viewBox:o,ticks:v}))},h$e={allowDataOverflow:Co.allowDataOverflow,allowDecimals:Co.allowDecimals,allowDuplicatedCategory:Co.allowDuplicatedCategory,hide:!1,mirror:Co.mirror,orientation:Co.orientation,padding:Co.padding,reversed:Co.reversed,scale:Co.scale,tickCount:Co.tickCount,type:Co.type,width:Co.width,yAxisId:0},f$e=e=>{var t,a,r,n,i,l=co(e,h$e);return y.createElement(y.Fragment,null,y.createElement(d$e,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(a=l.includeHidden)!==null&&a!==void 0?a:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(n=l.minTickGap)!==null&&n!==void 0?n:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),y.createElement(u$e,l))},m$e=(e,t)=>{var{domain:a}=e,r=Nj(e,l$e),{domain:n}=t,i=Nj(t,o$e);return vx(r,i)?Array.isArray(a)&&a.length===2&&Array.isArray(n)&&n.length===2?a[0]===n[0]&&a[1]===n[1]:vx({domain:a},{domain:n}):!1},P1=y.memo(f$e,m$e);P1.displayName="YAxis";var hS={exports:{}},fS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$;function p$e(){if(l$)return fS;l$=1;var e=bx();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var a=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,n=e.useRef,i=e.useEffect,l=e.useMemo,o=e.useDebugValue;return fS.useSyncExternalStoreWithSelector=function(c,d,u,f,p){var m=n(null);if(m.current===null){var v={hasValue:!1,value:null};m.current=v}else v=m.current;m=l(function(){function b(C){if(!j){if(j=!0,N=C,C=f(C),p!==void 0&&v.hasValue){var _=v.value;if(p(_,C))return k=_}return k=C}if(_=k,a(N,C))return _;var P=f(C);return p!==void 0&&p(_,P)?(N=C,_):(N=C,k=P)}var j=!1,N,k,S=u===void 0?null:u;return[function(){return b(d())},S===null?void 0:function(){return b(S())}]},[d,u,f,p]);var g=r(c,m[0],m[1]);return i(function(){v.hasValue=!0,v.value=g},[g]),o(g),g},fS}var o$;function x$e(){return o$||(o$=1,hS.exports=p$e()),hS.exports}x$e();function g$e(e){e()}function v$e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){g$e(()=>{let a=e;for(;a;)a.callback(),a=a.next})},get(){const a=[];let r=e;for(;r;)a.push(r),r=r.next;return a},subscribe(a){let r=!0;const n=t={callback:a,next:null,prev:t};return n.prev?n.prev.next=n:e=n,function(){!r||e===null||(r=!1,n.next?n.next.prev=n.prev:t=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}var c$={notify(){},get:()=>[]};function b$e(e,t){let a,r=c$,n=0,i=!1;function l(g){u();const b=r.subscribe(g);let j=!1;return()=>{j||(j=!0,b(),f())}}function o(){r.notify()}function c(){v.onStateChange&&v.onStateChange()}function d(){return i}function u(){n++,a||(a=e.subscribe(c),r=v$e())}function f(){n--,a&&n===0&&(a(),a=void 0,r.clear(),r=c$)}function p(){i||(i=!0,u())}function m(){i&&(i=!1,f())}const v={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:d,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return v}var y$e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",w$e=y$e(),j$e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",N$e=j$e(),k$e=()=>w$e||N$e?y.useLayoutEffect:y.useEffect,S$e=k$e(),C$e=Symbol.for("react-redux-context"),A$e=typeof globalThis<"u"?globalThis:{};function _$e(){if(!y.createContext)return{};const e=A$e[C$e]??=new Map;let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var T$e=_$e();function E$e(e){const{children:t,context:a,serverState:r,store:n}=e,i=y.useMemo(()=>{const c=b$e(n);return{store:n,subscription:c,getServerState:r?()=>r:void 0}},[n,r]),l=y.useMemo(()=>n.getState(),[n]);S$e(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==n.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,l]);const o=a||T$e;return y.createElement(o.Provider,{value:i},t)}var D$e=E$e,M$e=(e,t)=>t,TT=xt([M$e,Rs,OX,ii,RJ,Ch,TOe,ki],LOe),ET=e=>{var t=e.currentTarget.getBoundingClientRect(),a=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/a),chartY:Math.round((e.clientY-t.top)/r)}},IQ=Nc("mouseClick"),BQ=lb();BQ.startListening({actionCreator:IQ,effect:(e,t)=>{var a=e.payload,r=TT(t.getState(),ET(a));r?.activeIndex!=null&&t.dispatch(FLe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var H6=Nc("mouseMove"),$Q=lb();$Q.startListening({actionCreator:H6,effect:(e,t)=>{var a=e.payload,r=t.getState(),n=cT(r,r.tooltip.settings.shared),i=TT(r,ET(a));n==="axis"&&(i?.activeIndex!=null?t.dispatch(AJ({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(CJ()))}});var d$={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},UQ=$o({name:"rootProps",initialState:d$,reducers:{updateOptions:(e,t)=>{var a;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(a=t.payload.barGap)!==null&&a!==void 0?a:d$.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),P$e=UQ.reducer,{updateOptions:L$e}=UQ.actions,zQ=$o({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:rVe}=zQ.actions,O$e=zQ.reducer,HQ=Nc("keyDown"),VQ=Nc("focus"),DT=lb();DT.startListening({actionCreator:HQ,effect:(e,t)=>{var a=t.getState(),r=a.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:n}=a.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(dT(n,zx(a))),o=Ch(a);if(i==="Enter"){var c=fj(a,"axis","hover",String(n.index));t.dispatch(P6({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:c}));return}var d=_Le(a),u=d==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,p=l+f*u;if(!(o==null||p>=o.length||p<0)){var m=fj(a,"axis","hover",String(p));t.dispatch(P6({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});DT.startListening({actionCreator:VQ,effect:(e,t)=>{var a=t.getState(),r=a.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:n}=a.tooltip;if(!n.active&&n.index==null){var i="0",l=fj(a,"axis","hover",String(i));t.dispatch(P6({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var uc=Nc("externalEvent"),WQ=lb();WQ.startListening({actionCreator:uc,effect:(e,t)=>{if(e.payload.handler!=null){var a=t.getState(),r={activeCoordinate:bOe(a),activeDataKey:$J(a),activeIndex:km(a),activeLabel:BJ(a),activeTooltipIndex:km(a),isTooltipActive:yOe(a)};e.payload.handler(r,e.payload.reactEvent)}}});var R$e=xt([Ux],e=>e.tooltipItemPayloads),F$e=xt([R$e,gb,(e,t,a)=>t,(e,t,a)=>a],(e,t,a,r)=>{var n=e.find(o=>o.settings.dataKey===r);if(n!=null){var{positions:i}=n;if(i!=null){var l=t(i,a);return l}}}),qQ=Nc("touchMove"),GQ=lb();GQ.startListening({actionCreator:qQ,effect:(e,t)=>{var a=e.payload,r=t.getState(),n=cT(r,r.tooltip.settings.shared);if(n==="axis"){var i=TT(r,ET({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY,currentTarget:a.currentTarget}));i?.activeIndex!=null&&t.dispatch(AJ({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(n==="item"){var l,o=a.touches[0],c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(WTe),u=(l=c.getAttribute(qTe))!==null&&l!==void 0?l:void 0,f=F$e(t.getState(),d,u);t.dispatch(SJ({activeDataKey:u,activeIndex:d,activeCoordinate:f}))}}});var I$e=$K({brush:NIe,cartesianAxis:tFe,chartData:XOe,errorBars:wFe,graphicalItems:W9e,layout:mTe,legend:NEe,options:WOe,polarAxis:h9e,polarOptions:O$e,referenceElements:EIe,rootProps:P$e,tooltip:ILe}),B$e=function(t){return B_e({reducer:I$e,preloadedState:t,middleware:a=>a({serializableCheck:!1}).concat([BQ.middleware,$Q.middleware,DT.middleware,WQ.middleware,GQ.middleware]),enhancers:a=>{var r=a;return typeof a=="function"&&(r=a()),r.concat(QK({type:"raf"}))},devTools:$m.devToolsEnabled})};function $$e(e){var{preloadedState:t,children:a,reduxStoreName:r}=e,n=Rl(),i=y.useRef(null);if(n)return a;i.current==null&&(i.current=B$e(t));var l=m_;return y.createElement(D$e,{context:l,store:i.current},a)}function U$e(e){var{layout:t,margin:a}=e,r=si(),n=Rl();return y.useEffect(()=>{n||(r(uTe(t)),r(dTe(a)))},[r,n,t,a]),null}function z$e(e){var t=si();return y.useEffect(()=>{t(L$e(e))},[t,e]),null}var H$e=["children"];function V$e(e,t){if(e==null)return{};var a,r,n=W$e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function W$e(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function kj(){return kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},kj.apply(null,arguments)}var q$e={width:"100%",height:"100%",display:"block"},G$e=y.forwardRef((e,t)=>{var a=bY(),r=yY(),n=jY();if(!mx(a)||!mx(r))return null;var{children:i,otherAttributes:l,title:o,desc:c}=e,d,u;return typeof l.tabIndex=="number"?d=l.tabIndex:d=n?0:void 0,typeof l.role=="string"?u=l.role:u=n?"application":void 0,y.createElement(rK,kj({},l,{title:o,desc:c,role:u,tabIndex:d,width:a,height:r,style:q$e,ref:t}),i)}),K$e=e=>{var{children:t}=e,a=ka(CN);if(!a)return null;var{width:r,height:n,y:i,x:l}=a;return y.createElement(rK,{width:r,height:n,x:l,y:i},t)},u$=y.forwardRef((e,t)=>{var{children:a}=e,r=V$e(e,H$e),n=Rl();return n?y.createElement(K$e,null,a):y.createElement(G$e,kj({ref:t},r),a)});function Y$e(){var e=si(),[t,a]=y.useState(null),r=ka(VTe);return y.useEffect(()=>{if(t!=null){var n=t.getBoundingClientRect(),i=n.width/t.offsetWidth;ml(i)&&i!==r&&e(fTe(i))}},[t,e,r]),a}function h$(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function X$e(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?h$(Object(a),!0).forEach(function(r){J$e(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h$(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function J$e(e,t,a){return(t=Q$e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Q$e(e){var t=Z$e(e,"string");return typeof t=="symbol"?t:t+""}function Z$e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Am(){return Am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Am.apply(null,arguments)}var eUe=()=>(nRe(),null);function Sj(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var tUe=y.forwardRef((e,t)=>{var a,r,n=y.useRef(null),[i,l]=y.useState({containerWidth:Sj((a=e.style)===null||a===void 0?void 0:a.width),containerHeight:Sj((r=e.style)===null||r===void 0?void 0:r.height)}),o=y.useCallback((d,u)=>{l(f=>{var p=Math.round(d),m=Math.round(u);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),c=y.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:u,height:f}=d.getBoundingClientRect();o(u,f);var p=v=>{var{width:g,height:b}=v[0].contentRect;o(g,b)},m=new ResizeObserver(p);m.observe(d),n.current=m}},[t,o]);return y.useEffect(()=>()=>{var d=n.current;d?.disconnect()},[o]),y.createElement(y.Fragment,null,y.createElement(TN,{width:i.containerWidth,height:i.containerHeight}),y.createElement("div",Am({ref:c},e)))}),aUe=y.forwardRef((e,t)=>{var{width:a,height:r}=e,[n,i]=y.useState({containerWidth:Sj(a),containerHeight:Sj(r)}),l=y.useCallback((c,d)=>{i(u=>{var f=Math.round(c),p=Math.round(d);return u.containerWidth===f&&u.containerHeight===p?u:{containerWidth:f,containerHeight:p}})},[]),o=y.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:d,height:u}=c.getBoundingClientRect();l(d,u)}},[t,l]);return y.createElement(y.Fragment,null,y.createElement(TN,{width:n.containerWidth,height:n.containerHeight}),y.createElement("div",Am({ref:o},e)))}),sUe=y.forwardRef((e,t)=>{var{width:a,height:r}=e;return y.createElement(y.Fragment,null,y.createElement(TN,{width:a,height:r}),y.createElement("div",Am({ref:t},e)))}),rUe=y.forwardRef((e,t)=>{var{width:a,height:r}=e;return uh(a)||uh(r)?y.createElement(aUe,Am({},e,{ref:t})):y.createElement(sUe,Am({},e,{ref:t}))});function nUe(e){return e===!0?tUe:rUe}var iUe=y.forwardRef((e,t)=>{var{children:a,className:r,height:n,onClick:i,onContextMenu:l,onDoubleClick:o,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:f,onMouseUp:p,onTouchEnd:m,onTouchMove:v,onTouchStart:g,style:b,width:j,responsive:N,dispatchTouchEvents:k=!0}=e,S=y.useRef(null),C=si(),[_,P]=y.useState(null),[L,U]=y.useState(null),z=Y$e(),T=w_(),F=T?.width>0?T.width:j,M=T?.height>0?T.height:n,I=y.useCallback(J=>{z(J),typeof t=="function"&&t(J),P(J),U(J),J!=null&&(S.current=J)},[z,t,P,U]),W=y.useCallback(J=>{C(IQ(J)),C(uc({handler:i,reactEvent:J}))},[C,i]),R=y.useCallback(J=>{C(H6(J)),C(uc({handler:d,reactEvent:J}))},[C,d]),q=y.useCallback(J=>{C(CJ()),C(uc({handler:u,reactEvent:J}))},[C,u]),ae=y.useCallback(J=>{C(H6(J)),C(uc({handler:f,reactEvent:J}))},[C,f]),te=y.useCallback(()=>{C(VQ())},[C]),K=y.useCallback(J=>{C(HQ(J.key))},[C]),oe=y.useCallback(J=>{C(uc({handler:l,reactEvent:J}))},[C,l]),D=y.useCallback(J=>{C(uc({handler:o,reactEvent:J}))},[C,o]),G=y.useCallback(J=>{C(uc({handler:c,reactEvent:J}))},[C,c]),H=y.useCallback(J=>{C(uc({handler:p,reactEvent:J}))},[C,p]),X=y.useCallback(J=>{C(uc({handler:g,reactEvent:J}))},[C,g]),se=y.useCallback(J=>{k&&C(qQ(J)),C(uc({handler:v,reactEvent:J}))},[C,k,v]),ie=y.useCallback(J=>{C(uc({handler:m,reactEvent:J}))},[C,m]),ne=nUe(N);return y.createElement(qJ.Provider,{value:_},y.createElement(TAe.Provider,{value:L},y.createElement(ne,{width:F??b?.width,height:M??b?.height,className:ar("recharts-wrapper",r),style:X$e({position:"relative",cursor:"default",width:F,height:M},b),onClick:W,onContextMenu:oe,onDoubleClick:D,onFocus:te,onKeyDown:K,onMouseDown:G,onMouseEnter:R,onMouseLeave:q,onMouseMove:ae,onMouseUp:H,onTouchEnd:ie,onTouchMove:se,onTouchStart:X,ref:I},y.createElement(eUe,null),a)))}),lUe=["width","height","responsive","children","className","style","compact","title","desc"];function oUe(e,t){if(e==null)return{};var a,r,n=cUe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function cUe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var dUe=y.forwardRef((e,t)=>{var{width:a,height:r,responsive:n,children:i,className:l,style:o,compact:c,title:d,desc:u}=e,f=oUe(e,lUe),p=dd(f);return c?y.createElement(y.Fragment,null,y.createElement(TN,{width:a,height:r}),y.createElement(u$,{otherAttributes:p,title:d,desc:u},i)):y.createElement(iUe,{className:l,style:o,width:a,height:r,responsive:n,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(u$,{otherAttributes:p,title:d,desc:u,ref:t},y.createElement(MIe,null,i)))});function V6(){return V6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},V6.apply(null,arguments)}var uUe={top:5,right:5,bottom:5,left:5},hUe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:uUe,reverseStackOrder:!1,syncMethod:"index",responsive:!1},KQ=y.forwardRef(function(t,a){var r,n=co(t.categoricalChartProps,hUe),{chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:d}=t,u={chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return y.createElement($$e,{preloadedState:{options:u},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:i},y.createElement(jIe,{chartData:d.data}),y.createElement(U$e,{layout:n.layout,margin:n.margin}),y.createElement(z$e,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),y.createElement(dUe,V6({},n,{ref:a})))}),fUe=["axis"],W6=y.forwardRef((e,t)=>y.createElement(KQ,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fUe,tooltipPayloadSearcher:GJ,categoricalChartProps:e,ref:t})),mUe=["axis","item"],pUe=y.forwardRef((e,t)=>y.createElement(KQ,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mUe,tooltipPayloadSearcher:GJ,categoricalChartProps:e,ref:t}));const f$={Answered:"#10b981","Not Answered":"#ef4444",Busy:"#f59e0b","Wrong Number":"#64748b"},xUe=({title:e,subtitle:t,data:a=[]})=>{const[r,n]=y.useState("desc"),i=y.useMemo(()=>(Array.isArray(a)?[...a]:[]).sort((c,d)=>r==="desc"?(d.value||0)-(c.value||0):(c.value||0)-(d.value||0)),[a,r]),l=y.useMemo(()=>i.reduce((o,c)=>o+(c.value||0),0),[i]);return s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h3",{className:"text-xl font-semibold",children:e}),t&&s.jsx("span",{className:"text-xs text-gray-400",children:t})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-gray-400",children:[": ",l]}),s.jsx("button",{className:`px-2 py-1 text-xs rounded-md border transition ${r==="desc"?"bg-gray-700 text-white border-gray-600":"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700"}`,onClick:()=>n(o=>o==="desc"?"asc":"desc"),title:r==="desc"?" ":" ",children:r==="desc"?" ":" "})]})]}),s.jsx("div",{style:{height:300},children:s.jsx(Jw,{width:"100%",height:"100%",children:s.jsxs(pUe,{data:i,layout:"vertical",margin:{top:10,right:24,left:24,bottom:10},children:[s.jsx(M1,{type:"number",hide:!0}),s.jsx(P1,{type:"category",dataKey:"name",width:120,tick:{fill:"#94a3b8"}}),s.jsx(mj,{cursor:{fill:"rgba(148,163,184,0.15)"},formatter:(o,c)=>{const d=Math.round(Number(o)/Math.max(l,1)*100);return[`${o} (${d}%)`,c]}}),s.jsxs(CQ,{dataKey:"value",barSize:18,radius:[8,8,8,8],isAnimationActive:!0,animationDuration:500,children:[i.map((o,c)=>s.jsx(vT,{fill:f$[o.name]||"#3b82f6"},`cell-${c}`)),s.jsx(Iv,{dataKey:"value",position:"right",formatter:o=>`${o} (${Math.round(o/Math.max(l,1)*100)}%)`,fill:"#e2e8f0"})]})]})})}),s.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:i.map((o,c)=>s.jsxs("span",{className:"inline-flex items-center gap-2 text-xs text-gray-300",children:[s.jsx("span",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:f$[o.name]||"#3b82f6"}}),s.jsx("span",{children:o.name})]},`legend-${c}`))})]})},gUe=({columns:e=[],rows:t=[],align:a=[]})=>s.jsx("div",{className:"rounded-xl border border-gray-800 bg-[#0b1220] overflow-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"sticky top-0 bg-[#0b1220]",children:s.jsx("tr",{className:"text-left",children:e.map((r,n)=>s.jsx("th",{className:"px-3 py-2 font-medium text-gray-200",children:r},n))})}),s.jsxs("tbody",{children:[t.map((r,n)=>s.jsx("tr",{className:"odd:bg-gray-900 even:bg-gray-800 hover:bg-gray-700 transition",children:r.map((i,l)=>s.jsx("td",{className:`px-3 py-2 ${a[l]==="right"?"text-right":"text-left"}`,children:i},l))},n)),t.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"px-3 py-3 text-center text-gray-400",colSpan:e.length,children:"No data"})})]})]})}),vUe=({title:e,subtitle:t,data:a=[]})=>{const r=a.slice(-6);return s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-xl font-semibold",children:e}),t&&s.jsx("span",{className:"text-xs text-gray-400",children:t})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"px-3 py-2 font-medium text-gray-200",children:"Month"}),s.jsx("th",{className:"px-3 py-2 font-medium text-gray-200",children:"Revenue"})]})}),s.jsxs("tbody",{children:[r.map((n,i)=>s.jsxs("tr",{className:"odd:bg-gray-900 even:bg-gray-800",children:[s.jsx("td",{className:"px-3 py-2",children:n.name}),s.jsx("td",{className:"px-3 py-2 text-right",children:n.revenue?.toLocaleString?.()??n.revenue})]},i)),r.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"px-3 py-3 text-center text-gray-400",colSpan:2,children:"No data"})})]})]})}),s.jsx("div",{style:{height:220},children:s.jsx(Jw,{width:"100%",height:"100%",children:s.jsxs(W6,{data:r,margin:{top:10,right:20,left:0,bottom:10},children:[s.jsx(M1,{dataKey:"name",tick:{fill:"#94a3b8"}}),s.jsx(P1,{tick:{fill:"#94a3b8"}}),s.jsx(mj,{}),s.jsx(wj,{type:"monotone",dataKey:"revenue",stroke:"#22c55e",strokeWidth:2,dot:!1})]})})})]}),s.jsx("div",{className:"mt-2 text-xs text-gray-400",children:"Last 6 months"})]})};function m$(e){return Qt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 2v4"},child:[]},{tag:"path",attr:{d:"M16 2v4"},child:[]},{tag:"rect",attr:{width:"18",height:"18",x:"3",y:"4",rx:"2"},child:[]},{tag:"path",attr:{d:"M3 10h18"},child:[]},{tag:"path",attr:{d:"m9 16 2 2 4-4"},child:[]}]})(e)}function bUe(e){return Qt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",x2:"12",y1:"2",y2:"22"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function YQ(e){return Qt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function yUe(e){return Qt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 2v4"},child:[]},{tag:"path",attr:{d:"m16.2 7.8 2.9-2.9"},child:[]},{tag:"path",attr:{d:"M18 12h4"},child:[]},{tag:"path",attr:{d:"m16.2 16.2 2.9 2.9"},child:[]},{tag:"path",attr:{d:"M12 18v4"},child:[]},{tag:"path",attr:{d:"m4.9 19.1 2.9-2.9"},child:[]},{tag:"path",attr:{d:"M2 12h4"},child:[]},{tag:"path",attr:{d:"m4.9 4.9 2.9 2.9"},child:[]}]})(e)}function wUe(e){return Qt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function jUe(e){return Qt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"},child:[]},{tag:"path",attr:{d:"M21 3v5h-5"},child:[]},{tag:"path",attr:{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"},child:[]},{tag:"path",attr:{d:"M8 16H3v5"},child:[]}]})(e)}function NUe(e){return Qt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M22 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}const kUe=({reservationData:e=[],callsData:t=[],teamsData:a=[],totalAccounts:r=0,lastUpdate:n,onUpdate:i})=>{const{t:l,i18n:o}=Ct(),c=Ys(),[d,u]=y.useState(!1),[f,p]=y.useState(null),m=e.length;y.useMemo(()=>e.reduce((S,C)=>S+(C.revenue||0),0),[e]);const v=y.useMemo(()=>t.reduce((S,C)=>S+(C.value||0),0),[t]),g=y.useMemo(()=>[...a].sort((C,_)=>(_.accounts||0)-(C.accounts||0))[0]||null,[a]);y.useMemo(()=>{const S=t.map(C=>C.value||0);return Math.max(100,...S)},[t]);const b=y.useMemo(()=>t.filter(S=>/follow/i.test(S?.name||"")).reduce((S,C)=>S+(C.value||0),0),[t]),j=y.useMemo(()=>t.filter(S=>/(meeting|visit)/i.test(S?.name||"")).reduce((S,C)=>S+(C.value||0),0),[t]),N=y.useMemo(()=>v+b+j,[v,b,j]),k=y.useMemo(()=>v>0?`${Math.round(m/v*100)}%`:typeof g?.conversion=="string"?g.conversion:"",[m,v,g]);return s.jsxs("div",{className:"space-y-6 my-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h2",{className:"text-xl font-semibold",children:l("Sales Actions Overview")})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[s.jsx(qg,{label:l("Total Actions"),value:N,tone:"default",icon:s.jsx(NUe,{}),tooltip:"All tracked actions"}),s.jsx(qg,{label:l("Calls Made"),value:v,tone:"warning",icon:s.jsx(wUe,{}),tooltip:"Total calls count"}),s.jsx(qg,{label:l("Follow-ups Done"),value:b,tone:"info",icon:s.jsx(m$,{}),tooltip:"Follow-up actions"}),s.jsx(qg,{label:l("Meetings Scheduled"),value:j,tone:"success",icon:s.jsx(m$,{}),tooltip:"Meetings count"}),s.jsx(qg,{label:l("Conversion Rate %"),value:k,tone:"success",icon:s.jsx(bUe,{}),tooltip:"Leads converted vs calls"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx(xUe,{title:l("Action Distribution"),subtitle:l("By type"),data:t}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition",onClick:()=>c("/reports/activity"),children:l("View Detailed Activity Report")})})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("h3",{className:"text-xl font-semibold",children:l("salesActions.topTeam")})}),g?s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm text-gray-400",children:g.team}),s.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[g.accounts," ",l("salesActions.accounts")]}),s.jsxs("div",{className:"text-xs text-gray-400",title:"Conversion Rate",children:[l("Conversion"),": ",g.conversion]}),s.jsx("div",{children:s.jsx("button",{className:"mt-2 inline-flex items-center gap-2 px-3 py-2 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition",onClick:()=>c(`/reports/team?team=${encodeURIComponent(g.team)}&manager=All`),children:l("salesActions.viewTeamDetails")})})]}):s.jsx("div",{className:"text-sm text-gray-400",children:l("salesActions.noTeamData")})]})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-xl font-semibold",children:l("salesActions.leaderboard")}),s.jsx("span",{className:"text-xs text-gray-400",children:l("salesActions.byAccounts")})]}),s.jsx(gUe,{columns:[l("Rank"),l("Team"),l("salesActions.accounts"),l("Conversion Rate"),l("Details")],align:["right","left","right","right","left"],rows:a.map(S=>[S.rank,s.jsx("button",{className:"text-blue-400 hover:underline",onClick:()=>{p({name:S.team}),u(!0)},children:S.team},`team-${S.team}`),S.accounts,S.conversion,s.jsx("button",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition text-xs",onClick:()=>c(`/reports/team?team=${encodeURIComponent(S.team)}&manager=All`),title:l("Details"),children:s.jsx(YQ,{className:"text-gray-200"})},`btn-${S.team}`)])})]}),s.jsx(vUe,{title:l("salesActions.monthlyReservationsSummary"),subtitle:l("salesActions.lastMonths",{months:Math.min(6,e.length)}),data:e}),d&&s.jsx(bAe,{onClose:()=>u(!1),team:f})]})},SUe=e=>String(e||"").trim().toLowerCase(),CUe=({leads:e=[],onExport:t,filters:a={},setFilters:r})=>{const{t:n}=Ct(),i=b=>r({...a,[b.target.name]:b.target.value}),l=e.filter(b=>{const j=!a.manager||(b.manager||"").toLowerCase().includes(a.manager.toLowerCase()),N=!a.employee||(b.employee||"").toLowerCase().includes(a.employee.toLowerCase()),k=!a.startDate||new Date(b.date||0)>=new Date(a.startDate),S=!a.endDate||new Date(b.date||0)<=new Date(a.endDate);return j&&N&&k&&S}),o=y.useMemo(()=>{const b={};return l.forEach(j=>{const N=j.employee||"Unassigned";b[N]||(b[N]={total:0,closed:0,inProgress:0,dept:j.manager||"-"}),b[N].total+=1;const k=SUe(j.stage||j.status);k==="closed"||k==="converted"?b[N].closed+=1:b[N].inProgress+=1}),b},[l]),c=l.length,d=Object.values(o).reduce((b,j)=>b+j.closed,0),u=y.useMemo(()=>{const b=Object.values(o);if(!b.length)return 0;const j=b.reduce((N,k)=>N+(k.total?k.closed/k.total*100:0),0)/b.length;return Math.round(j)},[o]),[f,p]=y.useState({key:"total",dir:"desc"}),m=b=>{const{key:j,dir:N}=f,k=N==="asc"?1:-1;return[...b].sort((S,C)=>{const _=S[j],P=C[j];return typeof _=="number"&&typeof P=="number"?(_-P)*k:String(_).localeCompare(String(P))*k})},v=y.useMemo(()=>{const b=Object.entries(o).map(([j,N])=>({name:j,dept:N.dept,total:N.total,inProgress:N.inProgress,closed:N.closed,conversion:N.total?Math.round(N.closed/N.total*100):0}));return m(b)},[o,f]),g=y.useMemo(()=>(v.reduce((b,j)=>b+j.total,0),v.map(b=>({label:b.name,value:b.total,color:void 0}))),[v]);return s.jsxs("div",{className:"space-y-6 my-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:n("Assigned Leads Report")}),s.jsx("button",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition",onClick:t,children:n("Export")})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[s.jsx("input",{name:"manager",className:"px-3 py-2 rounded-md border border-gray-700 bg-gray-800 text-gray-100",placeholder:n("Manager"),value:a.manager||"",onChange:i}),s.jsx("input",{name:"employee",className:"px-3 py-2 rounded-md border border-gray-700 bg-gray-800 text-gray-100",placeholder:n("Salesperson"),value:a.employee||"",onChange:i}),s.jsx("input",{name:"startDate",type:"date",className:"px-3 py-2 rounded-md border border-gray-700 bg-gray-800 text-gray-100",value:a.startDate||"",onChange:i}),s.jsx("input",{name:"endDate",type:"date",className:"px-3 py-2 rounded-md border border-gray-700 bg-gray-800 text-gray-100",value:a.endDate||"",onChange:i}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition",onClick:t,children:n("Export")})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"text-sm text-gray-400",children:n("Total Assigned Leads")}),s.jsx("div",{className:"text-2xl font-bold text-green-400",children:c})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"text-sm text-gray-400",children:n("Total Closed")}),s.jsx("div",{className:"text-2xl font-bold text-green-400",children:d})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"text-sm text-gray-400",children:n("Team Average Conversion %")}),s.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[u,"%"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("h3",{className:"text-lg font-semibold",children:n("Team Distribution")})}),s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b border-gray-800",children:[[{key:"name",label:n("Salesperson Name")},{key:"dept",label:n("Department / Region")},{key:"total",label:n("Total Leads Assigned")},{key:"inProgress",label:n("Leads in Progress")},{key:"closed",label:n("Leads Closed")},{key:"conversion",label:n("Conversion %")}].map(b=>s.jsx("th",{className:"px-3 py-2",children:s.jsx("button",{className:"inline-flex items-center gap-1 text-gray-200 hover:text-white",onClick:()=>p(j=>({key:b.key,dir:j.key===b.key&&j.dir==="asc"?"desc":"asc"})),title:n("Sort"),children:b.label})},b.key)),s.jsx("th",{className:"px-3 py-2",children:n("Details")})]})}),s.jsxs("tbody",{children:[v.map((b,j)=>s.jsxs("tr",{className:"border-t border-gray-800 hover:bg-gray-900",children:[s.jsx("td",{className:"px-3 py-2",children:b.name}),s.jsx("td",{className:"px-3 py-2",children:b.dept}),s.jsx("td",{className:"px-3 py-2 text-right",children:b.total}),s.jsx("td",{className:"px-3 py-2 text-right",children:b.inProgress}),s.jsx("td",{className:"px-3 py-2 text-right",children:b.closed}),s.jsxs("td",{className:"px-3 py-2 text-right",children:[b.conversion,"%"]}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("button",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition text-xs",title:n("View Details"),children:s.jsx(YQ,{className:"text-gray-200"})})})]},j)),v.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"px-3 py-3 text-center text-[var(--muted-text)]",colSpan:7,children:n("No data")})})]})]})})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("h3",{className:"text-lg font-semibold",children:n("Leads per Salesperson")})}),s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(ei,{segments:g,size:220,cutout:70,centerValue:v.reduce((b,j)=>b+j.total,0),centerLabel:n("Leads")})})]})]})]})},AUe={New:"#60a5fa",Contacted:"#34d399",Qualified:"#f59e0b",Proposal:"#a78bfa",Closed:"#22d3ee"},_Ue=({stages:e=[]})=>{const t=e.reduce((a,r)=>a+(r.count||0),0)||1;return s.jsx("div",{className:"space-y-3",children:e.map((a,r)=>{const n=Math.round((a.count||0)/t*100),i=a.color||AUe[a.label]||"#64748b";return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("div",{className:"text-sm text-gray-200",children:a.label}),s.jsxs("div",{className:"text-xs text-gray-400",children:[a.count,"  ",n,"%"]})]}),s.jsx("div",{className:"h-3 rounded-full bg-gray-800 overflow-hidden",children:s.jsx("div",{className:"h-full",style:{width:`${n}%`,backgroundColor:i}})})]},r)})})},mS=e=>String(e||"").trim().toLowerCase(),TUe=({leads:e=[]})=>{const{t}=Ct(),a=y.useMemo(()=>["All",...Array.from(new Set(e.map(C=>C.source).filter(Boolean)))],[e]),[r,n]=y.useState("All"),i=y.useMemo(()=>r==="All"?e:e.filter(C=>C.source===r),[e,r]),l=["new","contacted","qualified","proposal","closed"],o=y.useMemo(()=>{const C=Object.fromEntries(l.map(_=>[_,0]));return i.forEach(_=>{const P=mS(_.stage);P in C&&(C[P]=(C[P]||0)+1)}),C},[i]),c=i.length,d=o.qualified||0,u=o.closed||0,f=i.filter(C=>mS(C.status)==="lost").length,p=c>0?Math.round(u/c*100):0,m=c>0?Math.round(d/c*100):0,v=y.useMemo(()=>{const C=i.map(P=>{const L=P.createdAt?new Date(P.createdAt).getTime():null,U=P.lastContact?new Date(P.lastContact).getTime():null;return!L||!U?null:Math.max(0,(U-L)/36e5)}).filter(P=>P!=null);if(C.length===0)return 0;const _=C.reduce((P,L)=>P+L,0)/C.length;return Math.round(_)},[i]),g=y.useMemo(()=>{const C={};i.forEach(U=>{const z=U.source||"Unknown";C[z]||(C[z]={total:0,closed:0}),C[z].total+=1,mS(U.stage)==="closed"&&(C[z].closed+=1)});const _=Object.entries(C);if(_.length===0)return null;_.sort((U,z)=>z[1].closed-U[1].closed);const[P,L]=_[0];return{name:P,stats:L}},[i]),[b,j]=y.useState(!1),[N,k]=y.useState(null),S=C=>{k(C),j(!0)};return s.jsxs("div",{className:"space-y-6 my-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:t("Sales Leads Overview")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-400",children:t("Source")}),s.jsx("select",{value:r,onChange:C=>n(C.target.value),className:"px-3 py-2 rounded-md border border-gray-700 bg-gray-800 text-gray-100",children:a.map(C=>s.jsx("option",{value:C,children:C},C))})]})]}),s.jsx(_Ue,{stages:[{key:"new",label:t("New"),value:o.new},{key:"contacted",label:t("Contacted"),value:o.contacted},{key:"qualified",label:t("Qualified"),value:o.qualified},{key:"proposal",label:t("Proposal"),value:o.proposal},{key:"closed",label:t("Closed"),value:o.closed}]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"text-sm text-gray-400",children:t("Total Leads")}),s.jsx("div",{className:"text-2xl font-bold text-green-400",children:c})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"text-sm text-gray-400",children:t("Qualified Leads %")}),s.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[m,"%"]})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"text-sm text-gray-400",children:t("Average Response Time")}),s.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[v,"h"]})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"text-sm text-gray-400",children:t("Conversion Rate")}),s.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[p,"%"]})]}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsx("div",{className:"text-sm text-gray-400",children:t("Lost Leads")}),s.jsx("div",{className:"text-2xl font-bold text-green-400",children:f})]})]}),s.jsx("div",{className:"rounded-lg border border-gray-800 bg-[#0b1220] overflow-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-900",children:[s.jsx("th",{className:"px-3 py-2 text-left",children:t("Name")}),s.jsx("th",{className:"px-3 py-2 text-left",children:t("Phone")}),s.jsx("th",{className:"px-3 py-2 text-left",children:t("Source")}),s.jsx("th",{className:"px-3 py-2 text-left",children:t("Stage")}),s.jsx("th",{className:"px-3 py-2 text-left",children:t("Actions")})]})}),s.jsxs("tbody",{children:[i.map((C,_)=>s.jsxs("tr",{className:"border-t border-gray-800",children:[s.jsx("td",{className:"px-3 py-2",children:C.name||"-"}),s.jsx("td",{className:"px-3 py-2",children:C.phone||"-"}),s.jsx("td",{className:"px-3 py-2",children:C.source||"-"}),s.jsx("td",{className:"px-3 py-2",children:C.stage||"-"}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("button",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-md border border-gray-700 bg-gray-800 hover:bg-gray-700 transition text-xs",onClick:()=>S(C),children:t("View Lead Details")})})]},_)),i.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"px-3 py-3 text-center text-[var(--muted-text)]",colSpan:5,children:t("No leads")})})]})]})}),s.jsxs("div",{className:"p-4 md:p-6 rounded-xl border border-gray-800 bg-[#0b1220]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:t("Top-performing Source")}),s.jsx("span",{className:"text-xs text-gray-400",children:t("Based on closed leads")})]}),g?s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[s.jsx("span",{className:"px-2 py-1 rounded-md border border-gray-700 bg-gray-800",children:g.name}),s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Closed"),":"]}),s.jsx("span",{className:"font-semibold text-green-400",children:g.stats.closed}),s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Total"),":"]}),s.jsx("span",{className:"font-semibold",children:g.stats.total})]}):s.jsx("div",{className:"text-sm text-gray-400",children:t("No source data")})]}),b&&N&&s.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:s.jsxs("div",{className:"w-full max-w-lg rounded-xl border border-gray-700 bg-[#0b1220] p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:t("Lead Details")}),s.jsx("button",{className:"px-2 py-1 rounded-md border border-gray-700 hover:bg-gray-800",onClick:()=>j(!1),children:t("Close")})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Name"),":"]})," ",s.jsx("span",{className:"font-semibold",children:N.name})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Phone"),":"]})," ",s.jsx("span",{children:N.phone})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Source"),":"]})," ",s.jsx("span",{children:N.source})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Stage"),":"]})," ",s.jsx("span",{children:N.stage})]}),N.lastContact&&s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Last Contact"),":"]})," ",s.jsx("span",{children:new Date(N.lastContact).toLocaleString()})]}),N.createdAt&&s.jsxs("div",{children:[s.jsxs("span",{className:"text-[var(--muted-text)]",children:[t("Created At"),":"]})," ",s.jsx("span",{children:new Date(N.createdAt).toLocaleString()})]})]})]})})]})},p$=()=>new Promise(e=>{setTimeout(()=>{e({reservationData:fAe,callsData:mAe,teamsData:pAe,totalAccounts:xAe,leads:JSON.parse(localStorage.getItem("leads"))||[]})},1e3)}),EUe=()=>{const{t:e}=Ct(),[t,a]=y.useState("Sales Actions"),[r,n]=y.useState(!0),[i,l]=y.useState(null),[o,c]=y.useState({reservationData:[],callsData:[],teamsData:[],totalAccounts:0,leads:[]}),[d,u]=y.useState(new Date().toLocaleString()),[f,p]=y.useState(!1),[m,v]=y.useState({manager:"",employee:"",startDate:"",endDate:""});y.useEffect(()=>{n(!0),p$().then(j=>{c(j),n(!1)}).catch(j=>{l("Failed to fetch data"),n(!1)})},[]);const g=()=>{f||(p(!0),p$().then(j=>{c(j),u(new Date().toLocaleString()),p(!1)}).catch(j=>{l("Failed to fetch data"),p(!1)}))};y.useEffect(()=>{const j=N=>{N.key.toLowerCase()==="u"&&g()};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[f]);const b=()=>{const j=ea.json_to_sheet(o.leads),N=ea.book_new();ea.book_append_sheet(N,j,"Leads"),Nr(N,"leads-report.xlsx")};return r?s.jsx(Ht,{children:s.jsx("div",{children:"Loading..."})}):i?s.jsx(Ht,{children:s.jsx("div",{children:i})}):s.jsx(Ht,{children:s.jsxs("div",{className:"p-4 md:p-6 bg-[#0f172a] text-[#f1f5f9] rounded-lg shadow-lg",children:[s.jsxs("div",{className:"flex flex-col gap-2 md:flex-row items-start md:items-center md:justify-between",children:[s.jsx("div",{className:"self-start",children:s.jsx("h1",{className:"text-2xl font-semibold text-left",children:"Leads Report"})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-xs text-gray-400",children:[e("salesActions.lastUpdate"),": ",d]}),s.jsxs("button",{onClick:g,title:e("Update"),"aria-label":e("Update"),"aria-busy":f,"aria-disabled":f,disabled:f,className:"relative overflow-hidden inline-flex items-center gap-2 px-4 py-2 rounded-md border border-blue-500 bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/30 ring-1 ring-blue-400/40 hover:from-blue-500 hover:to-indigo-500 hover:shadow-blue-500/40 hover:scale-[1.02] active:scale-[0.98] transition disabled:opacity-60 disabled:cursor-not-allowed focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-blue-400",children:[f?s.jsx(yUe,{className:"w-4 h-4 animate-spin"}):s.jsx(jUe,{className:"w-4 h-4"}),e(f?"Updating...":"Update")]}),s.jsx("span",{className:"sr-only","aria-live":"polite",children:f?"Updating data":"Data up to date"})]})]}),s.jsx("div",{className:"mt-3 border-t border-gray-800"}),s.jsx("div",{className:"mt-4",children:s.jsx(gAe,{activeTab:t,setActiveTab:a})}),s.jsxs("div",{className:"mt-10",children:[t==="Sales Actions"&&s.jsx(kUe,{reservationData:o.reservationData,callsData:o.callsData,teamsData:o.teamsData,totalAccounts:o.totalAccounts,lastUpdate:d,onUpdate:g}),t==="Sales Leads"&&s.jsx(TUe,{leads:o.leads}),t==="Assigned Report"&&s.jsx(CUe,{leads:o.leads,onExport:b,filters:m,setFilters:v})]})]})})};function DUe(){const{t:e,i18n:t}=Ct(),a=t.language==="ar",[r,n]=y.useState("Overall"),i=y.useMemo(()=>["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((pe,Q)=>({day:pe,meetings:3+Q%4+(Q>3?2:0)})),[]),l=y.useMemo(()=>i.reduce((J,le)=>J+le.meetings,0),[i]),o=28,c=[{label:a?"":"WhatsApp",value:35,color:"#3b82f6"},{label:a?"":"Calls",value:15,color:"#8b5cf6"}],d=[{label:a?" ":"Project A",value:30,color:"#3b82f6"},{label:a?" ":"Project B",value:15,color:"#8b5cf6"}],u=[{name:"Alaa Mahamed",score:7},{name:"Mariam Salama",score:6},{name:"Mohamed Osama",score:6},{name:"Eman Anwar",score:6},{name:"Mohamed Mostafa",score:5}],f=({label:J,icon:le})=>s.jsxs("button",{className:`px-5 py-2 rounded-md text-sm font-semibold transition-all inline-flex items-center gap-2 ${r===J?"bg-primary text-white shadow-lg ring-1 ring-primary/50":"btn-glass"}`,onClick:()=>n(J),children:[le&&s.jsx("span",{className:"text-base",children:le}),s.jsx("span",{children:J})]}),p=({title:J,desc:le,icon:pe})=>s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[pe&&s.jsx("span",{className:"text-primary",children:pe}),s.jsx("h3",{className:"text-lg font-semibold",children:J})]}),le&&s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:le})]}),m=({title:J,value:le,icon:pe})=>s.jsxs("div",{className:"glass-panel rounded-xl p-4 h-full",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsxs("div",{className:"inline-flex items-center gap-2",children:[pe&&s.jsx("span",{className:"w-7 h-7 rounded-full bg-primary/10 text-primary flex items-center justify-center",children:pe}),s.jsx("span",{className:"text-sm text-[var(--muted-text)]",children:J})]})}),s.jsx("div",{className:"text-3xl font-bold",children:le})]}),[v,g]=y.useState(10),[b,j]=y.useState(1),[N,k]=y.useState({key:"name",dir:"asc"}),[S,C]=y.useState(!1),[_,P]=y.useState({salesman:"",project:"",dateFrom:"",dateTo:""}),[L,U]=y.useState([]),z=y.useMemo(()=>[{date:"2025-11-01",status:"arranged"},{date:"2025-11-02",status:"arranged"},{date:"2025-11-03",status:"done"},{date:"2025-11-04",status:"arranged"},{date:"2025-11-05",status:"done"},{date:"2025-11-06",status:"done"},{date:"2025-11-07",status:"arranged"}],[]),T=J=>{const le=_.dateFrom?new Date(_.dateFrom):null,pe=_.dateTo?new Date(_.dateTo):null,Q=new Date(J),xe=le?Q>=le:!0,he=pe?Q<=pe:!0;return xe&&he},F=y.useMemo(()=>z.filter(J=>J.status==="arranged"&&T(J.date)).length,[z,_]),M=y.useMemo(()=>z.filter(J=>J.status==="done"&&T(J.date)).length,[z,_]),I=y.useMemo(()=>[{date:"2025-11-01",name:"Abdullah Saleh",mobile:"1004******",meetings:1,project:"Crown Medical Center",salesman:"Mohamed"},{date:"2025-11-01",name:"",mobile:"1095******",meetings:1,project:"Crown Medical Center",salesman:"Mohamed"},{date:"2025-11-02",name:"Mohamed Zayed",mobile:"1012******",meetings:1,project:"Crown Plaza Mall",salesman:"Mohamed"},{date:"2025-11-02",name:"",mobile:"1094******",meetings:1,project:"Crown Plaza Mall",salesman:"Mina M"},{date:"2025-11-03",name:"ayman Shafie",mobile:"1033******",meetings:1,project:"Crown Medical Center",salesman:"Eman A"},{date:"2025-11-03",name:"Shady",mobile:"1005******",meetings:1,project:"Crown Plaza Mall",salesman:"Eman A"},{date:"2025-11-04",name:" ",mobile:"1147128208",meetings:1,project:"Crown Plaza Mall",salesman:"Mohamed"},{date:"2025-11-04",name:"Rawan Ahmed",mobile:"1006******",meetings:2,project:"Crown Medical Center",salesman:"Hossam"},{date:"2025-11-05",name:"Layla Saad",mobile:"1011******",meetings:1,project:"Crown Plaza Mall",salesman:"Khaled"},{date:"2025-11-06",name:"Omar Nabil",mobile:"1009******",meetings:3,project:"Crown Medical Center",salesman:"Nour"},{date:"2025-11-06",name:"Heba Adel",mobile:"1010******",meetings:1,project:"Crown Medical Center",salesman:"Mariam"}],[]),W=y.useMemo(()=>I.filter(J=>{const le=_.salesman?String(J.salesman).toLowerCase().includes(String(_.salesman).toLowerCase().trim()):!0,pe=_.project?String(J.project).toLowerCase().includes(String(_.project).toLowerCase().trim()):!0,Q=_.dateFrom?J.date>=_.dateFrom:!0,xe=_.dateTo?J.date<=_.dateTo:!0;return le&&pe&&(Q&&xe)}),[I,_]),R=y.useMemo(()=>{const J=[...W];return J.sort((le,pe)=>{const Q=le[N.key],xe=pe[N.key];return typeof Q=="number"&&typeof xe=="number"?N.dir==="asc"?Q-xe:xe-Q:N.dir==="asc"?String(Q).localeCompare(String(xe)):String(xe).localeCompare(String(Q))}),J},[W,N]),q=Math.max(1,Math.ceil(R.length/v)),ae=y.useMemo(()=>{const J=(b-1)*v;return R.slice(J,J+v)},[R,b,v]),te=J=>`${J.name}|${J.mobile}`,K=y.useMemo(()=>ae.length>0&&ae.every(J=>L.includes(te(J))),[ae,L]),oe=J=>{const le=ae.map(te);U(J?pe=>Array.from(new Set([...pe,...le])):pe=>pe.filter(Q=>!le.includes(Q)))},D=J=>k(le=>({key:J,dir:le.key===J&&le.dir==="asc"?"desc":"asc"})),G=()=>{const J=ea.json_to_sheet(R),le=ea.book_new();ea.book_append_sheet(le,J,"Meetings"),Nr(le,"meetings_list.xlsx")},[H,X]=y.useState("Day"),se=[{name:"Amany Gamal",score:1}],ie=[{salesman:"Amany Gamal",date:"11-01-2024 06:02 PM",location:"#"}],ne=y.useMemo(()=>ie.filter(J=>{const le=_.salesman?String(J.salesman).toLowerCase().includes(String(_.salesman).toLowerCase()):!0,pe=_.dateFrom?_.dateFrom:"",Q=_.dateTo?_.dateTo:"",xe=J.date?.split(" ")[0]||"",he=ce=>ce?ce.split("-").reverse().join("-"):"",ue=he(xe),Le=he(pe),ze=he(Q),Ce=(Le?ue>=Le:!0)&&(ze?ue<=ze:!0);return le&&Ce}),[ie,_]);return s.jsx(Ht,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between relative",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Meetings Report")}),s.jsxs("button",{onClick:()=>C(J=>!J),className:"btn btn-glass inline-flex items-center gap-2",children:[s.jsx(Yde,{className:"text-base"}),s.jsx("span",{children:e("Filter")})]}),S&&s.jsxs("div",{className:"absolute right-0 top-full mt-2 z-20 glass-panel rounded-xl p-4 w-80 shadow-lg",children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:a?" ":"Filter Data"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"text-xs mb-1 block",children:a?" ":"Salesman"}),s.jsx("input",{value:_.salesman,onChange:J=>P(le=>({...le,salesman:J.target.value})),className:"input w-full text-sm",placeholder:a?" ":"Type name"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"text-xs mb-1 block",children:a?"":"Project"}),s.jsx("input",{value:_.project,onChange:J=>P(le=>({...le,project:J.target.value})),className:"input w-full text-sm",placeholder:a?" ":"Type project"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs mb-1 block",children:a?" ":"From Date"}),s.jsx("input",{type:"date",value:_.dateFrom,onChange:J=>P(le=>({...le,dateFrom:J.target.value})),className:"input w-full text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs mb-1 block",children:a?" ":"To Date"}),s.jsx("input",{type:"date",value:_.dateTo,onChange:J=>P(le=>({...le,dateTo:J.target.value})),className:"input w-full text-sm"})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"btn btn-glass",onClick:()=>P({salesman:"",project:"",dateFrom:"",dateTo:""}),children:a?"":"Clear"}),s.jsx("button",{className:"btn bg-primary text-white",onClick:()=>C(!1),children:a?"":"Apply"})]})]})]}),s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("reports.meetings.desc")}),s.jsx("div",{className:"h-3"}),s.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.jsx(f,{label:"Overall",icon:s.jsx(NA,{})}),s.jsx(f,{label:"Checkin",icon:s.jsx(Vde,{})})]}),s.jsx("div",{className:"h-3"}),r==="Overall"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4 lg:col-span-2",children:[s.jsx(p,{title:a?"  ":"Meeting Over time"}),s.jsx("div",{className:"h-56",children:s.jsx(Jw,{width:"100%",height:"100%",children:s.jsxs(W6,{data:i,children:[s.jsx($6,{strokeDasharray:"3 3"}),s.jsx(M1,{dataKey:"day"}),s.jsx(P1,{allowDecimals:!1}),s.jsx(mj,{}),s.jsx(wj,{type:"monotone",dataKey:"meetings",stroke:"#3b82f6",strokeWidth:2,dot:{r:3}})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsx(m,{title:a?" ":"Total Of Meetings",value:l,icon:""}),s.jsx(m,{title:a?"  ":"Total Of Leads",value:o,icon:""}),s.jsx(m,{title:a?"  Arrange Meetings":"Arrange Meetings Count",value:F,icon:""}),s.jsx(m,{title:a?"  Done Meetings":"Done Meetings Count",value:M,icon:""})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:a?"":"Channels"}),s.jsx("div",{className:"flex items-center justify-center h-48",children:s.jsx(ei,{segments:c,centerValue:c.reduce((J,le)=>J+le.value,0),centerLabel:a?"":"Total",size:180})})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:a?"":"Projects"}),s.jsx("div",{className:"flex items-center justify-center h-48",children:s.jsx(ei,{segments:d,centerValue:d.reduce((J,le)=>J+le.value,0),centerLabel:a?"":"Total",size:180})})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:a?"":"The Best"}),s.jsx("button",{className:"btn-glass px-2 py-1 rounded-md text-xs",children:"All "})]}),s.jsx("div",{className:"space-y-2",children:u.map((J,le)=>s.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${le===0?"bg-yellow-100 dark:bg-yellow-900/30":"bg-transparent"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 text-primary flex items-center justify-center text-xs",children:le+1}),s.jsx("div",{className:"text-sm",children:J.name})]}),s.jsx("div",{className:"text-sm font-semibold",children:J.score})]},le))})]})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:a?" ":"Data List"}),s.jsx("button",{onClick:G,className:"btn btn-glass",children:a?" ":"Export List"})]}),s.jsx("div",{className:"text-sm text-[var(--muted-text)] mb-3",children:a?"     .":"Manage your team members and their account permissions here."}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left",children:s.jsx("input",{type:"checkbox","aria-label":"select all",checked:K,onChange:J=>oe(J.target.checked)})}),s.jsxs("th",{className:"px-3 py-2 text-left cursor-pointer",onClick:()=>D("name"),children:[a?"":"Lead"," ",N.key==="name"?N.dir==="asc"?"":"":""]}),s.jsxs("th",{className:"px-3 py-2 text-left cursor-pointer",onClick:()=>D("mobile"),children:[a?"":"Mobile"," ",N.key==="mobile"?N.dir==="asc"?"":"":""]}),s.jsxs("th",{className:"px-3 py-2 text-left cursor-pointer",onClick:()=>D("meetings"),children:[a?" ":"Number Of Meetings"," ",N.key==="meetings"?N.dir==="asc"?"":"":""]}),s.jsxs("th",{className:"px-3 py-2 text-left cursor-pointer",onClick:()=>D("project"),children:[a?"":"Project"," ",N.key==="project"?N.dir==="asc"?"":"":""]}),s.jsxs("th",{className:"px-3 py-2 text-left cursor-pointer",onClick:()=>D("salesman"),children:[a?"":"Salesman"," ",N.key==="salesman"?N.dir==="asc"?"":"":""]})]})}),s.jsx("tbody",{children:ae.map((J,le)=>s.jsxs(Bn.Fragment,{children:[s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-3 py-2",children:s.jsx("input",{type:"checkbox","aria-label":"select row",checked:L.includes(te(J)),onChange:pe=>{const Q=te(J);U(xe=>pe.target.checked?Array.from(new Set([...xe,Q])):xe.filter(he=>he!==Q))}})}),s.jsx("td",{className:"px-3 py-2",children:J.name}),s.jsx("td",{className:"px-3 py-2",children:J.mobile}),s.jsx("td",{className:"px-3 py-2",children:J.meetings}),s.jsx("td",{className:"px-3 py-2",children:J.project}),s.jsx("td",{className:"px-3 py-2",children:J.salesman})]}),le!==ae.length-1&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"py-2"})})]},le))})]})}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("label",{children:a?"":"Show Entries"}),s.jsxs("select",{value:v,onChange:J=>{g(Number(J.target.value)),j(1)},className:"input text-sm",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:20,children:"20"}),s.jsx("option",{value:50,children:"50"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{disabled:b===1,onClick:()=>j(J=>Math.max(1,J-1)),className:"btn btn-glass",children:a?"":"Previous"}),s.jsx("div",{className:"px-3 py-1 rounded-md bg-gray-200 dark:bg-gray-700 text-sm",children:b}),s.jsx("button",{disabled:b===q,onClick:()=>j(J=>Math.min(q,J+1)),className:"btn btn-glass",children:a?"":"Next"})]})]})]})]}),r==="Checkin"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:a?" ":"Check In"}),s.jsx("div",{className:"text-sm text-[var(--muted-text)] mb-3",children:a?"    .":"Manage your team members and their account permissions here."}),s.jsx("div",{className:"flex items-center gap-3",children:["Day","Weekly","Monthly","Year"].map(J=>s.jsx("button",{onClick:()=>X(J),className:`px-3 py-1 rounded-md text-sm ${H===J?"bg-primary text-white":"btn-glass"}`,children:a?{Day:"",Weekly:"",Monthly:"",Year:""}[J]:J},J))}),s.jsx("div",{className:"h-56 mt-3",children:s.jsx(Jw,{width:"100%",height:"100%",children:s.jsxs(W6,{data:i,children:[s.jsx($6,{strokeDasharray:"3 3"}),s.jsx(M1,{dataKey:"day"}),s.jsx(P1,{allowDecimals:!1}),s.jsx(mj,{}),s.jsx(wj,{type:"monotone",dataKey:"meetings",stroke:"#3b82f6",strokeWidth:2,dot:!1})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsx("div",{className:"lg:col-span-2 space-y-4",children:s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:a?" ":"Data List"}),s.jsx("div",{className:"text-sm text-[var(--muted-text)] mb-3",children:a?"    .":"Manage your team members and their account permissions here."}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left",children:s.jsx("input",{type:"checkbox","aria-label":"select all"})}),s.jsx("th",{className:"px-3 py-2 text-left",children:a?" ":"Salesman"}),s.jsx("th",{className:"px-3 py-2 text-left",children:a?"  ":"Check In Date"}),s.jsx("th",{className:"px-3 py-2 text-left",children:a?"":"Location"})]})}),s.jsx("tbody",{children:ne.map((J,le)=>s.jsxs(Bn.Fragment,{children:[s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-3 py-2",children:s.jsx("input",{type:"checkbox","aria-label":"select row"})}),s.jsx("td",{className:"px-3 py-2",children:J.salesman}),s.jsx("td",{className:"px-3 py-2",children:J.date}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("a",{href:J.location,className:"text-primary",children:a?"":"Location"})})]}),le!==ne.length-1&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"py-2"})})]},le))})]})}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsx("div",{className:"text-sm",children:a?" 1":"Show Entries 1"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-glass",disabled:!0,children:"Previous"}),s.jsx("div",{className:"px-3 py-1 rounded-md bg-gray-200 dark:bg-gray-700 text-sm",children:"1"}),s.jsx("button",{className:"btn btn-glass",disabled:!0,children:"Next"})]})]})]})}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:a?"":"The Best"}),s.jsx("button",{className:"btn-glass px-2 py-1 rounded-md text-xs",children:"All "})]}),s.jsx("div",{className:"space-y-2",children:se.map((J,le)=>s.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${le===0?"bg-yellow-100 dark:bg-yellow-900/30":"bg-transparent"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 text-primary flex items-center justify-center text-xs",children:le+1}),s.jsx("div",{className:"text-sm",children:J.name})]}),s.jsx("div",{className:"text-sm font-semibold",children:J.score})]},le))})]})]})]})]})})}Cs.register(_n,Tn,Un,pl,ai,cn,on);const MUe=()=>{const{t:e}=Ct(),t=$r.dir()==="rtl",a=[{id:1,fileName:"clients_nov.csv",department:"Customers",performedBy:"Ahmed Ali",manager:"Maram Admin",dateTime:"2025-11-09T08:45:00",status:"Success",notes:""},{id:2,fileName:"orders_oct.xlsx",department:"Orders",performedBy:"Sara Hassan",manager:"Maram Admin",dateTime:"2025-11-08T15:10:00",status:"Failed",notes:"Missing column Order ID"},{id:3,fileName:"inventory_11_07.csv",department:"Inventory",performedBy:"Omar Ali",manager:"Maram Admin",dateTime:"2025-11-07T10:05:00",status:"Success",notes:""},{id:4,fileName:"leads_batch_oct.xlsx",department:"Leads",performedBy:"Mona Adel",manager:"Maram Admin",dateTime:"2025-11-06T13:30:00",status:"Success",notes:""},{id:5,fileName:"marketing_campaigns.csv",department:"Marketing",performedBy:"Ahmed Ali",manager:"Maram Admin",dateTime:"2025-11-05T09:15:00",status:"Failed",notes:"Unsupported date format in column Start Date"}],[r,n]=y.useState(a),[i,l]=y.useState("all"),[o,c]=y.useState("all"),[d,u]=y.useState("all"),[f,p]=y.useState("day"),[m,v]=y.useState(""),[g,b]=y.useState(""),[j,N]=y.useState(""),[k,S]=y.useState(""),[C,_]=y.useState(""),[P,L]=y.useState(!1),[U,z]=y.useState(null),[T,F]=y.useState("Customers"),[M,I]=y.useState("Ahmed Ali"),[W,R]=y.useState("Maram Admin"),[q,ae]=y.useState("Success"),[te,K]=y.useState(""),oe=y.useMemo(()=>Array.from(new Set(r.map(ce=>ce.department))),[r]),D=y.useMemo(()=>Array.from(new Set(r.map(ce=>ce.manager))),[r]),G=y.useMemo(()=>Array.from(new Set(r.map(ce=>ce.performedBy))),[r]),H=ce=>{const Ie=new Date(Date.UTC(ce.getFullYear(),ce.getMonth(),ce.getDate())),we=Ie.getUTCDay()||7;Ie.setUTCDate(Ie.getUTCDate()+4-we);const $e=new Date(Date.UTC(Ie.getUTCFullYear(),0,1)),Be=Math.ceil(((Ie-$e)/864e5+1)/7);return`${Ie.getUTCFullYear()}-W${String(Be).padStart(2,"0")}`},X=ce=>{if(!f)return!0;if(f==="day")return!m||new Date(ce).toISOString().slice(0,10)===m;if(f==="week")return!g||H(new Date(ce))===g;if(f==="month")return!j||new Date(ce).toISOString().slice(0,7)===j;if(f==="range"){const Ie=new Date(ce),we=k?Ie>=new Date(k):!0,$e=C?Ie<=new Date(C):!0;return we&&$e}return!0},se=y.useMemo(()=>r.filter(ce=>{const Ie=i==="all"||ce.manager===i,we=o==="all"||ce.performedBy===o,$e=d==="all"||ce.department===d,Be=X(ce.dateTime);return Ie&&we&&$e&&Be}),[r,i,o,d,f,m,g,j,k,C]),ie=se.length,ne=se.filter(ce=>ce.status==="Success").length,J=se.filter(ce=>ce.status==="Failed").length,le=y.useMemo(()=>{const ce=new Map;return se.forEach(Ie=>{ce.set(Ie.department,(ce.get(Ie.department)||0)+1)}),ce},[se]),pe=y.useMemo(()=>({Success:ne,Failed:J}),[ne,J]),Q=y.useMemo(()=>{const ce=new Map;se.forEach(we=>{const $e=new Date(we.dateTime).toISOString().slice(0,10);ce.set($e,(ce.get($e)||0)+1)});const Ie=Array.from(ce.entries()).sort((we,$e)=>we[0].localeCompare($e[0]));return{labels:Ie.map(we=>we[0]),counts:Ie.map(we=>we[1])}},[se]),xe=ce=>{const Ie={id:r.length?Math.max(...r.map(we=>we.id))+1:1,...ce,dateTime:ce.dateTime||new Date().toISOString()};n(we=>[Ie,...we])},he=ce=>{ce.preventDefault(),U&&(xe({fileName:U.name,department:T,performedBy:M,manager:W,status:q,notes:te||""}),L(!1),z(null),K(""),ae("Success"))},ue=ce=>{xe({fileName:ce.fileName,department:ce.department,performedBy:ce.performedBy,manager:ce.manager,status:"Success",notes:"Re-run completed successfully"})},Le=()=>{const ce=se.map($e=>({FileName:$e.fileName,Department:$e.department,PerformedBy:$e.performedBy,Manager:$e.manager,DateTime:new Date($e.dateTime).toLocaleString(),Status:$e.status,Notes:$e.notes||""})),Ie=ea.json_to_sheet(ce),we=ea.book_new();ea.book_append_sheet(we,Ie,"Imports"),Nr(we,"imports_report.xlsx")},ze=()=>window.print(),Ce=({status:ce})=>s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${ce==="Success"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300"}`,children:e(ce==="Success"?"Success":"Failed")});return s.jsxs(Ht,{children:[s.jsx("div",{className:"mb-4",children:s.jsx("h1",{className:"text-2xl font-bold",children:t?" ":"Imports Report"})}),s.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[s.jsx("button",{onClick:ze,className:"btn btn-primary",children:e("Download PDF","Download PDF")}),s.jsx("button",{onClick:Le,className:"btn btn-secondary",children:e("Download Excel","Download Excel")}),s.jsxs("button",{onClick:()=>L(!0),className:"btn btn-accent inline-flex items-center gap-2",children:[s.jsx(hP,{})," ",e("Import","Import")]})]}),s.jsx("div",{className:"glass-panel p-4",children:s.jsx("div",{className:"flex items-center justify-between flex-wrap gap-3",children:s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Manager","Manager")}),s.jsxs("select",{value:i,onChange:ce=>l(ce.target.value),className:"input min-w-[160px]",children:[s.jsx("option",{value:"all",children:e("All","All")}),D.map(ce=>s.jsx("option",{value:ce,children:ce},ce))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Employee","Employee")}),s.jsxs("select",{value:o,onChange:ce=>c(ce.target.value),className:"input min-w-[160px]",children:[s.jsx("option",{value:"all",children:e("All","All")}),G.map(ce=>s.jsx("option",{value:ce,children:ce},ce))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Department","Department")}),s.jsxs("select",{value:d,onChange:ce=>u(ce.target.value),className:"input min-w-[140px]",children:[s.jsx("option",{value:"all",children:e("All","All")}),oe.map(ce=>s.jsx("option",{value:ce,children:ce},ce))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Date Filter")}),s.jsxs("select",{value:f,onChange:ce=>p(ce.target.value),className:"input min-w-[160px]",children:[s.jsx("option",{value:"day",children:e("Day")}),s.jsx("option",{value:"week",children:e("Week")}),s.jsx("option",{value:"month",children:e("Month")}),s.jsx("option",{value:"range",children:e("Custom Range")})]})]}),f==="day"&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Date")}),s.jsx("input",{type:"date",value:m,onChange:ce=>v(ce.target.value),className:"input"})]}),f==="week"&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Week")}),s.jsx("input",{type:"week",value:g,onChange:ce=>b(ce.target.value),className:"input"})]}),f==="month"&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Month")}),s.jsx("input",{type:"month",value:j,onChange:ce=>N(ce.target.value),className:"input"})]}),f==="range"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("From")}),s.jsx("input",{type:"date",value:k,onChange:ce=>S(ce.target.value),className:"input"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("To")}),s.jsx("input",{type:"date",value:C,onChange:ce=>_(ce.target.value),className:"input"})]})]})]})})}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:e("Total Imports"),value:ie,color:"bg-blue-500"},{label:e("Successful"),value:ne,color:"bg-emerald-500"},{label:e("Failed"),value:J,color:"bg-rose-500"}].map((ce,Ie)=>s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:ce.label}),s.jsx("div",{className:"mt-1 text-2xl font-semibold",children:ce.value}),s.jsx("div",{className:`mt-2 h-1.5 rounded ${ce.color}`})]},Ie))}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Imports per Department")}),s.jsx(Ir,{data:{labels:Array.from(le.keys()),datasets:[{label:e("Imports"),data:Array.from(le.values()),backgroundColor:"rgba(59, 130, 246, 0.6)",borderRadius:6}]},options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{ticks:{callback:ce=>`${ce}`}}}}})]}),s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Success vs Failed")}),s.jsx(ei,{segments:[{label:e("Success"),value:pe.Success,color:"#10b981"},{label:e("Failed"),value:pe.Failed,color:"#ef4444"}],totalLabel:e("Imports")})]}),s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Imports Over Time")}),s.jsx(lo,{data:{labels:Q.labels,datasets:[{label:e("Imports"),data:Q.counts,borderColor:"rgba(16, 185, 129, 0.9)",backgroundColor:"transparent",tension:.3,pointRadius:2}]},options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{ticks:{callback:ce=>`${ce}`}}}}})]})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm font-medium mb-3",children:e("Import Logs")}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm nova-table nova-table--glass",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left bg-[var(--table-header-bg)]",children:[s.jsx("th",{className:"px-3 py-2",children:e("File Name")}),s.jsx("th",{className:"px-3 py-2",children:e("Department")}),s.jsx("th",{className:"px-3 py-2",children:e("Performed By")}),s.jsx("th",{className:"px-3 py-2",children:e("Date & Time")}),s.jsx("th",{className:"px-3 py-2",children:e("Status")}),s.jsx("th",{className:"px-3 py-2",children:e("Notes / Errors")}),s.jsx("th",{className:"px-3 py-2",children:e("Action")})]})}),s.jsxs("tbody",{children:[se.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-3 py-6 text-center text-[var(--muted-text)]",children:e("No data")})}),se.map(ce=>s.jsxs("tr",{className:"border-t border-[var(--table-row-border)] odd:bg-[var(--table-row-bg)] hover:bg-[var(--table-row-hover)] transition-colors",children:[s.jsx("td",{className:"px-3 py-2",children:ce.fileName}),s.jsx("td",{className:"px-3 py-2",children:ce.department}),s.jsxs("td",{className:"px-3 py-2",children:[ce.performedBy," ",s.jsxs("span",{className:"text-[var(--muted-text)]",children:["(",ce.manager,")"]})]}),s.jsx("td",{className:"px-3 py-2",children:new Date(ce.dateTime).toLocaleString()}),s.jsx("td",{className:"px-3 py-2",children:s.jsx(Ce,{status:ce.status})}),s.jsx("td",{className:"px-3 py-2",children:ce.notes||""}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("div",{className:"flex items-center gap-2",children:ce.status==="Failed"&&s.jsxs("button",{onClick:()=>ue(ce),className:"btn btn-glass inline-flex items-center gap-1",children:[s.jsx(kA,{})," ",e("Re-run")]})})})]},ce.id))]})]})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),P&&s.jsxs("div",{className:"fixed inset-0 z-40 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>L(!1)}),s.jsxs("form",{onSubmit:he,className:"relative z-50 glass-panel rounded-xl p-4 w-[560px] max-w-[95vw]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:e("New Import")}),s.jsx("button",{type:"button",className:"btn btn-glass",onClick:()=>L(!1),children:e("Close")})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("File")}),s.jsx("input",{type:"file",onChange:ce=>z(ce.target.files?.[0]||null),className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Department")}),s.jsx("select",{value:T,onChange:ce=>F(ce.target.value),className:"input",children:oe.map(ce=>s.jsx("option",{value:ce,children:ce},ce))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Performed By")}),s.jsx("select",{value:M,onChange:ce=>I(ce.target.value),className:"input",children:G.map(ce=>s.jsx("option",{value:ce,children:ce},ce))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Manager")}),s.jsx("select",{value:W,onChange:ce=>R(ce.target.value),className:"input",children:D.map(ce=>s.jsx("option",{value:ce,children:ce},ce))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Result")}),s.jsxs("select",{value:q,onChange:ce=>ae(ce.target.value),className:"input",children:[s.jsx("option",{value:"Success",children:e("Success")}),s.jsx("option",{value:"Failed",children:e("Failed")})]})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Notes / Errors")}),s.jsx("textarea",{value:te,onChange:ce=>K(ce.target.value),className:"input",rows:3,placeholder:e("Optional","Optional")})]})]}),s.jsx("div",{className:"mt-3 flex items-center justify-end gap-2",children:s.jsxs("button",{type:"submit",className:"btn btn-primary inline-flex items-center gap-2",children:[s.jsx(hP,{})," ",e("Import")]})})]})]})]})};Cs.register(_n,Tn,pl,ai,Un,Dm,Sx,cn,on);const x$=()=>{const{t:e}=Ct(),t=$r.dir()==="rtl",[a,r]=y.useState(""),[n,i]=y.useState(10),[l,o]=y.useState(1),[c,d]=y.useState(!1),[u,f]=y.useState(null),[p,m]=y.useState(!1),[v,g]=y.useState("All"),[b,j]=y.useState("All"),[N,k]=y.useState("All"),[S,C]=y.useState("month"),[_,P]=y.useState(""),[L,U]=y.useState(""),[z,T]=y.useState(""),F=["All","Ahmed Ali","Sara Hassan"],M=["All","Maram Admin","Ibrahim Manager","Lina Ops"],I=["All","Customers","Orders","Sales","Inventory"],[W,R]=y.useState(()=>{const Ce=new Date,ce=(Ie,we,$e,Be,ft,Ke)=>({fileName:Ie,department:we,performedBy:$e,timestamp:new Date(Ce.getTime()-Be*24*60*60*1e3),status:ft,notes:Ke});return[ce("clients_nov.csv","Customers","Ahmed Ali",0,"Success",""),ce("orders_oct.xlsx","Orders","Sara Hassan",1,"Failed","Connection timeout"),ce("sales_week_44.xlsx","Sales","Maram Admin",3,"Success",""),ce("inventory_snapshot.csv","Inventory","Lina Ops",6,"Failed","Auth token expired"),ce("clients_oct.csv","Customers","Ahmed Ali",8,"Success",""),ce("orders_sep.xlsx","Orders","Ibrahim Manager",11,"Success",""),ce("sales_q3.xlsx","Sales","Maram Admin",15,"Failed","Network drop")]}),[q,ae]=y.useState(()=>[]),te=(Ce,ce,Ie,we,$e,Be="")=>{ae(ft=>[{id:`${Date.now()}_${Math.random().toString(36).slice(2)}`,action:Ce,status:ce,fileName:Ie,user:we,department:$e,timestamp:new Date,notes:Be},...ft])},K=y.useMemo(()=>{const Ce=W.length,ce=W.filter(we=>we.status==="Success").length,Ie=W.filter(we=>we.status==="Failed").length;return{total:Ce,success:ce,failed:Ie}},[W]),oe=(Ce,ce)=>Ce.getFullYear()===ce.getFullYear()&&Ce.getMonth()===ce.getMonth()&&Ce.getDate()===ce.getDate(),D=(Ce,ce)=>{const Ie=new Date(ce),we=(Ce-Ie)/(1e3*60*60*24);return Math.abs(we)<=3},G=(Ce,ce)=>Ce.getFullYear()===ce.getFullYear()&&Ce.getMonth()===ce.getMonth(),H=y.useMemo(()=>{let Ce=W;if(a&&(Ce=Ce.filter(ce=>ce.fileName.toLowerCase().includes(a.toLowerCase()))),v!=="All"&&(Ce=Ce.filter(ce=>ce.performedBy===v)),b!=="All"&&(Ce=Ce.filter(ce=>ce.performedBy===b)),N!=="All"&&(Ce=Ce.filter(ce=>ce.department===N)),S==="day"&&_){const ce=new Date(_);Ce=Ce.filter(Ie=>oe(Ie.timestamp,ce))}if(S==="week"&&_){const ce=new Date(_);Ce=Ce.filter(Ie=>D(Ie.timestamp,ce))}if(S==="month"&&_){const ce=new Date(_);Ce=Ce.filter(Ie=>G(Ie.timestamp,ce))}if(S==="range"&&L&&z){const ce=new Date(L),Ie=new Date(z);Ce=Ce.filter(we=>we.timestamp>=ce&&we.timestamp<=Ie)}return Ce},[W,a,v,b,N,S,_,L,z]),X=Math.max(1,Math.ceil(H.length/n)),se=y.useMemo(()=>{const Ce=(l-1)*n;return H.slice(Ce,Ce+n)},[H,l,n]),ie=Ce=>{const ce=`File Name,Department,Performed By,Date & Time,Status,Notes
${Ce.fileName},${Ce.department},${Ce.performedBy},${Ce.timestamp.toLocaleString()},${Ce.status},${Ce.notes||""}`,Ie=new Blob([ce],{type:"text/csv;charset=utf-8;"}),we=URL.createObjectURL(Ie),$e=document.createElement("a");$e.href=we;const Be=Ce.fileName?.replace(/\.(xlsx|csv)$/i,".csv")||"export.csv";$e.download=Be,document.body.appendChild($e),$e.click(),document.body.removeChild($e),URL.revokeObjectURL(we),te("Download Row","Success",Ce.fileName,Ce.performedBy,Ce.department,"")},ne=Ce=>{R(ce=>{const Ie=[...ce],we={...Ie[Ce]},$e=Math.random()<.7;return we.status=$e?"Success":"Failed",we.notes=$e?"":"Retry failed",Ie[Ce]=we,te("Re-run Export",we.status,we.fileName,we.performedBy,we.department,we.notes),Ie})},J=()=>{const Ce=H.map(we=>({"File Name":we.fileName,Department:we.department,"Performed By":we.performedBy,"Date & Time":we.timestamp.toLocaleString(),Status:we.status,"Notes / Errors":we.notes||""})),ce=ea.json_to_sheet(Ce),Ie=ea.book_new();ea.book_append_sheet(Ie,ce,"Exports"),Nr(Ie,"exports_report.xlsx"),te("Export Excel","Success","exports_report.xlsx","System",N==="All"?"Mixed":N)},le=()=>{const Ce=new fa("l","pt","a4");Ce.setFontSize(14),Ce.text(t?" ":"Exports Report",40,40);const ce=[[t?" ":"File Name",t?"":"Department",t?" ":"Performed By",t?" ":"Date & Time",t?"":"Status",t?"":"Notes"]],Ie=H.map(we=>[we.fileName,we.department,we.performedBy,we.timestamp.toLocaleString(),we.status,we.notes||""]);Ce.autoTable({head:ce,body:Ie,startY:60}),Ce.save("exports_report.pdf"),te("Export PDF","Success","exports_report.pdf","System",N==="All"?"Mixed":N)},pe=y.useMemo(()=>{const Ce=new Map;H.forEach(we=>Ce.set(we.department,(Ce.get(we.department)||0)+1));const ce=Array.from(Ce.keys()),Ie=ce.map(we=>Ce.get(we));return{labels:ce,data:Ie}},[H]),Q=y.useMemo(()=>{const Ce=H.filter(Ie=>Ie.status==="Success").length,ce=H.filter(Ie=>Ie.status==="Failed").length;return{success:Ce,failed:ce}},[H]),xe=y.useMemo(()=>{const Ce=$e=>new Date($e.getFullYear(),$e.getMonth(),$e.getDate()).toLocaleDateString(),ce=new Map;H.forEach($e=>{const Be=Ce($e.timestamp);ce.set(Be,(ce.get(Be)||0)+1)});const Ie=Array.from(ce.keys()).sort(($e,Be)=>new Date($e)-new Date(Be)),we=Ie.map($e=>ce.get($e));return{labels:Ie,data:we}},[H]),he=({status:Ce})=>{const ce=Ce==="Success",Ie=t?ce?"":"":Ce,we=ce?"ring-emerald-200":"ring-rose-200",$e=ce?"bg-emerald-100":"bg-rose-100",Be=ce?"text-emerald-700":"text-rose-700",ft=ce?"bg-emerald-600":"bg-rose-600";return s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${$e} ${Be} ring-1 ${we}`,title:Ce,children:[s.jsx("span",{className:`inline-block w-1.5 h-1.5 rounded-full ${ft}`}),Ie]})},[ue,Le]=y.useState({fileName:"",department:"Customers"}),ze=()=>{const Ce="Maram Admin",ce=Math.random()<.85,Ie={fileName:ue.fileName||`export_${Date.now()}.csv`,department:ue.department,performedBy:Ce,timestamp:new Date,status:ce?"Success":"Failed",notes:ce?"":"Service unavailable"};R(we=>[Ie,...we]),te("Export",Ie.status,Ie.fileName,Ce,Ie.department,Ie.notes),m(!1),Le({fileName:"",department:"Customers"})};return s.jsx(Ht,{children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:t?"  ":"Exports Report"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:"btn btn-glass",onClick:le,children:[s.jsx(M5,{className:"mr-1"})," ",t?" PDF":"Download PDF"]}),s.jsxs("button",{className:"btn btn-glass",onClick:J,children:[s.jsx(M5,{className:"mr-1"})," ",t?" Excel":"Download Excel"]}),s.jsx("button",{className:"btn btn-primary",onClick:()=>m(!0),children:t?"":"Export"})]})]})}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Manager"}),s.jsx("select",{className:"input w-full",value:v,onChange:Ce=>{g(Ce.target.value),o(1)},children:F.map(Ce=>s.jsx("option",{value:Ce,children:Ce},Ce))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Employee"}),s.jsx("select",{className:"input w-full",value:b,onChange:Ce=>{j(Ce.target.value),o(1)},children:M.map(Ce=>s.jsx("option",{value:Ce,children:Ce},Ce))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Department"}),s.jsx("select",{className:"input w-full",value:N,onChange:Ce=>{k(Ce.target.value),o(1)},children:I.map(Ce=>s.jsx("option",{value:Ce,children:Ce},Ce))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?" ":"Date Mode"}),s.jsxs("select",{className:"input w-full",value:S,onChange:Ce=>{C(Ce.target.value),o(1)},children:[s.jsx("option",{value:"day",children:t?"":"Day"}),s.jsx("option",{value:"week",children:t?"":"Week"}),s.jsx("option",{value:"month",children:t?"":"Month"}),s.jsx("option",{value:"range",children:t?"":"Range"})]})]}),S!=="range"&&s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Date"}),s.jsx("input",{type:"date",className:"input w-full",value:_,onChange:Ce=>{P(Ce.target.value),o(1)}})]}),S==="range"&&s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Start"}),s.jsx("input",{type:"date",className:"input w-full",value:L,onChange:Ce=>{U(Ce.target.value),o(1)}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"End"}),s.jsx("input",{type:"date",className:"input w-full",value:z,onChange:Ce=>{T(Ce.target.value),o(1)}})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Xde,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),s.jsx("input",{value:a,onChange:Ce=>{r(Ce.target.value),o(1)},placeholder:t?" ":"Search file name",className:"input w-full pl-9"})]})]})]})}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?"  ":"Total Exports"}),s.jsx("div",{className:"text-2xl font-semibold",children:K.total})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?"":"Successful"}),s.jsx("div",{className:"text-2xl font-semibold text-emerald-600",children:K.success})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?"":"Failed"}),s.jsx("div",{className:"text-2xl font-semibold text-rose-600",children:K.failed})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:t?"  ":"Exports per Department"}),s.jsx(Ir,{data:{labels:pe.labels,datasets:[{label:t?"":"Count",data:pe.data,backgroundColor:"#4f46e5"}]},options:{responsive:!0,plugins:{legend:{display:!1}}}})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:t?"  ":"Successful vs Failed"}),s.jsx(Yj,{data:{labels:[t?"":"Successful",t?"":"Failed"],datasets:[{data:[Q.success,Q.failed],backgroundColor:["#10b981","#ef4444"],borderColor:["#ffffff","#ffffff"],borderWidth:2,hoverOffset:6}]},options:{responsive:!0,cutout:"70%",plugins:{legend:{position:"bottom",labels:{usePointStyle:!0}},tooltip:{callbacks:{label:Ce=>`${Ce.label}: ${Ce.raw}`}}}}}),s.jsxs("div",{className:"mt-3 flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"inline-flex items-center gap-2",children:[s.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-emerald-600"}),s.jsxs("span",{className:"text-emerald-700",children:[t?"":"Successful",": ",Q.success]})]}),s.jsxs("div",{className:"inline-flex items-center gap-2",children:[s.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-rose-600"}),s.jsxs("span",{className:"text-rose-700",children:[t?"":"Failed",": ",Q.failed]})]})]})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:t?"  ":"Exports Over Time"}),s.jsx(lo,{data:{labels:xe.labels,datasets:[{label:t?"":"Exports",data:xe.data,borderColor:"#4f46e5",backgroundColor:"#4f46e5"}]},options:{responsive:!0,plugins:{legend:{display:!1}}}})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-xl p-0 overflow-hidden",children:[s.jsxs("table",{className:"nova-table nova-table--glass w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"nova-th"}),s.jsx("th",{className:"nova-th",children:t?" ":"File Name"}),s.jsx("th",{className:"nova-th",children:t?"":"Department"}),s.jsx("th",{className:"nova-th",children:t?" ":"Performed By"}),s.jsx("th",{className:"nova-th",children:t?" ":"Date & Time"}),s.jsx("th",{className:"nova-th",children:t?"":"Status"}),s.jsx("th",{className:"nova-th",children:t?"":"Notes"}),s.jsx("th",{className:"nova-th",children:t?"":"Action"})]})}),s.jsxs("tbody",{children:[se.map((Ce,ce)=>s.jsxs("tr",{className:"nova-tr",children:[s.jsx("td",{className:"nova-td",children:s.jsx("input",{type:"checkbox",checked:c,onChange:Ie=>d(Ie.target.checked),"aria-label":"select"})}),s.jsx("td",{className:"nova-td text-sm",children:Ce.fileName}),s.jsx("td",{className:"nova-td text-sm",children:Ce.department}),s.jsx("td",{className:"nova-td text-sm",children:Ce.performedBy}),s.jsx("td",{className:"nova-td text-sm",children:Ce.timestamp.toLocaleString()}),s.jsx("td",{className:"nova-td",children:s.jsx(he,{status:Ce.status})}),s.jsx("td",{className:"nova-td text-sm",children:Ce.notes||"-"}),s.jsx("td",{className:"nova-td",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>f(Ce),className:"text-primary text-sm hover:underline",children:t?"":"Preview"}),s.jsx("button",{onClick:()=>ie(Ce),className:"btn btn-glass px-2 py-1",title:t?"":"Download",children:s.jsx(M5,{})}),Ce.status==="Failed"&&s.jsx("button",{onClick:()=>ne((l-1)*n+ce),className:"btn btn-glass px-2 py-1",title:t?" ":"Re-run",children:s.jsx(kA,{})})]})})]},ce)),se.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"nova-td text-center text-sm text-gray-500",colSpan:8,children:t?"  ":"No results"})})]})]}),s.jsxs("div",{className:"p-3 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[t?"  ":"Entries per page",s.jsxs("select",{value:n,onChange:Ce=>{i(Number(Ce.target.value)),o(1)},className:"ml-2 input w-20",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:25,children:"25"}),s.jsx("option",{value:50,children:"50"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-glass",disabled:l===1,onClick:()=>o(Ce=>Math.max(1,Ce-1)),children:t?"":"Prev"}),s.jsxs("span",{className:"text-sm",children:[l," / ",X]}),s.jsx("button",{className:"btn btn-glass",disabled:l===X,onClick:()=>o(Ce=>Math.min(X,Ce+1)),children:t?"":"Next"})]})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"font-semibold",children:t?" ":"Audit Trail"}),s.jsx("div",{className:"text-xs text-gray-500",children:t?"      ":"Logs all export, download, and re-run actions"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table nova-table--glass w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"nova-th",children:t?"":"Time"}),s.jsx("th",{className:"nova-th",children:t?"":"Action"}),s.jsx("th",{className:"nova-th",children:t?" ":"File Name"}),s.jsx("th",{className:"nova-th",children:t?"":"Department"}),s.jsx("th",{className:"nova-th",children:t?"":"User"}),s.jsx("th",{className:"nova-th",children:t?"":"Status"}),s.jsx("th",{className:"nova-th",children:t?"":"Notes"})]})}),s.jsxs("tbody",{children:[q.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"nova-td text-center text-sm text-gray-500",colSpan:7,children:t?"   ":"No logs yet"})}),q.map(Ce=>s.jsxs("tr",{className:"nova-tr",children:[s.jsx("td",{className:"nova-td text-sm",children:new Date(Ce.timestamp).toLocaleString()}),s.jsx("td",{className:"nova-td text-sm",children:Ce.action}),s.jsx("td",{className:"nova-td text-sm",children:Ce.fileName}),s.jsx("td",{className:"nova-td text-sm",children:Ce.department}),s.jsx("td",{className:"nova-td text-sm",children:Ce.user}),s.jsx("td",{className:"nova-td",children:s.jsx(he,{status:Ce.status})}),s.jsx("td",{className:"nova-td text-sm",children:Ce.notes||"-"})]},Ce.id))]})]})})]}),u&&s.jsxs("div",{className:"fixed inset-0 z-40 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>f(null)}),s.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[560px] max-w-[95vw]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:t?" ":"File Preview"}),s.jsx("button",{className:"btn btn-glass",onClick:()=>f(null),children:t?"":"Close"})]}),s.jsxs("div",{className:"text-sm space-y-2",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[t?"":"Name",":"]})," ",u.fileName]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[t?"":"Department",":"]})," ",u.department]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[t?"":"Status",":"]})," ",u.status]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[t?" ":"Performed By",":"]})," ",u.performedBy]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[t?"":"Date",":"]})," ",u.timestamp.toLocaleString()]})]}),s.jsx("div",{className:"mt-3 p-3 rounded-lg border border-gray-200 dark:border-gray-700 bg-transparent text-xs text-gray-600 dark:text-gray-300",children:t?"  .":"This is a descriptive preview."})]})]}),p&&s.jsxs("div",{className:"fixed inset-0 z-40 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>m(!1)}),s.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[560px] max-w-[95vw]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:t?" ":"New Export"}),s.jsx("button",{className:"btn btn-glass",onClick:()=>m(!1),children:t?"":"Close"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?" ":"File Name"}),s.jsx("input",{className:"input w-full",value:ue.fileName,onChange:Ce=>Le(ce=>({...ce,fileName:Ce.target.value})),placeholder:"clients_export.csv"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Department"}),s.jsx("select",{className:"input w-full",value:ue.department,onChange:Ce=>Le(ce=>({...ce,department:Ce.target.value})),children:I.filter(Ce=>Ce!=="All").map(Ce=>s.jsx("option",{value:Ce,children:Ce},Ce))})]})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[s.jsx("button",{className:"btn btn-glass",onClick:()=>m(!1),children:t?"":"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:ze,children:t?" ":"Perform Export"})]})]})]})]})})};Cs.register(_n,Tn,Un,cn,on);function PUe(){const{t:e}=Ct(),t=[{name:"Ahmed Ali",calls:45,actions:30,delayed:3,stages:{lead:10,qualified:12,proposal:0,closed:8},revenue:82e3,target:1e5},{name:"Sara Hassan",calls:58,actions:40,delayed:1,stages:{lead:14,qualified:18,proposal:0,closed:8},revenue:105e3,target:1e5},{name:"Omar Mostafa",calls:32,actions:22,delayed:5,stages:{lead:8,qualified:9,proposal:3,closed:2},revenue:54e3,target:9e4},{name:"Mona Adel",calls:40,actions:27,delayed:2,stages:{lead:12,qualified:10,proposal:4,closed:6},revenue:76e3,target:11e4}],[a,r]=y.useState("all"),[n,i]=y.useState("month"),l=y.useMemo(()=>a==="all"?t:t.filter(g=>g.name===a),[a]),o=y.useMemo(()=>{const g=l.reduce((C,_)=>C+_.calls,0),b=l.reduce((C,_)=>C+_.actions,0),j=l.reduce((C,_)=>C+_.delayed,0),N=l.reduce((C,_)=>C+_.revenue,0),k=l.reduce((C,_)=>C+_.target,0),S=l.length?Math.round(l.reduce((C,_)=>C+_.revenue/_.target*100,0)/l.length):0;return{calls:g,actions:b,delayed:j,revenue:N,target:k,avgPct:S}},[l]),c=y.useMemo(()=>{const g=l.reduce((j,N)=>(j.lead+=N.stages.lead,j.qualified+=N.stages.qualified,j.proposal+=N.stages.proposal,j.closed+=N.stages.closed,j),{lead:0,qualified:0,proposal:0,closed:0}),b=typeof document<"u"&&document.documentElement.classList.contains("dark");return[{label:e("Lead"),value:g.lead,color:"#3b82f6"},{label:e("Qualified"),value:g.qualified,color:"#22c55e"},{label:e("Proposal"),value:g.proposal,color:"#f59e0b"},{label:e("Closed"),value:g.closed,color:"#8b5cf6"}]},[l,e]),d=typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",u={labels:l.map(g=>g.name),datasets:[{label:e("Calls"),data:l.map(g=>g.calls),backgroundColor:"#2563eb",borderRadius:6,barThickness:24},{label:e("Actions"),data:l.map(g=>g.actions),backgroundColor:"#22c55e",borderRadius:6,barThickness:24}]},f={responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{font:{size:12},color:d}},y:{grid:{display:!1},ticks:{font:{size:12},color:d}}},plugins:{legend:{display:!0}}},p=g=>g>=90?"bg-emerald-500":g>=60?"bg-yellow-500":"bg-red-500",m=()=>{const g=l.map(N=>({Salesperson:N.name,Calls:N.calls,Actions:N.actions,Delayed:N.delayed,Lead:N.stages.lead,Qualified:N.stages.qualified,Proposal:N.stages.proposal,Closed:N.stages.closed,RevenueAchieved:N.revenue,TargetPercent:Math.round(N.revenue/N.target*100)})),b=ea.json_to_sheet(g),j=ea.book_new();ea.book_append_sheet(j,b,"SalesActivities"),Nr(j,"sales-activities-dashboard.xlsx")},v=()=>{window.print()};return s.jsx(Ht,{titleKey:"Sales Activities",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-2xl font-semibold",children:e("Sales Activities")})}),s.jsx("div",{className:"h-2","aria-hidden":"true"}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:v,className:"btn btn-primary",children:e("Download PDF")}),s.jsx("button",{onClick:m,className:"btn btn-secondary",children:e("Download Excel")})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:s.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Salesperson")}),s.jsxs("select",{value:a,onChange:g=>r(g.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100",children:[s.jsx("option",{value:"all",children:e("All")}),t.map(g=>s.jsx("option",{value:g.name,children:g.name},g.name))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Date Range")}),s.jsx("div",{className:"flex gap-2",children:["day","week","month"].map(g=>s.jsx("button",{onClick:()=>i(g),className:`px-3 py-2 rounded-md border text-sm ${n===g?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100 border-gray-300 dark:border-gray-700"}`,children:e(g.charAt(0).toUpperCase()+g.slice(1))},g))})]})]})}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:e("Total Calls"),value:o.calls,accent:"bg-blue-500"},{label:e("Total Actions"),value:o.actions,accent:"bg-emerald-500"},{label:e("Total Revenue"),value:`${o.revenue.toLocaleString()} EGP`,accent:"bg-purple-500"},{label:e("Average Achievement %"),value:`${o.avgPct}%`,accent:"bg-indigo-500"}].map(g=>s.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`inline-block w-2 h-6 rounded ${g.accent}`}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:g.label}),s.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:g.value})]})]})},g.label))}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:e("Calls & Actions")}),s.jsx("span",{className:"text-xs text-[var(--muted-text)]",children:e("Per Salesperson")})]}),s.jsx("div",{style:{height:"260px"},children:s.jsx(Ir,{data:u,options:f})})]}),s.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:e("Actions by Stage")})}),s.jsx(ei,{segments:c,size:180,centerLabel:e("Stages")})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsx("tr",{className:"text-left border-b border-gray-200 dark:border-gray-700",children:[e("Salesperson"),e("Calls"),e("Actions"),e("Delayed"),e("Actions by Stage"),e("Revenue Achieved"),e("Target %")].map((g,b)=>s.jsx("th",{className:"px-3 py-2 text-gray-700 dark:text-gray-200 font-medium",children:g},b))})}),s.jsx("tbody",{children:l.map((g,b)=>{const j=Math.round(g.revenue/g.target*100);return s.jsxs(Bn.Fragment,{children:[s.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:g.name}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:g.calls}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:g.actions}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:g.delayed}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:`${g.stages.lead} ${e("Lead")} / ${g.stages.qualified} ${e("Qualified")} / ${g.stages.closed} ${e("Closed")}`}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:`${g.revenue.toLocaleString()} EGP`}),s.jsx("td",{className:"px-3 py-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 h-2 rounded bg-gray-200 dark:bg-gray-700 overflow-hidden",children:s.jsx("div",{className:`h-2 ${p(j)}`,style:{width:`${Math.min(100,j)}%`}})}),s.jsxs("span",{className:"text-xs text-gray-700 dark:text-gray-200 w-10 text-right",children:[j,"%"]})]})})]}),b!==l.length-1&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"py-2"})})]},g.name)})})]})})})]})})}function LUe({segments:e=[],width:t=380,sliceHeight:a=30,gap:r=10,showConversions:n=!0,formatValue:i}){const l=Math.max(...e.map(f=>f.value),1),o=e.reduce((f,p)=>f+p.value,0)||1,c=typeof document<"u"&&document.documentElement.classList.contains("dark"),d=c?"text-gray-100":"text-gray-900",u=c?"text-gray-300":"text-gray-600";return s.jsx("div",{style:{width:t},className:"mx-auto",children:e.map((f,p)=>{const m=Math.max(48,Math.round(f.value/l*t)),v=Math.round(f.value/o*100),g=i?i(f.value):f.value.toLocaleString(),b=f.colorStart||f.color||"#3b82f6",j=f.colorEnd||f.color||"#1e40af",N=e[p+1],k=N&&f.value>0?Math.round(N.value/f.value*100):null;return s.jsxs("div",{style:{marginBottom:r},children:[s.jsxs("div",{className:"relative",style:{height:a},children:[s.jsx("div",{style:{width:m,height:a,margin:"0 auto",clipPath:"polygon(6% 0%, 94% 0%, 100% 100%, 0% 100%)",backgroundImage:`linear-gradient(90deg, ${b}, ${j})`},className:"rounded-md shadow-sm transition-all duration-200 hover:shadow-md",title:`${f.label}: ${g} (${v}%)`}),s.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-3",children:[s.jsxs("span",{className:`text-xs ${d} flex items-center gap-2`,children:[f.icon?s.jsx("span",{className:"text-sm",children:f.icon}):s.jsx("span",{className:"inline-block w-2 h-2 rounded-full",style:{backgroundColor:b}}),f.label]}),s.jsxs("span",{className:`text-xs ${u}`,children:[g,"  ",v,"%"]})]})]}),n&&k!==null&&s.jsx("div",{className:"flex items-center justify-center mt-1",children:s.jsxs("span",{className:`text-[11px] ${u}`,children:[" ",k,"%"]})})]},f.label)})})}Cs.register(_n,Tn,Un,cn,on);function OUe(){const{t:e,i18n:t}=Ct(),{stages:a}=kx(),r=[{name:"ABC Pharma",stage:"Qualified",expectedValue:25e3,salesperson:"Ahmed Ali",dateCreated:"2025-11-02",expectedClose:"2025-12-10",status:"Active"},{name:"Delta Med",stage:"Proposal",expectedValue:42e3,salesperson:"Sara Hassan",dateCreated:"2025-11-04",expectedClose:"2025-12-15",status:"Pending"},{name:"Green Labs",stage:"Negotiation",expectedValue:33e3,salesperson:"Omar Tarek",dateCreated:"2025-11-06",expectedClose:"2025-12-22",status:"Active"},{name:"Sun Health",stage:"Contacted",expectedValue:18e3,salesperson:"Ahmed Ali",dateCreated:"2025-11-07",expectedClose:"2025-12-05",status:"Active"},{name:"Medix Co.",stage:"New",expectedValue:15e3,salesperson:"Mona Adel",dateCreated:"2025-11-05",expectedClose:"2025-12-01",status:"Active"},{name:"BioCure",stage:"Closed Won",expectedValue:7e4,salesperson:"Sara Hassan",dateCreated:"2025-10-28",expectedClose:"2025-11-08",status:"Closed"},{name:"LifeChem",stage:"Closed Lost",expectedValue:12e3,salesperson:"Omar Tarek",dateCreated:"2025-10-26",expectedClose:"2025-11-03",status:"Lost"},{name:"CarePlus",stage:"Proposal",expectedValue:38e3,salesperson:"Mona Adel",dateCreated:"2025-11-03",expectedClose:"2025-12-18",status:"Pending"},{name:"HealRight",stage:"Qualified",expectedValue:26e3,salesperson:"Ahmed Ali",dateCreated:"2025-11-01",expectedClose:"2025-12-12",status:"Active"},{name:"NovaMed",stage:"Negotiation",expectedValue:45e3,salesperson:"Sara Hassan",dateCreated:"2025-11-02",expectedClose:"2025-12-20",status:"Active"}],n=y.useMemo(()=>Array.from(new Set(r.map(T=>T.salesperson))),[]),[i,l]=y.useState("all"),[o,c]=y.useState("created"),[d,u]=y.useState(""),[f,p]=y.useState(""),m=y.useMemo(()=>r.filter(T=>{const F=i==="all"||T.salesperson===i,M=o==="created"?T.dateCreated:T.expectedClose,I=new Date(M),W=d?I>=new Date(d):!0,R=f?I<=new Date(f):!0;return F&&W&&R}),[i,o,d,f]),v=y.useMemo(()=>{const T=m.length,F=m.reduce((M,I)=>M+I.expectedValue,0);return{totalLeads:T,totalExpected:F}},[m]),g=T=>String(T||"").trim().toLowerCase(),b=y.useMemo(()=>{const T=Object.fromEntries((a||[]).map(F=>[g(F.name),0]));return m.forEach(F=>{const M=g(F.stage);M in T&&(T[M]=(T[M]||0)+1)}),T},[m,a]),j=y.useMemo(()=>{const T=Object.fromEntries((a||[]).map(F=>[g(F.name),0]));return m.forEach(F=>{const M=g(F.stage);M in T&&(T[M]=(T[M]||0)+F.expectedValue)}),T},[m,a]),N=y.useMemo(()=>{const T={};m.forEach(M=>{T[M.salesperson]=(T[M.salesperson]||0)+1}),typeof document<"u"&&document.documentElement.classList.contains("dark");const F=["#3b82f6","#22c55e","#f59e0b","#8b5cf6","#ef4444","#10b981","#6366f1"];return Object.entries(T).map(([M,I],W)=>({label:M,value:I,color:F[W%F.length]}))},[m]),k=typeof document<"u"&&document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",C={labels:(a||[]).map(T=>T.name),datasets:[{label:e("Total Expected Value"),data:(a||[]).map(T=>j[g(T.name)]),backgroundColor:"#2563eb",borderRadius:6,barThickness:24}]},_={responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{color:k}},y:{grid:{display:!1},ticks:{color:k}}},plugins:{legend:{display:!0}}},P=T=>(a||[]).find(M=>g(M.name)===g(T))?.color||"#3b82f6",L=()=>{const T=m.map(I=>({LeadName:I.name,SalesStage:I.stage,ExpectedValueEGP:I.expectedValue,Salesperson:I.salesperson,DateCreated:I.dateCreated,ExpectedClosing:I.expectedClose,Status:I.status})),F=ea.json_to_sheet(T),M=ea.book_new();ea.book_append_sheet(M,F,"LeadsPipeline"),Nr(M,"leads-pipeline-dashboard.xlsx")},U=()=>window.print(),z=T=>(a||[]).find(F=>g(F.name)===g(T));return s.jsx(Ht,{titleKey:"Leads pipeline",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-2xl font-semibold",children:e("Leads pipeline")})}),s.jsx("div",{className:"h-2","aria-hidden":"true"}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:U,className:"btn btn-primary",children:e("Download PDF")}),s.jsx("button",{onClick:L,className:"btn btn-secondary",children:e("Download Excel")})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:s.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Salesperson")}),s.jsxs("select",{value:i,onChange:T=>l(T.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100",children:[s.jsx("option",{value:"all",children:e("All")}),n.map(T=>s.jsx("option",{value:T,children:T},T))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Date Type")}),s.jsxs("select",{value:o,onChange:T=>c(T.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100",children:[s.jsx("option",{value:"created",children:e("Created Date")}),s.jsx("option",{value:"expectedClose",children:e("Expected Close Date")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("From")}),s.jsx("input",{type:"date",value:d,onChange:T=>u(T.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("To")}),s.jsx("input",{type:"date",value:f,onChange:T=>p(T.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100"})]})]})}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:e("Total Leads"),value:v.totalLeads,accent:"bg-blue-500"},{label:e("Total Expected Value"),value:`${v.totalExpected.toLocaleString()} EGP`,accent:"bg-emerald-500"}].map(T=>s.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`inline-block w-2 h-6 rounded ${T.accent}`}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:T.label}),s.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:T.value})]})]})},T.label))}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3",children:e("Funnel by Stage")}),(()=>{const T=(M,I=40)=>{try{const W=M.replace("#",""),R=parseInt(W,16);let q=R>>16&255,ae=R>>8&255,te=R&255;return q=Math.max(0,q-I),ae=Math.max(0,ae-I),te=Math.max(0,te-I),`#${(q<<16|ae<<8|te).toString(16).padStart(6,"0")}`}catch{return M}},F=(a||[]).map(M=>({label:e(M.nameAr||M.name),value:b[g(M.name)]||0,colorStart:M.color||"#3b82f6",colorEnd:T(M.color||"#3b82f6",40),icon:M.icon}));return s.jsx(LUe,{segments:F,width:460,sliceHeight:34,gap:12,showConversions:!0,formatValue:M=>M.toLocaleString()})})()]}),s.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 lg:col-span-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3",children:e("Expected Value by Stage")}),s.jsx("div",{style:{height:"260px"},children:s.jsx(Ir,{data:C,options:_})})]}),s.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3",children:e("Leads by Salesperson")}),s.jsx(ei,{segments:N,size:200,centerLabel:e("Leads")})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsx("tr",{className:"text-left border-b border-gray-200 dark:border-gray-700",children:[e("Lead Name"),e("Sales Stage"),e("Expected Value"),e("Salesperson"),e("Date Created"),e("Status")].map((T,F)=>s.jsx("th",{className:"px-3 py-2 text-gray-700 dark:text-gray-200 font-medium",children:T},F))})}),s.jsx("tbody",{children:m.map((T,F)=>s.jsxs(Bn.Fragment,{children:[s.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:T.name}),s.jsx("td",{className:"px-3 py-2",children:(()=>{const M=z(T.stage),I=t.language==="ar"?M?.nameAr||M?.name||T.stage:M?.name||T.stage,W=M?.color||P(T.stage);return s.jsxs("span",{className:"inline-flex items-center gap-2 px-2 py-1 rounded text-white text-xs",style:{backgroundColor:W},children:[M?.icon&&s.jsx("span",{className:"text-sm",children:M.icon}),s.jsx("span",{children:I})]})})()}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:`${T.expectedValue.toLocaleString()} EGP`}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:T.salesperson}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:new Date(T.dateCreated).toLocaleDateString()}),s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:e(T.status)})]}),F!==m.length-1&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"py-2"})})]},`${T.name}-${F}`))})]})})})]})})}Cs.register(_n,Tn,Un,pl,ai,cn,on);function RUe(){const{t:e}=Ct(),t=[{id:1,customer:"Ahmed Hassan",contact:"+20 100 123 4567",reservationDateTime:"2025-11-09T20:00:00",type:"Table for 4",status:"confirmed",value:850,handledBy:"Omar Ali",createdOn:"2025-11-07"},{id:2,customer:"Mona Said",contact:"+20 101 555 0000",reservationDateTime:"2025-11-10T14:00:00",type:"Catering Order",status:"pending",value:1200,handledBy:"Sara Kamal",createdOn:"2025-11-08"},{id:3,customer:"Ola Sami",contact:"+20 120 222 3333",reservationDateTime:"2025-11-11T18:30:00",type:"Room",status:"confirmed",value:1800,handledBy:"Omar Ali",createdOn:"2025-11-08"},{id:4,customer:"Karim Mostafa",contact:"+20 111 777 8888",reservationDateTime:"2025-11-09T12:00:00",type:"Appointment",status:"cancelled",value:0,handledBy:"Nour El-Din",createdOn:"2025-11-07"},{id:5,customer:"Sara Hassan",contact:"+20 102 987 6543",reservationDateTime:"2025-11-12T16:00:00",type:"Table for 2",status:"completed",value:400,handledBy:"Sara Kamal",createdOn:"2025-11-09"},{id:6,customer:"Omar Mostafa",contact:"+20 103 321 0000",reservationDateTime:"2025-11-10T19:30:00",type:"Room",status:"confirmed",value:2200,handledBy:"Mona Adel",createdOn:"2025-11-08"},{id:7,customer:"Layla Ahmed",contact:"+20 104 888 1234",reservationDateTime:"2025-11-11T10:00:00",type:"Appointment",status:"pending",value:300,handledBy:"Nour El-Din",createdOn:"2025-11-09"},{id:8,customer:"Hussein Ali",contact:"+20 105 444 2222",reservationDateTime:"2025-11-12T21:00:00",type:"Table for 6",status:"cancelled",value:0,handledBy:"Mona Adel",createdOn:"2025-11-10"}],a=y.useMemo(()=>{const R=new Set(t.map(q=>q.handledBy));return["all",...Array.from(R)]},[]),[r,n]=y.useState("all"),[i,l]=y.useState("reservation"),[o,c]=y.useState(""),[d,u]=y.useState(""),[f,p]=y.useState("all"),m=R=>{if(!o&&!d)return!0;const q=new Date(R),ae=o?q>=new Date(o):!0,te=d?q<=new Date(d):!0;return ae&&te},v=y.useMemo(()=>t.filter(R=>{const q=i==="created"?R.createdOn:R.reservationDateTime.slice(0,10),ae=r==="all"?!0:R.handledBy===r,te=f==="all"?!0:R.status===f,K=m(q);return ae&&te&&K}),[t,r,f,i,o,d]),g=v.length,b=v.filter(R=>R.status==="confirmed").length,j=v.filter(R=>R.status==="cancelled").length,N=v.reduce((R,q)=>R+(q.value||0),0),k=g?Math.round(N/g):0,S=v.filter(R=>R.type.toLowerCase().includes("room"));S.length&&Math.round(S.filter(R=>R.status==="confirmed").length/S.length*100);const C=R=>R.slice(0,10),_=Array.from(new Set(v.map(R=>C(R.reservationDateTime)))).sort(),P={labels:_,datasets:[{label:e("Reservations per day"),data:_.map(R=>v.filter(q=>C(q.reservationDateTime)===R).length),borderColor:"#3b82f6",backgroundColor:"rgba(59,130,246,0.2)"}]},L={responsive:!0,plugins:{legend:{display:!1}}},U=[{label:e("Confirmed"),value:v.filter(R=>R.status==="confirmed").length,color:"#10b981"},{label:e("Pending"),value:v.filter(R=>R.status==="pending").length,color:"#f59e0b"},{label:e("Cancelled"),value:v.filter(R=>R.status==="cancelled").length,color:"#ef4444"},{label:e("Completed"),value:v.filter(R=>R.status==="completed").length,color:"#64748b"}],z=Array.from(new Set(v.map(R=>R.handledBy))),T={labels:z,datasets:[{label:e("Revenue by staff"),data:z.map(R=>v.filter(q=>q.handledBy===R).reduce((q,ae)=>q+(ae.value||0),0)),backgroundColor:"#10b981"}]},F={responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}},M=()=>{const R=v.map(te=>({Customer:te.customer,Contact:te.contact,ReservationDateTime:te.reservationDateTime,Type:te.type,Status:te.status,ValueEGP:te.value,HandledBy:te.handledBy,CreatedOn:te.createdOn})),q=ea.json_to_sheet(R),ae=ea.book_new();ea.book_append_sheet(ae,q,"Reservations"),Nr(ae,"reservations-dashboard.xlsx")},I=()=>window.print(),W=R=>{switch(R){case"confirmed":return"bg-emerald-100 text-emerald-700 dark:bg-emerald-950 dark:text-emerald-300";case"pending":return"bg-amber-100 text-amber-700 dark:bg-amber-950 dark:text-amber-300";case"cancelled":return"bg-rose-100 text-rose-700 dark:bg-rose-950 dark:text-rose-300";case"completed":return"bg-slate-100 text-slate-700 dark:bg-slate-900 dark:text-slate-300";default:return"bg-gray-100 text-gray-700 dark:bg-gray-900 dark:text-gray-300"}};return s.jsx(Ht,{titleKey:"Reservations",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Reservations")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:I,className:"btn btn-primary",children:e("Download PDF")}),s.jsx("button",{onClick:M,className:"btn btn-secondary",children:e("Download Excel")})]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:s.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Staff")}),s.jsx(Aa,{value:r,onChange:R=>n(R),className:"px-3 py-2",children:a.map(R=>s.jsx("option",{value:R,children:R==="all"?e("All"):R},R))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Date Type")}),s.jsxs(Aa,{value:i,onChange:R=>l(R),className:"px-3 py-2",children:[s.jsx("option",{value:"reservation",children:e("Reservation Date")}),s.jsx("option",{value:"created",children:e("Created Date")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("From")}),s.jsx("input",{type:"date",value:o,onChange:R=>c(R.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("To")}),s.jsx("input",{type:"date",value:d,onChange:R=>u(R.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-300 mb-1",children:e("Status")}),s.jsxs(Aa,{value:f,onChange:R=>p(R),className:"px-3 py-2",children:[s.jsx("option",{value:"all",children:e("All")}),s.jsx("option",{value:"confirmed",children:e("Confirmed")}),s.jsx("option",{value:"pending",children:e("Pending")}),s.jsx("option",{value:"cancelled",children:e("Cancelled")}),s.jsx("option",{value:"completed",children:e("Completed")})]})]})]})}),s.jsx("div",{className:"h-3","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:e("Total Reservations"),value:g,accent:"bg-blue-500"},{label:e("Confirmed vs Cancelled"),value:`${b} / ${j}`,accent:"bg-emerald-500"},{label:e("Total Revenue"),value:`${N.toLocaleString()} EGP`,accent:"bg-indigo-500"},{label:e("Average Value"),value:`${k.toLocaleString()} EGP`,accent:"bg-amber-500"}].map(R=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:R.label}),s.jsx("div",{className:"text-lg font-semibold",children:R.value})]}),s.jsx("div",{className:`w-8 h-8 rounded-lg ${R.accent}`})]},R.label))}),s.jsx("div",{className:"h-3","aria-hidden":"true"}),s.jsx("div",{className:"h-3","aria-hidden":"true"}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:[s.jsx("div",{className:"text-sm font-semibold mb-3",children:e("Reservations")}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b border-gray-200 dark:border-gray-700",children:[s.jsx("th",{className:"py-2 px-3",children:e("Customer")}),s.jsx("th",{className:"py-2 px-3",children:e("Reservation Date")}),s.jsx("th",{className:"py-2 px-3",children:e("Type")}),s.jsx("th",{className:"py-2 px-3",children:e("Status")}),s.jsx("th",{className:"py-2 px-3",children:e("Value")}),s.jsx("th",{className:"py-2 px-3",children:e("Handled By")}),s.jsx("th",{className:"py-2 px-3",children:e("Created On")})]})}),s.jsxs("tbody",{children:[v.map(R=>s.jsxs(s.Fragment,{children:[s.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[s.jsxs("td",{className:"py-2 px-3",children:[s.jsx("div",{className:"font-medium",children:R.customer}),s.jsx("div",{className:"text-xs text-gray-500",children:R.contact})]}),s.jsx("td",{className:"py-2 px-3",children:new Date(R.reservationDateTime).toLocaleString()}),s.jsx("td",{className:"py-2 px-3",children:R.type}),s.jsx("td",{className:"py-2 px-3",children:s.jsx("span",{className:`px-2 py-1 rounded-md text-xs ${W(R.status)}`,children:e(R.status.charAt(0).toUpperCase()+R.status.slice(1))})}),s.jsx("td",{className:"py-2 px-3",children:R.value?`${R.value.toLocaleString()} EGP`:"-"}),s.jsx("td",{className:"py-2 px-3",children:R.handledBy}),s.jsx("td",{className:"py-2 px-3",children:R.createdOn})]},R.id),s.jsx("tr",{"aria-hidden":"true",children:s.jsx("td",{colSpan:7,children:s.jsx("div",{className:"h-3"})})})]})),v.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"py-6 text-center text-gray-500",children:e("No reservations found for selected filters")})})]})]})})]}),s.jsx("div",{className:"h-3","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:e("Reservations per day")}),s.jsx("div",{className:"h-48",children:s.jsx(lo,{data:P,options:L})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:e("Distribution by status")}),s.jsx("div",{className:"h-48 flex items-center justify-center",children:s.jsx(ei,{segments:U,size:170})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:e("Revenue by staff")}),s.jsx("div",{className:"h-48",children:s.jsx(Ir,{data:T,options:F})})]})]})]})})}Cs.register(_n,Tn,Un,pl,ai,cn,on);function FUe(){const{t:e}=Ct(),t=[{id:1,client:"ABC Pharma",value:48e3,product:"Digital Marketing Package",closedDate:"2025-11-02",salesperson:"Ahmed Ali",durationDays:7,paymentStatus:"Paid"},{id:2,client:"Delta Med",value:35e3,product:"Web Development",closedDate:"2025-11-04",salesperson:"Sara Hassan",durationDays:5,paymentStatus:"Pending"},{id:3,client:"Green Labs",value:6e4,product:"CRM System",closedDate:"2025-11-05",salesperson:"Omar Tarek",durationDays:9,paymentStatus:"Paid"},{id:4,client:"Sun Health",value:42e3,product:"SEO & Content",closedDate:"2025-11-06",salesperson:"Ahmed Ali",durationDays:8,paymentStatus:"Partial"},{id:5,client:"Medix Co.",value:28e3,product:"Landing Page + Ads",closedDate:"2025-11-07",salesperson:"Sara Hassan",durationDays:6,paymentStatus:"Paid"},{id:6,client:"BioCure",value:52e3,product:"Marketing Automation",closedDate:"2025-10-30",salesperson:"Omar Tarek",durationDays:10,paymentStatus:"Pending"},{id:7,client:"LifeChem",value:31e3,product:"Social Media Management",closedDate:"2025-10-28",salesperson:"Ahmed Ali",durationDays:4,paymentStatus:"Paid"},{id:8,client:"Nova Labs",value:65e3,product:"CRM + Training",closedDate:"2025-10-25",salesperson:"Mona Adel",durationDays:11,paymentStatus:"Partial"},{id:9,client:"HealthPro",value:47e3,product:"Web Revamp",closedDate:"2025-11-08",salesperson:"Ahmed Ali",durationDays:7,paymentStatus:"Paid"},{id:10,client:"CarePlus",value:33e3,product:"Content & Design",closedDate:"2025-11-03",salesperson:"Mona Adel",durationDays:6,paymentStatus:"Pending"}],r=Object.values({"Ahmed Ali":1e5,"Sara Hassan":9e4,"Omar Tarek":12e4,"Mona Adel":8e4}).reduce((R,q)=>R+q,0),[n,i]=y.useState("all"),[l,o]=y.useState("all"),[c,d]=y.useState("range"),[u,f]=y.useState(""),[p,m]=y.useState(""),[v,g]=y.useState(""),b=y.useMemo(()=>{let R=[...t];return n!=="all"&&(R=R.filter(q=>q.salesperson===n)),l!=="all"&&(R=R.filter(q=>q.paymentStatus===l)),c==="range"?(u&&(R=R.filter(q=>q.closedDate>=u)),p&&(R=R.filter(q=>q.closedDate<=p))):c==="month"&&v&&(R=R.filter(q=>(q.closedDate||"").startsWith(v))),R},[t,n,l,c,u,p,v]),j=b.length,N=b.reduce((R,q)=>R+(q.value||0),0),k=j?Math.round(N/j):0,S=j?Math.round(b.reduce((R,q)=>R+(q.durationDays||0),0)/j):0,C=r?Math.round(N/r*100):0,_=y.useMemo(()=>{const R=new Map;return b.forEach(q=>{R.set(q.salesperson,(R.get(q.salesperson)||0)+q.value)}),R},[b]),P=y.useMemo(()=>{const R={Paid:0,Pending:0,Partial:0};return b.forEach(q=>{R[q.paymentStatus]=(R[q.paymentStatus]||0)+1}),R},[b]),L=y.useMemo(()=>{const R=new Map;b.forEach(ae=>{R.set(ae.closedDate,(R.get(ae.closedDate)||0)+1)});const q=Array.from(R.entries()).sort((ae,te)=>ae[0].localeCompare(te[0]));return{labels:q.map(ae=>ae[0]),counts:q.map(ae=>ae[1])}},[b]),U=()=>{const R=b.map(te=>({Client:te.client,Salesperson:te.salesperson,ProductService:te.product,ClosedDate:te.closedDate,DealValueEGP:te.value,DurationDays:te.durationDays,PaymentStatus:te.paymentStatus})),q=ea.json_to_sheet(R),ae=ea.book_new();ea.book_append_sheet(ae,q,"ClosedDeals"),Nr(ae,"closed-deals-report.xlsx")},z=()=>{window.print()},T=R=>{const q=R==="Paid"?"bg-emerald-50 text-emerald-700 border-emerald-200":R==="Partial"?"bg-amber-50 text-amber-700 border-amber-200":"bg-red-50 text-red-700 border-red-200";return s.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-md border ${q}`,children:e(R)})},F={labels:Array.from(_.keys()),datasets:[{label:e("Deal Value (EGP)"),data:Array.from(_.values()),backgroundColor:"rgba(59, 130, 246, 0.6)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1}]},M={labels:L.labels,datasets:[{label:e("Closed Deals"),data:L.counts,fill:!1,borderColor:"rgba(16, 185, 129, 1)",backgroundColor:"rgba(16, 185, 129, 0.3)",tension:.3}]},I=[{label:e("Paid"),value:P.Paid,color:"#10b981"},{label:e("Partial"),value:P.Partial,color:"#f59e0b"},{label:e("Pending"),value:P.Pending,color:"#ef4444"}],W=Array.from(new Set(t.map(R=>R.salesperson)));return s.jsxs(Ht,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:e("Closed Deals Report")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:z,className:"btn btn-primary",children:e("Download PDF")}),s.jsx("button",{onClick:U,className:"btn btn-secondary",children:e("Download Excel")})]})]}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Salesperson")}),s.jsxs(Aa,{value:n,onChange:R=>i(R),className:"min-w-[180px]",children:[s.jsx("option",{value:"all",children:e("All")}),W.map(R=>s.jsx("option",{value:R,children:R},R))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Date Filter Type")}),s.jsxs(Aa,{value:c,onChange:R=>d(R),className:"min-w-[160px]",children:[s.jsx("option",{value:"range",children:e("By Date Range")}),s.jsx("option",{value:"month",children:e("By Month")})]})]}),c==="range"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("From")}),s.jsx("input",{type:"date",value:u,onChange:R=>f(R.target.value),className:"input"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("To")}),s.jsx("input",{type:"date",value:p,onChange:R=>m(R.target.value),className:"input"})]})]}):s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Month")}),s.jsx("input",{type:"month",value:v,onChange:R=>g(R.target.value),className:"input"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Payment Status")}),s.jsxs(Aa,{value:l,onChange:R=>o(R),className:"min-w-[160px]",children:[s.jsx("option",{value:"all",children:e("All")}),s.jsx("option",{value:"Paid",children:e("Paid")}),s.jsx("option",{value:"Partial",children:e("Partial")}),s.jsx("option",{value:"Pending",children:e("Pending")})]})]})]})}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[{label:e("Total Closed Deals"),value:j,color:"bg-blue-500"},{label:e("Total Revenue (EGP)"),value:N.toLocaleString(),color:"bg-emerald-500"},{label:e("Average Deal Value"),value:k.toLocaleString(),color:"bg-indigo-500"},{label:e("Average Closing Time"),value:`${S} ${e("days")}`,color:"bg-amber-500"},{label:e("% of Target Achieved"),value:`${C}%`,color:"bg-teal-500"}].map((R,q)=>s.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:R.label}),s.jsx("div",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:R.value})]}),s.jsx("div",{className:`w-10 h-10 rounded-lg ${R.color} opacity-80`})]})},q))}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:e("Deal Value per Salesperson")})}),s.jsx(Ir,{data:F,options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}}})]}),s.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(ei,{segments:I,centerValue:j,centerLabel:e("Deals"),size:200,cutout:"70%",borderRadius:6})}),s.jsx("div",{className:"flex-1 md:ml-6 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[{key:"Paid",color:"#10b981",value:P.Paid},{key:"Partial",color:"#f59e0b",value:P.Partial},{key:"Pending",color:"#ef4444",value:P.Pending}].map(R=>{const q=j?Math.round(R.value/j*100):0;return s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[s.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{backgroundColor:R.color}}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:e(R.key)}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[R.value," / ",j," (",q,"%)"]})]})]},R.key)})})]})}),s.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:e("Closed Deals Trend")})}),s.jsx(lo,{data:M,options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,precision:0}}}})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsx("tr",{className:"text-left border-b border-gray-200 dark:border-gray-700",children:[e("Client"),e("Deal Value"),e("Product / Service"),e("Closed Date"),e("Salesperson"),e("Duration (Days)"),e("Payment Status")].map((R,q)=>s.jsx("th",{className:"px-3 py-2 text-gray-700 dark:text-gray-200 font-medium",children:R},q))})}),s.jsx("tbody",{children:b.map((R,q)=>s.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[s.jsx("td",{className:"px-3 py-2 text-gray-800 dark:text-gray-100",children:R.client}),s.jsxs("td",{className:"px-3 py-2",children:[R.value.toLocaleString()," EGP"]}),s.jsx("td",{className:"px-3 py-2",children:R.product}),s.jsx("td",{className:"px-3 py-2",children:R.closedDate}),s.jsx("td",{className:"px-3 py-2",children:R.salesperson}),s.jsx("td",{className:"px-3 py-2",children:R.durationDays}),s.jsx("td",{className:"px-3 py-2",children:T(R.paymentStatus)})]},`${R.id}-${q}`))})]})})})]})}Cs.register(_n,Tn,Un,pl,ai,cn,on);function IUe(){const{t:e}=Ct(),t=y.useMemo(()=>[{id:1,property:"Villa A1",tenant:"Ahmed Hassan",start:"2025-11-01",end:"2026-10-31",monthlyRent:12e3,totalContractValue:144e3,amountPaid:12e3,balance:0,paymentStatus:"Paid",handledBy:"Sara Kamal",renewed:!0},{id:2,property:"Shop 4",tenant:"Mona Said",start:"2025-11-10",end:"2026-11-09",monthlyRent:8e3,totalContractValue:96e3,amountPaid:4e3,balance:4e3,paymentStatus:"Partial",handledBy:"Omar Ali",renewed:!1},{id:3,property:"Office 302",tenant:"Delta Group",start:"2025-09-15",end:"2026-09-14",monthlyRent:15e3,totalContractValue:18e4,amountPaid:0,balance:15e3,paymentStatus:"Pending",handledBy:"Ahmed Tarek",renewed:!1},{id:4,property:"Warehouse B2",tenant:"LogiX Co.",start:"2025-08-01",end:"2026-07-31",monthlyRent:22e3,totalContractValue:264e3,amountPaid:11e3,balance:11e3,paymentStatus:"Overdue",handledBy:"Nour El-Din",renewed:!1},{id:5,property:"Apartment 5C",tenant:"Yara Samir",start:"2025-12-01",end:"2026-11-30",monthlyRent:9e3,totalContractValue:108e3,amountPaid:9e3,balance:0,paymentStatus:"Paid",handledBy:"Omar Ali",renewed:!0},{id:6,property:"Kiosk K7",tenant:"Snack Hub",start:"2025-10-01",end:"2026-09-30",monthlyRent:4e3,totalContractValue:48e3,amountPaid:2e3,balance:2e3,paymentStatus:"Partial",handledBy:"Sara Kamal",renewed:!1},{id:7,property:"Studio S12",tenant:"Design House",start:"2025-07-01",end:"2026-06-30",monthlyRent:7e3,totalContractValue:84e3,amountPaid:0,balance:7e3,paymentStatus:"Pending",handledBy:"Omar Ali",renewed:!1},{id:8,property:"Office 101",tenant:"TechMinds",start:"2025-06-01",end:"2026-05-31",monthlyRent:13e3,totalContractValue:156e3,amountPaid:13e3,balance:0,paymentStatus:"Paid",handledBy:"Ahmed Tarek",renewed:!0},{id:9,property:"Shop 12",tenant:"Fashion Hub",start:"2025-05-15",end:"2026-05-14",monthlyRent:1e4,totalContractValue:12e4,amountPaid:5e3,balance:5e3,paymentStatus:"Overdue",handledBy:"Nour El-Din",renewed:!1},{id:10,property:"Villa B2",tenant:"Karim Mostafa",start:"2025-04-01",end:"2026-03-31",monthlyRent:11e3,totalContractValue:132e3,amountPaid:11e3,balance:0,paymentStatus:"Paid",handledBy:"Sara Kamal",renewed:!0},{id:11,property:"Office 405",tenant:"Alpha Corp",start:"2025-03-10",end:"2026-03-09",monthlyRent:2e4,totalContractValue:24e4,amountPaid:1e4,balance:1e4,paymentStatus:"Partial",handledBy:"Ahmed Tarek",renewed:!1},{id:12,property:"Warehouse C1",tenant:"AgriFoods",start:"2025-02-01",end:"2026-01-31",monthlyRent:18e3,totalContractValue:216e3,amountPaid:0,balance:18e3,paymentStatus:"Pending",handledBy:"Omar Ali",renewed:!1}],[]),[a,r]=y.useState(""),[n,i]=y.useState(""),[l,o]=y.useState(""),[c,d]=y.useState("all"),u=y.useMemo(()=>new Date().toISOString().slice(0,10),[]),f=T=>T.start<=u&&T.end>=u,p=T=>T.end<u,m=T=>T.start>u,v=y.useMemo(()=>t.filter(T=>{const F=a?String(T.handledBy).toLowerCase().includes(a.toLowerCase().trim()):!0,M=n?T.end>=n:!0,I=l?T.start<=l:!0,W=M&&I,R=c==="all"?!0:c==="active"?f(T):c==="expired"?p(T):c==="upcoming"?m(T):!0;return F&&W&&R}),[t,a,n,l,c]),g=y.useMemo(()=>v.reduce((T,F)=>T+(F.amountPaid||0),0),[v]),b=y.useMemo(()=>v.reduce((T,F)=>T+(F.balance||0),0),[v]),j=y.useMemo(()=>v.filter(f).length,[v]),N=y.useMemo(()=>v.filter(p).length,[v]),k=y.useMemo(()=>{const T=v.filter(M=>M.renewed).length,F=v.length||1;return Math.round(T/F*100)},[v]),S=y.useMemo(()=>{const T={Paid:0,Partial:0,Pending:0,Overdue:0};return v.forEach(F=>{T[F.paymentStatus]=(T[F.paymentStatus]||0)+1}),[{label:"Paid",value:T.Paid,color:"#10b981"},{label:"Partial",value:T.Partial,color:"#f59e0b"},{label:"Pending",value:T.Pending,color:"#9ca3af"},{label:"Overdue",value:T.Overdue,color:"#ef4444"}]},[v]),C=T=>{const F=new Date(T);return`${F.getFullYear()}-${String(F.getMonth()+1).padStart(2,"0")}`},_=y.useMemo(()=>{const T=new Map;v.forEach(M=>{const I=C(M.start);T.set(I,(T.get(I)||0)+(M.amountPaid||0))});const F=Array.from(T.entries()).sort((M,I)=>M[0].localeCompare(I[0]));return{labels:F.map(([M])=>M),values:F.map(([,M])=>M)}},[v]),P=y.useMemo(()=>{const T=new Map;v.forEach(M=>{const I=C(M.start);T.set(I,(T.get(I)||0)+(M.totalContractValue||0))});const F=Array.from(T.entries()).sort((M,I)=>M[0].localeCompare(I[0]));return{labels:F.map(([M])=>M),values:F.map(([,M])=>M)}},[v]),L=()=>{const T=v.map(I=>({Property:I.property,Tenant:I.tenant,StartDate:I.start,EndDate:I.end,MonthlyRent:I.monthlyRent,TotalContractValue:I.totalContractValue,AmountPaid:I.amountPaid,Balance:I.balance,PaymentStatus:I.paymentStatus,HandledBy:I.handledBy})),F=ea.json_to_sheet(T),M=ea.book_new();ea.book_append_sheet(M,F,"RentReport"),Nr(M,"rent_report.xlsx")},U=()=>{window.print()},z=({status:T})=>{const F="px-2 py-1 text-xs rounded-md",M=T==="Paid"?"bg-emerald-50 text-emerald-600":T==="Partial"?"bg-yellow-50 text-yellow-600":T==="Overdue"?"bg-red-50 text-red-600":"bg-gray-100 text-gray-600";return s.jsx("span",{className:`${F} ${M}`,children:T})};return s.jsx(Ht,{titleKey:"Rent",children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:U,className:"btn btn-primary",children:e("Download PDF")}),s.jsx("button",{onClick:L,className:"btn btn-secondary",children:e("Download Excel")})]}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Salesperson / Manager")}),s.jsx("input",{value:a,onChange:T=>r(T.target.value),className:"input w-full",placeholder:e("e.g. Omar Ali")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Date From")}),s.jsx("input",{type:"date",value:n,onChange:T=>i(T.target.value),className:"input w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Date To")}),s.jsx("input",{type:"date",value:l,onChange:T=>o(T.target.value),className:"input w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Status")}),s.jsxs("select",{value:c,onChange:T=>d(T.target.value),className:"input w-full",children:[s.jsx("option",{value:"all",children:e("All")}),s.jsx("option",{value:"active",children:e("Active")}),s.jsx("option",{value:"expired",children:e("Expired")}),s.jsx("option",{value:"upcoming",children:e("Upcoming")})]})]})]})}),s.jsx("div",{"aria-hidden":"true",className:"h-6"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Total Rent Collected")}),s.jsxs("div",{className:"text-3xl font-bold",children:[g.toLocaleString()," EGP"]})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Total Outstanding Balance")}),s.jsxs("div",{className:"text-3xl font-bold",children:[b.toLocaleString()," EGP"]})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Active Contracts")}),s.jsx("div",{className:"text-3xl font-bold",children:j})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Expired Contracts")}),s.jsx("div",{className:"text-3xl font-bold",children:N})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Renewal Rate %")}),s.jsxs("div",{className:"text-3xl font-bold",children:[k,"%"]})]})]}),s.jsx("div",{"aria-hidden":"true",className:"h-6"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Payment Status")}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx(ei,{segments:S,size:180,cutout:70,centerValue:v.length,centerLabel:e("Contracts")}),s.jsx("div",{className:"space-y-2 text-sm",children:S.map(T=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-block w-3 h-3 rounded",style:{backgroundColor:T.color}}),s.jsx("span",{children:e(T.label)}),s.jsxs("span",{className:"ml-auto text-[var(--muted-text)]",children:[T.value," (",v.length?Math.round(T.value/v.length*100):0,"%)"]})]},T.label))})]})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Rent Collected by Month")}),s.jsx(Ir,{data:{labels:_.labels,datasets:[{label:e("Collected (EGP)"),data:_.values,backgroundColor:"#3b82f6",borderRadius:6}]},options:{responsive:!0,plugins:{legend:{display:!0}},scales:{y:{ticks:{callback:T=>`${T}`}}}}})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Total Rent Trend")}),s.jsx(lo,{data:{labels:P.labels,datasets:[{label:e("Total Contract Value (EGP)"),data:P.values,borderColor:"#10b981",backgroundColor:"rgba(16,185,129,0.2)",tension:.3,fill:!0,pointRadius:3}]},options:{responsive:!0,plugins:{legend:{display:!0}}}})]})]}),s.jsx("div",{"aria-hidden":"true",className:"h-6"}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm nova-table nova-table--glass",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left bg-[var(--table-header-bg)]",children:[s.jsx("th",{className:"px-3 py-2",children:e("Property")}),s.jsx("th",{className:"px-3 py-2",children:e("Tenant")}),s.jsx("th",{className:"px-3 py-2",children:e("Start Date")}),s.jsx("th",{className:"px-3 py-2",children:e("End Date")}),s.jsx("th",{className:"px-3 py-2",children:e("Monthly Rent")}),s.jsx("th",{className:"px-3 py-2",children:e("Amount Paid")}),s.jsx("th",{className:"px-3 py-2",children:e("Balance")}),s.jsx("th",{className:"px-3 py-2",children:e("Payment Status")}),s.jsx("th",{className:"px-3 py-2",children:e("Handled By")})]})}),s.jsxs("tbody",{children:[v.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:9,className:"px-3 py-6 text-center text-[var(--muted-text)]",children:e("No data")})}),v.map(T=>s.jsxs("tr",{className:"border-t border-[var(--table-row-border)] odd:bg-[var(--table-row-bg)] hover:bg-[var(--table-row-hover)] transition-colors",children:[s.jsx("td",{className:"px-3 py-2",children:T.property}),s.jsx("td",{className:"px-3 py-2",children:T.tenant}),s.jsx("td",{className:"px-3 py-2",children:T.start}),s.jsx("td",{className:"px-3 py-2",children:T.end}),s.jsxs("td",{className:"px-3 py-2",children:[T.monthlyRent.toLocaleString()," EGP"]}),s.jsxs("td",{className:"px-3 py-2",children:[T.amountPaid.toLocaleString()," EGP"]}),s.jsxs("td",{className:"px-3 py-2",children:[T.balance.toLocaleString()," EGP"]}),s.jsx("td",{className:"px-3 py-2",children:s.jsx(z,{status:T.paymentStatus})}),s.jsx("td",{className:"px-3 py-2",children:T.handledBy})]},T.id))]})]})})}),s.jsx("div",{"aria-hidden":"true",className:"h-6"})]})})}Cs.register(_n,Tn,Un,pl,ai,cn,on);function BUe(){const{t:e}=Ct(),t=y.useMemo(()=>[{id:1,name:"Ahmed Hassan",checkIn:"2025-11-09T08:00:00",checkOut:"2025-11-09T18:00:00",type:"Table Reservation",status:"Checked-in",handledBy:"Sara Kamal"},{id:2,name:"Mona Said",checkIn:"2025-11-10T14:00:00",checkOut:"2025-11-10T16:00:00",type:"Catering Appointment",status:"No-show",handledBy:"Omar Ali"},{id:3,name:"Delta Group",checkIn:"2025-11-09T10:00:00",checkOut:"2025-11-09T17:00:00",type:"Office Visit",status:"Completed",handledBy:"Ahmed Tarek"},{id:4,name:"Ola Sami",checkIn:"2025-11-11T09:30:00",checkOut:"",type:"Department Visit",status:"Pending",handledBy:"Sara Kamal"},{id:5,name:"Karim Mostafa",checkIn:"2025-11-08T11:15:00",checkOut:"",type:"Appointment",status:"Cancelled",handledBy:"Omar Ali"},{id:6,name:"Yara Samir",checkIn:"2025-11-12T13:00:00",checkOut:"2025-11-12T15:00:00",type:"Office Visit",status:"Completed",handledBy:"Ahmed Tarek"}],[]),[a,r]=y.useState(""),[n,i]=y.useState("day"),[l,o]=y.useState(()=>new Date().toISOString().slice(0,10)),[c,d]=y.useState("all"),u=R=>{const q=new Date(R),ae=q.getDay(),te=(ae===0?-6:1)-ae;return q.setDate(q.getDate()+te),q.setHours(0,0,0,0),q},f=R=>{const q=u(R),ae=new Date(q);return ae.setDate(q.getDate()+6),ae.setHours(23,59,59,999),ae},p=R=>{const q=new Date(R);return q.setHours(0,0,0,0),q},m=R=>{const q=new Date(R);return q.setHours(23,59,59,999),q},v=R=>{const q=new Date(R);return q.setDate(1),q.setHours(0,0,0,0),q},g=R=>{const q=new Date(R);return q.setMonth(q.getMonth()+1),q.setDate(0),q.setHours(23,59,59,999),q},[b,j]=y.useMemo(()=>n==="day"?[p(l),m(l)]:n==="week"?[u(l),f(l)]:[v(l),g(l)],[n,l]),N=R=>{const q=new Date(R);return q>=b&&q<=j},k=y.useMemo(()=>t.filter(R=>{const q=a?String(R.handledBy).toLowerCase().includes(a.toLowerCase().trim()):!0,ae=c==="all"?!0:R.status===c,te=N(R.checkIn);return q&&ae&&te}),[t,a,c,b,j]),S=y.useMemo(()=>k.length,[k]),C=y.useMemo(()=>k.filter(R=>R.status==="No-show").length,[k]),_=y.useMemo(()=>k.filter(R=>R.status==="Completed").length,[k]),P=y.useMemo(()=>k.filter(R=>R.status==="Pending").length,[k]),L=y.useMemo(()=>{const R={Completed:0,Pending:0,"No-show":0,Cancelled:0,"Checked-in":0};return k.forEach(q=>{R[q.status]=(R[q.status]||0)+1}),[{label:"Completed",value:R.Completed,color:"#10b981"},{label:"Pending",value:R.Pending,color:"#f59e0b"},{label:"No-show",value:R["No-show"],color:"#ef4444"},{label:"Cancelled",value:R.Cancelled,color:"#9ca3af"},{label:"Checked-in",value:R["Checked-in"],color:"#3b82f6"}]},[k]),U=R=>{const q=new Date(R);return`${q.getFullYear()}-${String(q.getMonth()+1).padStart(2,"0")}-${String(q.getDate()).padStart(2,"0")}`},z=y.useMemo(()=>{const R=new Map;k.forEach(ae=>{const te=U(ae.checkIn);R.set(te,(R.get(te)||0)+1)});const q=Array.from(R.entries()).sort((ae,te)=>ae[0].localeCompare(te[0]));return{labels:q.map(([ae])=>ae),values:q.map(([,ae])=>ae)}},[k]),T=y.useMemo(()=>{const R=new Map;k.forEach(ae=>{R.set(ae.handledBy,(R.get(ae.handledBy)||0)+1)});const q=Array.from(R.entries()).sort((ae,te)=>ae[0].localeCompare(te[0]));return{labels:q.map(([ae])=>ae),values:q.map(([,ae])=>ae)}},[k]),F=()=>{const R=k.map(te=>({Name:te.name,CheckIn:te.checkIn,CheckOut:te.checkOut||"",DepartmentOrReservation:te.type,Status:te.status,HandledBy:te.handledBy})),q=ea.json_to_sheet(R),ae=ea.book_new();ea.book_append_sheet(ae,q,"CheckIns"),Nr(ae,"check_in_report.xlsx")},M=()=>{window.print()},I=R=>{if(!R)return"";const q=new Date(R),ae=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],te=q.getHours(),K=String(q.getMinutes()).padStart(2,"0"),oe=te>=12?"PM":"AM",D=te%12||12;return`${String(q.getDate()).padStart(2,"0")}-${ae[q.getMonth()]}-${q.getFullYear()}  ${String(D).padStart(2,"0")}:${K} ${oe}`},W=({status:R})=>{const q="px-2 py-1 text-xs rounded-md",ae=R==="Completed"?"bg-emerald-50 text-emerald-600":R==="Pending"?"bg-yellow-50 text-yellow-600":R==="No-show"?"bg-red-50 text-red-600":R==="Cancelled"?"bg-gray-100 text-gray-600":"bg-blue-50 text-blue-600";return s.jsx("span",{className:`${q} ${ae}`,children:e(R)})};return s.jsx(Ht,{titleKey:"Check-in Report",children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:M,className:"btn btn-primary",children:e("Download PDF")}),s.jsx("button",{onClick:F,className:"btn btn-secondary",children:e("Download Excel")})]}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Staff / Manager")}),s.jsx("input",{value:a,onChange:R=>r(R.target.value),className:"input w-full",placeholder:e("e.g. Omar Ali")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Timeframe")}),s.jsxs("select",{value:n,onChange:R=>i(R.target.value),className:"input w-full",children:[s.jsx("option",{value:"day",children:e("Day")}),s.jsx("option",{value:"week",children:e("Week")}),s.jsx("option",{value:"month",children:e("Month")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Reference Date")}),s.jsx("input",{type:"date",value:l,onChange:R=>o(R.target.value),className:"input w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Status")}),s.jsxs("select",{value:c,onChange:R=>d(R.target.value),className:"input w-full",children:[s.jsx("option",{value:"all",children:e("All")}),s.jsx("option",{value:"Checked-in",children:e("Checked-in")}),s.jsx("option",{value:"No-show",children:e("No-show")}),s.jsx("option",{value:"Cancelled",children:e("Cancelled")}),s.jsx("option",{value:"Completed",children:e("Completed")}),s.jsx("option",{value:"Pending",children:e("Pending")})]})]})]})}),s.jsx("div",{"aria-hidden":"true",className:"h-6"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Total Check-ins")}),s.jsx("div",{className:"text-3xl font-bold",children:S})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("No-shows")}),s.jsx("div",{className:"text-3xl font-bold",children:C})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Completed")}),s.jsx("div",{className:"text-3xl font-bold",children:_})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Pending / Upcoming")}),s.jsx("div",{className:"text-3xl font-bold",children:P})]})]}),s.jsx("div",{"aria-hidden":"true",className:"h-6"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Status Distribution")}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx(ei,{segments:L,size:180,cutout:70,centerValue:k.length,centerLabel:e("Check-ins")}),s.jsx("div",{className:"space-y-2 text-sm",children:L.map(R=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-block w-3 h-3 rounded",style:{backgroundColor:R.color}}),s.jsx("span",{children:e(R.label)}),s.jsxs("span",{className:"ml-auto text-[var(--muted-text)]",children:[R.value," (",k.length?Math.round(R.value/k.length*100):0,"%)"]})]},R.label))})]})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Check-ins Trend")}),s.jsx(lo,{data:{labels:z.labels,datasets:[{label:e("Check-ins"),data:z.values,borderColor:"#3b82f6",backgroundColor:"rgba(59,130,246,0.2)",tension:.3,fill:!0,pointRadius:3}]},options:{responsive:!0,plugins:{legend:{display:!0}}}})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("Check-ins per Staff")}),s.jsx(Ir,{data:{labels:T.labels,datasets:[{label:e("Check-ins"),data:T.values,backgroundColor:"#10b981",borderRadius:6}]},options:{responsive:!0,plugins:{legend:{display:!0}}}})]})]}),s.jsx("div",{"aria-hidden":"true",className:"h-6"}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm nova-table nova-table--glass",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left bg-[var(--table-header-bg)]",children:[s.jsx("th",{className:"px-3 py-2",children:e("Name")}),s.jsx("th",{className:"px-3 py-2",children:e("Check-in Date")}),s.jsx("th",{className:"px-3 py-2",children:e("Check-out Date")}),s.jsx("th",{className:"px-3 py-2",children:e("Department / Reservation")}),s.jsx("th",{className:"px-3 py-2",children:e("Status")}),s.jsx("th",{className:"px-3 py-2",children:e("Handled By")})]})}),s.jsxs("tbody",{children:[k.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-3 py-6 text-center text-[var(--muted-text)]",children:e("No data")})}),k.map(R=>s.jsxs("tr",{className:"border-t border-[var(--table-row-border)] odd:bg-[var(--table-row-bg)] hover:bg-[var(--table-row-hover)] transition-colors",children:[s.jsx("td",{className:"px-3 py-2",children:R.name}),s.jsx("td",{className:"px-3 py-2",children:I(R.checkIn)}),s.jsx("td",{className:"px-3 py-2",children:I(R.checkOut)}),s.jsx("td",{className:"px-3 py-2",children:R.type}),s.jsx("td",{className:"px-3 py-2",children:s.jsx(W,{status:R.status})}),s.jsx("td",{className:"px-3 py-2",children:R.handledBy})]},R.id))]})]})})}),s.jsx("div",{"aria-hidden":"true",className:"h-6"})]})})}Cs.register(_n,Tn,Un,pl,ai,cn,on);function $Ue(){const{t:e}=Ct(),t=[{id:1,name:"Ahmed Hassan",type:"VIP",phone:"01012345678",email:"ahmed.hassan@example.com",joinedDate:"2025-01-12",totalRevenue:12e4,orders:15,lastActivity:"2025-11-08",salesperson:"Sara Kamal",history:[{date:"2025-07",amount:15e3},{date:"2025-08",amount:18e3},{date:"2025-09",amount:25e3},{date:"2025-10",amount:32e3},{date:"2025-11",amount:3e4}]},{id:2,name:"Delta Group",type:"Regular",phone:"01234567890",email:"finance@deltagroup.com",joinedDate:"2024-11-20",totalRevenue:85e3,orders:10,lastActivity:"2025-11-05",salesperson:"Omar Ali",history:[{date:"2025-07",amount:12e3},{date:"2025-08",amount:16e3},{date:"2025-09",amount:18e3},{date:"2025-10",amount:19e3},{date:"2025-11",amount:2e4}]},{id:3,name:"Mona Said",type:"New",phone:"01122334455",email:"mona.said@example.com",joinedDate:"2025-09-02",totalRevenue:25e3,orders:3,lastActivity:"2025-11-09",salesperson:"Ahmed Tarek",history:[{date:"2025-09",amount:8e3},{date:"2025-10",amount:9e3},{date:"2025-11",amount:8e3}]},{id:4,name:"Green Labs",type:"VIP",phone:"01098765432",email:"info@greenlabs.com",joinedDate:"2023-07-15",totalRevenue:16e4,orders:22,lastActivity:"2025-10-28",salesperson:"Sara Kamal",history:[{date:"2025-07",amount:28e3},{date:"2025-08",amount:3e4},{date:"2025-09",amount:32e3},{date:"2025-10",amount:35e3},{date:"2025-11",amount:35e3}]},{id:5,name:"ABC Pharma",type:"Regular",phone:"01000099887",email:"contact@abcpharma.co",joinedDate:"2024-03-21",totalRevenue:72e3,orders:9,lastActivity:"2025-09-30",salesperson:"Mona Adel",history:[{date:"2025-07",amount:12e3},{date:"2025-08",amount:14e3},{date:"2025-09",amount:16e3},{date:"2025-10",amount:15e3},{date:"2025-11",amount:15e3}]},{id:6,name:"Nova Tech",type:"New",phone:"01500055544",email:"hello@novatech.io",joinedDate:"2025-08-05",totalRevenue:18e3,orders:2,lastActivity:"2025-10-12",salesperson:"Omar Ali",history:[{date:"2025-08",amount:8e3},{date:"2025-10",amount:1e4}]},{id:7,name:"Medix Co.",type:"Regular",phone:"01200033322",email:"sales@medix.co",joinedDate:"2024-06-11",totalRevenue:54e3,orders:7,lastActivity:"2025-11-03",salesperson:"Ahmed Tarek",history:[{date:"2025-07",amount:9e3},{date:"2025-08",amount:1e4},{date:"2025-10",amount:17e3},{date:"2025-11",amount:18e3}]},{id:8,name:"Sun Health",type:"VIP",phone:"01100998877",email:"support@sunhealth.com",joinedDate:"2023-12-01",totalRevenue:98e3,orders:12,lastActivity:"2025-08-24",salesperson:"Mona Adel",history:[{date:"2025-07",amount:18e3},{date:"2025-08",amount:2e4},{date:"2025-09",amount:22e3},{date:"2025-10",amount:19e3},{date:"2025-11",amount:19e3}]},{id:9,name:"LifeChem",type:"Regular",phone:"01011122233",email:"info@lifechem.org",joinedDate:"2024-10-01",totalRevenue:31e3,orders:4,lastActivity:"2025-10-28",salesperson:"Ahmed Tarek",history:[{date:"2025-09",amount:9e3},{date:"2025-10",amount:11e3},{date:"2025-11",amount:11e3}]},{id:10,name:"CarePlus",type:"New",phone:"01233445566",email:"care@careplus.org",joinedDate:"2025-10-12",totalRevenue:22e3,orders:3,lastActivity:"2025-11-07",salesperson:"Sara Kamal",history:[{date:"2025-10",amount:1e4},{date:"2025-11",amount:12e3}]}],[a,r]=y.useState("all"),[n,i]=y.useState("activity"),[l,o]=y.useState(""),[c,d]=y.useState(""),[u,f]=y.useState("all"),p=z=>{if(!l&&!c)return!0;const T=new Date(z),F=l?T>=new Date(l):!0,M=c?T<=new Date(c):!0;return F&&M},m=y.useMemo(()=>t.filter(z=>{const T=a==="all"||z.salesperson===a,F=u==="all"||z.type===u;let M=z.lastActivity;if(n==="joined"&&(M=z.joinedDate),n==="last"){const W=z.history?.[z.history.length-1]?.date;M=W?`${W}-01`:z.lastActivity}const I=p(M);return T&&F&&I}),[t,a,u,n,l,c]),v=z=>{const T=new Date(z.lastActivity);return Math.floor((new Date("2025-11-09")-T)/(1e3*60*60*24))<=60},g=m.length,b=m.reduce((z,T)=>z+(T.totalRevenue||0),0),j=m.reduce((z,T)=>z+(v(T)?1:0),0),N=Math.max(0,g-j),k=[...m].sort((z,T)=>(T.totalRevenue||0)-(z.totalRevenue||0)).slice(0,5),S=y.useMemo(()=>{const z=new Map;return m.forEach(T=>{z.set(T.type,(z.get(T.type)||0)+(T.totalRevenue||0))}),z},[m]),C=y.useMemo(()=>({Active:m.filter(v).length,Inactive:m.filter(z=>!v(z)).length}),[m]),_=y.useMemo(()=>{const z=new Set;k.forEach(M=>M.history?.forEach(I=>z.add(I.date)));const T=Array.from(z).sort((M,I)=>M.localeCompare(I)),F=k.map(M=>{const I=new Map(M.history.map(W=>[W.date,W.amount]));return{label:M.name,data:T.map(W=>I.get(W)||0),borderColor:`hsl(${M.id*57%360} 70% 45%)`,backgroundColor:"transparent",tension:.3,pointRadius:2}});return{labels:T,datasets:F}},[k]),P=()=>{const z=m.map(M=>({Name:M.name,Type:M.type,Phone:M.phone,Email:M.email,Joined:M.joinedDate,TotalRevenueEGP:M.totalRevenue,Orders:M.orders,LastActivity:M.lastActivity,Salesperson:M.salesperson,Status:v(M)?"Active":"Inactive"})),T=ea.json_to_sheet(z),F=ea.book_new();ea.book_append_sheet(F,T,"Customers"),Nr(F,"customers_report.xlsx")},L=()=>{window.print()},U=z=>s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${z?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-300"}`,children:e(z?"Active":"Inactive")});return s.jsxs(Ht,{titleKey:"Customers Report",children:[s.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[s.jsx("button",{onClick:L,className:"btn btn-primary",children:e("Download PDF")}),s.jsx("button",{onClick:P,className:"btn btn-secondary",children:e("Download Excel")})]}),s.jsx("div",{className:"glass-panel p-4",children:s.jsx("div",{className:"flex items-center justify-between flex-wrap gap-3",children:s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Salesperson")}),s.jsxs(Aa,{value:a,onChange:z=>r(z),className:"min-w-[160px]",children:[s.jsx("option",{value:"all",children:e("All")}),[...new Set(t.map(z=>z.salesperson))].map(z=>s.jsx("option",{value:z,children:z},z))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Customer Type")}),s.jsxs(Aa,{value:u,onChange:z=>f(z),className:"min-w-[140px]",children:[s.jsx("option",{value:"all",children:e("All")}),[...new Set(t.map(z=>z.type))].map(z=>s.jsx("option",{value:z,children:z},z))]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Date Mode")}),s.jsxs(Aa,{value:n,onChange:z=>i(z),className:"min-w-[180px]",children:[s.jsx("option",{value:"activity",children:e("Activity Date")}),s.jsx("option",{value:"joined",children:e("Join Date")}),s.jsx("option",{value:"last",children:e("Last Purchase Date")})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("From")}),s.jsx("input",{type:"date",value:l,onChange:z=>o(z.target.value),className:"input"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("To")}),s.jsx("input",{type:"date",value:c,onChange:z=>d(z.target.value),className:"input"})]})]})})}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[[{label:e("Total Customers"),value:g,color:"bg-blue-500"},{label:e("Total Revenue (EGP)"),value:b.toLocaleString(),color:"bg-emerald-500"},{label:e("Active Customers"),value:j,color:"bg-indigo-500"},{label:e("Inactive Customers"),value:N,color:"bg-rose-500"}].map((z,T)=>s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:z.label}),s.jsx("div",{className:"mt-1 text-2xl font-semibold",children:z.value}),s.jsx("div",{className:`mt-2 h-1.5 rounded ${z.color}`})]},T)),s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("Top 5 Customers by Revenue")}),s.jsxs("ul",{className:"mt-2 space-y-1 text-sm",children:[k.map(z=>s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"truncate max-w-[60%]",children:z.name}),s.jsxs("span",{className:"font-medium",children:[z.totalRevenue.toLocaleString()," EGP"]})]},z.id)),k.length===0&&s.jsx("li",{className:"text-[var(--muted-text)]",children:e("No data")})]})]})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Revenue by Customer Type")}),s.jsx(Ir,{data:{labels:Array.from(S.keys()),datasets:[{label:e("Revenue (EGP)"),data:Array.from(S.values()),backgroundColor:"rgba(16, 185, 129, 0.6)",borderRadius:6}]},options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{ticks:{callback:z=>`${z}`}}}}})]}),s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Active vs Inactive")}),s.jsx(ei,{segments:[{label:e("Active"),value:C.Active,color:"#10b981"},{label:e("Inactive"),value:C.Inactive,color:"#ef4444"}],totalLabel:e("Customers")})]}),s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Revenue Trend  Top Customers")}),s.jsx(lo,{data:{labels:_.labels,datasets:_.datasets},options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{ticks:{callback:z=>`${z}`}}}}})]})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsx("div",{className:"h-6","aria-hidden":"true"}),s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"text-sm font-medium mb-3",children:e("Customers")}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm nova-table nova-table--glass",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left bg-[var(--table-header-bg)]",children:[s.jsx("th",{className:"px-3 py-2",children:e("Customer Name")}),s.jsx("th",{className:"px-3 py-2",children:e("Type")}),s.jsx("th",{className:"px-3 py-2",children:e("Contact")}),s.jsx("th",{className:"px-3 py-2",children:e("Total Revenue")}),s.jsx("th",{className:"px-3 py-2",children:e("Orders")}),s.jsx("th",{className:"px-3 py-2",children:e("Last Activity")}),s.jsx("th",{className:"px-3 py-2",children:e("Status")}),s.jsx("th",{className:"px-3 py-2",children:e("Salesperson")})]})}),s.jsxs("tbody",{children:[m.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"px-3 py-6 text-center text-[var(--muted-text)]",children:e("No data")})}),m.map(z=>s.jsxs("tr",{className:"border-t border-[var(--table-row-border)] odd:bg-[var(--table-row-bg)] hover:bg-[var(--table-row-hover)] transition-colors",children:[s.jsx("td",{className:"px-3 py-2",children:z.name}),s.jsx("td",{className:"px-3 py-2",children:z.type}),s.jsx("td",{className:"px-3 py-2",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:z.phone}),s.jsx("span",{className:"text-[var(--muted-text)]",children:z.email})]})}),s.jsxs("td",{className:"px-3 py-2",children:[z.totalRevenue.toLocaleString()," EGP"]}),s.jsx("td",{className:"px-3 py-2",children:z.orders}),s.jsx("td",{className:"px-3 py-2",children:new Date(z.lastActivity).toLocaleDateString()}),s.jsx("td",{className:"px-3 py-2",children:U(v(z))}),s.jsx("td",{className:"px-3 py-2",children:z.salesperson})]},z.id))]})]})})]}),s.jsx("div",{className:"h-6","aria-hidden":"true"})]})}Cs.register(_n,Tn,pl,ai,Un,Dm,Sx,cn,on);const pS=e=>new Intl.NumberFormat("en-EG",{style:"currency",currency:"EGP",maximumFractionDigits:0}).format(e),xS=()=>{const{t:e}=Ct(),t=$r.dir()==="rtl",a=io(),[r,n]=y.useState("All"),[i,l]=y.useState("All"),[o,c]=y.useState("month"),[d,u]=y.useState(""),[f,p]=y.useState(""),[m,v]=y.useState(""),[g,b]=y.useState(""),j=["All","Ahmed Ali","Sara Hassan"],N=["All","Sales","Operations"],[k]=y.useState(()=>{const I=new Date,W=(R,q,ae,te,K,oe,D,G,H,X,se,ie,ne)=>({name:R,manager:q,team:ae,calls:te,actions:K,delayed:oe,stages:{lead:D,qualified:G,proposal:H,closed:X},revenue:se,targetPct:ie,date:new Date(I.getTime()-ne*24*60*60*1e3)});return[W("Ahmed Ali","Ahmed Ali","Sales",45,30,3,10,12,0,8,82e3,82,2),W("Sara Hassan","Sara Hassan","Sales",58,40,1,14,18,0,8,105e3,105,1),W("Omar Tarek","Ahmed Ali","Operations",32,20,2,8,7,0,5,65e3,65,6),W("Lina Ops","Sara Hassan","Operations",50,35,4,15,12,3,5,73e3,88,10),W("Maram Admin","Ahmed Ali","Sales",62,43,2,20,15,5,3,98e3,91,15)]}),S=I=>{if(o==="day"&&d){const W=new Date(d);return I.toDateString()===W.toDateString()}if(o==="week"&&d){const W=new Date(d),R=new Date(W);R.setDate(W.getDate()-W.getDay());const q=new Date(R);return q.setDate(R.getDate()+6),I>=R&&I<=q}if(o==="month"&&d){const W=new Date(d);return I.getFullYear()===W.getFullYear()&&I.getMonth()===W.getMonth()}if(o==="range"&&f&&m){const W=new Date(f),R=new Date(m);return I>=W&&I<=R}return!0},C=y.useMemo(()=>k.filter(I=>(r==="All"||I.manager===r)&&(i==="All"||I.team===i)&&S(I.date)&&(!g||I.name.toLowerCase().includes(g.toLowerCase()))),[k,r,i,o,d,f,m,g]);y.useEffect(()=>{try{const I=new URLSearchParams(a.search||""),W=I.get("team"),R=I.get("manager");W&&l(W),R&&n(R)}catch{}},[a.search]);const _=y.useMemo(()=>{const I=C.reduce((te,K)=>te+K.calls,0),W=C.reduce((te,K)=>te+K.actions,0),R=C.reduce((te,K)=>te+K.revenue,0),q=C.length?Math.round(C.reduce((te,K)=>te+K.targetPct,0)/C.length):0,ae=C.slice().sort((te,K)=>K.targetPct-te.targetPct)[0]||null;return{totalCalls:I,totalActions:W,totalRevenue:R,avgTarget:q,top:ae}},[C]),P=y.useMemo(()=>({labels:C.map(W=>W.name),datasets:[{label:t?"":"Calls",data:C.map(W=>W.calls),backgroundColor:"#4f46e5"},{label:t?"":"Actions",data:C.map(W=>W.actions),backgroundColor:"#10b981"}]}),[C,t]),L=y.useMemo(()=>{const I=C.reduce((ae,te)=>ae+(te.stages.lead||0),0),W=C.reduce((ae,te)=>ae+(te.stages.qualified||0),0),R=C.reduce((ae,te)=>ae+(te.stages.proposal||0),0),q=C.reduce((ae,te)=>ae+(te.stages.closed||0),0);return{labels:[t?"":"Lead",t?"":"Qualified",t?"":"Proposal",t?"":"Closed"],datasets:[{data:[I,W,R,q],backgroundColor:["#60a5fa","#f59e0b","#a78bfa","#10b981"]}]}},[C,t]),U=y.useMemo(()=>{const I=new Map;C.forEach(q=>{const ae=new Date(q.date.getFullYear(),q.date.getMonth(),q.date.getDate()).toLocaleDateString();I.set(ae,(I.get(ae)||0)+q.targetPct)});const W=Array.from(I.keys()).sort((q,ae)=>new Date(q)-new Date(ae)),R=W.map(q=>Math.round((I.get(q)||0)/C.length));return{labels:W,data:R}},[C]),z=({pct:I})=>{const W=I>=90?"text-emerald-700 bg-emerald-100 ring-emerald-200":I>=60?"text-amber-700 bg-amber-100 ring-amber-200":"text-rose-700 bg-rose-100 ring-rose-200";return s.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ring-1 ${W}`,children:[I,"%"]})},T=({value:I,max:W=100})=>{const R=Math.min(100,Math.round(I/W*100)),q=I>=90?"bg-emerald-600":I>=60?"bg-amber-600":"bg-rose-600";return s.jsx("div",{className:"w-full h-2.5 rounded-full bg-gray-200 dark:bg-gray-800",children:s.jsx("div",{className:`h-2.5 rounded-full ${q}`,style:{width:`${R}%`}})})},F=()=>{const I=C.map(q=>({"Employee Name":q.name,Manager:q.manager,Team:q.team,Calls:q.calls,Actions:q.actions,Delayed:q.delayed,Lead:q.stages.lead,Qualified:q.stages.qualified,Proposal:q.stages.proposal,Closed:q.stages.closed,Revenue:q.revenue,"Target %":q.targetPct,Date:q.date.toLocaleDateString()})),W=ea.json_to_sheet(I),R=ea.book_new();ea.book_append_sheet(R,W,"Team Performance"),Nr(R,"team_performance_report.xlsx")},M=()=>{const I=new fa("l","pt","a4");I.setFontSize(14),I.text(t?"  ":"Team Performance Report",40,40);const W=[[t?"":"Employee",t?"":"Manager",t?"":"Team",t?"":"Calls",t?"":"Actions",t?"":"Delayed",t?"":"Lead",t?"":"Qualified",t?"":"Proposal",t?"":"Closed",t?"":"Revenue",t?" ":"Target %",t?"":"Date"]],R=C.map(q=>[q.name,q.manager,q.team,q.calls,q.actions,q.delayed,q.stages.lead,q.stages.qualified,q.stages.proposal,q.stages.closed,pS(q.revenue),`${q.targetPct}%`,q.date.toLocaleDateString()]);I.autoTable({head:W,body:R,startY:60}),I.save("team_performance_report.pdf")};return s.jsx(Ht,{children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:t?"  ":"Team Performance Report"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-glass",onClick:M,children:t?" PDF":"Download PDF"}),s.jsx("button",{className:"btn btn-glass",onClick:F,children:t?" Excel":"Download Excel"})]})]})}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Manager"}),s.jsx(Aa,{value:r,onChange:I=>n(I),children:j.map(I=>s.jsx("option",{value:I,children:I},I))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?" / ":"Team / Department"}),s.jsx(Aa,{value:i,onChange:I=>l(I),children:N.map(I=>s.jsx("option",{value:I,children:I},I))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Search"}),s.jsx("input",{className:"input w-full",placeholder:t?" ":"Employee name",value:g,onChange:I=>b(I.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?" ":"Period Mode"}),s.jsxs(Aa,{value:o,onChange:I=>{c(I),u(""),p(""),v("")},children:[s.jsx("option",{value:"day",children:t?"":"Day"}),s.jsx("option",{value:"week",children:t?"":"Week"}),s.jsx("option",{value:"month",children:t?"":"Month"}),s.jsx("option",{value:"range",children:t?" ":"Custom Range"})]})]}),o!=="range"&&s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Date"}),s.jsx("input",{type:"date",className:"input w-full",value:d,onChange:I=>u(I.target.value)})]}),o==="range"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Start"}),s.jsx("input",{type:"date",className:"input w-full",value:f,onChange:I=>p(I.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"End"}),s.jsx("input",{type:"date",className:"input w-full",value:m,onChange:I=>v(I.target.value)})]})]})]})}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Total Calls"}),s.jsx("div",{className:"text-2xl font-semibold",children:_.totalCalls})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Total Actions Completed"}),s.jsx("div",{className:"text-2xl font-semibold",children:_.totalActions})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Total Revenue Achieved"}),s.jsx("div",{className:"text-2xl font-semibold text-indigo-600",children:pS(_.totalRevenue)})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?"   ":"Avg Target Achievement %"}),s.jsx("div",{className:"text-2xl font-semibold",children:s.jsx(z,{pct:_.avgTarget})})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Top Performer of the Period"}),s.jsx("div",{className:"text-base font-semibold",children:_.top?_.top.name:t?" ":"N/A"})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:t?"   ":"Calls & Actions per Employee"}),s.jsx(Ir,{data:P,options:{responsive:!0,plugins:{legend:{position:"bottom"}}}})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:t?"   ":"Actions Distribution by Stage"}),s.jsx(Yj,{data:L,options:{responsive:!0}})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:t?"   ":"Team Performance Trend Over Time"}),s.jsx(lo,{data:{labels:U.labels,datasets:[{label:t?" ":"Target %",data:U.data,borderColor:"#4f46e5",backgroundColor:"#4f46e5"}]},options:{responsive:!0,plugins:{legend:{display:!1}}}})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx("div",{className:"glass-panel rounded-xl p-0",children:s.jsxs("table",{className:"nova-table nova-table--glass w-full",children:[s.jsx("thead",{className:"nova-thead bg-gray-50 dark:bg-gray-800/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"nova-th",children:t?"":"Employee Name"}),s.jsx("th",{className:"nova-th",children:t?"":"Calls"}),s.jsx("th",{className:"nova-th",children:t?"":"Actions"}),s.jsx("th",{className:"nova-th",children:t?"":"Delayed"}),s.jsx("th",{className:"nova-th",children:t?" ":"Actions by Stage"}),s.jsx("th",{className:"nova-th",children:t?"":"Revenue"}),s.jsx("th",{className:"nova-th",children:t?"  ":"Target %"})]})}),s.jsxs("tbody",{className:"nova-tbody",children:[C.map((I,W)=>s.jsxs("tr",{className:"nova-tr",children:[s.jsxs("td",{className:"nova-td text-sm",children:[s.jsx("div",{className:"font-medium",children:I.name}),s.jsxs("div",{className:"text-xs text-gray-500",children:[I.team,"  ",I.manager]})]}),s.jsx("td",{className:"nova-td text-sm",children:I.calls}),s.jsx("td",{className:"nova-td text-sm",children:I.actions}),s.jsx("td",{className:"nova-td text-sm",children:I.delayed}),s.jsx("td",{className:"nova-td text-xs",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-blue-50 text-blue-700 ring-1 ring-blue-200",children:[t?"":"Lead",": ",I.stages.lead]}),s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-amber-50 text-amber-700 ring-1 ring-amber-200",children:[t?"":"Qualified",": ",I.stages.qualified]}),s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-violet-50 text-violet-700 ring-1 ring-violet-200",children:[t?"":"Proposal",": ",I.stages.proposal]}),s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-emerald-50 text-emerald-700 ring-1 ring-emerald-200",children:[t?"":"Closed",": ",I.stages.closed]})]})}),s.jsxs("td",{className:"nova-td text-sm",children:[pS(I.revenue),s.jsx("div",{className:"mt-1",children:s.jsx(T,{value:I.targetPct})})]}),s.jsx("td",{className:"nova-td",children:s.jsx(z,{pct:I.targetPct})})]},W)),C.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"nova-td text-center text-sm text-gray-500",colSpan:7,children:t?"  ":"No results"})})]})]})}),s.jsx("div",{className:"h-4","aria-hidden":"true"})]})})};Cs.register(_n,Tn,pl,ai,Un,Dm,Sx,cn,on);const gS=e=>new Intl.NumberFormat("en-EG",{style:"currency",currency:"EGP",maximumFractionDigits:0}).format(e),vS=()=>{const{t:e}=Ct(),t=$r.dir()==="rtl",[a,r]=y.useState("month"),[n,i]=y.useState(""),[l,o]=y.useState(""),[c,d]=y.useState(""),[u,f]=y.useState("All"),[p,m]=y.useState("All"),[v,g]=y.useState("All"),[b,j]=y.useState(""),N=["All","Sales","Operations","Marketing","Inventory"],k=["All","Ahmed Ali","Sara Hassan"],[S]=y.useState(()=>[{key:"campaign_summary",name:"Campaign Summary Overview",route:"/marketing/reports/campaign-summary",revenue:21e4,leads:320,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Marketing",manager:"Sara Hassan",status:"Active"},{key:"cost_vs_revenue",name:"Cost vs Revenue",route:"/marketing/reports/cost-vs-revenue",revenue:42e4,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Marketing",manager:"Sara Hassan",status:"Active"},{key:"monthly_marketing",name:"Monthly Marketing Overview",route:"/marketing/reports/monthly-overview",revenue:18e4,leads:240,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Marketing",manager:"Sara Hassan",status:"Active"},{key:"sales_activities",name:"Sales Activities Report",route:"/reports/sales/activities",revenue:31e4,leads:0,actions:1250,importsSuccess:0,exportsSuccess:0,dept:"Sales",manager:"Ahmed Ali",status:"Active"},{key:"pipeline",name:"Leads Pipeline Report",route:"/reports/sales/pipeline",revenue:53e4,leads:540,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Sales",manager:"Ahmed Ali",status:"Active"},{key:"closed_deals",name:"Closed Deals Report",route:"/reports/sales/closed-deals",revenue:26e4,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Sales",manager:"Ahmed Ali",status:"Active"},{key:"reservations",name:"Reservations Report",route:"/reports/sales/reservations",revenue:145e3,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Sales",manager:"Ahmed Ali",status:"Active"},{key:"customers",name:"Customers Report",route:"/reports/sales/customers",revenue:195e3,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Sales",manager:"Ahmed Ali",status:"Active"},{key:"imports",name:"Imports Report",route:"/reports/sales/imports",revenue:0,leads:0,actions:0,importsSuccess:38,exportsSuccess:0,dept:"Operations",manager:"Sara Hassan",status:"Success"},{key:"exports",name:"Exports Report",route:"/reports/sales/exports",revenue:0,leads:0,actions:0,importsSuccess:0,exportsSuccess:41,dept:"Operations",manager:"Sara Hassan",status:"Success"},{key:"rent",name:"Rent Report",route:"/reports/sales/rent",revenue:87e3,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Operations",manager:"Sara Hassan",status:"Active"},{key:"check_in",name:"Check-in Report",route:"/reports/sales/check-in",revenue:0,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Operations",manager:"Sara Hassan",status:"Checked-in"},{key:"team_performance",name:"Team Performance Report",route:"/reports/team",revenue:0,leads:0,actions:0,importsSuccess:0,exportsSuccess:0,dept:"Sales",manager:"Ahmed Ali",status:"Active"}]),C=y.useMemo(()=>S.filter(M=>(u==="All"||M.dept===u)&&(p==="All"||M.manager===p)&&(v==="All"||M.status===v)&&(!b||M.name.toLowerCase().includes(b.toLowerCase()))),[S,u,p,v,b]),_=y.useMemo(()=>{const M=C.reduce((ae,te)=>ae+(te.revenue||0),0),I=C.reduce((ae,te)=>ae+(te.leads||0),0),W=C.reduce((ae,te)=>ae+(te.actions||0),0),R=C.reduce((ae,te)=>ae+(te.importsSuccess||0),0),q=C.reduce((ae,te)=>ae+(te.exportsSuccess||0),0);return{totalRevenue:M,totalLeads:I,totalActions:W,successfulImports:R,successfulExports:q}},[C]),P=y.useMemo(()=>({labels:C.map(M=>M.name),datasets:[{label:t?"":"Actions",data:C.map(M=>M.actions||0),backgroundColor:"#4f46e5"},{label:t?" ":"Leads",data:C.map(M=>M.leads||0),backgroundColor:"#10b981"}]}),[C,t]),L=y.useMemo(()=>({labels:[t?" ":"Successful Imports",t?" ":"Successful Exports"],datasets:[{data:[_.successfulImports,_.successfulExports],backgroundColor:["#60a5fa","#f59e0b"]}]}),[_,t]),U=y.useMemo(()=>({labels:C.map(M=>M.name),datasets:[{label:t?"":"Revenue",data:C.map(M=>M.revenue||0),borderColor:"#4f46e5",backgroundColor:"#4f46e5"}]}),[C,t]),z=({status:M})=>{const W={Success:"bg-emerald-100 text-emerald-700 ring-emerald-200",Active:"bg-blue-100 text-blue-700 ring-blue-200",Expired:"bg-amber-100 text-amber-700 ring-amber-200","Checked-in":"bg-indigo-100 text-indigo-700 ring-indigo-200","No-show":"bg-rose-100 text-rose-700 ring-rose-200",Failed:"bg-rose-100 text-rose-700 ring-rose-200"}[M]||"bg-gray-100 text-gray-700 ring-gray-200";return s.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ring-1 ${W}`,children:M})},T=()=>{const M=C.map(R=>({Module:R.name,Department:R.dept,Manager:R.manager,Revenue:R.revenue,Leads:R.leads,Actions:R.actions,"Successful Imports":R.importsSuccess,"Successful Exports":R.exportsSuccess,Status:R.status,Route:R.route})),I=ea.json_to_sheet(M),W=ea.book_new();ea.book_append_sheet(W,I,"Reports Dashboard"),Nr(W,"reports_dashboard.xlsx")},F=()=>{const M=new fa("l","pt","a4");M.setFontSize(14),M.text(t?" ":"Reports Dashboard",40,40);const I=[[t?"":"Module",t?"":"Department",t?"":"Manager",t?"":"Revenue",t?" ":"Leads",t?"":"Actions",t?" ":"Successful Imports",t?" ":"Successful Exports",t?"":"Status"]],W=C.map(R=>[R.name,R.dept,R.manager,gS(R.revenue||0),R.leads||0,R.actions||0,R.importsSuccess||0,R.exportsSuccess||0,R.status]);M.autoTable({head:I,body:W,startY:60}),M.save("reports_dashboard.pdf")};return s.jsx(Ht,{children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:t?" ":"Reports Dashboard"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-glass",onClick:F,children:t?" PDF":"Download PDF"}),s.jsx("button",{className:"btn btn-glass",onClick:T,children:t?" Excel":"Download Excel"})]})]})}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?" ":"Period Mode"}),s.jsxs(Aa,{value:a,onChange:M=>{r(M),i(""),o(""),d("")},children:[s.jsx("option",{value:"day",children:t?"":"Day"}),s.jsx("option",{value:"week",children:t?"":"Week"}),s.jsx("option",{value:"month",children:t?"":"Month"}),s.jsx("option",{value:"range",children:t?" ":"Custom Range"})]})]}),a!=="range"&&s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Date"}),s.jsx("input",{type:"date",className:"input w-full",value:n,onChange:M=>i(M.target.value)})]}),a==="range"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Start"}),s.jsx("input",{type:"date",className:"input w-full",value:l,onChange:M=>o(M.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"End"}),s.jsx("input",{type:"date",className:"input w-full",value:c,onChange:M=>d(M.target.value)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?" / ":"Department / Team"}),s.jsx(Aa,{value:u,onChange:M=>f(M),children:N.map(M=>s.jsx("option",{value:M,children:M},M))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Manager"}),s.jsx(Aa,{value:p,onChange:M=>m(M),children:k.map(M=>s.jsx("option",{value:M,children:M},M))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Status"}),s.jsx(Aa,{value:v,onChange:M=>g(M),children:["All","Active","Success","Failed","Expired","Checked-in","No-show"].map(M=>s.jsx("option",{value:M,children:M},M))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:t?"":"Search"}),s.jsx("input",{className:"input w-full",placeholder:t?" ":"Report name",value:b,onChange:M=>j(M.target.value)})]})]})}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Total Revenue"}),s.jsx("div",{className:"text-2xl font-semibold text-indigo-600",children:gS(_.totalRevenue)})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?"  ":"Total Leads"}),s.jsx("div",{className:"text-2xl font-semibold",children:_.totalLeads})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Total Actions"}),s.jsx("div",{className:"text-2xl font-semibold",children:_.totalActions})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Successful Imports"}),s.jsx("div",{className:"text-2xl font-semibold text-emerald-600",children:_.successfulImports})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-gray-500",children:t?" ":"Successful Exports"}),s.jsx("div",{className:"text-2xl font-semibold text-amber-600",children:_.successfulExports})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:t?"   ":"Actions & Leads Across Reports"}),s.jsx(Ir,{data:P,options:{responsive:!0,plugins:{legend:{position:"bottom"}}}})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:t?"/ ":"Successful Imports/Exports"}),s.jsx(Yj,{data:L,options:{responsive:!0}})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:t?"   ":"Revenue Trend by Report"}),s.jsx(lo,{data:U,options:{responsive:!0,plugins:{legend:{display:!1}}}})]})]}),s.jsx("div",{className:"h-4","aria-hidden":"true"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:C.map(M=>s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold",children:M.name}),s.jsxs("div",{className:"text-xs text-gray-500",children:[M.dept,"  ",M.manager]})]}),s.jsx(z,{status:M.status})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500",children:t?"":"Revenue"}),s.jsx("div",{className:"text-sm font-semibold",children:gS(M.revenue||0)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500",children:t?" ":"Leads"}),s.jsx("div",{className:"text-sm font-semibold",children:M.leads||0})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500",children:t?"":"Actions"}),s.jsx("div",{className:"text-sm font-semibold",children:M.actions||0})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx(os,{to:M.route,className:"btn btn-primary",children:t?" ":"Open Report"})})]},M.key))})]})})},g$=e=>{const t=(e||"").toLowerCase();return t.includes("new")?"#3b82f6":t.includes("qual")?"#22c55e":t.includes("progress")?"#f59e0b":t.includes("convert")||t.includes("won")?"#8b5cf6":t.includes("lost")?"#ef4444":"#2563eb"},v$=e=>{const t=(e||"").toLowerCase();return t.includes("new")?"":t.includes("qual")?"":t.includes("progress")?"":t.includes("convert")||t.includes("won")?"":t.includes("lost")?"":""};function UUe(){const{t:e,i18n:t}=Ct(),a=t.language==="ar",{stages:r,statuses:n,loadStages:i,loadStatuses:l}=kx(),[o,c]=y.useState(""),[d,u]=y.useState(""),[f,p]=y.useState("#3b82f6"),[m,v]=y.useState(""),[g,b]=y.useState(""),[j,N]=y.useState(""),[k,S]=y.useState("#3b82f6"),[C,_]=y.useState("");y.useEffect(()=>{p(g$(o)),v(v$(o))},[o]),y.useEffect(()=>{S(g$(g)),_(v$(g))},[g]);const P=y.useMemo(()=>{try{const R=localStorage.getItem("leadsData");if(!R)return[];const q=JSON.parse(R);return Array.isArray(q)?q:[]}catch{return[]}},[]),L=y.useMemo(()=>{const R={};return(Array.isArray(r)?r:[]).forEach(te=>{R[(te.name||te).toLowerCase()]=0}),(Array.isArray(P)?P:[]).forEach(te=>{const K=(te.stage||"").toLowerCase();K in R&&(R[K]=(R[K]||0)+1)}),R},[r,P]),U=y.useMemo(()=>{const R={};return(Array.isArray(n)?n:[]).forEach(te=>{R[(te.name||te).toLowerCase()]=0}),(Array.isArray(P)?P:[]).forEach(te=>{const K=(te.status||"").toLowerCase();K in R&&(R[K]=(R[K]||0)+1)}),R},[n,P]),z=R=>{try{localStorage.setItem("crmStages",JSON.stringify(R)),i()}catch{}},T=R=>{try{localStorage.setItem("crmStatuses",JSON.stringify(R)),l()}catch{}},F=R=>{R?.preventDefault?.();const q=(o||"").trim();if(!q||(r||[]).some(K=>(K.name||K).toLowerCase()===q.toLowerCase()))return;const te=[{name:q,nameAr:(d||"").trim(),color:f,icon:m},...r];z(te),c(""),u("")},M=R=>{const q=(r||[]).filter(ae=>(ae.name||ae).toLowerCase()!==R.toLowerCase());z(q)},I=R=>{R?.preventDefault?.();const q=(g||"").trim();if(!q||(n||[]).some(K=>(K.name||K).toLowerCase()===q.toLowerCase()))return;const te=[{name:q,nameAr:(j||"").trim(),color:k,icon:C},...n];T(te),b(""),N("")},W=R=>{const q=(n||[]).filter(ae=>(ae.name||ae).toLowerCase()!==R.toLowerCase());T(q)};return s.jsx(Ht,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-primary",children:e("Pipeline Stages & Leads Status")}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"glass-panel rounded-2xl p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("div",{className:`flex items-center ${t.language==="ar"?"flex-row-reverse":""} gap-2`,children:[s.jsx("span",{"aria-hidden":!0,className:"inline-block w-1 h-5 rounded bg-blue-500"}),s.jsx("h2",{className:"text-lg font-semibold",children:e("Pipeline Stages")})]})}),s.jsxs("form",{className:"grid grid-cols-2 gap-3 mb-4",onSubmit:F,children:[s.jsx("input",{className:"input",placeholder:e("Stage name (EN)"),value:o,onChange:R=>c(R.target.value)}),s.jsx("input",{className:"input",placeholder:e("Stage name (AR)"),value:d,onChange:R=>u(R.target.value)}),s.jsx("input",{className:"input",placeholder:e("Color"),value:f,onChange:R=>p(R.target.value)}),s.jsx("input",{className:"input",placeholder:e("Icon"),value:m,onChange:R=>v(R.target.value)}),s.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-primary",type:"submit",children:e("Add")}),s.jsxs("span",{className:"inline-flex items-center gap-2 px-2 py-1 rounded text-white text-xs",style:{backgroundColor:f},children:[s.jsx("span",{children:m}),s.jsx("span",{children:a&&d||o||e("Preview")})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[(r||[]).length===0&&s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("No stages added yet.")}),(r||[]).map(R=>{const q=R.name||String(R),ae=a&&R.nameAr||q,te=L[(q||"").toLowerCase()]||0;return s.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 dark:border-gray-700 p-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"inline-flex items-center gap-2 px-2 py-1 rounded text-white text-xs",style:{backgroundColor:R.color||"#3b82f6"},children:[s.jsx("span",{children:R.icon||""}),s.jsx("span",{children:ae})]}),s.jsxs("span",{className:"text-xs text-[var(--muted-text)]",children:[e("Leads"),": ",te]})]}),s.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>M(q),children:e("Remove")})]},q)})]})]}),s.jsxs("div",{className:"glass-panel rounded-2xl p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("h2",{className:"text-lg font-semibold",children:e("Leads Status")})}),s.jsxs("form",{className:"grid grid-cols-2 gap-3 mb-4",onSubmit:I,children:[s.jsx("input",{className:"input",placeholder:e("Status name (EN)"),value:g,onChange:R=>b(R.target.value)}),s.jsx("input",{className:"input",placeholder:e("Status name (AR)"),value:j,onChange:R=>N(R.target.value)}),s.jsx("input",{className:"input",placeholder:e("Color"),value:k,onChange:R=>S(R.target.value)}),s.jsx("input",{className:"input",placeholder:e("Icon"),value:C,onChange:R=>_(R.target.value)}),s.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-primary",type:"submit",children:e("Add")}),s.jsxs("span",{className:"inline-flex items-center gap-2 px-2 py-1 rounded text-white text-xs",style:{backgroundColor:k},children:[s.jsx("span",{children:C}),s.jsx("span",{children:a&&j||g||e("Preview")})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[(n||[]).length===0&&s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:e("No statuses added yet.")}),(n||[]).map(R=>{const q=R.name||String(R),ae=a&&R.nameAr||q,te=U[(q||"").toLowerCase()]||0;return s.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 dark:border-gray-700 p-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"inline-flex items-center gap-2 px-2 py-1 rounded text-white text-xs",style:{backgroundColor:R.color||"#3b82f6"},children:[s.jsx("span",{children:R.icon||""}),s.jsx("span",{children:ae})]}),s.jsxs("span",{className:"text-xs text-[var(--muted-text)]",children:[e("Leads"),": ",te]})]}),s.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>W(q),children:e("Remove")})]},q)})]})]})]})]})})}function zUe(){const e=Ys(),{login:t}=Bj(),[a,r]=y.useState(""),[n,i]=y.useState(""),[l,o]=y.useState(null),[c,d]=y.useState(!1),u=async f=>{f.preventDefault(),o(null),d(!0);try{const p=(a||"").trim(),m=(n||"").trim();await t(p,m),e("/dashboard")}catch{o("Invalid credentials")}finally{d(!1)}};return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-sky-200 via-cyan-200 to-teal-300 dark:from-slate-900 dark:via-cyan-900/80 dark:to-teal-900 p-4",children:s.jsxs("form",{onSubmit:u,className:"w-full max-w-sm p-8 rounded-3xl bg-white/30 dark:bg-gray-800/30 backdrop-blur-md border border-white/40 shadow-lg space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4 text-center",children:"Login"}),s.jsx("input",{type:"email",value:a,onChange:f=>r(f.target.value),placeholder:"Email",required:!0,autoFocus:!0,className:"w-full p-3 rounded-xl border border-gray-300 dark:border-gray-700 bg-white/60 dark:bg-gray-700/50 text-gray-900 dark:text-white placeholder-gray-600 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-400"}),s.jsx("input",{type:"password",value:n,onChange:f=>i(f.target.value),placeholder:"Password",required:!0,className:"w-full p-3 rounded-xl border border-gray-300 dark:border-gray-700 bg-white/60 dark:bg-gray-700/50 text-gray-900 dark:text-white placeholder-gray-600 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-400"}),s.jsx("button",{type:"submit",disabled:c,className:"w-full p-3 rounded-xl bg-cyan-500 text-white font-semibold shadow-md hover:bg-cyan-600 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all",children:c?"Loading":"Login"}),l&&s.jsx("p",{className:"text-red-600 text-sm text-center",children:l})]})})}function HUe(){return s.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md rounded-lg border border-gray-300 dark:border-gray-700 p-6 space-y-3",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Subscription Expired"}),s.jsx("p",{children:"Your subscription has expired. Please renew to continue."})]})})}function VUe(){return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Upgrade Plan"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Your current plan limits access to this feature. Please upgrade to unlock advanced modules and settings."}),s.jsxs("div",{className:"mt-4 flex gap-3",children:[s.jsx("a",{href:"#",className:"px-4 py-2 rounded-md bg-indigo-600 text-white text-sm",children:"View Plans"}),s.jsx("a",{href:"#",className:"px-4 py-2 rounded-md border border-gray-300 dark:border-gray-700 text-sm",children:"Contact Sales"})]})]})}function WUe(){const e=Ys(),t=[{key:"clients",title:"Client Management",desc:"Track clients and communication history with ease."},{key:"leads",title:"Leads Management",desc:"Manage lead stages smartly with quick filtering."},{key:"marketing",title:"Marketing & Campaigns",desc:"Launch campaigns and track landing results."},{key:"reports",title:"Reports & Analytics",desc:"Visualize performance with smart dashboards."},{key:"inventory",title:"Inventory",desc:"Manage products, stock, and transactions efficiently."},{key:"projects",title:"Projects",desc:"Track projects, timelines, and milestones with ease."},{key:"settings",title:"Settings",desc:"Configure modules, roles, and subscription details."},{key:"requests",title:"Requests",desc:"Manage requests and follow-ups efficiently."}],a=n=>{const i="w-12 h-12";switch(n){case"clients":return s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-teal-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[s.jsx("circle",{cx:"12",cy:"12",r:"6",strokeWidth:"2"}),s.jsx("path",{d:"M6 20c2-3 10-3 12 0",strokeWidth:"2"})]});case"leads":return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-orange-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:s.jsx("path",{d:"M5 13l4 4L19 7",strokeWidth:"2"})});case"marketing":return s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-purple-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[s.jsx("path",{d:"M3 8l9 6 9-6",strokeWidth:"2"}),s.jsx("path",{d:"M5 19h14",strokeWidth:"2"})]});case"reports":return s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-blue-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[s.jsx("rect",{x:"6",y:"12",width:"3",height:"8"}),s.jsx("rect",{x:"11",y:"9",width:"3",height:"11"}),s.jsx("rect",{x:"16",y:"6",width:"3",height:"14"})]});case"inventory":return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-yellow-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:s.jsx("rect",{x:"3",y:"7",width:"18",height:"14",rx:"2"})});case"projects":return s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-gray-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[s.jsx("rect",{x:"4",y:"7",width:"16",height:"12"}),s.jsx("path",{d:"M4 7l4-3h8l4 3"})]});case"settings":return s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-indigo-500`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[s.jsx("circle",{cx:"12",cy:"12",r:"3"}),s.jsx("path",{d:"M19 12a7 7 0 01-.3 2l2 1-2 3-2-1a7 7 0 01-2 1l-.3 2H9l-.3-2a7 7 0 01-2-1l-2 1-2-3 2-1A7 7 0 015 12a7 7 0 01.3-2L3 9l2-3 2 1a7 7 0 012-1L9 4h6l.3 2a7 7 0 012 1l2-1 2 3-2 1c.3.6.4 1.3.4 2z"})]});case"requests":return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${i} text-teal-600`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:s.jsx("path",{d:"M5 13l4 4L19 7",strokeWidth:"2"})});default:return null}},r={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08}}};return s.jsxs("div",{className:"relative min-h-screen flex flex-col pb-20 sm:pb-24 bg-gradient-to-br from-cyan-200 via-sky-300 to-indigo-200 dark:from-gray-900 dark:via-indigo-900 dark:to-purple-900",children:[s.jsx(sh.header,{className:"w-full bg-white/20 dark:bg-gray-800/25 backdrop-blur-md border-b border-white/30 dark:border-gray-600 shadow",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:s.jsxs("div",{className:"flex justify-between items-center w-full max-w-6xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:Tm,alt:"Be Souhola",className:"w-16 h-16 sm:w-20 sm:h-20 drop-shadow-lg"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs sm:text-sm text-white/90 drop-shadow-md",children:"Make everything ....."}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-white via-sky-100 to-cyan-200 text-transparent bg-clip-text drop-shadow-lg",children:"Be Souhola"})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("nav",{className:"hidden sm:flex items-center gap-4 text-white/90",children:[s.jsx(Bt,{to:"/",className:({isActive:n})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${n?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Home"}),s.jsx(Bt,{to:"/about",className:({isActive:n})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${n?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"About"}),s.jsx(Bt,{to:"/welcome/contact",className:({isActive:n})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${n?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Contact"}),s.jsx(Bt,{to:"/pricing",className:({isActive:n})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${n?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Pricing"})]}),s.jsx("button",{onClick:()=>e("/login"),className:"px-8 py-3 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow-lg transition-all duration-200 hover:bg-white/40 hover:scale-105 hover:shadow-2xl hover:ring-2 hover:ring-white/40",children:"LOGIN "})]})]})}),s.jsx(sh.div,{variants:r,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 mt-12 sm:mt-16 w-full max-w-6xl mx-auto px-6 sm:px-10",children:t.map((n,i)=>s.jsxs(sh.div,{whileHover:{scale:1.05,y:-5},className:"bg-white/30 dark:bg-gray-800/30 backdrop-blur-md rounded-3xl p-6 flex flex-col gap-4 cursor-pointer transition-all border border-white/40 dark:border-gray-600 shadow-md",children:[a(n.key),s.jsx("h3",{className:"text-lg font-semibold text-white drop-shadow-md",children:n.title}),s.jsx("p",{className:"text-sm text-white/80",children:n.desc})]},i))}),s.jsx("footer",{className:"fixed bottom-0 left-0 w-full border-t border-gray-200/60 dark:border-gray-700/60 bg-white/70 dark:bg-gray-900/40 backdrop-blur-md",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-6 sm:px-10 py-2 sm:py-3 flex items-center justify-between text-xs sm:text-sm",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" 2024 Be Souhola"}),s.jsxs("nav",{className:"flex items-center gap-4",children:[s.jsx(os,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Privacy"}),s.jsx(os,{to:"/terms",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Terms"}),s.jsx(os,{to:"/welcome/contact",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Contact"})]})]})})]})}function qUe(){const e=Ys(),t=[{name:"Basic",price:"$19/mo",duration:"Monthly",features:["Up to 3 users","Email support","Basic reports"]},{name:"Pro",price:"$49/mo",duration:"Monthly",features:["Up to 10 users","Priority support","Advanced analytics"]},{name:"Enterprise",price:"Custom",duration:"Annual",features:["Unlimited users","Dedicated manager","Custom integrations"]}];return s.jsxs("div",{className:"relative min-h-screen flex flex-col pb-20 sm:pb-24 bg-gradient-to-br from-cyan-200 via-sky-300 to-indigo-200 dark:from-gray-900 dark:via-indigo-900 dark:to-purple-900",children:[s.jsx(sh.header,{className:"w-full bg-white/20 dark:bg-gray-800/25 backdrop-blur-md border-b border-white/30 dark:border-gray-600 shadow",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:s.jsxs("div",{className:"flex justify-between items-center w-full max-w-6xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:Tm,alt:"Be Souhola",className:"w-16 h-16 sm:w-20 sm:h-20 drop-shadow-lg"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs sm:text-sm text-white/90 drop-shadow-md",children:"Make everything ....."}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-white via-sky-100 to-cyan-200 text-transparent bg-clip-text drop-shadow-lg",children:"Be Souhola"})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("nav",{className:"hidden sm:flex items-center gap-4 text-white/90",children:[s.jsx(Bt,{to:"/",className:({isActive:a})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${a?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Home"}),s.jsx(Bt,{to:"/about",className:({isActive:a})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${a?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"About"}),s.jsx(Bt,{to:"/welcome/contact",className:({isActive:a})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${a?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Contact"}),s.jsx(Bt,{to:"/pricing",className:({isActive:a})=>`inline-flex items-center px-3 py-1 rounded-full transition-all duration-200 hover:text-white hover:scale-105 bg-gradient-to-r ${a?"from-white/10 to-transparent text-white scale-105 ring-1 ring-white/30":"from-transparent to-transparent"}`,children:"Pricing"})]}),s.jsx("button",{onClick:()=>e("/login"),className:"px-8 py-3 rounded-full bg-white/25 backdrop-blur-md text-white font-semibold shadow-lg transition-all duration-200 hover:bg-white/40 hover:scale-105 hover:shadow-2xl hover:ring-2 hover:ring-white/40",children:"LOGIN "})]})]})}),s.jsx("main",{className:"flex-1 w-full",children:s.jsxs("div",{className:"mx-auto max-w-6xl px-6 sm:px-10 mt-8 sm:mt-12",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white/90 mb-6 text-center",children:"Plans & Pricing"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map((a,r)=>s.jsxs("div",{className:"bg-white/30 dark:bg-gray-800/30 backdrop-blur-md rounded-3xl p-6 border border-white/40 dark:border-gray-700 shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-lg font-semibold text-white",children:a.name}),s.jsx("span",{children:""})]}),s.jsx("div",{className:"text-2xl font-bold mb-1 text-white/90",children:a.price}),s.jsx("div",{className:"text-sm text-white/80 mb-3",children:a.duration}),s.jsx("ul",{className:"text-sm text-white/90 space-y-1 mb-4",children:a.features.map((n,i)=>s.jsxs("li",{children:[" ",n]},i))}),s.jsx(os,{to:"/upgrade",className:"inline-block px-4 py-2 rounded-lg bg-blue-600 text-white shadow hover:bg-blue-700",children:"Upgrade Plan"})]},r))})]})}),s.jsx("footer",{className:"fixed bottom-0 left-0 w-full border-t border-gray-200/60 dark:border-gray-700/60 bg-white/70 dark:bg-gray-900/40 backdrop-blur-md",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-6 sm:px-10 py-2 sm:py-3 flex items-center justify-between text-xs sm:text-sm",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" 2024 Be Souhola"}),s.jsxs("nav",{className:"flex items-center gap-4",children:[s.jsx(os,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Privacy"}),s.jsx(os,{to:"/terms",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Terms"}),s.jsx(os,{to:"/welcome/contact",className:"text-blue-600 hover:text-blue-700 dark:text-blue-300",children:"Contact"})]})]})})]})}const GUe={BASE_URL:"/crm-ibrahim/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE:"http://localhost:8787",VITE_DISABLE_SUBSCRIPTION:"1",VITE_GMAIL_CLIENT_ID:"502667518650-9q9le5f8qrqu1nmolb980ohta8grsd7c.apps.googleusercontent.com",VITE_GMAIL_REDIRECT_URI:"http://localhost:5176/crm-ibrahim/",VITE_GOOGLE_ADS_CLIENT_ID:"502667518650-9q9le5f8qrqu1nmolb980ohta8grsd7c.apps.googleusercontent.com",VITE_GOOGLE_ADS_REDIRECT_URI:"http://localhost:5176/crm-ibrahim/"};function KUe(){const{t:e}=Ct(),t=Ys(),[a,r]=y.useState([]),[n,i]=y.useState(!0),[l,o]=y.useState(""),[c,d]=y.useState(!1),[u,f]=y.useState(""),p=[{id:"OPP-001",customerId:"CUST-001",status:"New",amount:25e3,stage:"Qualification",expectedCloseDate:new Date(Date.now()+168*3600*1e3).toISOString(),createdAt:new Date(Date.now()-48*3600*1e3).toISOString()},{id:"OPP-002",customerId:"CUST-002",status:"In Progress",amount:78e3,stage:"Proposal",expectedCloseDate:new Date(Date.now()+336*3600*1e3).toISOString(),createdAt:new Date(Date.now()-24*3600*1e3).toISOString()},{id:"OPP-003",customerId:"CUST-003",status:"New",amount:12e3,stage:"Negotiation",expectedCloseDate:new Date(Date.now()+504*3600*1e3).toISOString(),createdAt:new Date().toISOString()}],[m,v]=y.useState([]),[g,b]=y.useState(""),[j,N]=y.useState(""),[k,S]=y.useState(""),[C,_]=y.useState(""),[P,L]=y.useState("New"),[U,z]=y.useState("Qualification"),[T,F]=y.useState(""),[M,I]=y.useState(""),[W,R]=y.useState(""),[q,ae]=y.useState("Individual"),[te,K]=y.useState(""),[oe,D]=y.useState(""),[G,H]=y.useState(""),[X,se]=y.useState(""),[ie,ne]=y.useState(!1),[J,le]=y.useState(!1);y.useEffect(()=>{let ce=!0;return i(!0),o(""),ya.get("/api/customers/opportunities").then(Ie=>{if(!ce)return;const we=Ie?.data?.data,$e=Array.isArray(we?.items)?we.items:[];r($e.length>0?$e:p)}).catch(Ie=>{if(!ce)return;o(`Failed to load from ${typeof import.meta<"u"&&GUe&&"http://localhost:8787"||"/"}/api/customers/opportunities`),r(p)}).finally(()=>ce&&i(!1)),()=>{ce=!1}},[]),y.useEffect(()=>{let ce=!0;return ya.get("/api/customers").then(Ie=>{if(!ce)return;const we=Ie?.data?.data,$e=Array.isArray(we?.items)?we.items:[];v($e)}).catch(()=>{}),()=>{ce=!1}},[]);const pe=["New","In Progress","Won","Lost"],Q=["Qualification","Proposal","Negotiation","Final"],xe=()=>{b(""),N(""),S(""),_(""),L("New"),z("Qualification"),F("")},he=ce=>{if(ce.preventDefault(),c)return;d(!0),o(""),f("");const Ie={customerId:g||void 0,contact:j||void 0,amount:k?Number(k):void 0,expectedCloseDate:C||void 0,status:P,stage:U,notes:T||void 0};ya.post("/api/customers/opportunities",Ie).then(we=>{const $e=we?.data?.data?.item;$e&&(r(Be=>[$e,...Be]),xe(),f(e("Saved successfully")))}).catch(we=>{const $e={id:`local-${Date.now()}`,status:P,stage:U,amount:k?Number(k):void 0,customerId:g||void 0,expectedCloseDate:C||void 0,createdAt:new Date().toISOString()};r(Be=>[$e,...Be]),xe(),f(e("Saved successfully"))}).finally(()=>d(!1))},[ue,Le]=y.useState(""),ze=ce=>{ue||(Le(ce),ya.post("/api/customers/quotations",{opportunityId:ce,items:[]}).then(()=>{t("/sales/quotations")}).catch(()=>{}).finally(()=>Le("")))},Ce=ce=>{if(ce?.preventDefault?.(),!M.trim()||!W.trim()||ie)return;ne(!0);const Ie={name:M.trim(),phone:W.trim(),type:q||"Individual",companyName:oe||void 0,contacts:te?[te.trim()]:[],tags:G?G.split(",").map(we=>we.trim()).filter(Boolean):[],assignedSalesRep:X||void 0};ya.post("/api/customers",Ie).then(we=>{const $e=we?.data?.data?.item;$e&&(v(Be=>[$e,...Be]),b($e.id),I(""),R(""),ae("Individual"),K(""),D(""),H(""),se(""),le(!1))}).catch(()=>{}).finally(()=>ne(!1))};return s.jsxs(Ht,{children:[s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-semibold",children:e("Opportunities")}),s.jsx("div",{className:"text-sm text-gray-500",children:e("Sales")})]}),s.jsxs("form",{onSubmit:he,className:"mb-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Customer")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{value:g,onChange:ce=>b(ce.target.value),className:"flex-1 border rounded px-2 py-2",children:[s.jsx("option",{value:"",children:e("Select")}),m.map(ce=>s.jsx("option",{value:ce.id,children:ce.name},ce.id))]}),s.jsx("button",{onClick:()=>le(!0),className:"px-3 py-2 rounded bg-indigo-600 text-white",type:"button",disabled:ie,title:e("Quick add"),children:ie?e("..."):"+"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Contact (B2B)")}),s.jsx("input",{value:j,onChange:ce=>N(ce.target.value),placeholder:e("Contact person"),className:"w-full border rounded px-2 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Amount")}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:k,onChange:ce=>S(ce.target.value),placeholder:e("Amount"),className:"w-full border rounded px-2 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Expected Close Date")}),s.jsx("input",{type:"date",value:C,onChange:ce=>_(ce.target.value),className:"w-full border rounded px-2 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Status")}),s.jsx("select",{value:P,onChange:ce=>L(ce.target.value),className:"w-full border rounded px-2 py-2",children:pe.map(ce=>s.jsx("option",{value:ce,children:e(ce)},ce))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Stage")}),s.jsx("select",{value:U,onChange:ce=>z(ce.target.value),className:"w-full border rounded px-2 py-2",children:Q.map(ce=>s.jsx("option",{value:ce,children:e(ce)},ce))})]}),s.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Notes")}),s.jsx("textarea",{value:T,onChange:ce=>F(ce.target.value),placeholder:e("Optional"),className:"w-full border rounded px-2 py-2 min-h-[80px]"})]}),s.jsxs("div",{className:"md:col-span-2 lg:col-span-3 flex gap-2",children:[s.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 rounded bg-green-600 text-white",children:e("Add Opportunity")}),c&&s.jsx("span",{className:"text-gray-500 px-2",children:e("Saving...")})]})]}),l&&s.jsx("div",{className:"mb-3 p-3 rounded border border-red-300 bg-red-50 text-red-700",children:l}),u&&s.jsx("div",{className:"mb-3 p-3 rounded border border-green-300 bg-green-50 text-green-700",children:u}),n?s.jsx("div",{className:"text-gray-500",children:e("Loading...")}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b",children:[s.jsx("th",{className:"p-2",children:e("Customer")}),s.jsx("th",{className:"p-2",children:e("Status")}),s.jsx("th",{className:"p-2",children:e("Amount")}),s.jsx("th",{className:"p-2",children:e("Stage")}),s.jsx("th",{className:"p-2",children:e("Expected Close Date")}),s.jsx("th",{className:"p-2",children:e("Created")}),s.jsx("th",{className:"p-2",children:e("Actions")})]})}),s.jsx("tbody",{children:a.length===0?s.jsx("tr",{children:s.jsx("td",{className:"p-3 text-gray-500",colSpan:7,children:e("No data")})}):a.map(ce=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"p-2",children:ce.customerId||"-"}),s.jsx("td",{className:"p-2",children:ce.status}),s.jsx("td",{className:"p-2",children:typeof ce.amount=="number"?ce.amount.toLocaleString():ce.amount}),s.jsx("td",{className:"p-2",children:ce.stage}),s.jsx("td",{className:"p-2",children:ce.expectedCloseDate?new Date(ce.expectedCloseDate).toLocaleDateString():"-"}),s.jsx("td",{className:"p-2",children:ce.createdAt?new Date(ce.createdAt).toLocaleString():"-"}),s.jsx("td",{className:"p-2",children:s.jsx("button",{className:"px-3 py-1 rounded bg-purple-600 text-white",title:e("Convert to Quotation"),onClick:()=>ze(ce.id),disabled:ue===ce.id,children:ue===ce.id?e("Saving..."):e("Convert to Quotation")})})]},ce.id))})]})})]}),J&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>le(!1)}),s.jsxs("div",{className:"relative z-50 glass-panel rounded-xl p-4 w-[420px] max-w-[95vw]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:e("Quick Add Customer")}),s.jsx("button",{className:"btn btn-glass",onClick:()=>le(!1),children:e("Close")})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Name")}),s.jsx("input",{className:"input",value:M,onChange:ce=>I(ce.target.value),placeholder:e("Customer Name")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Phone")}),s.jsx("input",{className:"input",value:W,onChange:ce=>R(ce.target.value),placeholder:e("Phone")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Type")}),s.jsxs("select",{className:"input",value:q,onChange:ce=>ae(ce.target.value),children:[s.jsx("option",{value:"Individual",children:e("Individual")}),s.jsx("option",{value:"Company",children:e("Company")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Contact")}),s.jsx("input",{className:"input",value:te,onChange:ce=>K(ce.target.value),placeholder:e("Contact person")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Company")}),s.jsx("input",{className:"input",value:oe,onChange:ce=>D(ce.target.value),placeholder:e("Company name")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Tags")}),s.jsx("input",{className:"input",value:G,onChange:ce=>H(ce.target.value),placeholder:e("Comma separated")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Assigned Rep")}),s.jsx("input",{className:"input",value:X,onChange:ce=>se(ce.target.value),placeholder:e("Sales representative")})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"btn",onClick:()=>le(!1),children:e("Cancel")}),s.jsx("button",{className:"btn btn-primary",onClick:Ce,disabled:ie,children:e(ie?"Saving...":"Save")})]})]})]})]})]})}const YUe={BASE_URL:"/crm-ibrahim/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE:"http://localhost:8787",VITE_DISABLE_SUBSCRIPTION:"1",VITE_GMAIL_CLIENT_ID:"502667518650-9q9le5f8qrqu1nmolb980ohta8grsd7c.apps.googleusercontent.com",VITE_GMAIL_REDIRECT_URI:"http://localhost:5176/crm-ibrahim/",VITE_GOOGLE_ADS_CLIENT_ID:"502667518650-9q9le5f8qrqu1nmolb980ohta8grsd7c.apps.googleusercontent.com",VITE_GOOGLE_ADS_REDIRECT_URI:"http://localhost:5176/crm-ibrahim/"};function XUe(){const{t:e}=Ct(),[t,a]=y.useState([]),[r,n]=y.useState(!0),[i,l]=y.useState(""),[o,c]=y.useState(!1),[d,u]=y.useState(""),[f,p]=y.useState(""),[m,v]=y.useState([]),g=[{id:"QUO-1001",status:"Draft",subtotal:25e3,tax:3500,total:28500,opportunityId:"OPP-001",createdAt:new Date(Date.now()-36*3600*1e3).toISOString()},{id:"QUO-1002",status:"Sent",subtotal:78e3,tax:10920,total:88920,opportunityId:"OPP-002",createdAt:new Date(Date.now()-12*3600*1e3).toISOString()},{id:"QUO-1003",status:"Approved",subtotal:12e3,tax:1680,total:13680,opportunityId:"OPP-003",createdAt:new Date().toISOString()}],[b,j]=y.useState([]),[N,k]=y.useState(""),[S,C]=y.useState([{name:"",quantity:1,unitPrice:0,discount:0}]),[_,P]=y.useState(null),[L,U]=y.useState(""),[z,T]=y.useState(""),[F,M]=y.useState(.14),[I,W]=y.useState(!1),R=y.useMemo(()=>S.reduce((ne,J)=>ne+(Number(J.quantity)||0)*(Number(J.unitPrice)||0)-(Number(J.discount)||0),0),[S]),q=y.useMemo(()=>Math.round(R*Number(F||.14)*100)/100,[R,F]),ae=y.useMemo(()=>Math.round((R+q)*100)/100,[R,q]);y.useEffect(()=>{let ne=!0;return n(!0),l(""),ya.get("/api/customers/quotations").then(J=>{if(!ne)return;const le=J?.data?.data,pe=Array.isArray(le?.items)?le.items:[];a(pe.length>0?pe:g)}).catch(()=>{const J=typeof import.meta<"u"&&YUe&&"http://localhost:8787"||"/";ne&&(l(`Failed to load from ${J}/api/customers/quotations`),a(g))}).finally(()=>ne&&n(!1)),()=>{ne=!1}},[]),y.useEffect(()=>{let ne=!0;return ya.get("/api/customers/opportunities").then(J=>{if(!ne)return;const le=J?.data?.data,pe=Array.isArray(le?.items)?le.items:[];j(pe)}).catch(()=>{}),()=>{ne=!1}},[]),y.useEffect(()=>{let ne=!0;return ya.get("/api/settings").then(J=>{if(!ne)return;const le=J?.data?.data?.settings?.sales?.taxRate;typeof le=="number"&&M(le)}).catch(()=>{}),()=>{ne=!1}},[]);const te=(ne,J)=>{C(le=>le.map((pe,Q)=>Q===ne?{...pe,...J}:pe))},K=()=>C(ne=>[...ne,{name:"",quantity:1,unitPrice:0,discount:0}]),oe=ne=>C(J=>J.filter((le,pe)=>pe!==ne)),D=ne=>{if(ne.preventDefault(),o)return;c(!0),(async()=>{try{let le;if(z){const xe=await ya.post("/api/uploads/base64",{fileName:L||"attachment",dataUrl:z});le=xe?.data?.data?.url||xe?.data?.url||xe?.data?.data?.data?.url}const pe={opportunityId:N,items:S.map(xe=>({name:xe.name,quantity:Number(xe.quantity)||0,unitPrice:Number(xe.unitPrice)||0,discount:Number(xe.discount)||0})),attachment:le||void 0};return await ya.post("/api/customers/quotations",pe)}catch(le){throw le}})().then(le=>{const pe=le?.data?.data?.item;pe&&(a(Q=>[pe,...Q]),k(""),C([{name:"",quantity:1,unitPrice:0,discount:0}]),P(null),U(""),T(""),u(e("Saved successfully")),setTimeout(()=>u(""),3e3))}).catch(le=>{const pe=le?.response?.data?.message||"Failed to create";l(typeof pe=="string"?pe:"Failed to create")}).finally(()=>c(!1))},G=ne=>{ya.post(`/api/customers/quotations/${ne}/send`).then(J=>{const le=J?.data?.data?.item;le&&(a(pe=>pe.map(Q=>Q.id===ne?le:Q)),p(e("Sent successfully")),setTimeout(()=>p(""),3e3))}).catch(()=>{})},H=ne=>{m.includes(ne)||(v(J=>[...J,ne]),ya.post(`/api/customers/quotations/${ne}/convert-to-sales-order`).then(J=>{const le=J?.data?.data?.salesOrder;le?(p(s.jsxs("span",{children:[e("Converted to Sales Order"),": ",s.jsx("span",{className:"font-medium",children:le.id||e("New Order")})," ",s.jsx("a",{href:"/sales/orders",className:"underline text-indigo-700 ml-1",children:e("View Sales Orders")})]})),setTimeout(()=>p(""),4e3)):(l(e("Conversion failed")),setTimeout(()=>l(""),4e3))}).catch(J=>{const le=J?.response?.data?.message||e("Conversion failed");l(typeof le=="string"?le:e("Conversion failed")),setTimeout(()=>l(""),4e3)}).finally(()=>{v(J=>J.filter(le=>le!==ne))}))},X=ne=>{const J=ne.target.files&&ne.target.files[0];if(!J){P(null),U(""),T("");return}P(J),U(J.name);const le=new FileReader;le.onload=()=>{const pe=typeof le.result=="string"?le.result:"";T(pe)},le.readAsDataURL(J)},se=()=>{P(null),U(""),T("")},ie=async()=>{try{W(!0),await ya.put("/api/settings/sales",{taxRate:F}),p(e("Tax rate updated")),setTimeout(()=>p(""),3e3)}catch{l(e("Failed to update tax rate")),setTimeout(()=>l(""),4e3)}finally{W(!1)}};return s.jsx(Ht,{children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-semibold",children:e("Quotations")}),s.jsx("div",{className:"text-sm text-gray-500",children:e("Sales")})]}),d&&s.jsx("div",{className:"mb-3 p-3 rounded border border-green-300 bg-green-50 text-green-700",children:d}),f&&s.jsx("div",{className:"mb-3 p-3 rounded border border-blue-300 bg-blue-50 text-blue-700",children:f}),s.jsxs("form",{onSubmit:D,className:"mb-6 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Opportunity")}),s.jsxs("select",{value:N,onChange:ne=>k(ne.target.value),className:"w-full border rounded px-2 py-2",children:[s.jsx("option",{value:"",children:e("Select")}),b.map(ne=>s.jsx("option",{value:ne.id,children:ne.name||ne.id},ne.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Attachment")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"file",onChange:X,className:"flex-1"}),L&&s.jsx("button",{type:"button",onClick:se,className:"px-3 py-2 rounded bg-gray-200",children:e("Remove")})]}),L&&s.jsxs("div",{className:"mt-1 text-xs text-gray-600",children:[e("Selected file"),": ",L]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"font-medium",children:e("Items")}),s.jsx("button",{type:"button",onClick:K,className:"px-3 py-2 rounded bg-indigo-600 text-white",children:e("Add Item")})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b",children:[s.jsx("th",{className:"p-2",children:e("Product / Service")}),s.jsx("th",{className:"p-2",children:e("Quantity")}),s.jsx("th",{className:"p-2",children:e("Unit Price")}),s.jsx("th",{className:"p-2",children:e("Discount")}),s.jsx("th",{className:"p-2",children:e("Actions")})]})}),s.jsx("tbody",{children:S.map((ne,J)=>s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"p-2",children:s.jsx("input",{className:"w-full border rounded px-2 py-1",value:ne.name,onChange:le=>te(J,{name:le.target.value})})}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"number",min:"1",className:"w-full border rounded px-2 py-1",value:ne.quantity,onChange:le=>te(J,{quantity:le.target.value})})}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"number",min:"0",step:"0.01",className:"w-full border rounded px-2 py-1",value:ne.unitPrice,onChange:le=>te(J,{unitPrice:le.target.value})})}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"number",min:"0",step:"0.01",className:"w-full border rounded px-2 py-1",value:ne.discount,onChange:le=>te(J,{discount:le.target.value})})}),s.jsx("td",{className:"p-2",children:s.jsx("button",{type:"button",onClick:()=>oe(J),className:"px-2 py-1 rounded bg-red-600 text-white",children:e("Remove")})})]},J))})]})})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:[e("Subtotal"),": ",s.jsx("span",{className:"font-medium",children:R.toLocaleString()})]}),s.jsxs("div",{className:"text-sm text-gray-700",children:[e("Tax"),": ",s.jsx("span",{className:"font-medium",children:q.toLocaleString()})]}),s.jsxs("div",{className:"text-sm text-gray-700",children:[e("Total"),": ",s.jsx("span",{className:"font-medium",children:ae.toLocaleString()})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-700",children:e("Tax Rate (%)")}),s.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",className:"w-24 border rounded px-2 py-1",value:Math.round(Number(F||0)*1e4)/100,onChange:ne=>M(Number(ne.target.value)>1?Number(ne.target.value)/100:Number(ne.target.value))}),s.jsx("button",{type:"button",disabled:I,onClick:ie,className:"px-3 py-2 rounded bg-gray-800 text-white",children:e(I?"Saving...":"Save")})]}),s.jsx("button",{type:"submit",disabled:o||!N||S.length===0,className:"px-4 py-2 rounded bg-green-600 text-white",children:e("Create Quotation")}),o&&s.jsx("span",{className:"text-gray-500",children:e("Saving...")})]})]}),i&&s.jsx("div",{className:"mb-3 p-3 rounded border border-red-300 bg-red-50 text-red-700",children:i}),r?s.jsx("div",{className:"text-gray-500",children:e("Loading...")}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b",children:[s.jsx("th",{className:"p-2",children:e("ID")}),s.jsx("th",{className:"p-2",children:e("Status")}),s.jsx("th",{className:"p-2",children:e("Subtotal")}),s.jsx("th",{className:"p-2",children:e("Tax")}),s.jsx("th",{className:"p-2",children:e("Total")}),s.jsx("th",{className:"p-2",children:e("Opportunity")}),s.jsx("th",{className:"p-2",children:e("Created")}),s.jsx("th",{className:"p-2",children:e("Actions")})]})}),s.jsx("tbody",{children:t.length===0?s.jsx("tr",{children:s.jsx("td",{className:"p-3 text-gray-500",colSpan:8,children:e("No data")})}):t.map(ne=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"p-2",children:ne.id}),s.jsx("td",{className:"p-2",children:ne.status}),s.jsx("td",{className:"p-2",children:typeof ne.subtotal=="number"?ne.subtotal.toLocaleString():ne.subtotal}),s.jsx("td",{className:"p-2",children:typeof ne.tax=="number"?ne.tax.toLocaleString():ne.tax}),s.jsx("td",{className:"p-2 font-medium",children:typeof ne.total=="number"?ne.total.toLocaleString():ne.total}),s.jsx("td",{className:"p-2",children:ne.opportunityId||"-"}),s.jsx("td",{className:"p-2",children:ne.createdAt?new Date(ne.createdAt).toLocaleString():"-"}),s.jsx("td",{className:"p-2",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>G(ne.id),className:"px-3 py-1 rounded bg-blue-600 text-white",title:e("Send to Customer"),children:e("Send to Customer")}),s.jsx("button",{onClick:()=>H(ne.id),disabled:m.includes(ne.id),className:`px-3 py-1 rounded text-white ${m.includes(ne.id)?"bg-purple-300 cursor-not-allowed":"bg-purple-600"}`,title:e("Convert to Sales Order"),children:m.includes(ne.id)?e("Converting..."):e("Convert to Sales Order")})]})})]},ne.id))})]})})]})})}const JUe={BASE_URL:"/crm-ibrahim/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE:"http://localhost:8787",VITE_DISABLE_SUBSCRIPTION:"1",VITE_GMAIL_CLIENT_ID:"502667518650-9q9le5f8qrqu1nmolb980ohta8grsd7c.apps.googleusercontent.com",VITE_GMAIL_REDIRECT_URI:"http://localhost:5176/crm-ibrahim/",VITE_GOOGLE_ADS_CLIENT_ID:"502667518650-9q9le5f8qrqu1nmolb980ohta8grsd7c.apps.googleusercontent.com",VITE_GOOGLE_ADS_REDIRECT_URI:"http://localhost:5176/crm-ibrahim/"};function QUe(){const{t:e}=Ct(),[t,a]=y.useState([]),[r,n]=y.useState(!0),[i,l]=y.useState(""),o=[{id:"SO-5001",status:"Draft",deliveryDate:new Date(Date.now()+240*3600*1e3).toISOString(),paymentTerms:"Net 30",shippingMethod:"Courier",attachments:[{name:"PO-5001.pdf"}],quotationId:"QUO-1001",customerId:"CUST-001",createdAt:new Date(Date.now()-24*3600*1e3).toISOString()},{id:"SO-5002",status:"Confirmed",deliveryDate:new Date(Date.now()+120*3600*1e3).toISOString(),paymentTerms:"Advance 50%",shippingMethod:"Pickup",attachments:[],quotationId:"QUO-1002",customerId:"CUST-002",createdAt:new Date(Date.now()-6*3600*1e3).toISOString()},{id:"SO-5003",status:"Delivered",deliveryDate:new Date(Date.now()+432*3600*1e3).toISOString(),paymentTerms:"Net 15",shippingMethod:"Freight",attachments:[{name:"DEL-5003.jpg"}],quotationId:"QUO-1003",customerId:"CUST-003",createdAt:new Date().toISOString()}],c=u=>{const f=Date.now(),p=u?.toLowerCase().includes("net 30")?30:u?.toLowerCase().includes("net 15")?15:u?.toLowerCase().includes("advance")?0:7;return new Date(f+p*24*3600*1e3).toISOString()},d=async u=>{try{const f={orderId:u.id,customerId:u.customerId,status:"Unpaid",issueDate:new Date().toISOString(),dueDate:c(u.paymentTerms),paymentTerms:u.paymentTerms,currency:"USD",amount:0};await ya.post("/api/customers/invoices",f),alert(`${e("Invoice generated for order")} ${u.id}`)}catch{alert(`${e("Failed to generate invoice. Showing preview only.")}`)}};return y.useEffect(()=>{let u=!0;return n(!0),l(""),ya.get("/api/customers/sales-orders").then(f=>{if(!u)return;const p=f?.data?.data||[],m=Array.isArray(p)?p:[];a(m.length>0?m:o)}).catch(()=>{const f=typeof import.meta<"u"&&JUe&&"http://localhost:8787"||"/";u&&(l(`Failed to load from ${f}/api/customers/sales-orders`),a(o))}).finally(()=>u&&n(!1)),()=>{u=!1}},[]),s.jsx(Ht,{children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-semibold",children:e("Sales Orders")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(os,{to:"/sales/orders/new",className:"px-3 py-2 rounded-md border bg-[var(--dropdown-bg)] hover:bg-[var(--table-row-hover)]",children:e("Add Sales Order")}),s.jsx("div",{className:"text-sm text-gray-500",children:e("Sales")})]})]}),i&&s.jsx("div",{className:"mb-3 p-3 rounded border border-red-300 bg-red-50 text-red-700",children:i}),r?s.jsx("div",{className:"text-gray-500",children:e("Loading...")}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b",children:[s.jsx("th",{className:"p-2",children:e("ID")}),s.jsx("th",{className:"p-2",children:e("Status")}),s.jsx("th",{className:"p-2",children:e("Delivery Date")}),s.jsx("th",{className:"p-2",children:e("Payment Terms")}),s.jsx("th",{className:"p-2",children:e("Shipping Method")}),s.jsx("th",{className:"p-2",children:e("Attachments")}),s.jsx("th",{className:"p-2",children:e("Quotation")}),s.jsx("th",{className:"p-2",children:e("Customer")}),s.jsx("th",{className:"p-2",children:e("Created")}),s.jsx("th",{className:"p-2",children:e("Actions")})]})}),s.jsx("tbody",{children:t.length===0?s.jsx("tr",{children:s.jsx("td",{className:"p-3 text-gray-500",colSpan:10,children:e("No data")})}):t.map(u=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"p-2",children:u.id}),s.jsx("td",{className:"p-2",children:u.status}),s.jsx("td",{className:"p-2",children:u.deliveryDate?new Date(u.deliveryDate).toLocaleDateString():"-"}),s.jsx("td",{className:"p-2",children:u.paymentTerms||"-"}),s.jsx("td",{className:"p-2",children:u.shippingMethod||"-"}),s.jsx("td",{className:"p-2",children:Array.isArray(u.attachments)?`${u.attachments.length} ${e("file(s)")}`:"-"}),s.jsx("td",{className:"p-2",children:u.quotationId||"-"}),s.jsx("td",{className:"p-2",children:u.customerId||"-"}),s.jsx("td",{className:"p-2",children:u.createdAt?new Date(u.createdAt).toLocaleString():"-"}),s.jsx("td",{className:"p-2",children:s.jsx("button",{className:"btn btn-success btn-sm",onClick:()=>d(u),children:e("Generate Invoice")})})]},u.id))})]})})]})})}function ZUe(){const{t:e}=Ct(),t=Ys(),[a,r]=y.useState({salesOrderId:"",orderDate:"",status:"Pending",salesperson:"",deliveryDate:"",customerName:"",customerId:"",companyName:"",contactPerson:"",contactInfo:"",paymentTerms:"Net 30",quotationId:"",shippingAddress:"",billingAddress:"",shippingMethod:"Courier",trackingNumber:"",notes:""}),[n,i]=y.useState([{product:"",sku:"",quantity:1,unitPrice:0,discount:0}]),l=()=>i(g=>[...g,{product:"",sku:"",quantity:1,unitPrice:0,discount:0}]),o=g=>i(b=>b.filter((j,N)=>N!==g)),c=(g,b,j)=>i(N=>N.map((k,S)=>S===g?{...k,[b]:j}:k)),d=y.useMemo(()=>n.reduce((g,b)=>{const j=Number(b.quantity)||0,N=Number(b.unitPrice)||0,k=Number(b.discount)||0;return g+j*N-k},0),[n]),f=Math.round(d*.14*100)/100,p=Math.round((d+f)*100)/100,m=(g,b)=>r(j=>({...j,[g]:b})),v=async g=>{g.preventDefault();const b={customerId:a.customerId||void 0,quotationId:a.quotationId||`QUO-${Math.floor(Math.random()*9e3+1e3)}`,items:n.map(j=>({product:j.product,sku:j.sku,quantity:Number(j.quantity)||0,unitPrice:Number(j.unitPrice)||0,discount:Number(j.discount)||0})),deliveryDate:a.deliveryDate||void 0,paymentTerms:a.paymentTerms||"",status:a.status,notes:a.notes||""};try{const N=(await ya.post("/api/customers/sales-orders",b))?.data?.data?.item?.id;alert(e("Sales Order created successfully")),t("/sales/orders")}catch{alert(e("Failed to create order. Form will stay for review."))}};return s.jsx(Ht,{children:s.jsxs("form",{onSubmit:v,className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e("Sales Order")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",className:"px-3 py-2 rounded border btn-glass",onClick:()=>t("/sales/orders"),children:e("Back")}),s.jsx("button",{type:"submit",className:"px-3 py-2 rounded border bg-green-600 text-white",children:e("Save")})]})]}),s.jsx("div",{className:"card glass-card p-4 mb-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium mb-3",children:e("General Information")}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Sales Order ID")}),s.jsx("input",{value:a.salesOrderId,onChange:g=>m("salesOrderId",g.target.value),className:"input border",placeholder:"SO-1001"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Order Date")}),s.jsx("input",{type:"date",value:a.orderDate,onChange:g=>m("orderDate",g.target.value),className:"input border"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Status")}),s.jsxs("select",{value:a.status,onChange:g=>m("status",g.target.value),className:"input border",children:[s.jsx("option",{value:"Pending",children:e("Pending")}),s.jsx("option",{value:"Processing",children:e("Processing")}),s.jsx("option",{value:"Delivered",children:e("Delivered")}),s.jsx("option",{value:"Completed",children:e("Completed")})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Salesperson")}),s.jsx("input",{value:a.salesperson,onChange:g=>m("salesperson",g.target.value),className:"input border",placeholder:e("Enter member name")})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Delivery Date")}),s.jsx("input",{type:"date",value:a.deliveryDate,onChange:g=>m("deliveryDate",g.target.value),className:"input border"})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium mb-3",children:e("Customer Details")}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Customer Name")}),s.jsx("input",{value:a.customerName,onChange:g=>m("customerName",g.target.value),className:"input border",placeholder:e("Enter customer name")})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Customer ID")}),s.jsx("input",{value:a.customerId,onChange:g=>m("customerId",g.target.value),className:"input border",placeholder:"Cust-4567"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Company Name")}),s.jsx("input",{value:a.companyName,onChange:g=>m("companyName",g.target.value),className:"input border",placeholder:e("Enter company name")})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Contact Person")}),s.jsx("input",{value:a.contactPerson,onChange:g=>m("contactPerson",g.target.value),className:"input border",placeholder:e("Enter contact person")})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-sm text-[var(--muted-text)]",children:e("Contact Info")}),s.jsx("input",{value:a.contactInfo,onChange:g=>m("contactInfo",g.target.value),className:"input border",placeholder:e("Phone, email, address")})]})]})]})]})}),s.jsxs("div",{className:"card glass-card p-4 mb-4",children:[s.jsx("h2",{className:"text-lg font-medium mb-3",children:e("Order Details")}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full text-sm min-w-[700px]",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:e("Product / Service")}),s.jsx("th",{children:e("SKU")}),s.jsx("th",{children:e("Quantity")}),s.jsx("th",{children:e("Amount")}),s.jsx("th",{children:e("Discount")}),s.jsx("th",{children:e("Subtotal")}),s.jsx("th",{})]})}),s.jsx("tbody",{children:n.map((g,b)=>{const j=(Number(g.quantity)||0)*(Number(g.unitPrice)||0)-(Number(g.discount)||0);return s.jsxs("tr",{children:[s.jsx("td",{children:s.jsx("input",{className:"input border",value:g.product,onChange:N=>c(b,"product",N.target.value),placeholder:e("Enter product")})}),s.jsx("td",{children:s.jsx("input",{className:"input border",value:g.sku,onChange:N=>c(b,"sku",N.target.value),placeholder:"SKU"})}),s.jsx("td",{children:s.jsx("input",{type:"number",className:"input border",value:g.quantity,onChange:N=>c(b,"quantity",N.target.value)})}),s.jsx("td",{children:s.jsx("input",{type:"number",className:"input border",value:g.unitPrice,onChange:N=>c(b,"unitPrice",N.target.value)})}),s.jsx("td",{children:s.jsx("input",{type:"number",className:"input border",value:g.discount,onChange:N=>c(b,"discount",N.target.value)})}),s.jsx("td",{className:"px-2",children:j.toFixed(2)}),s.jsx("td",{children:s.jsx("button",{type:"button",className:"px-2 py-1 rounded border btn-glass",onClick:()=>o(b),children:e("Remove")})})]},b)})})]})}),s.jsx("div",{className:"mt-3",children:s.jsx("button",{type:"button",className:"px-3 py-2 rounded border btn-glass",onClick:l,children:e("Add Row")})}),s.jsx("div",{className:"mt-6 flex flex-col gap-2 items-end",children:s.jsxs("div",{className:"flex gap-8 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:e("Subtotal")})," ",s.jsx("span",{className:"ml-2",children:d.toFixed(2)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:e("Tax")})," ",s.jsx("span",{className:"ml-2",children:f.toFixed(2)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-[var(--muted-text)]",children:e("Total")})," ",s.jsx("span",{className:"ml-2 font-medium",children:p.toFixed(2)})]})]})})]})]})})}const eze={BASE_URL:"/crm-ibrahim/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE:"http://localhost:8787",VITE_DISABLE_SUBSCRIPTION:"1",VITE_GMAIL_CLIENT_ID:"502667518650-9q9le5f8qrqu1nmolb980ohta8grsd7c.apps.googleusercontent.com",VITE_GMAIL_REDIRECT_URI:"http://localhost:5176/crm-ibrahim/",VITE_GOOGLE_ADS_CLIENT_ID:"502667518650-9q9le5f8qrqu1nmolb980ohta8grsd7c.apps.googleusercontent.com",VITE_GOOGLE_ADS_REDIRECT_URI:"http://localhost:5176/crm-ibrahim/"};function tze(){const{t:e}=Ct(),[t,a]=y.useState([]),[r,n]=y.useState(!0),[i,l]=y.useState(""),o=[{id:"INV-9001",status:"Pending",issueDate:new Date(Date.now()-48*3600*1e3).toISOString(),orderId:"SO-5001",customerId:"CUST-001",amount:4500,currency:"USD",paymentMethod:"Bank Transfer",attachments:[{name:"INV-9001.pdf"}],createdAt:new Date(Date.now()-24*3600*1e3).toISOString()},{id:"INV-9002",status:"Partial",issueDate:new Date(Date.now()-144*3600*1e3).toISOString(),orderId:"SO-5002",customerId:"CUST-002",amount:1200,currency:"EUR",paymentMethod:"Credit Card",attachments:[],createdAt:new Date(Date.now()-6*3600*1e3).toISOString()},{id:"INV-9003",status:"Paid",issueDate:new Date(Date.now()-336*3600*1e3).toISOString(),orderId:"SO-5003",customerId:"CUST-003",amount:800,currency:"USD",paymentMethod:"Cash",attachments:[{name:"receipt.jpg"}],createdAt:new Date().toISOString()}],c=u=>{try{window.print()}catch{alert(e("Print is unavailable in this environment"))}},d=async u=>{try{await ya.put(`/api/customers/invoices/${u.id}`,{status:"Paid"})}catch{}a(f=>f.map(p=>p.id===u.id?{...p,status:"Paid"}:p))};return y.useEffect(()=>{let u=!0;return n(!0),l(""),ya.get("/api/customers/invoices").then(f=>{if(!u)return;const p=f?.data?.data||[],m=Array.isArray(p)?p:[];a(m.length>0?m:o)}).catch(()=>{const f=typeof import.meta<"u"&&eze&&"http://localhost:8787"||"/";u&&(l(`Failed to load from ${f}/api/customers/invoices`),a(o))}).finally(()=>u&&n(!1)),()=>{u=!1}},[]),s.jsx(Ht,{children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-semibold",children:e("Invoices")}),s.jsx("div",{className:"text-sm text-gray-500",children:e("Sales")})]}),i&&s.jsx("div",{className:"mb-3 p-3 rounded border border-red-300 bg-red-50 text-red-700",children:i}),r?s.jsx("div",{className:"text-gray-500",children:e("Loading...")}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b",children:[s.jsx("th",{className:"p-2",children:e("Invoice No.")}),s.jsx("th",{className:"p-2",children:e("Invoice Date")}),s.jsx("th",{className:"p-2",children:e("Linked Sales Order")}),s.jsx("th",{className:"p-2",children:e("Total Amount")}),s.jsx("th",{className:"p-2",children:e("Payment Method")}),s.jsx("th",{className:"p-2",children:e("Payment Status")}),s.jsx("th",{className:"p-2",children:e("Attachment")}),s.jsx("th",{className:"p-2",children:e("Actions")})]})}),s.jsx("tbody",{children:t.length===0?s.jsx("tr",{children:s.jsx("td",{className:"p-3 text-gray-500",colSpan:8,children:e("No data")})}):t.map(u=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"p-2",children:u.id}),s.jsx("td",{className:"p-2",children:u.issueDate?new Date(u.issueDate).toLocaleDateString():"-"}),s.jsx("td",{className:"p-2",children:u.orderId||u.salesOrderId||"-"}),s.jsxs("td",{className:"p-2 font-medium",children:[typeof u.amount=="number"?u.amount.toLocaleString():u.amount," ",u.currency||""]}),s.jsx("td",{className:"p-2",children:u.paymentMethod||"-"}),s.jsx("td",{className:"p-2",children:u.status||u.paymentStatus||"-"}),s.jsx("td",{className:"p-2",children:Array.isArray(u.attachments)?`${u.attachments.length} ${e("file(s)")}`:"-"}),s.jsxs("td",{className:"p-2 space-x-2",children:[s.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>c(),children:e("Send / Print")}),s.jsx("button",{className:"btn btn-success btn-sm",onClick:()=>d(u),children:e("Mark as Paid")})]})]},u.id))})]})})]})})}function b$(){const{t:e,i18n:t}=Ct();(t.language||"").toLowerCase();const[a,r]=y.useState(!1),[n,i]=y.useState([]),[l,o]=y.useState(""),[c,d]=y.useState("this_month");y.useEffect(()=>{(async()=>{try{r(!0);const _=await ya.get("/api/tickets",{params:{limit:500}}),P=Array.isArray(_.data?.items)?_.data.items:Array.isArray(_.data)?_.data:[];i(P)}catch(_){console.warn("support_dashboard_load_failed",_),o(e("Failed to load tickets"))}finally{r(!1)}})()},[]);const u=y.useMemo(()=>{const C=new Date,_=new Date(C);_.setDate(C.getDate()-C.getDay());const P=new Date(C.getFullYear(),C.getMonth(),1),L=new Date(C.getFullYear(),C.getMonth()-1,1),U=new Date(C.getFullYear(),C.getMonth(),0),z=T=>{const F=new Date(T);return c==="this_week"?F>=_:c==="this_month"?F>=P:c==="last_month"?F>=L&&F<=U:!0};return n.filter(T=>T.createdAt&&z(T.createdAt))},[n,c]),f=y.useMemo(()=>{const C=new Date,_=new Date(C);_.setDate(C.getDate()-C.getDay()),new Date(C.getFullYear(),C.getMonth(),1);const P=new Date(C.getFullYear(),C.getMonth()-1,1),L=new Date(C.getFullYear(),C.getMonth(),0);let U,z;if(c==="this_week")z=_,U=new Date(_),U.setDate(U.getDate()-7);else if(c==="this_month")U=P,z=L;else if(c==="last_month"){const T=new Date(C.getFullYear(),C.getMonth()-2,1),F=new Date(C.getFullYear(),C.getMonth()-1,0);U=T,z=F}else return[];return n.filter(T=>T.createdAt&&new Date(T.createdAt)>=U&&new Date(T.createdAt)<=z)},[n,c]),p=C=>{const _=C.length,P=ie=>C.filter(ne=>String(ne.status)===String(ie)).length,L=P("Open"),U=P("In Progress"),z=P("Escalated"),T=P("Closed"),F=C.filter(ie=>ie.slaDeadline&&(!ie.status||ie.status!=="Closed")&&new Date(ie.slaDeadline)<new Date).length,M=C.filter(ie=>ie.status==="Closed"&&ie.updatedAt&&ie.createdAt),I=M.length>0?Math.round(M.reduce((ie,ne)=>{const J=(new Date(ne.updatedAt)-new Date(ne.createdAt))/36e5;return ie+Math.max(0,J)},0)/M.length):80,W=_>0?Math.round(T/_*100):0,q=Object.fromEntries(["Low","Medium","High","Urgent"].map(ie=>[ie,C.filter(ne=>ne.priority===ie).length])),te=Object.fromEntries(["Email","Phone","Customer Portal","WhatsApp","Social Media"].map(ie=>[ie,C.filter(ne=>ne.channel===ie).length])),oe=Object.fromEntries(["Complaint","Inquiry","Request"].map(ie=>[ie,C.filter(ne=>ne.type===ie).length])),D=C.filter(ie=>ie.status==="Closed"),G=D.filter(ie=>ie.slaDeadline&&ie.updatedAt&&new Date(ie.updatedAt)<=new Date(ie.slaDeadline)).length,H=D.length>0?Math.round(G/D.length*100):92,X=new Map;C.forEach(ie=>{const ne=ie.assignedAgent||e("Unassigned"),J=X.get(ne)||{name:ne,closed:0,total:0};J.total+=1,ie.status==="Closed"&&(J.closed+=1),X.set(ne,J)});const se=Array.from(X.values()).map(ie=>({agent:ie.name,ticketsClosed:ie.closed,avgResponse:"",satisfaction:""}));return{total:_,open:L,inProgress:U,escalated:z,closed:T,overdue:F,avgResolutionHours:I,resolutionRate:W,priorityCounts:q,channelCounts:te,typeCounts:oe,slaOnTimePct:H,teamRows:se}},m=y.useMemo(()=>p(u),[u]),v=y.useMemo(()=>p(f),[f]),g=(C,_)=>!_||_===0?C?100:0:Math.round((C-_)/_*100),b=(C,_=()=>!0,P=8)=>{if(!C.length)return new Array(P).fill(0);const L=C.map(M=>new Date(M.createdAt)).sort((M,I)=>M-I),U=L[0],T=L[L.length-1]-U||1,F=new Array(P).fill(0);return C.forEach(M=>{if(!_(M))return;const I=new Date(M.createdAt),W=Math.min(P-1,Math.max(0,Math.floor((I-U)/T*P)));F[W]+=1}),F.every(M=>M===0)?new Array(P).fill(0).map((M,I)=>I||0):F},j=y.useMemo(()=>b(u),[u]),N=y.useMemo(()=>b(u,C=>C.status==="Open"),[u]),k=y.useMemo(()=>b(u,C=>C.status==="Closed"),[u]),S=y.useMemo(()=>{const C=Object.values(m.channelCounts||{});return Math.max(1,...C.length?C:[1])},[m]);return s.jsxs(Ht,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-bold",children:e("Customer Service Dashboard")}),s.jsx("div",{className:"flex items-center gap-2 text-sm",children:s.jsxs("select",{value:c,onChange:C=>d(C.target.value),className:"px-3 py-1 rounded glass-panel bg-transparent",children:[s.jsx("option",{value:"this_month",children:e("This Month")}),s.jsx("option",{value:"this_week",children:e("This Week")}),s.jsx("option",{value:"last_month",children:e("Last Month")}),s.jsx("option",{value:"all",children:e("All")})]})})]}),s.jsx(Wje,{mode:"wait",children:s.jsxs(sh.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.22},children:[a?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 mb-4",children:Array.from({length:6}).map((C,_)=>s.jsxs("div",{className:"glass-panel p-3",children:[s.jsx("div",{className:"skeleton-line h-3 w-24 mb-2"}),s.jsx("div",{className:"skeleton-line h-6 w-16"})]},_))}):s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 mb-4",children:[s.jsx(tv,{title:e("Total Tickets"),value:m.total,delta:g(m.total,v.total),series:j,color:"emerald"}),s.jsx(tv,{title:e("Open"),value:m.open,delta:g(m.open,v.open),series:N,color:"emerald",dotColor:"amber"}),s.jsx(sze,{overdue:m.overdue}),s.jsx(tv,{title:e("Average Resolution Time"),value:m.avgResolutionHours,suffix:"h",delta:g(m.avgResolutionHours,v.avgResolutionHours),series:k,color:"emerald"}),s.jsx(tv,{title:e("Resolution Rate"),value:m.resolutionRate,suffix:"%",delta:g(m.resolutionRate,v.resolutionRate),series:k,color:"rose"}),s.jsx(tv,{title:e("Reopened Tickets"),value:m.escalated,delta:g(m.escalated,v.escalated),series:N,color:"emerald"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a?s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"skeleton-line h-4 w-40 mb-3"}),s.jsx("div",{className:"skeleton-circle h-40 w-40 mx-auto"})]}):s.jsxs("div",{className:"glass-panel p-4 cm-anim transition-transform hover:translate-y-[1px]",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Tickets by Priority")}),s.jsx(ei,{segments:[{label:e("High"),value:m.priorityCounts.High,color:"#ef4444"},{label:e("Medium"),value:m.priorityCounts.Medium,color:"#f59e0b"},{label:e("Low"),value:m.priorityCounts.Low,color:"#10b981"},{label:e("Urgent"),value:m.priorityCounts.Urgent,color:"#fb7185"}],size:180,centerLabel:e("Total"),centerValue:m.total,animateCenterCountUp:!0,borderRadius:8})]}),a?s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"skeleton-line h-4 w-40 mb-3"}),s.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((C,_)=>s.jsx("div",{className:"skeleton-line h-3 w-full"},_))})]}):s.jsxs("div",{className:"glass-panel p-4 cm-anim delay-200 transition-transform hover:translate-y-[1px]",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Tickets by Channel")}),s.jsx("div",{className:"space-y-2",children:Object.entries(m.channelCounts).map(([C,_])=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-28 text-xs opacity-80",children:e(C)}),s.jsx("div",{className:"flex-1 h-3 rounded bg-white/10",children:s.jsx("div",{className:"h-3 rounded transition-all bar-gradient-fill-emerald bar-wave",style:{width:`${Math.round(_/S*100)}%`}})}),s.jsx("div",{className:"w-8 text-xs opacity-70 text-right",children:_})]},C))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-4",children:[a?s.jsxs("div",{className:"glass-panel p-4 animate-pulse",children:[s.jsx("div",{className:"h-4 w-40 bg-gray-200 dark:bg-gray-700 rounded mb-3"}),s.jsx("div",{className:"space-y-2",children:Array.from({length:3}).map((C,_)=>s.jsx("div",{className:"h-3 w-32 bg-gray-200 dark:bg-gray-700 rounded"},_))})]}):s.jsxs("div",{className:"glass-panel p-4 cm-anim transition-transform hover:translate-y-[1px]",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Top Contact Reasons")}),s.jsx("ul",{className:"text-sm opacity-80 space-y-1",children:Object.entries(m.typeCounts).map(([C,_])=>s.jsxs("li",{children:[e(C),"  ",_]},C))})]}),a?s.jsxs("div",{className:"glass-panel p-4",children:[s.jsx("div",{className:"skeleton-line h-4 w-40 mb-3"}),s.jsx("div",{className:"skeleton-circle h-40 w-40 mx-auto"})]}):s.jsxs("div",{className:"glass-panel p-4 cm-anim delay-200 transition-transform hover:translate-y-[1px]",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("SLA Contact Reasons")}),s.jsx(ei,{percentage:m.slaOnTimePct,centerValue:m.slaOnTimePct,centerValueSuffix:"%",centerLabel:e("On-time"),size:180,animateCenterCountUp:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{className:"glass-panel p-4 cm-anim transition-transform hover:translate-y-[1px]",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Customer Satisfaction")}),s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{children:""}),s.jsx("span",{className:"text-xl font-semibold",children:"4.6/5"})]}),s.jsx("div",{className:"space-y-2",children:[{label:e("Positive"),pct:85},{label:e("Neutral"),pct:10},{label:e("Negative"),pct:5}].map(({label:C,pct:_})=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-24 text-xs opacity-80",children:C}),s.jsx("div",{className:"flex-1 h-3 rounded bg-white/10",children:s.jsx("div",{className:"h-3 rounded transition-all bar-gradient-fill-emerald bar-wave",style:{width:`${_}%`}})}),s.jsxs("div",{className:"w-10 text-xs opacity-70 text-right",children:[_,"%"]})]},C))})]}),s.jsxs("div",{className:"glass-panel p-4 cm-anim delay-200 transition-transform hover:translate-y-[1px]",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:e("Avg Response Time")}),s.jsx("div",{className:"space-y-2",children:[{label:e("Email"),val:30},{label:e("Phone"),val:3},{label:e("Live Chat"),val:1}].map(({label:C,val:_})=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-28 text-xs opacity-80",children:C}),s.jsx("div",{className:"flex-1 h-3 rounded bg-white/10",children:s.jsx("div",{className:"h-3 rounded transition-all bar-gradient-fill-blue bar-wave",style:{width:`${Math.min(100,_/30*100)}%`}})}),s.jsxs("div",{className:"w-16 text-xs opacity-70 text-right",children:[_,"m"]})]},C))})]})]}),s.jsxs("div",{className:"glass-panel p-4 mt-4",children:[s.jsx("div",{className:"text-sm font-medium mb-3",children:e("Team Performance")}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm nova-table",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left bg-[var(--table-header-bg)]",children:[s.jsx("th",{className:"px-3 py-2",children:e("Agent")}),s.jsx("th",{className:"px-3 py-2",children:e("Tickets Closed")}),s.jsx("th",{className:"px-3 py-2",children:e("Avg. Response Time")}),s.jsx("th",{className:"px-3 py-2",children:e("Satisfaction")})]})}),s.jsxs("tbody",{children:[m.teamRows.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-3 py-6 text-center text-[var(--muted-text)]",children:e(a?"Loading...":"No data")})}),m.teamRows.map((C,_)=>s.jsxs("tr",{className:"border-t border-[var(--table-row-border)] odd:bg-[var(--table-row-bg)] hover:bg-[var(--table-row-hover)] transition-colors",children:[s.jsx("td",{className:"px-3 py-2",children:C.agent}),s.jsx("td",{className:"px-3 py-2",children:C.ticketsClosed}),s.jsx("td",{className:"px-3 py-2",children:C.avgResponse}),s.jsx("td",{className:"px-3 py-2",children:C.satisfaction})]},_))]})]})})]}),l&&s.jsx("div",{className:"mt-3 text-xs text-rose-400",children:l})]},c)})]})}function aze({data:e=[],color:t="emerald"}){const i=Math.min(...e,0),o=Math.max(...e,1)-i||1,c=74/Math.max(1,e.length-1),d=e.map((f,p)=>{const m=3+p*c,v=33-(f-i)/o*30;return`${m},${v}`}).join(" "),u=t==="emerald"?"#10b981":t==="rose"?"#ef4444":"#94a3b8";return s.jsx("svg",{width:80,height:36,viewBox:"0 0 80 36",className:"opacity-70",children:s.jsx("polyline",{fill:"none",stroke:u,strokeWidth:"2",points:d})})}function tv({title:e,value:t,suffix:a,delta:r,series:n,color:i="emerald",dotColor:l}){const o=r>=0?"text-emerald-600":"text-rose-600";return s.jsxs("div",{className:"glass-panel p-3 cm-anim transition-transform hover:translate-y-[1px]",children:[s.jsxs("div",{className:"text-xs opacity-80 flex items-center gap-2",children:[l&&s.jsx("span",{className:`inline-block h-2 w-2 rounded-full bg-${l}-400`}),s.jsx("span",{children:e})]}),s.jsxs("div",{className:"text-2xl font-semibold flex items-baseline gap-1 mt-1",children:[s.jsx(XQ,{value:typeof t=="number"?t:0}),a&&s.jsx("span",{className:"text-xs opacity-70",children:a})]}),Array.isArray(n)&&n.length>1&&s.jsx("div",{className:"mt-1",children:s.jsx(aze,{data:n,color:i})}),s.jsx("div",{className:`text-[11px] mt-1 ${o}`,children:r>=0?`+${r}%`:`${r}%`})]})}function sze({overdue:e}){return s.jsxs("div",{className:"glass-panel p-3 cm-anim transition-transform hover:translate-y-[1px]",children:[s.jsxs("div",{className:"text-xs opacity-80 flex items-center gap-2",children:[s.jsx("span",{className:"text-base leading-none",children:""}),s.jsx("span",{children:"Alerts"})]}),s.jsx("div",{className:"text-2xl font-semibold flex items-baseline gap-1 mt-1",children:s.jsx(XQ,{value:typeof e=="number"?e:0})}),s.jsx("div",{className:"text-[11px] mt-1 opacity-80",children:e>50?"Overdue tickets > 50 (Critical)":"Overdue tickets  50"})]})}function XQ({value:e,duration:t=600}){const[a,r]=y.useState(e),n=y.useRef(e);return y.useEffect(()=>{const i=n.current,l=e;n.current=l;const o=performance.now(),c=d=>{const u=Math.min(1,(d-o)/t),f=Math.round(i+(l-i)*u);r(f),u<1&&requestAnimationFrame(c)};requestAnimationFrame(c)},[e,t]),s.jsx("span",{children:a})}function rze(){const{t:e}=Ct(),t=["Open","In Progress","Escalated","Closed"],a=["Low","Medium","High","Urgent"],r=["Complaint","Inquiry","Request"],n=["Email","Phone","WhatsApp","Customer Portal","Social Media"],[i,l]=y.useState(!1),[o,c]=y.useState([]),[d,u]=y.useState(""),[f,p]=y.useState(""),[m,v]=y.useState(!1),[g,b]=y.useState({customerId:"",subject:"",description:"",type:r[1],priority:"Low",status:"Open",channel:"Email",contactPhone:"",contactEmail:"",contactWhatsapp:"",assignedAgent:"",slaDeadline:"",resolutionNotes:"",attachments:[]}),[j,N]=y.useState(""),[k,S]=y.useState([]),[C,_]=y.useState(!1),P=I=>{if(!I?.slaDeadline||String(I.status)==="Closed")return!1;try{return new Date(I.slaDeadline)<new Date}catch{return!1}},L=async()=>{try{l(!0);const I={};d&&(I.status=d),f&&(I.q=f);const W=await ya.get("/api/tickets",{params:I});c(Array.isArray(W.data?.items)?W.data.items:[])}catch(I){console.warn("tickets_load_failed",I)}finally{l(!1)}};y.useEffect(()=>{L()},[d]);const U=async()=>{try{_(!0);const I=await ya.get("/api/customers",{params:{q:j,limit:10}});S(Array.isArray(I.data?.items)?I.data.items:[])}catch(I){console.warn("customers_load_failed",I)}finally{_(!1)}};y.useEffect(()=>{U()},[j]);const z=I=>b(W=>({...W,customerId:I})),T=(I,W)=>b(R=>({...R,[I]:W})),F=async I=>{if(I)try{const R=await(te=>new Promise((K,oe)=>{const D=new FileReader;D.onload=()=>K(D.result),D.onerror=oe,D.readAsDataURL(te)}))(I),ae=(await ya.post("/api/uploads/base64",{fileName:I.name,dataUrl:R})).data?.url;ae&&b(te=>({...te,attachments:[...te.attachments,ae]}))}catch(W){console.warn("upload_failed",W)}},M=async I=>{I.preventDefault();try{const W={...g};if(W.slaDeadline)try{W.slaDeadline=new Date(W.slaDeadline).toISOString()}catch{}const q=(await ya.post("/api/tickets",W)).data?.item;q&&c(ae=>[q,...ae]),v(!1),b({customerId:"",subject:"",description:"",type:r[1],priority:"Low",status:"Open",channel:"Email",contactPhone:"",contactEmail:"",contactWhatsapp:"",assignedAgent:"",slaDeadline:"",resolutionNotes:"",attachments:[]})}catch(W){console.warn("create_failed",W)}};return s.jsxs(Ht,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-bold",children:e("Tickets")}),s.jsx("button",{className:"btn btn-primary",onClick:()=>v(!0),children:e("Create New Ticket")})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[s.jsx("input",{value:f,onChange:I=>p(I.target.value),onKeyDown:I=>I.key==="Enter"?L():null,placeholder:e("Search tickets..."),className:"px-3 py-1 rounded bg-white/5 border border-white/10 text-sm"}),t.map(I=>s.jsx("button",{onClick:()=>u(W=>W===I?"":I),className:`px-3 py-1 rounded text-sm ${d===I?"bg-blue-600":"bg-white/10 dark:bg-gray-800/40"}`,children:e(I)},I)),s.jsx("button",{onClick:L,className:"px-3 py-1 rounded bg-white/10 text-sm",children:e("Apply")})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left opacity-70",children:[s.jsx("th",{className:"py-2",children:e("ID")}),s.jsx("th",{className:"py-2",children:e("Customer")}),s.jsx("th",{className:"py-2",children:e("Subject")}),s.jsx("th",{className:"py-2",children:e("Agent")}),s.jsx("th",{className:"py-2",children:e("Type")}),s.jsx("th",{className:"py-2",children:e("Priority")}),s.jsx("th",{className:"py-2",children:e("Status")}),s.jsx("th",{className:"py-2",children:e("Channel")}),s.jsx("th",{className:"py-2",children:e("SLA")})]})}),s.jsx("tbody",{children:o.map(I=>s.jsxs("tr",{className:"border-t border-white/10",children:[s.jsx("td",{className:"py-2",children:String(I.ticketNumber||I.id).slice(0,12)}),s.jsx("td",{className:"py-2",children:I.customerId?I.customerId:"-"}),s.jsx("td",{className:"py-2",children:I.subject}),s.jsx("td",{className:"py-2",children:I.assignedAgent||"-"}),s.jsx("td",{className:"py-2",children:I.type}),s.jsx("td",{className:"py-2",children:I.priority}),s.jsx("td",{className:"py-2",children:I.status}),s.jsx("td",{className:"py-2",children:I.channel}),s.jsx("td",{className:`py-2 ${P(I)?"text-red-500":""}`,children:I.slaDeadline?new Date(I.slaDeadline).toLocaleString():"-"})]},I.id))})]}),i&&s.jsx("div",{className:"mt-3 text-sm opacity-70",children:e("Loading...")})]}),m&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-start",style:{paddingTop:"80px"},children:s.jsxs("div",{className:"bg-gray-900 p-4 sm:p-6 rounded w-full max-w-2xl max-h-[80vh] overflow-auto sidebar-scrollbar",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:e("Create New Ticket")}),s.jsx("button",{onClick:()=>v(!1),className:"px-3 py-1 rounded bg-white/10",children:e("Close")})]}),s.jsxs("form",{onSubmit:M,className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Customer")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{value:j,onChange:I=>N(I.target.value),placeholder:e("Search customers..."),className:"flex-1 px-3 py-2 rounded bg-white/5 border border-white/10"}),s.jsxs(Aa,{value:g.customerId,onChange:I=>z(I),className:"px-3 py-2",children:[s.jsx("option",{value:"",children:e("Select")}),k.map(I=>s.jsxs("option",{value:I.id,children:[I.name,"  ",I.phone]},I.id))]})]}),C&&s.jsx("div",{className:"text-xs mt-1 opacity-70",children:e("Loading customers...")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Subject")}),s.jsx("input",{value:g.subject,onChange:I=>T("subject",I.target.value),className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Type")}),s.jsx(Aa,{value:g.type,onChange:I=>T("type",I),children:r.map(I=>s.jsx("option",{value:I,children:e(I)},I))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Priority")}),s.jsx(Aa,{value:g.priority,onChange:I=>T("priority",I),children:a.map(I=>s.jsx("option",{value:I,children:e(I)},I))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Status")}),s.jsx(Aa,{value:g.status,onChange:I=>T("status",I),children:t.map(I=>s.jsx("option",{value:I,children:e(I)},I))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Channel")}),s.jsx(Aa,{value:g.channel,onChange:I=>T("channel",I),children:n.map(I=>s.jsx("option",{value:I,children:e(I)},I))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Assigned To")}),s.jsx("input",{value:g.assignedAgent,onChange:I=>T("assignedAgent",I.target.value),className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Contact Phone")}),s.jsx("input",{value:g.contactPhone,onChange:I=>T("contactPhone",I.target.value),className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Contact Email")}),s.jsx("input",{value:g.contactEmail,onChange:I=>T("contactEmail",I.target.value),className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:e("WhatsApp")}),s.jsx("input",{value:g.contactWhatsapp,onChange:I=>T("contactWhatsapp",I.target.value),className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Description")}),s.jsx("textarea",{value:g.description,onChange:I=>T("description",I.target.value),rows:4,className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:e("SLA Deadline")}),s.jsx("input",{type:"datetime-local",value:g.slaDeadline,onChange:I=>T("slaDeadline",I.target.value),className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Resolution Notes")}),s.jsx("textarea",{value:g.resolutionNotes,onChange:I=>T("resolutionNotes",I.target.value),rows:3,className:"w-full px-3 py-2 rounded bg-white/5 border border-white/10"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm mb-1",children:e("Attachments")}),s.jsx("input",{type:"file",onChange:I=>F(I.target.files?.[0]),className:"w-full"}),!!g.attachments.length&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:g.attachments.map(I=>s.jsx("a",{href:I,target:"_blank",rel:"noreferrer",className:"text-blue-400 underline text-xs",children:I},I))})]}),s.jsxs("div",{className:"sm:col-span-2 flex justify-end gap-2 mt-2",children:[s.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 rounded bg-white/10",children:e("Cancel")}),s.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-blue-600",children:e("Create")})]})]})]})})]})}function nze(){const{t:e}=Ct(),[t,a]=y.useState(!1),[r,n]=y.useState([]),[i,l]=y.useState([]),[o,c]=y.useState(""),d=async()=>{try{a(!0);const[m,v]=await Promise.all([ya.get("/api/customers",{params:{limit:500}}),ya.get("/api/tickets",{params:{limit:1e3}})]);n(Array.isArray(m.data?.items)?m.data.items:[]),l(Array.isArray(v.data?.items)?v.data.items:[])}catch(m){console.warn("customers_load_failed",m)}finally{a(!1)}};y.useEffect(()=>{d()},[]);const u=y.useMemo(()=>{if(!o)return r;const m=String(o).toLowerCase();return r.filter(v=>String(v.name||"").toLowerCase().includes(m)||String(v.phone||"").toLowerCase().includes(m)||String(v.email||"").toLowerCase().includes(m)||String(v.companyName||"").toLowerCase().includes(m))},[r,o]),f=y.useMemo(()=>{const m=new Map;return i.forEach(v=>{const g=String(v.customerId||"");if(!g)return;const b=m.get(g)||[];b.push(v),m.set(g,b)}),u.map(v=>{const g=m.get(String(v.id))||[],b=g.length?g[0]:null;return{id:v.id,name:v.name,company:v.type==="Company"&&v.companyName||"-",contactPhone:v.phone||"-",contactEmail:v.email||"-",products:Array.isArray(v.tags)?v.tags:[],ticketsCount:g.length,lastTicket:b}})},[u,i]),p=({text:m})=>s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs bg-white/10 dark:bg-gray-800/40 border border-white/10 mr-1 mb-1",children:m});return s.jsxs(Ht,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-bold",children:e("Customers")}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("input",{value:o,onChange:m=>c(m.target.value),placeholder:e("Search customers..."),className:"px-3 py-2 rounded bg-white/5 border border-white/10 text-sm w-64"}),s.jsx("button",{onClick:d,className:"px-3 py-2 rounded bg-white/10 text-sm",children:e("Refresh")})]})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left opacity-70",children:[s.jsx("th",{className:"py-2",children:e("Customer ID")}),s.jsx("th",{className:"py-2",children:e("Name")}),s.jsx("th",{className:"py-2",children:e("Company")}),s.jsx("th",{className:"py-2",children:e("Contact Info")}),s.jsx("th",{className:"py-2",children:e("Active Contracts / Products Owned")}),s.jsx("th",{className:"py-2",children:e("Previous Tickets History")})]})}),s.jsxs("tbody",{children:[t&&[...Array(6)].map((m,v)=>s.jsxs("tr",{className:"border-t border-white/10",children:[s.jsx("td",{className:"py-3",children:s.jsx("div",{className:"skeleton-line h-4 w-24"})}),s.jsx("td",{className:"py-3",children:s.jsx("div",{className:"skeleton-line h-4 w-32"})}),s.jsx("td",{className:"py-3",children:s.jsx("div",{className:"skeleton-line h-4 w-28"})}),s.jsx("td",{className:"py-3",children:s.jsx("div",{className:"skeleton-line h-4 w-48"})}),s.jsx("td",{className:"py-3",children:s.jsx("div",{className:"skeleton-block h-6 w-64"})}),s.jsx("td",{className:"py-3",children:s.jsx("div",{className:"skeleton-line h-4 w-40"})})]},`s-${v}`)),!t&&f.map(m=>s.jsxs("tr",{className:"border-t border-white/10",children:[s.jsx("td",{className:"py-2",children:String(m.id).slice(0,12)}),s.jsx("td",{className:"py-2",children:m.name}),s.jsx("td",{className:"py-2",children:m.company||"-"}),s.jsxs("td",{className:"py-2",children:[s.jsxs("div",{className:"opacity-80",children:[e("Phone"),": ",m.contactPhone||"-"]}),s.jsxs("div",{className:"opacity-80",children:[e("Email"),": ",m.contactEmail||"-"]})]}),s.jsx("td",{className:"py-2",children:Array.isArray(m.products)&&m.products.length?s.jsx("div",{className:"flex flex-wrap",children:m.products.map((v,g)=>s.jsx(p,{text:v},g))}):s.jsx("span",{className:"opacity-60",children:"-"})}),s.jsxs("td",{className:"py-2",children:[s.jsxs("div",{className:"opacity-90",children:[e("Total"),": ",m.ticketsCount]}),m.lastTicket?s.jsxs("div",{className:"opacity-70",children:[e("Last"),": ",m.lastTicket.status,"  ",m.lastTicket.subject]}):s.jsx("div",{className:"opacity-70",children:e("No previous tickets")})]})]},m.id))]})]}),!t&&f.length===0&&s.jsx("div",{className:"mt-3 text-sm opacity-70",children:e("No customers found")})]})]})}const y$=["Complaint","Inquiry","Request","VIP Support","Technical Issue"],bS=["Low","Medium","High","Urgent"];function ize(){const{t:e,i18n:t}=Ct(),a=String(t.language||"").startsWith("en"),r={title:a?"SLA Management":"    (SLA)",add:a?"Add SLA":" SLA",search:a?"Search...":"...",typeAll:a?"Service Type (All)":"  ()",statusAll:a?"Status (All)":" ()",enabled:a?"Enabled":"",disabled:a?"Disabled":"",name:a?"Name":"",serviceType:a?"Service Type":" ",responseTime:a?"Response Time":" ",resolutionTime:a?"Resolution Time (by Priority)":"  ( )",appliesTo:a?"Applies To":" ",status:a?"Status":"",actions:a?"Actions":"",edit:a?"Edit":"",del:a?"Delete":"",none:a?"No SLAs found":"   SLA ",responseCompliance:a?"Response Compliance":" ",resolutionCompliance:a?"Resolution Compliance":" ",issues:a?"issues":"",hours:a?"hours":"",unitMinutes:a?"Minutes":"",unitHours:a?"Hours":"",unitDays:a?"Days":"",cancel:a?"Cancel":"",save:a?"Save":"",editTitle:a?"Edit SLA":" SLA",addTitle:a?"Add SLA":" SLA",loading:a?"Loading...":" ...",customerCategory:a?"Customer Category":" ",plan:a?"Plan":" ",specificCustomers:a?"Specific customers":" "},[n,i]=y.useState(!0),[l,o]=y.useState([]),[c,d]=y.useState(""),[u,f]=y.useState(""),[p,m]=y.useState(""),[v,g]=y.useState(!1),[b,j]=y.useState(null),[N,k]=y.useState({name:"",serviceType:"Inquiry",responseValue:2,responseUnit:"hours",resolution:{Low:24,Medium:24,High:12,Urgent:6},escalation:{onResponseBreach:[],onResolutionBreach:["NotifyManager"],escalateToRole:""},appliesTo:{customerCategory:"",customerIds:[],plan:""},active:!0}),[S,C]=y.useState([]),[_,P]=y.useState(""),[L,U]=y.useState(""),z=K=>{if(!K)return null;const oe=String(K).trim().replaceAll(".","/").replaceAll("-","/").replace(/\s+/g,""),D=oe.split("/");let G;if(D.length===3){const H=Number(D[0]),X=Number(D[1]),se=Number(D[2]),ie=se<100?2e3+se:se;H>31?G=new Date(H,X-1,ie):(G=new Date(ie,H-1,X),isNaN(G?.getTime())&&(G=new Date(ie,X-1,H)))}else G=new Date(oe);return isNaN(G?.getTime())?null:G},T=y.useMemo(()=>{const K=Number(N.responseValue||0),oe=N.responseUnit;return!K||K<=0?0:oe==="minutes"?K:oe==="hours"?K*60:oe==="days"?K*60*24:K},[N.responseValue,N.responseUnit]),F=async()=>{i(!0);try{const K=await ya.get("/api/slas",{params:{q:c,serviceType:u,active:p}}),oe=await ya.get("/api/tickets",{params:{type:u||void 0}});o(K.data.items||K.data.items?.items||K.data.items),C(oe.data.items&&oe.data.items.items?oe.data.items.items:oe.data.items||[])}catch(K){console.error("Failed to load SLAs",K)}finally{i(!1)}};y.useEffect(()=>{F()},[c,u,p]);const M=()=>{j(null),k({name:"",serviceType:"Inquiry",responseValue:2,responseUnit:"hours",resolution:{Low:24,Medium:24,High:12,Urgent:6},escalation:{onResponseBreach:[],onResolutionBreach:["NotifyManager"],escalateToRole:""},appliesTo:{customerCategory:"",customerIds:[],plan:""},active:!0}),g(!0)},I=K=>{j(K),k({name:K.name||"",serviceType:K.serviceType||"Inquiry",responseValue:2,responseUnit:"hours",resolution:{Low:K.resolutionMinutesByPriority?.Low?Math.round(K.resolutionMinutesByPriority.Low/60):24,Medium:K.resolutionMinutesByPriority?.Medium?Math.round(K.resolutionMinutesByPriority.Medium/60):24,High:K.resolutionMinutesByPriority?.High?Math.round(K.resolutionMinutesByPriority.High/60):12,Urgent:K.resolutionMinutesByPriority?.Urgent?Math.round(K.resolutionMinutesByPriority.Urgent/60):6},escalation:K.escalation||{onResponseBreach:[],onResolutionBreach:[],escalateToRole:""},appliesTo:K.appliesTo||{customerCategory:"",customerIds:[],plan:""},active:!!K.active}),g(!0)},W=async K=>{K.preventDefault();try{const oe={name:N.name||"SLA",serviceType:N.serviceType,responseMinutes:T,resolutionMinutesByPriority:{Low:Number(N.resolution.Low)*60,Medium:Number(N.resolution.Medium)*60,High:Number(N.resolution.High)*60,Urgent:Number(N.resolution.Urgent)*60},escalation:N.escalation,appliesTo:N.appliesTo,active:!!N.active};b?await ya.put(`/api/slas/${b.id}`,oe):await ya.post("/api/slas",oe),g(!1),await F()}catch(oe){console.error("SLA save failed",oe)}},R=async K=>{try{await ya.put(`/api/slas/${K.id}`,{active:!K.active}),await F()}catch(oe){console.error("toggle failed",oe)}},q=async K=>{if(window.confirm("Delete SLA?"))try{await ya.delete(`/api/slas/${K.id}`),await F()}catch(oe){console.error("delete failed",oe)}},ae=y.useMemo(()=>{let K=S;u&&(K=K.filter(G=>G.type===u));const oe=z(_),D=z(L);if(oe&&(K=K.filter(G=>new Date(G.createdAt)>=oe)),D){const G=new Date(D);G.setHours(23,59,59,999),K=K.filter(H=>new Date(H.createdAt)<=G)}return K},[S,u,_,L]),te=K=>{if(!K)return{responsePct:0,resolutionPct:0,count:0};const oe=ae.length;if(!oe)return{responsePct:0,resolutionPct:0,count:0};let D=0,G=0;for(const H of ae)if(H.firstResponseAt&&(new Date(H.firstResponseAt)-new Date(H.createdAt))/6e4<=Number(K.responseMinutes||0)&&D++,H.closedAt){const X=(new Date(H.closedAt)-new Date(H.createdAt))/6e4,se=K.resolutionMinutesByPriority?.[H.priority||"Low"]||0;se&&X<=se&&G++}return{responsePct:Math.round(D/oe*100),resolutionPct:Math.round(G/oe*100),count:oe}};return s.jsxs(Ht,{children:[s.jsxs("section",{className:"overflow-x-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h1",{className:"text-xl font-bold",children:r.title}),s.jsxs("button",{className:"btn btn-sm btn-primary",onClick:M,children:["+ ",r.add]})]}),s.jsx("div",{className:"glass-neon p-3 rounded-lg mb-3",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 text-sm",children:[s.jsx("input",{className:"input input-sm w-full bg-[var(--panel-bg)] text-[var(--content-text)] border border-[var(--panel-border)]",placeholder:r.search,value:c,onChange:K=>d(K.target.value)}),s.jsxs("select",{className:"input input-sm w-full bg-[var(--panel-bg)] text-[var(--content-text)] border border-[var(--panel-border)]",value:u,onChange:K=>f(K.target.value),children:[s.jsx("option",{value:"",children:r.typeAll}),y$.map(K=>s.jsx("option",{value:K,children:K},K))]}),s.jsxs("select",{className:"input input-sm w-full bg-[var(--panel-bg)] text-[var(--content-text)] border border-[var(--panel-border)]",value:p,onChange:K=>m(K.target.value),children:[s.jsx("option",{value:"",children:r.statusAll}),s.jsx("option",{value:"true",children:r.enabled}),s.jsx("option",{value:"false",children:r.disabled})]}),s.jsxs("div",{className:"sm:col-span-3 flex items-center gap-2",children:[s.jsx("input",{type:"text",inputMode:"numeric",className:"input input-sm w-full bg-[var(--panel-bg)] text-[var(--content-text)] border border-[var(--panel-border)]",placeholder:a?"mm/dd/yyyy":"//",value:_,onChange:K=>P(K.target.value)}),s.jsx("input",{type:"text",inputMode:"numeric",className:"input input-sm w-full bg-[var(--panel-bg)] text-[var(--content-text)] border border-[var(--panel-border)]",placeholder:a?"mm/dd/yyyy":"//",value:L,onChange:K=>U(K.target.value)})]})]})}),s.jsx("div",{className:"md:hidden space-y-3",children:n?s.jsxs("div",{className:"nova-card p-4",children:[s.jsx("div",{className:"skeleton h-6 w-32 mb-2"}),s.jsx("div",{className:"skeleton h-4 w-52"})]}):l&&l.length?l.map(K=>{const oe=te(K);return s.jsxs("div",{className:"nova-card p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("div",{className:"font-semibold",children:K.name||""}),s.jsx("button",{className:`badge ${K.active?"badge-success":"badge-neutral"}`,onClick:()=>R(K),children:K.active?r.enabled:r.disabled})]}),s.jsxs("div",{className:"text-sm opacity-80 mb-2",children:[r.serviceType,": ",K.serviceType]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"opacity-70",children:r.responseTime}),s.jsxs("div",{children:[Math.round((K.responseMinutes||0)/60)," ",r.hours]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"opacity-70",children:r.resolutionTime}),s.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-1",children:bS.map(D=>s.jsxs("span",{children:[D,":",Math.round((K.resolutionMinutesByPriority?.[D]||0)/60),"h"]},D))})]})]}),s.jsxs("div",{className:"mt-2 text-xs opacity-80",children:[s.jsxs("div",{children:[K.appliesTo?.customerCategory||""," ",K.appliesTo?.plan?` ${K.appliesTo.plan}`:""]}),K.appliesTo?.customerIds?.length?s.jsxs("div",{children:[r.specificCustomers,": ",K.appliesTo.customerIds.length]}):null]}),s.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-xs",onClick:()=>I(K),children:r.edit}),s.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>q(K),children:r.del})]}),s.jsxs("div",{className:"mt-2 text-xs",children:[s.jsxs("div",{children:[r.responseCompliance,": ",oe.responsePct,"%  ",r.issues,": ",oe.count]}),s.jsxs("div",{children:[r.resolutionCompliance,": ",oe.resolutionPct,"%"]})]})]},K.id)}):s.jsx("div",{className:"nova-card p-4 text-center opacity-70",children:r.none})}),s.jsx("div",{className:"nova-card p-0 hidden md:block",children:s.jsxs("table",{className:"table table-sm table-fixed w-full nova-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:r.name}),s.jsx("th",{children:r.serviceType}),s.jsx("th",{children:r.responseTime}),s.jsx("th",{children:r.resolutionTime}),s.jsx("th",{children:r.appliesTo}),s.jsx("th",{children:r.status}),s.jsx("th",{children:r.actions})]})}),s.jsx("tbody",{children:n?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"p-6 text-center opacity-70",children:r.loading})}):l&&l.length?l.map(K=>{const oe=te(K);return s.jsxs("tr",{children:[s.jsx("td",{className:"whitespace-normal break-words",children:K.name||""}),s.jsx("td",{className:"whitespace-normal break-words",children:K.serviceType}),s.jsxs("td",{className:"whitespace-normal break-words",children:[Math.round((K.responseMinutes||0)/60)," ",r.hours]}),s.jsx("td",{className:"text-sm whitespace-normal break-words",children:s.jsx("div",{className:"flex flex-col gap-1",children:bS.map(D=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"opacity-70",children:D}),s.jsxs("span",{children:[Math.round((K.resolutionMinutesByPriority?.[D]||0)/60)," ",r.hours]})]},D))})}),s.jsxs("td",{className:"text-sm whitespace-normal break-words",children:[s.jsxs("div",{className:"opacity-80",children:[K.appliesTo?.customerCategory||""," ",K.appliesTo?.plan?` ${K.appliesTo.plan}`:""]}),K.appliesTo?.customerIds?.length?s.jsxs("div",{className:"opacity-60",children:[r.specificCustomers,": ",K.appliesTo.customerIds.length]}):null]}),s.jsx("td",{children:s.jsx("button",{className:`badge ${K.active?"badge-success":"badge-neutral"}`,onClick:()=>R(K),children:K.active?r.enabled:r.disabled})}),s.jsxs("td",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-xs",onClick:()=>I(K),children:r.edit}),s.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>q(K),children:r.del})]}),s.jsxs("div",{className:"mt-2 text-xs",children:[s.jsxs("div",{children:[r.responseCompliance,": ",oe.responsePct,"%  ",r.issues,": ",oe.count]}),s.jsxs("div",{children:[r.resolutionCompliance,": ",oe.resolutionPct,"%"]})]})]})]},K.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"p-6 text-center opacity-70",children:r.none})})})]})})]}),v&&s.jsxs("div",{className:"modal open",children:[s.jsxs("div",{className:"modal-box max-w-3xl",children:[s.jsx("h3",{className:"font-bold text-lg mb-3",children:b?r.editTitle:r.addTitle}),s.jsxs("form",{onSubmit:W,className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:r.name}),s.jsx("input",{className:"input input-sm",value:N.name,onChange:K=>k({...N,name:K.target.value})})]}),s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:r.serviceType}),s.jsx("select",{className:"input input-sm",value:N.serviceType,onChange:K=>k({...N,serviceType:K.target.value}),children:y$.map(K=>s.jsx("option",{value:K,children:K},K))})]}),s.jsxs("div",{className:"md:col-span-2 grid grid-cols-3 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:r.responseTime}),s.jsx("input",{type:"number",min:1,className:"input input-sm",value:N.responseValue,onChange:K=>k({...N,responseValue:Number(K.target.value)})})]}),s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:a?"Unit":""}),s.jsxs("select",{className:"input input-sm",value:N.responseUnit,onChange:K=>k({...N,responseUnit:K.target.value}),children:[s.jsx("option",{value:"minutes",children:r.unitMinutes}),s.jsx("option",{value:"hours",children:r.unitHours}),s.jsx("option",{value:"days",children:r.unitDays})]})]}),s.jsxs("div",{className:"flex items-end text-sm opacity-70",children:["= ",T," ",r.unitMinutes]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("div",{className:"font-semibold mb-2",children:a?"Required Resolution (by Priority) - hours":"   ( ) - "}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:bS.map(K=>s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:K}),s.jsx("input",{type:"number",min:1,className:"input input-sm",value:N.resolution[K],onChange:oe=>k({...N,resolution:{...N.resolution,[K]:Number(oe.target.value)}})})]},K))})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("div",{className:"font-semibold mb-1",children:a?"Escalation Rules":" "}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:a?"On Response Breach":"   "}),s.jsx("select",{multiple:!0,className:"input input-sm h-24",value:N.escalation.onResponseBreach,onChange:K=>{const oe=Array.from(K.target.selectedOptions).map(D=>D.value);k({...N,escalation:{...N.escalation,onResponseBreach:oe}})},children:["NotifyManager","ReassignHigherRank","IncreasePriority","NotifyCustomer","MarkEscalated"].map(K=>s.jsx("option",{value:K,children:K},K))})]}),s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:a?"On Resolution Breach":"   "}),s.jsx("select",{multiple:!0,className:"input input-sm h-24",value:N.escalation.onResolutionBreach,onChange:K=>{const oe=Array.from(K.target.selectedOptions).map(D=>D.value);k({...N,escalation:{...N.escalation,onResolutionBreach:oe}})},children:["NotifyManager","ReassignHigherRank","IncreasePriority","NotifyCustomer","MarkEscalated"].map(K=>s.jsx("option",{value:K,children:K},K))})]}),s.jsxs("label",{className:"flex flex-col gap-1 md:col-span-2",children:[s.jsx("span",{children:a?"Escalate to Role/Team":"  /Team"}),s.jsx("input",{className:"input input-sm",value:N.escalation.escalateToRole,onChange:K=>k({...N,escalation:{...N.escalation,escalateToRole:K.target.value}})})]})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("div",{className:"font-semibold mb-1",children:a?"Targeting":""}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:r.customerCategory}),s.jsxs("select",{className:"input input-sm",value:N.appliesTo.customerCategory||"",onChange:K=>k({...N,appliesTo:{...N.appliesTo,customerCategory:K.target.value||void 0}}),children:[s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"VIP",children:"VIP"}),s.jsx("option",{value:"Regular",children:"Regular"})]})]}),s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:r.plan}),s.jsx("input",{className:"input input-sm",value:N.appliesTo.plan||"",onChange:K=>k({...N,appliesTo:{...N.appliesTo,plan:K.target.value}})})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:N.active,onChange:K=>k({...N,active:K.target.checked})}),s.jsx("span",{children:r.enabled})]})]})]}),s.jsxs("div",{className:"md:col-span-2 flex justify-end gap-2 mt-2",children:[s.jsx("button",{type:"button",className:"btn btn-sm",onClick:()=>g(!1),children:r.cancel}),s.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",children:r.save})]})]})]}),s.jsx("div",{className:"modal-backdrop",onClick:()=>g(!1)})]})]})}function lze(){const{t:e}=Ct(),t=["Complaint","Inquiry","Request"],a=["Low","Medium","High","Urgent"],r=["Email","Phone","WhatsApp","Customer Portal","Social Media"],[n,i]=y.useState([]),[l,o]=y.useState(!1),[c,d]=y.useState(""),[u,f]=y.useState(""),[p,m]=y.useState(""),[v,g]=y.useState(""),[b,j]=y.useState(""),[N,k]=y.useState(""),S=async()=>{try{o(!0);const D=await ya.get("/api/tickets",{params:{limit:2e3}});i(Array.isArray(D.data?.items)?D.data.items:[])}catch(D){console.warn("reports_tickets_load_failed",D)}finally{o(!1)}};y.useEffect(()=>{S()},[]);const C=y.useMemo(()=>{let D=[...n];const G=c.trim().toLowerCase();G&&(D=D.filter(se=>JSON.stringify(se).toLowerCase().includes(G))),u&&(D=D.filter(se=>String(se.type)===String(u))),p&&(D=D.filter(se=>String(se.priority)===String(p))),v&&(D=D.filter(se=>String(se.channel)===String(v)));const H=b?new Date(b):null,X=N?new Date(N):null;return H&&(D=D.filter(se=>new Date(se.createdAt)>=H)),X&&(D=D.filter(se=>new Date(se.createdAt)<=X)),D},[n,c,u,p,v,b,N]),_=y.useMemo(()=>C.filter(D=>String(D.status)==="Closed"),[C]),P=y.useMemo(()=>{const D=_.map(G=>{const H=new Date(G.createdAt).getTime(),X=G.updatedAt?new Date(G.updatedAt).getTime():H;return Math.max(0,(X-H)/(1e3*60*60))}).filter(G=>Number.isFinite(G));return D.length?Math.round(D.reduce((G,H)=>G+H,0)/D.length*10)/10:0},[_]),L=y.useMemo(()=>_.filter(D=>{const G=new Date(D.createdAt),H=D.updatedAt?new Date(D.updatedAt):G;return G.toDateString()===H.toDateString()}).length,[_]),U=y.useMemo(()=>_.filter(D=>D.slaDeadline?(D.updatedAt?new Date(D.updatedAt):new Date(D.createdAt))>new Date(D.slaDeadline):!1).length,[_]),z=y.useMemo(()=>{const D=new Map;return C.forEach(G=>D.set(G.channel,(D.get(G.channel)||0)+1)),r.map(G=>({label:e(G),value:D.get(G)||0}))},[C]),T=y.useMemo(()=>{const D=new Map;return C.forEach(G=>D.set(G.priority,(D.get(G.priority)||0)+1)),a.map(G=>({label:e(G),value:D.get(G)||0}))},[C]),F=y.useMemo(()=>{const D=new Map;return C.forEach(H=>{const X=new Date(H.createdAt).toISOString().slice(0,10);D.set(X,(D.get(X)||0)+1)}),Array.from(D.entries()).sort((H,X)=>H[0].localeCompare(X[0])).map(H=>H[1]).slice(-14)},[C]),M=({series:D=[]})=>{const X=Math.max(1,...D),se=D.length>1?156/(D.length-1):156,ie=D.map((le,pe)=>{const Q=2+pe*se,xe=38-le/X*36;return`${Q},${xe}`}).join(" "),J=D.length>1&&D[D.length-1]>=D[0]?"#10b981":"#ef4444";return s.jsx("svg",{width:160,height:40,viewBox:"0 0 160 40",children:s.jsx("polyline",{fill:"none",stroke:J,strokeWidth:"2",points:ie})})},I={emerald:"#10b981",yellow:"#f59e0b",blue:"#3b82f6",red:"#ef4444",gray:"#64748b",teal:"#2dd4bf"},W=[{label:e("Email"),value:z[0]?.value||0,color:I.teal},{label:e("Phone"),value:z[1]?.value||0,color:I.blue},{label:e("WhatsApp"),value:z[2]?.value||0,color:I.emerald},{label:e("Customer Portal"),value:z[3]?.value||0,color:I.yellow},{label:e("Social Media"),value:z[4]?.value||0,color:I.gray}],R=[{label:e("Low"),value:T[0]?.value||0,color:I.gray},{label:e("Medium"),value:T[1]?.value||0,color:I.blue},{label:e("High"),value:T[2]?.value||0,color:I.yellow},{label:e("Urgent"),value:T[3]?.value||0,color:I.red}],q=y.useMemo(()=>C.map(D=>D.csatRating).filter(D=>typeof D=="number"),[C]),ae=y.useMemo(()=>q.length?Math.round(q.reduce((D,G)=>D+G,0)/q.length*10)/10:0,[q]),te=y.useMemo(()=>{const D=new Map;return q.forEach(G=>D.set(G,(D.get(G)||0)+1)),[1,2,3,4,5].map(G=>({label:String(G),value:D.get(G)||0}))},[q]),K=y.useMemo(()=>{const D=new Map;C.forEach(H=>{const X=H.assignedAgent||"Unassigned",se=D.get(X)||[];se.push(H),D.set(X,se)});const G=Array.from(D.entries()).map(([H,X])=>{const se=X.filter(he=>String(he.status)==="Closed"),ie=se.length?Math.round(se.reduce((he,ue)=>{const Le=new Date(ue.createdAt).getTime(),ze=ue.updatedAt?new Date(ue.updatedAt).getTime():Le;return he+Math.max(0,(ze-Le)/(1e3*60*60))},0)/se.length*10)/10:0,ne=se.filter(he=>he.slaDeadline&&new Date(he.updatedAt||he.createdAt)<=new Date(he.slaDeadline)).length,J=se.length?Math.round(ne/se.length*100):0,le=X.filter(he=>String(he.status)==="Escalated").length,pe=X.map(he=>he.csatRating).filter(he=>typeof he=="number").reduce((he,ue)=>he+ue,0),Q=X.map(he=>he.csatRating).filter(he=>typeof he=="number").length,xe=Q?Math.round(pe/Q*10)/10:0;return{agent:H,tickets:X.length,closed:se.length,avgHours:ie,slaRate:J,escalations:le,csatAvg:xe}});return G.sort((H,X)=>X.tickets-H.tickets),G},[C]),oe=({rows:D,fileName:G})=>{const H=()=>{const X=Object.keys(D[0]||{}),se=[X.join(","),...D.map(le=>X.map(pe=>JSON.stringify(le[pe]??"")).join(","))].join(`
`),ie=new Blob([se],{type:"text/csv;charset=utf-8;"}),ne=URL.createObjectURL(ie),J=document.createElement("a");J.href=ne,J.download=G||"export.csv",J.click(),URL.revokeObjectURL(ne)};return s.jsx("button",{className:"btn btn-outline btn-xs",onClick:H,children:e("Export CSV")})};return s.jsxs(Ht,{children:[s.jsx("h1",{className:"text-xl font-bold mb-4",children:e("Support Reports & Analytics")}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[s.jsx("input",{value:c,onChange:D=>d(D.target.value),placeholder:e("Search..."),className:"px-3 py-1 rounded bg-white/5 border border-white/10 text-sm"}),s.jsxs(Aa,{value:u,onChange:D=>f(D),className:"px-3 py-1 text-sm",children:[s.jsx("option",{value:"",children:e("Type")}),t.map(D=>s.jsx("option",{value:D,children:e(D)},D))]}),s.jsxs(Aa,{value:p,onChange:D=>m(D),className:"px-3 py-1 text-sm",children:[s.jsx("option",{value:"",children:e("Priority")}),a.map(D=>s.jsx("option",{value:D,children:e(D)},D))]}),s.jsxs(Aa,{value:v,onChange:D=>g(D),className:"px-3 py-1 text-sm",children:[s.jsx("option",{value:"",children:e("Channel")}),r.map(D=>s.jsx("option",{value:D,children:e(D)},D))]}),s.jsx("input",{type:"date",value:b,onChange:D=>j(D.target.value),className:"px-3 py-1 rounded bg-white/5 border border-white/10 text-sm"}),s.jsx("input",{type:"date",value:N,onChange:D=>k(D.target.value),className:"px-3 py-1 rounded bg-white/5 border border-white/10 text-sm"}),s.jsx("button",{onClick:S,className:"px-3 py-1 rounded bg-white/10 text-sm",children:e("Refresh")})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h2",{className:"text-lg font-semibold",children:e("Average Resolution Time")}),s.jsx(oe,{rows:[{avgResolutionHours:P}],fileName:"avg-resolution.csv"})]}),s.jsxs("div",{className:"text-3xl font-bold",children:[P," ",s.jsx("span",{className:"text-sm opacity-70",children:e("hours")})]}),s.jsxs("div",{className:"text-sm opacity-80 mt-2",children:[e("Same day"),": ",L,"  ",e("After SLA"),": ",U]}),s.jsx("div",{className:"mt-3",children:s.jsx(M,{series:F})})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:e("Tickets by Channel")}),s.jsx("div",{className:"h-40",children:s.jsx(ei,{segments:W,centerLabel:e("Channels"),centerValue:z.reduce((D,G)=>D+G.value,0),animateCenterCountUp:!0,centerValueDuration:800})})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:e("Tickets by Priority")}),s.jsx("div",{className:"h-40",children:s.jsx(ei,{segments:R,centerLabel:e("Priority"),centerValue:T.reduce((D,G)=>D+G.value,0),animateCenterCountUp:!0,centerValueDuration:800})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h2",{className:"text-lg font-semibold",children:e("Customer Satisfaction (CSAT)")}),q.length>0&&s.jsx(oe,{rows:te,fileName:"csat.csv"})]}),q.length>0?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-3xl font-bold",children:[ae," ",s.jsx("span",{className:"text-sm opacity-70",children:"/ 5"})]}),s.jsx("div",{className:"mt-3",children:s.jsx(ei,{segments:te.map(D=>({label:D.label,value:D.value,color:I.teal})),centerLabel:e("Ratings"),centerValue:q.length,animateCenterCountUp:!0})})]}):s.jsx("div",{className:"text-sm opacity-70",children:e("No CSAT data available")})]}),s.jsxs("div",{className:"card p-4 sm:p-6 bg-transparent",style:{backgroundColor:"transparent"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h2",{className:"text-lg font-semibold",children:e("Agent Performance")}),K.length>0&&s.jsx(oe,{rows:K,fileName:"agents.csv"})]}),s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left opacity-70",children:[s.jsx("th",{className:"py-1",children:e("Agent")}),s.jsx("th",{className:"py-1",children:e("Tickets")}),s.jsx("th",{className:"py-1",children:e("Closed")}),s.jsx("th",{className:"py-1",children:e("Avg Hours")}),s.jsx("th",{className:"py-1",children:e("SLA %")}),s.jsx("th",{className:"py-1",children:e("Escalations")}),s.jsx("th",{className:"py-1",children:e("CSAT")})]})}),s.jsxs("tbody",{children:[K.map(D=>s.jsxs("tr",{className:"border-t border-white/10",children:[s.jsx("td",{className:"py-1",children:D.agent}),s.jsx("td",{className:"py-1",children:D.tickets}),s.jsx("td",{className:"py-1",children:D.closed}),s.jsx("td",{className:"py-1",children:D.avgHours}),s.jsxs("td",{className:"py-1",children:[D.slaRate,"%"]}),s.jsx("td",{className:"py-1",children:D.escalations}),s.jsx("td",{className:"py-1",children:D.csatAvg?`${D.csatAvg}/5`:"-"})]},D.agent)),!K.length&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"py-2 text-sm opacity-70",children:e("No agent data")})})]})]})]})]}),l&&s.jsx("div",{className:"mt-2 text-sm opacity-70",children:e("Loading...")})]})}function oze(){const{t:e,i18n:t}=Ct();t.dir();const[a,r]=y.useState([]),[n,i]=y.useState({avgCSAT:0,topAgents:[],bottomAgents:[],dissatisfiedCountThisMonth:0,responseRatePercent:0}),[l,o]=y.useState(!0),[c,d]=y.useState(""),[u,f]=y.useState("All"),[p,m]=y.useState(1),[v,g]=y.useState(!1),[b,j]=y.useState({ticketId:"",customerId:"",rating:5,comment:"",channel:"Email"});y.useEffect(()=>{(async()=>{try{o(!0);const[_,P]=await Promise.all([ya.get("/api/feedbacks/surveys"),ya.get("/api/feedbacks/surveys/stats")]);r(_.data?.data?.items||[]),i(P.data?.data||{})}catch(_){console.warn("Failed to load surveys",_)}finally{o(!1)}})()},[]);const N=y.useMemo(()=>{let C=a.slice();return c&&(C=C.filter(_=>JSON.stringify(_).toLowerCase().includes(c.toLowerCase()))),u!=="All"&&(C=C.filter(_=>String(_.agent||"")===String(u))),p&&(C=C.filter(_=>Number(_.rating)>=Number(p))),C},[a,c,u,p]),k=y.useMemo(()=>["All",...Array.from(new Set(a.map(_=>_.agent||"")))],[a]),S=async C=>{C.preventDefault();try{g(!0);const _={...b,rating:Number(b.rating)};await ya.post("/api/feedbacks/surveys",_),j({ticketId:"",customerId:"",rating:5,comment:"",channel:"Email"});const[P,L]=await Promise.all([ya.get("/api/feedbacks/surveys"),ya.get("/api/feedbacks/surveys/stats")]);r(P.data?.data?.items||[]),i(L.data?.data||{})}catch(_){console.warn("Submit survey failed",_)}finally{g(!1)}};return s.jsx(Ht,{children:s.jsxs("section",{className:"px-2 sm:px-4",children:[s.jsx("h1",{className:"text-xl font-bold mb-3",children:e("Feedback & Surveys")}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-4",children:[s.jsxs("div",{className:"nova-card p-4",children:[s.jsx("div",{className:"text-sm opacity-70",children:e("Average CSAT")}),s.jsx("div",{className:"text-2xl font-semibold",children:Number(n.avgCSAT||0).toFixed(2)})]}),s.jsxs("div",{className:"nova-card p-4",children:[s.jsx("div",{className:"text-sm opacity-70",children:e("Dissatisfied Customers (This Month)")}),s.jsx("div",{className:"text-2xl font-semibold",children:n.dissatisfiedCountThisMonth||0})]}),s.jsxs("div",{className:"nova-card p-4",children:[s.jsx("div",{className:"text-sm opacity-70",children:e("Response Rate")}),s.jsxs("div",{className:"text-2xl font-semibold",children:[n.responseRatePercent||0,"%"]})]}),s.jsxs("div",{className:"nova-card p-4",children:[s.jsx("div",{className:"text-sm opacity-70",children:e("Total Surveys")}),s.jsx("div",{className:"text-2xl font-semibold",children:n?.totals?.surveys||a.length})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"nova-card p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:e("Top 5 Agents")}),s.jsx("ul",{className:"space-y-1 text-sm",children:(n.topAgents||[]).map((C,_)=>s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:C.agent}),s.jsx("span",{className:"font-medium",children:C.avg?.toFixed(2)})]},_))})]}),s.jsxs("div",{className:"nova-card p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:e("Bottom 5 Agents")}),s.jsx("ul",{className:"space-y-1 text-sm",children:(n.bottomAgents||[]).map((C,_)=>s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:C.agent}),s.jsx("span",{className:"font-medium",children:C.avg?.toFixed(2)})]},_))})]})]}),s.jsx("div",{className:"glass-neon nova-card p-3 mb-3",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[s.jsx("input",{className:"input-sm rounded-md px-3 py-2 border",placeholder:e("Search..."),value:c,onChange:C=>d(C.target.value),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"}}),s.jsx("select",{className:"input-sm rounded-md px-3 py-2",value:u,onChange:C=>f(C.target.value),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"},children:k.map(C=>s.jsx("option",{value:C,children:C},C))}),s.jsx("select",{className:"input-sm rounded-md px-3 py-2",value:p,onChange:C=>m(Number(C.target.value)),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"},children:[1,2,3,4,5].map(C=>s.jsxs("option",{value:C,children:[e("Min Rating")," ",C]},C))})]})}),s.jsxs("div",{className:"nova-card p-4 mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:e("Submit Survey")}),s.jsxs("form",{onSubmit:S,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2",children:[s.jsx("input",{className:"input-sm rounded-md px-3 py-2 border",placeholder:e("Ticket ID"),value:b.ticketId,onChange:C=>j(_=>({..._,ticketId:C.target.value})),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"}}),s.jsx("input",{className:"input-sm rounded-md px-3 py-2 border",placeholder:e("Customer ID"),value:b.customerId,onChange:C=>j(_=>({..._,customerId:C.target.value})),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"}}),s.jsx("select",{className:"input-sm rounded-md px-3 py-2",value:b.rating,onChange:C=>j(_=>({..._,rating:Number(C.target.value)})),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"},children:[1,2,3,4,5].map(C=>s.jsxs("option",{value:C,children:[C," "]},C))}),s.jsx("select",{className:"input-sm rounded-md px-3 py-2",value:b.channel,onChange:C=>j(_=>({..._,channel:C.target.value})),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"},children:["Email","SMS","WhatsApp"].map(C=>s.jsx("option",{value:C,children:C},C))}),s.jsx("textarea",{className:"input-sm rounded-md px-3 py-2 sm:col-span-2 lg:col-span-4",placeholder:e("Optional comment"),value:b.comment,onChange:C=>j(_=>({..._,comment:C.target.value})),style:{backgroundColor:"var(--panel-bg)",color:"var(--content-text)",borderColor:"var(--panel-border)"}}),s.jsx("div",{className:"sm:col-span-2 lg:col-span-4 flex justify-end",children:s.jsx("button",{className:"btn btn-primary",disabled:v,children:e(v?"Submitting...":"Submit")})})]}),s.jsxs("p",{className:"text-xs opacity-70 mt-2",children:[e("Note"),": ",e("Negative ratings (2) auto-escalate with 24h SLA")]})]}),s.jsx("div",{className:"nova-card p-0 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left",children:e("Rating")}),s.jsx("th",{className:"px-3 py-2 text-left",children:e("Comment")}),s.jsx("th",{className:"px-3 py-2 text-left",children:e("Ticket ID")}),s.jsx("th",{className:"px-3 py-2 text-left",children:e("Customer ID")}),s.jsx("th",{className:"px-3 py-2 text-left",children:e("Agent")}),s.jsx("th",{className:"px-3 py-2 text-left",children:e("Submitted At")})]})}),s.jsx("tbody",{children:l?s.jsx("tr",{children:s.jsx("td",{className:"px-3 py-6",colSpan:6,children:e("Loading...")})}):N.length?N.map(C=>s.jsxs("tr",{className:"border-t",children:[s.jsxs("td",{className:"px-3 py-2",children:[C.rating," "]}),s.jsx("td",{className:"px-3 py-2",children:C.comment||""}),s.jsx("td",{className:"px-3 py-2",children:C.ticketId}),s.jsx("td",{className:"px-3 py-2",children:C.customerId}),s.jsx("td",{className:"px-3 py-2",children:C.agent||""}),s.jsx("td",{className:"px-3 py-2",children:(C.submittedAt||"").replace("T"," ").slice(0,16)})]},C.id)):s.jsx("tr",{children:s.jsx("td",{className:"px-3 py-6",colSpan:6,children:e("No surveys found")})})})]})})})]})})}function QN({onEdit:e,onChangePassword:t,onToggleActive:a,onDelete:r,onEnable:n,onRefresh:i,onAssignRotation:l,onDelayRotation:o}){return s.jsxs("div",{className:"action-toolbar",children:[s.jsx("button",{className:"btn-icon",title:"Edit",onClick:e,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M12 20h9"}),s.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),s.jsx("button",{className:"btn-icon",title:"Change Password",onClick:t,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"11",width:"18",height:"10",rx:"2"}),s.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}),s.jsx("path",{d:"M12 16v3"}),s.jsx("path",{d:"M10 16h4"})]})}),s.jsx("button",{className:"btn-icon",title:"Toggle Active",onClick:a,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"7",width:"18",height:"10",rx:"5"}),s.jsx("circle",{cx:"9",cy:"12",r:"3"})]})}),s.jsx("button",{className:"btn-icon",title:"Delete",onClick:r,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"3 6 5 6 21 6"}),s.jsx("path",{d:"M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"}),s.jsx("path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2"})]})}),n&&s.jsx("button",{className:"btn-icon",title:"Enable",onClick:n,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"9"}),s.jsx("path",{d:"M9 12l2 2 4-4"})]})}),i&&s.jsx("button",{className:"btn-icon",title:"Refresh",onClick:i,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"23 4 23 10 17 10"}),s.jsx("polyline",{points:"1 20 1 14 7 14"}),s.jsx("path",{d:"M3.51 9a10 10 0 0 1 14.88-3.36L23 10"}),s.jsx("path",{d:"M1 14l4.62 4.62A10 10 0 0 0 20.49 15"})]})}),l&&s.jsx("button",{className:"btn-icon",title:"Assign Rotation",onClick:l,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M12 2v5"}),s.jsx("path",{d:"M12 17v5"}),s.jsx("path",{d:"M2 12h5"}),s.jsx("path",{d:"M17 12h5"}),s.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),o&&s.jsx("button",{className:"btn-icon",title:"Delay Rotation",onClick:o,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 3v5h5"}),s.jsx("path",{d:"M21 21v-5h-5"}),s.jsx("path",{d:"M5 13a7 7 0 0 0 12 3"}),s.jsx("path",{d:"M19 11a7 7 0 0 0-12-3"})]})})]})}function MT({open:e,onClose:t,onSubmit:a,context:r="task",teams:n=[],users:i=[],leads:l=[],defaultAssignType:o="team",defaultTargetId:c}){const{i18n:d}=Ct(),[u,f]=y.useState(o),[p,m]=y.useState(o==="team"?c||n[0]?.id:""),[v,g]=y.useState(o==="user"?c||i[0]?.id:""),[b,j]=y.useState(o==="team"&&c?[c]:[]),[N,k]=y.useState(o==="user"&&c?[c]:[]),[S,C]=y.useState(l[0]?.id||""),[_,P]=y.useState("Normal"),[L,U]=y.useState(""),[z,T]=y.useState(""),F=r==="task",M=d?.language==="ar",I=y.useMemo(()=>({title:M?" ":"Assignment Center",close:M?"":"Close",assignType:M?" ":"Assign Type",team:M?"":"Team",user:M?"":"User",teams:M?F?"":"":F?"Teams":"Team",users:M?F?"":"":F?"Users":"User",lead:M?"":"Lead",noLeads:M?"   ":"No leads available",priority:M?"":"Priority",priorityOptions:M?["","","",""]:["Low","Normal","High","Critical"],deadline:M?" ":"Deadline",notes:M?"":"Notes",cancel:M?"":"Cancel",assign:M?"":"Assign",selectedSuffix:M?"/":"selected",badgePrefixTeam:M?"":"Team",badgePrefixUser:M?"":"User",contextLabel:{task:M?"":"Task",lead:M?"":"Lead",ticket:M?"":"Ticket",user:M?"":"User"}}),[M,F]),W=y.useMemo(()=>{if(u==="team"){if(F){const H=n.filter(X=>b.includes(X.id));return H.length===0?"":H.length<=2?H.map(X=>X.name).join(", "):`${H.length} ${I.selectedSuffix}`}return n.find(H=>H.id===(p||c))?.name||""}if(F){const G=i.filter(H=>N.includes(H.id));return G.length===0?"":G.length<=2?G.map(H=>H.fullName).join(", "):`${G.length} ${I.selectedSuffix}`}return i.find(G=>G.id===(v||c))?.fullName||""},[u,p,v,n,i,c,F,b,N,I.selectedSuffix]),R=y.useMemo(()=>p?i.filter(D=>!D.team||D.team===p||D.team===n.find(G=>G.id===p)?.name):i,[i,p,n]),q=y.useMemo(()=>{if(!S)return"";const D=l.find(G=>G.id===S);return D?.name||D?.full_name||""},[S,l]);if(!e)return null;const K=(u==="team"?F?b.length>0:!!p:F?N.length>0:!!v)&&(!(r==="lead")||!!S),oe=()=>{a?.({context:r,assignType:u,teamId:u==="team"&&!F?p:void 0,userId:u==="user"&&!F?v:void 0,teamIds:u==="team"&&F?b:void 0,userIds:u==="user"&&F?N:void 0,targetName:W,leadId:r==="lead"?S:void 0,leadName:r==="lead"?q:void 0,priority:_,deadline:L,notes:z}),t?.()};return s.jsxs("div",{className:"modal modal-open",children:[s.jsxs("div",{className:"modal-box glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-semibold",children:I.title}),!!W&&s.jsxs("span",{className:"badge badge-outline",children:[u==="team"?I.badgePrefixTeam:I.badgePrefixUser,": ",W]})]}),s.jsx("button",{className:"btn btn-ghost btn-sm",onClick:t,children:I.close})]}),s.jsx("div",{className:"mb-2 text-sm opacity-70",children:M?`: ${I.contextLabel[r]}`:`Context: ${I.contextLabel[r]}`}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"form-control",children:[s.jsx("span",{className:"label-text",children:I.assignType}),s.jsxs("select",{className:"select select-bordered bg-transparent",value:u,onChange:D=>f(D.target.value),children:[s.jsx("option",{value:"team",children:I.team}),s.jsx("option",{value:"user",children:I.user})]})]}),u==="team"&&s.jsxs("label",{className:"form-control",children:[s.jsx("span",{className:"label-text",children:I.teams}),s.jsx("select",{className:"select select-bordered bg-transparent",multiple:F,value:F?b:p,onChange:D=>{if(F){const G=Array.from(D.target.selectedOptions).map(H=>H.value);j(G)}else m(D.target.value)},children:n.map(D=>s.jsx("option",{value:D.id,children:D.name},D.id))})]}),u==="user"&&s.jsxs("label",{className:"form-control md:col-span-1",children:[s.jsx("span",{className:"label-text",children:I.users}),s.jsx("select",{className:"select select-bordered bg-transparent",multiple:F,value:F?N:v,onChange:D=>{if(F){const G=Array.from(D.target.selectedOptions).map(H=>H.value);k(G)}else g(D.target.value)},children:R.map(D=>s.jsxs("option",{value:D.id,children:[D.fullName," ",D.team?`(${D.team})`:""]},D.id))})]}),r==="lead"&&s.jsxs("label",{className:"form-control md:col-span-1",children:[s.jsx("span",{className:"label-text",children:I.lead}),s.jsxs("select",{className:"select select-bordered bg-transparent",value:S,onChange:D=>C(D.target.value),children:[l.length===0&&s.jsx("option",{value:"",disabled:!0,children:I.noLeads}),l.map(D=>s.jsx("option",{value:D.id,children:D.name||D.full_name||`Lead ${D.id}`},D.id))]})]}),r!=="user"&&s.jsxs(s.Fragment,{children:[s.jsxs("label",{className:"form-control",children:[s.jsx("span",{className:"label-text",children:I.priority}),s.jsx("select",{className:"select select-bordered bg-transparent",value:_,onChange:D=>P(D.target.value),children:I.priorityOptions.map(D=>s.jsx("option",{value:D,children:D},D))})]}),s.jsxs("label",{className:"form-control",children:[s.jsx("span",{className:"label-text",children:I.deadline}),s.jsx("input",{type:"date",className:"input input-bordered bg-transparent",value:L,onChange:D=>U(D.target.value)})]})]}),s.jsxs("label",{className:"form-control md:col-span-2",children:[s.jsx("span",{className:"label-text",children:I.notes}),s.jsx("textarea",{className:"textarea textarea-bordered bg-transparent",rows:3,value:z,onChange:D=>T(D.target.value),placeholder:`${M?"":"Context"}: ${I.contextLabel[r]}${W?`  ${M?" ":"Assigning to"} ${u==="team"?I.team:I.user}: ${W}`:""}`})]})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between gap-2",children:[s.jsx("div",{className:"text-sm opacity-70",children:u==="team"?F?`${(b||[]).length} ${I.selectedSuffix}`:p?`${I.badgePrefixTeam}: ${W}`:"":F?`${(N||[]).length} ${I.selectedSuffix}`:v?`${I.badgePrefixUser}: ${W}`:""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-ghost",onClick:t,children:I.cancel}),s.jsx("button",{className:"btn btn-primary",onClick:oe,disabled:!K,children:I.assign})]})]})]}),s.jsx("div",{className:"modal-backdrop",onClick:t})]})}const Cj=[{id:"d-3001",name:"Customer Support"},{id:"d-3002",name:"Sales"},{id:"d-3003",name:"Technical Support"}],cze={"Customer Support":["Tier 1","Tier 2","Escalations"],Sales:["Inside Sales","Field Sales","Account Execs"],"Technical Support":["Level 1","Level 2"]};function q6(e){return e?cze[e]||[]:[]}const dze=[{id:"u-1001",avatarUrl:"",fullName:"Ibrahim Hassan",email:"ibrahim@example.com",phone:"+20 100 000 0000",role:"Admin",status:"Active",team:"Support",department:"Customer Support",lastLogin:"2025-11-18 10:24",createdAt:"2025-10-02"},{id:"u-1002",avatarUrl:"",fullName:"Sara Ali",email:"sara.ali@example.com",phone:"+20 111 222 3333",role:"Agent",status:"Inactive",team:"Sales",department:"Sales",lastLogin:"2025-11-15 09:17",createdAt:"2025-09-12"},{id:"u-1003",avatarUrl:"",fullName:"Mohamed Salem",email:"msalem@example.com",phone:"+20 122 444 5555",role:"Manager",status:"Suspended",team:"Operations",department:"Technical Support",lastLogin:"2025-11-10 14:05",createdAt:"2025-08-20"}],uze=["Admin","Manager","Agent","Viewer"],hze=["Active","Inactive","Suspended"],w$=["Support","Sales","Operations","Finance"];function fze(){const e=Ys(),{i18n:t}=Ct(),a=t.language==="ar",[r,n]=y.useState(""),[i,l]=y.useState(""),[o,c]=y.useState(""),[d,u]=y.useState(""),[f,p]=y.useState(""),[m,v]=y.useState(""),[g,b]=y.useState(""),[j,N]=y.useState(dze),[k,S]=y.useState([]),C=y.useMemo(()=>{try{return JSON.parse(localStorage.getItem("leads")||"[]")}catch{return[]}},[]),[_,P]=y.useState(!1),[L,U]=y.useState("task"),[z,T]=y.useState("user"),[F,M]=y.useState(""),I=y.useMemo(()=>j.filter(J=>{const le=[J.fullName,J.email,J.phone].join(" ").toLowerCase().includes(r.toLowerCase()),pe=i?J.role===i:!0,Q=o?J.status===o:!0,xe=d?(J.team||"")===d:!0,he=f?(J.department||"")===f:!0,ue=m?(J.createdAt||"")>=m:!0,Le=g?(J.createdAt||"")<=g:!0;return le&&pe&&Q&&xe&&he&&ue&&Le}),[j,r,i,o,d,f,m,g]),W=I.length>0&&I.every(J=>k.includes(J.id)),R=J=>{N(le=>le.map(pe=>pe.id===J?{...pe,status:pe.status==="Active"?"Inactive":"Active"}:pe))},q=J=>{window.confirm("Delete this user?")&&N(le=>le.filter(pe=>pe.id!==J))},ae=J=>{alert(`Change password dialog opened for ${J}`)},te=J=>{alert(`Refreshed user ${J}`)},K=J=>{alert(`Assigned rotation to user ${J}`)},oe=J=>{alert(`Delayed rotation for user ${J}`)},D=y.useMemo(()=>({title:a?"   ":"Bulk actions on selected",deleteSelected:"delete",assignTask:a?" ":"Assign task",assignLead:a?" ":"Assign lead",assignTicket:a?" ":"Assign ticket",selectUsersFirst:a?"  ":"Select users first",bulkAssignUsersFirst:a?"     ":"Select users first to perform bulk assignment",deletedMsg:a?"   ":"Selected users deleted",confirmDelete:a?`  ${k.length} ().   `:`This will delete ${k.length} user(s). Are you sure?`}),[a,k.length]),G=()=>{if(k.length===0)return alert(D.selectUsersFirst);window.confirm(D.confirmDelete)&&(N(J=>J.filter(le=>!k.includes(le.id))),S([]),alert(D.deletedMsg))},H=J=>{if(k.length===0)return alert(D.selectUsersFirst);U(J),T("user"),M(""),P(!0)},X=()=>{S(W?[]:I.map(J=>J.id))},se=J=>{S(le=>le.includes(J)?le.filter(pe=>pe!==J):[...le,J])},ie=()=>{const J=["ID","Full Name","Email","Phone","Role","Status","Team","Created At"],le=I.map(ue=>[ue.id,ue.fullName,ue.email,ue.phone,ue.role,ue.status,ue.team||"",ue.createdAt||""]),pe=[J.join(","),...le.map(ue=>ue.map(Le=>`"${String(Le||"").replace(/"/g,'""')}"`).join(","))].join(`
`),Q=new Blob([pe],{type:"text/csv;charset=utf-8;"}),xe=URL.createObjectURL(Q),he=document.createElement("a");he.href=xe,he.download="users-export.csv",he.click(),URL.revokeObjectURL(xe)},ne=J=>{console.log("Assignment payload (Users):",{...J,selectedUserIds:k}),alert("   ")};return s.jsx(Ht,{title:"User Management  Users",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl px-4 py-3 mb-4 flex items-center justify-between",children:[s.jsx("h1",{className:"text-xl font-semibold text-primary",children:"Users"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-ghost",onClick:ie,children:"Export Excel"}),s.jsx(os,{to:"/user-management/users/new",className:"btn btn-primary",children:"Add New User"})]})]}),s.jsx("div",{className:"glass-panel rounded-xl p-3 mb-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:a?"":"Search"})}),s.jsx("input",{type:"text",className:"input-soft w-full",placeholder:a?" (  )":"Search (name, email, phone)",value:r,onChange:J=>n(J.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:a?"":"Role"})}),s.jsx(Aa,{className:"w-full",options:uze,value:i,onChange:J=>l(J),placeholder:a?" ":"Select role"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:a?"":"Status"})}),s.jsx(Aa,{className:"w-full",options:hze,value:o,onChange:J=>c(J),placeholder:a?" ":"Select status"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:a?"":"Team"})}),s.jsx(Aa,{className:"w-full",options:w$,value:d,onChange:J=>u(J),placeholder:a?" ":"Select team"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:a?"":"Department"})}),s.jsx(Aa,{className:"w-full",options:Cj.map(J=>J.name),value:f,onChange:J=>p(J),placeholder:a?" ":"Select department"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:a?" ":"Date From"})}),s.jsx("input",{type:"date",className:"input-soft w-full",value:m,onChange:J=>v(J.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:a?" ":"Date To"})}),s.jsx("input",{type:"date",className:"input-soft w-full",value:g,onChange:J=>b(J.target.value)})]})]})}),k.length>0&&s.jsxs("div",{className:"glass-panel rounded-xl px-3 py-2 mb-3 flex flex-wrap items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-[var(--muted-text)]",children:[D.title,":"]}),s.jsx("button",{className:"btn btn-ghost",onClick:G,children:D.deleteSelected}),s.jsx("button",{className:"btn btn-ghost",onClick:()=>H("task"),children:D.assignTask}),s.jsx("button",{className:"btn btn-ghost",onClick:()=>H("lead"),children:D.assignLead}),s.jsx("button",{className:"btn btn-ghost",onClick:()=>H("ticket"),children:D.assignTicket})]}),s.jsx("div",{className:"glass-panel rounded-xl overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"thead-soft",children:[s.jsx("th",{children:s.jsx("input",{type:"checkbox",className:"checkbox",checked:W,onChange:X})}),s.jsx("th",{children:"Avatar"}),s.jsx("th",{children:"Full Name"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Actions"}),s.jsx("th",{children:"Last Login"})]})}),s.jsx("tbody",{children:I.map(J=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsx("input",{type:"checkbox",className:"checkbox",checked:k.includes(J.id),onChange:()=>se(J.id)})}),s.jsx("td",{children:s.jsx("div",{className:"avatar placeholder",children:s.jsx("div",{className:"bg-neutral text-neutral-content rounded-full w-10",children:s.jsx("span",{children:J.fullName?.[0]||"?"})})})}),s.jsx("td",{className:"font-medium",children:s.jsx(os,{to:`/user-management/users/${J.id}`,children:J.fullName})}),s.jsx("td",{children:J.role}),s.jsx("td",{children:s.jsx("span",{className:`badge ${J.status==="Active"?"badge-success":J.status==="Suspended"?"badge-error":""}`,children:J.status})}),s.jsx("td",{children:s.jsx(QN,{onEdit:()=>e(`/user-management/users/${J.id}?edit=1`),onChangePassword:()=>ae(J.id),onToggleActive:()=>R(J.id),onDelete:()=>q(J.id),onEnable:()=>R(J.id),onRefresh:()=>te(J.id),onAssignRotation:()=>K(J.id),onDelayRotation:()=>oe(J.id)})}),s.jsx("td",{children:J.lastLogin})]},J.id))})]})}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("div",{children:["Showing ",I.length," of ",j.length," users"]}),s.jsxs("div",{className:"join",children:[s.jsx("button",{className:"join-item btn",children:""}),s.jsx("button",{className:"join-item btn",children:"1"}),s.jsx("button",{className:"join-item btn",children:"2"}),s.jsx("button",{className:"join-item btn",children:"3"}),s.jsx("button",{className:"join-item btn",children:""})]})]}),_&&s.jsx(MT,{open:_,onClose:()=>P(!1),onSubmit:ne,context:L,teams:w$.map(J=>({id:J,name:J})),users:j.map(J=>({id:J.id,fullName:J.fullName,team:J.team,role:J.role})),leads:C,defaultAssignType:z,defaultTargetId:F})]})})}const mze=["Admin","Manager","Agent","Viewer","Custom"],pze=["Active","Inactive","Suspended"],xze={Tickets:["view","create","update","delete","assign","close"],Customers:["view","create","update","delete"],SLA:["view","create","update","delete"],Reports:["view","export"],"User Management":["view","create","update","delete","changeRole"],Settings:["view","update"],Integrations:["view","configure"],"Custom Modules":["view","create","update","delete"]};function gze(){const{i18n:e}=Ct(),t=e.language==="ar",a=Ys(),[r,n]=y.useState({fullName:"",email:"",phone:"",username:"",password:"",sendInvite:!0,role:"",status:"Active",department:"",team:""}),[i,l]=y.useState({}),[o,c]=y.useState({}),d=y.useMemo(()=>r.role==="Custom",[r.role]),u=(v,g)=>{n(b=>({...b,[v]:g}))},f=(v,g)=>{l(b=>{const j=new Set(b[v]||[]);return j.has(g)?j.delete(g):j.add(g),{...b,[v]:Array.from(j)}})},p=()=>{const v={};return r.fullName?.trim()||(v.fullName="Full Name is required"),r.email?.trim()||(v.email="Email is required"),r.role?.trim()||(v.role="Role is required"),!r.sendInvite&&(r.password?.length||0)<8&&(v.password="Password must be at least 8 characters"),c(v),Object.keys(v).length===0},m=v=>{if(v.preventDefault(),!p())return;const g={...r,permissions:d?i:void 0};console.log("Create User payload",g),alert("User created (mock). Returning to Users list."),a("/user-management/users")};return s.jsx(Ht,{title:"User Management  Add New User",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Add New User"}),s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"card-title",children:"1. Basic Info"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Full Name"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:r.fullName,onChange:v=>u("fullName",v.target.value)}),o.fullName&&s.jsx("p",{className:"text-error text-sm mt-1",children:o.fullName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Email"})}),s.jsx("input",{type:"email",className:"input input-bordered w-full bg-transparent",value:r.email,onChange:v=>u("email",v.target.value)}),o.email&&s.jsx("p",{className:"text-error text-sm mt-1",children:o.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Phone (Optional)"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:r.phone,onChange:v=>u("phone",v.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Username (Optional)"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:r.username,onChange:v=>u("username",v.target.value)})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"form-control",children:s.jsxs("label",{className:"label cursor-pointer",children:[s.jsx("span",{className:"label-text",children:"Send Invite"}),s.jsx("input",{type:"checkbox",className:"toggle",checked:r.sendInvite,onChange:v=>u("sendInvite",v.target.checked)})]})}),!r.sendInvite&&s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Password"})}),s.jsx("input",{type:"password",className:"input input-bordered w-full bg-transparent",value:r.password,onChange:v=>u("password",v.target.value)}),o.password&&s.jsx("p",{className:"text-error text-sm mt-1",children:o.password})]})]})]})]})}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"card-title",children:"2. Account Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Role"})}),s.jsx(Aa,{className:"w-full",options:mze,value:r.role,onChange:v=>u("role",v)}),o.role&&s.jsx("p",{className:"text-error text-sm mt-1",children:o.role})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Status"})}),s.jsx(Aa,{className:"w-full",options:pze,value:r.status,onChange:v=>u("status",v)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Department"})}),s.jsx(Aa,{className:"w-full",options:Cj.map(v=>({value:v.name,label:v.name})),value:r.department,onChange:v=>{n(g=>{const j=q6(v).includes(g.team);return{...g,department:v,team:j?g.team:""}})}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Team"})}),s.jsx(Aa,{className:"w-full",options:q6(r.department),value:r.team,onChange:v=>u("team",v),placeholder:r.department?t?" ":"Select team":t?"  ":"Select department first",disabled:!r.department})]})]})]})}),d&&s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"card-title",children:"3. Permissions (Custom Role)"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:Object.entries(xze).map(([v,g])=>s.jsxs("div",{className:"glass-panel rounded-lg p-3",children:[s.jsx("h3",{className:"font-medium mb-2",children:v}),s.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(b=>{const j=(i[v]||[]).includes(b);return s.jsxs("label",{className:"cursor-pointer flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"checkbox",checked:j,onChange:()=>f(v,b)}),s.jsx("span",{children:b})]},b)})})]},v))})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"}),s.jsx("button",{type:"button",className:"btn",onClick:()=>a("/user-management/users"),children:"Cancel"})]})]})]})})}const vze={id:"u-1001",avatarUrl:"",fullName:"Ibrahim Hassan",email:"ibrahim@example.com",phone:"+20 100 000 0000",role:"Admin",status:"Active",team:"Support",department:"Customer Support",lastLogin:"2025-11-18 10:24",createdAt:"2025-10-02",updatedAt:"2025-11-18",permissions:{Tickets:["view","create","update","delete","assign","close"],Customers:["view","create","update","delete"],Reports:["view","export"]}},bze=[{type:"Login",description:"Successful login",ts:"2025-11-18 10:24"},{type:"Ticket Update",description:"Updated Ticket #4531 status to Resolved",ts:"2025-11-17 16:02"},{type:"Permission Change",description:"Granted Reports:export",ts:"2025-11-16 09:48"}],yze=[{id:"T-4531",priority:"High",status:"Resolved",slaMet:!0,lastUpdated:"2025-11-17 16:02"},{id:"T-4455",priority:"Medium",status:"Open",slaMet:!1,lastUpdated:"2025-11-18 08:11"}],wze=[{device:"Windows PC",browser:"Chrome",ip:"192.168.1.12",login:"2025-11-18 10:24"},{device:"iPhone",browser:"Safari",ip:"192.168.1.15",login:"2025-11-16 21:03"}];function jze(){const{id:e}=Ej(),t=Ys(),a=io(),r=new URLSearchParams(a.search).get("edit")==="1",[n,i]=y.useState("account"),[l,o]=y.useState(!1),[c,d]=y.useState(""),[u,f]=y.useState(""),[p,m]=y.useState(""),[v,g]=y.useState(""),b=y.useMemo(()=>({...vze,id:e}),[e]),j=y.useMemo(()=>TU(e),[e]),N=()=>o(!0),k=()=>alert(`${b.status==="Active"?"Deactivated":"Activated"} (mock)`),S=()=>{window.confirm("Delete this user?")&&(alert("Deleted (mock)"),t("/user-management/users"))};return s.jsxs(Ht,{title:`User  ${b.fullName}`,children:[s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("div",{className:"glass-panel bg-base-200/60 border border-base-300 rounded-xl p-4 mb-4 shadow-sm",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"avatar placeholder",children:s.jsx("div",{className:"bg-neutral text-neutral-content rounded-full w-20",children:s.jsx("span",{className:"text-2xl",children:b.fullName?.[0]||"?"})})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("h1",{className:"text-xl font-semibold flex items-center gap-2",children:[b.fullName,b.status==="Suspended"?s.jsx("span",{title:"Suspended","aria-label":"Suspended",className:"inline-flex items-center text-error",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"w-4 h-4",fill:"currentColor",children:s.jsx("path",{d:"M12 2a4 4 0 0 0-4 4v3H7a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2h-1V6a4 4 0 0 0-4-4zm-2 7V6a2 2 0 0 1 4 0v3h-4z"})})}):s.jsx("span",{title:"Active","aria-label":"Active",className:"inline-flex items-center text-success",children:s.jsx("span",{className:"w-2 h-2 rounded-full bg-success inline-block"})})]}),s.jsx("span",{className:"badge badge-outline badge-sm",children:b.role}),s.jsx("span",{className:"badge badge-outline badge-sm",children:b.team||""}),s.jsx("span",{className:"badge badge-outline badge-sm",children:b.department||""}),s.jsx("span",{className:`badge badge-sm ${b.status==="Active"?"badge-success":b.status==="Suspended"?"badge-error":"badge-ghost"}`,children:b.status})]}),s.jsxs("div",{className:"text-sm text-[var(--muted-text)] mb-2",children:[b.role,"  ",b.team||"","  ",b.department||""]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-ghost btn-square p-1",onClick:()=>t(`/user-management/users/${e}?edit=1`),title:"Edit","aria-label":"Edit",children:s.jsx(Uq,{className:"w-7 h-7 text-info",strokeWidth:2})}),s.jsx("button",{className:"btn btn-ghost btn-square p-1",onClick:N,title:"Change Password","aria-label":"Change Password",children:s.jsx(M5e,{className:"w-7 h-7 text-primary",strokeWidth:2})}),b.status==="Active"?s.jsx("button",{className:"btn btn-ghost btn-square p-1",onClick:k,title:"Suspend","aria-label":"Suspend",children:s.jsx(R5e,{className:"w-7 h-7 text-warning",strokeWidth:2})}):s.jsx("button",{className:"btn btn-ghost btn-square p-1",onClick:k,title:"Activate","aria-label":"Activate",children:s.jsx(L5e,{className:"w-7 h-7 text-success",strokeWidth:2})}),s.jsx("button",{className:"btn btn-ghost btn-square p-1",onClick:S,title:"Delete","aria-label":"Delete",children:s.jsx(zq,{className:"w-7 h-7 text-error",strokeWidth:2})}),s.jsx("button",{className:"btn btn-ghost btn-square p-1",onClick:()=>t("/user-management/users"),title:"Close","aria-label":"Close",children:s.jsx(DC,{className:"w-7 h-7 text-error",strokeWidth:2})})]})]})}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{role:"tablist",className:"tabs tabs-lifted sticky top-0 z-10 bg-base-100/80 backdrop-blur rounded-xl shadow-sm mb-2",children:[s.jsx("button",{role:"tab","aria-controls":"panel-account","aria-selected":n==="account",className:`tab px-3 sm:px-5 py-2 text-sm ${n==="account"?"tab-active border-b-2 border-primary text-primary font-semibold":"opacity-70 hover:opacity-100"}`,onClick:()=>i("account"),children:s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"w-4 h-4",fill:"currentColor",children:s.jsx("path",{d:"M12 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm0 2c-4.418 0-8 1.79-8 4v2h16v-2c0-2.21-3.582-4-8-4z"})}),"Account Details"]})}),s.jsx("button",{role:"tab","aria-controls":"panel-permissions","aria-selected":n==="permissions",className:`tab px-3 sm:px-5 py-2 text-sm ${n==="permissions"?"tab-active border-b-2 border-primary text-primary font-semibold":"opacity-70 hover:opacity-100"}`,onClick:()=>i("permissions"),children:s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"w-4 h-4",fill:"currentColor",children:s.jsx("path",{d:"M12 2a2 2 0 0 1 2 2v2h2a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2V4a2 2 0 0 1 2-2z"})}),"Permissions"]})}),s.jsx("button",{role:"tab","aria-controls":"panel-activity","aria-selected":n==="activity",className:`tab px-3 sm:px-5 py-2 text-sm ${n==="activity"?"tab-active border-b-2 border-primary text-primary font-semibold":"opacity-70 hover:opacity-100"}`,onClick:()=>i("activity"),children:s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"w-4 h-4",fill:"currentColor",children:s.jsx("path",{d:"M3 12h4l3 8 4-16 3 8h4"})}),"Activity History"]})}),s.jsx("button",{role:"tab","aria-controls":"panel-tickets","aria-selected":n==="tickets",className:`tab px-3 sm:px-5 py-2 text-sm ${n==="tickets"?"tab-active border-b-2 border-primary text-primary font-semibold":"opacity-70 hover:opacity-100"}`,onClick:()=>i("tickets"),children:s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"w-4 h-4",fill:"currentColor",children:s.jsx("path",{d:"M4 6h16v12H4zM8 10h8v2H8z"})}),"Tickets"]})}),s.jsx("button",{role:"tab","aria-controls":"panel-security","aria-selected":n==="security",className:`tab px-3 sm:px-5 py-2 text-sm ${n==="security"?"tab-active border-b-2 border-primary text-primary font-semibold":"opacity-70 hover:opacity-100"}`,onClick:()=>i("security"),children:s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"w-4 h-4",fill:"currentColor",children:s.jsx("path",{d:"M12 2l7 4v6c0 5-3.5 9.74-7 10-3.5-.26-7-5-7-10V6l7-4z"})}),"Security"]})})]}),n==="account"&&s.jsxs("div",{id:"panel-account",className:"glass-panel bg-base-200/60 border border-base-300 rounded-xl p-4 transition-opacity duration-200 shadow-sm",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Account Details"}),r?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"form-control",children:[s.jsx("span",{className:"label-text",children:"Full Name"}),s.jsx("input",{className:"input input-bordered",defaultValue:b.fullName})]}),s.jsxs("label",{className:"form-control",children:[s.jsx("span",{className:"label-text",children:"Email"}),s.jsx("input",{className:"input input-bordered",defaultValue:b.email})]}),s.jsxs("label",{className:"form-control",children:[s.jsx("span",{className:"label-text",children:"Phone"}),s.jsx("input",{className:"input input-bordered",defaultValue:b.phone})]}),s.jsxs("label",{className:"form-control",children:[s.jsx("span",{className:"label-text",children:"Role"}),s.jsx(Aa,{options:["Admin","Manager","Agent","Viewer"],value:b.role,onChange:C=>{},placeholder:"Select role"})]}),s.jsxs("label",{className:"form-control",children:[s.jsx("span",{className:"label-text",children:"Team"}),s.jsx("input",{className:"input input-bordered",defaultValue:b.team||""})]}),s.jsxs("label",{className:"form-control",children:[s.jsx("span",{className:"label-text",children:"Department"}),s.jsx("input",{className:"input input-bordered",defaultValue:b.department||""})]}),s.jsxs("label",{className:"form-control",children:[s.jsx("span",{className:"label-text",children:"Status"}),s.jsx(Aa,{options:["Active","Suspended"],value:b.status,onChange:C=>{},placeholder:"Select status"})]}),s.jsxs("div",{className:"flex gap-2 mt-2 md:col-span-2",children:[s.jsx("button",{className:"btn btn-primary",onClick:()=>alert("Saved changes (mock)"),children:"Save Changes"}),s.jsx("button",{className:"btn btn-ghost",onClick:()=>t(`/user-management/users/${e}`),children:"Cancel"})]})]}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"glass-panel bg-base-200/50 border border-base-300 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"Full Name"}),s.jsx("div",{className:"font-medium",children:b.fullName})]}),s.jsxs("div",{className:"glass-panel bg-base-200/50 border border-base-300 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"Email"}),s.jsx("div",{className:"font-medium",children:b.email})]}),s.jsxs("div",{className:"glass-panel bg-base-200/50 border border-base-300 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"Phone"}),s.jsx("div",{className:"font-medium",children:b.phone})]}),s.jsxs("div",{className:"glass-panel bg-base-200/50 border border-base-300 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"Role"}),s.jsx("div",{className:"font-medium",children:b.role})]}),s.jsxs("div",{className:"glass-panel bg-base-200/50 border border-base-300 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"Team"}),s.jsx("div",{className:"font-medium",children:b.team||""})]}),s.jsxs("div",{className:"glass-panel bg-base-200/50 border border-base-300 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"Department"}),s.jsx("div",{className:"font-medium",children:b.department||""})]}),s.jsxs("div",{className:"glass-panel bg-base-200/50 border border-base-300 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"Status"}),s.jsx("div",{className:"font-medium",children:s.jsx("span",{className:`badge ${b.status==="Active"?"badge-success":b.status==="Suspended"?"badge-error":"badge-ghost"}`,children:b.status})})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"glass-panel rounded-lg p-3",children:[s.jsx("div",{className:"font-medium mb-1",children:"User Metrics"}),s.jsx("div",{children:"Tickets Handled: 124"}),s.jsx("div",{children:"SLA Success Rate: 92%"}),s.jsx("div",{children:"CSAT: 4.7/5"})]}),s.jsxs("div",{className:"md:col-span-2 glass-panel rounded-lg p-3",children:[s.jsx("div",{className:"font-medium mb-2",children:"Internal Notes"}),s.jsx("textarea",{className:"textarea textarea-bordered w-full",rows:3,placeholder:"Notes visible to admins only"})]})]})]}),n==="permissions"&&s.jsxs("div",{id:"panel-permissions",className:"glass-panel bg-base-200/60 border border-base-300 rounded-xl p-4 transition-opacity duration-200 shadow-sm",children:[s.jsxs("h3",{className:"font-medium mb-2",children:["Role: ",b.role]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(b.permissions).map(([C,_])=>s.jsxs("div",{className:"glass-panel bg-base-200/50 border border-base-300 rounded-lg p-3",children:[s.jsx("div",{className:"font-medium",children:C}),s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:_.map(P=>s.jsx("span",{className:"badge badge-outline",children:P},P))})]},C))}),s.jsx("button",{className:"btn mt-3",onClick:()=>t(`/user-management/roles/${b.role}`),children:"Change Role"})]}),n==="activity"&&s.jsxs("div",{id:"panel-activity",className:"glass-panel bg-base-200/60 border border-base-300 rounded-xl p-4 transition-opacity duration-200 shadow-sm",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Activity Timeline"}),s.jsx("div",{className:"glass-panel bg-base-200/50 border border-base-300 rounded-lg p-3",children:s.jsxs("div",{className:"relative pl-6",children:[s.jsx("div",{className:"absolute left-2 top-0 bottom-0 w-px bg-base-300"}),bze.map((C,_)=>s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"}),s.jsx("div",{className:"font-medium",children:C.type}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:C.ts})]}),s.jsx("div",{className:"ml-4 text-sm",children:C.description})]},_))]})})]}),n==="tickets"&&s.jsxs("div",{id:"panel-tickets",className:"glass-panel bg-base-200/60 border border-base-300 rounded-xl p-4 transition-opacity duration-200 shadow-sm",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Tickets"}),s.jsx("div",{className:"glass-panel bg-base-200/50 border border-base-300 rounded-lg overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"thead-soft",children:[s.jsx("th",{children:"Ticket ID"}),s.jsx("th",{children:"Priority"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"SLA met"}),s.jsx("th",{children:"Last Updated"})]})}),s.jsx("tbody",{children:yze.map(C=>s.jsxs("tr",{children:[s.jsx("td",{children:C.id}),s.jsx("td",{children:C.priority}),s.jsx("td",{children:C.status}),s.jsx("td",{children:C.slaMet?"Yes":"No"}),s.jsx("td",{children:C.lastUpdated})]},C.id))})]})})]}),n==="security"&&s.jsxs("div",{id:"panel-security",className:"glass-panel bg-base-200/60 border border-base-300 rounded-xl p-4 transition-opacity duration-200 shadow-sm",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Security"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsx("div",{className:"form-control",children:s.jsxs("label",{className:"label cursor-pointer",children:[s.jsx("span",{className:"label-text",children:"Two-Factor Authentication"}),s.jsx("input",{type:"checkbox",className:"toggle",defaultChecked:!0})]})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium mb-2",children:"Recent Login Devices"}),j&&j.length>0?s.jsx("ul",{className:"list-disc ml-6 glass-panel bg-base-200/50 border border-base-300 rounded-lg p-3",children:j.map(C=>s.jsxs("li",{children:[C.device,"  ",C.browser,"  ",C.platform,"  ",C.ip,"  ",new Date(C.at).toLocaleString()]},C.deviceId))}):s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"No recorded devices yet."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"font-medium",children:"Active Sessions"}),s.jsx("button",{className:"btn btn-xs",onClick:()=>alert("Terminate all sessions (mock)"),children:"Terminate all"})]}),s.jsx("div",{className:"flex flex-col gap-2",children:(j&&j.length>0?j:wze).map((C,_)=>s.jsxs("div",{className:"flex items-center justify-between glass-panel bg-base-200/50 border border-base-300 rounded-lg p-2",children:[s.jsxs("div",{children:[C.device||C.deviceName||"Device"," / ",C.browser||"Unknown"," / ",C.ip||"N/A"]}),s.jsx("button",{className:"btn btn-xs",onClick:()=>alert("Terminate session (mock)"),children:"Terminate"})]},C.deviceId||_))})]})]})]})]})]}),l&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>o(!1)}),s.jsxs("div",{className:"relative w-full sm:w-[90%] sm:max-w-md bg-[var(--content-bg)] text-[var(--content-text)] border border-base-300 shadow-xl rounded-none sm:rounded-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",children:[s.jsx("h3",{className:"font-medium",children:"Change Password"}),s.jsx("button",{className:"p-2 rounded-md hover:bg-[var(--table-row-hover)]",onClick:()=>o(!1),"aria-label":"Close",children:s.jsx(DC,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"px-4 py-4 space-y-3",children:[v&&s.jsx("div",{className:"text-error text-sm",children:v}),s.jsxs("label",{className:"form-control",children:[s.jsx("span",{className:"label-text",children:"Current Password"}),s.jsx("input",{type:"password",className:"input input-bordered",value:c,onChange:C=>d(C.target.value)})]}),s.jsxs("label",{className:"form-control",children:[s.jsx("span",{className:"label-text",children:"New Password"}),s.jsx("input",{type:"password",className:"input input-bordered",value:u,onChange:C=>f(C.target.value)})]}),s.jsxs("label",{className:"form-control",children:[s.jsx("span",{className:"label-text",children:"Confirm New Password"}),s.jsx("input",{type:"password",className:"input input-bordered",value:p,onChange:C=>m(C.target.value)})]}),s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:"Minimum 8 characters, include letters and numbers."})]}),s.jsxs("div",{className:"px-4 py-3 border-t flex gap-2 justify-end",children:[s.jsx("button",{className:"btn btn-ghost",onClick:()=>o(!1),children:"Cancel"}),s.jsx("button",{className:"btn btn-primary",onClick:()=>{const C=(u||"").trim(),_=(p||"").trim();if(C.length<8){g("Password must be at least 8 characters");return}if(C!==_){g("Passwords don't match");return}g(""),alert("Password changed successfully (mock)"),o(!1),d(""),f(""),m("")},children:"Save"})]})]})]})]})}const Nze=[{name:"Admin",users:3,createdAt:"2025-01-01",updatedAt:"2025-11-10"},{name:"Manager",users:5,createdAt:"2025-02-12",updatedAt:"2025-11-09"},{name:"Agent",users:12,createdAt:"2025-03-05",updatedAt:"2025-10-30"},{name:"Viewer",users:4,createdAt:"2025-04-15",updatedAt:"2025-09-22"}];function kze(){const e=Ys(),[t,a]=y.useState(""),[r,n]=y.useState(Nze),i=y.useMemo(()=>r.filter(o=>o.name.toLowerCase().includes(t.toLowerCase())),[r,t]),l=o=>{window.confirm("Delete this role?")&&n(c=>c.filter(d=>d.name!==o))};return s.jsx(Ht,{title:"User Management  Roles & Permissions",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Roles & Permissions"}),s.jsx(os,{to:"/user-management/roles/new",className:"btn btn-primary",children:"Add New Role"})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-3 mb-3 flex gap-2",children:[s.jsx("input",{className:"input-soft",placeholder:"Search roles",value:t,onChange:o=>a(o.target.value)}),s.jsx("button",{className:"btn btn-ghost",children:"Export"})]}),s.jsx("div",{className:"glass-panel rounded-xl overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"thead-soft",children:[s.jsx("th",{children:"Role Name"}),s.jsx("th",{children:"Number of Users"}),s.jsx("th",{children:"Created At"}),s.jsx("th",{children:"Updated At"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:i.map(o=>s.jsxs("tr",{children:[s.jsx("td",{className:"font-medium",children:o.name}),s.jsx("td",{children:o.users}),s.jsx("td",{children:o.createdAt}),s.jsx("td",{children:o.updatedAt}),s.jsx("td",{children:s.jsx(QN,{onEdit:()=>e(`/user-management/roles/${o.name}`),onToggleActive:()=>{},onDelete:()=>l(o.name)})})]},o.name))})]})})]})})}const Sze={Tickets:["view","create","update","delete","assign","close"],Customers:["view","create","update","delete"],SLA:["view","create","update","delete"],Reports:["view","export"],"User Management":["view","create","update","delete","changeRole"],Settings:["view","update"],Integrations:["view","configure"],"Custom Modules":["view","create","update","delete"]};function j$(){const e=Ys(),{id:t}=Ej(),[a,r]=y.useState(t||""),[n,i]=y.useState(""),[l,o]=y.useState({}),[c,d]=y.useState({}),u=(p,m)=>{o(v=>{const g=new Set(v[p]||[]);return g.has(m)?g.delete(m):g.add(m),{...v,[p]:Array.from(g)}})},f=p=>{p.preventDefault();const m={};if(a.trim()||(m.roleName="Role Name is required"),d(m),Object.keys(m).length)return;console.log("Save Role payload",{roleName:a,description:n,permissions:l}),alert("Role saved (mock)."),e("/user-management/roles")};return s.jsx(Ht,{title:`Role  ${a||"New Role"}`,children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-4",children:t?"Edit Role":"Add Role"}),s.jsxs("form",{onSubmit:f,className:"space-y-6",children:[s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsx("div",{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Role Name"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:a,onChange:p=>r(p.target.value)}),c.roleName&&s.jsx("p",{className:"text-error text-sm mt-1",children:c.roleName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Description"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:n,onChange:p=>i(p.target.value)})]})]})})}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"card-title",children:"Permissions"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:Object.entries(Sze).map(([p,m])=>s.jsxs("div",{className:"glass-panel rounded-lg p-3",children:[s.jsx("div",{className:"font-medium mb-2",children:p}),s.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(v=>{const g=(l[p]||[]).includes(v);return s.jsxs("label",{className:"cursor-pointer flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"checkbox",checked:g,onChange:()=>u(p,v)}),s.jsx("span",{children:v})]},v)})})]},p))})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"}),s.jsx("button",{type:"button",className:"btn",onClick:()=>e("/user-management/roles"),children:"Cancel"})]})]})]})})}const Cze=[{type:"Created",user:"Ibrahim",target:"Ticket #4531",description:"Created new ticket",ts:"2025-11-18 10:24",ip:"192.168.1.12",module:"Tickets"},{type:"Updated",user:"Sara",target:"Customer #100",description:"Updated address",ts:"2025-11-17 12:05",ip:"192.168.1.18",module:"Customers"},{type:"Login",user:"Ibrahim",target:"-",description:"Successful login",ts:"2025-11-17 08:12",ip:"192.168.1.12",module:"User Management"},{type:"Failed Login",user:"Unknown",target:"-",description:"Failed login attempt",ts:"2025-11-16 23:51",ip:"192.168.1.99",module:"User Management"}],Aze=["Created","Updated","Deleted","Login","Failed Login","Permission Change"],_ze=["Tickets","Customers","SLA","Reports","User Management","Settings","Integrations","Custom Modules"];function Tze(){const[e,t]=y.useState(""),[a,r]=y.useState(""),[n,i]=y.useState(""),[l,o]=y.useState(""),[c,d]=y.useState(""),[u,f]=y.useState(""),p=y.useMemo(()=>Cze.filter(m=>{const v=e?m.user.toLowerCase().includes(e.toLowerCase()):!0,g=a?m.type===a:!0,b=n?m.module===n:!0,j=u?`${m.description} ${m.target}`.toLowerCase().includes(u.toLowerCase()):!0,N=l?m.ts>=l:!0,k=c?m.ts<=c:!0;return v&&g&&b&&j&&N&&k}),[e,a,n,l,c,u]);return s.jsx(Ht,{title:"User Management  Activity Logs",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Activity Logs"}),s.jsxs("div",{className:"glass-panel rounded-xl p-3 mb-3 grid grid-cols-1 md:grid-cols-6 gap-3",children:[s.jsx("input",{className:"input-soft",placeholder:"Filter by user",value:e,onChange:m=>t(m.target.value)}),s.jsx(Aa,{className:"w-full",options:Aze,value:a,onChange:m=>r(m),placeholder:"Action Type"}),s.jsx(Aa,{className:"w-full",options:_ze,value:n,onChange:m=>i(m),placeholder:"Module"}),s.jsx("input",{type:"date",className:"input-soft",value:l,onChange:m=>o(m.target.value)}),s.jsx("input",{type:"date",className:"input-soft",value:c,onChange:m=>d(m.target.value)}),s.jsx("input",{className:"input-soft",placeholder:"Search description/target",value:u,onChange:m=>f(m.target.value)})]}),s.jsxs("div",{className:"flex gap-2 mb-3",children:[s.jsx("button",{className:"btn btn-ghost",children:"Export PDF"}),s.jsx("button",{className:"btn btn-ghost",children:"Export Excel"})]}),s.jsx("div",{className:"glass-panel rounded-xl overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"thead-soft",children:[s.jsx("th",{children:"Action Type"}),s.jsx("th",{children:"Performed By"}),s.jsx("th",{children:"Target"}),s.jsx("th",{children:"Description"}),s.jsx("th",{children:"Timestamp"}),s.jsx("th",{children:"IP Address"})]})}),s.jsx("tbody",{children:p.map((m,v)=>s.jsxs("tr",{children:[s.jsx("td",{children:m.type}),s.jsx("td",{children:m.user}),s.jsx("td",{children:m.target}),s.jsx("td",{children:m.description}),s.jsx("td",{children:m.ts}),s.jsx("td",{children:m.ip})]},v))})]})})]})})}const Eze=[{user:"Ibrahim",login:"2025-11-18 10:24",logout:"2025-11-18 18:04",ip:"192.168.1.12",location:"Cairo",device:"Windows PC",browser:"Chrome"},{user:"Sara",login:"2025-11-17 09:14",logout:"2025-11-17 17:01",ip:"192.168.1.18",location:"Giza",device:"MacBook",browser:"Safari"},{user:"Mohamed",login:"2025-11-16 08:33",logout:"2025-11-16 16:22",ip:"192.168.1.21",location:"Alexandria",device:"iPhone",browser:"Safari"}],Dze=["Windows PC","MacBook","Linux PC","iPhone","Android"];function Mze(){const[e,t]=y.useState(""),[a,r]=y.useState(""),[n,i]=y.useState(""),[l,o]=y.useState(""),c=y.useMemo(()=>Eze.filter(d=>{const u=e?d.user.toLowerCase().includes(e.toLowerCase()):!0,f=l?d.device===l:!0,p=a?d.login>=a:!0,m=n?d.login<=n:!0;return u&&f&&p&&m}),[e,l,a,n]);return s.jsx(Ht,{title:"User Management  User Access Logs",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-4",children:"User Access Logs"}),s.jsxs("div",{className:"glass-panel rounded-xl p-3 mb-3 grid grid-cols-1 md:grid-cols-5 gap-3",children:[s.jsx("input",{className:"input-soft",placeholder:"Filter by user",value:e,onChange:d=>t(d.target.value)}),s.jsx("input",{type:"date",className:"input-soft",value:a,onChange:d=>r(d.target.value)}),s.jsx("input",{type:"date",className:"input-soft",value:n,onChange:d=>i(d.target.value)}),s.jsx(Aa,{className:"w-full",options:Dze,value:l,onChange:d=>o(d),placeholder:"Device Type"}),s.jsx("button",{className:"btn btn-ghost",children:"Export"})]}),s.jsx("div",{className:"glass-panel rounded-xl overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"thead-soft",children:[s.jsx("th",{children:"User"}),s.jsx("th",{children:"Login Time"}),s.jsx("th",{children:"Logout Time"}),s.jsx("th",{children:"IP Address"}),s.jsx("th",{children:"Location"}),s.jsx("th",{children:"Device"}),s.jsx("th",{children:"Browser"})]})}),s.jsx("tbody",{children:c.map((d,u)=>s.jsxs("tr",{children:[s.jsx("td",{children:d.user}),s.jsx("td",{children:d.login}),s.jsx("td",{children:d.logout}),s.jsx("td",{children:d.ip}),s.jsx("td",{children:d.location}),s.jsx("td",{children:d.device}),s.jsx("td",{children:d.browser})]},u))})]})})]})})}const N$=[{id:"t-2001",name:"Support",leader:"Ahmed Ali",members:8,role:"Support",createdAt:"2025-10-01"},{id:"t-2002",name:"Sales",leader:"Sara Hassan",members:12,role:"Sales",createdAt:"2025-09-20"},{id:"t-2003",name:"Technical",leader:"Omar Tarek",members:6,role:"Technical",createdAt:"2025-11-01"}];function Pze(){const e=Ys(),{i18n:t}=Ct(),a=t.language==="ar",[r,n]=y.useState(""),[i,l]=y.useState("All"),[o,c]=y.useState(""),[d,u]=y.useState(""),[f,p]=y.useState(N$),[m,v]=y.useState([]),g=y.useMemo(()=>{try{return JSON.parse(localStorage.getItem("leads")||"[]")}catch{return[]}},[]),[b,j]=y.useState(!1),[N,k]=y.useState("task"),[S,C]=y.useState(""),_=y.useMemo(()=>["All",...Array.from(new Set(N$.map(W=>W.leader)))],[]),P=y.useMemo(()=>f.filter(W=>(!r||W.name.toLowerCase().includes(r.toLowerCase()))&&(i==="All"||W.leader===i)&&(!o||W.members>=Number(o))&&(!d||W.members<=Number(d))),[f,r,i,o,d]),L=P.length>0&&P.every(W=>m.includes(W.id)),U=()=>{v(L?[]:P.map(W=>W.id))},z=W=>{v(R=>R.includes(W)?R.filter(q=>q!==W):[...R,W])},T=W=>{confirm("Delete team?")&&p(R=>R.filter(q=>q.id!==W))},F=(W,R)=>{k(W),C(""),j(!0)},M=y.useMemo(()=>({title:a?"   ":"Bulk actions on selected",deleteSelected:"delete",assignTask:a?" ":"Assign task",assignLead:a?" ":"Assign lead",assignTicket:a?" ":"Assign ticket",selectTeamsFirst:a?"  ":"Select teams first",confirmDelete:a?(W=>`  ${W} ().   `):(W=>`This will delete ${W} team(s). Are you sure?`),deletedMsg:a?"   ":"Selected teams deleted"}),[a]),I=W=>{console.log("Assignment payload (Teams):",W),alert("   ")};return s.jsx(Ht,{title:"User Management  Teams",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Teams"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-ghost",onClick:()=>{const W=["ID","Name","Leader","Members","Role","Created At"],R=P.map(oe=>[oe.id,oe.name,oe.leader,String(oe.members),oe.role,oe.createdAt]),q=[W.join(","),...R.map(oe=>oe.map(D=>`"${String(D||"").replace(/"/g,'""')}"`).join(","))].join(`
`),ae=new Blob([q],{type:"text/csv;charset=utf-8;"}),te=URL.createObjectURL(ae),K=document.createElement("a");K.href=te,K.download="teams-export.csv",K.click(),URL.revokeObjectURL(te)},children:"Export Excel"}),s.jsx(os,{to:"/user-management/teams/new",className:"btn btn-primary",children:"Add New Team"})]})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-3 mb-3 grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsx("input",{className:"input-soft",placeholder:"Search team name",value:r,onChange:W=>n(W.target.value)}),s.jsx(Aa,{className:"w-full",options:_,value:i,onChange:W=>l(W),placeholder:"Leader"}),s.jsx("input",{className:"input-soft",type:"number",placeholder:"Min members",value:o,onChange:W=>c(W.target.value)}),s.jsx("input",{className:"input-soft",type:"number",placeholder:"Max members",value:d,onChange:W=>u(W.target.value)}),s.jsx("div",{className:"md:col-span-4 flex items-center gap-2"})]}),m.length>0&&s.jsxs("div",{className:"glass-panel rounded-xl px-3 py-2 mb-3 flex flex-wrap items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-[var(--muted-text)]",children:[M.title,":"]}),s.jsx("button",{className:"btn btn-ghost",onClick:()=>{if(m.length===0)return alert(M.selectTeamsFirst);confirm(M.confirmDelete(m.length))&&(p(W=>W.filter(R=>!m.includes(R.id))),alert(M.deletedMsg))},children:M.deleteSelected}),s.jsx("button",{className:"btn btn-ghost",onClick:()=>F("task"),children:M.assignTask}),s.jsx("button",{className:"btn btn-ghost",onClick:()=>F("lead"),children:M.assignLead}),s.jsx("button",{className:"btn btn-ghost",onClick:()=>F("ticket"),children:M.assignTicket})]}),s.jsx("div",{className:"glass-panel rounded-xl overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"thead-soft",children:[s.jsx("th",{children:s.jsx("input",{type:"checkbox",className:"checkbox",checked:L,onChange:U})}),s.jsx("th",{children:"Team Name"}),s.jsx("th",{children:"Team Leader"}),s.jsx("th",{children:"Number of Members"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Created At"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:P.map(W=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsx("input",{type:"checkbox",className:"checkbox",checked:m.includes(W.id),onChange:()=>z(W.id)})}),s.jsx("td",{className:"font-medium",children:s.jsx("button",{className:"link",onClick:()=>e(`/user-management/teams/${W.id}`),children:W.name})}),s.jsx("td",{children:W.leader}),s.jsx("td",{children:W.members}),s.jsx("td",{children:W.role}),s.jsx("td",{children:W.createdAt}),s.jsx("td",{children:s.jsx(QN,{onEdit:()=>e(`/user-management/teams/${W.id}`),onToggleActive:()=>{},onDelete:()=>T(W.id)})})]},W.id))})]})}),b&&s.jsx(MT,{open:b,onClose:()=>j(!1),onSubmit:I,context:N,teams:f.map(W=>({id:W.id,name:W.name})),users:[{id:"u-1001",fullName:"Ibrahim Hassan",team:"Support",role:"Admin"},{id:"u-1002",fullName:"Sara Ali",team:"Sales",role:"Agent"},{id:"u-1003",fullName:"Mohamed Salem",team:"Operations",role:"Manager"}],leads:g,defaultAssignType:"team",defaultTargetId:S})]})})}const Lze=["Support","Technical","Sales","Custom"],k$=[{id:"u1",name:"Ahmed Ali",role:"Manager"},{id:"u2",name:"Sara Hassan",role:"Admin"},{id:"u3",name:"Omar Tarek",role:"Manager"},{id:"u4",name:"Nour Samir",role:"Agent"}];function Oze(){const e=Ys(),[t]=X$(),[a,r]=y.useState({name:"",leaderId:"",memberIds:[],departmentId:"",role:"",notes:""}),[n,i]=y.useState({}),l=y.useMemo(()=>k$.filter(p=>["Manager","Admin"].includes(p.role)),[]),o=y.useMemo(()=>k$,[]),c=(p,m)=>r(v=>({...v,[p]:m})),d=p=>{r(m=>({...m,memberIds:m.memberIds.includes(p)?m.memberIds.filter(v=>v!==p):[...m.memberIds,p]}))};y.useEffect(()=>{const p=t.get("departmentId"),m=t.get("departmentName");if(p)c("departmentId",p);else if(m){const v=Cj.find(g=>g.name.toLowerCase()===m.toLowerCase());v&&c("departmentId",v.id)}},[t]);const u=()=>{const p={};return a.name.trim()||(p.name="Team name is required"),a.leaderId||(p.leaderId="Team leader is required"),a.departmentId||(p.departmentId="Department is required"),a.role||(p.role="Role/Type is required"),i(p),Object.keys(p).length===0},f=p=>{if(p.preventDefault(),!u())return;const m={...a};console.log("Create Team payload",m),alert("Team created (mock). Returning to Teams list."),e("/user-management/teams")};return s.jsx(Ht,{title:"User Management  Add Team",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Add New Team"}),s.jsxs("form",{onSubmit:f,className:"space-y-6",children:[s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"card-title",children:"Basic Info"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Team Name"})}),s.jsx("input",{className:"input input-bordered w-full bg-transparent",value:a.name,onChange:p=>c("name",p.target.value)}),n.name&&s.jsx("p",{className:"text-error text-sm mt-1",children:n.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Team Leader"})}),s.jsx(Aa,{className:"w-full",options:l.map(p=>({value:p.id,label:`${p.name} (${p.role})`})),value:a.leaderId,onChange:p=>c("leaderId",p)}),n.leaderId&&s.jsx("p",{className:"text-error text-sm mt-1",children:n.leaderId})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Department"})}),s.jsx(Aa,{className:"w-full",options:Cj.map(p=>({value:p.id,label:p.name})),value:a.departmentId,onChange:p=>c("departmentId",p)}),n.departmentId&&s.jsx("p",{className:"text-error text-sm mt-1",children:n.departmentId})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Role / Type"})}),s.jsx(Aa,{className:"w-full",options:Lze,value:a.role,onChange:p=>c("role",p)}),n.role&&s.jsx("p",{className:"text-error text-sm mt-1",children:n.role})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"label",children:s.jsx("span",{className:"label-text",children:"Description / Notes"})}),s.jsx("textarea",{className:"textarea textarea-bordered w-full bg-transparent",rows:3,value:a.notes,onChange:p=>c("notes",p.target.value)})]})]})]})}),s.jsx("div",{className:"glass-panel rounded-xl p-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"card-title",children:"Members"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-3",children:o.map(p=>s.jsxs("label",{className:"inline-flex items-center gap-2 p-2 rounded glass-panel",children:[s.jsx("input",{type:"checkbox",checked:a.memberIds.includes(p.id),onChange:()=>d(p.id)}),s.jsxs("span",{children:[p.name,"  ",p.role]})]},p.id))})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"}),s.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>e("/user-management/teams"),children:"Cancel"})]})]})]})})}const Rze={id:"t-2001",name:"Support",leader:"Ahmed Ali",role:"Support",members:[{id:"u1",name:"Maya",email:"maya@example.com",role:"Agent",status:"Active"},{id:"u2",name:"Mostafa",email:"mostafa@example.com",role:"Agent",status:"Active"},{id:"u3",name:"Ola",email:"ola@example.com",role:"Agent",status:"Inactive"}],createdAt:"2025-10-01",updatedAt:"2025-11-18"},Fze=[{id:"T-9001",priority:"High",status:"Open",agent:"Maya",sla:"Breaching",updatedAt:"2025-11-18 12:05"},{id:"T-9002",priority:"Medium",status:"Assigned",agent:"Mostafa",sla:"OK",updatedAt:"2025-11-18 09:44"},{id:"T-9003",priority:"Low",status:"Closed",agent:"Ola",sla:"OK",updatedAt:"2025-11-17 15:10"}];function Ize(){const{id:e}=Ej(),t=Ys(),[a,r]=y.useState("members"),n=y.useMemo(()=>({...Rze,id:e}),[e]),[i,l]=y.useState({assignStrategy:"Round Robin",channels:["Email","WhatsApp","Phone"],defaultSLA:"Standard (48h)",notifications:!0}),o=()=>{confirm("Remove team (mock)?")&&(alert("Team removed (mock)"),t("/user-management/teams"))},c=()=>t(`/user-management/users/new?team=${n.id}`),d=()=>t(`/user-management/teams/${n.id}?edit=1`);return s.jsx(Ht,{title:`User Management  Team: ${n.name}`,children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("div",{className:"glass-panel bg-base-200/60 border border-base-300 rounded-xl p-4 mb-4 shadow-sm",children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold",children:n.name}),s.jsxs("div",{className:"text-sm text-[var(--muted-text)]",children:["Leader: ",n.leader,"  Role: ",n.role,"  Members: ",n.members.length]}),s.jsxs("div",{className:"text-xs text-[var(--muted-text)]",children:["Created: ",n.createdAt,"  Updated: ",n.updatedAt]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-ghost btn-square p-1",title:"Edit Team","aria-label":"Edit Team",onClick:d,children:s.jsx(Uq,{className:"w-7 h-7 text-info",strokeWidth:2})}),s.jsx("button",{className:"btn btn-ghost btn-square p-1",title:"Add Member","aria-label":"Add Member",onClick:c,children:s.jsx(V5e,{className:"w-7 h-7 text-primary",strokeWidth:2})}),s.jsx("button",{className:"btn btn-ghost btn-square p-1",title:"Remove Team","aria-label":"Remove Team",onClick:o,children:s.jsx(zq,{className:"w-7 h-7 text-error",strokeWidth:2})}),s.jsx("button",{className:"btn btn-ghost btn-square p-1",title:"Close","aria-label":"Close",onClick:()=>t("/user-management/teams"),children:s.jsx(DC,{className:"w-7 h-7 text-error",strokeWidth:2})})]})]})}),s.jsx("div",{role:"tablist",className:"tabs tabs-lifted sticky top-0 z-10 bg-base-100/80 backdrop-blur rounded-xl shadow-sm mb-2",children:[{key:"members",label:"Members",icon:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"w-4 h-4",fill:"currentColor",children:s.jsx("path",{d:"M12 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm-7 8v-1c0-2.761 4.477-5 10-5s10 2.239 10 5v1H5z"})})},{key:"performance",label:"Performance",icon:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"w-4 h-4",fill:"currentColor",children:s.jsx("path",{d:"M3 12h4l3 8 4-16 3 8h4"})})},{key:"tickets",label:"Tickets",icon:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"w-4 h-4",fill:"currentColor",children:s.jsx("path",{d:"M4 6h16v12H4zM8 10h8v2H8z"})})},{key:"settings",label:"Settings",icon:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"w-4 h-4",fill:"currentColor",children:s.jsx("path",{d:"M12 2l7 4v6c0 5-3.5 9.74-7 10-3.5-.26-7-5-7-10V6l7-4z"})})}].map(u=>s.jsx("button",{role:"tab","aria-controls":`panel-${u.key}`,"aria-selected":a===u.key,className:`tab px-3 sm:px-5 py-2 text-sm ${a===u.key?"tab-active border-b-2 border-primary text-primary font-semibold":"opacity-70 hover:opacity-100"}`,onClick:()=>r(u.key),children:s.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.icon,u.label]})},u.key))}),a==="members"&&s.jsx("div",{className:"glass-panel rounded-xl overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"thead-soft",children:[s.jsx("th",{children:"Member Name"}),s.jsx("th",{children:"Email"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:n.members.map(u=>s.jsxs("tr",{children:[s.jsx("td",{children:u.name}),s.jsx("td",{children:u.email}),s.jsx("td",{children:u.role}),s.jsx("td",{children:s.jsx("span",{className:`badge ${u.status==="Active"?"badge-success":"badge-ghost"}`,children:u.status})}),s.jsx("td",{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-ghost btn-square p-1",title:"View","aria-label":"View",onClick:()=>alert("View Profile (mock)"),children:s.jsx(E5e,{className:"w-6 h-6 text-info",strokeWidth:2})}),s.jsx("button",{className:"btn btn-ghost btn-square p-1",title:"Remove","aria-label":"Remove",onClick:()=>alert("Remove (mock)"),children:s.jsx(z5e,{className:"w-6 h-6 text-error",strokeWidth:2})})]})})]},u.id))})]})}),a==="performance"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"Tickets Assigned"}),s.jsx("div",{className:"text-2xl font-semibold text-dashboard-gradient",children:"124"})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"Tickets Closed"}),s.jsx("div",{className:"text-2xl font-semibold text-dashboard-gradient",children:"109"})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"SLA Achievement %"}),s.jsx("div",{className:"text-2xl font-semibold text-dashboard-gradient",children:"92%"})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4 md:col-span-2",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"Avg Resolution Time"}),s.jsx("div",{className:"text-2xl font-semibold text-dashboard-gradient",children:"3.4 h"})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:"CSAT"}),s.jsx("div",{className:"text-2xl font-semibold text-dashboard-gradient",children:"4.7/5"})]})]}),a==="tickets"&&s.jsx("div",{className:"glass-panel rounded-xl overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"thead-soft",children:[s.jsx("th",{children:"Ticket ID"}),s.jsx("th",{children:"Priority"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Assigned Agent"}),s.jsx("th",{children:"SLA Status"}),s.jsx("th",{children:"Updated At"})]})}),s.jsx("tbody",{children:Fze.map(u=>s.jsxs("tr",{className:"hover:bg-[var(--table-row-hover)]",children:[s.jsx("td",{children:u.id}),s.jsx("td",{children:u.priority}),s.jsx("td",{children:u.status}),s.jsx("td",{children:u.agent}),s.jsx("td",{children:u.sla}),s.jsx("td",{children:u.updatedAt})]},u.id))})]})}),a==="settings"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-medium mb-2",children:"Auto-assign strategy"}),s.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:["Round Robin","Manual","Weighted"].map(u=>s.jsx("button",{className:`btn btn-ghost btn-sm ${i.assignStrategy===u?"!bg-base-200":""}`,onClick:()=>l(f=>({...f,assignStrategy:u})),children:u},u))})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-medium mb-2",children:"Allowed channels"}),s.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:["Email","WhatsApp","Phone","Portal"].map(u=>{const f=i.channels.includes(u);return s.jsx("button",{className:`btn btn-ghost btn-sm ${f?"!bg-base-200":""}`,onClick:()=>{l(p=>({...p,channels:f?p.channels.filter(m=>m!==u):[...p.channels,u]}))},children:u},u)})})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-medium mb-2",children:"Default SLA"}),s.jsxs("select",{className:"select select-bordered w-full md:w-1/3 bg-transparent",value:i.defaultSLA,onChange:u=>l(f=>({...f,defaultSLA:u.target.value})),children:[s.jsx("option",{children:"Standard (48h)"}),s.jsx("option",{children:"Priority (24h)"}),s.jsx("option",{children:"Critical (8h)"})]})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("div",{className:"font-medium mb-2",children:"Notification Settings"}),s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:i.notifications,onChange:u=>l(f=>({...f,notifications:u.target.checked}))}),s.jsx("span",{children:i.notifications?"Enabled":"Disabled"})]})]})]})]})})}const S$=[{id:"d-3001",name:"Customer Support",manager:"Ibrahim Hassan",teamsCount:3,employeesCount:18,createdAt:"2025-08-10",status:"Active"},{id:"d-3002",name:"Sales",manager:"Sara Ali",teamsCount:4,employeesCount:25,createdAt:"2025-07-22",status:"Active"},{id:"d-3003",name:"Technical Support",manager:"Mohamed Salem",teamsCount:2,employeesCount:10,createdAt:"2025-09-01",status:"Inactive"}];function Bze(){const e=Ys(),{i18n:t}=Ct(),a=t.language==="ar",[r,n]=y.useState(""),[i,l]=y.useState("All"),[o,c]=y.useState("All"),[d,u]=y.useState(S$),[f,p]=y.useState([]),m=y.useMemo(()=>["All",...Array.from(new Set(S$.map(F=>F.manager)))],[]),v=y.useMemo(()=>d.filter(F=>(!r||[F.name,F.manager].join(" ").toLowerCase().includes(r.toLowerCase()))&&(i==="All"||F.status===i)&&(o==="All"||F.manager===o)),[d,r,i,o]),g=v.length>0&&v.every(F=>f.includes(F.id)),b=()=>{p(g?[]:v.map(F=>F.id))},j=F=>{p(M=>M.includes(F)?M.filter(I=>I!==F):[...M,F])},N=F=>{confirm(a?" ":"Delete department?")&&u(M=>M.filter(I=>I.id!==F))},[k,S]=y.useState(!1),[C,_]=y.useState("task"),[P,L]=y.useState(""),U=(F,M)=>{_(F),L(""),S(!0)},z=y.useMemo(()=>({title:a?"   ":"Bulk actions on selected",deleteSelected:"delete",assignTask:a?" ":"Assign task",assignLead:a?" ":"Assign lead",assignTicket:a?" ":"Assign ticket",selectFirst:a?"  ":"Select departments first",confirmDelete:F=>a?`  ${F} .   `:`This will delete ${F} department(s). Are you sure?`,deletedMsg:a?"   ":"Selected departments deleted"}),[a]),T=F=>{console.log("Assignment payload (Departments):",F),alert(a?"   ":"Assignment saved successfully")};return s.jsx(Ht,{title:a?"   ":"User Management  Departments",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-semibold",children:a?"":"Departments"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-ghost",onClick:()=>{const F=["ID","Name","Manager","Teams Count","Employees Count","Created At","Status"],M=v.map(ae=>[ae.id,ae.name,ae.manager,String(ae.teamsCount),String(ae.employeesCount),ae.createdAt,ae.status]),I=[F.join(","),...M.map(ae=>ae.map(te=>`"${String(te||"").replace(/"/g,'""')}"`).join(","))].join(`
`),W=new Blob([I],{type:"text/csv;charset=utf-8;"}),R=URL.createObjectURL(W),q=document.createElement("a");q.href=R,q.download="departments-export.csv",q.click(),URL.revokeObjectURL(R)},children:a?" ":"Export Excel"}),s.jsx(os,{to:"/user-management/departments/new",className:"btn btn-primary",children:a?"  ":"Add New Department"})]})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-3 mb-3 grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a?"":"Search"}),s.jsx("input",{className:"input-soft",placeholder:a?"   ":"Search (name, manager)",value:r,onChange:F=>n(F.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a?"":"Status"}),s.jsx(Aa,{className:"w-full",options:["All","Active","Inactive"].map(F=>({value:F,label:a&&F==="All"?"":F})),value:i,onChange:F=>l(F),placeholder:a?" ":"Select status"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:a?"":"Manager"}),s.jsx(Aa,{className:"w-full",options:m,value:o,onChange:F=>c(F),placeholder:a?" ":"Select manager"})]})]}),f.length>0&&s.jsxs("div",{className:"glass-panel rounded-xl px-3 py-2 mb-3 flex flex-wrap items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-[var(--muted-text)]",children:[z.title,":"]}),s.jsx("button",{className:"btn btn-ghost",onClick:()=>{if(f.length===0)return alert(z.selectFirst);confirm(z.confirmDelete(f.length))&&(u(F=>F.filter(M=>!f.includes(M.id))),p([]),alert(z.deletedMsg))},children:z.deleteSelected}),s.jsx("button",{className:"btn btn-ghost",onClick:()=>U("task"),children:z.assignTask}),s.jsx("button",{className:"btn btn-ghost",onClick:()=>U("lead"),children:z.assignLead}),s.jsx("button",{className:"btn btn-ghost",onClick:()=>U("ticket"),children:z.assignTicket})]}),s.jsx("div",{className:"glass-panel rounded-xl overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"thead-soft",children:[s.jsx("th",{children:s.jsx("input",{type:"checkbox",className:"checkbox",checked:g,onChange:b})}),s.jsx("th",{children:a?" ":"Department ID"}),s.jsx("th",{children:a?" ":"Department Name"}),s.jsx("th",{children:a?" ":"Department Manager"}),s.jsx("th",{children:a?" ":"Teams Count"}),s.jsx("th",{children:a?" ":"Employees Count"}),s.jsx("th",{children:a?" ":"Created Date"}),s.jsx("th",{children:a?"":"Status"}),s.jsx("th",{children:a?"":"Actions"})]})}),s.jsx("tbody",{children:v.map(F=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsx("input",{type:"checkbox",className:"checkbox",checked:f.includes(F.id),onChange:()=>j(F.id)})}),s.jsx("td",{children:F.id}),s.jsx("td",{className:"font-medium",children:s.jsx("button",{className:"link",onClick:()=>e(`/user-management/departments/${F.id}`),children:F.name})}),s.jsx("td",{children:F.manager}),s.jsx("td",{children:F.teamsCount}),s.jsx("td",{children:F.employeesCount}),s.jsx("td",{children:F.createdAt}),s.jsx("td",{children:F.status}),s.jsxs("td",{children:[s.jsx(QN,{onEdit:()=>e(`/user-management/departments/${F.id}`),onToggleActive:()=>u(M=>M.map(I=>I.id===F.id?{...I,status:I.status==="Active"?"Inactive":"Active"}:I)),onDelete:()=>N(F.id)}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("button",{className:"btn btn-ghost btn-square p-1",title:a?" ":"Assign Manager","aria-label":a?" ":"Assign Manager",onClick:()=>alert(a?"  ":"Assign department manager"),children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"9",cy:"7",r:"4"}),s.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"14"}),s.jsx("line",{x1:"16",y1:"11",x2:"22",y2:"11"})]})}),s.jsx("button",{className:"btn btn-ghost btn-square p-1",title:a?" ":"Assign Teams","aria-label":a?" ":"Assign Teams",onClick:()=>alert(a?"  ":"Assign teams to department"),children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"9",cy:"7",r:"4"}),s.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),s.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})})]})]})]},F.id))})]})}),k&&s.jsx(MT,{open:k,onClose:()=>S(!1),onSubmit:T,context:C,departments:d.map(F=>({id:F.id,name:F.name})),teams:[],users:[],leads:[],defaultAssignType:"department",defaultTargetId:P})]})})}const $ze=[{id:"u-1003",fullName:"Mohamed Salem",role:"Manager"},{id:"u-1004",fullName:"Omar Tarek",role:"Manager"},{id:"u-1005",fullName:"Mona Farid",role:"Manager"}],C$=[{key:"Manager",labelAr:"",labelEn:"Manager"},{key:"Team Leader",labelAr:" ",labelEn:"Team Leader"},{key:"Agent",labelAr:"",labelEn:"Agent"},{key:"Viewer",labelAr:"",labelEn:"Viewer"}],A$=[{key:"Department",labelAr:"",labelEn:"Department",actions:["view","update","delete","assignManager"]},{key:"Teams",labelAr:"",labelEn:"Teams",actions:["view","create","update","delete","assignUsers","assignTasks"]},{key:"Employees",labelAr:"",labelEn:"Employees",actions:["view","assign","remove"]},{key:"TicketsLeads",labelAr:"/",labelEn:"Tickets / Leads",actions:["view","create","update","delete","assign","close"]},{key:"Tasks",labelAr:"",labelEn:"Tasks",actions:["view","create","update","delete","assign","complete"]},{key:"Reports",labelAr:"",labelEn:"Reports",actions:["view","export"]}],Uze={view:"View",create:"Create",update:"Update",delete:"Delete",assign:"Assign",close:"Close",export:"Export",complete:"Complete",assignManager:"Assign Manager"},zze={view:"",create:"",update:"",delete:"",assign:"",close:"",export:"",complete:"",assignManager:" "};function Hze(){const e=Ys(),[t]=X$(),a=(t.get("mode")||"create").toLowerCase(),{i18n:r}=Ct(),n=r.language==="ar",[i,l]=y.useState(""),[o,c]=y.useState(""),[d,u]=y.useState(""),[f,p]=y.useState("Active"),[m,v]=y.useState(""),[g,b]=y.useState([]),[j,N]=y.useState(()=>{const U={};return C$.forEach(z=>{U[z.key]={}}),U}),k=U=>{b(z=>z.includes(U)?z.filter(T=>T!==U):[...z,U])},S=U=>{U.preventDefault(),alert(a==="edit"?n?"  ":"Department updated":n?"   ":"Department saved");try{localStorage.removeItem("editDept")}catch{}e("/user-management/departments")},C=(U,z,T)=>!!j?.[U]?.[z]?.[T],_=(U,z,T)=>{N(F=>{const M={...F},I={...M[U]||{}},W={...I[z]||{}};return W[T]=!W[T],I[z]=W,M[U]=I,M})};y.useEffect(()=>{if(a==="edit")try{const U=localStorage.getItem("editDept");if(U){const z=JSON.parse(U);z?.name&&l(z.name),z?.id&&c(z.id),z?.manager&&u(`${n?":":"Manager:"} ${z.manager}`),z?.status&&p(z.status)}}catch{}},[a,n]);const P=y.useMemo(()=>{const U=i?q6(i):[];return Array.isArray(U)?U:[]},[i]),L=()=>{const U=i?`?departmentName=${encodeURIComponent(i)}`:"";e(`/user-management/teams/create${U}`)};return s.jsx(Ht,{title:a==="edit"?n?" ":"Edit Department":n?" ":"Add Department",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-xl font-semibold mb-3",children:a==="edit"?n?" ":"Edit Department":n?" ":"Add Department"}),s.jsxs("form",{className:"space-y-4",onSubmit:S,children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-3",children:n?" ":"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsx("input",{className:"input-soft",placeholder:n?" ":"Department Name",value:i,onChange:U=>l(U.target.value),required:!0}),s.jsx("input",{className:"input-soft",placeholder:n?"  ()":"Department Code (optional)",value:o,onChange:U=>c(U.target.value)}),s.jsx("textarea",{className:"input-soft md:col-span-2",placeholder:n?"":"Description",value:d,onChange:U=>u(U.target.value)}),s.jsx(Aa,{className:"w-full",options:[{value:"Active",label:n?"":"Active"},{value:"Inactive",label:n?" ":"Inactive"}],value:f,onChange:U=>p(U),placeholder:n?" ":"Select status"})]})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-3",children:n?" ":"Manager Assignment"}),s.jsx(Aa,{className:"w-full",options:$ze.map(U=>({value:U.id,label:U.fullName})),value:m,onChange:U=>v(U),placeholder:n?" ":"Select a manager"})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:n?"  ()":"Team Structure Setup (Optional)"}),s.jsx("button",{type:"button",className:"btn btn-ghost btn-square p-1",title:n?" ":"Create Team","aria-label":n?" ":"Create Team",onClick:L,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"9",cy:"7",r:"4"}),s.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"14"}),s.jsx("line",{x1:"16",y1:"11",x2:"22",y2:"11"})]})})]}),P.length===0?s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:n?"      .    .":"No teams linked to this department name yet. You can create a new team."}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:P.map(U=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"checkbox",checked:g.includes(U),onChange:()=>k(U)}),s.jsx("span",{children:U})]},U))})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-3",children:n?" ()":"Permissions (Optional)"}),s.jsx("p",{className:"text-sm text-[var(--muted-text)]",children:n?"    ":"Configure role permissions for this department"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:C$.map(U=>s.jsxs("div",{className:"glass-panel rounded-lg p-3",children:[s.jsx("h3",{className:"font-medium mb-2",children:n?U.labelAr:U.labelEn}),(U.key==="Agent"||U.key==="Viewer"?A$.filter(z=>z.key!=="Department"):A$).map(z=>s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-sm font-medium mb-1",children:n?z.labelAr:z.labelEn}),s.jsx("div",{className:"flex flex-wrap gap-2",children:z.actions.map(T=>s.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"checkbox",checked:C(U.key,z.key,T),onChange:()=>_(U.key,z.key,T)}),s.jsx("span",{children:n?zze[T]:Uze[T]})]},T))})]},z.key))]},U.key))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"submit",className:"btn btn-primary",children:n?"":"Save"}),s.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>e("/user-management/departments"),children:n?"":"Cancel"})]})]})]})})}const Vze={id:"d-3001",name:"Customer Support",manager:"Ibrahim Hassan",teams:3,employees:18,kpis:{activeTickets:12,avgResponseTime:"2h 15m",tasksInProgress:7,csat:"92%"}},Wze=[{id:"t-2001",name:"Tier 1",leader:"Ahmed Ali",members:8,assignedTasks:12},{id:"t-2002",name:"Tier 2",leader:"Sara Hassan",members:6,assignedTasks:8},{id:"t-2003",name:"Escalations",leader:"Omar Tarek",members:4,assignedTasks:3}],qze=[{id:"u-1001",name:"Ibrahim Hassan",role:"Admin",team:"Tier 1",status:"Active"},{id:"u-1002",name:"Sara Ali",role:"Agent",team:"Tier 2",status:"Inactive"},{id:"u-1003",name:"Mohamed Salem",role:"Manager",team:"Escalations",status:"Active"}],Gze=[{id:"tick-5001",type:"Ticket",priority:"High",assignedTo:"Tier 1",status:"Open",sla:"2025-12-01"},{id:"tick-5002",type:"Ticket",priority:"Medium",assignedTo:"Tier 2",status:"Pending",sla:"2025-12-03"},{id:"lead-6001",type:"Lead",priority:"High",assignedTo:"Escalations",status:"Open",sla:"2025-11-30"}],Kze=[{id:"task-7001",title:"Follow up",assignedTo:"Tier 1",relatedTo:"Ticket",status:"In Progress",deadline:"2025-12-02"},{id:"task-7002",title:"Onboarding",assignedTo:"Tier 2",relatedTo:"General",status:"Open",deadline:"2025-12-10"}];function Yze(){const{id:e}=Ej(),{i18n:t}=Ct(),a=t.language==="ar",[r,n]=y.useState("overview"),i=y.useMemo(()=>({...Vze,id:e}),[e]),l=Ys(),o=()=>{l("/user-management/departments")},c=()=>{window.confirm(a?" ":"Delete department?")&&(alert(a?"   ()":"Department deleted (mock)"),l("/user-management/departments"))},d=()=>{try{localStorage.setItem("editDept",JSON.stringify(i))}catch{}l(`/user-management/departments/new?mode=edit&id=${encodeURIComponent(e)}`)},u=()=>{l(`/user-management/teams/new?departmentId=${encodeURIComponent(e)}`)},f=p=>{switch(p){case"overview":return s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),s.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]});case"teams":return s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"9",cy:"7",r:"4"}),s.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),s.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]});case"employees":return s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"9",cy:"7",r:"4"})]});case"tickets":return s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),s.jsx("polyline",{points:"14 2 14 8 20 8"}),s.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),s.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),s.jsx("line",{x1:"10",y1:"9",x2:"8",y2:"9"})]});case"tasks":return s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),s.jsx("path",{d:"M9 12l2 2 4-4"})]});case"analytics":return s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),s.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),s.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]});default:return null}};return s.jsx(Ht,{title:a?`   ${i.name}`:`Department Details  ${i.name}`,children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsxs("div",{className:"flex justify-end items-center gap-2 mb-2",children:[s.jsx("button",{className:"btn btn-ghost btn-square p-1",title:a?" ":"Add Team","aria-label":a?" ":"Add Team",onClick:u,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"9",cy:"7",r:"4"}),s.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),s.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),s.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),s.jsx("line",{x1:"17",y1:"11",x2:"23",y2:"11"})]})}),s.jsx("button",{className:"btn btn-ghost btn-square p-1",title:a?"":"Delete","aria-label":a?"":"Delete",onClick:c,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"3 6 5 6 21 6"}),s.jsx("path",{d:"M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"}),s.jsx("path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2"})]})}),s.jsx("button",{className:"btn btn-ghost btn-square p-1",title:a?"":"Edit","aria-label":a?"":"Edit",onClick:d,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M12 20h9"}),s.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),s.jsx("button",{className:"btn btn-ghost btn-square p-1",title:a?"":"Close","aria-label":a?"":"Close",onClick:o,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4 mb-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold",children:i.name}),s.jsxs("div",{className:"text-sm text-[var(--muted-text)]",children:[a?" :":"Manager:"," ",i.manager]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:a?" ":"Total Employees"}),s.jsx("div",{className:"text-lg font-bold",children:i.employees})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-[var(--muted-text)]",children:a?" ":"Total Teams"}),s.jsx("div",{className:"text-lg font-bold",children:i.teams})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:[s.jsxs("div",{className:"kpi-card",children:[s.jsx("div",{className:"kpi-title",children:a?" ":"Active Tickets"}),s.jsx("div",{className:"kpi-value",children:i.kpis.activeTickets})]}),s.jsxs("div",{className:"kpi-card",children:[s.jsx("div",{className:"kpi-title",children:a?"  ":"Avg Response Time"}),s.jsx("div",{className:"kpi-value",children:i.kpis.avgResponseTime})]}),s.jsxs("div",{className:"kpi-card",children:[s.jsx("div",{className:"kpi-title",children:a?"  ":"Tasks in Progress"}),s.jsx("div",{className:"kpi-value",children:i.kpis.tasksInProgress})]}),s.jsxs("div",{className:"kpi-card",children:[s.jsx("div",{className:"kpi-title",children:"CSAT"}),s.jsx("div",{className:"kpi-value",children:i.kpis.csat})]})]})]}),s.jsx("div",{className:"flex items-center gap-6 mb-3",children:[{key:"overview",label:a?" ":"Overview"},{key:"teams",label:a?"":"Teams"},{key:"employees",label:a?"":"Employees"},{key:"tickets",label:a?"/":"Tickets / Leads"},{key:"tasks",label:a?"":"Tasks"},{key:"analytics",label:a?" ":"Analytics & Reports"}].map(p=>s.jsx("button",{className:`pb-2 text-sm ${r===p.key?"border-b-2 border-white text-white":"text-[var(--muted-text)]"}`,onClick:()=>n(p.key),children:s.jsxs("span",{className:"inline-flex items-center gap-2",children:[f(p.key),s.jsx("span",{children:p.label})]})},p.key))}),r==="overview"&&s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:a?" ":"Department Info"}),s.jsx("p",{className:"text-sm",children:a?" :     ":"Department tree: Department  Teams  Users"})]}),r==="employees"&&s.jsxs("div",{className:"glass-panel rounded-xl overflow-x-auto",children:[s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"thead-soft",children:[s.jsx("th",{children:"User ID"}),s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Team"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:qze.map(p=>s.jsxs("tr",{children:[s.jsx("td",{children:p.id}),s.jsx("td",{children:p.name}),s.jsx("td",{children:p.role}),s.jsx("td",{children:p.team}),s.jsx("td",{children:p.status}),s.jsx("td",{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-ghost btn-square p-1",title:a?" ":"Assign Team","aria-label":a?" ":"Assign Team",children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"9",cy:"7",r:"4"}),s.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),s.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),s.jsx("button",{className:"btn btn-ghost btn-square p-1",title:a?" ":"View Profile","aria-label":a?" ":"View Profile",children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"9",cy:"7",r:"4"})]})})]})})]},p.id))})]}),s.jsxs("div",{className:"flex items-center gap-2 p-3",children:[s.jsx("button",{className:"btn btn-primary",children:a?"  ":"Add user to department"}),s.jsx("button",{className:"btn btn-ghost",children:a?"   ":"Move user between teams"})]})]}),r==="tickets"&&s.jsxs("div",{className:"glass-panel rounded-xl overflow-x-auto",children:[s.jsxs("div",{className:"p-3 flex flex-wrap items-center gap-2",children:[s.jsx(Aa,{className:"w-40",options:["Tickets","Leads"],value:"Tickets",onChange:()=>{},placeholder:"Type"}),s.jsx(Aa,{className:"w-44",options:["All Statuses","Open","Pending","Closed"],value:"All Statuses",onChange:()=>{},placeholder:"Status"}),s.jsx(Aa,{className:"w-44",options:["All Priorities","High","Medium","Low"],value:"All Priorities",onChange:()=>{},placeholder:"Priority"})]}),s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"thead-soft",children:[s.jsx("th",{children:"ID"}),s.jsx("th",{children:"Type"}),s.jsx("th",{children:"Priority"}),s.jsx("th",{children:"Assigned To"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"SLA Deadline"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:Gze.map(p=>s.jsxs("tr",{children:[s.jsx("td",{children:p.id}),s.jsx("td",{children:p.type}),s.jsx("td",{children:p.priority}),s.jsx("td",{children:p.assignedTo}),s.jsx("td",{children:p.status}),s.jsx("td",{children:p.sla}),s.jsx("td",{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-ghost btn-square p-1",title:a?"":"View","aria-label":a?"":"View",children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),s.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),s.jsx("button",{className:"btn btn-ghost btn-square p-1",title:a?" ":"Reassign","aria-label":a?" ":"Reassign",children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"23 4 23 10 17 10"}),s.jsx("polyline",{points:"1 20 1 14 7 14"}),s.jsx("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10"}),s.jsx("path",{d:"M20.49 15a9 9 0 0 1-14.85 3.36L1 14"})]})})]})})]},p.id))})]})]}),r==="tasks"&&s.jsx("div",{className:"glass-panel rounded-xl overflow-x-auto",children:s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"thead-soft",children:[s.jsx("th",{children:"Task ID"}),s.jsx("th",{children:"Title"}),s.jsx("th",{children:"Assigned To"}),s.jsx("th",{children:"Related To"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Deadline"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:Kze.map(p=>s.jsxs("tr",{children:[s.jsx("td",{children:p.id}),s.jsx("td",{children:p.title}),s.jsx("td",{children:p.assignedTo}),s.jsx("td",{children:p.relatedTo}),s.jsx("td",{children:p.status}),s.jsx("td",{children:p.deadline}),s.jsx("td",{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-ghost btn-square p-1",title:a?" ":"Add Task","aria-label":a?" ":"Add Task",children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),s.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),s.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]})}),s.jsx("button",{className:"btn btn-ghost btn-square p-1",title:a?" ":"Reassign","aria-label":a?" ":"Reassign",children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"23 4 23 10 17 10"}),s.jsx("polyline",{points:"1 20 1 14 7 14"}),s.jsx("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10"}),s.jsx("path",{d:"M20.49 15a9 9 0 0 1-14.85 3.36L1 14"})]})})]})})]},p.id))})]})}),r==="teams"&&s.jsxs("div",{className:"glass-panel rounded-xl overflow-x-auto",children:[s.jsxs("table",{className:"nova-table w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"thead-soft",children:[s.jsx("th",{children:"Team ID"}),s.jsx("th",{children:"Team Name"}),s.jsx("th",{children:"Team Leader"}),s.jsx("th",{children:"No. of Members"}),s.jsx("th",{children:"Assigned Tasks"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:Wze.map(p=>s.jsxs("tr",{children:[s.jsx("td",{children:p.id}),s.jsx("td",{children:p.name}),s.jsx("td",{children:p.leader}),s.jsx("td",{children:p.members}),s.jsx("td",{children:p.assignedTasks}),s.jsx("td",{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-ghost btn-square p-1",title:a?"":"View","aria-label":a?"":"View",children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),s.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),s.jsx("button",{className:"btn btn-ghost btn-square p-1",title:a?" ":"Assign Users","aria-label":a?" ":"Assign Users",children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"9",cy:"7",r:"4"}),s.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),s.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),s.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),s.jsx("line",{x1:"17",y1:"11",x2:"23",y2:"11"})]})}),s.jsx("button",{className:"btn btn-ghost btn-square p-1",title:a?" ":"Assign Tasks","aria-label":a?" ":"Assign Tasks",children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"9",y:"2",width:"6",height:"4",rx:"1",ry:"1"}),s.jsx("path",{d:"M9 2H7a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-2"}),s.jsx("line",{x1:"9",y1:"8",x2:"15",y2:"8"}),s.jsx("line",{x1:"9",y1:"12",x2:"15",y2:"12"}),s.jsx("line",{x1:"9",y1:"16",x2:"13",y2:"16"})]})})]})})]},p.id))})]}),s.jsxs("div",{className:"flex items-center gap-2 p-3",children:[s.jsx("button",{className:"btn btn-primary",children:a?"  ":"Add Team to Department"}),s.jsx("button",{className:"btn btn-ghost",children:a?" ":"Remove Team"})]})]}),r==="analytics"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:a?"  ":"Tickets closed"}),s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:a?"  Placeholder":"Charts placeholder"})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:a?"  ":"Average resolution time"}),s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:a?" Placeholder":"Charts placeholder"})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:a?" ":"Tasks completed"}),s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:a?" Placeholder":"KPIs placeholder"})]}),s.jsxs("div",{className:"glass-panel rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:a?"   ":"Workload by team"}),s.jsx("div",{className:"text-sm text-[var(--muted-text)]",children:a?" Placeholder":"Charts placeholder"})]})]})]})})}function yS({moduleKey:e}){return s.jsx(eA,{})}function Xze(){return s.jsx(eA,{})}function Jze(){return s.jsx(eA,{})}function Qze(){const{i18n:e}=Ct(),{user:t}=Bj();return s.jsx("div",{className:e.language==="ar"?"rtl":"ltr",children:s.jsxs(Ete,{children:[s.jsx(bt,{path:"/",element:s.jsx(WUe,{})}),s.jsx(bt,{path:"/login",element:s.jsx(zUe,{})}),s.jsx(bt,{path:"/subscription-expired",element:s.jsx(HUe,{})}),s.jsx(bt,{path:"/upgrade",element:s.jsx(VUe,{})}),s.jsx(bt,{path:"/pricing",element:s.jsx(qUe,{})}),s.jsx(bt,{path:"/about",element:s.jsx(lAe,{})}),s.jsx(bt,{path:"/privacy",element:s.jsx(rAe,{})}),s.jsx(bt,{path:"/terms",element:s.jsx(nAe,{})}),s.jsx(bt,{path:"/welcome/contact",element:s.jsx(iAe,{})}),s.jsxs(bt,{element:s.jsx(Xze,{}),children:[s.jsx(bt,{path:"/dashboard",element:s.jsx(cue,{})}),s.jsx(bt,{path:"/customers",element:s.jsx(due,{})}),s.jsxs(bt,{element:s.jsx(yS,{moduleKey:"leads"}),children:[s.jsx(bt,{path:"/leads",element:s.jsx(u2e,{})}),s.jsx(bt,{path:"/leads/new",element:s.jsx(p2e,{})}),s.jsx(bt,{path:"/leads/stages-status",element:s.jsx(UUe,{})}),s.jsx(bt,{path:"/recycle",element:s.jsx(f2e,{})})]}),s.jsx(bt,{path:"/inventory/projects",element:s.jsx(x2e,{})}),s.jsx(bt,{path:"/inventory/properties",element:s.jsx(_2e,{})}),s.jsx(bt,{path:"/inventory/requests",element:s.jsx(O2e,{})}),s.jsx(bt,{path:"/inventory/buyer-requests",element:s.jsx(R2e,{})}),s.jsx(bt,{path:"/inventory/seller-requests",element:s.jsx(F2e,{})}),s.jsx(bt,{path:"/inventory/dev-companies",element:s.jsx(I2e,{})}),s.jsxs(bt,{element:s.jsx(yS,{moduleKey:"campaigns"}),children:[s.jsx(bt,{path:"/marketing",element:s.jsx(z2e,{})}),s.jsx(bt,{path:"/marketing/campaigns",element:s.jsx(X6e,{})}),s.jsx(bt,{path:"/marketing/landing-pages",element:s.jsx(J6e,{})}),s.jsx(bt,{path:"/marketing/landing-pages/add",element:s.jsx(oAe,{})}),s.jsx(bt,{path:"/marketing/meta-integration",element:s.jsx(Q6e,{})}),s.jsx(bt,{path:"/marketing/reports",element:s.jsx(m9,{})}),s.jsx(bt,{path:"/marketing/reports/campaign-summary",element:s.jsx(m9,{})}),s.jsx(bt,{path:"/marketing/reports/lead-source-performance",element:s.jsx(eAe,{})}),s.jsx(bt,{path:"/marketing/reports/cost-vs-revenue",element:s.jsx(tAe,{})}),s.jsx(bt,{path:"/marketing/reports/monthly-overview",element:s.jsx(aAe,{})})]}),s.jsx(bt,{path:"/reports",element:s.jsx(vS,{})}),s.jsx(bt,{path:"/reports/overview",element:s.jsx(vS,{})}),s.jsx(bt,{path:"/reports/dashboard",element:s.jsx(vS,{})}),s.jsx(bt,{path:"/reports/sales",element:s.jsx(hAe,{})}),s.jsx(bt,{path:"/reports/sales/activities",element:s.jsx(PUe,{})}),s.jsx(bt,{path:"/reports/sales/pipeline",element:s.jsx(OUe,{})}),s.jsx(bt,{path:"/reports/sales/reservations",element:s.jsx(RUe,{})}),s.jsx(bt,{path:"/reports/sales/closed-deals",element:s.jsx(FUe,{})}),s.jsx(bt,{path:"/reports/sales/rent",element:s.jsx(IUe,{})}),s.jsx(bt,{path:"/reports/sales/check-in",element:s.jsx(BUe,{})}),s.jsx(bt,{path:"/reports/sales/customers",element:s.jsx($Ue,{})}),s.jsx(bt,{path:"/reports/sales/imports",element:s.jsx(MUe,{})}),s.jsx(bt,{path:"/reports/sales/exports",element:s.jsx(x$,{})}),s.jsx(bt,{path:"/exports",element:s.jsx(x$,{})}),s.jsx(bt,{path:"/reports/sales/meetings",element:s.jsx(DUe,{})}),s.jsx(bt,{path:"/reports/leads",element:s.jsx(EUe,{})}),s.jsx(bt,{path:"/reports/team",element:s.jsx(xS,{})}),s.jsx(bt,{path:"/reports/sms",element:s.jsx(p9,{titleKey:"Sms Report",descKey:"reports.sms.desc"})}),s.jsx(bt,{path:"/reports/calls",element:s.jsx(p9,{titleKey:"Calls Report",descKey:"reports.calls.desc"})}),s.jsx(bt,{path:"/reports/performance",element:s.jsx(xS,{})}),s.jsx(bt,{path:"/team-performance",element:s.jsx(xS,{})}),s.jsx(bt,{path:"/support",element:s.jsx(b$,{})}),s.jsx(bt,{path:"/support/dashboard",element:s.jsx(b$,{})}),s.jsx(bt,{path:"/support/tickets",element:s.jsx(rze,{})}),s.jsx(bt,{path:"/support/customers",element:s.jsx(nze,{})}),s.jsx(bt,{path:"/support/sla",element:s.jsx(ize,{})}),s.jsx(bt,{path:"/support/reports",element:s.jsx(lze,{})}),s.jsx(bt,{path:"/support/feedbacks",element:s.jsx(oze,{})}),s.jsxs(bt,{element:s.jsx(yS,{moduleKey:"settings"}),children:[s.jsx(bt,{path:"/settings",element:s.jsx(X7,{to:"/settings/profile",replace:!0})}),s.jsx(bt,{path:"/settings/profile",element:s.jsx(SCe,{})}),s.jsx(bt,{path:"/settings/profile/company",element:s.jsx(CCe,{})}),s.jsx(bt,{path:"/settings/profile/contact-info",element:s.jsx(DCe,{})}),s.jsx(bt,{path:"/settings/system/preferences",element:s.jsx(MCe,{})}),s.jsx(bt,{path:"/settings/system/modules",element:s.jsx(PCe,{})}),s.jsx(bt,{path:"/settings/system/security",element:s.jsx(LCe,{})}),s.jsx(bt,{path:"/settings/system/custom-fields",element:s.jsx(OCe,{})}),s.jsx(bt,{path:"/settings/system/audit-logs",element:s.jsx(RCe,{})}),s.jsx(bt,{path:"/settings/company-setup",element:s.jsx(X7,{to:"/settings/company-setup/info",replace:!0})}),s.jsx(bt,{path:"/settings/company-setup/info",element:s.jsx(y.Suspense,{fallback:s.jsx("div",{className:"p-4 text-sm",children:"Loading"}),children:s.jsx(Zze,{})})}),s.jsx(bt,{path:"/settings/company-setup/subscription",element:s.jsx(y.Suspense,{fallback:s.jsx("div",{className:"p-4 text-sm",children:"Loading"}),children:s.jsx(eHe,{})})}),s.jsx(bt,{path:"/settings/company-setup/modules",element:s.jsx(y.Suspense,{fallback:s.jsx("div",{className:"p-4 text-sm",children:"Loading"}),children:s.jsx(tHe,{})})}),s.jsx(bt,{path:"/settings/company-setup/departments",element:s.jsx(y.Suspense,{fallback:s.jsx("div",{className:"p-4 text-sm",children:"Loading"}),children:s.jsx(aHe,{})})}),s.jsx(bt,{path:"/settings/company-setup/visibility",element:s.jsx(y.Suspense,{fallback:s.jsx("div",{className:"p-4 text-sm",children:"Loading"}),children:s.jsx(sHe,{})})}),s.jsx(bt,{path:"/settings/notifications",element:s.jsx(FCe,{})}),s.jsx(bt,{path:"/settings/notifications/sms-templates",element:s.jsx(VCe,{})}),s.jsx(bt,{path:"/settings/notifications/email-templates",element:s.jsx(KCe,{})}),s.jsx(bt,{path:"/settings/notifications/whatsapp-templates",element:s.jsx(YCe,{})}),s.jsx(bt,{element:s.jsx(Jze,{}),children:s.jsx(bt,{path:"/settings/billing/subscription",element:s.jsx(XCe,{})})}),s.jsx(bt,{path:"/settings/billing/payment-history",element:s.jsx(JCe,{})}),s.jsx(bt,{path:"/settings/billing/plans-upgrade",element:s.jsx(QCe,{})}),s.jsx(bt,{path:"/settings/integrations/api-keys",element:s.jsx(ZCe,{})}),s.jsx(bt,{path:"/settings/integrations/webhooks",element:s.jsx(e6e,{})}),s.jsx(bt,{path:"/settings/integrations/whatsapp",element:s.jsx(r6e,{})}),s.jsx(bt,{path:"/settings/integrations/payment-gateway",element:s.jsx(n6e,{})}),s.jsx(bt,{path:"/settings/integrations/google-slack",element:s.jsx(i6e,{})}),s.jsx(bt,{path:"/settings/data/import",element:s.jsx(l6e,{})}),s.jsx(bt,{path:"/settings/data/export",element:s.jsx(o6e,{})}),s.jsx(bt,{path:"/settings/data/backup",element:s.jsx(c6e,{})}),s.jsx(bt,{path:"/settings/operations/scripting",element:s.jsx(h6e,{})}),s.jsx(bt,{path:"/settings/operations/eoi",element:s.jsx(p6e,{})}),s.jsx(bt,{path:"/settings/operations/reservation",element:s.jsx(v6e,{})}),s.jsx(bt,{path:"/settings/operations/rotation",element:s.jsx(b6e,{})}),s.jsx(bt,{path:"/settings/operations/contracts",element:s.jsx(j6e,{})}),s.jsx(bt,{path:"/settings/operations/buyer-request-reset",element:s.jsx(C6e,{})}),s.jsx(bt,{path:"/settings/operations/matching",element:s.jsx(P6e,{})}),s.jsx(bt,{path:"/settings/operations/rent",element:s.jsx($6e,{})}),s.jsx(bt,{path:"/settings/operations/cil",element:s.jsx(z6e,{})})]}),s.jsx(bt,{path:"/inventory/products",element:s.jsx(H6e,{})}),s.jsx(bt,{path:"/inventory/items",element:s.jsx(V6e,{})}),s.jsx(bt,{path:"/inventory/stock-management",element:s.jsx(W6e,{})}),s.jsx(bt,{path:"/inventory/transactions",element:s.jsx(q6e,{})}),s.jsx(bt,{path:"/inventory/warehouse",element:s.jsx(K6e,{})}),s.jsx(bt,{path:"/inventory/suppliers",element:s.jsx(G6e,{})}),s.jsx(bt,{path:"/sales/opportunities",element:s.jsx(KUe,{})}),s.jsx(bt,{path:"/sales/quotations",element:s.jsx(XUe,{})}),s.jsx(bt,{path:"/sales/orders",element:s.jsx(QUe,{})}),s.jsx(bt,{path:"/sales/orders/new",element:s.jsx(ZUe,{})}),s.jsx(bt,{path:"/sales/invoices",element:s.jsx(tze,{})}),s.jsx(bt,{path:"/user-management/users",element:s.jsx(fze,{})}),s.jsx(bt,{path:"/user-management/users/new",element:s.jsx(gze,{})}),s.jsx(bt,{path:"/user-management/users/:id",element:s.jsx(jze,{})}),s.jsx(bt,{path:"/user-management/teams",element:s.jsx(Pze,{})}),s.jsx(bt,{path:"/user-management/teams/new",element:s.jsx(Oze,{})}),s.jsx(bt,{path:"/user-management/teams/:id",element:s.jsx(Ize,{})}),s.jsx(bt,{path:"/user-management/departments",element:s.jsx(Bze,{})}),s.jsx(bt,{path:"/user-management/departments/new",element:s.jsx(Hze,{})}),s.jsx(bt,{path:"/user-management/departments/:id",element:s.jsx(Yze,{})}),s.jsx(bt,{path:"/user-management/roles",element:s.jsx(kze,{})}),s.jsx(bt,{path:"/user-management/roles/new",element:s.jsx(j$,{})}),s.jsx(bt,{path:"/user-management/roles/:id",element:s.jsx(j$,{})}),s.jsx(bt,{path:"/user-management/activity-logs",element:s.jsx(Tze,{})}),s.jsx(bt,{path:"/user-management/access-logs",element:s.jsx(Mze,{})}),s.jsx(bt,{path:"/contact",element:s.jsx(sAe,{})}),s.jsx(bt,{path:"/tasks",element:s.jsx(uAe,{})}),s.jsx(bt,{path:"/notifications",element:s.jsx(Sne,{})})]})]})})}const Zze=y.lazy(()=>bi(()=>import("./CompanyInfoPage-BPhVWoi6.js"),__vite__mapDeps([0,1]))),eHe=y.lazy(()=>bi(()=>import("./SubscriptionPage-CFUaMW0R.js"),__vite__mapDeps([2,1]))),tHe=y.lazy(()=>bi(()=>import("./ModulesPage-BmaiiH-i.js"),__vite__mapDeps([3,1]))),aHe=y.lazy(()=>bi(()=>import("./DepartmentsPage-hqLqYwrJ.js"),__vite__mapDeps([4,1]))),sHe=y.lazy(()=>bi(()=>import("./VisibilityPage-BkrEw5BS.js"),__vite__mapDeps([5,1]))),rHe=y.createContext({show:()=>{}}),nHe=({children:e})=>{const[t,a]=y.useState([]),r=y.useCallback(i=>{const l=Math.random().toString(36).slice(2),o={id:l,type:i?.type||"info",message:i?.message||""};a(c=>[...c,o]),setTimeout(()=>{a(c=>c.filter(d=>d.id!==l))},3500)},[]);y.useEffect(()=>{const i=l=>r(l.detail);return window.addEventListener("app:toast",i),()=>window.removeEventListener("app:toast",i)},[r]);const n=y.useMemo(()=>({show:r}),[r]);return s.jsxs(rHe.Provider,{value:n,children:[e,s.jsx("div",{className:"fixed bottom-4 right-4 space-y-2 z-50",children:t.map(i=>s.jsx("div",{className:`${i.type==="error"?"bg-red-600":i.type==="success"?"bg-green-600":"bg-slate-700"} text-white px-4 py-2 rounded shadow`,children:i.message},i.id))})]})};class iHe extends Bn.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,a){try{const r=new CustomEvent("app:toast",{detail:{type:"error",message:t?.message||"Unexpected error"}});window.dispatchEvent(r)}catch{}}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"p-6 rounded-lg border bg-white/80 dark:bg-neutral-900",children:s.jsx("div",{className:"text-red-600 font-semibold",children:"Something went wrong"})})}):this.props.children}}const yb=e=>new Promise(t=>setTimeout(t,e));async function lHe(){return await yb(250),{companyInfo:{companyName:"Be Souhola",industry:"Real Estate",address:"123 Example St, Cairo",phone:"+20 111 222 3333",logoUrl:""},subscription:{plan:"Pro",features:["settings","leads","clients","deals","reservations","contracts","operations","matching","billing","reports","notifications","integrations"]},enabledModules:["settings","leads","clients","deals","reservations","contracts","operations","matching","billing","reports","notifications","integrations"],departments:[{id:"dept-sales",name:"Sales",role:"Sales",users:12},{id:"dept-ops",name:"Operations",role:"Ops",users:9},{id:"dept-fin",name:"Finance",role:"Finance",users:5}],visibility:{Sales:["settings","leads","deals","reports"],Operations:["settings","contracts","matching","reservations","operations"],Finance:["settings","billing","contracts","reports"]}}}async function oHe(e){return await yb(200),{status:200,data:{ok:!0,companyInfo:e}}}async function cHe(e){return await yb(200),{status:200,data:{ok:!0,enabledModules:e}}}async function _$(e){return await yb(200),{status:200,data:{ok:!0,departments:e}}}async function dHe(e){return await yb(200),{status:200,data:{ok:!0,visibility:e}}}const JQ=y.createContext(null);function uHe({children:e}){const[t,a]=y.useState({companyName:"",industry:"",address:"",phone:"",logoUrl:""}),[r,n]=y.useState({plan:"Free",features:[]}),[i,l]=y.useState([]),[o,c]=y.useState([]),[d,u]=y.useState({}),[f,p]=y.useState(!1),m=y.useMemo(()=>({modules:i,departments:d}),[i,d]),v=y.useCallback(async S=>{a(C=>({...C,...S}));try{await oHe(S)}catch{}},[]),g=y.useCallback(async S=>{l(C=>C.includes(S)?C.filter(L=>L!==S):[...C,S]);try{await cHe(i)}catch{}},[i]),b=y.useCallback(async S=>{c(C=>[...C,{...S,id:S.id||`dept-${Date.now()}`}]);try{await _$(o)}catch{}},[o]),j=y.useCallback(async(S,C)=>{c(_=>_.map(P=>P.id===S?{...P,...C}:P));try{await _$(o)}catch{}},[o]),N=y.useCallback(async S=>{u(S);try{await dHe(S)}catch{}},[]);y.useEffect(()=>{let S=!0;return(async()=>{p(!0);try{const C=await lHe();if(!S)return;a(C.companyInfo||{}),n(C.subscription||{plan:"Free",features:[]}),l(Array.isArray(C.enabledModules)?C.enabledModules:[]),c(Array.isArray(C.departments)?C.departments:[]),u(C.visibility||{})}finally{S&&p(!1)}})(),()=>{S=!1}},[]);const k=y.useMemo(()=>({companySetup:{companyInfo:t,subscription:r,enabledModules:i,departments:o,visibility:d},permissions:m,loading:f,updateCompanyInfo:v,toggleModule:g,addDepartment:b,updateDepartment:j,updateVisibility:N}),[t,r,i,o,d,m,f,v,g,b,j,N]);return s.jsx(JQ.Provider,{value:k,children:e})}function nVe(){const e=y.useContext(JQ);if(!e)throw new Error("useCompanySetup must be used within CompanySetupProvider");return e}Cs.register(...Bde);try{if(typeof window<"u"&&window.localStorage){const e=window.localStorage.getItem("systemPrefs");if(e){const t=JSON.parse(e);t&&(Cs.defaults.elements=Cs.defaults.elements||{},Cs.defaults.elements.bar={...Cs.defaults.elements.bar||{},borderRadius:t.chartsRounded?6:0},Cs.defaults.scales={...Cs.defaults.scales||{},x:{...Cs.defaults.scales?.x||{},stacked:!!t.chartsStacked},y:{...Cs.defaults.scales?.y||{},stacked:!!t.chartsStacked}})}}}catch{}const hHe=new Ree;dee.createRoot(document.getElementById("root")).render(s.jsx(y.StrictMode,{children:s.jsx(Cae,{i18n:$r,children:s.jsx(Iee,{client:hHe,children:s.jsx(eae,{children:s.jsx(nHe,{children:s.jsx(Ore,{children:s.jsx(Mre,{children:s.jsx(uHe,{children:s.jsx(iHe,{children:s.jsx(Qze,{})})})})})})})})})}));export{Ht as L,Gs as _,fHe as c,xh as g,s as j,y as r,nVe as u};
//# sourceMappingURL=index-CL13jT--.js.map
